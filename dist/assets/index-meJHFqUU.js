var J4=Object.defineProperty;var W4=(e,t,n)=>t in e?J4(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Ii=(e,t,n)=>W4(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var eS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ef(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var C0={exports:{}},nh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lw;function tS(){if(lw)return nh;lw=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,s){var c=null;if(s!==void 0&&(c=""+s),i.key!==void 0&&(c=""+i.key),"key"in i){s={};for(var d in i)d!=="key"&&(s[d]=i[d])}else s=i;return i=s.ref,{$$typeof:e,type:r,key:c,ref:i!==void 0?i:null,props:s}}return nh.Fragment=t,nh.jsx=n,nh.jsxs=n,nh}var Aw;function nS(){return Aw||(Aw=1,C0.exports=tS()),C0.exports}var o=nS(),N0={exports:{}},_r={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cw;function rS(){if(cw)return _r;cw=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),E=Symbol.iterator;function w(te){return te===null||typeof te!="object"?null:(te=E&&te[E]||te["@@iterator"],typeof te=="function"?te:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,F={};function S(te,P,ie){this.props=te,this.context=P,this.refs=F,this.updater=ie||I}S.prototype.isReactComponent={},S.prototype.setState=function(te,P){if(typeof te!="object"&&typeof te!="function"&&te!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,te,P,"setState")},S.prototype.forceUpdate=function(te){this.updater.enqueueForceUpdate(this,te,"forceUpdate")};function z(){}z.prototype=S.prototype;function D(te,P,ie){this.props=te,this.context=P,this.refs=F,this.updater=ie||I}var G=D.prototype=new z;G.constructor=D,j(G,S.prototype),G.isPureReactComponent=!0;var ce=Array.isArray;function Y(){}var ge={H:null,A:null,T:null,S:null},re=Object.prototype.hasOwnProperty;function M(te,P,ie){var O=ie.ref;return{$$typeof:e,type:te,key:P,ref:O!==void 0?O:null,props:ie}}function X(te,P){return M(te.type,P,te.props)}function V(te){return typeof te=="object"&&te!==null&&te.$$typeof===e}function W(te){var P={"=":"=0",":":"=2"};return"$"+te.replace(/[=:]/g,function(ie){return P[ie]})}var oe=/\/+/g;function me(te,P){return typeof te=="object"&&te!==null&&te.key!=null?W(""+te.key):P.toString(36)}function ye(te){switch(te.status){case"fulfilled":return te.value;case"rejected":throw te.reason;default:switch(typeof te.status=="string"?te.then(Y,Y):(te.status="pending",te.then(function(P){te.status==="pending"&&(te.status="fulfilled",te.value=P)},function(P){te.status==="pending"&&(te.status="rejected",te.reason=P)})),te.status){case"fulfilled":return te.value;case"rejected":throw te.reason}}throw te}function se(te,P,ie,O,ae){var ue=typeof te;(ue==="undefined"||ue==="boolean")&&(te=null);var je=!1;if(te===null)je=!0;else switch(ue){case"bigint":case"string":case"number":je=!0;break;case"object":switch(te.$$typeof){case e:case t:je=!0;break;case g:return je=te._init,se(je(te._payload),P,ie,O,ae)}}if(je)return ae=ae(te),je=O===""?"."+me(te,0):O,ce(ae)?(ie="",je!=null&&(ie=je.replace(oe,"$&/")+"/"),se(ae,P,ie,"",function(lt){return lt})):ae!=null&&(V(ae)&&(ae=X(ae,ie+(ae.key==null||te&&te.key===ae.key?"":(""+ae.key).replace(oe,"$&/")+"/")+je)),P.push(ae)),1;je=0;var Ve=O===""?".":O+":";if(ce(te))for(var Ie=0;Ie<te.length;Ie++)O=te[Ie],ue=Ve+me(O,Ie),je+=se(O,P,ie,ue,ae);else if(Ie=w(te),typeof Ie=="function")for(te=Ie.call(te),Ie=0;!(O=te.next()).done;)O=O.value,ue=Ve+me(O,Ie++),je+=se(O,P,ie,ue,ae);else if(ue==="object"){if(typeof te.then=="function")return se(ye(te),P,ie,O,ae);throw P=String(te),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(te).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.")}return je}function _e(te,P,ie){if(te==null)return te;var O=[],ae=0;return se(te,O,"","",function(ue){return P.call(ie,ue,ae++)}),O}function Z(te){if(te._status===-1){var P=te._result;P=P(),P.then(function(ie){(te._status===0||te._status===-1)&&(te._status=1,te._result=ie)},function(ie){(te._status===0||te._status===-1)&&(te._status=2,te._result=ie)}),te._status===-1&&(te._status=0,te._result=P)}if(te._status===1)return te._result.default;throw te._result}var Ce=typeof reportError=="function"?reportError:function(te){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var P=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof te=="object"&&te!==null&&typeof te.message=="string"?String(te.message):String(te),error:te});if(!window.dispatchEvent(P))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",te);return}console.error(te)},Se={map:_e,forEach:function(te,P,ie){_e(te,function(){P.apply(this,arguments)},ie)},count:function(te){var P=0;return _e(te,function(){P++}),P},toArray:function(te){return _e(te,function(P){return P})||[]},only:function(te){if(!V(te))throw Error("React.Children.only expected to receive a single React element child.");return te}};return _r.Activity=x,_r.Children=Se,_r.Component=S,_r.Fragment=n,_r.Profiler=i,_r.PureComponent=D,_r.StrictMode=r,_r.Suspense=h,_r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ge,_r.__COMPILER_RUNTIME={__proto__:null,c:function(te){return ge.H.useMemoCache(te)}},_r.cache=function(te){return function(){return te.apply(null,arguments)}},_r.cacheSignal=function(){return null},_r.cloneElement=function(te,P,ie){if(te==null)throw Error("The argument must be a React element, but you passed "+te+".");var O=j({},te.props),ae=te.key;if(P!=null)for(ue in P.key!==void 0&&(ae=""+P.key),P)!re.call(P,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&P.ref===void 0||(O[ue]=P[ue]);var ue=arguments.length-2;if(ue===1)O.children=ie;else if(1<ue){for(var je=Array(ue),Ve=0;Ve<ue;Ve++)je[Ve]=arguments[Ve+2];O.children=je}return M(te.type,ae,O)},_r.createContext=function(te){return te={$$typeof:c,_currentValue:te,_currentValue2:te,_threadCount:0,Provider:null,Consumer:null},te.Provider=te,te.Consumer={$$typeof:s,_context:te},te},_r.createElement=function(te,P,ie){var O,ae={},ue=null;if(P!=null)for(O in P.key!==void 0&&(ue=""+P.key),P)re.call(P,O)&&O!=="key"&&O!=="__self"&&O!=="__source"&&(ae[O]=P[O]);var je=arguments.length-2;if(je===1)ae.children=ie;else if(1<je){for(var Ve=Array(je),Ie=0;Ie<je;Ie++)Ve[Ie]=arguments[Ie+2];ae.children=Ve}if(te&&te.defaultProps)for(O in je=te.defaultProps,je)ae[O]===void 0&&(ae[O]=je[O]);return M(te,ue,ae)},_r.createRef=function(){return{current:null}},_r.forwardRef=function(te){return{$$typeof:d,render:te}},_r.isValidElement=V,_r.lazy=function(te){return{$$typeof:g,_payload:{_status:-1,_result:te},_init:Z}},_r.memo=function(te,P){return{$$typeof:f,type:te,compare:P===void 0?null:P}},_r.startTransition=function(te){var P=ge.T,ie={};ge.T=ie;try{var O=te(),ae=ge.S;ae!==null&&ae(ie,O),typeof O=="object"&&O!==null&&typeof O.then=="function"&&O.then(Y,Ce)}catch(ue){Ce(ue)}finally{P!==null&&ie.types!==null&&(P.types=ie.types),ge.T=P}},_r.unstable_useCacheRefresh=function(){return ge.H.useCacheRefresh()},_r.use=function(te){return ge.H.use(te)},_r.useActionState=function(te,P,ie){return ge.H.useActionState(te,P,ie)},_r.useCallback=function(te,P){return ge.H.useCallback(te,P)},_r.useContext=function(te){return ge.H.useContext(te)},_r.useDebugValue=function(){},_r.useDeferredValue=function(te,P){return ge.H.useDeferredValue(te,P)},_r.useEffect=function(te,P){return ge.H.useEffect(te,P)},_r.useEffectEvent=function(te){return ge.H.useEffectEvent(te)},_r.useId=function(){return ge.H.useId()},_r.useImperativeHandle=function(te,P,ie){return ge.H.useImperativeHandle(te,P,ie)},_r.useInsertionEffect=function(te,P){return ge.H.useInsertionEffect(te,P)},_r.useLayoutEffect=function(te,P){return ge.H.useLayoutEffect(te,P)},_r.useMemo=function(te,P){return ge.H.useMemo(te,P)},_r.useOptimistic=function(te,P){return ge.H.useOptimistic(te,P)},_r.useReducer=function(te,P,ie){return ge.H.useReducer(te,P,ie)},_r.useRef=function(te){return ge.H.useRef(te)},_r.useState=function(te){return ge.H.useState(te)},_r.useSyncExternalStore=function(te,P,ie){return ge.H.useSyncExternalStore(te,P,ie)},_r.useTransition=function(){return ge.H.useTransition()},_r.version="19.2.3",_r}var uw;function sb(){return uw||(uw=1,N0.exports=rS()),N0.exports}var $=sb();const bl=ef($);var E0={exports:{}},rh={},S0={exports:{}},L0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dw;function iS(){return dw||(dw=1,(function(e){function t(se,_e){var Z=se.length;se.push(_e);e:for(;0<Z;){var Ce=Z-1>>>1,Se=se[Ce];if(0<i(Se,_e))se[Ce]=_e,se[Z]=Se,Z=Ce;else break e}}function n(se){return se.length===0?null:se[0]}function r(se){if(se.length===0)return null;var _e=se[0],Z=se.pop();if(Z!==_e){se[0]=Z;e:for(var Ce=0,Se=se.length,te=Se>>>1;Ce<te;){var P=2*(Ce+1)-1,ie=se[P],O=P+1,ae=se[O];if(0>i(ie,Z))O<Se&&0>i(ae,ie)?(se[Ce]=ae,se[O]=Z,Ce=O):(se[Ce]=ie,se[P]=Z,Ce=P);else if(O<Se&&0>i(ae,Z))se[Ce]=ae,se[O]=Z,Ce=O;else break e}}return _e}function i(se,_e){var Z=se.sortIndex-_e.sortIndex;return Z!==0?Z:se.id-_e.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var h=[],f=[],g=1,x=null,E=3,w=!1,I=!1,j=!1,F=!1,S=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function G(se){for(var _e=n(f);_e!==null;){if(_e.callback===null)r(f);else if(_e.startTime<=se)r(f),_e.sortIndex=_e.expirationTime,t(h,_e);else break;_e=n(f)}}function ce(se){if(j=!1,G(se),!I)if(n(h)!==null)I=!0,Y||(Y=!0,W());else{var _e=n(f);_e!==null&&ye(ce,_e.startTime-se)}}var Y=!1,ge=-1,re=5,M=-1;function X(){return F?!0:!(e.unstable_now()-M<re)}function V(){if(F=!1,Y){var se=e.unstable_now();M=se;var _e=!0;try{e:{I=!1,j&&(j=!1,z(ge),ge=-1),w=!0;var Z=E;try{t:{for(G(se),x=n(h);x!==null&&!(x.expirationTime>se&&X());){var Ce=x.callback;if(typeof Ce=="function"){x.callback=null,E=x.priorityLevel;var Se=Ce(x.expirationTime<=se);if(se=e.unstable_now(),typeof Se=="function"){x.callback=Se,G(se),_e=!0;break t}x===n(h)&&r(h),G(se)}else r(h);x=n(h)}if(x!==null)_e=!0;else{var te=n(f);te!==null&&ye(ce,te.startTime-se),_e=!1}}break e}finally{x=null,E=Z,w=!1}_e=void 0}}finally{_e?W():Y=!1}}}var W;if(typeof D=="function")W=function(){D(V)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,me=oe.port2;oe.port1.onmessage=V,W=function(){me.postMessage(null)}}else W=function(){S(V,0)};function ye(se,_e){ge=S(function(){se(e.unstable_now())},_e)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(se){se.callback=null},e.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):re=0<se?Math.floor(1e3/se):5},e.unstable_getCurrentPriorityLevel=function(){return E},e.unstable_next=function(se){switch(E){case 1:case 2:case 3:var _e=3;break;default:_e=E}var Z=E;E=_e;try{return se()}finally{E=Z}},e.unstable_requestPaint=function(){F=!0},e.unstable_runWithPriority=function(se,_e){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var Z=E;E=se;try{return _e()}finally{E=Z}},e.unstable_scheduleCallback=function(se,_e,Z){var Ce=e.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?Ce+Z:Ce):Z=Ce,se){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=1073741823;break;case 4:Se=1e4;break;default:Se=5e3}return Se=Z+Se,se={id:g++,callback:_e,priorityLevel:se,startTime:Z,expirationTime:Se,sortIndex:-1},Z>Ce?(se.sortIndex=Z,t(f,se),n(h)===null&&se===n(f)&&(j?(z(ge),ge=-1):j=!0,ye(ce,Z-Ce))):(se.sortIndex=Se,t(h,se),I||w||(I=!0,Y||(Y=!0,W()))),se},e.unstable_shouldYield=X,e.unstable_wrapCallback=function(se){var _e=E;return function(){var Z=E;E=_e;try{return se.apply(this,arguments)}finally{E=Z}}}})(L0)),L0}var hw;function aS(){return hw||(hw=1,S0.exports=iS()),S0.exports}var j0={exports:{}},po={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fw;function sS(){if(fw)return po;fw=1;var e=sb();function t(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(h,f,g){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:x==null?null:""+x,children:h,containerInfo:f,implementation:g}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return po.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,po.createPortal=function(h,f){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return s(h,f,null,g)},po.flushSync=function(h){var f=c.T,g=r.p;try{if(c.T=null,r.p=2,h)return h()}finally{c.T=f,r.p=g,r.d.f()}},po.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(h,f))},po.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},po.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var g=f.as,x=d(g,f.crossOrigin),E=typeof f.integrity=="string"?f.integrity:void 0,w=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;g==="style"?r.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:x,integrity:E,fetchPriority:w}):g==="script"&&r.d.X(h,{crossOrigin:x,integrity:E,fetchPriority:w,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},po.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var g=d(f.as,f.crossOrigin);r.d.M(h,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(h)},po.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var g=f.as,x=d(g,f.crossOrigin);r.d.L(h,g,{crossOrigin:x,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},po.preloadModule=function(h,f){if(typeof h=="string")if(f){var g=d(f.as,f.crossOrigin);r.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(h)},po.requestFormReset=function(h){r.d.r(h)},po.unstable_batchedUpdates=function(h,f){return h(f)},po.useFormState=function(h,f,g){return c.H.useFormState(h,f,g)},po.useFormStatus=function(){return c.H.useHostTransitionStatus()},po.version="19.2.3",po}var pw;function m5(){if(pw)return j0.exports;pw=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),j0.exports=sS(),j0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mw;function oS(){if(mw)return rh;mw=1;var e=aS(),t=sb(),n=m5();function r(a){var l="https://react.dev/errors/"+a;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)l+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var l=a,u=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(u=l.return),a=l.return;while(a)}return l.tag===3?u:null}function c(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function d(a){if(a.tag===31){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function h(a){if(s(a)!==a)throw Error(r(188))}function f(a){var l=a.alternate;if(!l){if(l=s(a),l===null)throw Error(r(188));return l!==a?null:a}for(var u=a,m=l;;){var _=u.return;if(_===null)break;var N=_.alternate;if(N===null){if(m=_.return,m!==null){u=m;continue}break}if(_.child===N.child){for(N=_.child;N;){if(N===u)return h(_),a;if(N===m)return h(_),l;N=N.sibling}throw Error(r(188))}if(u.return!==m.return)u=_,m=N;else{for(var K=!1,pe=_.child;pe;){if(pe===u){K=!0,u=_,m=N;break}if(pe===m){K=!0,m=_,u=N;break}pe=pe.sibling}if(!K){for(pe=N.child;pe;){if(pe===u){K=!0,u=N,m=_;break}if(pe===m){K=!0,m=N,u=_;break}pe=pe.sibling}if(!K)throw Error(r(189))}}if(u.alternate!==m)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?a:l}function g(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a;for(a=a.child;a!==null;){if(l=g(a),l!==null)return l;a=a.sibling}return null}var x=Object.assign,E=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),z=Symbol.for("react.consumer"),D=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),ge=Symbol.for("react.memo"),re=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),X=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function W(a){return a===null||typeof a!="object"?null:(a=V&&a[V]||a["@@iterator"],typeof a=="function"?a:null)}var oe=Symbol.for("react.client.reference");function me(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===oe?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case j:return"Fragment";case S:return"Profiler";case F:return"StrictMode";case ce:return"Suspense";case Y:return"SuspenseList";case M:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case I:return"Portal";case D:return a.displayName||"Context";case z:return(a._context.displayName||"Context")+".Consumer";case G:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case ge:return l=a.displayName||null,l!==null?l:me(a.type)||"Memo";case re:l=a._payload,a=a._init;try{return me(a(l))}catch{}}return null}var ye=Array.isArray,se=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_e=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},Ce=[],Se=-1;function te(a){return{current:a}}function P(a){0>Se||(a.current=Ce[Se],Ce[Se]=null,Se--)}function ie(a,l){Se++,Ce[Se]=a.current,a.current=l}var O=te(null),ae=te(null),ue=te(null),je=te(null);function Ve(a,l){switch(ie(ue,l),ie(ae,a),ie(O,null),l.nodeType){case 9:case 11:a=(a=l.documentElement)&&(a=a.namespaceURI)?k_(a):0;break;default:if(a=l.tagName,l=l.namespaceURI)l=k_(l),a=U_(l,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}P(O),ie(O,a)}function Ie(){P(O),P(ae),P(ue)}function lt(a){a.memoizedState!==null&&ie(je,a);var l=O.current,u=U_(l,a.type);l!==u&&(ie(ae,a),ie(O,u))}function wt(a){ae.current===a&&(P(O),P(ae)),je.current===a&&(P(je),Jd._currentValue=Z)}var Xe,$t;function on(a){if(Xe===void 0)try{throw Error()}catch(u){var l=u.stack.trim().match(/\n( *(at )?)/);Xe=l&&l[1]||"",$t=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xe+a+$t}var xe=!1;function Ot(a,l){if(!a||xe)return"";xe=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(l){var Dt=function(){throw Error()};if(Object.defineProperty(Dt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Dt,[])}catch(vt){var ht=vt}Reflect.construct(a,[],Dt)}else{try{Dt.call()}catch(vt){ht=vt}a.call(Dt.prototype)}}else{try{throw Error()}catch(vt){ht=vt}(Dt=a())&&typeof Dt.catch=="function"&&Dt.catch(function(){})}}catch(vt){if(vt&&ht&&typeof vt.stack=="string")return[vt.stack,ht.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var _=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");_&&_.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=m.DetermineComponentFrameRoot(),K=N[0],pe=N[1];if(K&&pe){var Qe=K.split(`
`),ct=pe.split(`
`);for(_=m=0;m<Qe.length&&!Qe[m].includes("DetermineComponentFrameRoot");)m++;for(;_<ct.length&&!ct[_].includes("DetermineComponentFrameRoot");)_++;if(m===Qe.length||_===ct.length)for(m=Qe.length-1,_=ct.length-1;1<=m&&0<=_&&Qe[m]!==ct[_];)_--;for(;1<=m&&0<=_;m--,_--)if(Qe[m]!==ct[_]){if(m!==1||_!==1)do if(m--,_--,0>_||Qe[m]!==ct[_]){var Nt=`
`+Qe[m].replace(" at new "," at ");return a.displayName&&Nt.includes("<anonymous>")&&(Nt=Nt.replace("<anonymous>",a.displayName)),Nt}while(1<=m&&0<=_);break}}}finally{xe=!1,Error.prepareStackTrace=u}return(u=a?a.displayName||a.name:"")?on(u):""}function rn(a,l){switch(a.tag){case 26:case 27:case 5:return on(a.type);case 16:return on("Lazy");case 13:return a.child!==l&&l!==null?on("Suspense Fallback"):on("Suspense");case 19:return on("SuspenseList");case 0:case 15:return Ot(a.type,!1);case 11:return Ot(a.type.render,!1);case 1:return Ot(a.type,!0);case 31:return on("Activity");default:return""}}function dn(a){try{var l="",u=null;do l+=rn(a,u),u=a,a=a.return;while(a);return l}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var xt=Object.prototype.hasOwnProperty,nn=e.unstable_scheduleCallback,Vt=e.unstable_cancelCallback,un=e.unstable_shouldYield,hn=e.unstable_requestPaint,jn=e.unstable_now,Mn=e.unstable_getCurrentPriorityLevel,_n=e.unstable_ImmediatePriority,En=e.unstable_UserBlockingPriority,Tn=e.unstable_NormalPriority,cn=e.unstable_LowPriority,mn=e.unstable_IdlePriority,en=e.log,Fe=e.unstable_setDisableYieldValue,yt=null,jt=null;function dt(a){if(typeof en=="function"&&Fe(a),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(yt,a)}catch{}}var Rt=Math.clz32?Math.clz32:bt,Ht=Math.log,Qn=Math.LN2;function bt(a){return a>>>=0,a===0?32:31-(Ht(a)/Qn|0)|0}var kn=256,jr=262144,Hn=4194304;function wn(a){var l=a&42;if(l!==0)return l;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function cr(a,l,u){var m=a.pendingLanes;if(m===0)return 0;var _=0,N=a.suspendedLanes,K=a.pingedLanes;a=a.warmLanes;var pe=m&134217727;return pe!==0?(m=pe&~N,m!==0?_=wn(m):(K&=pe,K!==0?_=wn(K):u||(u=pe&~a,u!==0&&(_=wn(u))))):(pe=m&~N,pe!==0?_=wn(pe):K!==0?_=wn(K):u||(u=m&~a,u!==0&&(_=wn(u)))),_===0?0:l!==0&&l!==_&&(l&N)===0&&(N=_&-_,u=l&-l,N>=u||N===32&&(u&4194048)!==0)?l:_}function qi(a,l){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&l)===0}function Fi(a,l){switch(a){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ci(){var a=Hn;return Hn<<=1,(Hn&62914560)===0&&(Hn=4194304),a}function Kr(a){for(var l=[],u=0;31>u;u++)l.push(a);return l}function fn(a,l){a.pendingLanes|=l,l!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Xi(a,l,u,m,_,N){var K=a.pendingLanes;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=u,a.entangledLanes&=u,a.errorRecoveryDisabledLanes&=u,a.shellSuspendCounter=0;var pe=a.entanglements,Qe=a.expirationTimes,ct=a.hiddenUpdates;for(u=K&~u;0<u;){var Nt=31-Rt(u),Dt=1<<Nt;pe[Nt]=0,Qe[Nt]=-1;var ht=ct[Nt];if(ht!==null)for(ct[Nt]=null,Nt=0;Nt<ht.length;Nt++){var vt=ht[Nt];vt!==null&&(vt.lane&=-536870913)}u&=~Dt}m!==0&&Yn(a,m,0),N!==0&&_===0&&a.tag!==0&&(a.suspendedLanes|=N&~(K&~l))}function Yn(a,l,u){a.pendingLanes|=l,a.suspendedLanes&=~l;var m=31-Rt(l);a.entangledLanes|=l,a.entanglements[m]=a.entanglements[m]|1073741824|u&261930}function Xn(a,l){var u=a.entangledLanes|=l;for(a=a.entanglements;u;){var m=31-Rt(u),_=1<<m;_&l|a[m]&l&&(a[m]|=l),u&=~_}}function Oi(a,l){var u=l&-l;return u=(u&42)!==0?1:ze(u),(u&(a.suspendedLanes|l))!==0?0:u}function ze(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function st(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function gn(){var a=_e.p;return a!==0?a:(a=window.event,a===void 0?32:tw(a.type))}function ur(a,l){var u=_e.p;try{return _e.p=a,l()}finally{_e.p=u}}var Kn=Math.random().toString(36).slice(2),Wn="__reactFiber$"+Kn,Ar="__reactProps$"+Kn,Jr="__reactContainer$"+Kn,kr="__reactEvents$"+Kn,Yr="__reactListeners$"+Kn,Wr="__reactHandles$"+Kn,bi="__reactResources$"+Kn,Jn="__reactMarker$"+Kn;function ba(a){delete a[Wn],delete a[Ar],delete a[kr],delete a[Yr],delete a[Wr]}function gr(a){var l=a[Wn];if(l)return l;for(var u=a.parentNode;u;){if(l=u[Jr]||u[Wn]){if(u=l.alternate,l.child!==null||u!==null&&u.child!==null)for(a=M_(a);a!==null;){if(u=a[Wn])return u;a=M_(a)}return l}a=u,u=a.parentNode}return null}function Bi(a){if(a=a[Wn]||a[Jr]){var l=a.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return a}return null}function le(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a.stateNode;throw Error(r(33))}function Lt(a){var l=a[bi];return l||(l=a[bi]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Qt(a){a[Jn]=!0}var Et=new Set,sn={};function Bn(a,l){ke(a,l),ke(a+"Capture",l)}function ke(a,l){for(sn[a]=l,a=0;a<l.length;a++)Et.add(l[a])}var gt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tn={},Yt={};function Xt(a){return xt.call(Yt,a)?!0:xt.call(tn,a)?!1:gt.test(a)?Yt[a]=!0:(tn[a]=!0,!1)}function kt(a,l,u){if(Xt(l))if(u===null)a.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":a.removeAttribute(l);return;case"boolean":var m=l.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){a.removeAttribute(l);return}}a.setAttribute(l,""+u)}}function Pt(a,l,u){if(u===null)a.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(l);return}a.setAttribute(l,""+u)}}function ir(a,l,u,m){if(m===null)a.removeAttribute(u);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttributeNS(l,u,""+m)}}function Jt(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Pr(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Qi(a,l,u){var m=Object.getOwnPropertyDescriptor(a.constructor.prototype,l);if(!a.hasOwnProperty(l)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var _=m.get,N=m.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return _.call(this)},set:function(K){u=""+K,N.call(this,K)}}),Object.defineProperty(a,l,{enumerable:m.enumerable}),{getValue:function(){return u},setValue:function(K){u=""+K},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function Cn(a){if(!a._valueTracker){var l=Pr(a)?"checked":"value";a._valueTracker=Qi(a,l,""+a[l])}}function Dn(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var u=l.getValue(),m="";return a&&(m=Pr(a)?a.checked?"true":"false":a.value),a=m,a!==u?(l.setValue(a),!0):!1}function Br(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var vr=/[\n"\\]/g;function mr(a){return a.replace(vr,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function xs(a,l,u,m,_,N,K,pe){a.name="",K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"?a.type=K:a.removeAttribute("type"),l!=null?K==="number"?(l===0&&a.value===""||a.value!=l)&&(a.value=""+Jt(l)):a.value!==""+Jt(l)&&(a.value=""+Jt(l)):K!=="submit"&&K!=="reset"||a.removeAttribute("value"),l!=null?ui(a,K,Jt(l)):u!=null?ui(a,K,Jt(u)):m!=null&&a.removeAttribute("value"),_==null&&N!=null&&(a.defaultChecked=!!N),_!=null&&(a.checked=_&&typeof _!="function"&&typeof _!="symbol"),pe!=null&&typeof pe!="function"&&typeof pe!="symbol"&&typeof pe!="boolean"?a.name=""+Jt(pe):a.removeAttribute("name")}function ei(a,l,u,m,_,N,K,pe){if(N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(a.type=N),l!=null||u!=null){if(!(N!=="submit"&&N!=="reset"||l!=null)){Cn(a);return}u=u!=null?""+Jt(u):"",l=l!=null?""+Jt(l):u,pe||l===a.value||(a.value=l),a.defaultValue=l}m=m??_,m=typeof m!="function"&&typeof m!="symbol"&&!!m,a.checked=pe?a.checked:!!m,a.defaultChecked=!!m,K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"&&(a.name=K),Cn(a)}function ui(a,l,u){l==="number"&&Br(a.ownerDocument)===a||a.defaultValue===""+u||(a.defaultValue=""+u)}function dr(a,l,u,m){if(a=a.options,l){l={};for(var _=0;_<u.length;_++)l["$"+u[_]]=!0;for(u=0;u<a.length;u++)_=l.hasOwnProperty("$"+a[u].value),a[u].selected!==_&&(a[u].selected=_),_&&m&&(a[u].defaultSelected=!0)}else{for(u=""+Jt(u),l=null,_=0;_<a.length;_++){if(a[_].value===u){a[_].selected=!0,m&&(a[_].defaultSelected=!0);return}l!==null||a[_].disabled||(l=a[_])}l!==null&&(l.selected=!0)}}function za(a,l,u){if(l!=null&&(l=""+Jt(l),l!==a.value&&(a.value=l),u==null)){a.defaultValue!==l&&(a.defaultValue=l);return}a.defaultValue=u!=null?""+Jt(u):""}function lo(a,l,u,m){if(l==null){if(m!=null){if(u!=null)throw Error(r(92));if(ye(m)){if(1<m.length)throw Error(r(93));m=m[0]}u=m}u==null&&(u=""),l=u}u=Jt(l),a.defaultValue=u,m=a.textContent,m===u&&m!==""&&m!==null&&(a.value=m),Cn(a)}function er(a,l){if(l){var u=a.firstChild;if(u&&u===a.lastChild&&u.nodeType===3){u.nodeValue=l;return}}a.textContent=l}var qs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Uo(a,l,u){var m=l.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?m?a.setProperty(l,""):l==="float"?a.cssFloat="":a[l]="":m?a.setProperty(l,u):typeof u!="number"||u===0||qs.has(l)?l==="float"?a.cssFloat=u:a[l]=(""+u).trim():a[l]=u+"px"}function ll(a,l,u){if(l!=null&&typeof l!="object")throw Error(r(62));if(a=a.style,u!=null){for(var m in u)!u.hasOwnProperty(m)||l!=null&&l.hasOwnProperty(m)||(m.indexOf("--")===0?a.setProperty(m,""):m==="float"?a.cssFloat="":a[m]="");for(var _ in l)m=l[_],l.hasOwnProperty(_)&&u[_]!==m&&Uo(a,_,m)}else for(var N in l)l.hasOwnProperty(N)&&Uo(a,N,l[N])}function ra(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bs=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Bo=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ei(a){return Bo.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function qa(){}var Ks=null;function di(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var ya=null,Kt=null;function _a(a){var l=Bi(a);if(l&&(a=l.stateNode)){var u=a[Ar]||null;e:switch(a=l.stateNode,l.type){case"input":if(xs(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),l=u.name,u.type==="radio"&&l!=null){for(u=a;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+mr(""+l)+'"][type="radio"]'),l=0;l<u.length;l++){var m=u[l];if(m!==a&&m.form===a.form){var _=m[Ar]||null;if(!_)throw Error(r(90));xs(m,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name)}}for(l=0;l<u.length;l++)m=u[l],m.form===a.form&&Dn(m)}break e;case"textarea":za(a,u.value,u.defaultValue);break e;case"select":l=u.value,l!=null&&dr(a,!!u.multiple,l,!1)}}}var Mr=!1;function js(a,l,u){if(Mr)return a(l,u);Mr=!0;try{var m=a(l);return m}finally{if(Mr=!1,(ya!==null||Kt!==null)&&(Tf(),ya&&(l=ya,a=Kt,Kt=ya=null,_a(l),a)))for(l=0;l<a.length;l++)_a(a[l])}}function Ka(a,l){var u=a.stateNode;if(u===null)return null;var m=u[Ar]||null;if(m===null)return null;u=m[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(a=a.type,m=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!m;break e;default:a=!1}if(a)return null;if(u&&typeof u!="function")throw Error(r(231,l,typeof u));return u}var ti=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Co=!1;if(ti)try{var os={};Object.defineProperty(os,"passive",{get:function(){Co=!0}}),window.addEventListener("test",os,os),window.removeEventListener("test",os,os)}catch{Co=!1}var wa=null,Ga=null,ni=null;function Gs(){if(ni)return ni;var a,l=Ga,u=l.length,m,_="value"in wa?wa.value:wa.textContent,N=_.length;for(a=0;a<u&&l[a]===_[a];a++);var K=u-a;for(m=1;m<=K&&l[u-m]===_[N-m];m++);return ni=_.slice(a,1<m?1-m:void 0)}function ys(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function Vs(){return!0}function Al(){return!1}function ia(a){function l(u,m,_,N,K){this._reactName=u,this._targetInst=_,this.type=m,this.nativeEvent=N,this.target=K,this.currentTarget=null;for(var pe in a)a.hasOwnProperty(pe)&&(u=a[pe],this[pe]=u?u(N):N[pe]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?Vs:Al,this.isPropagationStopped=Al,this}return x(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Vs)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Vs)},persist:function(){},isPersistent:Vs}),l}var Va={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Za=ia(Va),ks=x({},Va,{view:0,detail:0}),xr=ia(ks),$o,aa,$a,Ao=x({},ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gn,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==$a&&($a&&a.type==="mousemove"?($o=a.screenX-$a.screenX,aa=a.screenY-$a.screenY):aa=$o=0,$a=a),$o)},movementY:function(a){return"movementY"in a?a.movementY:aa}}),cl=ia(Ao),ls=x({},Ao,{dataTransfer:0}),Us=ia(ls),Io=x({},ks,{relatedTarget:0}),co=ia(Io),Kl=x({},Va,{animationName:0,elapsedTime:0,pseudoElement:0}),k=ia(Kl),ee=x({},Va,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Be=ia(ee),De=x({},Va,{data:0}),We=ia(De),ft={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ft={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xn(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=pn[a])?!!l[a]:!1}function Gn(){return xn}var sr=x({},ks,{key:function(a){if(a.key){var l=ft[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=ys(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Ft[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gn,charCode:function(a){return a.type==="keypress"?ys(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?ys(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Ur=ia(sr),hi=x({},Ao,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Si=ia(hi),Tr=x({},ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gn}),Ki=ia(Tr),Li=x({},Va,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gi=ia(Li),As=x({},Ao,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),ha=ia(As),No=x({},Va,{newState:0,oldState:0}),Zs=ia(No),Ji=[9,13,27,32],$s=ti&&"CompositionEvent"in window,cs=null;ti&&"documentMode"in document&&(cs=document.documentMode);var Eo=ti&&"TextEvent"in window&&!cs,Ys=ti&&(!$s||cs&&8<cs&&11>=cs),Vi=" ",To=!1;function So(a,l){switch(a){case"keyup":return Ji.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fo(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var uo=!1;function fi(a,l){switch(a){case"compositionend":return Fo(l);case"keypress":return l.which!==32?null:(To=!0,Vi);case"textInput":return a=l.data,a===Vi&&To?null:a;default:return null}}function Sa(a,l){if(uo)return a==="compositionend"||!$s&&So(a,l)?(a=Gs(),ni=Ga=wa=null,uo=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Ys&&l.locale!=="ko"?null:l.data;default:return null}}var Yo={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function us(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!Yo[a.type]:l==="textarea"}function _s(a,l,u,m){ya?Kt?Kt.push(m):Kt=[m]:ya=m,l=Pf(l,"onChange"),0<l.length&&(u=new Za("onChange","change",null,u,m),a.push({event:u,listeners:l}))}var La=null,Lo=null;function Is(a){C_(a,0)}function Wi(a){var l=le(a);if(Dn(l))return a}function Hr(a,l){if(a==="change")return l}var Ba=!1;if(ti){var Or;if(ti){var ws="oninput"in document;if(!ws){var Ts=document.createElement("div");Ts.setAttribute("oninput","return;"),ws=typeof Ts.oninput=="function"}Or=ws}else Or=!1;Ba=Or&&(!document.documentMode||9<document.documentMode)}function Fs(){La&&(La.detachEvent("onpropertychange",Os),Lo=La=null)}function Os(a){if(a.propertyName==="value"&&Wi(Lo)){var l=[];_s(l,Lo,a,di(a)),js(Is,l)}}function ja(a,l,u){a==="focusin"?(Fs(),La=l,Lo=u,La.attachEvent("onpropertychange",Os)):a==="focusout"&&Fs()}function pi(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Wi(Lo)}function ka(a,l){if(a==="click")return Wi(l)}function Xs(a,l){if(a==="input"||a==="change")return Wi(l)}function b(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var C=typeof Object.is=="function"?Object.is:b;function Q(a,l){if(C(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var u=Object.keys(a),m=Object.keys(l);if(u.length!==m.length)return!1;for(m=0;m<u.length;m++){var _=u[m];if(!xt.call(l,_)||!C(a[_],l[_]))return!1}return!0}function q(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function J(a,l){var u=q(a);a=0;for(var m;u;){if(u.nodeType===3){if(m=a+u.textContent.length,a<=l&&m>=l)return{node:u,offset:l-a};a=m}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=q(u)}}function Ae(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?Ae(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function we(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var l=Br(a.document);l instanceof a.HTMLIFrameElement;){try{var u=typeof l.contentWindow.location.href=="string"}catch{u=!1}if(u)a=l.contentWindow;else break;l=Br(a.document)}return l}function Ue(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}var Ke=ti&&"documentMode"in document&&11>=document.documentMode,Me=null,Je=null,Oe=null,Re=!1;function Pe(a,l,u){var m=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Re||Me==null||Me!==Br(m)||(m=Me,"selectionStart"in m&&Ue(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Oe&&Q(Oe,m)||(Oe=m,m=Pf(Je,"onSelect"),0<m.length&&(l=new Za("onSelect","select",null,l,u),a.push({event:l,listeners:m}),l.target=Me)))}function He(a,l){var u={};return u[a.toLowerCase()]=l.toLowerCase(),u["Webkit"+a]="webkit"+l,u["Moz"+a]="moz"+l,u}var $e={animationend:He("Animation","AnimationEnd"),animationiteration:He("Animation","AnimationIteration"),animationstart:He("Animation","AnimationStart"),transitionrun:He("Transition","TransitionRun"),transitionstart:He("Transition","TransitionStart"),transitioncancel:He("Transition","TransitionCancel"),transitionend:He("Transition","TransitionEnd")},qe={},at={};ti&&(at=document.createElement("div").style,"AnimationEvent"in window||(delete $e.animationend.animation,delete $e.animationiteration.animation,delete $e.animationstart.animation),"TransitionEvent"in window||delete $e.transitionend.transition);function nt(a){if(qe[a])return qe[a];if(!$e[a])return a;var l=$e[a],u;for(u in l)if(l.hasOwnProperty(u)&&u in at)return qe[a]=l[u];return a}var pt=nt("animationend"),Bt=nt("animationiteration"),Tt=nt("animationstart"),Wt=nt("transitionrun"),zt=nt("transitionstart"),An=nt("transitioncancel"),qt=nt("transitionend"),Rn=new Map,Sn="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Sn.push("scrollEnd");function hr(a,l){Rn.set(a,l),Bn(l,[a])}var tr=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},br=[],li=0,nr=0;function ds(){for(var a=li,l=nr=li=0;l<a;){var u=br[l];br[l++]=null;var m=br[l];br[l++]=null;var _=br[l];br[l++]=null;var N=br[l];if(br[l++]=null,m!==null&&_!==null){var K=m.pending;K===null?_.next=_:(_.next=K.next,K.next=_),m.pending=_}N!==0&&Ya(u,_,N)}}function Ci(a,l,u,m){br[li++]=a,br[li++]=l,br[li++]=u,br[li++]=m,nr|=m,a.lanes|=m,a=a.alternate,a!==null&&(a.lanes|=m)}function Xo(a,l,u,m){return Ci(a,l,u,m),sa(a)}function mi(a,l){return Ci(a,null,null,l),sa(a)}function Ya(a,l,u){a.lanes|=u;var m=a.alternate;m!==null&&(m.lanes|=u);for(var _=!1,N=a.return;N!==null;)N.childLanes|=u,m=N.alternate,m!==null&&(m.childLanes|=u),N.tag===22&&(a=N.stateNode,a===null||a._visibility&1||(_=!0)),a=N,N=N.return;return a.tag===3?(N=a.stateNode,_&&l!==null&&(_=31-Rt(u),a=N.hiddenUpdates,m=a[_],m===null?a[_]=[l]:m.push(l),l.lane=u|536870912),N):null}function sa(a){if(50<Kd)throw Kd=0,$g=null,Error(r(185));for(var l=a.return;l!==null;)a=l,l=a.return;return a.tag===3?a.stateNode:null}var Ua={};function KA(a,l,u,m){this.tag=a,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xa(a,l,u,m){return new KA(a,l,u,m)}function xA(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Js(a,l){var u=a.alternate;return u===null?(u=Xa(a.tag,l,a.key,a.mode),u.elementType=a.elementType,u.type=a.type,u.stateNode=a.stateNode,u.alternate=a,a.alternate=u):(u.pendingProps=l,u.type=a.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=a.flags&65011712,u.childLanes=a.childLanes,u.lanes=a.lanes,u.child=a.child,u.memoizedProps=a.memoizedProps,u.memoizedState=a.memoizedState,u.updateQueue=a.updateQueue,l=a.dependencies,u.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},u.sibling=a.sibling,u.index=a.index,u.ref=a.ref,u.refCleanup=a.refCleanup,u}function Gl(a,l){a.flags&=65011714;var u=a.alternate;return u===null?(a.childLanes=0,a.lanes=l,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,l=u.dependencies,a.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),a}function Cl(a,l,u,m,_,N){var K=0;if(m=a,typeof a=="function")xA(a)&&(K=1);else if(typeof a=="string")K=R4(a,u,O.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case M:return a=Xa(31,u,l,_),a.elementType=M,a.lanes=N,a;case j:return ul(u.children,_,N,l);case F:K=8,_|=24;break;case S:return a=Xa(12,u,l,_|2),a.elementType=S,a.lanes=N,a;case ce:return a=Xa(13,u,l,_),a.elementType=ce,a.lanes=N,a;case Y:return a=Xa(19,u,l,_),a.elementType=Y,a.lanes=N,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case D:K=10;break e;case z:K=9;break e;case G:K=11;break e;case ge:K=14;break e;case re:K=16,m=null;break e}K=29,u=Error(r(130,a===null?"null":typeof a,"")),m=null}return l=Xa(K,u,l,_),l.elementType=a,l.type=m,l.lanes=N,l}function ul(a,l,u,m){return a=Xa(7,a,m,l),a.lanes=u,a}function Vl(a,l,u){return a=Xa(6,a,null,l),a.lanes=u,a}function bA(a){var l=Xa(18,null,null,0);return l.stateNode=a,l}function Zl(a,l,u){return l=Xa(4,a.children!==null?a.children:[],a.key,l),l.lanes=u,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}var A=new WeakMap;function p(a,l){if(typeof a=="object"&&a!==null){var u=A.get(a);return u!==void 0?u:(l={value:a,source:l,stack:dn(l)},A.set(a,l),l)}return{value:a,source:l,stack:dn(l)}}var y=[],U=0,H=null,he=0,Te=[],et=0,ut=null,Ut=1,an="";function Un(a,l){y[U++]=he,y[U++]=H,H=a,he=l}function Cr(a,l,u){Te[et++]=Ut,Te[et++]=an,Te[et++]=ut,ut=a;var m=Ut;a=an;var _=32-Rt(m)-1;m&=~(1<<_),u+=1;var N=32-Rt(l)+_;if(30<N){var K=_-_%5;N=(m&(1<<K)-1).toString(32),m>>=K,_-=K,Ut=1<<32-Rt(l)+_|u<<_|m,an=N+a}else Ut=1<<N|u<<_|m,an=a}function Ja(a){a.return!==null&&(Un(a,1),Cr(a,1,0))}function oa(a){for(;a===H;)H=y[--U],y[U]=null,he=y[--U],y[U]=null;for(;a===ut;)ut=Te[--et],Te[et]=null,an=Te[--et],Te[et]=null,Ut=Te[--et],Te[et]=null}function Ws(a,l){Te[et++]=Ut,Te[et++]=an,Te[et++]=ut,Ut=l.id,an=l.overflow,ut=a}var ri=null,ii=null,Qr=!1,Bs=null,ea=!1,ho=Error(r(519));function dl(a){var l=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw $l(p(l,a)),ho}function GA(a){var l=a.stateNode,u=a.type,m=a.memoizedProps;switch(l[Wn]=a,l[Ar]=m,u){case"dialog":qr("cancel",l),qr("close",l);break;case"iframe":case"object":case"embed":qr("load",l);break;case"video":case"audio":for(u=0;u<Vd.length;u++)qr(Vd[u],l);break;case"source":qr("error",l);break;case"img":case"image":case"link":qr("error",l),qr("load",l);break;case"details":qr("toggle",l);break;case"input":qr("invalid",l),ei(l,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":qr("invalid",l);break;case"textarea":qr("invalid",l),lo(l,m.value,m.defaultValue,m.children)}u=m.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||l.textContent===""+u||m.suppressHydrationWarning===!0||L_(l.textContent,u)?(m.popover!=null&&(qr("beforetoggle",l),qr("toggle",l)),m.onScroll!=null&&qr("scroll",l),m.onScrollEnd!=null&&qr("scrollend",l),m.onClick!=null&&(l.onclick=qa),l=!0):l=!1,l||dl(a,!0)}function gi(a){for(ri=a.return;ri;)switch(ri.tag){case 5:case 31:case 13:ea=!1;return;case 27:case 3:ea=!0;return;default:ri=ri.return}}function fa(a){if(a!==ri)return!1;if(!Qr)return gi(a),Qr=!0,!1;var l=a.tag,u;if((u=l!==3&&l!==27)&&((u=l===5)&&(u=a.type,u=!(u!=="form"&&u!=="button")||c0(a.type,a.memoizedProps)),u=!u),u&&ii&&dl(a),gi(a),l===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));ii=D_(a)}else if(l===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));ii=D_(a)}else l===27?(l=ii,sc(a.type)?(a=p0,p0=null,ii=a):ii=l):ii=ri?pl(a.stateNode.nextSibling):null;return!0}function Nl(){ii=ri=null,Qr=!1}function jc(){var a=Bs;return a!==null&&(Ho===null?Ho=a:Ho.push.apply(Ho,a),Bs=null),a}function $l(a){Bs===null?Bs=[a]:Bs.push(a)}var Yl=te(null),Jo=null,Oo=null;function Xl(a,l,u){ie(Yl,l._currentValue),l._currentValue=u}function Qo(a){a._currentValue=Yl.current,P(Yl)}function VA(a,l,u){for(;a!==null;){var m=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),a===u)break;a=a.return}}function yA(a,l,u,m){var _=a.child;for(_!==null&&(_.return=a);_!==null;){var N=_.dependencies;if(N!==null){var K=_.child;N=N.firstContext;e:for(;N!==null;){var pe=N;N=_;for(var Qe=0;Qe<l.length;Qe++)if(pe.context===l[Qe]){N.lanes|=u,pe=N.alternate,pe!==null&&(pe.lanes|=u),VA(N.return,u,a),m||(K=null);break e}N=pe.next}}else if(_.tag===18){if(K=_.return,K===null)throw Error(r(341));K.lanes|=u,N=K.alternate,N!==null&&(N.lanes|=u),VA(K,u,a),K=null}else K=_.child;if(K!==null)K.return=_;else for(K=_;K!==null;){if(K===a){K=null;break}if(_=K.sibling,_!==null){_.return=K.return,K=_;break}K=K.return}_=K}}function Jl(a,l,u,m){a=null;for(var _=l,N=!1;_!==null;){if(!N){if((_.flags&524288)!==0)N=!0;else if((_.flags&262144)!==0)break}if(_.tag===10){var K=_.alternate;if(K===null)throw Error(r(387));if(K=K.memoizedProps,K!==null){var pe=_.type;C(_.pendingProps.value,K.value)||(a!==null?a.push(pe):a=[pe])}}else if(_===je.current){if(K=_.alternate,K===null)throw Error(r(387));K.memoizedState.memoizedState!==_.memoizedState.memoizedState&&(a!==null?a.push(Jd):a=[Jd])}_=_.return}a!==null&&yA(l,a,u,m),l.flags|=262144}function cu(a){for(a=a.firstContext;a!==null;){if(!C(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Wl(a){Jo=a,Oo=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Cs(a){return pf(Jo,a)}function uu(a,l){return Jo===null&&Wl(a),pf(a,l)}function pf(a,l){var u=l._currentValue;if(l={context:l,memoizedValue:u,next:null},Oo===null){if(a===null)throw Error(r(308));Oo=l,a.dependencies={lanes:0,firstContext:l},a.flags|=524288}else Oo=Oo.next=l;return u}var fg=typeof AbortController<"u"?AbortController:function(){var a=[],l=this.signal={aborted:!1,addEventListener:function(u,m){a.push(m)}};this.abort=function(){l.aborted=!0,a.forEach(function(u){return u()})}},pg=e.unstable_scheduleCallback,mg=e.unstable_NormalPriority,Ca={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ZA(){return{controller:new fg,data:new Map,refCount:0}}function kc(a){a.refCount--,a.refCount===0&&pg(mg,function(){a.controller.abort()})}var Uc=null,du=0,v=0,B=null;function T(a,l){if(Uc===null){var u=Uc=[];du=0,v=t0(),B={status:"pending",value:void 0,then:function(m){u.push(m)}}}return du++,l.then(R,R),l}function R(){if(--du===0&&Uc!==null){B!==null&&(B.status="fulfilled");var a=Uc;Uc=null,v=0,B=null;for(var l=0;l<a.length;l++)(0,a[l])()}}function ne(a,l){var u=[],m={status:"pending",value:null,reason:null,then:function(_){u.push(_)}};return a.then(function(){m.status="fulfilled",m.value=l;for(var _=0;_<u.length;_++)(0,u[_])(l)},function(_){for(m.status="rejected",m.reason=_,_=0;_<u.length;_++)(0,u[_])(void 0)}),m}var de=se.S;se.S=function(a,l){Wy=jn(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&T(a,l),de!==null&&de(a,l)};var fe=te(null);function ve(){var a=fe.current;return a!==null?a:$i.pooledCache}function be(a,l){l===null?ie(fe,fe.current):ie(fe,l.pool)}function Ee(){var a=ve();return a===null?null:{parent:Ca._currentValue,pool:a}}var Ge=Error(r(460)),ot=Error(r(474)),Ne=Error(r(542)),Ye={then:function(){}};function rt(a){return a=a.status,a==="fulfilled"||a==="rejected"}function Ct(a,l,u){switch(u=a[u],u===void 0?a.push(l):u!==l&&(l.then(qa,qa),l=u),l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,Zt(a),a;default:if(typeof l.status=="string")l.then(qa,qa);else{if(a=$i,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=l,a.status="pending",a.then(function(m){if(l.status==="pending"){var _=l;_.status="fulfilled",_.value=m}},function(m){if(l.status==="pending"){var _=l;_.status="rejected",_.reason=m}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,Zt(a),a}throw _t=l,Ge}}function it(a){try{var l=a._init;return l(a._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(_t=u,Ge):u}}var _t=null;function St(){if(_t===null)throw Error(r(459));var a=_t;return _t=null,a}function Zt(a){if(a===Ge||a===Ne)throw Error(r(483))}var Mt=null,Fn=0;function bn(a){var l=Fn;return Fn+=1,Mt===null&&(Mt=[]),Ct(Mt,a,l)}function fr(a,l){l=l.props.ref,a.ref=l!==void 0?l:null}function Ln(a,l){throw l.$$typeof===E?Error(r(525)):(a=Object.prototype.toString.call(l),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a)))}function Rr(a){function l(tt,Ze){if(a){var At=tt.deletions;At===null?(tt.deletions=[Ze],tt.flags|=16):At.push(Ze)}}function u(tt,Ze){if(!a)return null;for(;Ze!==null;)l(tt,Ze),Ze=Ze.sibling;return null}function m(tt){for(var Ze=new Map;tt!==null;)tt.key!==null?Ze.set(tt.key,tt):Ze.set(tt.index,tt),tt=tt.sibling;return Ze}function _(tt,Ze){return tt=Js(tt,Ze),tt.index=0,tt.sibling=null,tt}function N(tt,Ze,At){return tt.index=At,a?(At=tt.alternate,At!==null?(At=At.index,At<Ze?(tt.flags|=67108866,Ze):At):(tt.flags|=67108866,Ze)):(tt.flags|=1048576,Ze)}function K(tt){return a&&tt.alternate===null&&(tt.flags|=67108866),tt}function pe(tt,Ze,At,It){return Ze===null||Ze.tag!==6?(Ze=Vl(At,tt.mode,It),Ze.return=tt,Ze):(Ze=_(Ze,At),Ze.return=tt,Ze)}function Qe(tt,Ze,At,It){var $n=At.type;return $n===j?Nt(tt,Ze,At.props.children,It,At.key):Ze!==null&&(Ze.elementType===$n||typeof $n=="object"&&$n!==null&&$n.$$typeof===re&&it($n)===Ze.type)?(Ze=_(Ze,At.props),fr(Ze,At),Ze.return=tt,Ze):(Ze=Cl(At.type,At.key,At.props,null,tt.mode,It),fr(Ze,At),Ze.return=tt,Ze)}function ct(tt,Ze,At,It){return Ze===null||Ze.tag!==4||Ze.stateNode.containerInfo!==At.containerInfo||Ze.stateNode.implementation!==At.implementation?(Ze=Zl(At,tt.mode,It),Ze.return=tt,Ze):(Ze=_(Ze,At.children||[]),Ze.return=tt,Ze)}function Nt(tt,Ze,At,It,$n){return Ze===null||Ze.tag!==7?(Ze=ul(At,tt.mode,It,$n),Ze.return=tt,Ze):(Ze=_(Ze,At),Ze.return=tt,Ze)}function Dt(tt,Ze,At){if(typeof Ze=="string"&&Ze!==""||typeof Ze=="number"||typeof Ze=="bigint")return Ze=Vl(""+Ze,tt.mode,At),Ze.return=tt,Ze;if(typeof Ze=="object"&&Ze!==null){switch(Ze.$$typeof){case w:return At=Cl(Ze.type,Ze.key,Ze.props,null,tt.mode,At),fr(At,Ze),At.return=tt,At;case I:return Ze=Zl(Ze,tt.mode,At),Ze.return=tt,Ze;case re:return Ze=it(Ze),Dt(tt,Ze,At)}if(ye(Ze)||W(Ze))return Ze=ul(Ze,tt.mode,At,null),Ze.return=tt,Ze;if(typeof Ze.then=="function")return Dt(tt,bn(Ze),At);if(Ze.$$typeof===D)return Dt(tt,uu(tt,Ze),At);Ln(tt,Ze)}return null}function ht(tt,Ze,At,It){var $n=Ze!==null?Ze.key:null;if(typeof At=="string"&&At!==""||typeof At=="number"||typeof At=="bigint")return $n!==null?null:pe(tt,Ze,""+At,It);if(typeof At=="object"&&At!==null){switch(At.$$typeof){case w:return At.key===$n?Qe(tt,Ze,At,It):null;case I:return At.key===$n?ct(tt,Ze,At,It):null;case re:return At=it(At),ht(tt,Ze,At,It)}if(ye(At)||W(At))return $n!==null?null:Nt(tt,Ze,At,It,null);if(typeof At.then=="function")return ht(tt,Ze,bn(At),It);if(At.$$typeof===D)return ht(tt,Ze,uu(tt,At),It);Ln(tt,At)}return null}function vt(tt,Ze,At,It,$n){if(typeof It=="string"&&It!==""||typeof It=="number"||typeof It=="bigint")return tt=tt.get(At)||null,pe(Ze,tt,""+It,$n);if(typeof It=="object"&&It!==null){switch(It.$$typeof){case w:return tt=tt.get(It.key===null?At:It.key)||null,Qe(Ze,tt,It,$n);case I:return tt=tt.get(It.key===null?At:It.key)||null,ct(Ze,tt,It,$n);case re:return It=it(It),vt(tt,Ze,At,It,$n)}if(ye(It)||W(It))return tt=tt.get(At)||null,Nt(Ze,tt,It,$n,null);if(typeof It.then=="function")return vt(tt,Ze,At,bn(It),$n);if(It.$$typeof===D)return vt(tt,Ze,At,uu(Ze,It),$n);Ln(Ze,It)}return null}function In(tt,Ze,At,It){for(var $n=null,vi=null,Pn=Ze,Ir=Ze=0,Vr=null;Pn!==null&&Ir<At.length;Ir++){Pn.index>Ir?(Vr=Pn,Pn=null):Vr=Pn.sibling;var xi=ht(tt,Pn,At[Ir],It);if(xi===null){Pn===null&&(Pn=Vr);break}a&&Pn&&xi.alternate===null&&l(tt,Pn),Ze=N(xi,Ze,Ir),vi===null?$n=xi:vi.sibling=xi,vi=xi,Pn=Vr}if(Ir===At.length)return u(tt,Pn),Qr&&Un(tt,Ir),$n;if(Pn===null){for(;Ir<At.length;Ir++)Pn=Dt(tt,At[Ir],It),Pn!==null&&(Ze=N(Pn,Ze,Ir),vi===null?$n=Pn:vi.sibling=Pn,vi=Pn);return Qr&&Un(tt,Ir),$n}for(Pn=m(Pn);Ir<At.length;Ir++)Vr=vt(Pn,tt,Ir,At[Ir],It),Vr!==null&&(a&&Vr.alternate!==null&&Pn.delete(Vr.key===null?Ir:Vr.key),Ze=N(Vr,Ze,Ir),vi===null?$n=Vr:vi.sibling=Vr,vi=Vr);return a&&Pn.forEach(function(uc){return l(tt,uc)}),Qr&&Un(tt,Ir),$n}function ar(tt,Ze,At,It){if(At==null)throw Error(r(151));for(var $n=null,vi=null,Pn=Ze,Ir=Ze=0,Vr=null,xi=At.next();Pn!==null&&!xi.done;Ir++,xi=At.next()){Pn.index>Ir?(Vr=Pn,Pn=null):Vr=Pn.sibling;var uc=ht(tt,Pn,xi.value,It);if(uc===null){Pn===null&&(Pn=Vr);break}a&&Pn&&uc.alternate===null&&l(tt,Pn),Ze=N(uc,Ze,Ir),vi===null?$n=uc:vi.sibling=uc,vi=uc,Pn=Vr}if(xi.done)return u(tt,Pn),Qr&&Un(tt,Ir),$n;if(Pn===null){for(;!xi.done;Ir++,xi=At.next())xi=Dt(tt,xi.value,It),xi!==null&&(Ze=N(xi,Ze,Ir),vi===null?$n=xi:vi.sibling=xi,vi=xi);return Qr&&Un(tt,Ir),$n}for(Pn=m(Pn);!xi.done;Ir++,xi=At.next())xi=vt(Pn,tt,Ir,xi.value,It),xi!==null&&(a&&xi.alternate!==null&&Pn.delete(xi.key===null?Ir:xi.key),Ze=N(xi,Ze,Ir),vi===null?$n=xi:vi.sibling=xi,vi=xi);return a&&Pn.forEach(function(X4){return l(tt,X4)}),Qr&&Un(tt,Ir),$n}function Pi(tt,Ze,At,It){if(typeof At=="object"&&At!==null&&At.type===j&&At.key===null&&(At=At.props.children),typeof At=="object"&&At!==null){switch(At.$$typeof){case w:e:{for(var $n=At.key;Ze!==null;){if(Ze.key===$n){if($n=At.type,$n===j){if(Ze.tag===7){u(tt,Ze.sibling),It=_(Ze,At.props.children),It.return=tt,tt=It;break e}}else if(Ze.elementType===$n||typeof $n=="object"&&$n!==null&&$n.$$typeof===re&&it($n)===Ze.type){u(tt,Ze.sibling),It=_(Ze,At.props),fr(It,At),It.return=tt,tt=It;break e}u(tt,Ze);break}else l(tt,Ze);Ze=Ze.sibling}At.type===j?(It=ul(At.props.children,tt.mode,It,At.key),It.return=tt,tt=It):(It=Cl(At.type,At.key,At.props,null,tt.mode,It),fr(It,At),It.return=tt,tt=It)}return K(tt);case I:e:{for($n=At.key;Ze!==null;){if(Ze.key===$n)if(Ze.tag===4&&Ze.stateNode.containerInfo===At.containerInfo&&Ze.stateNode.implementation===At.implementation){u(tt,Ze.sibling),It=_(Ze,At.children||[]),It.return=tt,tt=It;break e}else{u(tt,Ze);break}else l(tt,Ze);Ze=Ze.sibling}It=Zl(At,tt.mode,It),It.return=tt,tt=It}return K(tt);case re:return At=it(At),Pi(tt,Ze,At,It)}if(ye(At))return In(tt,Ze,At,It);if(W(At)){if($n=W(At),typeof $n!="function")throw Error(r(150));return At=$n.call(At),ar(tt,Ze,At,It)}if(typeof At.then=="function")return Pi(tt,Ze,bn(At),It);if(At.$$typeof===D)return Pi(tt,Ze,uu(tt,At),It);Ln(tt,At)}return typeof At=="string"&&At!==""||typeof At=="number"||typeof At=="bigint"?(At=""+At,Ze!==null&&Ze.tag===6?(u(tt,Ze.sibling),It=_(Ze,At),It.return=tt,tt=It):(u(tt,Ze),It=Vl(At,tt.mode,It),It.return=tt,tt=It),K(tt)):u(tt,Ze)}return function(tt,Ze,At,It){try{Fn=0;var $n=Pi(tt,Ze,At,It);return Mt=null,$n}catch(Pn){if(Pn===Ge||Pn===Ne)throw Pn;var vi=Xa(29,Pn,null,tt.mode);return vi.lanes=It,vi.return=tt,vi}finally{}}}var Zi=Rr(!0),yr=Rr(!1),yn=!1;function ln(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function la(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function rr(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Nr(a,l,u){var m=a.updateQueue;if(m===null)return null;if(m=m.shared,(wi&2)!==0){var _=m.pending;return _===null?l.next=l:(l.next=_.next,_.next=l),m.pending=l,l=sa(a),Ya(a,null,u),l}return Ci(a,m,l,u),sa(a)}function yi(a,l,u){if(l=l.updateQueue,l!==null&&(l=l.shared,(u&4194048)!==0)){var m=l.lanes;m&=a.pendingLanes,u|=m,l.lanes=u,Xn(a,u)}}function Wa(a,l){var u=a.updateQueue,m=a.alternate;if(m!==null&&(m=m.updateQueue,u===m)){var _=null,N=null;if(u=u.firstBaseUpdate,u!==null){do{var K={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};N===null?_=N=K:N=N.next=K,u=u.next}while(u!==null);N===null?_=N=l:N=N.next=l}else _=N=l;u={baseState:m.baseState,firstBaseUpdate:_,lastBaseUpdate:N,shared:m.shared,callbacks:m.callbacks},a.updateQueue=u;return}a=u.lastBaseUpdate,a===null?u.firstBaseUpdate=l:a.next=l,u.lastBaseUpdate=l}var Ns=!1;function Di(){if(Ns){var a=B;if(a!==null)throw a}}function Ia(a,l,u,m){Ns=!1;var _=a.updateQueue;yn=!1;var N=_.firstBaseUpdate,K=_.lastBaseUpdate,pe=_.shared.pending;if(pe!==null){_.shared.pending=null;var Qe=pe,ct=Qe.next;Qe.next=null,K===null?N=ct:K.next=ct,K=Qe;var Nt=a.alternate;Nt!==null&&(Nt=Nt.updateQueue,pe=Nt.lastBaseUpdate,pe!==K&&(pe===null?Nt.firstBaseUpdate=ct:pe.next=ct,Nt.lastBaseUpdate=Qe))}if(N!==null){var Dt=_.baseState;K=0,Nt=ct=Qe=null,pe=N;do{var ht=pe.lane&-536870913,vt=ht!==pe.lane;if(vt?(Gr&ht)===ht:(m&ht)===ht){ht!==0&&ht===v&&(Ns=!0),Nt!==null&&(Nt=Nt.next={lane:0,tag:pe.tag,payload:pe.payload,callback:null,next:null});e:{var In=a,ar=pe;ht=l;var Pi=u;switch(ar.tag){case 1:if(In=ar.payload,typeof In=="function"){Dt=In.call(Pi,Dt,ht);break e}Dt=In;break e;case 3:In.flags=In.flags&-65537|128;case 0:if(In=ar.payload,ht=typeof In=="function"?In.call(Pi,Dt,ht):In,ht==null)break e;Dt=x({},Dt,ht);break e;case 2:yn=!0}}ht=pe.callback,ht!==null&&(a.flags|=64,vt&&(a.flags|=8192),vt=_.callbacks,vt===null?_.callbacks=[ht]:vt.push(ht))}else vt={lane:ht,tag:pe.tag,payload:pe.payload,callback:pe.callback,next:null},Nt===null?(ct=Nt=vt,Qe=Dt):Nt=Nt.next=vt,K|=ht;if(pe=pe.next,pe===null){if(pe=_.shared.pending,pe===null)break;vt=pe,pe=vt.next,vt.next=null,_.lastBaseUpdate=vt,_.shared.pending=null}}while(!0);Nt===null&&(Qe=Dt),_.baseState=Qe,_.firstBaseUpdate=ct,_.lastBaseUpdate=Nt,N===null&&(_.shared.lanes=0),tc|=K,a.lanes=K,a.memoizedState=Dt}}function Qs(a,l){if(typeof a!="function")throw Error(r(191,a));a.call(l)}function Ta(a,l){var u=a.callbacks;if(u!==null)for(a.callbacks=null,a=0;a<u.length;a++)Qs(u[a],l)}var Fr=te(null),ai=te(0);function Aa(a,l){a=kA,ie(ai,a),ie(Fr,l),kA=a|l.baseLanes}function Ai(){ie(ai,kA),ie(Fr,Fr.current)}function es(){kA=ai.current,P(Fr),P(ai)}var ca=te(null),si=null;function Na(a){var l=a.alternate;ie(Xr,Xr.current&1),ie(ca,a),si===null&&(l===null||Fr.current!==null||l.memoizedState!==null)&&(si=a)}function _i(a){ie(Xr,Xr.current),ie(ca,a),si===null&&(si=a)}function Fa(a){a.tag===22?(ie(Xr,Xr.current),ie(ca,a),si===null&&(si=a)):Oa()}function Oa(){ie(Xr,Xr.current),ie(ca,ca.current)}function ji(a){P(ca),si===a&&(si=null),P(Xr)}var Xr=te(0);function Ds(a){for(var l=a;l!==null;){if(l.tag===13){var u=l.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||h0(u)||f0(u)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var pa=0,Vn=null,Zn=null,oi=null,fo=!1,Do=!1,eo=!1,Qa=0,eA=0,tA=null,hu=0;function Mi(){throw Error(r(321))}function Ed(a,l){if(l===null)return!1;for(var u=0;u<l.length&&u<a.length;u++)if(!C(a[u],l[u]))return!1;return!0}function Sd(a,l,u,m,_,N){return pa=N,Vn=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,se.H=a===null||a.memoizedState===null?cy:Bg,eo=!1,N=u(m,_),eo=!1,Do&&(N=El(l,u,m,_)),fu(a),N}function fu(a){se.H=Od;var l=Zn!==null&&Zn.next!==null;if(pa=0,oi=Zn=Vn=null,fo=!1,eA=0,tA=null,l)throw Error(r(300));a===null||fs||(a=a.dependencies,a!==null&&cu(a)&&(fs=!0))}function El(a,l,u,m){Vn=a;var _=0;do{if(Do&&(tA=null),eA=0,Do=!1,25<=_)throw Error(r(301));if(_+=1,oi=Zn=null,a.updateQueue!=null){var N=a.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}se.H=uy,N=l(u,m)}while(Do);return N}function gg(){var a=se.H,l=a.useState()[0];return l=typeof l.then=="function"?nA(l):l,a=a.useState()[0],(Zn!==null?Zn.memoizedState:null)!==a&&(Vn.flags|=1024),l}function Ld(){var a=Qa!==0;return Qa=0,a}function jd(a,l,u){l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~u}function pu(a){if(fo){for(a=a.memoizedState;a!==null;){var l=a.queue;l!==null&&(l.pending=null),a=a.next}fo=!1}pa=0,oi=Zn=Vn=null,Do=!1,eA=Qa=0,tA=null}function hs(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return oi===null?Vn.memoizedState=oi=a:oi=oi.next=a,oi}function ma(){if(Zn===null){var a=Vn.alternate;a=a!==null?a.memoizedState:null}else a=Zn.next;var l=oi===null?Vn.memoizedState:oi.next;if(l!==null)oi=l,Zn=a;else{if(a===null)throw Vn.alternate===null?Error(r(467)):Error(r(310));Zn=a,a={memoizedState:Zn.memoizedState,baseState:Zn.baseState,baseQueue:Zn.baseQueue,queue:Zn.queue,next:null},oi===null?Vn.memoizedState=oi=a:oi=oi.next=a}return oi}function Ic(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nA(a){var l=eA;return eA+=1,tA===null&&(tA=[]),a=Ct(tA,a,l),l=Vn,(oi===null?l.memoizedState:oi.next)===null&&(l=l.alternate,se.H=l===null||l.memoizedState===null?cy:Bg),a}function $A(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return nA(a);if(a.$$typeof===D)return Cs(a)}throw Error(r(438,String(a)))}function _A(a){var l=null,u=Vn.updateQueue;if(u!==null&&(l=u.memoCache),l==null){var m=Vn.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(l={data:m.data.map(function(_){return _.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),u===null&&(u=Ic(),Vn.updateQueue=u),u.memoCache=l,u=l.data[l.index],u===void 0)for(u=l.data[l.index]=Array(a),m=0;m<a;m++)u[m]=X;return l.index++,u}function hl(a,l){return typeof l=="function"?l(a):l}function mu(a){var l=ma();return YA(l,Zn,a)}function YA(a,l,u){var m=a.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=u;var _=a.baseQueue,N=m.pending;if(N!==null){if(_!==null){var K=_.next;_.next=N.next,N.next=K}l.baseQueue=_=N,m.pending=null}if(N=a.baseState,_===null)a.memoizedState=N;else{l=_.next;var pe=K=null,Qe=null,ct=l,Nt=!1;do{var Dt=ct.lane&-536870913;if(Dt!==ct.lane?(Gr&Dt)===Dt:(pa&Dt)===Dt){var ht=ct.revertLane;if(ht===0)Qe!==null&&(Qe=Qe.next={lane:0,revertLane:0,gesture:null,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null}),Dt===v&&(Nt=!0);else if((pa&ht)===ht){ct=ct.next,ht===v&&(Nt=!0);continue}else Dt={lane:0,revertLane:ct.revertLane,gesture:null,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null},Qe===null?(pe=Qe=Dt,K=N):Qe=Qe.next=Dt,Vn.lanes|=ht,tc|=ht;Dt=ct.action,eo&&u(N,Dt),N=ct.hasEagerState?ct.eagerState:u(N,Dt)}else ht={lane:Dt,revertLane:ct.revertLane,gesture:ct.gesture,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null},Qe===null?(pe=Qe=ht,K=N):Qe=Qe.next=ht,Vn.lanes|=Dt,tc|=Dt;ct=ct.next}while(ct!==null&&ct!==l);if(Qe===null?K=N:Qe.next=pe,!C(N,a.memoizedState)&&(fs=!0,Nt&&(u=B,u!==null)))throw u;a.memoizedState=N,a.baseState=K,a.baseQueue=Qe,m.lastRenderedState=N}return _===null&&(m.lanes=0),[a.memoizedState,m.dispatch]}function gu(a){var l=ma(),u=l.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=a;var m=u.dispatch,_=u.pending,N=l.memoizedState;if(_!==null){u.pending=null;var K=_=_.next;do N=a(N,K.action),K=K.next;while(K!==_);C(N,l.memoizedState)||(fs=!0),l.memoizedState=N,l.baseQueue===null&&(l.baseState=N),u.lastRenderedState=N}return[N,m]}function vu(a,l,u){var m=Vn,_=ma(),N=Qr;if(N){if(u===void 0)throw Error(r(407));u=u()}else u=l();var K=!C((Zn||_).memoizedState,u);if(K&&(_.memoizedState=u,fs=!0),_=_.queue,vg(Ud.bind(null,m,_,a),[a]),_.getSnapshot!==l||K||oi!==null&&oi.memoizedState.tag&1){if(m.flags|=2048,BA(9,{destroy:void 0},kd.bind(null,m,_,u,l),null),$i===null)throw Error(r(349));N||(pa&127)!==0||Sl(m,l,u)}return u}function Sl(a,l,u){a.flags|=16384,a={getSnapshot:l,value:u},l=Vn.updateQueue,l===null?(l=Ic(),Vn.updateQueue=l,l.stores=[a]):(u=l.stores,u===null?l.stores=[a]:u.push(a))}function kd(a,l,u,m){l.value=u,l.getSnapshot=m,mf(l)&&Id(a)}function Ud(a,l,u){return u(function(){mf(l)&&Id(a)})}function mf(a){var l=a.getSnapshot;a=a.value;try{var u=l();return!C(a,u)}catch{return!0}}function Id(a){var l=mi(a,2);l!==null&&zo(l,a,2)}function rA(a){var l=hs();if(typeof a=="function"){var u=a;if(a=u(),eo){dt(!0);try{u()}finally{dt(!1)}}}return l.memoizedState=l.baseState=a,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hl,lastRenderedState:a},l}function gf(a,l,u,m){return a.baseState=u,YA(a,Zn,typeof m=="function"?m:hl)}function vf(a,l,u,m,_){if(_f(a))throw Error(r(485));if(a=l.action,a!==null){var N={payload:_,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(K){N.listeners.push(K)}};se.T!==null?u(!0):N.isTransition=!1,m(N),u=l.pending,u===null?(N.next=l.pending=N,xf(l,N)):(N.next=u.next,l.pending=u.next=N)}}function xf(a,l){var u=l.action,m=l.payload,_=a.state;if(l.isTransition){var N=se.T,K={};se.T=K;try{var pe=u(_,m),Qe=se.S;Qe!==null&&Qe(K,pe),Td(a,l,pe)}catch(ct){wA(a,l,ct)}finally{N!==null&&K.types!==null&&(N.types=K.types),se.T=N}}else try{N=u(_,m),Td(a,l,N)}catch(ct){wA(a,l,ct)}}function Td(a,l,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(m){bf(a,l,m)},function(m){return wA(a,l,m)}):bf(a,l,u)}function bf(a,l,u){l.status="fulfilled",l.value=u,xu(l),a.state=u,l=a.pending,l!==null&&(u=l.next,u===l?a.pending=null:(u=u.next,l.next=u,xf(a,u)))}function wA(a,l,u){var m=a.pending;if(a.pending=null,m!==null){m=m.next;do l.status="rejected",l.reason=u,xu(l),l=l.next;while(l!==m)}a.action=null}function xu(a){a=a.listeners;for(var l=0;l<a.length;l++)(0,a[l])()}function Tc(a,l){return l}function fl(a,l){if(Qr){var u=$i.formState;if(u!==null){e:{var m=Vn;if(Qr){if(ii){t:{for(var _=ii,N=ea;_.nodeType!==8;){if(!N){_=null;break t}if(_=pl(_.nextSibling),_===null){_=null;break t}}N=_.data,_=N==="F!"||N==="F"?_:null}if(_){ii=pl(_.nextSibling),m=_.data==="F!";break e}}dl(m)}m=!1}m&&(l=u[0])}}return u=hs(),u.memoizedState=u.baseState=l,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tc,lastRenderedState:l},u.queue=m,u=oy.bind(null,Vn,m),m.dispatch=u,m=rA(!1),N=wg.bind(null,Vn,!1,m.queue),m=hs(),_={state:l,dispatch:null,action:a,pending:null},m.queue=_,u=vf.bind(null,Vn,_,N,u),_.dispatch=u,m.memoizedState=a,[l,u,!1]}function Ll(a){var l=ma();return jl(l,Zn,a)}function jl(a,l,u){if(l=YA(a,l,Tc)[0],a=mu(hl)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var m=nA(l)}catch(K){throw K===Ge?Ne:K}else m=l;l=ma();var _=l.queue,N=_.dispatch;return u!==l.memoizedState&&(Vn.flags|=2048,BA(9,{destroy:void 0},bu.bind(null,_,u),null)),[m,N,a]}function bu(a,l){a.action=l}function yu(a){var l=ma(),u=Zn;if(u!==null)return jl(l,u,a);ma(),l=l.memoizedState,u=ma();var m=u.queue.dispatch;return u.memoizedState=a,[l,m,!1]}function BA(a,l,u,m){return a={tag:a,create:u,deps:m,inst:l,next:null},l=Vn.updateQueue,l===null&&(l=Ic(),Vn.updateQueue=l),u=l.lastEffect,u===null?l.lastEffect=a.next=a:(m=u.next,u.next=a,a.next=m,l.lastEffect=a),a}function yf(){return ma().memoizedState}function XA(a,l,u,m){var _=hs();Vn.flags|=a,_.memoizedState=BA(1|l,{destroy:void 0},u,m===void 0?null:m)}function JA(a,l,u,m){var _=ma();m=m===void 0?null:m;var N=_.memoizedState.inst;Zn!==null&&m!==null&&Ed(m,Zn.memoizedState.deps)?_.memoizedState=BA(l,N,u,m):(Vn.flags|=a,_.memoizedState=BA(1|l,N,u,m))}function Vb(a,l){XA(8390656,8,a,l)}function vg(a,l){JA(2048,8,a,l)}function KE(a){Vn.flags|=4;var l=Vn.updateQueue;if(l===null)l=Ic(),Vn.updateQueue=l,l.events=[a];else{var u=l.events;u===null?l.events=[a]:u.push(a)}}function Zb(a){var l=ma().memoizedState;return KE({ref:l,nextImpl:a}),function(){if((wi&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}function $b(a,l){return JA(4,2,a,l)}function Yb(a,l){return JA(4,4,a,l)}function Xb(a,l){if(typeof l=="function"){a=a();var u=l(a);return function(){typeof u=="function"?u():l(null)}}if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function Jb(a,l,u){u=u!=null?u.concat([a]):null,JA(4,4,Xb.bind(null,l,a),u)}function xg(){}function Wb(a,l){var u=ma();l=l===void 0?null:l;var m=u.memoizedState;return l!==null&&Ed(l,m[1])?m[0]:(u.memoizedState=[a,l],a)}function ey(a,l){var u=ma();l=l===void 0?null:l;var m=u.memoizedState;if(l!==null&&Ed(l,m[1]))return m[0];if(m=a(),eo){dt(!0);try{a()}finally{dt(!1)}}return u.memoizedState=[m,l],m}function bg(a,l,u){return u===void 0||(pa&1073741824)!==0&&(Gr&261930)===0?a.memoizedState=l:(a.memoizedState=u,a=t_(),Vn.lanes|=a,tc|=a,u)}function ty(a,l,u,m){return C(u,l)?u:Fr.current!==null?(a=bg(a,u,m),C(a,l)||(fs=!0),a):(pa&42)===0||(pa&1073741824)!==0&&(Gr&261930)===0?(fs=!0,a.memoizedState=u):(a=t_(),Vn.lanes|=a,tc|=a,l)}function ny(a,l,u,m,_){var N=_e.p;_e.p=N!==0&&8>N?N:8;var K=se.T,pe={};se.T=pe,wg(a,!1,l,u);try{var Qe=_(),ct=se.S;if(ct!==null&&ct(pe,Qe),Qe!==null&&typeof Qe=="object"&&typeof Qe.then=="function"){var Nt=ne(Qe,m);Fd(a,l,Nt,tl(a))}else Fd(a,l,m,tl(a))}catch(Dt){Fd(a,l,{then:function(){},status:"rejected",reason:Dt},tl())}finally{_e.p=N,K!==null&&pe.types!==null&&(K.types=pe.types),se.T=K}}function GE(){}function yg(a,l,u,m){if(a.tag!==5)throw Error(r(476));var _=ry(a).queue;ny(a,_,l,Z,u===null?GE:function(){return iy(a),u(m)})}function ry(a){var l=a.memoizedState;if(l!==null)return l;l={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hl,lastRenderedState:Z},next:null};var u={};return l.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hl,lastRenderedState:u},next:null},a.memoizedState=l,a=a.alternate,a!==null&&(a.memoizedState=l),l}function iy(a){var l=ry(a);l.next===null&&(l=a.alternate.memoizedState),Fd(a,l.next.queue,{},tl())}function _g(){return Cs(Jd)}function ay(){return ma().memoizedState}function sy(){return ma().memoizedState}function VE(a){for(var l=a.return;l!==null;){switch(l.tag){case 24:case 3:var u=tl();a=rr(u);var m=Nr(l,a,u);m!==null&&(zo(m,l,u),yi(m,l,u)),l={cache:ZA()},a.payload=l;return}l=l.return}}function ZE(a,l,u){var m=tl();u={lane:m,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},_f(a)?ly(l,u):(u=Xo(a,l,u,m),u!==null&&(zo(u,a,m),Ay(u,l,m)))}function oy(a,l,u){var m=tl();Fd(a,l,u,m)}function Fd(a,l,u,m){var _={lane:m,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(_f(a))ly(l,_);else{var N=a.alternate;if(a.lanes===0&&(N===null||N.lanes===0)&&(N=l.lastRenderedReducer,N!==null))try{var K=l.lastRenderedState,pe=N(K,u);if(_.hasEagerState=!0,_.eagerState=pe,C(pe,K))return Ci(a,l,_,0),$i===null&&ds(),!1}catch{}finally{}if(u=Xo(a,l,_,m),u!==null)return zo(u,a,m),Ay(u,l,m),!0}return!1}function wg(a,l,u,m){if(m={lane:2,revertLane:t0(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},_f(a)){if(l)throw Error(r(479))}else l=Xo(a,u,m,2),l!==null&&zo(l,a,2)}function _f(a){var l=a.alternate;return a===Vn||l!==null&&l===Vn}function ly(a,l){Do=fo=!0;var u=a.pending;u===null?l.next=l:(l.next=u.next,u.next=l),a.pending=l}function Ay(a,l,u){if((u&4194048)!==0){var m=l.lanes;m&=a.pendingLanes,u|=m,l.lanes=u,Xn(a,u)}}var Od={readContext:Cs,use:$A,useCallback:Mi,useContext:Mi,useEffect:Mi,useImperativeHandle:Mi,useLayoutEffect:Mi,useInsertionEffect:Mi,useMemo:Mi,useReducer:Mi,useRef:Mi,useState:Mi,useDebugValue:Mi,useDeferredValue:Mi,useTransition:Mi,useSyncExternalStore:Mi,useId:Mi,useHostTransitionStatus:Mi,useFormState:Mi,useActionState:Mi,useOptimistic:Mi,useMemoCache:Mi,useCacheRefresh:Mi};Od.useEffectEvent=Mi;var cy={readContext:Cs,use:$A,useCallback:function(a,l){return hs().memoizedState=[a,l===void 0?null:l],a},useContext:Cs,useEffect:Vb,useImperativeHandle:function(a,l,u){u=u!=null?u.concat([a]):null,XA(4194308,4,Xb.bind(null,l,a),u)},useLayoutEffect:function(a,l){return XA(4194308,4,a,l)},useInsertionEffect:function(a,l){XA(4,2,a,l)},useMemo:function(a,l){var u=hs();l=l===void 0?null:l;var m=a();if(eo){dt(!0);try{a()}finally{dt(!1)}}return u.memoizedState=[m,l],m},useReducer:function(a,l,u){var m=hs();if(u!==void 0){var _=u(l);if(eo){dt(!0);try{u(l)}finally{dt(!1)}}}else _=l;return m.memoizedState=m.baseState=_,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:_},m.queue=a,a=a.dispatch=ZE.bind(null,Vn,a),[m.memoizedState,a]},useRef:function(a){var l=hs();return a={current:a},l.memoizedState=a},useState:function(a){a=rA(a);var l=a.queue,u=oy.bind(null,Vn,l);return l.dispatch=u,[a.memoizedState,u]},useDebugValue:xg,useDeferredValue:function(a,l){var u=hs();return bg(u,a,l)},useTransition:function(){var a=rA(!1);return a=ny.bind(null,Vn,a.queue,!0,!1),hs().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,l,u){var m=Vn,_=hs();if(Qr){if(u===void 0)throw Error(r(407));u=u()}else{if(u=l(),$i===null)throw Error(r(349));(Gr&127)!==0||Sl(m,l,u)}_.memoizedState=u;var N={value:u,getSnapshot:l};return _.queue=N,Vb(Ud.bind(null,m,N,a),[a]),m.flags|=2048,BA(9,{destroy:void 0},kd.bind(null,m,N,u,l),null),u},useId:function(){var a=hs(),l=$i.identifierPrefix;if(Qr){var u=an,m=Ut;u=(m&~(1<<32-Rt(m)-1)).toString(32)+u,l="_"+l+"R_"+u,u=Qa++,0<u&&(l+="H"+u.toString(32)),l+="_"}else u=hu++,l="_"+l+"r_"+u.toString(32)+"_";return a.memoizedState=l},useHostTransitionStatus:_g,useFormState:fl,useActionState:fl,useOptimistic:function(a){var l=hs();l.memoizedState=l.baseState=a;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=u,l=wg.bind(null,Vn,!0,u),u.dispatch=l,[a,l]},useMemoCache:_A,useCacheRefresh:function(){return hs().memoizedState=VE.bind(null,Vn)},useEffectEvent:function(a){var l=hs(),u={impl:a};return l.memoizedState=u,function(){if((wi&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}},Bg={readContext:Cs,use:$A,useCallback:Wb,useContext:Cs,useEffect:vg,useImperativeHandle:Jb,useInsertionEffect:$b,useLayoutEffect:Yb,useMemo:ey,useReducer:mu,useRef:yf,useState:function(){return mu(hl)},useDebugValue:xg,useDeferredValue:function(a,l){var u=ma();return ty(u,Zn.memoizedState,a,l)},useTransition:function(){var a=mu(hl)[0],l=ma().memoizedState;return[typeof a=="boolean"?a:nA(a),l]},useSyncExternalStore:vu,useId:ay,useHostTransitionStatus:_g,useFormState:Ll,useActionState:Ll,useOptimistic:function(a,l){var u=ma();return gf(u,Zn,a,l)},useMemoCache:_A,useCacheRefresh:sy};Bg.useEffectEvent=Zb;var uy={readContext:Cs,use:$A,useCallback:Wb,useContext:Cs,useEffect:vg,useImperativeHandle:Jb,useInsertionEffect:$b,useLayoutEffect:Yb,useMemo:ey,useReducer:gu,useRef:yf,useState:function(){return gu(hl)},useDebugValue:xg,useDeferredValue:function(a,l){var u=ma();return Zn===null?bg(u,a,l):ty(u,Zn.memoizedState,a,l)},useTransition:function(){var a=gu(hl)[0],l=ma().memoizedState;return[typeof a=="boolean"?a:nA(a),l]},useSyncExternalStore:vu,useId:ay,useHostTransitionStatus:_g,useFormState:yu,useActionState:yu,useOptimistic:function(a,l){var u=ma();return Zn!==null?gf(u,Zn,a,l):(u.baseState=a,[a,u.queue.dispatch])},useMemoCache:_A,useCacheRefresh:sy};uy.useEffectEvent=Zb;function Cg(a,l,u,m){l=a.memoizedState,u=u(m,l),u=u==null?l:x({},l,u),a.memoizedState=u,a.lanes===0&&(a.updateQueue.baseState=u)}var Ng={enqueueSetState:function(a,l,u){a=a._reactInternals;var m=tl(),_=rr(m);_.payload=l,u!=null&&(_.callback=u),l=Nr(a,_,m),l!==null&&(zo(l,a,m),yi(l,a,m))},enqueueReplaceState:function(a,l,u){a=a._reactInternals;var m=tl(),_=rr(m);_.tag=1,_.payload=l,u!=null&&(_.callback=u),l=Nr(a,_,m),l!==null&&(zo(l,a,m),yi(l,a,m))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var u=tl(),m=rr(u);m.tag=2,l!=null&&(m.callback=l),l=Nr(a,m,u),l!==null&&(zo(l,a,u),yi(l,a,u))}};function dy(a,l,u,m,_,N,K){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(m,N,K):l.prototype&&l.prototype.isPureReactComponent?!Q(u,m)||!Q(_,N):!0}function hy(a,l,u,m){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(u,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(u,m),l.state!==a&&Ng.enqueueReplaceState(l,l.state,null)}function Fc(a,l){var u=l;if("ref"in l){u={};for(var m in l)m!=="ref"&&(u[m]=l[m])}if(a=a.defaultProps){u===l&&(u=x({},u));for(var _ in a)u[_]===void 0&&(u[_]=a[_])}return u}function fy(a){tr(a)}function py(a){console.error(a)}function my(a){tr(a)}function wf(a,l){try{var u=a.onUncaughtError;u(l.value,{componentStack:l.stack})}catch(m){setTimeout(function(){throw m})}}function gy(a,l,u){try{var m=a.onCaughtError;m(u.value,{componentStack:u.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(_){setTimeout(function(){throw _})}}function Eg(a,l,u){return u=rr(u),u.tag=3,u.payload={element:null},u.callback=function(){wf(a,l)},u}function vy(a){return a=rr(a),a.tag=3,a}function xy(a,l,u,m){var _=u.type.getDerivedStateFromError;if(typeof _=="function"){var N=m.value;a.payload=function(){return _(N)},a.callback=function(){gy(l,u,m)}}var K=u.stateNode;K!==null&&typeof K.componentDidCatch=="function"&&(a.callback=function(){gy(l,u,m),typeof _!="function"&&(nc===null?nc=new Set([this]):nc.add(this));var pe=m.stack;this.componentDidCatch(m.value,{componentStack:pe!==null?pe:""})})}function $E(a,l,u,m,_){if(u.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(l=u.alternate,l!==null&&Jl(l,u,_,!0),u=ca.current,u!==null){switch(u.tag){case 31:case 13:return si===null?Ff():u.alternate===null&&Da===0&&(Da=3),u.flags&=-257,u.flags|=65536,u.lanes=_,m===Ye?u.flags|=16384:(l=u.updateQueue,l===null?u.updateQueue=new Set([m]):l.add(m),Jg(a,m,_)),!1;case 22:return u.flags|=65536,m===Ye?u.flags|=16384:(l=u.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([m])},u.updateQueue=l):(u=l.retryQueue,u===null?l.retryQueue=new Set([m]):u.add(m)),Jg(a,m,_)),!1}throw Error(r(435,u.tag))}return Jg(a,m,_),Ff(),!1}if(Qr)return l=ca.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=_,m!==ho&&(a=Error(r(422),{cause:m}),$l(p(a,u)))):(m!==ho&&(l=Error(r(423),{cause:m}),$l(p(l,u))),a=a.current.alternate,a.flags|=65536,_&=-_,a.lanes|=_,m=p(m,u),_=Eg(a.stateNode,m,_),Wa(a,_),Da!==4&&(Da=2)),!1;var N=Error(r(520),{cause:m});if(N=p(N,u),qd===null?qd=[N]:qd.push(N),Da!==4&&(Da=2),l===null)return!0;m=p(m,u),u=l;do{switch(u.tag){case 3:return u.flags|=65536,a=_&-_,u.lanes|=a,a=Eg(u.stateNode,m,a),Wa(u,a),!1;case 1:if(l=u.type,N=u.stateNode,(u.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(nc===null||!nc.has(N))))return u.flags|=65536,_&=-_,u.lanes|=_,_=vy(_),xy(_,a,u,m),Wa(u,_),!1}u=u.return}while(u!==null);return!1}var Sg=Error(r(461)),fs=!1;function to(a,l,u,m){l.child=a===null?yr(l,null,u,m):Zi(l,a.child,u,m)}function by(a,l,u,m,_){u=u.render;var N=l.ref;if("ref"in m){var K={};for(var pe in m)pe!=="ref"&&(K[pe]=m[pe])}else K=m;return Wl(l),m=Sd(a,l,u,K,N,_),pe=Ld(),a!==null&&!fs?(jd(a,l,_),CA(a,l,_)):(Qr&&pe&&Ja(l),l.flags|=1,to(a,l,m,_),l.child)}function yy(a,l,u,m,_){if(a===null){var N=u.type;return typeof N=="function"&&!xA(N)&&N.defaultProps===void 0&&u.compare===null?(l.tag=15,l.type=N,_y(a,l,N,m,_)):(a=Cl(u.type,null,m,l,l.mode,_),a.ref=l.ref,a.return=l,l.child=a)}if(N=a.child,!Og(a,_)){var K=N.memoizedProps;if(u=u.compare,u=u!==null?u:Q,u(K,m)&&a.ref===l.ref)return CA(a,l,_)}return l.flags|=1,a=Js(N,m),a.ref=l.ref,a.return=l,l.child=a}function _y(a,l,u,m,_){if(a!==null){var N=a.memoizedProps;if(Q(N,m)&&a.ref===l.ref)if(fs=!1,l.pendingProps=m=N,Og(a,_))(a.flags&131072)!==0&&(fs=!0);else return l.lanes=a.lanes,CA(a,l,_)}return Lg(a,l,u,m,_)}function wy(a,l,u,m){var _=m.children,N=a!==null?a.memoizedState:null;if(a===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((l.flags&128)!==0){if(N=N!==null?N.baseLanes|u:u,a!==null){for(m=l.child=a.child,_=0;m!==null;)_=_|m.lanes|m.childLanes,m=m.sibling;m=_&~N}else m=0,l.child=null;return By(a,l,N,u,m)}if((u&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},a!==null&&be(l,N!==null?N.cachePool:null),N!==null?Aa(l,N):Ai(),Fa(l);else return m=l.lanes=536870912,By(a,l,N!==null?N.baseLanes|u:u,u,m)}else N!==null?(be(l,N.cachePool),Aa(l,N),Oa(),l.memoizedState=null):(a!==null&&be(l,null),Ai(),Oa());return to(a,l,_,u),l.child}function Qd(a,l){return a!==null&&a.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function By(a,l,u,m,_){var N=ve();return N=N===null?null:{parent:Ca._currentValue,pool:N},l.memoizedState={baseLanes:u,cachePool:N},a!==null&&be(l,null),Ai(),Fa(l),a!==null&&Jl(a,l,m,!0),l.childLanes=_,null}function Bf(a,l){return l=Nf({mode:l.mode,children:l.children},a.mode),l.ref=a.ref,a.child=l,l.return=a,l}function Cy(a,l,u){return Zi(l,a.child,null,u),a=Bf(l,l.pendingProps),a.flags|=2,ji(l),l.memoizedState=null,a}function YE(a,l,u){var m=l.pendingProps,_=(l.flags&128)!==0;if(l.flags&=-129,a===null){if(Qr){if(m.mode==="hidden")return a=Bf(l,m),l.lanes=536870912,Qd(null,a);if(_i(l),(a=ii)?(a=Q_(a,ea),a=a!==null&&a.data==="&"?a:null,a!==null&&(l.memoizedState={dehydrated:a,treeContext:ut!==null?{id:Ut,overflow:an}:null,retryLane:536870912,hydrationErrors:null},u=bA(a),u.return=l,l.child=u,ri=l,ii=null)):a=null,a===null)throw dl(l);return l.lanes=536870912,null}return Bf(l,m)}var N=a.memoizedState;if(N!==null){var K=N.dehydrated;if(_i(l),_)if(l.flags&256)l.flags&=-257,l=Cy(a,l,u);else if(l.memoizedState!==null)l.child=a.child,l.flags|=128,l=null;else throw Error(r(558));else if(fs||Jl(a,l,u,!1),_=(u&a.childLanes)!==0,fs||_){if(m=$i,m!==null&&(K=Oi(m,u),K!==0&&K!==N.retryLane))throw N.retryLane=K,mi(a,K),zo(m,a,K),Sg;Ff(),l=Cy(a,l,u)}else a=N.treeContext,ii=pl(K.nextSibling),ri=l,Qr=!0,Bs=null,ea=!1,a!==null&&Ws(l,a),l=Bf(l,m),l.flags|=4096;return l}return a=Js(a.child,{mode:m.mode,children:m.children}),a.ref=l.ref,l.child=a,a.return=l,a}function Cf(a,l){var u=l.ref;if(u===null)a!==null&&a.ref!==null&&(l.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(a===null||a.ref!==u)&&(l.flags|=4194816)}}function Lg(a,l,u,m,_){return Wl(l),u=Sd(a,l,u,m,void 0,_),m=Ld(),a!==null&&!fs?(jd(a,l,_),CA(a,l,_)):(Qr&&m&&Ja(l),l.flags|=1,to(a,l,u,_),l.child)}function Ny(a,l,u,m,_,N){return Wl(l),l.updateQueue=null,u=El(l,m,u,_),fu(a),m=Ld(),a!==null&&!fs?(jd(a,l,N),CA(a,l,N)):(Qr&&m&&Ja(l),l.flags|=1,to(a,l,u,N),l.child)}function Ey(a,l,u,m,_){if(Wl(l),l.stateNode===null){var N=Ua,K=u.contextType;typeof K=="object"&&K!==null&&(N=Cs(K)),N=new u(m,N),l.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=Ng,l.stateNode=N,N._reactInternals=l,N=l.stateNode,N.props=m,N.state=l.memoizedState,N.refs={},ln(l),K=u.contextType,N.context=typeof K=="object"&&K!==null?Cs(K):Ua,N.state=l.memoizedState,K=u.getDerivedStateFromProps,typeof K=="function"&&(Cg(l,u,K,m),N.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(K=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),K!==N.state&&Ng.enqueueReplaceState(N,N.state,null),Ia(l,m,N,_),Di(),N.state=l.memoizedState),typeof N.componentDidMount=="function"&&(l.flags|=4194308),m=!0}else if(a===null){N=l.stateNode;var pe=l.memoizedProps,Qe=Fc(u,pe);N.props=Qe;var ct=N.context,Nt=u.contextType;K=Ua,typeof Nt=="object"&&Nt!==null&&(K=Cs(Nt));var Dt=u.getDerivedStateFromProps;Nt=typeof Dt=="function"||typeof N.getSnapshotBeforeUpdate=="function",pe=l.pendingProps!==pe,Nt||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(pe||ct!==K)&&hy(l,N,m,K),yn=!1;var ht=l.memoizedState;N.state=ht,Ia(l,m,N,_),Di(),ct=l.memoizedState,pe||ht!==ct||yn?(typeof Dt=="function"&&(Cg(l,u,Dt,m),ct=l.memoizedState),(Qe=yn||dy(l,u,Qe,m,ht,ct,K))?(Nt||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(l.flags|=4194308)):(typeof N.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=ct),N.props=m,N.state=ct,N.context=K,m=Qe):(typeof N.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{N=l.stateNode,la(a,l),K=l.memoizedProps,Nt=Fc(u,K),N.props=Nt,Dt=l.pendingProps,ht=N.context,ct=u.contextType,Qe=Ua,typeof ct=="object"&&ct!==null&&(Qe=Cs(ct)),pe=u.getDerivedStateFromProps,(ct=typeof pe=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(K!==Dt||ht!==Qe)&&hy(l,N,m,Qe),yn=!1,ht=l.memoizedState,N.state=ht,Ia(l,m,N,_),Di();var vt=l.memoizedState;K!==Dt||ht!==vt||yn||a!==null&&a.dependencies!==null&&cu(a.dependencies)?(typeof pe=="function"&&(Cg(l,u,pe,m),vt=l.memoizedState),(Nt=yn||dy(l,u,Nt,m,ht,vt,Qe)||a!==null&&a.dependencies!==null&&cu(a.dependencies))?(ct||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(m,vt,Qe),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(m,vt,Qe)),typeof N.componentDidUpdate=="function"&&(l.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof N.componentDidUpdate!="function"||K===a.memoizedProps&&ht===a.memoizedState||(l.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||K===a.memoizedProps&&ht===a.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=vt),N.props=m,N.state=vt,N.context=Qe,m=Nt):(typeof N.componentDidUpdate!="function"||K===a.memoizedProps&&ht===a.memoizedState||(l.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||K===a.memoizedProps&&ht===a.memoizedState||(l.flags|=1024),m=!1)}return N=m,Cf(a,l),m=(l.flags&128)!==0,N||m?(N=l.stateNode,u=m&&typeof u.getDerivedStateFromError!="function"?null:N.render(),l.flags|=1,a!==null&&m?(l.child=Zi(l,a.child,null,_),l.child=Zi(l,null,u,_)):to(a,l,u,_),l.memoizedState=N.state,a=l.child):a=CA(a,l,_),a}function Sy(a,l,u,m){return Nl(),l.flags|=256,to(a,l,u,m),l.child}var jg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function kg(a){return{baseLanes:a,cachePool:Ee()}}function Ug(a,l,u){return a=a!==null?a.childLanes&~u:0,l&&(a|=el),a}function Ly(a,l,u){var m=l.pendingProps,_=!1,N=(l.flags&128)!==0,K;if((K=N)||(K=a!==null&&a.memoizedState===null?!1:(Xr.current&2)!==0),K&&(_=!0,l.flags&=-129),K=(l.flags&32)!==0,l.flags&=-33,a===null){if(Qr){if(_?Na(l):Oa(),(a=ii)?(a=Q_(a,ea),a=a!==null&&a.data!=="&"?a:null,a!==null&&(l.memoizedState={dehydrated:a,treeContext:ut!==null?{id:Ut,overflow:an}:null,retryLane:536870912,hydrationErrors:null},u=bA(a),u.return=l,l.child=u,ri=l,ii=null)):a=null,a===null)throw dl(l);return f0(a)?l.lanes=32:l.lanes=536870912,null}var pe=m.children;return m=m.fallback,_?(Oa(),_=l.mode,pe=Nf({mode:"hidden",children:pe},_),m=ul(m,_,u,null),pe.return=l,m.return=l,pe.sibling=m,l.child=pe,m=l.child,m.memoizedState=kg(u),m.childLanes=Ug(a,K,u),l.memoizedState=jg,Qd(null,m)):(Na(l),Ig(l,pe))}var Qe=a.memoizedState;if(Qe!==null&&(pe=Qe.dehydrated,pe!==null)){if(N)l.flags&256?(Na(l),l.flags&=-257,l=Tg(a,l,u)):l.memoizedState!==null?(Oa(),l.child=a.child,l.flags|=128,l=null):(Oa(),pe=m.fallback,_=l.mode,m=Nf({mode:"visible",children:m.children},_),pe=ul(pe,_,u,null),pe.flags|=2,m.return=l,pe.return=l,m.sibling=pe,l.child=m,Zi(l,a.child,null,u),m=l.child,m.memoizedState=kg(u),m.childLanes=Ug(a,K,u),l.memoizedState=jg,l=Qd(null,m));else if(Na(l),f0(pe)){if(K=pe.nextSibling&&pe.nextSibling.dataset,K)var ct=K.dgst;K=ct,m=Error(r(419)),m.stack="",m.digest=K,$l({value:m,source:null,stack:null}),l=Tg(a,l,u)}else if(fs||Jl(a,l,u,!1),K=(u&a.childLanes)!==0,fs||K){if(K=$i,K!==null&&(m=Oi(K,u),m!==0&&m!==Qe.retryLane))throw Qe.retryLane=m,mi(a,m),zo(K,a,m),Sg;h0(pe)||Ff(),l=Tg(a,l,u)}else h0(pe)?(l.flags|=192,l.child=a.child,l=null):(a=Qe.treeContext,ii=pl(pe.nextSibling),ri=l,Qr=!0,Bs=null,ea=!1,a!==null&&Ws(l,a),l=Ig(l,m.children),l.flags|=4096);return l}return _?(Oa(),pe=m.fallback,_=l.mode,Qe=a.child,ct=Qe.sibling,m=Js(Qe,{mode:"hidden",children:m.children}),m.subtreeFlags=Qe.subtreeFlags&65011712,ct!==null?pe=Js(ct,pe):(pe=ul(pe,_,u,null),pe.flags|=2),pe.return=l,m.return=l,m.sibling=pe,l.child=m,Qd(null,m),m=l.child,pe=a.child.memoizedState,pe===null?pe=kg(u):(_=pe.cachePool,_!==null?(Qe=Ca._currentValue,_=_.parent!==Qe?{parent:Qe,pool:Qe}:_):_=Ee(),pe={baseLanes:pe.baseLanes|u,cachePool:_}),m.memoizedState=pe,m.childLanes=Ug(a,K,u),l.memoizedState=jg,Qd(a.child,m)):(Na(l),u=a.child,a=u.sibling,u=Js(u,{mode:"visible",children:m.children}),u.return=l,u.sibling=null,a!==null&&(K=l.deletions,K===null?(l.deletions=[a],l.flags|=16):K.push(a)),l.child=u,l.memoizedState=null,u)}function Ig(a,l){return l=Nf({mode:"visible",children:l},a.mode),l.return=a,a.child=l}function Nf(a,l){return a=Xa(22,a,null,l),a.lanes=0,a}function Tg(a,l,u){return Zi(l,a.child,null,u),a=Ig(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function jy(a,l,u){a.lanes|=l;var m=a.alternate;m!==null&&(m.lanes|=l),VA(a.return,l,u)}function Fg(a,l,u,m,_,N){var K=a.memoizedState;K===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:u,tailMode:_,treeForkCount:N}:(K.isBackwards=l,K.rendering=null,K.renderingStartTime=0,K.last=m,K.tail=u,K.tailMode=_,K.treeForkCount=N)}function ky(a,l,u){var m=l.pendingProps,_=m.revealOrder,N=m.tail;m=m.children;var K=Xr.current,pe=(K&2)!==0;if(pe?(K=K&1|2,l.flags|=128):K&=1,ie(Xr,K),to(a,l,m,u),m=Qr?he:0,!pe&&a!==null&&(a.flags&128)!==0)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&jy(a,u,l);else if(a.tag===19)jy(a,u,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(_){case"forwards":for(u=l.child,_=null;u!==null;)a=u.alternate,a!==null&&Ds(a)===null&&(_=u),u=u.sibling;u=_,u===null?(_=l.child,l.child=null):(_=u.sibling,u.sibling=null),Fg(l,!1,_,u,N,m);break;case"backwards":case"unstable_legacy-backwards":for(u=null,_=l.child,l.child=null;_!==null;){if(a=_.alternate,a!==null&&Ds(a)===null){l.child=_;break}a=_.sibling,_.sibling=u,u=_,_=a}Fg(l,!0,u,null,N,m);break;case"together":Fg(l,!1,null,null,void 0,m);break;default:l.memoizedState=null}return l.child}function CA(a,l,u){if(a!==null&&(l.dependencies=a.dependencies),tc|=l.lanes,(u&l.childLanes)===0)if(a!==null){if(Jl(a,l,u,!1),(u&l.childLanes)===0)return null}else return null;if(a!==null&&l.child!==a.child)throw Error(r(153));if(l.child!==null){for(a=l.child,u=Js(a,a.pendingProps),l.child=u,u.return=l;a.sibling!==null;)a=a.sibling,u=u.sibling=Js(a,a.pendingProps),u.return=l;u.sibling=null}return l.child}function Og(a,l){return(a.lanes&l)!==0?!0:(a=a.dependencies,!!(a!==null&&cu(a)))}function XE(a,l,u){switch(l.tag){case 3:Ve(l,l.stateNode.containerInfo),Xl(l,Ca,a.memoizedState.cache),Nl();break;case 27:case 5:lt(l);break;case 4:Ve(l,l.stateNode.containerInfo);break;case 10:Xl(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,_i(l),null;break;case 13:var m=l.memoizedState;if(m!==null)return m.dehydrated!==null?(Na(l),l.flags|=128,null):(u&l.child.childLanes)!==0?Ly(a,l,u):(Na(l),a=CA(a,l,u),a!==null?a.sibling:null);Na(l);break;case 19:var _=(a.flags&128)!==0;if(m=(u&l.childLanes)!==0,m||(Jl(a,l,u,!1),m=(u&l.childLanes)!==0),_){if(m)return ky(a,l,u);l.flags|=128}if(_=l.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),ie(Xr,Xr.current),m)break;return null;case 22:return l.lanes=0,wy(a,l,u,l.pendingProps);case 24:Xl(l,Ca,a.memoizedState.cache)}return CA(a,l,u)}function Uy(a,l,u){if(a!==null)if(a.memoizedProps!==l.pendingProps)fs=!0;else{if(!Og(a,u)&&(l.flags&128)===0)return fs=!1,XE(a,l,u);fs=(a.flags&131072)!==0}else fs=!1,Qr&&(l.flags&1048576)!==0&&Cr(l,he,l.index);switch(l.lanes=0,l.tag){case 16:e:{var m=l.pendingProps;if(a=it(l.elementType),l.type=a,typeof a=="function")xA(a)?(m=Fc(a,m),l.tag=1,l=Ey(null,l,a,m,u)):(l.tag=0,l=Lg(null,l,a,m,u));else{if(a!=null){var _=a.$$typeof;if(_===G){l.tag=11,l=by(null,l,a,m,u);break e}else if(_===ge){l.tag=14,l=yy(null,l,a,m,u);break e}}throw l=me(a)||a,Error(r(306,l,""))}}return l;case 0:return Lg(a,l,l.type,l.pendingProps,u);case 1:return m=l.type,_=Fc(m,l.pendingProps),Ey(a,l,m,_,u);case 3:e:{if(Ve(l,l.stateNode.containerInfo),a===null)throw Error(r(387));m=l.pendingProps;var N=l.memoizedState;_=N.element,la(a,l),Ia(l,m,null,u);var K=l.memoizedState;if(m=K.cache,Xl(l,Ca,m),m!==N.cache&&yA(l,[Ca],u,!0),Di(),m=K.element,N.isDehydrated)if(N={element:m,isDehydrated:!1,cache:K.cache},l.updateQueue.baseState=N,l.memoizedState=N,l.flags&256){l=Sy(a,l,m,u);break e}else if(m!==_){_=p(Error(r(424)),l),$l(_),l=Sy(a,l,m,u);break e}else{switch(a=l.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(ii=pl(a.firstChild),ri=l,Qr=!0,Bs=null,ea=!0,u=yr(l,null,m,u),l.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Nl(),m===_){l=CA(a,l,u);break e}to(a,l,m,u)}l=l.child}return l;case 26:return Cf(a,l),a===null?(u=z_(l.type,null,l.pendingProps,null))?l.memoizedState=u:Qr||(u=l.type,a=l.pendingProps,m=Hf(ue.current).createElement(u),m[Wn]=l,m[Ar]=a,no(m,u,a),Qt(m),l.stateNode=m):l.memoizedState=z_(l.type,a.memoizedProps,l.pendingProps,a.memoizedState),null;case 27:return lt(l),a===null&&Qr&&(m=l.stateNode=R_(l.type,l.pendingProps,ue.current),ri=l,ea=!0,_=ii,sc(l.type)?(p0=_,ii=pl(m.firstChild)):ii=_),to(a,l,l.pendingProps.children,u),Cf(a,l),a===null&&(l.flags|=4194304),l.child;case 5:return a===null&&Qr&&((_=m=ii)&&(m=E4(m,l.type,l.pendingProps,ea),m!==null?(l.stateNode=m,ri=l,ii=pl(m.firstChild),ea=!1,_=!0):_=!1),_||dl(l)),lt(l),_=l.type,N=l.pendingProps,K=a!==null?a.memoizedProps:null,m=N.children,c0(_,N)?m=null:K!==null&&c0(_,K)&&(l.flags|=32),l.memoizedState!==null&&(_=Sd(a,l,gg,null,null,u),Jd._currentValue=_),Cf(a,l),to(a,l,m,u),l.child;case 6:return a===null&&Qr&&((a=u=ii)&&(u=S4(u,l.pendingProps,ea),u!==null?(l.stateNode=u,ri=l,ii=null,a=!0):a=!1),a||dl(l)),null;case 13:return Ly(a,l,u);case 4:return Ve(l,l.stateNode.containerInfo),m=l.pendingProps,a===null?l.child=Zi(l,null,m,u):to(a,l,m,u),l.child;case 11:return by(a,l,l.type,l.pendingProps,u);case 7:return to(a,l,l.pendingProps,u),l.child;case 8:return to(a,l,l.pendingProps.children,u),l.child;case 12:return to(a,l,l.pendingProps.children,u),l.child;case 10:return m=l.pendingProps,Xl(l,l.type,m.value),to(a,l,m.children,u),l.child;case 9:return _=l.type._context,m=l.pendingProps.children,Wl(l),_=Cs(_),m=m(_),l.flags|=1,to(a,l,m,u),l.child;case 14:return yy(a,l,l.type,l.pendingProps,u);case 15:return _y(a,l,l.type,l.pendingProps,u);case 19:return ky(a,l,u);case 31:return YE(a,l,u);case 22:return wy(a,l,u,l.pendingProps);case 24:return Wl(l),m=Cs(Ca),a===null?(_=ve(),_===null&&(_=$i,N=ZA(),_.pooledCache=N,N.refCount++,N!==null&&(_.pooledCacheLanes|=u),_=N),l.memoizedState={parent:m,cache:_},ln(l),Xl(l,Ca,_)):((a.lanes&u)!==0&&(la(a,l),Ia(l,null,null,u),Di()),_=a.memoizedState,N=l.memoizedState,_.parent!==m?(_={parent:m,cache:m},l.memoizedState=_,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=_),Xl(l,Ca,m)):(m=N.cache,Xl(l,Ca,m),m!==_.cache&&yA(l,[Ca],u,!0))),to(a,l,l.pendingProps.children,u),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function NA(a){a.flags|=4}function Qg(a,l,u,m,_){if((l=(a.mode&32)!==0)&&(l=!1),l){if(a.flags|=16777216,(_&335544128)===_)if(a.stateNode.complete)a.flags|=8192;else if(a_())a.flags|=8192;else throw _t=Ye,ot}else a.flags&=-16777217}function Iy(a,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!Z_(l))if(a_())a.flags|=8192;else throw _t=Ye,ot}function Ef(a,l){l!==null&&(a.flags|=4),a.flags&16384&&(l=a.tag!==22?ci():536870912,a.lanes|=l,Cu|=l)}function Dd(a,l){if(!Qr)switch(a.tailMode){case"hidden":l=a.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?a.tail=null:u.sibling=null;break;case"collapsed":u=a.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:m.sibling=null}}function ua(a){var l=a.alternate!==null&&a.alternate.child===a.child,u=0,m=0;if(l)for(var _=a.child;_!==null;)u|=_.lanes|_.childLanes,m|=_.subtreeFlags&65011712,m|=_.flags&65011712,_.return=a,_=_.sibling;else for(_=a.child;_!==null;)u|=_.lanes|_.childLanes,m|=_.subtreeFlags,m|=_.flags,_.return=a,_=_.sibling;return a.subtreeFlags|=m,a.childLanes=u,l}function JE(a,l,u){var m=l.pendingProps;switch(oa(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ua(l),null;case 1:return ua(l),null;case 3:return u=l.stateNode,m=null,a!==null&&(m=a.memoizedState.cache),l.memoizedState.cache!==m&&(l.flags|=2048),Qo(Ca),Ie(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(a===null||a.child===null)&&(fa(l)?NA(l):a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,jc())),ua(l),null;case 26:var _=l.type,N=l.memoizedState;return a===null?(NA(l),N!==null?(ua(l),Iy(l,N)):(ua(l),Qg(l,_,null,m,u))):N?N!==a.memoizedState?(NA(l),ua(l),Iy(l,N)):(ua(l),l.flags&=-16777217):(a=a.memoizedProps,a!==m&&NA(l),ua(l),Qg(l,_,a,m,u)),null;case 27:if(wt(l),u=ue.current,_=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==m&&NA(l);else{if(!m){if(l.stateNode===null)throw Error(r(166));return ua(l),null}a=O.current,fa(l)?GA(l):(a=R_(_,m,u),l.stateNode=a,NA(l))}return ua(l),null;case 5:if(wt(l),_=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==m&&NA(l);else{if(!m){if(l.stateNode===null)throw Error(r(166));return ua(l),null}if(N=O.current,fa(l))GA(l);else{var K=Hf(ue.current);switch(N){case 1:N=K.createElementNS("http://www.w3.org/2000/svg",_);break;case 2:N=K.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;default:switch(_){case"svg":N=K.createElementNS("http://www.w3.org/2000/svg",_);break;case"math":N=K.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;case"script":N=K.createElement("div"),N.innerHTML="<script><\/script>",N=N.removeChild(N.firstChild);break;case"select":N=typeof m.is=="string"?K.createElement("select",{is:m.is}):K.createElement("select"),m.multiple?N.multiple=!0:m.size&&(N.size=m.size);break;default:N=typeof m.is=="string"?K.createElement(_,{is:m.is}):K.createElement(_)}}N[Wn]=l,N[Ar]=m;e:for(K=l.child;K!==null;){if(K.tag===5||K.tag===6)N.appendChild(K.stateNode);else if(K.tag!==4&&K.tag!==27&&K.child!==null){K.child.return=K,K=K.child;continue}if(K===l)break e;for(;K.sibling===null;){if(K.return===null||K.return===l)break e;K=K.return}K.sibling.return=K.return,K=K.sibling}l.stateNode=N;e:switch(no(N,_,m),_){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&NA(l)}}return ua(l),Qg(l,l.type,a===null?null:a.memoizedProps,l.pendingProps,u),null;case 6:if(a&&l.stateNode!=null)a.memoizedProps!==m&&NA(l);else{if(typeof m!="string"&&l.stateNode===null)throw Error(r(166));if(a=ue.current,fa(l)){if(a=l.stateNode,u=l.memoizedProps,m=null,_=ri,_!==null)switch(_.tag){case 27:case 5:m=_.memoizedProps}a[Wn]=l,a=!!(a.nodeValue===u||m!==null&&m.suppressHydrationWarning===!0||L_(a.nodeValue,u)),a||dl(l,!0)}else a=Hf(a).createTextNode(m),a[Wn]=l,l.stateNode=a}return ua(l),null;case 31:if(u=l.memoizedState,a===null||a.memoizedState!==null){if(m=fa(l),u!==null){if(a===null){if(!m)throw Error(r(318));if(a=l.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[Wn]=l}else Nl(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;ua(l),a=!1}else u=jc(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=u),a=!0;if(!a)return l.flags&256?(ji(l),l):(ji(l),null);if((l.flags&128)!==0)throw Error(r(558))}return ua(l),null;case 13:if(m=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(_=fa(l),m!==null&&m.dehydrated!==null){if(a===null){if(!_)throw Error(r(318));if(_=l.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(r(317));_[Wn]=l}else Nl(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;ua(l),_=!1}else _=jc(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=_),_=!0;if(!_)return l.flags&256?(ji(l),l):(ji(l),null)}return ji(l),(l.flags&128)!==0?(l.lanes=u,l):(u=m!==null,a=a!==null&&a.memoizedState!==null,u&&(m=l.child,_=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(_=m.alternate.memoizedState.cachePool.pool),N=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(N=m.memoizedState.cachePool.pool),N!==_&&(m.flags|=2048)),u!==a&&u&&(l.child.flags|=8192),Ef(l,l.updateQueue),ua(l),null);case 4:return Ie(),a===null&&a0(l.stateNode.containerInfo),ua(l),null;case 10:return Qo(l.type),ua(l),null;case 19:if(P(Xr),m=l.memoizedState,m===null)return ua(l),null;if(_=(l.flags&128)!==0,N=m.rendering,N===null)if(_)Dd(m,!1);else{if(Da!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(N=Ds(a),N!==null){for(l.flags|=128,Dd(m,!1),a=N.updateQueue,l.updateQueue=a,Ef(l,a),l.subtreeFlags=0,a=u,u=l.child;u!==null;)Gl(u,a),u=u.sibling;return ie(Xr,Xr.current&1|2),Qr&&Un(l,m.treeForkCount),l.child}a=a.sibling}m.tail!==null&&jn()>Uf&&(l.flags|=128,_=!0,Dd(m,!1),l.lanes=4194304)}else{if(!_)if(a=Ds(N),a!==null){if(l.flags|=128,_=!0,a=a.updateQueue,l.updateQueue=a,Ef(l,a),Dd(m,!0),m.tail===null&&m.tailMode==="hidden"&&!N.alternate&&!Qr)return ua(l),null}else 2*jn()-m.renderingStartTime>Uf&&u!==536870912&&(l.flags|=128,_=!0,Dd(m,!1),l.lanes=4194304);m.isBackwards?(N.sibling=l.child,l.child=N):(a=m.last,a!==null?a.sibling=N:l.child=N,m.last=N)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=jn(),a.sibling=null,u=Xr.current,ie(Xr,_?u&1|2:u&1),Qr&&Un(l,m.treeForkCount),a):(ua(l),null);case 22:case 23:return ji(l),es(),m=l.memoizedState!==null,a!==null?a.memoizedState!==null!==m&&(l.flags|=8192):m&&(l.flags|=8192),m?(u&536870912)!==0&&(l.flags&128)===0&&(ua(l),l.subtreeFlags&6&&(l.flags|=8192)):ua(l),u=l.updateQueue,u!==null&&Ef(l,u.retryQueue),u=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==u&&(l.flags|=2048),a!==null&&P(fe),null;case 24:return u=null,a!==null&&(u=a.memoizedState.cache),l.memoizedState.cache!==u&&(l.flags|=2048),Qo(Ca),ua(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function WE(a,l){switch(oa(l),l.tag){case 1:return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return Qo(Ca),Ie(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 26:case 27:case 5:return wt(l),null;case 31:if(l.memoizedState!==null){if(ji(l),l.alternate===null)throw Error(r(340));Nl()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 13:if(ji(l),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(r(340));Nl()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return P(Xr),null;case 4:return Ie(),null;case 10:return Qo(l.type),null;case 22:case 23:return ji(l),es(),a!==null&&P(fe),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 24:return Qo(Ca),null;case 25:return null;default:return null}}function Ty(a,l){switch(oa(l),l.tag){case 3:Qo(Ca),Ie();break;case 26:case 27:case 5:wt(l);break;case 4:Ie();break;case 31:l.memoizedState!==null&&ji(l);break;case 13:ji(l);break;case 19:P(Xr);break;case 10:Qo(l.type);break;case 22:case 23:ji(l),es(),a!==null&&P(fe);break;case 24:Qo(Ca)}}function Md(a,l){try{var u=l.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var _=m.next;u=_;do{if((u.tag&a)===a){m=void 0;var N=u.create,K=u.inst;m=N(),K.destroy=m}u=u.next}while(u!==_)}}catch(pe){Ui(l,l.return,pe)}}function WA(a,l,u){try{var m=l.updateQueue,_=m!==null?m.lastEffect:null;if(_!==null){var N=_.next;m=N;do{if((m.tag&a)===a){var K=m.inst,pe=K.destroy;if(pe!==void 0){K.destroy=void 0,_=l;var Qe=u,ct=pe;try{ct()}catch(Nt){Ui(_,Qe,Nt)}}}m=m.next}while(m!==N)}}catch(Nt){Ui(l,l.return,Nt)}}function Fy(a){var l=a.updateQueue;if(l!==null){var u=a.stateNode;try{Ta(l,u)}catch(m){Ui(a,a.return,m)}}}function Oy(a,l,u){u.props=Fc(a.type,a.memoizedProps),u.state=a.memoizedState;try{u.componentWillUnmount()}catch(m){Ui(a,l,m)}}function Rd(a,l){try{var u=a.ref;if(u!==null){switch(a.tag){case 26:case 27:case 5:var m=a.stateNode;break;case 30:m=a.stateNode;break;default:m=a.stateNode}typeof u=="function"?a.refCleanup=u(m):u.current=m}}catch(_){Ui(a,l,_)}}function iA(a,l){var u=a.ref,m=a.refCleanup;if(u!==null)if(typeof m=="function")try{m()}catch(_){Ui(a,l,_)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(_){Ui(a,l,_)}else u.current=null}function Qy(a){var l=a.type,u=a.memoizedProps,m=a.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":u.autoFocus&&m.focus();break e;case"img":u.src?m.src=u.src:u.srcSet&&(m.srcset=u.srcSet)}}catch(_){Ui(a,a.return,_)}}function Dg(a,l,u){try{var m=a.stateNode;y4(m,a.type,u,l),m[Ar]=l}catch(_){Ui(a,a.return,_)}}function Dy(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&sc(a.type)||a.tag===4}function Mg(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Dy(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&sc(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Rg(a,l,u){var m=a.tag;if(m===5||m===6)a=a.stateNode,l?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(a,l):(l=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,l.appendChild(a),u=u._reactRootContainer,u!=null||l.onclick!==null||(l.onclick=qa));else if(m!==4&&(m===27&&sc(a.type)&&(u=a.stateNode,l=null),a=a.child,a!==null))for(Rg(a,l,u),a=a.sibling;a!==null;)Rg(a,l,u),a=a.sibling}function Sf(a,l,u){var m=a.tag;if(m===5||m===6)a=a.stateNode,l?u.insertBefore(a,l):u.appendChild(a);else if(m!==4&&(m===27&&sc(a.type)&&(u=a.stateNode),a=a.child,a!==null))for(Sf(a,l,u),a=a.sibling;a!==null;)Sf(a,l,u),a=a.sibling}function My(a){var l=a.stateNode,u=a.memoizedProps;try{for(var m=a.type,_=l.attributes;_.length;)l.removeAttributeNode(_[0]);no(l,m,u),l[Wn]=a,l[Ar]=u}catch(N){Ui(a,a.return,N)}}var EA=!1,ps=!1,Pg=!1,Ry=typeof WeakSet=="function"?WeakSet:Set,Ms=null;function e4(a,l){if(a=a.containerInfo,l0=$f,a=we(a),Ue(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else e:{u=(u=a.ownerDocument)&&u.defaultView||window;var m=u.getSelection&&u.getSelection();if(m&&m.rangeCount!==0){u=m.anchorNode;var _=m.anchorOffset,N=m.focusNode;m=m.focusOffset;try{u.nodeType,N.nodeType}catch{u=null;break e}var K=0,pe=-1,Qe=-1,ct=0,Nt=0,Dt=a,ht=null;t:for(;;){for(var vt;Dt!==u||_!==0&&Dt.nodeType!==3||(pe=K+_),Dt!==N||m!==0&&Dt.nodeType!==3||(Qe=K+m),Dt.nodeType===3&&(K+=Dt.nodeValue.length),(vt=Dt.firstChild)!==null;)ht=Dt,Dt=vt;for(;;){if(Dt===a)break t;if(ht===u&&++ct===_&&(pe=K),ht===N&&++Nt===m&&(Qe=K),(vt=Dt.nextSibling)!==null)break;Dt=ht,ht=Dt.parentNode}Dt=vt}u=pe===-1||Qe===-1?null:{start:pe,end:Qe}}else u=null}u=u||{start:0,end:0}}else u=null;for(A0={focusedElem:a,selectionRange:u},$f=!1,Ms=l;Ms!==null;)if(l=Ms,a=l.child,(l.subtreeFlags&1028)!==0&&a!==null)a.return=l,Ms=a;else for(;Ms!==null;){switch(l=Ms,N=l.alternate,a=l.flags,l.tag){case 0:if((a&4)!==0&&(a=l.updateQueue,a=a!==null?a.events:null,a!==null))for(u=0;u<a.length;u++)_=a[u],_.ref.impl=_.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&N!==null){a=void 0,u=l,_=N.memoizedProps,N=N.memoizedState,m=u.stateNode;try{var In=Fc(u.type,_);a=m.getSnapshotBeforeUpdate(In,N),m.__reactInternalSnapshotBeforeUpdate=a}catch(ar){Ui(u,u.return,ar)}}break;case 3:if((a&1024)!==0){if(a=l.stateNode.containerInfo,u=a.nodeType,u===9)d0(a);else if(u===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":d0(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=l.sibling,a!==null){a.return=l.return,Ms=a;break}Ms=l.return}}function Py(a,l,u){var m=u.flags;switch(u.tag){case 0:case 11:case 15:LA(a,u),m&4&&Md(5,u);break;case 1:if(LA(a,u),m&4)if(a=u.stateNode,l===null)try{a.componentDidMount()}catch(K){Ui(u,u.return,K)}else{var _=Fc(u.type,l.memoizedProps);l=l.memoizedState;try{a.componentDidUpdate(_,l,a.__reactInternalSnapshotBeforeUpdate)}catch(K){Ui(u,u.return,K)}}m&64&&Fy(u),m&512&&Rd(u,u.return);break;case 3:if(LA(a,u),m&64&&(a=u.updateQueue,a!==null)){if(l=null,u.child!==null)switch(u.child.tag){case 27:case 5:l=u.child.stateNode;break;case 1:l=u.child.stateNode}try{Ta(a,l)}catch(K){Ui(u,u.return,K)}}break;case 27:l===null&&m&4&&My(u);case 26:case 5:LA(a,u),l===null&&m&4&&Qy(u),m&512&&Rd(u,u.return);break;case 12:LA(a,u);break;case 31:LA(a,u),m&4&&qy(a,u);break;case 13:LA(a,u),m&4&&Ky(a,u),m&64&&(a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(u=A4.bind(null,u),L4(a,u))));break;case 22:if(m=u.memoizedState!==null||EA,!m){l=l!==null&&l.memoizedState!==null||ps,_=EA;var N=ps;EA=m,(ps=l)&&!N?jA(a,u,(u.subtreeFlags&8772)!==0):LA(a,u),EA=_,ps=N}break;case 30:break;default:LA(a,u)}}function Hy(a){var l=a.alternate;l!==null&&(a.alternate=null,Hy(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&ba(l)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var ga=null,Mo=!1;function SA(a,l,u){for(u=u.child;u!==null;)zy(a,l,u),u=u.sibling}function zy(a,l,u){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(yt,u)}catch{}switch(u.tag){case 26:ps||iA(u,l),SA(a,l,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:ps||iA(u,l);var m=ga,_=Mo;sc(u.type)&&(ga=u.stateNode,Mo=!1),SA(a,l,u),$d(u.stateNode),ga=m,Mo=_;break;case 5:ps||iA(u,l);case 6:if(m=ga,_=Mo,ga=null,SA(a,l,u),ga=m,Mo=_,ga!==null)if(Mo)try{(ga.nodeType===9?ga.body:ga.nodeName==="HTML"?ga.ownerDocument.body:ga).removeChild(u.stateNode)}catch(N){Ui(u,l,N)}else try{ga.removeChild(u.stateNode)}catch(N){Ui(u,l,N)}break;case 18:ga!==null&&(Mo?(a=ga,F_(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,u.stateNode),Iu(a)):F_(ga,u.stateNode));break;case 4:m=ga,_=Mo,ga=u.stateNode.containerInfo,Mo=!0,SA(a,l,u),ga=m,Mo=_;break;case 0:case 11:case 14:case 15:WA(2,u,l),ps||WA(4,u,l),SA(a,l,u);break;case 1:ps||(iA(u,l),m=u.stateNode,typeof m.componentWillUnmount=="function"&&Oy(u,l,m)),SA(a,l,u);break;case 21:SA(a,l,u);break;case 22:ps=(m=ps)||u.memoizedState!==null,SA(a,l,u),ps=m;break;default:SA(a,l,u)}}function qy(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Iu(a)}catch(u){Ui(l,l.return,u)}}}function Ky(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Iu(a)}catch(u){Ui(l,l.return,u)}}function t4(a){switch(a.tag){case 31:case 13:case 19:var l=a.stateNode;return l===null&&(l=a.stateNode=new Ry),l;case 22:return a=a.stateNode,l=a._retryCache,l===null&&(l=a._retryCache=new Ry),l;default:throw Error(r(435,a.tag))}}function Lf(a,l){var u=t4(a);l.forEach(function(m){if(!u.has(m)){u.add(m);var _=c4.bind(null,a,m);m.then(_,_)}})}function Ro(a,l){var u=l.deletions;if(u!==null)for(var m=0;m<u.length;m++){var _=u[m],N=a,K=l,pe=K;e:for(;pe!==null;){switch(pe.tag){case 27:if(sc(pe.type)){ga=pe.stateNode,Mo=!1;break e}break;case 5:ga=pe.stateNode,Mo=!1;break e;case 3:case 4:ga=pe.stateNode.containerInfo,Mo=!0;break e}pe=pe.return}if(ga===null)throw Error(r(160));zy(N,K,_),ga=null,Mo=!1,N=_.alternate,N!==null&&(N.return=null),_.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)Gy(l,a),l=l.sibling}var kl=null;function Gy(a,l){var u=a.alternate,m=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Ro(l,a),Po(a),m&4&&(WA(3,a,a.return),Md(3,a),WA(5,a,a.return));break;case 1:Ro(l,a),Po(a),m&512&&(ps||u===null||iA(u,u.return)),m&64&&EA&&(a=a.updateQueue,a!==null&&(m=a.callbacks,m!==null&&(u=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=u===null?m:u.concat(m))));break;case 26:var _=kl;if(Ro(l,a),Po(a),m&512&&(ps||u===null||iA(u,u.return)),m&4){var N=u!==null?u.memoizedState:null;if(m=a.memoizedState,u===null)if(m===null)if(a.stateNode===null){e:{m=a.type,u=a.memoizedProps,_=_.ownerDocument||_;t:switch(m){case"title":N=_.getElementsByTagName("title")[0],(!N||N[Jn]||N[Wn]||N.namespaceURI==="http://www.w3.org/2000/svg"||N.hasAttribute("itemprop"))&&(N=_.createElement(m),_.head.insertBefore(N,_.querySelector("head > title"))),no(N,m,u),N[Wn]=a,Qt(N),m=N;break e;case"link":var K=G_("link","href",_).get(m+(u.href||""));if(K){for(var pe=0;pe<K.length;pe++)if(N=K[pe],N.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&N.getAttribute("rel")===(u.rel==null?null:u.rel)&&N.getAttribute("title")===(u.title==null?null:u.title)&&N.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){K.splice(pe,1);break t}}N=_.createElement(m),no(N,m,u),_.head.appendChild(N);break;case"meta":if(K=G_("meta","content",_).get(m+(u.content||""))){for(pe=0;pe<K.length;pe++)if(N=K[pe],N.getAttribute("content")===(u.content==null?null:""+u.content)&&N.getAttribute("name")===(u.name==null?null:u.name)&&N.getAttribute("property")===(u.property==null?null:u.property)&&N.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&N.getAttribute("charset")===(u.charSet==null?null:u.charSet)){K.splice(pe,1);break t}}N=_.createElement(m),no(N,m,u),_.head.appendChild(N);break;default:throw Error(r(468,m))}N[Wn]=a,Qt(N),m=N}a.stateNode=m}else V_(_,a.type,a.stateNode);else a.stateNode=K_(_,m,a.memoizedProps);else N!==m?(N===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):N.count--,m===null?V_(_,a.type,a.stateNode):K_(_,m,a.memoizedProps)):m===null&&a.stateNode!==null&&Dg(a,a.memoizedProps,u.memoizedProps)}break;case 27:Ro(l,a),Po(a),m&512&&(ps||u===null||iA(u,u.return)),u!==null&&m&4&&Dg(a,a.memoizedProps,u.memoizedProps);break;case 5:if(Ro(l,a),Po(a),m&512&&(ps||u===null||iA(u,u.return)),a.flags&32){_=a.stateNode;try{er(_,"")}catch(In){Ui(a,a.return,In)}}m&4&&a.stateNode!=null&&(_=a.memoizedProps,Dg(a,_,u!==null?u.memoizedProps:_)),m&1024&&(Pg=!0);break;case 6:if(Ro(l,a),Po(a),m&4){if(a.stateNode===null)throw Error(r(162));m=a.memoizedProps,u=a.stateNode;try{u.nodeValue=m}catch(In){Ui(a,a.return,In)}}break;case 3:if(Kf=null,_=kl,kl=zf(l.containerInfo),Ro(l,a),kl=_,Po(a),m&4&&u!==null&&u.memoizedState.isDehydrated)try{Iu(l.containerInfo)}catch(In){Ui(a,a.return,In)}Pg&&(Pg=!1,Vy(a));break;case 4:m=kl,kl=zf(a.stateNode.containerInfo),Ro(l,a),Po(a),kl=m;break;case 12:Ro(l,a),Po(a);break;case 31:Ro(l,a),Po(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,Lf(a,m)));break;case 13:Ro(l,a),Po(a),a.child.flags&8192&&a.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(kf=jn()),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,Lf(a,m)));break;case 22:_=a.memoizedState!==null;var Qe=u!==null&&u.memoizedState!==null,ct=EA,Nt=ps;if(EA=ct||_,ps=Nt||Qe,Ro(l,a),ps=Nt,EA=ct,Po(a),m&8192)e:for(l=a.stateNode,l._visibility=_?l._visibility&-2:l._visibility|1,_&&(u===null||Qe||EA||ps||Oc(a)),u=null,l=a;;){if(l.tag===5||l.tag===26){if(u===null){Qe=u=l;try{if(N=Qe.stateNode,_)K=N.style,typeof K.setProperty=="function"?K.setProperty("display","none","important"):K.display="none";else{pe=Qe.stateNode;var Dt=Qe.memoizedProps.style,ht=Dt!=null&&Dt.hasOwnProperty("display")?Dt.display:null;pe.style.display=ht==null||typeof ht=="boolean"?"":(""+ht).trim()}}catch(In){Ui(Qe,Qe.return,In)}}}else if(l.tag===6){if(u===null){Qe=l;try{Qe.stateNode.nodeValue=_?"":Qe.memoizedProps}catch(In){Ui(Qe,Qe.return,In)}}}else if(l.tag===18){if(u===null){Qe=l;try{var vt=Qe.stateNode;_?O_(vt,!0):O_(Qe.stateNode,!1)}catch(In){Ui(Qe,Qe.return,In)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===a)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break e;for(;l.sibling===null;){if(l.return===null||l.return===a)break e;u===l&&(u=null),l=l.return}u===l&&(u=null),l.sibling.return=l.return,l=l.sibling}m&4&&(m=a.updateQueue,m!==null&&(u=m.retryQueue,u!==null&&(m.retryQueue=null,Lf(a,u))));break;case 19:Ro(l,a),Po(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,Lf(a,m)));break;case 30:break;case 21:break;default:Ro(l,a),Po(a)}}function Po(a){var l=a.flags;if(l&2){try{for(var u,m=a.return;m!==null;){if(Dy(m)){u=m;break}m=m.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var _=u.stateNode,N=Mg(a);Sf(a,N,_);break;case 5:var K=u.stateNode;u.flags&32&&(er(K,""),u.flags&=-33);var pe=Mg(a);Sf(a,pe,K);break;case 3:case 4:var Qe=u.stateNode.containerInfo,ct=Mg(a);Rg(a,ct,Qe);break;default:throw Error(r(161))}}catch(Nt){Ui(a,a.return,Nt)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function Vy(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var l=a;Vy(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),a=a.sibling}}function LA(a,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)Py(a,l.alternate,l),l=l.sibling}function Oc(a){for(a=a.child;a!==null;){var l=a;switch(l.tag){case 0:case 11:case 14:case 15:WA(4,l,l.return),Oc(l);break;case 1:iA(l,l.return);var u=l.stateNode;typeof u.componentWillUnmount=="function"&&Oy(l,l.return,u),Oc(l);break;case 27:$d(l.stateNode);case 26:case 5:iA(l,l.return),Oc(l);break;case 22:l.memoizedState===null&&Oc(l);break;case 30:Oc(l);break;default:Oc(l)}a=a.sibling}}function jA(a,l,u){for(u=u&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var m=l.alternate,_=a,N=l,K=N.flags;switch(N.tag){case 0:case 11:case 15:jA(_,N,u),Md(4,N);break;case 1:if(jA(_,N,u),m=N,_=m.stateNode,typeof _.componentDidMount=="function")try{_.componentDidMount()}catch(ct){Ui(m,m.return,ct)}if(m=N,_=m.updateQueue,_!==null){var pe=m.stateNode;try{var Qe=_.shared.hiddenCallbacks;if(Qe!==null)for(_.shared.hiddenCallbacks=null,_=0;_<Qe.length;_++)Qs(Qe[_],pe)}catch(ct){Ui(m,m.return,ct)}}u&&K&64&&Fy(N),Rd(N,N.return);break;case 27:My(N);case 26:case 5:jA(_,N,u),u&&m===null&&K&4&&Qy(N),Rd(N,N.return);break;case 12:jA(_,N,u);break;case 31:jA(_,N,u),u&&K&4&&qy(_,N);break;case 13:jA(_,N,u),u&&K&4&&Ky(_,N);break;case 22:N.memoizedState===null&&jA(_,N,u),Rd(N,N.return);break;case 30:break;default:jA(_,N,u)}l=l.sibling}}function Hg(a,l){var u=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),a=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(a=l.memoizedState.cachePool.pool),a!==u&&(a!=null&&a.refCount++,u!=null&&kc(u))}function zg(a,l){a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&kc(a))}function Ul(a,l,u,m){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)Zy(a,l,u,m),l=l.sibling}function Zy(a,l,u,m){var _=l.flags;switch(l.tag){case 0:case 11:case 15:Ul(a,l,u,m),_&2048&&Md(9,l);break;case 1:Ul(a,l,u,m);break;case 3:Ul(a,l,u,m),_&2048&&(a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&kc(a)));break;case 12:if(_&2048){Ul(a,l,u,m),a=l.stateNode;try{var N=l.memoizedProps,K=N.id,pe=N.onPostCommit;typeof pe=="function"&&pe(K,l.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(Qe){Ui(l,l.return,Qe)}}else Ul(a,l,u,m);break;case 31:Ul(a,l,u,m);break;case 13:Ul(a,l,u,m);break;case 23:break;case 22:N=l.stateNode,K=l.alternate,l.memoizedState!==null?N._visibility&2?Ul(a,l,u,m):Pd(a,l):N._visibility&2?Ul(a,l,u,m):(N._visibility|=2,_u(a,l,u,m,(l.subtreeFlags&10256)!==0||!1)),_&2048&&Hg(K,l);break;case 24:Ul(a,l,u,m),_&2048&&zg(l.alternate,l);break;default:Ul(a,l,u,m)}}function _u(a,l,u,m,_){for(_=_&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var N=a,K=l,pe=u,Qe=m,ct=K.flags;switch(K.tag){case 0:case 11:case 15:_u(N,K,pe,Qe,_),Md(8,K);break;case 23:break;case 22:var Nt=K.stateNode;K.memoizedState!==null?Nt._visibility&2?_u(N,K,pe,Qe,_):Pd(N,K):(Nt._visibility|=2,_u(N,K,pe,Qe,_)),_&&ct&2048&&Hg(K.alternate,K);break;case 24:_u(N,K,pe,Qe,_),_&&ct&2048&&zg(K.alternate,K);break;default:_u(N,K,pe,Qe,_)}l=l.sibling}}function Pd(a,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var u=a,m=l,_=m.flags;switch(m.tag){case 22:Pd(u,m),_&2048&&Hg(m.alternate,m);break;case 24:Pd(u,m),_&2048&&zg(m.alternate,m);break;default:Pd(u,m)}l=l.sibling}}var Hd=8192;function wu(a,l,u){if(a.subtreeFlags&Hd)for(a=a.child;a!==null;)$y(a,l,u),a=a.sibling}function $y(a,l,u){switch(a.tag){case 26:wu(a,l,u),a.flags&Hd&&a.memoizedState!==null&&P4(u,kl,a.memoizedState,a.memoizedProps);break;case 5:wu(a,l,u);break;case 3:case 4:var m=kl;kl=zf(a.stateNode.containerInfo),wu(a,l,u),kl=m;break;case 22:a.memoizedState===null&&(m=a.alternate,m!==null&&m.memoizedState!==null?(m=Hd,Hd=16777216,wu(a,l,u),Hd=m):wu(a,l,u));break;default:wu(a,l,u)}}function Yy(a){var l=a.alternate;if(l!==null&&(a=l.child,a!==null)){l.child=null;do l=a.sibling,a.sibling=null,a=l;while(a!==null)}}function zd(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var u=0;u<l.length;u++){var m=l[u];Ms=m,Jy(m,a)}Yy(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Xy(a),a=a.sibling}function Xy(a){switch(a.tag){case 0:case 11:case 15:zd(a),a.flags&2048&&WA(9,a,a.return);break;case 3:zd(a);break;case 12:zd(a);break;case 22:var l=a.stateNode;a.memoizedState!==null&&l._visibility&2&&(a.return===null||a.return.tag!==13)?(l._visibility&=-3,jf(a)):zd(a);break;default:zd(a)}}function jf(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var u=0;u<l.length;u++){var m=l[u];Ms=m,Jy(m,a)}Yy(a)}for(a=a.child;a!==null;){switch(l=a,l.tag){case 0:case 11:case 15:WA(8,l,l.return),jf(l);break;case 22:u=l.stateNode,u._visibility&2&&(u._visibility&=-3,jf(l));break;default:jf(l)}a=a.sibling}}function Jy(a,l){for(;Ms!==null;){var u=Ms;switch(u.tag){case 0:case 11:case 15:WA(8,u,l);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var m=u.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:kc(u.memoizedState.cache)}if(m=u.child,m!==null)m.return=u,Ms=m;else e:for(u=a;Ms!==null;){m=Ms;var _=m.sibling,N=m.return;if(Hy(m),m===u){Ms=null;break e}if(_!==null){_.return=N,Ms=_;break e}Ms=N}}}var n4={getCacheForType:function(a){var l=Cs(Ca),u=l.data.get(a);return u===void 0&&(u=a(),l.data.set(a,u)),u},cacheSignal:function(){return Cs(Ca).controller.signal}},r4=typeof WeakMap=="function"?WeakMap:Map,wi=0,$i=null,zr=null,Gr=0,ki=0,Wo=null,ec=!1,Bu=!1,qg=!1,kA=0,Da=0,tc=0,Qc=0,Kg=0,el=0,Cu=0,qd=null,Ho=null,Gg=!1,kf=0,Wy=0,Uf=1/0,If=null,nc=null,Es=0,rc=null,Nu=null,UA=0,Vg=0,Zg=null,e_=null,Kd=0,$g=null;function tl(){return(wi&2)!==0&&Gr!==0?Gr&-Gr:se.T!==null?t0():gn()}function t_(){if(el===0)if((Gr&536870912)===0||Qr){var a=jr;jr<<=1,(jr&3932160)===0&&(jr=262144),el=a}else el=536870912;return a=ca.current,a!==null&&(a.flags|=32),el}function zo(a,l,u){(a===$i&&(ki===2||ki===9)||a.cancelPendingCommit!==null)&&(Eu(a,0),ic(a,Gr,el,!1)),fn(a,u),((wi&2)===0||a!==$i)&&(a===$i&&((wi&2)===0&&(Qc|=u),Da===4&&ic(a,Gr,el,!1)),aA(a))}function n_(a,l,u){if((wi&6)!==0)throw Error(r(327));var m=!u&&(l&127)===0&&(l&a.expiredLanes)===0||qi(a,l),_=m?s4(a,l):Xg(a,l,!0),N=m;do{if(_===0){Bu&&!m&&ic(a,l,0,!1);break}else{if(u=a.current.alternate,N&&!i4(u)){_=Xg(a,l,!1),N=!1;continue}if(_===2){if(N=l,a.errorRecoveryDisabledLanes&N)var K=0;else K=a.pendingLanes&-536870913,K=K!==0?K:K&536870912?536870912:0;if(K!==0){l=K;e:{var pe=a;_=qd;var Qe=pe.current.memoizedState.isDehydrated;if(Qe&&(Eu(pe,K).flags|=256),K=Xg(pe,K,!1),K!==2){if(qg&&!Qe){pe.errorRecoveryDisabledLanes|=N,Qc|=N,_=4;break e}N=Ho,Ho=_,N!==null&&(Ho===null?Ho=N:Ho.push.apply(Ho,N))}_=K}if(N=!1,_!==2)continue}}if(_===1){Eu(a,0),ic(a,l,0,!0);break}e:{switch(m=a,N=_,N){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:ic(m,l,el,!ec);break e;case 2:Ho=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(_=kf+300-jn(),10<_)){if(ic(m,l,el,!ec),cr(m,0,!0)!==0)break e;UA=l,m.timeoutHandle=I_(r_.bind(null,m,u,Ho,If,Gg,l,el,Qc,Cu,ec,N,"Throttled",-0,0),_);break e}r_(m,u,Ho,If,Gg,l,el,Qc,Cu,ec,N,null,-0,0)}}break}while(!0);aA(a)}function r_(a,l,u,m,_,N,K,pe,Qe,ct,Nt,Dt,ht,vt){if(a.timeoutHandle=-1,Dt=l.subtreeFlags,Dt&8192||(Dt&16785408)===16785408){Dt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:qa},$y(l,N,Dt);var In=(N&62914560)===N?kf-jn():(N&4194048)===N?Wy-jn():0;if(In=H4(Dt,In),In!==null){UA=N,a.cancelPendingCommit=In(u_.bind(null,a,l,N,u,m,_,K,pe,Qe,Nt,Dt,null,ht,vt)),ic(a,N,K,!ct);return}}u_(a,l,N,u,m,_,K,pe,Qe)}function i4(a){for(var l=a;;){var u=l.tag;if((u===0||u===11||u===15)&&l.flags&16384&&(u=l.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var m=0;m<u.length;m++){var _=u[m],N=_.getSnapshot;_=_.value;try{if(!C(N(),_))return!1}catch{return!1}}if(u=l.child,l.subtreeFlags&16384&&u!==null)u.return=l,l=u;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function ic(a,l,u,m){l&=~Kg,l&=~Qc,a.suspendedLanes|=l,a.pingedLanes&=~l,m&&(a.warmLanes|=l),m=a.expirationTimes;for(var _=l;0<_;){var N=31-Rt(_),K=1<<N;m[N]=-1,_&=~K}u!==0&&Yn(a,u,l)}function Tf(){return(wi&6)===0?(Gd(0),!1):!0}function Yg(){if(zr!==null){if(ki===0)var a=zr.return;else a=zr,Oo=Jo=null,pu(a),Mt=null,Fn=0,a=zr;for(;a!==null;)Ty(a.alternate,a),a=a.return;zr=null}}function Eu(a,l){var u=a.timeoutHandle;u!==-1&&(a.timeoutHandle=-1,B4(u)),u=a.cancelPendingCommit,u!==null&&(a.cancelPendingCommit=null,u()),UA=0,Yg(),$i=a,zr=u=Js(a.current,null),Gr=l,ki=0,Wo=null,ec=!1,Bu=qi(a,l),qg=!1,Cu=el=Kg=Qc=tc=Da=0,Ho=qd=null,Gg=!1,(l&8)!==0&&(l|=l&32);var m=a.entangledLanes;if(m!==0)for(a=a.entanglements,m&=l;0<m;){var _=31-Rt(m),N=1<<_;l|=a[_],m&=~N}return kA=l,ds(),u}function i_(a,l){Vn=null,se.H=Od,l===Ge||l===Ne?(l=St(),ki=3):l===ot?(l=St(),ki=4):ki=l===Sg?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Wo=l,zr===null&&(Da=1,wf(a,p(l,a.current)))}function a_(){var a=ca.current;return a===null?!0:(Gr&4194048)===Gr?si===null:(Gr&62914560)===Gr||(Gr&536870912)!==0?a===si:!1}function s_(){var a=se.H;return se.H=Od,a===null?Od:a}function o_(){var a=se.A;return se.A=n4,a}function Ff(){Da=4,ec||(Gr&4194048)!==Gr&&ca.current!==null||(Bu=!0),(tc&134217727)===0&&(Qc&134217727)===0||$i===null||ic($i,Gr,el,!1)}function Xg(a,l,u){var m=wi;wi|=2;var _=s_(),N=o_();($i!==a||Gr!==l)&&(If=null,Eu(a,l)),l=!1;var K=Da;e:do try{if(ki!==0&&zr!==null){var pe=zr,Qe=Wo;switch(ki){case 8:Yg(),K=6;break e;case 3:case 2:case 9:case 6:ca.current===null&&(l=!0);var ct=ki;if(ki=0,Wo=null,Su(a,pe,Qe,ct),u&&Bu){K=0;break e}break;default:ct=ki,ki=0,Wo=null,Su(a,pe,Qe,ct)}}a4(),K=Da;break}catch(Nt){i_(a,Nt)}while(!0);return l&&a.shellSuspendCounter++,Oo=Jo=null,wi=m,se.H=_,se.A=N,zr===null&&($i=null,Gr=0,ds()),K}function a4(){for(;zr!==null;)l_(zr)}function s4(a,l){var u=wi;wi|=2;var m=s_(),_=o_();$i!==a||Gr!==l?(If=null,Uf=jn()+500,Eu(a,l)):Bu=qi(a,l);e:do try{if(ki!==0&&zr!==null){l=zr;var N=Wo;t:switch(ki){case 1:ki=0,Wo=null,Su(a,l,N,1);break;case 2:case 9:if(rt(N)){ki=0,Wo=null,A_(l);break}l=function(){ki!==2&&ki!==9||$i!==a||(ki=7),aA(a)},N.then(l,l);break e;case 3:ki=7;break e;case 4:ki=5;break e;case 7:rt(N)?(ki=0,Wo=null,A_(l)):(ki=0,Wo=null,Su(a,l,N,7));break;case 5:var K=null;switch(zr.tag){case 26:K=zr.memoizedState;case 5:case 27:var pe=zr;if(K?Z_(K):pe.stateNode.complete){ki=0,Wo=null;var Qe=pe.sibling;if(Qe!==null)zr=Qe;else{var ct=pe.return;ct!==null?(zr=ct,Of(ct)):zr=null}break t}}ki=0,Wo=null,Su(a,l,N,5);break;case 6:ki=0,Wo=null,Su(a,l,N,6);break;case 8:Yg(),Da=6;break e;default:throw Error(r(462))}}o4();break}catch(Nt){i_(a,Nt)}while(!0);return Oo=Jo=null,se.H=m,se.A=_,wi=u,zr!==null?0:($i=null,Gr=0,ds(),Da)}function o4(){for(;zr!==null&&!un();)l_(zr)}function l_(a){var l=Uy(a.alternate,a,kA);a.memoizedProps=a.pendingProps,l===null?Of(a):zr=l}function A_(a){var l=a,u=l.alternate;switch(l.tag){case 15:case 0:l=Ny(u,l,l.pendingProps,l.type,void 0,Gr);break;case 11:l=Ny(u,l,l.pendingProps,l.type.render,l.ref,Gr);break;case 5:pu(l);default:Ty(u,l),l=zr=Gl(l,kA),l=Uy(u,l,kA)}a.memoizedProps=a.pendingProps,l===null?Of(a):zr=l}function Su(a,l,u,m){Oo=Jo=null,pu(l),Mt=null,Fn=0;var _=l.return;try{if($E(a,_,l,u,Gr)){Da=1,wf(a,p(u,a.current)),zr=null;return}}catch(N){if(_!==null)throw zr=_,N;Da=1,wf(a,p(u,a.current)),zr=null;return}l.flags&32768?(Qr||m===1?a=!0:Bu||(Gr&536870912)!==0?a=!1:(ec=a=!0,(m===2||m===9||m===3||m===6)&&(m=ca.current,m!==null&&m.tag===13&&(m.flags|=16384))),c_(l,a)):Of(l)}function Of(a){var l=a;do{if((l.flags&32768)!==0){c_(l,ec);return}a=l.return;var u=JE(l.alternate,l,kA);if(u!==null){zr=u;return}if(l=l.sibling,l!==null){zr=l;return}zr=l=a}while(l!==null);Da===0&&(Da=5)}function c_(a,l){do{var u=WE(a.alternate,a);if(u!==null){u.flags&=32767,zr=u;return}if(u=a.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!l&&(a=a.sibling,a!==null)){zr=a;return}zr=a=u}while(a!==null);Da=6,zr=null}function u_(a,l,u,m,_,N,K,pe,Qe){a.cancelPendingCommit=null;do Qf();while(Es!==0);if((wi&6)!==0)throw Error(r(327));if(l!==null){if(l===a.current)throw Error(r(177));if(N=l.lanes|l.childLanes,N|=nr,Xi(a,u,N,K,pe,Qe),a===$i&&(zr=$i=null,Gr=0),Nu=l,rc=a,UA=u,Vg=N,Zg=_,e_=m,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,u4(Tn,function(){return m_(),null})):(a.callbackNode=null,a.callbackPriority=0),m=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||m){m=se.T,se.T=null,_=_e.p,_e.p=2,K=wi,wi|=4;try{e4(a,l,u)}finally{wi=K,_e.p=_,se.T=m}}Es=1,d_(),h_(),f_()}}function d_(){if(Es===1){Es=0;var a=rc,l=Nu,u=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||u){u=se.T,se.T=null;var m=_e.p;_e.p=2;var _=wi;wi|=4;try{Gy(l,a);var N=A0,K=we(a.containerInfo),pe=N.focusedElem,Qe=N.selectionRange;if(K!==pe&&pe&&pe.ownerDocument&&Ae(pe.ownerDocument.documentElement,pe)){if(Qe!==null&&Ue(pe)){var ct=Qe.start,Nt=Qe.end;if(Nt===void 0&&(Nt=ct),"selectionStart"in pe)pe.selectionStart=ct,pe.selectionEnd=Math.min(Nt,pe.value.length);else{var Dt=pe.ownerDocument||document,ht=Dt&&Dt.defaultView||window;if(ht.getSelection){var vt=ht.getSelection(),In=pe.textContent.length,ar=Math.min(Qe.start,In),Pi=Qe.end===void 0?ar:Math.min(Qe.end,In);!vt.extend&&ar>Pi&&(K=Pi,Pi=ar,ar=K);var tt=J(pe,ar),Ze=J(pe,Pi);if(tt&&Ze&&(vt.rangeCount!==1||vt.anchorNode!==tt.node||vt.anchorOffset!==tt.offset||vt.focusNode!==Ze.node||vt.focusOffset!==Ze.offset)){var At=Dt.createRange();At.setStart(tt.node,tt.offset),vt.removeAllRanges(),ar>Pi?(vt.addRange(At),vt.extend(Ze.node,Ze.offset)):(At.setEnd(Ze.node,Ze.offset),vt.addRange(At))}}}}for(Dt=[],vt=pe;vt=vt.parentNode;)vt.nodeType===1&&Dt.push({element:vt,left:vt.scrollLeft,top:vt.scrollTop});for(typeof pe.focus=="function"&&pe.focus(),pe=0;pe<Dt.length;pe++){var It=Dt[pe];It.element.scrollLeft=It.left,It.element.scrollTop=It.top}}$f=!!l0,A0=l0=null}finally{wi=_,_e.p=m,se.T=u}}a.current=l,Es=2}}function h_(){if(Es===2){Es=0;var a=rc,l=Nu,u=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||u){u=se.T,se.T=null;var m=_e.p;_e.p=2;var _=wi;wi|=4;try{Py(a,l.alternate,l)}finally{wi=_,_e.p=m,se.T=u}}Es=3}}function f_(){if(Es===4||Es===3){Es=0,hn();var a=rc,l=Nu,u=UA,m=e_;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Es=5:(Es=0,Nu=rc=null,p_(a,a.pendingLanes));var _=a.pendingLanes;if(_===0&&(nc=null),st(u),l=l.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(yt,l,void 0,(l.current.flags&128)===128)}catch{}if(m!==null){l=se.T,_=_e.p,_e.p=2,se.T=null;try{for(var N=a.onRecoverableError,K=0;K<m.length;K++){var pe=m[K];N(pe.value,{componentStack:pe.stack})}}finally{se.T=l,_e.p=_}}(UA&3)!==0&&Qf(),aA(a),_=a.pendingLanes,(u&261930)!==0&&(_&42)!==0?a===$g?Kd++:(Kd=0,$g=a):Kd=0,Gd(0)}}function p_(a,l){(a.pooledCacheLanes&=l)===0&&(l=a.pooledCache,l!=null&&(a.pooledCache=null,kc(l)))}function Qf(){return d_(),h_(),f_(),m_()}function m_(){if(Es!==5)return!1;var a=rc,l=Vg;Vg=0;var u=st(UA),m=se.T,_=_e.p;try{_e.p=32>u?32:u,se.T=null,u=Zg,Zg=null;var N=rc,K=UA;if(Es=0,Nu=rc=null,UA=0,(wi&6)!==0)throw Error(r(331));var pe=wi;if(wi|=4,Xy(N.current),Zy(N,N.current,K,u),wi=pe,Gd(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(yt,N)}catch{}return!0}finally{_e.p=_,se.T=m,p_(a,l)}}function g_(a,l,u){l=p(u,l),l=Eg(a.stateNode,l,2),a=Nr(a,l,2),a!==null&&(fn(a,2),aA(a))}function Ui(a,l,u){if(a.tag===3)g_(a,a,u);else for(;l!==null;){if(l.tag===3){g_(l,a,u);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(nc===null||!nc.has(m))){a=p(u,a),u=vy(2),m=Nr(l,u,2),m!==null&&(xy(u,m,l,a),fn(m,2),aA(m));break}}l=l.return}}function Jg(a,l,u){var m=a.pingCache;if(m===null){m=a.pingCache=new r4;var _=new Set;m.set(l,_)}else _=m.get(l),_===void 0&&(_=new Set,m.set(l,_));_.has(u)||(qg=!0,_.add(u),a=l4.bind(null,a,l,u),l.then(a,a))}function l4(a,l,u){var m=a.pingCache;m!==null&&m.delete(l),a.pingedLanes|=a.suspendedLanes&u,a.warmLanes&=~u,$i===a&&(Gr&u)===u&&(Da===4||Da===3&&(Gr&62914560)===Gr&&300>jn()-kf?(wi&2)===0&&Eu(a,0):Kg|=u,Cu===Gr&&(Cu=0)),aA(a)}function v_(a,l){l===0&&(l=ci()),a=mi(a,l),a!==null&&(fn(a,l),aA(a))}function A4(a){var l=a.memoizedState,u=0;l!==null&&(u=l.retryLane),v_(a,u)}function c4(a,l){var u=0;switch(a.tag){case 31:case 13:var m=a.stateNode,_=a.memoizedState;_!==null&&(u=_.retryLane);break;case 19:m=a.stateNode;break;case 22:m=a.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(l),v_(a,u)}function u4(a,l){return nn(a,l)}var Df=null,Lu=null,Wg=!1,Mf=!1,e0=!1,ac=0;function aA(a){a!==Lu&&a.next===null&&(Lu===null?Df=Lu=a:Lu=Lu.next=a),Mf=!0,Wg||(Wg=!0,h4())}function Gd(a,l){if(!e0&&Mf){e0=!0;do for(var u=!1,m=Df;m!==null;){if(a!==0){var _=m.pendingLanes;if(_===0)var N=0;else{var K=m.suspendedLanes,pe=m.pingedLanes;N=(1<<31-Rt(42|a)+1)-1,N&=_&~(K&~pe),N=N&201326741?N&201326741|1:N?N|2:0}N!==0&&(u=!0,__(m,N))}else N=Gr,N=cr(m,m===$i?N:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(N&3)===0||qi(m,N)||(u=!0,__(m,N));m=m.next}while(u);e0=!1}}function d4(){x_()}function x_(){Mf=Wg=!1;var a=0;ac!==0&&w4()&&(a=ac);for(var l=jn(),u=null,m=Df;m!==null;){var _=m.next,N=b_(m,l);N===0?(m.next=null,u===null?Df=_:u.next=_,_===null&&(Lu=u)):(u=m,(a!==0||(N&3)!==0)&&(Mf=!0)),m=_}Es!==0&&Es!==5||Gd(a),ac!==0&&(ac=0)}function b_(a,l){for(var u=a.suspendedLanes,m=a.pingedLanes,_=a.expirationTimes,N=a.pendingLanes&-62914561;0<N;){var K=31-Rt(N),pe=1<<K,Qe=_[K];Qe===-1?((pe&u)===0||(pe&m)!==0)&&(_[K]=Fi(pe,l)):Qe<=l&&(a.expiredLanes|=pe),N&=~pe}if(l=$i,u=Gr,u=cr(a,a===l?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m=a.callbackNode,u===0||a===l&&(ki===2||ki===9)||a.cancelPendingCommit!==null)return m!==null&&m!==null&&Vt(m),a.callbackNode=null,a.callbackPriority=0;if((u&3)===0||qi(a,u)){if(l=u&-u,l===a.callbackPriority)return l;switch(m!==null&&Vt(m),st(u)){case 2:case 8:u=En;break;case 32:u=Tn;break;case 268435456:u=mn;break;default:u=Tn}return m=y_.bind(null,a),u=nn(u,m),a.callbackPriority=l,a.callbackNode=u,l}return m!==null&&m!==null&&Vt(m),a.callbackPriority=2,a.callbackNode=null,2}function y_(a,l){if(Es!==0&&Es!==5)return a.callbackNode=null,a.callbackPriority=0,null;var u=a.callbackNode;if(Qf()&&a.callbackNode!==u)return null;var m=Gr;return m=cr(a,a===$i?m:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m===0?null:(n_(a,m,l),b_(a,jn()),a.callbackNode!=null&&a.callbackNode===u?y_.bind(null,a):null)}function __(a,l){if(Qf())return null;n_(a,l,!0)}function h4(){C4(function(){(wi&6)!==0?nn(_n,d4):x_()})}function t0(){if(ac===0){var a=v;a===0&&(a=kn,kn<<=1,(kn&261888)===0&&(kn=256)),ac=a}return ac}function w_(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Ei(""+a)}function B_(a,l){var u=l.ownerDocument.createElement("input");return u.name=l.name,u.value=l.value,a.id&&u.setAttribute("form",a.id),l.parentNode.insertBefore(u,l),a=new FormData(a),u.parentNode.removeChild(u),a}function f4(a,l,u,m,_){if(l==="submit"&&u&&u.stateNode===_){var N=w_((_[Ar]||null).action),K=m.submitter;K&&(l=(l=K[Ar]||null)?w_(l.formAction):K.getAttribute("formAction"),l!==null&&(N=l,K=null));var pe=new Za("action","action",null,m,_);a.push({event:pe,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(ac!==0){var Qe=K?B_(_,K):new FormData(_);yg(u,{pending:!0,data:Qe,method:_.method,action:N},null,Qe)}}else typeof N=="function"&&(pe.preventDefault(),Qe=K?B_(_,K):new FormData(_),yg(u,{pending:!0,data:Qe,method:_.method,action:N},N,Qe))},currentTarget:_}]})}}for(var n0=0;n0<Sn.length;n0++){var r0=Sn[n0],p4=r0.toLowerCase(),m4=r0[0].toUpperCase()+r0.slice(1);hr(p4,"on"+m4)}hr(pt,"onAnimationEnd"),hr(Bt,"onAnimationIteration"),hr(Tt,"onAnimationStart"),hr("dblclick","onDoubleClick"),hr("focusin","onFocus"),hr("focusout","onBlur"),hr(Wt,"onTransitionRun"),hr(zt,"onTransitionStart"),hr(An,"onTransitionCancel"),hr(qt,"onTransitionEnd"),ke("onMouseEnter",["mouseout","mouseover"]),ke("onMouseLeave",["mouseout","mouseover"]),ke("onPointerEnter",["pointerout","pointerover"]),ke("onPointerLeave",["pointerout","pointerover"]),Bn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Bn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Bn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Bn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Bn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Bn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),g4=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vd));function C_(a,l){l=(l&4)!==0;for(var u=0;u<a.length;u++){var m=a[u],_=m.event;m=m.listeners;e:{var N=void 0;if(l)for(var K=m.length-1;0<=K;K--){var pe=m[K],Qe=pe.instance,ct=pe.currentTarget;if(pe=pe.listener,Qe!==N&&_.isPropagationStopped())break e;N=pe,_.currentTarget=ct;try{N(_)}catch(Nt){tr(Nt)}_.currentTarget=null,N=Qe}else for(K=0;K<m.length;K++){if(pe=m[K],Qe=pe.instance,ct=pe.currentTarget,pe=pe.listener,Qe!==N&&_.isPropagationStopped())break e;N=pe,_.currentTarget=ct;try{N(_)}catch(Nt){tr(Nt)}_.currentTarget=null,N=Qe}}}}function qr(a,l){var u=l[kr];u===void 0&&(u=l[kr]=new Set);var m=a+"__bubble";u.has(m)||(N_(l,a,2,!1),u.add(m))}function i0(a,l,u){var m=0;l&&(m|=4),N_(u,a,m,l)}var Rf="_reactListening"+Math.random().toString(36).slice(2);function a0(a){if(!a[Rf]){a[Rf]=!0,Et.forEach(function(u){u!=="selectionchange"&&(g4.has(u)||i0(u,!1,a),i0(u,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[Rf]||(l[Rf]=!0,i0("selectionchange",!1,l))}}function N_(a,l,u,m){switch(tw(l)){case 2:var _=K4;break;case 8:_=G4;break;default:_=b0}u=_.bind(null,l,u,a),_=void 0,!Co||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(_=!0),m?_!==void 0?a.addEventListener(l,u,{capture:!0,passive:_}):a.addEventListener(l,u,!0):_!==void 0?a.addEventListener(l,u,{passive:_}):a.addEventListener(l,u,!1)}function s0(a,l,u,m,_){var N=m;if((l&1)===0&&(l&2)===0&&m!==null)e:for(;;){if(m===null)return;var K=m.tag;if(K===3||K===4){var pe=m.stateNode.containerInfo;if(pe===_)break;if(K===4)for(K=m.return;K!==null;){var Qe=K.tag;if((Qe===3||Qe===4)&&K.stateNode.containerInfo===_)return;K=K.return}for(;pe!==null;){if(K=gr(pe),K===null)return;if(Qe=K.tag,Qe===5||Qe===6||Qe===26||Qe===27){m=N=K;continue e}pe=pe.parentNode}}m=m.return}js(function(){var ct=N,Nt=di(u),Dt=[];e:{var ht=Rn.get(a);if(ht!==void 0){var vt=Za,In=a;switch(a){case"keypress":if(ys(u)===0)break e;case"keydown":case"keyup":vt=Ur;break;case"focusin":In="focus",vt=co;break;case"focusout":In="blur",vt=co;break;case"beforeblur":case"afterblur":vt=co;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":vt=cl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":vt=Us;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":vt=Ki;break;case pt:case Bt:case Tt:vt=k;break;case qt:vt=Gi;break;case"scroll":case"scrollend":vt=xr;break;case"wheel":vt=ha;break;case"copy":case"cut":case"paste":vt=Be;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":vt=Si;break;case"toggle":case"beforetoggle":vt=Zs}var ar=(l&4)!==0,Pi=!ar&&(a==="scroll"||a==="scrollend"),tt=ar?ht!==null?ht+"Capture":null:ht;ar=[];for(var Ze=ct,At;Ze!==null;){var It=Ze;if(At=It.stateNode,It=It.tag,It!==5&&It!==26&&It!==27||At===null||tt===null||(It=Ka(Ze,tt),It!=null&&ar.push(Zd(Ze,It,At))),Pi)break;Ze=Ze.return}0<ar.length&&(ht=new vt(ht,In,null,u,Nt),Dt.push({event:ht,listeners:ar}))}}if((l&7)===0){e:{if(ht=a==="mouseover"||a==="pointerover",vt=a==="mouseout"||a==="pointerout",ht&&u!==Ks&&(In=u.relatedTarget||u.fromElement)&&(gr(In)||In[Jr]))break e;if((vt||ht)&&(ht=Nt.window===Nt?Nt:(ht=Nt.ownerDocument)?ht.defaultView||ht.parentWindow:window,vt?(In=u.relatedTarget||u.toElement,vt=ct,In=In?gr(In):null,In!==null&&(Pi=s(In),ar=In.tag,In!==Pi||ar!==5&&ar!==27&&ar!==6)&&(In=null)):(vt=null,In=ct),vt!==In)){if(ar=cl,It="onMouseLeave",tt="onMouseEnter",Ze="mouse",(a==="pointerout"||a==="pointerover")&&(ar=Si,It="onPointerLeave",tt="onPointerEnter",Ze="pointer"),Pi=vt==null?ht:le(vt),At=In==null?ht:le(In),ht=new ar(It,Ze+"leave",vt,u,Nt),ht.target=Pi,ht.relatedTarget=At,It=null,gr(Nt)===ct&&(ar=new ar(tt,Ze+"enter",In,u,Nt),ar.target=At,ar.relatedTarget=Pi,It=ar),Pi=It,vt&&In)t:{for(ar=v4,tt=vt,Ze=In,At=0,It=tt;It;It=ar(It))At++;It=0;for(var $n=Ze;$n;$n=ar($n))It++;for(;0<At-It;)tt=ar(tt),At--;for(;0<It-At;)Ze=ar(Ze),It--;for(;At--;){if(tt===Ze||Ze!==null&&tt===Ze.alternate){ar=tt;break t}tt=ar(tt),Ze=ar(Ze)}ar=null}else ar=null;vt!==null&&E_(Dt,ht,vt,ar,!1),In!==null&&Pi!==null&&E_(Dt,Pi,In,ar,!0)}}e:{if(ht=ct?le(ct):window,vt=ht.nodeName&&ht.nodeName.toLowerCase(),vt==="select"||vt==="input"&&ht.type==="file")var vi=Hr;else if(us(ht))if(Ba)vi=Xs;else{vi=pi;var Pn=ja}else vt=ht.nodeName,!vt||vt.toLowerCase()!=="input"||ht.type!=="checkbox"&&ht.type!=="radio"?ct&&ra(ct.elementType)&&(vi=Hr):vi=ka;if(vi&&(vi=vi(a,ct))){_s(Dt,vi,u,Nt);break e}Pn&&Pn(a,ht,ct),a==="focusout"&&ct&&ht.type==="number"&&ct.memoizedProps.value!=null&&ui(ht,"number",ht.value)}switch(Pn=ct?le(ct):window,a){case"focusin":(us(Pn)||Pn.contentEditable==="true")&&(Me=Pn,Je=ct,Oe=null);break;case"focusout":Oe=Je=Me=null;break;case"mousedown":Re=!0;break;case"contextmenu":case"mouseup":case"dragend":Re=!1,Pe(Dt,u,Nt);break;case"selectionchange":if(Ke)break;case"keydown":case"keyup":Pe(Dt,u,Nt)}var Ir;if($s)e:{switch(a){case"compositionstart":var Vr="onCompositionStart";break e;case"compositionend":Vr="onCompositionEnd";break e;case"compositionupdate":Vr="onCompositionUpdate";break e}Vr=void 0}else uo?So(a,u)&&(Vr="onCompositionEnd"):a==="keydown"&&u.keyCode===229&&(Vr="onCompositionStart");Vr&&(Ys&&u.locale!=="ko"&&(uo||Vr!=="onCompositionStart"?Vr==="onCompositionEnd"&&uo&&(Ir=Gs()):(wa=Nt,Ga="value"in wa?wa.value:wa.textContent,uo=!0)),Pn=Pf(ct,Vr),0<Pn.length&&(Vr=new We(Vr,a,null,u,Nt),Dt.push({event:Vr,listeners:Pn}),Ir?Vr.data=Ir:(Ir=Fo(u),Ir!==null&&(Vr.data=Ir)))),(Ir=Eo?fi(a,u):Sa(a,u))&&(Vr=Pf(ct,"onBeforeInput"),0<Vr.length&&(Pn=new We("onBeforeInput","beforeinput",null,u,Nt),Dt.push({event:Pn,listeners:Vr}),Pn.data=Ir)),f4(Dt,a,ct,u,Nt)}C_(Dt,l)})}function Zd(a,l,u){return{instance:a,listener:l,currentTarget:u}}function Pf(a,l){for(var u=l+"Capture",m=[];a!==null;){var _=a,N=_.stateNode;if(_=_.tag,_!==5&&_!==26&&_!==27||N===null||(_=Ka(a,u),_!=null&&m.unshift(Zd(a,_,N)),_=Ka(a,l),_!=null&&m.push(Zd(a,_,N))),a.tag===3)return m;a=a.return}return[]}function v4(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function E_(a,l,u,m,_){for(var N=l._reactName,K=[];u!==null&&u!==m;){var pe=u,Qe=pe.alternate,ct=pe.stateNode;if(pe=pe.tag,Qe!==null&&Qe===m)break;pe!==5&&pe!==26&&pe!==27||ct===null||(Qe=ct,_?(ct=Ka(u,N),ct!=null&&K.unshift(Zd(u,ct,Qe))):_||(ct=Ka(u,N),ct!=null&&K.push(Zd(u,ct,Qe)))),u=u.return}K.length!==0&&a.push({event:l,listeners:K})}var x4=/\r\n?/g,b4=/\u0000|\uFFFD/g;function S_(a){return(typeof a=="string"?a:""+a).replace(x4,`
`).replace(b4,"")}function L_(a,l){return l=S_(l),S_(a)===l}function Ri(a,l,u,m,_,N){switch(u){case"children":typeof m=="string"?l==="body"||l==="textarea"&&m===""||er(a,m):(typeof m=="number"||typeof m=="bigint")&&l!=="body"&&er(a,""+m);break;case"className":Pt(a,"class",m);break;case"tabIndex":Pt(a,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":Pt(a,u,m);break;case"style":ll(a,m,N);break;case"data":if(l!=="object"){Pt(a,"data",m);break}case"src":case"href":if(m===""&&(l!=="a"||u!=="href")){a.removeAttribute(u);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(u);break}m=Ei(""+m),a.setAttribute(u,m);break;case"action":case"formAction":if(typeof m=="function"){a.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof N=="function"&&(u==="formAction"?(l!=="input"&&Ri(a,l,"name",_.name,_,null),Ri(a,l,"formEncType",_.formEncType,_,null),Ri(a,l,"formMethod",_.formMethod,_,null),Ri(a,l,"formTarget",_.formTarget,_,null)):(Ri(a,l,"encType",_.encType,_,null),Ri(a,l,"method",_.method,_,null),Ri(a,l,"target",_.target,_,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(u);break}m=Ei(""+m),a.setAttribute(u,m);break;case"onClick":m!=null&&(a.onclick=qa);break;case"onScroll":m!=null&&qr("scroll",a);break;case"onScrollEnd":m!=null&&qr("scrollend",a);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(u=m.__html,u!=null){if(_.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"multiple":a.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":a.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){a.removeAttribute("xlink:href");break}u=Ei(""+m),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(u,""+m):a.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(u,""):a.removeAttribute(u);break;case"capture":case"download":m===!0?a.setAttribute(u,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(u,m):a.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?a.setAttribute(u,m):a.removeAttribute(u);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?a.removeAttribute(u):a.setAttribute(u,m);break;case"popover":qr("beforetoggle",a),qr("toggle",a),kt(a,"popover",m);break;case"xlinkActuate":ir(a,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":ir(a,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":ir(a,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":ir(a,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":ir(a,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":ir(a,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":ir(a,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":ir(a,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":ir(a,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":kt(a,"is",m);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=bs.get(u)||u,kt(a,u,m))}}function o0(a,l,u,m,_,N){switch(u){case"style":ll(a,m,N);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(u=m.__html,u!=null){if(_.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"children":typeof m=="string"?er(a,m):(typeof m=="number"||typeof m=="bigint")&&er(a,""+m);break;case"onScroll":m!=null&&qr("scroll",a);break;case"onScrollEnd":m!=null&&qr("scrollend",a);break;case"onClick":m!=null&&(a.onclick=qa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!sn.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(_=u.endsWith("Capture"),l=u.slice(2,_?u.length-7:void 0),N=a[Ar]||null,N=N!=null?N[u]:null,typeof N=="function"&&a.removeEventListener(l,N,_),typeof m=="function")){typeof N!="function"&&N!==null&&(u in a?a[u]=null:a.hasAttribute(u)&&a.removeAttribute(u)),a.addEventListener(l,m,_);break e}u in a?a[u]=m:m===!0?a.setAttribute(u,""):kt(a,u,m)}}}function no(a,l,u){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qr("error",a),qr("load",a);var m=!1,_=!1,N;for(N in u)if(u.hasOwnProperty(N)){var K=u[N];if(K!=null)switch(N){case"src":m=!0;break;case"srcSet":_=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Ri(a,l,N,K,u,null)}}_&&Ri(a,l,"srcSet",u.srcSet,u,null),m&&Ri(a,l,"src",u.src,u,null);return;case"input":qr("invalid",a);var pe=N=K=_=null,Qe=null,ct=null;for(m in u)if(u.hasOwnProperty(m)){var Nt=u[m];if(Nt!=null)switch(m){case"name":_=Nt;break;case"type":K=Nt;break;case"checked":Qe=Nt;break;case"defaultChecked":ct=Nt;break;case"value":N=Nt;break;case"defaultValue":pe=Nt;break;case"children":case"dangerouslySetInnerHTML":if(Nt!=null)throw Error(r(137,l));break;default:Ri(a,l,m,Nt,u,null)}}ei(a,N,pe,Qe,ct,K,_,!1);return;case"select":qr("invalid",a),m=K=N=null;for(_ in u)if(u.hasOwnProperty(_)&&(pe=u[_],pe!=null))switch(_){case"value":N=pe;break;case"defaultValue":K=pe;break;case"multiple":m=pe;default:Ri(a,l,_,pe,u,null)}l=N,u=K,a.multiple=!!m,l!=null?dr(a,!!m,l,!1):u!=null&&dr(a,!!m,u,!0);return;case"textarea":qr("invalid",a),N=_=m=null;for(K in u)if(u.hasOwnProperty(K)&&(pe=u[K],pe!=null))switch(K){case"value":m=pe;break;case"defaultValue":_=pe;break;case"children":N=pe;break;case"dangerouslySetInnerHTML":if(pe!=null)throw Error(r(91));break;default:Ri(a,l,K,pe,u,null)}lo(a,m,_,N);return;case"option":for(Qe in u)if(u.hasOwnProperty(Qe)&&(m=u[Qe],m!=null))switch(Qe){case"selected":a.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Ri(a,l,Qe,m,u,null)}return;case"dialog":qr("beforetoggle",a),qr("toggle",a),qr("cancel",a),qr("close",a);break;case"iframe":case"object":qr("load",a);break;case"video":case"audio":for(m=0;m<Vd.length;m++)qr(Vd[m],a);break;case"image":qr("error",a),qr("load",a);break;case"details":qr("toggle",a);break;case"embed":case"source":case"link":qr("error",a),qr("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ct in u)if(u.hasOwnProperty(ct)&&(m=u[ct],m!=null))switch(ct){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Ri(a,l,ct,m,u,null)}return;default:if(ra(l)){for(Nt in u)u.hasOwnProperty(Nt)&&(m=u[Nt],m!==void 0&&o0(a,l,Nt,m,u,void 0));return}}for(pe in u)u.hasOwnProperty(pe)&&(m=u[pe],m!=null&&Ri(a,l,pe,m,u,null))}function y4(a,l,u,m){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var _=null,N=null,K=null,pe=null,Qe=null,ct=null,Nt=null;for(vt in u){var Dt=u[vt];if(u.hasOwnProperty(vt)&&Dt!=null)switch(vt){case"checked":break;case"value":break;case"defaultValue":Qe=Dt;default:m.hasOwnProperty(vt)||Ri(a,l,vt,null,m,Dt)}}for(var ht in m){var vt=m[ht];if(Dt=u[ht],m.hasOwnProperty(ht)&&(vt!=null||Dt!=null))switch(ht){case"type":N=vt;break;case"name":_=vt;break;case"checked":ct=vt;break;case"defaultChecked":Nt=vt;break;case"value":K=vt;break;case"defaultValue":pe=vt;break;case"children":case"dangerouslySetInnerHTML":if(vt!=null)throw Error(r(137,l));break;default:vt!==Dt&&Ri(a,l,ht,vt,m,Dt)}}xs(a,K,pe,Qe,ct,Nt,N,_);return;case"select":vt=K=pe=ht=null;for(N in u)if(Qe=u[N],u.hasOwnProperty(N)&&Qe!=null)switch(N){case"value":break;case"multiple":vt=Qe;default:m.hasOwnProperty(N)||Ri(a,l,N,null,m,Qe)}for(_ in m)if(N=m[_],Qe=u[_],m.hasOwnProperty(_)&&(N!=null||Qe!=null))switch(_){case"value":ht=N;break;case"defaultValue":pe=N;break;case"multiple":K=N;default:N!==Qe&&Ri(a,l,_,N,m,Qe)}l=pe,u=K,m=vt,ht!=null?dr(a,!!u,ht,!1):!!m!=!!u&&(l!=null?dr(a,!!u,l,!0):dr(a,!!u,u?[]:"",!1));return;case"textarea":vt=ht=null;for(pe in u)if(_=u[pe],u.hasOwnProperty(pe)&&_!=null&&!m.hasOwnProperty(pe))switch(pe){case"value":break;case"children":break;default:Ri(a,l,pe,null,m,_)}for(K in m)if(_=m[K],N=u[K],m.hasOwnProperty(K)&&(_!=null||N!=null))switch(K){case"value":ht=_;break;case"defaultValue":vt=_;break;case"children":break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(r(91));break;default:_!==N&&Ri(a,l,K,_,m,N)}za(a,ht,vt);return;case"option":for(var In in u)if(ht=u[In],u.hasOwnProperty(In)&&ht!=null&&!m.hasOwnProperty(In))switch(In){case"selected":a.selected=!1;break;default:Ri(a,l,In,null,m,ht)}for(Qe in m)if(ht=m[Qe],vt=u[Qe],m.hasOwnProperty(Qe)&&ht!==vt&&(ht!=null||vt!=null))switch(Qe){case"selected":a.selected=ht&&typeof ht!="function"&&typeof ht!="symbol";break;default:Ri(a,l,Qe,ht,m,vt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ar in u)ht=u[ar],u.hasOwnProperty(ar)&&ht!=null&&!m.hasOwnProperty(ar)&&Ri(a,l,ar,null,m,ht);for(ct in m)if(ht=m[ct],vt=u[ct],m.hasOwnProperty(ct)&&ht!==vt&&(ht!=null||vt!=null))switch(ct){case"children":case"dangerouslySetInnerHTML":if(ht!=null)throw Error(r(137,l));break;default:Ri(a,l,ct,ht,m,vt)}return;default:if(ra(l)){for(var Pi in u)ht=u[Pi],u.hasOwnProperty(Pi)&&ht!==void 0&&!m.hasOwnProperty(Pi)&&o0(a,l,Pi,void 0,m,ht);for(Nt in m)ht=m[Nt],vt=u[Nt],!m.hasOwnProperty(Nt)||ht===vt||ht===void 0&&vt===void 0||o0(a,l,Nt,ht,m,vt);return}}for(var tt in u)ht=u[tt],u.hasOwnProperty(tt)&&ht!=null&&!m.hasOwnProperty(tt)&&Ri(a,l,tt,null,m,ht);for(Dt in m)ht=m[Dt],vt=u[Dt],!m.hasOwnProperty(Dt)||ht===vt||ht==null&&vt==null||Ri(a,l,Dt,ht,m,vt)}function j_(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function _4(){if(typeof performance.getEntriesByType=="function"){for(var a=0,l=0,u=performance.getEntriesByType("resource"),m=0;m<u.length;m++){var _=u[m],N=_.transferSize,K=_.initiatorType,pe=_.duration;if(N&&pe&&j_(K)){for(K=0,pe=_.responseEnd,m+=1;m<u.length;m++){var Qe=u[m],ct=Qe.startTime;if(ct>pe)break;var Nt=Qe.transferSize,Dt=Qe.initiatorType;Nt&&j_(Dt)&&(Qe=Qe.responseEnd,K+=Nt*(Qe<pe?1:(pe-ct)/(Qe-ct)))}if(--m,l+=8*(N+K)/(_.duration/1e3),a++,10<a)break}}if(0<a)return l/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var l0=null,A0=null;function Hf(a){return a.nodeType===9?a:a.ownerDocument}function k_(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function U_(a,l){if(a===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&l==="foreignObject"?0:a}function c0(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var u0=null;function w4(){var a=window.event;return a&&a.type==="popstate"?a===u0?!1:(u0=a,!0):(u0=null,!1)}var I_=typeof setTimeout=="function"?setTimeout:void 0,B4=typeof clearTimeout=="function"?clearTimeout:void 0,T_=typeof Promise=="function"?Promise:void 0,C4=typeof queueMicrotask=="function"?queueMicrotask:typeof T_<"u"?function(a){return T_.resolve(null).then(a).catch(N4)}:I_;function N4(a){setTimeout(function(){throw a})}function sc(a){return a==="head"}function F_(a,l){var u=l,m=0;do{var _=u.nextSibling;if(a.removeChild(u),_&&_.nodeType===8)if(u=_.data,u==="/$"||u==="/&"){if(m===0){a.removeChild(_),Iu(l);return}m--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")m++;else if(u==="html")$d(a.ownerDocument.documentElement);else if(u==="head"){u=a.ownerDocument.head,$d(u);for(var N=u.firstChild;N;){var K=N.nextSibling,pe=N.nodeName;N[Jn]||pe==="SCRIPT"||pe==="STYLE"||pe==="LINK"&&N.rel.toLowerCase()==="stylesheet"||u.removeChild(N),N=K}}else u==="body"&&$d(a.ownerDocument.body);u=_}while(u);Iu(l)}function O_(a,l){var u=a;a=0;do{var m=u.nextSibling;if(u.nodeType===1?l?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(l?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(a===0)break;a--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||a++;u=m}while(u)}function d0(a){var l=a.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var u=l;switch(l=l.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":d0(u),ba(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}a.removeChild(u)}}function E4(a,l,u,m){for(;a.nodeType===1;){var _=u;if(a.nodeName.toLowerCase()!==l.toLowerCase()){if(!m&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(m){if(!a[Jn])switch(l){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(N=a.getAttribute("rel"),N==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(N!==_.rel||a.getAttribute("href")!==(_.href==null||_.href===""?null:_.href)||a.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin)||a.getAttribute("title")!==(_.title==null?null:_.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(N=a.getAttribute("src"),(N!==(_.src==null?null:_.src)||a.getAttribute("type")!==(_.type==null?null:_.type)||a.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin))&&N&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(l==="input"&&a.type==="hidden"){var N=_.name==null?null:""+_.name;if(_.type==="hidden"&&a.getAttribute("name")===N)return a}else return a;if(a=pl(a.nextSibling),a===null)break}return null}function S4(a,l,u){if(l==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!u||(a=pl(a.nextSibling),a===null))return null;return a}function Q_(a,l){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!l||(a=pl(a.nextSibling),a===null))return null;return a}function h0(a){return a.data==="$?"||a.data==="$~"}function f0(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function L4(a,l){var u=a.ownerDocument;if(a.data==="$~")a._reactRetry=l;else if(a.data!=="$?"||u.readyState!=="loading")l();else{var m=function(){l(),u.removeEventListener("DOMContentLoaded",m)};u.addEventListener("DOMContentLoaded",m),a._reactRetry=m}}function pl(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return a}var p0=null;function D_(a){a=a.nextSibling;for(var l=0;a;){if(a.nodeType===8){var u=a.data;if(u==="/$"||u==="/&"){if(l===0)return pl(a.nextSibling);l--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||l++}a=a.nextSibling}return null}function M_(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var u=a.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(l===0)return a;l--}else u!=="/$"&&u!=="/&"||l++}a=a.previousSibling}return null}function R_(a,l,u){switch(l=Hf(u),a){case"html":if(a=l.documentElement,!a)throw Error(r(452));return a;case"head":if(a=l.head,!a)throw Error(r(453));return a;case"body":if(a=l.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function $d(a){for(var l=a.attributes;l.length;)a.removeAttributeNode(l[0]);ba(a)}var ml=new Map,P_=new Set;function zf(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var IA=_e.d;_e.d={f:j4,r:k4,D:U4,C:I4,L:T4,m:F4,X:Q4,S:O4,M:D4};function j4(){var a=IA.f(),l=Tf();return a||l}function k4(a){var l=Bi(a);l!==null&&l.tag===5&&l.type==="form"?iy(l):IA.r(a)}var ju=typeof document>"u"?null:document;function H_(a,l,u){var m=ju;if(m&&typeof l=="string"&&l){var _=mr(l);_='link[rel="'+a+'"][href="'+_+'"]',typeof u=="string"&&(_+='[crossorigin="'+u+'"]'),P_.has(_)||(P_.add(_),a={rel:a,crossOrigin:u,href:l},m.querySelector(_)===null&&(l=m.createElement("link"),no(l,"link",a),Qt(l),m.head.appendChild(l)))}}function U4(a){IA.D(a),H_("dns-prefetch",a,null)}function I4(a,l){IA.C(a,l),H_("preconnect",a,l)}function T4(a,l,u){IA.L(a,l,u);var m=ju;if(m&&a&&l){var _='link[rel="preload"][as="'+mr(l)+'"]';l==="image"&&u&&u.imageSrcSet?(_+='[imagesrcset="'+mr(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(_+='[imagesizes="'+mr(u.imageSizes)+'"]')):_+='[href="'+mr(a)+'"]';var N=_;switch(l){case"style":N=ku(a);break;case"script":N=Uu(a)}ml.has(N)||(a=x({rel:"preload",href:l==="image"&&u&&u.imageSrcSet?void 0:a,as:l},u),ml.set(N,a),m.querySelector(_)!==null||l==="style"&&m.querySelector(Yd(N))||l==="script"&&m.querySelector(Xd(N))||(l=m.createElement("link"),no(l,"link",a),Qt(l),m.head.appendChild(l)))}}function F4(a,l){IA.m(a,l);var u=ju;if(u&&a){var m=l&&typeof l.as=="string"?l.as:"script",_='link[rel="modulepreload"][as="'+mr(m)+'"][href="'+mr(a)+'"]',N=_;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":N=Uu(a)}if(!ml.has(N)&&(a=x({rel:"modulepreload",href:a},l),ml.set(N,a),u.querySelector(_)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Xd(N)))return}m=u.createElement("link"),no(m,"link",a),Qt(m),u.head.appendChild(m)}}}function O4(a,l,u){IA.S(a,l,u);var m=ju;if(m&&a){var _=Lt(m).hoistableStyles,N=ku(a);l=l||"default";var K=_.get(N);if(!K){var pe={loading:0,preload:null};if(K=m.querySelector(Yd(N)))pe.loading=5;else{a=x({rel:"stylesheet",href:a,"data-precedence":l},u),(u=ml.get(N))&&m0(a,u);var Qe=K=m.createElement("link");Qt(Qe),no(Qe,"link",a),Qe._p=new Promise(function(ct,Nt){Qe.onload=ct,Qe.onerror=Nt}),Qe.addEventListener("load",function(){pe.loading|=1}),Qe.addEventListener("error",function(){pe.loading|=2}),pe.loading|=4,qf(K,l,m)}K={type:"stylesheet",instance:K,count:1,state:pe},_.set(N,K)}}}function Q4(a,l){IA.X(a,l);var u=ju;if(u&&a){var m=Lt(u).hoistableScripts,_=Uu(a),N=m.get(_);N||(N=u.querySelector(Xd(_)),N||(a=x({src:a,async:!0},l),(l=ml.get(_))&&g0(a,l),N=u.createElement("script"),Qt(N),no(N,"link",a),u.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},m.set(_,N))}}function D4(a,l){IA.M(a,l);var u=ju;if(u&&a){var m=Lt(u).hoistableScripts,_=Uu(a),N=m.get(_);N||(N=u.querySelector(Xd(_)),N||(a=x({src:a,async:!0,type:"module"},l),(l=ml.get(_))&&g0(a,l),N=u.createElement("script"),Qt(N),no(N,"link",a),u.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},m.set(_,N))}}function z_(a,l,u,m){var _=(_=ue.current)?zf(_):null;if(!_)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(l=ku(u.href),u=Lt(_).hoistableStyles,m=u.get(l),m||(m={type:"style",instance:null,count:0,state:null},u.set(l,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){a=ku(u.href);var N=Lt(_).hoistableStyles,K=N.get(a);if(K||(_=_.ownerDocument||_,K={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},N.set(a,K),(N=_.querySelector(Yd(a)))&&!N._p&&(K.instance=N,K.state.loading=5),ml.has(a)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},ml.set(a,u),N||M4(_,a,u,K.state))),l&&m===null)throw Error(r(528,""));return K}if(l&&m!==null)throw Error(r(529,""));return null;case"script":return l=u.async,u=u.src,typeof u=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Uu(u),u=Lt(_).hoistableScripts,m=u.get(l),m||(m={type:"script",instance:null,count:0,state:null},u.set(l,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function ku(a){return'href="'+mr(a)+'"'}function Yd(a){return'link[rel="stylesheet"]['+a+"]"}function q_(a){return x({},a,{"data-precedence":a.precedence,precedence:null})}function M4(a,l,u,m){a.querySelector('link[rel="preload"][as="style"]['+l+"]")?m.loading=1:(l=a.createElement("link"),m.preload=l,l.addEventListener("load",function(){return m.loading|=1}),l.addEventListener("error",function(){return m.loading|=2}),no(l,"link",u),Qt(l),a.head.appendChild(l))}function Uu(a){return'[src="'+mr(a)+'"]'}function Xd(a){return"script[async]"+a}function K_(a,l,u){if(l.count++,l.instance===null)switch(l.type){case"style":var m=a.querySelector('style[data-href~="'+mr(u.href)+'"]');if(m)return l.instance=m,Qt(m),m;var _=x({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return m=(a.ownerDocument||a).createElement("style"),Qt(m),no(m,"style",_),qf(m,u.precedence,a),l.instance=m;case"stylesheet":_=ku(u.href);var N=a.querySelector(Yd(_));if(N)return l.state.loading|=4,l.instance=N,Qt(N),N;m=q_(u),(_=ml.get(_))&&m0(m,_),N=(a.ownerDocument||a).createElement("link"),Qt(N);var K=N;return K._p=new Promise(function(pe,Qe){K.onload=pe,K.onerror=Qe}),no(N,"link",m),l.state.loading|=4,qf(N,u.precedence,a),l.instance=N;case"script":return N=Uu(u.src),(_=a.querySelector(Xd(N)))?(l.instance=_,Qt(_),_):(m=u,(_=ml.get(N))&&(m=x({},u),g0(m,_)),a=a.ownerDocument||a,_=a.createElement("script"),Qt(_),no(_,"link",m),a.head.appendChild(_),l.instance=_);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(m=l.instance,l.state.loading|=4,qf(m,u.precedence,a));return l.instance}function qf(a,l,u){for(var m=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),_=m.length?m[m.length-1]:null,N=_,K=0;K<m.length;K++){var pe=m[K];if(pe.dataset.precedence===l)N=pe;else if(N!==_)break}N?N.parentNode.insertBefore(a,N.nextSibling):(l=u.nodeType===9?u.head:u,l.insertBefore(a,l.firstChild))}function m0(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.title==null&&(a.title=l.title)}function g0(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.integrity==null&&(a.integrity=l.integrity)}var Kf=null;function G_(a,l,u){if(Kf===null){var m=new Map,_=Kf=new Map;_.set(u,m)}else _=Kf,m=_.get(u),m||(m=new Map,_.set(u,m));if(m.has(a))return m;for(m.set(a,null),u=u.getElementsByTagName(a),_=0;_<u.length;_++){var N=u[_];if(!(N[Jn]||N[Wn]||a==="link"&&N.getAttribute("rel")==="stylesheet")&&N.namespaceURI!=="http://www.w3.org/2000/svg"){var K=N.getAttribute(l)||"";K=a+K;var pe=m.get(K);pe?pe.push(N):m.set(K,[N])}}return m}function V_(a,l,u){a=a.ownerDocument||a,a.head.insertBefore(u,l==="title"?a.querySelector("head > title"):null)}function R4(a,l,u){if(u===1||l.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return a=l.disabled,typeof l.precedence=="string"&&a==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function Z_(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function P4(a,l,u,m){if(u.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var _=ku(m.href),N=l.querySelector(Yd(_));if(N){l=N._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(a.count++,a=Gf.bind(a),l.then(a,a)),u.state.loading|=4,u.instance=N,Qt(N);return}N=l.ownerDocument||l,m=q_(m),(_=ml.get(_))&&m0(m,_),N=N.createElement("link"),Qt(N);var K=N;K._p=new Promise(function(pe,Qe){K.onload=pe,K.onerror=Qe}),no(N,"link",m),u.instance=N}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(u,l),(l=u.state.preload)&&(u.state.loading&3)===0&&(a.count++,u=Gf.bind(a),l.addEventListener("load",u),l.addEventListener("error",u))}}var v0=0;function H4(a,l){return a.stylesheets&&a.count===0&&Zf(a,a.stylesheets),0<a.count||0<a.imgCount?function(u){var m=setTimeout(function(){if(a.stylesheets&&Zf(a,a.stylesheets),a.unsuspend){var N=a.unsuspend;a.unsuspend=null,N()}},6e4+l);0<a.imgBytes&&v0===0&&(v0=62500*_4());var _=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&Zf(a,a.stylesheets),a.unsuspend)){var N=a.unsuspend;a.unsuspend=null,N()}},(a.imgBytes>v0?50:800)+l);return a.unsuspend=u,function(){a.unsuspend=null,clearTimeout(m),clearTimeout(_)}}:null}function Gf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Zf(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Vf=null;function Zf(a,l){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Vf=new Map,l.forEach(z4,a),Vf=null,Gf.call(a))}function z4(a,l){if(!(l.state.loading&4)){var u=Vf.get(a);if(u)var m=u.get(null);else{u=new Map,Vf.set(a,u);for(var _=a.querySelectorAll("link[data-precedence],style[data-precedence]"),N=0;N<_.length;N++){var K=_[N];(K.nodeName==="LINK"||K.getAttribute("media")!=="not all")&&(u.set(K.dataset.precedence,K),m=K)}m&&u.set(null,m)}_=l.instance,K=_.getAttribute("data-precedence"),N=u.get(K)||m,N===m&&u.set(null,_),u.set(K,_),this.count++,m=Gf.bind(this),_.addEventListener("load",m),_.addEventListener("error",m),N?N.parentNode.insertBefore(_,N.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(_,a.firstChild)),l.state.loading|=4}}var Jd={$$typeof:D,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function q4(a,l,u,m,_,N,K,pe,Qe){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Kr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kr(0),this.hiddenUpdates=Kr(null),this.identifierPrefix=m,this.onUncaughtError=_,this.onCaughtError=N,this.onRecoverableError=K,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Qe,this.incompleteTransitions=new Map}function $_(a,l,u,m,_,N,K,pe,Qe,ct,Nt,Dt){return a=new q4(a,l,u,K,Qe,ct,Nt,Dt,pe),l=1,N===!0&&(l|=24),N=Xa(3,null,null,l),a.current=N,N.stateNode=a,l=ZA(),l.refCount++,a.pooledCache=l,l.refCount++,N.memoizedState={element:m,isDehydrated:u,cache:l},ln(N),a}function Y_(a){return a?(a=Ua,a):Ua}function X_(a,l,u,m,_,N){_=Y_(_),m.context===null?m.context=_:m.pendingContext=_,m=rr(l),m.payload={element:u},N=N===void 0?null:N,N!==null&&(m.callback=N),u=Nr(a,m,l),u!==null&&(zo(u,a,l),yi(u,a,l))}function J_(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var u=a.retryLane;a.retryLane=u!==0&&u<l?u:l}}function x0(a,l){J_(a,l),(a=a.alternate)&&J_(a,l)}function W_(a){if(a.tag===13||a.tag===31){var l=mi(a,67108864);l!==null&&zo(l,a,67108864),x0(a,67108864)}}function ew(a){if(a.tag===13||a.tag===31){var l=tl();l=ze(l);var u=mi(a,l);u!==null&&zo(u,a,l),x0(a,l)}}var $f=!0;function K4(a,l,u,m){var _=se.T;se.T=null;var N=_e.p;try{_e.p=2,b0(a,l,u,m)}finally{_e.p=N,se.T=_}}function G4(a,l,u,m){var _=se.T;se.T=null;var N=_e.p;try{_e.p=8,b0(a,l,u,m)}finally{_e.p=N,se.T=_}}function b0(a,l,u,m){if($f){var _=y0(m);if(_===null)s0(a,l,m,Yf,u),nw(a,m);else if(Z4(_,a,l,u,m))m.stopPropagation();else if(nw(a,m),l&4&&-1<V4.indexOf(a)){for(;_!==null;){var N=Bi(_);if(N!==null)switch(N.tag){case 3:if(N=N.stateNode,N.current.memoizedState.isDehydrated){var K=wn(N.pendingLanes);if(K!==0){var pe=N;for(pe.pendingLanes|=2,pe.entangledLanes|=2;K;){var Qe=1<<31-Rt(K);pe.entanglements[1]|=Qe,K&=~Qe}aA(N),(wi&6)===0&&(Uf=jn()+500,Gd(0))}}break;case 31:case 13:pe=mi(N,2),pe!==null&&zo(pe,N,2),Tf(),x0(N,2)}if(N=y0(m),N===null&&s0(a,l,m,Yf,u),N===_)break;_=N}_!==null&&m.stopPropagation()}else s0(a,l,m,null,u)}}function y0(a){return a=di(a),_0(a)}var Yf=null;function _0(a){if(Yf=null,a=gr(a),a!==null){var l=s(a);if(l===null)a=null;else{var u=l.tag;if(u===13){if(a=c(l),a!==null)return a;a=null}else if(u===31){if(a=d(l),a!==null)return a;a=null}else if(u===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null)}}return Yf=a,null}function tw(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Mn()){case _n:return 2;case En:return 8;case Tn:case cn:return 32;case mn:return 268435456;default:return 32}default:return 32}}var w0=!1,oc=null,lc=null,Ac=null,Wd=new Map,eh=new Map,cc=[],V4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function nw(a,l){switch(a){case"focusin":case"focusout":oc=null;break;case"dragenter":case"dragleave":lc=null;break;case"mouseover":case"mouseout":Ac=null;break;case"pointerover":case"pointerout":Wd.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":eh.delete(l.pointerId)}}function th(a,l,u,m,_,N){return a===null||a.nativeEvent!==N?(a={blockedOn:l,domEventName:u,eventSystemFlags:m,nativeEvent:N,targetContainers:[_]},l!==null&&(l=Bi(l),l!==null&&W_(l)),a):(a.eventSystemFlags|=m,l=a.targetContainers,_!==null&&l.indexOf(_)===-1&&l.push(_),a)}function Z4(a,l,u,m,_){switch(l){case"focusin":return oc=th(oc,a,l,u,m,_),!0;case"dragenter":return lc=th(lc,a,l,u,m,_),!0;case"mouseover":return Ac=th(Ac,a,l,u,m,_),!0;case"pointerover":var N=_.pointerId;return Wd.set(N,th(Wd.get(N)||null,a,l,u,m,_)),!0;case"gotpointercapture":return N=_.pointerId,eh.set(N,th(eh.get(N)||null,a,l,u,m,_)),!0}return!1}function rw(a){var l=gr(a.target);if(l!==null){var u=s(l);if(u!==null){if(l=u.tag,l===13){if(l=c(u),l!==null){a.blockedOn=l,ur(a.priority,function(){ew(u)});return}}else if(l===31){if(l=d(u),l!==null){a.blockedOn=l,ur(a.priority,function(){ew(u)});return}}else if(l===3&&u.stateNode.current.memoizedState.isDehydrated){a.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Xf(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var u=y0(a.nativeEvent);if(u===null){u=a.nativeEvent;var m=new u.constructor(u.type,u);Ks=m,u.target.dispatchEvent(m),Ks=null}else return l=Bi(u),l!==null&&W_(l),a.blockedOn=u,!1;l.shift()}return!0}function iw(a,l,u){Xf(a)&&u.delete(l)}function $4(){w0=!1,oc!==null&&Xf(oc)&&(oc=null),lc!==null&&Xf(lc)&&(lc=null),Ac!==null&&Xf(Ac)&&(Ac=null),Wd.forEach(iw),eh.forEach(iw)}function Jf(a,l){a.blockedOn===l&&(a.blockedOn=null,w0||(w0=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,$4)))}var Wf=null;function aw(a){Wf!==a&&(Wf=a,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Wf===a&&(Wf=null);for(var l=0;l<a.length;l+=3){var u=a[l],m=a[l+1],_=a[l+2];if(typeof m!="function"){if(_0(m||u)===null)continue;break}var N=Bi(u);N!==null&&(a.splice(l,3),l-=3,yg(N,{pending:!0,data:_,method:u.method,action:m},m,_))}}))}function Iu(a){function l(Qe){return Jf(Qe,a)}oc!==null&&Jf(oc,a),lc!==null&&Jf(lc,a),Ac!==null&&Jf(Ac,a),Wd.forEach(l),eh.forEach(l);for(var u=0;u<cc.length;u++){var m=cc[u];m.blockedOn===a&&(m.blockedOn=null)}for(;0<cc.length&&(u=cc[0],u.blockedOn===null);)rw(u),u.blockedOn===null&&cc.shift();if(u=(a.ownerDocument||a).$$reactFormReplay,u!=null)for(m=0;m<u.length;m+=3){var _=u[m],N=u[m+1],K=_[Ar]||null;if(typeof N=="function")K||aw(u);else if(K){var pe=null;if(N&&N.hasAttribute("formAction")){if(_=N,K=N[Ar]||null)pe=K.formAction;else if(_0(_)!==null)continue}else pe=K.action;typeof pe=="function"?u[m+1]=pe:(u.splice(m,3),m-=3),aw(u)}}}function sw(){function a(N){N.canIntercept&&N.info==="react-transition"&&N.intercept({handler:function(){return new Promise(function(K){return _=K})},focusReset:"manual",scroll:"manual"})}function l(){_!==null&&(_(),_=null),m||setTimeout(u,20)}function u(){if(!m&&!navigation.transition){var N=navigation.currentEntry;N&&N.url!=null&&navigation.navigate(N.url,{state:N.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,_=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(u,100),function(){m=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),_!==null&&(_(),_=null)}}}function B0(a){this._internalRoot=a}ep.prototype.render=B0.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(r(409));var u=l.current,m=tl();X_(u,m,a,l,null,null)},ep.prototype.unmount=B0.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;X_(a.current,2,null,a,null,null),Tf(),l[Jr]=null}};function ep(a){this._internalRoot=a}ep.prototype.unstable_scheduleHydration=function(a){if(a){var l=gn();a={blockedOn:null,target:a,priority:l};for(var u=0;u<cc.length&&l!==0&&l<cc[u].priority;u++);cc.splice(u,0,a),u===0&&rw(a)}};var ow=t.version;if(ow!=="19.2.3")throw Error(r(527,ow,"19.2.3"));_e.findDOMNode=function(a){var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=f(l),a=a!==null?g(a):null,a=a===null?null:a.stateNode,a};var Y4={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:se,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tp.isDisabled&&tp.supportsFiber)try{yt=tp.inject(Y4),jt=tp}catch{}}return rh.createRoot=function(a,l){if(!i(a))throw Error(r(299));var u=!1,m="",_=fy,N=py,K=my;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(_=l.onUncaughtError),l.onCaughtError!==void 0&&(N=l.onCaughtError),l.onRecoverableError!==void 0&&(K=l.onRecoverableError)),l=$_(a,1,!1,null,null,u,m,null,_,N,K,sw),a[Jr]=l.current,a0(a),new B0(l)},rh.hydrateRoot=function(a,l,u){if(!i(a))throw Error(r(299));var m=!1,_="",N=fy,K=py,pe=my,Qe=null;return u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(_=u.identifierPrefix),u.onUncaughtError!==void 0&&(N=u.onUncaughtError),u.onCaughtError!==void 0&&(K=u.onCaughtError),u.onRecoverableError!==void 0&&(pe=u.onRecoverableError),u.formState!==void 0&&(Qe=u.formState)),l=$_(a,1,!0,l,u??null,m,_,Qe,N,K,pe,sw),l.context=Y_(null),u=l.current,m=tl(),m=ze(m),_=rr(m),_.callback=null,Nr(u,_,m),u=m,l.current.lanes=u,fn(l,u),aA(l),a[Jr]=l.current,a0(a),new ep(l)},rh.version="19.2.3",rh}var gw;function lS(){if(gw)return E0.exports;gw=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),E0.exports=oS(),E0.exports}var AS=lS();const cS=ef(AS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),dS=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),vw=e=>{const t=dS(e);return t.charAt(0).toUpperCase()+t.slice(1)},g5=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),hS=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var fS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pS=$.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:c,...d},h)=>$.createElement("svg",{ref:h,...fS,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:g5("lucide",i),...!s&&!hS(d)&&{"aria-hidden":"true"},...d},[...c.map(([f,g])=>$.createElement(f,g)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=(e,t)=>{const n=$.forwardRef(({className:r,...i},s)=>$.createElement(pS,{ref:s,iconNode:t,className:g5(`lucide-${uS(vw(e))}`,`lucide-${e}`,r),...i}));return n.displayName=vw(e),n};/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mS=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Qm=Gt("activity",mS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],v5=Gt("arrow-down-right",gS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]],xw=Gt("arrow-left-right",vS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],bw=Gt("arrow-right-left",xS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Xv=Gt("arrow-right",bS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yS=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],qp=Gt("arrow-up-right",yS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _S=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],yw=Gt("badge-check",_S);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Oh=Gt("ban",wS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BS=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],x5=Gt("banknote",BS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CS=[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]],Jv=Gt("barcode",CS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NS=[["circle",{cx:"18.5",cy:"17.5",r:"3.5",key:"15x4ox"}],["circle",{cx:"5.5",cy:"17.5",r:"3.5",key:"1noe27"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["path",{d:"M12 17.5V14l-3-3 4-3 2 3h2",key:"1npguv"}]],um=Gt("bike",NS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ES=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],SS=Gt("box",ES);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LS=[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]],jS=Gt("boxes",LS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kS=[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],_w=Gt("calendar-clock",kS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const US=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Dm=Gt("calendar",US);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IS=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],TS=Gt("chart-column",IS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FS=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],ww=Gt("chart-pie",FS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OS=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],QS=Gt("check-check",OS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DS=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Wv=Gt("check",DS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MS=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],b5=Gt("chevron-right",MS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],dm=Gt("circle-alert",RS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Ml=Gt("circle-check",PS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]],zS=Gt("circle-dollar-sign",HS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],KS=Gt("circle-question-mark",qS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],k0=Gt("circle-x",GS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VS=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],Qh=Gt("clipboard-check",VS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZS=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],hm=Gt("clipboard-list",ZS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $S=[["path",{d:"M12 6v6h4",key:"135r8i"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],YS=Gt("clock-3",$S);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XS=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],md=Gt("clock",XS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JS=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],WS=Gt("coffee",JS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e3=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],t3=Gt("copy",e3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n3=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],y5=Gt("credit-card",n3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r3=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],i3=Gt("crown",r3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a3=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5v14a9 3 0 0 0 18 0V5",key:"aqi0yr"}]],ob=Gt("cylinder",a3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s3=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],_5=Gt("dollar-sign",s3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],l3=Gt("external-link",o3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A3=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],c3=Gt("eye-off",A3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u3=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],d3=Gt("eye",u3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h3=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"M3 19a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8.5a.5.5 0 0 0-.769-.422l-4.462 2.844A.5.5 0 0 1 15 10.5v-2a.5.5 0 0 0-.769-.422L9.77 10.922A.5.5 0 0 1 9 10.5V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2z",key:"1iv0i2"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],lb=Gt("factory",h3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f3=[["path",{d:"M16 22h2a2 2 0 0 0 2-2V8a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 14 2H6a2 2 0 0 0-2 2v2.85",key:"ryk6xj"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 14v2.2l1.6 1",key:"6m4bie"}],["circle",{cx:"8",cy:"16",r:"6",key:"10v15b"}]],w5=Gt("file-clock",f3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p3=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Dh=Gt("file-text",p3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m3=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],g3=Gt("flame",m3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v3=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],x3=Gt("funnel",v3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b3=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],y3=Gt("heart",b3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _3=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],w3=Gt("history",_3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B3=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],C3=Gt("image",B3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N3=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],E3=Gt("key",N3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S3=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Bw=Gt("layers",S3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L3=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],j3=Gt("layout-dashboard",L3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k3=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],Cw=Gt("layout-grid",k3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Mh=Gt("loader-circle",U3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I3=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],B5=Gt("lock",I3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T3=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],C5=Gt("log-out",T3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],ou=Gt("map-pin",F3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O3=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],Ab=Gt("map",O3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q3=[["path",{d:"M5 12h14",key:"1ays0h"}]],ex=Gt("minus",Q3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D3=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],M3=Gt("monitor",D3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R3=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]],P3=Gt("move",R3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H3=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],Nw=Gt("navigation",H3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z3=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]],Kp=Gt("octagon-alert",z3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q3=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],gd=Gt("package",q3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K3=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],cb=Gt("palette",K3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G3=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Mm=Gt("pen",G3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V3=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],ub=Gt("pencil",V3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z3=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],db=Gt("phone",Z3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $3=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Ew=Gt("play",$3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y3=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],wo=Gt("plus",Y3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X3=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],J3=Gt("power",X3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W3=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],eL=Gt("printer",W3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tL=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],nL=Gt("receipt",tL);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rL=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],hh=Gt("refresh-cw",rL);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iL=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],aL=Gt("rotate-ccw",iL);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sL=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],wl=Gt("save",sL);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oL=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Lc=Gt("search",oL);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lL=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],tf=Gt("settings",lL);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AL=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],cL=Gt("shield-alert",AL);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uL=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],dL=Gt("shield-check",uL);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hL=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],fL=Gt("shield",hL);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pL=[["path",{d:"M7 18v-6a5 5 0 1 1 10 0v6",key:"pcx96s"}],["path",{d:"M5 21a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-1a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2z",key:"1b4s83"}],["path",{d:"M21 12h1",key:"jtio3y"}],["path",{d:"M18.5 4.5 18 5",key:"g5sp9y"}],["path",{d:"M2 12h1",key:"1uaihz"}],["path",{d:"M12 2v1",key:"11qlp1"}],["path",{d:"m4.929 4.929.707.707",key:"1i51kw"}],["path",{d:"M12 12v6",key:"3ahymv"}]],hb=Gt("siren",pL);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mL=[["path",{d:"M10 5H3",key:"1qgfaw"}],["path",{d:"M12 19H3",key:"yhmn1j"}],["path",{d:"M14 3v4",key:"1sua03"}],["path",{d:"M16 17v4",key:"1q0r14"}],["path",{d:"M21 12h-9",key:"1o4lsq"}],["path",{d:"M21 19h-5",key:"1rlt1p"}],["path",{d:"M21 5h-7",key:"1oszz2"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M8 12H3",key:"a7s4jb"}]],gL=Gt("sliders-horizontal",mL);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vL=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],U0=Gt("smartphone",vL);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xL=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],N5=Gt("square-check-big",xL);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bL=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],yL=Gt("square",bL);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _L=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],wL=Gt("store",_L);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BL=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],tx=Gt("tag",BL);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],NL=Gt("target",CL);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EL=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],oo=Gt("trash-2",EL);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SL=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],nx=Gt("trending-down",SL);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LL=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],fh=Gt("trending-up",LL);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jL=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],fm=Gt("triangle-alert",jL);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kL=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Ko=Gt("truck",kL);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UL=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],IL=Gt("user-check",UL);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TL=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Sw=Gt("user-plus",TL);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FL=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],pm=Gt("user",FL);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OL=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Bc=Gt("users",OL);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QL=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],rx=Gt("wallet",QL);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DL=[["path",{d:"M18 21V10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v11",key:"pb2vm6"}],["path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 1.132-1.803l7.95-3.974a2 2 0 0 1 1.837 0l7.948 3.974A2 2 0 0 1 22 8z",key:"doq5xv"}],["path",{d:"M6 13h12",key:"yf64js"}],["path",{d:"M6 17h12",key:"1jwigz"}]],E5=Gt("warehouse",DL);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ML=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],S5=Gt("wifi-off",ML);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RL=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],L5=Gt("wifi",RL);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PL=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],zi=Gt("x",PL);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HL=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],zL=Gt("zap",HL),Yc=[{id:"nova-os",label:"O.S",icon:hm,color:"text-purple-600",bgColor:"bg-purple-100"},{id:"clientes",label:"Clientes",icon:Bc,color:"text-indigo-600",bgColor:"bg-indigo-100"},{id:"fechar-caixa",label:"Fechar Caixa",icon:x5,color:"text-green-600",bgColor:"bg-green-100"},{id:"contagem",label:"Contagem",icon:Qh,color:"text-teal-600",bgColor:"bg-teal-100"},{id:"financeiro",label:"Financeiro",icon:zS,color:"text-yellow-600",bgColor:"bg-yellow-100"},{id:"temas",label:"Temas",icon:cb,color:"text-pink-600",bgColor:"bg-pink-100"},{id:"painel",label:"Painel",icon:j3,color:"text-gray-600",bgColor:"bg-gray-100"},{id:"estoque",label:"Depsitos & Estoque",icon:E5,color:"text-purple-600",bgColor:"bg-purple-100"},{id:"colaboradores",label:"Colaboradores",icon:Bc,color:"text-indigo-600",bgColor:"bg-indigo-100"},{id:"rel-entregas",label:"Rel. Entregas",icon:Ko,color:"text-orange-500",bgColor:"bg-orange-100"},{id:"auditoria",label:"Auditoria",icon:hm,color:"text-orange-400",bgColor:"bg-orange-50"},{id:"resumo",label:"Resumo",icon:TS,color:"text-blue-500",bgColor:"bg-blue-100"},{id:"alertas",label:"Alertas",icon:hb,color:"text-red-500",bgColor:"bg-red-100"}],qL=({item:e,onClick:t,highlight:n})=>{const r=e.icon,i=n?"ring-4 ring-red-500/90 shadow-[0_0_30px_rgba(239,68,68,0.45)] border-red-400 animate-pulse":"";return o.jsxs("button",{onClick:()=>t(e.id),className:`group flex flex-col items-center justify-center p-6 bg-surface rounded-2xl shadow-sm border border-bdr hover:shadow-xl hover:border-slate-400 transition-all duration-300 ease-out transform hover:-translate-y-2 h-36 w-full relative overflow-hidden ${i}`,children:[o.jsx("div",{className:`absolute inset-0 opacity-0 group-hover:opacity-10 transition-opacity duration-500 bg-gradient-to-br ${e.bgColor.replace("bg-","from-")} to-transparent`}),o.jsx("div",{className:`p-3 rounded-full mb-3 ${e.bgColor} group-hover:scale-110 group-hover:rotate-3 transition-transform duration-300 z-10`,children:o.jsx(r,{className:`w-8 h-8 ${e.color}`,strokeWidth:2})}),o.jsx("span",{className:"text-txt-muted font-bold text-sm tracking-wide group-hover:text-txt-main z-10 transition-colors",children:e.label})]})};var Gp={exports:{}},KL=Gp.exports,Lw;function GL(){return Lw||(Lw=1,(function(e,t){(function(n,r){e.exports=r()})(KL,function(){var n=function(b,C){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Q,q){Q.__proto__=q}||function(Q,q){for(var J in q)Object.prototype.hasOwnProperty.call(q,J)&&(Q[J]=q[J])})(b,C)},r=function(){return(r=Object.assign||function(b){for(var C,Q=1,q=arguments.length;Q<q;Q++)for(var J in C=arguments[Q])Object.prototype.hasOwnProperty.call(C,J)&&(b[J]=C[J]);return b}).apply(this,arguments)};function i(b,C,Q){for(var q,J=0,Ae=C.length;J<Ae;J++)!q&&J in C||((q=q||Array.prototype.slice.call(C,0,J))[J]=C[J]);return b.concat(q||Array.prototype.slice.call(C))}var s=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:eS,c=Object.keys,d=Array.isArray;function h(b,C){return typeof C!="object"||c(C).forEach(function(Q){b[Q]=C[Q]}),b}typeof Promise>"u"||s.Promise||(s.Promise=Promise);var f=Object.getPrototypeOf,g={}.hasOwnProperty;function x(b,C){return g.call(b,C)}function E(b,C){typeof C=="function"&&(C=C(f(b))),(typeof Reflect>"u"?c:Reflect.ownKeys)(C).forEach(function(Q){I(b,Q,C[Q])})}var w=Object.defineProperty;function I(b,C,Q,q){w(b,C,h(Q&&x(Q,"get")&&typeof Q.get=="function"?{get:Q.get,set:Q.set,configurable:!0}:{value:Q,configurable:!0,writable:!0},q))}function j(b){return{from:function(C){return b.prototype=Object.create(C.prototype),I(b.prototype,"constructor",b),{extend:E.bind(null,b.prototype)}}}}var F=Object.getOwnPropertyDescriptor,S=[].slice;function z(b,C,Q){return S.call(b,C,Q)}function D(b,C){return C(b)}function G(b){if(!b)throw new Error("Assertion Failed")}function ce(b){s.setImmediate?setImmediate(b):setTimeout(b,0)}function Y(b,C){if(typeof C=="string"&&x(b,C))return b[C];if(!C)return b;if(typeof C!="string"){for(var Q=[],q=0,J=C.length;q<J;++q){var Ae=Y(b,C[q]);Q.push(Ae)}return Q}var we=C.indexOf(".");if(we!==-1){var Ue=b[C.substr(0,we)];return Ue==null?void 0:Y(Ue,C.substr(we+1))}}function ge(b,C,Q){if(b&&C!==void 0&&!("isFrozen"in Object&&Object.isFrozen(b)))if(typeof C!="string"&&"length"in C){G(typeof Q!="string"&&"length"in Q);for(var q=0,J=C.length;q<J;++q)ge(b,C[q],Q[q])}else{var Ae,we,Ue=C.indexOf(".");Ue!==-1?(Ae=C.substr(0,Ue),(we=C.substr(Ue+1))===""?Q===void 0?d(b)&&!isNaN(parseInt(Ae))?b.splice(Ae,1):delete b[Ae]:b[Ae]=Q:ge(Ue=!(Ue=b[Ae])||!x(b,Ae)?b[Ae]={}:Ue,we,Q)):Q===void 0?d(b)&&!isNaN(parseInt(C))?b.splice(C,1):delete b[C]:b[C]=Q}}function re(b){var C,Q={};for(C in b)x(b,C)&&(Q[C]=b[C]);return Q}var M=[].concat;function X(b){return M.apply([],b)}var ui="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(X([8,16,32,64].map(function(b){return["Int","Uint","Float"].map(function(C){return C+b+"Array"})}))).filter(function(b){return s[b]}),V=new Set(ui.map(function(b){return s[b]})),W=null;function oe(b){return W=new WeakMap,b=(function C(Q){if(!Q||typeof Q!="object")return Q;var q=W.get(Q);if(q)return q;if(d(Q)){q=[],W.set(Q,q);for(var J=0,Ae=Q.length;J<Ae;++J)q.push(C(Q[J]))}else if(V.has(Q.constructor))q=Q;else{var we,Ue=f(Q);for(we in q=Ue===Object.prototype?{}:Object.create(Ue),W.set(Q,q),Q)x(Q,we)&&(q[we]=C(Q[we]))}return q})(b),W=null,b}var me={}.toString;function ye(b){return me.call(b).slice(8,-1)}var se=typeof Symbol<"u"?Symbol.iterator:"@@iterator",_e=typeof se=="symbol"?function(b){var C;return b!=null&&(C=b[se])&&C.apply(b)}:function(){return null};function Z(b,C){return C=b.indexOf(C),0<=C&&b.splice(C,1),0<=C}var Ce={};function Se(b){var C,Q,q,J;if(arguments.length===1){if(d(b))return b.slice();if(this===Ce&&typeof b=="string")return[b];if(J=_e(b)){for(Q=[];!(q=J.next()).done;)Q.push(q.value);return Q}if(b==null)return[b];if(typeof(C=b.length)!="number")return[b];for(Q=new Array(C);C--;)Q[C]=b[C];return Q}for(C=arguments.length,Q=new Array(C);C--;)Q[C]=arguments[C];return Q}var te=typeof Symbol<"u"?function(b){return b[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Mn=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Or=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Mn),P={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function ie(b,C){this.name=b,this.message=C}function O(b,C){return b+". Errors: "+Object.keys(C).map(function(Q){return C[Q].toString()}).filter(function(Q,q,J){return J.indexOf(Q)===q}).join(`
`)}function ae(b,C,Q,q){this.failures=C,this.failedKeys=q,this.successCount=Q,this.message=O(b,C)}function ue(b,C){this.name="BulkError",this.failures=Object.keys(C).map(function(Q){return C[Q]}),this.failuresByPos=C,this.message=O(b,this.failures)}j(ie).from(Error).extend({toString:function(){return this.name+": "+this.message}}),j(ae).from(ie),j(ue).from(ie);var je=Or.reduce(function(b,C){return b[C]=C+"Error",b},{}),Ve=ie,Ie=Or.reduce(function(b,C){var Q=C+"Error";function q(J,Ae){this.name=Q,J?typeof J=="string"?(this.message="".concat(J).concat(Ae?`
 `+Ae:""),this.inner=Ae||null):typeof J=="object"&&(this.message="".concat(J.name," ").concat(J.message),this.inner=J):(this.message=P[C]||Q,this.inner=null)}return j(q).from(Ve),b[C]=q,b},{});Ie.Syntax=SyntaxError,Ie.Type=TypeError,Ie.Range=RangeError;var lt=Mn.reduce(function(b,C){return b[C+"Error"]=Ie[C],b},{}),wt=Or.reduce(function(b,C){return["Syntax","Type","Range"].indexOf(C)===-1&&(b[C+"Error"]=Ie[C]),b},{});function Xe(){}function $t(b){return b}function on(b,C){return b==null||b===$t?C:function(Q){return C(b(Q))}}function xe(b,C){return function(){b.apply(this,arguments),C.apply(this,arguments)}}function Ot(b,C){return b===Xe?C:function(){var Q=b.apply(this,arguments);Q!==void 0&&(arguments[0]=Q);var q=this.onsuccess,J=this.onerror;this.onsuccess=null,this.onerror=null;var Ae=C.apply(this,arguments);return q&&(this.onsuccess=this.onsuccess?xe(q,this.onsuccess):q),J&&(this.onerror=this.onerror?xe(J,this.onerror):J),Ae!==void 0?Ae:Q}}function rn(b,C){return b===Xe?C:function(){b.apply(this,arguments);var Q=this.onsuccess,q=this.onerror;this.onsuccess=this.onerror=null,C.apply(this,arguments),Q&&(this.onsuccess=this.onsuccess?xe(Q,this.onsuccess):Q),q&&(this.onerror=this.onerror?xe(q,this.onerror):q)}}function dn(b,C){return b===Xe?C:function(Q){var q=b.apply(this,arguments);h(Q,q);var J=this.onsuccess,Ae=this.onerror;return this.onsuccess=null,this.onerror=null,Q=C.apply(this,arguments),J&&(this.onsuccess=this.onsuccess?xe(J,this.onsuccess):J),Ae&&(this.onerror=this.onerror?xe(Ae,this.onerror):Ae),q===void 0?Q===void 0?void 0:Q:h(q,Q)}}function xt(b,C){return b===Xe?C:function(){return C.apply(this,arguments)!==!1&&b.apply(this,arguments)}}function nn(b,C){return b===Xe?C:function(){var Q=b.apply(this,arguments);if(Q&&typeof Q.then=="function"){for(var q=this,J=arguments.length,Ae=new Array(J);J--;)Ae[J]=arguments[J];return Q.then(function(){return C.apply(q,Ae)})}return C.apply(this,arguments)}}wt.ModifyError=ae,wt.DexieError=ie,wt.BulkError=ue;var Vt=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function un(b){Vt=b}var hn={},jn=100,ui=typeof Promise>"u"?[]:(function(){var b=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[b,f(b),b];var C=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[C,f(C),b]})(),Mn=ui[0],Or=ui[1],ui=ui[2],Or=Or&&Or.then,_n=Mn&&Mn.constructor,En=!!ui,Tn=function(b,C){Rt.push([b,C]),mn&&(queueMicrotask(Fi),mn=!1)},cn=!0,mn=!0,en=[],Fe=[],yt=$t,jt={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Xe,pgp:!1,env:{},finalize:Xe},dt=jt,Rt=[],Ht=0,Qn=[];function bt(b){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var C=this._PSD=dt;if(typeof b!="function"){if(b!==hn)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Hn(this,this._value))}this._state=null,this._value=null,++C.ref,(function Q(q,J){try{J(function(Ae){if(q._state===null){if(Ae===q)throw new TypeError("A promise cannot be resolved with itself.");var we=q._lib&&ci();Ae&&typeof Ae.then=="function"?Q(q,function(Ue,Ke){Ae instanceof bt?Ae._then(Ue,Ke):Ae.then(Ue,Ke)}):(q._state=!0,q._value=Ae,wn(q)),we&&Kr()}},Hn.bind(null,q))}catch(Ae){Hn(q,Ae)}})(this,b)}var kn={get:function(){var b=dt,C=gn;function Q(q,J){var Ae=this,we=!b.global&&(b!==dt||C!==gn),Ue=we&&!Ar(),Ke=new bt(function(Me,Je){cr(Ae,new jr(Jn(q,b,we,Ue),Jn(J,b,we,Ue),Me,Je,b))});return this._consoleTask&&(Ke._consoleTask=this._consoleTask),Ke}return Q.prototype=hn,Q},set:function(b){I(this,"then",b&&b.prototype===hn?kn:{get:function(){return b},set:kn.set})}};function jr(b,C,Q,q,J){this.onFulfilled=typeof b=="function"?b:null,this.onRejected=typeof C=="function"?C:null,this.resolve=Q,this.reject=q,this.psd=J}function Hn(b,C){var Q,q;Fe.push(C),b._state===null&&(Q=b._lib&&ci(),C=yt(C),b._state=!1,b._value=C,q=b,en.some(function(J){return J._value===q._value})||en.push(q),wn(b),Q&&Kr())}function wn(b){var C=b._listeners;b._listeners=[];for(var Q=0,q=C.length;Q<q;++Q)cr(b,C[Q]);var J=b._PSD;--J.ref||J.finalize(),Ht===0&&(++Ht,Tn(function(){--Ht==0&&fn()},[]))}function cr(b,C){if(b._state!==null){var Q=b._state?C.onFulfilled:C.onRejected;if(Q===null)return(b._state?C.resolve:C.reject)(b._value);++C.psd.ref,++Ht,Tn(qi,[Q,b,C])}else b._listeners.push(C)}function qi(b,C,Q){try{var q,J=C._value;!C._state&&Fe.length&&(Fe=[]),q=Vt&&C._consoleTask?C._consoleTask.run(function(){return b(J)}):b(J),C._state||Fe.indexOf(J)!==-1||(function(Ae){for(var we=en.length;we;)if(en[--we]._value===Ae._value)return en.splice(we,1)})(C),Q.resolve(q)}catch(Ae){Q.reject(Ae)}finally{--Ht==0&&fn(),--Q.psd.ref||Q.psd.finalize()}}function Fi(){bi(jt,function(){ci()&&Kr()})}function ci(){var b=cn;return mn=cn=!1,b}function Kr(){var b,C,Q;do for(;0<Rt.length;)for(b=Rt,Rt=[],Q=b.length,C=0;C<Q;++C){var q=b[C];q[0].apply(null,q[1])}while(0<Rt.length);mn=cn=!0}function fn(){var b=en;en=[],b.forEach(function(q){q._PSD.onunhandled.call(null,q._value,q)});for(var C=Qn.slice(0),Q=C.length;Q;)C[--Q]()}function Xi(b){return new bt(hn,!1,b)}function Yn(b,C){var Q=dt;return function(){var q=ci(),J=dt;try{return Yr(Q,!0),b.apply(this,arguments)}catch(Ae){C&&C(Ae)}finally{Yr(J,!1),q&&Kr()}}}E(bt.prototype,{then:kn,_then:function(b,C){cr(this,new jr(null,null,b,C,dt))},catch:function(b){if(arguments.length===1)return this.then(null,b);var C=b,Q=arguments[1];return typeof C=="function"?this.then(null,function(q){return(q instanceof C?Q:Xi)(q)}):this.then(null,function(q){return(q&&q.name===C?Q:Xi)(q)})},finally:function(b){return this.then(function(C){return bt.resolve(b()).then(function(){return C})},function(C){return bt.resolve(b()).then(function(){return Xi(C)})})},timeout:function(b,C){var Q=this;return b<1/0?new bt(function(q,J){var Ae=setTimeout(function(){return J(new Ie.Timeout(C))},b);Q.then(q,J).finally(clearTimeout.bind(null,Ae))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&I(bt.prototype,Symbol.toStringTag,"Dexie.Promise"),jt.env=Wr(),E(bt,{all:function(){var b=Se.apply(null,arguments).map(Jr);return new bt(function(C,Q){b.length===0&&C([]);var q=b.length;b.forEach(function(J,Ae){return bt.resolve(J).then(function(we){b[Ae]=we,--q||C(b)},Q)})})},resolve:function(b){return b instanceof bt?b:b&&typeof b.then=="function"?new bt(function(C,Q){b.then(C,Q)}):new bt(hn,!0,b)},reject:Xi,race:function(){var b=Se.apply(null,arguments).map(Jr);return new bt(function(C,Q){b.map(function(q){return bt.resolve(q).then(C,Q)})})},PSD:{get:function(){return dt},set:function(b){return dt=b}},totalEchoes:{get:function(){return gn}},newPSD:Kn,usePSD:bi,scheduler:{get:function(){return Tn},set:function(b){Tn=b}},rejectionMapper:{get:function(){return yt},set:function(b){yt=b}},follow:function(b,C){return new bt(function(Q,q){return Kn(function(J,Ae){var we=dt;we.unhandleds=[],we.onunhandled=Ae,we.finalize=xe(function(){var Ue,Ke=this;Ue=function(){Ke.unhandleds.length===0?J():Ae(Ke.unhandleds[0])},Qn.push(function Me(){Ue(),Qn.splice(Qn.indexOf(Me),1)}),++Ht,Tn(function(){--Ht==0&&fn()},[])},we.finalize),b()},C,Q,q)})}}),_n&&(_n.allSettled&&I(bt,"allSettled",function(){var b=Se.apply(null,arguments).map(Jr);return new bt(function(C){b.length===0&&C([]);var Q=b.length,q=new Array(Q);b.forEach(function(J,Ae){return bt.resolve(J).then(function(we){return q[Ae]={status:"fulfilled",value:we}},function(we){return q[Ae]={status:"rejected",reason:we}}).then(function(){return--Q||C(q)})})})}),_n.any&&typeof AggregateError<"u"&&I(bt,"any",function(){var b=Se.apply(null,arguments).map(Jr);return new bt(function(C,Q){b.length===0&&Q(new AggregateError([]));var q=b.length,J=new Array(q);b.forEach(function(Ae,we){return bt.resolve(Ae).then(function(Ue){return C(Ue)},function(Ue){J[we]=Ue,--q||Q(new AggregateError(J))})})})}));var Xn={awaits:0,echoes:0,id:0},Oi=0,ze=[],st=0,gn=0,ur=0;function Kn(b,C,Q,q){var J=dt,Ae=Object.create(J);return Ae.parent=J,Ae.ref=0,Ae.global=!1,Ae.id=++ur,jt.env,Ae.env=En?{Promise:bt,PromiseProp:{value:bt,configurable:!0,writable:!0},all:bt.all,race:bt.race,allSettled:bt.allSettled,any:bt.any,resolve:bt.resolve,reject:bt.reject}:{},C&&h(Ae,C),++J.ref,Ae.finalize=function(){--this.parent.ref||this.parent.finalize()},q=bi(Ae,b,Q,q),Ae.ref===0&&Ae.finalize(),q}function Wn(){return Xn.id||(Xn.id=++Oi),++Xn.awaits,Xn.echoes+=jn,Xn.id}function Ar(){return!!Xn.awaits&&(--Xn.awaits==0&&(Xn.id=0),Xn.echoes=Xn.awaits*jn,!0)}function Jr(b){return Xn.echoes&&b&&b.constructor===_n?(Wn(),b.then(function(C){return Ar(),C},function(C){return Ar(),gr(C)})):b}function kr(){var b=ze[ze.length-1];ze.pop(),Yr(b,!1)}function Yr(b,C){var Q,q=dt;(C?!Xn.echoes||st++&&b===dt:!st||--st&&b===dt)||queueMicrotask(C?(function(J){++gn,Xn.echoes&&--Xn.echoes!=0||(Xn.echoes=Xn.awaits=Xn.id=0),ze.push(dt),Yr(J,!0)}).bind(null,b):kr),b!==dt&&(dt=b,q===jt&&(jt.env=Wr()),En&&(Q=jt.env.Promise,C=b.env,(q.global||b.global)&&(Object.defineProperty(s,"Promise",C.PromiseProp),Q.all=C.all,Q.race=C.race,Q.resolve=C.resolve,Q.reject=C.reject,C.allSettled&&(Q.allSettled=C.allSettled),C.any&&(Q.any=C.any))))}function Wr(){var b=s.Promise;return En?{Promise:b,PromiseProp:Object.getOwnPropertyDescriptor(s,"Promise"),all:b.all,race:b.race,allSettled:b.allSettled,any:b.any,resolve:b.resolve,reject:b.reject}:{}}function bi(b,C,Q,q,J){var Ae=dt;try{return Yr(b,!0),C(Q,q,J)}finally{Yr(Ae,!1)}}function Jn(b,C,Q,q){return typeof b!="function"?b:function(){var J=dt;Q&&Wn(),Yr(C,!0);try{return b.apply(this,arguments)}finally{Yr(J,!1),q&&queueMicrotask(Ar)}}}function ba(b){Promise===_n&&Xn.echoes===0?st===0?b():enqueueNativeMicroTask(b):setTimeout(b,0)}(""+Or).indexOf("[native code]")===-1&&(Wn=Ar=Xe);var gr=bt.reject,Bi="",le="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Lt="String expected.",Qt=[],Et="__dbnames",sn="readonly",Bn="readwrite";function ke(b,C){return b?C?function(){return b.apply(this,arguments)&&C.apply(this,arguments)}:b:C}var gt={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function tn(b){return typeof b!="string"||/\./.test(b)?function(C){return C}:function(C){return C[b]===void 0&&b in C&&delete(C=oe(C))[b],C}}function Yt(){throw Ie.Type()}function Xt(b,C){try{var Q=kt(b),q=kt(C);if(Q!==q)return Q==="Array"?1:q==="Array"?-1:Q==="binary"?1:q==="binary"?-1:Q==="string"?1:q==="string"?-1:Q==="Date"?1:q!=="Date"?NaN:-1;switch(Q){case"number":case"Date":case"string":return C<b?1:b<C?-1:0;case"binary":return(function(J,Ae){for(var we=J.length,Ue=Ae.length,Ke=we<Ue?we:Ue,Me=0;Me<Ke;++Me)if(J[Me]!==Ae[Me])return J[Me]<Ae[Me]?-1:1;return we===Ue?0:we<Ue?-1:1})(Pt(b),Pt(C));case"Array":return(function(J,Ae){for(var we=J.length,Ue=Ae.length,Ke=we<Ue?we:Ue,Me=0;Me<Ke;++Me){var Je=Xt(J[Me],Ae[Me]);if(Je!==0)return Je}return we===Ue?0:we<Ue?-1:1})(b,C)}}catch{}return NaN}function kt(b){var C=typeof b;return C!="object"?C:ArrayBuffer.isView(b)?"binary":(b=ye(b),b==="ArrayBuffer"?"binary":b)}function Pt(b){return b instanceof Uint8Array?b:ArrayBuffer.isView(b)?new Uint8Array(b.buffer,b.byteOffset,b.byteLength):new Uint8Array(b)}var ir=(Jt.prototype._trans=function(b,C,Q){var q=this._tx||dt.trans,J=this.name,Ae=Vt&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(b==="readonly"?"read":"write"," ").concat(this.name));function we(Me,Je,Oe){if(!Oe.schema[J])throw new Ie.NotFound("Table "+J+" not part of transaction");return C(Oe.idbtrans,Oe)}var Ue=ci();try{var Ke=q&&q.db._novip===this.db._novip?q===dt.trans?q._promise(b,we,Q):Kn(function(){return q._promise(b,we,Q)},{trans:q,transless:dt.transless||dt}):(function Me(Je,Oe,Re,Pe){if(Je.idbdb&&(Je._state.openComplete||dt.letThrough||Je._vip)){var He=Je._createTransaction(Oe,Re,Je._dbSchema);try{He.create(),Je._state.PR1398_maxLoop=3}catch($e){return $e.name===je.InvalidState&&Je.isOpen()&&0<--Je._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Je.close({disableAutoOpen:!1}),Je.open().then(function(){return Me(Je,Oe,Re,Pe)})):gr($e)}return He._promise(Oe,function($e,qe){return Kn(function(){return dt.trans=He,Pe($e,qe,He)})}).then(function($e){if(Oe==="readwrite")try{He.idbtrans.commit()}catch{}return Oe==="readonly"?$e:He._completion.then(function(){return $e})})}if(Je._state.openComplete)return gr(new Ie.DatabaseClosed(Je._state.dbOpenError));if(!Je._state.isBeingOpened){if(!Je._state.autoOpen)return gr(new Ie.DatabaseClosed);Je.open().catch(Xe)}return Je._state.dbReadyPromise.then(function(){return Me(Je,Oe,Re,Pe)})})(this.db,b,[this.name],we);return Ae&&(Ke._consoleTask=Ae,Ke=Ke.catch(function(Me){return console.trace(Me),gr(Me)})),Ke}finally{Ue&&Kr()}},Jt.prototype.get=function(b,C){var Q=this;return b&&b.constructor===Object?this.where(b).first(C):b==null?gr(new Ie.Type("Invalid argument to Table.get()")):this._trans("readonly",function(q){return Q.core.get({trans:q,key:b}).then(function(J){return Q.hook.reading.fire(J)})}).then(C)},Jt.prototype.where=function(b){if(typeof b=="string")return new this.db.WhereClause(this,b);if(d(b))return new this.db.WhereClause(this,"[".concat(b.join("+"),"]"));var C=c(b);if(C.length===1)return this.where(C[0]).equals(b[C[0]]);var Q=this.schema.indexes.concat(this.schema.primKey).filter(function(Ke){if(Ke.compound&&C.every(function(Je){return 0<=Ke.keyPath.indexOf(Je)})){for(var Me=0;Me<C.length;++Me)if(C.indexOf(Ke.keyPath[Me])===-1)return!1;return!0}return!1}).sort(function(Ke,Me){return Ke.keyPath.length-Me.keyPath.length})[0];if(Q&&this.db._maxKey!==Bi){var we=Q.keyPath.slice(0,C.length);return this.where(we).equals(we.map(function(Me){return b[Me]}))}!Q&&Vt&&console.warn("The query ".concat(JSON.stringify(b)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(C.join("+"),"]"));var q=this.schema.idxByName,J=this.db._deps.indexedDB;function Ae(Ke,Me){return J.cmp(Ke,Me)===0}var Ue=C.reduce(function(Re,Me){var Je=Re[0],Oe=Re[1],Re=q[Me],Pe=b[Me];return[Je||Re,Je||!Re?ke(Oe,Re&&Re.multi?function(He){return He=Y(He,Me),d(He)&&He.some(function($e){return Ae(Pe,$e)})}:function(He){return Ae(Pe,Y(He,Me))}):Oe]},[null,null]),we=Ue[0],Ue=Ue[1];return we?this.where(we.name).equals(b[we.keyPath]).filter(Ue):Q?this.filter(Ue):this.where(C).equals("")},Jt.prototype.filter=function(b){return this.toCollection().and(b)},Jt.prototype.count=function(b){return this.toCollection().count(b)},Jt.prototype.offset=function(b){return this.toCollection().offset(b)},Jt.prototype.limit=function(b){return this.toCollection().limit(b)},Jt.prototype.each=function(b){return this.toCollection().each(b)},Jt.prototype.toArray=function(b){return this.toCollection().toArray(b)},Jt.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Jt.prototype.orderBy=function(b){return new this.db.Collection(new this.db.WhereClause(this,d(b)?"[".concat(b.join("+"),"]"):b))},Jt.prototype.reverse=function(){return this.toCollection().reverse()},Jt.prototype.mapToClass=function(b){var C,Q=this.db,q=this.name;function J(){return C!==null&&C.apply(this,arguments)||this}(this.schema.mappedClass=b).prototype instanceof Yt&&((function(Ke,Me){if(typeof Me!="function"&&Me!==null)throw new TypeError("Class extends value "+String(Me)+" is not a constructor or null");function Je(){this.constructor=Ke}n(Ke,Me),Ke.prototype=Me===null?Object.create(Me):(Je.prototype=Me.prototype,new Je)})(J,C=b),Object.defineProperty(J.prototype,"db",{get:function(){return Q},enumerable:!1,configurable:!0}),J.prototype.table=function(){return q},b=J);for(var Ae=new Set,we=b.prototype;we;we=f(we))Object.getOwnPropertyNames(we).forEach(function(Ke){return Ae.add(Ke)});function Ue(Ke){if(!Ke)return Ke;var Me,Je=Object.create(b.prototype);for(Me in Ke)if(!Ae.has(Me))try{Je[Me]=Ke[Me]}catch{}return Je}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=Ue,this.hook("reading",Ue),b},Jt.prototype.defineClass=function(){return this.mapToClass(function(b){h(this,b)})},Jt.prototype.add=function(b,C){var Q=this,q=this.schema.primKey,J=q.auto,Ae=q.keyPath,we=b;return Ae&&J&&(we=tn(Ae)(b)),this._trans("readwrite",function(Ue){return Q.core.mutate({trans:Ue,type:"add",keys:C!=null?[C]:null,values:[we]})}).then(function(Ue){return Ue.numFailures?bt.reject(Ue.failures[0]):Ue.lastResult}).then(function(Ue){if(Ae)try{ge(b,Ae,Ue)}catch{}return Ue})},Jt.prototype.update=function(b,C){return typeof b!="object"||d(b)?this.where(":id").equals(b).modify(C):(b=Y(b,this.schema.primKey.keyPath),b===void 0?gr(new Ie.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(b).modify(C))},Jt.prototype.put=function(b,C){var Q=this,q=this.schema.primKey,J=q.auto,Ae=q.keyPath,we=b;return Ae&&J&&(we=tn(Ae)(b)),this._trans("readwrite",function(Ue){return Q.core.mutate({trans:Ue,type:"put",values:[we],keys:C!=null?[C]:null})}).then(function(Ue){return Ue.numFailures?bt.reject(Ue.failures[0]):Ue.lastResult}).then(function(Ue){if(Ae)try{ge(b,Ae,Ue)}catch{}return Ue})},Jt.prototype.delete=function(b){var C=this;return this._trans("readwrite",function(Q){return C.core.mutate({trans:Q,type:"delete",keys:[b]})}).then(function(Q){return Q.numFailures?bt.reject(Q.failures[0]):void 0})},Jt.prototype.clear=function(){var b=this;return this._trans("readwrite",function(C){return b.core.mutate({trans:C,type:"deleteRange",range:gt})}).then(function(C){return C.numFailures?bt.reject(C.failures[0]):void 0})},Jt.prototype.bulkGet=function(b){var C=this;return this._trans("readonly",function(Q){return C.core.getMany({keys:b,trans:Q}).then(function(q){return q.map(function(J){return C.hook.reading.fire(J)})})})},Jt.prototype.bulkAdd=function(b,C,Q){var q=this,J=Array.isArray(C)?C:void 0,Ae=(Q=Q||(J?void 0:C))?Q.allKeys:void 0;return this._trans("readwrite",function(we){var Me=q.schema.primKey,Ue=Me.auto,Me=Me.keyPath;if(Me&&J)throw new Ie.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(J&&J.length!==b.length)throw new Ie.InvalidArgument("Arguments objects and keys must have the same length");var Ke=b.length,Me=Me&&Ue?b.map(tn(Me)):b;return q.core.mutate({trans:we,type:"add",keys:J,values:Me,wantResults:Ae}).then(function(He){var Oe=He.numFailures,Re=He.results,Pe=He.lastResult,He=He.failures;if(Oe===0)return Ae?Re:Pe;throw new ue("".concat(q.name,".bulkAdd(): ").concat(Oe," of ").concat(Ke," operations failed"),He)})})},Jt.prototype.bulkPut=function(b,C,Q){var q=this,J=Array.isArray(C)?C:void 0,Ae=(Q=Q||(J?void 0:C))?Q.allKeys:void 0;return this._trans("readwrite",function(we){var Me=q.schema.primKey,Ue=Me.auto,Me=Me.keyPath;if(Me&&J)throw new Ie.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(J&&J.length!==b.length)throw new Ie.InvalidArgument("Arguments objects and keys must have the same length");var Ke=b.length,Me=Me&&Ue?b.map(tn(Me)):b;return q.core.mutate({trans:we,type:"put",keys:J,values:Me,wantResults:Ae}).then(function(He){var Oe=He.numFailures,Re=He.results,Pe=He.lastResult,He=He.failures;if(Oe===0)return Ae?Re:Pe;throw new ue("".concat(q.name,".bulkPut(): ").concat(Oe," of ").concat(Ke," operations failed"),He)})})},Jt.prototype.bulkUpdate=function(b){var C=this,Q=this.core,q=b.map(function(we){return we.key}),J=b.map(function(we){return we.changes}),Ae=[];return this._trans("readwrite",function(we){return Q.getMany({trans:we,keys:q,cache:"clone"}).then(function(Ue){var Ke=[],Me=[];b.forEach(function(Oe,Re){var Pe=Oe.key,He=Oe.changes,$e=Ue[Re];if($e){for(var qe=0,at=Object.keys(He);qe<at.length;qe++){var nt=at[qe],pt=He[nt];if(nt===C.schema.primKey.keyPath){if(Xt(pt,Pe)!==0)throw new Ie.Constraint("Cannot update primary key in bulkUpdate()")}else ge($e,nt,pt)}Ae.push(Re),Ke.push(Pe),Me.push($e)}});var Je=Ke.length;return Q.mutate({trans:we,type:"put",keys:Ke,values:Me,updates:{keys:q,changeSpecs:J}}).then(function(Oe){var Re=Oe.numFailures,Pe=Oe.failures;if(Re===0)return Je;for(var He=0,$e=Object.keys(Pe);He<$e.length;He++){var qe,at=$e[He],nt=Ae[Number(at)];nt!=null&&(qe=Pe[at],delete Pe[at],Pe[nt]=qe)}throw new ue("".concat(C.name,".bulkUpdate(): ").concat(Re," of ").concat(Je," operations failed"),Pe)})})})},Jt.prototype.bulkDelete=function(b){var C=this,Q=b.length;return this._trans("readwrite",function(q){return C.core.mutate({trans:q,type:"delete",keys:b})}).then(function(we){var J=we.numFailures,Ae=we.lastResult,we=we.failures;if(J===0)return Ae;throw new ue("".concat(C.name,".bulkDelete(): ").concat(J," of ").concat(Q," operations failed"),we)})},Jt);function Jt(){}function Pr(b){function C(we,Ue){if(Ue){for(var Ke=arguments.length,Me=new Array(Ke-1);--Ke;)Me[Ke-1]=arguments[Ke];return Q[we].subscribe.apply(null,Me),b}if(typeof we=="string")return Q[we]}var Q={};C.addEventType=Ae;for(var q=1,J=arguments.length;q<J;++q)Ae(arguments[q]);return C;function Ae(we,Ue,Ke){if(typeof we!="object"){var Me;Ue=Ue||xt;var Je={subscribers:[],fire:Ke=Ke||Xe,subscribe:function(Oe){Je.subscribers.indexOf(Oe)===-1&&(Je.subscribers.push(Oe),Je.fire=Ue(Je.fire,Oe))},unsubscribe:function(Oe){Je.subscribers=Je.subscribers.filter(function(Re){return Re!==Oe}),Je.fire=Je.subscribers.reduce(Ue,Ke)}};return Q[we]=C[we]=Je}c(Me=we).forEach(function(Oe){var Re=Me[Oe];if(d(Re))Ae(Oe,Me[Oe][0],Me[Oe][1]);else{if(Re!=="asap")throw new Ie.InvalidArgument("Invalid event config");var Pe=Ae(Oe,$t,function(){for(var He=arguments.length,$e=new Array(He);He--;)$e[He]=arguments[He];Pe.subscribers.forEach(function(qe){ce(function(){qe.apply(null,$e)})})})}})}}function Qi(b,C){return j(C).from({prototype:b}),C}function Cn(b,C){return!(b.filter||b.algorithm||b.or)&&(C?b.justLimit:!b.replayFilter)}function Dn(b,C){b.filter=ke(b.filter,C)}function Br(b,C,Q){var q=b.replayFilter;b.replayFilter=q?function(){return ke(q(),C())}:C,b.justLimit=Q&&!q}function vr(b,C){if(b.isPrimKey)return C.primaryKey;var Q=C.getIndexByKeyPath(b.index);if(!Q)throw new Ie.Schema("KeyPath "+b.index+" on object store "+C.name+" is not indexed");return Q}function mr(b,C,Q){var q=vr(b,C.schema);return C.openCursor({trans:Q,values:!b.keysOnly,reverse:b.dir==="prev",unique:!!b.unique,query:{index:q,range:b.range}})}function xs(b,C,Q,q){var J=b.replayFilter?ke(b.filter,b.replayFilter()):b.filter;if(b.or){var Ae={},we=function(Ue,Ke,Me){var Je,Oe;J&&!J(Ke,Me,function(Re){return Ke.stop(Re)},function(Re){return Ke.fail(Re)})||((Oe=""+(Je=Ke.primaryKey))=="[object ArrayBuffer]"&&(Oe=""+new Uint8Array(Je)),x(Ae,Oe)||(Ae[Oe]=!0,C(Ue,Ke,Me)))};return Promise.all([b.or._iterate(we,Q),ei(mr(b,q,Q),b.algorithm,we,!b.keysOnly&&b.valueMapper)])}return ei(mr(b,q,Q),ke(b.algorithm,J),C,!b.keysOnly&&b.valueMapper)}function ei(b,C,Q,q){var J=Yn(q?function(Ae,we,Ue){return Q(q(Ae),we,Ue)}:Q);return b.then(function(Ae){if(Ae)return Ae.start(function(){var we=function(){return Ae.continue()};C&&!C(Ae,function(Ue){return we=Ue},function(Ue){Ae.stop(Ue),we=Xe},function(Ue){Ae.fail(Ue),we=Xe})||J(Ae.value,Ae,function(Ue){return we=Ue}),we()})})}var ui=Symbol(),dr=(za.prototype.execute=function(b){var C=(C=this.replacePrefix)===null||C===void 0?void 0:C[0];return C&&typeof b=="string"&&b.startsWith(C)?this.replacePrefix[1]+b.substring(C.length):b},za);function za(b){Object.assign(this,b)}var lo=(er.prototype._read=function(b,C){var Q=this._ctx;return Q.error?Q.table._trans(null,gr.bind(null,Q.error)):Q.table._trans("readonly",b).then(C)},er.prototype._write=function(b){var C=this._ctx;return C.error?C.table._trans(null,gr.bind(null,C.error)):C.table._trans("readwrite",b,"locked")},er.prototype._addAlgorithm=function(b){var C=this._ctx;C.algorithm=ke(C.algorithm,b)},er.prototype._iterate=function(b,C){return xs(this._ctx,b,C,this._ctx.table.core)},er.prototype.clone=function(b){var C=Object.create(this.constructor.prototype),Q=Object.create(this._ctx);return b&&h(Q,b),C._ctx=Q,C},er.prototype.raw=function(){return this._ctx.valueMapper=null,this},er.prototype.each=function(b){var C=this._ctx;return this._read(function(Q){return xs(C,b,Q,C.table.core)})},er.prototype.count=function(b){var C=this;return this._read(function(Q){var q=C._ctx,J=q.table.core;if(Cn(q,!0))return J.count({trans:Q,query:{index:vr(q,J.schema),range:q.range}}).then(function(we){return Math.min(we,q.limit)});var Ae=0;return xs(q,function(){return++Ae,!1},Q,J).then(function(){return Ae})}).then(b)},er.prototype.sortBy=function(b,C){var Q=b.split(".").reverse(),q=Q[0],J=Q.length-1;function Ae(Ke,Me){return Me?Ae(Ke[Q[Me]],Me-1):Ke[q]}var we=this._ctx.dir==="next"?1:-1;function Ue(Ke,Me){return Ke=Ae(Ke,J),Me=Ae(Me,J),Ke<Me?-we:Me<Ke?we:0}return this.toArray(function(Ke){return Ke.sort(Ue)}).then(C)},er.prototype.toArray=function(b){var C=this;return this._read(function(Q){var q=C._ctx;if(q.dir==="next"&&Cn(q,!0)&&0<q.limit){var J=q.valueMapper,Ae=vr(q,q.table.core.schema);return q.table.core.query({trans:Q,limit:q.limit,values:!0,query:{index:Ae,range:q.range}}).then(function(Ue){return Ue=Ue.result,J?Ue.map(J):Ue})}var we=[];return xs(q,function(Ue){return we.push(Ue)},Q,q.table.core).then(function(){return we})},b)},er.prototype.offset=function(b){var C=this._ctx;return b<=0||(C.offset+=b,Cn(C)?Br(C,function(){var Q=b;return function(q,J){return Q===0||(Q===1?--Q:J(function(){q.advance(Q),Q=0}),!1)}}):Br(C,function(){var Q=b;return function(){return--Q<0}})),this},er.prototype.limit=function(b){return this._ctx.limit=Math.min(this._ctx.limit,b),Br(this._ctx,function(){var C=b;return function(Q,q,J){return--C<=0&&q(J),0<=C}},!0),this},er.prototype.until=function(b,C){return Dn(this._ctx,function(Q,q,J){return!b(Q.value)||(q(J),C)}),this},er.prototype.first=function(b){return this.limit(1).toArray(function(C){return C[0]}).then(b)},er.prototype.last=function(b){return this.reverse().first(b)},er.prototype.filter=function(b){var C;return Dn(this._ctx,function(Q){return b(Q.value)}),(C=this._ctx).isMatch=ke(C.isMatch,b),this},er.prototype.and=function(b){return this.filter(b)},er.prototype.or=function(b){return new this.db.WhereClause(this._ctx.table,b,this)},er.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},er.prototype.desc=function(){return this.reverse()},er.prototype.eachKey=function(b){var C=this._ctx;return C.keysOnly=!C.isMatch,this.each(function(Q,q){b(q.key,q)})},er.prototype.eachUniqueKey=function(b){return this._ctx.unique="unique",this.eachKey(b)},er.prototype.eachPrimaryKey=function(b){var C=this._ctx;return C.keysOnly=!C.isMatch,this.each(function(Q,q){b(q.primaryKey,q)})},er.prototype.keys=function(b){var C=this._ctx;C.keysOnly=!C.isMatch;var Q=[];return this.each(function(q,J){Q.push(J.key)}).then(function(){return Q}).then(b)},er.prototype.primaryKeys=function(b){var C=this._ctx;if(C.dir==="next"&&Cn(C,!0)&&0<C.limit)return this._read(function(q){var J=vr(C,C.table.core.schema);return C.table.core.query({trans:q,values:!1,limit:C.limit,query:{index:J,range:C.range}})}).then(function(q){return q.result}).then(b);C.keysOnly=!C.isMatch;var Q=[];return this.each(function(q,J){Q.push(J.primaryKey)}).then(function(){return Q}).then(b)},er.prototype.uniqueKeys=function(b){return this._ctx.unique="unique",this.keys(b)},er.prototype.firstKey=function(b){return this.limit(1).keys(function(C){return C[0]}).then(b)},er.prototype.lastKey=function(b){return this.reverse().firstKey(b)},er.prototype.distinct=function(){var b=this._ctx,b=b.index&&b.table.schema.idxByName[b.index];if(!b||!b.multi)return this;var C={};return Dn(this._ctx,function(J){var q=J.primaryKey.toString(),J=x(C,q);return C[q]=!0,!J}),this},er.prototype.modify=function(b){var C=this,Q=this._ctx;return this._write(function(q){var J,Ae,we;we=typeof b=="function"?b:(J=c(b),Ae=J.length,function(qe){for(var at=!1,nt=0;nt<Ae;++nt){var pt=J[nt],Bt=b[pt],Tt=Y(qe,pt);Bt instanceof dr?(ge(qe,pt,Bt.execute(Tt)),at=!0):Tt!==Bt&&(ge(qe,pt,Bt),at=!0)}return at});function Ue(qe,pt){var nt=pt.failures,pt=pt.numFailures;He+=qe-pt;for(var Bt=0,Tt=c(nt);Bt<Tt.length;Bt++){var Wt=Tt[Bt];Pe.push(nt[Wt])}}var Ke=Q.table.core,Me=Ke.schema.primaryKey,Je=Me.outbound,Oe=Me.extractKey,Re=C.db._options.modifyChunkSize||200,Pe=[],He=0,$e=[];return C.clone().primaryKeys().then(function(qe){function at(nt){var pt=Math.min(Re,qe.length-nt);return Ke.getMany({trans:q,keys:qe.slice(nt,nt+pt),cache:"immutable"}).then(function(Bt){for(var Tt=[],Wt=[],zt=Je?[]:null,An=[],qt=0;qt<pt;++qt){var Rn=Bt[qt],Sn={value:oe(Rn),primKey:qe[nt+qt]};we.call(Sn,Sn.value,Sn)!==!1&&(Sn.value==null?An.push(qe[nt+qt]):Je||Xt(Oe(Rn),Oe(Sn.value))===0?(Wt.push(Sn.value),Je&&zt.push(qe[nt+qt])):(An.push(qe[nt+qt]),Tt.push(Sn.value)))}var hr=Cn(Q)&&Q.limit===1/0&&(typeof b!="function"||b===qs)&&{index:Q.index,range:Q.range};return Promise.resolve(0<Tt.length&&Ke.mutate({trans:q,type:"add",values:Tt}).then(function(tr){for(var br in tr.failures)An.splice(parseInt(br),1);Ue(Tt.length,tr)})).then(function(){return(0<Wt.length||hr&&typeof b=="object")&&Ke.mutate({trans:q,type:"put",keys:zt,values:Wt,criteria:hr,changeSpec:typeof b!="function"&&b}).then(function(tr){return Ue(Wt.length,tr)})}).then(function(){return(0<An.length||hr&&b===qs)&&Ke.mutate({trans:q,type:"delete",keys:An,criteria:hr}).then(function(tr){return Ue(An.length,tr)})}).then(function(){return qe.length>nt+pt&&at(nt+Re)})})}return at(0).then(function(){if(0<Pe.length)throw new ae("Error modifying one or more objects",Pe,He,$e);return qe.length})})})},er.prototype.delete=function(){var b=this._ctx,C=b.range;return Cn(b)&&(b.isPrimKey||C.type===3)?this._write(function(Q){var q=b.table.core.schema.primaryKey,J=C;return b.table.core.count({trans:Q,query:{index:q,range:J}}).then(function(Ae){return b.table.core.mutate({trans:Q,type:"deleteRange",range:J}).then(function(we){var Ue=we.failures;if(we.lastResult,we.results,we=we.numFailures,we)throw new ae("Could not delete some values",Object.keys(Ue).map(function(Ke){return Ue[Ke]}),Ae-we);return Ae-we})})}):this.modify(qs)},er);function er(){}var qs=function(b,C){return C.value=null};function Uo(b,C){return b<C?-1:b===C?0:1}function ll(b,C){return C<b?-1:b===C?0:1}function ra(b,C,Q){return b=b instanceof Ks?new b.Collection(b):b,b._ctx.error=new(Q||TypeError)(C),b}function bs(b){return new b.Collection(b,function(){return qa("")}).limit(0)}function Bo(b,C,Q,q){var J,Ae,we,Ue,Ke,Me,Je,Oe=Q.length;if(!Q.every(function(He){return typeof He=="string"}))return ra(b,Lt);function Re(He){J=He==="next"?function(qe){return qe.toUpperCase()}:function(qe){return qe.toLowerCase()},Ae=He==="next"?function(qe){return qe.toLowerCase()}:function(qe){return qe.toUpperCase()},we=He==="next"?Uo:ll;var $e=Q.map(function(qe){return{lower:Ae(qe),upper:J(qe)}}).sort(function(qe,at){return we(qe.lower,at.lower)});Ue=$e.map(function(qe){return qe.upper}),Ke=$e.map(function(qe){return qe.lower}),Je=(Me=He)==="next"?"":q}Re("next"),b=new b.Collection(b,function(){return Ei(Ue[0],Ke[Oe-1]+q)}),b._ondirectionchange=function(He){Re(He)};var Pe=0;return b._addAlgorithm(function(He,$e,qe){var at=He.key;if(typeof at!="string")return!1;var nt=Ae(at);if(C(nt,Ke,Pe))return!0;for(var pt=null,Bt=Pe;Bt<Oe;++Bt){var Tt=(function(Wt,zt,An,qt,Rn,Sn){for(var hr=Math.min(Wt.length,qt.length),tr=-1,br=0;br<hr;++br){var li=zt[br];if(li!==qt[br])return Rn(Wt[br],An[br])<0?Wt.substr(0,br)+An[br]+An.substr(br+1):Rn(Wt[br],qt[br])<0?Wt.substr(0,br)+qt[br]+An.substr(br+1):0<=tr?Wt.substr(0,tr)+zt[tr]+An.substr(tr+1):null;Rn(Wt[br],li)<0&&(tr=br)}return hr<qt.length&&Sn==="next"?Wt+An.substr(Wt.length):hr<Wt.length&&Sn==="prev"?Wt.substr(0,An.length):tr<0?null:Wt.substr(0,tr)+qt[tr]+An.substr(tr+1)})(at,nt,Ue[Bt],Ke[Bt],we,Me);Tt===null&&pt===null?Pe=Bt+1:(pt===null||0<we(pt,Tt))&&(pt=Tt)}return $e(pt!==null?function(){He.continue(pt+Je)}:qe),!1}),b}function Ei(b,C,Q,q){return{type:2,lower:b,upper:C,lowerOpen:Q,upperOpen:q}}function qa(b){return{type:1,lower:b,upper:b}}var Ks=(Object.defineProperty(di.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),di.prototype.between=function(b,C,Q,q){Q=Q!==!1,q=q===!0;try{return 0<this._cmp(b,C)||this._cmp(b,C)===0&&(Q||q)&&(!Q||!q)?bs(this):new this.Collection(this,function(){return Ei(b,C,!Q,!q)})}catch{return ra(this,le)}},di.prototype.equals=function(b){return b==null?ra(this,le):new this.Collection(this,function(){return qa(b)})},di.prototype.above=function(b){return b==null?ra(this,le):new this.Collection(this,function(){return Ei(b,void 0,!0)})},di.prototype.aboveOrEqual=function(b){return b==null?ra(this,le):new this.Collection(this,function(){return Ei(b,void 0,!1)})},di.prototype.below=function(b){return b==null?ra(this,le):new this.Collection(this,function(){return Ei(void 0,b,!1,!0)})},di.prototype.belowOrEqual=function(b){return b==null?ra(this,le):new this.Collection(this,function(){return Ei(void 0,b)})},di.prototype.startsWith=function(b){return typeof b!="string"?ra(this,Lt):this.between(b,b+Bi,!0,!0)},di.prototype.startsWithIgnoreCase=function(b){return b===""?this.startsWith(b):Bo(this,function(C,Q){return C.indexOf(Q[0])===0},[b],Bi)},di.prototype.equalsIgnoreCase=function(b){return Bo(this,function(C,Q){return C===Q[0]},[b],"")},di.prototype.anyOfIgnoreCase=function(){var b=Se.apply(Ce,arguments);return b.length===0?bs(this):Bo(this,function(C,Q){return Q.indexOf(C)!==-1},b,"")},di.prototype.startsWithAnyOfIgnoreCase=function(){var b=Se.apply(Ce,arguments);return b.length===0?bs(this):Bo(this,function(C,Q){return Q.some(function(q){return C.indexOf(q)===0})},b,Bi)},di.prototype.anyOf=function(){var b=this,C=Se.apply(Ce,arguments),Q=this._cmp;try{C.sort(Q)}catch{return ra(this,le)}if(C.length===0)return bs(this);var q=new this.Collection(this,function(){return Ei(C[0],C[C.length-1])});q._ondirectionchange=function(Ae){Q=Ae==="next"?b._ascending:b._descending,C.sort(Q)};var J=0;return q._addAlgorithm(function(Ae,we,Ue){for(var Ke=Ae.key;0<Q(Ke,C[J]);)if(++J===C.length)return we(Ue),!1;return Q(Ke,C[J])===0||(we(function(){Ae.continue(C[J])}),!1)}),q},di.prototype.notEqual=function(b){return this.inAnyRange([[-1/0,b],[b,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},di.prototype.noneOf=function(){var b=Se.apply(Ce,arguments);if(b.length===0)return new this.Collection(this);try{b.sort(this._ascending)}catch{return ra(this,le)}var C=b.reduce(function(Q,q){return Q?Q.concat([[Q[Q.length-1][1],q]]):[[-1/0,q]]},null);return C.push([b[b.length-1],this.db._maxKey]),this.inAnyRange(C,{includeLowers:!1,includeUppers:!1})},di.prototype.inAnyRange=function(at,C){var Q=this,q=this._cmp,J=this._ascending,Ae=this._descending,we=this._min,Ue=this._max;if(at.length===0)return bs(this);if(!at.every(function(nt){return nt[0]!==void 0&&nt[1]!==void 0&&J(nt[0],nt[1])<=0}))return ra(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Ie.InvalidArgument);var Ke=!C||C.includeLowers!==!1,Me=C&&C.includeUppers===!0,Je,Oe=J;function Re(nt,pt){return Oe(nt[0],pt[0])}try{(Je=at.reduce(function(nt,pt){for(var Bt=0,Tt=nt.length;Bt<Tt;++Bt){var Wt=nt[Bt];if(q(pt[0],Wt[1])<0&&0<q(pt[1],Wt[0])){Wt[0]=we(Wt[0],pt[0]),Wt[1]=Ue(Wt[1],pt[1]);break}}return Bt===Tt&&nt.push(pt),nt},[])).sort(Re)}catch{return ra(this,le)}var Pe=0,He=Me?function(nt){return 0<J(nt,Je[Pe][1])}:function(nt){return 0<=J(nt,Je[Pe][1])},$e=Ke?function(nt){return 0<Ae(nt,Je[Pe][0])}:function(nt){return 0<=Ae(nt,Je[Pe][0])},qe=He,at=new this.Collection(this,function(){return Ei(Je[0][0],Je[Je.length-1][1],!Ke,!Me)});return at._ondirectionchange=function(nt){Oe=nt==="next"?(qe=He,J):(qe=$e,Ae),Je.sort(Re)},at._addAlgorithm(function(nt,pt,Bt){for(var Tt,Wt=nt.key;qe(Wt);)if(++Pe===Je.length)return pt(Bt),!1;return!He(Tt=Wt)&&!$e(Tt)||(Q._cmp(Wt,Je[Pe][1])===0||Q._cmp(Wt,Je[Pe][0])===0||pt(function(){Oe===J?nt.continue(Je[Pe][0]):nt.continue(Je[Pe][1])}),!1)}),at},di.prototype.startsWithAnyOf=function(){var b=Se.apply(Ce,arguments);return b.every(function(C){return typeof C=="string"})?b.length===0?bs(this):this.inAnyRange(b.map(function(C){return[C,C+Bi]})):ra(this,"startsWithAnyOf() only works with strings")},di);function di(){}function ya(b){return Yn(function(C){return Kt(C),b(C.target.error),!1})}function Kt(b){b.stopPropagation&&b.stopPropagation(),b.preventDefault&&b.preventDefault()}var _a="storagemutated",Mr="x-storagemutated-1",js=Pr(null,_a),Ka=(ti.prototype._lock=function(){return G(!dt.global),++this._reculock,this._reculock!==1||dt.global||(dt.lockOwnerFor=this),this},ti.prototype._unlock=function(){if(G(!dt.global),--this._reculock==0)for(dt.global||(dt.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var b=this._blockedFuncs.shift();try{bi(b[1],b[0])}catch{}}return this},ti.prototype._locked=function(){return this._reculock&&dt.lockOwnerFor!==this},ti.prototype.create=function(b){var C=this;if(!this.mode)return this;var Q=this.db.idbdb,q=this.db._state.dbOpenError;if(G(!this.idbtrans),!b&&!Q)switch(q&&q.name){case"DatabaseClosedError":throw new Ie.DatabaseClosed(q);case"MissingAPIError":throw new Ie.MissingAPI(q.message,q);default:throw new Ie.OpenFailed(q)}if(!this.active)throw new Ie.TransactionInactive;return G(this._completion._state===null),(b=this.idbtrans=b||(this.db.core||Q).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Yn(function(J){Kt(J),C._reject(b.error)}),b.onabort=Yn(function(J){Kt(J),C.active&&C._reject(new Ie.Abort(b.error)),C.active=!1,C.on("abort").fire(J)}),b.oncomplete=Yn(function(){C.active=!1,C._resolve(),"mutatedParts"in b&&js.storagemutated.fire(b.mutatedParts)}),this},ti.prototype._promise=function(b,C,Q){var q=this;if(b==="readwrite"&&this.mode!=="readwrite")return gr(new Ie.ReadOnly("Transaction is readonly"));if(!this.active)return gr(new Ie.TransactionInactive);if(this._locked())return new bt(function(Ae,we){q._blockedFuncs.push([function(){q._promise(b,C,Q).then(Ae,we)},dt])});if(Q)return Kn(function(){var Ae=new bt(function(we,Ue){q._lock();var Ke=C(we,Ue,q);Ke&&Ke.then&&Ke.then(we,Ue)});return Ae.finally(function(){return q._unlock()}),Ae._lib=!0,Ae});var J=new bt(function(Ae,we){var Ue=C(Ae,we,q);Ue&&Ue.then&&Ue.then(Ae,we)});return J._lib=!0,J},ti.prototype._root=function(){return this.parent?this.parent._root():this},ti.prototype.waitFor=function(b){var C,Q=this._root(),q=bt.resolve(b);Q._waitingFor?Q._waitingFor=Q._waitingFor.then(function(){return q}):(Q._waitingFor=q,Q._waitingQueue=[],C=Q.idbtrans.objectStore(Q.storeNames[0]),(function Ae(){for(++Q._spinCount;Q._waitingQueue.length;)Q._waitingQueue.shift()();Q._waitingFor&&(C.get(-1/0).onsuccess=Ae)})());var J=Q._waitingFor;return new bt(function(Ae,we){q.then(function(Ue){return Q._waitingQueue.push(Yn(Ae.bind(null,Ue)))},function(Ue){return Q._waitingQueue.push(Yn(we.bind(null,Ue)))}).finally(function(){Q._waitingFor===J&&(Q._waitingFor=null)})})},ti.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Ie.Abort))},ti.prototype.table=function(b){var C=this._memoizedTables||(this._memoizedTables={});if(x(C,b))return C[b];var Q=this.schema[b];if(!Q)throw new Ie.NotFound("Table "+b+" not part of transaction");return Q=new this.db.Table(b,Q,this),Q.core=this.db.core.table(b),C[b]=Q},ti);function ti(){}function Co(b,C,Q,q,J,Ae,we){return{name:b,keyPath:C,unique:Q,multi:q,auto:J,compound:Ae,src:(Q&&!we?"&":"")+(q?"*":"")+(J?"++":"")+os(C)}}function os(b){return typeof b=="string"?b:b?"["+[].join.call(b,"+")+"]":""}function wa(b,C,Q){return{name:b,primKey:C,indexes:Q,mappedClass:null,idxByName:(q=function(J){return[J.name,J]},Q.reduce(function(J,Ae,we){return we=q(Ae,we),we&&(J[we[0]]=we[1]),J},{}))};var q}var Ga=function(b){try{return b.only([[]]),Ga=function(){return[[]]},[[]]}catch{return Ga=function(){return Bi},Bi}};function ni(b){return b==null?function(){}:typeof b=="string"?(C=b).split(".").length===1?function(Q){return Q[C]}:function(Q){return Y(Q,C)}:function(Q){return Y(Q,b)};var C}function Gs(b){return[].slice.call(b)}var ys=0;function Vs(b){return b==null?":id":typeof b=="string"?b:"[".concat(b.join("+"),"]")}function Al(b,C,Ke){function q(qe){if(qe.type===3)return null;if(qe.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var Pe=qe.lower,He=qe.upper,$e=qe.lowerOpen,qe=qe.upperOpen;return Pe===void 0?He===void 0?null:C.upperBound(He,!!qe):He===void 0?C.lowerBound(Pe,!!$e):C.bound(Pe,He,!!$e,!!qe)}function J(Re){var Pe,He=Re.name;return{name:He,schema:Re,mutate:function($e){var qe=$e.trans,at=$e.type,nt=$e.keys,pt=$e.values,Bt=$e.range;return new Promise(function(Tt,Wt){Tt=Yn(Tt);var zt=qe.objectStore(He),An=zt.keyPath==null,qt=at==="put"||at==="add";if(!qt&&at!=="delete"&&at!=="deleteRange")throw new Error("Invalid operation type: "+at);var Rn,Sn=(nt||pt||{length:1}).length;if(nt&&pt&&nt.length!==pt.length)throw new Error("Given keys array must have same length as given values array.");if(Sn===0)return Tt({numFailures:0,failures:{},results:[],lastResult:void 0});function hr(mi){++li,Kt(mi)}var tr=[],br=[],li=0;if(at==="deleteRange"){if(Bt.type===4)return Tt({numFailures:li,failures:br,results:[],lastResult:void 0});Bt.type===3?tr.push(Rn=zt.clear()):tr.push(Rn=zt.delete(q(Bt)))}else{var An=qt?An?[pt,nt]:[pt,null]:[nt,null],nr=An[0],ds=An[1];if(qt)for(var Ci=0;Ci<Sn;++Ci)tr.push(Rn=ds&&ds[Ci]!==void 0?zt[at](nr[Ci],ds[Ci]):zt[at](nr[Ci])),Rn.onerror=hr;else for(Ci=0;Ci<Sn;++Ci)tr.push(Rn=zt[at](nr[Ci])),Rn.onerror=hr}function Xo(mi){mi=mi.target.result,tr.forEach(function(Ya,sa){return Ya.error!=null&&(br[sa]=Ya.error)}),Tt({numFailures:li,failures:br,results:at==="delete"?nt:tr.map(function(Ya){return Ya.result}),lastResult:mi})}Rn.onerror=function(mi){hr(mi),Xo(mi)},Rn.onsuccess=Xo})},getMany:function($e){var qe=$e.trans,at=$e.keys;return new Promise(function(nt,pt){nt=Yn(nt);for(var Bt,Tt=qe.objectStore(He),Wt=at.length,zt=new Array(Wt),An=0,qt=0,Rn=function(tr){tr=tr.target,zt[tr._pos]=tr.result,++qt===An&&nt(zt)},Sn=ya(pt),hr=0;hr<Wt;++hr)at[hr]!=null&&((Bt=Tt.get(at[hr]))._pos=hr,Bt.onsuccess=Rn,Bt.onerror=Sn,++An);An===0&&nt(zt)})},get:function($e){var qe=$e.trans,at=$e.key;return new Promise(function(nt,pt){nt=Yn(nt);var Bt=qe.objectStore(He).get(at);Bt.onsuccess=function(Tt){return nt(Tt.target.result)},Bt.onerror=ya(pt)})},query:(Pe=Me,function($e){return new Promise(function(qe,at){qe=Yn(qe);var nt,pt,Bt,An=$e.trans,Tt=$e.values,Wt=$e.limit,Rn=$e.query,zt=Wt===1/0?void 0:Wt,qt=Rn.index,Rn=Rn.range,An=An.objectStore(He),qt=qt.isPrimaryKey?An:An.index(qt.name),Rn=q(Rn);if(Wt===0)return qe({result:[]});Pe?((zt=Tt?qt.getAll(Rn,zt):qt.getAllKeys(Rn,zt)).onsuccess=function(Sn){return qe({result:Sn.target.result})},zt.onerror=ya(at)):(nt=0,pt=!Tt&&"openKeyCursor"in qt?qt.openKeyCursor(Rn):qt.openCursor(Rn),Bt=[],pt.onsuccess=function(Sn){var hr=pt.result;return hr?(Bt.push(Tt?hr.value:hr.primaryKey),++nt===Wt?qe({result:Bt}):void hr.continue()):qe({result:Bt})},pt.onerror=ya(at))})}),openCursor:function($e){var qe=$e.trans,at=$e.values,nt=$e.query,pt=$e.reverse,Bt=$e.unique;return new Promise(function(Tt,Wt){Tt=Yn(Tt);var qt=nt.index,zt=nt.range,An=qe.objectStore(He),An=qt.isPrimaryKey?An:An.index(qt.name),qt=pt?Bt?"prevunique":"prev":Bt?"nextunique":"next",Rn=!at&&"openKeyCursor"in An?An.openKeyCursor(q(zt),qt):An.openCursor(q(zt),qt);Rn.onerror=ya(Wt),Rn.onsuccess=Yn(function(Sn){var hr,tr,br,li,nr=Rn.result;nr?(nr.___id=++ys,nr.done=!1,hr=nr.continue.bind(nr),tr=(tr=nr.continuePrimaryKey)&&tr.bind(nr),br=nr.advance.bind(nr),li=function(){throw new Error("Cursor not stopped")},nr.trans=qe,nr.stop=nr.continue=nr.continuePrimaryKey=nr.advance=function(){throw new Error("Cursor not started")},nr.fail=Yn(Wt),nr.next=function(){var ds=this,Ci=1;return this.start(function(){return Ci--?ds.continue():ds.stop()}).then(function(){return ds})},nr.start=function(ds){function Ci(){if(Rn.result)try{ds()}catch(mi){nr.fail(mi)}else nr.done=!0,nr.start=function(){throw new Error("Cursor behind last entry")},nr.stop()}var Xo=new Promise(function(mi,Ya){mi=Yn(mi),Rn.onerror=ya(Ya),nr.fail=Ya,nr.stop=function(sa){nr.stop=nr.continue=nr.continuePrimaryKey=nr.advance=li,mi(sa)}});return Rn.onsuccess=Yn(function(mi){Rn.onsuccess=Ci,Ci()}),nr.continue=hr,nr.continuePrimaryKey=tr,nr.advance=br,Ci(),Xo},Tt(nr)):Tt(null)},Wt)})},count:function($e){var qe=$e.query,at=$e.trans,nt=qe.index,pt=qe.range;return new Promise(function(Bt,Tt){var Wt=at.objectStore(He),zt=nt.isPrimaryKey?Wt:Wt.index(nt.name),Wt=q(pt),zt=Wt?zt.count(Wt):zt.count();zt.onsuccess=Yn(function(An){return Bt(An.target.result)}),zt.onerror=ya(Tt)})}}}var Ae,we,Ue,Je=(we=Ke,Ue=Gs((Ae=b).objectStoreNames),{schema:{name:Ae.name,tables:Ue.map(function(Re){return we.objectStore(Re)}).map(function(Re){var Pe=Re.keyPath,qe=Re.autoIncrement,He=d(Pe),$e={},qe={name:Re.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:Pe==null,compound:He,keyPath:Pe,autoIncrement:qe,unique:!0,extractKey:ni(Pe)},indexes:Gs(Re.indexNames).map(function(at){return Re.index(at)}).map(function(Bt){var nt=Bt.name,pt=Bt.unique,Tt=Bt.multiEntry,Bt=Bt.keyPath,Tt={name:nt,compound:d(Bt),keyPath:Bt,unique:pt,multiEntry:Tt,extractKey:ni(Bt)};return $e[Vs(Bt)]=Tt}),getIndexByKeyPath:function(at){return $e[Vs(at)]}};return $e[":id"]=qe.primaryKey,Pe!=null&&($e[Vs(Pe)]=qe.primaryKey),qe})},hasGetAll:0<Ue.length&&"getAll"in we.objectStore(Ue[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),Ke=Je.schema,Me=Je.hasGetAll,Je=Ke.tables.map(J),Oe={};return Je.forEach(function(Re){return Oe[Re.name]=Re}),{stack:"dbcore",transaction:b.transaction.bind(b),table:function(Re){if(!Oe[Re])throw new Error("Table '".concat(Re,"' not found"));return Oe[Re]},MIN_KEY:-1/0,MAX_KEY:Ga(C),schema:Ke}}function ia(b,C,Q,q){var J=Q.IDBKeyRange;return Q.indexedDB,{dbcore:(q=Al(C,J,q),b.dbcore.reduce(function(Ae,we){return we=we.create,r(r({},Ae),we(Ae))},q))}}function Va(b,q){var Q=q.db,q=ia(b._middlewares,Q,b._deps,q);b.core=q.dbcore,b.tables.forEach(function(J){var Ae=J.name;b.core.schema.tables.some(function(we){return we.name===Ae})&&(J.core=b.core.table(Ae),b[Ae]instanceof b.Table&&(b[Ae].core=J.core))})}function Za(b,C,Q,q){Q.forEach(function(J){var Ae=q[J];C.forEach(function(we){var Ue=(function Ke(Me,Je){return F(Me,Je)||(Me=f(Me))&&Ke(Me,Je)})(we,J);(!Ue||"value"in Ue&&Ue.value===void 0)&&(we===b.Transaction.prototype||we instanceof b.Transaction?I(we,J,{get:function(){return this.table(J)},set:function(Ke){w(this,J,{value:Ke,writable:!0,configurable:!0,enumerable:!0})}}):we[J]=new b.Table(J,Ae))})})}function ks(b,C){C.forEach(function(Q){for(var q in Q)Q[q]instanceof b.Table&&delete Q[q]})}function xr(b,C){return b._cfg.version-C._cfg.version}function $o(b,C,Q,q){var J=b._dbSchema;Q.objectStoreNames.contains("$meta")&&!J.$meta&&(J.$meta=wa("$meta",co("")[0],[]),b._storeNames.push("$meta"));var Ae=b._createTransaction("readwrite",b._storeNames,J);Ae.create(Q),Ae._completion.catch(q);var we=Ae._reject.bind(Ae),Ue=dt.transless||dt;Kn(function(){return dt.trans=Ae,dt.transless=Ue,C!==0?(Va(b,Q),Me=C,((Ke=Ae).storeNames.includes("$meta")?Ke.table("$meta").get("version").then(function(Je){return Je??Me}):bt.resolve(Me)).then(function(Je){return Re=Je,Pe=Ae,He=Q,$e=[],Je=(Oe=b)._versions,qe=Oe._dbSchema=Us(0,Oe.idbdb,He),(Je=Je.filter(function(at){return at._cfg.version>=Re})).length!==0?(Je.forEach(function(at){$e.push(function(){var nt=qe,pt=at._cfg.dbschema;Io(Oe,nt,He),Io(Oe,pt,He),qe=Oe._dbSchema=pt;var Bt=$a(nt,pt);Bt.add.forEach(function(qt){Ao(He,qt[0],qt[1].primKey,qt[1].indexes)}),Bt.change.forEach(function(qt){if(qt.recreate)throw new Ie.Upgrade("Not yet support for changing primary key");var Rn=He.objectStore(qt.name);qt.add.forEach(function(Sn){return ls(Rn,Sn)}),qt.change.forEach(function(Sn){Rn.deleteIndex(Sn.name),ls(Rn,Sn)}),qt.del.forEach(function(Sn){return Rn.deleteIndex(Sn)})});var Tt=at._cfg.contentUpgrade;if(Tt&&at._cfg.version>Re){Va(Oe,He),Pe._memoizedTables={};var Wt=re(pt);Bt.del.forEach(function(qt){Wt[qt]=nt[qt]}),ks(Oe,[Oe.Transaction.prototype]),Za(Oe,[Oe.Transaction.prototype],c(Wt),Wt),Pe.schema=Wt;var zt,An=te(Tt);return An&&Wn(),Bt=bt.follow(function(){var qt;(zt=Tt(Pe))&&An&&(qt=Ar.bind(null,null),zt.then(qt,qt))}),zt&&typeof zt.then=="function"?bt.resolve(zt):Bt.then(function(){return zt})}}),$e.push(function(nt){var pt,Bt,Tt=at._cfg.dbschema;pt=Tt,Bt=nt,[].slice.call(Bt.db.objectStoreNames).forEach(function(Wt){return pt[Wt]==null&&Bt.db.deleteObjectStore(Wt)}),ks(Oe,[Oe.Transaction.prototype]),Za(Oe,[Oe.Transaction.prototype],Oe._storeNames,Oe._dbSchema),Pe.schema=Oe._dbSchema}),$e.push(function(nt){Oe.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(Oe.idbdb.version/10)===at._cfg.version?(Oe.idbdb.deleteObjectStore("$meta"),delete Oe._dbSchema.$meta,Oe._storeNames=Oe._storeNames.filter(function(pt){return pt!=="$meta"})):nt.objectStore("$meta").put(at._cfg.version,"version"))})}),(function at(){return $e.length?bt.resolve($e.shift()(Pe.idbtrans)).then(at):bt.resolve()})().then(function(){cl(qe,He)})):bt.resolve();var Oe,Re,Pe,He,$e,qe}).catch(we)):(c(J).forEach(function(Je){Ao(Q,Je,J[Je].primKey,J[Je].indexes)}),Va(b,Q),void bt.follow(function(){return b.on.populate.fire(Ae)}).catch(we));var Ke,Me})}function aa(b,C){cl(b._dbSchema,C),C.db.version%10!=0||C.objectStoreNames.contains("$meta")||C.db.createObjectStore("$meta").add(Math.ceil(C.db.version/10-1),"version");var Q=Us(0,b.idbdb,C);Io(b,b._dbSchema,C);for(var q=0,J=$a(Q,b._dbSchema).change;q<J.length;q++){var Ae=(function(we){if(we.change.length||we.recreate)return console.warn("Unable to patch indexes of table ".concat(we.name," because it has changes on the type of index or primary key.")),{value:void 0};var Ue=C.objectStore(we.name);we.add.forEach(function(Ke){Vt&&console.debug("Dexie upgrade patch: Creating missing index ".concat(we.name,".").concat(Ke.src)),ls(Ue,Ke)})})(J[q]);if(typeof Ae=="object")return Ae.value}}function $a(b,C){var Q,q={del:[],add:[],change:[]};for(Q in b)C[Q]||q.del.push(Q);for(Q in C){var J=b[Q],Ae=C[Q];if(J){var we={name:Q,def:Ae,recreate:!1,del:[],add:[],change:[]};if(""+(J.primKey.keyPath||"")!=""+(Ae.primKey.keyPath||"")||J.primKey.auto!==Ae.primKey.auto)we.recreate=!0,q.change.push(we);else{var Ue=J.idxByName,Ke=Ae.idxByName,Me=void 0;for(Me in Ue)Ke[Me]||we.del.push(Me);for(Me in Ke){var Je=Ue[Me],Oe=Ke[Me];Je?Je.src!==Oe.src&&we.change.push(Oe):we.add.push(Oe)}(0<we.del.length||0<we.add.length||0<we.change.length)&&q.change.push(we)}}else q.add.push([Q,Ae])}return q}function Ao(b,C,Q,q){var J=b.db.createObjectStore(C,Q.keyPath?{keyPath:Q.keyPath,autoIncrement:Q.auto}:{autoIncrement:Q.auto});return q.forEach(function(Ae){return ls(J,Ae)}),J}function cl(b,C){c(b).forEach(function(Q){C.db.objectStoreNames.contains(Q)||(Vt&&console.debug("Dexie: Creating missing table",Q),Ao(C,Q,b[Q].primKey,b[Q].indexes))})}function ls(b,C){b.createIndex(C.name,C.keyPath,{unique:C.unique,multiEntry:C.multi})}function Us(b,C,Q){var q={};return z(C.objectStoreNames,0).forEach(function(J){for(var Ae=Q.objectStore(J),we=Co(os(Me=Ae.keyPath),Me||"",!0,!1,!!Ae.autoIncrement,Me&&typeof Me!="string",!0),Ue=[],Ke=0;Ke<Ae.indexNames.length;++Ke){var Je=Ae.index(Ae.indexNames[Ke]),Me=Je.keyPath,Je=Co(Je.name,Me,!!Je.unique,!!Je.multiEntry,!1,Me&&typeof Me!="string",!1);Ue.push(Je)}q[J]=wa(J,we,Ue)}),q}function Io(b,C,Q){for(var q=Q.db.objectStoreNames,J=0;J<q.length;++J){var Ae=q[J],we=Q.objectStore(Ae);b._hasGetAll="getAll"in we;for(var Ue=0;Ue<we.indexNames.length;++Ue){var Ke=we.indexNames[Ue],Me=we.index(Ke).keyPath,Je=typeof Me=="string"?Me:"["+z(Me).join("+")+"]";!C[Ae]||(Me=C[Ae].idxByName[Je])&&(Me.name=Ke,delete C[Ae].idxByName[Je],C[Ae].idxByName[Ke]=Me)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&s.WorkerGlobalScope&&s instanceof s.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(b._hasGetAll=!1)}function co(b){return b.split(",").map(function(C,Q){var q=(C=C.trim()).replace(/([&*]|\+\+)/g,""),J=/^\[/.test(q)?q.match(/^\[(.*)\]$/)[1].split("+"):q;return Co(q,J||null,/\&/.test(C),/\*/.test(C),/\+\+/.test(C),d(J),Q===0)})}var Kl=(k.prototype._parseStoresSpec=function(b,C){c(b).forEach(function(Q){if(b[Q]!==null){var q=co(b[Q]),J=q.shift();if(J.unique=!0,J.multi)throw new Ie.Schema("Primary key cannot be multi-valued");q.forEach(function(Ae){if(Ae.auto)throw new Ie.Schema("Only primary key can be marked as autoIncrement (++)");if(!Ae.keyPath)throw new Ie.Schema("Index must have a name and cannot be an empty string")}),C[Q]=wa(Q,J,q)}})},k.prototype.stores=function(Q){var C=this.db;this._cfg.storesSource=this._cfg.storesSource?h(this._cfg.storesSource,Q):Q;var Q=C._versions,q={},J={};return Q.forEach(function(Ae){h(q,Ae._cfg.storesSource),J=Ae._cfg.dbschema={},Ae._parseStoresSpec(q,J)}),C._dbSchema=J,ks(C,[C._allTables,C,C.Transaction.prototype]),Za(C,[C._allTables,C,C.Transaction.prototype,this._cfg.tables],c(J),J),C._storeNames=c(J),this},k.prototype.upgrade=function(b){return this._cfg.contentUpgrade=nn(this._cfg.contentUpgrade||Xe,b),this},k);function k(){}function ee(b,C){var Q=b._dbNamesDB;return Q||(Q=b._dbNamesDB=new Wi(Et,{addons:[],indexedDB:b,IDBKeyRange:C})).version(1).stores({dbnames:"name"}),Q.table("dbnames")}function Be(b){return b&&typeof b.databases=="function"}function De(b){return Kn(function(){return dt.letThrough=!0,b()})}function We(b){return!("from"in b)}var ft=function(b,C){if(!this){var Q=new ft;return b&&"d"in b&&h(Q,b),Q}h(this,arguments.length?{d:1,from:b,to:1<arguments.length?C:b}:{d:0})};function Ft(b,C,Q){var q=Xt(C,Q);if(!isNaN(q)){if(0<q)throw RangeError();if(We(b))return h(b,{from:C,to:Q,d:1});var J=b.l,q=b.r;if(Xt(Q,b.from)<0)return J?Ft(J,C,Q):b.l={from:C,to:Q,d:1,l:null,r:null},sr(b);if(0<Xt(C,b.to))return q?Ft(q,C,Q):b.r={from:C,to:Q,d:1,l:null,r:null},sr(b);Xt(C,b.from)<0&&(b.from=C,b.l=null,b.d=q?q.d+1:1),0<Xt(Q,b.to)&&(b.to=Q,b.r=null,b.d=b.l?b.l.d+1:1),Q=!b.r,J&&!b.l&&pn(b,J),q&&Q&&pn(b,q)}}function pn(b,C){We(C)||(function Q(q,Ke){var Ae=Ke.from,we=Ke.to,Ue=Ke.l,Ke=Ke.r;Ft(q,Ae,we),Ue&&Q(q,Ue),Ke&&Q(q,Ke)})(b,C)}function xn(b,C){var Q=Gn(C),q=Q.next();if(q.done)return!1;for(var J=q.value,Ae=Gn(b),we=Ae.next(J.from),Ue=we.value;!q.done&&!we.done;){if(Xt(Ue.from,J.to)<=0&&0<=Xt(Ue.to,J.from))return!0;Xt(J.from,Ue.from)<0?J=(q=Q.next(Ue.from)).value:Ue=(we=Ae.next(J.from)).value}return!1}function Gn(b){var C=We(b)?null:{s:0,n:b};return{next:function(Q){for(var q=0<arguments.length;C;)switch(C.s){case 0:if(C.s=1,q)for(;C.n.l&&Xt(Q,C.n.from)<0;)C={up:C,n:C.n.l,s:1};else for(;C.n.l;)C={up:C,n:C.n.l,s:1};case 1:if(C.s=2,!q||Xt(Q,C.n.to)<=0)return{value:C.n,done:!1};case 2:if(C.n.r){C.s=3,C={up:C,n:C.n.r,s:0};continue}case 3:C=C.up}return{done:!0}}}}function sr(b){var C,Q,q=(((C=b.r)===null||C===void 0?void 0:C.d)||0)-(((Q=b.l)===null||Q===void 0?void 0:Q.d)||0),J=1<q?"r":q<-1?"l":"";J&&(C=J=="r"?"l":"r",Q=r({},b),q=b[J],b.from=q.from,b.to=q.to,b[J]=q[J],Q[J]=q[C],(b[C]=Q).d=Ur(Q)),b.d=Ur(b)}function Ur(Q){var C=Q.r,Q=Q.l;return(C?Q?Math.max(C.d,Q.d):C.d:Q?Q.d:0)+1}function hi(b,C){return c(C).forEach(function(Q){b[Q]?pn(b[Q],C[Q]):b[Q]=(function q(J){var Ae,we,Ue={};for(Ae in J)x(J,Ae)&&(we=J[Ae],Ue[Ae]=!we||typeof we!="object"||V.has(we.constructor)?we:q(we));return Ue})(C[Q])}),b}function Si(b,C){return b.all||C.all||Object.keys(b).some(function(Q){return C[Q]&&xn(C[Q],b[Q])})}E(ft.prototype,((Or={add:function(b){return pn(this,b),this},addKey:function(b){return Ft(this,b,b),this},addKeys:function(b){var C=this;return b.forEach(function(Q){return Ft(C,Q,Q)}),this}})[se]=function(){return Gn(this)},Or));var Tr={},Ki={},Li=!1;function Gi(b){hi(Ki,b),Li||(Li=!0,setTimeout(function(){Li=!1,As(Ki,!(Ki={}))},0))}function As(b,C){C===void 0&&(C=!1);var Q=new Set;if(b.all)for(var q=0,J=Object.values(Tr);q<J.length;q++)ha(we=J[q],b,Q,C);else for(var Ae in b){var we,Ue=/^idb\:\/\/(.*)\/(.*)\//.exec(Ae);Ue&&(Ae=Ue[1],Ue=Ue[2],(we=Tr["idb://".concat(Ae,"/").concat(Ue)])&&ha(we,b,Q,C))}Q.forEach(function(Ke){return Ke()})}function ha(b,C,Q,q){for(var J=[],Ae=0,we=Object.entries(b.queries.query);Ae<we.length;Ae++){for(var Ue=we[Ae],Ke=Ue[0],Me=[],Je=0,Oe=Ue[1];Je<Oe.length;Je++){var Re=Oe[Je];Si(C,Re.obsSet)?Re.subscribers.forEach(function(qe){return Q.add(qe)}):q&&Me.push(Re)}q&&J.push([Ke,Me])}if(q)for(var Pe=0,He=J;Pe<He.length;Pe++){var $e=He[Pe],Ke=$e[0],Me=$e[1];b.queries.query[Ke]=Me}}function No(b){var C=b._state,Q=b._deps.indexedDB;if(C.isBeingOpened||b.idbdb)return C.dbReadyPromise.then(function(){return C.dbOpenError?gr(C.dbOpenError):b});C.isBeingOpened=!0,C.dbOpenError=null,C.openComplete=!1;var q=C.openCanceller,J=Math.round(10*b.verno),Ae=!1;function we(){if(C.openCanceller!==q)throw new Ie.DatabaseClosed("db.open() was cancelled")}function Ue(){return new bt(function(Re,Pe){if(we(),!Q)throw new Ie.MissingAPI;var He=b.name,$e=C.autoSchema||!J?Q.open(He):Q.open(He,J);if(!$e)throw new Ie.MissingAPI;$e.onerror=ya(Pe),$e.onblocked=Yn(b._fireOnBlocked),$e.onupgradeneeded=Yn(function(qe){var at;Je=$e.transaction,C.autoSchema&&!b._options.allowEmptyDB?($e.onerror=Kt,Je.abort(),$e.result.close(),(at=Q.deleteDatabase(He)).onsuccess=at.onerror=Yn(function(){Pe(new Ie.NoSuchDatabase("Database ".concat(He," doesnt exist")))})):(Je.onerror=ya(Pe),qe=qe.oldVersion>Math.pow(2,62)?0:qe.oldVersion,Oe=qe<1,b.idbdb=$e.result,Ae&&aa(b,Je),$o(b,qe/10,Je,Pe))},Pe),$e.onsuccess=Yn(function(){Je=null;var qe,at,nt,pt,Bt,Tt=b.idbdb=$e.result,Wt=z(Tt.objectStoreNames);if(0<Wt.length)try{var zt=Tt.transaction((pt=Wt).length===1?pt[0]:pt,"readonly");if(C.autoSchema)at=Tt,nt=zt,(qe=b).verno=at.version/10,nt=qe._dbSchema=Us(0,at,nt),qe._storeNames=z(at.objectStoreNames,0),Za(qe,[qe._allTables],c(nt),nt);else if(Io(b,b._dbSchema,zt),((Bt=$a(Us(0,(Bt=b).idbdb,zt),Bt._dbSchema)).add.length||Bt.change.some(function(An){return An.add.length||An.change.length}))&&!Ae)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Tt.close(),J=Tt.version+1,Ae=!0,Re(Ue());Va(b,zt)}catch{}Qt.push(b),Tt.onversionchange=Yn(function(An){C.vcFired=!0,b.on("versionchange").fire(An)}),Tt.onclose=Yn(function(An){b.on("close").fire(An)}),Oe&&(Bt=b._deps,zt=He,Tt=Bt.indexedDB,Bt=Bt.IDBKeyRange,Be(Tt)||zt===Et||ee(Tt,Bt).put({name:zt}).catch(Xe)),Re()},Pe)}).catch(function(Re){switch(Re==null?void 0:Re.name){case"UnknownError":if(0<C.PR1398_maxLoop)return C.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),Ue();break;case"VersionError":if(0<J)return J=0,Ue()}return bt.reject(Re)})}var Ke,Me=C.dbReadyResolve,Je=null,Oe=!1;return bt.race([q,(typeof navigator>"u"?bt.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(Re){function Pe(){return indexedDB.databases().finally(Re)}Ke=setInterval(Pe,100),Pe()}).finally(function(){return clearInterval(Ke)}):Promise.resolve()).then(Ue)]).then(function(){return we(),C.onReadyBeingFired=[],bt.resolve(De(function(){return b.on.ready.fire(b.vip)})).then(function Re(){if(0<C.onReadyBeingFired.length){var Pe=C.onReadyBeingFired.reduce(nn,Xe);return C.onReadyBeingFired=[],bt.resolve(De(function(){return Pe(b.vip)})).then(Re)}})}).finally(function(){C.openCanceller===q&&(C.onReadyBeingFired=null,C.isBeingOpened=!1)}).catch(function(Re){C.dbOpenError=Re;try{Je&&Je.abort()}catch{}return q===C.openCanceller&&b._close(),gr(Re)}).finally(function(){C.openComplete=!0,Me()}).then(function(){var Re;return Oe&&(Re={},b.tables.forEach(function(Pe){Pe.schema.indexes.forEach(function(He){He.name&&(Re["idb://".concat(b.name,"/").concat(Pe.name,"/").concat(He.name)]=new ft(-1/0,[[[]]]))}),Re["idb://".concat(b.name,"/").concat(Pe.name,"/")]=Re["idb://".concat(b.name,"/").concat(Pe.name,"/:dels")]=new ft(-1/0,[[[]]])}),js(_a).fire(Re),As(Re,!0)),b})}function Zs(b){function C(Ae){return b.next(Ae)}var Q=J(C),q=J(function(Ae){return b.throw(Ae)});function J(Ae){return function(Ke){var Ue=Ae(Ke),Ke=Ue.value;return Ue.done?Ke:Ke&&typeof Ke.then=="function"?Ke.then(Q,q):d(Ke)?Promise.all(Ke).then(Q,q):Q(Ke)}}return J(C)()}function Ji(b,C,Q){for(var q=d(b)?b.slice():[b],J=0;J<Q;++J)q.push(C);return q}var $s={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(b){return r(r({},b),{table:function(C){var Q=b.table(C),q=Q.schema,J={},Ae=[];function we(Oe,Re,Pe){var He=Vs(Oe),$e=J[He]=J[He]||[],qe=Oe==null?0:typeof Oe=="string"?1:Oe.length,at=0<Re,at=r(r({},Pe),{name:at?"".concat(He,"(virtual-from:").concat(Pe.name,")"):Pe.name,lowLevelIndex:Pe,isVirtual:at,keyTail:Re,keyLength:qe,extractKey:ni(Oe),unique:!at&&Pe.unique});return $e.push(at),at.isPrimaryKey||Ae.push(at),1<qe&&we(qe===2?Oe[0]:Oe.slice(0,qe-1),Re+1,Pe),$e.sort(function(nt,pt){return nt.keyTail-pt.keyTail}),at}C=we(q.primaryKey.keyPath,0,q.primaryKey),J[":id"]=[C];for(var Ue=0,Ke=q.indexes;Ue<Ke.length;Ue++){var Me=Ke[Ue];we(Me.keyPath,0,Me)}function Je(Oe){var Re,Pe=Oe.query.index;return Pe.isVirtual?r(r({},Oe),{query:{index:Pe.lowLevelIndex,range:(Re=Oe.query.range,Pe=Pe.keyTail,{type:Re.type===1?2:Re.type,lower:Ji(Re.lower,Re.lowerOpen?b.MAX_KEY:b.MIN_KEY,Pe),lowerOpen:!0,upper:Ji(Re.upper,Re.upperOpen?b.MIN_KEY:b.MAX_KEY,Pe),upperOpen:!0})}}):Oe}return r(r({},Q),{schema:r(r({},q),{primaryKey:C,indexes:Ae,getIndexByKeyPath:function(Oe){return(Oe=J[Vs(Oe)])&&Oe[0]}}),count:function(Oe){return Q.count(Je(Oe))},query:function(Oe){return Q.query(Je(Oe))},openCursor:function(Oe){var Re=Oe.query.index,Pe=Re.keyTail,He=Re.isVirtual,$e=Re.keyLength;return He?Q.openCursor(Je(Oe)).then(function(at){return at&&qe(at)}):Q.openCursor(Oe);function qe(at){return Object.create(at,{continue:{value:function(nt){nt!=null?at.continue(Ji(nt,Oe.reverse?b.MAX_KEY:b.MIN_KEY,Pe)):Oe.unique?at.continue(at.key.slice(0,$e).concat(Oe.reverse?b.MIN_KEY:b.MAX_KEY,Pe)):at.continue()}},continuePrimaryKey:{value:function(nt,pt){at.continuePrimaryKey(Ji(nt,b.MAX_KEY,Pe),pt)}},primaryKey:{get:function(){return at.primaryKey}},key:{get:function(){var nt=at.key;return $e===1?nt[0]:nt.slice(0,$e)}},value:{get:function(){return at.value}}})}}})}})}};function cs(b,C,Q,q){return Q=Q||{},q=q||"",c(b).forEach(function(J){var Ae,we,Ue;x(C,J)?(Ae=b[J],we=C[J],typeof Ae=="object"&&typeof we=="object"&&Ae&&we?(Ue=ye(Ae))!==ye(we)?Q[q+J]=C[J]:Ue==="Object"?cs(Ae,we,Q,q+J+"."):Ae!==we&&(Q[q+J]=C[J]):Ae!==we&&(Q[q+J]=C[J])):Q[q+J]=void 0}),c(C).forEach(function(J){x(b,J)||(Q[q+J]=C[J])}),Q}function Eo(b,C){return C.type==="delete"?C.keys:C.keys||C.values.map(b.extractKey)}var Ys={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(b){return r(r({},b),{table:function(C){var Q=b.table(C),q=Q.schema.primaryKey;return r(r({},Q),{mutate:function(J){var Ae=dt.trans,we=Ae.table(C).hook,Ue=we.deleting,Ke=we.creating,Me=we.updating;switch(J.type){case"add":if(Ke.fire===Xe)break;return Ae._promise("readwrite",function(){return Je(J)},!0);case"put":if(Ke.fire===Xe&&Me.fire===Xe)break;return Ae._promise("readwrite",function(){return Je(J)},!0);case"delete":if(Ue.fire===Xe)break;return Ae._promise("readwrite",function(){return Je(J)},!0);case"deleteRange":if(Ue.fire===Xe)break;return Ae._promise("readwrite",function(){return(function Oe(Re,Pe,He){return Q.query({trans:Re,values:!1,query:{index:q,range:Pe},limit:He}).then(function($e){var qe=$e.result;return Je({type:"delete",keys:qe,trans:Re}).then(function(at){return 0<at.numFailures?Promise.reject(at.failures[0]):qe.length<He?{failures:[],numFailures:0,lastResult:void 0}:Oe(Re,r(r({},Pe),{lower:qe[qe.length-1],lowerOpen:!0}),He)})})})(J.trans,J.range,1e4)},!0)}return Q.mutate(J);function Je(Oe){var Re,Pe,He,$e=dt.trans,qe=Oe.keys||Eo(q,Oe);if(!qe)throw new Error("Keys missing");return(Oe=Oe.type==="add"||Oe.type==="put"?r(r({},Oe),{keys:qe}):r({},Oe)).type!=="delete"&&(Oe.values=i([],Oe.values)),Oe.keys&&(Oe.keys=i([],Oe.keys)),Re=Q,He=qe,((Pe=Oe).type==="add"?Promise.resolve([]):Re.getMany({trans:Pe.trans,keys:He,cache:"immutable"})).then(function(at){var nt=qe.map(function(pt,Bt){var Tt,Wt,zt,An=at[Bt],qt={onerror:null,onsuccess:null};return Oe.type==="delete"?Ue.fire.call(qt,pt,An,$e):Oe.type==="add"||An===void 0?(Tt=Ke.fire.call(qt,pt,Oe.values[Bt],$e),pt==null&&Tt!=null&&(Oe.keys[Bt]=pt=Tt,q.outbound||ge(Oe.values[Bt],q.keyPath,pt))):(Tt=cs(An,Oe.values[Bt]),(Wt=Me.fire.call(qt,Tt,pt,An,$e))&&(zt=Oe.values[Bt],Object.keys(Wt).forEach(function(Rn){x(zt,Rn)?zt[Rn]=Wt[Rn]:ge(zt,Rn,Wt[Rn])}))),qt});return Q.mutate(Oe).then(function(pt){for(var Bt=pt.failures,Tt=pt.results,Wt=pt.numFailures,pt=pt.lastResult,zt=0;zt<qe.length;++zt){var An=(Tt||qe)[zt],qt=nt[zt];An==null?qt.onerror&&qt.onerror(Bt[zt]):qt.onsuccess&&qt.onsuccess(Oe.type==="put"&&at[zt]?Oe.values[zt]:An)}return{failures:Bt,results:Tt,numFailures:Wt,lastResult:pt}}).catch(function(pt){return nt.forEach(function(Bt){return Bt.onerror&&Bt.onerror(pt)}),Promise.reject(pt)})})}}})}})}};function Vi(b,C,Q){try{if(!C||C.keys.length<b.length)return null;for(var q=[],J=0,Ae=0;J<C.keys.length&&Ae<b.length;++J)Xt(C.keys[J],b[Ae])===0&&(q.push(Q?oe(C.values[J]):C.values[J]),++Ae);return q.length===b.length?q:null}catch{return null}}var To={stack:"dbcore",level:-1,create:function(b){return{table:function(C){var Q=b.table(C);return r(r({},Q),{getMany:function(q){if(!q.cache)return Q.getMany(q);var J=Vi(q.keys,q.trans._cache,q.cache==="clone");return J?bt.resolve(J):Q.getMany(q).then(function(Ae){return q.trans._cache={keys:q.keys,values:q.cache==="clone"?oe(Ae):Ae},Ae})},mutate:function(q){return q.type!=="add"&&(q.trans._cache=null),Q.mutate(q)}})}}}};function So(b,C){return b.trans.mode==="readonly"&&!!b.subscr&&!b.trans.explicit&&b.trans.db._options.cache!=="disabled"&&!C.schema.primaryKey.outbound}function Fo(b,C){switch(b){case"query":return C.values&&!C.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var uo={stack:"dbcore",level:0,name:"Observability",create:function(b){var C=b.schema.name,Q=new ft(b.MIN_KEY,b.MAX_KEY);return r(r({},b),{transaction:function(q,J,Ae){if(dt.subscr&&J!=="readonly")throw new Ie.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(dt.querier));return b.transaction(q,J,Ae)},table:function(q){function J(Pe){var Pe=(He=Pe.query).index,He=He.range;return[Pe,new ft((Pe=He.lower)!==null&&Pe!==void 0?Pe:b.MIN_KEY,(He=He.upper)!==null&&He!==void 0?He:b.MAX_KEY)]}var Ae=b.table(q),we=Ae.schema,Ue=we.primaryKey,Ke=Ue.extractKey,Me=Ue.outbound,Je=r(r({},Ae),{mutate:function(Re){function Pe(qt){return qt="idb://".concat(C,"/").concat(q,"/").concat(qt),nt[qt]||(nt[qt]=new ft)}var He,$e,qe,at=Re.trans,nt=Re.mutatedParts||(Re.mutatedParts={}),pt=Pe(""),Bt=Pe(":dels"),Tt=Re.type,An=Re.type==="deleteRange"?[Re.range]:Re.type==="delete"?[Re.keys]:Re.values.length<50?[Eo(Ue,Re).filter(function(qt){return qt}),Re.values]:[],Wt=An[0],zt=An[1],An=Re.trans._cache;return d(Wt)?(pt.addKeys(Wt),(An=Tt==="delete"||Wt.length===zt.length?Vi(Wt,An):null)||Bt.addKeys(Wt),(An||zt)&&(He=Pe,$e=An,qe=zt,we.indexes.forEach(function(qt){var Rn=He(qt.name||"");function Sn(tr){return tr!=null?qt.extractKey(tr):null}function hr(tr){return qt.multiEntry&&d(tr)?tr.forEach(function(br){return Rn.addKey(br)}):Rn.addKey(tr)}($e||qe).forEach(function(tr,nr){var li=$e&&Sn($e[nr]),nr=qe&&Sn(qe[nr]);Xt(li,nr)!==0&&(li!=null&&hr(li),nr!=null&&hr(nr))})}))):Wt?(zt={from:Wt.lower,to:Wt.upper},Bt.add(zt),pt.add(zt)):(pt.add(Q),Bt.add(Q),we.indexes.forEach(function(qt){return Pe(qt.name).add(Q)})),Ae.mutate(Re).then(function(qt){return!Wt||Re.type!=="add"&&Re.type!=="put"||pt.addKeys(qt.results),at.mutatedParts=hi(at.mutatedParts||{},nt),qt})}}),Oe={get:function(Re){return[Ue,new ft(Re.key)]},getMany:function(Re){return[Ue,new ft().addKeys(Re.keys)]},count:J,query:J,openCursor:J};return c(Oe).forEach(function(Re){Je[Re]=function(Pe){var He=dt.subscr,$e=!!He,qe=So(dt,Ae)&&Fo(Re,Pe)?Pe.obsSet={}:He;if($e){var at=function(zt){return zt="idb://".concat(C,"/").concat(q,"/").concat(zt),qe[zt]||(qe[zt]=new ft)},nt=at(""),pt=at(":dels"),He=Oe[Re](Pe),$e=He[0],He=He[1];if((Re==="query"&&$e.isPrimaryKey&&!Pe.values?pt:at($e.name||"")).add(He),!$e.isPrimaryKey){if(Re!=="count"){var Bt=Re==="query"&&Me&&Pe.values&&Ae.query(r(r({},Pe),{values:!1}));return Ae[Re].apply(this,arguments).then(function(zt){if(Re==="query"){if(Me&&Pe.values)return Bt.then(function(Sn){return Sn=Sn.result,nt.addKeys(Sn),zt});var An=Pe.values?zt.result.map(Ke):zt.result;(Pe.values?nt:pt).addKeys(An)}else if(Re==="openCursor"){var qt=zt,Rn=Pe.values;return qt&&Object.create(qt,{key:{get:function(){return pt.addKey(qt.primaryKey),qt.key}},primaryKey:{get:function(){var Sn=qt.primaryKey;return pt.addKey(Sn),Sn}},value:{get:function(){return Rn&&nt.addKey(qt.primaryKey),qt.value}}})}return zt})}pt.add(Q)}}return Ae[Re].apply(this,arguments)}}),Je}})}};function fi(b,C,Q){if(Q.numFailures===0)return C;if(C.type==="deleteRange")return null;var q=C.keys?C.keys.length:"values"in C&&C.values?C.values.length:1;return Q.numFailures===q?null:(C=r({},C),d(C.keys)&&(C.keys=C.keys.filter(function(J,Ae){return!(Ae in Q.failures)})),"values"in C&&d(C.values)&&(C.values=C.values.filter(function(J,Ae){return!(Ae in Q.failures)})),C)}function Sa(b,C){return Q=b,((q=C).lower===void 0||(q.lowerOpen?0<Xt(Q,q.lower):0<=Xt(Q,q.lower)))&&(b=b,(C=C).upper===void 0||(C.upperOpen?Xt(b,C.upper)<0:Xt(b,C.upper)<=0));var Q,q}function Yo(b,C,Re,q,J,Ae){if(!Re||Re.length===0)return b;var we=C.query.index,Ue=we.multiEntry,Ke=C.query.range,Me=q.schema.primaryKey.extractKey,Je=we.extractKey,Oe=(we.lowLevelIndex||we).extractKey,Re=Re.reduce(function(Pe,He){var $e=Pe,qe=He.type==="add"||He.type==="put"?He.values.filter(function(Bt){return Bt=Je(Bt),Ue&&d(Bt)?Bt.some(function(Tt){return Sa(Tt,Ke)}):Sa(Bt,Ke)}).map(function(Bt){return Bt=oe(Bt),Ae&&Object.freeze(Bt),Bt}):[];switch(He.type){case"add":$e=Pe.concat(C.values?qe:qe.map(function(Tt){return Me(Tt)}));break;case"put":var at=new ft().addKeys(He.values.map(function(Tt){return Me(Tt)})),$e=Pe.filter(function(Tt){return Tt=C.values?Me(Tt):Tt,!xn(new ft(Tt),at)}).concat(C.values?qe:qe.map(function(Tt){return Me(Tt)}));break;case"delete":var nt=new ft().addKeys(He.keys);$e=Pe.filter(function(Tt){return Tt=C.values?Me(Tt):Tt,!xn(new ft(Tt),nt)});break;case"deleteRange":var pt=He.range;$e=Pe.filter(function(Tt){return!Sa(Me(Tt),pt)})}return $e},b);return Re===b?b:(Re.sort(function(Pe,He){return Xt(Oe(Pe),Oe(He))||Xt(Me(Pe),Me(He))}),C.limit&&C.limit<1/0&&(Re.length>C.limit?Re.length=C.limit:b.length===C.limit&&Re.length<C.limit&&(J.dirty=!0)),Ae?Object.freeze(Re):Re)}function us(b,C){return Xt(b.lower,C.lower)===0&&Xt(b.upper,C.upper)===0&&!!b.lowerOpen==!!C.lowerOpen&&!!b.upperOpen==!!C.upperOpen}function _s(b,C){return(function(Q,q,J,Ae){if(Q===void 0)return q!==void 0?-1:0;if(q===void 0)return 1;if((q=Xt(Q,q))===0){if(J&&Ae)return 0;if(J)return 1;if(Ae)return-1}return q})(b.lower,C.lower,b.lowerOpen,C.lowerOpen)<=0&&0<=(function(Q,q,J,Ae){if(Q===void 0)return q!==void 0?1:0;if(q===void 0)return-1;if((q=Xt(Q,q))===0){if(J&&Ae)return 0;if(J)return-1;if(Ae)return 1}return q})(b.upper,C.upper,b.upperOpen,C.upperOpen)}function La(b,C,Q,q){b.subscribers.add(Q),q.addEventListener("abort",function(){var J,Ae;b.subscribers.delete(Q),b.subscribers.size===0&&(J=b,Ae=C,setTimeout(function(){J.subscribers.size===0&&Z(Ae,J)},3e3))})}var Lo={stack:"dbcore",level:0,name:"Cache",create:function(b){var C=b.schema.name;return r(r({},b),{transaction:function(Q,q,J){var Ae,we,Ue=b.transaction(Q,q,J);return q==="readwrite"&&(we=(Ae=new AbortController).signal,J=function(Ke){return function(){if(Ae.abort(),q==="readwrite"){for(var Me=new Set,Je=0,Oe=Q;Je<Oe.length;Je++){var Re=Oe[Je],Pe=Tr["idb://".concat(C,"/").concat(Re)];if(Pe){var He=b.table(Re),$e=Pe.optimisticOps.filter(function(Sn){return Sn.trans===Ue});if(Ue._explicit&&Ke&&Ue.mutatedParts)for(var qe=0,at=Object.values(Pe.queries.query);qe<at.length;qe++)for(var nt=0,pt=(Wt=at[qe]).slice();nt<pt.length;nt++)Si((zt=pt[nt]).obsSet,Ue.mutatedParts)&&(Z(Wt,zt),zt.subscribers.forEach(function(Sn){return Me.add(Sn)}));else if(0<$e.length){Pe.optimisticOps=Pe.optimisticOps.filter(function(Sn){return Sn.trans!==Ue});for(var Bt=0,Tt=Object.values(Pe.queries.query);Bt<Tt.length;Bt++)for(var Wt,zt,An,qt=0,Rn=(Wt=Tt[Bt]).slice();qt<Rn.length;qt++)(zt=Rn[qt]).res!=null&&Ue.mutatedParts&&(Ke&&!zt.dirty?(An=Object.isFrozen(zt.res),An=Yo(zt.res,zt.req,$e,He,zt,An),zt.dirty?(Z(Wt,zt),zt.subscribers.forEach(function(Sn){return Me.add(Sn)})):An!==zt.res&&(zt.res=An,zt.promise=bt.resolve({result:An}))):(zt.dirty&&Z(Wt,zt),zt.subscribers.forEach(function(Sn){return Me.add(Sn)})))}}}Me.forEach(function(Sn){return Sn()})}}},Ue.addEventListener("abort",J(!1),{signal:we}),Ue.addEventListener("error",J(!1),{signal:we}),Ue.addEventListener("complete",J(!0),{signal:we})),Ue},table:function(Q){var q=b.table(Q),J=q.schema.primaryKey;return r(r({},q),{mutate:function(Ae){var we=dt.trans;if(J.outbound||we.db._options.cache==="disabled"||we.explicit)return q.mutate(Ae);var Ue=Tr["idb://".concat(C,"/").concat(Q)];return Ue?(we=q.mutate(Ae),Ae.type!=="add"&&Ae.type!=="put"||!(50<=Ae.values.length||Eo(J,Ae).some(function(Ke){return Ke==null}))?(Ue.optimisticOps.push(Ae),Ae.mutatedParts&&Gi(Ae.mutatedParts),we.then(function(Ke){0<Ke.numFailures&&(Z(Ue.optimisticOps,Ae),(Ke=fi(0,Ae,Ke))&&Ue.optimisticOps.push(Ke),Ae.mutatedParts&&Gi(Ae.mutatedParts))}),we.catch(function(){Z(Ue.optimisticOps,Ae),Ae.mutatedParts&&Gi(Ae.mutatedParts)})):we.then(function(Ke){var Me=fi(0,r(r({},Ae),{values:Ae.values.map(function(Pe,Oe){var Re,Pe=(Re=J.keyPath)!==null&&Re!==void 0&&Re.includes(".")?oe(Pe):r({},Pe);return ge(Pe,J.keyPath,Ke.results[Oe]),Pe})}),Ke);Ue.optimisticOps.push(Me),queueMicrotask(function(){return Ae.mutatedParts&&Gi(Ae.mutatedParts)})}),we):q.mutate(Ae)},query:function(Ae){if(!So(dt,q)||!Fo("query",Ae))return q.query(Ae);var we=((Me=dt.trans)===null||Me===void 0?void 0:Me.db._options.cache)==="immutable",Oe=dt,Ue=Oe.requery,Ke=Oe.signal,Me=(function(He,$e,qe,at){var nt=Tr["idb://".concat(He,"/").concat($e)];if(!nt)return[];if(!($e=nt.queries[qe]))return[null,!1,nt,null];var pt=$e[(at.query?at.query.index.name:null)||""];if(!pt)return[null,!1,nt,null];switch(qe){case"query":var Bt=pt.find(function(Tt){return Tt.req.limit===at.limit&&Tt.req.values===at.values&&us(Tt.req.query.range,at.query.range)});return Bt?[Bt,!0,nt,pt]:[pt.find(function(Tt){return("limit"in Tt.req?Tt.req.limit:1/0)>=at.limit&&(!at.values||Tt.req.values)&&_s(Tt.req.query.range,at.query.range)}),!1,nt,pt];case"count":return Bt=pt.find(function(Tt){return us(Tt.req.query.range,at.query.range)}),[Bt,!!Bt,nt,pt]}})(C,Q,"query",Ae),Je=Me[0],Oe=Me[1],Re=Me[2],Pe=Me[3];return Je&&Oe?Je.obsSet=Ae.obsSet:(Oe=q.query(Ae).then(function(He){var $e=He.result;if(Je&&(Je.res=$e),we){for(var qe=0,at=$e.length;qe<at;++qe)Object.freeze($e[qe]);Object.freeze($e)}else He.result=oe($e);return He}).catch(function(He){return Pe&&Je&&Z(Pe,Je),Promise.reject(He)}),Je={obsSet:Ae.obsSet,promise:Oe,subscribers:new Set,type:"query",req:Ae,dirty:!1},Pe?Pe.push(Je):(Pe=[Je],(Re=Re||(Tr["idb://".concat(C,"/").concat(Q)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[Ae.query.index.name||""]=Pe)),La(Je,Pe,Ue,Ke),Je.promise.then(function(He){return{result:Yo(He.result,Ae,Re==null?void 0:Re.optimisticOps,q,Je,we)}})}})}})}};function Is(b,C){return new Proxy(b,{get:function(Q,q,J){return q==="db"?C:Reflect.get(Q,q,J)}})}var Wi=(Hr.prototype.version=function(b){if(isNaN(b)||b<.1)throw new Ie.Type("Given version is not a positive number");if(b=Math.round(10*b)/10,this.idbdb||this._state.isBeingOpened)throw new Ie.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,b);var C=this._versions,Q=C.filter(function(q){return q._cfg.version===b})[0];return Q||(Q=new this.Version(b),C.push(Q),C.sort(xr),Q.stores({}),this._state.autoSchema=!1,Q)},Hr.prototype._whenReady=function(b){var C=this;return this.idbdb&&(this._state.openComplete||dt.letThrough||this._vip)?b():new bt(function(Q,q){if(C._state.openComplete)return q(new Ie.DatabaseClosed(C._state.dbOpenError));if(!C._state.isBeingOpened){if(!C._state.autoOpen)return void q(new Ie.DatabaseClosed);C.open().catch(Xe)}C._state.dbReadyPromise.then(Q,q)}).then(b)},Hr.prototype.use=function(b){var C=b.stack,Q=b.create,q=b.level,J=b.name;return J&&this.unuse({stack:C,name:J}),b=this._middlewares[C]||(this._middlewares[C]=[]),b.push({stack:C,create:Q,level:q??10,name:J}),b.sort(function(Ae,we){return Ae.level-we.level}),this},Hr.prototype.unuse=function(b){var C=b.stack,Q=b.name,q=b.create;return C&&this._middlewares[C]&&(this._middlewares[C]=this._middlewares[C].filter(function(J){return q?J.create!==q:!!Q&&J.name!==Q})),this},Hr.prototype.open=function(){var b=this;return bi(jt,function(){return No(b)})},Hr.prototype._close=function(){var b=this._state,C=Qt.indexOf(this);if(0<=C&&Qt.splice(C,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}b.isBeingOpened||(b.dbReadyPromise=new bt(function(Q){b.dbReadyResolve=Q}),b.openCanceller=new bt(function(Q,q){b.cancelOpen=q}))},Hr.prototype.close=function(Q){var C=(Q===void 0?{disableAutoOpen:!0}:Q).disableAutoOpen,Q=this._state;C?(Q.isBeingOpened&&Q.cancelOpen(new Ie.DatabaseClosed),this._close(),Q.autoOpen=!1,Q.dbOpenError=new Ie.DatabaseClosed):(this._close(),Q.autoOpen=this._options.autoOpen||Q.isBeingOpened,Q.openComplete=!1,Q.dbOpenError=null)},Hr.prototype.delete=function(b){var C=this;b===void 0&&(b={disableAutoOpen:!0});var Q=0<arguments.length&&typeof arguments[0]!="object",q=this._state;return new bt(function(J,Ae){function we(){C.close(b);var Ue=C._deps.indexedDB.deleteDatabase(C.name);Ue.onsuccess=Yn(function(){var Ke,Me,Je;Ke=C._deps,Me=C.name,Je=Ke.indexedDB,Ke=Ke.IDBKeyRange,Be(Je)||Me===Et||ee(Je,Ke).delete(Me).catch(Xe),J()}),Ue.onerror=ya(Ae),Ue.onblocked=C._fireOnBlocked}if(Q)throw new Ie.InvalidArgument("Invalid closeOptions argument to db.delete()");q.isBeingOpened?q.dbReadyPromise.then(we):we()})},Hr.prototype.backendDB=function(){return this.idbdb},Hr.prototype.isOpen=function(){return this.idbdb!==null},Hr.prototype.hasBeenClosed=function(){var b=this._state.dbOpenError;return b&&b.name==="DatabaseClosed"},Hr.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Hr.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Hr.prototype,"tables",{get:function(){var b=this;return c(this._allTables).map(function(C){return b._allTables[C]})},enumerable:!1,configurable:!0}),Hr.prototype.transaction=function(){var b=(function(C,Q,q){var J=arguments.length;if(J<2)throw new Ie.InvalidArgument("Too few arguments");for(var Ae=new Array(J-1);--J;)Ae[J-1]=arguments[J];return q=Ae.pop(),[C,X(Ae),q]}).apply(this,arguments);return this._transaction.apply(this,b)},Hr.prototype._transaction=function(b,C,Q){var q=this,J=dt.trans;J&&J.db===this&&b.indexOf("!")===-1||(J=null);var Ae,we,Ue=b.indexOf("?")!==-1;b=b.replace("!","").replace("?","");try{if(we=C.map(function(Me){if(Me=Me instanceof q.Table?Me.name:Me,typeof Me!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return Me}),b=="r"||b===sn)Ae=sn;else{if(b!="rw"&&b!=Bn)throw new Ie.InvalidArgument("Invalid transaction mode: "+b);Ae=Bn}if(J){if(J.mode===sn&&Ae===Bn){if(!Ue)throw new Ie.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");J=null}J&&we.forEach(function(Me){if(J&&J.storeNames.indexOf(Me)===-1){if(!Ue)throw new Ie.SubTransaction("Table "+Me+" not included in parent transaction.");J=null}}),Ue&&J&&!J.active&&(J=null)}}catch(Me){return J?J._promise(null,function(Je,Oe){Oe(Me)}):gr(Me)}var Ke=(function Me(Je,Oe,Re,Pe,He){return bt.resolve().then(function(){var $e=dt.transless||dt,qe=Je._createTransaction(Oe,Re,Je._dbSchema,Pe);if(qe.explicit=!0,$e={trans:qe,transless:$e},Pe)qe.idbtrans=Pe.idbtrans;else try{qe.create(),qe.idbtrans._explicit=!0,Je._state.PR1398_maxLoop=3}catch(pt){return pt.name===je.InvalidState&&Je.isOpen()&&0<--Je._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Je.close({disableAutoOpen:!1}),Je.open().then(function(){return Me(Je,Oe,Re,null,He)})):gr(pt)}var at,nt=te(He);return nt&&Wn(),$e=bt.follow(function(){var pt;(at=He.call(qe,qe))&&(nt?(pt=Ar.bind(null,null),at.then(pt,pt)):typeof at.next=="function"&&typeof at.throw=="function"&&(at=Zs(at)))},$e),(at&&typeof at.then=="function"?bt.resolve(at).then(function(pt){return qe.active?pt:gr(new Ie.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):$e.then(function(){return at})).then(function(pt){return Pe&&qe._resolve(),qe._completion.then(function(){return pt})}).catch(function(pt){return qe._reject(pt),gr(pt)})})}).bind(null,this,Ae,we,J,Q);return J?J._promise(Ae,Ke,"lock"):dt.trans?bi(dt.transless,function(){return q._whenReady(Ke)}):this._whenReady(Ke)},Hr.prototype.table=function(b){if(!x(this._allTables,b))throw new Ie.InvalidTable("Table ".concat(b," does not exist"));return this._allTables[b]},Hr);function Hr(b,C){var Q=this;this._middlewares={},this.verno=0;var q=Hr.dependencies;this._options=C=r({addons:Hr.addons,autoOpen:!0,indexedDB:q.indexedDB,IDBKeyRange:q.IDBKeyRange,cache:"cloned"},C),this._deps={indexedDB:C.indexedDB,IDBKeyRange:C.IDBKeyRange},q=C.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var J,Ae,we,Ue,Ke,Me={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Xe,dbReadyPromise:null,cancelOpen:Xe,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:C.autoOpen};Me.dbReadyPromise=new bt(function(Oe){Me.dbReadyResolve=Oe}),Me.openCanceller=new bt(function(Oe,Re){Me.cancelOpen=Re}),this._state=Me,this.name=b,this.on=Pr(this,"populate","blocked","versionchange","close",{ready:[nn,Xe]}),this.on.ready.subscribe=D(this.on.ready.subscribe,function(Oe){return function(Re,Pe){Hr.vip(function(){var He,$e=Q._state;$e.openComplete?($e.dbOpenError||bt.resolve().then(Re),Pe&&Oe(Re)):$e.onReadyBeingFired?($e.onReadyBeingFired.push(Re),Pe&&Oe(Re)):(Oe(Re),He=Q,Pe||Oe(function qe(){He.on.ready.unsubscribe(Re),He.on.ready.unsubscribe(qe)}))})}}),this.Collection=(J=this,Qi(lo.prototype,function(at,qe){this.db=J;var Pe=gt,He=null;if(qe)try{Pe=qe()}catch(nt){He=nt}var $e=at._ctx,qe=$e.table,at=qe.hook.reading.fire;this._ctx={table:qe,index:$e.index,isPrimKey:!$e.index||qe.schema.primKey.keyPath&&$e.index===qe.schema.primKey.name,range:Pe,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:He,or:$e.or,valueMapper:at!==$t?at:null}})),this.Table=(Ae=this,Qi(ir.prototype,function(Oe,Re,Pe){this.db=Ae,this._tx=Pe,this.name=Oe,this.schema=Re,this.hook=Ae._allTables[Oe]?Ae._allTables[Oe].hook:Pr(null,{creating:[Ot,Xe],reading:[on,$t],updating:[dn,Xe],deleting:[rn,Xe]})})),this.Transaction=(we=this,Qi(Ka.prototype,function(Oe,Re,Pe,He,$e){var qe=this;this.db=we,this.mode=Oe,this.storeNames=Re,this.schema=Pe,this.chromeTransactionDurability=He,this.idbtrans=null,this.on=Pr(this,"complete","error","abort"),this.parent=$e||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new bt(function(at,nt){qe._resolve=at,qe._reject=nt}),this._completion.then(function(){qe.active=!1,qe.on.complete.fire()},function(at){var nt=qe.active;return qe.active=!1,qe.on.error.fire(at),qe.parent?qe.parent._reject(at):nt&&qe.idbtrans&&qe.idbtrans.abort(),gr(at)})})),this.Version=(Ue=this,Qi(Kl.prototype,function(Oe){this.db=Ue,this._cfg={version:Oe,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(Ke=this,Qi(Ks.prototype,function(Oe,Re,Pe){if(this.db=Ke,this._ctx={table:Oe,index:Re===":id"?null:Re,or:Pe},this._cmp=this._ascending=Xt,this._descending=function(He,$e){return Xt($e,He)},this._max=function(He,$e){return 0<Xt(He,$e)?He:$e},this._min=function(He,$e){return Xt(He,$e)<0?He:$e},this._IDBKeyRange=Ke._deps.IDBKeyRange,!this._IDBKeyRange)throw new Ie.MissingAPI})),this.on("versionchange",function(Oe){0<Oe.newVersion?console.warn("Another connection wants to upgrade database '".concat(Q.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(Q.name,"'. Closing db now to resume the delete request.")),Q.close({disableAutoOpen:!1})}),this.on("blocked",function(Oe){!Oe.newVersion||Oe.newVersion<Oe.oldVersion?console.warn("Dexie.delete('".concat(Q.name,"') was blocked")):console.warn("Upgrade '".concat(Q.name,"' blocked by other connection holding version ").concat(Oe.oldVersion/10))}),this._maxKey=Ga(C.IDBKeyRange),this._createTransaction=function(Oe,Re,Pe,He){return new Q.Transaction(Oe,Re,Pe,Q._options.chromeTransactionDurability,He)},this._fireOnBlocked=function(Oe){Q.on("blocked").fire(Oe),Qt.filter(function(Re){return Re.name===Q.name&&Re!==Q&&!Re._state.vcFired}).map(function(Re){return Re.on("versionchange").fire(Oe)})},this.use(To),this.use(Lo),this.use(uo),this.use($s),this.use(Ys);var Je=new Proxy(this,{get:function(Oe,Re,Pe){if(Re==="_vip")return!0;if(Re==="table")return function($e){return Is(Q.table($e),Je)};var He=Reflect.get(Oe,Re,Pe);return He instanceof ir?Is(He,Je):Re==="tables"?He.map(function($e){return Is($e,Je)}):Re==="_createTransaction"?function(){return Is(He.apply(this,arguments),Je)}:He}});this.vip=Je,q.forEach(function(Oe){return Oe(Q)})}var Ba,Or=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",ws=(Ts.prototype.subscribe=function(b,C,Q){return this._subscribe(b&&typeof b!="function"?b:{next:b,error:C,complete:Q})},Ts.prototype[Or]=function(){return this},Ts);function Ts(b){this._subscribe=b}try{Ba={indexedDB:s.indexedDB||s.mozIndexedDB||s.webkitIndexedDB||s.msIndexedDB,IDBKeyRange:s.IDBKeyRange||s.webkitIDBKeyRange}}catch{Ba={indexedDB:null,IDBKeyRange:null}}function Fs(b){var C,Q=!1,q=new ws(function(J){var Ae=te(b),we,Ue=!1,Ke={},Me={},Je={get closed(){return Ue},unsubscribe:function(){Ue||(Ue=!0,we&&we.abort(),Oe&&js.storagemutated.unsubscribe(Pe))}};J.start&&J.start(Je);var Oe=!1,Re=function(){return ba(He)},Pe=function($e){hi(Ke,$e),Si(Me,Ke)&&Re()},He=function(){var $e,qe,at;!Ue&&Ba.indexedDB&&(Ke={},$e={},we&&we.abort(),we=new AbortController,at=(function(nt){var pt=ci();try{Ae&&Wn();var Bt=Kn(b,nt);return Bt=Ae?Bt.finally(Ar):Bt}finally{pt&&Kr()}})(qe={subscr:$e,signal:we.signal,requery:Re,querier:b,trans:null}),Promise.resolve(at).then(function(nt){Q=!0,C=nt,Ue||qe.signal.aborted||(Ke={},(function(pt){for(var Bt in pt)if(x(pt,Bt))return;return 1})(Me=$e)||Oe||(js(_a,Pe),Oe=!0),ba(function(){return!Ue&&J.next&&J.next(nt)}))},function(nt){Q=!1,["DatabaseClosedError","AbortError"].includes(nt==null?void 0:nt.name)||Ue||ba(function(){Ue||J.error&&J.error(nt)})}))};return setTimeout(Re,0),Je});return q.hasValue=function(){return Q},q.getValue=function(){return C},q}var Os=Wi;function ja(b){var C=ka;try{ka=!0,js.storagemutated.fire(b),As(b,!0)}finally{ka=C}}E(Os,r(r({},wt),{delete:function(b){return new Os(b,{addons:[]}).delete()},exists:function(b){return new Os(b,{addons:[]}).open().then(function(C){return C.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(b){try{return C=Os.dependencies,Q=C.indexedDB,C=C.IDBKeyRange,(Be(Q)?Promise.resolve(Q.databases()).then(function(q){return q.map(function(J){return J.name}).filter(function(J){return J!==Et})}):ee(Q,C).toCollection().primaryKeys()).then(b)}catch{return gr(new Ie.MissingAPI)}var C,Q},defineClass:function(){return function(b){h(this,b)}},ignoreTransaction:function(b){return dt.trans?bi(dt.transless,b):b()},vip:De,async:function(b){return function(){try{var C=Zs(b.apply(this,arguments));return C&&typeof C.then=="function"?C:bt.resolve(C)}catch(Q){return gr(Q)}}},spawn:function(b,C,Q){try{var q=Zs(b.apply(Q,C||[]));return q&&typeof q.then=="function"?q:bt.resolve(q)}catch(J){return gr(J)}},currentTransaction:{get:function(){return dt.trans||null}},waitFor:function(b,C){return C=bt.resolve(typeof b=="function"?Os.ignoreTransaction(b):b).timeout(C||6e4),dt.trans?dt.trans.waitFor(C):C},Promise:bt,debug:{get:function(){return Vt},set:function(b){un(b)}},derive:j,extend:h,props:E,override:D,Events:Pr,on:js,liveQuery:Fs,extendObservabilitySet:hi,getByKeyPath:Y,setByKeyPath:ge,delByKeyPath:function(b,C){typeof C=="string"?ge(b,C,void 0):"length"in C&&[].map.call(C,function(Q){ge(b,Q,void 0)})},shallowClone:re,deepClone:oe,getObjectDiff:cs,cmp:Xt,asap:ce,minKey:-1/0,addons:[],connections:Qt,errnames:je,dependencies:Ba,cache:Tr,semVer:"4.0.1",version:"4.0.1".split(".").map(function(b){return parseInt(b)}).reduce(function(b,C,Q){return b+C/Math.pow(10,2*Q)})})),Os.maxKey=Ga(Os.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(js(_a,function(b){ka||(b=new CustomEvent(Mr,{detail:b}),ka=!0,dispatchEvent(b),ka=!1)}),addEventListener(Mr,function(b){b=b.detail,ka||ja(b)}));var pi,ka=!1,Xs=function(){};return typeof BroadcastChannel<"u"&&((Xs=function(){(pi=new BroadcastChannel(Mr)).onmessage=function(b){return b.data&&ja(b.data)}})(),typeof pi.unref=="function"&&pi.unref(),js(_a,function(b){ka||pi.postMessage(b)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(b){if(!Wi.disableBfCache&&b.persisted){Vt&&console.debug("Dexie: handling persisted pagehide"),pi!=null&&pi.close();for(var C=0,Q=Qt;C<Q.length;C++)Q[C].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(b){!Wi.disableBfCache&&b.persisted&&(Vt&&console.debug("Dexie: handling persisted pageshow"),Xs(),ja({all:new ft(-1/0,[[]])}))})),bt.rejectionMapper=function(b,C){return!b||b instanceof ie||b instanceof TypeError||b instanceof SyntaxError||!b.name||!lt[b.name]?b:(C=new lt[b.name](C||b.message,b),"stack"in b&&I(C,"stack",{get:function(){return this.inner.stack}}),C)},un(Vt),r(Wi,Object.freeze({__proto__:null,Dexie:Wi,liveQuery:Fs,Entity:Yt,cmp:Xt,PropModSymbol:ui,PropModification:dr,replacePrefix:function(b,C){return new dr({replacePrefix:[b,C]})},default:Wi,RangeSet:ft,mergeRanges:pn,rangesOverlap:xn}),{default:Wi}),Wi})})(Gp)),Gp.exports}var VL=GL();const ix=ef(VL),jw=Symbol.for("Dexie"),Rh=globalThis[jw]||(globalThis[jw]=ix);if(ix.semVer!==Rh.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${ix.semVer} and ${Rh.semVer}`);const{liveQuery:ZL,mergeRanges:N9,rangesOverlap:E9,RangeSet:S9,cmp:L9,Entity:j9,PropModSymbol:k9,PropModification:U9,replacePrefix:I9}=Rh;function $L(e,t,n){var r,i;typeof e=="function"?(r=t||[],i=n):(r=[],i=t);var s=bl.useRef({hasResult:!1,result:i,error:null}),c=bl.useReducer(function(f){return f+1},0);c[0];var d=c[1],h=bl.useMemo(function(){var f=typeof e=="function"?e():e;if(!f||typeof f.subscribe!="function")throw e===f?new TypeError("Given argument to useObservable() was neither a valid observable nor a function."):new TypeError("Observable factory given to useObservable() did not return a valid observable.");if(!s.current.hasResult&&typeof window<"u"&&(typeof f.hasValue!="function"||f.hasValue()))if(typeof f.getValue=="function")s.current.result=f.getValue(),s.current.hasResult=!0;else{var g=f.subscribe(function(x){s.current.result=x,s.current.hasResult=!0});typeof g=="function"?g():g.unsubscribe()}return f},r);if(bl.useDebugValue(s.current.result),bl.useEffect(function(){var f=h.subscribe(function(g){var x=s.current;(x.error!==null||x.result!==g)&&(x.error=null,x.result=g,x.hasResult=!0,d())},function(g){var x=s.current;x.error!==g&&(x.error=g,d())});return typeof f=="function"?f:f.unsubscribe.bind(f)},r),s.current.error)throw s.current.error;return s.current.result}function Er(e,t,n){return $L(function(){return ZL(e)},t||[],n)}var ph={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var YL=ph.exports,kw;function XL(){return kw||(kw=1,(function(e,t){(function(n,r){r(t)})(YL,(function(n){var r="1.9.4";function i(A){var p,y,U,H;for(y=1,U=arguments.length;y<U;y++){H=arguments[y];for(p in H)A[p]=H[p]}return A}var s=Object.create||(function(){function A(){}return function(p){return A.prototype=p,new A}})();function c(A,p){var y=Array.prototype.slice;if(A.bind)return A.bind.apply(A,y.call(arguments,1));var U=y.call(arguments,2);return function(){return A.apply(p,U.length?U.concat(y.call(arguments)):arguments)}}var d=0;function h(A){return"_leaflet_id"in A||(A._leaflet_id=++d),A._leaflet_id}function f(A,p,y){var U,H,he,Te;return Te=function(){U=!1,H&&(he.apply(y,H),H=!1)},he=function(){U?H=arguments:(A.apply(y,arguments),setTimeout(Te,p),U=!0)},he}function g(A,p,y){var U=p[1],H=p[0],he=U-H;return A===U&&y?A:((A-H)%he+he)%he+H}function x(){return!1}function E(A,p){if(p===!1)return A;var y=Math.pow(10,p===void 0?6:p);return Math.round(A*y)/y}function w(A){return A.trim?A.trim():A.replace(/^\s+|\s+$/g,"")}function I(A){return w(A).split(/\s+/)}function j(A,p){Object.prototype.hasOwnProperty.call(A,"options")||(A.options=A.options?s(A.options):{});for(var y in p)A.options[y]=p[y];return A.options}function F(A,p,y){var U=[];for(var H in A)U.push(encodeURIComponent(y?H.toUpperCase():H)+"="+encodeURIComponent(A[H]));return(!p||p.indexOf("?")===-1?"?":"&")+U.join("&")}var S=/\{ *([\w_ -]+) *\}/g;function z(A,p){return A.replace(S,function(y,U){var H=p[U];if(H===void 0)throw new Error("No value provided for variable "+y);return typeof H=="function"&&(H=H(p)),H})}var D=Array.isArray||function(A){return Object.prototype.toString.call(A)==="[object Array]"};function G(A,p){for(var y=0;y<A.length;y++)if(A[y]===p)return y;return-1}var ce="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Y(A){return window["webkit"+A]||window["moz"+A]||window["ms"+A]}var ge=0;function re(A){var p=+new Date,y=Math.max(0,16-(p-ge));return ge=p+y,window.setTimeout(A,y)}var M=window.requestAnimationFrame||Y("RequestAnimationFrame")||re,X=window.cancelAnimationFrame||Y("CancelAnimationFrame")||Y("CancelRequestAnimationFrame")||function(A){window.clearTimeout(A)};function V(A,p,y){if(y&&M===re)A.call(p);else return M.call(window,c(A,p))}function W(A){A&&X.call(window,A)}var oe={__proto__:null,extend:i,create:s,bind:c,get lastId(){return d},stamp:h,throttle:f,wrapNum:g,falseFn:x,formatNum:E,trim:w,splitWords:I,setOptions:j,getParamString:F,template:z,isArray:D,indexOf:G,emptyImageUrl:ce,requestFn:M,cancelFn:X,requestAnimFrame:V,cancelAnimFrame:W};function me(){}me.extend=function(A){var p=function(){j(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},y=p.__super__=this.prototype,U=s(y);U.constructor=p,p.prototype=U;for(var H in this)Object.prototype.hasOwnProperty.call(this,H)&&H!=="prototype"&&H!=="__super__"&&(p[H]=this[H]);return A.statics&&i(p,A.statics),A.includes&&(ye(A.includes),i.apply(null,[U].concat(A.includes))),i(U,A),delete U.statics,delete U.includes,U.options&&(U.options=y.options?s(y.options):{},i(U.options,A.options)),U._initHooks=[],U.callInitHooks=function(){if(!this._initHooksCalled){y.callInitHooks&&y.callInitHooks.call(this),this._initHooksCalled=!0;for(var he=0,Te=U._initHooks.length;he<Te;he++)U._initHooks[he].call(this)}},p},me.include=function(A){var p=this.prototype.options;return i(this.prototype,A),A.options&&(this.prototype.options=p,this.mergeOptions(A.options)),this},me.mergeOptions=function(A){return i(this.prototype.options,A),this},me.addInitHook=function(A){var p=Array.prototype.slice.call(arguments,1),y=typeof A=="function"?A:function(){this[A].apply(this,p)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(y),this};function ye(A){if(!(typeof L>"u"||!L||!L.Mixin)){A=D(A)?A:[A];for(var p=0;p<A.length;p++)A[p]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var se={on:function(A,p,y){if(typeof A=="object")for(var U in A)this._on(U,A[U],p);else{A=I(A);for(var H=0,he=A.length;H<he;H++)this._on(A[H],p,y)}return this},off:function(A,p,y){if(!arguments.length)delete this._events;else if(typeof A=="object")for(var U in A)this._off(U,A[U],p);else{A=I(A);for(var H=arguments.length===1,he=0,Te=A.length;he<Te;he++)H?this._off(A[he]):this._off(A[he],p,y)}return this},_on:function(A,p,y,U){if(typeof p!="function"){console.warn("wrong listener type: "+typeof p);return}if(this._listens(A,p,y)===!1){y===this&&(y=void 0);var H={fn:p,ctx:y};U&&(H.once=!0),this._events=this._events||{},this._events[A]=this._events[A]||[],this._events[A].push(H)}},_off:function(A,p,y){var U,H,he;if(this._events&&(U=this._events[A],!!U)){if(arguments.length===1){if(this._firingCount)for(H=0,he=U.length;H<he;H++)U[H].fn=x;delete this._events[A];return}if(typeof p!="function"){console.warn("wrong listener type: "+typeof p);return}var Te=this._listens(A,p,y);if(Te!==!1){var et=U[Te];this._firingCount&&(et.fn=x,this._events[A]=U=U.slice()),U.splice(Te,1)}}},fire:function(A,p,y){if(!this.listens(A,y))return this;var U=i({},p,{type:A,target:this,sourceTarget:p&&p.sourceTarget||this});if(this._events){var H=this._events[A];if(H){this._firingCount=this._firingCount+1||1;for(var he=0,Te=H.length;he<Te;he++){var et=H[he],ut=et.fn;et.once&&this.off(A,ut,et.ctx),ut.call(et.ctx||this,U)}this._firingCount--}}return y&&this._propagateEvent(U),this},listens:function(A,p,y,U){typeof A!="string"&&console.warn('"string" type argument expected');var H=p;typeof p!="function"&&(U=!!p,H=void 0,y=void 0);var he=this._events&&this._events[A];if(he&&he.length&&this._listens(A,H,y)!==!1)return!0;if(U){for(var Te in this._eventParents)if(this._eventParents[Te].listens(A,p,y,U))return!0}return!1},_listens:function(A,p,y){if(!this._events)return!1;var U=this._events[A]||[];if(!p)return!!U.length;y===this&&(y=void 0);for(var H=0,he=U.length;H<he;H++)if(U[H].fn===p&&U[H].ctx===y)return H;return!1},once:function(A,p,y){if(typeof A=="object")for(var U in A)this._on(U,A[U],p,!0);else{A=I(A);for(var H=0,he=A.length;H<he;H++)this._on(A[H],p,y,!0)}return this},addEventParent:function(A){return this._eventParents=this._eventParents||{},this._eventParents[h(A)]=A,this},removeEventParent:function(A){return this._eventParents&&delete this._eventParents[h(A)],this},_propagateEvent:function(A){for(var p in this._eventParents)this._eventParents[p].fire(A.type,i({layer:A.target,propagatedFrom:A.target},A),!0)}};se.addEventListener=se.on,se.removeEventListener=se.clearAllEventListeners=se.off,se.addOneTimeEventListener=se.once,se.fireEvent=se.fire,se.hasEventListeners=se.listens;var _e=me.extend(se);function Z(A,p,y){this.x=y?Math.round(A):A,this.y=y?Math.round(p):p}var Ce=Math.trunc||function(A){return A>0?Math.floor(A):Math.ceil(A)};Z.prototype={clone:function(){return new Z(this.x,this.y)},add:function(A){return this.clone()._add(Se(A))},_add:function(A){return this.x+=A.x,this.y+=A.y,this},subtract:function(A){return this.clone()._subtract(Se(A))},_subtract:function(A){return this.x-=A.x,this.y-=A.y,this},divideBy:function(A){return this.clone()._divideBy(A)},_divideBy:function(A){return this.x/=A,this.y/=A,this},multiplyBy:function(A){return this.clone()._multiplyBy(A)},_multiplyBy:function(A){return this.x*=A,this.y*=A,this},scaleBy:function(A){return new Z(this.x*A.x,this.y*A.y)},unscaleBy:function(A){return new Z(this.x/A.x,this.y/A.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Ce(this.x),this.y=Ce(this.y),this},distanceTo:function(A){A=Se(A);var p=A.x-this.x,y=A.y-this.y;return Math.sqrt(p*p+y*y)},equals:function(A){return A=Se(A),A.x===this.x&&A.y===this.y},contains:function(A){return A=Se(A),Math.abs(A.x)<=Math.abs(this.x)&&Math.abs(A.y)<=Math.abs(this.y)},toString:function(){return"Point("+E(this.x)+", "+E(this.y)+")"}};function Se(A,p,y){return A instanceof Z?A:D(A)?new Z(A[0],A[1]):A==null?A:typeof A=="object"&&"x"in A&&"y"in A?new Z(A.x,A.y):new Z(A,p,y)}function te(A,p){if(A)for(var y=p?[A,p]:A,U=0,H=y.length;U<H;U++)this.extend(y[U])}te.prototype={extend:function(A){var p,y;if(!A)return this;if(A instanceof Z||typeof A[0]=="number"||"x"in A)p=y=Se(A);else if(A=P(A),p=A.min,y=A.max,!p||!y)return this;return!this.min&&!this.max?(this.min=p.clone(),this.max=y.clone()):(this.min.x=Math.min(p.x,this.min.x),this.max.x=Math.max(y.x,this.max.x),this.min.y=Math.min(p.y,this.min.y),this.max.y=Math.max(y.y,this.max.y)),this},getCenter:function(A){return Se((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,A)},getBottomLeft:function(){return Se(this.min.x,this.max.y)},getTopRight:function(){return Se(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(A){var p,y;return typeof A[0]=="number"||A instanceof Z?A=Se(A):A=P(A),A instanceof te?(p=A.min,y=A.max):p=y=A,p.x>=this.min.x&&y.x<=this.max.x&&p.y>=this.min.y&&y.y<=this.max.y},intersects:function(A){A=P(A);var p=this.min,y=this.max,U=A.min,H=A.max,he=H.x>=p.x&&U.x<=y.x,Te=H.y>=p.y&&U.y<=y.y;return he&&Te},overlaps:function(A){A=P(A);var p=this.min,y=this.max,U=A.min,H=A.max,he=H.x>p.x&&U.x<y.x,Te=H.y>p.y&&U.y<y.y;return he&&Te},isValid:function(){return!!(this.min&&this.max)},pad:function(A){var p=this.min,y=this.max,U=Math.abs(p.x-y.x)*A,H=Math.abs(p.y-y.y)*A;return P(Se(p.x-U,p.y-H),Se(y.x+U,y.y+H))},equals:function(A){return A?(A=P(A),this.min.equals(A.getTopLeft())&&this.max.equals(A.getBottomRight())):!1}};function P(A,p){return!A||A instanceof te?A:new te(A,p)}function ie(A,p){if(A)for(var y=p?[A,p]:A,U=0,H=y.length;U<H;U++)this.extend(y[U])}ie.prototype={extend:function(A){var p=this._southWest,y=this._northEast,U,H;if(A instanceof ae)U=A,H=A;else if(A instanceof ie){if(U=A._southWest,H=A._northEast,!U||!H)return this}else return A?this.extend(ue(A)||O(A)):this;return!p&&!y?(this._southWest=new ae(U.lat,U.lng),this._northEast=new ae(H.lat,H.lng)):(p.lat=Math.min(U.lat,p.lat),p.lng=Math.min(U.lng,p.lng),y.lat=Math.max(H.lat,y.lat),y.lng=Math.max(H.lng,y.lng)),this},pad:function(A){var p=this._southWest,y=this._northEast,U=Math.abs(p.lat-y.lat)*A,H=Math.abs(p.lng-y.lng)*A;return new ie(new ae(p.lat-U,p.lng-H),new ae(y.lat+U,y.lng+H))},getCenter:function(){return new ae((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ae(this.getNorth(),this.getWest())},getSouthEast:function(){return new ae(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(A){typeof A[0]=="number"||A instanceof ae||"lat"in A?A=ue(A):A=O(A);var p=this._southWest,y=this._northEast,U,H;return A instanceof ie?(U=A.getSouthWest(),H=A.getNorthEast()):U=H=A,U.lat>=p.lat&&H.lat<=y.lat&&U.lng>=p.lng&&H.lng<=y.lng},intersects:function(A){A=O(A);var p=this._southWest,y=this._northEast,U=A.getSouthWest(),H=A.getNorthEast(),he=H.lat>=p.lat&&U.lat<=y.lat,Te=H.lng>=p.lng&&U.lng<=y.lng;return he&&Te},overlaps:function(A){A=O(A);var p=this._southWest,y=this._northEast,U=A.getSouthWest(),H=A.getNorthEast(),he=H.lat>p.lat&&U.lat<y.lat,Te=H.lng>p.lng&&U.lng<y.lng;return he&&Te},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(A,p){return A?(A=O(A),this._southWest.equals(A.getSouthWest(),p)&&this._northEast.equals(A.getNorthEast(),p)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function O(A,p){return A instanceof ie?A:new ie(A,p)}function ae(A,p,y){if(isNaN(A)||isNaN(p))throw new Error("Invalid LatLng object: ("+A+", "+p+")");this.lat=+A,this.lng=+p,y!==void 0&&(this.alt=+y)}ae.prototype={equals:function(A,p){if(!A)return!1;A=ue(A);var y=Math.max(Math.abs(this.lat-A.lat),Math.abs(this.lng-A.lng));return y<=(p===void 0?1e-9:p)},toString:function(A){return"LatLng("+E(this.lat,A)+", "+E(this.lng,A)+")"},distanceTo:function(A){return Ve.distance(this,ue(A))},wrap:function(){return Ve.wrapLatLng(this)},toBounds:function(A){var p=180*A/40075017,y=p/Math.cos(Math.PI/180*this.lat);return O([this.lat-p,this.lng-y],[this.lat+p,this.lng+y])},clone:function(){return new ae(this.lat,this.lng,this.alt)}};function ue(A,p,y){return A instanceof ae?A:D(A)&&typeof A[0]!="object"?A.length===3?new ae(A[0],A[1],A[2]):A.length===2?new ae(A[0],A[1]):null:A==null?A:typeof A=="object"&&"lat"in A?new ae(A.lat,"lng"in A?A.lng:A.lon,A.alt):p===void 0?null:new ae(A,p,y)}var je={latLngToPoint:function(A,p){var y=this.projection.project(A),U=this.scale(p);return this.transformation._transform(y,U)},pointToLatLng:function(A,p){var y=this.scale(p),U=this.transformation.untransform(A,y);return this.projection.unproject(U)},project:function(A){return this.projection.project(A)},unproject:function(A){return this.projection.unproject(A)},scale:function(A){return 256*Math.pow(2,A)},zoom:function(A){return Math.log(A/256)/Math.LN2},getProjectedBounds:function(A){if(this.infinite)return null;var p=this.projection.bounds,y=this.scale(A),U=this.transformation.transform(p.min,y),H=this.transformation.transform(p.max,y);return new te(U,H)},infinite:!1,wrapLatLng:function(A){var p=this.wrapLng?g(A.lng,this.wrapLng,!0):A.lng,y=this.wrapLat?g(A.lat,this.wrapLat,!0):A.lat,U=A.alt;return new ae(y,p,U)},wrapLatLngBounds:function(A){var p=A.getCenter(),y=this.wrapLatLng(p),U=p.lat-y.lat,H=p.lng-y.lng;if(U===0&&H===0)return A;var he=A.getSouthWest(),Te=A.getNorthEast(),et=new ae(he.lat-U,he.lng-H),ut=new ae(Te.lat-U,Te.lng-H);return new ie(et,ut)}},Ve=i({},je,{wrapLng:[-180,180],R:6371e3,distance:function(A,p){var y=Math.PI/180,U=A.lat*y,H=p.lat*y,he=Math.sin((p.lat-A.lat)*y/2),Te=Math.sin((p.lng-A.lng)*y/2),et=he*he+Math.cos(U)*Math.cos(H)*Te*Te,ut=2*Math.atan2(Math.sqrt(et),Math.sqrt(1-et));return this.R*ut}}),Ie=6378137,lt={R:Ie,MAX_LATITUDE:85.0511287798,project:function(A){var p=Math.PI/180,y=this.MAX_LATITUDE,U=Math.max(Math.min(y,A.lat),-y),H=Math.sin(U*p);return new Z(this.R*A.lng*p,this.R*Math.log((1+H)/(1-H))/2)},unproject:function(A){var p=180/Math.PI;return new ae((2*Math.atan(Math.exp(A.y/this.R))-Math.PI/2)*p,A.x*p/this.R)},bounds:(function(){var A=Ie*Math.PI;return new te([-A,-A],[A,A])})()};function wt(A,p,y,U){if(D(A)){this._a=A[0],this._b=A[1],this._c=A[2],this._d=A[3];return}this._a=A,this._b=p,this._c=y,this._d=U}wt.prototype={transform:function(A,p){return this._transform(A.clone(),p)},_transform:function(A,p){return p=p||1,A.x=p*(this._a*A.x+this._b),A.y=p*(this._c*A.y+this._d),A},untransform:function(A,p){return p=p||1,new Z((A.x/p-this._b)/this._a,(A.y/p-this._d)/this._c)}};function Xe(A,p,y,U){return new wt(A,p,y,U)}var $t=i({},Ve,{code:"EPSG:3857",projection:lt,transformation:(function(){var A=.5/(Math.PI*lt.R);return Xe(A,.5,-A,.5)})()}),on=i({},$t,{code:"EPSG:900913"});function xe(A){return document.createElementNS("http://www.w3.org/2000/svg",A)}function Ot(A,p){var y="",U,H,he,Te,et,ut;for(U=0,he=A.length;U<he;U++){for(et=A[U],H=0,Te=et.length;H<Te;H++)ut=et[H],y+=(H?"L":"M")+ut.x+" "+ut.y;y+=p?st.svg?"z":"x":""}return y||"M0 0"}var rn=document.documentElement.style,dn="ActiveXObject"in window,xt=dn&&!document.addEventListener,nn="msLaunchUri"in navigator&&!("documentMode"in document),Vt=ze("webkit"),un=ze("android"),hn=ze("android 2")||ze("android 3"),jn=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Mn=un&&ze("Google")&&jn<537&&!("AudioNode"in window),_n=!!window.opera,En=!nn&&ze("chrome"),Tn=ze("gecko")&&!Vt&&!_n&&!dn,cn=!En&&ze("safari"),mn=ze("phantom"),en="OTransition"in rn,Fe=navigator.platform.indexOf("Win")===0,yt=dn&&"transition"in rn,jt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!hn,dt="MozPerspective"in rn,Rt=!window.L_DISABLE_3D&&(yt||jt||dt)&&!en&&!mn,Ht=typeof orientation<"u"||ze("mobile"),Qn=Ht&&Vt,bt=Ht&&jt,kn=!window.PointerEvent&&window.MSPointerEvent,jr=!!(window.PointerEvent||kn),Hn="ontouchstart"in window||!!window.TouchEvent,wn=!window.L_NO_TOUCH&&(Hn||jr),cr=Ht&&_n,qi=Ht&&Tn,Fi=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,ci=(function(){var A=!1;try{var p=Object.defineProperty({},"passive",{get:function(){A=!0}});window.addEventListener("testPassiveEventSupport",x,p),window.removeEventListener("testPassiveEventSupport",x,p)}catch{}return A})(),Kr=(function(){return!!document.createElement("canvas").getContext})(),fn=!!(document.createElementNS&&xe("svg").createSVGRect),Xi=!!fn&&(function(){var A=document.createElement("div");return A.innerHTML="<svg/>",(A.firstChild&&A.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Yn=!fn&&(function(){try{var A=document.createElement("div");A.innerHTML='<v:shape adj="1"/>';var p=A.firstChild;return p.style.behavior="url(#default#VML)",p&&typeof p.adj=="object"}catch{return!1}})(),Xn=navigator.platform.indexOf("Mac")===0,Oi=navigator.platform.indexOf("Linux")===0;function ze(A){return navigator.userAgent.toLowerCase().indexOf(A)>=0}var st={ie:dn,ielt9:xt,edge:nn,webkit:Vt,android:un,android23:hn,androidStock:Mn,opera:_n,chrome:En,gecko:Tn,safari:cn,phantom:mn,opera12:en,win:Fe,ie3d:yt,webkit3d:jt,gecko3d:dt,any3d:Rt,mobile:Ht,mobileWebkit:Qn,mobileWebkit3d:bt,msPointer:kn,pointer:jr,touch:wn,touchNative:Hn,mobileOpera:cr,mobileGecko:qi,retina:Fi,passiveEvents:ci,canvas:Kr,svg:fn,vml:Yn,inlineSvg:Xi,mac:Xn,linux:Oi},gn=st.msPointer?"MSPointerDown":"pointerdown",ur=st.msPointer?"MSPointerMove":"pointermove",Kn=st.msPointer?"MSPointerUp":"pointerup",Wn=st.msPointer?"MSPointerCancel":"pointercancel",Ar={touchstart:gn,touchmove:ur,touchend:Kn,touchcancel:Wn},Jr={touchstart:Lt,touchmove:le,touchend:le,touchcancel:le},kr={},Yr=!1;function Wr(A,p,y){return p==="touchstart"&&Bi(),Jr[p]?(y=Jr[p].bind(this,y),A.addEventListener(Ar[p],y,!1),y):(console.warn("wrong event specified:",p),x)}function bi(A,p,y){if(!Ar[p]){console.warn("wrong event specified:",p);return}A.removeEventListener(Ar[p],y,!1)}function Jn(A){kr[A.pointerId]=A}function ba(A){kr[A.pointerId]&&(kr[A.pointerId]=A)}function gr(A){delete kr[A.pointerId]}function Bi(){Yr||(document.addEventListener(gn,Jn,!0),document.addEventListener(ur,ba,!0),document.addEventListener(Kn,gr,!0),document.addEventListener(Wn,gr,!0),Yr=!0)}function le(A,p){if(p.pointerType!==(p.MSPOINTER_TYPE_MOUSE||"mouse")){p.touches=[];for(var y in kr)p.touches.push(kr[y]);p.changedTouches=[p],A(p)}}function Lt(A,p){p.MSPOINTER_TYPE_TOUCH&&p.pointerType===p.MSPOINTER_TYPE_TOUCH&&ni(p),le(A,p)}function Qt(A){var p={},y,U;for(U in A)y=A[U],p[U]=y&&y.bind?y.bind(A):y;return A=p,p.type="dblclick",p.detail=2,p.isTrusted=!1,p._simulated=!0,p}var Et=200;function sn(A,p){A.addEventListener("dblclick",p);var y=0,U;function H(he){if(he.detail!==1){U=he.detail;return}if(!(he.pointerType==="mouse"||he.sourceCapabilities&&!he.sourceCapabilities.firesTouchEvents)){var Te=ys(he);if(!(Te.some(function(ut){return ut instanceof HTMLLabelElement&&ut.attributes.for})&&!Te.some(function(ut){return ut instanceof HTMLInputElement||ut instanceof HTMLSelectElement}))){var et=Date.now();et-y<=Et?(U++,U===2&&p(Qt(he))):U=1,y=et}}}return A.addEventListener("click",H),{dblclick:p,simDblclick:H}}function Bn(A,p){A.removeEventListener("dblclick",p.dblclick),A.removeEventListener("click",p.simDblclick)}var ke=ei(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),gt=ei(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),tn=gt==="webkitTransition"||gt==="OTransition"?gt+"End":"transitionend";function Yt(A){return typeof A=="string"?document.getElementById(A):A}function Xt(A,p){var y=A.style[p]||A.currentStyle&&A.currentStyle[p];if((!y||y==="auto")&&document.defaultView){var U=document.defaultView.getComputedStyle(A,null);y=U?U[p]:null}return y==="auto"?null:y}function kt(A,p,y){var U=document.createElement(A);return U.className=p||"",y&&y.appendChild(U),U}function Pt(A){var p=A.parentNode;p&&p.removeChild(A)}function ir(A){for(;A.firstChild;)A.removeChild(A.firstChild)}function Jt(A){var p=A.parentNode;p&&p.lastChild!==A&&p.appendChild(A)}function Pr(A){var p=A.parentNode;p&&p.firstChild!==A&&p.insertBefore(A,p.firstChild)}function Qi(A,p){if(A.classList!==void 0)return A.classList.contains(p);var y=vr(A);return y.length>0&&new RegExp("(^|\\s)"+p+"(\\s|$)").test(y)}function Cn(A,p){if(A.classList!==void 0)for(var y=I(p),U=0,H=y.length;U<H;U++)A.classList.add(y[U]);else if(!Qi(A,p)){var he=vr(A);Br(A,(he?he+" ":"")+p)}}function Dn(A,p){A.classList!==void 0?A.classList.remove(p):Br(A,w((" "+vr(A)+" ").replace(" "+p+" "," ")))}function Br(A,p){A.className.baseVal===void 0?A.className=p:A.className.baseVal=p}function vr(A){return A.correspondingElement&&(A=A.correspondingElement),A.className.baseVal===void 0?A.className:A.className.baseVal}function mr(A,p){"opacity"in A.style?A.style.opacity=p:"filter"in A.style&&xs(A,p)}function xs(A,p){var y=!1,U="DXImageTransform.Microsoft.Alpha";try{y=A.filters.item(U)}catch{if(p===1)return}p=Math.round(p*100),y?(y.Enabled=p!==100,y.Opacity=p):A.style.filter+=" progid:"+U+"(opacity="+p+")"}function ei(A){for(var p=document.documentElement.style,y=0;y<A.length;y++)if(A[y]in p)return A[y];return!1}function ui(A,p,y){var U=p||new Z(0,0);A.style[ke]=(st.ie3d?"translate("+U.x+"px,"+U.y+"px)":"translate3d("+U.x+"px,"+U.y+"px,0)")+(y?" scale("+y+")":"")}function dr(A,p){A._leaflet_pos=p,st.any3d?ui(A,p):(A.style.left=p.x+"px",A.style.top=p.y+"px")}function za(A){return A._leaflet_pos||new Z(0,0)}var lo,er,qs;if("onselectstart"in document)lo=function(){Kt(window,"selectstart",ni)},er=function(){Mr(window,"selectstart",ni)};else{var Uo=ei(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);lo=function(){if(Uo){var A=document.documentElement.style;qs=A[Uo],A[Uo]="none"}},er=function(){Uo&&(document.documentElement.style[Uo]=qs,qs=void 0)}}function ll(){Kt(window,"dragstart",ni)}function ra(){Mr(window,"dragstart",ni)}var bs,Bo;function Ei(A){for(;A.tabIndex===-1;)A=A.parentNode;A.style&&(qa(),bs=A,Bo=A.style.outlineStyle,A.style.outlineStyle="none",Kt(window,"keydown",qa))}function qa(){bs&&(bs.style.outlineStyle=Bo,bs=void 0,Bo=void 0,Mr(window,"keydown",qa))}function Ks(A){do A=A.parentNode;while((!A.offsetWidth||!A.offsetHeight)&&A!==document.body);return A}function di(A){var p=A.getBoundingClientRect();return{x:p.width/A.offsetWidth||1,y:p.height/A.offsetHeight||1,boundingClientRect:p}}var ya={__proto__:null,TRANSFORM:ke,TRANSITION:gt,TRANSITION_END:tn,get:Yt,getStyle:Xt,create:kt,remove:Pt,empty:ir,toFront:Jt,toBack:Pr,hasClass:Qi,addClass:Cn,removeClass:Dn,setClass:Br,getClass:vr,setOpacity:mr,testProp:ei,setTransform:ui,setPosition:dr,getPosition:za,get disableTextSelection(){return lo},get enableTextSelection(){return er},disableImageDrag:ll,enableImageDrag:ra,preventOutline:Ei,restoreOutline:qa,getSizedParentNode:Ks,getScale:di};function Kt(A,p,y,U){if(p&&typeof p=="object")for(var H in p)ti(A,H,p[H],y);else{p=I(p);for(var he=0,Te=p.length;he<Te;he++)ti(A,p[he],y,U)}return this}var _a="_leaflet_events";function Mr(A,p,y,U){if(arguments.length===1)js(A),delete A[_a];else if(p&&typeof p=="object")for(var H in p)Co(A,H,p[H],y);else if(p=I(p),arguments.length===2)js(A,function(et){return G(p,et)!==-1});else for(var he=0,Te=p.length;he<Te;he++)Co(A,p[he],y,U);return this}function js(A,p){for(var y in A[_a]){var U=y.split(/\d/)[0];(!p||p(U))&&Co(A,U,null,null,y)}}var Ka={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ti(A,p,y,U){var H=p+h(y)+(U?"_"+h(U):"");if(A[_a]&&A[_a][H])return this;var he=function(et){return y.call(U||A,et||window.event)},Te=he;!st.touchNative&&st.pointer&&p.indexOf("touch")===0?he=Wr(A,p,he):st.touch&&p==="dblclick"?he=sn(A,he):"addEventListener"in A?p==="touchstart"||p==="touchmove"||p==="wheel"||p==="mousewheel"?A.addEventListener(Ka[p]||p,he,st.passiveEvents?{passive:!1}:!1):p==="mouseenter"||p==="mouseleave"?(he=function(et){et=et||window.event,Va(A,et)&&Te(et)},A.addEventListener(Ka[p],he,!1)):A.addEventListener(p,Te,!1):A.attachEvent("on"+p,he),A[_a]=A[_a]||{},A[_a][H]=he}function Co(A,p,y,U,H){H=H||p+h(y)+(U?"_"+h(U):"");var he=A[_a]&&A[_a][H];if(!he)return this;!st.touchNative&&st.pointer&&p.indexOf("touch")===0?bi(A,p,he):st.touch&&p==="dblclick"?Bn(A,he):"removeEventListener"in A?A.removeEventListener(Ka[p]||p,he,!1):A.detachEvent("on"+p,he),A[_a][H]=null}function os(A){return A.stopPropagation?A.stopPropagation():A.originalEvent?A.originalEvent._stopped=!0:A.cancelBubble=!0,this}function wa(A){return ti(A,"wheel",os),this}function Ga(A){return Kt(A,"mousedown touchstart dblclick contextmenu",os),A._leaflet_disable_click=!0,this}function ni(A){return A.preventDefault?A.preventDefault():A.returnValue=!1,this}function Gs(A){return ni(A),os(A),this}function ys(A){if(A.composedPath)return A.composedPath();for(var p=[],y=A.target;y;)p.push(y),y=y.parentNode;return p}function Vs(A,p){if(!p)return new Z(A.clientX,A.clientY);var y=di(p),U=y.boundingClientRect;return new Z((A.clientX-U.left)/y.x-p.clientLeft,(A.clientY-U.top)/y.y-p.clientTop)}var Al=st.linux&&st.chrome?window.devicePixelRatio:st.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function ia(A){return st.edge?A.wheelDeltaY/2:A.deltaY&&A.deltaMode===0?-A.deltaY/Al:A.deltaY&&A.deltaMode===1?-A.deltaY*20:A.deltaY&&A.deltaMode===2?-A.deltaY*60:A.deltaX||A.deltaZ?0:A.wheelDelta?(A.wheelDeltaY||A.wheelDelta)/2:A.detail&&Math.abs(A.detail)<32765?-A.detail*20:A.detail?A.detail/-32765*60:0}function Va(A,p){var y=p.relatedTarget;if(!y)return!0;try{for(;y&&y!==A;)y=y.parentNode}catch{return!1}return y!==A}var Za={__proto__:null,on:Kt,off:Mr,stopPropagation:os,disableScrollPropagation:wa,disableClickPropagation:Ga,preventDefault:ni,stop:Gs,getPropagationPath:ys,getMousePosition:Vs,getWheelDelta:ia,isExternalTarget:Va,addListener:Kt,removeListener:Mr},ks=_e.extend({run:function(A,p,y,U){this.stop(),this._el=A,this._inProgress=!0,this._duration=y||.25,this._easeOutPower=1/Math.max(U||.5,.2),this._startPos=za(A),this._offset=p.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=V(this._animate,this),this._step()},_step:function(A){var p=+new Date-this._startTime,y=this._duration*1e3;p<y?this._runFrame(this._easeOut(p/y),A):(this._runFrame(1),this._complete())},_runFrame:function(A,p){var y=this._startPos.add(this._offset.multiplyBy(A));p&&y._round(),dr(this._el,y),this.fire("step")},_complete:function(){W(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(A){return 1-Math.pow(1-A,this._easeOutPower)}}),xr=_e.extend({options:{crs:$t,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(A,p){p=j(this,p),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(A),this._initLayout(),this._onResize=c(this._onResize,this),this._initEvents(),p.maxBounds&&this.setMaxBounds(p.maxBounds),p.zoom!==void 0&&(this._zoom=this._limitZoom(p.zoom)),p.center&&p.zoom!==void 0&&this.setView(ue(p.center),p.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=gt&&st.any3d&&!st.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Kt(this._proxy,tn,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(A,p,y){if(p=p===void 0?this._zoom:this._limitZoom(p),A=this._limitCenter(ue(A),p,this.options.maxBounds),y=y||{},this._stop(),this._loaded&&!y.reset&&y!==!0){y.animate!==void 0&&(y.zoom=i({animate:y.animate},y.zoom),y.pan=i({animate:y.animate,duration:y.duration},y.pan));var U=this._zoom!==p?this._tryAnimatedZoom&&this._tryAnimatedZoom(A,p,y.zoom):this._tryAnimatedPan(A,y.pan);if(U)return clearTimeout(this._sizeTimer),this}return this._resetView(A,p,y.pan&&y.pan.noMoveStart),this},setZoom:function(A,p){return this._loaded?this.setView(this.getCenter(),A,{zoom:p}):(this._zoom=A,this)},zoomIn:function(A,p){return A=A||(st.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+A,p)},zoomOut:function(A,p){return A=A||(st.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-A,p)},setZoomAround:function(A,p,y){var U=this.getZoomScale(p),H=this.getSize().divideBy(2),he=A instanceof Z?A:this.latLngToContainerPoint(A),Te=he.subtract(H).multiplyBy(1-1/U),et=this.containerPointToLatLng(H.add(Te));return this.setView(et,p,{zoom:y})},_getBoundsCenterZoom:function(A,p){p=p||{},A=A.getBounds?A.getBounds():O(A);var y=Se(p.paddingTopLeft||p.padding||[0,0]),U=Se(p.paddingBottomRight||p.padding||[0,0]),H=this.getBoundsZoom(A,!1,y.add(U));if(H=typeof p.maxZoom=="number"?Math.min(p.maxZoom,H):H,H===1/0)return{center:A.getCenter(),zoom:H};var he=U.subtract(y).divideBy(2),Te=this.project(A.getSouthWest(),H),et=this.project(A.getNorthEast(),H),ut=this.unproject(Te.add(et).divideBy(2).add(he),H);return{center:ut,zoom:H}},fitBounds:function(A,p){if(A=O(A),!A.isValid())throw new Error("Bounds are not valid.");var y=this._getBoundsCenterZoom(A,p);return this.setView(y.center,y.zoom,p)},fitWorld:function(A){return this.fitBounds([[-90,-180],[90,180]],A)},panTo:function(A,p){return this.setView(A,this._zoom,{pan:p})},panBy:function(A,p){if(A=Se(A).round(),p=p||{},!A.x&&!A.y)return this.fire("moveend");if(p.animate!==!0&&!this.getSize().contains(A))return this._resetView(this.unproject(this.project(this.getCenter()).add(A)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new ks,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),p.noMoveStart||this.fire("movestart"),p.animate!==!1){Cn(this._mapPane,"leaflet-pan-anim");var y=this._getMapPanePos().subtract(A).round();this._panAnim.run(this._mapPane,y,p.duration||.25,p.easeLinearity)}else this._rawPanBy(A),this.fire("move").fire("moveend");return this},flyTo:function(A,p,y){if(y=y||{},y.animate===!1||!st.any3d)return this.setView(A,p,y);this._stop();var U=this.project(this.getCenter()),H=this.project(A),he=this.getSize(),Te=this._zoom;A=ue(A),p=p===void 0?Te:p;var et=Math.max(he.x,he.y),ut=et*this.getZoomScale(Te,p),Ut=H.distanceTo(U)||1,an=1.42,Un=an*an;function Cr(gi){var fa=gi?-1:1,Nl=gi?ut:et,jc=ut*ut-et*et+fa*Un*Un*Ut*Ut,$l=2*Nl*Un*Ut,Yl=jc/$l,Jo=Math.sqrt(Yl*Yl+1)-Yl,Oo=Jo<1e-9?-18:Math.log(Jo);return Oo}function Ja(gi){return(Math.exp(gi)-Math.exp(-gi))/2}function oa(gi){return(Math.exp(gi)+Math.exp(-gi))/2}function Ws(gi){return Ja(gi)/oa(gi)}var ri=Cr(0);function ii(gi){return et*(oa(ri)/oa(ri+an*gi))}function Qr(gi){return et*(oa(ri)*Ws(ri+an*gi)-Ja(ri))/Un}function Bs(gi){return 1-Math.pow(1-gi,1.5)}var ea=Date.now(),ho=(Cr(1)-ri)/an,dl=y.duration?1e3*y.duration:1e3*ho*.8;function GA(){var gi=(Date.now()-ea)/dl,fa=Bs(gi)*ho;gi<=1?(this._flyToFrame=V(GA,this),this._move(this.unproject(U.add(H.subtract(U).multiplyBy(Qr(fa)/Ut)),Te),this.getScaleZoom(et/ii(fa),Te),{flyTo:!0})):this._move(A,p)._moveEnd(!0)}return this._moveStart(!0,y.noMoveStart),GA.call(this),this},flyToBounds:function(A,p){var y=this._getBoundsCenterZoom(A,p);return this.flyTo(y.center,y.zoom,p)},setMaxBounds:function(A){return A=O(A),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),A.isValid()?(this.options.maxBounds=A,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(A){var p=this.options.minZoom;return this.options.minZoom=A,this._loaded&&p!==A&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(A):this},setMaxZoom:function(A){var p=this.options.maxZoom;return this.options.maxZoom=A,this._loaded&&p!==A&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(A):this},panInsideBounds:function(A,p){this._enforcingBounds=!0;var y=this.getCenter(),U=this._limitCenter(y,this._zoom,O(A));return y.equals(U)||this.panTo(U,p),this._enforcingBounds=!1,this},panInside:function(A,p){p=p||{};var y=Se(p.paddingTopLeft||p.padding||[0,0]),U=Se(p.paddingBottomRight||p.padding||[0,0]),H=this.project(this.getCenter()),he=this.project(A),Te=this.getPixelBounds(),et=P([Te.min.add(y),Te.max.subtract(U)]),ut=et.getSize();if(!et.contains(he)){this._enforcingBounds=!0;var Ut=he.subtract(et.getCenter()),an=et.extend(he).getSize().subtract(ut);H.x+=Ut.x<0?-an.x:an.x,H.y+=Ut.y<0?-an.y:an.y,this.panTo(this.unproject(H),p),this._enforcingBounds=!1}return this},invalidateSize:function(A){if(!this._loaded)return this;A=i({animate:!1,pan:!0},A===!0?{animate:!0}:A);var p=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var y=this.getSize(),U=p.divideBy(2).round(),H=y.divideBy(2).round(),he=U.subtract(H);return!he.x&&!he.y?this:(A.animate&&A.pan?this.panBy(he):(A.pan&&this._rawPanBy(he),this.fire("move"),A.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(c(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:p,newSize:y}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(A){if(A=this._locateOptions=i({timeout:1e4,watch:!1},A),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var p=c(this._handleGeolocationResponse,this),y=c(this._handleGeolocationError,this);return A.watch?this._locationWatchId=navigator.geolocation.watchPosition(p,y,A):navigator.geolocation.getCurrentPosition(p,y,A),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(A){if(this._container._leaflet_id){var p=A.code,y=A.message||(p===1?"permission denied":p===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:p,message:"Geolocation error: "+y+"."})}},_handleGeolocationResponse:function(A){if(this._container._leaflet_id){var p=A.coords.latitude,y=A.coords.longitude,U=new ae(p,y),H=U.toBounds(A.coords.accuracy*2),he=this._locateOptions;if(he.setView){var Te=this.getBoundsZoom(H);this.setView(U,he.maxZoom?Math.min(Te,he.maxZoom):Te)}var et={latlng:U,bounds:H,timestamp:A.timestamp};for(var ut in A.coords)typeof A.coords[ut]=="number"&&(et[ut]=A.coords[ut]);this.fire("locationfound",et)}},addHandler:function(A,p){if(!p)return this;var y=this[A]=new p(this);return this._handlers.push(y),this.options[A]&&y.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Pt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(W(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var A;for(A in this._layers)this._layers[A].remove();for(A in this._panes)Pt(this._panes[A]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(A,p){var y="leaflet-pane"+(A?" leaflet-"+A.replace("Pane","")+"-pane":""),U=kt("div",y,p||this._mapPane);return A&&(this._panes[A]=U),U},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var A=this.getPixelBounds(),p=this.unproject(A.getBottomLeft()),y=this.unproject(A.getTopRight());return new ie(p,y)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(A,p,y){A=O(A),y=Se(y||[0,0]);var U=this.getZoom()||0,H=this.getMinZoom(),he=this.getMaxZoom(),Te=A.getNorthWest(),et=A.getSouthEast(),ut=this.getSize().subtract(y),Ut=P(this.project(et,U),this.project(Te,U)).getSize(),an=st.any3d?this.options.zoomSnap:1,Un=ut.x/Ut.x,Cr=ut.y/Ut.y,Ja=p?Math.max(Un,Cr):Math.min(Un,Cr);return U=this.getScaleZoom(Ja,U),an&&(U=Math.round(U/(an/100))*(an/100),U=p?Math.ceil(U/an)*an:Math.floor(U/an)*an),Math.max(H,Math.min(he,U))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Z(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(A,p){var y=this._getTopLeftPoint(A,p);return new te(y,y.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(A){return this.options.crs.getProjectedBounds(A===void 0?this.getZoom():A)},getPane:function(A){return typeof A=="string"?this._panes[A]:A},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(A,p){var y=this.options.crs;return p=p===void 0?this._zoom:p,y.scale(A)/y.scale(p)},getScaleZoom:function(A,p){var y=this.options.crs;p=p===void 0?this._zoom:p;var U=y.zoom(A*y.scale(p));return isNaN(U)?1/0:U},project:function(A,p){return p=p===void 0?this._zoom:p,this.options.crs.latLngToPoint(ue(A),p)},unproject:function(A,p){return p=p===void 0?this._zoom:p,this.options.crs.pointToLatLng(Se(A),p)},layerPointToLatLng:function(A){var p=Se(A).add(this.getPixelOrigin());return this.unproject(p)},latLngToLayerPoint:function(A){var p=this.project(ue(A))._round();return p._subtract(this.getPixelOrigin())},wrapLatLng:function(A){return this.options.crs.wrapLatLng(ue(A))},wrapLatLngBounds:function(A){return this.options.crs.wrapLatLngBounds(O(A))},distance:function(A,p){return this.options.crs.distance(ue(A),ue(p))},containerPointToLayerPoint:function(A){return Se(A).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(A){return Se(A).add(this._getMapPanePos())},containerPointToLatLng:function(A){var p=this.containerPointToLayerPoint(Se(A));return this.layerPointToLatLng(p)},latLngToContainerPoint:function(A){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ue(A)))},mouseEventToContainerPoint:function(A){return Vs(A,this._container)},mouseEventToLayerPoint:function(A){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(A))},mouseEventToLatLng:function(A){return this.layerPointToLatLng(this.mouseEventToLayerPoint(A))},_initContainer:function(A){var p=this._container=Yt(A);if(p){if(p._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Kt(p,"scroll",this._onScroll,this),this._containerId=h(p)},_initLayout:function(){var A=this._container;this._fadeAnimated=this.options.fadeAnimation&&st.any3d,Cn(A,"leaflet-container"+(st.touch?" leaflet-touch":"")+(st.retina?" leaflet-retina":"")+(st.ielt9?" leaflet-oldie":"")+(st.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var p=Xt(A,"position");p!=="absolute"&&p!=="relative"&&p!=="fixed"&&p!=="sticky"&&(A.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var A=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),dr(this._mapPane,new Z(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Cn(A.markerPane,"leaflet-zoom-hide"),Cn(A.shadowPane,"leaflet-zoom-hide"))},_resetView:function(A,p,y){dr(this._mapPane,new Z(0,0));var U=!this._loaded;this._loaded=!0,p=this._limitZoom(p),this.fire("viewprereset");var H=this._zoom!==p;this._moveStart(H,y)._move(A,p)._moveEnd(H),this.fire("viewreset"),U&&this.fire("load")},_moveStart:function(A,p){return A&&this.fire("zoomstart"),p||this.fire("movestart"),this},_move:function(A,p,y,U){p===void 0&&(p=this._zoom);var H=this._zoom!==p;return this._zoom=p,this._lastCenter=A,this._pixelOrigin=this._getNewPixelOrigin(A),U?y&&y.pinch&&this.fire("zoom",y):((H||y&&y.pinch)&&this.fire("zoom",y),this.fire("move",y)),this},_moveEnd:function(A){return A&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return W(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(A){dr(this._mapPane,this._getMapPanePos().subtract(A))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(A){this._targets={},this._targets[h(this._container)]=this;var p=A?Mr:Kt;p(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&p(window,"resize",this._onResize,this),st.any3d&&this.options.transform3DLimit&&(A?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){W(this._resizeRequest),this._resizeRequest=V(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var A=this._getMapPanePos();Math.max(Math.abs(A.x),Math.abs(A.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(A,p){for(var y=[],U,H=p==="mouseout"||p==="mouseover",he=A.target||A.srcElement,Te=!1;he;){if(U=this._targets[h(he)],U&&(p==="click"||p==="preclick")&&this._draggableMoved(U)){Te=!0;break}if(U&&U.listens(p,!0)&&(H&&!Va(he,A)||(y.push(U),H))||he===this._container)break;he=he.parentNode}return!y.length&&!Te&&!H&&this.listens(p,!0)&&(y=[this]),y},_isClickDisabled:function(A){for(;A&&A!==this._container;){if(A._leaflet_disable_click)return!0;A=A.parentNode}},_handleDOMEvent:function(A){var p=A.target||A.srcElement;if(!(!this._loaded||p._leaflet_disable_events||A.type==="click"&&this._isClickDisabled(p))){var y=A.type;y==="mousedown"&&Ei(p),this._fireDOMEvent(A,y)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(A,p,y){if(A.type==="click"){var U=i({},A);U.type="preclick",this._fireDOMEvent(U,U.type,y)}var H=this._findEventTargets(A,p);if(y){for(var he=[],Te=0;Te<y.length;Te++)y[Te].listens(p,!0)&&he.push(y[Te]);H=he.concat(H)}if(H.length){p==="contextmenu"&&ni(A);var et=H[0],ut={originalEvent:A};if(A.type!=="keypress"&&A.type!=="keydown"&&A.type!=="keyup"){var Ut=et.getLatLng&&(!et._radius||et._radius<=10);ut.containerPoint=Ut?this.latLngToContainerPoint(et.getLatLng()):this.mouseEventToContainerPoint(A),ut.layerPoint=this.containerPointToLayerPoint(ut.containerPoint),ut.latlng=Ut?et.getLatLng():this.layerPointToLatLng(ut.layerPoint)}for(Te=0;Te<H.length;Te++)if(H[Te].fire(p,ut,!0),ut.originalEvent._stopped||H[Te].options.bubblingMouseEvents===!1&&G(this._mouseEvents,p)!==-1)return}},_draggableMoved:function(A){return A=A.dragging&&A.dragging.enabled()?A:this,A.dragging&&A.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var A=0,p=this._handlers.length;A<p;A++)this._handlers[A].disable()},whenReady:function(A,p){return this._loaded?A.call(p||this,{target:this}):this.on("load",A,p),this},_getMapPanePos:function(){return za(this._mapPane)||new Z(0,0)},_moved:function(){var A=this._getMapPanePos();return A&&!A.equals([0,0])},_getTopLeftPoint:function(A,p){var y=A&&p!==void 0?this._getNewPixelOrigin(A,p):this.getPixelOrigin();return y.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(A,p){var y=this.getSize()._divideBy(2);return this.project(A,p)._subtract(y)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(A,p,y){var U=this._getNewPixelOrigin(y,p);return this.project(A,p)._subtract(U)},_latLngBoundsToNewLayerBounds:function(A,p,y){var U=this._getNewPixelOrigin(y,p);return P([this.project(A.getSouthWest(),p)._subtract(U),this.project(A.getNorthWest(),p)._subtract(U),this.project(A.getSouthEast(),p)._subtract(U),this.project(A.getNorthEast(),p)._subtract(U)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(A){return this.latLngToLayerPoint(A).subtract(this._getCenterLayerPoint())},_limitCenter:function(A,p,y){if(!y)return A;var U=this.project(A,p),H=this.getSize().divideBy(2),he=new te(U.subtract(H),U.add(H)),Te=this._getBoundsOffset(he,y,p);return Math.abs(Te.x)<=1&&Math.abs(Te.y)<=1?A:this.unproject(U.add(Te),p)},_limitOffset:function(A,p){if(!p)return A;var y=this.getPixelBounds(),U=new te(y.min.add(A),y.max.add(A));return A.add(this._getBoundsOffset(U,p))},_getBoundsOffset:function(A,p,y){var U=P(this.project(p.getNorthEast(),y),this.project(p.getSouthWest(),y)),H=U.min.subtract(A.min),he=U.max.subtract(A.max),Te=this._rebound(H.x,-he.x),et=this._rebound(H.y,-he.y);return new Z(Te,et)},_rebound:function(A,p){return A+p>0?Math.round(A-p)/2:Math.max(0,Math.ceil(A))-Math.max(0,Math.floor(p))},_limitZoom:function(A){var p=this.getMinZoom(),y=this.getMaxZoom(),U=st.any3d?this.options.zoomSnap:1;return U&&(A=Math.round(A/U)*U),Math.max(p,Math.min(y,A))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Dn(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(A,p){var y=this._getCenterOffset(A)._trunc();return(p&&p.animate)!==!0&&!this.getSize().contains(y)?!1:(this.panBy(y,p),!0)},_createAnimProxy:function(){var A=this._proxy=kt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(A),this.on("zoomanim",function(p){var y=ke,U=this._proxy.style[y];ui(this._proxy,this.project(p.center,p.zoom),this.getZoomScale(p.zoom,1)),U===this._proxy.style[y]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Pt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var A=this.getCenter(),p=this.getZoom();ui(this._proxy,this.project(A,p),this.getZoomScale(p,1))},_catchTransitionEnd:function(A){this._animatingZoom&&A.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(A,p,y){if(this._animatingZoom)return!0;if(y=y||{},!this._zoomAnimated||y.animate===!1||this._nothingToAnimate()||Math.abs(p-this._zoom)>this.options.zoomAnimationThreshold)return!1;var U=this.getZoomScale(p),H=this._getCenterOffset(A)._divideBy(1-1/U);return y.animate!==!0&&!this.getSize().contains(H)?!1:(V(function(){this._moveStart(!0,y.noMoveStart||!1)._animateZoom(A,p,!0)},this),!0)},_animateZoom:function(A,p,y,U){this._mapPane&&(y&&(this._animatingZoom=!0,this._animateToCenter=A,this._animateToZoom=p,Cn(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:A,zoom:p,noUpdate:U}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(c(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Dn(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function $o(A,p){return new xr(A,p)}var aa=me.extend({options:{position:"topright"},initialize:function(A){j(this,A)},getPosition:function(){return this.options.position},setPosition:function(A){var p=this._map;return p&&p.removeControl(this),this.options.position=A,p&&p.addControl(this),this},getContainer:function(){return this._container},addTo:function(A){this.remove(),this._map=A;var p=this._container=this.onAdd(A),y=this.getPosition(),U=A._controlCorners[y];return Cn(p,"leaflet-control"),y.indexOf("bottom")!==-1?U.insertBefore(p,U.firstChild):U.appendChild(p),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Pt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(A){this._map&&A&&A.screenX>0&&A.screenY>0&&this._map.getContainer().focus()}}),$a=function(A){return new aa(A)};xr.include({addControl:function(A){return A.addTo(this),this},removeControl:function(A){return A.remove(),this},_initControlPos:function(){var A=this._controlCorners={},p="leaflet-",y=this._controlContainer=kt("div",p+"control-container",this._container);function U(H,he){var Te=p+H+" "+p+he;A[H+he]=kt("div",Te,y)}U("top","left"),U("top","right"),U("bottom","left"),U("bottom","right")},_clearControlPos:function(){for(var A in this._controlCorners)Pt(this._controlCorners[A]);Pt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Ao=aa.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(A,p,y,U){return y<U?-1:U<y?1:0}},initialize:function(A,p,y){j(this,y),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var U in A)this._addLayer(A[U],U);for(U in p)this._addLayer(p[U],U,!0)},onAdd:function(A){this._initLayout(),this._update(),this._map=A,A.on("zoomend",this._checkDisabledLayers,this);for(var p=0;p<this._layers.length;p++)this._layers[p].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(A){return aa.prototype.addTo.call(this,A),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var A=0;A<this._layers.length;A++)this._layers[A].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(A,p){return this._addLayer(A,p),this._map?this._update():this},addOverlay:function(A,p){return this._addLayer(A,p,!0),this._map?this._update():this},removeLayer:function(A){A.off("add remove",this._onLayerChange,this);var p=this._getLayer(h(A));return p&&this._layers.splice(this._layers.indexOf(p),1),this._map?this._update():this},expand:function(){Cn(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var A=this._map.getSize().y-(this._container.offsetTop+50);return A<this._section.clientHeight?(Cn(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=A+"px"):Dn(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Dn(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var A="leaflet-control-layers",p=this._container=kt("div",A),y=this.options.collapsed;p.setAttribute("aria-haspopup",!0),Ga(p),wa(p);var U=this._section=kt("section",A+"-list");y&&(this._map.on("click",this.collapse,this),Kt(p,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var H=this._layersLink=kt("a",A+"-toggle",p);H.href="#",H.title="Layers",H.setAttribute("role","button"),Kt(H,{keydown:function(he){he.keyCode===13&&this._expandSafely()},click:function(he){ni(he),this._expandSafely()}},this),y||this.expand(),this._baseLayersList=kt("div",A+"-base",U),this._separator=kt("div",A+"-separator",U),this._overlaysList=kt("div",A+"-overlays",U),p.appendChild(U)},_getLayer:function(A){for(var p=0;p<this._layers.length;p++)if(this._layers[p]&&h(this._layers[p].layer)===A)return this._layers[p]},_addLayer:function(A,p,y){this._map&&A.on("add remove",this._onLayerChange,this),this._layers.push({layer:A,name:p,overlay:y}),this.options.sortLayers&&this._layers.sort(c(function(U,H){return this.options.sortFunction(U.layer,H.layer,U.name,H.name)},this)),this.options.autoZIndex&&A.setZIndex&&(this._lastZIndex++,A.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ir(this._baseLayersList),ir(this._overlaysList),this._layerControlInputs=[];var A,p,y,U,H=0;for(y=0;y<this._layers.length;y++)U=this._layers[y],this._addItem(U),p=p||U.overlay,A=A||!U.overlay,H+=U.overlay?0:1;return this.options.hideSingleBase&&(A=A&&H>1,this._baseLayersList.style.display=A?"":"none"),this._separator.style.display=p&&A?"":"none",this},_onLayerChange:function(A){this._handlingClick||this._update();var p=this._getLayer(h(A.target)),y=p.overlay?A.type==="add"?"overlayadd":"overlayremove":A.type==="add"?"baselayerchange":null;y&&this._map.fire(y,p)},_createRadioElement:function(A,p){var y='<input type="radio" class="leaflet-control-layers-selector" name="'+A+'"'+(p?' checked="checked"':"")+"/>",U=document.createElement("div");return U.innerHTML=y,U.firstChild},_addItem:function(A){var p=document.createElement("label"),y=this._map.hasLayer(A.layer),U;A.overlay?(U=document.createElement("input"),U.type="checkbox",U.className="leaflet-control-layers-selector",U.defaultChecked=y):U=this._createRadioElement("leaflet-base-layers_"+h(this),y),this._layerControlInputs.push(U),U.layerId=h(A.layer),Kt(U,"click",this._onInputClick,this);var H=document.createElement("span");H.innerHTML=" "+A.name;var he=document.createElement("span");p.appendChild(he),he.appendChild(U),he.appendChild(H);var Te=A.overlay?this._overlaysList:this._baseLayersList;return Te.appendChild(p),this._checkDisabledLayers(),p},_onInputClick:function(){if(!this._preventClick){var A=this._layerControlInputs,p,y,U=[],H=[];this._handlingClick=!0;for(var he=A.length-1;he>=0;he--)p=A[he],y=this._getLayer(p.layerId).layer,p.checked?U.push(y):p.checked||H.push(y);for(he=0;he<H.length;he++)this._map.hasLayer(H[he])&&this._map.removeLayer(H[he]);for(he=0;he<U.length;he++)this._map.hasLayer(U[he])||this._map.addLayer(U[he]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var A=this._layerControlInputs,p,y,U=this._map.getZoom(),H=A.length-1;H>=0;H--)p=A[H],y=this._getLayer(p.layerId).layer,p.disabled=y.options.minZoom!==void 0&&U<y.options.minZoom||y.options.maxZoom!==void 0&&U>y.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var A=this._section;this._preventClick=!0,Kt(A,"click",ni),this.expand();var p=this;setTimeout(function(){Mr(A,"click",ni),p._preventClick=!1})}}),cl=function(A,p,y){return new Ao(A,p,y)},ls=aa.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(A){var p="leaflet-control-zoom",y=kt("div",p+" leaflet-bar"),U=this.options;return this._zoomInButton=this._createButton(U.zoomInText,U.zoomInTitle,p+"-in",y,this._zoomIn),this._zoomOutButton=this._createButton(U.zoomOutText,U.zoomOutTitle,p+"-out",y,this._zoomOut),this._updateDisabled(),A.on("zoomend zoomlevelschange",this._updateDisabled,this),y},onRemove:function(A){A.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(A){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(A.shiftKey?3:1))},_zoomOut:function(A){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(A.shiftKey?3:1))},_createButton:function(A,p,y,U,H){var he=kt("a",y,U);return he.innerHTML=A,he.href="#",he.title=p,he.setAttribute("role","button"),he.setAttribute("aria-label",p),Ga(he),Kt(he,"click",Gs),Kt(he,"click",H,this),Kt(he,"click",this._refocusOnMap,this),he},_updateDisabled:function(){var A=this._map,p="leaflet-disabled";Dn(this._zoomInButton,p),Dn(this._zoomOutButton,p),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||A._zoom===A.getMinZoom())&&(Cn(this._zoomOutButton,p),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||A._zoom===A.getMaxZoom())&&(Cn(this._zoomInButton,p),this._zoomInButton.setAttribute("aria-disabled","true"))}});xr.mergeOptions({zoomControl:!0}),xr.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new ls,this.addControl(this.zoomControl))});var Us=function(A){return new ls(A)},Io=aa.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(A){var p="leaflet-control-scale",y=kt("div",p),U=this.options;return this._addScales(U,p+"-line",y),A.on(U.updateWhenIdle?"moveend":"move",this._update,this),A.whenReady(this._update,this),y},onRemove:function(A){A.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(A,p,y){A.metric&&(this._mScale=kt("div",p,y)),A.imperial&&(this._iScale=kt("div",p,y))},_update:function(){var A=this._map,p=A.getSize().y/2,y=A.distance(A.containerPointToLatLng([0,p]),A.containerPointToLatLng([this.options.maxWidth,p]));this._updateScales(y)},_updateScales:function(A){this.options.metric&&A&&this._updateMetric(A),this.options.imperial&&A&&this._updateImperial(A)},_updateMetric:function(A){var p=this._getRoundNum(A),y=p<1e3?p+" m":p/1e3+" km";this._updateScale(this._mScale,y,p/A)},_updateImperial:function(A){var p=A*3.2808399,y,U,H;p>5280?(y=p/5280,U=this._getRoundNum(y),this._updateScale(this._iScale,U+" mi",U/y)):(H=this._getRoundNum(p),this._updateScale(this._iScale,H+" ft",H/p))},_updateScale:function(A,p,y){A.style.width=Math.round(this.options.maxWidth*y)+"px",A.innerHTML=p},_getRoundNum:function(A){var p=Math.pow(10,(Math.floor(A)+"").length-1),y=A/p;return y=y>=10?10:y>=5?5:y>=3?3:y>=2?2:1,p*y}}),co=function(A){return new Io(A)},Kl='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',k=aa.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(st.inlineSvg?Kl+" ":"")+"Leaflet</a>"},initialize:function(A){j(this,A),this._attributions={}},onAdd:function(A){A.attributionControl=this,this._container=kt("div","leaflet-control-attribution"),Ga(this._container);for(var p in A._layers)A._layers[p].getAttribution&&this.addAttribution(A._layers[p].getAttribution());return this._update(),A.on("layeradd",this._addAttribution,this),this._container},onRemove:function(A){A.off("layeradd",this._addAttribution,this)},_addAttribution:function(A){A.layer.getAttribution&&(this.addAttribution(A.layer.getAttribution()),A.layer.once("remove",function(){this.removeAttribution(A.layer.getAttribution())},this))},setPrefix:function(A){return this.options.prefix=A,this._update(),this},addAttribution:function(A){return A?(this._attributions[A]||(this._attributions[A]=0),this._attributions[A]++,this._update(),this):this},removeAttribution:function(A){return A?(this._attributions[A]&&(this._attributions[A]--,this._update()),this):this},_update:function(){if(this._map){var A=[];for(var p in this._attributions)this._attributions[p]&&A.push(p);var y=[];this.options.prefix&&y.push(this.options.prefix),A.length&&y.push(A.join(", ")),this._container.innerHTML=y.join(' <span aria-hidden="true">|</span> ')}}});xr.mergeOptions({attributionControl:!0}),xr.addInitHook(function(){this.options.attributionControl&&new k().addTo(this)});var ee=function(A){return new k(A)};aa.Layers=Ao,aa.Zoom=ls,aa.Scale=Io,aa.Attribution=k,$a.layers=cl,$a.zoom=Us,$a.scale=co,$a.attribution=ee;var Be=me.extend({initialize:function(A){this._map=A},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Be.addTo=function(A,p){return A.addHandler(p,this),this};var De={Events:se},We=st.touch?"touchstart mousedown":"mousedown",ft=_e.extend({options:{clickTolerance:3},initialize:function(A,p,y,U){j(this,U),this._element=A,this._dragStartTarget=p||A,this._preventOutline=y},enable:function(){this._enabled||(Kt(this._dragStartTarget,We,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ft._dragging===this&&this.finishDrag(!0),Mr(this._dragStartTarget,We,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(A){if(this._enabled&&(this._moved=!1,!Qi(this._element,"leaflet-zoom-anim"))){if(A.touches&&A.touches.length!==1){ft._dragging===this&&this.finishDrag();return}if(!(ft._dragging||A.shiftKey||A.which!==1&&A.button!==1&&!A.touches)&&(ft._dragging=this,this._preventOutline&&Ei(this._element),ll(),lo(),!this._moving)){this.fire("down");var p=A.touches?A.touches[0]:A,y=Ks(this._element);this._startPoint=new Z(p.clientX,p.clientY),this._startPos=za(this._element),this._parentScale=di(y);var U=A.type==="mousedown";Kt(document,U?"mousemove":"touchmove",this._onMove,this),Kt(document,U?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(A){if(this._enabled){if(A.touches&&A.touches.length>1){this._moved=!0;return}var p=A.touches&&A.touches.length===1?A.touches[0]:A,y=new Z(p.clientX,p.clientY)._subtract(this._startPoint);!y.x&&!y.y||Math.abs(y.x)+Math.abs(y.y)<this.options.clickTolerance||(y.x/=this._parentScale.x,y.y/=this._parentScale.y,ni(A),this._moved||(this.fire("dragstart"),this._moved=!0,Cn(document.body,"leaflet-dragging"),this._lastTarget=A.target||A.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Cn(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(y),this._moving=!0,this._lastEvent=A,this._updatePosition())}},_updatePosition:function(){var A={originalEvent:this._lastEvent};this.fire("predrag",A),dr(this._element,this._newPos),this.fire("drag",A)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(A){Dn(document.body,"leaflet-dragging"),this._lastTarget&&(Dn(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Mr(document,"mousemove touchmove",this._onMove,this),Mr(document,"mouseup touchend touchcancel",this._onUp,this),ra(),er();var p=this._moved&&this._moving;this._moving=!1,ft._dragging=!1,p&&this.fire("dragend",{noInertia:A,distance:this._newPos.distanceTo(this._startPos)})}});function Ft(A,p,y){var U,H=[1,4,2,8],he,Te,et,ut,Ut,an,Un,Cr;for(he=0,an=A.length;he<an;he++)A[he]._code=ha(A[he],p);for(et=0;et<4;et++){for(Un=H[et],U=[],he=0,an=A.length,Te=an-1;he<an;Te=he++)ut=A[he],Ut=A[Te],ut._code&Un?Ut._code&Un||(Cr=As(Ut,ut,Un,p,y),Cr._code=ha(Cr,p),U.push(Cr)):(Ut._code&Un&&(Cr=As(Ut,ut,Un,p,y),Cr._code=ha(Cr,p),U.push(Cr)),U.push(ut));A=U}return A}function pn(A,p){var y,U,H,he,Te,et,ut,Ut,an;if(!A||A.length===0)throw new Error("latlngs not passed");Ji(A)||(console.warn("latlngs are not flat! Only the first ring will be used"),A=A[0]);var Un=ue([0,0]),Cr=O(A),Ja=Cr.getNorthWest().distanceTo(Cr.getSouthWest())*Cr.getNorthEast().distanceTo(Cr.getNorthWest());Ja<1700&&(Un=xn(A));var oa=A.length,Ws=[];for(y=0;y<oa;y++){var ri=ue(A[y]);Ws.push(p.project(ue([ri.lat-Un.lat,ri.lng-Un.lng])))}for(et=ut=Ut=0,y=0,U=oa-1;y<oa;U=y++)H=Ws[y],he=Ws[U],Te=H.y*he.x-he.y*H.x,ut+=(H.x+he.x)*Te,Ut+=(H.y+he.y)*Te,et+=Te*3;et===0?an=Ws[0]:an=[ut/et,Ut/et];var ii=p.unproject(Se(an));return ue([ii.lat+Un.lat,ii.lng+Un.lng])}function xn(A){for(var p=0,y=0,U=0,H=0;H<A.length;H++){var he=ue(A[H]);p+=he.lat,y+=he.lng,U++}return ue([p/U,y/U])}var Gn={__proto__:null,clipPolygon:Ft,polygonCenter:pn,centroid:xn};function sr(A,p){if(!p||!A.length)return A.slice();var y=p*p;return A=Ki(A,y),A=Si(A,y),A}function Ur(A,p,y){return Math.sqrt(Zs(A,p,y,!0))}function hi(A,p,y){return Zs(A,p,y)}function Si(A,p){var y=A.length,U=typeof Uint8Array<"u"?Uint8Array:Array,H=new U(y);H[0]=H[y-1]=1,Tr(A,H,p,0,y-1);var he,Te=[];for(he=0;he<y;he++)H[he]&&Te.push(A[he]);return Te}function Tr(A,p,y,U,H){var he=0,Te,et,ut;for(et=U+1;et<=H-1;et++)ut=Zs(A[et],A[U],A[H],!0),ut>he&&(Te=et,he=ut);he>y&&(p[Te]=1,Tr(A,p,y,U,Te),Tr(A,p,y,Te,H))}function Ki(A,p){for(var y=[A[0]],U=1,H=0,he=A.length;U<he;U++)No(A[U],A[H])>p&&(y.push(A[U]),H=U);return H<he-1&&y.push(A[he-1]),y}var Li;function Gi(A,p,y,U,H){var he=U?Li:ha(A,y),Te=ha(p,y),et,ut,Ut;for(Li=Te;;){if(!(he|Te))return[A,p];if(he&Te)return!1;et=he||Te,ut=As(A,p,et,y,H),Ut=ha(ut,y),et===he?(A=ut,he=Ut):(p=ut,Te=Ut)}}function As(A,p,y,U,H){var he=p.x-A.x,Te=p.y-A.y,et=U.min,ut=U.max,Ut,an;return y&8?(Ut=A.x+he*(ut.y-A.y)/Te,an=ut.y):y&4?(Ut=A.x+he*(et.y-A.y)/Te,an=et.y):y&2?(Ut=ut.x,an=A.y+Te*(ut.x-A.x)/he):y&1&&(Ut=et.x,an=A.y+Te*(et.x-A.x)/he),new Z(Ut,an,H)}function ha(A,p){var y=0;return A.x<p.min.x?y|=1:A.x>p.max.x&&(y|=2),A.y<p.min.y?y|=4:A.y>p.max.y&&(y|=8),y}function No(A,p){var y=p.x-A.x,U=p.y-A.y;return y*y+U*U}function Zs(A,p,y,U){var H=p.x,he=p.y,Te=y.x-H,et=y.y-he,ut=Te*Te+et*et,Ut;return ut>0&&(Ut=((A.x-H)*Te+(A.y-he)*et)/ut,Ut>1?(H=y.x,he=y.y):Ut>0&&(H+=Te*Ut,he+=et*Ut)),Te=A.x-H,et=A.y-he,U?Te*Te+et*et:new Z(H,he)}function Ji(A){return!D(A[0])||typeof A[0][0]!="object"&&typeof A[0][0]<"u"}function $s(A){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Ji(A)}function cs(A,p){var y,U,H,he,Te,et,ut,Ut;if(!A||A.length===0)throw new Error("latlngs not passed");Ji(A)||(console.warn("latlngs are not flat! Only the first ring will be used"),A=A[0]);var an=ue([0,0]),Un=O(A),Cr=Un.getNorthWest().distanceTo(Un.getSouthWest())*Un.getNorthEast().distanceTo(Un.getNorthWest());Cr<1700&&(an=xn(A));var Ja=A.length,oa=[];for(y=0;y<Ja;y++){var Ws=ue(A[y]);oa.push(p.project(ue([Ws.lat-an.lat,Ws.lng-an.lng])))}for(y=0,U=0;y<Ja-1;y++)U+=oa[y].distanceTo(oa[y+1])/2;if(U===0)Ut=oa[0];else for(y=0,he=0;y<Ja-1;y++)if(Te=oa[y],et=oa[y+1],H=Te.distanceTo(et),he+=H,he>U){ut=(he-U)/H,Ut=[et.x-ut*(et.x-Te.x),et.y-ut*(et.y-Te.y)];break}var ri=p.unproject(Se(Ut));return ue([ri.lat+an.lat,ri.lng+an.lng])}var Eo={__proto__:null,simplify:sr,pointToSegmentDistance:Ur,closestPointOnSegment:hi,clipSegment:Gi,_getEdgeIntersection:As,_getBitCode:ha,_sqClosestPointOnSegment:Zs,isFlat:Ji,_flat:$s,polylineCenter:cs},Ys={project:function(A){return new Z(A.lng,A.lat)},unproject:function(A){return new ae(A.y,A.x)},bounds:new te([-180,-90],[180,90])},Vi={R:6378137,R_MINOR:6356752314245179e-9,bounds:new te([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(A){var p=Math.PI/180,y=this.R,U=A.lat*p,H=this.R_MINOR/y,he=Math.sqrt(1-H*H),Te=he*Math.sin(U),et=Math.tan(Math.PI/4-U/2)/Math.pow((1-Te)/(1+Te),he/2);return U=-y*Math.log(Math.max(et,1e-10)),new Z(A.lng*p*y,U)},unproject:function(A){for(var p=180/Math.PI,y=this.R,U=this.R_MINOR/y,H=Math.sqrt(1-U*U),he=Math.exp(-A.y/y),Te=Math.PI/2-2*Math.atan(he),et=0,ut=.1,Ut;et<15&&Math.abs(ut)>1e-7;et++)Ut=H*Math.sin(Te),Ut=Math.pow((1-Ut)/(1+Ut),H/2),ut=Math.PI/2-2*Math.atan(he*Ut)-Te,Te+=ut;return new ae(Te*p,A.x*p/y)}},To={__proto__:null,LonLat:Ys,Mercator:Vi,SphericalMercator:lt},So=i({},Ve,{code:"EPSG:3395",projection:Vi,transformation:(function(){var A=.5/(Math.PI*Vi.R);return Xe(A,.5,-A,.5)})()}),Fo=i({},Ve,{code:"EPSG:4326",projection:Ys,transformation:Xe(1/180,1,-1/180,.5)}),uo=i({},je,{projection:Ys,transformation:Xe(1,0,-1,0),scale:function(A){return Math.pow(2,A)},zoom:function(A){return Math.log(A)/Math.LN2},distance:function(A,p){var y=p.lng-A.lng,U=p.lat-A.lat;return Math.sqrt(y*y+U*U)},infinite:!0});je.Earth=Ve,je.EPSG3395=So,je.EPSG3857=$t,je.EPSG900913=on,je.EPSG4326=Fo,je.Simple=uo;var fi=_e.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(A){return A.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(A){return A&&A.removeLayer(this),this},getPane:function(A){return this._map.getPane(A?this.options[A]||A:this.options.pane)},addInteractiveTarget:function(A){return this._map._targets[h(A)]=this,this},removeInteractiveTarget:function(A){return delete this._map._targets[h(A)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(A){var p=A.target;if(p.hasLayer(this)){if(this._map=p,this._zoomAnimated=p._zoomAnimated,this.getEvents){var y=this.getEvents();p.on(y,this),this.once("remove",function(){p.off(y,this)},this)}this.onAdd(p),this.fire("add"),p.fire("layeradd",{layer:this})}}});xr.include({addLayer:function(A){if(!A._layerAdd)throw new Error("The provided object is not a Layer.");var p=h(A);return this._layers[p]?this:(this._layers[p]=A,A._mapToAdd=this,A.beforeAdd&&A.beforeAdd(this),this.whenReady(A._layerAdd,A),this)},removeLayer:function(A){var p=h(A);return this._layers[p]?(this._loaded&&A.onRemove(this),delete this._layers[p],this._loaded&&(this.fire("layerremove",{layer:A}),A.fire("remove")),A._map=A._mapToAdd=null,this):this},hasLayer:function(A){return h(A)in this._layers},eachLayer:function(A,p){for(var y in this._layers)A.call(p,this._layers[y]);return this},_addLayers:function(A){A=A?D(A)?A:[A]:[];for(var p=0,y=A.length;p<y;p++)this.addLayer(A[p])},_addZoomLimit:function(A){(!isNaN(A.options.maxZoom)||!isNaN(A.options.minZoom))&&(this._zoomBoundLayers[h(A)]=A,this._updateZoomLevels())},_removeZoomLimit:function(A){var p=h(A);this._zoomBoundLayers[p]&&(delete this._zoomBoundLayers[p],this._updateZoomLevels())},_updateZoomLevels:function(){var A=1/0,p=-1/0,y=this._getZoomSpan();for(var U in this._zoomBoundLayers){var H=this._zoomBoundLayers[U].options;A=H.minZoom===void 0?A:Math.min(A,H.minZoom),p=H.maxZoom===void 0?p:Math.max(p,H.maxZoom)}this._layersMaxZoom=p===-1/0?void 0:p,this._layersMinZoom=A===1/0?void 0:A,y!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Sa=fi.extend({initialize:function(A,p){j(this,p),this._layers={};var y,U;if(A)for(y=0,U=A.length;y<U;y++)this.addLayer(A[y])},addLayer:function(A){var p=this.getLayerId(A);return this._layers[p]=A,this._map&&this._map.addLayer(A),this},removeLayer:function(A){var p=A in this._layers?A:this.getLayerId(A);return this._map&&this._layers[p]&&this._map.removeLayer(this._layers[p]),delete this._layers[p],this},hasLayer:function(A){var p=typeof A=="number"?A:this.getLayerId(A);return p in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(A){var p=Array.prototype.slice.call(arguments,1),y,U;for(y in this._layers)U=this._layers[y],U[A]&&U[A].apply(U,p);return this},onAdd:function(A){this.eachLayer(A.addLayer,A)},onRemove:function(A){this.eachLayer(A.removeLayer,A)},eachLayer:function(A,p){for(var y in this._layers)A.call(p,this._layers[y]);return this},getLayer:function(A){return this._layers[A]},getLayers:function(){var A=[];return this.eachLayer(A.push,A),A},setZIndex:function(A){return this.invoke("setZIndex",A)},getLayerId:function(A){return h(A)}}),Yo=function(A,p){return new Sa(A,p)},us=Sa.extend({addLayer:function(A){return this.hasLayer(A)?this:(A.addEventParent(this),Sa.prototype.addLayer.call(this,A),this.fire("layeradd",{layer:A}))},removeLayer:function(A){return this.hasLayer(A)?(A in this._layers&&(A=this._layers[A]),A.removeEventParent(this),Sa.prototype.removeLayer.call(this,A),this.fire("layerremove",{layer:A})):this},setStyle:function(A){return this.invoke("setStyle",A)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var A=new ie;for(var p in this._layers){var y=this._layers[p];A.extend(y.getBounds?y.getBounds():y.getLatLng())}return A}}),_s=function(A,p){return new us(A,p)},La=me.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(A){j(this,A)},createIcon:function(A){return this._createIcon("icon",A)},createShadow:function(A){return this._createIcon("shadow",A)},_createIcon:function(A,p){var y=this._getIconUrl(A);if(!y){if(A==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var U=this._createImg(y,p&&p.tagName==="IMG"?p:null);return this._setIconStyles(U,A),(this.options.crossOrigin||this.options.crossOrigin==="")&&(U.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),U},_setIconStyles:function(A,p){var y=this.options,U=y[p+"Size"];typeof U=="number"&&(U=[U,U]);var H=Se(U),he=Se(p==="shadow"&&y.shadowAnchor||y.iconAnchor||H&&H.divideBy(2,!0));A.className="leaflet-marker-"+p+" "+(y.className||""),he&&(A.style.marginLeft=-he.x+"px",A.style.marginTop=-he.y+"px"),H&&(A.style.width=H.x+"px",A.style.height=H.y+"px")},_createImg:function(A,p){return p=p||document.createElement("img"),p.src=A,p},_getIconUrl:function(A){return st.retina&&this.options[A+"RetinaUrl"]||this.options[A+"Url"]}});function Lo(A){return new La(A)}var Is=La.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(A){return typeof Is.imagePath!="string"&&(Is.imagePath=this._detectIconPath()),(this.options.imagePath||Is.imagePath)+La.prototype._getIconUrl.call(this,A)},_stripUrl:function(A){var p=function(y,U,H){var he=U.exec(y);return he&&he[H]};return A=p(A,/^url\((['"])?(.+)\1\)$/,2),A&&p(A,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var A=kt("div","leaflet-default-icon-path",document.body),p=Xt(A,"background-image")||Xt(A,"backgroundImage");if(document.body.removeChild(A),p=this._stripUrl(p),p)return p;var y=document.querySelector('link[href$="leaflet.css"]');return y?y.href.substring(0,y.href.length-11-1):""}}),Wi=Be.extend({initialize:function(A){this._marker=A},addHooks:function(){var A=this._marker._icon;this._draggable||(this._draggable=new ft(A,A,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Cn(A,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Dn(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(A){var p=this._marker,y=p._map,U=this._marker.options.autoPanSpeed,H=this._marker.options.autoPanPadding,he=za(p._icon),Te=y.getPixelBounds(),et=y.getPixelOrigin(),ut=P(Te.min._subtract(et).add(H),Te.max._subtract(et).subtract(H));if(!ut.contains(he)){var Ut=Se((Math.max(ut.max.x,he.x)-ut.max.x)/(Te.max.x-ut.max.x)-(Math.min(ut.min.x,he.x)-ut.min.x)/(Te.min.x-ut.min.x),(Math.max(ut.max.y,he.y)-ut.max.y)/(Te.max.y-ut.max.y)-(Math.min(ut.min.y,he.y)-ut.min.y)/(Te.min.y-ut.min.y)).multiplyBy(U);y.panBy(Ut,{animate:!1}),this._draggable._newPos._add(Ut),this._draggable._startPos._add(Ut),dr(p._icon,this._draggable._newPos),this._onDrag(A),this._panRequest=V(this._adjustPan.bind(this,A))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(A){this._marker.options.autoPan&&(W(this._panRequest),this._panRequest=V(this._adjustPan.bind(this,A)))},_onDrag:function(A){var p=this._marker,y=p._shadow,U=za(p._icon),H=p._map.layerPointToLatLng(U);y&&dr(y,U),p._latlng=H,A.latlng=H,A.oldLatLng=this._oldLatLng,p.fire("move",A).fire("drag",A)},_onDragEnd:function(A){W(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",A)}}),Hr=fi.extend({options:{icon:new Is,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(A,p){j(this,p),this._latlng=ue(A)},onAdd:function(A){this._zoomAnimated=this._zoomAnimated&&A.options.markerZoomAnimation,this._zoomAnimated&&A.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(A){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&A.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(A){var p=this._latlng;return this._latlng=ue(A),this.update(),this.fire("move",{oldLatLng:p,latlng:this._latlng})},setZIndexOffset:function(A){return this.options.zIndexOffset=A,this.update()},getIcon:function(){return this.options.icon},setIcon:function(A){return this.options.icon=A,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var A=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(A)}return this},_initIcon:function(){var A=this.options,p="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),y=A.icon.createIcon(this._icon),U=!1;y!==this._icon&&(this._icon&&this._removeIcon(),U=!0,A.title&&(y.title=A.title),y.tagName==="IMG"&&(y.alt=A.alt||"")),Cn(y,p),A.keyboard&&(y.tabIndex="0",y.setAttribute("role","button")),this._icon=y,A.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Kt(y,"focus",this._panOnFocus,this);var H=A.icon.createShadow(this._shadow),he=!1;H!==this._shadow&&(this._removeShadow(),he=!0),H&&(Cn(H,p),H.alt=""),this._shadow=H,A.opacity<1&&this._updateOpacity(),U&&this.getPane().appendChild(this._icon),this._initInteraction(),H&&he&&this.getPane(A.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Mr(this._icon,"focus",this._panOnFocus,this),Pt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Pt(this._shadow),this._shadow=null},_setPos:function(A){this._icon&&dr(this._icon,A),this._shadow&&dr(this._shadow,A),this._zIndex=A.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(A){this._icon&&(this._icon.style.zIndex=this._zIndex+A)},_animateZoom:function(A){var p=this._map._latLngToNewLayerPoint(this._latlng,A.zoom,A.center).round();this._setPos(p)},_initInteraction:function(){if(this.options.interactive&&(Cn(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Wi)){var A=this.options.draggable;this.dragging&&(A=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Wi(this),A&&this.dragging.enable()}},setOpacity:function(A){return this.options.opacity=A,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var A=this.options.opacity;this._icon&&mr(this._icon,A),this._shadow&&mr(this._shadow,A)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var A=this._map;if(A){var p=this.options.icon.options,y=p.iconSize?Se(p.iconSize):Se(0,0),U=p.iconAnchor?Se(p.iconAnchor):Se(0,0);A.panInside(this._latlng,{paddingTopLeft:U,paddingBottomRight:y.subtract(U)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Ba(A,p){return new Hr(A,p)}var Or=fi.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(A){this._renderer=A.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(A){return j(this,A),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&A&&Object.prototype.hasOwnProperty.call(A,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ws=Or.extend({options:{fill:!0,radius:10},initialize:function(A,p){j(this,p),this._latlng=ue(A),this._radius=this.options.radius},setLatLng:function(A){var p=this._latlng;return this._latlng=ue(A),this.redraw(),this.fire("move",{oldLatLng:p,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(A){return this.options.radius=this._radius=A,this.redraw()},getRadius:function(){return this._radius},setStyle:function(A){var p=A&&A.radius||this._radius;return Or.prototype.setStyle.call(this,A),this.setRadius(p),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var A=this._radius,p=this._radiusY||A,y=this._clickTolerance(),U=[A+y,p+y];this._pxBounds=new te(this._point.subtract(U),this._point.add(U))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(A){return A.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Ts(A,p){return new ws(A,p)}var Fs=ws.extend({initialize:function(A,p,y){if(typeof p=="number"&&(p=i({},y,{radius:p})),j(this,p),this._latlng=ue(A),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(A){return this._mRadius=A,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var A=[this._radius,this._radiusY||this._radius];return new ie(this._map.layerPointToLatLng(this._point.subtract(A)),this._map.layerPointToLatLng(this._point.add(A)))},setStyle:Or.prototype.setStyle,_project:function(){var A=this._latlng.lng,p=this._latlng.lat,y=this._map,U=y.options.crs;if(U.distance===Ve.distance){var H=Math.PI/180,he=this._mRadius/Ve.R/H,Te=y.project([p+he,A]),et=y.project([p-he,A]),ut=Te.add(et).divideBy(2),Ut=y.unproject(ut).lat,an=Math.acos((Math.cos(he*H)-Math.sin(p*H)*Math.sin(Ut*H))/(Math.cos(p*H)*Math.cos(Ut*H)))/H;(isNaN(an)||an===0)&&(an=he/Math.cos(Math.PI/180*p)),this._point=ut.subtract(y.getPixelOrigin()),this._radius=isNaN(an)?0:ut.x-y.project([Ut,A-an]).x,this._radiusY=ut.y-Te.y}else{var Un=U.unproject(U.project(this._latlng).subtract([this._mRadius,0]));this._point=y.latLngToLayerPoint(this._latlng),this._radius=this._point.x-y.latLngToLayerPoint(Un).x}this._updateBounds()}});function Os(A,p,y){return new Fs(A,p,y)}var ja=Or.extend({options:{smoothFactor:1,noClip:!1},initialize:function(A,p){j(this,p),this._setLatLngs(A)},getLatLngs:function(){return this._latlngs},setLatLngs:function(A){return this._setLatLngs(A),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(A){for(var p=1/0,y=null,U=Zs,H,he,Te=0,et=this._parts.length;Te<et;Te++)for(var ut=this._parts[Te],Ut=1,an=ut.length;Ut<an;Ut++){H=ut[Ut-1],he=ut[Ut];var Un=U(A,H,he,!0);Un<p&&(p=Un,y=U(A,H,he))}return y&&(y.distance=Math.sqrt(p)),y},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return cs(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(A,p){return p=p||this._defaultShape(),A=ue(A),p.push(A),this._bounds.extend(A),this.redraw()},_setLatLngs:function(A){this._bounds=new ie,this._latlngs=this._convertLatLngs(A)},_defaultShape:function(){return Ji(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(A){for(var p=[],y=Ji(A),U=0,H=A.length;U<H;U++)y?(p[U]=ue(A[U]),this._bounds.extend(p[U])):p[U]=this._convertLatLngs(A[U]);return p},_project:function(){var A=new te;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,A),this._bounds.isValid()&&A.isValid()&&(this._rawPxBounds=A,this._updateBounds())},_updateBounds:function(){var A=this._clickTolerance(),p=new Z(A,A);this._rawPxBounds&&(this._pxBounds=new te([this._rawPxBounds.min.subtract(p),this._rawPxBounds.max.add(p)]))},_projectLatlngs:function(A,p,y){var U=A[0]instanceof ae,H=A.length,he,Te;if(U){for(Te=[],he=0;he<H;he++)Te[he]=this._map.latLngToLayerPoint(A[he]),y.extend(Te[he]);p.push(Te)}else for(he=0;he<H;he++)this._projectLatlngs(A[he],p,y)},_clipPoints:function(){var A=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(A))){if(this.options.noClip){this._parts=this._rings;return}var p=this._parts,y,U,H,he,Te,et,ut;for(y=0,H=0,he=this._rings.length;y<he;y++)for(ut=this._rings[y],U=0,Te=ut.length;U<Te-1;U++)et=Gi(ut[U],ut[U+1],A,U,!0),et&&(p[H]=p[H]||[],p[H].push(et[0]),(et[1]!==ut[U+1]||U===Te-2)&&(p[H].push(et[1]),H++))}},_simplifyPoints:function(){for(var A=this._parts,p=this.options.smoothFactor,y=0,U=A.length;y<U;y++)A[y]=sr(A[y],p)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(A,p){var y,U,H,he,Te,et,ut=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(A))return!1;for(y=0,he=this._parts.length;y<he;y++)for(et=this._parts[y],U=0,Te=et.length,H=Te-1;U<Te;H=U++)if(!(!p&&U===0)&&Ur(A,et[H],et[U])<=ut)return!0;return!1}});function pi(A,p){return new ja(A,p)}ja._flat=$s;var ka=ja.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return pn(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(A){var p=ja.prototype._convertLatLngs.call(this,A),y=p.length;return y>=2&&p[0]instanceof ae&&p[0].equals(p[y-1])&&p.pop(),p},_setLatLngs:function(A){ja.prototype._setLatLngs.call(this,A),Ji(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Ji(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var A=this._renderer._bounds,p=this.options.weight,y=new Z(p,p);if(A=new te(A.min.subtract(y),A.max.add(y)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(A))){if(this.options.noClip){this._parts=this._rings;return}for(var U=0,H=this._rings.length,he;U<H;U++)he=Ft(this._rings[U],A,!0),he.length&&this._parts.push(he)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(A){var p=!1,y,U,H,he,Te,et,ut,Ut;if(!this._pxBounds||!this._pxBounds.contains(A))return!1;for(he=0,ut=this._parts.length;he<ut;he++)for(y=this._parts[he],Te=0,Ut=y.length,et=Ut-1;Te<Ut;et=Te++)U=y[Te],H=y[et],U.y>A.y!=H.y>A.y&&A.x<(H.x-U.x)*(A.y-U.y)/(H.y-U.y)+U.x&&(p=!p);return p||ja.prototype._containsPoint.call(this,A,!0)}});function Xs(A,p){return new ka(A,p)}var b=us.extend({initialize:function(A,p){j(this,p),this._layers={},A&&this.addData(A)},addData:function(A){var p=D(A)?A:A.features,y,U,H;if(p){for(y=0,U=p.length;y<U;y++)H=p[y],(H.geometries||H.geometry||H.features||H.coordinates)&&this.addData(H);return this}var he=this.options;if(he.filter&&!he.filter(A))return this;var Te=C(A,he);return Te?(Te.feature=Ke(A),Te.defaultOptions=Te.options,this.resetStyle(Te),he.onEachFeature&&he.onEachFeature(A,Te),this.addLayer(Te)):this},resetStyle:function(A){return A===void 0?this.eachLayer(this.resetStyle,this):(A.options=i({},A.defaultOptions),this._setLayerStyle(A,this.options.style),this)},setStyle:function(A){return this.eachLayer(function(p){this._setLayerStyle(p,A)},this)},_setLayerStyle:function(A,p){A.setStyle&&(typeof p=="function"&&(p=p(A.feature)),A.setStyle(p))}});function C(A,p){var y=A.type==="Feature"?A.geometry:A,U=y?y.coordinates:null,H=[],he=p&&p.pointToLayer,Te=p&&p.coordsToLatLng||q,et,ut,Ut,an;if(!U&&!y)return null;switch(y.type){case"Point":return et=Te(U),Q(he,A,et,p);case"MultiPoint":for(Ut=0,an=U.length;Ut<an;Ut++)et=Te(U[Ut]),H.push(Q(he,A,et,p));return new us(H);case"LineString":case"MultiLineString":return ut=J(U,y.type==="LineString"?0:1,Te),new ja(ut,p);case"Polygon":case"MultiPolygon":return ut=J(U,y.type==="Polygon"?1:2,Te),new ka(ut,p);case"GeometryCollection":for(Ut=0,an=y.geometries.length;Ut<an;Ut++){var Un=C({geometry:y.geometries[Ut],type:"Feature",properties:A.properties},p);Un&&H.push(Un)}return new us(H);case"FeatureCollection":for(Ut=0,an=y.features.length;Ut<an;Ut++){var Cr=C(y.features[Ut],p);Cr&&H.push(Cr)}return new us(H);default:throw new Error("Invalid GeoJSON object.")}}function Q(A,p,y,U){return A?A(p,y):new Hr(y,U&&U.markersInheritOptions&&U)}function q(A){return new ae(A[1],A[0],A[2])}function J(A,p,y){for(var U=[],H=0,he=A.length,Te;H<he;H++)Te=p?J(A[H],p-1,y):(y||q)(A[H]),U.push(Te);return U}function Ae(A,p){return A=ue(A),A.alt!==void 0?[E(A.lng,p),E(A.lat,p),E(A.alt,p)]:[E(A.lng,p),E(A.lat,p)]}function we(A,p,y,U){for(var H=[],he=0,Te=A.length;he<Te;he++)H.push(p?we(A[he],Ji(A[he])?0:p-1,y,U):Ae(A[he],U));return!p&&y&&H.length>0&&H.push(H[0].slice()),H}function Ue(A,p){return A.feature?i({},A.feature,{geometry:p}):Ke(p)}function Ke(A){return A.type==="Feature"||A.type==="FeatureCollection"?A:{type:"Feature",properties:{},geometry:A}}var Me={toGeoJSON:function(A){return Ue(this,{type:"Point",coordinates:Ae(this.getLatLng(),A)})}};Hr.include(Me),Fs.include(Me),ws.include(Me),ja.include({toGeoJSON:function(A){var p=!Ji(this._latlngs),y=we(this._latlngs,p?1:0,!1,A);return Ue(this,{type:(p?"Multi":"")+"LineString",coordinates:y})}}),ka.include({toGeoJSON:function(A){var p=!Ji(this._latlngs),y=p&&!Ji(this._latlngs[0]),U=we(this._latlngs,y?2:p?1:0,!0,A);return p||(U=[U]),Ue(this,{type:(y?"Multi":"")+"Polygon",coordinates:U})}}),Sa.include({toMultiPoint:function(A){var p=[];return this.eachLayer(function(y){p.push(y.toGeoJSON(A).geometry.coordinates)}),Ue(this,{type:"MultiPoint",coordinates:p})},toGeoJSON:function(A){var p=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(p==="MultiPoint")return this.toMultiPoint(A);var y=p==="GeometryCollection",U=[];return this.eachLayer(function(H){if(H.toGeoJSON){var he=H.toGeoJSON(A);if(y)U.push(he.geometry);else{var Te=Ke(he);Te.type==="FeatureCollection"?U.push.apply(U,Te.features):U.push(Te)}}}),y?Ue(this,{geometries:U,type:"GeometryCollection"}):{type:"FeatureCollection",features:U}}});function Je(A,p){return new b(A,p)}var Oe=Je,Re=fi.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(A,p,y){this._url=A,this._bounds=O(p),j(this,y)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Cn(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Pt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(A){return this.options.opacity=A,this._image&&this._updateOpacity(),this},setStyle:function(A){return A.opacity&&this.setOpacity(A.opacity),this},bringToFront:function(){return this._map&&Jt(this._image),this},bringToBack:function(){return this._map&&Pr(this._image),this},setUrl:function(A){return this._url=A,this._image&&(this._image.src=A),this},setBounds:function(A){return this._bounds=O(A),this._map&&this._reset(),this},getEvents:function(){var A={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(A.zoomanim=this._animateZoom),A},setZIndex:function(A){return this.options.zIndex=A,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var A=this._url.tagName==="IMG",p=this._image=A?this._url:kt("img");if(Cn(p,"leaflet-image-layer"),this._zoomAnimated&&Cn(p,"leaflet-zoom-animated"),this.options.className&&Cn(p,this.options.className),p.onselectstart=x,p.onmousemove=x,p.onload=c(this.fire,this,"load"),p.onerror=c(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),A){this._url=p.src;return}p.src=this._url,p.alt=this.options.alt},_animateZoom:function(A){var p=this._map.getZoomScale(A.zoom),y=this._map._latLngBoundsToNewLayerBounds(this._bounds,A.zoom,A.center).min;ui(this._image,y,p)},_reset:function(){var A=this._image,p=new te(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),y=p.getSize();dr(A,p.min),A.style.width=y.x+"px",A.style.height=y.y+"px"},_updateOpacity:function(){mr(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var A=this.options.errorOverlayUrl;A&&this._url!==A&&(this._url=A,this._image.src=A)},getCenter:function(){return this._bounds.getCenter()}}),Pe=function(A,p,y){return new Re(A,p,y)},He=Re.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var A=this._url.tagName==="VIDEO",p=this._image=A?this._url:kt("video");if(Cn(p,"leaflet-image-layer"),this._zoomAnimated&&Cn(p,"leaflet-zoom-animated"),this.options.className&&Cn(p,this.options.className),p.onselectstart=x,p.onmousemove=x,p.onloadeddata=c(this.fire,this,"load"),A){for(var y=p.getElementsByTagName("source"),U=[],H=0;H<y.length;H++)U.push(y[H].src);this._url=y.length>0?U:[p.src];return}D(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(p.style,"objectFit")&&(p.style.objectFit="fill"),p.autoplay=!!this.options.autoplay,p.loop=!!this.options.loop,p.muted=!!this.options.muted,p.playsInline=!!this.options.playsInline;for(var he=0;he<this._url.length;he++){var Te=kt("source");Te.src=this._url[he],p.appendChild(Te)}}});function $e(A,p,y){return new He(A,p,y)}var qe=Re.extend({_initImage:function(){var A=this._image=this._url;Cn(A,"leaflet-image-layer"),this._zoomAnimated&&Cn(A,"leaflet-zoom-animated"),this.options.className&&Cn(A,this.options.className),A.onselectstart=x,A.onmousemove=x}});function at(A,p,y){return new qe(A,p,y)}var nt=fi.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(A,p){A&&(A instanceof ae||D(A))?(this._latlng=ue(A),j(this,p)):(j(this,A),this._source=p),this.options.content&&(this._content=this.options.content)},openOn:function(A){return A=arguments.length?A:this._source._map,A.hasLayer(this)||A.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(A){return this._map?this.close():(arguments.length?this._source=A:A=this._source,this._prepareOpen(),this.openOn(A._map)),this},onAdd:function(A){this._zoomAnimated=A._zoomAnimated,this._container||this._initLayout(),A._fadeAnimated&&mr(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),A._fadeAnimated&&mr(this._container,1),this.bringToFront(),this.options.interactive&&(Cn(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(A){A._fadeAnimated?(mr(this._container,0),this._removeTimeout=setTimeout(c(Pt,void 0,this._container),200)):Pt(this._container),this.options.interactive&&(Dn(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(A){return this._latlng=ue(A),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(A){return this._content=A,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var A={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(A.zoomanim=this._animateZoom),A},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Jt(this._container),this},bringToBack:function(){return this._map&&Pr(this._container),this},_prepareOpen:function(A){var p=this._source;if(!p._map)return!1;if(p instanceof us){p=null;var y=this._source._layers;for(var U in y)if(y[U]._map){p=y[U];break}if(!p)return!1;this._source=p}if(!A)if(p.getCenter)A=p.getCenter();else if(p.getLatLng)A=p.getLatLng();else if(p.getBounds)A=p.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(A),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var A=this._contentNode,p=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof p=="string")A.innerHTML=p;else{for(;A.hasChildNodes();)A.removeChild(A.firstChild);A.appendChild(p)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var A=this._map.latLngToLayerPoint(this._latlng),p=Se(this.options.offset),y=this._getAnchor();this._zoomAnimated?dr(this._container,A.add(y)):p=p.add(A).add(y);var U=this._containerBottom=-p.y,H=this._containerLeft=-Math.round(this._containerWidth/2)+p.x;this._container.style.bottom=U+"px",this._container.style.left=H+"px"}},_getAnchor:function(){return[0,0]}});xr.include({_initOverlay:function(A,p,y,U){var H=p;return H instanceof A||(H=new A(U).setContent(p)),y&&H.setLatLng(y),H}}),fi.include({_initOverlay:function(A,p,y,U){var H=y;return H instanceof A?(j(H,U),H._source=this):(H=p&&!U?p:new A(U,this),H.setContent(y)),H}});var pt=nt.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(A){return A=arguments.length?A:this._source._map,!A.hasLayer(this)&&A._popup&&A._popup.options.autoClose&&A.removeLayer(A._popup),A._popup=this,nt.prototype.openOn.call(this,A)},onAdd:function(A){nt.prototype.onAdd.call(this,A),A.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Or||this._source.on("preclick",os))},onRemove:function(A){nt.prototype.onRemove.call(this,A),A.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Or||this._source.off("preclick",os))},getEvents:function(){var A=nt.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(A.preclick=this.close),this.options.keepInView&&(A.moveend=this._adjustPan),A},_initLayout:function(){var A="leaflet-popup",p=this._container=kt("div",A+" "+(this.options.className||"")+" leaflet-zoom-animated"),y=this._wrapper=kt("div",A+"-content-wrapper",p);if(this._contentNode=kt("div",A+"-content",y),Ga(p),wa(this._contentNode),Kt(p,"contextmenu",os),this._tipContainer=kt("div",A+"-tip-container",p),this._tip=kt("div",A+"-tip",this._tipContainer),this.options.closeButton){var U=this._closeButton=kt("a",A+"-close-button",p);U.setAttribute("role","button"),U.setAttribute("aria-label","Close popup"),U.href="#close",U.innerHTML='<span aria-hidden="true">&#215;</span>',Kt(U,"click",function(H){ni(H),this.close()},this)}},_updateLayout:function(){var A=this._contentNode,p=A.style;p.width="",p.whiteSpace="nowrap";var y=A.offsetWidth;y=Math.min(y,this.options.maxWidth),y=Math.max(y,this.options.minWidth),p.width=y+1+"px",p.whiteSpace="",p.height="";var U=A.offsetHeight,H=this.options.maxHeight,he="leaflet-popup-scrolled";H&&U>H?(p.height=H+"px",Cn(A,he)):Dn(A,he),this._containerWidth=this._container.offsetWidth},_animateZoom:function(A){var p=this._map._latLngToNewLayerPoint(this._latlng,A.zoom,A.center),y=this._getAnchor();dr(this._container,p.add(y))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var A=this._map,p=parseInt(Xt(this._container,"marginBottom"),10)||0,y=this._container.offsetHeight+p,U=this._containerWidth,H=new Z(this._containerLeft,-y-this._containerBottom);H._add(za(this._container));var he=A.layerPointToContainerPoint(H),Te=Se(this.options.autoPanPadding),et=Se(this.options.autoPanPaddingTopLeft||Te),ut=Se(this.options.autoPanPaddingBottomRight||Te),Ut=A.getSize(),an=0,Un=0;he.x+U+ut.x>Ut.x&&(an=he.x+U-Ut.x+ut.x),he.x-an-et.x<0&&(an=he.x-et.x),he.y+y+ut.y>Ut.y&&(Un=he.y+y-Ut.y+ut.y),he.y-Un-et.y<0&&(Un=he.y-et.y),(an||Un)&&(this.options.keepInView&&(this._autopanning=!0),A.fire("autopanstart").panBy([an,Un]))}},_getAnchor:function(){return Se(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Bt=function(A,p){return new pt(A,p)};xr.mergeOptions({closePopupOnClick:!0}),xr.include({openPopup:function(A,p,y){return this._initOverlay(pt,A,p,y).openOn(this),this},closePopup:function(A){return A=arguments.length?A:this._popup,A&&A.close(),this}}),fi.include({bindPopup:function(A,p){return this._popup=this._initOverlay(pt,this._popup,A,p),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(A){return this._popup&&(this instanceof us||(this._popup._source=this),this._popup._prepareOpen(A||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(A){return this._popup&&this._popup.setContent(A),this},getPopup:function(){return this._popup},_openPopup:function(A){if(!(!this._popup||!this._map)){Gs(A);var p=A.layer||A.target;if(this._popup._source===p&&!(p instanceof Or)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(A.latlng);return}this._popup._source=p,this.openPopup(A.latlng)}},_movePopup:function(A){this._popup.setLatLng(A.latlng)},_onKeyPress:function(A){A.originalEvent.keyCode===13&&this._openPopup(A)}});var Tt=nt.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(A){nt.prototype.onAdd.call(this,A),this.setOpacity(this.options.opacity),A.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(A){nt.prototype.onRemove.call(this,A),A.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var A=nt.prototype.getEvents.call(this);return this.options.permanent||(A.preclick=this.close),A},_initLayout:function(){var A="leaflet-tooltip",p=A+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=kt("div",p),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+h(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(A){var p,y,U=this._map,H=this._container,he=U.latLngToContainerPoint(U.getCenter()),Te=U.layerPointToContainerPoint(A),et=this.options.direction,ut=H.offsetWidth,Ut=H.offsetHeight,an=Se(this.options.offset),Un=this._getAnchor();et==="top"?(p=ut/2,y=Ut):et==="bottom"?(p=ut/2,y=0):et==="center"?(p=ut/2,y=Ut/2):et==="right"?(p=0,y=Ut/2):et==="left"?(p=ut,y=Ut/2):Te.x<he.x?(et="right",p=0,y=Ut/2):(et="left",p=ut+(an.x+Un.x)*2,y=Ut/2),A=A.subtract(Se(p,y,!0)).add(an).add(Un),Dn(H,"leaflet-tooltip-right"),Dn(H,"leaflet-tooltip-left"),Dn(H,"leaflet-tooltip-top"),Dn(H,"leaflet-tooltip-bottom"),Cn(H,"leaflet-tooltip-"+et),dr(H,A)},_updatePosition:function(){var A=this._map.latLngToLayerPoint(this._latlng);this._setPosition(A)},setOpacity:function(A){this.options.opacity=A,this._container&&mr(this._container,A)},_animateZoom:function(A){var p=this._map._latLngToNewLayerPoint(this._latlng,A.zoom,A.center);this._setPosition(p)},_getAnchor:function(){return Se(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Wt=function(A,p){return new Tt(A,p)};xr.include({openTooltip:function(A,p,y){return this._initOverlay(Tt,A,p,y).openOn(this),this},closeTooltip:function(A){return A.close(),this}}),fi.include({bindTooltip:function(A,p){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Tt,this._tooltip,A,p),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(A){if(!(!A&&this._tooltipHandlersAdded)){var p=A?"off":"on",y={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?y.add=this._openTooltip:(y.mouseover=this._openTooltip,y.mouseout=this.closeTooltip,y.click=this._openTooltip,this._map?this._addFocusListeners():y.add=this._addFocusListeners),this._tooltip.options.sticky&&(y.mousemove=this._moveTooltip),this[p](y),this._tooltipHandlersAdded=!A}},openTooltip:function(A){return this._tooltip&&(this instanceof us||(this._tooltip._source=this),this._tooltip._prepareOpen(A)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(A){return this._tooltip&&this._tooltip.setContent(A),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(A){var p=typeof A.getElement=="function"&&A.getElement();p&&(Kt(p,"focus",function(){this._tooltip._source=A,this.openTooltip()},this),Kt(p,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(A){var p=typeof A.getElement=="function"&&A.getElement();p&&p.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(A){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var p=this;this._map.once("moveend",function(){p._openOnceFlag=!1,p._openTooltip(A)});return}this._tooltip._source=A.layer||A.target,this.openTooltip(this._tooltip.options.sticky?A.latlng:void 0)}},_moveTooltip:function(A){var p=A.latlng,y,U;this._tooltip.options.sticky&&A.originalEvent&&(y=this._map.mouseEventToContainerPoint(A.originalEvent),U=this._map.containerPointToLayerPoint(y),p=this._map.layerPointToLatLng(U)),this._tooltip.setLatLng(p)}});var zt=La.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(A){var p=A&&A.tagName==="DIV"?A:document.createElement("div"),y=this.options;if(y.html instanceof Element?(ir(p),p.appendChild(y.html)):p.innerHTML=y.html!==!1?y.html:"",y.bgPos){var U=Se(y.bgPos);p.style.backgroundPosition=-U.x+"px "+-U.y+"px"}return this._setIconStyles(p,"icon"),p},createShadow:function(){return null}});function An(A){return new zt(A)}La.Default=Is;var qt=fi.extend({options:{tileSize:256,opacity:1,updateWhenIdle:st.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(A){j(this,A)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(A){A._addZoomLimit(this)},onRemove:function(A){this._removeAllTiles(),Pt(this._container),A._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Jt(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Pr(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(A){return this.options.opacity=A,this._updateOpacity(),this},setZIndex:function(A){return this.options.zIndex=A,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var A=this._clampZoom(this._map.getZoom());A!==this._tileZoom&&(this._tileZoom=A,this._updateLevels()),this._update()}return this},getEvents:function(){var A={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=f(this._onMoveEnd,this.options.updateInterval,this)),A.move=this._onMove),this._zoomAnimated&&(A.zoomanim=this._animateZoom),A},createTile:function(){return document.createElement("div")},getTileSize:function(){var A=this.options.tileSize;return A instanceof Z?A:new Z(A,A)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(A){for(var p=this.getPane().children,y=-A(-1/0,1/0),U=0,H=p.length,he;U<H;U++)he=p[U].style.zIndex,p[U]!==this._container&&he&&(y=A(y,+he));isFinite(y)&&(this.options.zIndex=y+A(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!st.ielt9){mr(this._container,this.options.opacity);var A=+new Date,p=!1,y=!1;for(var U in this._tiles){var H=this._tiles[U];if(!(!H.current||!H.loaded)){var he=Math.min(1,(A-H.loaded)/200);mr(H.el,he),he<1?p=!0:(H.active?y=!0:this._onOpaqueTile(H),H.active=!0)}}y&&!this._noPrune&&this._pruneTiles(),p&&(W(this._fadeFrame),this._fadeFrame=V(this._updateOpacity,this))}},_onOpaqueTile:x,_initContainer:function(){this._container||(this._container=kt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var A=this._tileZoom,p=this.options.maxZoom;if(A!==void 0){for(var y in this._levels)y=Number(y),this._levels[y].el.children.length||y===A?(this._levels[y].el.style.zIndex=p-Math.abs(A-y),this._onUpdateLevel(y)):(Pt(this._levels[y].el),this._removeTilesAtZoom(y),this._onRemoveLevel(y),delete this._levels[y]);var U=this._levels[A],H=this._map;return U||(U=this._levels[A]={},U.el=kt("div","leaflet-tile-container leaflet-zoom-animated",this._container),U.el.style.zIndex=p,U.origin=H.project(H.unproject(H.getPixelOrigin()),A).round(),U.zoom=A,this._setZoomTransform(U,H.getCenter(),H.getZoom()),x(U.el.offsetWidth),this._onCreateLevel(U)),this._level=U,U}},_onUpdateLevel:x,_onRemoveLevel:x,_onCreateLevel:x,_pruneTiles:function(){if(this._map){var A,p,y=this._map.getZoom();if(y>this.options.maxZoom||y<this.options.minZoom){this._removeAllTiles();return}for(A in this._tiles)p=this._tiles[A],p.retain=p.current;for(A in this._tiles)if(p=this._tiles[A],p.current&&!p.active){var U=p.coords;this._retainParent(U.x,U.y,U.z,U.z-5)||this._retainChildren(U.x,U.y,U.z,U.z+2)}for(A in this._tiles)this._tiles[A].retain||this._removeTile(A)}},_removeTilesAtZoom:function(A){for(var p in this._tiles)this._tiles[p].coords.z===A&&this._removeTile(p)},_removeAllTiles:function(){for(var A in this._tiles)this._removeTile(A)},_invalidateAll:function(){for(var A in this._levels)Pt(this._levels[A].el),this._onRemoveLevel(Number(A)),delete this._levels[A];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(A,p,y,U){var H=Math.floor(A/2),he=Math.floor(p/2),Te=y-1,et=new Z(+H,+he);et.z=+Te;var ut=this._tileCoordsToKey(et),Ut=this._tiles[ut];return Ut&&Ut.active?(Ut.retain=!0,!0):(Ut&&Ut.loaded&&(Ut.retain=!0),Te>U?this._retainParent(H,he,Te,U):!1)},_retainChildren:function(A,p,y,U){for(var H=2*A;H<2*A+2;H++)for(var he=2*p;he<2*p+2;he++){var Te=new Z(H,he);Te.z=y+1;var et=this._tileCoordsToKey(Te),ut=this._tiles[et];if(ut&&ut.active){ut.retain=!0;continue}else ut&&ut.loaded&&(ut.retain=!0);y+1<U&&this._retainChildren(H,he,y+1,U)}},_resetView:function(A){var p=A&&(A.pinch||A.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),p,p)},_animateZoom:function(A){this._setView(A.center,A.zoom,!0,A.noUpdate)},_clampZoom:function(A){var p=this.options;return p.minNativeZoom!==void 0&&A<p.minNativeZoom?p.minNativeZoom:p.maxNativeZoom!==void 0&&p.maxNativeZoom<A?p.maxNativeZoom:A},_setView:function(A,p,y,U){var H=Math.round(p);this.options.maxZoom!==void 0&&H>this.options.maxZoom||this.options.minZoom!==void 0&&H<this.options.minZoom?H=void 0:H=this._clampZoom(H);var he=this.options.updateWhenZooming&&H!==this._tileZoom;(!U||he)&&(this._tileZoom=H,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),H!==void 0&&this._update(A),y||this._pruneTiles(),this._noPrune=!!y),this._setZoomTransforms(A,p)},_setZoomTransforms:function(A,p){for(var y in this._levels)this._setZoomTransform(this._levels[y],A,p)},_setZoomTransform:function(A,p,y){var U=this._map.getZoomScale(y,A.zoom),H=A.origin.multiplyBy(U).subtract(this._map._getNewPixelOrigin(p,y)).round();st.any3d?ui(A.el,H,U):dr(A.el,H)},_resetGrid:function(){var A=this._map,p=A.options.crs,y=this._tileSize=this.getTileSize(),U=this._tileZoom,H=this._map.getPixelWorldBounds(this._tileZoom);H&&(this._globalTileRange=this._pxBoundsToTileRange(H)),this._wrapX=p.wrapLng&&!this.options.noWrap&&[Math.floor(A.project([0,p.wrapLng[0]],U).x/y.x),Math.ceil(A.project([0,p.wrapLng[1]],U).x/y.y)],this._wrapY=p.wrapLat&&!this.options.noWrap&&[Math.floor(A.project([p.wrapLat[0],0],U).y/y.x),Math.ceil(A.project([p.wrapLat[1],0],U).y/y.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(A){var p=this._map,y=p._animatingZoom?Math.max(p._animateToZoom,p.getZoom()):p.getZoom(),U=p.getZoomScale(y,this._tileZoom),H=p.project(A,this._tileZoom).floor(),he=p.getSize().divideBy(U*2);return new te(H.subtract(he),H.add(he))},_update:function(A){var p=this._map;if(p){var y=this._clampZoom(p.getZoom());if(A===void 0&&(A=p.getCenter()),this._tileZoom!==void 0){var U=this._getTiledPixelBounds(A),H=this._pxBoundsToTileRange(U),he=H.getCenter(),Te=[],et=this.options.keepBuffer,ut=new te(H.getBottomLeft().subtract([et,-et]),H.getTopRight().add([et,-et]));if(!(isFinite(H.min.x)&&isFinite(H.min.y)&&isFinite(H.max.x)&&isFinite(H.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Ut in this._tiles){var an=this._tiles[Ut].coords;(an.z!==this._tileZoom||!ut.contains(new Z(an.x,an.y)))&&(this._tiles[Ut].current=!1)}if(Math.abs(y-this._tileZoom)>1){this._setView(A,y);return}for(var Un=H.min.y;Un<=H.max.y;Un++)for(var Cr=H.min.x;Cr<=H.max.x;Cr++){var Ja=new Z(Cr,Un);if(Ja.z=this._tileZoom,!!this._isValidTile(Ja)){var oa=this._tiles[this._tileCoordsToKey(Ja)];oa?oa.current=!0:Te.push(Ja)}}if(Te.sort(function(ri,ii){return ri.distanceTo(he)-ii.distanceTo(he)}),Te.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Ws=document.createDocumentFragment();for(Cr=0;Cr<Te.length;Cr++)this._addTile(Te[Cr],Ws);this._level.el.appendChild(Ws)}}}},_isValidTile:function(A){var p=this._map.options.crs;if(!p.infinite){var y=this._globalTileRange;if(!p.wrapLng&&(A.x<y.min.x||A.x>y.max.x)||!p.wrapLat&&(A.y<y.min.y||A.y>y.max.y))return!1}if(!this.options.bounds)return!0;var U=this._tileCoordsToBounds(A);return O(this.options.bounds).overlaps(U)},_keyToBounds:function(A){return this._tileCoordsToBounds(this._keyToTileCoords(A))},_tileCoordsToNwSe:function(A){var p=this._map,y=this.getTileSize(),U=A.scaleBy(y),H=U.add(y),he=p.unproject(U,A.z),Te=p.unproject(H,A.z);return[he,Te]},_tileCoordsToBounds:function(A){var p=this._tileCoordsToNwSe(A),y=new ie(p[0],p[1]);return this.options.noWrap||(y=this._map.wrapLatLngBounds(y)),y},_tileCoordsToKey:function(A){return A.x+":"+A.y+":"+A.z},_keyToTileCoords:function(A){var p=A.split(":"),y=new Z(+p[0],+p[1]);return y.z=+p[2],y},_removeTile:function(A){var p=this._tiles[A];p&&(Pt(p.el),delete this._tiles[A],this.fire("tileunload",{tile:p.el,coords:this._keyToTileCoords(A)}))},_initTile:function(A){Cn(A,"leaflet-tile");var p=this.getTileSize();A.style.width=p.x+"px",A.style.height=p.y+"px",A.onselectstart=x,A.onmousemove=x,st.ielt9&&this.options.opacity<1&&mr(A,this.options.opacity)},_addTile:function(A,p){var y=this._getTilePos(A),U=this._tileCoordsToKey(A),H=this.createTile(this._wrapCoords(A),c(this._tileReady,this,A));this._initTile(H),this.createTile.length<2&&V(c(this._tileReady,this,A,null,H)),dr(H,y),this._tiles[U]={el:H,coords:A,current:!0},p.appendChild(H),this.fire("tileloadstart",{tile:H,coords:A})},_tileReady:function(A,p,y){p&&this.fire("tileerror",{error:p,tile:y,coords:A});var U=this._tileCoordsToKey(A);y=this._tiles[U],y&&(y.loaded=+new Date,this._map._fadeAnimated?(mr(y.el,0),W(this._fadeFrame),this._fadeFrame=V(this._updateOpacity,this)):(y.active=!0,this._pruneTiles()),p||(Cn(y.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:y.el,coords:A})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),st.ielt9||!this._map._fadeAnimated?V(this._pruneTiles,this):setTimeout(c(this._pruneTiles,this),250)))},_getTilePos:function(A){return A.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(A){var p=new Z(this._wrapX?g(A.x,this._wrapX):A.x,this._wrapY?g(A.y,this._wrapY):A.y);return p.z=A.z,p},_pxBoundsToTileRange:function(A){var p=this.getTileSize();return new te(A.min.unscaleBy(p).floor(),A.max.unscaleBy(p).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var A in this._tiles)if(!this._tiles[A].loaded)return!1;return!0}});function Rn(A){return new qt(A)}var Sn=qt.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(A,p){this._url=A,p=j(this,p),p.detectRetina&&st.retina&&p.maxZoom>0?(p.tileSize=Math.floor(p.tileSize/2),p.zoomReverse?(p.zoomOffset--,p.minZoom=Math.min(p.maxZoom,p.minZoom+1)):(p.zoomOffset++,p.maxZoom=Math.max(p.minZoom,p.maxZoom-1)),p.minZoom=Math.max(0,p.minZoom)):p.zoomReverse?p.minZoom=Math.min(p.maxZoom,p.minZoom):p.maxZoom=Math.max(p.minZoom,p.maxZoom),typeof p.subdomains=="string"&&(p.subdomains=p.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(A,p){return this._url===A&&p===void 0&&(p=!0),this._url=A,p||this.redraw(),this},createTile:function(A,p){var y=document.createElement("img");return Kt(y,"load",c(this._tileOnLoad,this,p,y)),Kt(y,"error",c(this._tileOnError,this,p,y)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(y.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(y.referrerPolicy=this.options.referrerPolicy),y.alt="",y.src=this.getTileUrl(A),y},getTileUrl:function(A){var p={r:st.retina?"@2x":"",s:this._getSubdomain(A),x:A.x,y:A.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var y=this._globalTileRange.max.y-A.y;this.options.tms&&(p.y=y),p["-y"]=y}return z(this._url,i(p,this.options))},_tileOnLoad:function(A,p){st.ielt9?setTimeout(c(A,this,null,p),0):A(null,p)},_tileOnError:function(A,p,y){var U=this.options.errorTileUrl;U&&p.getAttribute("src")!==U&&(p.src=U),A(y,p)},_onTileRemove:function(A){A.tile.onload=null},_getZoomForUrl:function(){var A=this._tileZoom,p=this.options.maxZoom,y=this.options.zoomReverse,U=this.options.zoomOffset;return y&&(A=p-A),A+U},_getSubdomain:function(A){var p=Math.abs(A.x+A.y)%this.options.subdomains.length;return this.options.subdomains[p]},_abortLoading:function(){var A,p;for(A in this._tiles)if(this._tiles[A].coords.z!==this._tileZoom&&(p=this._tiles[A].el,p.onload=x,p.onerror=x,!p.complete)){p.src=ce;var y=this._tiles[A].coords;Pt(p),delete this._tiles[A],this.fire("tileabort",{tile:p,coords:y})}},_removeTile:function(A){var p=this._tiles[A];if(p)return p.el.setAttribute("src",ce),qt.prototype._removeTile.call(this,A)},_tileReady:function(A,p,y){if(!(!this._map||y&&y.getAttribute("src")===ce))return qt.prototype._tileReady.call(this,A,p,y)}});function hr(A,p){return new Sn(A,p)}var tr=Sn.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(A,p){this._url=A;var y=i({},this.defaultWmsParams);for(var U in p)U in this.options||(y[U]=p[U]);p=j(this,p);var H=p.detectRetina&&st.retina?2:1,he=this.getTileSize();y.width=he.x*H,y.height=he.y*H,this.wmsParams=y},onAdd:function(A){this._crs=this.options.crs||A.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var p=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[p]=this._crs.code,Sn.prototype.onAdd.call(this,A)},getTileUrl:function(A){var p=this._tileCoordsToNwSe(A),y=this._crs,U=P(y.project(p[0]),y.project(p[1])),H=U.min,he=U.max,Te=(this._wmsVersion>=1.3&&this._crs===Fo?[H.y,H.x,he.y,he.x]:[H.x,H.y,he.x,he.y]).join(","),et=Sn.prototype.getTileUrl.call(this,A);return et+F(this.wmsParams,et,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Te},setParams:function(A,p){return i(this.wmsParams,A),p||this.redraw(),this}});function br(A,p){return new tr(A,p)}Sn.WMS=tr,hr.wms=br;var li=fi.extend({options:{padding:.1},initialize:function(A){j(this,A),h(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Cn(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var A={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(A.zoomanim=this._onAnimZoom),A},_onAnimZoom:function(A){this._updateTransform(A.center,A.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(A,p){var y=this._map.getZoomScale(p,this._zoom),U=this._map.getSize().multiplyBy(.5+this.options.padding),H=this._map.project(this._center,p),he=U.multiplyBy(-y).add(H).subtract(this._map._getNewPixelOrigin(A,p));st.any3d?ui(this._container,he,y):dr(this._container,he)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var A in this._layers)this._layers[A]._reset()},_onZoomEnd:function(){for(var A in this._layers)this._layers[A]._project()},_updatePaths:function(){for(var A in this._layers)this._layers[A]._update()},_update:function(){var A=this.options.padding,p=this._map.getSize(),y=this._map.containerPointToLayerPoint(p.multiplyBy(-A)).round();this._bounds=new te(y,y.add(p.multiplyBy(1+A*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),nr=li.extend({options:{tolerance:0},getEvents:function(){var A=li.prototype.getEvents.call(this);return A.viewprereset=this._onViewPreReset,A},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){li.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var A=this._container=document.createElement("canvas");Kt(A,"mousemove",this._onMouseMove,this),Kt(A,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Kt(A,"mouseout",this._handleMouseOut,this),A._leaflet_disable_events=!0,this._ctx=A.getContext("2d")},_destroyContainer:function(){W(this._redrawRequest),delete this._ctx,Pt(this._container),Mr(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var A;this._redrawBounds=null;for(var p in this._layers)A=this._layers[p],A._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){li.prototype._update.call(this);var A=this._bounds,p=this._container,y=A.getSize(),U=st.retina?2:1;dr(p,A.min),p.width=U*y.x,p.height=U*y.y,p.style.width=y.x+"px",p.style.height=y.y+"px",st.retina&&this._ctx.scale(2,2),this._ctx.translate(-A.min.x,-A.min.y),this.fire("update")}},_reset:function(){li.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(A){this._updateDashArray(A),this._layers[h(A)]=A;var p=A._order={layer:A,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=p),this._drawLast=p,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(A){this._requestRedraw(A)},_removePath:function(A){var p=A._order,y=p.next,U=p.prev;y?y.prev=U:this._drawLast=U,U?U.next=y:this._drawFirst=y,delete A._order,delete this._layers[h(A)],this._requestRedraw(A)},_updatePath:function(A){this._extendRedrawBounds(A),A._project(),A._update(),this._requestRedraw(A)},_updateStyle:function(A){this._updateDashArray(A),this._requestRedraw(A)},_updateDashArray:function(A){if(typeof A.options.dashArray=="string"){var p=A.options.dashArray.split(/[, ]+/),y=[],U,H;for(H=0;H<p.length;H++){if(U=Number(p[H]),isNaN(U))return;y.push(U)}A.options._dashArray=y}else A.options._dashArray=A.options.dashArray},_requestRedraw:function(A){this._map&&(this._extendRedrawBounds(A),this._redrawRequest=this._redrawRequest||V(this._redraw,this))},_extendRedrawBounds:function(A){if(A._pxBounds){var p=(A.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new te,this._redrawBounds.extend(A._pxBounds.min.subtract([p,p])),this._redrawBounds.extend(A._pxBounds.max.add([p,p]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var A=this._redrawBounds;if(A){var p=A.getSize();this._ctx.clearRect(A.min.x,A.min.y,p.x,p.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var A,p=this._redrawBounds;if(this._ctx.save(),p){var y=p.getSize();this._ctx.beginPath(),this._ctx.rect(p.min.x,p.min.y,y.x,y.y),this._ctx.clip()}this._drawing=!0;for(var U=this._drawFirst;U;U=U.next)A=U.layer,(!p||A._pxBounds&&A._pxBounds.intersects(p))&&A._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(A,p){if(this._drawing){var y,U,H,he,Te=A._parts,et=Te.length,ut=this._ctx;if(et){for(ut.beginPath(),y=0;y<et;y++){for(U=0,H=Te[y].length;U<H;U++)he=Te[y][U],ut[U?"lineTo":"moveTo"](he.x,he.y);p&&ut.closePath()}this._fillStroke(ut,A)}}},_updateCircle:function(A){if(!(!this._drawing||A._empty())){var p=A._point,y=this._ctx,U=Math.max(Math.round(A._radius),1),H=(Math.max(Math.round(A._radiusY),1)||U)/U;H!==1&&(y.save(),y.scale(1,H)),y.beginPath(),y.arc(p.x,p.y/H,U,0,Math.PI*2,!1),H!==1&&y.restore(),this._fillStroke(y,A)}},_fillStroke:function(A,p){var y=p.options;y.fill&&(A.globalAlpha=y.fillOpacity,A.fillStyle=y.fillColor||y.color,A.fill(y.fillRule||"evenodd")),y.stroke&&y.weight!==0&&(A.setLineDash&&A.setLineDash(p.options&&p.options._dashArray||[]),A.globalAlpha=y.opacity,A.lineWidth=y.weight,A.strokeStyle=y.color,A.lineCap=y.lineCap,A.lineJoin=y.lineJoin,A.stroke())},_onClick:function(A){for(var p=this._map.mouseEventToLayerPoint(A),y,U,H=this._drawFirst;H;H=H.next)y=H.layer,y.options.interactive&&y._containsPoint(p)&&(!(A.type==="click"||A.type==="preclick")||!this._map._draggableMoved(y))&&(U=y);this._fireEvent(U?[U]:!1,A)},_onMouseMove:function(A){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var p=this._map.mouseEventToLayerPoint(A);this._handleMouseHover(A,p)}},_handleMouseOut:function(A){var p=this._hoveredLayer;p&&(Dn(this._container,"leaflet-interactive"),this._fireEvent([p],A,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(A,p){if(!this._mouseHoverThrottled){for(var y,U,H=this._drawFirst;H;H=H.next)y=H.layer,y.options.interactive&&y._containsPoint(p)&&(U=y);U!==this._hoveredLayer&&(this._handleMouseOut(A),U&&(Cn(this._container,"leaflet-interactive"),this._fireEvent([U],A,"mouseover"),this._hoveredLayer=U)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,A),this._mouseHoverThrottled=!0,setTimeout(c(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(A,p,y){this._map._fireDOMEvent(p,y||p.type,A)},_bringToFront:function(A){var p=A._order;if(p){var y=p.next,U=p.prev;if(y)y.prev=U;else return;U?U.next=y:y&&(this._drawFirst=y),p.prev=this._drawLast,this._drawLast.next=p,p.next=null,this._drawLast=p,this._requestRedraw(A)}},_bringToBack:function(A){var p=A._order;if(p){var y=p.next,U=p.prev;if(U)U.next=y;else return;y?y.prev=U:U&&(this._drawLast=U),p.prev=null,p.next=this._drawFirst,this._drawFirst.prev=p,this._drawFirst=p,this._requestRedraw(A)}}});function ds(A){return st.canvas?new nr(A):null}var Ci=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(A){return document.createElement("<lvml:"+A+' class="lvml">')}}catch{}return function(A){return document.createElement("<"+A+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Xo={_initContainer:function(){this._container=kt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(li.prototype._update.call(this),this.fire("update"))},_initPath:function(A){var p=A._container=Ci("shape");Cn(p,"leaflet-vml-shape "+(this.options.className||"")),p.coordsize="1 1",A._path=Ci("path"),p.appendChild(A._path),this._updateStyle(A),this._layers[h(A)]=A},_addPath:function(A){var p=A._container;this._container.appendChild(p),A.options.interactive&&A.addInteractiveTarget(p)},_removePath:function(A){var p=A._container;Pt(p),A.removeInteractiveTarget(p),delete this._layers[h(A)]},_updateStyle:function(A){var p=A._stroke,y=A._fill,U=A.options,H=A._container;H.stroked=!!U.stroke,H.filled=!!U.fill,U.stroke?(p||(p=A._stroke=Ci("stroke")),H.appendChild(p),p.weight=U.weight+"px",p.color=U.color,p.opacity=U.opacity,U.dashArray?p.dashStyle=D(U.dashArray)?U.dashArray.join(" "):U.dashArray.replace(/( *, *)/g," "):p.dashStyle="",p.endcap=U.lineCap.replace("butt","flat"),p.joinstyle=U.lineJoin):p&&(H.removeChild(p),A._stroke=null),U.fill?(y||(y=A._fill=Ci("fill")),H.appendChild(y),y.color=U.fillColor||U.color,y.opacity=U.fillOpacity):y&&(H.removeChild(y),A._fill=null)},_updateCircle:function(A){var p=A._point.round(),y=Math.round(A._radius),U=Math.round(A._radiusY||y);this._setPath(A,A._empty()?"M0 0":"AL "+p.x+","+p.y+" "+y+","+U+" 0,"+65535*360)},_setPath:function(A,p){A._path.v=p},_bringToFront:function(A){Jt(A._container)},_bringToBack:function(A){Pr(A._container)}},mi=st.vml?Ci:xe,Ya=li.extend({_initContainer:function(){this._container=mi("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=mi("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Pt(this._container),Mr(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){li.prototype._update.call(this);var A=this._bounds,p=A.getSize(),y=this._container;(!this._svgSize||!this._svgSize.equals(p))&&(this._svgSize=p,y.setAttribute("width",p.x),y.setAttribute("height",p.y)),dr(y,A.min),y.setAttribute("viewBox",[A.min.x,A.min.y,p.x,p.y].join(" ")),this.fire("update")}},_initPath:function(A){var p=A._path=mi("path");A.options.className&&Cn(p,A.options.className),A.options.interactive&&Cn(p,"leaflet-interactive"),this._updateStyle(A),this._layers[h(A)]=A},_addPath:function(A){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(A._path),A.addInteractiveTarget(A._path)},_removePath:function(A){Pt(A._path),A.removeInteractiveTarget(A._path),delete this._layers[h(A)]},_updatePath:function(A){A._project(),A._update()},_updateStyle:function(A){var p=A._path,y=A.options;p&&(y.stroke?(p.setAttribute("stroke",y.color),p.setAttribute("stroke-opacity",y.opacity),p.setAttribute("stroke-width",y.weight),p.setAttribute("stroke-linecap",y.lineCap),p.setAttribute("stroke-linejoin",y.lineJoin),y.dashArray?p.setAttribute("stroke-dasharray",y.dashArray):p.removeAttribute("stroke-dasharray"),y.dashOffset?p.setAttribute("stroke-dashoffset",y.dashOffset):p.removeAttribute("stroke-dashoffset")):p.setAttribute("stroke","none"),y.fill?(p.setAttribute("fill",y.fillColor||y.color),p.setAttribute("fill-opacity",y.fillOpacity),p.setAttribute("fill-rule",y.fillRule||"evenodd")):p.setAttribute("fill","none"))},_updatePoly:function(A,p){this._setPath(A,Ot(A._parts,p))},_updateCircle:function(A){var p=A._point,y=Math.max(Math.round(A._radius),1),U=Math.max(Math.round(A._radiusY),1)||y,H="a"+y+","+U+" 0 1,0 ",he=A._empty()?"M0 0":"M"+(p.x-y)+","+p.y+H+y*2+",0 "+H+-y*2+",0 ";this._setPath(A,he)},_setPath:function(A,p){A._path.setAttribute("d",p)},_bringToFront:function(A){Jt(A._path)},_bringToBack:function(A){Pr(A._path)}});st.vml&&Ya.include(Xo);function sa(A){return st.svg||st.vml?new Ya(A):null}xr.include({getRenderer:function(A){var p=A.options.renderer||this._getPaneRenderer(A.options.pane)||this.options.renderer||this._renderer;return p||(p=this._renderer=this._createRenderer()),this.hasLayer(p)||this.addLayer(p),p},_getPaneRenderer:function(A){if(A==="overlayPane"||A===void 0)return!1;var p=this._paneRenderers[A];return p===void 0&&(p=this._createRenderer({pane:A}),this._paneRenderers[A]=p),p},_createRenderer:function(A){return this.options.preferCanvas&&ds(A)||sa(A)}});var Ua=ka.extend({initialize:function(A,p){ka.prototype.initialize.call(this,this._boundsToLatLngs(A),p)},setBounds:function(A){return this.setLatLngs(this._boundsToLatLngs(A))},_boundsToLatLngs:function(A){return A=O(A),[A.getSouthWest(),A.getNorthWest(),A.getNorthEast(),A.getSouthEast()]}});function KA(A,p){return new Ua(A,p)}Ya.create=mi,Ya.pointsToPath=Ot,b.geometryToLayer=C,b.coordsToLatLng=q,b.coordsToLatLngs=J,b.latLngToCoords=Ae,b.latLngsToCoords=we,b.getFeature=Ue,b.asFeature=Ke,xr.mergeOptions({boxZoom:!0});var Xa=Be.extend({initialize:function(A){this._map=A,this._container=A._container,this._pane=A._panes.overlayPane,this._resetStateTimeout=0,A.on("unload",this._destroy,this)},addHooks:function(){Kt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Mr(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Pt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(A){if(!A.shiftKey||A.which!==1&&A.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),lo(),ll(),this._startPoint=this._map.mouseEventToContainerPoint(A),Kt(document,{contextmenu:Gs,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(A){this._moved||(this._moved=!0,this._box=kt("div","leaflet-zoom-box",this._container),Cn(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(A);var p=new te(this._point,this._startPoint),y=p.getSize();dr(this._box,p.min),this._box.style.width=y.x+"px",this._box.style.height=y.y+"px"},_finish:function(){this._moved&&(Pt(this._box),Dn(this._container,"leaflet-crosshair")),er(),ra(),Mr(document,{contextmenu:Gs,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(A){if(!(A.which!==1&&A.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(c(this._resetState,this),0);var p=new ie(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(p).fire("boxzoomend",{boxZoomBounds:p})}},_onKeyDown:function(A){A.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});xr.addInitHook("addHandler","boxZoom",Xa),xr.mergeOptions({doubleClickZoom:!0});var xA=Be.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(A){var p=this._map,y=p.getZoom(),U=p.options.zoomDelta,H=A.originalEvent.shiftKey?y-U:y+U;p.options.doubleClickZoom==="center"?p.setZoom(H):p.setZoomAround(A.containerPoint,H)}});xr.addInitHook("addHandler","doubleClickZoom",xA),xr.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Js=Be.extend({addHooks:function(){if(!this._draggable){var A=this._map;this._draggable=new ft(A._mapPane,A._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),A.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),A.on("zoomend",this._onZoomEnd,this),A.whenReady(this._onZoomEnd,this))}Cn(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Dn(this._map._container,"leaflet-grab"),Dn(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var A=this._map;if(A._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var p=O(this._map.options.maxBounds);this._offsetLimit=P(this._map.latLngToContainerPoint(p.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(p.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;A.fire("movestart").fire("dragstart"),A.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(A){if(this._map.options.inertia){var p=this._lastTime=+new Date,y=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(y),this._times.push(p),this._prunePositions(p)}this._map.fire("move",A).fire("drag",A)},_prunePositions:function(A){for(;this._positions.length>1&&A-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var A=this._map.getSize().divideBy(2),p=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=p.subtract(A).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(A,p){return A-(A-p)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var A=this._draggable._newPos.subtract(this._draggable._startPos),p=this._offsetLimit;A.x<p.min.x&&(A.x=this._viscousLimit(A.x,p.min.x)),A.y<p.min.y&&(A.y=this._viscousLimit(A.y,p.min.y)),A.x>p.max.x&&(A.x=this._viscousLimit(A.x,p.max.x)),A.y>p.max.y&&(A.y=this._viscousLimit(A.y,p.max.y)),this._draggable._newPos=this._draggable._startPos.add(A)}},_onPreDragWrap:function(){var A=this._worldWidth,p=Math.round(A/2),y=this._initialWorldOffset,U=this._draggable._newPos.x,H=(U-p+y)%A+p-y,he=(U+p+y)%A-p-y,Te=Math.abs(H+y)<Math.abs(he+y)?H:he;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Te},_onDragEnd:function(A){var p=this._map,y=p.options,U=!y.inertia||A.noInertia||this._times.length<2;if(p.fire("dragend",A),U)p.fire("moveend");else{this._prunePositions(+new Date);var H=this._lastPos.subtract(this._positions[0]),he=(this._lastTime-this._times[0])/1e3,Te=y.easeLinearity,et=H.multiplyBy(Te/he),ut=et.distanceTo([0,0]),Ut=Math.min(y.inertiaMaxSpeed,ut),an=et.multiplyBy(Ut/ut),Un=Ut/(y.inertiaDeceleration*Te),Cr=an.multiplyBy(-Un/2).round();!Cr.x&&!Cr.y?p.fire("moveend"):(Cr=p._limitOffset(Cr,p.options.maxBounds),V(function(){p.panBy(Cr,{duration:Un,easeLinearity:Te,noMoveStart:!0,animate:!0})}))}}});xr.addInitHook("addHandler","dragging",Js),xr.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Gl=Be.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(A){this._map=A,this._setPanDelta(A.options.keyboardPanDelta),this._setZoomDelta(A.options.zoomDelta)},addHooks:function(){var A=this._map._container;A.tabIndex<=0&&(A.tabIndex="0"),Kt(A,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Mr(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var A=document.body,p=document.documentElement,y=A.scrollTop||p.scrollTop,U=A.scrollLeft||p.scrollLeft;this._map._container.focus(),window.scrollTo(U,y)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(A){var p=this._panKeys={},y=this.keyCodes,U,H;for(U=0,H=y.left.length;U<H;U++)p[y.left[U]]=[-1*A,0];for(U=0,H=y.right.length;U<H;U++)p[y.right[U]]=[A,0];for(U=0,H=y.down.length;U<H;U++)p[y.down[U]]=[0,A];for(U=0,H=y.up.length;U<H;U++)p[y.up[U]]=[0,-1*A]},_setZoomDelta:function(A){var p=this._zoomKeys={},y=this.keyCodes,U,H;for(U=0,H=y.zoomIn.length;U<H;U++)p[y.zoomIn[U]]=A;for(U=0,H=y.zoomOut.length;U<H;U++)p[y.zoomOut[U]]=-A},_addHooks:function(){Kt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Mr(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(A){if(!(A.altKey||A.ctrlKey||A.metaKey)){var p=A.keyCode,y=this._map,U;if(p in this._panKeys){if(!y._panAnim||!y._panAnim._inProgress)if(U=this._panKeys[p],A.shiftKey&&(U=Se(U).multiplyBy(3)),y.options.maxBounds&&(U=y._limitOffset(Se(U),y.options.maxBounds)),y.options.worldCopyJump){var H=y.wrapLatLng(y.unproject(y.project(y.getCenter()).add(U)));y.panTo(H)}else y.panBy(U)}else if(p in this._zoomKeys)y.setZoom(y.getZoom()+(A.shiftKey?3:1)*this._zoomKeys[p]);else if(p===27&&y._popup&&y._popup.options.closeOnEscapeKey)y.closePopup();else return;Gs(A)}}});xr.addInitHook("addHandler","keyboard",Gl),xr.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Cl=Be.extend({addHooks:function(){Kt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Mr(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(A){var p=ia(A),y=this._map.options.wheelDebounceTime;this._delta+=p,this._lastMousePos=this._map.mouseEventToContainerPoint(A),this._startTime||(this._startTime=+new Date);var U=Math.max(y-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(c(this._performZoom,this),U),Gs(A)},_performZoom:function(){var A=this._map,p=A.getZoom(),y=this._map.options.zoomSnap||0;A._stop();var U=this._delta/(this._map.options.wheelPxPerZoomLevel*4),H=4*Math.log(2/(1+Math.exp(-Math.abs(U))))/Math.LN2,he=y?Math.ceil(H/y)*y:H,Te=A._limitZoom(p+(this._delta>0?he:-he))-p;this._delta=0,this._startTime=null,Te&&(A.options.scrollWheelZoom==="center"?A.setZoom(p+Te):A.setZoomAround(this._lastMousePos,p+Te))}});xr.addInitHook("addHandler","scrollWheelZoom",Cl);var ul=600;xr.mergeOptions({tapHold:st.touchNative&&st.safari&&st.mobile,tapTolerance:15});var Vl=Be.extend({addHooks:function(){Kt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Mr(this._map._container,"touchstart",this._onDown,this)},_onDown:function(A){if(clearTimeout(this._holdTimeout),A.touches.length===1){var p=A.touches[0];this._startPos=this._newPos=new Z(p.clientX,p.clientY),this._holdTimeout=setTimeout(c(function(){this._cancel(),this._isTapValid()&&(Kt(document,"touchend",ni),Kt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",p))},this),ul),Kt(document,"touchend touchcancel contextmenu",this._cancel,this),Kt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function A(){Mr(document,"touchend",ni),Mr(document,"touchend touchcancel",A)},_cancel:function(){clearTimeout(this._holdTimeout),Mr(document,"touchend touchcancel contextmenu",this._cancel,this),Mr(document,"touchmove",this._onMove,this)},_onMove:function(A){var p=A.touches[0];this._newPos=new Z(p.clientX,p.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(A,p){var y=new MouseEvent(A,{bubbles:!0,cancelable:!0,view:window,screenX:p.screenX,screenY:p.screenY,clientX:p.clientX,clientY:p.clientY});y._simulated=!0,p.target.dispatchEvent(y)}});xr.addInitHook("addHandler","tapHold",Vl),xr.mergeOptions({touchZoom:st.touch,bounceAtZoomLimits:!0});var bA=Be.extend({addHooks:function(){Cn(this._map._container,"leaflet-touch-zoom"),Kt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Dn(this._map._container,"leaflet-touch-zoom"),Mr(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(A){var p=this._map;if(!(!A.touches||A.touches.length!==2||p._animatingZoom||this._zooming)){var y=p.mouseEventToContainerPoint(A.touches[0]),U=p.mouseEventToContainerPoint(A.touches[1]);this._centerPoint=p.getSize()._divideBy(2),this._startLatLng=p.containerPointToLatLng(this._centerPoint),p.options.touchZoom!=="center"&&(this._pinchStartLatLng=p.containerPointToLatLng(y.add(U)._divideBy(2))),this._startDist=y.distanceTo(U),this._startZoom=p.getZoom(),this._moved=!1,this._zooming=!0,p._stop(),Kt(document,"touchmove",this._onTouchMove,this),Kt(document,"touchend touchcancel",this._onTouchEnd,this),ni(A)}},_onTouchMove:function(A){if(!(!A.touches||A.touches.length!==2||!this._zooming)){var p=this._map,y=p.mouseEventToContainerPoint(A.touches[0]),U=p.mouseEventToContainerPoint(A.touches[1]),H=y.distanceTo(U)/this._startDist;if(this._zoom=p.getScaleZoom(H,this._startZoom),!p.options.bounceAtZoomLimits&&(this._zoom<p.getMinZoom()&&H<1||this._zoom>p.getMaxZoom()&&H>1)&&(this._zoom=p._limitZoom(this._zoom)),p.options.touchZoom==="center"){if(this._center=this._startLatLng,H===1)return}else{var he=y._add(U)._divideBy(2)._subtract(this._centerPoint);if(H===1&&he.x===0&&he.y===0)return;this._center=p.unproject(p.project(this._pinchStartLatLng,this._zoom).subtract(he),this._zoom)}this._moved||(p._moveStart(!0,!1),this._moved=!0),W(this._animRequest);var Te=c(p._move,p,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=V(Te,this,!0),ni(A)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,W(this._animRequest),Mr(document,"touchmove",this._onTouchMove,this),Mr(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});xr.addInitHook("addHandler","touchZoom",bA),xr.BoxZoom=Xa,xr.DoubleClickZoom=xA,xr.Drag=Js,xr.Keyboard=Gl,xr.ScrollWheelZoom=Cl,xr.TapHold=Vl,xr.TouchZoom=bA,n.Bounds=te,n.Browser=st,n.CRS=je,n.Canvas=nr,n.Circle=Fs,n.CircleMarker=ws,n.Class=me,n.Control=aa,n.DivIcon=zt,n.DivOverlay=nt,n.DomEvent=Za,n.DomUtil=ya,n.Draggable=ft,n.Evented=_e,n.FeatureGroup=us,n.GeoJSON=b,n.GridLayer=qt,n.Handler=Be,n.Icon=La,n.ImageOverlay=Re,n.LatLng=ae,n.LatLngBounds=ie,n.Layer=fi,n.LayerGroup=Sa,n.LineUtil=Eo,n.Map=xr,n.Marker=Hr,n.Mixin=De,n.Path=Or,n.Point=Z,n.PolyUtil=Gn,n.Polygon=ka,n.Polyline=ja,n.Popup=pt,n.PosAnimation=ks,n.Projection=To,n.Rectangle=Ua,n.Renderer=li,n.SVG=Ya,n.SVGOverlay=qe,n.TileLayer=Sn,n.Tooltip=Tt,n.Transformation=wt,n.Util=oe,n.VideoOverlay=He,n.bind=c,n.bounds=P,n.canvas=ds,n.circle=Os,n.circleMarker=Ts,n.control=$a,n.divIcon=An,n.extend=i,n.featureGroup=_s,n.geoJSON=Je,n.geoJson=Oe,n.gridLayer=Rn,n.icon=Lo,n.imageOverlay=Pe,n.latLng=ue,n.latLngBounds=O,n.layerGroup=Yo,n.map=$o,n.marker=Ba,n.point=Se,n.polygon=Xs,n.polyline=pi,n.popup=Bt,n.rectangle=KA,n.setOptions=j,n.stamp=h,n.svg=sa,n.svgOverlay=at,n.tileLayer=hr,n.tooltip=Wt,n.transformation=Xe,n.version=r,n.videoOverlay=$e;var Zl=window.L;n.noConflict=function(){return window.L=Zl,this},window.L=n}))})(ph,ph.exports)),ph.exports}var zA=XL();const gs=ef(zA);function j5(e,t){const n=$.useRef(t);$.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}var k5=m5();const JL=1;function WL(e){return Object.freeze({__version:JL,map:e})}function U5(e,t){return Object.freeze({...e,...t})}const Rm=$.createContext(null);function yd(){const e=$.use(Rm);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function ej(e){function t(n,r){const{instance:i,context:s}=e(n).current;$.useImperativeHandle(r,()=>i);const{children:c}=n;return c==null?null:bl.createElement(Rm,{value:s},c)}return $.forwardRef(t)}function tj(e){function t(n,r){const[i,s]=$.useState(!1),{instance:c}=e(n,s).current;$.useImperativeHandle(r,()=>c),$.useEffect(function(){i&&c.update()},[c,i,n.children]);const d=c._contentNode;return d?k5.createPortal(n.children,d):null}return $.forwardRef(t)}function nj(e){function t(n,r){const{instance:i}=e(n).current;return $.useImperativeHandle(r,()=>i),null}return $.forwardRef(t)}function fb(e,t){const n=$.useRef(void 0);$.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function Pm(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}function rj(e,t){return function(r,i){const s=yd(),c=e(Pm(r,s),s);return j5(s.map,r.attribution),fb(c.current,r.eventHandlers),t(c.current,s,r,i),c}}function ij(e){return e.split(" ").filter(Boolean)}function aj(e,t){for(const n of ij(t))zA.DomUtil.addClass(e,n)}function Hm(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function pb(e,t){return t==null?function(r,i){const s=$.useRef(void 0);return s.current||(s.current=e(r,i)),s}:function(r,i){const s=$.useRef(void 0);s.current||(s.current=e(r,i));const c=$.useRef(r),{instance:d}=s.current;return $.useEffect(function(){c.current!==r&&(t(d,r,c.current),c.current=r)},[d,r,t]),s}}function I5(e,t){$.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var s;(s=t.layerContainer)==null||s.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function sj(e){return function(n){const r=yd(),i=e(Pm(n,r),r);return j5(r.map,n.attribution),fb(i.current,n.eventHandlers),I5(i.current,r),i}}function oj(e,t){const n=$.useRef(void 0);$.useEffect(function(){if(t.pathOptions!==n.current){const i=t.pathOptions??{};e.instance.setStyle(i),n.current=i}},[e,t])}function lj(e){return function(n){const r=yd(),i=e(Pm(n,r),r);return fb(i.current,n.eventHandlers),I5(i.current,r),oj(i.current,n),i}}function Aj(e,t){const n=pb(e),r=rj(n,t);return tj(r)}function T5(e,t){const n=pb(e,t),r=lj(n);return ej(r)}function cj(e,t){const n=pb(e,t),r=sj(n);return nj(r)}function uj(e,t,n){const{opacity:r,zIndex:i}=t;r!=null&&r!==n.opacity&&e.setOpacity(r),i!=null&&i!==n.zIndex&&e.setZIndex(i)}function _d(){return yd().map}const F5=T5(function({children:t,...n},r){const i=new zA.FeatureGroup([],n);return Hm(i,U5(r,{layerContainer:i,overlayContainer:i}))});function dj({bounds:e,boundsOptions:t,center:n,children:r,className:i,id:s,placeholder:c,style:d,whenReady:h,zoom:f,...g},x){const[E]=$.useState({className:i,id:s,style:d}),[w,I]=$.useState(null),j=$.useRef(void 0);$.useImperativeHandle(x,()=>(w==null?void 0:w.map)??null,[w]);const F=$.useCallback(z=>{if(z!==null&&!j.current){const D=new zA.Map(z,g);j.current=D,n!=null&&f!=null?D.setView(n,f):e!=null&&D.fitBounds(e,t),h!=null&&D.whenReady(h),I(WL(D))}},[]);$.useEffect(()=>()=>{w==null||w.map.remove()},[w]);const S=w?bl.createElement(Rm,{value:w},r):c??null;return bl.createElement("div",{...E,ref:F},S)}const mb=$.forwardRef(dj),hj=["mapPane","markerPane","overlayPane","popupPane","shadowPane","tilePane","tooltipPane"];function Uw(e,t){const{[t]:n,...r}=e;return r}function fj(e,t,n){if(hj.indexOf(e)!==-1)throw new Error(`You must use a unique name for a pane that is not a default Leaflet pane: ${e}`);if(n.map.getPane(e)!=null)throw new Error(`A pane with this name already exists: ${e}`);const r=t.pane??n.pane,i=r?n.map.getPane(r):void 0,s=n.map.createPane(e,i);if(t.className!=null&&aj(s,t.className),t.style!=null)for(const c of Object.keys(t.style))s.style[c]=t.style[c];return s}function pj(e,t){const[n]=$.useState(e.name),[r,i]=$.useState(null);$.useImperativeHandle(t,()=>r,[r]);const s=yd(),c=$.useMemo(()=>({...s,pane:n}),[s]);return $.useEffect(()=>(i(fj(n,e,s)),function(){var f;const h=s.map.getPane(n);(f=h==null?void 0:h.remove)==null||f.call(h),s.map._panes!=null&&(s.map._panes=Uw(s.map._panes,n),s.map._paneRenderers=Uw(s.map._paneRenderers,n))}),[]),e.children!=null&&r!=null?k5.createPortal(bl.createElement(Rm,{value:c},e.children),r):null}const O5=$.forwardRef(pj),gb=T5(function({positions:t,...n},r){const i=new zA.Polygon(t,n);return Hm(i,U5(r,{overlayContainer:i}))},function(t,n,r){n.positions!==r.positions&&t.setLatLngs(n.positions)}),vb=cj(function({url:t,...n},r){const i=new zA.TileLayer(t,Pm(n,r));return Hm(i,r)},function(t,n,r){uj(t,n,r);const{url:i}=n;i!=null&&i!==r.url&&t.setUrl(i)}),xb=Aj(function(t,n){const r=new zA.Tooltip(t,n.overlayContainer);return Hm(r,n)},function(t,n,{position:r},i){$.useEffect(function(){const c=n.overlayContainer;if(c==null)return;const{instance:d}=t,h=g=>{g.tooltip===d&&(r!=null&&d.setLatLng(r),d.update(),i(!0))},f=g=>{g.tooltip===d&&i(!1)};return c.on({tooltipopen:h,tooltipclose:f}),c.bindTooltip(d),function(){c.off({tooltipopen:h,tooltipclose:f}),c._map!=null&&c.unbindTooltip()}},[t,n,i,r])});/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ax=function(e,t){return ax=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},ax(e,t)};function Pl(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");ax(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var sx=function(){return sx=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},sx.apply(this,arguments)};function jo(e,t,n,r){function i(s){return s instanceof n?s:new n(function(c){c(s)})}return new(n||(n=Promise))(function(s,c){function d(g){try{f(r.next(g))}catch(x){c(x)}}function h(g){try{f(r.throw(g))}catch(x){c(x)}}function f(g){g.done?s(g.value):i(g.value).then(d,h)}f((r=r.apply(e,[])).next())})}function bo(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,c;return c={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function d(f){return function(g){return h([f,g])}}function h(f){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=f[0]&2?i.return:f[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,f[1])).done)return s;switch(i=0,s&&(f=[f[0]&2,s.value]),f[0]){case 0:case 1:s=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!s||f[1]>s[0]&&f[1]<s[3])){n.label=f[1];break}if(f[0]===6&&n.label<s[1]){n.label=s[1],s=f;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(f);break}s[2]&&n.ops.pop(),n.trys.pop();continue}f=t.call(e,n)}catch(g){f=[6,g],i=0}finally{r=s=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}function np(e,t,n){if(arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||t)}var HA=(function(){function e(t,n,r,i){this.left=t,this.top=n,this.width=r,this.height=i}return e.prototype.add=function(t,n,r,i){return new e(this.left+t,this.top+n,this.width+r,this.height+i)},e.fromClientRect=function(t,n){return new e(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height)},e.fromDOMRectList=function(t,n){var r=Array.from(n).find(function(i){return i.width!==0});return r?new e(r.left+t.windowBounds.left,r.top+t.windowBounds.top,r.width,r.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e})(),zm=function(e,t){return HA.fromClientRect(e,t.getBoundingClientRect())},mj=function(e){var t=e.body,n=e.documentElement;if(!t||!n)throw new Error("Unable to get document size");var r=Math.max(Math.max(t.scrollWidth,n.scrollWidth),Math.max(t.offsetWidth,n.offsetWidth),Math.max(t.clientWidth,n.clientWidth)),i=Math.max(Math.max(t.scrollHeight,n.scrollHeight),Math.max(t.offsetHeight,n.offsetHeight),Math.max(t.clientHeight,n.clientHeight));return new HA(0,0,r,i)},qm=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var s=e.charCodeAt(n++);(s&64512)===56320?t.push(((i&1023)<<10)+(s&1023)+65536):(t.push(i),n--)}else t.push(i)}return t},ns=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var r=[],i=-1,s="";++i<n;){var c=e[i];c<=65535?r.push(c):(c-=65536,r.push((c>>10)+55296,c%1024+56320)),(i+1===n||r.length>16384)&&(s+=String.fromCharCode.apply(String,r),r.length=0)}return s},Iw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",gj=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var rp=0;rp<Iw.length;rp++)gj[Iw.charCodeAt(rp)]=rp;var Tw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",mh=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var ip=0;ip<Tw.length;ip++)mh[Tw.charCodeAt(ip)]=ip;var vj=function(e){var t=e.length*.75,n=e.length,r,i=0,s,c,d,h;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var f=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),g=Array.isArray(f)?f:new Uint8Array(f);for(r=0;r<n;r+=4)s=mh[e.charCodeAt(r)],c=mh[e.charCodeAt(r+1)],d=mh[e.charCodeAt(r+2)],h=mh[e.charCodeAt(r+3)],g[i++]=s<<2|c>>4,g[i++]=(c&15)<<4|d>>2,g[i++]=(d&3)<<6|h&63;return f},xj=function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n.push(e[r+1]<<8|e[r]);return n},bj=function(e){for(var t=e.length,n=[],r=0;r<t;r+=4)n.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return n},eu=5,bb=11,I0=2,yj=bb-eu,Q5=65536>>eu,_j=1<<eu,T0=_j-1,wj=1024>>eu,Bj=Q5+wj,Cj=Bj,Nj=32,Ej=Cj+Nj,Sj=65536>>bb,Lj=1<<yj,jj=Lj-1,Fw=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},kj=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},Uj=function(e,t){var n=vj(e),r=Array.isArray(n)?bj(n):new Uint32Array(n),i=Array.isArray(n)?xj(n):new Uint16Array(n),s=24,c=Fw(i,s/2,r[4]/2),d=r[5]===2?Fw(i,(s+r[4])/2):kj(r,Math.ceil((s+r[4])/4));return new Ij(r[0],r[1],r[2],r[3],c,d)},Ij=(function(){function e(t,n,r,i,s,c){this.initialValue=t,this.errorValue=n,this.highStart=r,this.highValueIndex=i,this.index=s,this.data=c}return e.prototype.get=function(t){var n;if(t>=0){if(t<55296||t>56319&&t<=65535)return n=this.index[t>>eu],n=(n<<I0)+(t&T0),this.data[n];if(t<=65535)return n=this.index[Q5+(t-55296>>eu)],n=(n<<I0)+(t&T0),this.data[n];if(t<this.highStart)return n=Ej-Sj+(t>>bb),n=this.index[n],n+=t>>eu&jj,n=this.index[n],n=(n<<I0)+(t&T0),this.data[n];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e})(),Ow="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Tj=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var ap=0;ap<Ow.length;ap++)Tj[Ow.charCodeAt(ap)]=ap;var Fj="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",Qw=50,Oj=1,D5=2,M5=3,Qj=4,Dj=5,Dw=7,R5=8,Mw=9,bc=10,ox=11,Rw=12,lx=13,Mj=14,gh=15,Ax=16,sp=17,ih=18,Rj=19,Pw=20,cx=21,ah=22,F0=23,Tu=24,rl=25,vh=26,xh=27,Fu=28,Pj=29,Gc=30,Hj=31,op=32,lp=33,ux=34,dx=35,hx=36,Ph=37,fx=38,Vp=39,Zp=40,O0=41,P5=42,zj=43,qj=[9001,65288],H5="!",$r="",Ap="",px=Uj(Fj),TA=[Gc,hx],mx=[Oj,D5,M5,Dj],z5=[bc,R5],Hw=[xh,vh],Kj=mx.concat(z5),zw=[fx,Vp,Zp,ux,dx],Gj=[gh,lx],Vj=function(e,t){t===void 0&&(t="strict");var n=[],r=[],i=[];return e.forEach(function(s,c){var d=px.get(s);if(d>Qw?(i.push(!0),d-=Qw):i.push(!1),["normal","auto","loose"].indexOf(t)!==-1&&[8208,8211,12316,12448].indexOf(s)!==-1)return r.push(c),n.push(Ax);if(d===Qj||d===ox){if(c===0)return r.push(c),n.push(Gc);var h=n[c-1];return Kj.indexOf(h)===-1?(r.push(r[c-1]),n.push(h)):(r.push(c),n.push(Gc))}if(r.push(c),d===Hj)return n.push(t==="strict"?cx:Ph);if(d===P5||d===Pj)return n.push(Gc);if(d===zj)return s>=131072&&s<=196605||s>=196608&&s<=262141?n.push(Ph):n.push(Gc);n.push(d)}),[r,n,i]},Q0=function(e,t,n,r){var i=r[n];if(Array.isArray(e)?e.indexOf(i)!==-1:e===i)for(var s=n;s<=r.length;){s++;var c=r[s];if(c===t)return!0;if(c!==bc)break}if(i===bc)for(var s=n;s>0;){s--;var d=r[s];if(Array.isArray(e)?e.indexOf(d)!==-1:e===d)for(var h=n;h<=r.length;){h++;var c=r[h];if(c===t)return!0;if(c!==bc)break}if(d!==bc)break}return!1},qw=function(e,t){for(var n=e;n>=0;){var r=t[n];if(r===bc)n--;else return r}return 0},Zj=function(e,t,n,r,i){if(n[r]===0)return $r;var s=r-1;if(Array.isArray(i)&&i[s]===!0)return $r;var c=s-1,d=s+1,h=t[s],f=c>=0?t[c]:0,g=t[d];if(h===D5&&g===M5)return $r;if(mx.indexOf(h)!==-1)return H5;if(mx.indexOf(g)!==-1||z5.indexOf(g)!==-1)return $r;if(qw(s,t)===R5)return Ap;if(px.get(e[s])===ox||(h===op||h===lp)&&px.get(e[d])===ox||h===Dw||g===Dw||h===Mw||[bc,lx,gh].indexOf(h)===-1&&g===Mw||[sp,ih,Rj,Tu,Fu].indexOf(g)!==-1||qw(s,t)===ah||Q0(F0,ah,s,t)||Q0([sp,ih],cx,s,t)||Q0(Rw,Rw,s,t))return $r;if(h===bc)return Ap;if(h===F0||g===F0)return $r;if(g===Ax||h===Ax)return Ap;if([lx,gh,cx].indexOf(g)!==-1||h===Mj||f===hx&&Gj.indexOf(h)!==-1||h===Fu&&g===hx||g===Pw||TA.indexOf(g)!==-1&&h===rl||TA.indexOf(h)!==-1&&g===rl||h===xh&&[Ph,op,lp].indexOf(g)!==-1||[Ph,op,lp].indexOf(h)!==-1&&g===vh||TA.indexOf(h)!==-1&&Hw.indexOf(g)!==-1||Hw.indexOf(h)!==-1&&TA.indexOf(g)!==-1||[xh,vh].indexOf(h)!==-1&&(g===rl||[ah,gh].indexOf(g)!==-1&&t[d+1]===rl)||[ah,gh].indexOf(h)!==-1&&g===rl||h===rl&&[rl,Fu,Tu].indexOf(g)!==-1)return $r;if([rl,Fu,Tu,sp,ih].indexOf(g)!==-1)for(var x=s;x>=0;){var E=t[x];if(E===rl)return $r;if([Fu,Tu].indexOf(E)!==-1)x--;else break}if([xh,vh].indexOf(g)!==-1)for(var x=[sp,ih].indexOf(h)!==-1?c:s;x>=0;){var E=t[x];if(E===rl)return $r;if([Fu,Tu].indexOf(E)!==-1)x--;else break}if(fx===h&&[fx,Vp,ux,dx].indexOf(g)!==-1||[Vp,ux].indexOf(h)!==-1&&[Vp,Zp].indexOf(g)!==-1||[Zp,dx].indexOf(h)!==-1&&g===Zp||zw.indexOf(h)!==-1&&[Pw,vh].indexOf(g)!==-1||zw.indexOf(g)!==-1&&h===xh||TA.indexOf(h)!==-1&&TA.indexOf(g)!==-1||h===Tu&&TA.indexOf(g)!==-1||TA.concat(rl).indexOf(h)!==-1&&g===ah&&qj.indexOf(e[d])===-1||TA.concat(rl).indexOf(g)!==-1&&h===ih)return $r;if(h===O0&&g===O0){for(var w=n[s],I=1;w>0&&(w--,t[w]===O0);)I++;if(I%2!==0)return $r}return h===op&&g===lp?$r:Ap},$j=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var n=Vj(e,t.lineBreak),r=n[0],i=n[1],s=n[2];(t.wordBreak==="break-all"||t.wordBreak==="break-word")&&(i=i.map(function(d){return[rl,Gc,P5].indexOf(d)!==-1?Ph:d}));var c=t.wordBreak==="keep-all"?s.map(function(d,h){return d&&e[h]>=19968&&e[h]<=40959}):void 0;return[r,i,c]},Yj=(function(){function e(t,n,r,i){this.codePoints=t,this.required=n===H5,this.start=r,this.end=i}return e.prototype.slice=function(){return ns.apply(void 0,this.codePoints.slice(this.start,this.end))},e})(),Xj=function(e,t){var n=qm(e),r=$j(n,t),i=r[0],s=r[1],c=r[2],d=n.length,h=0,f=0;return{next:function(){if(f>=d)return{done:!0,value:null};for(var g=$r;f<d&&(g=Zj(n,s,i,++f,c))===$r;);if(g!==$r||f===d){var x=new Yj(n,g,h,f);return h=f,{value:x,done:!1}}return{done:!0,value:null}}}},Jj=1,Wj=2,nf=4,Kw=8,mm=10,Gw=47,Ch=92,ek=9,tk=32,cp=34,sh=61,nk=35,rk=36,ik=37,up=39,dp=40,oh=41,ak=95,qo=45,sk=33,ok=60,lk=62,Ak=64,ck=91,uk=93,dk=61,hk=123,hp=63,fk=125,Vw=124,pk=126,mk=128,Zw=65533,D0=42,Xc=43,gk=44,vk=58,xk=59,Hh=46,bk=0,yk=8,_k=11,wk=14,Bk=31,Ck=127,sA=-1,q5=48,K5=97,G5=101,Nk=102,Ek=117,Sk=122,V5=65,Z5=69,$5=70,Lk=85,jk=90,yo=function(e){return e>=q5&&e<=57},kk=function(e){return e>=55296&&e<=57343},Ou=function(e){return yo(e)||e>=V5&&e<=$5||e>=K5&&e<=Nk},Uk=function(e){return e>=K5&&e<=Sk},Ik=function(e){return e>=V5&&e<=jk},Tk=function(e){return Uk(e)||Ik(e)},Fk=function(e){return e>=mk},fp=function(e){return e===mm||e===ek||e===tk},gm=function(e){return Tk(e)||Fk(e)||e===ak},$w=function(e){return gm(e)||yo(e)||e===qo},Ok=function(e){return e>=bk&&e<=yk||e===_k||e>=wk&&e<=Bk||e===Ck},mc=function(e,t){return e!==Ch?!1:t!==mm},pp=function(e,t,n){return e===qo?gm(t)||mc(t,n):gm(e)?!0:!!(e===Ch&&mc(e,t))},M0=function(e,t,n){return e===Xc||e===qo?yo(t)?!0:t===Hh&&yo(n):yo(e===Hh?t:e)},Qk=function(e){var t=0,n=1;(e[t]===Xc||e[t]===qo)&&(e[t]===qo&&(n=-1),t++);for(var r=[];yo(e[t]);)r.push(e[t++]);var i=r.length?parseInt(ns.apply(void 0,r),10):0;e[t]===Hh&&t++;for(var s=[];yo(e[t]);)s.push(e[t++]);var c=s.length,d=c?parseInt(ns.apply(void 0,s),10):0;(e[t]===Z5||e[t]===G5)&&t++;var h=1;(e[t]===Xc||e[t]===qo)&&(e[t]===qo&&(h=-1),t++);for(var f=[];yo(e[t]);)f.push(e[t++]);var g=f.length?parseInt(ns.apply(void 0,f),10):0;return n*(i+d*Math.pow(10,-c))*Math.pow(10,h*g)},Dk={type:2},Mk={type:3},Rk={type:4},Pk={type:13},Hk={type:8},zk={type:21},qk={type:9},Kk={type:10},Gk={type:11},Vk={type:12},Zk={type:14},mp={type:23},$k={type:1},Yk={type:25},Xk={type:24},Jk={type:26},Wk={type:27},eU={type:28},tU={type:29},nU={type:31},gx={type:32},Y5=(function(){function e(){this._value=[]}return e.prototype.write=function(t){this._value=this._value.concat(qm(t))},e.prototype.read=function(){for(var t=[],n=this.consumeToken();n!==gx;)t.push(n),n=this.consumeToken();return t},e.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case cp:return this.consumeStringToken(cp);case nk:var n=this.peekCodePoint(0),r=this.peekCodePoint(1),i=this.peekCodePoint(2);if($w(n)||mc(r,i)){var s=pp(n,r,i)?Wj:Jj,c=this.consumeName();return{type:5,value:c,flags:s}}break;case rk:if(this.peekCodePoint(0)===sh)return this.consumeCodePoint(),Pk;break;case up:return this.consumeStringToken(up);case dp:return Dk;case oh:return Mk;case D0:if(this.peekCodePoint(0)===sh)return this.consumeCodePoint(),Zk;break;case Xc:if(M0(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case gk:return Rk;case qo:var d=t,h=this.peekCodePoint(0),f=this.peekCodePoint(1);if(M0(d,h,f))return this.reconsumeCodePoint(t),this.consumeNumericToken();if(pp(d,h,f))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(h===qo&&f===lk)return this.consumeCodePoint(),this.consumeCodePoint(),Xk;break;case Hh:if(M0(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case Gw:if(this.peekCodePoint(0)===D0)for(this.consumeCodePoint();;){var g=this.consumeCodePoint();if(g===D0&&(g=this.consumeCodePoint(),g===Gw))return this.consumeToken();if(g===sA)return this.consumeToken()}break;case vk:return Jk;case xk:return Wk;case ok:if(this.peekCodePoint(0)===sk&&this.peekCodePoint(1)===qo&&this.peekCodePoint(2)===qo)return this.consumeCodePoint(),this.consumeCodePoint(),Yk;break;case Ak:var x=this.peekCodePoint(0),E=this.peekCodePoint(1),w=this.peekCodePoint(2);if(pp(x,E,w)){var c=this.consumeName();return{type:7,value:c}}break;case ck:return eU;case Ch:if(mc(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case uk:return tU;case dk:if(this.peekCodePoint(0)===sh)return this.consumeCodePoint(),Hk;break;case hk:return Gk;case fk:return Vk;case Ek:case Lk:var I=this.peekCodePoint(0),j=this.peekCodePoint(1);return I===Xc&&(Ou(j)||j===hp)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case Vw:if(this.peekCodePoint(0)===sh)return this.consumeCodePoint(),qk;if(this.peekCodePoint(0)===Vw)return this.consumeCodePoint(),zk;break;case pk:if(this.peekCodePoint(0)===sh)return this.consumeCodePoint(),Kk;break;case sA:return gx}return fp(t)?(this.consumeWhiteSpace(),nU):yo(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):gm(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:6,value:ns(t)}},e.prototype.consumeCodePoint=function(){var t=this._value.shift();return typeof t>"u"?-1:t},e.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},e.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},e.prototype.consumeUnicodeRangeToken=function(){for(var t=[],n=this.consumeCodePoint();Ou(n)&&t.length<6;)t.push(n),n=this.consumeCodePoint();for(var r=!1;n===hp&&t.length<6;)t.push(n),n=this.consumeCodePoint(),r=!0;if(r){var i=parseInt(ns.apply(void 0,t.map(function(h){return h===hp?q5:h})),16),s=parseInt(ns.apply(void 0,t.map(function(h){return h===hp?$5:h})),16);return{type:30,start:i,end:s}}var c=parseInt(ns.apply(void 0,t),16);if(this.peekCodePoint(0)===qo&&Ou(this.peekCodePoint(1))){this.consumeCodePoint(),n=this.consumeCodePoint();for(var d=[];Ou(n)&&d.length<6;)d.push(n),n=this.consumeCodePoint();var s=parseInt(ns.apply(void 0,d),16);return{type:30,start:c,end:s}}else return{type:30,start:c,end:c}},e.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return t.toLowerCase()==="url"&&this.peekCodePoint(0)===dp?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===dp?(this.consumeCodePoint(),{type:19,value:t}):{type:20,value:t}},e.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===sA)return{type:22,value:""};var n=this.peekCodePoint(0);if(n===up||n===cp){var r=this.consumeStringToken(this.consumeCodePoint());return r.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===sA||this.peekCodePoint(0)===oh)?(this.consumeCodePoint(),{type:22,value:r.value}):(this.consumeBadUrlRemnants(),mp)}for(;;){var i=this.consumeCodePoint();if(i===sA||i===oh)return{type:22,value:ns.apply(void 0,t)};if(fp(i))return this.consumeWhiteSpace(),this.peekCodePoint(0)===sA||this.peekCodePoint(0)===oh?(this.consumeCodePoint(),{type:22,value:ns.apply(void 0,t)}):(this.consumeBadUrlRemnants(),mp);if(i===cp||i===up||i===dp||Ok(i))return this.consumeBadUrlRemnants(),mp;if(i===Ch)if(mc(i,this.peekCodePoint(0)))t.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),mp;else t.push(i)}},e.prototype.consumeWhiteSpace=function(){for(;fp(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var t=this.consumeCodePoint();if(t===oh||t===sA)return;mc(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(t){for(var n=5e4,r="";t>0;){var i=Math.min(n,t);r+=ns.apply(void 0,this._value.splice(0,i)),t-=i}return this._value.shift(),r},e.prototype.consumeStringToken=function(t){var n="",r=0;do{var i=this._value[r];if(i===sA||i===void 0||i===t)return n+=this.consumeStringSlice(r),{type:0,value:n};if(i===mm)return this._value.splice(0,r),$k;if(i===Ch){var s=this._value[r+1];s!==sA&&s!==void 0&&(s===mm?(n+=this.consumeStringSlice(r),r=-1,this._value.shift()):mc(i,s)&&(n+=this.consumeStringSlice(r),n+=ns(this.consumeEscapedCodePoint()),r=-1))}r++}while(!0)},e.prototype.consumeNumber=function(){var t=[],n=nf,r=this.peekCodePoint(0);for((r===Xc||r===qo)&&t.push(this.consumeCodePoint());yo(this.peekCodePoint(0));)t.push(this.consumeCodePoint());r=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(r===Hh&&yo(i))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),n=Kw;yo(this.peekCodePoint(0));)t.push(this.consumeCodePoint());r=this.peekCodePoint(0),i=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((r===Z5||r===G5)&&((i===Xc||i===qo)&&yo(s)||yo(i)))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),n=Kw;yo(this.peekCodePoint(0));)t.push(this.consumeCodePoint());return[Qk(t),n]},e.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),n=t[0],r=t[1],i=this.peekCodePoint(0),s=this.peekCodePoint(1),c=this.peekCodePoint(2);if(pp(i,s,c)){var d=this.consumeName();return{type:15,number:n,flags:r,unit:d}}return i===ik?(this.consumeCodePoint(),{type:16,number:n,flags:r}):{type:17,number:n,flags:r}},e.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if(Ou(t)){for(var n=ns(t);Ou(this.peekCodePoint(0))&&n.length<6;)n+=ns(this.consumeCodePoint());fp(this.peekCodePoint(0))&&this.consumeCodePoint();var r=parseInt(n,16);return r===0||kk(r)||r>1114111?Zw:r}return t===sA?Zw:t},e.prototype.consumeName=function(){for(var t="";;){var n=this.consumeCodePoint();if($w(n))t+=ns(n);else if(mc(n,this.peekCodePoint(0)))t+=ns(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(n),t}},e})(),X5=(function(){function e(t){this._tokens=t}return e.create=function(t){var n=new Y5;return n.write(t),new e(n.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var t=this.consumeToken();t.type===31;)t=this.consumeToken();if(t.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var n=this.consumeComponentValue();do t=this.consumeToken();while(t.type===31);if(t.type===32)return n;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var t=[];;){var n=this.consumeComponentValue();if(n.type===32)return t;t.push(n),t.push()}},e.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case 11:case 28:case 2:return this.consumeSimpleBlock(t.type);case 19:return this.consumeFunction(t)}return t},e.prototype.consumeSimpleBlock=function(t){for(var n={type:t,values:[]},r=this.consumeToken();;){if(r.type===32||iU(r,t))return n;this.reconsumeToken(r),n.values.push(this.consumeComponentValue()),r=this.consumeToken()}},e.prototype.consumeFunction=function(t){for(var n={name:t.value,values:[],type:18};;){var r=this.consumeToken();if(r.type===32||r.type===3)return n;this.reconsumeToken(r),n.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var t=this._tokens.shift();return typeof t>"u"?gx:t},e.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},e})(),rf=function(e){return e.type===15},wd=function(e){return e.type===17},Hi=function(e){return e.type===20},rU=function(e){return e.type===0},vx=function(e,t){return Hi(e)&&e.value===t},J5=function(e){return e.type!==31},vd=function(e){return e.type!==31&&e.type!==4},pA=function(e){var t=[],n=[];return e.forEach(function(r){if(r.type===4){if(n.length===0)throw new Error("Error parsing function args, zero tokens for arg");t.push(n),n=[];return}r.type!==31&&n.push(r)}),n.length&&t.push(n),t},iU=function(e,t){return t===11&&e.type===12||t===28&&e.type===29?!0:t===2&&e.type===3},Ec=function(e){return e.type===17||e.type===15},vs=function(e){return e.type===16||Ec(e)},W5=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},so={type:17,number:0,flags:nf},yb={type:16,number:50,flags:nf},yc={type:16,number:100,flags:nf},bh=function(e,t,n){var r=e[0],i=e[1];return[na(r,t),na(typeof i<"u"?i:r,n)]},na=function(e,t){if(e.type===16)return e.number/100*t;if(rf(e))switch(e.unit){case"rem":case"em":return 16*e.number;case"px":default:return e.number}return e.number},eC="deg",tC="grad",nC="rad",rC="turn",Km={name:"angle",parse:function(e,t){if(t.type===15)switch(t.unit){case eC:return Math.PI*t.number/180;case tC:return Math.PI/200*t.number;case nC:return t.number;case rC:return Math.PI*2*t.number}throw new Error("Unsupported angle type")}},iC=function(e){return e.type===15&&(e.unit===eC||e.unit===tC||e.unit===nC||e.unit===rC)},aC=function(e){var t=e.filter(Hi).map(function(n){return n.value}).join(" ");switch(t){case"to bottom right":case"to right bottom":case"left top":case"top left":return[so,so];case"to top":case"bottom":return yl(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[so,yc];case"to right":case"left":return yl(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[yc,yc];case"to bottom":case"top":return yl(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[yc,so];case"to left":case"right":return yl(270)}return 0},yl=function(e){return Math.PI*e/180},Cc={name:"color",parse:function(e,t){if(t.type===18){var n=aU[t.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return n(e,t.values)}if(t.type===5){if(t.value.length===3){var r=t.value.substring(0,1),i=t.value.substring(1,2),s=t.value.substring(2,3);return _c(parseInt(r+r,16),parseInt(i+i,16),parseInt(s+s,16),1)}if(t.value.length===4){var r=t.value.substring(0,1),i=t.value.substring(1,2),s=t.value.substring(2,3),c=t.value.substring(3,4);return _c(parseInt(r+r,16),parseInt(i+i,16),parseInt(s+s,16),parseInt(c+c,16)/255)}if(t.value.length===6){var r=t.value.substring(0,2),i=t.value.substring(2,4),s=t.value.substring(4,6);return _c(parseInt(r,16),parseInt(i,16),parseInt(s,16),1)}if(t.value.length===8){var r=t.value.substring(0,2),i=t.value.substring(2,4),s=t.value.substring(4,6),c=t.value.substring(6,8);return _c(parseInt(r,16),parseInt(i,16),parseInt(s,16),parseInt(c,16)/255)}}if(t.type===20){var d=PA[t.value.toUpperCase()];if(typeof d<"u")return d}return PA.TRANSPARENT}},Nc=function(e){return(255&e)===0},Rs=function(e){var t=255&e,n=255&e>>8,r=255&e>>16,i=255&e>>24;return t<255?"rgba("+i+","+r+","+n+","+t/255+")":"rgb("+i+","+r+","+n+")"},_c=function(e,t,n,r){return(e<<24|t<<16|n<<8|Math.round(r*255)<<0)>>>0},Yw=function(e,t){if(e.type===17)return e.number;if(e.type===16){var n=t===3?1:255;return t===3?e.number/100*n:Math.round(e.number/100*n)}return 0},Xw=function(e,t){var n=t.filter(vd);if(n.length===3){var r=n.map(Yw),i=r[0],s=r[1],c=r[2];return _c(i,s,c,1)}if(n.length===4){var d=n.map(Yw),i=d[0],s=d[1],c=d[2],h=d[3];return _c(i,s,c,h)}return 0};function R0(e,t,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(t-e)*n*6+e:n<1/2?t:n<2/3?(t-e)*6*(2/3-n)+e:e}var Jw=function(e,t){var n=t.filter(vd),r=n[0],i=n[1],s=n[2],c=n[3],d=(r.type===17?yl(r.number):Km.parse(e,r))/(Math.PI*2),h=vs(i)?i.number/100:0,f=vs(s)?s.number/100:0,g=typeof c<"u"&&vs(c)?na(c,1):1;if(h===0)return _c(f*255,f*255,f*255,1);var x=f<=.5?f*(h+1):f+h-f*h,E=f*2-x,w=R0(E,x,d+1/3),I=R0(E,x,d),j=R0(E,x,d-1/3);return _c(w*255,I*255,j*255,g)},aU={hsl:Jw,hsla:Jw,rgb:Xw,rgba:Xw},Nh=function(e,t){return Cc.parse(e,X5.create(t).parseComponentValue())},PA={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},sU={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(n){if(Hi(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},oU={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Gm=function(e,t){var n=Cc.parse(e,t[0]),r=t[1];return r&&vs(r)?{color:n,stop:r}:{color:n,stop:null}},Ww=function(e,t){var n=e[0],r=e[e.length-1];n.stop===null&&(n.stop=so),r.stop===null&&(r.stop=yc);for(var i=[],s=0,c=0;c<e.length;c++){var d=e[c].stop;if(d!==null){var h=na(d,t);h>s?i.push(h):i.push(s),s=h}else i.push(null)}for(var f=null,c=0;c<i.length;c++){var g=i[c];if(g===null)f===null&&(f=c);else if(f!==null){for(var x=c-f,E=i[f-1],w=(g-E)/(x+1),I=1;I<=x;I++)i[f+I-1]=w*I;f=null}}return e.map(function(j,F){var S=j.color;return{color:S,stop:Math.max(Math.min(1,i[F]/t),0)}})},lU=function(e,t,n){var r=t/2,i=n/2,s=na(e[0],t)-r,c=i-na(e[1],n);return(Math.atan2(c,s)+Math.PI*2)%(Math.PI*2)},AU=function(e,t,n){var r=typeof e=="number"?e:lU(e,t,n),i=Math.abs(t*Math.sin(r))+Math.abs(n*Math.cos(r)),s=t/2,c=n/2,d=i/2,h=Math.sin(r-Math.PI/2)*d,f=Math.cos(r-Math.PI/2)*d;return[i,s-f,s+f,c-h,c+h]},Fl=function(e,t){return Math.sqrt(e*e+t*t)},e1=function(e,t,n,r,i){var s=[[0,0],[0,t],[e,0],[e,t]];return s.reduce(function(c,d){var h=d[0],f=d[1],g=Fl(n-h,r-f);return(i?g<c.optimumDistance:g>c.optimumDistance)?{optimumCorner:d,optimumDistance:g}:c},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},cU=function(e,t,n,r,i){var s=0,c=0;switch(e.size){case 0:e.shape===0?s=c=Math.min(Math.abs(t),Math.abs(t-r),Math.abs(n),Math.abs(n-i)):e.shape===1&&(s=Math.min(Math.abs(t),Math.abs(t-r)),c=Math.min(Math.abs(n),Math.abs(n-i)));break;case 2:if(e.shape===0)s=c=Math.min(Fl(t,n),Fl(t,n-i),Fl(t-r,n),Fl(t-r,n-i));else if(e.shape===1){var d=Math.min(Math.abs(n),Math.abs(n-i))/Math.min(Math.abs(t),Math.abs(t-r)),h=e1(r,i,t,n,!0),f=h[0],g=h[1];s=Fl(f-t,(g-n)/d),c=d*s}break;case 1:e.shape===0?s=c=Math.max(Math.abs(t),Math.abs(t-r),Math.abs(n),Math.abs(n-i)):e.shape===1&&(s=Math.max(Math.abs(t),Math.abs(t-r)),c=Math.max(Math.abs(n),Math.abs(n-i)));break;case 3:if(e.shape===0)s=c=Math.max(Fl(t,n),Fl(t,n-i),Fl(t-r,n),Fl(t-r,n-i));else if(e.shape===1){var d=Math.max(Math.abs(n),Math.abs(n-i))/Math.max(Math.abs(t),Math.abs(t-r)),x=e1(r,i,t,n,!1),f=x[0],g=x[1];s=Fl(f-t,(g-n)/d),c=d*s}break}return Array.isArray(e.size)&&(s=na(e.size[0],r),c=e.size.length===2?na(e.size[1],i):s),[s,c]},uU=function(e,t){var n=yl(180),r=[];return pA(t).forEach(function(i,s){if(s===0){var c=i[0];if(c.type===20&&c.value==="to"){n=aC(i);return}else if(iC(c)){n=Km.parse(e,c);return}}var d=Gm(e,i);r.push(d)}),{angle:n,stops:r,type:1}},gp=function(e,t){var n=yl(180),r=[];return pA(t).forEach(function(i,s){if(s===0){var c=i[0];if(c.type===20&&["top","left","right","bottom"].indexOf(c.value)!==-1){n=aC(i);return}else if(iC(c)){n=(Km.parse(e,c)+yl(270))%yl(360);return}}var d=Gm(e,i);r.push(d)}),{angle:n,stops:r,type:1}},dU=function(e,t){var n=yl(180),r=[],i=1,s=0,c=3,d=[];return pA(t).forEach(function(h,f){var g=h[0];if(f===0){if(Hi(g)&&g.value==="linear"){i=1;return}else if(Hi(g)&&g.value==="radial"){i=2;return}}if(g.type===18){if(g.name==="from"){var x=Cc.parse(e,g.values[0]);r.push({stop:so,color:x})}else if(g.name==="to"){var x=Cc.parse(e,g.values[0]);r.push({stop:yc,color:x})}else if(g.name==="color-stop"){var E=g.values.filter(vd);if(E.length===2){var x=Cc.parse(e,E[1]),w=E[0];wd(w)&&r.push({stop:{type:16,number:w.number*100,flags:w.flags},color:x})}}}}),i===1?{angle:(n+yl(180))%yl(360),stops:r,type:i}:{size:c,shape:s,stops:r,position:d,type:i}},sC="closest-side",oC="farthest-side",lC="closest-corner",AC="farthest-corner",cC="circle",uC="ellipse",dC="cover",hC="contain",hU=function(e,t){var n=0,r=3,i=[],s=[];return pA(t).forEach(function(c,d){var h=!0;if(d===0){var f=!1;h=c.reduce(function(x,E){if(f)if(Hi(E))switch(E.value){case"center":return s.push(yb),x;case"top":case"left":return s.push(so),x;case"right":case"bottom":return s.push(yc),x}else(vs(E)||Ec(E))&&s.push(E);else if(Hi(E))switch(E.value){case cC:return n=0,!1;case uC:return n=1,!1;case"at":return f=!0,!1;case sC:return r=0,!1;case dC:case oC:return r=1,!1;case hC:case lC:return r=2,!1;case AC:return r=3,!1}else if(Ec(E)||vs(E))return Array.isArray(r)||(r=[]),r.push(E),!1;return x},h)}if(h){var g=Gm(e,c);i.push(g)}}),{size:r,shape:n,stops:i,position:s,type:2}},vp=function(e,t){var n=0,r=3,i=[],s=[];return pA(t).forEach(function(c,d){var h=!0;if(d===0?h=c.reduce(function(g,x){if(Hi(x))switch(x.value){case"center":return s.push(yb),!1;case"top":case"left":return s.push(so),!1;case"right":case"bottom":return s.push(yc),!1}else if(vs(x)||Ec(x))return s.push(x),!1;return g},h):d===1&&(h=c.reduce(function(g,x){if(Hi(x))switch(x.value){case cC:return n=0,!1;case uC:return n=1,!1;case hC:case sC:return r=0,!1;case oC:return r=1,!1;case lC:return r=2,!1;case dC:case AC:return r=3,!1}else if(Ec(x)||vs(x))return Array.isArray(r)||(r=[]),r.push(x),!1;return g},h)),h){var f=Gm(e,c);i.push(f)}}),{size:r,shape:n,stops:i,position:s,type:2}},fU=function(e){return e.type===1},pU=function(e){return e.type===2},_b={name:"image",parse:function(e,t){if(t.type===22){var n={url:t.value,type:0};return e.cache.addImage(t.value),n}if(t.type===18){var r=fC[t.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return r(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function mU(e){return!(e.type===20&&e.value==="none")&&(e.type!==18||!!fC[e.name])}var fC={"linear-gradient":uU,"-moz-linear-gradient":gp,"-ms-linear-gradient":gp,"-o-linear-gradient":gp,"-webkit-linear-gradient":gp,"radial-gradient":hU,"-moz-radial-gradient":vp,"-ms-radial-gradient":vp,"-o-radial-gradient":vp,"-webkit-radial-gradient":vp,"-webkit-gradient":dU},gU={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var n=t[0];return n.type===20&&n.value==="none"?[]:t.filter(function(r){return vd(r)&&mU(r)}).map(function(r){return _b.parse(e,r)})}},vU={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(n){if(Hi(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},xU={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return pA(t).map(function(n){return n.filter(vs)}).map(W5)}},bU={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return pA(t).map(function(n){return n.filter(Hi).map(function(r){return r.value}).join(" ")}).map(yU)}},yU=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},od;(function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"})(od||(od={}));var _U={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return pA(t).map(function(n){return n.filter(wU)})}},wU=function(e){return Hi(e)||vs(e)},Vm=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},BU=Vm("top"),CU=Vm("right"),NU=Vm("bottom"),EU=Vm("left"),Zm=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(t,n){return W5(n.filter(vs))}}},SU=Zm("top-left"),LU=Zm("top-right"),jU=Zm("bottom-right"),kU=Zm("bottom-left"),$m=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(t,n){switch(n){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},UU=$m("top"),IU=$m("right"),TU=$m("bottom"),FU=$m("left"),Ym=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(t,n){return rf(n)?n.number:0}}},OU=Ym("top"),QU=Ym("right"),DU=Ym("bottom"),MU=Ym("left"),RU={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},PU={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){switch(t){case"rtl":return 1;case"ltr":default:return 0}}},HU={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(Hi).reduce(function(n,r){return n|zU(r.value)},0)}},zU=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},qU={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},KU={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return t.type===20&&t.value==="normal"?0:t.type===17||t.type===15?t.number:0}},vm;(function(e){e.NORMAL="normal",e.STRICT="strict"})(vm||(vm={}));var GU={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"strict":return vm.STRICT;case"normal":default:return vm.NORMAL}}},VU={name:"line-height",initialValue:"normal",prefix:!1,type:4},t1=function(e,t){return Hi(e)&&e.value==="normal"?1.2*t:e.type===17?t*e.number:vs(e)?na(e,t):t},ZU={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return t.type===20&&t.value==="none"?null:_b.parse(e,t)}},$U={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){switch(t){case"inside":return 0;case"outside":default:return 1}}},xx={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Xm=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},YU=Xm("top"),XU=Xm("right"),JU=Xm("bottom"),WU=Xm("left"),eI={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(Hi).map(function(n){switch(n.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},tI={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-word":return"break-word";case"normal":default:return"normal"}}},Jm=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},nI=Jm("top"),rI=Jm("right"),iI=Jm("bottom"),aI=Jm("left"),sI={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},oI={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},lI={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&vx(t[0],"none")?[]:pA(t).map(function(n){for(var r={color:PA.TRANSPARENT,offsetX:so,offsetY:so,blur:so},i=0,s=0;s<n.length;s++){var c=n[s];Ec(c)?(i===0?r.offsetX=c:i===1?r.offsetY=c:r.blur=c,i++):r.color=Cc.parse(e,c)}return r})}},AI={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},cI={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(t.type===20&&t.value==="none")return null;if(t.type===18){var n=hI[t.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return n(t.values)}return null}},uI=function(e){var t=e.filter(function(n){return n.type===17}).map(function(n){return n.number});return t.length===6?t:null},dI=function(e){var t=e.filter(function(h){return h.type===17}).map(function(h){return h.number}),n=t[0],r=t[1];t[2],t[3];var i=t[4],s=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var c=t[12],d=t[13];return t[14],t[15],t.length===16?[n,r,i,s,c,d]:null},hI={matrix:uI,matrix3d:dI},n1={type:16,number:50,flags:nf},fI=[n1,n1],pI={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var n=t.filter(vs);return n.length!==2?fI:[n[0],n[1]]}},mI={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Eh;(function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"})(Eh||(Eh={}));var gI={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return Eh.BREAK_ALL;case"keep-all":return Eh.KEEP_ALL;case"normal":default:return Eh.NORMAL}}},vI={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(t.type===20)return{auto:!0,order:0};if(wd(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},pC={name:"time",parse:function(e,t){if(t.type===15)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},xI={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return wd(t)?t.number:1}},bI={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},yI={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(Hi).map(function(n){switch(n.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(n){return n!==0})}},_I={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var n=[],r=[];return t.forEach(function(i){switch(i.type){case 20:case 0:n.push(i.value);break;case 17:n.push(i.number.toString());break;case 4:r.push(n.join(" ")),n.length=0;break}}),n.length&&r.push(n.join(" ")),r.map(function(i){return i.indexOf(" ")===-1?i:"'"+i+"'"})}},wI={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},BI={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){if(wd(t))return t.number;if(Hi(t))switch(t.value){case"bold":return 700;case"normal":default:return 400}return 400}},CI={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(Hi).map(function(n){return n.value})}},NI={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Ls=function(e,t){return(e&t)!==0},EI={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var n=t[0];return n.type===20&&n.value==="none"?[]:t}},SI={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var n=t[0];if(n.type===20&&n.value==="none")return null;for(var r=[],i=t.filter(J5),s=0;s<i.length;s++){var c=i[s],d=i[s+1];if(c.type===20){var h=d&&wd(d)?d.number:1;r.push({counter:c.value,increment:h})}}return r}},LI={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return[];for(var n=[],r=t.filter(J5),i=0;i<r.length;i++){var s=r[i],c=r[i+1];if(Hi(s)&&s.value!=="none"){var d=c&&wd(c)?c.number:0;n.push({counter:s.value,reset:d})}}return n}},jI={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(rf).map(function(n){return pC.parse(e,n)})}},kI={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var n=t[0];if(n.type===20&&n.value==="none")return null;var r=[],i=t.filter(rU);if(i.length%2!==0)return null;for(var s=0;s<i.length;s+=2){var c=i[s].value,d=i[s+1].value;r.push({open:c,close:d})}return r}},r1=function(e,t,n){if(!e)return"";var r=e[Math.min(t,e.length-1)];return r?n?r.open:r.close:""},UI={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&vx(t[0],"none")?[]:pA(t).map(function(n){for(var r={color:255,offsetX:so,offsetY:so,blur:so,spread:so,inset:!1},i=0,s=0;s<n.length;s++){var c=n[s];vx(c,"inset")?r.inset=!0:Ec(c)?(i===0?r.offsetX=c:i===1?r.offsetY=c:i===2?r.blur=c:r.spread=c,i++):r.color=Cc.parse(e,c)}return r})}},II={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var n=[0,1,2],r=[];return t.filter(Hi).forEach(function(i){switch(i.value){case"stroke":r.push(1);break;case"fill":r.push(0);break;case"markers":r.push(2);break}}),n.forEach(function(i){r.indexOf(i)===-1&&r.push(i)}),r}},TI={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},FI={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return rf(t)?t.number:0}},OI=(function(){function e(t,n){var r,i;this.animationDuration=Nn(t,jI,n.animationDuration),this.backgroundClip=Nn(t,sU,n.backgroundClip),this.backgroundColor=Nn(t,oU,n.backgroundColor),this.backgroundImage=Nn(t,gU,n.backgroundImage),this.backgroundOrigin=Nn(t,vU,n.backgroundOrigin),this.backgroundPosition=Nn(t,xU,n.backgroundPosition),this.backgroundRepeat=Nn(t,bU,n.backgroundRepeat),this.backgroundSize=Nn(t,_U,n.backgroundSize),this.borderTopColor=Nn(t,BU,n.borderTopColor),this.borderRightColor=Nn(t,CU,n.borderRightColor),this.borderBottomColor=Nn(t,NU,n.borderBottomColor),this.borderLeftColor=Nn(t,EU,n.borderLeftColor),this.borderTopLeftRadius=Nn(t,SU,n.borderTopLeftRadius),this.borderTopRightRadius=Nn(t,LU,n.borderTopRightRadius),this.borderBottomRightRadius=Nn(t,jU,n.borderBottomRightRadius),this.borderBottomLeftRadius=Nn(t,kU,n.borderBottomLeftRadius),this.borderTopStyle=Nn(t,UU,n.borderTopStyle),this.borderRightStyle=Nn(t,IU,n.borderRightStyle),this.borderBottomStyle=Nn(t,TU,n.borderBottomStyle),this.borderLeftStyle=Nn(t,FU,n.borderLeftStyle),this.borderTopWidth=Nn(t,OU,n.borderTopWidth),this.borderRightWidth=Nn(t,QU,n.borderRightWidth),this.borderBottomWidth=Nn(t,DU,n.borderBottomWidth),this.borderLeftWidth=Nn(t,MU,n.borderLeftWidth),this.boxShadow=Nn(t,UI,n.boxShadow),this.color=Nn(t,RU,n.color),this.direction=Nn(t,PU,n.direction),this.display=Nn(t,HU,n.display),this.float=Nn(t,qU,n.cssFloat),this.fontFamily=Nn(t,_I,n.fontFamily),this.fontSize=Nn(t,wI,n.fontSize),this.fontStyle=Nn(t,NI,n.fontStyle),this.fontVariant=Nn(t,CI,n.fontVariant),this.fontWeight=Nn(t,BI,n.fontWeight),this.letterSpacing=Nn(t,KU,n.letterSpacing),this.lineBreak=Nn(t,GU,n.lineBreak),this.lineHeight=Nn(t,VU,n.lineHeight),this.listStyleImage=Nn(t,ZU,n.listStyleImage),this.listStylePosition=Nn(t,$U,n.listStylePosition),this.listStyleType=Nn(t,xx,n.listStyleType),this.marginTop=Nn(t,YU,n.marginTop),this.marginRight=Nn(t,XU,n.marginRight),this.marginBottom=Nn(t,JU,n.marginBottom),this.marginLeft=Nn(t,WU,n.marginLeft),this.opacity=Nn(t,xI,n.opacity);var s=Nn(t,eI,n.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=Nn(t,tI,n.overflowWrap),this.paddingTop=Nn(t,nI,n.paddingTop),this.paddingRight=Nn(t,rI,n.paddingRight),this.paddingBottom=Nn(t,iI,n.paddingBottom),this.paddingLeft=Nn(t,aI,n.paddingLeft),this.paintOrder=Nn(t,II,n.paintOrder),this.position=Nn(t,oI,n.position),this.textAlign=Nn(t,sI,n.textAlign),this.textDecorationColor=Nn(t,bI,(r=n.textDecorationColor)!==null&&r!==void 0?r:n.color),this.textDecorationLine=Nn(t,yI,(i=n.textDecorationLine)!==null&&i!==void 0?i:n.textDecoration),this.textShadow=Nn(t,lI,n.textShadow),this.textTransform=Nn(t,AI,n.textTransform),this.transform=Nn(t,cI,n.transform),this.transformOrigin=Nn(t,pI,n.transformOrigin),this.visibility=Nn(t,mI,n.visibility),this.webkitTextStrokeColor=Nn(t,TI,n.webkitTextStrokeColor),this.webkitTextStrokeWidth=Nn(t,FI,n.webkitTextStrokeWidth),this.wordBreak=Nn(t,gI,n.wordBreak),this.zIndex=Nn(t,vI,n.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},e.prototype.isTransparent=function(){return Nc(this.backgroundColor)},e.prototype.isTransformed=function(){return this.transform!==null},e.prototype.isPositioned=function(){return this.position!==0},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return this.float!==0},e.prototype.isInlineLevel=function(){return Ls(this.display,4)||Ls(this.display,33554432)||Ls(this.display,268435456)||Ls(this.display,536870912)||Ls(this.display,67108864)||Ls(this.display,134217728)},e})(),QI=(function(){function e(t,n){this.content=Nn(t,EI,n.content),this.quotes=Nn(t,kI,n.quotes)}return e})(),i1=(function(){function e(t,n){this.counterIncrement=Nn(t,SI,n.counterIncrement),this.counterReset=Nn(t,LI,n.counterReset)}return e})(),Nn=function(e,t,n){var r=new Y5,i=n!==null&&typeof n<"u"?n.toString():t.initialValue;r.write(i);var s=new X5(r.read());switch(t.type){case 2:var c=s.parseComponentValue();return t.parse(e,Hi(c)?c.value:t.initialValue);case 0:return t.parse(e,s.parseComponentValue());case 1:return t.parse(e,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(t.format){case"angle":return Km.parse(e,s.parseComponentValue());case"color":return Cc.parse(e,s.parseComponentValue());case"image":return _b.parse(e,s.parseComponentValue());case"length":var d=s.parseComponentValue();return Ec(d)?d:so;case"length-percentage":var h=s.parseComponentValue();return vs(h)?h:so;case"time":return pC.parse(e,s.parseComponentValue())}break}},DI="data-html2canvas-debug",MI=function(e){var t=e.getAttribute(DI);switch(t){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},bx=function(e,t){var n=MI(e);return n===1||t===n},mA=(function(){function e(t,n){if(this.context=t,this.textNodes=[],this.elements=[],this.flags=0,bx(n,3))debugger;this.styles=new OI(t,window.getComputedStyle(n,null)),wx(n)&&(this.styles.animationDuration.some(function(r){return r>0})&&(n.style.animationDuration="0s"),this.styles.transform!==null&&(n.style.transform="none")),this.bounds=zm(this.context,n),bx(n,4)&&(this.flags|=16)}return e})(),RI="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",a1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",yh=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var xp=0;xp<a1.length;xp++)yh[a1.charCodeAt(xp)]=xp;var PI=function(e){var t=e.length*.75,n=e.length,r,i=0,s,c,d,h;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var f=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),g=Array.isArray(f)?f:new Uint8Array(f);for(r=0;r<n;r+=4)s=yh[e.charCodeAt(r)],c=yh[e.charCodeAt(r+1)],d=yh[e.charCodeAt(r+2)],h=yh[e.charCodeAt(r+3)],g[i++]=s<<2|c>>4,g[i++]=(c&15)<<4|d>>2,g[i++]=(d&3)<<6|h&63;return f},HI=function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n.push(e[r+1]<<8|e[r]);return n},zI=function(e){for(var t=e.length,n=[],r=0;r<t;r+=4)n.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return n},tu=5,wb=11,P0=2,qI=wb-tu,mC=65536>>tu,KI=1<<tu,H0=KI-1,GI=1024>>tu,VI=mC+GI,ZI=VI,$I=32,YI=ZI+$I,XI=65536>>wb,JI=1<<qI,WI=JI-1,s1=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},eT=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},tT=function(e,t){var n=PI(e),r=Array.isArray(n)?zI(n):new Uint32Array(n),i=Array.isArray(n)?HI(n):new Uint16Array(n),s=24,c=s1(i,s/2,r[4]/2),d=r[5]===2?s1(i,(s+r[4])/2):eT(r,Math.ceil((s+r[4])/4));return new nT(r[0],r[1],r[2],r[3],c,d)},nT=(function(){function e(t,n,r,i,s,c){this.initialValue=t,this.errorValue=n,this.highStart=r,this.highValueIndex=i,this.index=s,this.data=c}return e.prototype.get=function(t){var n;if(t>=0){if(t<55296||t>56319&&t<=65535)return n=this.index[t>>tu],n=(n<<P0)+(t&H0),this.data[n];if(t<=65535)return n=this.index[mC+(t-55296>>tu)],n=(n<<P0)+(t&H0),this.data[n];if(t<this.highStart)return n=YI-XI+(t>>wb),n=this.index[n],n+=t>>tu&WI,n=this.index[n],n=(n<<P0)+(t&H0),this.data[n];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e})(),o1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",rT=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var bp=0;bp<o1.length;bp++)rT[o1.charCodeAt(bp)]=bp;var iT=1,z0=2,q0=3,l1=4,A1=5,aT=7,c1=8,K0=9,G0=10,u1=11,d1=12,h1=13,f1=14,V0=15,sT=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var s=e.charCodeAt(n++);(s&64512)===56320?t.push(((i&1023)<<10)+(s&1023)+65536):(t.push(i),n--)}else t.push(i)}return t},oT=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var r=[],i=-1,s="";++i<n;){var c=e[i];c<=65535?r.push(c):(c-=65536,r.push((c>>10)+55296,c%1024+56320)),(i+1===n||r.length>16384)&&(s+=String.fromCharCode.apply(String,r),r.length=0)}return s},lT=tT(RI),vl="",Z0="",AT=function(e){return lT.get(e)},cT=function(e,t,n){var r=n-2,i=t[r],s=t[n-1],c=t[n];if(s===z0&&c===q0)return vl;if(s===z0||s===q0||s===l1||c===z0||c===q0||c===l1)return Z0;if(s===c1&&[c1,K0,u1,d1].indexOf(c)!==-1||(s===u1||s===K0)&&(c===K0||c===G0)||(s===d1||s===G0)&&c===G0||c===h1||c===A1||c===aT||s===iT)return vl;if(s===h1&&c===f1){for(;i===A1;)i=t[--r];if(i===f1)return vl}if(s===V0&&c===V0){for(var d=0;i===V0;)d++,i=t[--r];if(d%2===0)return vl}return Z0},uT=function(e){var t=sT(e),n=t.length,r=0,i=0,s=t.map(AT);return{next:function(){if(r>=n)return{done:!0,value:null};for(var c=vl;r<n&&(c=cT(t,s,++r))===vl;);if(c!==vl||r===n){var d=oT.apply(null,t.slice(i,r));return i=r,{value:d,done:!1}}return{done:!0,value:null}}}},dT=function(e){for(var t=uT(e),n=[],r;!(r=t.next()).done;)r.value&&n.push(r.value.slice());return n},hT=function(e){var t=123;if(e.createRange){var n=e.createRange();if(n.getBoundingClientRect){var r=e.createElement("boundtest");r.style.height=t+"px",r.style.display="block",e.body.appendChild(r),n.selectNode(r);var i=n.getBoundingClientRect(),s=Math.round(i.height);if(e.body.removeChild(r),s===t)return!0}}return!1},fT=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var n=e.createRange();t.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var r=t.firstChild,i=qm(r.data).map(function(h){return ns(h)}),s=0,c={},d=i.every(function(h,f){n.setStart(r,s),n.setEnd(r,s+h.length);var g=n.getBoundingClientRect();s+=h.length;var x=g.x>c.x||g.y>c.y;return c=g,f===0?!0:x});return e.body.removeChild(t),d},pT=function(){return typeof new Image().crossOrigin<"u"},mT=function(){return typeof new XMLHttpRequest().responseType=="string"},gT=function(e){var t=new Image,n=e.createElement("canvas"),r=n.getContext("2d");if(!r)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(t,0,0),n.toDataURL()}catch{return!1}return!0},p1=function(e){return e[0]===0&&e[1]===255&&e[2]===0&&e[3]===255},vT=function(e){var t=e.createElement("canvas"),n=100;t.width=n,t.height=n;var r=t.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,n,n);var i=new Image,s=t.toDataURL();i.src=s;var c=yx(n,n,0,0,i);return r.fillStyle="red",r.fillRect(0,0,n,n),m1(c).then(function(d){r.drawImage(d,0,0);var h=r.getImageData(0,0,n,n).data;r.fillStyle="red",r.fillRect(0,0,n,n);var f=e.createElement("div");return f.style.backgroundImage="url("+s+")",f.style.height=n+"px",p1(h)?m1(yx(n,n,0,0,f)):Promise.reject(!1)}).then(function(d){return r.drawImage(d,0,0),p1(r.getImageData(0,0,n,n).data)}).catch(function(){return!1})},yx=function(e,t,n,r,i){var s="http://www.w3.org/2000/svg",c=document.createElementNS(s,"svg"),d=document.createElementNS(s,"foreignObject");return c.setAttributeNS(null,"width",e.toString()),c.setAttributeNS(null,"height",t.toString()),d.setAttributeNS(null,"width","100%"),d.setAttributeNS(null,"height","100%"),d.setAttributeNS(null,"x",n.toString()),d.setAttributeNS(null,"y",r.toString()),d.setAttributeNS(null,"externalResourcesRequired","true"),c.appendChild(d),d.appendChild(i),c},m1=function(e){return new Promise(function(t,n){var r=new Image;r.onload=function(){return t(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},ao={get SUPPORT_RANGE_BOUNDS(){var e=hT(document);return Object.defineProperty(ao,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=ao.SUPPORT_RANGE_BOUNDS&&fT(document);return Object.defineProperty(ao,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=gT(document);return Object.defineProperty(ao,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e=typeof Array.from=="function"&&typeof window.fetch=="function"?vT(document):Promise.resolve(!1);return Object.defineProperty(ao,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=pT();return Object.defineProperty(ao,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=mT();return Object.defineProperty(ao,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(ao,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(ao,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},Sh=(function(){function e(t,n){this.text=t,this.bounds=n}return e})(),xT=function(e,t,n,r){var i=_T(t,n),s=[],c=0;return i.forEach(function(d){if(n.textDecorationLine.length||d.trim().length>0)if(ao.SUPPORT_RANGE_BOUNDS){var h=g1(r,c,d.length).getClientRects();if(h.length>1){var f=Bb(d),g=0;f.forEach(function(E){s.push(new Sh(E,HA.fromDOMRectList(e,g1(r,g+c,E.length).getClientRects()))),g+=E.length})}else s.push(new Sh(d,HA.fromDOMRectList(e,h)))}else{var x=r.splitText(d.length);s.push(new Sh(d,bT(e,r))),r=x}else ao.SUPPORT_RANGE_BOUNDS||(r=r.splitText(d.length));c+=d.length}),s},bT=function(e,t){var n=t.ownerDocument;if(n){var r=n.createElement("html2canvaswrapper");r.appendChild(t.cloneNode(!0));var i=t.parentNode;if(i){i.replaceChild(r,t);var s=zm(e,r);return r.firstChild&&i.replaceChild(r.firstChild,r),s}}return HA.EMPTY},g1=function(e,t,n){var r=e.ownerDocument;if(!r)throw new Error("Node has no owner document");var i=r.createRange();return i.setStart(e,t),i.setEnd(e,t+n),i},Bb=function(e){if(ao.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map(function(n){return n.segment})}return dT(e)},yT=function(e,t){if(ao.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(n.segment(e)).map(function(r){return r.segment})}return BT(e,t)},_T=function(e,t){return t.letterSpacing!==0?Bb(e):yT(e,t)},wT=[32,160,4961,65792,65793,4153,4241],BT=function(e,t){for(var n=Xj(e,{lineBreak:t.lineBreak,wordBreak:t.overflowWrap==="break-word"?"break-word":t.wordBreak}),r=[],i,s=function(){if(i.value){var c=i.value.slice(),d=qm(c),h="";d.forEach(function(f){wT.indexOf(f)===-1?h+=ns(f):(h.length&&r.push(h),r.push(ns(f)),h="")}),h.length&&r.push(h)}};!(i=n.next()).done;)s();return r},CT=(function(){function e(t,n,r){this.text=NT(n.data,r.textTransform),this.textBounds=xT(t,this.text,r,n)}return e})(),NT=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(ET,ST);case 2:return e.toUpperCase();default:return e}},ET=/(^|\s|:|-|\(|\))([a-z])/g,ST=function(e,t,n){return e.length>0?t+n.toUpperCase():e},gC=(function(e){Pl(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.src=r.currentSrc||r.src,i.intrinsicWidth=r.naturalWidth,i.intrinsicHeight=r.naturalHeight,i.context.cache.addImage(i.src),i}return t})(mA),vC=(function(e){Pl(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.canvas=r,i.intrinsicWidth=r.width,i.intrinsicHeight=r.height,i}return t})(mA),xC=(function(e){Pl(t,e);function t(n,r){var i=e.call(this,n,r)||this,s=new XMLSerializer,c=zm(n,r);return r.setAttribute("width",c.width+"px"),r.setAttribute("height",c.height+"px"),i.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(r)),i.intrinsicWidth=r.width.baseVal.value,i.intrinsicHeight=r.height.baseVal.value,i.context.cache.addImage(i.svg),i}return t})(mA),bC=(function(e){Pl(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.value=r.value,i}return t})(mA),_x=(function(e){Pl(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.start=r.start,i.reversed=typeof r.reversed=="boolean"&&r.reversed===!0,i}return t})(mA),LT=[{type:15,flags:0,unit:"px",number:3}],jT=[{type:16,flags:0,number:50}],kT=function(e){return e.width>e.height?new HA(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new HA(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},UT=function(e){var t=e.type===IT?new Array(e.value.length+1).join(""):e.value;return t.length===0?e.placeholder||"":t},xm="checkbox",bm="radio",IT="password",v1=707406591,Cb=(function(e){Pl(t,e);function t(n,r){var i=e.call(this,n,r)||this;switch(i.type=r.type.toLowerCase(),i.checked=r.checked,i.value=UT(r),(i.type===xm||i.type===bm)&&(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=1,i.styles.backgroundClip=[0],i.styles.backgroundOrigin=[0],i.bounds=kT(i.bounds)),i.type){case xm:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=LT;break;case bm:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=jT;break}return i}return t})(mA),yC=(function(e){Pl(t,e);function t(n,r){var i=e.call(this,n,r)||this,s=r.options[r.selectedIndex||0];return i.value=s&&s.text||"",i}return t})(mA),_C=(function(e){Pl(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.value=r.value,i}return t})(mA),wC=(function(e){Pl(t,e);function t(n,r){var i=e.call(this,n,r)||this;i.src=r.src,i.width=parseInt(r.width,10)||0,i.height=parseInt(r.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(r.contentWindow&&r.contentWindow.document&&r.contentWindow.document.documentElement){i.tree=CC(n,r.contentWindow.document.documentElement);var s=r.contentWindow.document.documentElement?Nh(n,getComputedStyle(r.contentWindow.document.documentElement).backgroundColor):PA.TRANSPARENT,c=r.contentWindow.document.body?Nh(n,getComputedStyle(r.contentWindow.document.body).backgroundColor):PA.TRANSPARENT;i.backgroundColor=Nc(s)?Nc(c)?i.styles.backgroundColor:c:s}}catch{}return i}return t})(mA),TT=["OL","UL","MENU"],$p=function(e,t,n,r){for(var i=t.firstChild,s=void 0;i;i=s)if(s=i.nextSibling,NC(i)&&i.data.trim().length>0)n.textNodes.push(new CT(e,i,n.styles));else if(id(i))if(jC(i)&&i.assignedNodes)i.assignedNodes().forEach(function(d){return $p(e,d,n,r)});else{var c=BC(e,i);c.styles.isVisible()&&(FT(i,c,r)?c.flags|=4:OT(c.styles)&&(c.flags|=2),TT.indexOf(i.tagName)!==-1&&(c.flags|=8),n.elements.push(c),i.slot,i.shadowRoot?$p(e,i.shadowRoot,c,r):!ym(i)&&!EC(i)&&!_m(i)&&$p(e,i,c,r))}},BC=function(e,t){return Bx(t)?new gC(e,t):SC(t)?new vC(e,t):EC(t)?new xC(e,t):QT(t)?new bC(e,t):DT(t)?new _x(e,t):MT(t)?new Cb(e,t):_m(t)?new yC(e,t):ym(t)?new _C(e,t):LC(t)?new wC(e,t):new mA(e,t)},CC=function(e,t){var n=BC(e,t);return n.flags|=4,$p(e,t,n,n),n},FT=function(e,t,n){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||Nb(e)&&n.styles.isTransparent()},OT=function(e){return e.isPositioned()||e.isFloating()},NC=function(e){return e.nodeType===Node.TEXT_NODE},id=function(e){return e.nodeType===Node.ELEMENT_NODE},wx=function(e){return id(e)&&typeof e.style<"u"&&!Yp(e)},Yp=function(e){return typeof e.className=="object"},QT=function(e){return e.tagName==="LI"},DT=function(e){return e.tagName==="OL"},MT=function(e){return e.tagName==="INPUT"},RT=function(e){return e.tagName==="HTML"},EC=function(e){return e.tagName==="svg"},Nb=function(e){return e.tagName==="BODY"},SC=function(e){return e.tagName==="CANVAS"},x1=function(e){return e.tagName==="VIDEO"},Bx=function(e){return e.tagName==="IMG"},LC=function(e){return e.tagName==="IFRAME"},b1=function(e){return e.tagName==="STYLE"},PT=function(e){return e.tagName==="SCRIPT"},ym=function(e){return e.tagName==="TEXTAREA"},_m=function(e){return e.tagName==="SELECT"},jC=function(e){return e.tagName==="SLOT"},y1=function(e){return e.tagName.indexOf("-")>0},HT=(function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(t){var n=this.counters[t];return n&&n.length?n[n.length-1]:1},e.prototype.getCounterValues=function(t){var n=this.counters[t];return n||[]},e.prototype.pop=function(t){var n=this;t.forEach(function(r){return n.counters[r].pop()})},e.prototype.parse=function(t){var n=this,r=t.counterIncrement,i=t.counterReset,s=!0;r!==null&&r.forEach(function(d){var h=n.counters[d.counter];h&&d.increment!==0&&(s=!1,h.length||h.push(1),h[Math.max(0,h.length-1)]+=d.increment)});var c=[];return s&&i.forEach(function(d){var h=n.counters[d.counter];c.push(d.counter),h||(h=n.counters[d.counter]=[]),h.push(d.reset)}),c},e})(),_1={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},w1={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},zT={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},qT={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Qu=function(e,t,n,r,i,s){return e<t||e>n?zh(e,i,s.length>0):r.integers.reduce(function(c,d,h){for(;e>=d;)e-=d,c+=r.values[h];return c},"")+s},kC=function(e,t,n,r){var i="";do n||e--,i=r(e)+i,e/=t;while(e*t>=t);return i},ts=function(e,t,n,r,i){var s=n-t+1;return(e<0?"-":"")+(kC(Math.abs(e),s,r,function(c){return ns(Math.floor(c%s)+t)})+i)},Dc=function(e,t,n){n===void 0&&(n=". ");var r=t.length;return kC(Math.abs(e),r,!1,function(i){return t[Math.floor(i%r)]})+n},Xu=1,fc=2,pc=4,_h=8,FA=function(e,t,n,r,i,s){if(e<-9999||e>9999)return zh(e,4,i.length>0);var c=Math.abs(e),d=i;if(c===0)return t[0]+d;for(var h=0;c>0&&h<=4;h++){var f=c%10;f===0&&Ls(s,Xu)&&d!==""?d=t[f]+d:f>1||f===1&&h===0||f===1&&h===1&&Ls(s,fc)||f===1&&h===1&&Ls(s,pc)&&e>100||f===1&&h>1&&Ls(s,_h)?d=t[f]+(h>0?n[h-1]:"")+d:f===1&&h>0&&(d=n[h-1]+d),c=Math.floor(c/10)}return(e<0?r:"")+d},B1="",C1="",N1="",$0="",zh=function(e,t,n){var r=n?". ":"",i=n?"":"",s=n?", ":"",c=n?" ":"";switch(t){case 0:return""+c;case 1:return""+c;case 2:return""+c;case 5:var d=ts(e,48,57,!0,r);return d.length<4?"0"+d:d;case 4:return Dc(e,"",i);case 6:return Qu(e,1,3999,_1,3,r).toLowerCase();case 7:return Qu(e,1,3999,_1,3,r);case 8:return ts(e,945,969,!1,r);case 9:return ts(e,97,122,!1,r);case 10:return ts(e,65,90,!1,r);case 11:return ts(e,1632,1641,!0,r);case 12:case 49:return Qu(e,1,9999,w1,3,r);case 35:return Qu(e,1,9999,w1,3,r).toLowerCase();case 13:return ts(e,2534,2543,!0,r);case 14:case 30:return ts(e,6112,6121,!0,r);case 15:return Dc(e,"",i);case 16:return Dc(e,"",i);case 17:case 48:return FA(e,"",B1,"",i,fc|pc|_h);case 47:return FA(e,"",C1,"",i,Xu|fc|pc|_h);case 42:return FA(e,"",B1,"",i,fc|pc|_h);case 41:return FA(e,"",C1,"",i,Xu|fc|pc|_h);case 26:return FA(e,"","",N1,i,0);case 25:return FA(e,"","",N1,i,Xu|fc|pc);case 31:return FA(e,"","",$0,s,Xu|fc|pc);case 33:return FA(e,"","",$0,s,0);case 32:return FA(e,"","",$0,s,Xu|fc|pc);case 18:return ts(e,2406,2415,!0,r);case 20:return Qu(e,1,19999,qT,3,r);case 21:return ts(e,2790,2799,!0,r);case 22:return ts(e,2662,2671,!0,r);case 22:return Qu(e,1,10999,zT,3,r);case 23:return Dc(e,"");case 24:return Dc(e,"");case 27:return ts(e,3302,3311,!0,r);case 28:return Dc(e,"",i);case 29:return Dc(e,"",i);case 34:return ts(e,3792,3801,!0,r);case 37:return ts(e,6160,6169,!0,r);case 38:return ts(e,4160,4169,!0,r);case 39:return ts(e,2918,2927,!0,r);case 40:return ts(e,1776,1785,!0,r);case 43:return ts(e,3046,3055,!0,r);case 44:return ts(e,3174,3183,!0,r);case 45:return ts(e,3664,3673,!0,r);case 46:return ts(e,3872,3881,!0,r);case 3:default:return ts(e,48,57,!0,r)}},UC="data-html2canvas-ignore",E1=(function(){function e(t,n,r){if(this.context=t,this.options=r,this.scrolledElements=[],this.referenceElement=n,this.counters=new HT,this.quoteDepth=0,!n.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(n.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(t,n){var r=this,i=KT(t,n);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var s=t.defaultView.pageXOffset,c=t.defaultView.pageYOffset,d=i.contentWindow,h=d.document,f=ZT(i).then(function(){return jo(r,void 0,void 0,function(){var g,x;return bo(this,function(E){switch(E.label){case 0:return this.scrolledElements.forEach(JT),d&&(d.scrollTo(n.left,n.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(d.scrollY!==n.top||d.scrollX!==n.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(d.scrollX-n.left,d.scrollY-n.top,0,0))),g=this.options.onclone,x=this.clonedReferenceElement,typeof x>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:h.fonts&&h.fonts.ready?[4,h.fonts.ready]:[3,2];case 1:E.sent(),E.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,VT(h)]:[3,4];case 3:E.sent(),E.label=4;case 4:return typeof g=="function"?[2,Promise.resolve().then(function(){return g(h,x)}).then(function(){return i})]:[2,i]}})})});return h.open(),h.write(YT(document.doctype)+"<html></html>"),XT(this.referenceElement.ownerDocument,s,c),h.replaceChild(h.adoptNode(this.documentElement),h.documentElement),h.close(),f},e.prototype.createElementClone=function(t){if(bx(t,2))debugger;if(SC(t))return this.createCanvasClone(t);if(x1(t))return this.createVideoClone(t);if(b1(t))return this.createStyleClone(t);var n=t.cloneNode(!1);return Bx(n)&&(Bx(t)&&t.currentSrc&&t.currentSrc!==t.src&&(n.src=t.currentSrc,n.srcset=""),n.loading==="lazy"&&(n.loading="eager")),y1(n)?this.createCustomElementClone(n):n},e.prototype.createCustomElementClone=function(t){var n=document.createElement("html2canvascustomelement");return Y0(t.style,n),n},e.prototype.createStyleClone=function(t){try{var n=t.sheet;if(n&&n.cssRules){var r=[].slice.call(n.cssRules,0).reduce(function(s,c){return c&&typeof c.cssText=="string"?s+c.cssText:s},""),i=t.cloneNode(!1);return i.textContent=r,i}}catch(s){if(this.context.logger.error("Unable to access cssRules property",s),s.name!=="SecurityError")throw s}return t.cloneNode(!1)},e.prototype.createCanvasClone=function(t){var n;if(this.options.inlineImages&&t.ownerDocument){var r=t.ownerDocument.createElement("img");try{return r.src=t.toDataURL(),r}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",t)}}var i=t.cloneNode(!1);try{i.width=t.width,i.height=t.height;var s=t.getContext("2d"),c=i.getContext("2d");if(c)if(!this.options.allowTaint&&s)c.putImageData(s.getImageData(0,0,t.width,t.height),0,0);else{var d=(n=t.getContext("webgl2"))!==null&&n!==void 0?n:t.getContext("webgl");if(d){var h=d.getContextAttributes();(h==null?void 0:h.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",t)}c.drawImage(t,0,0)}return i}catch{this.context.logger.info("Unable to clone canvas as it is tainted",t)}return i},e.prototype.createVideoClone=function(t){var n=t.ownerDocument.createElement("canvas");n.width=t.offsetWidth,n.height=t.offsetHeight;var r=n.getContext("2d");try{return r&&(r.drawImage(t,0,0,n.width,n.height),this.options.allowTaint||r.getImageData(0,0,n.width,n.height)),n}catch{this.context.logger.info("Unable to clone video as it is tainted",t)}var i=t.ownerDocument.createElement("canvas");return i.width=t.offsetWidth,i.height=t.offsetHeight,i},e.prototype.appendChildNode=function(t,n,r){(!id(n)||!PT(n)&&!n.hasAttribute(UC)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(n)))&&(!this.options.copyStyles||!id(n)||!b1(n))&&t.appendChild(this.cloneNode(n,r))},e.prototype.cloneChildNodes=function(t,n,r){for(var i=this,s=t.shadowRoot?t.shadowRoot.firstChild:t.firstChild;s;s=s.nextSibling)if(id(s)&&jC(s)&&typeof s.assignedNodes=="function"){var c=s.assignedNodes();c.length&&c.forEach(function(d){return i.appendChildNode(n,d,r)})}else this.appendChildNode(n,s,r)},e.prototype.cloneNode=function(t,n){if(NC(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var r=t.ownerDocument.defaultView;if(r&&id(t)&&(wx(t)||Yp(t))){var i=this.createElementClone(t);i.style.transitionProperty="none";var s=r.getComputedStyle(t),c=r.getComputedStyle(t,":before"),d=r.getComputedStyle(t,":after");this.referenceElement===t&&wx(i)&&(this.clonedReferenceElement=i),Nb(i)&&t6(i);var h=this.counters.parse(new i1(this.context,s)),f=this.resolvePseudoContent(t,i,c,Lh.BEFORE);y1(t)&&(n=!0),x1(t)||this.cloneChildNodes(t,i,n),f&&i.insertBefore(f,i.firstChild);var g=this.resolvePseudoContent(t,i,d,Lh.AFTER);return g&&i.appendChild(g),this.counters.pop(h),(s&&(this.options.copyStyles||Yp(t))&&!LC(t)||n)&&Y0(s,i),(t.scrollTop!==0||t.scrollLeft!==0)&&this.scrolledElements.push([i,t.scrollLeft,t.scrollTop]),(ym(t)||_m(t))&&(ym(i)||_m(i))&&(i.value=t.value),i}return t.cloneNode(!1)},e.prototype.resolvePseudoContent=function(t,n,r,i){var s=this;if(r){var c=r.content,d=n.ownerDocument;if(!(!d||!c||c==="none"||c==="-moz-alt-content"||r.display==="none")){this.counters.parse(new i1(this.context,r));var h=new QI(this.context,r),f=d.createElement("html2canvaspseudoelement");Y0(r,f),h.content.forEach(function(x){if(x.type===0)f.appendChild(d.createTextNode(x.value));else if(x.type===22){var E=d.createElement("img");E.src=x.value,E.style.opacity="1",f.appendChild(E)}else if(x.type===18){if(x.name==="attr"){var w=x.values.filter(Hi);w.length&&f.appendChild(d.createTextNode(t.getAttribute(w[0].value)||""))}else if(x.name==="counter"){var I=x.values.filter(vd),j=I[0],F=I[1];if(j&&Hi(j)){var S=s.counters.getCounterValue(j.value),z=F&&Hi(F)?xx.parse(s.context,F.value):3;f.appendChild(d.createTextNode(zh(S,z,!1)))}}else if(x.name==="counters"){var D=x.values.filter(vd),j=D[0],G=D[1],F=D[2];if(j&&Hi(j)){var ce=s.counters.getCounterValues(j.value),Y=F&&Hi(F)?xx.parse(s.context,F.value):3,ge=G&&G.type===0?G.value:"",re=ce.map(function(V){return zh(V,Y,!1)}).join(ge);f.appendChild(d.createTextNode(re))}}}else if(x.type===20)switch(x.value){case"open-quote":f.appendChild(d.createTextNode(r1(h.quotes,s.quoteDepth++,!0)));break;case"close-quote":f.appendChild(d.createTextNode(r1(h.quotes,--s.quoteDepth,!1)));break;default:f.appendChild(d.createTextNode(x.value))}}),f.className=Cx+" "+Nx;var g=i===Lh.BEFORE?" "+Cx:" "+Nx;return Yp(n)?n.className.baseValue+=g:n.className+=g,f}}},e.destroy=function(t){return t.parentNode?(t.parentNode.removeChild(t),!0):!1},e})(),Lh;(function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"})(Lh||(Lh={}));var KT=function(e,t){var n=e.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=t.width.toString(),n.height=t.height.toString(),n.scrolling="no",n.setAttribute(UC,"true"),e.body.appendChild(n),n},GT=function(e){return new Promise(function(t){if(e.complete){t();return}if(!e.src){t();return}e.onload=t,e.onerror=t})},VT=function(e){return Promise.all([].slice.call(e.images,0).map(GT))},ZT=function(e){return new Promise(function(t,n){var r=e.contentWindow;if(!r)return n("No window assigned for iframe");var i=r.document;r.onload=e.onload=function(){r.onload=e.onload=null;var s=setInterval(function(){i.body.childNodes.length>0&&i.readyState==="complete"&&(clearInterval(s),t(e))},50)}})},$T=["all","d","content"],Y0=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e.item(n);$T.indexOf(r)===-1&&t.style.setProperty(r,e.getPropertyValue(r))}return t},YT=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},XT=function(e,t,n){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||n!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,n)},JT=function(e){var t=e[0],n=e[1],r=e[2];t.scrollLeft=n,t.scrollTop=r},WT=":before",e6=":after",Cx="___html2canvas___pseudoelement_before",Nx="___html2canvas___pseudoelement_after",S1=`{
    content: "" !important;
    display: none !important;
}`,t6=function(e){n6(e,"."+Cx+WT+S1+`
         .`+Nx+e6+S1)},n6=function(e,t){var n=e.ownerDocument;if(n){var r=n.createElement("style");r.textContent=t,e.appendChild(r)}},IC=(function(){function e(){}return e.getOrigin=function(t){var n=e._link;return n?(n.href=t,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e})(),r6=(function(){function e(t,n){this.context=t,this._options=n,this._cache={}}return e.prototype.addImage=function(t){var n=Promise.resolve();return this.has(t)||(J0(t)||o6(t))&&(this._cache[t]=this.loadImage(t)).catch(function(){}),n},e.prototype.match=function(t){return this._cache[t]},e.prototype.loadImage=function(t){return jo(this,void 0,void 0,function(){var n,r,i,s,c=this;return bo(this,function(d){switch(d.label){case 0:return n=IC.isSameOrigin(t),r=!X0(t)&&this._options.useCORS===!0&&ao.SUPPORT_CORS_IMAGES&&!n,i=!X0(t)&&!n&&!J0(t)&&typeof this._options.proxy=="string"&&ao.SUPPORT_CORS_XHR&&!r,!n&&this._options.allowTaint===!1&&!X0(t)&&!J0(t)&&!i&&!r?[2]:(s=t,i?[4,this.proxy(s)]:[3,2]);case 1:s=d.sent(),d.label=2;case 2:return this.context.logger.debug("Added image "+t.substring(0,256)),[4,new Promise(function(h,f){var g=new Image;g.onload=function(){return h(g)},g.onerror=f,(l6(s)||r)&&(g.crossOrigin="anonymous"),g.src=s,g.complete===!0&&setTimeout(function(){return h(g)},500),c._options.imageTimeout>0&&setTimeout(function(){return f("Timed out ("+c._options.imageTimeout+"ms) loading image")},c._options.imageTimeout)})];case 3:return[2,d.sent()]}})})},e.prototype.has=function(t){return typeof this._cache[t]<"u"},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(t){var n=this,r=this._options.proxy;if(!r)throw new Error("No proxy defined");var i=t.substring(0,256);return new Promise(function(s,c){var d=ao.SUPPORT_RESPONSE_TYPE?"blob":"text",h=new XMLHttpRequest;h.onload=function(){if(h.status===200)if(d==="text")s(h.response);else{var x=new FileReader;x.addEventListener("load",function(){return s(x.result)},!1),x.addEventListener("error",function(E){return c(E)},!1),x.readAsDataURL(h.response)}else c("Failed to proxy resource "+i+" with status code "+h.status)},h.onerror=c;var f=r.indexOf("?")>-1?"&":"?";if(h.open("GET",""+r+f+"url="+encodeURIComponent(t)+"&responseType="+d),d!=="text"&&h instanceof XMLHttpRequest&&(h.responseType=d),n._options.imageTimeout){var g=n._options.imageTimeout;h.timeout=g,h.ontimeout=function(){return c("Timed out ("+g+"ms) proxying "+i)}}h.send()})},e})(),i6=/^data:image\/svg\+xml/i,a6=/^data:image\/.*;base64,/i,s6=/^data:image\/.*/i,o6=function(e){return ao.SUPPORT_SVG_DRAWING||!A6(e)},X0=function(e){return s6.test(e)},l6=function(e){return a6.test(e)},J0=function(e){return e.substr(0,4)==="blob"},A6=function(e){return e.substr(-3).toLowerCase()==="svg"||i6.test(e)},vn=(function(){function e(t,n){this.type=0,this.x=t,this.y=n}return e.prototype.add=function(t,n){return new e(this.x+t,this.y+n)},e})(),Du=function(e,t,n){return new vn(e.x+(t.x-e.x)*n,e.y+(t.y-e.y)*n)},yp=(function(){function e(t,n,r,i){this.type=1,this.start=t,this.startControl=n,this.endControl=r,this.end=i}return e.prototype.subdivide=function(t,n){var r=Du(this.start,this.startControl,t),i=Du(this.startControl,this.endControl,t),s=Du(this.endControl,this.end,t),c=Du(r,i,t),d=Du(i,s,t),h=Du(c,d,t);return n?new e(this.start,r,c,h):new e(h,d,s,this.end)},e.prototype.add=function(t,n){return new e(this.start.add(t,n),this.startControl.add(t,n),this.endControl.add(t,n),this.end.add(t,n))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e})(),xl=function(e){return e.type===1},c6=(function(){function e(t){var n=t.styles,r=t.bounds,i=bh(n.borderTopLeftRadius,r.width,r.height),s=i[0],c=i[1],d=bh(n.borderTopRightRadius,r.width,r.height),h=d[0],f=d[1],g=bh(n.borderBottomRightRadius,r.width,r.height),x=g[0],E=g[1],w=bh(n.borderBottomLeftRadius,r.width,r.height),I=w[0],j=w[1],F=[];F.push((s+h)/r.width),F.push((I+x)/r.width),F.push((c+j)/r.height),F.push((f+E)/r.height);var S=Math.max.apply(Math,F);S>1&&(s/=S,c/=S,h/=S,f/=S,x/=S,E/=S,I/=S,j/=S);var z=r.width-h,D=r.height-E,G=r.width-x,ce=r.height-j,Y=n.borderTopWidth,ge=n.borderRightWidth,re=n.borderBottomWidth,M=n.borderLeftWidth,X=na(n.paddingTop,t.bounds.width),V=na(n.paddingRight,t.bounds.width),W=na(n.paddingBottom,t.bounds.width),oe=na(n.paddingLeft,t.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||c>0?va(r.left+M/3,r.top+Y/3,s-M/3,c-Y/3,Ni.TOP_LEFT):new vn(r.left+M/3,r.top+Y/3),this.topRightBorderDoubleOuterBox=s>0||c>0?va(r.left+z,r.top+Y/3,h-ge/3,f-Y/3,Ni.TOP_RIGHT):new vn(r.left+r.width-ge/3,r.top+Y/3),this.bottomRightBorderDoubleOuterBox=x>0||E>0?va(r.left+G,r.top+D,x-ge/3,E-re/3,Ni.BOTTOM_RIGHT):new vn(r.left+r.width-ge/3,r.top+r.height-re/3),this.bottomLeftBorderDoubleOuterBox=I>0||j>0?va(r.left+M/3,r.top+ce,I-M/3,j-re/3,Ni.BOTTOM_LEFT):new vn(r.left+M/3,r.top+r.height-re/3),this.topLeftBorderDoubleInnerBox=s>0||c>0?va(r.left+M*2/3,r.top+Y*2/3,s-M*2/3,c-Y*2/3,Ni.TOP_LEFT):new vn(r.left+M*2/3,r.top+Y*2/3),this.topRightBorderDoubleInnerBox=s>0||c>0?va(r.left+z,r.top+Y*2/3,h-ge*2/3,f-Y*2/3,Ni.TOP_RIGHT):new vn(r.left+r.width-ge*2/3,r.top+Y*2/3),this.bottomRightBorderDoubleInnerBox=x>0||E>0?va(r.left+G,r.top+D,x-ge*2/3,E-re*2/3,Ni.BOTTOM_RIGHT):new vn(r.left+r.width-ge*2/3,r.top+r.height-re*2/3),this.bottomLeftBorderDoubleInnerBox=I>0||j>0?va(r.left+M*2/3,r.top+ce,I-M*2/3,j-re*2/3,Ni.BOTTOM_LEFT):new vn(r.left+M*2/3,r.top+r.height-re*2/3),this.topLeftBorderStroke=s>0||c>0?va(r.left+M/2,r.top+Y/2,s-M/2,c-Y/2,Ni.TOP_LEFT):new vn(r.left+M/2,r.top+Y/2),this.topRightBorderStroke=s>0||c>0?va(r.left+z,r.top+Y/2,h-ge/2,f-Y/2,Ni.TOP_RIGHT):new vn(r.left+r.width-ge/2,r.top+Y/2),this.bottomRightBorderStroke=x>0||E>0?va(r.left+G,r.top+D,x-ge/2,E-re/2,Ni.BOTTOM_RIGHT):new vn(r.left+r.width-ge/2,r.top+r.height-re/2),this.bottomLeftBorderStroke=I>0||j>0?va(r.left+M/2,r.top+ce,I-M/2,j-re/2,Ni.BOTTOM_LEFT):new vn(r.left+M/2,r.top+r.height-re/2),this.topLeftBorderBox=s>0||c>0?va(r.left,r.top,s,c,Ni.TOP_LEFT):new vn(r.left,r.top),this.topRightBorderBox=h>0||f>0?va(r.left+z,r.top,h,f,Ni.TOP_RIGHT):new vn(r.left+r.width,r.top),this.bottomRightBorderBox=x>0||E>0?va(r.left+G,r.top+D,x,E,Ni.BOTTOM_RIGHT):new vn(r.left+r.width,r.top+r.height),this.bottomLeftBorderBox=I>0||j>0?va(r.left,r.top+ce,I,j,Ni.BOTTOM_LEFT):new vn(r.left,r.top+r.height),this.topLeftPaddingBox=s>0||c>0?va(r.left+M,r.top+Y,Math.max(0,s-M),Math.max(0,c-Y),Ni.TOP_LEFT):new vn(r.left+M,r.top+Y),this.topRightPaddingBox=h>0||f>0?va(r.left+Math.min(z,r.width-ge),r.top+Y,z>r.width+ge?0:Math.max(0,h-ge),Math.max(0,f-Y),Ni.TOP_RIGHT):new vn(r.left+r.width-ge,r.top+Y),this.bottomRightPaddingBox=x>0||E>0?va(r.left+Math.min(G,r.width-M),r.top+Math.min(D,r.height-re),Math.max(0,x-ge),Math.max(0,E-re),Ni.BOTTOM_RIGHT):new vn(r.left+r.width-ge,r.top+r.height-re),this.bottomLeftPaddingBox=I>0||j>0?va(r.left+M,r.top+Math.min(ce,r.height-re),Math.max(0,I-M),Math.max(0,j-re),Ni.BOTTOM_LEFT):new vn(r.left+M,r.top+r.height-re),this.topLeftContentBox=s>0||c>0?va(r.left+M+oe,r.top+Y+X,Math.max(0,s-(M+oe)),Math.max(0,c-(Y+X)),Ni.TOP_LEFT):new vn(r.left+M+oe,r.top+Y+X),this.topRightContentBox=h>0||f>0?va(r.left+Math.min(z,r.width+M+oe),r.top+Y+X,z>r.width+M+oe?0:h-M+oe,f-(Y+X),Ni.TOP_RIGHT):new vn(r.left+r.width-(ge+V),r.top+Y+X),this.bottomRightContentBox=x>0||E>0?va(r.left+Math.min(G,r.width-(M+oe)),r.top+Math.min(D,r.height+Y+X),Math.max(0,x-(ge+V)),E-(re+W),Ni.BOTTOM_RIGHT):new vn(r.left+r.width-(ge+V),r.top+r.height-(re+W)),this.bottomLeftContentBox=I>0||j>0?va(r.left+M+oe,r.top+ce,Math.max(0,I-(M+oe)),j-(re+W),Ni.BOTTOM_LEFT):new vn(r.left+M+oe,r.top+r.height-(re+W))}return e})(),Ni;(function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Ni||(Ni={}));var va=function(e,t,n,r,i){var s=4*((Math.sqrt(2)-1)/3),c=n*s,d=r*s,h=e+n,f=t+r;switch(i){case Ni.TOP_LEFT:return new yp(new vn(e,f),new vn(e,f-d),new vn(h-c,t),new vn(h,t));case Ni.TOP_RIGHT:return new yp(new vn(e,t),new vn(e+c,t),new vn(h,f-d),new vn(h,f));case Ni.BOTTOM_RIGHT:return new yp(new vn(h,t),new vn(h,t+d),new vn(e+c,f),new vn(e,f));case Ni.BOTTOM_LEFT:default:return new yp(new vn(h,f),new vn(h-c,f),new vn(e,t+d),new vn(e,t))}},wm=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},u6=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},Bm=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},d6=(function(){function e(t,n,r){this.offsetX=t,this.offsetY=n,this.matrix=r,this.type=0,this.target=6}return e})(),_p=(function(){function e(t,n){this.path=t,this.target=n,this.type=1}return e})(),h6=(function(){function e(t){this.opacity=t,this.type=2,this.target=6}return e})(),f6=function(e){return e.type===0},TC=function(e){return e.type===1},p6=function(e){return e.type===2},L1=function(e,t){return e.length===t.length?e.some(function(n,r){return n===t[r]}):!1},m6=function(e,t,n,r,i){return e.map(function(s,c){switch(c){case 0:return s.add(t,n);case 1:return s.add(t+r,n);case 2:return s.add(t+r,n+i);case 3:return s.add(t,n+i)}return s})},FC=(function(){function e(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e})(),OC=(function(){function e(t,n){if(this.container=t,this.parent=n,this.effects=[],this.curves=new c6(this.container),this.container.styles.opacity<1&&this.effects.push(new h6(this.container.styles.opacity)),this.container.styles.transform!==null){var r=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new d6(r,i,s))}if(this.container.styles.overflowX!==0){var c=wm(this.curves),d=Bm(this.curves);L1(c,d)?this.effects.push(new _p(c,6)):(this.effects.push(new _p(c,2)),this.effects.push(new _p(d,4)))}}return e.prototype.getEffects=function(t){for(var n=[2,3].indexOf(this.container.styles.position)===-1,r=this.parent,i=this.effects.slice(0);r;){var s=r.effects.filter(function(h){return!TC(h)});if(n||r.container.styles.position!==0||!r.parent){if(i.unshift.apply(i,s),n=[2,3].indexOf(r.container.styles.position)===-1,r.container.styles.overflowX!==0){var c=wm(r.curves),d=Bm(r.curves);L1(c,d)||i.unshift(new _p(d,6))}}else i.unshift.apply(i,s);r=r.parent}return i.filter(function(h){return Ls(h.target,t)})},e})(),Ex=function(e,t,n,r){e.container.elements.forEach(function(i){var s=Ls(i.flags,4),c=Ls(i.flags,2),d=new OC(i,e);Ls(i.styles.display,2048)&&r.push(d);var h=Ls(i.flags,8)?[]:r;if(s||c){var f=s||i.styles.isPositioned()?n:t,g=new FC(d);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var x=i.styles.zIndex.order;if(x<0){var E=0;f.negativeZIndex.some(function(I,j){return x>I.element.container.styles.zIndex.order?(E=j,!1):E>0}),f.negativeZIndex.splice(E,0,g)}else if(x>0){var w=0;f.positiveZIndex.some(function(I,j){return x>=I.element.container.styles.zIndex.order?(w=j+1,!1):w>0}),f.positiveZIndex.splice(w,0,g)}else f.zeroOrAutoZIndexOrTransformedOrOpacity.push(g)}else i.styles.isFloating()?f.nonPositionedFloats.push(g):f.nonPositionedInlineLevel.push(g);Ex(d,g,s?g:n,h)}else i.styles.isInlineLevel()?t.inlineLevel.push(d):t.nonInlineLevel.push(d),Ex(d,t,n,h);Ls(i.flags,8)&&QC(i,h)})},QC=function(e,t){for(var n=e instanceof _x?e.start:1,r=e instanceof _x?e.reversed:!1,i=0;i<t.length;i++){var s=t[i];s.container instanceof bC&&typeof s.container.value=="number"&&s.container.value!==0&&(n=s.container.value),s.listValue=zh(n,s.container.styles.listStyleType,!0),n+=r?-1:1}},g6=function(e){var t=new OC(e,null),n=new FC(t),r=[];return Ex(t,n,n,r),QC(t.container,r),n},j1=function(e,t){switch(t){case 0:return _l(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return _l(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return _l(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);case 3:default:return _l(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},v6=function(e,t){switch(t){case 0:return _l(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return _l(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return _l(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);case 3:default:return _l(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},x6=function(e,t){switch(t){case 0:return _l(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return _l(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return _l(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);case 3:default:return _l(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},b6=function(e,t){switch(t){case 0:return wp(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return wp(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return wp(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);case 3:default:return wp(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},wp=function(e,t){var n=[];return xl(e)?n.push(e.subdivide(.5,!1)):n.push(e),xl(t)?n.push(t.subdivide(.5,!0)):n.push(t),n},_l=function(e,t,n,r){var i=[];return xl(e)?i.push(e.subdivide(.5,!1)):i.push(e),xl(n)?i.push(n.subdivide(.5,!0)):i.push(n),xl(r)?i.push(r.subdivide(.5,!0).reverse()):i.push(r),xl(t)?i.push(t.subdivide(.5,!1).reverse()):i.push(t),i},DC=function(e){var t=e.bounds,n=e.styles;return t.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},Cm=function(e){var t=e.styles,n=e.bounds,r=na(t.paddingLeft,n.width),i=na(t.paddingRight,n.width),s=na(t.paddingTop,n.width),c=na(t.paddingBottom,n.width);return n.add(r+t.borderLeftWidth,s+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+r+i),-(t.borderTopWidth+t.borderBottomWidth+s+c))},y6=function(e,t){return e===0?t.bounds:e===2?Cm(t):DC(t)},_6=function(e,t){return e===0?t.bounds:e===2?Cm(t):DC(t)},W0=function(e,t,n){var r=y6(Ju(e.styles.backgroundOrigin,t),e),i=_6(Ju(e.styles.backgroundClip,t),e),s=w6(Ju(e.styles.backgroundSize,t),n,r),c=s[0],d=s[1],h=bh(Ju(e.styles.backgroundPosition,t),r.width-c,r.height-d),f=B6(Ju(e.styles.backgroundRepeat,t),h,s,r,i),g=Math.round(r.left+h[0]),x=Math.round(r.top+h[1]);return[f,g,x,c,d]},Mu=function(e){return Hi(e)&&e.value===od.AUTO},Bp=function(e){return typeof e=="number"},w6=function(e,t,n){var r=t[0],i=t[1],s=t[2],c=e[0],d=e[1];if(!c)return[0,0];if(vs(c)&&d&&vs(d))return[na(c,n.width),na(d,n.height)];var h=Bp(s);if(Hi(c)&&(c.value===od.CONTAIN||c.value===od.COVER)){if(Bp(s)){var f=n.width/n.height;return f<s!=(c.value===od.COVER)?[n.width,n.width/s]:[n.height*s,n.height]}return[n.width,n.height]}var g=Bp(r),x=Bp(i),E=g||x;if(Mu(c)&&(!d||Mu(d))){if(g&&x)return[r,i];if(!h&&!E)return[n.width,n.height];if(E&&h){var w=g?r:i*s,I=x?i:r/s;return[w,I]}var j=g?r:n.width,F=x?i:n.height;return[j,F]}if(h){var S=0,z=0;return vs(c)?S=na(c,n.width):vs(d)&&(z=na(d,n.height)),Mu(c)?S=z*s:(!d||Mu(d))&&(z=S/s),[S,z]}var D=null,G=null;if(vs(c)?D=na(c,n.width):d&&vs(d)&&(G=na(d,n.height)),D!==null&&(!d||Mu(d))&&(G=g&&x?D/r*i:n.height),G!==null&&Mu(c)&&(D=g&&x?G/i*r:n.width),D!==null&&G!==null)return[D,G];throw new Error("Unable to calculate background-size for element")},Ju=function(e,t){var n=e[t];return typeof n>"u"?e[0]:n},B6=function(e,t,n,r,i){var s=t[0],c=t[1],d=n[0],h=n[1];switch(e){case 2:return[new vn(Math.round(r.left),Math.round(r.top+c)),new vn(Math.round(r.left+r.width),Math.round(r.top+c)),new vn(Math.round(r.left+r.width),Math.round(h+r.top+c)),new vn(Math.round(r.left),Math.round(h+r.top+c))];case 3:return[new vn(Math.round(r.left+s),Math.round(r.top)),new vn(Math.round(r.left+s+d),Math.round(r.top)),new vn(Math.round(r.left+s+d),Math.round(r.height+r.top)),new vn(Math.round(r.left+s),Math.round(r.height+r.top))];case 1:return[new vn(Math.round(r.left+s),Math.round(r.top+c)),new vn(Math.round(r.left+s+d),Math.round(r.top+c)),new vn(Math.round(r.left+s+d),Math.round(r.top+c+h)),new vn(Math.round(r.left+s),Math.round(r.top+c+h))];default:return[new vn(Math.round(i.left),Math.round(i.top)),new vn(Math.round(i.left+i.width),Math.round(i.top)),new vn(Math.round(i.left+i.width),Math.round(i.height+i.top)),new vn(Math.round(i.left),Math.round(i.height+i.top))]}},C6="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",k1="Hidden Text",N6=(function(){function e(t){this._data={},this._document=t}return e.prototype.parseMetrics=function(t,n){var r=this._document.createElement("div"),i=this._document.createElement("img"),s=this._document.createElement("span"),c=this._document.body;r.style.visibility="hidden",r.style.fontFamily=t,r.style.fontSize=n,r.style.margin="0",r.style.padding="0",r.style.whiteSpace="nowrap",c.appendChild(r),i.src=C6,i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",s.style.fontFamily=t,s.style.fontSize=n,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode(k1)),r.appendChild(s),r.appendChild(i);var d=i.offsetTop-s.offsetTop+2;r.removeChild(s),r.appendChild(this._document.createTextNode(k1)),r.style.lineHeight="normal",i.style.verticalAlign="super";var h=i.offsetTop-r.offsetTop+2;return c.removeChild(r),{baseline:d,middle:h}},e.prototype.getMetrics=function(t,n){var r=t+" "+n;return typeof this._data[r]>"u"&&(this._data[r]=this.parseMetrics(t,n)),this._data[r]},e})(),MC=(function(){function e(t,n){this.context=t,this.options=n}return e})(),E6=1e4,S6=(function(e){Pl(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i._activeEffects=[],i.canvas=r.canvas?r.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),r.canvas||(i.canvas.width=Math.floor(r.width*r.scale),i.canvas.height=Math.floor(r.height*r.scale),i.canvas.style.width=r.width+"px",i.canvas.style.height=r.height+"px"),i.fontMetrics=new N6(document),i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-r.x,-r.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i.context.logger.debug("Canvas renderer initialized ("+r.width+"x"+r.height+") with scale "+r.scale),i}return t.prototype.applyEffects=function(n){for(var r=this;this._activeEffects.length;)this.popEffect();n.forEach(function(i){return r.applyEffect(i)})},t.prototype.applyEffect=function(n){this.ctx.save(),p6(n)&&(this.ctx.globalAlpha=n.opacity),f6(n)&&(this.ctx.translate(n.offsetX,n.offsetY),this.ctx.transform(n.matrix[0],n.matrix[1],n.matrix[2],n.matrix[3],n.matrix[4],n.matrix[5]),this.ctx.translate(-n.offsetX,-n.offsetY)),TC(n)&&(this.path(n.path),this.ctx.clip()),this._activeEffects.push(n)},t.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},t.prototype.renderStack=function(n){return jo(this,void 0,void 0,function(){var r;return bo(this,function(i){switch(i.label){case 0:return r=n.element.container.styles,r.isVisible()?[4,this.renderStackContent(n)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},t.prototype.renderNode=function(n){return jo(this,void 0,void 0,function(){return bo(this,function(r){switch(r.label){case 0:if(Ls(n.container.flags,16))debugger;return n.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(n)]:[3,3];case 1:return r.sent(),[4,this.renderNodeContent(n)];case 2:r.sent(),r.label=3;case 3:return[2]}})})},t.prototype.renderTextWithLetterSpacing=function(n,r,i){var s=this;if(r===0)this.ctx.fillText(n.text,n.bounds.left,n.bounds.top+i);else{var c=Bb(n.text);c.reduce(function(d,h){return s.ctx.fillText(h,d,n.bounds.top+i),d+s.ctx.measureText(h).width},n.bounds.left)}},t.prototype.createFontStyle=function(n){var r=n.fontVariant.filter(function(c){return c==="normal"||c==="small-caps"}).join(""),i=I6(n.fontFamily).join(", "),s=rf(n.fontSize)?""+n.fontSize.number+n.fontSize.unit:n.fontSize.number+"px";return[[n.fontStyle,r,n.fontWeight,s,i].join(" "),i,s]},t.prototype.renderTextNode=function(n,r){return jo(this,void 0,void 0,function(){var i,s,c,d,h,f,g,x,E=this;return bo(this,function(w){return i=this.createFontStyle(r),s=i[0],c=i[1],d=i[2],this.ctx.font=s,this.ctx.direction=r.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",h=this.fontMetrics.getMetrics(c,d),f=h.baseline,g=h.middle,x=r.paintOrder,n.textBounds.forEach(function(I){x.forEach(function(j){switch(j){case 0:E.ctx.fillStyle=Rs(r.color),E.renderTextWithLetterSpacing(I,r.letterSpacing,f);var F=r.textShadow;F.length&&I.text.trim().length&&(F.slice(0).reverse().forEach(function(S){E.ctx.shadowColor=Rs(S.color),E.ctx.shadowOffsetX=S.offsetX.number*E.options.scale,E.ctx.shadowOffsetY=S.offsetY.number*E.options.scale,E.ctx.shadowBlur=S.blur.number,E.renderTextWithLetterSpacing(I,r.letterSpacing,f)}),E.ctx.shadowColor="",E.ctx.shadowOffsetX=0,E.ctx.shadowOffsetY=0,E.ctx.shadowBlur=0),r.textDecorationLine.length&&(E.ctx.fillStyle=Rs(r.textDecorationColor||r.color),r.textDecorationLine.forEach(function(S){switch(S){case 1:E.ctx.fillRect(I.bounds.left,Math.round(I.bounds.top+f),I.bounds.width,1);break;case 2:E.ctx.fillRect(I.bounds.left,Math.round(I.bounds.top),I.bounds.width,1);break;case 3:E.ctx.fillRect(I.bounds.left,Math.ceil(I.bounds.top+g),I.bounds.width,1);break}}));break;case 1:r.webkitTextStrokeWidth&&I.text.trim().length&&(E.ctx.strokeStyle=Rs(r.webkitTextStrokeColor),E.ctx.lineWidth=r.webkitTextStrokeWidth,E.ctx.lineJoin=window.chrome?"miter":"round",E.ctx.strokeText(I.text,I.bounds.left,I.bounds.top+f)),E.ctx.strokeStyle="",E.ctx.lineWidth=0,E.ctx.lineJoin="miter";break}})}),[2]})})},t.prototype.renderReplacedElement=function(n,r,i){if(i&&n.intrinsicWidth>0&&n.intrinsicHeight>0){var s=Cm(n),c=Bm(r);this.path(c),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(i,0,0,n.intrinsicWidth,n.intrinsicHeight,s.left,s.top,s.width,s.height),this.ctx.restore()}},t.prototype.renderNodeContent=function(n){return jo(this,void 0,void 0,function(){var r,i,s,c,d,h,z,z,f,g,x,E,G,w,I,ce,j,F,S,z,D,G,ce;return bo(this,function(Y){switch(Y.label){case 0:this.applyEffects(n.getEffects(4)),r=n.container,i=n.curves,s=r.styles,c=0,d=r.textNodes,Y.label=1;case 1:return c<d.length?(h=d[c],[4,this.renderTextNode(h,s)]):[3,4];case 2:Y.sent(),Y.label=3;case 3:return c++,[3,1];case 4:if(!(r instanceof gC))return[3,8];Y.label=5;case 5:return Y.trys.push([5,7,,8]),[4,this.context.cache.match(r.src)];case 6:return z=Y.sent(),this.renderReplacedElement(r,i,z),[3,8];case 7:return Y.sent(),this.context.logger.error("Error loading image "+r.src),[3,8];case 8:if(r instanceof vC&&this.renderReplacedElement(r,i,r.canvas),!(r instanceof xC))return[3,12];Y.label=9;case 9:return Y.trys.push([9,11,,12]),[4,this.context.cache.match(r.svg)];case 10:return z=Y.sent(),this.renderReplacedElement(r,i,z),[3,12];case 11:return Y.sent(),this.context.logger.error("Error loading svg "+r.svg.substring(0,255)),[3,12];case 12:return r instanceof wC&&r.tree?(f=new t(this.context,{scale:this.options.scale,backgroundColor:r.backgroundColor,x:0,y:0,width:r.width,height:r.height}),[4,f.render(r.tree)]):[3,14];case 13:g=Y.sent(),r.width&&r.height&&this.ctx.drawImage(g,0,0,r.width,r.height,r.bounds.left,r.bounds.top,r.bounds.width,r.bounds.height),Y.label=14;case 14:if(r instanceof Cb&&(x=Math.min(r.bounds.width,r.bounds.height),r.type===xm?r.checked&&(this.ctx.save(),this.path([new vn(r.bounds.left+x*.39363,r.bounds.top+x*.79),new vn(r.bounds.left+x*.16,r.bounds.top+x*.5549),new vn(r.bounds.left+x*.27347,r.bounds.top+x*.44071),new vn(r.bounds.left+x*.39694,r.bounds.top+x*.5649),new vn(r.bounds.left+x*.72983,r.bounds.top+x*.23),new vn(r.bounds.left+x*.84,r.bounds.top+x*.34085),new vn(r.bounds.left+x*.39363,r.bounds.top+x*.79)]),this.ctx.fillStyle=Rs(v1),this.ctx.fill(),this.ctx.restore()):r.type===bm&&r.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(r.bounds.left+x/2,r.bounds.top+x/2,x/4,0,Math.PI*2,!0),this.ctx.fillStyle=Rs(v1),this.ctx.fill(),this.ctx.restore())),L6(r)&&r.value.length){switch(E=this.createFontStyle(s),G=E[0],w=E[1],I=this.fontMetrics.getMetrics(G,w).baseline,this.ctx.font=G,this.ctx.fillStyle=Rs(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=k6(r.styles.textAlign),ce=Cm(r),j=0,r.styles.textAlign){case 1:j+=ce.width/2;break;case 2:j+=ce.width;break}F=ce.add(j,0,0,-ce.height/2+1),this.ctx.save(),this.path([new vn(ce.left,ce.top),new vn(ce.left+ce.width,ce.top),new vn(ce.left+ce.width,ce.top+ce.height),new vn(ce.left,ce.top+ce.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Sh(r.value,F),s.letterSpacing,I),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Ls(r.styles.display,2048))return[3,20];if(r.styles.listStyleImage===null)return[3,19];if(S=r.styles.listStyleImage,S.type!==0)return[3,18];z=void 0,D=S.url,Y.label=15;case 15:return Y.trys.push([15,17,,18]),[4,this.context.cache.match(D)];case 16:return z=Y.sent(),this.ctx.drawImage(z,r.bounds.left-(z.width+10),r.bounds.top),[3,18];case 17:return Y.sent(),this.context.logger.error("Error loading list-style-image "+D),[3,18];case 18:return[3,20];case 19:n.listValue&&r.styles.listStyleType!==-1&&(G=this.createFontStyle(s)[0],this.ctx.font=G,this.ctx.fillStyle=Rs(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",ce=new HA(r.bounds.left,r.bounds.top+na(r.styles.paddingTop,r.bounds.width),r.bounds.width,t1(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Sh(n.listValue,ce),s.letterSpacing,t1(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),Y.label=20;case 20:return[2]}})})},t.prototype.renderStackContent=function(n){return jo(this,void 0,void 0,function(){var r,i,S,s,c,S,d,h,S,f,g,S,x,E,S,w,I,S,j,F,S;return bo(this,function(z){switch(z.label){case 0:if(Ls(n.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(n.element)];case 1:z.sent(),r=0,i=n.negativeZIndex,z.label=2;case 2:return r<i.length?(S=i[r],[4,this.renderStack(S)]):[3,5];case 3:z.sent(),z.label=4;case 4:return r++,[3,2];case 5:return[4,this.renderNodeContent(n.element)];case 6:z.sent(),s=0,c=n.nonInlineLevel,z.label=7;case 7:return s<c.length?(S=c[s],[4,this.renderNode(S)]):[3,10];case 8:z.sent(),z.label=9;case 9:return s++,[3,7];case 10:d=0,h=n.nonPositionedFloats,z.label=11;case 11:return d<h.length?(S=h[d],[4,this.renderStack(S)]):[3,14];case 12:z.sent(),z.label=13;case 13:return d++,[3,11];case 14:f=0,g=n.nonPositionedInlineLevel,z.label=15;case 15:return f<g.length?(S=g[f],[4,this.renderStack(S)]):[3,18];case 16:z.sent(),z.label=17;case 17:return f++,[3,15];case 18:x=0,E=n.inlineLevel,z.label=19;case 19:return x<E.length?(S=E[x],[4,this.renderNode(S)]):[3,22];case 20:z.sent(),z.label=21;case 21:return x++,[3,19];case 22:w=0,I=n.zeroOrAutoZIndexOrTransformedOrOpacity,z.label=23;case 23:return w<I.length?(S=I[w],[4,this.renderStack(S)]):[3,26];case 24:z.sent(),z.label=25;case 25:return w++,[3,23];case 26:j=0,F=n.positiveZIndex,z.label=27;case 27:return j<F.length?(S=F[j],[4,this.renderStack(S)]):[3,30];case 28:z.sent(),z.label=29;case 29:return j++,[3,27];case 30:return[2]}})})},t.prototype.mask=function(n){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(n.slice(0).reverse()),this.ctx.closePath()},t.prototype.path=function(n){this.ctx.beginPath(),this.formatPath(n),this.ctx.closePath()},t.prototype.formatPath=function(n){var r=this;n.forEach(function(i,s){var c=xl(i)?i.start:i;s===0?r.ctx.moveTo(c.x,c.y):r.ctx.lineTo(c.x,c.y),xl(i)&&r.ctx.bezierCurveTo(i.startControl.x,i.startControl.y,i.endControl.x,i.endControl.y,i.end.x,i.end.y)})},t.prototype.renderRepeat=function(n,r,i,s){this.path(n),this.ctx.fillStyle=r,this.ctx.translate(i,s),this.ctx.fill(),this.ctx.translate(-i,-s)},t.prototype.resizeImage=function(n,r,i){var s;if(n.width===r&&n.height===i)return n;var c=(s=this.canvas.ownerDocument)!==null&&s!==void 0?s:document,d=c.createElement("canvas");d.width=Math.max(1,r),d.height=Math.max(1,i);var h=d.getContext("2d");return h.drawImage(n,0,0,n.width,n.height,0,0,r,i),d},t.prototype.renderBackgroundImage=function(n){return jo(this,void 0,void 0,function(){var r,i,s,c,d,h;return bo(this,function(f){switch(f.label){case 0:r=n.styles.backgroundImage.length-1,i=function(g){var x,E,w,X,se,_e,oe,me,re,I,X,se,_e,oe,me,j,F,S,z,D,G,ce,Y,ge,re,M,X,V,W,oe,me,ye,se,_e,Z,Ce,Se,te,P,ie,O,ae;return bo(this,function(ue){switch(ue.label){case 0:if(g.type!==0)return[3,5];x=void 0,E=g.url,ue.label=1;case 1:return ue.trys.push([1,3,,4]),[4,s.context.cache.match(E)];case 2:return x=ue.sent(),[3,4];case 3:return ue.sent(),s.context.logger.error("Error loading background-image "+E),[3,4];case 4:return x&&(w=W0(n,r,[x.width,x.height,x.width/x.height]),X=w[0],se=w[1],_e=w[2],oe=w[3],me=w[4],re=s.ctx.createPattern(s.resizeImage(x,oe,me),"repeat"),s.renderRepeat(X,re,se,_e)),[3,6];case 5:fU(g)?(I=W0(n,r,[null,null,null]),X=I[0],se=I[1],_e=I[2],oe=I[3],me=I[4],j=AU(g.angle,oe,me),F=j[0],S=j[1],z=j[2],D=j[3],G=j[4],ce=document.createElement("canvas"),ce.width=oe,ce.height=me,Y=ce.getContext("2d"),ge=Y.createLinearGradient(S,D,z,G),Ww(g.stops,F).forEach(function(je){return ge.addColorStop(je.stop,Rs(je.color))}),Y.fillStyle=ge,Y.fillRect(0,0,oe,me),oe>0&&me>0&&(re=s.ctx.createPattern(ce,"repeat"),s.renderRepeat(X,re,se,_e))):pU(g)&&(M=W0(n,r,[null,null,null]),X=M[0],V=M[1],W=M[2],oe=M[3],me=M[4],ye=g.position.length===0?[yb]:g.position,se=na(ye[0],oe),_e=na(ye[ye.length-1],me),Z=cU(g,se,_e,oe,me),Ce=Z[0],Se=Z[1],Ce>0&&Se>0&&(te=s.ctx.createRadialGradient(V+se,W+_e,0,V+se,W+_e,Ce),Ww(g.stops,Ce*2).forEach(function(je){return te.addColorStop(je.stop,Rs(je.color))}),s.path(X),s.ctx.fillStyle=te,Ce!==Se?(P=n.bounds.left+.5*n.bounds.width,ie=n.bounds.top+.5*n.bounds.height,O=Se/Ce,ae=1/O,s.ctx.save(),s.ctx.translate(P,ie),s.ctx.transform(1,0,0,O,0,0),s.ctx.translate(-P,-ie),s.ctx.fillRect(V,ae*(W-ie)+ie,oe,me*ae),s.ctx.restore()):s.ctx.fill())),ue.label=6;case 6:return r--,[2]}})},s=this,c=0,d=n.styles.backgroundImage.slice(0).reverse(),f.label=1;case 1:return c<d.length?(h=d[c],[5,i(h)]):[3,4];case 2:f.sent(),f.label=3;case 3:return c++,[3,1];case 4:return[2]}})})},t.prototype.renderSolidBorder=function(n,r,i){return jo(this,void 0,void 0,function(){return bo(this,function(s){return this.path(j1(i,r)),this.ctx.fillStyle=Rs(n),this.ctx.fill(),[2]})})},t.prototype.renderDoubleBorder=function(n,r,i,s){return jo(this,void 0,void 0,function(){var c,d;return bo(this,function(h){switch(h.label){case 0:return r<3?[4,this.renderSolidBorder(n,i,s)]:[3,2];case 1:return h.sent(),[2];case 2:return c=v6(s,i),this.path(c),this.ctx.fillStyle=Rs(n),this.ctx.fill(),d=x6(s,i),this.path(d),this.ctx.fill(),[2]}})})},t.prototype.renderNodeBackgroundAndBorders=function(n){return jo(this,void 0,void 0,function(){var r,i,s,c,d,h,f,g,x=this;return bo(this,function(E){switch(E.label){case 0:return this.applyEffects(n.getEffects(2)),r=n.container.styles,i=!Nc(r.backgroundColor)||r.backgroundImage.length,s=[{style:r.borderTopStyle,color:r.borderTopColor,width:r.borderTopWidth},{style:r.borderRightStyle,color:r.borderRightColor,width:r.borderRightWidth},{style:r.borderBottomStyle,color:r.borderBottomColor,width:r.borderBottomWidth},{style:r.borderLeftStyle,color:r.borderLeftColor,width:r.borderLeftWidth}],c=j6(Ju(r.backgroundClip,0),n.curves),i||r.boxShadow.length?(this.ctx.save(),this.path(c),this.ctx.clip(),Nc(r.backgroundColor)||(this.ctx.fillStyle=Rs(r.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(n.container)]):[3,2];case 1:E.sent(),this.ctx.restore(),r.boxShadow.slice(0).reverse().forEach(function(w){x.ctx.save();var I=wm(n.curves),j=w.inset?0:E6,F=m6(I,-j+(w.inset?1:-1)*w.spread.number,(w.inset?1:-1)*w.spread.number,w.spread.number*(w.inset?-2:2),w.spread.number*(w.inset?-2:2));w.inset?(x.path(I),x.ctx.clip(),x.mask(F)):(x.mask(I),x.ctx.clip(),x.path(F)),x.ctx.shadowOffsetX=w.offsetX.number+j,x.ctx.shadowOffsetY=w.offsetY.number,x.ctx.shadowColor=Rs(w.color),x.ctx.shadowBlur=w.blur.number,x.ctx.fillStyle=w.inset?Rs(w.color):"rgba(0,0,0,1)",x.ctx.fill(),x.ctx.restore()}),E.label=2;case 2:d=0,h=0,f=s,E.label=3;case 3:return h<f.length?(g=f[h],g.style!==0&&!Nc(g.color)&&g.width>0?g.style!==2?[3,5]:[4,this.renderDashedDottedBorder(g.color,g.width,d,n.curves,2)]:[3,11]):[3,13];case 4:return E.sent(),[3,11];case 5:return g.style!==3?[3,7]:[4,this.renderDashedDottedBorder(g.color,g.width,d,n.curves,3)];case 6:return E.sent(),[3,11];case 7:return g.style!==4?[3,9]:[4,this.renderDoubleBorder(g.color,g.width,d,n.curves)];case 8:return E.sent(),[3,11];case 9:return[4,this.renderSolidBorder(g.color,d,n.curves)];case 10:E.sent(),E.label=11;case 11:d++,E.label=12;case 12:return h++,[3,3];case 13:return[2]}})})},t.prototype.renderDashedDottedBorder=function(n,r,i,s,c){return jo(this,void 0,void 0,function(){var d,h,f,g,x,E,w,I,j,F,S,z,D,G,ce,Y,ce,Y;return bo(this,function(ge){return this.ctx.save(),d=b6(s,i),h=j1(s,i),c===2&&(this.path(h),this.ctx.clip()),xl(h[0])?(f=h[0].start.x,g=h[0].start.y):(f=h[0].x,g=h[0].y),xl(h[1])?(x=h[1].end.x,E=h[1].end.y):(x=h[1].x,E=h[1].y),i===0||i===2?w=Math.abs(f-x):w=Math.abs(g-E),this.ctx.beginPath(),c===3?this.formatPath(d):this.formatPath(h.slice(0,2)),I=r<3?r*3:r*2,j=r<3?r*2:r,c===3&&(I=r,j=r),F=!0,w<=I*2?F=!1:w<=I*2+j?(S=w/(2*I+j),I*=S,j*=S):(z=Math.floor((w+j)/(I+j)),D=(w-z*I)/(z-1),G=(w-(z+1)*I)/z,j=G<=0||Math.abs(j-D)<Math.abs(j-G)?D:G),F&&(c===3?this.ctx.setLineDash([0,I+j]):this.ctx.setLineDash([I,j])),c===3?(this.ctx.lineCap="round",this.ctx.lineWidth=r):this.ctx.lineWidth=r*2+1.1,this.ctx.strokeStyle=Rs(n),this.ctx.stroke(),this.ctx.setLineDash([]),c===2&&(xl(h[0])&&(ce=h[3],Y=h[0],this.ctx.beginPath(),this.formatPath([new vn(ce.end.x,ce.end.y),new vn(Y.start.x,Y.start.y)]),this.ctx.stroke()),xl(h[1])&&(ce=h[1],Y=h[2],this.ctx.beginPath(),this.formatPath([new vn(ce.end.x,ce.end.y),new vn(Y.start.x,Y.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},t.prototype.render=function(n){return jo(this,void 0,void 0,function(){var r;return bo(this,function(i){switch(i.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Rs(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),r=g6(n),[4,this.renderStack(r)];case 1:return i.sent(),this.applyEffects([]),[2,this.canvas]}})})},t})(MC),L6=function(e){return e instanceof _C||e instanceof yC?!0:e instanceof Cb&&e.type!==bm&&e.type!==xm},j6=function(e,t){switch(e){case 0:return wm(t);case 2:return u6(t);case 1:default:return Bm(t)}},k6=function(e){switch(e){case 1:return"center";case 2:return"right";case 0:default:return"left"}},U6=["-apple-system","system-ui"],I6=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(t){return U6.indexOf(t)===-1}):e},T6=(function(e){Pl(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.canvas=r.canvas?r.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),i.options=r,i.canvas.width=Math.floor(r.width*r.scale),i.canvas.height=Math.floor(r.height*r.scale),i.canvas.style.width=r.width+"px",i.canvas.style.height=r.height+"px",i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-r.x,-r.y),i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+r.width+"x"+r.height+" at "+r.x+","+r.y+") with scale "+r.scale),i}return t.prototype.render=function(n){return jo(this,void 0,void 0,function(){var r,i;return bo(this,function(s){switch(s.label){case 0:return r=yx(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,n),[4,F6(r)];case 1:return i=s.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Rs(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(i,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},t})(MC),F6=function(e){return new Promise(function(t,n){var r=new Image;r.onload=function(){t(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},O6=(function(){function e(t){var n=t.id,r=t.enabled;this.id=n,this.enabled=r,this.start=Date.now()}return e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,np([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,np([this.id,this.getTime()+"ms"],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,np([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,np([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.instances={},e})(),Q6=(function(){function e(t,n){var r;this.windowBounds=n,this.instanceName="#"+e.instanceCount++,this.logger=new O6({id:this.instanceName,enabled:t.logging}),this.cache=(r=t.cache)!==null&&r!==void 0?r:new r6(this,t)}return e.instanceCount=1,e})(),RC=function(e,t){return t===void 0&&(t={}),D6(e,t)};typeof window<"u"&&IC.setContext(window);var D6=function(e,t){return jo(void 0,void 0,void 0,function(){var n,r,i,s,c,d,h,f,g,x,E,w,I,j,F,S,z,D,G,ce,ge,Y,ge,re,M,X,V,W,oe,me,ye,se,_e,Z,Ce,Se,te,P,ie,O;return bo(this,function(ae){switch(ae.label){case 0:if(!e||typeof e!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(n=e.ownerDocument,!n)throw new Error("Element is not attached to a Document");if(r=n.defaultView,!r)throw new Error("Document is not attached to a Window");return i={allowTaint:(re=t.allowTaint)!==null&&re!==void 0?re:!1,imageTimeout:(M=t.imageTimeout)!==null&&M!==void 0?M:15e3,proxy:t.proxy,useCORS:(X=t.useCORS)!==null&&X!==void 0?X:!1},s=sx({logging:(V=t.logging)!==null&&V!==void 0?V:!0,cache:t.cache},i),c={windowWidth:(W=t.windowWidth)!==null&&W!==void 0?W:r.innerWidth,windowHeight:(oe=t.windowHeight)!==null&&oe!==void 0?oe:r.innerHeight,scrollX:(me=t.scrollX)!==null&&me!==void 0?me:r.pageXOffset,scrollY:(ye=t.scrollY)!==null&&ye!==void 0?ye:r.pageYOffset},d=new HA(c.scrollX,c.scrollY,c.windowWidth,c.windowHeight),h=new Q6(s,d),f=(se=t.foreignObjectRendering)!==null&&se!==void 0?se:!1,g={allowTaint:(_e=t.allowTaint)!==null&&_e!==void 0?_e:!1,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:f,copyStyles:f},h.logger.debug("Starting document clone with size "+d.width+"x"+d.height+" scrolled to "+-d.left+","+-d.top),x=new E1(h,e,g),E=x.clonedReferenceElement,E?[4,x.toIFrame(n,d)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return w=ae.sent(),I=Nb(E)||RT(E)?mj(E.ownerDocument):zm(h,E),j=I.width,F=I.height,S=I.left,z=I.top,D=M6(h,E,t.backgroundColor),G={canvas:t.canvas,backgroundColor:D,scale:(Ce=(Z=t.scale)!==null&&Z!==void 0?Z:r.devicePixelRatio)!==null&&Ce!==void 0?Ce:1,x:((Se=t.x)!==null&&Se!==void 0?Se:0)+S,y:((te=t.y)!==null&&te!==void 0?te:0)+z,width:(P=t.width)!==null&&P!==void 0?P:Math.ceil(j),height:(ie=t.height)!==null&&ie!==void 0?ie:Math.ceil(F)},f?(h.logger.debug("Document cloned, using foreign object rendering"),ge=new T6(h,G),[4,ge.render(E)]):[3,3];case 2:return ce=ae.sent(),[3,5];case 3:return h.logger.debug("Document cloned, element located at "+S+","+z+" with size "+j+"x"+F+" using computed rendering"),h.logger.debug("Starting DOM parsing"),Y=CC(h,E),D===Y.styles.backgroundColor&&(Y.styles.backgroundColor=PA.TRANSPARENT),h.logger.debug("Starting renderer for element at "+G.x+","+G.y+" with size "+G.width+"x"+G.height),ge=new S6(h,G),[4,ge.render(Y)];case 4:ce=ae.sent(),ae.label=5;case 5:return(!((O=t.removeContainer)!==null&&O!==void 0)||O)&&(E1.destroy(w)||h.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),h.logger.debug("Finished rendering"),[2,ce]}})})},M6=function(e,t,n){var r=t.ownerDocument,i=r.documentElement?Nh(e,getComputedStyle(r.documentElement).backgroundColor):PA.TRANSPARENT,s=r.body?Nh(e,getComputedStyle(r.body).backgroundColor):PA.TRANSPARENT,c=typeof n=="string"?Nh(e,n):n===null?PA.TRANSPARENT:4294967295;return t===r.documentElement?Nc(i)?Nc(s)?c:s:i:c};const R6=Object.freeze(Object.defineProperty({__proto__:null,default:RC},Symbol.toStringTag,{value:"Module"})),P6="modulepreload",H6=function(e){return"/"+e},U1={},ev=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){let c=function(f){return Promise.all(f.map(g=>Promise.resolve(g).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),h=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));i=c(n.map(f=>{if(f=H6(f),f in U1)return;U1[f]=!0;const g=f.endsWith(".css"),x=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${x}`))return;const E=document.createElement("link");if(E.rel=g?"stylesheet":P6,g||(E.as="script"),E.crossOrigin="",E.href=f,h&&E.setAttribute("nonce",h),document.head.appendChild(E),g)return new Promise((w,I)=>{E.addEventListener("load",w),E.addEventListener("error",()=>I(new Error(`Unable to preload CSS for ${f}`)))})}))}function s(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return i.then(c=>{for(const d of c||[])d.status==="rejected"&&s(d.reason);return t().catch(s)})};function Ti(e){"@babel/helpers - typeof";return Ti=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ti(e)}var Rl=Uint8Array,ol=Uint16Array,Eb=Int32Array,Sb=new Rl([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Lb=new Rl([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),I1=new Rl([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),PC=function(e,t){for(var n=new ol(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];for(var i=new Eb(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},HC=PC(Sb,2),z6=HC.b,Sx=HC.r;z6[28]=258,Sx[258]=28;var q6=PC(Lb,0),T1=q6.r,Lx=new ol(32768);for(var da=0;da<32768;++da){var dc=(da&43690)>>1|(da&21845)<<1;dc=(dc&52428)>>2|(dc&13107)<<2,dc=(dc&61680)>>4|(dc&3855)<<4,Lx[da]=((dc&65280)>>8|(dc&255)<<8)>>1}var jh=(function(e,t,n){for(var r=e.length,i=0,s=new ol(t);i<r;++i)e[i]&&++s[e[i]-1];var c=new ol(t);for(i=1;i<t;++i)c[i]=c[i-1]+s[i-1]<<1;var d;if(n){d=new ol(1<<t);var h=15-t;for(i=0;i<r;++i)if(e[i])for(var f=i<<4|e[i],g=t-e[i],x=c[e[i]-1]++<<g,E=x|(1<<g)-1;x<=E;++x)d[Lx[x]>>h]=f}else for(d=new ol(r),i=0;i<r;++i)e[i]&&(d[i]=Lx[c[e[i]-1]++]>>15-e[i]);return d}),iu=new Rl(288);for(var da=0;da<144;++da)iu[da]=8;for(var da=144;da<256;++da)iu[da]=9;for(var da=256;da<280;++da)iu[da]=7;for(var da=280;da<288;++da)iu[da]=8;var Nm=new Rl(32);for(var da=0;da<32;++da)Nm[da]=5;var K6=jh(iu,9,0),G6=jh(Nm,5,0),zC=function(e){return(e+7)/8|0},V6=function(e,t,n){return(n==null||n>e.length)&&(n=e.length),new Rl(e.subarray(t,n))},OA=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},lh=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},tv=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,s=n.slice();if(!i)return{t:KC,l:0};if(i==1){var c=new Rl(n[0].s+1);return c[n[0].s]=1,{t:c,l:1}}n.sort(function(ce,Y){return ce.f-Y.f}),n.push({s:-1,f:25001});var d=n[0],h=n[1],f=0,g=1,x=2;for(n[0]={s:-1,f:d.f+h.f,l:d,r:h};g!=i-1;)d=n[n[f].f<n[x].f?f++:x++],h=n[f!=g&&n[f].f<n[x].f?f++:x++],n[g++]={s:-1,f:d.f+h.f,l:d,r:h};for(var E=s[0].s,r=1;r<i;++r)s[r].s>E&&(E=s[r].s);var w=new ol(E+1),I=jx(n[g-1],w,0);if(I>t){var r=0,j=0,F=I-t,S=1<<F;for(s.sort(function(Y,ge){return w[ge.s]-w[Y.s]||Y.f-ge.f});r<i;++r){var z=s[r].s;if(w[z]>t)j+=S-(1<<I-w[z]),w[z]=t;else break}for(j>>=F;j>0;){var D=s[r].s;w[D]<t?j-=1<<t-w[D]++-1:++r}for(;r>=0&&j;--r){var G=s[r].s;w[G]==t&&(--w[G],++j)}I=t}return{t:new Rl(w),l:I}},jx=function(e,t,n){return e.s==-1?Math.max(jx(e.l,t,n+1),jx(e.r,t,n+1)):t[e.s]=n},F1=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new ol(++t),r=0,i=e[0],s=1,c=function(h){n[r++]=h},d=1;d<=t;++d)if(e[d]==i&&d!=t)++s;else{if(!i&&s>2){for(;s>138;s-=138)c(32754);s>2&&(c(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(c(i),--s;s>6;s-=6)c(8304);s>2&&(c(s-3<<5|8208),s=0)}for(;s--;)c(i);s=1,i=e[d]}return{c:n.subarray(0,r),n:t}},Ah=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},qC=function(e,t,n){var r=n.length,i=zC(t+2);e[i]=r&255,e[i+1]=r>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var s=0;s<r;++s)e[i+s+4]=n[s];return(i+4+r)*8},O1=function(e,t,n,r,i,s,c,d,h,f,g){OA(t,g++,n),++i[256];for(var x=tv(i,15),E=x.t,w=x.l,I=tv(s,15),j=I.t,F=I.l,S=F1(E),z=S.c,D=S.n,G=F1(j),ce=G.c,Y=G.n,ge=new ol(19),re=0;re<z.length;++re)++ge[z[re]&31];for(var re=0;re<ce.length;++re)++ge[ce[re]&31];for(var M=tv(ge,7),X=M.t,V=M.l,W=19;W>4&&!X[I1[W-1]];--W);var oe=f+5<<3,me=Ah(i,iu)+Ah(s,Nm)+c,ye=Ah(i,E)+Ah(s,j)+c+14+3*W+Ah(ge,X)+2*ge[16]+3*ge[17]+7*ge[18];if(h>=0&&oe<=me&&oe<=ye)return qC(t,g,e.subarray(h,h+f));var se,_e,Z,Ce;if(OA(t,g,1+(ye<me)),g+=2,ye<me){se=jh(E,w,0),_e=E,Z=jh(j,F,0),Ce=j;var Se=jh(X,V,0);OA(t,g,D-257),OA(t,g+5,Y-1),OA(t,g+10,W-4),g+=14;for(var re=0;re<W;++re)OA(t,g+3*re,X[I1[re]]);g+=3*W;for(var te=[z,ce],P=0;P<2;++P)for(var ie=te[P],re=0;re<ie.length;++re){var O=ie[re]&31;OA(t,g,Se[O]),g+=X[O],O>15&&(OA(t,g,ie[re]>>5&127),g+=ie[re]>>12)}}else se=K6,_e=iu,Z=G6,Ce=Nm;for(var re=0;re<d;++re){var ae=r[re];if(ae>255){var O=ae>>18&31;lh(t,g,se[O+257]),g+=_e[O+257],O>7&&(OA(t,g,ae>>23&31),g+=Sb[O]);var ue=ae&31;lh(t,g,Z[ue]),g+=Ce[ue],ue>3&&(lh(t,g,ae>>5&8191),g+=Lb[ue])}else lh(t,g,se[ae]),g+=_e[ae]}return lh(t,g,se[256]),g+_e[256]},Z6=new Eb([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),KC=new Rl(0),$6=function(e,t,n,r,i,s){var c=s.z||e.length,d=new Rl(r+c+5*(1+Math.ceil(c/7e3))+i),h=d.subarray(r,d.length-i),f=s.l,g=(s.r||0)&7;if(t){g&&(h[0]=s.r>>3);for(var x=Z6[t-1],E=x>>13,w=x&8191,I=(1<<n)-1,j=s.p||new ol(32768),F=s.h||new ol(I+1),S=Math.ceil(n/3),z=2*S,D=function(on){return(e[on]^e[on+1]<<S^e[on+2]<<z)&I},G=new Eb(25e3),ce=new ol(288),Y=new ol(32),ge=0,re=0,M=s.i||0,X=0,V=s.w||0,W=0;M+2<c;++M){var oe=D(M),me=M&32767,ye=F[oe];if(j[me]=ye,F[oe]=me,V<=M){var se=c-M;if((ge>7e3||X>24576)&&(se>423||!f)){g=O1(e,h,0,G,ce,Y,re,X,W,M-W,g),X=ge=re=0,W=M;for(var _e=0;_e<286;++_e)ce[_e]=0;for(var _e=0;_e<30;++_e)Y[_e]=0}var Z=2,Ce=0,Se=w,te=me-ye&32767;if(se>2&&oe==D(M-te))for(var P=Math.min(E,se)-1,ie=Math.min(32767,M),O=Math.min(258,se);te<=ie&&--Se&&me!=ye;){if(e[M+Z]==e[M+Z-te]){for(var ae=0;ae<O&&e[M+ae]==e[M+ae-te];++ae);if(ae>Z){if(Z=ae,Ce=te,ae>P)break;for(var ue=Math.min(te,ae-2),je=0,_e=0;_e<ue;++_e){var Ve=M-te+_e&32767,Ie=j[Ve],lt=Ve-Ie&32767;lt>je&&(je=lt,ye=Ve)}}}me=ye,ye=j[me],te+=me-ye&32767}if(Ce){G[X++]=268435456|Sx[Z]<<18|T1[Ce];var wt=Sx[Z]&31,Xe=T1[Ce]&31;re+=Sb[wt]+Lb[Xe],++ce[257+wt],++Y[Xe],V=M+Z,++ge}else G[X++]=e[M],++ce[e[M]]}}for(M=Math.max(M,V);M<c;++M)G[X++]=e[M],++ce[e[M]];g=O1(e,h,f,G,ce,Y,re,X,W,M-W,g),f||(s.r=g&7|h[g/8|0]<<3,g-=7,s.h=F,s.p=j,s.i=M,s.w=V)}else{for(var M=s.w||0;M<c+f;M+=65535){var $t=M+65535;$t>=c&&(h[g/8|0]=f,$t=c),g=qC(h,g+1,e.subarray(M,$t))}s.i=c}return V6(d,0,r+zC(g)+i)},GC=function(){var e=1,t=0;return{p:function(n){for(var r=e,i=t,s=n.length|0,c=0;c!=s;){for(var d=Math.min(c+2655,s);c<d;++c)i+=r+=n[c];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}e=r,t=i},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},Y6=function(e,t,n,r,i){if(!i&&(i={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),c=new Rl(s.length+e.length);c.set(s),c.set(e,s.length),e=c,i.w=s.length}return $6(e,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,n,r,i)},VC=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},X6=function(e,t){var n=t.level,r=n==0?0:n<6?1:n==9?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=GC();i.p(t.dictionary),VC(e,2,i.d())}};function kx(e,t){t||(t={});var n=GC();n.p(e);var r=Y6(e,t,t.dictionary?6:2,4);return X6(r,t),VC(r,r.length-4,n.d()),r}var J6=typeof TextDecoder<"u"&&new TextDecoder,W6=0;try{J6.decode(KC,{stream:!0}),W6=1}catch{}function eF(e){if(Array.isArray(e))return e}function tF(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,c,d=[],h=!0,f=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(h=(r=s.call(n)).done)&&(d.push(r.value),d.length!==t);h=!0);}catch(g){f=!0,i=g}finally{try{if(!h&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(f)throw i}}return d}}function Q1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function nF(e,t){if(e){if(typeof e=="string")return Q1(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Q1(e,t):void 0}}function rF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D1(e,t){return eF(e)||tF(e,t)||nF(e,t)||rF()}function M1(e,t="utf8"){return new TextDecoder(t).decode(e)}const iF=new TextEncoder;function aF(e){return iF.encode(e)}const sF=1024*8,oF=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),nv={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class jb{constructor(t=sF,n={}){Ii(this,"buffer");Ii(this,"byteLength");Ii(this,"byteOffset");Ii(this,"length");Ii(this,"offset");Ii(this,"lastWrittenByte");Ii(this,"littleEndian");Ii(this,"_data");Ii(this,"_mark");Ii(this,"_marks");let r=!1;typeof t=="number"?t=new ArrayBuffer(t):(r=!0,this.lastWrittenByte=t.byteLength);const i=n.offset?n.offset>>>0:0,s=t.byteLength-i;let c=i;(ArrayBuffer.isView(t)||t instanceof jb)&&(t.byteLength!==t.buffer.byteLength&&(c=t.byteOffset+i),t=t.buffer),r?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=t,this.length=s,this.byteLength=s,this.byteOffset=c,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,c,s),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const r=(this.offset+t)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,n){const r=nv[n].BYTES_PER_ELEMENT*t,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+r);if(this.littleEndian===oF&&n!=="uint8"&&n!=="int8"){const d=new Uint8Array(this.buffer.slice(i,i+r));d.reverse();const h=new nv[n](d.buffer);return this.offset+=r,h.reverse(),h}const c=new nv[n](s);return this.offset+=r,c}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let n="";for(let r=0;r<t;r++)n+=this.readChar();return n}readUtf8(t=1){return M1(this.readBytes(t))}decodeText(t=1,n="utf8"){return M1(this.readBytes(t),n)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let n=0;n<t.length;n++)this._data.setUint8(this.offset++,t[n]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let n=0;n<t.length;n++)this.writeUint8(t.charCodeAt(n));return this}writeUtf8(t){return this.writeBytes(aF(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Bd(e){let t=e.length;for(;--t>=0;)e[t]=0}const lF=3,AF=258,ZC=29,cF=256,uF=cF+1+ZC,$C=30,dF=512,hF=new Array((uF+2)*2);Bd(hF);const fF=new Array($C*2);Bd(fF);const pF=new Array(dF);Bd(pF);const mF=new Array(AF-lF+1);Bd(mF);const gF=new Array(ZC);Bd(gF);const vF=new Array($C);Bd(vF);const xF=(e,t,n,r)=>{let i=e&65535|0,s=e>>>16&65535|0,c=0;for(;n!==0;){c=n>2e3?2e3:n,n-=c;do i=i+t[r++]|0,s=s+i|0;while(--c);i%=65521,s%=65521}return i|s<<16|0};var Ux=xF;const bF=()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=e&1?3988292384^e>>>1:e>>>1;t[n]=e}return t},yF=new Uint32Array(bF()),_F=(e,t,n,r)=>{const i=yF,s=r+n;e^=-1;for(let c=r;c<s;c++)e=e>>>8^i[(e^t[c])&255];return e^-1};var oA=_F,Ix={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},YC={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const wF=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var BF=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)wF(n,r)&&(e[r]=n[r])}}return e},CF=e=>{let t=0;for(let r=0,i=e.length;r<i;r++)t+=e[r].length;const n=new Uint8Array(t);for(let r=0,i=0,s=e.length;r<s;r++){let c=e[r];n.set(c,i),i+=c.length}return n},XC={assign:BF,flattenChunks:CF};let JC=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{JC=!1}const qh=new Uint8Array(256);for(let e=0;e<256;e++)qh[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;qh[254]=qh[254]=1;var NF=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,n,r,i,s,c=e.length,d=0;for(i=0;i<c;i++)n=e.charCodeAt(i),(n&64512)===55296&&i+1<c&&(r=e.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),d+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(d),s=0,i=0;s<d;i++)n=e.charCodeAt(i),(n&64512)===55296&&i+1<c&&(r=e.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?t[s++]=n:n<2048?(t[s++]=192|n>>>6,t[s++]=128|n&63):n<65536?(t[s++]=224|n>>>12,t[s++]=128|n>>>6&63,t[s++]=128|n&63):(t[s++]=240|n>>>18,t[s++]=128|n>>>12&63,t[s++]=128|n>>>6&63,t[s++]=128|n&63);return t};const EF=(e,t)=>{if(t<65534&&e.subarray&&JC)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n};var SF=(e,t)=>{const n=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let r,i;const s=new Array(n*2);for(i=0,r=0;r<n;){let c=e[r++];if(c<128){s[i++]=c;continue}let d=qh[c];if(d>4){s[i++]=65533,r+=d-1;continue}for(c&=d===2?31:d===3?15:7;d>1&&r<n;)c=c<<6|e[r++]&63,d--;if(d>1){s[i++]=65533;continue}c<65536?s[i++]=c:(c-=65536,s[i++]=55296|c>>10&1023,s[i++]=56320|c&1023)}return EF(s,i)},LF=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let n=t-1;for(;n>=0&&(e[n]&192)===128;)n--;return n<0||n===0?t:n+qh[e[n]]>t?n:t},Tx={string2buf:NF,buf2string:SF,utf8border:LF};function jF(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var kF=jF;const Cp=16209,UF=16191;var IF=function(t,n){let r,i,s,c,d,h,f,g,x,E,w,I,j,F,S,z,D,G,ce,Y,ge,re,M,X;const V=t.state;r=t.next_in,M=t.input,i=r+(t.avail_in-5),s=t.next_out,X=t.output,c=s-(n-t.avail_out),d=s+(t.avail_out-257),h=V.dmax,f=V.wsize,g=V.whave,x=V.wnext,E=V.window,w=V.hold,I=V.bits,j=V.lencode,F=V.distcode,S=(1<<V.lenbits)-1,z=(1<<V.distbits)-1;e:do{I<15&&(w+=M[r++]<<I,I+=8,w+=M[r++]<<I,I+=8),D=j[w&S];t:for(;;){if(G=D>>>24,w>>>=G,I-=G,G=D>>>16&255,G===0)X[s++]=D&65535;else if(G&16){ce=D&65535,G&=15,G&&(I<G&&(w+=M[r++]<<I,I+=8),ce+=w&(1<<G)-1,w>>>=G,I-=G),I<15&&(w+=M[r++]<<I,I+=8,w+=M[r++]<<I,I+=8),D=F[w&z];n:for(;;){if(G=D>>>24,w>>>=G,I-=G,G=D>>>16&255,G&16){if(Y=D&65535,G&=15,I<G&&(w+=M[r++]<<I,I+=8,I<G&&(w+=M[r++]<<I,I+=8)),Y+=w&(1<<G)-1,Y>h){t.msg="invalid distance too far back",V.mode=Cp;break e}if(w>>>=G,I-=G,G=s-c,Y>G){if(G=Y-G,G>g&&V.sane){t.msg="invalid distance too far back",V.mode=Cp;break e}if(ge=0,re=E,x===0){if(ge+=f-G,G<ce){ce-=G;do X[s++]=E[ge++];while(--G);ge=s-Y,re=X}}else if(x<G){if(ge+=f+x-G,G-=x,G<ce){ce-=G;do X[s++]=E[ge++];while(--G);if(ge=0,x<ce){G=x,ce-=G;do X[s++]=E[ge++];while(--G);ge=s-Y,re=X}}}else if(ge+=x-G,G<ce){ce-=G;do X[s++]=E[ge++];while(--G);ge=s-Y,re=X}for(;ce>2;)X[s++]=re[ge++],X[s++]=re[ge++],X[s++]=re[ge++],ce-=3;ce&&(X[s++]=re[ge++],ce>1&&(X[s++]=re[ge++]))}else{ge=s-Y;do X[s++]=X[ge++],X[s++]=X[ge++],X[s++]=X[ge++],ce-=3;while(ce>2);ce&&(X[s++]=X[ge++],ce>1&&(X[s++]=X[ge++]))}}else if((G&64)===0){D=F[(D&65535)+(w&(1<<G)-1)];continue n}else{t.msg="invalid distance code",V.mode=Cp;break e}break}}else if((G&64)===0){D=j[(D&65535)+(w&(1<<G)-1)];continue t}else if(G&32){V.mode=UF;break e}else{t.msg="invalid literal/length code",V.mode=Cp;break e}break}}while(r<i&&s<d);ce=I>>3,r-=ce,I-=ce<<3,w&=(1<<I)-1,t.next_in=r,t.next_out=s,t.avail_in=r<i?5+(i-r):5-(r-i),t.avail_out=s<d?257+(d-s):257-(s-d),V.hold=w,V.bits=I};const Ru=15,R1=852,P1=592,H1=0,rv=1,z1=2,TF=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),FF=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),OF=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),QF=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),DF=(e,t,n,r,i,s,c,d)=>{const h=d.bits;let f=0,g=0,x=0,E=0,w=0,I=0,j=0,F=0,S=0,z=0,D,G,ce,Y,ge,re=null,M;const X=new Uint16Array(Ru+1),V=new Uint16Array(Ru+1);let W=null,oe,me,ye;for(f=0;f<=Ru;f++)X[f]=0;for(g=0;g<r;g++)X[t[n+g]]++;for(w=h,E=Ru;E>=1&&X[E]===0;E--);if(w>E&&(w=E),E===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,d.bits=1,0;for(x=1;x<E&&X[x]===0;x++);for(w<x&&(w=x),F=1,f=1;f<=Ru;f++)if(F<<=1,F-=X[f],F<0)return-1;if(F>0&&(e===H1||E!==1))return-1;for(V[1]=0,f=1;f<Ru;f++)V[f+1]=V[f]+X[f];for(g=0;g<r;g++)t[n+g]!==0&&(c[V[t[n+g]]++]=g);if(e===H1?(re=W=c,M=20):e===rv?(re=TF,W=FF,M=257):(re=OF,W=QF,M=0),z=0,g=0,f=x,ge=s,I=w,j=0,ce=-1,S=1<<w,Y=S-1,e===rv&&S>R1||e===z1&&S>P1)return 1;for(;;){oe=f-j,c[g]+1<M?(me=0,ye=c[g]):c[g]>=M?(me=W[c[g]-M],ye=re[c[g]-M]):(me=96,ye=0),D=1<<f-j,G=1<<I,x=G;do G-=D,i[ge+(z>>j)+G]=oe<<24|me<<16|ye|0;while(G!==0);for(D=1<<f-1;z&D;)D>>=1;if(D!==0?(z&=D-1,z+=D):z=0,g++,--X[f]===0){if(f===E)break;f=t[n+c[g]]}if(f>w&&(z&Y)!==ce){for(j===0&&(j=w),ge+=x,I=f-j,F=1<<I;I+j<E&&(F-=X[I+j],!(F<=0));)I++,F<<=1;if(S+=1<<I,e===rv&&S>R1||e===z1&&S>P1)return 1;ce=z&Y,i[ce]=w<<24|I<<16|ge-s|0}}return z!==0&&(i[ge+z]=f-j<<24|64<<16|0),d.bits=w,0};var kh=DF;const MF=0,WC=1,eN=2,{Z_FINISH:q1,Z_BLOCK:RF,Z_TREES:Np,Z_OK:au,Z_STREAM_END:PF,Z_NEED_DICT:HF,Z_STREAM_ERROR:Bl,Z_DATA_ERROR:tN,Z_MEM_ERROR:nN,Z_BUF_ERROR:zF,Z_DEFLATED:K1}=YC,Wm=16180,G1=16181,V1=16182,Z1=16183,$1=16184,Y1=16185,X1=16186,J1=16187,W1=16188,e2=16189,Em=16190,QA=16191,iv=16192,t2=16193,av=16194,n2=16195,r2=16196,i2=16197,a2=16198,Ep=16199,Sp=16200,s2=16201,o2=16202,l2=16203,A2=16204,c2=16205,sv=16206,u2=16207,d2=16208,xa=16209,rN=16210,iN=16211,qF=852,KF=592,GF=15,VF=GF,h2=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function ZF(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const lu=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<Wm||t.mode>iN?1:0},aN=e=>{if(lu(e))return Bl;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=Wm,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(qF),t.distcode=t.distdyn=new Int32Array(KF),t.sane=1,t.back=-1,au},sN=e=>{if(lu(e))return Bl;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,aN(e)},oN=(e,t)=>{let n;if(lu(e))return Bl;const r=e.state;return t<0?(n=0,t=-t):(n=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Bl:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,sN(e))},lN=(e,t)=>{if(!e)return Bl;const n=new ZF;e.state=n,n.strm=e,n.window=null,n.mode=Wm;const r=oN(e,t);return r!==au&&(e.state=null),r},$F=e=>lN(e,VF);let f2=!0,ov,lv;const YF=e=>{if(f2){ov=new Int32Array(512),lv=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(kh(WC,e.lens,0,288,ov,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;kh(eN,e.lens,0,32,lv,0,e.work,{bits:5}),f2=!1}e.lencode=ov,e.lenbits=9,e.distcode=lv,e.distbits=5},AN=(e,t,n,r)=>{let i;const s=e.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),r>=s.wsize?(s.window.set(t.subarray(n-s.wsize,n),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>r&&(i=r),s.window.set(t.subarray(n-r,n-r+i),s.wnext),r-=i,r?(s.window.set(t.subarray(n-r,n),0),s.wnext=r,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},XF=(e,t)=>{let n,r,i,s,c,d,h,f,g,x,E,w,I,j,F=0,S,z,D,G,ce,Y,ge,re;const M=new Uint8Array(4);let X,V;const W=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(lu(e)||!e.output||!e.input&&e.avail_in!==0)return Bl;n=e.state,n.mode===QA&&(n.mode=iv),c=e.next_out,i=e.output,h=e.avail_out,s=e.next_in,r=e.input,d=e.avail_in,f=n.hold,g=n.bits,x=d,E=h,re=au;e:for(;;)switch(n.mode){case Wm:if(n.wrap===0){n.mode=iv;break}for(;g<16;){if(d===0)break e;d--,f+=r[s++]<<g,g+=8}if(n.wrap&2&&f===35615){n.wbits===0&&(n.wbits=15),n.check=0,M[0]=f&255,M[1]=f>>>8&255,n.check=oA(n.check,M,2,0),f=0,g=0,n.mode=G1;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((f&255)<<8)+(f>>8))%31){e.msg="incorrect header check",n.mode=xa;break}if((f&15)!==K1){e.msg="unknown compression method",n.mode=xa;break}if(f>>>=4,g-=4,ge=(f&15)+8,n.wbits===0&&(n.wbits=ge),ge>15||ge>n.wbits){e.msg="invalid window size",n.mode=xa;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=f&512?e2:QA,f=0,g=0;break;case G1:for(;g<16;){if(d===0)break e;d--,f+=r[s++]<<g,g+=8}if(n.flags=f,(n.flags&255)!==K1){e.msg="unknown compression method",n.mode=xa;break}if(n.flags&57344){e.msg="unknown header flags set",n.mode=xa;break}n.head&&(n.head.text=f>>8&1),n.flags&512&&n.wrap&4&&(M[0]=f&255,M[1]=f>>>8&255,n.check=oA(n.check,M,2,0)),f=0,g=0,n.mode=V1;case V1:for(;g<32;){if(d===0)break e;d--,f+=r[s++]<<g,g+=8}n.head&&(n.head.time=f),n.flags&512&&n.wrap&4&&(M[0]=f&255,M[1]=f>>>8&255,M[2]=f>>>16&255,M[3]=f>>>24&255,n.check=oA(n.check,M,4,0)),f=0,g=0,n.mode=Z1;case Z1:for(;g<16;){if(d===0)break e;d--,f+=r[s++]<<g,g+=8}n.head&&(n.head.xflags=f&255,n.head.os=f>>8),n.flags&512&&n.wrap&4&&(M[0]=f&255,M[1]=f>>>8&255,n.check=oA(n.check,M,2,0)),f=0,g=0,n.mode=$1;case $1:if(n.flags&1024){for(;g<16;){if(d===0)break e;d--,f+=r[s++]<<g,g+=8}n.length=f,n.head&&(n.head.extra_len=f),n.flags&512&&n.wrap&4&&(M[0]=f&255,M[1]=f>>>8&255,n.check=oA(n.check,M,2,0)),f=0,g=0}else n.head&&(n.head.extra=null);n.mode=Y1;case Y1:if(n.flags&1024&&(w=n.length,w>d&&(w=d),w&&(n.head&&(ge=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(s,s+w),ge)),n.flags&512&&n.wrap&4&&(n.check=oA(n.check,r,w,s)),d-=w,s+=w,n.length-=w),n.length))break e;n.length=0,n.mode=X1;case X1:if(n.flags&2048){if(d===0)break e;w=0;do ge=r[s+w++],n.head&&ge&&n.length<65536&&(n.head.name+=String.fromCharCode(ge));while(ge&&w<d);if(n.flags&512&&n.wrap&4&&(n.check=oA(n.check,r,w,s)),d-=w,s+=w,ge)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=J1;case J1:if(n.flags&4096){if(d===0)break e;w=0;do ge=r[s+w++],n.head&&ge&&n.length<65536&&(n.head.comment+=String.fromCharCode(ge));while(ge&&w<d);if(n.flags&512&&n.wrap&4&&(n.check=oA(n.check,r,w,s)),d-=w,s+=w,ge)break e}else n.head&&(n.head.comment=null);n.mode=W1;case W1:if(n.flags&512){for(;g<16;){if(d===0)break e;d--,f+=r[s++]<<g,g+=8}if(n.wrap&4&&f!==(n.check&65535)){e.msg="header crc mismatch",n.mode=xa;break}f=0,g=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=QA;break;case e2:for(;g<32;){if(d===0)break e;d--,f+=r[s++]<<g,g+=8}e.adler=n.check=h2(f),f=0,g=0,n.mode=Em;case Em:if(n.havedict===0)return e.next_out=c,e.avail_out=h,e.next_in=s,e.avail_in=d,n.hold=f,n.bits=g,HF;e.adler=n.check=1,n.mode=QA;case QA:if(t===RF||t===Np)break e;case iv:if(n.last){f>>>=g&7,g-=g&7,n.mode=sv;break}for(;g<3;){if(d===0)break e;d--,f+=r[s++]<<g,g+=8}switch(n.last=f&1,f>>>=1,g-=1,f&3){case 0:n.mode=t2;break;case 1:if(YF(n),n.mode=Ep,t===Np){f>>>=2,g-=2;break e}break;case 2:n.mode=r2;break;case 3:e.msg="invalid block type",n.mode=xa}f>>>=2,g-=2;break;case t2:for(f>>>=g&7,g-=g&7;g<32;){if(d===0)break e;d--,f+=r[s++]<<g,g+=8}if((f&65535)!==(f>>>16^65535)){e.msg="invalid stored block lengths",n.mode=xa;break}if(n.length=f&65535,f=0,g=0,n.mode=av,t===Np)break e;case av:n.mode=n2;case n2:if(w=n.length,w){if(w>d&&(w=d),w>h&&(w=h),w===0)break e;i.set(r.subarray(s,s+w),c),d-=w,s+=w,h-=w,c+=w,n.length-=w;break}n.mode=QA;break;case r2:for(;g<14;){if(d===0)break e;d--,f+=r[s++]<<g,g+=8}if(n.nlen=(f&31)+257,f>>>=5,g-=5,n.ndist=(f&31)+1,f>>>=5,g-=5,n.ncode=(f&15)+4,f>>>=4,g-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=xa;break}n.have=0,n.mode=i2;case i2:for(;n.have<n.ncode;){for(;g<3;){if(d===0)break e;d--,f+=r[s++]<<g,g+=8}n.lens[W[n.have++]]=f&7,f>>>=3,g-=3}for(;n.have<19;)n.lens[W[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,X={bits:n.lenbits},re=kh(MF,n.lens,0,19,n.lencode,0,n.work,X),n.lenbits=X.bits,re){e.msg="invalid code lengths set",n.mode=xa;break}n.have=0,n.mode=a2;case a2:for(;n.have<n.nlen+n.ndist;){for(;F=n.lencode[f&(1<<n.lenbits)-1],S=F>>>24,z=F>>>16&255,D=F&65535,!(S<=g);){if(d===0)break e;d--,f+=r[s++]<<g,g+=8}if(D<16)f>>>=S,g-=S,n.lens[n.have++]=D;else{if(D===16){for(V=S+2;g<V;){if(d===0)break e;d--,f+=r[s++]<<g,g+=8}if(f>>>=S,g-=S,n.have===0){e.msg="invalid bit length repeat",n.mode=xa;break}ge=n.lens[n.have-1],w=3+(f&3),f>>>=2,g-=2}else if(D===17){for(V=S+3;g<V;){if(d===0)break e;d--,f+=r[s++]<<g,g+=8}f>>>=S,g-=S,ge=0,w=3+(f&7),f>>>=3,g-=3}else{for(V=S+7;g<V;){if(d===0)break e;d--,f+=r[s++]<<g,g+=8}f>>>=S,g-=S,ge=0,w=11+(f&127),f>>>=7,g-=7}if(n.have+w>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=xa;break}for(;w--;)n.lens[n.have++]=ge}}if(n.mode===xa)break;if(n.lens[256]===0){e.msg="invalid code -- missing end-of-block",n.mode=xa;break}if(n.lenbits=9,X={bits:n.lenbits},re=kh(WC,n.lens,0,n.nlen,n.lencode,0,n.work,X),n.lenbits=X.bits,re){e.msg="invalid literal/lengths set",n.mode=xa;break}if(n.distbits=6,n.distcode=n.distdyn,X={bits:n.distbits},re=kh(eN,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,X),n.distbits=X.bits,re){e.msg="invalid distances set",n.mode=xa;break}if(n.mode=Ep,t===Np)break e;case Ep:n.mode=Sp;case Sp:if(d>=6&&h>=258){e.next_out=c,e.avail_out=h,e.next_in=s,e.avail_in=d,n.hold=f,n.bits=g,IF(e,E),c=e.next_out,i=e.output,h=e.avail_out,s=e.next_in,r=e.input,d=e.avail_in,f=n.hold,g=n.bits,n.mode===QA&&(n.back=-1);break}for(n.back=0;F=n.lencode[f&(1<<n.lenbits)-1],S=F>>>24,z=F>>>16&255,D=F&65535,!(S<=g);){if(d===0)break e;d--,f+=r[s++]<<g,g+=8}if(z&&(z&240)===0){for(G=S,ce=z,Y=D;F=n.lencode[Y+((f&(1<<G+ce)-1)>>G)],S=F>>>24,z=F>>>16&255,D=F&65535,!(G+S<=g);){if(d===0)break e;d--,f+=r[s++]<<g,g+=8}f>>>=G,g-=G,n.back+=G}if(f>>>=S,g-=S,n.back+=S,n.length=D,z===0){n.mode=c2;break}if(z&32){n.back=-1,n.mode=QA;break}if(z&64){e.msg="invalid literal/length code",n.mode=xa;break}n.extra=z&15,n.mode=s2;case s2:if(n.extra){for(V=n.extra;g<V;){if(d===0)break e;d--,f+=r[s++]<<g,g+=8}n.length+=f&(1<<n.extra)-1,f>>>=n.extra,g-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=o2;case o2:for(;F=n.distcode[f&(1<<n.distbits)-1],S=F>>>24,z=F>>>16&255,D=F&65535,!(S<=g);){if(d===0)break e;d--,f+=r[s++]<<g,g+=8}if((z&240)===0){for(G=S,ce=z,Y=D;F=n.distcode[Y+((f&(1<<G+ce)-1)>>G)],S=F>>>24,z=F>>>16&255,D=F&65535,!(G+S<=g);){if(d===0)break e;d--,f+=r[s++]<<g,g+=8}f>>>=G,g-=G,n.back+=G}if(f>>>=S,g-=S,n.back+=S,z&64){e.msg="invalid distance code",n.mode=xa;break}n.offset=D,n.extra=z&15,n.mode=l2;case l2:if(n.extra){for(V=n.extra;g<V;){if(d===0)break e;d--,f+=r[s++]<<g,g+=8}n.offset+=f&(1<<n.extra)-1,f>>>=n.extra,g-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=xa;break}n.mode=A2;case A2:if(h===0)break e;if(w=E-h,n.offset>w){if(w=n.offset-w,w>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=xa;break}w>n.wnext?(w-=n.wnext,I=n.wsize-w):I=n.wnext-w,w>n.length&&(w=n.length),j=n.window}else j=i,I=c-n.offset,w=n.length;w>h&&(w=h),h-=w,n.length-=w;do i[c++]=j[I++];while(--w);n.length===0&&(n.mode=Sp);break;case c2:if(h===0)break e;i[c++]=n.length,h--,n.mode=Sp;break;case sv:if(n.wrap){for(;g<32;){if(d===0)break e;d--,f|=r[s++]<<g,g+=8}if(E-=h,e.total_out+=E,n.total+=E,n.wrap&4&&E&&(e.adler=n.check=n.flags?oA(n.check,i,E,c-E):Ux(n.check,i,E,c-E)),E=h,n.wrap&4&&(n.flags?f:h2(f))!==n.check){e.msg="incorrect data check",n.mode=xa;break}f=0,g=0}n.mode=u2;case u2:if(n.wrap&&n.flags){for(;g<32;){if(d===0)break e;d--,f+=r[s++]<<g,g+=8}if(n.wrap&4&&f!==(n.total&4294967295)){e.msg="incorrect length check",n.mode=xa;break}f=0,g=0}n.mode=d2;case d2:re=PF;break e;case xa:re=tN;break e;case rN:return nN;case iN:default:return Bl}return e.next_out=c,e.avail_out=h,e.next_in=s,e.avail_in=d,n.hold=f,n.bits=g,(n.wsize||E!==e.avail_out&&n.mode<xa&&(n.mode<sv||t!==q1))&&AN(e,e.output,e.next_out,E-e.avail_out),x-=e.avail_in,E-=e.avail_out,e.total_in+=x,e.total_out+=E,n.total+=E,n.wrap&4&&E&&(e.adler=n.check=n.flags?oA(n.check,i,E,e.next_out-E):Ux(n.check,i,E,e.next_out-E)),e.data_type=n.bits+(n.last?64:0)+(n.mode===QA?128:0)+(n.mode===Ep||n.mode===av?256:0),(x===0&&E===0||t===q1)&&re===au&&(re=zF),re},JF=e=>{if(lu(e))return Bl;let t=e.state;return t.window&&(t.window=null),e.state=null,au},WF=(e,t)=>{if(lu(e))return Bl;const n=e.state;return(n.wrap&2)===0?Bl:(n.head=t,t.done=!1,au)},eO=(e,t)=>{const n=t.length;let r,i,s;return lu(e)||(r=e.state,r.wrap!==0&&r.mode!==Em)?Bl:r.mode===Em&&(i=1,i=Ux(i,t,n,0),i!==r.check)?tN:(s=AN(e,t,n,n),s?(r.mode=rN,nN):(r.havedict=1,au))};var tO=sN,nO=oN,rO=aN,iO=$F,aO=lN,sO=XF,oO=JF,lO=WF,AO=eO,cO="pako inflate (from Nodeca project)",MA={inflateReset:tO,inflateReset2:nO,inflateResetKeep:rO,inflateInit:iO,inflateInit2:aO,inflate:sO,inflateEnd:oO,inflateGetHeader:lO,inflateSetDictionary:AO,inflateInfo:cO};function uO(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var dO=uO;const cN=Object.prototype.toString,{Z_NO_FLUSH:hO,Z_FINISH:fO,Z_OK:Kh,Z_STREAM_END:Av,Z_NEED_DICT:cv,Z_STREAM_ERROR:pO,Z_DATA_ERROR:p2,Z_MEM_ERROR:mO}=YC;function af(e){this.options=XC.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new kF,this.strm.avail_out=0;let n=MA.inflateInit2(this.strm,t.windowBits);if(n!==Kh)throw new Error(Ix[n]);if(this.header=new dO,MA.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=Tx.string2buf(t.dictionary):cN.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=MA.inflateSetDictionary(this.strm,t.dictionary),n!==Kh)))throw new Error(Ix[n])}af.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let s,c,d;if(this.ended)return!1;for(t===~~t?c=t:c=t===!0?fO:hO,cN.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),s=MA.inflate(n,c),s===cv&&i&&(s=MA.inflateSetDictionary(n,i),s===Kh?s=MA.inflate(n,c):s===p2&&(s=cv));n.avail_in>0&&s===Av&&n.state.wrap>0&&e[n.next_in]!==0;)MA.inflateReset(n),s=MA.inflate(n,c);switch(s){case pO:case p2:case cv:case mO:return this.onEnd(s),this.ended=!0,!1}if(d=n.avail_out,n.next_out&&(n.avail_out===0||s===Av))if(this.options.to==="string"){let h=Tx.utf8border(n.output,n.next_out),f=n.next_out-h,g=Tx.buf2string(n.output,h);n.next_out=f,n.avail_out=r-f,f&&n.output.set(n.output.subarray(h,h+f),0),this.onData(g)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(s===Kh&&d===0)){if(s===Av)return s=MA.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};af.prototype.onData=function(e){this.chunks.push(e)};af.prototype.onEnd=function(e){e===Kh&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=XC.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function gO(e,t){const n=new af(t);if(n.push(e),n.err)throw n.msg||Ix[n.err];return n.result}var vO=af,xO=gO,bO={Inflate:vO,inflate:xO};const{Inflate:yO,inflate:_O}=bO;var m2=yO,wO=_O;const uN=[];for(let e=0;e<256;e++){let t=e;for(let n=0;n<8;n++)t&1?t=3988292384^t>>>1:t=t>>>1;uN[e]=t}const g2=4294967295;function BO(e,t,n){let r=e;for(let i=0;i<n;i++)r=uN[(r^t[i])&255]^r>>>8;return r}function CO(e,t){return(BO(g2,e,t)^g2)>>>0}function v2(e,t,n){const r=e.readUint32(),i=CO(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(i!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${i}`)}function dN(e,t,n){for(let r=0;r<n;r++)t[r]=e[r]}function hN(e,t,n,r){let i=0;for(;i<r;i++)t[i]=e[i];for(;i<n;i++)t[i]=e[i]+t[i-r]&255}function fN(e,t,n,r){let i=0;if(n.length===0)for(;i<r;i++)t[i]=e[i];else for(;i<r;i++)t[i]=e[i]+n[i]&255}function pN(e,t,n,r,i){let s=0;if(n.length===0){for(;s<i;s++)t[s]=e[s];for(;s<r;s++)t[s]=e[s]+(t[s-i]>>1)&255}else{for(;s<i;s++)t[s]=e[s]+(n[s]>>1)&255;for(;s<r;s++)t[s]=e[s]+(t[s-i]+n[s]>>1)&255}}function mN(e,t,n,r,i){let s=0;if(n.length===0){for(;s<i;s++)t[s]=e[s];for(;s<r;s++)t[s]=e[s]+t[s-i]&255}else{for(;s<i;s++)t[s]=e[s]+n[s]&255;for(;s<r;s++)t[s]=e[s]+NO(t[s-i],n[s],n[s-i])&255}}function NO(e,t,n){const r=e+t-n,i=Math.abs(r-e),s=Math.abs(r-t),c=Math.abs(r-n);return i<=s&&i<=c?e:s<=c?t:n}function EO(e,t,n,r,i,s){switch(e){case 0:dN(t,n,i);break;case 1:hN(t,n,i,s);break;case 2:fN(t,n,r,i);break;case 3:pN(t,n,r,i,s);break;case 4:mN(t,n,r,i,s);break;default:throw new Error(`Unsupported filter: ${e}`)}}const SO=new Uint16Array([255]),LO=new Uint8Array(SO.buffer),jO=LO[0]===255;function kO(e){const{data:t,width:n,height:r,channels:i,depth:s}=e,c=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],d=Math.ceil(s/8)*i,h=new Uint8Array(r*n*d);let f=0;for(let g=0;g<7;g++){const x=c[g],E=Math.ceil((n-x.x)/x.xStep),w=Math.ceil((r-x.y)/x.yStep);if(E<=0||w<=0)continue;const I=E*d,j=new Uint8Array(I);for(let F=0;F<w;F++){const S=t[f++],z=t.subarray(f,f+I);f+=I;const D=new Uint8Array(I);EO(S,z,D,j,I,d),j.set(D);for(let G=0;G<E;G++){const ce=x.x+G*x.xStep,Y=x.y+F*x.yStep;if(!(ce>=n||Y>=r))for(let ge=0;ge<d;ge++)h[(Y*n+ce)*d+ge]=D[G*d+ge]}}}if(s===16){const g=new Uint16Array(h.buffer);if(jO)for(let x=0;x<g.length;x++)g[x]=UO(g[x]);return g}else return h}function UO(e){return(e&255)<<8|e>>8&255}const IO=new Uint16Array([255]),TO=new Uint8Array(IO.buffer),FO=TO[0]===255,OO=new Uint8Array(0);function x2(e){const{data:t,width:n,height:r,channels:i,depth:s}=e,c=Math.ceil(s/8)*i,d=Math.ceil(s/8*i*n),h=new Uint8Array(r*d);let f=OO,g=0,x,E;for(let w=0;w<r;w++){switch(x=t.subarray(g+1,g+1+d),E=h.subarray(w*d,(w+1)*d),t[g]){case 0:dN(x,E,d);break;case 1:hN(x,E,d,c);break;case 2:fN(x,E,f,d);break;case 3:pN(x,E,f,d,c);break;case 4:mN(x,E,f,d,c);break;default:throw new Error(`Unsupported filter: ${t[g]}`)}f=E,g+=d+1}if(s===16){const w=new Uint16Array(h.buffer);if(FO)for(let I=0;I<w.length;I++)w[I]=QO(w[I]);return w}else return h}function QO(e){return(e&255)<<8|e>>8&255}const Xp=Uint8Array.of(137,80,78,71,13,10,26,10);function b2(e){if(!DO(e.readBytes(Xp.length)))throw new Error("wrong PNG signature")}function DO(e){if(e.length<Xp.length)return!1;for(let t=0;t<Xp.length;t++)if(e[t]!==Xp[t])return!1;return!0}const MO="tEXt",RO=0,gN=new TextDecoder("latin1");function PO(e){if(zO(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const HO=/^[\u0000-\u00FF]*$/;function zO(e){if(!HO.test(e))throw new Error("invalid latin1 text")}function qO(e,t,n){const r=vN(t);e[r]=KO(t,n-r.length-1)}function vN(e){for(e.mark();e.readByte()!==RO;);const t=e.offset;e.reset();const n=gN.decode(e.readBytes(t-e.offset-1));return e.skip(1),PO(n),n}function KO(e,t){return gN.decode(e.readBytes(t))}const nl={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},uv={UNKNOWN:-1,DEFLATE:0},y2={UNKNOWN:-1,ADAPTIVE:0},dv={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Lp={NONE:0,BACKGROUND:1,PREVIOUS:2},hv={SOURCE:0,OVER:1};class GO extends jb{constructor(n,r={}){super(n);Ii(this,"_checkCrc");Ii(this,"_inflator");Ii(this,"_png");Ii(this,"_apng");Ii(this,"_end");Ii(this,"_hasPalette");Ii(this,"_palette");Ii(this,"_hasTransparency");Ii(this,"_transparency");Ii(this,"_compressionMethod");Ii(this,"_filterMethod");Ii(this,"_interlaceMethod");Ii(this,"_colorType");Ii(this,"_isAnimated");Ii(this,"_numberOfFrames");Ii(this,"_numberOfPlays");Ii(this,"_frames");Ii(this,"_writingDataChunks");const{checkCrc:i=!1}=r;this._checkCrc=i,this._inflator=new m2,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=uv.UNKNOWN,this._filterMethod=y2.UNKNOWN,this._interlaceMethod=dv.UNKNOWN,this._colorType=nl.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(b2(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeChunk(n,r)}return this.decodeImage(),this._png}decodeApng(){for(b2(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(n,r)}return this.decodeApngImage(),this._apng}decodeChunk(n,r){const i=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(n);break;case"IDAT":this.decodeIDAT(n);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(n);break;case"iCCP":this.decodeiCCP(n);break;case MO:qO(this._png.text,this,n);break;case"pHYs":this.decodepHYs();break;default:this.skip(n);break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?v2(this,n+4,r):this.skip(4)}decodeApngChunk(n,r){const i=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(n);break;default:this.decodeChunk(n,r),this.offset=i+n;break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?v2(this,n+4,r):this.skip(4)}decodeIHDR(){const n=this._png;n.width=this.readUint32(),n.height=this.readUint32(),n.depth=VO(this.readUint8());const r=this.readUint8();this._colorType=r;let i;switch(r){case nl.GREYSCALE:i=1;break;case nl.TRUECOLOUR:i=3;break;case nl.INDEXED_COLOUR:i=1;break;case nl.GREYSCALE_ALPHA:i=2;break;case nl.TRUECOLOUR_ALPHA:i=4;break;case nl.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==uv.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const n={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(n)}decodePLTE(n){if(n%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${n}`);const r=n/3;this._hasPalette=!0;const i=[];this._palette=i;for(let s=0;s<r;s++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(n){this._writingDataChunks=!0;const r=n,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodeFDAT(n){this._writingDataChunks=!0;let r=n,i=this.offset+this.byteOffset;if(i+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodetRNS(n){switch(this._colorType){case nl.GREYSCALE:case nl.TRUECOLOUR:{if(n%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${n}`);if(n/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${n/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(n/2);for(let r=0;r<n/2;r++)this._transparency[r]=this.readUint16();break}case nl.INDEXED_COLOUR:{if(n>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${n} vs ${this._palette.length})`);let r=0;for(;r<n;r++){const i=this.readByte();this._palette[r].push(i)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case nl.UNKNOWN:case nl.GREYSCALE_ALPHA:case nl.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(n){const r=vN(this),i=this.readUint8();if(i!==uv.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const s=this.readBytes(n-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:wO(s)}}decodepHYs(){const n=this.readUint32(),r=this.readUint32(),i=this.readByte();this._png.resolution={x:n,y:r,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let n=0;n<this._numberOfFrames;n++){const r={sequenceNumber:this._frames[n].sequenceNumber,delayNumber:this._frames[n].delayNumber,delayDenominator:this._frames[n].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(n);if(i){if(i.data=x2({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),n===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)r.data=i.data;else{const s=this._apng.frames.at(n-1);this.disposeFrame(i,s,r),this.addFrameDataToCanvas(r,i)}this._apng.frames.push(r)}}return this._apng}disposeFrame(n,r,i){switch(n.disposeOp){case Lp.NONE:break;case Lp.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let c=0;c<this._png.width;c++){const d=(s*n.width+c)*this._png.channels;for(let h=0;h<this._png.channels;h++)i.data[d+h]=0}break;case Lp.PREVIOUS:i.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(n,r){const i=1<<this._png.depth,s=(c,d)=>{const h=((c+r.yOffset)*this._png.width+r.xOffset+d)*this._png.channels,f=(c*r.width+d)*this._png.channels;return{index:h,frameIndex:f}};switch(r.blendOp){case hv.SOURCE:for(let c=0;c<r.height;c++)for(let d=0;d<r.width;d++){const{index:h,frameIndex:f}=s(c,d);for(let g=0;g<this._png.channels;g++)n.data[h+g]=r.data[f+g]}break;case hv.OVER:for(let c=0;c<r.height;c++)for(let d=0;d<r.width;d++){const{index:h,frameIndex:f}=s(c,d);for(let g=0;g<this._png.channels;g++){const x=r.data[f+this._png.channels-1]/i,E=g%(this._png.channels-1)===0?1:r.data[f+g],w=Math.floor(x*E+(1-x)*n.data[h+g]);n.data[h+g]+=w}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var r;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const n=this._isAnimated?((r=this._frames)==null?void 0:r.at(0)).data:this._inflator.result;if(this._filterMethod!==y2.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===dv.NO_INTERLACE)this._png.data=x2({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===dv.ADAM7)this._png.data=kO({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const n=this._inflator.result,r=this._frames.at(-1);r?r.data=n:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Lp.NONE,blendOp:hv.SOURCE,data:n}),this._inflator=new m2,this._writingDataChunks=!1}}function VO(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var _2;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(_2||(_2={}));function ZO(e,t){return new GO(e,t).decode()}var pr=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function fv(){pr.console&&typeof pr.console.log=="function"&&pr.console.log.apply(pr.console,arguments)}var Yi={log:fv,warn:function(e){pr.console&&(typeof pr.console.warn=="function"?pr.console.warn.apply(pr.console,arguments):fv.call(null,arguments))},error:function(e){pr.console&&(typeof pr.console.error=="function"?pr.console.error.apply(pr.console,arguments):fv(e))}};function pv(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){zc(r.response,t,n)},r.onerror=function(){Yi.error("could not download file")},r.send()}function w2(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function jp(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var zc=pr.saveAs||((typeof window>"u"?"undefined":Ti(window))!=="object"||window!==pr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=pr.URL||pr.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?w2(i.href)?pv(e,t,n):jp(i,i.target="_blank"):jp(i)):(i.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){jp(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download",typeof e=="string")if(w2(e))pv(e,t,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){jp(r)})}else navigator.msSaveOrOpenBlob((function(i,s){return s===void 0?s={autoBom:!1}:Ti(s)!=="object"&&(Yi.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(e,n),t)}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof e=="string")return pv(e,t,n);var i=e.type==="application/octet-stream",s=/constructor/i.test(pr.HTMLElement)||pr.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||i&&s)&&(typeof FileReader>"u"?"undefined":Ti(FileReader))==="object"){var d=new FileReader;d.onloadend=function(){var g=d.result;g=c?g:g.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=g:location=g,r=null},d.readAsDataURL(e)}else{var h=pr.URL||pr.webkitURL,f=h.createObjectURL(e);r?r.location=f:location.href=f,r=null,setTimeout(function(){h.revokeObjectURL(f)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function xN(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(d){return[parseInt(d[1]),parseInt(d[2]),parseInt(d[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(d){return[parseInt(d[1],16),parseInt(d[2],16),parseInt(d[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(d){return[parseInt(d[1]+d[1],16),parseInt(d[2]+d[2],16),parseInt(d[3]+d[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,c=i.exec(e);c&&(t=s(c),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var d=this.r.toString(16),h=this.g.toString(16),f=this.b.toString(16);return d.length==1&&(d="0"+d),h.length==1&&(h="0"+h),f.length==1&&(f="0"+f),"#"+d+h+f}}var Jp=pr.atob.bind(pr),B2=pr.btoa.bind(pr);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function mv(e,t){var n=e[0],r=e[1],i=e[2],s=e[3];n=mo(n,r,i,s,t[0],7,-680876936),s=mo(s,n,r,i,t[1],12,-389564586),i=mo(i,s,n,r,t[2],17,606105819),r=mo(r,i,s,n,t[3],22,-1044525330),n=mo(n,r,i,s,t[4],7,-176418897),s=mo(s,n,r,i,t[5],12,1200080426),i=mo(i,s,n,r,t[6],17,-1473231341),r=mo(r,i,s,n,t[7],22,-45705983),n=mo(n,r,i,s,t[8],7,1770035416),s=mo(s,n,r,i,t[9],12,-1958414417),i=mo(i,s,n,r,t[10],17,-42063),r=mo(r,i,s,n,t[11],22,-1990404162),n=mo(n,r,i,s,t[12],7,1804603682),s=mo(s,n,r,i,t[13],12,-40341101),i=mo(i,s,n,r,t[14],17,-1502002290),n=go(n,r=mo(r,i,s,n,t[15],22,1236535329),i,s,t[1],5,-165796510),s=go(s,n,r,i,t[6],9,-1069501632),i=go(i,s,n,r,t[11],14,643717713),r=go(r,i,s,n,t[0],20,-373897302),n=go(n,r,i,s,t[5],5,-701558691),s=go(s,n,r,i,t[10],9,38016083),i=go(i,s,n,r,t[15],14,-660478335),r=go(r,i,s,n,t[4],20,-405537848),n=go(n,r,i,s,t[9],5,568446438),s=go(s,n,r,i,t[14],9,-1019803690),i=go(i,s,n,r,t[3],14,-187363961),r=go(r,i,s,n,t[8],20,1163531501),n=go(n,r,i,s,t[13],5,-1444681467),s=go(s,n,r,i,t[2],9,-51403784),i=go(i,s,n,r,t[7],14,1735328473),n=vo(n,r=go(r,i,s,n,t[12],20,-1926607734),i,s,t[5],4,-378558),s=vo(s,n,r,i,t[8],11,-2022574463),i=vo(i,s,n,r,t[11],16,1839030562),r=vo(r,i,s,n,t[14],23,-35309556),n=vo(n,r,i,s,t[1],4,-1530992060),s=vo(s,n,r,i,t[4],11,1272893353),i=vo(i,s,n,r,t[7],16,-155497632),r=vo(r,i,s,n,t[10],23,-1094730640),n=vo(n,r,i,s,t[13],4,681279174),s=vo(s,n,r,i,t[0],11,-358537222),i=vo(i,s,n,r,t[3],16,-722521979),r=vo(r,i,s,n,t[6],23,76029189),n=vo(n,r,i,s,t[9],4,-640364487),s=vo(s,n,r,i,t[12],11,-421815835),i=vo(i,s,n,r,t[15],16,530742520),n=xo(n,r=vo(r,i,s,n,t[2],23,-995338651),i,s,t[0],6,-198630844),s=xo(s,n,r,i,t[7],10,1126891415),i=xo(i,s,n,r,t[14],15,-1416354905),r=xo(r,i,s,n,t[5],21,-57434055),n=xo(n,r,i,s,t[12],6,1700485571),s=xo(s,n,r,i,t[3],10,-1894986606),i=xo(i,s,n,r,t[10],15,-1051523),r=xo(r,i,s,n,t[1],21,-2054922799),n=xo(n,r,i,s,t[8],6,1873313359),s=xo(s,n,r,i,t[15],10,-30611744),i=xo(i,s,n,r,t[6],15,-1560198380),r=xo(r,i,s,n,t[13],21,1309151649),n=xo(n,r,i,s,t[4],6,-145523070),s=xo(s,n,r,i,t[11],10,-1120210379),i=xo(i,s,n,r,t[2],15,718787259),r=xo(r,i,s,n,t[9],21,-343485551),e[0]=wc(n,e[0]),e[1]=wc(r,e[1]),e[2]=wc(i,e[2]),e[3]=wc(s,e[3])}function eg(e,t,n,r,i,s){return t=wc(wc(t,e),wc(r,s)),wc(t<<i|t>>>32-i,n)}function mo(e,t,n,r,i,s,c){return eg(t&n|~t&r,e,t,i,s,c)}function go(e,t,n,r,i,s,c){return eg(t&r|n&~r,e,t,i,s,c)}function vo(e,t,n,r,i,s,c){return eg(t^n^r,e,t,i,s,c)}function xo(e,t,n,r,i,s,c){return eg(n^(t|~r),e,t,i,s,c)}function bN(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)mv(r,$O(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(mv(r,i),t=0;t<16;t++)i[t]=0;return i[14]=8*n,mv(r,i),r}function $O(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}var C2="0123456789abcdef".split("");function YO(e){for(var t="",n=0;n<4;n++)t+=C2[e>>8*n+4&15]+C2[e>>8*n&15];return t}function XO(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function Fx(e){return bN(e).map(XO).join("")}var JO=(function(e){for(var t=0;t<e.length;t++)e[t]=YO(e[t]);return e.join("")})(bN("hello"))!="5d41402abc4b2a76b9719d911017c592";function wc(e,t){if(JO){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Ox(e,t){var n,r,i,s;if(e!==n){for(var c=(i=e,s=1+(256/e.length|0),new Array(s+1).join(i)),d=[],h=0;h<256;h++)d[h]=h;var f=0;for(h=0;h<256;h++){var g=d[h];f=(f+g+c.charCodeAt(h))%256,d[h]=d[f],d[f]=g}n=e,r=d}else d=r;var x=t.length,E=0,w=0,I="";for(h=0;h<x;h++)w=(w+(g=d[E=(E+1)%256]))%256,d[E]=d[w],d[w]=g,c=d[(d[E]+d[w])%256],I+=String.fromCharCode(t.charCodeAt(h)^c);return I}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var N2={print:4,modify:8,copy:16,"annot-forms":32};function Wu(e,t,n,r){this.v=1,this.r=2;var i=192;e.forEach(function(d){if(N2.perm!==void 0)throw new Error("Invalid permission: "+d);i+=N2[d]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(t+this.padding).substr(0,32),c=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,c),this.P=-(1+(255^i)),this.encryptionKey=Fx(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=Ox(this.encryptionKey,this.padding)}function ed(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var i=e.charCodeAt(r);t+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):e[r]}return t}function E2(e){if(Ti(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(n)||(t[n]={});var s=Math.random().toString(35);return t[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in t)if(t[r][n])return delete t[r][n],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in t[n]){var c=t[n][s];try{c[0].apply(e,r)}catch(d){pr.console&&Yi.error("jsPDF PubSub Error",d.message,d)}c[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Sm(e){if(!(this instanceof Sm))return new Sm(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function yN(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Vc(e,t,n,r,i){if(!(this instanceof Vc))return new Vc(e,t,n,r,i);this.type=e==="axial"?2:3,this.coords=t,this.colors=n,yN.call(this,r,i)}function ad(e,t,n,r,i){if(!(this instanceof ad))return new ad(e,t,n,r,i);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,yN.call(this,r,i)}function qn(e){var t,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],c=[],d=1,h=16,f="S",g=null;Ti(e=e||{})==="object"&&(n=e.orientation,r=e.unit||r,i=e.format||i,s=e.compress||e.compressPdf||s,(g=e.encryption||null)!==null&&(g.userPassword=g.userPassword||"",g.ownerPassword=g.ownerPassword||"",g.userPermissions=g.userPermissions||[]),d=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(h=e.floatPrecision),f=e.defaultPathOperation||"S"),c=e.filters||(s===!0?["FlateEncode"]:c),r=r||"mm",n=(""+(n||"P")).toLowerCase();var x=e.putOnlyUsedFonts||!1,E={},w={internal:{},__private__:{}};w.__private__.PubSub=E2;var I="1.3",j=w.__private__.getPdfVersion=function(){return I};w.__private__.setPdfVersion=function(k){I=k};var F={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};w.__private__.getPageFormats=function(){return F};var S=w.__private__.getPageFormat=function(k){return F[k]};i=i||"a4";var z="compat",D="advanced",G=z;function ce(){this.saveGraphicsState(),xe(new fn(mn,0,0,-mn,0,co()*mn).toString()+" cm"),this.setFontSize(this.getFontSize()/mn),f="n",G=D}function Y(){this.restoreGraphicsState(),f="S",G=z}var ge=w.__private__.combineFontStyleAndFontWeight=function(k,ee){if(k=="bold"&&ee=="normal"||k=="bold"&&ee==400||k=="normal"&&ee=="italic"||k=="bold"&&ee=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ee&&(k=ee==400||ee==="normal"?k==="italic"?"italic":"normal":ee!=700&&ee!=="bold"||k!=="normal"?(ee==700?"bold":ee)+""+k:"bold"),k};w.advancedAPI=function(k){var ee=G===z;return ee&&ce.call(this),typeof k!="function"||(k(this),ee&&Y.call(this)),this},w.compatAPI=function(k){var ee=G===D;return ee&&Y.call(this),typeof k!="function"||(k(this),ee&&ce.call(this)),this},w.isAdvancedAPI=function(){return G===D};var re,M=function(k){if(G!==D)throw new Error(k+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},X=w.roundToPrecision=w.__private__.roundToPrecision=function(k,ee){var Be=t||ee;if(isNaN(k)||isNaN(Be))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return k.toFixed(Be).replace(/0+$/,"")};re=w.hpf=w.__private__.hpf=typeof h=="number"?function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.hpf");return X(k,h)}:h==="smart"?function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.hpf");return X(k,k>-1&&k<1?16:5)}:function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.hpf");return X(k,16)};var V=w.f2=w.__private__.f2=function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.f2");return X(k,2)},W=w.__private__.f3=function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.f3");return X(k,3)},oe=w.scale=w.__private__.scale=function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.scale");return G===z?k*mn:G===D?k:void 0},me=function(k){return oe((function(ee){return G===z?co()-ee:G===D?ee:void 0})(k))};w.__private__.setPrecision=w.setPrecision=function(k){typeof parseInt(k,10)=="number"&&(t=parseInt(k,10))};var ye,se="00000000000000000000000000000000",_e=w.__private__.getFileId=function(){return se},Z=w.__private__.setFileId=function(k){return se=k!==void 0&&/^[a-fA-F0-9]{32}$/.test(k)?k.toUpperCase():se.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),g!==null&&(vr=new Wu(g.userPermissions,g.userPassword,g.ownerPassword,se)),se};w.setFileId=function(k){return Z(k),this},w.getFileId=function(){return _e()};var Ce=w.__private__.convertDateToPDFDate=function(k){var ee=k.getTimezoneOffset(),Be=ee<0?"+":"-",De=Math.floor(Math.abs(ee/60)),We=Math.abs(ee%60),ft=[Be,O(De),"'",O(We),"'"].join("");return["D:",k.getFullYear(),O(k.getMonth()+1),O(k.getDate()),O(k.getHours()),O(k.getMinutes()),O(k.getSeconds()),ft].join("")},Se=w.__private__.convertPDFDateToDate=function(k){var ee=parseInt(k.substr(2,4),10),Be=parseInt(k.substr(6,2),10)-1,De=parseInt(k.substr(8,2),10),We=parseInt(k.substr(10,2),10),ft=parseInt(k.substr(12,2),10),Ft=parseInt(k.substr(14,2),10);return new Date(ee,Be,De,We,ft,Ft,0)},te=w.__private__.setCreationDate=function(k){var ee;if(k===void 0&&(k=new Date),k instanceof Date)ee=Ce(k);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(k))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ee=k}return ye=ee},P=w.__private__.getCreationDate=function(k){var ee=ye;return k==="jsDate"&&(ee=Se(ye)),ee};w.setCreationDate=function(k){return te(k),this},w.getCreationDate=function(k){return P(k)};var ie,O=w.__private__.padd2=function(k){return("0"+parseInt(k)).slice(-2)},ae=w.__private__.padd2Hex=function(k){return("00"+(k=k.toString())).substr(k.length)},ue=0,je=[],Ve=[],Ie=0,lt=[],wt=[],Xe=!1,$t=Ve;w.__private__.setCustomOutputDestination=function(k){Xe=!0,$t=k};var on=function(k){Xe||($t=k)};w.__private__.resetCustomOutputDestination=function(){Xe=!1,$t=Ve};var xe=w.__private__.out=function(k){return k=k.toString(),Ie+=k.length+1,$t.push(k),$t},Ot=w.__private__.write=function(k){return xe(arguments.length===1?k.toString():Array.prototype.join.call(arguments," "))},rn=w.__private__.getArrayBuffer=function(k){for(var ee=k.length,Be=new ArrayBuffer(ee),De=new Uint8Array(Be);ee--;)De[ee]=k.charCodeAt(ee);return Be},dn=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];w.__private__.getStandardFonts=function(){return dn};var xt=e.fontSize||16;w.__private__.setFontSize=w.setFontSize=function(k){return xt=G===D?k/mn:k,this};var nn,Vt=w.__private__.getFontSize=w.getFontSize=function(){return G===z?xt:xt*mn},un=e.R2L||!1;w.__private__.setR2L=w.setR2L=function(k){return un=k,this},w.__private__.getR2L=w.getR2L=function(){return un};var hn,jn=w.__private__.setZoomMode=function(k){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(k))nn=k;else if(isNaN(k)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(k)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+k+'" is not recognized.');nn=k}else nn=parseInt(k,10)};w.__private__.getZoomMode=function(){return nn};var Mn,_n=w.__private__.setPageMode=function(k){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(k)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+k+'" is not recognized.');hn=k};w.__private__.getPageMode=function(){return hn};var En=w.__private__.setLayoutMode=function(k){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(k)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+k+'" is not recognized.');Mn=k};w.__private__.getLayoutMode=function(){return Mn},w.__private__.setDisplayMode=w.setDisplayMode=function(k,ee,Be){return jn(k),En(ee),_n(Be),this};var Tn={title:"",subject:"",author:"",keywords:"",creator:""};w.__private__.getDocumentProperty=function(k){if(Object.keys(Tn).indexOf(k)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Tn[k]},w.__private__.getDocumentProperties=function(){return Tn},w.__private__.setDocumentProperties=w.setProperties=w.setDocumentProperties=function(k){for(var ee in Tn)Tn.hasOwnProperty(ee)&&k[ee]&&(Tn[ee]=k[ee]);return this},w.__private__.setDocumentProperty=function(k,ee){if(Object.keys(Tn).indexOf(k)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Tn[k]=ee};var cn,mn,en,Fe,yt,jt={},dt={},Rt=[],Ht={},Qn={},bt={},kn={},jr=null,Hn=0,wn=[],cr=new E2(w),qi=e.hotfixes||[],Fi={},ci={},Kr=[],fn=function k(ee,Be,De,We,ft,Ft){if(!(this instanceof k))return new k(ee,Be,De,We,ft,Ft);isNaN(ee)&&(ee=1),isNaN(Be)&&(Be=0),isNaN(De)&&(De=0),isNaN(We)&&(We=1),isNaN(ft)&&(ft=0),isNaN(Ft)&&(Ft=0),this._matrix=[ee,Be,De,We,ft,Ft]};Object.defineProperty(fn.prototype,"sx",{get:function(){return this._matrix[0]},set:function(k){this._matrix[0]=k}}),Object.defineProperty(fn.prototype,"shy",{get:function(){return this._matrix[1]},set:function(k){this._matrix[1]=k}}),Object.defineProperty(fn.prototype,"shx",{get:function(){return this._matrix[2]},set:function(k){this._matrix[2]=k}}),Object.defineProperty(fn.prototype,"sy",{get:function(){return this._matrix[3]},set:function(k){this._matrix[3]=k}}),Object.defineProperty(fn.prototype,"tx",{get:function(){return this._matrix[4]},set:function(k){this._matrix[4]=k}}),Object.defineProperty(fn.prototype,"ty",{get:function(){return this._matrix[5]},set:function(k){this._matrix[5]=k}}),Object.defineProperty(fn.prototype,"a",{get:function(){return this._matrix[0]},set:function(k){this._matrix[0]=k}}),Object.defineProperty(fn.prototype,"b",{get:function(){return this._matrix[1]},set:function(k){this._matrix[1]=k}}),Object.defineProperty(fn.prototype,"c",{get:function(){return this._matrix[2]},set:function(k){this._matrix[2]=k}}),Object.defineProperty(fn.prototype,"d",{get:function(){return this._matrix[3]},set:function(k){this._matrix[3]=k}}),Object.defineProperty(fn.prototype,"e",{get:function(){return this._matrix[4]},set:function(k){this._matrix[4]=k}}),Object.defineProperty(fn.prototype,"f",{get:function(){return this._matrix[5]},set:function(k){this._matrix[5]=k}}),Object.defineProperty(fn.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(fn.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(fn.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(fn.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),fn.prototype.join=function(k){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(re).join(k)},fn.prototype.multiply=function(k){var ee=k.sx*this.sx+k.shy*this.shx,Be=k.sx*this.shy+k.shy*this.sy,De=k.shx*this.sx+k.sy*this.shx,We=k.shx*this.shy+k.sy*this.sy,ft=k.tx*this.sx+k.ty*this.shx+this.tx,Ft=k.tx*this.shy+k.ty*this.sy+this.ty;return new fn(ee,Be,De,We,ft,Ft)},fn.prototype.decompose=function(){var k=this.sx,ee=this.shy,Be=this.shx,De=this.sy,We=this.tx,ft=this.ty,Ft=Math.sqrt(k*k+ee*ee),pn=(k/=Ft)*Be+(ee/=Ft)*De;Be-=k*pn,De-=ee*pn;var xn=Math.sqrt(Be*Be+De*De);return pn/=xn,k*(De/=xn)<ee*(Be/=xn)&&(k=-k,ee=-ee,pn=-pn,Ft=-Ft),{scale:new fn(Ft,0,0,xn,0,0),translate:new fn(1,0,0,1,We,ft),rotate:new fn(k,ee,-ee,k,0,0),skew:new fn(1,0,pn,1,0,0)}},fn.prototype.toString=function(k){return this.join(" ")},fn.prototype.inversed=function(){var k=this.sx,ee=this.shy,Be=this.shx,De=this.sy,We=this.tx,ft=this.ty,Ft=1/(k*De-ee*Be),pn=De*Ft,xn=-ee*Ft,Gn=-Be*Ft,sr=k*Ft;return new fn(pn,xn,Gn,sr,-pn*We-Gn*ft,-xn*We-sr*ft)},fn.prototype.applyToPoint=function(k){var ee=k.x*this.sx+k.y*this.shx+this.tx,Be=k.x*this.shy+k.y*this.sy+this.ty;return new Za(ee,Be)},fn.prototype.applyToRectangle=function(k){var ee=this.applyToPoint(k),Be=this.applyToPoint(new Za(k.x+k.w,k.y+k.h));return new ks(ee.x,ee.y,Be.x-ee.x,Be.y-ee.y)},fn.prototype.clone=function(){var k=this.sx,ee=this.shy,Be=this.shx,De=this.sy,We=this.tx,ft=this.ty;return new fn(k,ee,Be,De,We,ft)},w.Matrix=fn;var Xi=w.matrixMult=function(k,ee){return ee.multiply(k)},Yn=new fn(1,0,0,1,0,0);w.unitMatrix=w.identityMatrix=Yn;var Xn=function(k,ee){if(!Qn[k]){var Be=(ee instanceof Vc?"Sh":"P")+(Object.keys(Ht).length+1).toString(10);ee.id=Be,Qn[k]=Be,Ht[Be]=ee,cr.publish("addPattern",ee)}};w.ShadingPattern=Vc,w.TilingPattern=ad,w.addShadingPattern=function(k,ee){return M("addShadingPattern()"),Xn(k,ee),this},w.beginTilingPattern=function(k){M("beginTilingPattern()"),$o(k.boundingBox[0],k.boundingBox[1],k.boundingBox[2]-k.boundingBox[0],k.boundingBox[3]-k.boundingBox[1],k.matrix)},w.endTilingPattern=function(k,ee){M("endTilingPattern()"),ee.stream=wt[ie].join(`
`),Xn(k,ee),cr.publish("endTilingPattern",ee),Kr.pop().restore()};var Oi,ze=w.__private__.newObject=function(){var k=st();return gn(k,!0),k},st=w.__private__.newObjectDeferred=function(){return ue++,je[ue]=function(){return Ie},ue},gn=function(k,ee){return ee=typeof ee=="boolean"&&ee,je[k]=Ie,ee&&xe(k+" 0 obj"),k},ur=w.__private__.newAdditionalObject=function(){var k={objId:st(),content:""};return lt.push(k),k},Kn=st(),Wn=st(),Ar=w.__private__.decodeColorString=function(k){var ee=k.split(" ");if(ee.length!==2||ee[1]!=="g"&&ee[1]!=="G")ee.length!==5||ee[4]!=="k"&&ee[4]!=="K"||(ee=[(1-ee[0])*(1-ee[3]),(1-ee[1])*(1-ee[3]),(1-ee[2])*(1-ee[3]),"r"]);else{var Be=parseFloat(ee[0]);ee=[Be,Be,Be,"r"]}for(var De="#",We=0;We<3;We++)De+=("0"+Math.floor(255*parseFloat(ee[We])).toString(16)).slice(-2);return De},Jr=w.__private__.encodeColorString=function(k){var ee;typeof k=="string"&&(k={ch1:k});var Be=k.ch1,De=k.ch2,We=k.ch3,ft=k.ch4,Ft=k.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Be=="string"&&Be.charAt(0)!=="#"){var pn=new xN(Be);if(pn.ok)Be=pn.toHex();else if(!/^\d*\.?\d*$/.test(Be))throw new Error('Invalid color "'+Be+'" passed to jsPDF.encodeColorString.')}if(typeof Be=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Be)&&(Be="#"+Be[1]+Be[1]+Be[2]+Be[2]+Be[3]+Be[3]),typeof Be=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Be)){var xn=parseInt(Be.substr(1),16);Be=xn>>16&255,De=xn>>8&255,We=255&xn}if(De===void 0||ft===void 0&&Be===De&&De===We)ee=typeof Be=="string"?Be+" "+Ft[0]:k.precision===2?V(Be/255)+" "+Ft[0]:W(Be/255)+" "+Ft[0];else if(ft===void 0||Ti(ft)==="object"){if(ft&&!isNaN(ft.a)&&ft.a===0)return["1.","1.","1.",Ft[1]].join(" ");ee=typeof Be=="string"?[Be,De,We,Ft[1]].join(" "):k.precision===2?[V(Be/255),V(De/255),V(We/255),Ft[1]].join(" "):[W(Be/255),W(De/255),W(We/255),Ft[1]].join(" ")}else ee=typeof Be=="string"?[Be,De,We,ft,Ft[2]].join(" "):k.precision===2?[V(Be),V(De),V(We),V(ft),Ft[2]].join(" "):[W(Be),W(De),W(We),W(ft),Ft[2]].join(" ");return ee},kr=w.__private__.getFilters=function(){return c},Yr=w.__private__.putStream=function(k){var ee=(k=k||{}).data||"",Be=k.filters||kr(),De=k.alreadyAppliedFilters||[],We=k.addLength1||!1,ft=ee.length,Ft=k.objectId,pn=function(Ki){return Ki};if(g!==null&&Ft===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");g!==null&&(pn=vr.encryptor(Ft,0));var xn={};Be===!0&&(Be=["FlateEncode"]);var Gn=k.additionalKeyValues||[],sr=(xn=qn.API.processDataByFilters!==void 0?qn.API.processDataByFilters(ee,Be):{data:ee,reverseChain:[]}).reverseChain+(Array.isArray(De)?De.join(" "):De.toString());if(xn.data.length!==0&&(Gn.push({key:"Length",value:xn.data.length}),We===!0&&Gn.push({key:"Length1",value:ft})),sr.length!=0)if(sr.split("/").length-1==1)Gn.push({key:"Filter",value:sr});else{Gn.push({key:"Filter",value:"["+sr+"]"});for(var Ur=0;Ur<Gn.length;Ur+=1)if(Gn[Ur].key==="DecodeParms"){for(var hi=[],Si=0;Si<xn.reverseChain.split("/").length-1;Si+=1)hi.push("null");hi.push(Gn[Ur].value),Gn[Ur].value="["+hi.join(" ")+"]"}}xe("<<");for(var Tr=0;Tr<Gn.length;Tr++)xe("/"+Gn[Tr].key+" "+Gn[Tr].value);xe(">>"),xn.data.length!==0&&(xe("stream"),xe(pn(xn.data)),xe("endstream"))},Wr=w.__private__.putPage=function(k){var ee=k.number,Be=k.data,De=k.objId,We=k.contentsObjId;gn(De,!0),xe("<</Type /Page"),xe("/Parent "+k.rootDictionaryObjId+" 0 R"),xe("/Resources "+k.resourceDictionaryObjId+" 0 R"),xe("/MediaBox ["+parseFloat(re(k.mediaBox.bottomLeftX))+" "+parseFloat(re(k.mediaBox.bottomLeftY))+" "+re(k.mediaBox.topRightX)+" "+re(k.mediaBox.topRightY)+"]"),k.cropBox!==null&&xe("/CropBox ["+re(k.cropBox.bottomLeftX)+" "+re(k.cropBox.bottomLeftY)+" "+re(k.cropBox.topRightX)+" "+re(k.cropBox.topRightY)+"]"),k.bleedBox!==null&&xe("/BleedBox ["+re(k.bleedBox.bottomLeftX)+" "+re(k.bleedBox.bottomLeftY)+" "+re(k.bleedBox.topRightX)+" "+re(k.bleedBox.topRightY)+"]"),k.trimBox!==null&&xe("/TrimBox ["+re(k.trimBox.bottomLeftX)+" "+re(k.trimBox.bottomLeftY)+" "+re(k.trimBox.topRightX)+" "+re(k.trimBox.topRightY)+"]"),k.artBox!==null&&xe("/ArtBox ["+re(k.artBox.bottomLeftX)+" "+re(k.artBox.bottomLeftY)+" "+re(k.artBox.topRightX)+" "+re(k.artBox.topRightY)+"]"),typeof k.userUnit=="number"&&k.userUnit!==1&&xe("/UserUnit "+k.userUnit),cr.publish("putPage",{objId:De,pageContext:wn[ee],pageNumber:ee,page:Be}),xe("/Contents "+We+" 0 R"),xe(">>"),xe("endobj");var ft=Be.join(`
`);return G===D&&(ft+=`
Q`),gn(We,!0),Yr({data:ft,filters:kr(),objectId:We}),xe("endobj"),De},bi=w.__private__.putPages=function(){var k,ee,Be=[];for(k=1;k<=Hn;k++)wn[k].objId=st(),wn[k].contentsObjId=st();for(k=1;k<=Hn;k++)Be.push(Wr({number:k,data:wt[k],objId:wn[k].objId,contentsObjId:wn[k].contentsObjId,mediaBox:wn[k].mediaBox,cropBox:wn[k].cropBox,bleedBox:wn[k].bleedBox,trimBox:wn[k].trimBox,artBox:wn[k].artBox,userUnit:wn[k].userUnit,rootDictionaryObjId:Kn,resourceDictionaryObjId:Wn}));gn(Kn,!0),xe("<</Type /Pages");var De="/Kids [";for(ee=0;ee<Hn;ee++)De+=Be[ee]+" 0 R ";xe(De+"]"),xe("/Count "+Hn),xe(">>"),xe("endobj"),cr.publish("postPutPages")},Jn=function(k){cr.publish("putFont",{font:k,out:xe,newObject:ze,putStream:Yr}),k.isAlreadyPutted!==!0&&(k.objectNumber=ze(),xe("<<"),xe("/Type /Font"),xe("/BaseFont /"+ed(k.postScriptName)),xe("/Subtype /Type1"),typeof k.encoding=="string"&&xe("/Encoding /"+k.encoding),xe("/FirstChar 32"),xe("/LastChar 255"),xe(">>"),xe("endobj"))},ba=function(k){k.objectNumber=ze();var ee=[];ee.push({key:"Type",value:"/XObject"}),ee.push({key:"Subtype",value:"/Form"}),ee.push({key:"BBox",value:"["+[re(k.x),re(k.y),re(k.x+k.width),re(k.y+k.height)].join(" ")+"]"}),ee.push({key:"Matrix",value:"["+k.matrix.toString()+"]"});var Be=k.pages[1].join(`
`);Yr({data:Be,additionalKeyValues:ee,objectId:k.objectNumber}),xe("endobj")},gr=function(k,ee){ee||(ee=21);var Be=ze(),De=(function(Ft,pn){var xn,Gn=[],sr=1/(pn-1);for(xn=0;xn<1;xn+=sr)Gn.push(xn);if(Gn.push(1),Ft[0].offset!=0){var Ur={offset:0,color:Ft[0].color};Ft.unshift(Ur)}if(Ft[Ft.length-1].offset!=1){var hi={offset:1,color:Ft[Ft.length-1].color};Ft.push(hi)}for(var Si="",Tr=0,Ki=0;Ki<Gn.length;Ki++){for(xn=Gn[Ki];xn>Ft[Tr+1].offset;)Tr++;var Li=Ft[Tr].offset,Gi=(xn-Li)/(Ft[Tr+1].offset-Li),As=Ft[Tr].color,ha=Ft[Tr+1].color;Si+=ae(Math.round((1-Gi)*As[0]+Gi*ha[0]).toString(16))+ae(Math.round((1-Gi)*As[1]+Gi*ha[1]).toString(16))+ae(Math.round((1-Gi)*As[2]+Gi*ha[2]).toString(16))}return Si.trim()})(k.colors,ee),We=[];We.push({key:"FunctionType",value:"0"}),We.push({key:"Domain",value:"[0.0 1.0]"}),We.push({key:"Size",value:"["+ee+"]"}),We.push({key:"BitsPerSample",value:"8"}),We.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),We.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Yr({data:De,additionalKeyValues:We,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Be}),xe("endobj"),k.objectNumber=ze(),xe("<< /ShadingType "+k.type),xe("/ColorSpace /DeviceRGB");var ft="/Coords ["+re(parseFloat(k.coords[0]))+" "+re(parseFloat(k.coords[1]))+" ";k.type===2?ft+=re(parseFloat(k.coords[2]))+" "+re(parseFloat(k.coords[3])):ft+=re(parseFloat(k.coords[2]))+" "+re(parseFloat(k.coords[3]))+" "+re(parseFloat(k.coords[4]))+" "+re(parseFloat(k.coords[5])),xe(ft+="]"),k.matrix&&xe("/Matrix ["+k.matrix.toString()+"]"),xe("/Function "+Be+" 0 R"),xe("/Extend [true true]"),xe(">>"),xe("endobj")},Bi=function(k,ee){var Be=st(),De=ze();ee.push({resourcesOid:Be,objectOid:De}),k.objectNumber=De;var We=[];We.push({key:"Type",value:"/Pattern"}),We.push({key:"PatternType",value:"1"}),We.push({key:"PaintType",value:"1"}),We.push({key:"TilingType",value:"1"}),We.push({key:"BBox",value:"["+k.boundingBox.map(re).join(" ")+"]"}),We.push({key:"XStep",value:re(k.xStep)}),We.push({key:"YStep",value:re(k.yStep)}),We.push({key:"Resources",value:Be+" 0 R"}),k.matrix&&We.push({key:"Matrix",value:"["+k.matrix.toString()+"]"}),Yr({data:k.stream,additionalKeyValues:We,objectId:k.objectNumber}),xe("endobj")},le=function(k){for(var ee in k.objectNumber=ze(),xe("<<"),k)switch(ee){case"opacity":xe("/ca "+V(k[ee]));break;case"stroke-opacity":xe("/CA "+V(k[ee]))}xe(">>"),xe("endobj")},Lt=function(k){gn(k.resourcesOid,!0),xe("<<"),xe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var ee in xe("/Font <<"),jt)jt.hasOwnProperty(ee)&&(x===!1||x===!0&&E.hasOwnProperty(ee))&&xe("/"+ee+" "+jt[ee].objectNumber+" 0 R");xe(">>")})(),(function(){if(Object.keys(Ht).length>0){for(var ee in xe("/Shading <<"),Ht)Ht.hasOwnProperty(ee)&&Ht[ee]instanceof Vc&&Ht[ee].objectNumber>=0&&xe("/"+ee+" "+Ht[ee].objectNumber+" 0 R");cr.publish("putShadingPatternDict"),xe(">>")}})(),(function(ee){if(Object.keys(Ht).length>0){for(var Be in xe("/Pattern <<"),Ht)Ht.hasOwnProperty(Be)&&Ht[Be]instanceof w.TilingPattern&&Ht[Be].objectNumber>=0&&Ht[Be].objectNumber<ee&&xe("/"+Be+" "+Ht[Be].objectNumber+" 0 R");cr.publish("putTilingPatternDict"),xe(">>")}})(k.objectOid),(function(){if(Object.keys(bt).length>0){var ee;for(ee in xe("/ExtGState <<"),bt)bt.hasOwnProperty(ee)&&bt[ee].objectNumber>=0&&xe("/"+ee+" "+bt[ee].objectNumber+" 0 R");cr.publish("putGStateDict"),xe(">>")}})(),(function(){for(var ee in xe("/XObject <<"),Fi)Fi.hasOwnProperty(ee)&&Fi[ee].objectNumber>=0&&xe("/"+ee+" "+Fi[ee].objectNumber+" 0 R");cr.publish("putXobjectDict"),xe(">>")})(),xe(">>"),xe("endobj")},Qt=function(k){dt[k.fontName]=dt[k.fontName]||{},dt[k.fontName][k.fontStyle]=k.id},Et=function(k,ee,Be,De,We){var ft={id:"F"+(Object.keys(jt).length+1).toString(10),postScriptName:k,fontName:ee,fontStyle:Be,encoding:De,isStandardFont:We||!1,metadata:{}};return cr.publish("addFont",{font:ft,instance:this}),jt[ft.id]=ft,Qt(ft),ft.id},sn=w.__private__.pdfEscape=w.pdfEscape=function(k,ee){return(function(Be,De){var We,ft,Ft,pn,xn,Gn,sr,Ur,hi;if(Ft=(De=De||{}).sourceEncoding||"Unicode",xn=De.outputEncoding,(De.autoencode||xn)&&jt[cn].metadata&&jt[cn].metadata[Ft]&&jt[cn].metadata[Ft].encoding&&(pn=jt[cn].metadata[Ft].encoding,!xn&&jt[cn].encoding&&(xn=jt[cn].encoding),!xn&&pn.codePages&&(xn=pn.codePages[0]),typeof xn=="string"&&(xn=pn[xn]),xn)){for(sr=!1,Gn=[],We=0,ft=Be.length;We<ft;We++)(Ur=xn[Be.charCodeAt(We)])?Gn.push(String.fromCharCode(Ur)):Gn.push(Be[We]),Gn[We].charCodeAt(0)>>8&&(sr=!0);Be=Gn.join("")}for(We=Be.length;sr===void 0&&We!==0;)Be.charCodeAt(We-1)>>8&&(sr=!0),We--;if(!sr)return Be;for(Gn=De.noBOM?[]:[254,255],We=0,ft=Be.length;We<ft;We++){if((hi=(Ur=Be.charCodeAt(We))>>8)>>8)throw new Error("Character at position "+We+" of string '"+Be+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Gn.push(hi),Gn.push(Ur-(hi<<8))}return String.fromCharCode.apply(void 0,Gn)})(k,ee).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Bn=w.__private__.beginPage=function(k){wt[++Hn]=[],wn[Hn]={objId:0,contentsObjId:0,userUnit:Number(d),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(k[0]),topRightY:Number(k[1])}},tn(Hn),on(wt[ie])},ke=function(k,ee){var Be,De,We;switch(n=ee||n,typeof k=="string"&&(Be=S(k.toLowerCase()),Array.isArray(Be)&&(De=Be[0],We=Be[1])),Array.isArray(k)&&(De=k[0]*mn,We=k[1]*mn),isNaN(De)&&(De=i[0],We=i[1]),(De>14400||We>14400)&&(Yi.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),De=Math.min(14400,De),We=Math.min(14400,We)),i=[De,We],n.substr(0,1)){case"l":We>De&&(i=[We,De]);break;case"p":De>We&&(i=[We,De])}Bn(i),Kt(di),xe(wa),Al!==0&&xe(Al+" J"),ia!==0&&xe(ia+" j"),cr.publish("addPage",{pageNumber:Hn})},gt=function(k){k>0&&k<=Hn&&(wt.splice(k,1),wn.splice(k,1),Hn--,ie>Hn&&(ie=Hn),this.setPage(ie))},tn=function(k){k>0&&k<=Hn&&(ie=k)},Yt=w.__private__.getNumberOfPages=w.getNumberOfPages=function(){return wt.length-1},Xt=function(k,ee,Be){var De,We=void 0;return Be=Be||{},k=k!==void 0?k:jt[cn].fontName,ee=ee!==void 0?ee:jt[cn].fontStyle,De=k.toLowerCase(),dt[De]!==void 0&&dt[De][ee]!==void 0?We=dt[De][ee]:dt[k]!==void 0&&dt[k][ee]!==void 0?We=dt[k][ee]:Be.disableWarning===!1&&Yi.warn("Unable to look up font label for font '"+k+"', '"+ee+"'. Refer to getFontList() for available fonts."),We||Be.noFallback||(We=dt.times[ee])==null&&(We=dt.times.normal),We},kt=w.__private__.putInfo=function(){var k=ze(),ee=function(De){return De};for(var Be in g!==null&&(ee=vr.encryptor(k,0)),xe("<<"),xe("/Producer ("+sn(ee("jsPDF "+qn.version))+")"),Tn)Tn.hasOwnProperty(Be)&&Tn[Be]&&xe("/"+Be.substr(0,1).toUpperCase()+Be.substr(1)+" ("+sn(ee(Tn[Be]))+")");xe("/CreationDate ("+sn(ee(ye))+")"),xe(">>"),xe("endobj")},Pt=w.__private__.putCatalog=function(k){var ee=(k=k||{}).rootDictionaryObjId||Kn;switch(ze(),xe("<<"),xe("/Type /Catalog"),xe("/Pages "+ee+" 0 R"),nn||(nn="fullwidth"),nn){case"fullwidth":xe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":xe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":xe("/OpenAction [3 0 R /Fit]");break;case"original":xe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Be=""+nn;Be.substr(Be.length-1)==="%"&&(nn=parseInt(nn)/100),typeof nn=="number"&&xe("/OpenAction [3 0 R /XYZ null null "+V(nn)+"]")}switch(Mn||(Mn="continuous"),Mn){case"continuous":xe("/PageLayout /OneColumn");break;case"single":xe("/PageLayout /SinglePage");break;case"two":case"twoleft":xe("/PageLayout /TwoColumnLeft");break;case"tworight":xe("/PageLayout /TwoColumnRight")}hn&&xe("/PageMode /"+hn),cr.publish("putCatalog"),xe(">>"),xe("endobj")},ir=w.__private__.putTrailer=function(){xe("trailer"),xe("<<"),xe("/Size "+(ue+1)),xe("/Root "+ue+" 0 R"),xe("/Info "+(ue-1)+" 0 R"),g!==null&&xe("/Encrypt "+vr.oid+" 0 R"),xe("/ID [ <"+se+"> <"+se+"> ]"),xe(">>")},Jt=w.__private__.putHeader=function(){xe("%PDF-"+I),xe("%")},Pr=w.__private__.putXRef=function(){var k="0000000000";xe("xref"),xe("0 "+(ue+1)),xe("0000000000 65535 f ");for(var ee=1;ee<=ue;ee++)typeof je[ee]=="function"?xe((k+je[ee]()).slice(-10)+" 00000 n "):je[ee]!==void 0?xe((k+je[ee]).slice(-10)+" 00000 n "):xe("0000000000 00000 n ")},Qi=w.__private__.buildDocument=function(){var k;ue=0,Ie=0,Ve=[],je=[],lt=[],Kn=st(),Wn=st(),on(Ve),cr.publish("buildDocument"),Jt(),bi(),(function(){cr.publish("putAdditionalObjects");for(var Be=0;Be<lt.length;Be++){var De=lt[Be];gn(De.objId,!0),xe(De.content),xe("endobj")}cr.publish("postPutAdditionalObjects")})(),k=[],(function(){for(var Be in jt)jt.hasOwnProperty(Be)&&(x===!1||x===!0&&E.hasOwnProperty(Be))&&Jn(jt[Be])})(),(function(){var Be;for(Be in bt)bt.hasOwnProperty(Be)&&le(bt[Be])})(),(function(){for(var Be in Fi)Fi.hasOwnProperty(Be)&&ba(Fi[Be])})(),(function(Be){var De;for(De in Ht)Ht.hasOwnProperty(De)&&(Ht[De]instanceof Vc?gr(Ht[De]):Ht[De]instanceof ad&&Bi(Ht[De],Be))})(k),cr.publish("putResources"),k.forEach(Lt),Lt({resourcesOid:Wn,objectOid:Number.MAX_SAFE_INTEGER}),cr.publish("postPutResources"),g!==null&&(vr.oid=ze(),xe("<<"),xe("/Filter /Standard"),xe("/V "+vr.v),xe("/R "+vr.r),xe("/U <"+vr.toHexString(vr.U)+">"),xe("/O <"+vr.toHexString(vr.O)+">"),xe("/P "+vr.P),xe(">>"),xe("endobj")),kt(),Pt();var ee=Ie;return Pr(),ir(),xe("startxref"),xe(""+ee),xe("%%EOF"),on(wt[ie]),Ve.join(`
`)},Cn=w.__private__.getBlob=function(k){return new Blob([rn(k)],{type:"application/pdf"})},Dn=w.output=w.__private__.output=(Oi=function(k,ee){switch(typeof(ee=ee||{})=="string"?ee={filename:ee}:ee.filename=ee.filename||"generated.pdf",k){case void 0:return Qi();case"save":w.save(ee.filename);break;case"arraybuffer":return rn(Qi());case"blob":return Cn(Qi());case"bloburi":case"bloburl":if(pr.URL!==void 0&&typeof pr.URL.createObjectURL=="function")return pr.URL&&pr.URL.createObjectURL(Cn(Qi()))||void 0;Yi.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Be="",De=Qi();try{Be=B2(De)}catch{Be=B2(unescape(encodeURIComponent(De)))}return"data:application/pdf;filename="+ee.filename+";base64,"+Be;case"pdfobjectnewwindow":if(Object.prototype.toString.call(pr)==="[object Window]"){var We="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ft=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ee.pdfObjectUrl&&(We=ee.pdfObjectUrl,ft="");var Ft='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+We+'"'+ft+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ee)+");<\/script></body></html>",pn=pr.open();return pn!==null&&pn.document.write(Ft),pn}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(pr)==="[object Window]"){var xn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ee.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ee.filename+'" width="500px" height="400px" /></body></html>',Gn=pr.open();if(Gn!==null){Gn.document.write(xn);var sr=this;Gn.document.documentElement.querySelector("#pdfViewer").onload=function(){Gn.document.title=ee.filename,Gn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(sr.output("bloburl"))}}return Gn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(pr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Ur='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ee)+'"></iframe></body></html>',hi=pr.open();if(hi!==null&&(hi.document.write(Ur),hi.document.title=ee.filename),hi||typeof safari>"u")return hi;break;case"datauri":case"dataurl":return pr.document.location.href=this.output("datauristring",ee);default:return null}},Oi.foo=function(){try{return Oi.apply(this,arguments)}catch(Be){var k=Be.stack||"";~k.indexOf(" at ")&&(k=k.split(" at ")[1]);var ee="Error in function "+k.split(`
`)[0].split("<")[0]+": "+Be.message;if(!pr.console)throw new Error(ee);pr.console.error(ee,Be),pr.alert&&alert(ee)}},Oi.foo.bar=Oi,Oi.foo),Br=function(k){return Array.isArray(qi)===!0&&qi.indexOf(k)>-1};switch(r){case"pt":mn=1;break;case"mm":mn=72/25.4;break;case"cm":mn=72/2.54;break;case"in":mn=72;break;case"px":mn=Br("px_scaling")==1?.75:96/72;break;case"pc":case"em":mn=12;break;case"ex":mn=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);mn=r}var vr=null;te(),Z();var mr=w.__private__.getPageInfo=w.getPageInfo=function(k){if(isNaN(k)||k%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:wn[k].objId,pageNumber:k,pageContext:wn[k]}},xs=w.__private__.getPageInfoByObjId=function(k){if(isNaN(k)||k%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ee in wn)if(wn[ee].objId===k)break;return mr(ee)},ei=w.__private__.getCurrentPageInfo=w.getCurrentPageInfo=function(){return{objId:wn[ie].objId,pageNumber:ie,pageContext:wn[ie]}};w.addPage=function(){return ke.apply(this,arguments),this},w.setPage=function(){return tn.apply(this,arguments),on.call(this,wt[ie]),this},w.insertPage=function(k){return this.addPage(),this.movePage(ie,k),this},w.movePage=function(k,ee){var Be,De;if(k>ee){Be=wt[k],De=wn[k];for(var We=k;We>ee;We--)wt[We]=wt[We-1],wn[We]=wn[We-1];wt[ee]=Be,wn[ee]=De,this.setPage(ee)}else if(k<ee){Be=wt[k],De=wn[k];for(var ft=k;ft<ee;ft++)wt[ft]=wt[ft+1],wn[ft]=wn[ft+1];wt[ee]=Be,wn[ee]=De,this.setPage(ee)}return this},w.deletePage=function(){return gt.apply(this,arguments),this},w.__private__.text=w.text=function(k,ee,Be,De,We){var ft,Ft,pn,xn,Gn,sr,Ur,hi,Si,Tr=(De=De||{}).scope||this;if(typeof k=="number"&&typeof ee=="number"&&(typeof Be=="string"||Array.isArray(Be))){var Ki=Be;Be=ee,ee=k,k=Ki}if(arguments[3]instanceof fn==0?(pn=arguments[4],xn=arguments[5],Ti(Ur=arguments[3])==="object"&&Ur!==null||(typeof pn=="string"&&(xn=pn,pn=null),typeof Ur=="string"&&(xn=Ur,Ur=null),typeof Ur=="number"&&(pn=Ur,Ur=null),De={flags:Ur,angle:pn,align:xn})):(M("The transform parameter of text() with a Matrix value"),Si=We),isNaN(ee)||isNaN(Be)||k==null)throw new Error("Invalid arguments passed to jsPDF.text");if(k.length===0)return Tr;var Li,Gi="",As=typeof De.lineHeightFactor=="number"?De.lineHeightFactor:Ks,ha=Tr.internal.scaleFactor;function No(Pe){return Pe=Pe.split("	").join(Array(De.TabLen||9).join(" ")),sn(Pe,Ur)}function Zs(Pe){for(var He,$e=Pe.concat(),qe=[],at=$e.length;at--;)typeof(He=$e.shift())=="string"?qe.push(He):Array.isArray(Pe)&&(He.length===1||He[1]===void 0&&He[2]===void 0)?qe.push(He[0]):qe.push([He[0],He[1],He[2]]);return qe}function Ji(Pe,He){var $e;if(typeof Pe=="string")$e=He(Pe)[0];else if(Array.isArray(Pe)){for(var qe,at,nt=Pe.concat(),pt=[],Bt=nt.length;Bt--;)typeof(qe=nt.shift())=="string"?pt.push(He(qe)[0]):Array.isArray(qe)&&typeof qe[0]=="string"&&(at=He(qe[0],qe[1],qe[2]),pt.push([at[0],at[1],at[2]]));$e=pt}return $e}var $s=!1,cs=!0;if(typeof k=="string")$s=!0;else if(Array.isArray(k)){var Eo=k.concat();Ft=[];for(var Ys,Vi=Eo.length;Vi--;)(typeof(Ys=Eo.shift())!="string"||Array.isArray(Ys)&&typeof Ys[0]!="string")&&(cs=!1);$s=cs}if($s===!1)throw new Error('Type of text must be string or Array. "'+k+'" is not recognized.');typeof k=="string"&&(k=k.match(/[\r?\n]/)?k.split(/\r\n|\r|\n/g):[k]);var To=xt/Tr.internal.scaleFactor,So=To*(As-1);switch(De.baseline){case"bottom":Be-=So;break;case"top":Be+=To-So;break;case"hanging":Be+=To-2*So;break;case"middle":Be+=To/2-So}if((sr=De.maxWidth||0)>0&&(typeof k=="string"?k=Tr.splitTextToSize(k,sr):Object.prototype.toString.call(k)==="[object Array]"&&(k=k.reduce(function(Pe,He){return Pe.concat(Tr.splitTextToSize(He,sr))},[]))),ft={text:k,x:ee,y:Be,options:De,mutex:{pdfEscape:sn,activeFontKey:cn,fonts:jt,activeFontSize:xt}},cr.publish("preProcessText",ft),k=ft.text,pn=(De=ft.options).angle,Si instanceof fn==0&&pn&&typeof pn=="number"){pn*=Math.PI/180,De.rotationDirection===0&&(pn=-pn),G===D&&(pn=-pn);var Fo=Math.cos(pn),uo=Math.sin(pn);Si=new fn(Fo,uo,-uo,Fo,0,0)}else pn&&pn instanceof fn&&(Si=pn);G!==D||Si||(Si=Yn),(Gn=De.charSpace||ys)!==void 0&&(Gi+=re(oe(Gn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(hi=De.horizontalScale)!==void 0&&(Gi+=re(100*hi)+` Tz
`),De.lang;var fi=-1,Sa=De.renderingMode!==void 0?De.renderingMode:De.stroke,Yo=Tr.internal.getCurrentPageInfo().pageContext;switch(Sa){case 0:case!1:case"fill":fi=0;break;case 1:case!0:case"stroke":fi=1;break;case 2:case"fillThenStroke":fi=2;break;case 3:case"invisible":fi=3;break;case 4:case"fillAndAddForClipping":fi=4;break;case 5:case"strokeAndAddPathForClipping":fi=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":fi=6;break;case 7:case"addToPathForClipping":fi=7}var us=Yo.usedRenderingMode!==void 0?Yo.usedRenderingMode:-1;fi!==-1?Gi+=fi+` Tr
`:us!==-1&&(Gi+=`0 Tr
`),fi!==-1&&(Yo.usedRenderingMode=fi),xn=De.align||"left";var _s,La=xt*As,Lo=Tr.internal.pageSize.getWidth(),Is=jt[cn];Gn=De.charSpace||ys,sr=De.maxWidth||0,Ur=Object.assign({autoencode:!0,noBOM:!0},De.flags);var Wi=[],Hr=function(Pe){return Tr.getStringUnitWidth(Pe,{font:Is,charSpace:Gn,fontSize:xt,doKerning:!1})*xt/ha};if(Object.prototype.toString.call(k)==="[object Array]"){var Ba;Ft=Zs(k),xn!=="left"&&(_s=Ft.map(Hr));var Or,ws=0;if(xn==="right"){ee-=_s[0],k=[],Vi=Ft.length;for(var Ts=0;Ts<Vi;Ts++)Ts===0?(Or=Ka(ee),Ba=ti(Be)):(Or=oe(ws-_s[Ts]),Ba=-La),k.push([Ft[Ts],Or,Ba]),ws=_s[Ts]}else if(xn==="center"){ee-=_s[0]/2,k=[],Vi=Ft.length;for(var Fs=0;Fs<Vi;Fs++)Fs===0?(Or=Ka(ee),Ba=ti(Be)):(Or=oe((ws-_s[Fs])/2),Ba=-La),k.push([Ft[Fs],Or,Ba]),ws=_s[Fs]}else if(xn==="left"){k=[],Vi=Ft.length;for(var Os=0;Os<Vi;Os++)k.push(Ft[Os])}else if(xn==="justify"&&Is.encoding==="Identity-H"){k=[],Vi=Ft.length,sr=sr!==0?sr:Lo;for(var ja=0,pi=0;pi<Vi;pi++)if(Ba=pi===0?ti(Be):-La,Or=pi===0?Ka(ee):ja,pi<Vi-1){var ka=oe((sr-_s[pi])/(Ft[pi].split(" ").length-1)),Xs=Ft[pi].split(" ");k.push([Xs[0]+" ",Or,Ba]),ja=0;for(var b=1;b<Xs.length;b++){var C=(Hr(Xs[b-1]+" "+Xs[b])-Hr(Xs[b]))*ha+ka;b==Xs.length-1?k.push([Xs[b],C,0]):k.push([Xs[b]+" ",C,0]),ja-=C}}else k.push([Ft[pi],Or,Ba]);k.push(["",ja,0])}else{if(xn!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(k=[],Vi=Ft.length,sr=sr!==0?sr:Lo,pi=0;pi<Vi;pi++){Ba=pi===0?ti(Be):-La,Or=pi===0?Ka(ee):0;var Q=Ft[pi].split(" ").length-1,q=Q>0?(sr-_s[pi])/Q:0;pi<Vi-1?Wi.push(re(oe(q))):Wi.push(0),k.push([Ft[pi],Or,Ba])}}}(typeof De.R2L=="boolean"?De.R2L:un)===!0&&(k=Ji(k,function(Pe,He,$e){return[Pe.split("").reverse().join(""),He,$e]})),ft={text:k,x:ee,y:Be,options:De,mutex:{pdfEscape:sn,activeFontKey:cn,fonts:jt,activeFontSize:xt}},cr.publish("postProcessText",ft),k=ft.text,Li=ft.mutex.isHex||!1;var J=jt[cn].encoding;J!=="WinAnsiEncoding"&&J!=="StandardEncoding"||(k=Ji(k,function(Pe,He,$e){return[No(Pe),He,$e]})),Ft=Zs(k),k=[];for(var Ae,we,Ue,Ke=Array.isArray(Ft[0])?1:0,Me="",Je=function(Pe,He,$e){var qe="";return $e instanceof fn?($e=typeof De.angle=="number"?Xi($e,new fn(1,0,0,1,Pe,He)):Xi(new fn(1,0,0,1,Pe,He),$e),G===D&&($e=Xi(new fn(1,0,0,-1,0,0),$e)),qe=$e.join(" ")+` Tm
`):qe=re(Pe)+" "+re(He)+` Td
`,qe},Oe=0;Oe<Ft.length;Oe++){switch(Me="",Ke){case 1:Ue=(Li?"<":"(")+Ft[Oe][0]+(Li?">":")"),Ae=parseFloat(Ft[Oe][1]),we=parseFloat(Ft[Oe][2]);break;case 0:Ue=(Li?"<":"(")+Ft[Oe]+(Li?">":")"),Ae=Ka(ee),we=ti(Be)}Wi!==void 0&&Wi[Oe]!==void 0&&(Me=Wi[Oe]+` Tw
`),Oe===0?k.push(Me+Je(Ae,we,Si)+Ue):Ke===0?k.push(Me+Ue):Ke===1&&k.push(Me+Je(Ae,we,Si)+Ue)}k=Ke===0?k.join(` Tj
T* `):k.join(` Tj
`),k+=` Tj
`;var Re=`BT
/`;return Re+=cn+" "+xt+` Tf
`,Re+=re(xt*As)+` TL
`,Re+=ni+`
`,Re+=Gi,Re+=k,xe(Re+="ET"),E[cn]=!0,Tr};var ui=w.__private__.clip=w.clip=function(k){return xe(k==="evenodd"?"W*":"W"),this};w.clipEvenOdd=function(){return ui("evenodd")},w.__private__.discardPath=w.discardPath=function(){return xe("n"),this};var dr=w.__private__.isValidStyle=function(k){var ee=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(k)!==-1&&(ee=!0),ee};w.__private__.setDefaultPathOperation=w.setDefaultPathOperation=function(k){return dr(k)&&(f=k),this};var za=w.__private__.getStyle=w.getStyle=function(k){var ee=f;switch(k){case"D":case"S":ee="S";break;case"F":ee="f";break;case"FD":case"DF":ee="B";break;case"f":case"f*":case"B":case"B*":ee=k}return ee},lo=w.close=function(){return xe("h"),this};w.stroke=function(){return xe("S"),this},w.fill=function(k){return er("f",k),this},w.fillEvenOdd=function(k){return er("f*",k),this},w.fillStroke=function(k){return er("B",k),this},w.fillStrokeEvenOdd=function(k){return er("B*",k),this};var er=function(k,ee){Ti(ee)==="object"?ll(ee,k):xe(k)},qs=function(k){k===null||G===D&&k===void 0||(k=za(k),xe(k))};function Uo(k,ee,Be,De,We){var ft=new ad(ee||this.boundingBox,Be||this.xStep,De||this.yStep,this.gState,We||this.matrix);ft.stream=this.stream;var Ft=k+"$$"+this.cloneIndex+++"$$";return Xn(Ft,ft),ft}var ll=function(k,ee){var Be=Qn[k.key],De=Ht[Be];if(De instanceof Vc)xe("q"),xe(ra(ee)),De.gState&&w.setGState(De.gState),xe(k.matrix.toString()+" cm"),xe("/"+Be+" sh"),xe("Q");else if(De instanceof ad){var We=new fn(1,0,0,-1,0,co());k.matrix&&(We=We.multiply(k.matrix||Yn),Be=Uo.call(De,k.key,k.boundingBox,k.xStep,k.yStep,We).id),xe("q"),xe("/Pattern cs"),xe("/"+Be+" scn"),De.gState&&w.setGState(De.gState),xe(ee),xe("Q")}},ra=function(k){switch(k){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},bs=w.moveTo=function(k,ee){return xe(re(oe(k))+" "+re(me(ee))+" m"),this},Bo=w.lineTo=function(k,ee){return xe(re(oe(k))+" "+re(me(ee))+" l"),this},Ei=w.curveTo=function(k,ee,Be,De,We,ft){return xe([re(oe(k)),re(me(ee)),re(oe(Be)),re(me(De)),re(oe(We)),re(me(ft)),"c"].join(" ")),this};w.__private__.line=w.line=function(k,ee,Be,De,We){if(isNaN(k)||isNaN(ee)||isNaN(Be)||isNaN(De)||!dr(We))throw new Error("Invalid arguments passed to jsPDF.line");return G===z?this.lines([[Be-k,De-ee]],k,ee,[1,1],We||"S"):this.lines([[Be-k,De-ee]],k,ee,[1,1]).stroke()},w.__private__.lines=w.lines=function(k,ee,Be,De,We,ft){var Ft,pn,xn,Gn,sr,Ur,hi,Si,Tr,Ki,Li,Gi;if(typeof k=="number"&&(Gi=Be,Be=ee,ee=k,k=Gi),De=De||[1,1],ft=ft||!1,isNaN(ee)||isNaN(Be)||!Array.isArray(k)||!Array.isArray(De)||!dr(We)||typeof ft!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(bs(ee,Be),Ft=De[0],pn=De[1],Gn=k.length,Ki=ee,Li=Be,xn=0;xn<Gn;xn++)(sr=k[xn]).length===2?(Ki=sr[0]*Ft+Ki,Li=sr[1]*pn+Li,Bo(Ki,Li)):(Ur=sr[0]*Ft+Ki,hi=sr[1]*pn+Li,Si=sr[2]*Ft+Ki,Tr=sr[3]*pn+Li,Ki=sr[4]*Ft+Ki,Li=sr[5]*pn+Li,Ei(Ur,hi,Si,Tr,Ki,Li));return ft&&lo(),qs(We),this},w.path=function(k){for(var ee=0;ee<k.length;ee++){var Be=k[ee],De=Be.c;switch(Be.op){case"m":bs(De[0],De[1]);break;case"l":Bo(De[0],De[1]);break;case"c":Ei.apply(this,De);break;case"h":lo()}}return this},w.__private__.rect=w.rect=function(k,ee,Be,De,We){if(isNaN(k)||isNaN(ee)||isNaN(Be)||isNaN(De)||!dr(We))throw new Error("Invalid arguments passed to jsPDF.rect");return G===z&&(De=-De),xe([re(oe(k)),re(me(ee)),re(oe(Be)),re(oe(De)),"re"].join(" ")),qs(We),this},w.__private__.triangle=w.triangle=function(k,ee,Be,De,We,ft,Ft){if(isNaN(k)||isNaN(ee)||isNaN(Be)||isNaN(De)||isNaN(We)||isNaN(ft)||!dr(Ft))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Be-k,De-ee],[We-Be,ft-De],[k-We,ee-ft]],k,ee,[1,1],Ft,!0),this},w.__private__.roundedRect=w.roundedRect=function(k,ee,Be,De,We,ft,Ft){if(isNaN(k)||isNaN(ee)||isNaN(Be)||isNaN(De)||isNaN(We)||isNaN(ft)||!dr(Ft))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var pn=4/3*(Math.SQRT2-1);return We=Math.min(We,.5*Be),ft=Math.min(ft,.5*De),this.lines([[Be-2*We,0],[We*pn,0,We,ft-ft*pn,We,ft],[0,De-2*ft],[0,ft*pn,-We*pn,ft,-We,ft],[2*We-Be,0],[-We*pn,0,-We,-ft*pn,-We,-ft],[0,2*ft-De],[0,-ft*pn,We*pn,-ft,We,-ft]],k+We,ee,[1,1],Ft,!0),this},w.__private__.ellipse=w.ellipse=function(k,ee,Be,De,We){if(isNaN(k)||isNaN(ee)||isNaN(Be)||isNaN(De)||!dr(We))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ft=4/3*(Math.SQRT2-1)*Be,Ft=4/3*(Math.SQRT2-1)*De;return bs(k+Be,ee),Ei(k+Be,ee-Ft,k+ft,ee-De,k,ee-De),Ei(k-ft,ee-De,k-Be,ee-Ft,k-Be,ee),Ei(k-Be,ee+Ft,k-ft,ee+De,k,ee+De),Ei(k+ft,ee+De,k+Be,ee+Ft,k+Be,ee),qs(We),this},w.__private__.circle=w.circle=function(k,ee,Be,De){if(isNaN(k)||isNaN(ee)||isNaN(Be)||!dr(De))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(k,ee,Be,Be,De)},w.setFont=function(k,ee,Be){return Be&&(ee=ge(ee,Be)),cn=Xt(k,ee,{disableWarning:!1}),this};var qa=w.__private__.getFont=w.getFont=function(){return jt[Xt.apply(w,arguments)]};w.__private__.getFontList=w.getFontList=function(){var k,ee,Be={};for(k in dt)if(dt.hasOwnProperty(k))for(ee in Be[k]=[],dt[k])dt[k].hasOwnProperty(ee)&&Be[k].push(ee);return Be},w.addFont=function(k,ee,Be,De,We){var ft=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ft.indexOf(arguments[3])!==-1?We=arguments[3]:arguments[3]&&ft.indexOf(arguments[3])==-1&&(Be=ge(Be,De)),Et.call(this,k,ee,Be,We=We||"Identity-H")};var Ks,di=e.lineWidth||.200025,ya=w.__private__.getLineWidth=w.getLineWidth=function(){return di},Kt=w.__private__.setLineWidth=w.setLineWidth=function(k){return di=k,xe(re(oe(k))+" w"),this};w.__private__.setLineDash=qn.API.setLineDash=qn.API.setLineDashPattern=function(k,ee){if(k=k||[],ee=ee||0,isNaN(ee)||!Array.isArray(k))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return k=k.map(function(Be){return re(oe(Be))}).join(" "),ee=re(oe(ee)),xe("["+k+"] "+ee+" d"),this};var _a=w.__private__.getLineHeight=w.getLineHeight=function(){return xt*Ks};w.__private__.getLineHeight=w.getLineHeight=function(){return xt*Ks};var Mr=w.__private__.setLineHeightFactor=w.setLineHeightFactor=function(k){return typeof(k=k||1.15)=="number"&&(Ks=k),this},js=w.__private__.getLineHeightFactor=w.getLineHeightFactor=function(){return Ks};Mr(e.lineHeight);var Ka=w.__private__.getHorizontalCoordinate=function(k){return oe(k)},ti=w.__private__.getVerticalCoordinate=function(k){return G===D?k:wn[ie].mediaBox.topRightY-wn[ie].mediaBox.bottomLeftY-oe(k)},Co=w.__private__.getHorizontalCoordinateString=w.getHorizontalCoordinateString=function(k){return re(Ka(k))},os=w.__private__.getVerticalCoordinateString=w.getVerticalCoordinateString=function(k){return re(ti(k))},wa=e.strokeColor||"0 G";w.__private__.getStrokeColor=w.getDrawColor=function(){return Ar(wa)},w.__private__.setStrokeColor=w.setDrawColor=function(k,ee,Be,De){return wa=Jr({ch1:k,ch2:ee,ch3:Be,ch4:De,pdfColorType:"draw",precision:2}),xe(wa),this};var Ga=e.fillColor||"0 g";w.__private__.getFillColor=w.getFillColor=function(){return Ar(Ga)},w.__private__.setFillColor=w.setFillColor=function(k,ee,Be,De){return Ga=Jr({ch1:k,ch2:ee,ch3:Be,ch4:De,pdfColorType:"fill",precision:2}),xe(Ga),this};var ni=e.textColor||"0 g",Gs=w.__private__.getTextColor=w.getTextColor=function(){return Ar(ni)};w.__private__.setTextColor=w.setTextColor=function(k,ee,Be,De){return ni=Jr({ch1:k,ch2:ee,ch3:Be,ch4:De,pdfColorType:"text",precision:3}),this};var ys=e.charSpace,Vs=w.__private__.getCharSpace=w.getCharSpace=function(){return parseFloat(ys||0)};w.__private__.setCharSpace=w.setCharSpace=function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ys=k,this};var Al=0;w.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},w.__private__.setLineCap=w.setLineCap=function(k){var ee=w.CapJoinStyles[k];if(ee===void 0)throw new Error("Line cap style of '"+k+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Al=ee,xe(ee+" J"),this};var ia=0;w.__private__.setLineJoin=w.setLineJoin=function(k){var ee=w.CapJoinStyles[k];if(ee===void 0)throw new Error("Line join style of '"+k+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ia=ee,xe(ee+" j"),this},w.__private__.setLineMiterLimit=w.__private__.setMiterLimit=w.setLineMiterLimit=w.setMiterLimit=function(k){if(k=k||0,isNaN(k))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return xe(re(oe(k))+" M"),this},w.GState=Sm,w.setGState=function(k){(k=typeof k=="string"?bt[kn[k]]:Va(null,k)).equals(jr)||(xe("/"+k.id+" gs"),jr=k)};var Va=function(k,ee){if(!k||!kn[k]){var Be=!1;for(var De in bt)if(bt.hasOwnProperty(De)&&bt[De].equals(ee)){Be=!0;break}if(Be)ee=bt[De];else{var We="GS"+(Object.keys(bt).length+1).toString(10);bt[We]=ee,ee.id=We}return k&&(kn[k]=ee.id),cr.publish("addGState",ee),ee}};w.addGState=function(k,ee){return Va(k,ee),this},w.saveGraphicsState=function(){return xe("q"),Rt.push({key:cn,size:xt,color:ni}),this},w.restoreGraphicsState=function(){xe("Q");var k=Rt.pop();return cn=k.key,xt=k.size,ni=k.color,jr=null,this},w.setCurrentTransformationMatrix=function(k){return xe(k.toString()+" cm"),this},w.comment=function(k){return xe("#"+k),this};var Za=function(k,ee){var Be=k||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Be},set:function(ft){isNaN(ft)||(Be=parseFloat(ft))}});var De=ee||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return De},set:function(ft){isNaN(ft)||(De=parseFloat(ft))}});var We="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return We},set:function(ft){We=ft.toString()}}),this},ks=function(k,ee,Be,De){Za.call(this,k,ee),this.type="rect";var We=Be||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return We},set:function(Ft){isNaN(Ft)||(We=parseFloat(Ft))}});var ft=De||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ft},set:function(Ft){isNaN(Ft)||(ft=parseFloat(Ft))}}),this},xr=function(){this.page=Hn,this.currentPage=ie,this.pages=wt.slice(0),this.pagesContext=wn.slice(0),this.x=en,this.y=Fe,this.matrix=yt,this.width=$a(ie),this.height=cl(ie),this.outputDestination=$t,this.id="",this.objectNumber=-1};xr.prototype.restore=function(){Hn=this.page,ie=this.currentPage,wn=this.pagesContext,wt=this.pages,en=this.x,Fe=this.y,yt=this.matrix,Ao(ie,this.width),ls(ie,this.height),$t=this.outputDestination};var $o=function(k,ee,Be,De,We){Kr.push(new xr),Hn=ie=0,wt=[],en=k,Fe=ee,yt=We,Bn([Be,De])};for(var aa in w.beginFormObject=function(k,ee,Be,De,We){return $o(k,ee,Be,De,We),this},w.endFormObject=function(k){return(function(ee){if(ci[ee])Kr.pop().restore();else{var Be=new xr,De="Xo"+(Object.keys(Fi).length+1).toString(10);Be.id=De,ci[ee]=De,Fi[De]=Be,cr.publish("addFormObject",Be),Kr.pop().restore()}})(k),this},w.doFormObject=function(k,ee){var Be=Fi[ci[k]];return xe("q"),xe(ee.toString()+" cm"),xe("/"+Be.id+" Do"),xe("Q"),this},w.getFormObject=function(k){var ee=Fi[ci[k]];return{x:ee.x,y:ee.y,width:ee.width,height:ee.height,matrix:ee.matrix}},w.save=function(k,ee){return k=k||"generated.pdf",(ee=ee||{}).returnPromise=ee.returnPromise||!1,ee.returnPromise===!1?(zc(Cn(Qi()),k),typeof zc.unload=="function"&&pr.setTimeout&&setTimeout(zc.unload,911),this):new Promise(function(Be,De){try{var We=zc(Cn(Qi()),k);typeof zc.unload=="function"&&pr.setTimeout&&setTimeout(zc.unload,911),Be(We)}catch(ft){De(ft.message)}})},qn.API)qn.API.hasOwnProperty(aa)&&(aa==="events"&&qn.API.events.length?(function(k,ee){var Be,De,We;for(We=ee.length-1;We!==-1;We--)Be=ee[We][0],De=ee[We][1],k.subscribe.apply(k,[Be].concat(typeof De=="function"?[De]:De))})(cr,qn.API.events):w[aa]=qn.API[aa]);function $a(k){return wn[k].mediaBox.topRightX-wn[k].mediaBox.bottomLeftX}function Ao(k,ee){wn[k].mediaBox.topRightX=ee+wn[k].mediaBox.bottomLeftX}function cl(k){return wn[k].mediaBox.topRightY-wn[k].mediaBox.bottomLeftY}function ls(k,ee){wn[k].mediaBox.topRightY=ee+wn[k].mediaBox.bottomLeftY}var Us=w.getPageWidth=function(k){return $a(k=k||ie)/mn},Io=w.setPageWidth=function(k,ee){Ao(k,ee*mn)},co=w.getPageHeight=function(k){return cl(k=k||ie)/mn},Kl=w.setPageHeight=function(k,ee){ls(k,ee*mn)};return w.internal={pdfEscape:sn,getStyle:za,getFont:qa,getFontSize:Vt,getCharSpace:Vs,getTextColor:Gs,getLineHeight:_a,getLineHeightFactor:js,getLineWidth:ya,write:Ot,getHorizontalCoordinate:Ka,getVerticalCoordinate:ti,getCoordinateString:Co,getVerticalCoordinateString:os,collections:{},newObject:ze,newAdditionalObject:ur,newObjectDeferred:st,newObjectDeferredBegin:gn,getFilters:kr,putStream:Yr,events:cr,scaleFactor:mn,pageSize:{getWidth:function(){return Us(ie)},setWidth:function(k){Io(ie,k)},getHeight:function(){return co(ie)},setHeight:function(k){Kl(ie,k)}},encryptionOptions:g,encryption:vr,getEncryptor:function(k){return g!==null?vr.encryptor(k,0):function(ee){return ee}},output:Dn,getNumberOfPages:Yt,get pages(){return wt},out:xe,f2:V,f3:W,getPageInfo:mr,getPageInfoByObjId:xs,getCurrentPageInfo:ei,getPDFVersion:j,Point:Za,Rectangle:ks,Matrix:fn,hasHotfix:Br},Object.defineProperty(w.internal.pageSize,"width",{get:function(){return Us(ie)},set:function(k){Io(ie,k)},enumerable:!0,configurable:!0}),Object.defineProperty(w.internal.pageSize,"height",{get:function(){return co(ie)},set:function(k){Kl(ie,k)},enumerable:!0,configurable:!0}),(function(k){for(var ee=0,Be=dn.length;ee<Be;ee++){var De=Et.call(this,k[ee][0],k[ee][1],k[ee][2],dn[ee][3],!0);x===!1&&(E[De]=!0);var We=k[ee][0].split("-");Qt({id:De,fontName:We[0],fontStyle:We[1]||""})}cr.publish("addFonts",{fonts:jt,dictionary:dt})}).call(w,dn),cn="F1",ke(i,n),cr.publish("initialized"),w}Wu.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},Wu.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Wu.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},Wu.prototype.processOwnerPassword=function(e,t){return Ox(Fx(t).substr(0,5),e)},Wu.prototype.encryptor=function(e,t){var n=Fx(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return Ox(n,r)}},Sm.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||Ti(e)!==Ti(this))return!1;var r=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&r--;return r===0},qn.API={events:[]},qn.version="3.0.4";var Ma=qn.API,kb=1,Au=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Pu=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},wr=function(e){return e.toFixed(2)},hc=function(e){return e.toFixed(5)};Ma.__acroform__={};var Zo=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},S2=function(e){return e*kb},AA=function(e){var t=new wN,n=On.internal.getHeight(e)||0,r=On.internal.getWidth(e)||0;return t.BBox=[0,0,Number(wr(r)),Number(wr(n))],t},WO=Ma.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},eQ=Ma.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},tQ=Ma.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},rs=Ma.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return tQ(e,t-1)},is=Ma.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return WO(e,t-1)},as=Ma.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return eQ(e,t-1)},nQ=Ma.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,i=e[0],s=e[1],c=e[2],d=e[3],h={};return h.lowerLeft_X=n(i)||0,h.lowerLeft_Y=r(s+d)||0,h.upperRight_X=n(i+c)||0,h.upperRight_Y=r(s)||0,[Number(wr(h.lowerLeft_X)),Number(wr(h.lowerLeft_Y)),Number(wr(h.upperRight_X)),Number(wr(h.upperRight_Y))]},rQ=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=Qx(e,n),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+wr(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=AA(e);return s.scope=e.scope,s.stream=t.join(`
`),s}},Qx=function(e,t){var n=e.fontSize===0?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(V){return V.split(`
`)}):i.map(function(V){return[V]});var s=n,c=On.internal.getHeight(e)||0;c=c<0?-c:c;var d=On.internal.getWidth(e)||0;d=d<0?-d:d;var h=function(V,W,oe){if(V+1<i.length){var me=W+" "+i[V+1][0];return kp(me,e,oe).width<=d-4}return!1};s++;e:for(;s>0;){t="",s--;var f,g,x=kp("3",e,s).height,E=e.multiline?c-s:(c-x)/2,w=E+=2,I=0,j=0,F=0;if(s<=0){t=`(...) Tj
`,t+="% Width of Text: "+kp(t,e,s=12).width+", FieldWidth:"+d+`
`;break}for(var S="",z=0,D=0;D<i.length;D++)if(i.hasOwnProperty(D)){var G=!1;if(i[D].length!==1&&F!==i[D].length-1){if((x+2)*(z+2)+2>c)continue e;S+=i[D][F],G=!0,j=D,D--}else{S=(S+=i[D][F]+" ").substr(S.length-1)==" "?S.substr(0,S.length-1):S;var ce=parseInt(D),Y=h(ce,S,s),ge=D>=i.length-1;if(Y&&!ge){S+=" ",F=0;continue}if(Y||ge){if(ge)j=ce;else if(e.multiline&&(x+2)*(z+2)+2>c)continue e}else{if(!e.multiline||(x+2)*(z+2)+2>c)continue e;j=ce}}for(var re="",M=I;M<=j;M++){var X=i[M];if(e.multiline){if(M===j){re+=X[F]+" ",F=(F+1)%X.length;continue}if(M===I){re+=X[X.length-1]+" ";continue}}re+=X[0]+" "}switch(re=re.substr(re.length-1)==" "?re.substr(0,re.length-1):re,g=kp(re,e,s).width,e.textAlign){case"right":f=d-g-2;break;case"center":f=(d-g)/2;break;default:f=2}t+=wr(f)+" "+wr(w)+` Td
`,t+="("+Au(re)+`) Tj
`,t+=-wr(f)+` 0 Td
`,w=-(s+2),g=0,I=G?j:j+1,z++,S=""}break}return r.text=t,r.fontSize=s,r},kp=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},iQ={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},aQ=function(e,t){var n={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},sQ=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Hl.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(iQ)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");kb=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new BN,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&aQ(s,n)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var c in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(c)){var d=r[c],h=[],f=d.Rect;if(d.Rect&&(d.Rect=nQ(d.Rect,i)),i.internal.newObjectDeferredBegin(d.objId,!0),d.DA=On.createDefaultAppearanceStream(d),Ti(d)==="object"&&typeof d.getKeyValueListForStream=="function"&&(h=d.getKeyValueListForStream()),d.Rect=f,d.hasAppearanceStream&&!d.appearanceStreamContent){var g=rQ(d);h.push({key:"AP",value:"<</N "+g+">>"}),i.internal.acroformPlugin.xForms.push(g)}if(d.appearanceStreamContent){var x="";for(var E in d.appearanceStreamContent)if(d.appearanceStreamContent.hasOwnProperty(E)){var w=d.appearanceStreamContent[E];if(x+="/"+E+" ",x+="<<",Object.keys(w).length>=1||Array.isArray(w)){for(var c in w)if(w.hasOwnProperty(c)){var I=w[c];typeof I=="function"&&(I=I.call(i,d)),x+="/"+c+" "+I+" ",i.internal.acroformPlugin.xForms.indexOf(I)>=0||i.internal.acroformPlugin.xForms.push(I)}}else typeof(I=w)=="function"&&(I=I.call(i,d)),x+="/"+c+" "+I,i.internal.acroformPlugin.xForms.indexOf(I)>=0||i.internal.acroformPlugin.xForms.push(I);x+=">>"}h.push({key:"AP",value:`<<
`+x+">>"})}i.internal.putStream({additionalKeyValues:h,objectId:d.objId}),i.internal.out("endobj")}s&&(function(j,F){for(var S in j)if(j.hasOwnProperty(S)){var z=S,D=j[S];F.internal.newObjectDeferredBegin(D.objId,!0),Ti(D)==="object"&&typeof D.putStream=="function"&&D.putStream(),delete j[z]}})(i.internal.acroformPlugin.xForms,i)})(n,e)}),e.internal.acroformPlugin.isInitialized=!0}},_N=Ma.__acroform__.arrayToPdfArray=function(e,t,n){var r=function(c){return c};if(Array.isArray(e)){for(var i="[",s=0;s<e.length;s++)switch(s!==0&&(i+=" "),Ti(e[s])){case"boolean":case"number":case"object":i+=e[s].toString();break;case"string":e[s].substr(0,1)!=="/"?(t!==void 0&&n&&(r=n.internal.getEncryptor(t)),i+="("+Au(r(e[s].toString()))+")"):i+=e[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},gv=function(e,t,n){var r=function(i){return i};return t!==void 0&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),"("+Au(r(e))+")"},dA=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};dA.prototype.toString=function(){return this.objId+" 0 R"},dA.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},dA.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in t)if(Object.getOwnPropertyDescriptor(this,t[n]).configurable===!1){var r=t[n],i=this[r];i&&(Array.isArray(i)?e.push({key:r,value:_N(i,this.objId,this.scope)}):i instanceof dA?(i.scope=this.scope,e.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:r,value:i}))}return e};var wN=function(){dA.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){e=n.trim()},get:function(){return e||null}})};Zo(wN,dA);var BN=function(){dA.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Au(n(e))+")"}},set:function(n){e=n}})};Zo(BN,dA);var Hl=function e(){dA.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(S){if(isNaN(S))throw new Error('Invalid value "'+S+'" for attribute F supplied.');t=S}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!rs(t,3)},set:function(S){S?this.F=is(t,3):this.F=as(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(S){if(isNaN(S))throw new Error('Invalid value "'+S+'" for attribute Ff supplied.');n=S}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(S){r=S!==void 0?S:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(S){r[0]=S}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(S){r[1]=S}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(S){r[2]=S}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(S){r[3]=S}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(S){switch(S){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=S;break;default:throw new Error('Invalid value "'+S+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Lm)return;s="FieldObject"+e.FieldNum++}var S=function(z){return z};return this.scope&&(S=this.scope.internal.getEncryptor(this.objId)),"("+Au(S(s))+")"},set:function(S){s=S.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(S){s=S}});var c="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return c},set:function(S){c=S}});var d="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return d},set:function(S){d=S}});var h=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return h},set:function(S){h=S}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f===void 0?50/kb:f},set:function(S){f=S}});var g="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return g},set:function(S){g=S}});var x="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!x||this instanceof Lm||this instanceof nu))return gv(x,this.objId,this.scope)},set:function(S){S=S.toString(),x=S}});var E=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(E)return this instanceof Ps==0?gv(E,this.objId,this.scope):E},set:function(S){S=S.toString(),E=this instanceof Ps==0?S.substr(0,1)==="("?Pu(S.substr(1,S.length-2)):Pu(S):S}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ps==1?Pu(E.substr(1,E.length-1)):E},set:function(S){S=S.toString(),E=this instanceof Ps==1?"/"+S:S}});var w=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(w)return w},set:function(S){this.V=S}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(w)return this instanceof Ps==0?gv(w,this.objId,this.scope):w},set:function(S){S=S.toString(),w=this instanceof Ps==0?S.substr(0,1)==="("?Pu(S.substr(1,S.length-2)):Pu(S):S}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ps==1?Pu(w.substr(1,w.length-1)):w},set:function(S){S=S.toString(),w=this instanceof Ps==1?"/"+S:S}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var I,j=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return j},set:function(S){S=!!S,j=S}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(I)return I},set:function(S){I=S}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!rs(this.Ff,1)},set:function(S){S?this.Ff=is(this.Ff,1):this.Ff=as(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!rs(this.Ff,2)},set:function(S){S?this.Ff=is(this.Ff,2):this.Ff=as(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!rs(this.Ff,3)},set:function(S){S?this.Ff=is(this.Ff,3):this.Ff=as(this.Ff,3)}});var F=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(F!==null)return F},set:function(S){if([0,1,2].indexOf(S)===-1)throw new Error('Invalid value "'+S+'" for attribute Q supplied.');F=S}}),Object.defineProperty(this,"textAlign",{get:function(){var S;switch(F){case 0:default:S="left";break;case 1:S="center";break;case 2:S="right"}return S},configurable:!0,enumerable:!0,set:function(S){switch(S){case"right":case 2:F=2;break;case"center":case 1:F=1;break;default:F=0}}})};Zo(Hl,dA);var ld=function(){Hl.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){e=n}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return _N(t,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=(function(s,c,d){d||(d=1);for(var h,f=[];h=c.exec(s);)f.push(h[d]);return f})(r,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(n){t=n,this.sort&&t.sort()},this.addOption=function(n){n=(n=n||"").toString(),t.push(n),this.sort&&t.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();t.indexOf(n)!==-1&&(t.splice(t.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!rs(this.Ff,18)},set:function(n){n?this.Ff=is(this.Ff,18):this.Ff=as(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!rs(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=is(this.Ff,19):this.Ff=as(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!rs(this.Ff,20)},set:function(n){n?(this.Ff=is(this.Ff,20),t.sort()):this.Ff=as(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!rs(this.Ff,22)},set:function(n){n?this.Ff=is(this.Ff,22):this.Ff=as(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!rs(this.Ff,23)},set:function(n){n?this.Ff=is(this.Ff,23):this.Ff=as(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!rs(this.Ff,27)},set:function(n){n?this.Ff=is(this.Ff,27):this.Ff=as(this.Ff,27)}}),this.hasAppearanceStream=!1};Zo(ld,Hl);var Ad=function(){ld.call(this),this.fontName="helvetica",this.combo=!1};Zo(Ad,ld);var cd=function(){Ad.call(this),this.combo=!0};Zo(cd,Ad);var Wp=function(){cd.call(this),this.edit=!0};Zo(Wp,cd);var Ps=function(){Hl.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!rs(this.Ff,15)},set:function(n){n?this.Ff=is(this.Ff,15):this.Ff=as(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!rs(this.Ff,16)},set:function(n){n?this.Ff=is(this.Ff,16):this.Ff=as(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!rs(this.Ff,17)},set:function(n){n?this.Ff=is(this.Ff,17):this.Ff=as(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!rs(this.Ff,26)},set:function(n){n?this.Ff=is(this.Ff,26):this.Ff=as(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,i=[];for(r in i.push("<<"),t)i.push("/"+r+" ("+Au(n(t[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){Ti(n)==="object"&&(t=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(n){typeof n=="string"&&(t.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+n}})};Zo(Ps,Hl);var em=function(){Ps.call(this),this.pushButton=!0};Zo(em,Ps);var ud=function(){Ps.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Zo(ud,Ps);var Lm=function(){var e,t;Hl.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(d){return d};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,c=[];for(s in c.push("<<"),r)c.push("/"+s+" ("+Au(i(r[s]))+")");return c.push(">>"),c.join(`
`)},set:function(i){Ti(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=On.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Zo(Lm,Hl),ud.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},ud.prototype.createOption=function(e){var t=new Lm;return t.Parent=this,t.optionName=e,this.Kids.push(t),oQ.call(this.scope,t),t};var tm=function(){Ps.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=On.CheckBox.createAppearanceStream()};Zo(tm,Ps);var nu=function(){Hl.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!rs(this.Ff,13)},set:function(t){t?this.Ff=is(this.Ff,13):this.Ff=as(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!rs(this.Ff,21)},set:function(t){t?this.Ff=is(this.Ff,21):this.Ff=as(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!rs(this.Ff,23)},set:function(t){t?this.Ff=is(this.Ff,23):this.Ff=as(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!rs(this.Ff,24)},set:function(t){t?this.Ff=is(this.Ff,24):this.Ff=as(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!rs(this.Ff,25)},set:function(t){t?this.Ff=is(this.Ff,25):this.Ff=as(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!rs(this.Ff,26)},set:function(t){t?this.Ff=is(this.Ff,26):this.Ff=as(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Zo(nu,Hl);var nm=function(){nu.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!rs(this.Ff,14)},set:function(e){e?this.Ff=is(this.Ff,14):this.Ff=as(this.Ff,14)}}),this.password=!0};Zo(nm,nu);var On={CheckBox:{createAppearanceStream:function(){return{N:{On:On.CheckBox.YesNormal},D:{On:On.CheckBox.YesPushDown,Off:On.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=AA(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),s=Qx(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+wr(On.internal.getWidth(e))+" "+wr(On.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+wr(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join(`
`),t},YesNormal:function(e){var t=AA(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),i=[],s=On.internal.getHeight(e),c=On.internal.getWidth(e),d=Qx(e,e.caption);return i.push("1 g"),i.push("0 0 "+wr(c)+" "+wr(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+wr(c-1)+" "+wr(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+wr(d.fontSize)+" Tf "+r),i.push(d.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=AA(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+wr(On.internal.getWidth(e))+" "+wr(On.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:On.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=On.RadioButton.Circle.YesNormal,t.D[e]=On.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=AA(e);t.scope=e.scope;var n=[],r=On.internal.getWidth(e)<=On.internal.getHeight(e)?On.internal.getWidth(e)/4:On.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=On.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+hc(On.internal.getWidth(e)/2)+" "+hc(On.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=AA(e);t.scope=e.scope;var n=[],r=On.internal.getWidth(e)<=On.internal.getHeight(e)?On.internal.getWidth(e)/4:On.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*On.internal.Bezier_C).toFixed(5)),c=Number((r*On.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+hc(On.internal.getWidth(e)/2)+" "+hc(On.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+hc(On.internal.getWidth(e)/2)+" "+hc(On.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+c+" "+c+" "+r+" 0 "+r+" c"),n.push("-"+c+" "+r+" -"+r+" "+c+" -"+r+" 0 c"),n.push("-"+r+" -"+c+" -"+c+" -"+r+" 0 -"+r+" c"),n.push(c+" -"+r+" "+r+" -"+c+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=AA(e);t.scope=e.scope;var n=[],r=On.internal.getWidth(e)<=On.internal.getHeight(e)?On.internal.getWidth(e)/4:On.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*On.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+hc(On.internal.getWidth(e)/2)+" "+hc(On.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:On.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=On.RadioButton.Cross.YesNormal,t.D[e]=On.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=AA(e);t.scope=e.scope;var n=[],r=On.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+wr(On.internal.getWidth(e)-2)+" "+wr(On.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(wr(r.x1.x)+" "+wr(r.x1.y)+" m"),n.push(wr(r.x2.x)+" "+wr(r.x2.y)+" l"),n.push(wr(r.x4.x)+" "+wr(r.x4.y)+" m"),n.push(wr(r.x3.x)+" "+wr(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=AA(e);t.scope=e.scope;var n=On.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+wr(On.internal.getWidth(e))+" "+wr(On.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+wr(On.internal.getWidth(e)-2)+" "+wr(On.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(wr(n.x1.x)+" "+wr(n.x1.y)+" m"),r.push(wr(n.x2.x)+" "+wr(n.x2.y)+" l"),r.push(wr(n.x4.x)+" "+wr(n.x4.y)+" m"),r.push(wr(n.x3.x)+" "+wr(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=AA(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+wr(On.internal.getWidth(e))+" "+wr(On.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};On.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=On.internal.getWidth(e),n=On.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},On.internal.getWidth=function(e){var t=0;return Ti(e)==="object"&&(t=S2(e.Rect[2])),t},On.internal.getHeight=function(e){var t=0;return Ti(e)==="object"&&(t=S2(e.Rect[3])),t};var oQ=Ma.addField=function(e){if(sQ(this,e),!(e instanceof Hl))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Ma.AcroFormChoiceField=ld,Ma.AcroFormListBox=Ad,Ma.AcroFormComboBox=cd,Ma.AcroFormEditBox=Wp,Ma.AcroFormButton=Ps,Ma.AcroFormPushButton=em,Ma.AcroFormRadioButton=ud,Ma.AcroFormCheckBox=tm,Ma.AcroFormTextField=nu,Ma.AcroFormPasswordField=nm,Ma.AcroFormAppearance=On,Ma.AcroForm={ChoiceField:ld,ListBox:Ad,ComboBox:cd,EditBox:Wp,Button:Ps,PushButton:em,RadioButton:ud,CheckBox:tm,TextField:nu,PasswordField:nm,Appearance:On},qn.AcroForm={ChoiceField:ld,ListBox:Ad,ComboBox:cd,EditBox:Wp,Button:Ps,PushButton:em,RadioButton:ud,CheckBox:tm,TextField:nu,PasswordField:nm,Appearance:On};qn.AcroForm;function CN(e){return e.reduce(function(t,n,r){return t[n]=r,t},{})}(function(e){var t="addImage_";e.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=e.__addimage__.getImageFileTypeByImageData=function(V,W){var oe,me,ye,se,_e,Z=n;if((W=W||n)==="RGBA"||V.data!==void 0&&V.data instanceof Uint8ClampedArray&&"height"in V&&"width"in V)return"RGBA";if(Y(V))for(_e in r)for(ye=r[_e],oe=0;oe<ye.length;oe+=1){for(se=!0,me=0;me<ye[oe].length;me+=1)if(ye[oe][me]!==void 0&&ye[oe][me]!==V[me]){se=!1;break}if(se===!0){Z=_e;break}}else for(_e in r)for(ye=r[_e],oe=0;oe<ye.length;oe+=1){for(se=!0,me=0;me<ye[oe].length;me+=1)if(ye[oe][me]!==void 0&&ye[oe][me]!==V.charCodeAt(me)){se=!1;break}if(se===!0){Z=_e;break}}return Z===n&&W!==n&&(Z=W),Z},s=function V(W){for(var oe=this.internal.write,me=this.internal.putStream,ye=(0,this.internal.getFilters)();ye.indexOf("FlateEncode")!==-1;)ye.splice(ye.indexOf("FlateEncode"),1);W.objectId=this.internal.newObject();var se=[];if(se.push({key:"Type",value:"/XObject"}),se.push({key:"Subtype",value:"/Image"}),se.push({key:"Width",value:W.width}),se.push({key:"Height",value:W.height}),W.colorSpace===S.INDEXED?se.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(W.palette.length/3-1)+" "+("sMask"in W&&W.sMask!==void 0?W.objectId+2:W.objectId+1)+" 0 R]"}):(se.push({key:"ColorSpace",value:"/"+W.colorSpace}),W.colorSpace===S.DEVICE_CMYK&&se.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),se.push({key:"BitsPerComponent",value:W.bitsPerComponent}),"decodeParameters"in W&&W.decodeParameters!==void 0&&se.push({key:"DecodeParms",value:"<<"+W.decodeParameters+">>"}),"transparency"in W&&Array.isArray(W.transparency)&&W.transparency.length>0){for(var _e="",Z=0,Ce=W.transparency.length;Z<Ce;Z++)_e+=W.transparency[Z]+" "+W.transparency[Z]+" ";se.push({key:"Mask",value:"["+_e+"]"})}W.sMask!==void 0&&se.push({key:"SMask",value:W.objectId+1+" 0 R"});var Se=W.filter!==void 0?["/"+W.filter]:void 0;if(me({data:W.data,additionalKeyValues:se,alreadyAppliedFilters:Se,objectId:W.objectId}),oe("endobj"),"sMask"in W&&W.sMask!==void 0){var te,P=(te=W.sMaskBitsPerComponent)!==null&&te!==void 0?te:W.bitsPerComponent,ie={width:W.width,height:W.height,colorSpace:"DeviceGray",bitsPerComponent:P,data:W.sMask};"filter"in W&&(ie.decodeParameters="/Predictor ".concat(W.predictor," /Colors 1 /BitsPerComponent ").concat(P," /Columns ").concat(W.width),ie.filter=W.filter),V.call(this,ie)}if(W.colorSpace===S.INDEXED){var O=this.internal.newObject();me({data:re(new Uint8Array(W.palette)),objectId:O}),oe("endobj")}},c=function(){var V=this.internal.collections[t+"images"];for(var W in V)s.call(this,V[W])},d=function(){var V,W=this.internal.collections[t+"images"],oe=this.internal.write;for(var me in W)oe("/I"+(V=W[me]).index,V.objectId,"0","R")},h=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",c),this.internal.events.subscribe("putXobjectDict",d))},f=function(){var V=this.internal.collections[t+"images"];return h.call(this),V},g=function(){return Object.keys(this.internal.collections[t+"images"]).length},x=function(V){return typeof e["process"+V.toUpperCase()]=="function"},E=function(V){return Ti(V)==="object"&&V.nodeType===1},w=function(V,W){if(V.nodeName==="IMG"&&V.hasAttribute("src")){var oe=""+V.getAttribute("src");if(oe.indexOf("data:image/")===0)return Jp(unescape(oe).split("base64,").pop());var me=e.loadFile(oe,!0);if(me!==void 0)return me}if(V.nodeName==="CANVAS"){if(V.width===0||V.height===0)throw new Error("Given canvas must have data. Canvas width: "+V.width+", height: "+V.height);var ye;switch(W){case"PNG":ye="image/png";break;case"WEBP":ye="image/webp";break;default:ye="image/jpeg"}return Jp(V.toDataURL(ye,1).split("base64,").pop())}},I=function(V){var W=this.internal.collections[t+"images"];if(W){for(var oe in W)if(V===W[oe].alias)return W[oe]}},j=function(V,W,oe){return V||W||(V=-96,W=-96),V<0&&(V=-1*oe.width*72/V/this.internal.scaleFactor),W<0&&(W=-1*oe.height*72/W/this.internal.scaleFactor),V===0&&(V=W*oe.width/oe.height),W===0&&(W=V*oe.height/oe.width),[V,W]},F=function(V,W,oe,me,ye,se){var _e=j.call(this,oe,me,ye),Z=this.internal.getCoordinateString,Ce=this.internal.getVerticalCoordinateString,Se=f.call(this);if(oe=_e[0],me=_e[1],Se[ye.index]=ye,se){se*=Math.PI/180;var te=Math.cos(se),P=Math.sin(se),ie=function(ae){return ae.toFixed(4)},O=[ie(te),ie(P),ie(-1*P),ie(te),0,0,"cm"]}this.internal.write("q"),se?(this.internal.write([1,"0","0",1,Z(V),Ce(W+me),"cm"].join(" ")),this.internal.write(O.join(" ")),this.internal.write([Z(oe),"0","0",Z(me),"0","0","cm"].join(" "))):this.internal.write([Z(oe),"0","0",Z(me),Z(V),Ce(W+me),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ye.index+" Do"),this.internal.write("Q")},S=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var z=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},D=e.__addimage__.sHashCode=function(V){var W,oe,me=0;if(typeof V=="string")for(oe=V.length,W=0;W<oe;W++)me=(me<<5)-me+V.charCodeAt(W),me|=0;else if(Y(V))for(oe=V.byteLength/2,W=0;W<oe;W++)me=(me<<5)-me+V[W],me|=0;return me},G=e.__addimage__.validateStringAsBase64=function(V){(V=V||"").toString().trim();var W=!0;return V.length===0&&(W=!1),V.length%4!=0&&(W=!1),/^[A-Za-z0-9+/]+$/.test(V.substr(0,V.length-2))===!1&&(W=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(V.substr(-2))===!1&&(W=!1),W},ce=e.__addimage__.extractImageFromDataUrl=function(V){if(V==null||!(V=V.trim()).startsWith("data:"))return null;var W=V.indexOf(",");return W<0?null:V.substring(0,W).trim().endsWith("base64")?V.substring(W+1):null};e.__addimage__.isArrayBuffer=function(V){return V instanceof ArrayBuffer};var Y=e.__addimage__.isArrayBufferView=function(V){return V instanceof Int8Array||V instanceof Uint8Array||V instanceof Uint8ClampedArray||V instanceof Int16Array||V instanceof Uint16Array||V instanceof Int32Array||V instanceof Uint32Array||V instanceof Float32Array||V instanceof Float64Array},ge=e.__addimage__.binaryStringToUint8Array=function(V){for(var W=V.length,oe=new Uint8Array(W),me=0;me<W;me++)oe[me]=V.charCodeAt(me);return oe},re=e.__addimage__.arrayBufferToBinaryString=function(V){for(var W="",oe=Y(V)?V:new Uint8Array(V),me=0;me<oe.length;me+=8192)W+=String.fromCharCode.apply(null,oe.subarray(me,me+8192));return W};e.addImage=function(){var V,W,oe,me,ye,se,_e,Z,Ce;if(typeof arguments[1]=="number"?(W=n,oe=arguments[1],me=arguments[2],ye=arguments[3],se=arguments[4],_e=arguments[5],Z=arguments[6],Ce=arguments[7]):(W=arguments[1],oe=arguments[2],me=arguments[3],ye=arguments[4],se=arguments[5],_e=arguments[6],Z=arguments[7],Ce=arguments[8]),Ti(V=arguments[0])==="object"&&!E(V)&&"imageData"in V){var Se=V;V=Se.imageData,W=Se.format||W||n,oe=Se.x||oe||0,me=Se.y||me||0,ye=Se.w||Se.width||ye,se=Se.h||Se.height||se,_e=Se.alias||_e,Z=Se.compression||Z,Ce=Se.rotation||Se.angle||Ce}var te=this.internal.getFilters();if(Z===void 0&&te.indexOf("FlateEncode")!==-1&&(Z="SLOW"),isNaN(oe)||isNaN(me))throw new Error("Invalid coordinates passed to jsPDF.addImage");h.call(this);var P=M.call(this,V,W,_e,Z);return F.call(this,oe,me,ye,se,P,Ce),this};var M=function(V,W,oe,me){var ye,se,_e;if(typeof V=="string"&&i(V)===n){V=unescape(V);var Z=X(V,!1);(Z!==""||(Z=e.loadFile(V,!0))!==void 0)&&(V=Z)}if(E(V)&&(V=w(V,W)),W=i(V,W),!x(W))throw new Error("addImage does not support files of type '"+W+"', please ensure that a plugin for '"+W+"' support is added.");if(((_e=oe)==null||_e.length===0)&&(oe=(function(Ce){return typeof Ce=="string"||Y(Ce)?D(Ce):Y(Ce.data)?D(Ce.data):null})(V)),(ye=I.call(this,oe))||(V instanceof Uint8Array||W==="RGBA"||(se=V,V=ge(V)),ye=this["process"+W.toUpperCase()](V,g.call(this),oe,(function(Ce){return Ce&&typeof Ce=="string"&&(Ce=Ce.toUpperCase()),Ce in e.image_compression?Ce:z.NONE})(me),se)),!ye)throw new Error("An unknown error occurred whilst processing the image.");return ye},X=e.__addimage__.convertBase64ToBinaryString=function(V,W){W=typeof W!="boolean"||W;var oe,me="";if(typeof V=="string"){var ye;oe=(ye=ce(V))!==null&&ye!==void 0?ye:V;try{me=Jp(oe)}catch(se){if(W)throw G(oe)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+se.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return me};e.getImageProperties=function(V){var W,oe,me="";if(E(V)&&(V=w(V)),typeof V=="string"&&i(V)===n&&((me=X(V,!1))===""&&(me=e.loadFile(V)||""),V=me),oe=i(V),!x(oe))throw new Error("addImage does not support files of type '"+oe+"', please ensure that a plugin for '"+oe+"' support is added.");if(V instanceof Uint8Array||(V=ge(V)),!(W=this["process"+oe.toUpperCase()](V)))throw new Error("An unknown error occurred whilst processing the image");return W.fileType=oe,W}})(qn.API),(function(e){var t=function(n){if(n!==void 0&&n!="")return!0};qn.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(n){for(var r,i,s,c=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString,h=this.internal.getPageInfoByObjId(n.objId),f=n.pageContext.annotations,g=!1,x=0;x<f.length&&!g;x++)switch((r=f[x]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(g=!0);break;case"reference":case"text":case"freetext":g=!0}if(g!=0){this.internal.write("/Annots [");for(var E=0;E<f.length;E++){r=f[E];var w=this.internal.pdfEscape,I=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var j=this.internal.newAdditionalObject(),F=this.internal.newAdditionalObject(),S=this.internal.getEncryptor(j.objId),z=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+c(r.bounds.x)+" "+d(r.bounds.y+r.bounds.h)+" "+c(r.bounds.x+r.bounds.w)+" "+d(r.bounds.y)+"] ")+"/Contents ("+w(S(r.contents))+")",s+=" /Popup "+F.objId+" 0 R",s+=" /P "+h.objId+" 0 R",s+=" /T ("+w(S(z))+") >>",j.content=s;var D=j.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+c(r.bounds.x+30)+" "+d(r.bounds.y+r.bounds.h)+" "+c(r.bounds.x+r.bounds.w+30)+" "+d(r.bounds.y)+"] ")+" /Parent "+D,r.open&&(s+=" /Open true"),s+=" >>",F.content=s,this.internal.write(j.objId,"0 R",F.objId,"0 R");break;case"freetext":i="/Rect ["+c(r.bounds.x)+" "+d(r.bounds.y)+" "+c(r.bounds.x+r.bounds.w)+" "+d(r.bounds.y+r.bounds.h)+"] ";var G=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+w(I(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+G+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var ce=this.annotations._nameMap[r.options.name];r.options.pageNumber=ce.page,r.options.top=ce.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+w(I(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;default:var Y=d(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+Y+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),e.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},e.link=function(n,r,i,s,c){var d=this.internal.getCurrentPageInfo(),h=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;d.pageContext.annotations.push({finalBounds:{x:h(n),y:f(r),w:h(n+i),h:f(r+s)},options:c,type:"link"})},e.textWithLink=function(n,r,i,s){var c,d,h=this.getTextWidth(n),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){d=s.maxWidth;var g=this.splitTextToSize(n,d).length;c=Math.ceil(f*g)}else d=h,c=f;return this.text(n,r,i,s),i+=.2*f,s.align==="center"&&(r-=h/2),s.align==="right"&&(r-=h),this.link(r,i-f,d,c,s),h},e.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}})(qn.API),(function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var s=e.__arabicParser__.isInArabicSubstitutionA=function(j){return t[j.charCodeAt(0)]!==void 0},c=e.__arabicParser__.isArabicLetter=function(j){return typeof j=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(j)},d=e.__arabicParser__.isArabicEndLetter=function(j){return c(j)&&s(j)&&t[j.charCodeAt(0)].length<=2},h=e.__arabicParser__.isArabicAlfLetter=function(j){return c(j)&&i.indexOf(j.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(j){return c(j)&&s(j)&&t[j.charCodeAt(0)].length>=1};var f=e.__arabicParser__.arabicLetterHasFinalForm=function(j){return c(j)&&s(j)&&t[j.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(j){return c(j)&&s(j)&&t[j.charCodeAt(0)].length>=3};var g=e.__arabicParser__.arabicLetterHasMedialForm=function(j){return c(j)&&s(j)&&t[j.charCodeAt(0)].length==4},x=e.__arabicParser__.resolveLigatures=function(j){var F=0,S=n,z="",D=0;for(F=0;F<j.length;F+=1)S[j.charCodeAt(F)]!==void 0?(D++,typeof(S=S[j.charCodeAt(F)])=="number"&&(z+=String.fromCharCode(S),S=n,D=0),F===j.length-1&&(S=n,z+=j.charAt(F-(D-1)),F-=D-1,D=0)):(S=n,z+=j.charAt(F-D),F-=D,D=0);return z};e.__arabicParser__.isArabicDiacritic=function(j){return j!==void 0&&r[j.charCodeAt(0)]!==void 0};var E=e.__arabicParser__.getCorrectForm=function(j,F,S){return c(j)?s(j)===!1?-1:!f(j)||!c(F)&&!c(S)||!c(S)&&d(F)||d(j)&&!c(F)||d(j)&&h(F)||d(j)&&d(F)?0:g(j)&&c(F)&&!d(F)&&c(S)&&f(S)?3:d(j)||!c(S)?1:2:-1},w=function(j){var F=0,S=0,z=0,D="",G="",ce="",Y=(j=j||"").split("\\s+"),ge=[];for(F=0;F<Y.length;F+=1){for(ge.push(""),S=0;S<Y[F].length;S+=1)D=Y[F][S],G=Y[F][S-1],ce=Y[F][S+1],c(D)?(z=E(D,G,ce),ge[F]+=z!==-1?String.fromCharCode(t[D.charCodeAt(0)][z]):D):ge[F]+=D;ge[F]=x(ge[F])}return ge.join(" ")},I=e.__arabicParser__.processArabic=e.processArabic=function(){var j,F=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,S=[];if(Array.isArray(F)){var z=0;for(S=[],z=0;z<F.length;z+=1)Array.isArray(F[z])?S.push([w(F[z][0]),F[z][1],F[z][2]]):S.push([w(F[z])]);j=S}else j=w(F);return typeof arguments[0]=="string"?j:(arguments[0].text=j,arguments[0])};e.events.push(["preProcessText",I])})(qn.API),qn.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},(function(e){var t=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(d){n=d}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(d){r=isNaN(d)||Number.isInteger(d)===!1||d<0?150:d,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(d){i=isNaN(d)||Number.isInteger(d)===!1||d<0?300:d,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(d){s=d}});var c={};Object.defineProperty(this,"style",{get:function(){return c},set:function(d){c=d}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])})(qn.API),(function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var h=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return h},set:function(j){h=j}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(j){f=j}});var g=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return g},set:function(j){g=j}});var x=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return x},set:function(j){x=j}});var E=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return E},set:function(j){E=j}});var w=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return w},set:function(j){w=j}});var I=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return I},set:function(j){I=j}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(h){return r.call(this),this.internal.__cell__.headerFunction=typeof h=="function"?h:void 0,this},e.getTextDimensions=function(h,f){r.call(this);var g=(f=f||{}).fontSize||this.getFontSize(),x=f.font||this.getFont(),E=f.scaleFactor||this.internal.scaleFactor,w=0,I=0,j=0,F=this;if(!Array.isArray(h)&&typeof h!="string"){if(typeof h!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");h=String(h)}var S=f.maxWidth;S>0?typeof h=="string"?h=this.splitTextToSize(h,S):Object.prototype.toString.call(h)==="[object Array]"&&(h=h.reduce(function(D,G){return D.concat(F.splitTextToSize(G,S))},[])):h=Array.isArray(h)?h:[h];for(var z=0;z<h.length;z++)w<(j=this.getStringUnitWidth(h[z],{font:x})*g)&&(w=j);return w!==0&&(I=h.length),{w:w/=E,h:Math.max((I*g*this.getLineHeightFactor()-g*(this.getLineHeightFactor()-1))/E,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var h=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(h.left,h.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var c=e.cell=function(){var h;h=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var f=this.internal.__cell__.lastCell,g=this.internal.__cell__.padding,x=this.internal.__cell__.margins||t,E=this.internal.__cell__.tableHeaderRow,w=this.internal.__cell__.printHeaders;return f.lineNumber!==void 0&&(f.lineNumber===h.lineNumber?(h.x=(f.x||0)+(f.width||0),h.y=f.y||0):f.y+f.height+h.height+x.bottom>this.getPageHeight()?(this.cellAddPage(),h.y=x.top,w&&E&&(this.printHeaderRow(h.lineNumber,!0),h.y+=E[0].height)):h.y=f.y+f.height||h.y),h.text[0]!==void 0&&(this.rect(h.x,h.y,h.width,h.height,n===!0?"FD":void 0),h.align==="right"?this.text(h.text,h.x+h.width-g,h.y+g,{align:"right",baseline:"top"}):h.align==="center"?this.text(h.text,h.x+h.width/2,h.y+g,{align:"center",baseline:"top",maxWidth:h.width-g-g}):this.text(h.text,h.x+g,h.y+g,{align:"left",baseline:"top",maxWidth:h.width-g-g})),this.internal.__cell__.lastCell=h,this};e.table=function(h,f,g,x,E){if(r.call(this),!g)throw new Error("No data for PDF table.");var w,I,j,F,S=[],z=[],D=[],G={},ce={},Y=[],ge=[],re=(E=E||{}).autoSize||!1,M=E.printHeaders!==!1,X=E.css&&E.css["font-size"]!==void 0?16*E.css["font-size"]:E.fontSize||12,V=E.margins||Object.assign({width:this.getPageWidth()},t),W=typeof E.padding=="number"?E.padding:3,oe=E.headerBackgroundColor||"#c8c8c8",me=E.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=M,this.internal.__cell__.margins=V,this.internal.__cell__.table_font_size=X,this.internal.__cell__.padding=W,this.internal.__cell__.headerBackgroundColor=oe,this.internal.__cell__.headerTextColor=me,this.setFontSize(X),x==null)z=S=Object.keys(g[0]),D=S.map(function(){return"left"});else if(Array.isArray(x)&&Ti(x[0])==="object")for(S=x.map(function(Se){return Se.name}),z=x.map(function(Se){return Se.prompt||Se.name||""}),D=x.map(function(Se){return Se.align||"left"}),w=0;w<x.length;w+=1)ce[x[w].name]=.7499990551181103*x[w].width;else Array.isArray(x)&&typeof x[0]=="string"&&(z=S=x,D=S.map(function(){return"left"}));if(re||Array.isArray(x)&&typeof x[0]=="string")for(w=0;w<S.length;w+=1){for(G[F=S[w]]=g.map(function(Se){return Se[F]}),this.setFont(void 0,"bold"),Y.push(this.getTextDimensions(z[w],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),I=G[F],this.setFont(void 0,"normal"),j=0;j<I.length;j+=1)Y.push(this.getTextDimensions(I[j],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);ce[F]=Math.max.apply(null,Y)+W+W,Y=[]}if(M){var ye={};for(w=0;w<S.length;w+=1)ye[S[w]]={},ye[S[w]].text=z[w],ye[S[w]].align=D[w];var se=d.call(this,ye,ce);ge=S.map(function(Se){return new s(h,f,ce[Se],se,ye[Se].text,void 0,ye[Se].align)}),this.setTableHeaderRow(ge),this.printHeaderRow(1,!1)}var _e=x.reduce(function(Se,te){return Se[te.name]=te.align,Se},{});for(w=0;w<g.length;w+=1){"rowStart"in E&&E.rowStart instanceof Function&&E.rowStart({row:w,data:g[w]},this);var Z=d.call(this,g[w],ce);for(j=0;j<S.length;j+=1){var Ce=g[w][S[j]];"cellStart"in E&&E.cellStart instanceof Function&&E.cellStart({row:w,col:j,data:Ce},this),c.call(this,new s(h,f,ce[S[j]],Z,Ce,w+2,_e[S[j]]))}}return this.internal.__cell__.table_x=h,this.internal.__cell__.table_y=f,this};var d=function(h,f){var g=this.internal.__cell__.padding,x=this.internal.__cell__.table_font_size,E=this.internal.scaleFactor;return Object.keys(h).map(function(w){var I=h[w];return this.splitTextToSize(I.hasOwnProperty("text")?I.text:I,f[w]-g-g)},this).map(function(w){return this.getLineHeightFactor()*w.length*x/E+g+g},this).reduce(function(w,I){return Math.max(w,I)},0)};e.setTableHeaderRow=function(h){r.call(this),this.internal.__cell__.tableHeaderRow=h},e.printHeaderRow=function(h,f){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var g;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var x=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(x[0],x[1],x[2],x[3],void 0,-1)}this.setFont(void 0,"bold");for(var E=[],w=0;w<this.internal.__cell__.tableHeaderRow.length;w+=1){g=this.internal.__cell__.tableHeaderRow[w].clone(),f&&(g.y=this.internal.__cell__.margins.top||0,E.push(g)),g.lineNumber=h;var I=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),c.call(this,g),this.setTextColor(I)}E.length>0&&this.setTableHeaderRow(E),this.setFont(void 0,"normal"),n=!1}})(qn.API);var NN={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},EN=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Dx=CN(EN),SN=[100,200,300,400,500,600,700,800,900],lQ=CN(SN);function vv(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=(function(s){return NN[s=s||"normal"]?s:"normal"})(e.style),r=(function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400})(e.weight),i=(function(s){return typeof Dx[s=s||"normal"]=="number"?s:"normal"})(e.stretch);return{family:t,style:n,weight:r,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,n,r].join(" ")}}}function L2(e,t,n,r){var i;for(i=n;i>=0&&i<t.length;i+=r)if(e[t[i]])return e[t[i]];for(i=n;i>=0&&i<t.length;i-=r)if(e[t[i]])return e[t[i]]}var AQ={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},j2={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function k2(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function U2(e){return e.trimLeft()}function cQ(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function uQ(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Up,I2,T2,Hu,Ip,F2,O2,Q2,xv=["times"];function D2(e,t,n,r,i){var s=4,c=R2;switch(i){case qn.API.image_compression.FAST:s=1,c=M2;break;case qn.API.image_compression.MEDIUM:s=6,c=P2;break;case qn.API.image_compression.SLOW:s=9,c=H2}e=(function(h,f,g,x){for(var E,w=h.length/f,I=new Uint8Array(h.length+w),j=[dQ,M2,R2,P2,H2],F=0;F<w;F+=1){var S=F*f,z=h.subarray(S,S+f);if(x)I.set(x(z,g,E),S+F);else{for(var D=j.length,G=[],ce=0;ce<D;ce+=1)G[ce]=j[ce](z,g,E);var Y=fQ(G.concat());I.set(G[Y],S+F)}E=z}return I})(e,t,Math.ceil(n*r/8),c);var d=kx(e,{level:s});return qn.API.__addimage__.arrayBufferToBinaryString(d)}function dQ(e){var t=Array.apply([],e);return t.unshift(0),t}function M2(e,t){var n=e.length,r=[];r[0]=1;for(var i=0;i<n;i+=1){var s=e[i-t]||0;r[i+1]=e[i]-s+256&255}return r}function R2(e,t,n){var r=e.length,i=[];i[0]=2;for(var s=0;s<r;s+=1){var c=n&&n[s]||0;i[s+1]=e[s]-c+256&255}return i}function P2(e,t,n){var r=e.length,i=[];i[0]=3;for(var s=0;s<r;s+=1){var c=e[s-t]||0,d=n&&n[s]||0;i[s+1]=e[s]+256-(c+d>>>1)&255}return i}function H2(e,t,n){var r=e.length,i=[];i[0]=4;for(var s=0;s<r;s+=1){var c=hQ(e[s-t]||0,n&&n[s]||0,n&&n[s-t]||0);i[s+1]=e[s]-c+256&255}return i}function hQ(e,t,n){if(e===t&&t===n)return e;var r=Math.abs(t-n),i=Math.abs(e-n),s=Math.abs(e+t-n-n);return r<=i&&r<=s?e:i<=s?t:n}function fQ(e){var t=e.map(function(n){return n.reduce(function(r,i){return r+Math.abs(i)},0)});return t.indexOf(Math.min.apply(null,t))}function bv(e,t,n){var r=t*n,i=Math.floor(r/8),s=16-(r-8*i+n),c=(1<<n)-1;return LN(e,i)>>s&c}function z2(e,t,n,r){var i=n*r,s=Math.floor(i/8),c=16-(i-8*s+r),d=(1<<r)-1,h=(t&d)<<c;(function(f,g,x){if(g+1<f.byteLength)f.setUint16(g,x,!1);else{var E=x>>8&255;f.setUint8(g,E)}})(e,s,LN(e,s)&~(d<<c)&65535|h)}function LN(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function pQ(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,i=e[t++],s=i>>7,c=1<<1+(7&i);e[t++],e[t++];var d=null,h=null;s&&(d=t,h=c,t+=3*c);var f=!0,g=[],x=0,E=null,w=0,I=null;for(this.width=n,this.height=r;f&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,I=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((V=e[t++])>=0))throw Error("Invalid block size");if(V===0)break;t+=V}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var j=e[t++];x=e[t++]|e[t++]<<8,E=e[t++],1&j||(E=null),w=j>>2&7,t++;break;case 254:for(;;){if(!((V=e[t++])>=0))throw Error("Invalid block size");if(V===0)break;t+=V}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var F=e[t++]|e[t++]<<8,S=e[t++]|e[t++]<<8,z=e[t++]|e[t++]<<8,D=e[t++]|e[t++]<<8,G=e[t++],ce=G>>6&1,Y=1<<1+(7&G),ge=d,re=h,M=!1;G>>7&&(M=!0,ge=t,re=Y,t+=3*Y);var X=t;for(t++;;){var V;if(!((V=e[t++])>=0))throw Error("Invalid block size");if(V===0)break;t+=V}g.push({x:F,y:S,width:z,height:D,has_local_palette:M,palette_offset:ge,palette_size:re,data_offset:X,data_length:t-X,transparent_index:E,interlaced:!!ce,delay:x,disposal:w});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return g.length},this.loopCount=function(){return I},this.frameInfo=function(W){if(W<0||W>=g.length)throw new Error("Frame index out of range.");return g[W]},this.decodeAndBlitFrameBGRA=function(W,oe){var me=this.frameInfo(W),ye=me.width*me.height,se=new Uint8Array(ye);q2(e,me.data_offset,se,ye);var _e=me.palette_offset,Z=me.transparent_index;Z===null&&(Z=256);var Ce=me.width,Se=n-Ce,te=Ce,P=4*(me.y*n+me.x),ie=4*((me.y+me.height)*n+me.x),O=P,ae=4*Se;me.interlaced===!0&&(ae+=4*n*7);for(var ue=8,je=0,Ve=se.length;je<Ve;++je){var Ie=se[je];if(te===0&&(te=Ce,(O+=ae)>=ie&&(ae=4*Se+4*n*(ue-1),O=P+(Ce+Se)*(ue<<1),ue>>=1)),Ie===Z)O+=4;else{var lt=e[_e+3*Ie],wt=e[_e+3*Ie+1],Xe=e[_e+3*Ie+2];oe[O++]=Xe,oe[O++]=wt,oe[O++]=lt,oe[O++]=255}--te}},this.decodeAndBlitFrameRGBA=function(W,oe){var me=this.frameInfo(W),ye=me.width*me.height,se=new Uint8Array(ye);q2(e,me.data_offset,se,ye);var _e=me.palette_offset,Z=me.transparent_index;Z===null&&(Z=256);var Ce=me.width,Se=n-Ce,te=Ce,P=4*(me.y*n+me.x),ie=4*((me.y+me.height)*n+me.x),O=P,ae=4*Se;me.interlaced===!0&&(ae+=4*n*7);for(var ue=8,je=0,Ve=se.length;je<Ve;++je){var Ie=se[je];if(te===0&&(te=Ce,(O+=ae)>=ie&&(ae=4*Se+4*n*(ue-1),O=P+(Ce+Se)*(ue<<1),ue>>=1)),Ie===Z)O+=4;else{var lt=e[_e+3*Ie],wt=e[_e+3*Ie+1],Xe=e[_e+3*Ie+2];oe[O++]=lt,oe[O++]=wt,oe[O++]=Xe,oe[O++]=255}--te}}}function q2(e,t,n,r){for(var i=e[t++],s=1<<i,c=s+1,d=c+1,h=i+1,f=(1<<h)-1,g=0,x=0,E=0,w=e[t++],I=new Int32Array(4096),j=null;;){for(;g<16&&w!==0;)x|=e[t++]<<g,g+=8,w===1?w=e[t++]:--w;if(g<h)break;var F=x&f;if(x>>=h,g-=h,F!==s){if(F===c)break;for(var S=F<d?F:j,z=0,D=S;D>s;)D=I[D]>>8,++z;var G=D;if(E+z+(S!==F?1:0)>r)return void Yi.log("Warning, gif stream longer than expected.");n[E++]=G;var ce=E+=z;for(S!==F&&(n[E++]=G),D=S;z--;)D=I[D],n[--ce]=255&D,D>>=8;j!==null&&d<4096&&(I[d++]=j<<8|G,d>=f+1&&h<12&&(++h,f=f<<1|1)),j=F}else d=c+1,f=(1<<(h=i+1))-1,j=null}return E!==r&&Yi.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function yv(e){var t,n,r,i,s,c=Math.floor,d=new Array(64),h=new Array(64),f=new Array(64),g=new Array(64),x=new Array(65535),E=new Array(65535),w=new Array(64),I=new Array(64),j=[],F=0,S=7,z=new Array(64),D=new Array(64),G=new Array(64),ce=new Array(256),Y=new Array(2048),ge=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],re=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],M=[0,1,2,3,4,5,6,7,8,9,10,11],X=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],V=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],W=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],oe=[0,1,2,3,4,5,6,7,8,9,10,11],me=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ye=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function se(P,ie){for(var O=0,ae=0,ue=new Array,je=1;je<=16;je++){for(var Ve=1;Ve<=P[je];Ve++)ue[ie[ae]]=[],ue[ie[ae]][0]=O,ue[ie[ae]][1]=je,ae++,O++;O*=2}return ue}function _e(P){for(var ie=P[0],O=P[1]-1;O>=0;)ie&1<<O&&(F|=1<<S),O--,--S<0&&(F==255?(Z(255),Z(0)):Z(F),S=7,F=0)}function Z(P){j.push(P)}function Ce(P){Z(P>>8&255),Z(255&P)}function Se(P,ie,O,ae,ue){for(var je,Ve=ue[0],Ie=ue[240],lt=(function(xt,nn){var Vt,un,hn,jn,Mn,_n,En,Tn,cn,mn,en=0;for(cn=0;cn<8;++cn){Vt=xt[en],un=xt[en+1],hn=xt[en+2],jn=xt[en+3],Mn=xt[en+4],_n=xt[en+5],En=xt[en+6];var Fe=Vt+(Tn=xt[en+7]),yt=Vt-Tn,jt=un+En,dt=un-En,Rt=hn+_n,Ht=hn-_n,Qn=jn+Mn,bt=jn-Mn,kn=Fe+Qn,jr=Fe-Qn,Hn=jt+Rt,wn=jt-Rt;xt[en]=kn+Hn,xt[en+4]=kn-Hn;var cr=.707106781*(wn+jr);xt[en+2]=jr+cr,xt[en+6]=jr-cr;var qi=.382683433*((kn=bt+Ht)-(wn=dt+yt)),Fi=.5411961*kn+qi,ci=1.306562965*wn+qi,Kr=.707106781*(Hn=Ht+dt),fn=yt+Kr,Xi=yt-Kr;xt[en+5]=Xi+Fi,xt[en+3]=Xi-Fi,xt[en+1]=fn+ci,xt[en+7]=fn-ci,en+=8}for(en=0,cn=0;cn<8;++cn){Vt=xt[en],un=xt[en+8],hn=xt[en+16],jn=xt[en+24],Mn=xt[en+32],_n=xt[en+40],En=xt[en+48];var Yn=Vt+(Tn=xt[en+56]),Xn=Vt-Tn,Oi=un+En,ze=un-En,st=hn+_n,gn=hn-_n,ur=jn+Mn,Kn=jn-Mn,Wn=Yn+ur,Ar=Yn-ur,Jr=Oi+st,kr=Oi-st;xt[en]=Wn+Jr,xt[en+32]=Wn-Jr;var Yr=.707106781*(kr+Ar);xt[en+16]=Ar+Yr,xt[en+48]=Ar-Yr;var Wr=.382683433*((Wn=Kn+gn)-(kr=ze+Xn)),bi=.5411961*Wn+Wr,Jn=1.306562965*kr+Wr,ba=.707106781*(Jr=gn+ze),gr=Xn+ba,Bi=Xn-ba;xt[en+40]=Bi+bi,xt[en+24]=Bi-bi,xt[en+8]=gr+Jn,xt[en+56]=gr-Jn,en++}for(cn=0;cn<64;++cn)mn=xt[cn]*nn[cn],w[cn]=mn>0?mn+.5|0:mn-.5|0;return w})(P,ie),wt=0;wt<64;++wt)I[ge[wt]]=lt[wt];var Xe=I[0]-O;O=I[0],Xe==0?_e(ae[0]):(_e(ae[E[je=32767+Xe]]),_e(x[je]));for(var $t=63;$t>0&&I[$t]==0;)$t--;if($t==0)return _e(Ve),O;for(var on,xe=1;xe<=$t;){for(var Ot=xe;I[xe]==0&&xe<=$t;)++xe;var rn=xe-Ot;if(rn>=16){on=rn>>4;for(var dn=1;dn<=on;++dn)_e(Ie);rn&=15}je=32767+I[xe],_e(ue[(rn<<4)+E[je]]),_e(x[je]),xe++}return $t!=63&&_e(Ve),O}function te(P){P=Math.min(Math.max(P,1),100),s!=P&&((function(ie){for(var O=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ae=0;ae<64;ae++){var ue=c((O[ae]*ie+50)/100);ue=Math.min(Math.max(ue,1),255),d[ge[ae]]=ue}for(var je=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ve=0;Ve<64;Ve++){var Ie=c((je[Ve]*ie+50)/100);Ie=Math.min(Math.max(Ie,1),255),h[ge[Ve]]=Ie}for(var lt=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],wt=0,Xe=0;Xe<8;Xe++)for(var $t=0;$t<8;$t++)f[wt]=1/(d[ge[wt]]*lt[Xe]*lt[$t]*8),g[wt]=1/(h[ge[wt]]*lt[Xe]*lt[$t]*8),wt++})(P<50?Math.floor(5e3/P):Math.floor(200-2*P)),s=P)}this.encode=function(P,ie){ie&&te(ie),j=new Array,F=0,S=7,Ce(65496),Ce(65504),Ce(16),Z(74),Z(70),Z(73),Z(70),Z(0),Z(1),Z(1),Z(0),Ce(1),Ce(1),Z(0),Z(0),(function(){Ce(65499),Ce(132),Z(0);for(var un=0;un<64;un++)Z(d[un]);Z(1);for(var hn=0;hn<64;hn++)Z(h[hn])})(),(function(un,hn){Ce(65472),Ce(17),Z(8),Ce(hn),Ce(un),Z(3),Z(1),Z(17),Z(0),Z(2),Z(17),Z(1),Z(3),Z(17),Z(1)})(P.width,P.height),(function(){Ce(65476),Ce(418),Z(0);for(var un=0;un<16;un++)Z(re[un+1]);for(var hn=0;hn<=11;hn++)Z(M[hn]);Z(16);for(var jn=0;jn<16;jn++)Z(X[jn+1]);for(var Mn=0;Mn<=161;Mn++)Z(V[Mn]);Z(1);for(var _n=0;_n<16;_n++)Z(W[_n+1]);for(var En=0;En<=11;En++)Z(oe[En]);Z(17);for(var Tn=0;Tn<16;Tn++)Z(me[Tn+1]);for(var cn=0;cn<=161;cn++)Z(ye[cn])})(),Ce(65498),Ce(12),Z(3),Z(1),Z(0),Z(2),Z(17),Z(3),Z(17),Z(0),Z(63),Z(0);var O=0,ae=0,ue=0;F=0,S=7,this.encode.displayName="_encode_";for(var je,Ve,Ie,lt,wt,Xe,$t,on,xe,Ot=P.data,rn=P.width,dn=P.height,xt=4*rn,nn=0;nn<dn;){for(je=0;je<xt;){for(wt=xt*nn+je,$t=-1,on=0,xe=0;xe<64;xe++)Xe=wt+(on=xe>>3)*xt+($t=4*(7&xe)),nn+on>=dn&&(Xe-=xt*(nn+1+on-dn)),je+$t>=xt&&(Xe-=je+$t-xt+4),Ve=Ot[Xe++],Ie=Ot[Xe++],lt=Ot[Xe++],z[xe]=(Y[Ve]+Y[Ie+256|0]+Y[lt+512|0]>>16)-128,D[xe]=(Y[Ve+768|0]+Y[Ie+1024|0]+Y[lt+1280|0]>>16)-128,G[xe]=(Y[Ve+1280|0]+Y[Ie+1536|0]+Y[lt+1792|0]>>16)-128;O=Se(z,f,O,t,r),ae=Se(D,g,ae,n,i),ue=Se(G,g,ue,n,i),je+=32}nn+=8}if(S>=0){var Vt=[];Vt[1]=S+1,Vt[0]=(1<<S+1)-1,_e(Vt)}return Ce(65497),new Uint8Array(j)},e=e||50,(function(){for(var P=String.fromCharCode,ie=0;ie<256;ie++)ce[ie]=P(ie)})(),t=se(re,M),n=se(W,oe),r=se(X,V),i=se(me,ye),(function(){for(var P=1,ie=2,O=1;O<=15;O++){for(var ae=P;ae<ie;ae++)E[32767+ae]=O,x[32767+ae]=[],x[32767+ae][1]=O,x[32767+ae][0]=ae;for(var ue=-(ie-1);ue<=-P;ue++)E[32767+ue]=O,x[32767+ue]=[],x[32767+ue][1]=O,x[32767+ue][0]=ie-1+ue;P<<=1,ie<<=1}})(),(function(){for(var P=0;P<256;P++)Y[P]=19595*P,Y[P+256|0]=38470*P,Y[P+512|0]=7471*P+32768,Y[P+768|0]=-11059*P,Y[P+1024|0]=-21709*P,Y[P+1280|0]=32768*P+8421375,Y[P+1536|0]=-27439*P,Y[P+1792|0]=-5329*P})(),te(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Il(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function K2(e){function t(M){if(!M)throw Error("assert :P")}function n(M,X,V){for(var W=0;4>W;W++)if(M[X+W]!=V.charCodeAt(W))return!0;return!1}function r(M,X,V,W,oe){for(var me=0;me<oe;me++)M[X+me]=V[W+me]}function i(M,X,V,W){for(var oe=0;oe<W;oe++)M[X+oe]=V}function s(M){return new Int32Array(M)}function c(M,X){for(var V=[],W=0;W<M;W++)V.push(new X);return V}function d(M,X){var V=[];return(function W(oe,me,ye){for(var se=ye[me],_e=0;_e<se&&(oe.push(ye.length>me+1?[]:new X),!(ye.length<me+1));_e++)W(oe[_e],me+1,ye)})(V,0,M),V}var h=function(){var M=this;function X(v,B){for(var T=1<<B-1>>>0;v&T;)T>>>=1;return T?(v&T-1)+T:v}function V(v,B,T,R,ne){t(!(R%T));do v[B+(R-=T)]=ne;while(0<R)}function W(v,B,T,R,ne){if(t(2328>=ne),512>=ne)var de=s(512);else if((de=s(ne))==null)return 0;return(function(fe,ve,be,Ee,Ge,ot){var Ne,Ye,rt=ve,Ct=1<<be,it=s(16),_t=s(16);for(t(Ge!=0),t(Ee!=null),t(fe!=null),t(0<be),Ye=0;Ye<Ge;++Ye){if(15<Ee[Ye])return 0;++it[Ee[Ye]]}if(it[0]==Ge)return 0;for(_t[1]=0,Ne=1;15>Ne;++Ne){if(it[Ne]>1<<Ne)return 0;_t[Ne+1]=_t[Ne]+it[Ne]}for(Ye=0;Ye<Ge;++Ye)Ne=Ee[Ye],0<Ee[Ye]&&(ot[_t[Ne]++]=Ye);if(_t[15]==1)return(Ee=new oe).g=0,Ee.value=ot[0],V(fe,rt,1,Ct,Ee),Ct;var St,Zt=-1,Mt=Ct-1,Fn=0,bn=1,fr=1,Ln=1<<be;for(Ye=0,Ne=1,Ge=2;Ne<=be;++Ne,Ge<<=1){if(bn+=fr<<=1,0>(fr-=it[Ne]))return 0;for(;0<it[Ne];--it[Ne])(Ee=new oe).g=Ne,Ee.value=ot[Ye++],V(fe,rt+Fn,Ge,Ln,Ee),Fn=X(Fn,Ne)}for(Ne=be+1,Ge=2;15>=Ne;++Ne,Ge<<=1){if(bn+=fr<<=1,0>(fr-=it[Ne]))return 0;for(;0<it[Ne];--it[Ne]){if(Ee=new oe,(Fn&Mt)!=Zt){for(rt+=Ln,St=1<<(Zt=Ne)-be;15>Zt&&!(0>=(St-=it[Zt]));)++Zt,St<<=1;Ct+=Ln=1<<(St=Zt-be),fe[ve+(Zt=Fn&Mt)].g=St+be,fe[ve+Zt].value=rt-ve-Zt}Ee.g=Ne-be,Ee.value=ot[Ye++],V(fe,rt+(Fn>>be),Ge,Ln,Ee),Fn=X(Fn,Ne)}}return bn!=2*_t[15]-1?0:Ct})(v,B,T,R,ne,de)}function oe(){this.value=this.g=0}function me(){this.value=this.g=0}function ye(){this.G=c(5,oe),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=c(Hr,me)}function se(v,B,T,R){t(v!=null),t(B!=null),t(2147483648>R),v.Ca=254,v.I=0,v.b=-8,v.Ka=0,v.oa=B,v.pa=T,v.Jd=B,v.Yc=T+R,v.Zc=4<=R?T+R-4+1:T,Ve(v)}function _e(v,B){for(var T=0;0<B--;)T|=lt(v,128)<<B;return T}function Z(v,B){var T=_e(v,B);return Ie(v)?-T:T}function Ce(v,B,T,R){var ne,de=0;for(t(v!=null),t(B!=null),t(4294967288>R),v.Sb=R,v.Ra=0,v.u=0,v.h=0,4<R&&(R=4),ne=0;ne<R;++ne)de+=B[T+ne]<<8*ne;v.Ra=de,v.bb=R,v.oa=B,v.pa=T}function Se(v){for(;8<=v.u&&v.bb<v.Sb;)v.Ra>>>=8,v.Ra+=v.oa[v.pa+v.bb]<<ws-8>>>0,++v.bb,v.u-=8;ae(v)&&(v.h=1,v.u=0)}function te(v,B){if(t(0<=B),!v.h&&B<=Or){var T=O(v)&Ba[B];return v.u+=B,Se(v),T}return v.h=1,v.u=0}function P(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function ie(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function O(v){return v.Ra>>>(v.u&ws-1)>>>0}function ae(v){return t(v.bb<=v.Sb),v.h||v.bb==v.Sb&&v.u>ws}function ue(v,B){v.u=B,v.h=ae(v)}function je(v){v.u>=Ts&&(t(v.u>=Ts),Se(v))}function Ve(v){t(v!=null&&v.oa!=null),v.pa<v.Zc?(v.I=(v.oa[v.pa++]|v.I<<8)>>>0,v.b+=8):(t(v!=null&&v.oa!=null),v.pa<v.Yc?(v.b+=8,v.I=v.oa[v.pa++]|v.I<<8):v.Ka?v.b=0:(v.I<<=8,v.b+=8,v.Ka=1))}function Ie(v){return _e(v,1)}function lt(v,B){var T=v.Ca;0>v.b&&Ve(v);var R=v.b,ne=T*B>>>8,de=(v.I>>>R>ne)+0;for(de?(T-=ne,v.I-=ne+1<<R>>>0):T=ne+1,R=T,ne=0;256<=R;)ne+=8,R>>=8;return R=7^ne+Fs[R],v.b-=R,v.Ca=(T<<R)-1,de}function wt(v,B,T){v[B+0]=T>>24&255,v[B+1]=T>>16&255,v[B+2]=T>>8&255,v[B+3]=255&T}function Xe(v,B){return v[B+0]|v[B+1]<<8}function $t(v,B){return Xe(v,B)|v[B+2]<<16}function on(v,B){return Xe(v,B)|Xe(v,B+2)<<16}function xe(v,B){var T=1<<B;return t(v!=null),t(0<B),v.X=s(T),v.X==null?0:(v.Mb=32-B,v.Xa=B,1)}function Ot(v,B){t(v!=null),t(B!=null),t(v.Xa==B.Xa),r(B.X,0,v.X,0,1<<B.Xa)}function rn(){this.X=[],this.Xa=this.Mb=0}function dn(v,B,T,R){t(T!=null),t(R!=null);var ne=T[0],de=R[0];return ne==0&&(ne=(v*de+B/2)/B),de==0&&(de=(B*ne+v/2)/v),0>=ne||0>=de?0:(T[0]=ne,R[0]=de,1)}function xt(v,B){return v+(1<<B)-1>>>B}function nn(v,B){return((4278255360&v)+(4278255360&B)>>>0&4278255360)+((16711935&v)+(16711935&B)>>>0&16711935)>>>0}function Vt(v,B){M[B]=function(T,R,ne,de,fe,ve,be){var Ee;for(Ee=0;Ee<fe;++Ee){var Ge=M[v](ve[be+Ee-1],ne,de+Ee);ve[be+Ee]=nn(T[R+Ee],Ge)}}}function un(){this.ud=this.hd=this.jd=0}function hn(v,B){return((4278124286&(v^B))>>>1)+(v&B)>>>0}function jn(v){return 0<=v&&256>v?v:0>v?0:255<v?255:void 0}function Mn(v,B){return jn(v+(v-B+.5>>1))}function _n(v,B,T){return Math.abs(B-T)-Math.abs(v-T)}function En(v,B,T,R,ne,de,fe){for(R=de[fe-1],T=0;T<ne;++T)de[fe+T]=R=nn(v[B+T],R)}function Tn(v,B,T,R,ne){var de;for(de=0;de<T;++de){var fe=v[B+de],ve=fe>>8&255,be=16711935&(be=(be=16711935&fe)+((ve<<16)+ve));R[ne+de]=(4278255360&fe)+be>>>0}}function cn(v,B){B.jd=255&v,B.hd=v>>8&255,B.ud=v>>16&255}function mn(v,B,T,R,ne,de){var fe;for(fe=0;fe<R;++fe){var ve=B[T+fe],be=ve>>>8,Ee=ve,Ge=255&(Ge=(Ge=ve>>>16)+((v.jd<<24>>24)*(be<<24>>24)>>>5));Ee=255&(Ee=(Ee+=(v.hd<<24>>24)*(be<<24>>24)>>>5)+((v.ud<<24>>24)*(Ge<<24>>24)>>>5)),ne[de+fe]=(4278255360&ve)+(Ge<<16)+Ee}}function en(v,B,T,R,ne){M[B]=function(de,fe,ve,be,Ee,Ge,ot,Ne,Ye){for(be=ot;be<Ne;++be)for(ot=0;ot<Ye;++ot)Ee[Ge++]=ne(ve[R(de[fe++])])},M[v]=function(de,fe,ve,be,Ee,Ge,ot){var Ne=8>>de.b,Ye=de.Ea,rt=de.K[0],Ct=de.w;if(8>Ne)for(de=(1<<de.b)-1,Ct=(1<<Ne)-1;fe<ve;++fe){var it,_t=0;for(it=0;it<Ye;++it)it&de||(_t=R(be[Ee++])),Ge[ot++]=ne(rt[_t&Ct]),_t>>=Ne}else M["VP8LMapColor"+T](be,Ee,rt,Ct,Ge,ot,fe,ve,Ye)}}function Fe(v,B,T,R,ne){for(T=B+T;B<T;){var de=v[B++];R[ne++]=de>>16&255,R[ne++]=de>>8&255,R[ne++]=255&de}}function yt(v,B,T,R,ne){for(T=B+T;B<T;){var de=v[B++];R[ne++]=de>>16&255,R[ne++]=de>>8&255,R[ne++]=255&de,R[ne++]=de>>24&255}}function jt(v,B,T,R,ne){for(T=B+T;B<T;){var de=(fe=v[B++])>>16&240|fe>>12&15,fe=240&fe|fe>>28&15;R[ne++]=de,R[ne++]=fe}}function dt(v,B,T,R,ne){for(T=B+T;B<T;){var de=(fe=v[B++])>>16&248|fe>>13&7,fe=fe>>5&224|fe>>3&31;R[ne++]=de,R[ne++]=fe}}function Rt(v,B,T,R,ne){for(T=B+T;B<T;){var de=v[B++];R[ne++]=255&de,R[ne++]=de>>8&255,R[ne++]=de>>16&255}}function Ht(v,B,T,R,ne,de){if(de==0)for(T=B+T;B<T;)wt(R,((de=v[B++])[0]>>24|de[1]>>8&65280|de[2]<<8&16711680|de[3]<<24)>>>0),ne+=32;else r(R,ne,v,B,T)}function Qn(v,B){M[B][0]=M[v+"0"],M[B][1]=M[v+"1"],M[B][2]=M[v+"2"],M[B][3]=M[v+"3"],M[B][4]=M[v+"4"],M[B][5]=M[v+"5"],M[B][6]=M[v+"6"],M[B][7]=M[v+"7"],M[B][8]=M[v+"8"],M[B][9]=M[v+"9"],M[B][10]=M[v+"10"],M[B][11]=M[v+"11"],M[B][12]=M[v+"12"],M[B][13]=M[v+"13"],M[B][14]=M[v+"0"],M[B][15]=M[v+"0"]}function bt(v){return v==Vl||v==bA||v==Zl||v==A}function kn(){this.eb=[],this.size=this.A=this.fb=0}function jr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Hn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new kn,this.f.kb=new jr,this.sd=null}function wn(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function cr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function qi(v){return alert("todo:WebPSamplerProcessPlane"),v.T}function Fi(v,B){var T=v.T,R=B.ba.f.RGBA,ne=R.eb,de=R.fb+v.ka*R.A,fe=fa[B.ba.S],ve=v.y,be=v.O,Ee=v.f,Ge=v.N,ot=v.ea,Ne=v.W,Ye=B.cc,rt=B.dc,Ct=B.Mc,it=B.Nc,_t=v.ka,St=v.ka+v.T,Zt=v.U,Mt=Zt+1>>1;for(_t==0?fe(ve,be,null,null,Ee,Ge,ot,Ne,Ee,Ge,ot,Ne,ne,de,null,null,Zt):(fe(B.ec,B.fc,ve,be,Ye,rt,Ct,it,Ee,Ge,ot,Ne,ne,de-R.A,ne,de,Zt),++T);_t+2<St;_t+=2)Ye=Ee,rt=Ge,Ct=ot,it=Ne,Ge+=v.Rc,Ne+=v.Rc,de+=2*R.A,fe(ve,(be+=2*v.fa)-v.fa,ve,be,Ye,rt,Ct,it,Ee,Ge,ot,Ne,ne,de-R.A,ne,de,Zt);return be+=v.fa,v.j+St<v.o?(r(B.ec,B.fc,ve,be,Zt),r(B.cc,B.dc,Ee,Ge,Mt),r(B.Mc,B.Nc,ot,Ne,Mt),T--):1&St||fe(ve,be,null,null,Ee,Ge,ot,Ne,Ee,Ge,ot,Ne,ne,de+R.A,null,null,Zt),T}function ci(v,B,T){var R=v.F,ne=[v.J];if(R!=null){var de=v.U,fe=B.ba.S,ve=fe==Gl||fe==Zl;B=B.ba.f.RGBA;var be=[0],Ee=v.ka;be[0]=v.T,v.Kb&&(Ee==0?--be[0]:(--Ee,ne[0]-=v.width),v.j+v.ka+v.T==v.o&&(be[0]=v.o-v.j-Ee));var Ge=B.eb;Ee=B.fb+Ee*B.A,v=tr(R,ne[0],v.width,de,be,Ge,Ee+(ve?0:3),B.A),t(T==be),v&&bt(fe)&&Sn(Ge,Ee,ve,de,be,B.A)}return 0}function Kr(v){var B=v.ma,T=B.ba.S,R=11>T,ne=T==Xa||T==Js||T==Gl||T==Cl||T==12||bt(T);if(B.memory=null,B.Ib=null,B.Jb=null,B.Nd=null,!Lo(B.Oa,v,ne?11:12))return 0;if(ne&&bt(T)&&Zs(),v.da)alert("todo:use_scaling");else{if(R){if(B.Ib=qi,v.Kb){if(T=v.U+1>>1,B.memory=s(v.U+2*T),B.memory==null)return 0;B.ec=B.memory,B.fc=0,B.cc=B.ec,B.dc=B.fc+v.U,B.Mc=B.cc,B.Nc=B.dc+T,B.Ib=Fi,Zs()}}else alert("todo:EmitYUV");ne&&(B.Jb=ci,R&&ha())}if(R&&!Wl){for(v=0;256>v;++v)Cs[v]=89858*(v-128)+VA>>Qo,fg[v]=-22014*(v-128)+VA,pf[v]=-45773*(v-128),uu[v]=113618*(v-128)+VA>>Qo;for(v=yA;v<Jl;++v)B=76283*(v-16)+VA>>Qo,pg[v-yA]=kt(B,255),mg[v-yA]=kt(B+8>>4,15);Wl=1}return 1}function fn(v){var B=v.ma,T=v.U,R=v.T;return t(!(1&v.ka)),0>=T||0>=R?0:(T=B.Ib(v,B),B.Jb!=null&&B.Jb(v,B,T),B.Dc+=T,1)}function Xi(v){v.ma.memory=null}function Yn(v,B,T,R){return te(v,8)!=47?0:(B[0]=te(v,14)+1,T[0]=te(v,14)+1,R[0]=te(v,1),te(v,3)!=0?0:!v.h)}function Xn(v,B){if(4>v)return v+1;var T=v-2>>1;return(2+(1&v)<<T)+te(B,T)+1}function Oi(v,B){return 120<B?B-120:1<=(T=((T=Te[B-1])>>4)*v+(8-(15&T)))?T:1;var T}function ze(v,B,T){var R=O(T),ne=v[B+=255&R].g-8;return 0<ne&&(ue(T,T.u+8),R=O(T),B+=v[B].value,B+=R&(1<<ne)-1),ue(T,T.u+v[B].g),v[B].value}function st(v,B,T){return T.g+=v.g,T.value+=v.value<<B>>>0,t(8>=T.g),v.g}function gn(v,B,T){var R=v.xc;return t((B=R==0?0:v.vc[v.md*(T>>R)+(B>>R)])<v.Wb),v.Ya[B]}function ur(v,B,T,R){var ne=v.ab,de=v.c*B,fe=v.C;B=fe+B;var ve=T,be=R;for(R=v.Ta,T=v.Ua;0<ne--;){var Ee=v.gc[ne],Ge=fe,ot=B,Ne=ve,Ye=be,rt=(be=R,ve=T,Ee.Ea);switch(t(Ge<ot),t(ot<=Ee.nc),Ee.hc){case 2:pi(Ne,Ye,(ot-Ge)*rt,be,ve);break;case 0:var Ct=Ge,it=ot,_t=be,St=ve,Zt=(Ln=Ee).Ea;Ct==0&&(Os(Ne,Ye,null,null,1,_t,St),En(Ne,Ye+1,0,0,Zt-1,_t,St+1),Ye+=Zt,St+=Zt,++Ct);for(var Mt=1<<Ln.b,Fn=Mt-1,bn=xt(Zt,Ln.b),fr=Ln.K,Ln=Ln.w+(Ct>>Ln.b)*bn;Ct<it;){var Rr=fr,Zi=Ln,yr=1;for(ja(Ne,Ye,_t,St-Zt,1,_t,St);yr<Zt;){var yn=(yr&~Fn)+Mt;yn>Zt&&(yn=Zt),(0,Q[Rr[Zi++]>>8&15])(Ne,Ye+ +yr,_t,St+yr-Zt,yn-yr,_t,St+yr),yr=yn}Ye+=Zt,St+=Zt,++Ct&Fn||(Ln+=bn)}ot!=Ee.nc&&r(be,ve-rt,be,ve+(ot-Ge-1)*rt,rt);break;case 1:for(rt=Ne,it=Ye,Zt=(Ne=Ee.Ea)-(St=Ne&~(_t=(Ye=1<<Ee.b)-1)),Ct=xt(Ne,Ee.b),Mt=Ee.K,Ee=Ee.w+(Ge>>Ee.b)*Ct;Ge<ot;){for(Fn=Mt,bn=Ee,fr=new un,Ln=it+St,Rr=it+Ne;it<Ln;)cn(Fn[bn++],fr),q(fr,rt,it,Ye,be,ve),it+=Ye,ve+=Ye;it<Rr&&(cn(Fn[bn++],fr),q(fr,rt,it,Zt,be,ve),it+=Zt,ve+=Zt),++Ge&_t||(Ee+=Ct)}break;case 3:if(Ne==be&&Ye==ve&&0<Ee.b){for(it=be,Ne=rt=ve+(ot-Ge)*rt-(St=(ot-Ge)*xt(Ee.Ea,Ee.b)),Ye=be,_t=ve,Ct=[],St=(Zt=St)-1;0<=St;--St)Ct[St]=Ye[_t+St];for(St=Zt-1;0<=St;--St)it[Ne+St]=Ct[St];ka(Ee,Ge,ot,be,rt,be,ve)}else ka(Ee,Ge,ot,Ne,Ye,be,ve)}ve=R,be=T}be!=T&&r(R,T,ve,be,de)}function Kn(v,B){var T=v.V,R=v.Ba+v.c*v.C,ne=B-v.C;if(t(B<=v.l.o),t(16>=ne),0<ne){var de=v.l,fe=v.Ta,ve=v.Ua,be=de.width;if(ur(v,ne,T,R),ne=ve=[ve],t((T=v.C)<(R=B)),t(de.v<de.va),R>de.o&&(R=de.o),T<de.j){var Ee=de.j-T;T=de.j,ne[0]+=Ee*be}if(T>=R?T=0:(ne[0]+=4*de.v,de.ka=T-de.j,de.U=de.va-de.v,de.T=R-T,T=1),T){if(ve=ve[0],11>(T=v.ca).S){var Ge=T.f.RGBA,ot=(R=T.S,ne=de.U,de=de.T,Ee=Ge.eb,Ge.A),Ne=de;for(Ge=Ge.fb+v.Ma*Ge.A;0<Ne--;){var Ye=fe,rt=ve,Ct=ne,it=Ee,_t=Ge;switch(R){case KA:J(Ye,rt,Ct,it,_t);break;case Xa:Ae(Ye,rt,Ct,it,_t);break;case Vl:Ae(Ye,rt,Ct,it,_t),Sn(it,_t,0,Ct,1,0);break;case xA:Ke(Ye,rt,Ct,it,_t);break;case Js:Ht(Ye,rt,Ct,it,_t,1);break;case bA:Ht(Ye,rt,Ct,it,_t,1),Sn(it,_t,0,Ct,1,0);break;case Gl:Ht(Ye,rt,Ct,it,_t,0);break;case Zl:Ht(Ye,rt,Ct,it,_t,0),Sn(it,_t,1,Ct,1,0);break;case Cl:we(Ye,rt,Ct,it,_t);break;case A:we(Ye,rt,Ct,it,_t),hr(it,_t,Ct,1,0);break;case ul:Ue(Ye,rt,Ct,it,_t);break;default:t(0)}ve+=be,Ge+=ot}v.Ma+=de}else alert("todo:EmitRescaledRowsYUVA");t(v.Ma<=T.height)}}v.C=B,t(v.C<=v.i)}function Wn(v){var B;if(0<v.ua)return 0;for(B=0;B<v.Wb;++B){var T=v.Ya[B].G,R=v.Ya[B].H;if(0<T[1][R[1]+0].g||0<T[2][R[2]+0].g||0<T[3][R[3]+0].g)return 0}return 1}function Ar(v,B,T,R,ne,de){if(v.Z!=0){var fe=v.qd,ve=v.rd;for(t(gi[v.Z]!=null);B<T;++B)gi[v.Z](fe,ve,R,ne,R,ne,de),fe=R,ve=ne,ne+=de;v.qd=fe,v.rd=ve}}function Jr(v,B){var T=v.l.ma,R=T.Z==0||T.Z==1?v.l.j:v.C;if(R=v.C<R?R:v.C,t(B<=v.l.o),B>R){var ne=v.l.width,de=T.ca,fe=T.tb+ne*R,ve=v.V,be=v.Ba+v.c*R,Ee=v.gc;t(v.ab==1),t(Ee[0].hc==3),b(Ee[0],R,B,ve,be,de,fe),Ar(T,R,B,de,fe,ne)}v.C=v.Ma=B}function kr(v,B,T,R,ne,de,fe){var ve=v.$/R,be=v.$%R,Ee=v.m,Ge=v.s,ot=T+v.$,Ne=ot;ne=T+R*ne;var Ye=T+R*de,rt=280+Ge.ua,Ct=v.Pb?ve:16777216,it=0<Ge.ua?Ge.Wa:null,_t=Ge.wc,St=ot<Ye?gn(Ge,be,ve):null;t(v.C<de),t(Ye<=ne);var Zt=!1;e:for(;;){for(;Zt||ot<Ye;){var Mt=0;if(ve>=Ct){var Fn=ot-T;t((Ct=v).Pb),Ct.wd=Ct.m,Ct.xd=Fn,0<Ct.s.ua&&Ot(Ct.s.Wa,Ct.s.vb),Ct=ve+ut}if(be&_t||(St=gn(Ge,be,ve)),t(St!=null),St.Qb&&(B[ot]=St.qb,Zt=!0),!Zt)if(je(Ee),St.jc){Mt=Ee,Fn=B;var bn=ot,fr=St.pd[O(Mt)&Hr-1];t(St.jc),256>fr.g?(ue(Mt,Mt.u+fr.g),Fn[bn]=fr.value,Mt=0):(ue(Mt,Mt.u+fr.g-256),t(256<=fr.value),Mt=fr.value),Mt==0&&(Zt=!0)}else Mt=ze(St.G[0],St.H[0],Ee);if(Ee.h)break;if(Zt||256>Mt){if(!Zt)if(St.nd)B[ot]=(St.qb|Mt<<8)>>>0;else{if(je(Ee),Zt=ze(St.G[1],St.H[1],Ee),je(Ee),Fn=ze(St.G[2],St.H[2],Ee),bn=ze(St.G[3],St.H[3],Ee),Ee.h)break;B[ot]=(bn<<24|Zt<<16|Mt<<8|Fn)>>>0}if(Zt=!1,++ot,++be>=R&&(be=0,++ve,fe!=null&&ve<=de&&!(ve%16)&&fe(v,ve),it!=null))for(;Ne<ot;)Mt=B[Ne++],it.X[(506832829*Mt&4294967295)>>>it.Mb]=Mt}else if(280>Mt){if(Mt=Xn(Mt-256,Ee),Fn=ze(St.G[4],St.H[4],Ee),je(Ee),Fn=Oi(R,Fn=Xn(Fn,Ee)),Ee.h)break;if(ot-T<Fn||ne-ot<Mt)break e;for(bn=0;bn<Mt;++bn)B[ot+bn]=B[ot+bn-Fn];for(ot+=Mt,be+=Mt;be>=R;)be-=R,++ve,fe!=null&&ve<=de&&!(ve%16)&&fe(v,ve);if(t(ot<=ne),be&_t&&(St=gn(Ge,be,ve)),it!=null)for(;Ne<ot;)Mt=B[Ne++],it.X[(506832829*Mt&4294967295)>>>it.Mb]=Mt}else{if(!(Mt<rt))break e;for(Zt=Mt-280,t(it!=null);Ne<ot;)Mt=B[Ne++],it.X[(506832829*Mt&4294967295)>>>it.Mb]=Mt;Mt=ot,t(!(Zt>>>(Fn=it).Xa)),B[Mt]=Fn.X[Zt],Zt=!0}Zt||t(Ee.h==ae(Ee))}if(v.Pb&&Ee.h&&ot<ne)t(v.m.h),v.a=5,v.m=v.wd,v.$=v.xd,0<v.s.ua&&Ot(v.s.vb,v.s.Wa);else{if(Ee.h)break e;fe!=null&&fe(v,ve>de?de:ve),v.a=0,v.$=ot-T}return 1}return v.a=3,0}function Yr(v){t(v!=null),v.vc=null,v.yc=null,v.Ya=null;var B=v.Wa;B!=null&&(B.X=null),v.vb=null,t(v!=null)}function Wr(){var v=new Gn;return v==null?null:(v.a=0,v.xb=GA,Qn("Predictor","VP8LPredictors"),Qn("Predictor","VP8LPredictors_C"),Qn("PredictorAdd","VP8LPredictorsAdd"),Qn("PredictorAdd","VP8LPredictorsAdd_C"),pi=Tn,q=mn,J=Fe,Ae=yt,we=jt,Ue=dt,Ke=Rt,M.VP8LMapColor32b=Xs,M.VP8LMapColor8b=C,v)}function bi(v,B,T,R,ne){var de=1,fe=[v],ve=[B],be=R.m,Ee=R.s,Ge=null,ot=0;e:for(;;){if(T)for(;de&&te(be,1);){var Ne=fe,Ye=ve,rt=R,Ct=1,it=rt.m,_t=rt.gc[rt.ab],St=te(it,2);if(rt.Oc&1<<St)de=0;else{switch(rt.Oc|=1<<St,_t.hc=St,_t.Ea=Ne[0],_t.nc=Ye[0],_t.K=[null],++rt.ab,t(4>=rt.ab),St){case 0:case 1:_t.b=te(it,3)+2,Ct=bi(xt(_t.Ea,_t.b),xt(_t.nc,_t.b),0,rt,_t.K),_t.K=_t.K[0];break;case 3:var Zt,Mt=te(it,8)+1,Fn=16<Mt?0:4<Mt?1:2<Mt?2:3;if(Ne[0]=xt(_t.Ea,Fn),_t.b=Fn,Zt=Ct=bi(Mt,1,0,rt,_t.K)){var bn,fr=Mt,Ln=_t,Rr=1<<(8>>Ln.b),Zi=s(Rr);if(Zi==null)Zt=0;else{var yr=Ln.K[0],yn=Ln.w;for(Zi[0]=Ln.K[0][0],bn=1;bn<1*fr;++bn)Zi[bn]=nn(yr[yn+bn],Zi[bn-1]);for(;bn<4*Rr;++bn)Zi[bn]=0;Ln.K[0]=null,Ln.K[0]=Zi,Zt=1}}Ct=Zt;break;case 2:break;default:t(0)}de=Ct}}if(fe=fe[0],ve=ve[0],de&&te(be,1)&&!(de=1<=(ot=te(be,4))&&11>=ot)){R.a=3;break e}var ln;if(ln=de)t:{var la,rr,Nr,yi=R,Wa=fe,Ns=ve,Di=ot,Ia=T,Qs=yi.m,Ta=yi.s,Fr=[null],ai=1,Aa=0,Ai=et[Di];n:for(;;){if(Ia&&te(Qs,1)){var es=te(Qs,3)+2,ca=xt(Wa,es),si=xt(Ns,es),Na=ca*si;if(!bi(ca,si,0,yi,Fr))break n;for(Fr=Fr[0],Ta.xc=es,la=0;la<Na;++la){var _i=Fr[la]>>8&65535;Fr[la]=_i,_i>=ai&&(ai=_i+1)}}if(Qs.h)break n;for(rr=0;5>rr;++rr){var Fa=U[rr];!rr&&0<Di&&(Fa+=1<<Di),Aa<Fa&&(Aa=Fa)}var Oa=c(ai*Ai,oe),ji=ai,Xr=c(ji,ye);if(Xr==null)var Ds=null;else t(65536>=ji),Ds=Xr;var pa=s(Aa);if(Ds==null||pa==null||Oa==null){yi.a=1;break n}var Vn=Oa;for(la=Nr=0;la<ai;++la){var Zn=Ds[la],oi=Zn.G,fo=Zn.H,Do=0,eo=1,Qa=0;for(rr=0;5>rr;++rr){Fa=U[rr],oi[rr]=Vn,fo[rr]=Nr,!rr&&0<Di&&(Fa+=1<<Di);i:{var eA,tA=Fa,hu=yi,Mi=pa,Ed=Vn,Sd=Nr,fu=0,El=hu.m,gg=te(El,1);if(i(Mi,0,0,tA),gg){var Ld=te(El,1)+1,jd=te(El,1),pu=te(El,jd==0?1:8);Mi[pu]=1,Ld==2&&(Mi[pu=te(El,8)]=1);var hs=1}else{var ma=s(19),Ic=te(El,4)+4;if(19<Ic){hu.a=3;var nA=0;break i}for(eA=0;eA<Ic;++eA)ma[he[eA]]=te(El,3);var $A=void 0,_A=void 0,hl=hu,mu=ma,YA=tA,gu=Mi,vu=0,Sl=hl.m,kd=8,Ud=c(128,oe);r:for(;W(Ud,0,7,mu,19);){if(te(Sl,1)){var mf=2+2*te(Sl,3);if(($A=2+te(Sl,mf))>YA)break r}else $A=YA;for(_A=0;_A<YA&&$A--;){je(Sl);var Id=Ud[0+(127&O(Sl))];ue(Sl,Sl.u+Id.g);var rA=Id.value;if(16>rA)gu[_A++]=rA,rA!=0&&(kd=rA);else{var gf=rA==16,vf=rA-16,xf=y[vf],Td=te(Sl,p[vf])+xf;if(_A+Td>YA)break r;for(var bf=gf?kd:0;0<Td--;)gu[_A++]=bf}}vu=1;break r}vu||(hl.a=3),hs=vu}(hs=hs&&!El.h)&&(fu=W(Ed,Sd,8,Mi,tA)),hs&&fu!=0?nA=fu:(hu.a=3,nA=0)}if(nA==0)break n;if(eo&&H[rr]==1&&(eo=Vn[Nr].g==0),Do+=Vn[Nr].g,Nr+=nA,3>=rr){var wA,xu=pa[0];for(wA=1;wA<Fa;++wA)pa[wA]>xu&&(xu=pa[wA]);Qa+=xu}}if(Zn.nd=eo,Zn.Qb=0,eo&&(Zn.qb=(oi[3][fo[3]+0].value<<24|oi[1][fo[1]+0].value<<16|oi[2][fo[2]+0].value)>>>0,Do==0&&256>oi[0][fo[0]+0].value&&(Zn.Qb=1,Zn.qb+=oi[0][fo[0]+0].value<<8)),Zn.jc=!Zn.Qb&&6>Qa,Zn.jc){var Tc,fl=Zn;for(Tc=0;Tc<Hr;++Tc){var Ll=Tc,jl=fl.pd[Ll],bu=fl.G[0][fl.H[0]+Ll];256<=bu.value?(jl.g=bu.g+256,jl.value=bu.value):(jl.g=0,jl.value=0,Ll>>=st(bu,8,jl),Ll>>=st(fl.G[1][fl.H[1]+Ll],16,jl),Ll>>=st(fl.G[2][fl.H[2]+Ll],0,jl),st(fl.G[3][fl.H[3]+Ll],24,jl))}}}Ta.vc=Fr,Ta.Wb=ai,Ta.Ya=Ds,Ta.yc=Oa,ln=1;break t}ln=0}if(!(de=ln)){R.a=3;break e}if(0<ot){if(Ee.ua=1<<ot,!xe(Ee.Wa,ot)){R.a=1,de=0;break e}}else Ee.ua=0;var yu=R,BA=fe,yf=ve,XA=yu.s,JA=XA.xc;if(yu.c=BA,yu.i=yf,XA.md=xt(BA,JA),XA.wc=JA==0?-1:(1<<JA)-1,T){R.xb=dl;break e}if((Ge=s(fe*ve))==null){R.a=1,de=0;break e}de=(de=kr(R,Ge,0,fe,ve,ve,null))&&!be.h;break e}return de?(ne!=null?ne[0]=Ge:(t(Ge==null),t(T)),R.$=0,T||Yr(Ee)):Yr(Ee),de}function Jn(v,B){var T=v.c*v.i,R=T+B+16*B;return t(v.c<=B),v.V=s(R),v.V==null?(v.Ta=null,v.Ua=0,v.a=1,0):(v.Ta=v.V,v.Ua=v.Ba+T+B,1)}function ba(v,B){var T=v.C,R=B-T,ne=v.V,de=v.Ba+v.c*T;for(t(B<=v.l.o);0<R;){var fe=16<R?16:R,ve=v.l.ma,be=v.l.width,Ee=be*fe,Ge=ve.ca,ot=ve.tb+be*T,Ne=v.Ta,Ye=v.Ua;ur(v,fe,ne,de),br(Ne,Ye,Ge,ot,Ee),Ar(ve,T,T+fe,Ge,ot,be),R-=fe,ne+=fe*v.c,T+=fe}t(T==B),v.C=v.Ma=B}function gr(){this.ub=this.yd=this.td=this.Rb=0}function Bi(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function le(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Lt(){this.Yb=(function(){var v=[];return(function B(T,R,ne){for(var de=ne[R],fe=0;fe<de&&(T.push(ne.length>R+1?[]:0),!(ne.length<R+1));fe++)B(T[fe],R+1,ne)})(v,0,[3,11]),v})()}function Qt(){this.jb=s(3),this.Wc=d([4,8],Lt),this.Xc=d([4,17],Lt)}function Et(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function sn(){this.ld=this.La=this.dd=this.tc=0}function Bn(){this.Na=this.la=0}function ke(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function gt(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function tn(){this.uc=this.M=this.Nb=0,this.wa=Array(new sn),this.Y=0,this.ya=Array(new gt),this.aa=0,this.l=new Pt}function Yt(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Xt(){this.cb=this.a=0,this.sc="",this.m=new P,this.Od=new gr,this.Kc=new Bi,this.ed=new Et,this.Qa=new le,this.Ic=this.$c=this.Aa=0,this.D=new tn,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=c(8,P),this.ia=0,this.pb=c(4,ke),this.Pa=new Qt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Yt),this.Hd=0,this.rb=Array(new Bn),this.sb=0,this.wa=Array(new sn),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new gt),this.L=this.aa=0,this.gd=d([4,2],sn),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function kt(v,B){return 0>v?0:v>B?B:v}function Pt(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ir(){var v=new Xt;return v!=null&&(v.a=0,v.sc="OK",v.cb=0,v.Xb=0,Un||(Un=Cn)),v}function Jt(v,B,T){return v.a==0&&(v.a=B,v.sc=T,v.cb=0),0}function Pr(v,B,T){return 3<=T&&v[B+0]==157&&v[B+1]==1&&v[B+2]==42}function Qi(v,B){if(v==null)return 0;if(v.a=0,v.sc="OK",B==null)return Jt(v,2,"null VP8Io passed to VP8GetHeaders()");var T=B.data,R=B.w,ne=B.ha;if(4>ne)return Jt(v,7,"Truncated header.");var de=T[R+0]|T[R+1]<<8|T[R+2]<<16,fe=v.Od;if(fe.Rb=!(1&de),fe.td=de>>1&7,fe.yd=de>>4&1,fe.ub=de>>5,3<fe.td)return Jt(v,3,"Incorrect keyframe parameters.");if(!fe.yd)return Jt(v,4,"Frame not displayable.");R+=3,ne-=3;var ve=v.Kc;if(fe.Rb){if(7>ne)return Jt(v,7,"cannot parse picture header");if(!Pr(T,R,ne))return Jt(v,3,"Bad code word");ve.c=16383&(T[R+4]<<8|T[R+3]),ve.Td=T[R+4]>>6,ve.i=16383&(T[R+6]<<8|T[R+5]),ve.Ud=T[R+6]>>6,R+=7,ne-=7,v.za=ve.c+15>>4,v.Ub=ve.i+15>>4,B.width=ve.c,B.height=ve.i,B.Da=0,B.j=0,B.v=0,B.va=B.width,B.o=B.height,B.da=0,B.ib=B.width,B.hb=B.height,B.U=B.width,B.T=B.height,i((de=v.Pa).jb,0,255,de.jb.length),t((de=v.Qa)!=null),de.Cb=0,de.Bb=0,de.Fb=1,i(de.Zb,0,0,de.Zb.length),i(de.Lb,0,0,de.Lb)}if(fe.ub>ne)return Jt(v,7,"bad partition length");se(de=v.m,T,R,fe.ub),R+=fe.ub,ne-=fe.ub,fe.Rb&&(ve.Ld=Ie(de),ve.Kd=Ie(de)),ve=v.Qa;var be,Ee=v.Pa;if(t(de!=null),t(ve!=null),ve.Cb=Ie(de),ve.Cb){if(ve.Bb=Ie(de),Ie(de)){for(ve.Fb=Ie(de),be=0;4>be;++be)ve.Zb[be]=Ie(de)?Z(de,7):0;for(be=0;4>be;++be)ve.Lb[be]=Ie(de)?Z(de,6):0}if(ve.Bb)for(be=0;3>be;++be)Ee.jb[be]=Ie(de)?_e(de,8):255}else ve.Bb=0;if(de.Ka)return Jt(v,3,"cannot parse segment header");if((ve=v.ed).zd=Ie(de),ve.Tb=_e(de,6),ve.wb=_e(de,3),ve.Pc=Ie(de),ve.Pc&&Ie(de)){for(Ee=0;4>Ee;++Ee)Ie(de)&&(ve.vd[Ee]=Z(de,6));for(Ee=0;4>Ee;++Ee)Ie(de)&&(ve.od[Ee]=Z(de,6))}if(v.L=ve.Tb==0?0:ve.zd?1:2,de.Ka)return Jt(v,3,"cannot parse filter header");var Ge=ne;if(ne=be=R,R=be+Ge,ve=Ge,v.Xb=(1<<_e(v.m,2))-1,Ge<3*(Ee=v.Xb))T=7;else{for(be+=3*Ee,ve-=3*Ee,Ge=0;Ge<Ee;++Ge){var ot=T[ne+0]|T[ne+1]<<8|T[ne+2]<<16;ot>ve&&(ot=ve),se(v.Jc[+Ge],T,be,ot),be+=ot,ve-=ot,ne+=3}se(v.Jc[+Ee],T,be,ve),T=be<R?0:5}if(T!=0)return Jt(v,T,"cannot parse partitions");for(T=_e(be=v.m,7),ne=Ie(be)?Z(be,4):0,R=Ie(be)?Z(be,4):0,ve=Ie(be)?Z(be,4):0,Ee=Ie(be)?Z(be,4):0,be=Ie(be)?Z(be,4):0,Ge=v.Qa,ot=0;4>ot;++ot){if(Ge.Cb){var Ne=Ge.Zb[ot];Ge.Fb||(Ne+=T)}else{if(0<ot){v.pb[ot]=v.pb[0];continue}Ne=T}var Ye=v.pb[ot];Ye.Sc[0]=Ut[kt(Ne+ne,127)],Ye.Sc[1]=an[kt(Ne+0,127)],Ye.Eb[0]=2*Ut[kt(Ne+R,127)],Ye.Eb[1]=101581*an[kt(Ne+ve,127)]>>16,8>Ye.Eb[1]&&(Ye.Eb[1]=8),Ye.Qc[0]=Ut[kt(Ne+Ee,117)],Ye.Qc[1]=an[kt(Ne+be,127)],Ye.lc=Ne+be}if(!fe.Rb)return Jt(v,4,"Not a key frame.");for(Ie(de),fe=v.Pa,T=0;4>T;++T){for(ne=0;8>ne;++ne)for(R=0;3>R;++R)for(ve=0;11>ve;++ve)Ee=lt(de,ii[T][ne][R][ve])?_e(de,8):Ws[T][ne][R][ve],fe.Wc[T][ne].Yb[R][ve]=Ee;for(ne=0;17>ne;++ne)fe.Xc[T][ne]=fe.Wc[T][Qr[ne]]}return v.kc=Ie(de),v.kc&&(v.Bd=_e(de,8)),v.cb=1}function Cn(v,B,T,R,ne,de,fe){var ve=B[ne].Yb[T];for(T=0;16>ne;++ne){if(!lt(v,ve[T+0]))return ne;for(;!lt(v,ve[T+1]);)if(ve=B[++ne].Yb[0],T=0,ne==16)return 16;var be=B[ne+1].Yb;if(lt(v,ve[T+2])){var Ee=v,Ge=0;if(lt(Ee,(Ne=ve)[(ot=T)+3]))if(lt(Ee,Ne[ot+6])){for(ve=0,ot=2*(Ge=lt(Ee,Ne[ot+8]))+(Ne=lt(Ee,Ne[ot+9+Ge])),Ge=0,Ne=Cr[ot];Ne[ve];++ve)Ge+=Ge+lt(Ee,Ne[ve]);Ge+=3+(8<<ot)}else lt(Ee,Ne[ot+7])?(Ge=7+2*lt(Ee,165),Ge+=lt(Ee,145)):Ge=5+lt(Ee,159);else Ge=lt(Ee,Ne[ot+4])?3+lt(Ee,Ne[ot+5]):2;ve=be[2]}else Ge=1,ve=be[1];be=fe+Ja[ne],0>(Ee=v).b&&Ve(Ee);var ot,Ne=Ee.b,Ye=(ot=Ee.Ca>>1)-(Ee.I>>Ne)>>31;--Ee.b,Ee.Ca+=Ye,Ee.Ca|=1,Ee.I-=(ot+1&Ye)<<Ne,de[be]=((Ge^Ye)-Ye)*R[(0<ne)+0]}return 16}function Dn(v){var B=v.rb[v.sb-1];B.la=0,B.Na=0,i(v.zc,0,0,v.zc.length),v.ja=0}function Br(v,B,T,R,ne){ne=v[B+T+32*R]+(ne>>3),v[B+T+32*R]=-256&ne?0>ne?0:255:ne}function vr(v,B,T,R,ne,de){Br(v,B,0,T,R+ne),Br(v,B,1,T,R+de),Br(v,B,2,T,R-de),Br(v,B,3,T,R-ne)}function mr(v){return(20091*v>>16)+v}function xs(v,B,T,R){var ne,de=0,fe=s(16);for(ne=0;4>ne;++ne){var ve=v[B+0]+v[B+8],be=v[B+0]-v[B+8],Ee=(35468*v[B+4]>>16)-mr(v[B+12]),Ge=mr(v[B+4])+(35468*v[B+12]>>16);fe[de+0]=ve+Ge,fe[de+1]=be+Ee,fe[de+2]=be-Ee,fe[de+3]=ve-Ge,de+=4,B++}for(ne=de=0;4>ne;++ne)ve=(v=fe[de+0]+4)+fe[de+8],be=v-fe[de+8],Ee=(35468*fe[de+4]>>16)-mr(fe[de+12]),Br(T,R,0,0,ve+(Ge=mr(fe[de+4])+(35468*fe[de+12]>>16))),Br(T,R,1,0,be+Ee),Br(T,R,2,0,be-Ee),Br(T,R,3,0,ve-Ge),de++,R+=32}function ei(v,B,T,R){var ne=v[B+0]+4,de=35468*v[B+4]>>16,fe=mr(v[B+4]),ve=35468*v[B+1]>>16;vr(T,R,0,ne+fe,v=mr(v[B+1]),ve),vr(T,R,1,ne+de,v,ve),vr(T,R,2,ne-de,v,ve),vr(T,R,3,ne-fe,v,ve)}function ui(v,B,T,R,ne){xs(v,B,T,R),ne&&xs(v,B+16,T,R+4)}function dr(v,B,T,R){Je(v,B+0,T,R,1),Je(v,B+32,T,R+128,1)}function za(v,B,T,R){var ne;for(v=v[B+0]+4,ne=0;4>ne;++ne)for(B=0;4>B;++B)Br(T,R,B,ne,v)}function lo(v,B,T,R){v[B+0]&&Pe(v,B+0,T,R),v[B+16]&&Pe(v,B+16,T,R+4),v[B+32]&&Pe(v,B+32,T,R+128),v[B+48]&&Pe(v,B+48,T,R+128+4)}function er(v,B,T,R){var ne,de=s(16);for(ne=0;4>ne;++ne){var fe=v[B+0+ne]+v[B+12+ne],ve=v[B+4+ne]+v[B+8+ne],be=v[B+4+ne]-v[B+8+ne],Ee=v[B+0+ne]-v[B+12+ne];de[0+ne]=fe+ve,de[8+ne]=fe-ve,de[4+ne]=Ee+be,de[12+ne]=Ee-be}for(ne=0;4>ne;++ne)fe=(v=de[0+4*ne]+3)+de[3+4*ne],ve=de[1+4*ne]+de[2+4*ne],be=de[1+4*ne]-de[2+4*ne],Ee=v-de[3+4*ne],T[R+0]=fe+ve>>3,T[R+16]=Ee+be>>3,T[R+32]=fe-ve>>3,T[R+48]=Ee-be>>3,R+=64}function qs(v,B,T){var R,ne=B-32,de=sa,fe=255-v[ne-1];for(R=0;R<T;++R){var ve,be=de,Ee=fe+v[B-1];for(ve=0;ve<T;++ve)v[B+ve]=be[Ee+v[ne+ve]];B+=32}}function Uo(v,B){qs(v,B,4)}function ll(v,B){qs(v,B,8)}function ra(v,B){qs(v,B,16)}function bs(v,B){var T;for(T=0;16>T;++T)r(v,B+32*T,v,B-32,16)}function Bo(v,B){var T;for(T=16;0<T;--T)i(v,B,v[B-1],16),B+=32}function Ei(v,B,T){var R;for(R=0;16>R;++R)i(B,T+32*R,v,16)}function qa(v,B){var T,R=16;for(T=0;16>T;++T)R+=v[B-1+32*T]+v[B+T-32];Ei(R>>5,v,B)}function Ks(v,B){var T,R=8;for(T=0;16>T;++T)R+=v[B-1+32*T];Ei(R>>4,v,B)}function di(v,B){var T,R=8;for(T=0;16>T;++T)R+=v[B+T-32];Ei(R>>4,v,B)}function ya(v,B){Ei(128,v,B)}function Kt(v,B,T){return v+2*B+T+2>>2}function _a(v,B){var T,R=B-32;for(R=new Uint8Array([Kt(v[R-1],v[R+0],v[R+1]),Kt(v[R+0],v[R+1],v[R+2]),Kt(v[R+1],v[R+2],v[R+3]),Kt(v[R+2],v[R+3],v[R+4])]),T=0;4>T;++T)r(v,B+32*T,R,0,R.length)}function Mr(v,B){var T=v[B-1],R=v[B-1+32],ne=v[B-1+64],de=v[B-1+96];wt(v,B+0,16843009*Kt(v[B-1-32],T,R)),wt(v,B+32,16843009*Kt(T,R,ne)),wt(v,B+64,16843009*Kt(R,ne,de)),wt(v,B+96,16843009*Kt(ne,de,de))}function js(v,B){var T,R=4;for(T=0;4>T;++T)R+=v[B+T-32]+v[B-1+32*T];for(R>>=3,T=0;4>T;++T)i(v,B+32*T,R,4)}function Ka(v,B){var T=v[B-1+0],R=v[B-1+32],ne=v[B-1+64],de=v[B-1-32],fe=v[B+0-32],ve=v[B+1-32],be=v[B+2-32],Ee=v[B+3-32];v[B+0+96]=Kt(R,ne,v[B-1+96]),v[B+1+96]=v[B+0+64]=Kt(T,R,ne),v[B+2+96]=v[B+1+64]=v[B+0+32]=Kt(de,T,R),v[B+3+96]=v[B+2+64]=v[B+1+32]=v[B+0+0]=Kt(fe,de,T),v[B+3+64]=v[B+2+32]=v[B+1+0]=Kt(ve,fe,de),v[B+3+32]=v[B+2+0]=Kt(be,ve,fe),v[B+3+0]=Kt(Ee,be,ve)}function ti(v,B){var T=v[B+1-32],R=v[B+2-32],ne=v[B+3-32],de=v[B+4-32],fe=v[B+5-32],ve=v[B+6-32],be=v[B+7-32];v[B+0+0]=Kt(v[B+0-32],T,R),v[B+1+0]=v[B+0+32]=Kt(T,R,ne),v[B+2+0]=v[B+1+32]=v[B+0+64]=Kt(R,ne,de),v[B+3+0]=v[B+2+32]=v[B+1+64]=v[B+0+96]=Kt(ne,de,fe),v[B+3+32]=v[B+2+64]=v[B+1+96]=Kt(de,fe,ve),v[B+3+64]=v[B+2+96]=Kt(fe,ve,be),v[B+3+96]=Kt(ve,be,be)}function Co(v,B){var T=v[B-1+0],R=v[B-1+32],ne=v[B-1+64],de=v[B-1-32],fe=v[B+0-32],ve=v[B+1-32],be=v[B+2-32],Ee=v[B+3-32];v[B+0+0]=v[B+1+64]=de+fe+1>>1,v[B+1+0]=v[B+2+64]=fe+ve+1>>1,v[B+2+0]=v[B+3+64]=ve+be+1>>1,v[B+3+0]=be+Ee+1>>1,v[B+0+96]=Kt(ne,R,T),v[B+0+64]=Kt(R,T,de),v[B+0+32]=v[B+1+96]=Kt(T,de,fe),v[B+1+32]=v[B+2+96]=Kt(de,fe,ve),v[B+2+32]=v[B+3+96]=Kt(fe,ve,be),v[B+3+32]=Kt(ve,be,Ee)}function os(v,B){var T=v[B+0-32],R=v[B+1-32],ne=v[B+2-32],de=v[B+3-32],fe=v[B+4-32],ve=v[B+5-32],be=v[B+6-32],Ee=v[B+7-32];v[B+0+0]=T+R+1>>1,v[B+1+0]=v[B+0+64]=R+ne+1>>1,v[B+2+0]=v[B+1+64]=ne+de+1>>1,v[B+3+0]=v[B+2+64]=de+fe+1>>1,v[B+0+32]=Kt(T,R,ne),v[B+1+32]=v[B+0+96]=Kt(R,ne,de),v[B+2+32]=v[B+1+96]=Kt(ne,de,fe),v[B+3+32]=v[B+2+96]=Kt(de,fe,ve),v[B+3+64]=Kt(fe,ve,be),v[B+3+96]=Kt(ve,be,Ee)}function wa(v,B){var T=v[B-1+0],R=v[B-1+32],ne=v[B-1+64],de=v[B-1+96];v[B+0+0]=T+R+1>>1,v[B+2+0]=v[B+0+32]=R+ne+1>>1,v[B+2+32]=v[B+0+64]=ne+de+1>>1,v[B+1+0]=Kt(T,R,ne),v[B+3+0]=v[B+1+32]=Kt(R,ne,de),v[B+3+32]=v[B+1+64]=Kt(ne,de,de),v[B+3+64]=v[B+2+64]=v[B+0+96]=v[B+1+96]=v[B+2+96]=v[B+3+96]=de}function Ga(v,B){var T=v[B-1+0],R=v[B-1+32],ne=v[B-1+64],de=v[B-1+96],fe=v[B-1-32],ve=v[B+0-32],be=v[B+1-32],Ee=v[B+2-32];v[B+0+0]=v[B+2+32]=T+fe+1>>1,v[B+0+32]=v[B+2+64]=R+T+1>>1,v[B+0+64]=v[B+2+96]=ne+R+1>>1,v[B+0+96]=de+ne+1>>1,v[B+3+0]=Kt(ve,be,Ee),v[B+2+0]=Kt(fe,ve,be),v[B+1+0]=v[B+3+32]=Kt(T,fe,ve),v[B+1+32]=v[B+3+64]=Kt(R,T,fe),v[B+1+64]=v[B+3+96]=Kt(ne,R,T),v[B+1+96]=Kt(de,ne,R)}function ni(v,B){var T;for(T=0;8>T;++T)r(v,B+32*T,v,B-32,8)}function Gs(v,B){var T;for(T=0;8>T;++T)i(v,B,v[B-1],8),B+=32}function ys(v,B,T){var R;for(R=0;8>R;++R)i(B,T+32*R,v,8)}function Vs(v,B){var T,R=8;for(T=0;8>T;++T)R+=v[B+T-32]+v[B-1+32*T];ys(R>>4,v,B)}function Al(v,B){var T,R=4;for(T=0;8>T;++T)R+=v[B+T-32];ys(R>>3,v,B)}function ia(v,B){var T,R=4;for(T=0;8>T;++T)R+=v[B-1+32*T];ys(R>>3,v,B)}function Va(v,B){ys(128,v,B)}function Za(v,B,T){var R=v[B-T],ne=v[B+0],de=3*(ne-R)+mi[1020+v[B-2*T]-v[B+T]],fe=Ya[112+(de+4>>3)];v[B-T]=sa[255+R+Ya[112+(de+3>>3)]],v[B+0]=sa[255+ne-fe]}function ks(v,B,T,R){var ne=v[B+0],de=v[B+T];return Ua[255+v[B-2*T]-v[B-T]]>R||Ua[255+de-ne]>R}function xr(v,B,T,R){return 4*Ua[255+v[B-T]-v[B+0]]+Ua[255+v[B-2*T]-v[B+T]]<=R}function $o(v,B,T,R,ne){var de=v[B-3*T],fe=v[B-2*T],ve=v[B-T],be=v[B+0],Ee=v[B+T],Ge=v[B+2*T],ot=v[B+3*T];return 4*Ua[255+ve-be]+Ua[255+fe-Ee]>R?0:Ua[255+v[B-4*T]-de]<=ne&&Ua[255+de-fe]<=ne&&Ua[255+fe-ve]<=ne&&Ua[255+ot-Ge]<=ne&&Ua[255+Ge-Ee]<=ne&&Ua[255+Ee-be]<=ne}function aa(v,B,T,R){var ne=2*R+1;for(R=0;16>R;++R)xr(v,B+R,T,ne)&&Za(v,B+R,T)}function $a(v,B,T,R){var ne=2*R+1;for(R=0;16>R;++R)xr(v,B+R*T,1,ne)&&Za(v,B+R*T,1)}function Ao(v,B,T,R){var ne;for(ne=3;0<ne;--ne)aa(v,B+=4*T,T,R)}function cl(v,B,T,R){var ne;for(ne=3;0<ne;--ne)$a(v,B+=4,T,R)}function ls(v,B,T,R,ne,de,fe,ve){for(de=2*de+1;0<ne--;){if($o(v,B,T,de,fe))if(ks(v,B,T,ve))Za(v,B,T);else{var be=v,Ee=B,Ge=T,ot=be[Ee-2*Ge],Ne=be[Ee-Ge],Ye=be[Ee+0],rt=be[Ee+Ge],Ct=be[Ee+2*Ge],it=27*(St=mi[1020+3*(Ye-Ne)+mi[1020+ot-rt]])+63>>7,_t=18*St+63>>7,St=9*St+63>>7;be[Ee-3*Ge]=sa[255+be[Ee-3*Ge]+St],be[Ee-2*Ge]=sa[255+ot+_t],be[Ee-Ge]=sa[255+Ne+it],be[Ee+0]=sa[255+Ye-it],be[Ee+Ge]=sa[255+rt-_t],be[Ee+2*Ge]=sa[255+Ct-St]}B+=R}}function Us(v,B,T,R,ne,de,fe,ve){for(de=2*de+1;0<ne--;){if($o(v,B,T,de,fe))if(ks(v,B,T,ve))Za(v,B,T);else{var be=v,Ee=B,Ge=T,ot=be[Ee-Ge],Ne=be[Ee+0],Ye=be[Ee+Ge],rt=Ya[112+(4+(Ct=3*(Ne-ot))>>3)],Ct=Ya[112+(Ct+3>>3)],it=rt+1>>1;be[Ee-2*Ge]=sa[255+be[Ee-2*Ge]+it],be[Ee-Ge]=sa[255+ot+Ct],be[Ee+0]=sa[255+Ne-rt],be[Ee+Ge]=sa[255+Ye-it]}B+=R}}function Io(v,B,T,R,ne,de){ls(v,B,T,1,16,R,ne,de)}function co(v,B,T,R,ne,de){ls(v,B,1,T,16,R,ne,de)}function Kl(v,B,T,R,ne,de){var fe;for(fe=3;0<fe;--fe)Us(v,B+=4*T,T,1,16,R,ne,de)}function k(v,B,T,R,ne,de){var fe;for(fe=3;0<fe;--fe)Us(v,B+=4,1,T,16,R,ne,de)}function ee(v,B,T,R,ne,de,fe,ve){ls(v,B,ne,1,8,de,fe,ve),ls(T,R,ne,1,8,de,fe,ve)}function Be(v,B,T,R,ne,de,fe,ve){ls(v,B,1,ne,8,de,fe,ve),ls(T,R,1,ne,8,de,fe,ve)}function De(v,B,T,R,ne,de,fe,ve){Us(v,B+4*ne,ne,1,8,de,fe,ve),Us(T,R+4*ne,ne,1,8,de,fe,ve)}function We(v,B,T,R,ne,de,fe,ve){Us(v,B+4,1,ne,8,de,fe,ve),Us(T,R+4,1,ne,8,de,fe,ve)}function ft(){this.ba=new Hn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new cr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ft(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function pn(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function xn(){this.ua=0,this.Wa=new rn,this.vb=new rn,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ye,this.yc=new oe}function Gn(){this.xb=this.a=0,this.l=new Pt,this.ca=new Hn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new ie,this.Pb=0,this.wd=new ie,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new xn,this.ab=0,this.gc=c(4,pn),this.Oc=0}function sr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Pt,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Ur(v,B,T,R,ne,de,fe){for(v=v==null?0:v[B+0],B=0;B<fe;++B)ne[de+B]=v+T[R+B]&255,v=ne[de+B]}function hi(v,B,T,R,ne,de,fe){var ve;if(v==null)Ur(null,null,T,R,ne,de,fe);else for(ve=0;ve<fe;++ve)ne[de+ve]=v[B+ve]+T[R+ve]&255}function Si(v,B,T,R,ne,de,fe){if(v==null)Ur(null,null,T,R,ne,de,fe);else{var ve,be=v[B+0],Ee=be,Ge=be;for(ve=0;ve<fe;++ve)Ee=Ge+(be=v[B+ve])-Ee,Ge=T[R+ve]+(-256&Ee?0>Ee?0:255:Ee)&255,Ee=be,ne[de+ve]=Ge}}function Tr(v,B,T,R){var ne=B.width,de=B.o;if(t(v!=null&&B!=null),0>T||0>=R||T+R>de)return null;if(!v.Cc){if(v.ga==null){var fe;if(v.ga=new sr,(fe=v.ga==null)||(fe=B.width*B.o,t(v.Gb.length==0),v.Gb=s(fe),v.Uc=0,v.Gb==null?fe=0:(v.mb=v.Gb,v.nb=v.Uc,v.rc=null,fe=1),fe=!fe),!fe){fe=v.ga;var ve=v.Fa,be=v.P,Ee=v.qc,Ge=v.mb,ot=v.nb,Ne=be+1,Ye=Ee-1,rt=fe.l;if(t(ve!=null&&Ge!=null&&B!=null),gi[0]=null,gi[1]=Ur,gi[2]=hi,gi[3]=Si,fe.ca=Ge,fe.tb=ot,fe.c=B.width,fe.i=B.height,t(0<fe.c&&0<fe.i),1>=Ee)B=0;else if(fe.$a=3&ve[be+0],fe.Z=ve[be+0]>>2&3,fe.Lc=ve[be+0]>>4&3,be=ve[be+0]>>6&3,0>fe.$a||1<fe.$a||4<=fe.Z||1<fe.Lc||be)B=0;else if(rt.put=fn,rt.ac=Kr,rt.bc=Xi,rt.ma=fe,rt.width=B.width,rt.height=B.height,rt.Da=B.Da,rt.v=B.v,rt.va=B.va,rt.j=B.j,rt.o=B.o,fe.$a)e:{t(fe.$a==1),B=Wr();t:for(;;){if(B==null){B=0;break e}if(t(fe!=null),fe.mc=B,B.c=fe.c,B.i=fe.i,B.l=fe.l,B.l.ma=fe,B.l.width=fe.c,B.l.height=fe.i,B.a=0,Ce(B.m,ve,Ne,Ye),!bi(fe.c,fe.i,1,B,null)||(B.ab==1&&B.gc[0].hc==3&&Wn(B.s)?(fe.ic=1,ve=B.c*B.i,B.Ta=null,B.Ua=0,B.V=s(ve),B.Ba=0,B.V==null?(B.a=1,B=0):B=1):(fe.ic=0,B=Jn(B,fe.c)),!B))break t;B=1;break e}fe.mc=null,B=0}else B=Ye>=fe.c*fe.i;fe=!B}if(fe)return null;v.ga.Lc!=1?v.Ga=0:R=de-T}t(v.ga!=null),t(T+R<=de);e:{if(B=(ve=v.ga).c,de=ve.l.o,ve.$a==0){if(Ne=v.rc,Ye=v.Vc,rt=v.Fa,be=v.P+1+T*B,Ee=v.mb,Ge=v.nb+T*B,t(be<=v.P+v.qc),ve.Z!=0)for(t(gi[ve.Z]!=null),fe=0;fe<R;++fe)gi[ve.Z](Ne,Ye,rt,be,Ee,Ge,B),Ne=Ee,Ye=Ge,Ge+=B,be+=B;else for(fe=0;fe<R;++fe)r(Ee,Ge,rt,be,B),Ne=Ee,Ye=Ge,Ge+=B,be+=B;v.rc=Ne,v.Vc=Ye}else{if(t(ve.mc!=null),B=T+R,t((fe=ve.mc)!=null),t(B<=fe.i),fe.C>=B)B=1;else if(ve.ic||ha(),ve.ic){ve=fe.V,Ne=fe.Ba,Ye=fe.c;var Ct=fe.i,it=(rt=1,be=fe.$/Ye,Ee=fe.$%Ye,Ge=fe.m,ot=fe.s,fe.$),_t=Ye*Ct,St=Ye*B,Zt=ot.wc,Mt=it<St?gn(ot,Ee,be):null;t(it<=_t),t(B<=Ct),t(Wn(ot));t:for(;;){for(;!Ge.h&&it<St;){if(Ee&Zt||(Mt=gn(ot,Ee,be)),t(Mt!=null),je(Ge),256>(Ct=ze(Mt.G[0],Mt.H[0],Ge)))ve[Ne+it]=Ct,++it,++Ee>=Ye&&(Ee=0,++be<=B&&!(be%16)&&Jr(fe,be));else{if(!(280>Ct)){rt=0;break t}Ct=Xn(Ct-256,Ge);var Fn,bn=ze(Mt.G[4],Mt.H[4],Ge);if(je(Ge),!(it>=(bn=Oi(Ye,bn=Xn(bn,Ge)))&&_t-it>=Ct)){rt=0;break t}for(Fn=0;Fn<Ct;++Fn)ve[Ne+it+Fn]=ve[Ne+it+Fn-bn];for(it+=Ct,Ee+=Ct;Ee>=Ye;)Ee-=Ye,++be<=B&&!(be%16)&&Jr(fe,be);it<St&&Ee&Zt&&(Mt=gn(ot,Ee,be))}t(Ge.h==ae(Ge))}Jr(fe,be>B?B:be);break t}!rt||Ge.h&&it<_t?(rt=0,fe.a=Ge.h?5:3):fe.$=it,B=rt}else B=kr(fe,fe.V,fe.Ba,fe.c,fe.i,B,ba);if(!B){R=0;break e}}T+R>=de&&(v.Cc=1),R=1}if(!R)return null;if(v.Cc&&((R=v.ga)!=null&&(R.mc=null),v.ga=null,0<v.Ga))return alert("todo:WebPDequantizeLevels"),null}return v.nb+T*ne}function Ki(v,B,T,R,ne,de){for(;0<ne--;){var fe,ve=v,be=B+(T?1:0),Ee=v,Ge=B+(T?0:3);for(fe=0;fe<R;++fe){var ot=Ee[Ge+4*fe];ot!=255&&(ot*=32897,ve[be+4*fe+0]=ve[be+4*fe+0]*ot>>23,ve[be+4*fe+1]=ve[be+4*fe+1]*ot>>23,ve[be+4*fe+2]=ve[be+4*fe+2]*ot>>23)}B+=de}}function Li(v,B,T,R,ne){for(;0<R--;){var de;for(de=0;de<T;++de){var fe=v[B+2*de+0],ve=15&(Ee=v[B+2*de+1]),be=4369*ve,Ee=(240&Ee|Ee>>4)*be>>16;v[B+2*de+0]=(240&fe|fe>>4)*be>>16&240|(15&fe|fe<<4)*be>>16>>4&15,v[B+2*de+1]=240&Ee|ve}B+=ne}}function Gi(v,B,T,R,ne,de,fe,ve){var be,Ee,Ge=255;for(Ee=0;Ee<ne;++Ee){for(be=0;be<R;++be){var ot=v[B+be];de[fe+4*be]=ot,Ge&=ot}B+=T,fe+=ve}return Ge!=255}function As(v,B,T,R,ne){var de;for(de=0;de<ne;++de)T[R+de]=v[B+de]>>8}function ha(){Sn=Ki,hr=Li,tr=Gi,br=As}function No(v,B,T){M[v]=function(R,ne,de,fe,ve,be,Ee,Ge,ot,Ne,Ye,rt,Ct,it,_t,St,Zt){var Mt,Fn=Zt-1>>1,bn=ve[be+0]|Ee[Ge+0]<<16,fr=ot[Ne+0]|Ye[rt+0]<<16;t(R!=null);var Ln=3*bn+fr+131074>>2;for(B(R[ne+0],255&Ln,Ln>>16,Ct,it),de!=null&&(Ln=3*fr+bn+131074>>2,B(de[fe+0],255&Ln,Ln>>16,_t,St)),Mt=1;Mt<=Fn;++Mt){var Rr=ve[be+Mt]|Ee[Ge+Mt]<<16,Zi=ot[Ne+Mt]|Ye[rt+Mt]<<16,yr=bn+Rr+fr+Zi+524296,yn=yr+2*(Rr+fr)>>3;Ln=yn+bn>>1,bn=(yr=yr+2*(bn+Zi)>>3)+Rr>>1,B(R[ne+2*Mt-1],255&Ln,Ln>>16,Ct,it+(2*Mt-1)*T),B(R[ne+2*Mt-0],255&bn,bn>>16,Ct,it+(2*Mt-0)*T),de!=null&&(Ln=yr+fr>>1,bn=yn+Zi>>1,B(de[fe+2*Mt-1],255&Ln,Ln>>16,_t,St+(2*Mt-1)*T),B(de[fe+2*Mt+0],255&bn,bn>>16,_t,St+(2*Mt+0)*T)),bn=Rr,fr=Zi}1&Zt||(Ln=3*bn+fr+131074>>2,B(R[ne+Zt-1],255&Ln,Ln>>16,Ct,it+(Zt-1)*T),de!=null&&(Ln=3*fr+bn+131074>>2,B(de[fe+Zt-1],255&Ln,Ln>>16,_t,St+(Zt-1)*T)))}}function Zs(){fa[KA]=Nl,fa[Xa]=$l,fa[xA]=jc,fa[Js]=Yl,fa[Gl]=Jo,fa[Cl]=Oo,fa[ul]=Xl,fa[Vl]=$l,fa[bA]=Yl,fa[Zl]=Jo,fa[A]=Oo}function Ji(v){return v&-16384?0>v?0:255:v>>cu}function $s(v,B){return Ji((19077*v>>8)+(26149*B>>8)-14234)}function cs(v,B,T){return Ji((19077*v>>8)-(6419*B>>8)-(13320*T>>8)+8708)}function Eo(v,B){return Ji((19077*v>>8)+(33050*B>>8)-17685)}function Ys(v,B,T,R,ne){R[ne+0]=$s(v,T),R[ne+1]=cs(v,B,T),R[ne+2]=Eo(v,B)}function Vi(v,B,T,R,ne){R[ne+0]=Eo(v,B),R[ne+1]=cs(v,B,T),R[ne+2]=$s(v,T)}function To(v,B,T,R,ne){var de=cs(v,B,T);B=de<<3&224|Eo(v,B)>>3,R[ne+0]=248&$s(v,T)|de>>5,R[ne+1]=B}function So(v,B,T,R,ne){var de=240&Eo(v,B)|15;R[ne+0]=240&$s(v,T)|cs(v,B,T)>>4,R[ne+1]=de}function Fo(v,B,T,R,ne){R[ne+0]=255,Ys(v,B,T,R,ne+1)}function uo(v,B,T,R,ne){Vi(v,B,T,R,ne),R[ne+3]=255}function fi(v,B,T,R,ne){Ys(v,B,T,R,ne),R[ne+3]=255}function Sa(v,B,T){M[v]=function(R,ne,de,fe,ve,be,Ee,Ge,ot){for(var Ne=Ge+(-2&ot)*T;Ge!=Ne;)B(R[ne+0],de[fe+0],ve[be+0],Ee,Ge),B(R[ne+1],de[fe+0],ve[be+0],Ee,Ge+T),ne+=2,++fe,++be,Ge+=2*T;1&ot&&B(R[ne+0],de[fe+0],ve[be+0],Ee,Ge)}}function Yo(v,B,T){return T==0?v==0?B==0?6:5:B==0?4:0:T}function us(v,B,T,R,ne){switch(v>>>30){case 3:Je(B,T,R,ne,0);break;case 2:Oe(B,T,R,ne);break;case 1:Pe(B,T,R,ne)}}function _s(v,B){var T,R,ne=B.M,de=B.Nb,fe=v.oc,ve=v.pc+40,be=v.oc,Ee=v.pc+584,Ge=v.oc,ot=v.pc+600;for(T=0;16>T;++T)fe[ve+32*T-1]=129;for(T=0;8>T;++T)be[Ee+32*T-1]=129,Ge[ot+32*T-1]=129;for(0<ne?fe[ve-1-32]=be[Ee-1-32]=Ge[ot-1-32]=129:(i(fe,ve-32-1,127,21),i(be,Ee-32-1,127,9),i(Ge,ot-32-1,127,9)),R=0;R<v.za;++R){var Ne=B.ya[B.aa+R];if(0<R){for(T=-1;16>T;++T)r(fe,ve+32*T-4,fe,ve+32*T+12,4);for(T=-1;8>T;++T)r(be,Ee+32*T-4,be,Ee+32*T+4,4),r(Ge,ot+32*T-4,Ge,ot+32*T+4,4)}var Ye=v.Gd,rt=v.Hd+R,Ct=Ne.ad,it=Ne.Hc;if(0<ne&&(r(fe,ve-32,Ye[rt].y,0,16),r(be,Ee-32,Ye[rt].f,0,8),r(Ge,ot-32,Ye[rt].ea,0,8)),Ne.Za){var _t=fe,St=ve-32+16;for(0<ne&&(R>=v.za-1?i(_t,St,Ye[rt].y[15],4):r(_t,St,Ye[rt+1].y,0,4)),T=0;4>T;T++)_t[St+128+T]=_t[St+256+T]=_t[St+384+T]=_t[St+0+T];for(T=0;16>T;++T,it<<=2)_t=fe,St=ve+Ca[T],ea[Ne.Ob[T]](_t,St),us(it,Ct,16*+T,_t,St)}else if(_t=Yo(R,ne,Ne.Ob[0]),Bs[_t](fe,ve),it!=0)for(T=0;16>T;++T,it<<=2)us(it,Ct,16*+T,fe,ve+Ca[T]);for(T=Ne.Gc,_t=Yo(R,ne,Ne.Dd),ho[_t](be,Ee),ho[_t](Ge,ot),it=Ct,_t=be,St=Ee,255&(Ne=0|T)&&(170&Ne?Re(it,256,_t,St):He(it,256,_t,St)),Ne=Ge,it=ot,255&(T>>=8)&&(170&T?Re(Ct,320,Ne,it):He(Ct,320,Ne,it)),ne<v.Ub-1&&(r(Ye[rt].y,0,fe,ve+480,16),r(Ye[rt].f,0,be,Ee+224,8),r(Ye[rt].ea,0,Ge,ot+224,8)),T=8*de*v.B,Ye=v.sa,rt=v.ta+16*R+16*de*v.R,Ct=v.qa,Ne=v.ra+8*R+T,it=v.Ha,_t=v.Ia+8*R+T,T=0;16>T;++T)r(Ye,rt+T*v.R,fe,ve+32*T,16);for(T=0;8>T;++T)r(Ct,Ne+T*v.B,be,Ee+32*T,8),r(it,_t+T*v.B,Ge,ot+32*T,8)}}function La(v,B,T,R,ne,de,fe,ve,be){var Ee=[0],Ge=[0],ot=0,Ne=be!=null?be.kd:0,Ye=be??new Ft;if(v==null||12>T)return 7;Ye.data=v,Ye.w=B,Ye.ha=T,B=[B],T=[T],Ye.gb=[Ye.gb];e:{var rt=B,Ct=T,it=Ye.gb;if(t(v!=null),t(Ct!=null),t(it!=null),it[0]=0,12<=Ct[0]&&!n(v,rt[0],"RIFF")){if(n(v,rt[0]+8,"WEBP")){it=3;break e}var _t=on(v,rt[0]+4);if(12>_t||4294967286<_t){it=3;break e}if(Ne&&_t>Ct[0]-8){it=7;break e}it[0]=_t,rt[0]+=12,Ct[0]-=12}it=0}if(it!=0)return it;for(_t=0<Ye.gb[0],T=T[0];;){e:{var St=v;Ct=B,it=T;var Zt=Ee,Mt=Ge,Fn=rt=[0];if((Ln=ot=[ot])[0]=0,8>it[0])it=7;else{if(!n(St,Ct[0],"VP8X")){if(on(St,Ct[0]+4)!=10){it=3;break e}if(18>it[0]){it=7;break e}var bn=on(St,Ct[0]+8),fr=1+$t(St,Ct[0]+12);if(2147483648<=fr*(St=1+$t(St,Ct[0]+15))){it=3;break e}Fn!=null&&(Fn[0]=bn),Zt!=null&&(Zt[0]=fr),Mt!=null&&(Mt[0]=St),Ct[0]+=18,it[0]-=18,Ln[0]=1}it=0}}if(ot=ot[0],rt=rt[0],it!=0)return it;if(Ct=!!(2&rt),!_t&&ot)return 3;if(de!=null&&(de[0]=!!(16&rt)),fe!=null&&(fe[0]=Ct),ve!=null&&(ve[0]=0),fe=Ee[0],rt=Ge[0],ot&&Ct&&be==null){it=0;break}if(4>T){it=7;break}if(_t&&ot||!_t&&!ot&&!n(v,B[0],"ALPH")){T=[T],Ye.na=[Ye.na],Ye.P=[Ye.P],Ye.Sa=[Ye.Sa];e:{bn=v,it=B,_t=T;var Ln=Ye.gb;Zt=Ye.na,Mt=Ye.P,Fn=Ye.Sa,fr=22,t(bn!=null),t(_t!=null),St=it[0];var Rr=_t[0];for(t(Zt!=null),t(Fn!=null),Zt[0]=null,Mt[0]=null,Fn[0]=0;;){if(it[0]=St,_t[0]=Rr,8>Rr){it=7;break e}var Zi=on(bn,St+4);if(4294967286<Zi){it=3;break e}var yr=8+Zi+1&-2;if(fr+=yr,0<Ln&&fr>Ln){it=3;break e}if(!n(bn,St,"VP8 ")||!n(bn,St,"VP8L")){it=0;break e}if(Rr[0]<yr){it=7;break e}n(bn,St,"ALPH")||(Zt[0]=bn,Mt[0]=St+8,Fn[0]=Zi),St+=yr,Rr-=yr}}if(T=T[0],Ye.na=Ye.na[0],Ye.P=Ye.P[0],Ye.Sa=Ye.Sa[0],it!=0)break}T=[T],Ye.Ja=[Ye.Ja],Ye.xa=[Ye.xa];e:if(Ln=v,it=B,_t=T,Zt=Ye.gb[0],Mt=Ye.Ja,Fn=Ye.xa,bn=it[0],St=!n(Ln,bn,"VP8 "),fr=!n(Ln,bn,"VP8L"),t(Ln!=null),t(_t!=null),t(Mt!=null),t(Fn!=null),8>_t[0])it=7;else{if(St||fr){if(Ln=on(Ln,bn+4),12<=Zt&&Ln>Zt-12){it=3;break e}if(Ne&&Ln>_t[0]-8){it=7;break e}Mt[0]=Ln,it[0]+=8,_t[0]-=8,Fn[0]=fr}else Fn[0]=5<=_t[0]&&Ln[bn+0]==47&&!(Ln[bn+4]>>5),Mt[0]=_t[0];it=0}if(T=T[0],Ye.Ja=Ye.Ja[0],Ye.xa=Ye.xa[0],B=B[0],it!=0)break;if(4294967286<Ye.Ja)return 3;if(ve==null||Ct||(ve[0]=Ye.xa?2:1),fe=[fe],rt=[rt],Ye.xa){if(5>T){it=7;break}ve=fe,Ne=rt,Ct=de,v==null||5>T?v=0:5<=T&&v[B+0]==47&&!(v[B+4]>>5)?(_t=[0],Ln=[0],Zt=[0],Ce(Mt=new ie,v,B,T),Yn(Mt,_t,Ln,Zt)?(ve!=null&&(ve[0]=_t[0]),Ne!=null&&(Ne[0]=Ln[0]),Ct!=null&&(Ct[0]=Zt[0]),v=1):v=0):v=0}else{if(10>T){it=7;break}ve=rt,v==null||10>T||!Pr(v,B+3,T-3)?v=0:(Ne=v[B+0]|v[B+1]<<8|v[B+2]<<16,Ct=16383&(v[B+7]<<8|v[B+6]),v=16383&(v[B+9]<<8|v[B+8]),1&Ne||3<(Ne>>1&7)||!(Ne>>4&1)||Ne>>5>=Ye.Ja||!Ct||!v?v=0:(fe&&(fe[0]=Ct),ve&&(ve[0]=v),v=1))}if(!v||(fe=fe[0],rt=rt[0],ot&&(Ee[0]!=fe||Ge[0]!=rt)))return 3;be!=null&&(be[0]=Ye,be.offset=B-be.w,t(4294967286>B-be.w),t(be.offset==be.ha-T));break}return it==0||it==7&&ot&&be==null?(de!=null&&(de[0]|=Ye.na!=null&&0<Ye.na.length),R!=null&&(R[0]=fe),ne!=null&&(ne[0]=rt),0):it}function Lo(v,B,T){var R=B.width,ne=B.height,de=0,fe=0,ve=R,be=ne;if(B.Da=v!=null&&0<v.Da,B.Da&&(ve=v.cd,be=v.bd,de=v.v,fe=v.j,11>T||(de&=-2,fe&=-2),0>de||0>fe||0>=ve||0>=be||de+ve>R||fe+be>ne))return 0;if(B.v=de,B.j=fe,B.va=de+ve,B.o=fe+be,B.U=ve,B.T=be,B.da=v!=null&&0<v.da,B.da){if(!dn(ve,be,T=[v.ib],de=[v.hb]))return 0;B.ib=T[0],B.hb=de[0]}return B.ob=v!=null&&v.ob,B.Kb=v==null||!v.Sd,B.da&&(B.ob=B.ib<3*R/4&&B.hb<3*ne/4,B.Kb=0),1}function Is(v){if(v==null)return 2;if(11>v.S){var B=v.f.RGBA;B.fb+=(v.height-1)*B.A,B.A=-B.A}else B=v.f.kb,v=v.height,B.O+=(v-1)*B.fa,B.fa=-B.fa,B.N+=(v-1>>1)*B.Ab,B.Ab=-B.Ab,B.W+=(v-1>>1)*B.Db,B.Db=-B.Db,B.F!=null&&(B.J+=(v-1)*B.lb,B.lb=-B.lb);return 0}function Wi(v,B,T,R){if(R==null||0>=v||0>=B)return 2;if(T!=null){if(T.Da){var ne=T.cd,de=T.bd,fe=-2&T.v,ve=-2&T.j;if(0>fe||0>ve||0>=ne||0>=de||fe+ne>v||ve+de>B)return 2;v=ne,B=de}if(T.da){if(!dn(v,B,ne=[T.ib],de=[T.hb]))return 2;v=ne[0],B=de[0]}}R.width=v,R.height=B;e:{var be=R.width,Ee=R.height;if(v=R.S,0>=be||0>=Ee||!(v>=KA&&13>v))v=2;else{if(0>=R.Rd&&R.sd==null){fe=de=ne=B=0;var Ge=(ve=be*du[v])*Ee;if(11>v||(de=(Ee+1)/2*(B=(be+1)/2),v==12&&(fe=(ne=be)*Ee)),(Ee=s(Ge+2*de+fe))==null){v=1;break e}R.sd=Ee,11>v?((be=R.f.RGBA).eb=Ee,be.fb=0,be.A=ve,be.size=Ge):((be=R.f.kb).y=Ee,be.O=0,be.fa=ve,be.Fd=Ge,be.f=Ee,be.N=0+Ge,be.Ab=B,be.Cd=de,be.ea=Ee,be.W=0+Ge+de,be.Db=B,be.Ed=de,v==12&&(be.F=Ee,be.J=0+Ge+2*de),be.Tc=fe,be.lb=ne)}if(B=1,ne=R.S,de=R.width,fe=R.height,ne>=KA&&13>ne)if(11>ne)v=R.f.RGBA,B&=(ve=Math.abs(v.A))*(fe-1)+de<=v.size,B&=ve>=de*du[ne],B&=v.eb!=null;else{v=R.f.kb,ve=(de+1)/2,Ge=(fe+1)/2,be=Math.abs(v.fa),Ee=Math.abs(v.Ab);var ot=Math.abs(v.Db),Ne=Math.abs(v.lb),Ye=Ne*(fe-1)+de;B&=be*(fe-1)+de<=v.Fd,B&=Ee*(Ge-1)+ve<=v.Cd,B=(B&=ot*(Ge-1)+ve<=v.Ed)&be>=de&Ee>=ve&ot>=ve,B&=v.y!=null,B&=v.f!=null,B&=v.ea!=null,ne==12&&(B&=Ne>=de,B&=Ye<=v.Tc,B&=v.F!=null)}else B=0;v=B?0:2}}return v!=0||T!=null&&T.fd&&(v=Is(R)),v}var Hr=64,Ba=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Or=24,ws=32,Ts=8,Fs=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Vt("Predictor0","PredictorAdd0"),M.Predictor0=function(){return 4278190080},M.Predictor1=function(v){return v},M.Predictor2=function(v,B,T){return B[T+0]},M.Predictor3=function(v,B,T){return B[T+1]},M.Predictor4=function(v,B,T){return B[T-1]},M.Predictor5=function(v,B,T){return hn(hn(v,B[T+1]),B[T+0])},M.Predictor6=function(v,B,T){return hn(v,B[T-1])},M.Predictor7=function(v,B,T){return hn(v,B[T+0])},M.Predictor8=function(v,B,T){return hn(B[T-1],B[T+0])},M.Predictor9=function(v,B,T){return hn(B[T+0],B[T+1])},M.Predictor10=function(v,B,T){return hn(hn(v,B[T-1]),hn(B[T+0],B[T+1]))},M.Predictor11=function(v,B,T){var R=B[T+0];return 0>=_n(R>>24&255,v>>24&255,(B=B[T-1])>>24&255)+_n(R>>16&255,v>>16&255,B>>16&255)+_n(R>>8&255,v>>8&255,B>>8&255)+_n(255&R,255&v,255&B)?R:v},M.Predictor12=function(v,B,T){var R=B[T+0];return(jn((v>>24&255)+(R>>24&255)-((B=B[T-1])>>24&255))<<24|jn((v>>16&255)+(R>>16&255)-(B>>16&255))<<16|jn((v>>8&255)+(R>>8&255)-(B>>8&255))<<8|jn((255&v)+(255&R)-(255&B)))>>>0},M.Predictor13=function(v,B,T){var R=B[T-1];return(Mn((v=hn(v,B[T+0]))>>24&255,R>>24&255)<<24|Mn(v>>16&255,R>>16&255)<<16|Mn(v>>8&255,R>>8&255)<<8|Mn(255&v,255&R))>>>0};var Os=M.PredictorAdd0;M.PredictorAdd1=En,Vt("Predictor2","PredictorAdd2"),Vt("Predictor3","PredictorAdd3"),Vt("Predictor4","PredictorAdd4"),Vt("Predictor5","PredictorAdd5"),Vt("Predictor6","PredictorAdd6"),Vt("Predictor7","PredictorAdd7"),Vt("Predictor8","PredictorAdd8"),Vt("Predictor9","PredictorAdd9"),Vt("Predictor10","PredictorAdd10"),Vt("Predictor11","PredictorAdd11"),Vt("Predictor12","PredictorAdd12"),Vt("Predictor13","PredictorAdd13");var ja=M.PredictorAdd2;en("ColorIndexInverseTransform","MapARGB","32b",function(v){return v>>8&255},function(v){return v}),en("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(v){return v},function(v){return v>>8&255});var pi,ka=M.ColorIndexInverseTransform,Xs=M.MapARGB,b=M.VP8LColorIndexInverseTransformAlpha,C=M.MapAlpha,Q=M.VP8LPredictorsAdd=[];Q.length=16,(M.VP8LPredictors=[]).length=16,(M.VP8LPredictorsAdd_C=[]).length=16,(M.VP8LPredictors_C=[]).length=16;var q,J,Ae,we,Ue,Ke,Me,Je,Oe,Re,Pe,He,$e,qe,at,nt,pt,Bt,Tt,Wt,zt,An,qt,Rn,Sn,hr,tr,br,li=s(511),nr=s(2041),ds=s(225),Ci=s(767),Xo=0,mi=nr,Ya=ds,sa=Ci,Ua=li,KA=0,Xa=1,xA=2,Js=3,Gl=4,Cl=5,ul=6,Vl=7,bA=8,Zl=9,A=10,p=[2,3,7],y=[3,3,11],U=[280,256,256,256,40],H=[0,1,1,1,0],he=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Te=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],et=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],ut=8,Ut=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],an=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Un=null,Cr=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Ja=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],oa=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Ws=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],ri=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],ii=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Qr=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Bs=[],ea=[],ho=[],dl=1,GA=2,gi=[],fa=[];No("UpsampleRgbLinePair",Ys,3),No("UpsampleBgrLinePair",Vi,3),No("UpsampleRgbaLinePair",fi,4),No("UpsampleBgraLinePair",uo,4),No("UpsampleArgbLinePair",Fo,4),No("UpsampleRgba4444LinePair",So,2),No("UpsampleRgb565LinePair",To,2);var Nl=M.UpsampleRgbLinePair,jc=M.UpsampleBgrLinePair,$l=M.UpsampleRgbaLinePair,Yl=M.UpsampleBgraLinePair,Jo=M.UpsampleArgbLinePair,Oo=M.UpsampleRgba4444LinePair,Xl=M.UpsampleRgb565LinePair,Qo=16,VA=1<<Qo-1,yA=-227,Jl=482,cu=6,Wl=0,Cs=s(256),uu=s(256),pf=s(256),fg=s(256),pg=s(Jl-yA),mg=s(Jl-yA);Sa("YuvToRgbRow",Ys,3),Sa("YuvToBgrRow",Vi,3),Sa("YuvToRgbaRow",fi,4),Sa("YuvToBgraRow",uo,4),Sa("YuvToArgbRow",Fo,4),Sa("YuvToRgba4444Row",So,2),Sa("YuvToRgb565Row",To,2);var Ca=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],ZA=[0,2,8],kc=[8,7,6,4,4,2,2,2,1,1,1,1],Uc=1;this.WebPDecodeRGBA=function(v,B,T,R,ne){var de=Xa,fe=new ft,ve=new Hn;fe.ba=ve,ve.S=de,ve.width=[ve.width],ve.height=[ve.height];var be=ve.width,Ee=ve.height,Ge=new wn;if(Ge==null||v==null)var ot=2;else t(Ge!=null),ot=La(v,B,T,Ge.width,Ge.height,Ge.Pd,Ge.Qd,Ge.format,null);if(ot!=0?be=0:(be!=null&&(be[0]=Ge.width[0]),Ee!=null&&(Ee[0]=Ge.height[0]),be=1),be){ve.width=ve.width[0],ve.height=ve.height[0],R!=null&&(R[0]=ve.width),ne!=null&&(ne[0]=ve.height);e:{if(R=new Pt,(ne=new Ft).data=v,ne.w=B,ne.ha=T,ne.kd=1,B=[0],t(ne!=null),((v=La(ne.data,ne.w,ne.ha,null,null,null,B,null,ne))==0||v==7)&&B[0]&&(v=4),(B=v)==0){if(t(fe!=null),R.data=ne.data,R.w=ne.w+ne.offset,R.ha=ne.ha-ne.offset,R.put=fn,R.ac=Kr,R.bc=Xi,R.ma=fe,ne.xa){if((v=Wr())==null){fe=1;break e}if((function(Ne,Ye){var rt=[0],Ct=[0],it=[0];t:for(;;){if(Ne==null)return 0;if(Ye==null)return Ne.a=2,0;if(Ne.l=Ye,Ne.a=0,Ce(Ne.m,Ye.data,Ye.w,Ye.ha),!Yn(Ne.m,rt,Ct,it)){Ne.a=3;break t}if(Ne.xb=GA,Ye.width=rt[0],Ye.height=Ct[0],!bi(rt[0],Ct[0],1,Ne,null))break t;return 1}return t(Ne.a!=0),0})(v,R)){if(R=(B=Wi(R.width,R.height,fe.Oa,fe.ba))==0){t:{R=v;n:for(;;){if(R==null){R=0;break t}if(t(R.s.yc!=null),t(R.s.Ya!=null),t(0<R.s.Wb),t((T=R.l)!=null),t((ne=T.ma)!=null),R.xb!=0){if(R.ca=ne.ba,R.tb=ne.tb,t(R.ca!=null),!Lo(ne.Oa,T,Js)){R.a=2;break n}if(!Jn(R,T.width)||T.da)break n;if((T.da||bt(R.ca.S))&&ha(),11>R.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),R.ca.f.kb.F!=null&&ha()),R.Pb&&0<R.s.ua&&R.s.vb.X==null&&!xe(R.s.vb,R.s.Wa.Xa)){R.a=1;break n}R.xb=0}if(!kr(R,R.V,R.Ba,R.c,R.i,T.o,Kn))break n;ne.Dc=R.Ma,R=1;break t}t(R.a!=0),R=0}R=!R}R&&(B=v.a)}else B=v.a}else{if((v=new ir)==null){fe=1;break e}if(v.Fa=ne.na,v.P=ne.P,v.qc=ne.Sa,Qi(v,R)){if((B=Wi(R.width,R.height,fe.Oa,fe.ba))==0){if(v.Aa=0,T=fe.Oa,t((ne=v)!=null),T!=null){if(0<(be=0>(be=T.Md)?0:100<be?255:255*be/100)){for(Ee=Ge=0;4>Ee;++Ee)12>(ot=ne.pb[Ee]).lc&&(ot.ia=be*kc[0>ot.lc?0:ot.lc]>>3),Ge|=ot.ia;Ge&&(alert("todo:VP8InitRandom"),ne.ia=1)}ne.Ga=T.Id,100<ne.Ga?ne.Ga=100:0>ne.Ga&&(ne.Ga=0)}(function(Ne,Ye){if(Ne==null)return 0;if(Ye==null)return Jt(Ne,2,"NULL VP8Io parameter in VP8Decode().");if(!Ne.cb&&!Qi(Ne,Ye))return 0;if(t(Ne.cb),Ye.ac==null||Ye.ac(Ye)){Ye.ob&&(Ne.L=0);var rt=ZA[Ne.L];if(Ne.L==2?(Ne.yb=0,Ne.zb=0):(Ne.yb=Ye.v-rt>>4,Ne.zb=Ye.j-rt>>4,0>Ne.yb&&(Ne.yb=0),0>Ne.zb&&(Ne.zb=0)),Ne.Va=Ye.o+15+rt>>4,Ne.Hb=Ye.va+15+rt>>4,Ne.Hb>Ne.za&&(Ne.Hb=Ne.za),Ne.Va>Ne.Ub&&(Ne.Va=Ne.Ub),0<Ne.L){var Ct=Ne.ed;for(rt=0;4>rt;++rt){var it;if(Ne.Qa.Cb){var _t=Ne.Qa.Lb[rt];Ne.Qa.Fb||(_t+=Ct.Tb)}else _t=Ct.Tb;for(it=0;1>=it;++it){var St=Ne.gd[rt][it],Zt=_t;if(Ct.Pc&&(Zt+=Ct.vd[0],it&&(Zt+=Ct.od[0])),0<(Zt=0>Zt?0:63<Zt?63:Zt)){var Mt=Zt;0<Ct.wb&&(Mt=4<Ct.wb?Mt>>2:Mt>>1)>9-Ct.wb&&(Mt=9-Ct.wb),1>Mt&&(Mt=1),St.dd=Mt,St.tc=2*Zt+Mt,St.ld=40<=Zt?2:15<=Zt?1:0}else St.tc=0;St.La=it}}}rt=0}else Jt(Ne,6,"Frame setup failed"),rt=Ne.a;if(rt=rt==0){if(rt){Ne.$c=0,0<Ne.Aa||(Ne.Ic=Uc);t:{rt=Ne.Ic,Ct=4*(Mt=Ne.za);var Fn=32*Mt,bn=Mt+1,fr=0<Ne.L?Mt*(0<Ne.Aa?2:1):0,Ln=(Ne.Aa==2?2:1)*Mt;if((St=Ct+832+(it=3*(16*rt+ZA[Ne.L])/2*Fn)+(_t=Ne.Fa!=null&&0<Ne.Fa.length?Ne.Kc.c*Ne.Kc.i:0))!=St)rt=0;else{if(St>Ne.Vb){if(Ne.Vb=0,Ne.Ec=s(St),Ne.Fc=0,Ne.Ec==null){rt=Jt(Ne,1,"no memory during frame initialization.");break t}Ne.Vb=St}St=Ne.Ec,Zt=Ne.Fc,Ne.Ac=St,Ne.Bc=Zt,Zt+=Ct,Ne.Gd=c(Fn,Yt),Ne.Hd=0,Ne.rb=c(bn+1,Bn),Ne.sb=1,Ne.wa=fr?c(fr,sn):null,Ne.Y=0,Ne.D.Nb=0,Ne.D.wa=Ne.wa,Ne.D.Y=Ne.Y,0<Ne.Aa&&(Ne.D.Y+=Mt),t(!0),Ne.oc=St,Ne.pc=Zt,Zt+=832,Ne.ya=c(Ln,gt),Ne.aa=0,Ne.D.ya=Ne.ya,Ne.D.aa=Ne.aa,Ne.Aa==2&&(Ne.D.aa+=Mt),Ne.R=16*Mt,Ne.B=8*Mt,Mt=(Fn=ZA[Ne.L])*Ne.R,Fn=Fn/2*Ne.B,Ne.sa=St,Ne.ta=Zt+Mt,Ne.qa=Ne.sa,Ne.ra=Ne.ta+16*rt*Ne.R+Fn,Ne.Ha=Ne.qa,Ne.Ia=Ne.ra+8*rt*Ne.B+Fn,Ne.$c=0,Zt+=it,Ne.mb=_t?St:null,Ne.nb=_t?Zt:null,t(Zt+_t<=Ne.Fc+Ne.Vb),Dn(Ne),i(Ne.Ac,Ne.Bc,0,Ct),rt=1}}if(rt){if(Ye.ka=0,Ye.y=Ne.sa,Ye.O=Ne.ta,Ye.f=Ne.qa,Ye.N=Ne.ra,Ye.ea=Ne.Ha,Ye.Vd=Ne.Ia,Ye.fa=Ne.R,Ye.Rc=Ne.B,Ye.F=null,Ye.J=0,!Xo){for(rt=-255;255>=rt;++rt)li[255+rt]=0>rt?-rt:rt;for(rt=-1020;1020>=rt;++rt)nr[1020+rt]=-128>rt?-128:127<rt?127:rt;for(rt=-112;112>=rt;++rt)ds[112+rt]=-16>rt?-16:15<rt?15:rt;for(rt=-255;510>=rt;++rt)Ci[255+rt]=0>rt?0:255<rt?255:rt;Xo=1}Me=er,Je=ui,Re=dr,Pe=za,He=lo,Oe=ei,$e=Io,qe=co,at=ee,nt=Be,pt=Kl,Bt=k,Tt=De,Wt=We,zt=aa,An=$a,qt=Ao,Rn=cl,ea[0]=js,ea[1]=Uo,ea[2]=_a,ea[3]=Mr,ea[4]=Ka,ea[5]=Co,ea[6]=ti,ea[7]=os,ea[8]=Ga,ea[9]=wa,Bs[0]=qa,Bs[1]=ra,Bs[2]=bs,Bs[3]=Bo,Bs[4]=Ks,Bs[5]=di,Bs[6]=ya,ho[0]=Vs,ho[1]=ll,ho[2]=ni,ho[3]=Gs,ho[4]=ia,ho[5]=Al,ho[6]=Va,rt=1}else rt=0}rt&&(rt=(function(Rr,Zi){for(Rr.M=0;Rr.M<Rr.Va;++Rr.M){var yr,yn=Rr.Jc[Rr.M&Rr.Xb],ln=Rr.m,la=Rr;for(yr=0;yr<la.za;++yr){var rr=ln,Nr=la,yi=Nr.Ac,Wa=Nr.Bc+4*yr,Ns=Nr.zc,Di=Nr.ya[Nr.aa+yr];if(Nr.Qa.Bb?Di.$b=lt(rr,Nr.Pa.jb[0])?2+lt(rr,Nr.Pa.jb[2]):lt(rr,Nr.Pa.jb[1]):Di.$b=0,Nr.kc&&(Di.Ad=lt(rr,Nr.Bd)),Di.Za=!lt(rr,145)+0,Di.Za){var Ia=Di.Ob,Qs=0;for(Nr=0;4>Nr;++Nr){var Ta,Fr=Ns[0+Nr];for(Ta=0;4>Ta;++Ta){Fr=ri[yi[Wa+Ta]][Fr];for(var ai=oa[lt(rr,Fr[0])];0<ai;)ai=oa[2*ai+lt(rr,Fr[ai])];Fr=-ai,yi[Wa+Ta]=Fr}r(Ia,Qs,yi,Wa,4),Qs+=4,Ns[0+Nr]=Fr}}else Fr=lt(rr,156)?lt(rr,128)?1:3:lt(rr,163)?2:0,Di.Ob[0]=Fr,i(yi,Wa,Fr,4),i(Ns,0,Fr,4);Di.Dd=lt(rr,142)?lt(rr,114)?lt(rr,183)?1:3:2:0}if(la.m.Ka)return Jt(Rr,7,"Premature end-of-partition0 encountered.");for(;Rr.ja<Rr.za;++Rr.ja){if(la=yn,rr=(ln=Rr).rb[ln.sb-1],yi=ln.rb[ln.sb+ln.ja],yr=ln.ya[ln.aa+ln.ja],Wa=ln.kc?yr.Ad:0)rr.la=yi.la=0,yr.Za||(rr.Na=yi.Na=0),yr.Hc=0,yr.Gc=0,yr.ia=0;else{var Aa,Ai;if(rr=yi,yi=la,Wa=ln.Pa.Xc,Ns=ln.ya[ln.aa+ln.ja],Di=ln.pb[Ns.$b],Nr=Ns.ad,Ia=0,Qs=ln.rb[ln.sb-1],Fr=Ta=0,i(Nr,Ia,0,384),Ns.Za)var es=0,ca=Wa[3];else{ai=s(16);var si=rr.Na+Qs.Na;if(si=Un(yi,Wa[1],si,Di.Eb,0,ai,0),rr.Na=Qs.Na=(0<si)+0,1<si)Me(ai,0,Nr,Ia);else{var Na=ai[0]+3>>3;for(ai=0;256>ai;ai+=16)Nr[Ia+ai]=Na}es=1,ca=Wa[0]}var _i=15&rr.la,Fa=15&Qs.la;for(ai=0;4>ai;++ai){var Oa=1&Fa;for(Na=Ai=0;4>Na;++Na)_i=_i>>1|(Oa=(si=Un(yi,ca,si=Oa+(1&_i),Di.Sc,es,Nr,Ia))>es)<<7,Ai=Ai<<2|(3<si?3:1<si?2:Nr[Ia+0]!=0),Ia+=16;_i>>=4,Fa=Fa>>1|Oa<<7,Ta=(Ta<<8|Ai)>>>0}for(ca=_i,es=Fa>>4,Aa=0;4>Aa;Aa+=2){for(Ai=0,_i=rr.la>>4+Aa,Fa=Qs.la>>4+Aa,ai=0;2>ai;++ai){for(Oa=1&Fa,Na=0;2>Na;++Na)si=Oa+(1&_i),_i=_i>>1|(Oa=0<(si=Un(yi,Wa[2],si,Di.Qc,0,Nr,Ia)))<<3,Ai=Ai<<2|(3<si?3:1<si?2:Nr[Ia+0]!=0),Ia+=16;_i>>=2,Fa=Fa>>1|Oa<<5}Fr|=Ai<<4*Aa,ca|=_i<<4<<Aa,es|=(240&Fa)<<Aa}rr.la=ca,Qs.la=es,Ns.Hc=Ta,Ns.Gc=Fr,Ns.ia=43690&Fr?0:Di.ia,Wa=!(Ta|Fr)}if(0<ln.L&&(ln.wa[ln.Y+ln.ja]=ln.gd[yr.$b][yr.Za],ln.wa[ln.Y+ln.ja].La|=!Wa),la.Ka)return Jt(Rr,7,"Premature end-of-file encountered.")}if(Dn(Rr),ln=Zi,la=1,yr=(yn=Rr).D,rr=0<yn.L&&yn.M>=yn.zb&&yn.M<=yn.Va,yn.Aa==0)t:{if(yr.M=yn.M,yr.uc=rr,_s(yn,yr),la=1,yr=(Ai=yn.D).Nb,rr=(Fr=ZA[yn.L])*yn.R,yi=Fr/2*yn.B,ai=16*yr*yn.R,Na=8*yr*yn.B,Wa=yn.sa,Ns=yn.ta-rr+ai,Di=yn.qa,Nr=yn.ra-yi+Na,Ia=yn.Ha,Qs=yn.Ia-yi+Na,Fa=(_i=Ai.M)==0,Ta=_i>=yn.Va-1,yn.Aa==2&&_s(yn,Ai),Ai.uc)for(Oa=(si=yn).D.M,t(si.D.uc),Ai=si.yb;Ai<si.Hb;++Ai){es=Ai,ca=Oa;var ji=(Xr=(Qa=si).D).Nb;Aa=Qa.R;var Xr=Xr.wa[Xr.Y+es],Ds=Qa.sa,pa=Qa.ta+16*ji*Aa+16*es,Vn=Xr.dd,Zn=Xr.tc;if(Zn!=0)if(t(3<=Zn),Qa.L==1)0<es&&An(Ds,pa,Aa,Zn+4),Xr.La&&Rn(Ds,pa,Aa,Zn),0<ca&&zt(Ds,pa,Aa,Zn+4),Xr.La&&qt(Ds,pa,Aa,Zn);else{var oi=Qa.B,fo=Qa.qa,Do=Qa.ra+8*ji*oi+8*es,eo=Qa.Ha,Qa=Qa.Ia+8*ji*oi+8*es;ji=Xr.ld,0<es&&(qe(Ds,pa,Aa,Zn+4,Vn,ji),nt(fo,Do,eo,Qa,oi,Zn+4,Vn,ji)),Xr.La&&(Bt(Ds,pa,Aa,Zn,Vn,ji),Wt(fo,Do,eo,Qa,oi,Zn,Vn,ji)),0<ca&&($e(Ds,pa,Aa,Zn+4,Vn,ji),at(fo,Do,eo,Qa,oi,Zn+4,Vn,ji)),Xr.La&&(pt(Ds,pa,Aa,Zn,Vn,ji),Tt(fo,Do,eo,Qa,oi,Zn,Vn,ji))}}if(yn.ia&&alert("todo:DitherRow"),ln.put!=null){if(Ai=16*_i,_i=16*(_i+1),Fa?(ln.y=yn.sa,ln.O=yn.ta+ai,ln.f=yn.qa,ln.N=yn.ra+Na,ln.ea=yn.Ha,ln.W=yn.Ia+Na):(Ai-=Fr,ln.y=Wa,ln.O=Ns,ln.f=Di,ln.N=Nr,ln.ea=Ia,ln.W=Qs),Ta||(_i-=Fr),_i>ln.o&&(_i=ln.o),ln.F=null,ln.J=null,yn.Fa!=null&&0<yn.Fa.length&&Ai<_i&&(ln.J=Tr(yn,ln,Ai,_i-Ai),ln.F=yn.mb,ln.F==null&&ln.F.length==0)){la=Jt(yn,3,"Could not decode alpha data.");break t}Ai<ln.j&&(Fr=ln.j-Ai,Ai=ln.j,t(!(1&Fr)),ln.O+=yn.R*Fr,ln.N+=yn.B*(Fr>>1),ln.W+=yn.B*(Fr>>1),ln.F!=null&&(ln.J+=ln.width*Fr)),Ai<_i&&(ln.O+=ln.v,ln.N+=ln.v>>1,ln.W+=ln.v>>1,ln.F!=null&&(ln.J+=ln.v),ln.ka=Ai-ln.j,ln.U=ln.va-ln.v,ln.T=_i-Ai,la=ln.put(ln))}yr+1!=yn.Ic||Ta||(r(yn.sa,yn.ta-rr,Wa,Ns+16*yn.R,rr),r(yn.qa,yn.ra-yi,Di,Nr+8*yn.B,yi),r(yn.Ha,yn.Ia-yi,Ia,Qs+8*yn.B,yi))}if(!la)return Jt(Rr,6,"Output aborted.")}return 1})(Ne,Ye)),Ye.bc!=null&&Ye.bc(Ye),rt&=1}return rt?(Ne.cb=0,rt):0})(v,R)||(B=v.a)}}else B=v.a}B==0&&fe.Oa!=null&&fe.Oa.fd&&(B=Is(fe.ba))}fe=B}de=fe!=0?null:11>de?ve.f.RGBA.eb:ve.f.kb.y}else de=null;return de};var du=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(M,X){for(var V="",W=0;W<4;W++)V+=String.fromCharCode(M[X++]);return V}function g(M,X){return M[X+0]|M[X+1]<<8}function x(M,X){return(M[X+0]|M[X+1]<<8|M[X+2]<<16)>>>0}function E(M,X){return(M[X+0]|M[X+1]<<8|M[X+2]<<16|M[X+3]<<24)>>>0}new h;var w=[0],I=[0],j=[],F=new h,S=e,z=(function(M,X){var V={},W=0,oe=!1,me=0,ye=0;if(V.frames=[],!(function(P,ie){for(var O=0;O<4;O++)if(P[ie+O]!="RIFF".charCodeAt(O))return!0;return!1})(M,X)){for(E(M,X+=4),X+=8;X<M.length;){var se=f(M,X),_e=E(M,X+=4);X+=4;var Z=_e+(1&_e);switch(se){case"VP8 ":case"VP8L":V.frames[W]===void 0&&(V.frames[W]={}),(te=V.frames[W]).src_off=oe?ye:X-8,te.src_size=me+_e+8,W++,oe&&(oe=!1,me=0,ye=0);break;case"VP8X":(te=V.header={}).feature_flags=M[X];var Ce=X+4;te.canvas_width=1+x(M,Ce),Ce+=3,te.canvas_height=1+x(M,Ce),Ce+=3;break;case"ALPH":oe=!0,me=Z+8,ye=X-8;break;case"ANIM":(te=V.header).bgcolor=E(M,X),Ce=X+4,te.loop_count=g(M,Ce),Ce+=2;break;case"ANMF":var Se,te;(te=V.frames[W]={}).offset_x=2*x(M,X),X+=3,te.offset_y=2*x(M,X),X+=3,te.width=1+x(M,X),X+=3,te.height=1+x(M,X),X+=3,te.duration=x(M,X),X+=3,Se=M[X++],te.dispose=1&Se,te.blend=Se>>1&1}se!="ANMF"&&(X+=Z)}return V}})(S,0);z.response=S,z.rgbaoutput=!0,z.dataurl=!1;var D=z.header?z.header:null,G=z.frames?z.frames:null;if(D){D.loop_counter=D.loop_count,w=[D.canvas_height],I=[D.canvas_width];for(var ce=0;ce<G.length&&G[ce].blend!=0;ce++);}var Y=G[0],ge=F.WebPDecodeRGBA(S,Y.src_off,Y.src_size,I,w);Y.rgba=ge,Y.imgwidth=I[0],Y.imgheight=w[0];for(var re=0;re<I[0]*w[0]*4;re++)j[re]=ge[re];return this.width=I,this.height=w,this.data=j,this}(function(e){var t,n,r,i,s,c,d,h,f,g=function(P){return P=P||{},this.isStrokeTransparent=P.isStrokeTransparent||!1,this.strokeOpacity=P.strokeOpacity||1,this.strokeStyle=P.strokeStyle||"#000000",this.fillStyle=P.fillStyle||"#000000",this.isFillTransparent=P.isFillTransparent||!1,this.fillOpacity=P.fillOpacity||1,this.font=P.font||"10px sans-serif",this.textBaseline=P.textBaseline||"alphabetic",this.textAlign=P.textAlign||"left",this.lineWidth=P.lineWidth||1,this.lineJoin=P.lineJoin||"miter",this.lineCap=P.lineCap||"butt",this.path=P.path||[],this.transform=P.transform!==void 0?P.transform.clone():new h,this.globalCompositeOperation=P.globalCompositeOperation||"normal",this.globalAlpha=P.globalAlpha||1,this.clip_path=P.clip_path||[],this.currentPoint=P.currentPoint||new c,this.miterLimit=P.miterLimit||10,this.lastPoint=P.lastPoint||new c,this.lineDashOffset=P.lineDashOffset||0,this.lineDash=P.lineDash||[],this.margin=P.margin||[0,0,0,0],this.prevPageLastElemOffset=P.prevPageLastElemOffset||0,this.ignoreClearRect=typeof P.ignoreClearRect!="boolean"||P.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new x(this),t=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,c=this.internal.Point,d=this.internal.Rectangle,h=this.internal.Matrix,f=new g}]);var x=function(P){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var ie=P;Object.defineProperty(this,"pdf",{get:function(){return ie}});var O=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return O},set:function(xe){O=!!xe}});var ae=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ae},set:function(xe){ae=!!xe}});var ue=0;Object.defineProperty(this,"posX",{get:function(){return ue},set:function(xe){isNaN(xe)||(ue=xe)}});var je=0;Object.defineProperty(this,"posY",{get:function(){return je},set:function(xe){isNaN(xe)||(je=xe)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(xe){var Ot;typeof xe=="number"?Ot=[xe,xe,xe,xe]:((Ot=new Array(4))[0]=xe[0],Ot[1]=xe.length>=2?xe[1]:Ot[0],Ot[2]=xe.length>=3?xe[2]:Ot[0],Ot[3]=xe.length>=4?xe[3]:Ot[1]),f.margin=Ot}});var Ve=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ve},set:function(xe){Ve=xe}});var Ie=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ie},set:function(xe){Ie=xe}});var lt=[];Object.defineProperty(this,"pageBreaks",{get:function(){return lt},set:function(xe){lt=xe}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(xe){xe instanceof g&&(f=xe)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(xe){f.path=xe}});var wt=[];Object.defineProperty(this,"ctxStack",{get:function(){return wt},set:function(xe){wt=xe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(xe){var Ot;Ot=E(xe),this.ctx.fillStyle=Ot.style,this.ctx.isFillTransparent=Ot.a===0,this.ctx.fillOpacity=Ot.a,this.pdf.setFillColor(Ot.r,Ot.g,Ot.b,{a:Ot.a}),this.pdf.setTextColor(Ot.r,Ot.g,Ot.b,{a:Ot.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(xe){var Ot=E(xe);this.ctx.strokeStyle=Ot.style,this.ctx.isStrokeTransparent=Ot.a===0,this.ctx.strokeOpacity=Ot.a,Ot.a===0?this.pdf.setDrawColor(255,255,255):(Ot.a,this.pdf.setDrawColor(Ot.r,Ot.g,Ot.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(xe){["butt","round","square"].indexOf(xe)!==-1&&(this.ctx.lineCap=xe,this.pdf.setLineCap(xe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(xe){isNaN(xe)||(this.ctx.lineWidth=xe,this.pdf.setLineWidth(xe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(xe){["bevel","round","miter"].indexOf(xe)!==-1&&(this.ctx.lineJoin=xe,this.pdf.setLineJoin(xe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(xe){isNaN(xe)||(this.ctx.miterLimit=xe,this.pdf.setMiterLimit(xe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(xe){this.ctx.textBaseline=xe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(xe){["right","end","center","left","start"].indexOf(xe)!==-1&&(this.ctx.textAlign=xe)}});var Xe=null,$t=null,on=null;Object.defineProperty(this,"fontFaces",{get:function(){return on},set:function(xe){Xe=null,$t=null,on=xe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(xe){var Ot;if(this.ctx.font=xe,(Ot=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(xe))!==null){var rn=Ot[1];Ot[2];var dn=Ot[3],xt=Ot[4];Ot[5];var nn=Ot[6],Vt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(xt)[2];xt=Math.floor(Vt==="px"?parseFloat(xt)*this.pdf.internal.scaleFactor:Vt==="em"?parseFloat(xt)*this.pdf.getFontSize():parseFloat(xt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(xt);var un=(function(en){var Fe,yt,jt=[],dt=en.trim();if(dt==="")return xv;if(dt in j2)return[j2[dt]];for(;dt!=="";){switch(yt=null,Fe=(dt=U2(dt)).charAt(0)){case'"':case"'":yt=cQ(dt.substring(1),Fe);break;default:yt=uQ(dt)}if(yt===null||(jt.push(yt[0]),(dt=U2(yt[1]))!==""&&dt.charAt(0)!==","))return xv;dt=dt.replace(/^,/,"")}return jt})(nn);if(this.fontFaces){var hn=(function(en,Fe){var yt=en.getFontList(),jt=JSON.stringify(yt);if(Xe===null||$t!==jt){var dt=(function(Rt){var Ht=[];return Object.keys(Rt).forEach(function(Qn){Rt[Qn].forEach(function(bt){var kn=null;switch(bt){case"bold":kn={family:Qn,weight:"bold"};break;case"italic":kn={family:Qn,style:"italic"};break;case"bolditalic":kn={family:Qn,weight:"bold",style:"italic"};break;case"":case"normal":kn={family:Qn}}kn!==null&&(kn.ref={name:Qn,style:bt},Ht.push(kn))})}),Ht})(yt);Xe=(function(Rt){for(var Ht={},Qn=0;Qn<Rt.length;++Qn){var bt=vv(Rt[Qn]),kn=bt.family,jr=bt.stretch,Hn=bt.style,wn=bt.weight;Ht[kn]=Ht[kn]||{},Ht[kn][jr]=Ht[kn][jr]||{},Ht[kn][jr][Hn]=Ht[kn][jr][Hn]||{},Ht[kn][jr][Hn][wn]=bt}return Ht})(dt.concat(Fe)),$t=jt}return Xe})(this.pdf,this.fontFaces),jn=un.map(function(en){return{family:en,stretch:"normal",weight:dn,style:rn}}),Mn=(function(en,Fe,yt){for(var jt=(yt=yt||{}).defaultFontFamily||"times",dt=Object.assign({},AQ,yt.genericFontFamilies||{}),Rt=null,Ht=null,Qn=0;Qn<Fe.length;++Qn)if(dt[(Rt=vv(Fe[Qn])).family]&&(Rt.family=dt[Rt.family]),en.hasOwnProperty(Rt.family)){Ht=en[Rt.family];break}if(!(Ht=Ht||en[jt]))throw new Error("Could not find a font-family for the rule '"+k2(Rt)+"' and default family '"+jt+"'.");if(Ht=(function(bt,kn){if(kn[bt])return kn[bt];var jr=Dx[bt],Hn=jr<=Dx.normal?-1:1,wn=L2(kn,EN,jr,Hn);if(!wn)throw new Error("Could not find a matching font-stretch value for "+bt);return wn})(Rt.stretch,Ht),Ht=(function(bt,kn){if(kn[bt])return kn[bt];for(var jr=NN[bt],Hn=0;Hn<jr.length;++Hn)if(kn[jr[Hn]])return kn[jr[Hn]];throw new Error("Could not find a matching font-style for "+bt)})(Rt.style,Ht),!(Ht=(function(bt,kn){if(kn[bt])return kn[bt];if(bt===400&&kn[500])return kn[500];if(bt===500&&kn[400])return kn[400];var jr=lQ[bt],Hn=L2(kn,SN,jr,bt<400?-1:1);if(!Hn)throw new Error("Could not find a matching font-weight for value "+bt);return Hn})(Rt.weight,Ht)))throw new Error("Failed to resolve a font for the rule '"+k2(Rt)+"'.");return Ht})(hn,jn);this.pdf.setFont(Mn.ref.name,Mn.ref.style)}else{var _n="";(dn==="bold"||parseInt(dn,10)>=700||rn==="bold")&&(_n="bold"),rn==="italic"&&(_n+="italic"),_n.length===0&&(_n="normal");for(var En="",Tn={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},cn=0;cn<un.length;cn++){if(this.pdf.internal.getFont(un[cn],_n,{noFallback:!0,disableWarning:!0})!==void 0){En=un[cn];break}if(_n==="bolditalic"&&this.pdf.internal.getFont(un[cn],"bold",{noFallback:!0,disableWarning:!0})!==void 0)En=un[cn],_n="bold";else if(this.pdf.internal.getFont(un[cn],"normal",{noFallback:!0,disableWarning:!0})!==void 0){En=un[cn],_n="normal";break}}if(En===""){for(var mn=0;mn<un.length;mn++)if(Tn[un[mn]]){En=Tn[un[mn]];break}}En=En===""?"Times":En,this.pdf.setFont(En,_n)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(xe){this.ctx.globalCompositeOperation=xe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(xe){this.ctx.globalAlpha=xe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(xe){this.ctx.lineDashOffset=xe,te.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(xe){this.ctx.lineDash=xe,te.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(xe){this.ctx.ignoreClearRect=!!xe}})};x.prototype.setLineDash=function(P){this.lineDash=P},x.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},x.prototype.fill=function(){G.call(this,"fill",!1)},x.prototype.stroke=function(){G.call(this,"stroke",!1)},x.prototype.beginPath=function(){this.path=[{type:"begin"}]},x.prototype.moveTo=function(P,ie){if(isNaN(P)||isNaN(ie))throw Yi.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var O=this.ctx.transform.applyToPoint(new c(P,ie));this.path.push({type:"mt",x:O.x,y:O.y}),this.ctx.lastPoint=new c(P,ie)},x.prototype.closePath=function(){var P=new c(0,0),ie=0;for(ie=this.path.length-1;ie!==-1;ie--)if(this.path[ie].type==="begin"&&Ti(this.path[ie+1])==="object"&&typeof this.path[ie+1].x=="number"){P=new c(this.path[ie+1].x,this.path[ie+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new c(P.x,P.y)},x.prototype.lineTo=function(P,ie){if(isNaN(P)||isNaN(ie))throw Yi.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var O=this.ctx.transform.applyToPoint(new c(P,ie));this.path.push({type:"lt",x:O.x,y:O.y}),this.ctx.lastPoint=new c(O.x,O.y)},x.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),G.call(this,null,!0)},x.prototype.quadraticCurveTo=function(P,ie,O,ae){if(isNaN(O)||isNaN(ae)||isNaN(P)||isNaN(ie))throw Yi.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ue=this.ctx.transform.applyToPoint(new c(O,ae)),je=this.ctx.transform.applyToPoint(new c(P,ie));this.path.push({type:"qct",x1:je.x,y1:je.y,x:ue.x,y:ue.y}),this.ctx.lastPoint=new c(ue.x,ue.y)},x.prototype.bezierCurveTo=function(P,ie,O,ae,ue,je){if(isNaN(ue)||isNaN(je)||isNaN(P)||isNaN(ie)||isNaN(O)||isNaN(ae))throw Yi.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ve=this.ctx.transform.applyToPoint(new c(ue,je)),Ie=this.ctx.transform.applyToPoint(new c(P,ie)),lt=this.ctx.transform.applyToPoint(new c(O,ae));this.path.push({type:"bct",x1:Ie.x,y1:Ie.y,x2:lt.x,y2:lt.y,x:Ve.x,y:Ve.y}),this.ctx.lastPoint=new c(Ve.x,Ve.y)},x.prototype.arc=function(P,ie,O,ae,ue,je){if(isNaN(P)||isNaN(ie)||isNaN(O)||isNaN(ae)||isNaN(ue))throw Yi.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(je=!!je,!this.ctx.transform.isIdentity){var Ve=this.ctx.transform.applyToPoint(new c(P,ie));P=Ve.x,ie=Ve.y;var Ie=this.ctx.transform.applyToPoint(new c(0,O)),lt=this.ctx.transform.applyToPoint(new c(0,0));O=Math.sqrt(Math.pow(Ie.x-lt.x,2)+Math.pow(Ie.y-lt.y,2))}Math.abs(ue-ae)>=2*Math.PI&&(ae=0,ue=2*Math.PI),this.path.push({type:"arc",x:P,y:ie,radius:O,startAngle:ae,endAngle:ue,counterclockwise:je})},x.prototype.arcTo=function(P,ie,O,ae,ue){throw new Error("arcTo not implemented.")},x.prototype.rect=function(P,ie,O,ae){if(isNaN(P)||isNaN(ie)||isNaN(O)||isNaN(ae))throw Yi.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(P,ie),this.lineTo(P+O,ie),this.lineTo(P+O,ie+ae),this.lineTo(P,ie+ae),this.lineTo(P,ie),this.lineTo(P+O,ie),this.lineTo(P,ie)},x.prototype.fillRect=function(P,ie,O,ae){if(isNaN(P)||isNaN(ie)||isNaN(O)||isNaN(ae))throw Yi.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!w.call(this)){var ue={};this.lineCap!=="butt"&&(ue.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ue.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(P,ie,O,ae),this.fill(),ue.hasOwnProperty("lineCap")&&(this.lineCap=ue.lineCap),ue.hasOwnProperty("lineJoin")&&(this.lineJoin=ue.lineJoin)}},x.prototype.strokeRect=function(P,ie,O,ae){if(isNaN(P)||isNaN(ie)||isNaN(O)||isNaN(ae))throw Yi.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");I.call(this)||(this.beginPath(),this.rect(P,ie,O,ae),this.stroke())},x.prototype.clearRect=function(P,ie,O,ae){if(isNaN(P)||isNaN(ie)||isNaN(O)||isNaN(ae))throw Yi.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(P,ie,O,ae))},x.prototype.save=function(P){P=typeof P!="boolean"||P;for(var ie=this.pdf.internal.getCurrentPageInfo().pageNumber,O=0;O<this.pdf.internal.getNumberOfPages();O++)this.pdf.setPage(O+1),this.pdf.internal.out("q");if(this.pdf.setPage(ie),P){this.ctx.fontSize=this.pdf.internal.getFontSize();var ae=new g(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ae}},x.prototype.restore=function(P){P=typeof P!="boolean"||P;for(var ie=this.pdf.internal.getCurrentPageInfo().pageNumber,O=0;O<this.pdf.internal.getNumberOfPages();O++)this.pdf.setPage(O+1),this.pdf.internal.out("Q");this.pdf.setPage(ie),P&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},x.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var E=function(P){var ie,O,ae,ue;if(P.isCanvasGradient===!0&&(P=P.getColor()),!P)return{r:0,g:0,b:0,a:0,style:P};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(P))ie=0,O=0,ae=0,ue=0;else{var je=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(P);if(je!==null)ie=parseInt(je[1]),O=parseInt(je[2]),ae=parseInt(je[3]),ue=1;else if((je=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(P))!==null)ie=parseInt(je[1]),O=parseInt(je[2]),ae=parseInt(je[3]),ue=parseFloat(je[4]);else{if(ue=1,typeof P=="string"&&P.charAt(0)!=="#"){var Ve=new xN(P);P=Ve.ok?Ve.toHex():"#000000"}P.length===4?(ie=P.substring(1,2),ie+=ie,O=P.substring(2,3),O+=O,ae=P.substring(3,4),ae+=ae):(ie=P.substring(1,3),O=P.substring(3,5),ae=P.substring(5,7)),ie=parseInt(ie,16),O=parseInt(O,16),ae=parseInt(ae,16)}}return{r:ie,g:O,b:ae,a:ue,style:P}},w=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},I=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};x.prototype.fillText=function(P,ie,O,ae){if(isNaN(ie)||isNaN(O)||typeof P!="string")throw Yi.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ae=isNaN(ae)?void 0:ae,!w.call(this)){var ue=Z(this.ctx.transform.rotation),je=this.ctx.transform.scaleX;W.call(this,{text:P,x:ie,y:O,scale:je,angle:ue,align:this.textAlign,maxWidth:ae})}},x.prototype.strokeText=function(P,ie,O,ae){if(isNaN(ie)||isNaN(O)||typeof P!="string")throw Yi.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!I.call(this)){ae=isNaN(ae)?void 0:ae;var ue=Z(this.ctx.transform.rotation),je=this.ctx.transform.scaleX;W.call(this,{text:P,x:ie,y:O,scale:je,renderingMode:"stroke",angle:ue,align:this.textAlign,maxWidth:ae})}},x.prototype.measureText=function(P){if(typeof P!="string")throw Yi.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var ie=this.pdf,O=this.pdf.internal.scaleFactor,ae=ie.internal.getFontSize(),ue=ie.getStringUnitWidth(P)*ae/ie.internal.scaleFactor;return new function(je){var Ve=(je=je||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ve}}),this}({width:ue*=Math.round(96*O/72*1e4)/1e4})},x.prototype.scale=function(P,ie){if(isNaN(P)||isNaN(ie))throw Yi.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var O=new h(P,0,0,ie,0,0);this.ctx.transform=this.ctx.transform.multiply(O)},x.prototype.rotate=function(P){if(isNaN(P))throw Yi.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var ie=new h(Math.cos(P),Math.sin(P),-Math.sin(P),Math.cos(P),0,0);this.ctx.transform=this.ctx.transform.multiply(ie)},x.prototype.translate=function(P,ie){if(isNaN(P)||isNaN(ie))throw Yi.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var O=new h(1,0,0,1,P,ie);this.ctx.transform=this.ctx.transform.multiply(O)},x.prototype.transform=function(P,ie,O,ae,ue,je){if(isNaN(P)||isNaN(ie)||isNaN(O)||isNaN(ae)||isNaN(ue)||isNaN(je))throw Yi.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ve=new h(P,ie,O,ae,ue,je);this.ctx.transform=this.ctx.transform.multiply(Ve)},x.prototype.setTransform=function(P,ie,O,ae,ue,je){P=isNaN(P)?1:P,ie=isNaN(ie)?0:ie,O=isNaN(O)?0:O,ae=isNaN(ae)?1:ae,ue=isNaN(ue)?0:ue,je=isNaN(je)?0:je,this.ctx.transform=new h(P,ie,O,ae,ue,je)};var j=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};x.prototype.drawImage=function(P,ie,O,ae,ue,je,Ve,Ie,lt){var wt=this.pdf.getImageProperties(P),Xe=1,$t=1,on=1,xe=1;ae!==void 0&&Ie!==void 0&&(on=Ie/ae,xe=lt/ue,Xe=wt.width/ae*Ie/ae,$t=wt.height/ue*lt/ue),je===void 0&&(je=ie,Ve=O,ie=0,O=0),ae!==void 0&&Ie===void 0&&(Ie=ae,lt=ue),ae===void 0&&Ie===void 0&&(Ie=wt.width,lt=wt.height);var Ot=this.ctx.transform.decompose(),rn=Z(Ot.rotate.shx),dn=new h,xt=(dn=(dn=(dn=dn.multiply(Ot.translate)).multiply(Ot.skew)).multiply(Ot.scale)).applyToRectangle(new d(je-ie*on,Ve-O*xe,ae*Xe,ue*$t));if(this.autoPaging){for(var nn,Vt=F.call(this,xt),un=[],hn=0;hn<Vt.length;hn+=1)un.indexOf(Vt[hn])===-1&&un.push(Vt[hn]);D(un);for(var jn=un[0],Mn=un[un.length-1],_n=jn;_n<Mn+1;_n++){this.pdf.setPage(_n);var En=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Tn=_n===1?this.posY+this.margin[0]:this.margin[0],cn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],mn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],en=_n===1?0:cn+(_n-2)*mn;if(this.ctx.clip_path.length!==0){var Fe=this.path;nn=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=z(nn,this.posX+this.margin[3],-en+Tn+this.ctx.prevPageLastElemOffset),ce.call(this,"fill",!0),this.path=Fe}var yt=JSON.parse(JSON.stringify(xt));yt=z([yt],this.posX+this.margin[3],-en+Tn+this.ctx.prevPageLastElemOffset)[0];var jt=(_n>jn||_n<Mn)&&j.call(this);jt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],En,mn,null).clip().discardPath()),this.pdf.addImage(P,"JPEG",yt.x,yt.y,yt.w,yt.h,null,null,rn),jt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(P,"JPEG",xt.x,xt.y,xt.w,xt.h,null,null,rn)};var F=function(P,ie,O){var ae=[];ie=ie||this.pdf.internal.pageSize.width,O=O||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ue=this.posY+this.ctx.prevPageLastElemOffset;switch(P.type){default:case"mt":case"lt":ae.push(Math.floor((P.y+ue)/O)+1);break;case"arc":ae.push(Math.floor((P.y+ue-P.radius)/O)+1),ae.push(Math.floor((P.y+ue+P.radius)/O)+1);break;case"qct":var je=Ce(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x,P.y);ae.push(Math.floor((je.y+ue)/O)+1),ae.push(Math.floor((je.y+je.h+ue)/O)+1);break;case"bct":var Ve=Se(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x2,P.y2,P.x,P.y);ae.push(Math.floor((Ve.y+ue)/O)+1),ae.push(Math.floor((Ve.y+Ve.h+ue)/O)+1);break;case"rect":ae.push(Math.floor((P.y+ue)/O)+1),ae.push(Math.floor((P.y+P.h+ue)/O)+1)}for(var Ie=0;Ie<ae.length;Ie+=1)for(;this.pdf.internal.getNumberOfPages()<ae[Ie];)S.call(this);return ae},S=function(){var P=this.fillStyle,ie=this.strokeStyle,O=this.font,ae=this.lineCap,ue=this.lineWidth,je=this.lineJoin;this.pdf.addPage(),this.fillStyle=P,this.strokeStyle=ie,this.font=O,this.lineCap=ae,this.lineWidth=ue,this.lineJoin=je},z=function(P,ie,O){for(var ae=0;ae<P.length;ae++)switch(P[ae].type){case"bct":P[ae].x2+=ie,P[ae].y2+=O;case"qct":P[ae].x1+=ie,P[ae].y1+=O;default:P[ae].x+=ie,P[ae].y+=O}return P},D=function(P){return P.sort(function(ie,O){return ie-O})},G=function(P,ie){var O=this.fillStyle,ae=this.strokeStyle,ue=this.lineCap,je=this.lineWidth,Ve=Math.abs(je*this.ctx.transform.scaleX),Ie=this.lineJoin;if(this.autoPaging){for(var lt,wt,Xe=JSON.parse(JSON.stringify(this.path)),$t=JSON.parse(JSON.stringify(this.path)),on=[],xe=0;xe<$t.length;xe++)if($t[xe].x!==void 0)for(var Ot=F.call(this,$t[xe]),rn=0;rn<Ot.length;rn+=1)on.indexOf(Ot[rn])===-1&&on.push(Ot[rn]);for(var dn=0;dn<on.length;dn++)for(;this.pdf.internal.getNumberOfPages()<on[dn];)S.call(this);D(on);for(var xt=on[0],nn=on[on.length-1],Vt=xt;Vt<nn+1;Vt++){this.pdf.setPage(Vt),this.fillStyle=O,this.strokeStyle=ae,this.lineCap=ue,this.lineWidth=Ve,this.lineJoin=Ie;var un=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],hn=Vt===1?this.posY+this.margin[0]:this.margin[0],jn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Mn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],_n=Vt===1?0:jn+(Vt-2)*Mn;if(this.ctx.clip_path.length!==0){var En=this.path;lt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=z(lt,this.posX+this.margin[3],-_n+hn+this.ctx.prevPageLastElemOffset),ce.call(this,P,!0),this.path=En}if(wt=JSON.parse(JSON.stringify(Xe)),this.path=z(wt,this.posX+this.margin[3],-_n+hn+this.ctx.prevPageLastElemOffset),ie===!1||Vt===0){var Tn=(Vt>xt||Vt<nn)&&j.call(this);Tn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],un,Mn,null).clip().discardPath()),ce.call(this,P,ie),Tn&&this.pdf.restoreGraphicsState()}this.lineWidth=je}this.path=Xe}else this.lineWidth=Ve,ce.call(this,P,ie),this.lineWidth=je},ce=function(P,ie){if((P!=="stroke"||ie||!I.call(this))&&(P==="stroke"||ie||!w.call(this))){for(var O,ae,ue=[],je=this.path,Ve=0;Ve<je.length;Ve++){var Ie=je[Ve];switch(Ie.type){case"begin":ue.push({begin:!0});break;case"close":ue.push({close:!0});break;case"mt":ue.push({start:Ie,deltas:[],abs:[]});break;case"lt":var lt=ue.length;if(je[Ve-1]&&!isNaN(je[Ve-1].x)&&(O=[Ie.x-je[Ve-1].x,Ie.y-je[Ve-1].y],lt>0)){for(;lt>=0;lt--)if(ue[lt-1].close!==!0&&ue[lt-1].begin!==!0){ue[lt-1].deltas.push(O),ue[lt-1].abs.push(Ie);break}}break;case"bct":O=[Ie.x1-je[Ve-1].x,Ie.y1-je[Ve-1].y,Ie.x2-je[Ve-1].x,Ie.y2-je[Ve-1].y,Ie.x-je[Ve-1].x,Ie.y-je[Ve-1].y],ue[ue.length-1].deltas.push(O);break;case"qct":var wt=je[Ve-1].x+2/3*(Ie.x1-je[Ve-1].x),Xe=je[Ve-1].y+2/3*(Ie.y1-je[Ve-1].y),$t=Ie.x+2/3*(Ie.x1-Ie.x),on=Ie.y+2/3*(Ie.y1-Ie.y),xe=Ie.x,Ot=Ie.y;O=[wt-je[Ve-1].x,Xe-je[Ve-1].y,$t-je[Ve-1].x,on-je[Ve-1].y,xe-je[Ve-1].x,Ot-je[Ve-1].y],ue[ue.length-1].deltas.push(O);break;case"arc":ue.push({deltas:[],abs:[],arc:!0}),Array.isArray(ue[ue.length-1].abs)&&ue[ue.length-1].abs.push(Ie)}}ae=ie?null:P==="stroke"?"stroke":"fill";for(var rn=!1,dn=0;dn<ue.length;dn++)if(ue[dn].arc)for(var xt=ue[dn].abs,nn=0;nn<xt.length;nn++){var Vt=xt[nn];Vt.type==="arc"?re.call(this,Vt.x,Vt.y,Vt.radius,Vt.startAngle,Vt.endAngle,Vt.counterclockwise,void 0,ie,!rn):oe.call(this,Vt.x,Vt.y),rn=!0}else if(ue[dn].close===!0)this.pdf.internal.out("h"),rn=!1;else if(ue[dn].begin!==!0){var un=ue[dn].start.x,hn=ue[dn].start.y;me.call(this,ue[dn].deltas,un,hn),rn=!0}ae&&M.call(this,ae),ie&&X.call(this)}},Y=function(P){var ie=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,O=ie*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return P-O;case"top":return P+ie-O;case"hanging":return P+ie-2*O;case"middle":return P+ie/2-O;default:return P}},ge=function(P){return P+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};x.prototype.createLinearGradient=function(){var P=function(){};return P.colorStops=[],P.addColorStop=function(ie,O){this.colorStops.push([ie,O])},P.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},P.isCanvasGradient=!0,P},x.prototype.createPattern=function(){return this.createLinearGradient()},x.prototype.createRadialGradient=function(){return this.createLinearGradient()};var re=function(P,ie,O,ae,ue,je,Ve,Ie,lt){for(var wt=se.call(this,O,ae,ue,je),Xe=0;Xe<wt.length;Xe++){var $t=wt[Xe];Xe===0&&(lt?V.call(this,$t.x1+P,$t.y1+ie):oe.call(this,$t.x1+P,$t.y1+ie)),ye.call(this,P,ie,$t.x2,$t.y2,$t.x3,$t.y3,$t.x4,$t.y4)}Ie?X.call(this):M.call(this,Ve)},M=function(P){switch(P){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},X=function(){this.pdf.clip(),this.pdf.discardPath()},V=function(P,ie){this.pdf.internal.out(n(P)+" "+r(ie)+" m")},W=function(P){var ie;switch(P.align){case"right":case"end":ie="right";break;case"center":ie="center";break;default:ie="left"}var O,ae,ue,je=this.pdf.getTextDimensions(P.text),Ve=Y.call(this,P.y),Ie=ge.call(this,Ve)-je.h,lt=this.ctx.transform.applyToPoint(new c(P.x,Ve));if(this.autoPaging){var wt=this.ctx.transform.decompose(),Xe=new h;Xe=(Xe=(Xe=Xe.multiply(wt.translate)).multiply(wt.skew)).multiply(wt.scale);for(var $t=this.ctx.transform.applyToRectangle(new d(P.x,Ve,je.w,je.h)),on=Xe.applyToRectangle(new d(P.x,Ie,je.w,je.h)),xe=F.call(this,on),Ot=[],rn=0;rn<xe.length;rn+=1)Ot.indexOf(xe[rn])===-1&&Ot.push(xe[rn]);D(Ot);for(var dn=Ot[0],xt=Ot[Ot.length-1],nn=dn;nn<xt+1;nn++){this.pdf.setPage(nn);var Vt=nn===1?this.posY+this.margin[0]:this.margin[0],un=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],hn=this.pdf.internal.pageSize.height-this.margin[2],jn=hn-this.margin[0],Mn=this.pdf.internal.pageSize.width-this.margin[1],_n=Mn-this.margin[3],En=nn===1?0:un+(nn-2)*jn;if(this.ctx.clip_path.length!==0){var Tn=this.path;O=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=z(O,this.posX+this.margin[3],-1*En+Vt),ce.call(this,"fill",!0),this.path=Tn}var cn=z([JSON.parse(JSON.stringify(on))],this.posX+this.margin[3],-En+Vt+this.ctx.prevPageLastElemOffset)[0];P.scale>=.01&&(ae=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ae*P.scale),ue=this.lineWidth,this.lineWidth=ue*P.scale);var mn=this.autoPaging!=="text";if(mn||cn.y+cn.h<=hn){if(mn||cn.y>=Vt&&cn.x<=Mn){var en=mn?P.text:this.pdf.splitTextToSize(P.text,P.maxWidth||Mn-cn.x)[0],Fe=z([JSON.parse(JSON.stringify($t))],this.posX+this.margin[3],-En+Vt+this.ctx.prevPageLastElemOffset)[0],yt=mn&&(nn>dn||nn<xt)&&j.call(this);yt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],_n,jn,null).clip().discardPath()),this.pdf.text(en,Fe.x,Fe.y,{angle:P.angle,align:ie,renderingMode:P.renderingMode}),yt&&this.pdf.restoreGraphicsState()}}else cn.y<hn&&(this.ctx.prevPageLastElemOffset+=hn-cn.y);P.scale>=.01&&(this.pdf.setFontSize(ae),this.lineWidth=ue)}}else P.scale>=.01&&(ae=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ae*P.scale),ue=this.lineWidth,this.lineWidth=ue*P.scale),this.pdf.text(P.text,lt.x+this.posX,lt.y+this.posY,{angle:P.angle,align:ie,renderingMode:P.renderingMode,maxWidth:P.maxWidth}),P.scale>=.01&&(this.pdf.setFontSize(ae),this.lineWidth=ue)},oe=function(P,ie,O,ae){O=O||0,ae=ae||0,this.pdf.internal.out(n(P+O)+" "+r(ie+ae)+" l")},me=function(P,ie,O){return this.pdf.lines(P,ie,O,null,null)},ye=function(P,ie,O,ae,ue,je,Ve,Ie){this.pdf.internal.out([t(i(O+P)),t(s(ae+ie)),t(i(ue+P)),t(s(je+ie)),t(i(Ve+P)),t(s(Ie+ie)),"c"].join(" "))},se=function(P,ie,O,ae){for(var ue=2*Math.PI,je=Math.PI/2;ie>O;)ie-=ue;var Ve=Math.abs(O-ie);Ve<ue&&ae&&(Ve=ue-Ve);for(var Ie=[],lt=ae?-1:1,wt=ie;Ve>1e-5;){var Xe=wt+lt*Math.min(Ve,je);Ie.push(_e.call(this,P,wt,Xe)),Ve-=Math.abs(Xe-wt),wt=Xe}return Ie},_e=function(P,ie,O){var ae=(O-ie)/2,ue=P*Math.cos(ae),je=P*Math.sin(ae),Ve=ue,Ie=-je,lt=Ve*Ve+Ie*Ie,wt=lt+Ve*ue+Ie*je,Xe=4/3*(Math.sqrt(2*lt*wt)-wt)/(Ve*je-Ie*ue),$t=Ve-Xe*Ie,on=Ie+Xe*Ve,xe=$t,Ot=-on,rn=ae+ie,dn=Math.cos(rn),xt=Math.sin(rn);return{x1:P*Math.cos(ie),y1:P*Math.sin(ie),x2:$t*dn-on*xt,y2:$t*xt+on*dn,x3:xe*dn-Ot*xt,y3:xe*xt+Ot*dn,x4:P*Math.cos(O),y4:P*Math.sin(O)}},Z=function(P){return 180*P/Math.PI},Ce=function(P,ie,O,ae,ue,je){var Ve=P+.5*(O-P),Ie=ie+.5*(ae-ie),lt=ue+.5*(O-ue),wt=je+.5*(ae-je),Xe=Math.min(P,ue,Ve,lt),$t=Math.max(P,ue,Ve,lt),on=Math.min(ie,je,Ie,wt),xe=Math.max(ie,je,Ie,wt);return new d(Xe,on,$t-Xe,xe-on)},Se=function(P,ie,O,ae,ue,je,Ve,Ie){var lt,wt,Xe,$t,on,xe,Ot,rn,dn,xt,nn,Vt,un,hn,jn=O-P,Mn=ae-ie,_n=ue-O,En=je-ae,Tn=Ve-ue,cn=Ie-je;for(wt=0;wt<41;wt++)dn=(Ot=(Xe=P+(lt=wt/40)*jn)+lt*((on=O+lt*_n)-Xe))+lt*(on+lt*(ue+lt*Tn-on)-Ot),xt=(rn=($t=ie+lt*Mn)+lt*((xe=ae+lt*En)-$t))+lt*(xe+lt*(je+lt*cn-xe)-rn),wt==0?(nn=dn,Vt=xt,un=dn,hn=xt):(nn=Math.min(nn,dn),Vt=Math.min(Vt,xt),un=Math.max(un,dn),hn=Math.max(hn,xt));return new d(Math.round(nn),Math.round(Vt),Math.round(un-nn),Math.round(hn-Vt))},te=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var P,ie,O=(P=this.ctx.lineDash,ie=this.ctx.lineDashOffset,JSON.stringify({lineDash:P,lineDashOffset:ie}));this.prevLineDash!==O&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=O)}}})(qn.API),(function(e){var t=function(c){var d,h,f,g,x,E,w,I,j,F;for(h=[],f=0,g=(c+=d="\0\0\0\0".slice(c.length%4||4)).length;g>f;f+=4)(x=(c.charCodeAt(f)<<24)+(c.charCodeAt(f+1)<<16)+(c.charCodeAt(f+2)<<8)+c.charCodeAt(f+3))!==0?(E=(x=((x=((x=((x=(x-(F=x%85))/85)-(j=x%85))/85)-(I=x%85))/85)-(w=x%85))/85)%85,h.push(E+33,w+33,I+33,j+33,F+33)):h.push(122);return(function(S,z){for(var D=z;D>0;D--)S.pop()})(h,d.length),String.fromCharCode.apply(String,h)+"~>"},n=function(c){var d,h,f,g,x,E=String,w="length",I=255,j="charCodeAt",F="slice",S="replace";for(c[F](-2),c=c[F](0,-2)[S](/\s/g,"")[S]("z","!!!!!"),f=[],g=0,x=(c+=d="uuuuu"[F](c[w]%5||5))[w];x>g;g+=5)h=52200625*(c[j](g)-33)+614125*(c[j](g+1)-33)+7225*(c[j](g+2)-33)+85*(c[j](g+3)-33)+(c[j](g+4)-33),f.push(I&h>>24,I&h>>16,I&h>>8,I&h);return(function(z,D){for(var G=D;G>0;G--)z.pop()})(f,d[w]),E.fromCharCode.apply(E,f)},r=function(c){return c.split("").map(function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(c){var d=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((c=c.replace(/\s/g,"")).indexOf(">")!==-1&&(c=c.substr(0,c.indexOf(">"))),c.length%2&&(c+="0"),d.test(c)===!1)return"";for(var h="",f=0;f<c.length;f+=2)h+=String.fromCharCode("0x"+(c[f]+c[f+1]));return h},s=function(c){for(var d=new Uint8Array(c.length),h=c.length;h--;)d[h]=c.charCodeAt(h);return(d=kx(d)).reduce(function(f,g){return f+String.fromCharCode(g)},"")};e.processDataByFilters=function(c,d){var h=0,f=c||"",g=[];for(typeof(d=d||[])=="string"&&(d=[d]),h=0;h<d.length;h+=1)switch(d[h]){case"ASCII85Decode":case"/ASCII85Decode":f=n(f),g.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":f=t(f),g.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":f=i(f),g.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":f=r(f),g.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":f=s(f),g.push("/FlateDecode");break;default:throw new Error('The filter: "'+d[h]+'" is not implemented')}return{data:f,reverseChain:g.reverse().join(" ")}}})(qn.API),(function(e){e.loadFile=function(t,n,r){return(function(i,s,c){s=s!==!1,c=typeof c=="function"?c:function(){};var d=void 0;try{d=(function(h,f,g){var x=new XMLHttpRequest,E=0,w=function(I){var j=I.length,F=[],S=String.fromCharCode;for(E=0;E<j;E+=1)F.push(S(255&I.charCodeAt(E)));return F.join("")};if(x.open("GET",h,!f),x.overrideMimeType("text/plain; charset=x-user-defined"),f===!1&&(x.onload=function(){x.status===200?g(w(this.responseText)):g(void 0)}),x.send(null),f&&x.status===200)return w(x.responseText)})(i,s,c)}catch{}return d})(t,n,r)},e.loadImageFile=e.loadFile})(qn.API),(function(e){function t(){return(pr.html2canvas?Promise.resolve(pr.html2canvas):ev(()=>Promise.resolve().then(()=>R6),void 0)).catch(function(d){return Promise.reject(new Error("Could not load html2canvas: "+d))}).then(function(d){return d.default?d.default:d})}function n(){return(pr.DOMPurify?Promise.resolve(pr.DOMPurify):ev(()=>import("./purify.es-B9ZVCkUG.js"),[])).catch(function(d){return Promise.reject(new Error("Could not load dompurify: "+d))}).then(function(d){return d.default?d.default:d})}var r=function(d){var h=Ti(d);return h==="undefined"?"undefined":h==="string"||d instanceof String?"string":h==="number"||d instanceof Number?"number":h==="function"||d instanceof Function?"function":d&&d.constructor===Array?"array":d&&d.nodeType===1?"element":h==="object"?"object":"unknown"},i=function(d,h){var f=document.createElement(d);for(var g in h.className&&(f.className=h.className),h.innerHTML&&h.dompurify&&(f.innerHTML=h.dompurify.sanitize(h.innerHTML)),h.style)f.style[g]=h.style[g];return f},s=function d(h,f){for(var g=h.nodeType===3?document.createTextNode(h.nodeValue):h.cloneNode(!1),x=h.firstChild;x;x=x.nextSibling)f!==!0&&x.nodeType===1&&x.nodeName==="SCRIPT"||g.appendChild(d(x,f));return h.nodeType===1&&(h.nodeName==="CANVAS"?(g.width=h.width,g.height=h.height,g.getContext("2d").drawImage(h,0,0)):h.nodeName!=="TEXTAREA"&&h.nodeName!=="SELECT"||(g.value=h.value),g.addEventListener("load",function(){g.scrollTop=h.scrollTop,g.scrollLeft=h.scrollLeft},!0)),g},c=function d(h){var f=Object.assign(d.convert(Promise.resolve()),JSON.parse(JSON.stringify(d.template))),g=d.convert(Promise.resolve(),f);return(g=g.setProgress(1,d,1,[d])).set(h)};(c.prototype=Object.create(Promise.prototype)).constructor=c,c.convert=function(d,h){return d.__proto__=h||c.prototype,d},c.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},c.prototype.from=function(d,h){return this.then(function(){switch(h=h||(function(f){switch(r(f)){case"string":return"string";case"element":return f.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(d),h){case"string":return this.then(n).then(function(f){return this.set({src:i("div",{innerHTML:d,dompurify:f})})});case"element":return this.set({src:d});case"canvas":return this.set({canvas:d});case"img":return this.set({img:d});default:return this.error("Unknown source type.")}})},c.prototype.to=function(d){switch(d){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},c.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var d={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},h=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);h.tagName==="BODY"&&(d.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:d}),this.prop.container.appendChild(h),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},c.prototype.toCanvas=function(){var d=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(d).then(t).then(function(h){var f=Object.assign({},this.opt.html2canvas);return delete f.onrendered,h(this.prop.container,f)}).then(function(h){(this.opt.html2canvas.onrendered||function(){})(h),this.prop.canvas=h,document.body.removeChild(this.prop.overlay)})},c.prototype.toContext2d=function(){var d=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(d).then(t).then(function(h){var f=this.opt.jsPDF,g=this.opt.fontFaces,x=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,E=Object.assign({async:!0,allowTaint:!0,scale:x,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete E.onrendered,f.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,f.context2d.posX=this.opt.x,f.context2d.posY=this.opt.y,f.context2d.margin=this.opt.margin,f.context2d.fontFaces=g,g)for(var w=0;w<g.length;++w){var I=g[w],j=I.src.find(function(F){return F.format==="truetype"});j&&f.addFont(j.url,I.ref.name,I.ref.style)}return E.windowHeight=E.windowHeight||0,E.windowHeight=E.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):E.windowHeight,f.context2d.save(!0),h(this.prop.container,E)}).then(function(h){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(h),this.prop.canvas=h,document.body.removeChild(this.prop.overlay)})},c.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var d=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=d})},c.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},c.prototype.output=function(d,h,f){return(f=f||"pdf").toLowerCase()==="img"||f.toLowerCase()==="image"?this.outputImg(d,h):this.outputPdf(d,h)},c.prototype.outputPdf=function(d,h){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(d,h)})},c.prototype.outputImg=function(d){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(d){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+d+'" is not supported.'}})},c.prototype.save=function(d){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(d?{filename:d}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},c.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},c.prototype.set=function(d){if(r(d)!=="object")return this;var h=Object.keys(d||{}).map(function(f){if(f in c.template.prop)return function(){this.prop[f]=d[f]};switch(f){case"margin":return this.setMargin.bind(this,d.margin);case"jsPDF":return function(){return this.opt.jsPDF=d.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,d.pageSize);default:return function(){this.opt[f]=d[f]}}},this);return this.then(function(){return this.thenList(h)})},c.prototype.get=function(d,h){return this.then(function(){var f=d in c.template.prop?this.prop[d]:this.opt[d];return h?h(f):f})},c.prototype.setMargin=function(d){return this.then(function(){switch(r(d)){case"number":d=[d,d,d,d];case"array":if(d.length===2&&(d=[d[0],d[1],d[0],d[1]]),d.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=d}).then(this.setPageSize)},c.prototype.setPageSize=function(d){function h(f,g){return Math.floor(f*g/72*96)}return this.then(function(){(d=d||qn.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(d.inner={width:d.width-this.opt.margin[1]-this.opt.margin[3],height:d.height-this.opt.margin[0]-this.opt.margin[2]},d.inner.px={width:h(d.inner.width,d.k),height:h(d.inner.height,d.k)},d.inner.ratio=d.inner.height/d.inner.width),this.prop.pageSize=d})},c.prototype.setProgress=function(d,h,f,g){return d!=null&&(this.progress.val=d),h!=null&&(this.progress.state=h),f!=null&&(this.progress.n=f),g!=null&&(this.progress.stack=g),this.progress.ratio=this.progress.val/this.progress.state,this},c.prototype.updateProgress=function(d,h,f,g){return this.setProgress(d?this.progress.val+d:null,h||null,f?this.progress.n+f:null,g?this.progress.stack.concat(g):null)},c.prototype.then=function(d,h){var f=this;return this.thenCore(d,h,function(g,x){return f.updateProgress(null,null,1,[g]),Promise.prototype.then.call(this,function(E){return f.updateProgress(null,g),E}).then(g,x).then(function(E){return f.updateProgress(1),E})})},c.prototype.thenCore=function(d,h,f){f=f||Promise.prototype.then;var g=this;d&&(d=d.bind(g)),h&&(h=h.bind(g));var x=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?g:c.convert(Object.assign({},g),Promise.prototype),E=f.call(x,d,h);return c.convert(E,g.__proto__)},c.prototype.thenExternal=function(d,h){return Promise.prototype.then.call(this,d,h)},c.prototype.thenList=function(d){var h=this;return d.forEach(function(f){h=h.thenCore(f)}),h},c.prototype.catch=function(d){d&&(d=d.bind(this));var h=Promise.prototype.catch.call(this,d);return c.convert(h,this)},c.prototype.catchExternal=function(d){return Promise.prototype.catch.call(this,d)},c.prototype.error=function(d){return this.then(function(){throw new Error(d)})},c.prototype.using=c.prototype.set,c.prototype.saveAs=c.prototype.save,c.prototype.export=c.prototype.output,c.prototype.run=c.prototype.then,qn.getPageSize=function(d,h,f){if(Ti(d)==="object"){var g=d;d=g.orientation,h=g.unit||h,f=g.format||f}h=h||"mm",f=f||"a4",d=(""+(d||"P")).toLowerCase();var x,E=(""+f).toLowerCase(),w={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(h){case"pt":x=1;break;case"mm":x=72/25.4;break;case"cm":x=72/2.54;break;case"in":x=72;break;case"px":x=.75;break;case"pc":case"em":x=12;break;case"ex":x=6;break;default:throw"Invalid unit: "+h}var I,j=0,F=0;if(w.hasOwnProperty(E))j=w[E][1]/x,F=w[E][0]/x;else try{j=f[1],F=f[0]}catch{throw new Error("Invalid format: "+f)}if(d==="p"||d==="portrait")d="p",F>j&&(I=F,F=j,j=I);else{if(d!=="l"&&d!=="landscape")throw"Invalid orientation: "+d;d="l",j>F&&(I=F,F=j,j=I)}return{width:F,height:j,unit:h,k:x,orientation:d}},e.html=function(d,h){(h=h||{}).callback=h.callback||function(){},h.html2canvas=h.html2canvas||{},h.html2canvas.canvas=h.html2canvas.canvas||this.canvas,h.jsPDF=h.jsPDF||this,h.fontFaces=h.fontFaces?h.fontFaces.map(vv):null;var f=new c(h);return h.worker?f:f.from(d).doCallback()}})(qn.API),qn.API.addJS=function(e){return T2=e,this.internal.events.subscribe("postPutResources",function(){Up=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Up+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),I2=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+T2+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Up!==void 0&&I2!==void 0&&this.internal.out("/Names <</JavaScript "+Up+" 0 R>>")}),this},(function(e){var t;e.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var c=i[s],d=r.exec(c);if(d!=null){var h=d[1];n.internal.newObjectDeferredBegin(h,!1)}n.internal.write(c)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,g=[];for(s=0;s<f;s++){var x=n.internal.newObject();g.push(x);var E=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+E.objId+" 0 R /XYZ null null null]>> endobj")}var w=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<g.length;s++)n.internal.write("(page_"+(s+1)+")"+g[s]+" 0 R");n.internal.write(" ] >>","endobj"),t=n.internal.newObject(),n.internal.write("<< /Dests "+w+" 0 R"),n.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var c={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(c),c},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var c=r.children[s];this.objStart(c),this.line("/Title "+this.makeString(c.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),c.children.length>0&&(this.line("/First "+this.makeRef(c.children[0])),this.line("/Last "+this.makeRef(c.children[c.children.length-1])));var d=this.count=this.count_r({count:0},c);if(d>0&&this.line("/Count "+d),c.options&&c.options.pageNumber){var h=n.internal.getPageInfo(c.options.pageNumber);this.line("/Dest ["+h.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var f=0;f<r.children.length;f++)this.renderItems(r.children[f])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])})(qn.API),(function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(n,r,i,s,c,d){var h,f=this.decode.DCT_DECODE,g=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=c||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,h=(function(x){for(var E,w=256*x.charCodeAt(4)+x.charCodeAt(5),I=x.length,j={width:0,height:0,numcomponents:1},F=4;F<I;F+=2){if(F+=w,t.indexOf(x.charCodeAt(F+1))!==-1){E=256*x.charCodeAt(F+5)+x.charCodeAt(F+6),j={width:256*x.charCodeAt(F+7)+x.charCodeAt(F+8),height:E,numcomponents:x.charCodeAt(F+9)};break}w=256*x.charCodeAt(F+2)+x.charCodeAt(F+3)}return j})(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),h.numcomponents){case 1:d=this.color_spaces.DEVICE_GRAY;break;case 4:d=this.color_spaces.DEVICE_CMYK;break;case 3:d=this.color_spaces.DEVICE_RGB}g={data:n,width:h.width,height:h.height,colorSpace:d,bitsPerComponent:8,filter:f,index:r,alias:i}}return g}})(qn.API),qn.API.processPNG=function(e,t,n,r){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var i,s=ZO(e,{checkCrc:!0}),c=s.width,d=s.height,h=s.channels,f=s.palette,g=s.depth;i=f&&h===1?(function(re){for(var M=re.width,X=re.height,V=re.data,W=re.palette,oe=re.depth,me=!1,ye=[],se=[],_e=void 0,Z=!1,Ce=0,Se=0;Se<W.length;Se++){var te=D1(W[Se],4),P=te[0],ie=te[1],O=te[2],ae=te[3];ye.push(P,ie,O),ae!=null&&(ae===0?(Ce++,se.length<1&&se.push(Se)):ae<255&&(Z=!0))}if(Z||Ce>1){me=!0,se=void 0;var ue=M*X;_e=new Uint8Array(ue);for(var je=new DataView(V.buffer),Ve=0;Ve<ue;Ve++){var Ie=bv(je,Ve,oe),lt=D1(W[Ie],4)[3];_e[Ve]=lt}}else Ce===0&&(se=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:me?8:void 0,colorBytes:V,alphaBytes:_e,needSMask:me,palette:ye,mask:se}})(s):h===2||h===4?(function(re){for(var M=re.data,X=re.width,V=re.height,W=re.channels,oe=re.depth,me=W===2?"DeviceGray":"DeviceRGB",ye=W-1,se=X*V,_e=ye,Z=se*_e,Ce=1*se,Se=Math.ceil(Z*oe/8),te=Math.ceil(Ce*oe/8),P=new Uint8Array(Se),ie=new Uint8Array(te),O=new DataView(M.buffer),ae=new DataView(P.buffer),ue=new DataView(ie.buffer),je=!1,Ve=0;Ve<se;Ve++){for(var Ie=Ve*W,lt=0;lt<_e;lt++)z2(ae,bv(O,Ie+lt,oe),Ve*_e+lt,oe);var wt=bv(O,Ie+_e,oe);wt<(1<<oe)-1&&(je=!0),z2(ue,wt,1*Ve,oe)}return{colorSpace:me,colorsPerPixel:ye,sMaskBitsPerComponent:je?oe:void 0,colorBytes:P,alphaBytes:ie,needSMask:je}})(s):(function(re){var M=re.data,X=re.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:X,colorsPerPixel:X==="DeviceGray"?1:3,colorBytes:M instanceof Uint16Array?(function(V){for(var W=V.length,oe=new Uint8Array(2*W),me=new DataView(oe.buffer,oe.byteOffset,oe.byteLength),ye=0;ye<W;ye++)me.setUint16(2*ye,V[ye],!1);return oe})(M):M,needSMask:!1}})(s);var x,E,w,I=i,j=I.colorSpace,F=I.colorsPerPixel,S=I.sMaskBitsPerComponent,z=I.colorBytes,D=I.alphaBytes,G=I.needSMask,ce=I.palette,Y=I.mask,ge=null;return r!==qn.API.image_compression.NONE&&typeof kx=="function"?(ge=(function(re){var M;switch(re){case qn.API.image_compression.FAST:M=11;break;case qn.API.image_compression.MEDIUM:M=13;break;case qn.API.image_compression.SLOW:M=14;break;default:M=12}return M})(r),x=this.decode.FLATE_DECODE,E="/Predictor ".concat(ge," /Colors ").concat(F," /BitsPerComponent ").concat(g," /Columns ").concat(c),e=D2(z,Math.ceil(c*F*g/8),F,g,r),G&&(w=D2(D,Math.ceil(c*S/8),1,S,r))):(x=void 0,E=void 0,e=z,G&&(w=D)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(w&&this.__addimage__.isArrayBuffer(w)||this.__addimage__.isArrayBufferView(w))&&(w=this.__addimage__.arrayBufferToBinaryString(w)),{alias:n,data:e,index:t,filter:x,decodeParameters:E,transparency:Y,palette:ce,sMask:w,predictor:ge,width:c,height:d,bitsPerComponent:g,sMaskBitsPerComponent:S,colorSpace:j}}},(function(e){e.processGIF89A=function(t,n,r,i){var s=new pQ(t),c=s.width,d=s.height,h=[];s.decodeAndBlitFrameRGBA(0,h);var f={data:h,width:c,height:d},g=new yv(100).encode(f,100);return e.processJPEG.call(this,g,n,r,i)},e.processGIF87A=e.processGIF89A})(qn.API),Il.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Il.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(n){Yi.log("bit decode error:"+n)}},Il.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var s=this.datav.getUint8(this.pos++,!0),c=r*this.width*4+8*i*4,d=0;d<8&&8*i+d<this.width;d++){var h=this.palette[s>>7-d&1];this.data[c+4*d]=h.blue,this.data[c+4*d+1]=h.green,this.data[c+4*d+2]=h.red,this.data[c+4*d+3]=255}n!==0&&(this.pos+=4-n)}},Il.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++){var s=this.datav.getUint8(this.pos++,!0),c=r*this.width*4+2*i*4,d=s>>4,h=15&s,f=this.palette[d];if(this.data[c]=f.blue,this.data[c+1]=f.green,this.data[c+2]=f.red,this.data[c+3]=255,2*i+1>=this.width)break;f=this.palette[h],this.data[c+4]=f.blue,this.data[c+4+1]=f.green,this.data[c+4+2]=f.red,this.data[c+4+3]=255}t!==0&&(this.pos+=4-t)}},Il.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var c=this.palette[i];this.data[s]=c.red,this.data[s+1]=c.green,this.data[s+2]=c.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}e!==0&&(this.pos+=4-e)}},Il.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(s&t)/t*255|0,d=(s>>5&t)/t*255|0,h=(s>>10&t)/t*255|0,f=s>>15?255:0,g=r*this.width*4+4*i;this.data[g]=h,this.data[g+1]=d,this.data[g+2]=c,this.data[g+3]=f}this.pos+=e}},Il.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var c=this.datav.getUint16(this.pos,!0);this.pos+=2;var d=(c&t)/t*255|0,h=(c>>5&n)/n*255|0,f=(c>>11)/t*255|0,g=i*this.width*4+4*s;this.data[g]=f,this.data[g+1]=h,this.data[g+2]=d,this.data[g+3]=255}this.pos+=e}},Il.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),c=t*this.width*4+4*n;this.data[c]=s,this.data[c+1]=i,this.data[c+2]=r,this.data[c+3]=255}this.pos+=this.width%4}},Il.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),d=t*this.width*4+4*n;this.data[d]=s,this.data[d+1]=i,this.data[d+2]=r,this.data[d+3]=c}},Il.prototype.getData=function(){return this.data},(function(e){e.processBMP=function(t,n,r,i){var s=new Il(t,!1),c=s.width,d=s.height,h={data:s.getData(),width:c,height:d},f=new yv(100).encode(h,100);return e.processJPEG.call(this,f,n,r,i)}})(qn.API),K2.prototype.getData=function(){return this.data},(function(e){e.processWEBP=function(t,n,r,i){var s=new K2(t),c=s.width,d=s.height,h={data:s.getData(),width:c,height:d},f=new yv(100).encode(h,100);return e.processJPEG.call(this,f,n,r,i)}})(qn.API),qn.API.processRGBA=function(e,t,n){for(var r=e.data,i=r.length,s=new Uint8Array(i/4*3),c=new Uint8Array(i/4),d=0,h=0,f=0;f<i;f+=4){var g=r[f],x=r[f+1],E=r[f+2],w=r[f+3];s[d++]=g,s[d++]=x,s[d++]=E,c[h++]=w}var I=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(c),data:I,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},qn.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Hu=qn.API,Ip=Hu.getCharWidthsArray=function(e,t){var n,r,i=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),c=t.charSpace||this.internal.getCharSpace(),d=t.widths?t.widths:i.metadata.Unicode.widths,h=d.fof?d.fof:1,f=t.kerning?t.kerning:i.metadata.Unicode.kerning,g=f.fof?f.fof:1,x=t.doKerning!==!1,E=0,w=e.length,I=0,j=d[0]||h,F=[];for(n=0;n<w;n++)r=e.charCodeAt(n),typeof i.metadata.widthOfString=="function"?F.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+c*(1e3/s)||0)/1e3):(E=x&&Ti(f[r])==="object"&&!isNaN(parseInt(f[r][I],10))?f[r][I]/g:0,F.push((d[r]||j)/h+E)),I=r;return F},F2=Hu.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return Hu.processArabic&&(e=Hu.processArabic(e)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(e,n,i)/n:Ip.apply(this,arguments).reduce(function(s,c){return s+c},0)},O2=function(e,t,n,r){for(var i=[],s=0,c=e.length,d=0;s!==c&&d+t[s]<n;)d+=t[s],s++;i.push(e.slice(0,s));var h=s;for(d=0;s!==c;)d+t[s]>r&&(i.push(e.slice(h,s)),d=0,h=s),d+=t[s],s++;return h!==s&&i.push(e.slice(h,s)),i},Q2=function(e,t,n){n||(n={});var r,i,s,c,d,h,f,g=[],x=[g],E=n.textIndent||0,w=0,I=0,j=e.split(" "),F=Ip.apply(this,[" ",n])[0];if(h=n.lineIndent===-1?j[0].length+2:n.lineIndent||0){var S=Array(h).join(" "),z=[];j.map(function(G){(G=G.split(/\s*\n/)).length>1?z=z.concat(G.map(function(ce,Y){return(Y&&ce.length?`
`:"")+ce})):z.push(G[0])}),j=z,h=F2.apply(this,[S,n])}for(s=0,c=j.length;s<c;s++){var D=0;if(r=j[s],h&&r[0]==`
`&&(r=r.substr(1),D=1),E+w+(I=(i=Ip.apply(this,[r,n])).reduce(function(G,ce){return G+ce},0))>t||D){if(I>t){for(d=O2.apply(this,[r,i,t-(E+w),t]),g.push(d.shift()),g=[d.pop()];d.length;)x.push([d.shift()]);I=i.slice(r.length-(g[0]?g[0].length:0)).reduce(function(G,ce){return G+ce},0)}else g=[r];x.push(g),E=I+h,w=F}else g.push(r),E+=w+I,w=F}return f=h?function(G,ce){return(ce?S:"")+G.join(" ")}:function(G){return G.join(" ")},x.map(f)},Hu.splitTextToSize=function(e,t,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(g){if(g.widths&&g.kerning)return{widths:g.widths,kerning:g.kerning};var x=this.internal.getFont(g.fontName,g.fontStyle),E="Unicode";return x.metadata[E]?{widths:x.metadata[E].widths||{0:1},kerning:x.metadata[E].kerning||{}}:{font:x.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var c=1*this.internal.scaleFactor*t/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var d,h,f=[];for(d=0,h=r.length;d<h;d++)f=f.concat(Q2.apply(this,[r[d],c,s]));return f},(function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",n="klmnopqrstuvwxyz",r={},i={},s=0;s<16;s++)r[n[s]]=t[s],i[t[s]]=n[s];var c=function(E){return"0x"+parseInt(E,10).toString(16)},d=e.__fontmetrics__.compress=function(E){var w,I,j,F,S=["{"];for(var z in E){if(w=E[z],isNaN(parseInt(z,10))?I="'"+z+"'":(z=parseInt(z,10),I=(I=c(z).slice(2)).slice(0,-1)+i[I.slice(-1)]),typeof w=="number")w<0?(j=c(w).slice(3),F="-"):(j=c(w).slice(2),F=""),j=F+j.slice(0,-1)+i[j.slice(-1)];else{if(Ti(w)!=="object")throw new Error("Don't know what to do with value type "+Ti(w)+".");j=d(w)}S.push(I+j)}return S.push("}"),S.join("")},h=e.__fontmetrics__.uncompress=function(E){if(typeof E!="string")throw new Error("Invalid argument passed to uncompress.");for(var w,I,j,F,S={},z=1,D=S,G=[],ce="",Y="",ge=E.length-1,re=1;re<ge;re+=1)(F=E[re])=="'"?w?(j=w.join(""),w=void 0):w=[]:w?w.push(F):F=="{"?(G.push([D,j]),D={},j=void 0):F=="}"?((I=G.pop())[0][I[1]]=D,j=void 0,D=I[0]):F=="-"?z=-1:j===void 0?r.hasOwnProperty(F)?(ce+=r[F],j=parseInt(ce,16)*z,z=1,ce=""):ce+=F:r.hasOwnProperty(F)?(Y+=r[F],D[j]=parseInt(Y,16)*z,z=1,j=void 0,Y=""):Y+=F;return S},f={codePages:["WinAnsiEncoding"],WinAnsiEncoding:h("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},g={Unicode:{Courier:f,"Courier-Bold":f,"Courier-BoldOblique":f,"Courier-Oblique":f,Helvetica:f,"Helvetica-Bold":f,"Helvetica-BoldOblique":f,"Helvetica-Oblique":f,"Times-Roman":f,"Times-Bold":f,"Times-BoldItalic":f,"Times-Italic":f}},x={Unicode:{"Courier-Oblique":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":h("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":h("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":h("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:h("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:h("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":h("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:h("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":h("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":h("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":h("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(E){var w=E.font,I=x.Unicode[w.postScriptName];I&&(w.metadata.Unicode={},w.metadata.Unicode.widths=I.widths,w.metadata.Unicode.kerning=I.kerning);var j=g.Unicode[w.postScriptName];j&&(w.metadata.Unicode.encoding=j,w.encoding=j.codePages[0])}])})(qn.API),(function(e){var t=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};e.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(c,d){d=/^\x00\x01\x00\x00/.test(d)?t(d):t(Jp(d)),c.metadata=e.API.TTFFont.open(d),c.metadata.Unicode=c.metadata.Unicode||{encoding:{},kerning:{},widths:[]},c.metadata.glyIdsUsed=[0]})(i,r)}}])})(qn),qn.API.addSvgAsImage=function(e,t,n,r,i,s,c,d){if(isNaN(t)||isNaN(n))throw Yi.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw Yi.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var h=document.createElement("canvas");h.width=r,h.height=i;var f=h.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,h.width,h.height);var g={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},x=this;return(pr.canvg?Promise.resolve(pr.canvg):ev(()=>import("./index.es-DFoBULK1.js"),[])).catch(function(E){return Promise.reject(new Error("Could not load canvg: "+E))}).then(function(E){return E.default?E.default:E}).then(function(E){return E.fromString(f,e,g)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(E){return E.render(g)}).then(function(){x.addImage(h.toDataURL("image/jpeg",1),t,n,r,i,c,d)})},qn.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(t,n);return this},qn.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var r,i,s,c={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},d=Object.keys(c),h=[],f=0,g=0,x=0;function E(I,j){var F,S=!1;for(F=0;F<I.length;F+=1)I[F]===j&&(S=!0);return S}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(c)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var w=d.length;for(x=0;x<w;x+=1)n[d[x]].value=n[d[x]].defaultValue,n[d[x]].explicitSet=!1}if(Ti(e)==="object"){for(i in e)if(s=e[i],E(d,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&E(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(f=0;f<s.length;f+=1)if(r=!0,s[f].length===1&&typeof s[f][0]=="number")h.push(String(s[f]-1));else if(s[f].length>1){for(g=0;g<s[f].length;g+=1)typeof s[f][g]!="number"&&(r=!1);r===!0&&h.push([s[f][0]-1,s[f][1]-1].join(" "))}n[i].value="["+h.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var I,j=[];for(I in n)n[I].explicitSet===!0&&(n[I].type==="name"?j.push("/"+I+" /"+n[I].value):j.push("/"+I+" "+n[I].value));j.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+j.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},(function(e){var t=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),c=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),d=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),h=unescape(encodeURIComponent("</x:xmpmeta>")),f=s.length+c.length+d.length+i.length+h.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+f+" >>"),this.internal.write("stream"),this.internal.write(i+s+c+d+h),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}})(qn.API),(function(e){var t=e.API,n=t.pdfEscape16=function(s,c){for(var d,h=c.metadata.Unicode.widths,f=["","0","00","000","0000"],g=[""],x=0,E=s.length;x<E;++x){if(d=c.metadata.characterToGlyph(s.charCodeAt(x)),c.metadata.glyIdsUsed.push(d),c.metadata.toUnicode[d]=s.charCodeAt(x),h.indexOf(d)==-1&&(h.push(d),h.push([parseInt(c.metadata.widthOfGlyph(d),10)])),d=="0")return g.join("");d=d.toString(16),g.push(f[4-d.length],d)}return g.join("")},r=function(s){var c,d,h,f,g,x,E;for(g=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,h=[],x=0,E=(d=Object.keys(s).sort(function(w,I){return w-I})).length;x<E;x++)c=d[x],h.length>=100&&(g+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar`,h=[]),s[c]!==void 0&&s[c]!==null&&typeof s[c].toString=="function"&&(f=("0000"+s[c].toString(16)).slice(-4),c=("0000"+(+c).toString(16)).slice(-4),h.push("<"+c+"><"+f+">"));return h.length&&(g+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar
`),g+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(s){(function(c){var d=c.font,h=c.out,f=c.newObject,g=c.putStream;if(d.metadata instanceof e.API.TTFFont&&d.encoding==="Identity-H"){for(var x=d.metadata.Unicode.widths,E=d.metadata.subset.encode(d.metadata.glyIdsUsed,1),w="",I=0;I<E.length;I++)w+=String.fromCharCode(E[I]);var j=f();g({data:w,addLength1:!0,objectId:j}),h("endobj");var F=f();g({data:r(d.metadata.toUnicode),addLength1:!0,objectId:F}),h("endobj");var S=f();h("<<"),h("/Type /FontDescriptor"),h("/FontName /"+ed(d.fontName)),h("/FontFile2 "+j+" 0 R"),h("/FontBBox "+e.API.PDFObject.convert(d.metadata.bbox)),h("/Flags "+d.metadata.flags),h("/StemV "+d.metadata.stemV),h("/ItalicAngle "+d.metadata.italicAngle),h("/Ascent "+d.metadata.ascender),h("/Descent "+d.metadata.decender),h("/CapHeight "+d.metadata.capHeight),h(">>"),h("endobj");var z=f();h("<<"),h("/Type /Font"),h("/BaseFont /"+ed(d.fontName)),h("/FontDescriptor "+S+" 0 R"),h("/W "+e.API.PDFObject.convert(x)),h("/CIDToGIDMap /Identity"),h("/DW 1000"),h("/Subtype /CIDFontType2"),h("/CIDSystemInfo"),h("<<"),h("/Supplement 0"),h("/Registry (Adobe)"),h("/Ordering ("+d.encoding+")"),h(">>"),h(">>"),h("endobj"),d.objectNumber=f(),h("<<"),h("/Type /Font"),h("/Subtype /Type0"),h("/ToUnicode "+F+" 0 R"),h("/BaseFont /"+ed(d.fontName)),h("/Encoding /"+d.encoding),h("/DescendantFonts ["+z+" 0 R]"),h(">>"),h("endobj"),d.isAlreadyPutted=!0}})(s)}]),t.events.push(["putFont",function(s){(function(c){var d=c.font,h=c.out,f=c.newObject,g=c.putStream;if(d.metadata instanceof e.API.TTFFont&&d.encoding==="WinAnsiEncoding"){for(var x=d.metadata.rawData,E="",w=0;w<x.length;w++)E+=String.fromCharCode(x[w]);var I=f();g({data:E,addLength1:!0,objectId:I}),h("endobj");var j=f();g({data:r(d.metadata.toUnicode),addLength1:!0,objectId:j}),h("endobj");var F=f();h("<<"),h("/Descent "+d.metadata.decender),h("/CapHeight "+d.metadata.capHeight),h("/StemV "+d.metadata.stemV),h("/Type /FontDescriptor"),h("/FontFile2 "+I+" 0 R"),h("/Flags 96"),h("/FontBBox "+e.API.PDFObject.convert(d.metadata.bbox)),h("/FontName /"+ed(d.fontName)),h("/ItalicAngle "+d.metadata.italicAngle),h("/Ascent "+d.metadata.ascender),h(">>"),h("endobj"),d.objectNumber=f();for(var S=0;S<d.metadata.hmtx.widths.length;S++)d.metadata.hmtx.widths[S]=parseInt(d.metadata.hmtx.widths[S]*(1e3/d.metadata.head.unitsPerEm));h("<</Subtype/TrueType/Type/Font/ToUnicode "+j+" 0 R/BaseFont/"+ed(d.fontName)+"/FontDescriptor "+F+" 0 R/Encoding/"+d.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(d.metadata.hmtx.widths)+">>"),h("endobj"),d.isAlreadyPutted=!0}})(s)}]);var i=function(s){var c,d=s.text||"",h=s.x,f=s.y,g=s.options||{},x=s.mutex||{},E=x.pdfEscape,w=x.activeFontKey,I=x.fonts,j=w,F="",S=0,z="",D=I[j].encoding;if(I[j].encoding!=="Identity-H")return{text:d,x:h,y:f,options:g,mutex:x};for(z=d,j=w,Array.isArray(d)&&(z=d[0]),S=0;S<z.length;S+=1)I[j].metadata.hasOwnProperty("cmap")&&(c=I[j].metadata.cmap.unicode.codeMap[z[S].charCodeAt(0)]),c||z[S].charCodeAt(0)<256&&I[j].metadata.hasOwnProperty("Unicode")?F+=z[S]:F+="";var G="";return parseInt(j.slice(1))<14||D==="WinAnsiEncoding"?G=E(F,j).split("").map(function(ce){return ce.charCodeAt(0).toString(16)}).join(""):D==="Identity-H"&&(G=n(F,I[j])),x.isHex=!0,{text:G,x:h,y:f,options:g,mutex:x}};t.events.push(["postProcessText",function(s){var c=s.text||"",d=[],h={text:c,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(c)){var f=0;for(f=0;f<c.length;f+=1)Array.isArray(c[f])&&c[f].length===3?d.push([i(Object.assign({},h,{text:c[f][0]})).text,c[f][1],c[f][2]]):d.push(i(Object.assign({},h,{text:c[f]})).text);s.text=d}else s.text=i(Object.assign({},h,{text:c})).text}])})(qn),(function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0},e.addFileToVFS=function(n,r){return t.call(this),this.internal.vFS[n]=r,this},e.getFileFromVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}})(qn.API),(function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(r){var i,s,c,d,h,f,g,x=t,E=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],w=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],I={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},j={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},F=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],S=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),z=!1,D=0;this.__bidiEngine__={};var G=function(V){var W=V.charCodeAt(),oe=W>>8,me=j[oe];return me!==void 0?x[256*me+(255&W)]:oe===252||oe===253?"AL":S.test(oe)?"L":oe===8?"R":"N"},ce=function(V){for(var W,oe=0;oe<V.length;oe++){if((W=G(V.charAt(oe)))==="L")return!1;if(W==="R")return!0}return!1},Y=function(V,W,oe,me){var ye,se,_e,Z,Ce=W[me];switch(Ce){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":z=!1;break;case"N":case"AN":break;case"EN":z&&(Ce="AN");break;case"AL":z=!0,Ce="R";break;case"WS":case"BN":Ce="N";break;case"CS":me<1||me+1>=W.length||(ye=oe[me-1])!=="EN"&&ye!=="AN"||(se=W[me+1])!=="EN"&&se!=="AN"?Ce="N":z&&(se="AN"),Ce=se===ye?se:"N";break;case"ES":Ce=(ye=me>0?oe[me-1]:"B")==="EN"&&me+1<W.length&&W[me+1]==="EN"?"EN":"N";break;case"ET":if(me>0&&oe[me-1]==="EN"){Ce="EN";break}if(z){Ce="N";break}for(_e=me+1,Z=W.length;_e<Z&&W[_e]==="ET";)_e++;Ce=_e<Z&&W[_e]==="EN"?"EN":"N";break;case"NSM":if(c&&!d){for(Z=W.length,_e=me+1;_e<Z&&W[_e]==="NSM";)_e++;if(_e<Z){var Se=V[me],te=Se>=1425&&Se<=2303||Se===64286;if(ye=W[_e],te&&(ye==="R"||ye==="AL")){Ce="R";break}}}Ce=me<1||(ye=W[me-1])==="B"?"N":oe[me-1];break;case"B":z=!1,i=!0,Ce=D;break;case"S":s=!0,Ce="N"}return Ce},ge=function(V,W,oe){var me=V.split("");return oe&&re(me,oe,{hiLevel:D}),me.reverse(),W&&W.reverse(),me.join("")},re=function(V,W,oe){var me,ye,se,_e,Z,Ce=-1,Se=V.length,te=0,P=[],ie=D?w:E,O=[];for(z=!1,i=!1,s=!1,ye=0;ye<Se;ye++)O[ye]=G(V[ye]);for(se=0;se<Se;se++){if(Z=te,P[se]=Y(V,O,P,se),me=240&(te=ie[Z][I[P[se]]]),te&=15,W[se]=_e=ie[te][5],me>0)if(me===16){for(ye=Ce;ye<se;ye++)W[ye]=1;Ce=-1}else Ce=-1;if(ie[te][6])Ce===-1&&(Ce=se);else if(Ce>-1){for(ye=Ce;ye<se;ye++)W[ye]=_e;Ce=-1}O[se]==="B"&&(W[se]=0),oe.hiLevel|=_e}s&&(function(ae,ue,je){for(var Ve=0;Ve<je;Ve++)if(ae[Ve]==="S"){ue[Ve]=D;for(var Ie=Ve-1;Ie>=0&&ae[Ie]==="WS";Ie--)ue[Ie]=D}})(O,W,Se)},M=function(V,W,oe,me,ye){if(!(ye.hiLevel<V)){if(V===1&&D===1&&!i)return W.reverse(),void(oe&&oe.reverse());for(var se,_e,Z,Ce,Se=W.length,te=0;te<Se;){if(me[te]>=V){for(Z=te+1;Z<Se&&me[Z]>=V;)Z++;for(Ce=te,_e=Z-1;Ce<_e;Ce++,_e--)se=W[Ce],W[Ce]=W[_e],W[_e]=se,oe&&(se=oe[Ce],oe[Ce]=oe[_e],oe[_e]=se);te=Z}te++}}},X=function(V,W,oe){var me=V.split(""),ye={hiLevel:D};return oe||(oe=[]),re(me,oe,ye),(function(se,_e,Z){if(Z.hiLevel!==0&&g)for(var Ce,Se=0;Se<se.length;Se++)_e[Se]===1&&(Ce=F.indexOf(se[Se]))>=0&&(se[Se]=F[Ce+1])})(me,oe,ye),M(2,me,W,oe,ye),M(1,me,W,oe,ye),me.join("")};return this.__bidiEngine__.doBidiReorder=function(V,W,oe){if((function(ye,se){if(se)for(var _e=0;_e<ye.length;_e++)se[_e]=_e;d===void 0&&(d=ce(ye)),f===void 0&&(f=ce(ye))})(V,W),c||!h||f)if(c&&h&&d^f)D=d?1:0,V=ge(V,W,oe);else if(!c&&h&&f)D=d?1:0,V=X(V,W,oe),V=ge(V,W);else if(!c||d||h||f){if(c&&!h&&d^f)V=ge(V,W),d?(D=0,V=X(V,W,oe)):(D=1,V=X(V,W,oe),V=ge(V,W));else if(c&&d&&!h&&f)D=1,V=X(V,W,oe),V=ge(V,W);else if(!c&&!h&&d^f){var me=g;d?(D=1,V=X(V,W,oe),D=0,g=!1,V=X(V,W,oe),g=me):(D=0,V=X(V,W,oe),V=ge(V,W),D=1,g=!1,V=X(V,W,oe),g=me,V=ge(V,W))}}else D=0,V=X(V,W,oe);else D=d?1:0,V=X(V,W,oe);return V},this.__bidiEngine__.setOptions=function(V){V&&(c=V.isInputVisual,h=V.isOutputVisual,d=V.isInputRtl,f=V.isOutputRtl,g=V.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var c=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var d=0;for(c=[],d=0;d<i.length;d+=1)Object.prototype.toString.call(i[d])==="[object Array]"?c.push([n.doBidiReorder(i[d][0]),i[d][1],i[d][2]]):c.push([n.doBidiReorder(i[d])]);r.text=c}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])})(qn),qn.API.TTFFont=(function(){function e(t){var n;if(this.rawData=t,n=this.contents=new Sc(t),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new jQ(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new mQ(this.contents),this.head=new vQ(this),this.name=new wQ(this),this.cmap=new jN(this),this.toUnicode={},this.hhea=new xQ(this),this.maxp=new BQ(this),this.hmtx=new CQ(this),this.post=new yQ(this),this.os2=new bQ(this),this.loca=new LQ(this),this.glyf=new NQ(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var c,d,h,f;for(f=[],c=0,d=(h=this.bbox).length;c<d;c++)t=h[c],f.push(Math.round(t*this.scaleFactor));return f}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var n;return((n=this.cmap.unicode)!=null?n.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*n},e.prototype.widthOfString=function(t,n,r){var i,s,c,d;for(c=0,s=0,d=(t=""+t).length;0<=d?s<d:s>d;s=0<=d?++s:--s)i=t.charCodeAt(s),c+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return c*(n/1e3)},e.prototype.lineHeight=function(t,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},e})();var zl,Sc=(function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var n,r;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},e.prototype.writeString=function(t){var n,r,i;for(i=[],n=0,r=t.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(t.charCodeAt(n)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,n,r,i,s,c,d,h;return t=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),c=this.readByte(),d=this.readByte(),h=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^c)+256*(255^d)+(255^h)+1):72057594037927940*t+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*c+256*d+h},e.prototype.writeLongLong=function(t){var n,r;return n=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var n,r;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n.push(this.readByte());return n},e.prototype.write=function(t){var n,r,i,s;for(s=[],r=0,i=t.length;r<i;r++)n=t[r],s.push(this.writeByte(n));return s},e})(),mQ=(function(){var e;function t(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(n){var r,i,s,c,d,h,f,g,x,E,w,I,j;for(j in w=Object.keys(n).length,h=Math.log(2),x=16*Math.floor(Math.log(w)/h),c=Math.floor(x/h),g=16*w-x,(i=new Sc).writeInt(this.scalarType),i.writeShort(w),i.writeShort(x),i.writeShort(c),i.writeShort(g),s=16*w,f=i.pos+s,d=null,I=[],n)for(E=n[j],i.writeString(j),i.writeInt(e(E)),i.writeInt(f),i.writeInt(E.length),I=I.concat(E),j==="head"&&(d=f),f+=E.length;f%4;)I.push(0),f++;return i.write(I),r=2981146554-e(i.data),i.pos=d+8,i.writeUInt32(r),i.data},e=function(n){var r,i,s,c;for(n=kN.call(n);n.length%4;)n.push(0);for(s=new Sc(n),i=0,r=0,c=n.length;r<c;r=r+=4)i+=s.readUInt32();return 4294967295&i},t})(),gQ={}.hasOwnProperty,gA=function(e,t){for(var n in t)gQ.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};zl=(function(){function e(t){var n;this.file=t,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e})();var vQ=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gA(e,zl),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var n;return(n=new Sc).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(t),n.writeShort(this.glyphDataFormat),n.data},e})(),G2=(function(){function e(t,n){var r,i,s,c,d,h,f,g,x,E,w,I,j,F,S,z,D;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=n+t.readInt(),x=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(h=0;h<256;++h)this.codeMap[h]=t.readByte();break;case 4:for(w=t.readUInt16(),E=w/2,t.pos+=6,s=(function(){var G,ce;for(ce=[],h=G=0;0<=E?G<E:G>E;h=0<=E?++G:--G)ce.push(t.readUInt16());return ce})(),t.pos+=2,j=(function(){var G,ce;for(ce=[],h=G=0;0<=E?G<E:G>E;h=0<=E?++G:--G)ce.push(t.readUInt16());return ce})(),f=(function(){var G,ce;for(ce=[],h=G=0;0<=E?G<E:G>E;h=0<=E?++G:--G)ce.push(t.readUInt16());return ce})(),g=(function(){var G,ce;for(ce=[],h=G=0;0<=E?G<E:G>E;h=0<=E?++G:--G)ce.push(t.readUInt16());return ce})(),i=(this.length-t.pos+this.offset)/2,d=(function(){var G,ce;for(ce=[],h=G=0;0<=i?G<i:G>i;h=0<=i?++G:--G)ce.push(t.readUInt16());return ce})(),h=S=0,D=s.length;S<D;h=++S)for(F=s[h],r=z=I=j[h];I<=F?z<=F:z>=F;r=I<=F?++z:--z)g[h]===0?c=r+f[h]:(c=d[g[h]/2+(r-I)-(E-h)]||0)!==0&&(c+=f[h]),this.codeMap[r]=65535&c}t.pos=x}return e.encode=function(t,n){var r,i,s,c,d,h,f,g,x,E,w,I,j,F,S,z,D,G,ce,Y,ge,re,M,X,V,W,oe,me,ye,se,_e,Z,Ce,Se,te,P,ie,O,ae,ue,je,Ve,Ie,lt,wt,Xe;switch(me=new Sc,c=Object.keys(t).sort(function($t,on){return $t-on}),n){case"macroman":for(j=0,F=(function(){var $t=[];for(I=0;I<256;++I)$t.push(0);return $t})(),z={0:0},s={},ye=0,Ce=c.length;ye<Ce;ye++)z[Ie=t[i=c[ye]]]==null&&(z[Ie]=++j),s[i]={old:t[i],new:z[t[i]]},F[i]=z[t[i]];return me.writeUInt16(1),me.writeUInt16(0),me.writeUInt32(12),me.writeUInt16(0),me.writeUInt16(262),me.writeUInt16(0),me.write(F),{charMap:s,subtable:me.data,maxGlyphID:j+1};case"unicode":for(W=[],x=[],D=0,z={},r={},S=f=null,se=0,Se=c.length;se<Se;se++)z[ce=t[i=c[se]]]==null&&(z[ce]=++D),r[i]={old:ce,new:z[ce]},d=z[ce]-i,S!=null&&d===f||(S&&x.push(S),W.push(i),f=d),S=i;for(S&&x.push(S),x.push(65535),W.push(65535),X=2*(M=W.length),re=2*Math.pow(Math.log(M)/Math.LN2,2),E=Math.log(re/2)/Math.LN2,ge=2*M-re,h=[],Y=[],w=[],I=_e=0,te=W.length;_e<te;I=++_e){if(V=W[I],g=x[I],V===65535){h.push(0),Y.push(0);break}if(V-(oe=r[V].new)>=32768)for(h.push(0),Y.push(2*(w.length+M-I)),i=Z=V;V<=g?Z<=g:Z>=g;i=V<=g?++Z:--Z)w.push(r[i].new);else h.push(oe-V),Y.push(0)}for(me.writeUInt16(3),me.writeUInt16(1),me.writeUInt32(12),me.writeUInt16(4),me.writeUInt16(16+8*M+2*w.length),me.writeUInt16(0),me.writeUInt16(X),me.writeUInt16(re),me.writeUInt16(E),me.writeUInt16(ge),je=0,P=x.length;je<P;je++)i=x[je],me.writeUInt16(i);for(me.writeUInt16(0),Ve=0,ie=W.length;Ve<ie;Ve++)i=W[Ve],me.writeUInt16(i);for(lt=0,O=h.length;lt<O;lt++)d=h[lt],me.writeUInt16(d);for(wt=0,ae=Y.length;wt<ae;wt++)G=Y[wt],me.writeUInt16(G);for(Xe=0,ue=w.length;Xe<ue;Xe++)j=w[Xe],me.writeUInt16(j);return{charMap:r,subtable:me.data,maxGlyphID:D+1}}},e})(),jN=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gA(e,zl),e.prototype.tag="cmap",e.prototype.parse=function(t){var n,r,i;for(t.pos=this.offset,this.version=t.readUInt16(),i=t.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)n=new G2(t,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(t,n){var r,i;return n==null&&(n="macroman"),r=G2.encode(t,n),(i=new Sc).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},e})(),xQ=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gA(e,zl),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e})(),bQ=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gA(e,zl),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=(function(){var n,r;for(r=[],n=0;n<10;++n)r.push(t.readByte());return r})(),this.charRange=(function(){var n,r;for(r=[],n=0;n<4;++n)r.push(t.readInt());return r})(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=(function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(t.readInt());return r})(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e})(),yQ=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gA(e,zl),e.prototype.tag="post",e.prototype.parse=function(t){var n,r,i;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(r=t.readUInt16(),this.glyphNameIndex=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],i=[];t.pos<this.offset+this.length;)n=t.readByte(),i.push(this.names.push(t.readString(n)));return i;case 151552:return r=t.readUInt16(),this.offsets=t.read(r);case 262144:return this.map=(function(){var c,d,h;for(h=[],s=c=0,d=this.file.maxp.numGlyphs;0<=d?c<d:c>d;s=0<=d?++c:--c)h.push(t.readUInt32());return h}).call(this)}},e})(),_Q=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},wQ=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gA(e,zl),e.prototype.tag="name",e.prototype.parse=function(t){var n,r,i,s,c,d,h,f,g,x,E;for(t.pos=this.offset,t.readShort(),n=t.readShort(),d=t.readShort(),r=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)r.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+d+t.readShort()});for(h={},s=g=0,x=r.length;g<x;s=++g)i=r[s],t.pos=i.offset,f=t.readString(i.length),c=new _Q(f,i),h[E=i.nameID]==null&&(h[E]=[]),h[i.nameID].push(c);this.strings=h,this.copyright=h[0],this.fontFamily=h[1],this.fontSubfamily=h[2],this.uniqueSubfamily=h[3],this.fontName=h[4],this.version=h[5];try{this.postscriptName=h[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=h[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=h[7],this.manufacturer=h[8],this.designer=h[9],this.description=h[10],this.vendorUrl=h[11],this.designerUrl=h[12],this.license=h[13],this.licenseUrl=h[14],this.preferredFamily=h[15],this.preferredSubfamily=h[17],this.compatibleFull=h[18],this.sampleText=h[19]},e})(),BQ=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gA(e,zl),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e})(),CQ=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gA(e,zl),e.prototype.tag="hmtx",e.prototype.parse=function(t){var n,r,i,s,c,d,h;for(t.pos=this.offset,this.metrics=[],n=0,d=this.file.hhea.numberOfMetrics;0<=d?n<d:n>d;n=0<=d?++n:--n)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var f,g;for(g=[],n=f=0;0<=i?f<i:f>i;n=0<=i?++f:--f)g.push(t.readInt16());return g})(),this.widths=(function(){var f,g,x,E;for(E=[],f=0,g=(x=this.metrics).length;f<g;f++)s=x[f],E.push(s.advance);return E}).call(this),r=this.widths[this.widths.length-1],h=[],n=c=0;0<=i?c<i:c>i;n=0<=i?++c:--c)h.push(this.widths.push(r));return h},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e})(),kN=[].slice,NQ=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gA(e,zl),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var n,r,i,s,c,d,h,f,g,x;return t in this.cache?this.cache[t]:(s=this.file.loca,n=this.file.contents,r=s.indexOf(t),(i=s.lengthOf(t))===0?this.cache[t]=null:(n.pos=this.offset+r,c=(d=new Sc(n.read(i))).readShort(),f=d.readShort(),x=d.readShort(),h=d.readShort(),g=d.readShort(),this.cache[t]=c===-1?new SQ(d,f,x,h,g):new EQ(d,c,f,x,h,g),this.cache[t]))},e.prototype.encode=function(t,n,r){var i,s,c,d,h;for(c=[],s=[],d=0,h=n.length;d<h;d++)i=t[n[d]],s.push(c.length),i&&(c=c.concat(i.encode(r)));return s.push(c.length),{table:c,offsets:s}},e})(),EQ=(function(){function e(t,n,r,i,s,c){this.raw=t,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=c,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e})(),SQ=(function(){function e(t,n,r,i,s){var c,d;for(this.raw=t,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],c=this.raw;d=c.readShort(),this.glyphOffsets.push(c.pos),this.glyphIDs.push(c.readUInt16()),32&d;)c.pos+=1&d?4:2,128&d?c.pos+=8:64&d?c.pos+=4:8&d&&(c.pos+=2)}return e.prototype.encode=function(){var t,n,r;for(n=new Sc(kN.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)n.pos=this.glyphOffsets[t];return n.data},e})(),LQ=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gA(e,zl),e.prototype.tag="loca",e.prototype.parse=function(t){var n,r;return t.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=2)s.push(2*t.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=4)s.push(t.readUInt32());return s}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,n){for(var r=new Uint32Array(this.offsets.length),i=0,s=0,c=0;c<r.length;++c)if(r[c]=i,s<n.length&&n[s]==c){++s,r[c]=i;var d=this.offsets[c],h=this.offsets[c+1]-d;h>0&&(i+=h)}for(var f=new Array(4*r.length),g=0;g<r.length;++g)f[4*g+3]=255&r[g],f[4*g+2]=(65280&r[g])>>8,f[4*g+1]=(16711680&r[g])>>16,f[4*g]=(4278190080&r[g])>>24;return f},e})(),jQ=(function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,t={},s=this.subset)r=s[n],t[n]=i[r];return t},e.prototype.glyphsFor=function(t){var n,r,i,s,c,d,h;for(i={},c=0,d=t.length;c<d;c++)i[s=t[c]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in h=this.glyphsFor(n))r=h[s],i[s]=r;return i},e.prototype.encode=function(t,n){var r,i,s,c,d,h,f,g,x,E,w,I,j,F,S;for(i in r=jN.encode(this.generateCmap(),"unicode"),c=this.glyphsFor(t),w={0:0},S=r.charMap)w[(h=S[i]).old]=h.new;for(I in E=r.maxGlyphID,c)I in w||(w[I]=E++);return g=(function(z){var D,G;for(D in G={},z)G[z[D]]=D;return G})(w),x=Object.keys(g).sort(function(z,D){return z-D}),j=(function(){var z,D,G;for(G=[],z=0,D=x.length;z<D;z++)d=x[z],G.push(g[d]);return G})(),s=this.font.glyf.encode(c,j,w),f=this.font.loca.encode(s.offsets,j),F={cmap:this.font.cmap.raw(),glyf:s.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(F["OS/2"]=this.font.os2.raw()),this.font.directory.encode(F)},e})();qn.API.PDFObject=(function(){var e;function t(){}return e=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},t.convert=function(n){var r,i,s,c;if(Array.isArray(n))return"["+(function(){var d,h,f;for(f=[],d=0,h=n.length;d<h;d++)r=n[d],f.push(t.convert(r));return f})().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)c=n[i],s.push("/"+i+" "+t.convert(c));return s.push(">>"),s.join(`
`)}return""+n},t})();function gc(e){if(typeof e=="string"&&e)return e;if(typeof e=="number"&&Number.isFinite(e))return new Date(e).toISOString();if(e instanceof Date)return e.toISOString()}function UN(e,t){const n=String(e??"PROD").normalize("NFD").replace(new RegExp("\\p{Diacritic}","gu"),"").toLowerCase().replace(/[^a-z0-9]+/g,"_").replace(/^_+|_+$/g,"").slice(0,24),r=String(t).replace(/-/g,"").slice(-6).toLowerCase();return r?`${n}_${r}`:n||"produto"}function IN(e,t){return!e||e<=0?null:(t-e)/e*100}function V2(e){const t=String((e==null?void 0:e.id)??Dr()),n=String((e==null?void 0:e.nome)??(e==null?void 0:e.name)??"").trim(),r=(e==null?void 0:e.tipo)??(e==null?void 0:e.type)??"OUTROS",i=Number((e==null?void 0:e.preco_padrao)??(e==null?void 0:e.precoPadrao)??(e==null?void 0:e.base_price)??(e==null?void 0:e.default_price)??0)||0,s=Number((e==null?void 0:e.preco_custo)??(e==null?void 0:e.precoCusto)??(e==null?void 0:e.cost_price)??0)||0,c=Number((e==null?void 0:e.preco_venda)??(e==null?void 0:e.precoVenda)??(e==null?void 0:e.sale_price)??i)||0,d=String((e==null?void 0:e.codigo)??(e==null?void 0:e.code)??(e==null?void 0:e.sku)??"").trim()||UN(n||"PROD",t),h=(e==null?void 0:e.product_group)??(e==null?void 0:e.productGroup)??d??null,f=gc((e==null?void 0:e.created_at)??(e==null?void 0:e.criado_em))??new Date().toISOString(),g=gc((e==null?void 0:e.updated_at)??(e==null?void 0:e.atualizado_em))??f;return{id:t,codigo:d,nome:n,tipo:r,descricao:(e==null?void 0:e.descricao)??(e==null?void 0:e.description)??null,unidade:(e==null?void 0:e.unidade)??(e==null?void 0:e.unit)??"un",product_group:h??null,imagem_url:(e==null?void 0:e.imagem_url)??(e==null?void 0:e.image_url)??(e==null?void 0:e.imagemUrl)??null,deposit_id:(e==null?void 0:e.deposit_id)??(e==null?void 0:e.depositId)??null,preco_padrao:i,preco_custo:s,preco_venda:c,marcacao:(e==null?void 0:e.marcacao)??(e==null?void 0:e.markup)??IN(s,c),tracks_empties:!!(((e==null?void 0:e.tracks_empties)??(e==null?void 0:e.tracksEmpties)??r==="GAS_CHEIO")||e!=null&&e.produtoCascoId),ativo:!!((e==null?void 0:e.ativo)??(e==null?void 0:e.is_active)??!0),created_at:f,updated_at:g}}let kQ=class extends Rh{constructor(){super("GestaoProDexie"),this.version(1).stores({deposits:"id, nome, ativo",products:"id, nome, ativo, tipo",price_table:"id, product_id, modalidade",employees:"id, username, deposit_id, cargo, ativo",clients:"id, nome, ativo",client_price_overrides:"id, client_id, product_id, modalidade",client_one_time_discount:"id, client_id, status",service_orders:"id, numeroOs, status, depositoId, clienteId",service_order_items:"id, osId, produtoId",payment_methods:"id, nome, tipoFluxo, ativo",machines:"id, nome, ativo",accounts_receivable:"id, os_id, status, deposit_id",receivable_payments:"id, receivable_id, data_hora",financial_settings:"id, monthly_goal",stock_balance:"id, [deposit_id+product_id]",stock_movements:"id, depositoId, produtoId, origem, referenciaId",stock_transfers:"id, origem_deposit_id, destino_deposit_id",stock_transfer_items:"id, transfer_id, product_id",cash_sessions:"id, deposit_id, operador_id",cash_movements:"id, cash_session_id, tipo, os_id",stock_counts:"id, deposit_id, usuario_id, tipo",stock_count_items:"id, count_id, product_id",audit_logs:"id, entidade, entidade_id, acao, criado_em",financial_movements:"id, referenciaId, formaPagamentoId",receivable_titles:"id, osId, status",delivery_jobs:"id, status, depositoId, assignedDriverId, osId",driver_presence:"driverId, status, lastSeenAt"}),this.version(2).stores({deposits:"id, nome, ativo",products:"id, nome, ativo, tipo",price_table:"id, product_id, modalidade",employees:"id, username, deposit_id, cargo, ativo",clients:"id, nome, ativo",client_price_overrides:"id, client_id, product_id, modalidade",client_one_time_discount:"id, client_id, status",service_orders:"id, numeroOs, status, depositoId, clienteId",service_order_items:"id, osId, produtoId",payment_methods:"id, nome, tipoFluxo, ativo",machines:"id, nome, ativo",accounts_receivable:"id, os_id, status, deposit_id",receivable_payments:"id, receivable_id, data_hora",financial_settings:"id, monthly_goal",stock_balance:"id, [deposit_id+product_id]",stock_movements:"id, depositoId, produtoId, origem, referenciaId",stock_transfers:"id, origem_deposit_id, destino_deposit_id",stock_transfer_items:"id, transfer_id, product_id",cash_sessions:"id, deposit_id, operador_id",cash_movements:"id, cash_session_id, tipo, os_id",stock_counts:"id, deposit_id, usuario_id, tipo",stock_count_items:"id, count_id, product_id",audit_logs:"id, entidade, entidade_id, acao, criado_em",financial_movements:"id, referenciaId, formaPagamentoId",receivable_titles:"id, osId, status",delivery_jobs:"id, status, depositoId, assignedDriverId, osId",driver_presence:"driverId, status, lastSeenAt",outbox_events:"id, status, entity, action, entity_id, created_at"}),this.version(3).stores({deposits:"id, nome, ativo",products:"id, codigo, nome, ativo, tipo, product_group",price_table:"id, product_id, modalidade",employees:"id, username, deposit_id, cargo, ativo",clients:"id, nome, ativo",client_price_overrides:"id, client_id, product_id, modalidade",client_one_time_discount:"id, client_id, status",service_orders:"id, numeroOs, status, depositoId, clienteId",service_order_items:"id, osId, produtoId",payment_methods:"id, nome, tipoFluxo, ativo",machines:"id, nome, ativo",accounts_receivable:"id, os_id, status, deposit_id",receivable_payments:"id, receivable_id, data_hora",financial_settings:"id, monthly_goal",stock_balance:"id, [deposit_id+product_id]",stock_movements:"id, depositoId, produtoId, origem, referenciaId",stock_transfers:"id, origem_deposit_id, destino_deposit_id",stock_transfer_items:"id, transfer_id, product_id",cash_sessions:"id, deposit_id, operador_id",cash_movements:"id, cash_session_id, tipo, os_id",stock_counts:"id, deposit_id, usuario_id, tipo",stock_count_items:"id, count_id, product_id",audit_logs:"id, entidade, entidade_id, acao, criado_em",financial_movements:"id, referenciaId, formaPagamentoId",receivable_titles:"id, osId, status",delivery_jobs:"id, status, depositoId, assignedDriverId, osId",driver_presence:"driverId, status, lastSeenAt",outbox_events:"id, status, entity, action, entity_id, created_at"}).upgrade(async t=>{const n=t.table("products"),r=t.table("outbox_events");await n.toCollection().modify(h=>{const g=h&&typeof h=="object"&&"preco_padrao"in h&&"preco_custo"in h?h:V2(h),x=Number(g.preco_padrao??0)||0,E=Number(g.preco_custo??0)||0,w=Number(g.preco_venda??x)||0,I=String(g.codigo??"").trim()||UN(String(g.nome??"PROD"),String(g.id)),j=g.created_at??new Date().toISOString(),F=g.updated_at??j,S={id:String(g.id),codigo:I,nome:String(g.nome??""),tipo:g.tipo??"OUTROS",descricao:g.descricao??null,unidade:g.unidade??"un",product_group:g.product_group??I,imagem_url:g.imagem_url??null,deposit_id:g.deposit_id??null,preco_padrao:x,preco_custo:E,preco_venda:w,marcacao:g.marcacao??IN(E,w),tracks_empties:!!(g.tracks_empties??g.tipo==="GAS_CHEIO"),ativo:!!(g.ativo??!0),created_at:j,updated_at:F};for(const z of Object.keys(h))delete h[z];Object.assign(h,S)});const i=await n.toArray(),s=new Map(i.map(h=>[h.id,h])),c=new Set(i.filter(h=>h.tipo==="VASILHAME_VAZIO"&&!!h.product_group).map(h=>String(h.product_group))),d=Date.now();for(const h of i){if(h.tipo!=="GAS_CHEIO"||!h.tracks_empties||!h.product_group)continue;const f=String(h.product_group);if(c.has(f))continue;const g={id:Dr(),codigo:`${h.codigo}_casco`,nome:`Casco - ${h.nome}`,tipo:"VASILHAME_VAZIO",descricao:null,unidade:h.unidade??"un",product_group:f,imagem_url:null,deposit_id:h.deposit_id??null,preco_padrao:0,preco_custo:0,preco_venda:0,marcacao:null,tracks_empties:!1,ativo:!0,created_at:h.created_at,updated_at:h.updated_at};await n.put(g),await r.put({id:Dr(),entity:"products",action:"UPSERT",entity_id:g.id,payload_json:g,created_at:d,updated_at:d,status:"PENDING",attempts:0}),c.add(f),s.set(g.id,g)}await t.table("outbox_events").toCollection().modify(h=>{if((h==null?void 0:h.entity)!=="products"||(h==null?void 0:h.action)!=="UPSERT")return;const f=s.get(String(h.entity_id));if(f){h.payload_json=f;return}const g=h.payload_json;if(g&&typeof g=="object"){const x=V2(g);h.payload_json=x}})}),this.version(4).stores({deposits:"id, nome, ativo",products:"id, codigo, nome, ativo, tipo, product_group",price_table:"id, product_id, modalidade",employees:"id, username, deposit_id, cargo, ativo",clients:"id, nome, ativo",client_price_overrides:"id, client_id, product_id, modalidade",client_one_time_discount:"id, client_id, status",service_orders:"id, numeroOs, status, depositoId, clienteId",service_order_items:"id, osId, produtoId",payment_methods:"id, Nome, receipt_type, is_active",machines:"id, nome, ativo",accounts_receivable:"id, os_id, status, deposit_id",receivable_payments:"id, receivable_id, data_hora",financial_settings:"id, monthly_goal",stock_balance:"id, [deposit_id+product_id]",stock_movements:"id, depositoId, produtoId, origem, referenciaId",stock_transfers:"id, origem_deposit_id, destino_deposit_id",stock_transfer_items:"id, transfer_id, product_id",cash_sessions:"id, deposit_id, operador_id",cash_movements:"id, cash_session_id, tipo, os_id",stock_counts:"id, deposit_id, usuario_id, tipo",stock_count_items:"id, count_id, product_id",audit_logs:"id, entidade, entidade_id, acao, criado_em",financial_movements:"id, referenciaId, formaPagamentoId",receivable_titles:"id, osId, status",delivery_jobs:"id, status, depositoId, assignedDriverId, osId",driver_presence:"driverId, status, lastSeenAt",outbox_events:"id, status, entity, action, entity_id, created_at"}).upgrade(async t=>{await t.table("payment_methods").toCollection().modify(r=>{const i={id:String((r==null?void 0:r.id)??Dr()),name:String((r==null?void 0:r.name)??(r==null?void 0:r.Nome)??(r==null?void 0:r.nome)??""),receipt_type:(()=>{const s=String((r==null?void 0:r.receipt_type)??(r==null?void 0:r.tipoFluxo)??(r==null?void 0:r.tipo_fluxo)??"").toLowerCase();return["cash","card","pix","fiado","boleto","other"].includes(s)?s:"other"})(),default_due_days:Number((r==null?void 0:r.default_due_days)??(r==null?void 0:r.prazoPadraoDias)??(r==null?void 0:r.prazo_padrao_dias)??0)||0,enters_receivables:!!((r==null?void 0:r.enters_receivables)??(r==null?void 0:r.geraContasReceber)??(r==null?void 0:r.gera_contas_receber)??!1),machine_label:(r==null?void 0:r.machine_label)??(r==null?void 0:r.maquininhaId)??(r==null?void 0:r.maquininha_id)??(r==null?void 0:r.machine_id)??"",is_active:!!((r==null?void 0:r.is_active)??(r==null?void 0:r.ativo)??(r==null?void 0:r.active)??!0),created_at:(r==null?void 0:r.created_at)??gc(r==null?void 0:r.criado_em)??null,updated_at:(r==null?void 0:r.updated_at)??gc(r==null?void 0:r.atualizado_em)??(r==null?void 0:r.created_at)??gc(r==null?void 0:r.criado_em)??null};for(const s of Object.keys(r||{}))delete r[s];Object.assign(r,i)})}),this.version(5).stores({deposits:"id, nome, ativo",products:"id, codigo, nome, ativo, tipo, product_group",price_table:"id, product_id, modalidade",employees:"id, username, deposit_id, cargo, ativo",clients:"id, nome, ativo",client_price_overrides:"id, client_id, product_id, modalidade",client_one_time_discount:"id, client_id, status",service_orders:"id, numeroOs, status, depositoId, clienteId",service_order_items:"id, osId, produtoId",payment_methods:"id, name, receipt_type, is_active",machines:"id, nome, ativo",accounts_receivable:"id, os_id, status, deposit_id",receivable_payments:"id, receivable_id, data_hora",financial_settings:"id, monthly_goal",stock_balance:"id, [deposit_id+product_id]",stock_movements:"id, depositoId, produtoId, origem, referenciaId",stock_transfers:"id, origem_deposit_id, destino_deposit_id",stock_transfer_items:"id, transfer_id, product_id",cash_sessions:"id, deposit_id, operador_id",cash_movements:"id, cash_session_id, tipo, os_id",stock_counts:"id, deposit_id, usuario_id, tipo",stock_count_items:"id, count_id, product_id",audit_logs:"id, entidade, entidade_id, acao, criado_em",financial_movements:"id, referenciaId, formaPagamentoId",receivable_titles:"id, osId, status",delivery_jobs:"id, status, depositoId, assignedDriverId, osId",driver_presence:"driverId, status, lastSeenAt",outbox_events:"id, status, entity, action, entity_id, created_at"}).upgrade(async t=>{await t.table("payment_methods").toCollection().modify(r=>{const i={id:String((r==null?void 0:r.id)??Dr()),name:String((r==null?void 0:r.name)??(r==null?void 0:r.Nome)??(r==null?void 0:r.nome)??""),receipt_type:(()=>{const s=String((r==null?void 0:r.receipt_type)??"").toLowerCase();return["cash","card","pix","fiado","boleto","other"].includes(s)?s:"other"})(),default_due_days:Number((r==null?void 0:r.default_due_days)??0)||0,enters_receivables:!!((r==null?void 0:r.enters_receivables)??!1),machine_label:(r==null?void 0:r.machine_label)??"",is_active:!!((r==null?void 0:r.is_active)??!0),created_at:(r==null?void 0:r.created_at)??gc(r==null?void 0:r.criado_em)??null,updated_at:(r==null?void 0:r.updated_at)??gc(r==null?void 0:r.atualizado_em)??(r==null?void 0:r.created_at)??gc(r==null?void 0:r.criado_em)??null};for(const s of Object.keys(r||{}))delete r[s];Object.assign(r,i)})}),this.version(6).stores({deposits:"id, nome, ativo",products:"id, codigo, nome, ativo, tipo, product_group",price_table:"id, product_id, modalidade",employees:"id, username, deposit_id, cargo, ativo",clients:"id, nome, ativo",client_price_overrides:"id, client_id, product_id, modalidade",client_one_time_discount:"id, client_id, status",service_orders:"id, numeroOs, status, depositoId, clienteId, dataHoraCriacao",service_order_items:"id, osId, produtoId",payment_methods:"id, name, receipt_type, is_active",machines:"id, nome, ativo",accounts_receivable:"id, os_id, status, deposit_id",receivable_payments:"id, receivable_id, data_hora",financial_settings:"id, monthly_goal",stock_balance:"id, [deposit_id+product_id]",stock_movements:"id, depositoId, produtoId, origem, referenciaId",stock_transfers:"id, origem_deposit_id, destino_deposit_id",stock_transfer_items:"id, transfer_id, product_id",cash_sessions:"id, deposit_id, operador_id",cash_movements:"id, cash_session_id, tipo, os_id",stock_counts:"id, deposit_id, usuario_id, tipo",stock_count_items:"id, count_id, product_id",audit_logs:"id, entidade, entidade_id, acao, criado_em",financial_movements:"id, referenciaId, formaPagamentoId",receivable_titles:"id, osId, status",delivery_jobs:"id, status, depositoId, assignedDriverId, osId",driver_presence:"driverId, status, lastSeenAt",outbox_events:"id, status, entity, action, entity_id, created_at"}),this.version(7).stores({deposits:"id, nome, ativo",products:"id, codigo, nome, ativo, tipo, product_group",price_table:"id, product_id, modalidade",employees:"id, username, deposit_id, cargo, ativo",clients:"id, nome, ativo",client_price_overrides:"id, client_id, product_id, modalidade",client_one_time_discount:"id, client_id, status",service_orders:"id, numeroOs, status, depositoId, clienteId, dataHoraCriacao",service_order_items:"id, osId, produtoId",payment_methods:"id, name, receipt_type, is_active",machines:"id, nome, ativo",accounts_receivable:"id, os_id, status, deposit_id",receivable_payments:"id, receivable_id, data_hora",financial_settings:"id, monthly_goal",stock_balance:"id, [deposit_id+product_id]",stock_movements:"id, depositoId, produtoId, origem, referenciaId",stock_transfers:"id, origem_deposit_id, destino_deposit_id",stock_transfer_items:"id, transfer_id, product_id",cash_sessions:"id, deposit_id, operador_id",cash_movements:"id, cash_session_id, tipo, os_id",stock_counts:"id, deposit_id, usuario_id, tipo",stock_count_items:"id, count_id, product_id",audit_logs:"id, entidade, entidade_id, acao, criado_em",financial_movements:"id, referenciaId, formaPagamentoId",receivable_titles:"id, osId, status",delivery_jobs:"id, status, depositoId, assignedDriverId, osId",driver_presence:"driverId, status, lastSeenAt",expenses:"id, status, due_date, category",outbox_events:"id, status, entity, action, entity_id, created_at"}),this.version(8).stores({deposits:"id, nome, ativo",products:"id, codigo, nome, ativo, tipo, product_group",price_table:"id, product_id, modalidade",employees:"id, username, deposit_id, cargo, ativo",clients:"id, nome, ativo",client_price_overrides:"id, client_id, product_id, modalidade",client_one_time_discount:"id, client_id, status",service_orders:"id, numeroOs, status, depositoId, clienteId, dataHoraCriacao",service_order_items:"id, osId, produtoId",payment_methods:"id, name, receipt_type, is_active",machines:"id, nome, ativo",accounts_receivable:"id, os_id, status, deposit_id",receivable_payments:"id, receivable_id, data_hora",financial_settings:"id, monthly_goal",stock_balance:"id, [deposit_id+product_id]",stock_movements:"id, depositoId, produtoId, origem, referenciaId",stock_transfers:"id, origem_deposit_id, destino_deposit_id",stock_transfer_items:"id, transfer_id, product_id",cash_sessions:"id, deposit_id, operador_id",cash_movements:"id, cash_session_id, tipo, os_id",stock_counts:"id, deposit_id, usuario_id, tipo",stock_count_items:"id, count_id, product_id",audit_logs:"id, entidade, entidade_id, acao, criado_em",financial_movements:"id, referenciaId, formaPagamentoId",receivable_titles:"id, osId, status",delivery_jobs:"id, status, depositoId, assignedDriverId, osId",driver_presence:"driverId, status, lastSeenAt",expenses:"id, status, due_date, category",outbox_events:"id, status, entity, action, entity_id, created_at"}).upgrade(async t=>{try{await t.table("client_price_overrides").toCollection().modify(n=>{(n==null?void 0:n.deposit_id)==="GLOBAL"&&(n.deposit_id=null)}),await t.table("clients").toCollection().modify(n=>{(n==null?void 0:n.deposit_id)==="GLOBAL"&&(n.deposit_id=null),(n==null?void 0:n.depositId)==="GLOBAL"&&(n.depositId=null),(n==null?void 0:n.depositoId)==="GLOBAL"&&(n.depositoId=null)}),await t.table("employees").toCollection().modify(n=>{(n==null?void 0:n.deposit_id)==="GLOBAL"&&(n.deposit_id=null)}),await t.table("accounts_receivable").toCollection().modify(n=>{(n==null?void 0:n.deposit_id)==="GLOBAL"&&(n.deposit_id=null)}),await t.table("outbox_events").toCollection().modify(n=>{const r=n==null?void 0:n.payload_json;if(r&&typeof r=="object"){const i=["deposit_id","depositId","depositoId"];let s=!1;for(const c of i)r[c]==="GLOBAL"&&(r[c]=null,s=!0);s&&(n.payload_json=r)}})}catch(n){console.warn("v8 upgrade sanitize GLOBAL -> null failed",n)}}),this.version(9).stores({deposits:"id, nome, ativo",products:"id, codigo, nome, ativo, tipo, product_group",price_table:"id, product_id, modalidade",employees:"id, username, deposit_id, cargo, ativo",clients:"id, nome, ativo",client_price_overrides:"id, client_id, product_id, modalidade",client_one_time_discount:"id, client_id, status",service_orders:"id, numeroOs, status, depositoId, clienteId, dataHoraCriacao",service_order_items:"id, osId, produtoId",payment_methods:"id, name, receipt_type, is_active",machines:"id, nome, ativo",accounts_receivable:"id, os_id, status, deposit_id",receivable_payments:"id, receivable_id, data_hora",financial_settings:"id, monthly_goal",stock_balance:"id, [deposit_id+product_id]",stock_movements:"id, depositoId, produtoId, origem, referenciaId",stock_transfers:"id, origem_deposit_id, destino_deposit_id",stock_transfer_items:"id, transfer_id, product_id",cash_sessions:"id, deposit_id, operador_id",cash_movements:"id, cash_session_id, tipo, os_id",stock_counts:"id, deposit_id, usuario_id, tipo",stock_count_items:"id, count_id, product_id",audit_logs:"id, entidade, entidade_id, acao, criado_em",financial_movements:"id, referenciaId, formaPagamentoId",receivable_titles:"id, osId, status",delivery_jobs:"id, status, depositoId, assignedDriverId, osId",driver_presence:"driverId, status, lastSeenAt",expenses:"id, status, due_date, category",outbox_events:"id, status, entity, action, entity_id, created_at"}),this.version(10).stores({deposits:"id, nome, ativo",products:"id, codigo, nome, ativo, tipo, product_group",price_table:"id, product_id, modalidade",employees:"id, username, deposit_id, cargo, ativo",clients:"id, nome, ativo",client_price_overrides:"id, client_id, product_id, modalidade",client_one_time_discount:"id, client_id, status",service_orders:"id, numeroOs, status, depositoId, clienteId, dataHoraCriacao",service_order_items:"id, osId, produtoId",payment_methods:"id, name, receipt_type, is_active",machines:"id, nome, ativo",accounts_receivable:"id, os_id, status, deposit_id",receivable_payments:"id, receivable_id, data_hora",financial_settings:"id, monthly_goal",stock_balance:"id, [deposit_id+product_id]",stock_movements:"id, depositoId, produtoId, origem, referenciaId",stock_transfers:"id, origem_deposit_id, destino_deposit_id",stock_transfer_items:"id, transfer_id, product_id",cash_sessions:"id, deposit_id, operador_id",cash_movements:"id, cash_session_id, tipo, os_id",stock_counts:"id, deposit_id, usuario_id, tipo",stock_count_items:"id, count_id, product_id",audit_logs:"id, entidade, entidade_id, acao, criado_em",financial_movements:"id, referenciaId, formaPagamentoId",receivable_titles:"id, osId, status",delivery_jobs:"id, status, depositoId, assignedDriverId, osId",driver_presence:"driverId, status, lastSeenAt",expenses:"id, status, due_date, category",work_shifts:"id, deposit_id, user_id, status, opened_at",cash_flow_entries:"id, shift_id, deposit_id, user_id, category, status, created_at, reference_id",shift_stock_audits:"id, shift_id, deposit_id, product_id, created_at",outbox_events:"id, status, entity, action, entity_id, created_at"}),this.version(11).stores({deposits:"id, nome, ativo",products:"id, codigo, nome, ativo, tipo, product_group",price_table:"id, product_id, modalidade",employees:"id, username, deposit_id, cargo, ativo",clients:"id, nome, ativo",client_price_overrides:"id, client_id, product_id, modalidade",client_one_time_discount:"id, client_id, status",service_orders:"id, numeroOs, status, depositoId, clienteId, dataHoraCriacao",service_order_items:"id, osId, produtoId",payment_methods:"id, name, receipt_type, is_active",machines:"id, nome, ativo",accounts_receivable:"id, os_id, status, deposit_id",receivable_payments:"id, receivable_id, data_hora",financial_settings:"id, monthly_goal",stock_balance:"id, [deposit_id+product_id]",stock_movements:"id, depositoId, produtoId, origem, referenciaId",stock_transfers:"id, origem_deposit_id, destino_deposit_id",stock_transfer_items:"id, transfer_id, product_id",cash_sessions:"id, deposit_id, operador_id",cash_movements:"id, cash_session_id, tipo, os_id",stock_counts:"id, deposit_id, usuario_id, tipo",stock_count_items:"id, count_id, product_id",audit_logs:"id, entidade, entidade_id, acao, criado_em",financial_movements:"id, referenciaId, formaPagamentoId",receivable_titles:"id, osId, status",delivery_jobs:"id, status, depositoId, assignedDriverId, osId",driver_presence:"driverId, status, lastSeenAt",delivery_zones:"id, deposit_id, name",delivery_sectors:"id, zone_id, name",expenses:"id, status, due_date, category",work_shifts:"id, deposit_id, user_id, status, opened_at",cash_flow_entries:"id, shift_id, deposit_id, user_id, category, status, created_at, reference_id",shift_stock_audits:"id, shift_id, deposit_id, product_id, created_at",outbox_events:"id, status, entity, action, entity_id, created_at"}),this.version(12).stores({deposits:"id, nome, ativo",products:"id, codigo, nome, ativo, tipo, product_group",price_table:"id, product_id, modalidade",employees:"id, username, deposit_id, cargo, ativo",clients:"id, nome, ativo",client_price_overrides:"id, client_id, product_id, modalidade",client_one_time_discount:"id, client_id, status",service_orders:"id, numeroOs, status, depositoId, clienteId, dataHoraCriacao",service_order_items:"id, osId, produtoId",payment_methods:"id, name, receipt_type, is_active",machines:"id, nome, ativo",accounts_receivable:"id, os_id, status, deposit_id",receivable_payments:"id, receivable_id, data_hora",financial_settings:"id, monthly_goal",stock_balance:"id, [deposit_id+product_id]",stock_movements:"id, depositoId, produtoId, origem, referenciaId",stock_transfers:"id, origem_deposit_id, destino_deposit_id",stock_transfer_items:"id, transfer_id, product_id",cash_sessions:"id, deposit_id, operador_id",cash_movements:"id, cash_session_id, tipo, os_id",stock_counts:"id, deposit_id, usuario_id, tipo",stock_count_items:"id, count_id, product_id",audit_logs:"id, entidade, entidade_id, acao, criado_em",financial_movements:"id, referenciaId, formaPagamentoId",receivable_titles:"id, osId, status",delivery_jobs:"id, status, depositoId, assignedDriverId, osId",driver_presence:"driverId, status, lastSeenAt",delivery_zones:"id, deposit_id, name",delivery_sectors:"id, zone_id, name",zone_pricing:"id, [zone_id+deposit_id], zone_id, deposit_id",expenses:"id, status, due_date, category",work_shifts:"id, deposit_id, user_id, status, opened_at",cash_flow_entries:"id, shift_id, deposit_id, user_id, category, status, created_at, reference_id",shift_stock_audits:"id, shift_id, deposit_id, product_id, created_at",outbox_events:"id, status, entity, action, entity_id, created_at"}),this.version(13).stores({deposits:"id, nome, ativo",products:"id, codigo, nome, ativo, tipo, product_group",price_table:"id, product_id, modalidade",employees:"id, username, deposit_id, cargo, ativo",clients:"id, nome, ativo",client_price_overrides:"id, client_id, product_id, modalidade",client_one_time_discount:"id, client_id, status",service_orders:"id, numeroOs, status, depositoId, clienteId, dataHoraCriacao",service_order_items:"id, osId, produtoId",payment_methods:"id, name, receipt_type, is_active",machines:"id, nome, ativo",accounts_receivable:"id, os_id, status, deposit_id",receivable_payments:"id, receivable_id, data_hora",financial_settings:"id, monthly_goal",stock_balance:"id, [deposit_id+product_id]",stock_movements:"id, depositoId, produtoId, origem, referenciaId",stock_transfers:"id, origem_deposit_id, destino_deposit_id",stock_transfer_items:"id, transfer_id, product_id",cash_sessions:"id, deposit_id, operador_id",cash_movements:"id, cash_session_id, tipo, os_id",stock_counts:"id, deposit_id, usuario_id, tipo",stock_count_items:"id, count_id, product_id",audit_logs:"id, entidade, entidade_id, acao, criado_em",financial_movements:"id, referenciaId, formaPagamentoId",receivable_titles:"id, osId, status",delivery_jobs:"id, status, depositoId, assignedDriverId, osId",driver_presence:"driverId, status, lastSeenAt",delivery_zones:"id, deposit_id, name",delivery_sectors:"id, zone_id, name",zone_pricing:"id, [zone_id+deposit_id], zone_id, deposit_id",expenses:"id, status, due_date, category",work_shifts:"id, deposit_id, user_id, status, opened_at",cash_flow_entries:"id, shift_id, deposit_id, user_id, category, status, created_at, reference_id",shift_stock_audits:"id, shift_id, deposit_id, product_id, created_at",outbox_events:"id, status, entity, action, entity_id, created_at"}).upgrade(async t=>{try{const n=t.table("products"),r=t.table("outbox_events"),i=await n.toArray(),s=new Date().toISOString(),c=Date.now();for(const d of i){const h=String(d.product_group??d.codigo??"").toLowerCase(),f=String(d.nome??"").toLowerCase();if(h!=="delivery_fee"&&f!=="taxa de entrega"||!(d.track_stock!==!1||d.type!=="SERVICE"||d.deposit_id!==null||d.preco_padrao!==0||d.preco_custo!==0||d.preco_venda!==0||d.product_group!=="delivery_fee"||d.codigo!=="delivery_fee"))continue;const x={...d,nome:"Taxa de entrega",tipo:"OUTROS",unidade:"serv",product_group:"delivery_fee",codigo:"delivery_fee",deposit_id:null,preco_padrao:0,preco_custo:0,preco_venda:0,marcacao:null,tracks_empties:!1,track_stock:!1,type:"SERVICE",current_stock:null,min_stock:null,updated_at:s};await n.put(x),await r.put({id:Dr(),entity:"products",action:"UPSERT",entity_id:x.id,payload_json:x,created_at:c,updated_at:c,status:"PENDING",attempts:0})}}catch(n){console.warn("v13 upgrade delivery fee normalize failed",n)}}),this.version(14).stores({deposits:"id, nome, ativo",products:"id, codigo, nome, ativo, tipo, product_group",price_table:"id, product_id, modalidade",employees:"id, username, deposit_id, cargo, ativo",clients:"id, nome, ativo",client_price_overrides:"id, client_id, product_id, modalidade",client_one_time_discount:"id, client_id, status",service_orders:"id, numeroOs, status, depositoId, clienteId, dataHoraCriacao",service_order_items:"id, osId, produtoId",payment_methods:"id, name, receipt_type, is_active",machines:"id, nome, ativo",accounts_receivable:"id, os_id, status, deposit_id",receivable_payments:"id, receivable_id, data_hora",financial_settings:"id, monthly_goal",stock_balance:"id, [deposit_id+product_id]",stock_movements:"id, depositoId, produtoId, origem, referenciaId",stock_transfers:"id, origem_deposit_id, destino_deposit_id",stock_transfer_items:"id, transfer_id, product_id",cash_sessions:"id, deposit_id, operador_id",cash_movements:"id, cash_session_id, tipo, os_id",stock_counts:"id, deposit_id, usuario_id, tipo",stock_count_items:"id, count_id, product_id",audit_logs:"id, entidade, entidade_id, acao, criado_em",financial_movements:"id, referenciaId, formaPagamentoId",receivable_titles:"id, osId, status",delivery_jobs:"id, status, depositoId, assignedDriverId, osId",driver_presence:"driverId, status, lastSeenAt",delivery_zones:"id, deposit_id, name",delivery_sectors:"id, zone_id, name",zone_pricing:"id, [zone_id+deposit_id], zone_id, deposit_id",expenses:"id, status, due_date, category",work_shifts:"id, deposit_id, user_id, status, opened_at",cash_flow_entries:"id, shift_id, deposit_id, user_id, category, status, created_at, reference_id",shift_stock_audits:"id, shift_id, deposit_id, product_id, created_at",outbox_events:"id, status, entity, action, entity_id, created_at"}).upgrade(async t=>{try{const n=t.table("products"),r=t.table("outbox_events"),i=await n.toArray(),s=new Date().toISOString(),c=Date.now();for(const d of i){const h=String(d.product_group??d.codigo??"").toLowerCase(),f=String(d.nome??"").toLowerCase();if(!(d.is_delivery_fee===!0||d.isDeliveryFee===!0||h==="delivery_fee"||f==="taxa de entrega")||!(d.track_stock!==!1||d.type!=="SERVICE"||d.deposit_id!==null||d.preco_padrao!==0||d.preco_custo!==0||d.preco_venda!==0||d.product_group!=="delivery_fee"||d.codigo!=="delivery_fee"||d.is_delivery_fee!==!0))continue;const w={...d,nome:"Taxa de entrega",tipo:"OUTROS",unidade:"serv",product_group:"delivery_fee",codigo:"delivery_fee",deposit_id:null,preco_padrao:0,preco_custo:0,preco_venda:0,marcacao:null,tracks_empties:!1,track_stock:!1,type:"SERVICE",current_stock:null,min_stock:null,is_delivery_fee:!0,updated_at:s};await n.put(w),await r.put({id:Dr(),entity:"products",action:"UPSERT",entity_id:w.id,payload_json:w,created_at:c,updated_at:c,status:"PENDING",attempts:0})}}catch(n){console.warn("v14 upgrade delivery fee flag failed",n)}}),this.version(15).stores({deposits:"id, nome, ativo",products:"id, codigo, nome, ativo, tipo, product_group",price_table:"id, product_id, modalidade",employees:"id, username, deposit_id, cargo, ativo",clients:"id, nome, ativo",client_price_overrides:"id, client_id, product_id, modalidade",client_one_time_discount:"id, client_id, status",service_orders:"id, numeroOs, status, depositoId, clienteId, dataHoraCriacao, entregadorId",service_order_items:"id, osId, produtoId",payment_methods:"id, name, receipt_type, is_active",machines:"id, nome, ativo",accounts_receivable:"id, os_id, status, deposit_id",receivable_payments:"id, receivable_id, data_hora",financial_settings:"id, monthly_goal",stock_balance:"id, [deposit_id+product_id]",stock_movements:"id, depositoId, produtoId, origem, referenciaId, usuarioId",stock_transfers:"id, origem_deposit_id, destino_deposit_id",stock_transfer_items:"id, transfer_id, product_id",cash_sessions:"id, deposit_id, operador_id",cash_movements:"id, cash_session_id, tipo, os_id",stock_counts:"id, deposit_id, usuario_id, tipo",stock_count_items:"id, count_id, product_id",audit_logs:"id, entidade, entidade_id, acao, criado_em",financial_movements:"id, referenciaId, formaPagamentoId",receivable_titles:"id, osId, status",delivery_jobs:"id, status, depositoId, assignedDriverId, osId",driver_presence:"driverId, status, lastSeenAt",delivery_zones:"id, deposit_id, name",delivery_sectors:"id, zone_id, name",zone_pricing:"id, [zone_id+deposit_id], zone_id, deposit_id",expenses:"id, status, due_date, category",work_shifts:"id, deposit_id, user_id, status, opened_at",cash_flow_entries:"id, shift_id, deposit_id, user_id, category, status, created_at, reference_id",shift_stock_audits:"id, shift_id, deposit_id, product_id, created_at",outbox_events:"id, status, entity, action, entity_id, created_at"}).upgrade(async t=>{try{const n=t.table("products"),r=t.table("outbox_events"),i=await n.toArray(),s=new Date().toISOString(),c=Date.now(),d=new Map;for(const h of i){if(h.tipo!=="VASILHAME_VAZIO")continue;const f=String(h.product_group??"");f&&d.set(f,h)}for(const h of i){const g=(h.track_stock??h.trackStock)===!1||h.type==="SERVICE",x=String(h.movement_type??h.movementType??"").toUpperCase(),E=x==="EXCHANGE"||x==="FULL"||x==="SIMPLE",w=!!(h.tracks_empties??h.tipo==="GAS_CHEIO"),I=E?x:g?"SIMPLE":w?"EXCHANGE":"SIMPLE";let j=h.return_product_id??h.returnProductId??null;if(I!=="EXCHANGE")j=null;else if(!j){const z=String(h.product_group??""),D=z?d.get(z):null;j=(D==null?void 0:D.id)??null}if(!(h.movement_type!==I||h.return_product_id!==j))continue;const S={...h,movement_type:I,return_product_id:j,updated_at:s};await n.put(S),await r.put({id:Dr(),entity:"products",action:"UPSERT",entity_id:S.id,payload_json:S,created_at:c,updated_at:c,status:"PENDING",attempts:0})}}catch(n){console.warn("v15 upgrade movement rules failed",n)}}),this.version(16).stores({deposits:"id, name, active",products:"id, codigo, nome, ativo, tipo, product_group",price_table:"id, product_id, modalidade",employees:"id, username, deposit_id, cargo, ativo",clients:"id, nome, ativo",client_price_overrides:"id, client_id, product_id, modalidade",client_one_time_discount:"id, client_id, status",service_orders:"id, numeroOs, status, depositoId, clienteId, dataHoraCriacao, entregadorId",service_order_items:"id, osId, produtoId",payment_methods:"id, name, receipt_type, is_active",machines:"id, nome, ativo",accounts_receivable:"id, os_id, status, deposit_id",receivable_payments:"id, receivable_id, data_hora",financial_settings:"id, monthly_goal",stock_balance:"id, [deposit_id+product_id]",stock_movements:"id, depositoId, produtoId, origem, referenciaId, usuarioId",stock_transfers:"id, origem_deposit_id, destino_deposit_id",stock_transfer_items:"id, transfer_id, product_id",cash_sessions:"id, deposit_id, operador_id",cash_movements:"id, cash_session_id, tipo, os_id",stock_counts:"id, deposit_id, usuario_id, tipo",stock_count_items:"id, count_id, product_id",audit_logs:"id, entidade, entidade_id, acao, criado_em",financial_movements:"id, referenciaId, formaPagamentoId",receivable_titles:"id, osId, status",delivery_jobs:"id, status, depositoId, assignedDriverId, osId",driver_presence:"driverId, status, lastSeenAt",delivery_zones:"id, deposit_id, name",delivery_sectors:"id, zone_id, name",zone_pricing:"id, [zone_id+deposit_id], zone_id, deposit_id",expenses:"id, status, due_date, category",work_shifts:"id, deposit_id, user_id, status, opened_at",cash_flow_entries:"id, shift_id, deposit_id, user_id, category, status, created_at, reference_id",shift_stock_audits:"id, shift_id, deposit_id, product_id, created_at",outbox_events:"id, status, entity, action, entity_id, created_at"}).upgrade(async t=>{await t.table("deposits").toCollection().modify(r=>{r.name=r.name||r.nome||"",r.address=r.address||r.endereco||null,r.active=r.active??r.ativo??!0,r.color=r.color||r.corIdentificacao||null,delete r.nome,delete r.endereco,delete r.ativo,delete r.corIdentificacao})}),this.version(17).stores({deposits:"id, name, active",products:"id, codigo, nome, ativo, tipo, product_group, depositoId",price_table:"id, product_id, modalidade",product_pricing:"id, [productId+depositoId], productId, depositoId",employees:"id, username, deposit_id, cargo, ativo",clients:"id, nome, ativo",client_price_overrides:"id, client_id, product_id, modalidade",client_one_time_discount:"id, client_id, status",service_orders:"id, numeroOs, status, depositoId, clienteId, dataHoraCriacao, entregadorId",service_order_items:"id, osId, produtoId",payment_methods:"id, name, receipt_type, is_active",machines:"id, nome, ativo",accounts_receivable:"id, os_id, status, deposit_id",receivable_payments:"id, receivable_id, data_hora",financial_settings:"id, monthly_goal",stock_balance:"id, [deposit_id+product_id]",stock_movements:"id, depositoId, produtoId, origem, referenciaId, usuarioId",stock_transfers:"id, origem_deposit_id, destino_deposit_id",stock_transfer_items:"id, transfer_id, product_id",cash_sessions:"id, deposit_id, operador_id",cash_movements:"id, cash_session_id, tipo, os_id",stock_counts:"id, deposit_id, usuario_id, tipo",stock_count_items:"id, count_id, product_id",audit_logs:"id, entidade, entidade_id, acao, criado_em",financial_movements:"id, referenciaId, formaPagamentoId",receivable_titles:"id, osId, status",delivery_jobs:"id, status, depositoId, assignedDriverId, osId",driver_presence:"driverId, status, lastSeenAt",delivery_zones:"id, deposit_id, name",delivery_sectors:"id, zone_id, name",zone_pricing:"id, [zone_id+deposit_id], zone_id, deposit_id",expenses:"id, status, due_date, category",work_shifts:"id, deposit_id, user_id, status, opened_at",cash_flow_entries:"id, shift_id, deposit_id, user_id, category, status, created_at, reference_id",shift_stock_audits:"id, shift_id, deposit_id, product_id, created_at",outbox_events:"id, status, entity, action, entity_id, created_at"}).upgrade(async t=>{console.log("v17: Migrating prices...");const n=await t.table("products").toArray(),r=[];for(const i of n){const s=i.depositoId??i.deposit_id;if(!s)continue;const c=i.preco_venda??i.preco_padrao??0;c<=0||r.push({id:`${i.id}:${s}`,productId:i.id,depositoId:s,price:c,created_at:new Date().toISOString(),updated_at:new Date().toISOString()})}r.length&&await t.table("product_pricing").bulkAdd(r),console.log(`v17: ${r.length} prices migrated`)}),this.version(18).stores({deposits:"id, name, active",products:"id, codigo, nome, ativo, tipo, product_group, depositoId",price_table:"id, product_id, modalidade",product_pricing:"id, [productId+depositoId], productId, depositoId",product_exchange_rules:"id, [productId+depositoId], productId, depositoId",employees:"id, username, deposit_id, cargo, ativo",clients:"id, nome, ativo",client_price_overrides:"id, client_id, product_id, modalidade",client_one_time_discount:"id, client_id, status",service_orders:"id, numeroOs, status, depositoId, clienteId, dataHoraCriacao, entregadorId",service_order_items:"id, osId, produtoId",payment_methods:"id, name, receipt_type, is_active",machines:"id, nome, ativo",accounts_receivable:"id, os_id, status, deposit_id",receivable_payments:"id, receivable_id, data_hora",financial_settings:"id, monthly_goal",stock_balance:"id, [deposit_id+product_id]",stock_movements:"id, depositoId, produtoId, origem, referenciaId, usuarioId",stock_transfers:"id, origem_deposit_id, destino_deposit_id",stock_transfer_items:"id, transfer_id, product_id",cash_sessions:"id, deposit_id, operador_id",cash_movements:"id, cash_session_id, tipo, os_id",stock_counts:"id, deposit_id, usuario_id, tipo",stock_count_items:"id, count_id, product_id",audit_logs:"id, entidade, entidade_id, acao, criado_em",financial_movements:"id, referenciaId, formaPagamentoId",receivable_titles:"id, osId, status",delivery_jobs:"id, status, depositoId, assignedDriverId, osId",driver_presence:"driverId, status, lastSeenAt",delivery_zones:"id, deposit_id, name",delivery_sectors:"id, zone_id, name",zone_pricing:"id, [zone_id+deposit_id], zone_id, deposit_id",expenses:"id, status, due_date, category",work_shifts:"id, deposit_id, user_id, status, opened_at",cash_flow_entries:"id, shift_id, deposit_id, user_id, category, status, created_at, reference_id",shift_stock_audits:"id, shift_id, deposit_id, product_id, created_at",outbox_events:"id, status, entity, action, entity_id, created_at"}),this.receivables=this.table("accounts_receivable")}};const Le=new kQ,Dr=()=>typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():Math.random().toString(36).slice(2)+Date.now().toString(36),UQ=({onClose:e,onSave:t})=>{const[n,r]=$.useState({name:"",address:"",reference:"",phone:"",cpf:"",birthDate:"",deliveryZoneId:""}),[i,s]=$.useState(!1),c=Er(()=>{var I;return(I=Le.delivery_zones)==null?void 0:I.toArray()},[])||[],d=Er(()=>{var I;return(I=Le.delivery_zones)==null?void 0:I.toArray()},[])||[],h=I=>I.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),f=I=>{const j=h(I||"");if(!j)return null;const F=d.map(z=>({sector:z,key:h((z==null?void 0:z.name)||"")})).filter(z=>z.key.length>2&&j.includes(z.key)).sort((z,D)=>D.key.length-z.key.length)[0];if(F!=null&&F.sector){const z=c.find(D=>D.id===F.sector.zone_id)??null;if(z)return{zoneId:z.id,zoneName:z.name??z.nome??"",source:"setor"}}const S=c.map(z=>({zone:z,key:h((z==null?void 0:z.name)||(z==null?void 0:z.nome)||"")})).filter(z=>z.key.length>2&&j.includes(z.key)).sort((z,D)=>D.key.length-z.key.length)[0];return S!=null&&S.zone?{zoneId:S.zone.id,zoneName:S.zone.name??S.zone.nome??"",source:"zona"}:null},g=$.useMemo(()=>f(n.address),[n.address,c,d]),x=I=>{const{name:j,value:F}=I.target;r({...n,[j]:F}),j==="address"&&s(!1)},E=I=>{r({...n,deliveryZoneId:I.target.value}),s(!0)};$.useEffect(()=>{if(i)return;const I=(g==null?void 0:g.zoneId)??"";n.deliveryZoneId!==I&&r(j=>({...j,deliveryZoneId:I}))},[g,i,n.deliveryZoneId]);const w=I=>{if(I.preventDefault(),!n.name||!n.address){alert("Nome e Endereo so obrigatrios.");return}const j={...n,nome:(n.name||"").trim(),name:(n.name||"").trim(),endereco:(n.address||"").trim(),address:(n.address||"").trim(),referencia:(n.reference||"").trim(),referencia_pt:(n.reference||"").trim(),telefone:(n.phone||"").trim(),phone:(n.phone||"").trim(),cpf:(n.cpf||"").trim(),dataNascimento:n.birthDate||"",deliveryZoneId:n.deliveryZoneId||null};console.log("Saving from Modal:",j),t&&t(j),e()};return o.jsxs("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",children:[o.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",onClick:e}),o.jsxs("div",{className:"bg-surface w-full max-w-md rounded-2xl shadow-2xl overflow-hidden relative z-10 animate-in zoom-in-95 fade-in duration-200 border border-bdr transition-colors duration-300 flex flex-col max-h-[90vh]",children:[o.jsxs("div",{className:"bg-app border-b border-bdr px-6 py-4 flex justify-between items-center shrink-0",children:[o.jsxs("h3",{className:"text-txt-main font-bold text-lg flex items-center gap-2",children:[o.jsx(pm,{className:"w-5 h-5 text-primary"}),"Novo Cliente"]}),o.jsx("button",{onClick:e,className:"text-txt-muted hover:text-txt-main hover:bg-bdr p-1.5 rounded-full transition-colors",children:o.jsx(zi,{className:"w-5 h-5"})})]}),o.jsxs("form",{onSubmit:w,className:"p-6 space-y-5 overflow-y-auto",children:[o.jsxs("div",{className:"space-y-1.5",children:[o.jsx("label",{className:"text-xs font-bold text-txt-muted uppercase ml-1",children:"Nome Completo *"}),o.jsxs("div",{className:"relative",children:[o.jsx(pm,{className:"w-4 h-4 text-txt-muted absolute left-3 top-3"}),o.jsx("input",{type:"text",name:"name",value:n.name,onChange:x,placeholder:"Ex: Joo da Silva",className:"w-full pl-10 pr-4 py-2.5 border border-bdr bg-app rounded-xl focus:ring-2 focus:ring-primary focus:border-primary outline-none text-txt-main text-sm font-medium transition-all",autoFocus:!0})]})]}),o.jsxs("div",{className:"space-y-1.5",children:[o.jsx("label",{className:"text-xs font-bold text-txt-muted uppercase ml-1",children:"Endereo Completo *"}),o.jsxs("div",{className:"relative",children:[o.jsx(ou,{className:"w-4 h-4 text-txt-muted absolute left-3 top-3"}),o.jsx("input",{type:"text",name:"address",value:n.address,onChange:x,placeholder:"Rua, Nmero, Bairro",className:"w-full pl-10 pr-4 py-2.5 border border-bdr bg-app rounded-xl focus:ring-2 focus:ring-primary focus:border-primary outline-none text-txt-main text-sm font-medium transition-all"})]})]}),o.jsxs("div",{className:"space-y-1.5",children:[o.jsx("label",{className:"text-xs font-bold text-txt-muted uppercase ml-1",children:"Ponto de Referncia"}),o.jsxs("div",{className:"relative",children:[o.jsx(Ab,{className:"w-4 h-4 text-txt-muted absolute left-3 top-3"}),o.jsx("input",{type:"text",name:"reference",value:n.reference,onChange:x,placeholder:"Ex: Prximo ao mercado X",className:"w-full pl-10 pr-4 py-2.5 border border-bdr bg-app rounded-xl focus:ring-2 focus:ring-primary focus:border-primary outline-none text-txt-main text-sm font-medium transition-all"})]})]}),o.jsxs("div",{className:"space-y-1.5",children:[o.jsx("label",{className:"text-xs font-bold text-txt-muted uppercase ml-1",children:"Zona de entrega"}),o.jsxs("select",{value:n.deliveryZoneId,onChange:E,className:"w-full px-4 py-2.5 border border-bdr bg-app rounded-xl focus:ring-2 focus:ring-primary focus:border-primary outline-none text-txt-main text-sm font-medium transition-all",children:[o.jsx("option",{value:"",children:"Sem zona definida"}),c.map(I=>o.jsx("option",{value:I.id,children:I.name??I.nome??I.id},I.id))]}),g&&g.zoneId===n.deliveryZoneId&&o.jsxs("div",{className:"text-[11px] text-emerald-600",children:["Zona detectada automaticamente: ",g.zoneName||"Zona encontrada","."]}),g&&g.zoneId!==n.deliveryZoneId&&o.jsxs("div",{className:"text-[11px] text-amber-600",children:["Zona sugerida pelo endereco: ",g.zoneName||"Zona encontrada","."]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-5",children:[o.jsxs("div",{className:"space-y-1.5",children:[o.jsx("label",{className:"text-xs font-bold text-txt-muted uppercase ml-1",children:"Telefone / Whats"}),o.jsxs("div",{className:"relative",children:[o.jsx(db,{className:"w-4 h-4 text-txt-muted absolute left-3 top-3"}),o.jsx("input",{type:"tel",name:"phone",value:n.phone,onChange:x,placeholder:"(00) 00000-0000",className:"w-full pl-10 pr-4 py-2.5 border border-bdr bg-app rounded-xl focus:ring-2 focus:ring-primary focus:border-primary outline-none text-txt-main text-sm font-medium transition-all"})]})]}),o.jsxs("div",{className:"space-y-1.5",children:[o.jsx("label",{className:"text-xs font-bold text-txt-muted uppercase ml-1",children:"Nascimento"}),o.jsxs("div",{className:"relative",children:[o.jsx(Dm,{className:"w-4 h-4 text-txt-muted absolute left-3 top-3"}),o.jsx("input",{type:"date",name:"birthDate",value:n.birthDate,onChange:x,className:"w-full pl-10 pr-4 py-2.5 border border-bdr bg-app rounded-xl focus:ring-2 focus:ring-primary focus:border-primary outline-none text-txt-main text-sm font-medium transition-all"})]})]})]}),o.jsxs("div",{className:"space-y-1.5",children:[o.jsx("label",{className:"text-xs font-bold text-txt-muted uppercase ml-1",children:"CPF"}),o.jsxs("div",{className:"relative",children:[o.jsx(y5,{className:"w-4 h-4 text-txt-muted absolute left-3 top-3"}),o.jsx("input",{type:"text",name:"cpf",value:n.cpf,onChange:x,placeholder:"000.000.000-00",className:"w-full pl-10 pr-4 py-2.5 border border-bdr bg-app rounded-xl focus:ring-2 focus:ring-primary focus:border-primary outline-none text-txt-main text-sm font-medium transition-all"})]})]}),o.jsxs("div",{className:"pt-2 flex items-center gap-3",children:[o.jsx("button",{type:"button",onClick:e,className:"flex-1 py-3 text-sm font-bold text-txt-muted hover:bg-app rounded-xl transition-colors",children:"Cancelar"}),o.jsxs("button",{type:"submit",className:"flex-[2] py-3 bg-primary hover:bg-primary/90 text-white text-sm font-bold rounded-xl shadow-lg shadow-primary/20 transition-all active:scale-[0.98] flex items-center justify-center gap-2",children:[o.jsx(wl,{className:"w-4 h-4"}),"Cadastrar Cliente"]})]})]})]})]})};function IQ({selectedDepositId:e,items:t,setItems:n,includeProductIds:r,lockedProductIds:i,onRemoveItem:s}){const[c,d]=$.useState(""),[h,f]=$.useState("1"),g=(r||[]).join("|"),x=D=>((D==null?void 0:D.is_delivery_fee)??(D==null?void 0:D.isDeliveryFee))===!0||String((D==null?void 0:D.product_group)??(D==null?void 0:D.codigo)??"").toLowerCase()==="delivery_fee"?!0:String((D==null?void 0:D.nome)??(D==null?void 0:D.name)??"").toLowerCase()==="taxa de entrega",E=D=>x(D)||((D==null?void 0:D.track_stock)??(D==null?void 0:D.trackStock))===!1?!0:(D==null?void 0:D.type)==="SERVICE",w=Er(async()=>!e&&!(r||[]).length?[]:(await Le.products.toArray()).filter(G=>{if(!((G.ativo??G.is_active??!0)!==!1))return!1;const Y=G.deposit_id??G.depositoId??G.depositId??G.deposito_id??null;return!!(E(G)||(r||[]).includes(G.id)||Y===null||Y===""||e&&Y===e)}),[e,g])||[],I=$.useMemo(()=>{const D=new Map;return w.forEach(G=>D.set(G.id,G)),D},[w]),j=()=>{const D=I.get(c);if(!D)return;const G=Math.max(1,Number(h)||1),ce=Number(D.preco_padrao??D.preco??D.price??0)||0,Y=D.nome??D.name??"",ge=E(D)?"SERVICO":D.tipo??D.type??"",re=t.find(M=>M.produtoId===D.id);if(re){const M=t.map(X=>X.id===re.id?{...X,quantidade:X.quantidade+G}:X);n(M)}else{const M={id:crypto.randomUUID(),produtoId:D.id,nome:Y,tipo:ge,precoUnitario:ce,quantidade:G};n([...t,M])}f("1"),d("")},F=(D,G)=>{const ce=Math.max(1,Number(G)||1),Y=t.map(ge=>ge.id===D?{...ge,quantidade:ce}:ge);n(Y)},S=D=>{const G=t.find(ce=>ce.id===D);G&&s&&s(G),n(t.filter(ce=>ce.id!==D))},z=D=>{D.key==="Enter"&&(D.preventDefault(),j())};return e?o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex flex-wrap items-end gap-2",children:[o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("label",{className:"text-xs text-gray-500",children:"Produto"}),o.jsxs("select",{value:c,onChange:D=>d(D.target.value),className:"h-8 px-2 border border-gray-300 rounded text-sm bg-white",children:[o.jsx("option",{value:"",children:"Selecionar produto"}),w.filter(D=>!(i!=null&&i.includes(D.id))).map(D=>o.jsx("option",{value:D.id,children:D.nome??D.name},D.id))]})]}),o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("label",{className:"text-xs text-gray-500",children:"Qtd"}),o.jsx("input",{type:"number",min:"1",value:h,onChange:D=>f(D.target.value),onKeyDown:z,className:"h-8 w-24 px-2 border border-gray-300 rounded text-sm"})]}),o.jsx("button",{type:"button",onClick:j,className:"h-8 px-3 rounded bg-blue-600 text-white text-sm",children:"Adicionar"})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-gray-700 border border-gray-200",children:[o.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-2 py-2 text-left",children:"Produto"}),o.jsx("th",{className:"px-2 py-2 text-left",children:"Tipo"}),o.jsx("th",{className:"px-2 py-2 text-left",children:"Preco Unit."}),o.jsx("th",{className:"px-2 py-2 text-left",children:"Qtd"}),o.jsx("th",{className:"px-2 py-2 text-left",children:"Total"}),o.jsx("th",{className:"px-2 py-2 text-left",children:"Acoes"})]})}),o.jsx("tbody",{children:t.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"px-3 py-6 text-center text-gray-400",children:"Nenhum item adicionado."})}):t.map(D=>{const G=i==null?void 0:i.includes(D.produtoId);return o.jsxs("tr",{className:"border-t border-gray-200",children:[o.jsx("td",{className:"px-2 py-2",children:D.nome}),o.jsx("td",{className:"px-2 py-2",children:D.tipo}),o.jsxs("td",{className:"px-2 py-2",children:["R$ ",D.precoUnitario.toFixed(2)]}),o.jsx("td",{className:"px-2 py-2",children:o.jsx("input",{type:"number",min:"1",value:D.quantidade,onChange:ce=>F(D.id,ce.target.value),disabled:G,className:`w-20 h-7 px-2 border border-gray-300 rounded ${G?"bg-gray-100 text-gray-400 cursor-not-allowed":""}`})}),o.jsxs("td",{className:"px-2 py-2",children:["R$ ",(D.precoUnitario*D.quantidade).toFixed(2)]}),o.jsx("td",{className:"px-2 py-2",children:o.jsx("button",{type:"button",onClick:()=>S(D.id),className:"text-red-600 hover:text-red-700","aria-label":"Remover item",children:o.jsx(oo,{className:"w-4 h-4"})})})]},D.id)})})]})})]}):o.jsx("div",{className:"text-sm text-gray-600",children:"Selecione um deposito primeiro"})}async function Z2(e){const t={...e,id:Dr(),criado_em:e.criado_em??Date.now()};return await Le.audit_logs.put(t),t}async function Sr(e){const t=Date.now(),n={id:Dr(),entity:e.entity,action:e.action,entity_id:e.entity_id,payload_json:e.payload_json,created_at:t,updated_at:t,status:e.status??"PENDING",attempts:0};return await Le.outbox_events.put(n),n}async function TQ(e=50){const t=await Le.outbox_events.where("status").equals("PENDING").sortBy("created_at");if(t.length>=e)return t.slice(0,e);const n=e-t.length,r=await Le.outbox_events.where("status").equals("FAILED").filter(i=>i.attempts<10).sortBy("created_at");return t.concat(r.slice(0,n))}async function FQ(e){const t=Date.now();await Le.outbox_events.update(e,{status:"SENT",updated_at:t,synced_at:t,last_error:void 0})}async function OQ(e,t){const n=Date.now(),r=t instanceof Error?t.message:String(t);await Le.transaction("rw",Le.outbox_events,async()=>{const i=await Le.outbox_events.get(e);i&&await Le.outbox_events.update(e,{status:"FAILED",updated_at:n,attempts:(i.attempts??0)+1,last_error:r})})}function Hs(e){if(!e||typeof e!="object")return e;const t=e.depositoId||e.deposito_id||e.deposit_id||e.depositId||null,n={...e};return delete n.deposit_id,delete n.deposito_id,delete n.depositId,n.depositoId=t,n}function TN(e){if(!e||typeof e!="object")return e;const t={...e},n=e.nome||e.name||"";delete t.name,t.nome=n;const r=e.endereco||e.address||"";delete t.address,r&&(t.endereco=r);const i=e.ativo??e.active??e.is_active??!0;delete t.active,delete t.is_active,t.ativo=!!i;const s=e.cor||e.color||null;return delete t.color,t.cor=s,t}function tg(e,t){if(!e||typeof e!="object")return e;const n={...e};return n.depositoId!==void 0&&(n.deposit_id=n.depositoId,delete n.depositoId,delete n.deposito_id),t==="deposits"&&(n.nome!==void 0&&(n.name=n.nome,delete n.nome),n.endereco!==void 0&&(n.address=n.endereco,delete n.endereco),n.ativo!==void 0&&(n.is_active=n.ativo,n.active=n.ativo,delete n.ativo),n.cor!==void 0&&(n.color=n.cor,delete n.cor)),t==="employees"&&(n.nome!==void 0&&(n.name=n.nome,delete n.nome),n.cargo!==void 0&&(n.role=n.cargo,delete n.cargo),n.ativo!==void 0&&(n.is_active=n.ativo,n.active=n.ativo,delete n.ativo),n.permissoes!==void 0&&(n.permissions=n.permissoes,delete n.permissoes),n.telefone!==void 0&&(n.phone=n.telefone,delete n.telefone)),t==="clients"&&(n.nome!==void 0&&(n.name=n.nome,delete n.nome),n.endereco!==void 0&&(n.address=n.endereco,delete n.endereco),n.telefone!==void 0&&(n.phone=n.telefone,delete n.telefone),n.ativo!==void 0&&(n.is_active=n.ativo,n.active=n.ativo,delete n.ativo),n.deliveryZoneId!==void 0&&(n.delivery_zone_id=n.deliveryZoneId,delete n.deliveryZoneId),n.dataNascimento!==void 0&&(n.birth_date=n.dataNascimento,delete n.dataNascimento)),t==="products"&&(n.nome!==void 0&&(n.name=n.nome,delete n.nome),n.ativo!==void 0&&(n.is_active=n.ativo,n.active=n.ativo,delete n.ativo),n.descricao!==void 0&&(n.description=n.descricao,delete n.descricao),n.tipo!==void 0&&n.type===void 0&&(n.type=n.tipo),n.imagem_url!==void 0&&(n.image_url=n.imagem_url,delete n.imagem_url)),t==="service_orders"&&(n.clienteId!==void 0&&(n.client_id=n.clienteId,delete n.clienteId),n.clienteNome!==void 0&&(n.client_name=n.clienteNome,delete n.clienteNome),n.clienteTelefone!==void 0&&(n.client_phone=n.clienteTelefone,delete n.clienteTelefone),n.entregadorId!==void 0&&(n.driver_id=n.entregadorId,delete n.entregadorId),n.entregadorNome!==void 0&&(n.driver_name=n.entregadorNome,delete n.entregadorNome),n.enderecoEntrega!==void 0&&(n.delivery_address=n.enderecoEntrega,delete n.enderecoEntrega),n.numeroOs!==void 0&&(n.order_number=n.numeroOs,delete n.numeroOs),n.valorTotal!==void 0&&(n.total_value=n.valorTotal,delete n.valorTotal),n.descontoValor!==void 0&&(n.discount_value=n.descontoValor,delete n.descontoValor)),t==="stock_movements"&&(n.produtoId!==void 0&&(n.product_id=n.produtoId,delete n.produtoId),n.produtoNome!==void 0&&(n.product_name=n.produtoNome,delete n.produtoNome),n.usuarioId!==void 0&&(n.user_id=n.usuarioId,delete n.usuarioId),n.usuarioNome!==void 0&&(n.user_name=n.usuarioNome,delete n.usuarioNome),n.dataHora!==void 0&&(n.timestamp=n.dataHora,delete n.dataHora),n.referenciaId!==void 0&&(n.reference_id=n.referenciaId,delete n.referenciaId)),t==="work_shifts"&&(n.usuarioId!==void 0&&(n.user_id=n.usuarioId,delete n.usuarioId),n.usuarioNome!==void 0&&(n.user_name=n.usuarioNome,delete n.usuarioNome)),t==="delivery_zones"&&(n.nome!==void 0&&(n.name=n.nome,delete n.nome),n.cor!==void 0&&(n.color=n.cor,delete n.cor),n.deposit_id=null,delete n.depositoId,delete n.deposito_id),t==="zone_pricing"&&(n.zonaId!==void 0&&(n.zone_id=n.zonaId,delete n.zonaId),n.preco!==void 0&&(n.price=n.preco,delete n.preco)),t==="expenses"&&(n.descricao!==void 0&&(n.description=n.descricao,delete n.descricao),n.valor!==void 0&&(n.amount=n.valor,delete n.valor),n.categoria!==void 0&&(n.category=n.categoria,delete n.categoria),n.dataPagamento!==void 0&&(n.paid_date=n.dataPagamento,delete n.dataPagamento),n.dataVencimento!==void 0&&(n.due_date=n.dataVencimento,delete n.dataVencimento)),t==="zone_pricing"&&(n.productId!==void 0&&(n.product_id=n.productId,delete n.productId),n.preco!==void 0&&(n.price=n.preco,delete n.preco)),t==="product_exchange_rules"&&(n.productId!==void 0&&(n.product_id=n.productId,delete n.productId),n.depositoId!==void 0&&(n.deposit_id=n.depositoId,delete n.depositoId),n.returnProductId!==void 0&&(n.return_product_id=n.returnProductId,delete n.returnProductId)),n.ativo!==void 0&&n.is_active===void 0&&!(t!=null&&t.includes("deposits"))&&(n.is_active=n.ativo,n.active=n.ativo,delete n.ativo),n}function $2(e){return typeof e!="string"?!1:/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)}function QQ(e,t){const n=String(e??"PROD").normalize("NFD").replace(new RegExp("\\p{Diacritic}","gu"),"").toLowerCase().replace(/[^a-z0-9]+/g,"_").replace(/^_+|_+$/g,"").slice(0,24),r=String(t).replace(/-/g,"").slice(-6).toLowerCase();return r?`${n}_${r}`:n||"produto"}function DQ(e,t){return!e||e<=0?null:(t-e)/e*100}function FN(e){const t=Hs(e),n=t.id&&$2(t.id)?t.id:Dr(),r=new Date().toISOString(),i=t.type??t.item_type??null,s=typeof t.track_stock=="boolean"?t.track_stock:typeof t.trackStock=="boolean"?t.trackStock:void 0,c=t.is_delivery_fee===!0||t.isDeliveryFee===!0,d=String(e.product_group??e.codigo??"").toLowerCase(),h=String(e.nome??"").trim().toLowerCase(),f=c||d==="delivery_fee"||h==="taxa de entrega",g=i==="SERVICE"||s===!1||f,x=g?!1:s??!0,E=g?"SERVICE":i,w=g?!1:!!(e.tracks_empties??e.tipo==="GAS_CHEIO"),I=g?null:typeof e.min_stock=="number"?e.min_stock:typeof e.minStock=="number"?e.minStock:null,j=String(e.codigo??"").trim()||QQ(e.nome,n),F=f?"delivery_fee":j,S=f?"delivery_fee":e.product_group??F,z=Number(e.preco_custo??0)||0,D=Number(e.preco_venda??e.preco_padrao??0)||0,G=Number(e.preco_padrao??D)||0,ce=f?0:z,Y=f?0:D,ge=f?0:G,re=String(e.movement_type??e.movementType??"").toUpperCase(),X=(re==="SIMPLE"||re==="EXCHANGE"||re==="FULL"?re:null)??(g?"SIMPLE":w?"EXCHANGE":"SIMPLE"),V=e.return_product_id??e.returnProductId??null,W=X==="EXCHANGE"&&V?String(V):null;return{id:n,codigo:F,nome:f?"Taxa de entrega":t.nome,tipo:f?"OUTROS":t.tipo,descricao:t.descricao??null,unidade:t.unidade??(g?"serv":"un"),product_group:S??null,imagem_url:t.imagem_url??null,type:E,is_delivery_fee:f,movement_type:X,return_product_id:W,depositoId:g?null:t.depositoId&&$2(t.depositoId)?t.depositoId:null,current_stock:g?null:typeof e.current_stock=="number"?e.current_stock:typeof e.quantidade_atual=="number"?e.quantidade_atual:null,min_stock:I,preco_padrao:ge,preco_custo:ce,preco_venda:Y,marcacao:f?null:e.marcacao??DQ(ce,Y),track_stock:x,tracks_empties:w,ativo:!!(e.ativo??!0),created_at:e.created_at??r,updated_at:r}}async function ON(e){return{product:e,extraProducts:[]}}async function fA(){return(await Le.products.toArray()).map(Hs)}async function MQ(e){const t=FN(e),n=await ON(t);return await Le.transaction("rw",Le.products,Le.outbox_events,Le.stock_balance,async()=>{for(const r of n.extraProducts)await Le.products.put(r),await Sr({entity:"products",action:"UPSERT",entity_id:r.id,payload_json:r});await Le.products.put(n.product),await Sr({entity:"products",action:"UPSERT",entity_id:n.product.id,payload_json:n.product}),n.product.depositoId&&(await Le.stock_balance.where("[deposit_id+product_id]").equals([n.product.depositoId,n.product.id]).first()||await Le.stock_balance.put({id:Dr(),deposit_id:n.product.depositoId,product_id:n.product.id,quantidade_atual:0}))}),n.product}async function RQ(e,t){const n=await Le.products.get(e),r=FN({...n??{},...t,id:e,nome:t.nome??(n==null?void 0:n.nome)??"",tipo:t.tipo??(n==null?void 0:n.tipo)??"OUTROS"}),i=await ON(r);return await Le.transaction("rw",Le.products,Le.outbox_events,Le.stock_balance,async()=>{for(const s of i.extraProducts)await Le.products.put(s),await Sr({entity:"products",action:"UPSERT",entity_id:s.id,payload_json:s});if(await Le.products.put(i.product),await Sr({entity:"products",action:"UPSERT",entity_id:i.product.id,payload_json:i.product}),i.product.depositoId&&!await Le.stock_balance.where("[deposit_id+product_id]").equals([i.product.depositoId,i.product.id]).first()){const c=Number(i.product.current_stock??0)||0;await Le.stock_balance.put({id:Dr(),deposit_id:i.product.depositoId,product_id:i.product.id,quantidade_atual:c})}}),i.product}async function sf(){return(await Le.deposits.toArray()).map(TN)}async function ng(e){const t=TN(e),n=t.id?t:{...t,id:Dr()};return await Le.transaction("rw",Le.deposits,Le.outbox_events,async()=>{await Le.deposits.put(n),await Sr({entity:"deposits",action:"UPSERT",entity_id:n.id,payload_json:n})}),n}async function PQ(e){await Le.transaction("rw",Le.deposits,Le.outbox_events,async()=>{await Le.deposits.delete(e),await Sr({entity:"deposits",action:"DELETE",entity_id:e})})}async function Gh(){return(await Le.employees.toArray()).map(Hs)}async function wh(e){const t=Hs(e.id?e:{...e,id:Dr()});if(!(t.cargo==="GERENTE"||t.cargo==="ENTREGADOR")&&!t.depositoId)throw console.error(" ERRO: Tentativa de salvar colaborador local sem depositoId!",t),new Error(`Cargo ${t.cargo} requer depositoId! Usurio: ${t.nome}`);return console.log(" Repository salvando:",{id:t.id,nome:t.nome,cargo:t.cargo,depositoId:t.depositoId}),await Le.transaction("rw",Le.employees,Le.outbox_events,async()=>{await Le.employees.put(t),await Sr({entity:"employees",action:"UPSERT",entity_id:t.id,payload_json:t})}),console.log(" Repository salvou com sucesso!"),t}async function HQ(e){await Le.transaction("rw",Le.employees,Le.outbox_events,async()=>{await Le.employees.delete(e),await Sr({entity:"employees",action:"DELETE",entity_id:e})})}const zQ=e=>{const t=new Date().toISOString(),n=(e==null?void 0:e.id)??Dr(),r=(e==null?void 0:e.created_at)??t,i=(e==null?void 0:e.receipt_type)??"other",s=i==="cash"||i==="pix"?!1:typeof(e==null?void 0:e.enters_receivables)=="boolean"?e.enters_receivables:i==="boleto"||i==="fiado",c=s?Number((e==null?void 0:e.default_due_days)??0):0;return{id:n,name:(e==null?void 0:e.name)??(e==null?void 0:e.Nome)??(e==null?void 0:e.nome)??"",receipt_type:i,default_due_days:c,enters_receivables:s,machine_label:(e==null?void 0:e.machine_label)??void 0,is_active:!!((e==null?void 0:e.is_active)??!0),created_at:r,updated_at:(e==null?void 0:e.updated_at)??t}};async function jm(){return Le.payment_methods.orderBy("name").toArray()}async function qQ(e){const t=zQ(e);return await Le.transaction("rw",Le.payment_methods,Le.outbox_events,async()=>{await Le.payment_methods.put(t),await Sr({entity:"payment_methods",action:"UPSERT",entity_id:t.id,payload_json:t})}),t}async function KQ(e){await Le.transaction("rw",Le.payment_methods,Le.outbox_events,async()=>{await Le.payment_methods.delete(e),await Sr({entity:"payment_methods",action:"DELETE",entity_id:e})})}async function _v(){return Le.machines.toArray()}async function GQ(e){const t=e.id?e:{...e,id:Dr()};return await Le.machines.put(t),t}async function VQ(e){await Le.machines.delete(e)}function QN(e){switch(e.tipo){case"ENTRADA":return e.quantidade;case"SUPRIMENTO_ENTRADA":return e.quantidade;case"SAIDA":return-e.quantidade;case"SANGRIA_SAIDA":return-e.quantidade;case"AJUSTE_CONTAGEM":{const t=e.meta,n=typeof(t==null?void 0:t.divergence)=="number"?t.divergence:void 0;if(typeof n=="number"&&!Number.isNaN(n))return n;const r=typeof(t==null?void 0:t.beforeQty)=="number"?t.beforeQty:void 0,i=typeof(t==null?void 0:t.afterQty)=="number"?t.afterQty:void 0;return typeof r=="number"&&typeof i=="number"?i-r:0}default:return 0}}async function rg(e){const[t,n]=await Promise.all([Le.stock_balance.where("deposit_id").equals(e).toArray(),Le.products.toArray()]),r={};if(t.length)t.forEach(s=>{r[s.product_id]=Number(s.quantidade_atual??0)||0});else{const s=await Le.stock_movements.where("depositoId").equals(e).toArray();for(const c of s){const h=(r[c.produtoId]??0)+QN(c);r[c.produtoId]=Math.max(0,h)}}const i=s=>{const c=(s==null?void 0:s.track_stock)??(s==null?void 0:s.trackStock),d=s==null?void 0:s.type,h=(s==null?void 0:s.is_delivery_fee)??(s==null?void 0:s.isDeliveryFee);return!(c===!1||d==="SERVICE"||h)};for(const s of n){if(!i(s))continue;const c=s.deposit_id??s.depositId??s.depositoId??null;if(!(c&&c!==e)&&(r[s.id]===void 0||r[s.id]===null)){const d=Number(s.current_stock??s.quantidade_atual??s.estoque_atual??0);r[s.id]=Math.max(0,d||0)}}return r}async function rm(e,t){return!!await Le.stock_movements.where("referenciaId").equals(e).filter(r=>t?r.origem===t:!0).first()}async function xd(e,t=!0){const n=e.map(i=>i.id?i:{...i,id:Dr()}),r=new Date().toISOString();return await Le.transaction("rw",Le.stock_movements,Le.stock_balance,Le.products,Le.outbox_events,async()=>{for(const i of n){if(await Le.stock_movements.put(i),t){const s=await DN(i.depositoId,i.produtoId),c=QN(i),d=Math.max(0,((s==null?void 0:s.quantidade_atual)??0)+c);await ZQ(i.depositoId,i.produtoId,d);const h=await Le.products.get(i.produtoId);if(h){const f=h.deposit_id??h.depositId??h.depositoId??null;if((!f||f===i.depositoId)&&(h.current_stock??h.quantidade_atual)!==d){const x={...h,current_stock:d,updated_at:r};await Le.products.put(x),await Sr({entity:"products",action:"UPSERT",entity_id:x.id,payload_json:x})}}}await Sr({entity:"stock_movements",action:"UPSERT",entity_id:i.id,payload_json:i})}}),n}async function DN(e,t){try{return await Le.stock_balance.where("[deposit_id+product_id]").equals([e,t]).first()}catch{return(await Le.stock_balance.toArray()).find(i=>i.deposit_id===e&&i.product_id===t)}}async function ZQ(e,t,n){const r=await DN(e,t),i=r?{...r,quantidade_atual:n}:{id:Dr(),deposit_id:e,product_id:t,quantidade_atual:n};return await Le.stock_balance.put(i),i}async function ch(e,t=!0){const[n]=await xd([e],t);return n}const Y2=()=>Math.random().toString(36).substring(2)+Date.now().toString(36),$Q=e=>((e==null?void 0:e.is_delivery_fee)??(e==null?void 0:e.isDeliveryFee))===!0||String((e==null?void 0:e.product_group)??(e==null?void 0:e.codigo)??"").toLowerCase()==="delivery_fee"?!0:String((e==null?void 0:e.nome)??"").toLowerCase()==="taxa de entrega",YQ=e=>$Q(e)||((e==null?void 0:e.track_stock)??(e==null?void 0:e.trackStock))===!1?!0:(e==null?void 0:e.type)==="SERVICE",XQ=e=>{const t=String((e==null?void 0:e.movement_type)??(e==null?void 0:e.movementType)??"").toUpperCase();return t==="EXCHANGE"||t==="FULL"||t==="SIMPLE"?t:e!=null&&e.tracks_empties&&(e!=null&&e.product_group)?"EXCHANGE":"SIMPLE"},JQ=(e,t)=>{const n=(e==null?void 0:e.return_product_id)??(e==null?void 0:e.returnProductId)??null;if(n){const i=t.find(s=>s.id===n);if(i)return i}const r=(e==null?void 0:e.product_group)??null;return r?t.find(i=>i.tipo==="VASILHAME_VAZIO"&&i.product_group===r)??null:null};function Mx(e,t,n,r){const i=[],s=new Date().toISOString();for(const c of e.itens){const d=t.find(f=>f.id===c.produtoId);if(!d||YQ(d))continue;if(["VENDA","TROCA","OUTROS"].includes(c.modalidade)){const f=r?"ENTRADA":"SAIDA";i.push({id:Y2(),dataHora:s,depositoId:e.depositoId,produtoId:c.produtoId,produtoNome:d.nome,tipo:f,quantidade:c.quantidade,origem:n,referenciaId:e.id,usuarioId:"SYSTEM",usuarioNome:"Sistema"})}if(XQ(d)==="EXCHANGE"){const f=r?"SAIDA":"ENTRADA",g=JQ(d,t);g&&i.push({id:Y2(),dataHora:s,depositoId:e.depositoId,produtoId:g.id,produtoNome:g.nome,tipo:f,quantidade:c.quantidade,origem:n,referenciaId:e.id,usuarioId:"SYSTEM",usuarioNome:"Sistema"})}}return i}async function Ub(e){const t=Date.now(),n={id:Dr(),os_id:e.os_id??null,payment_method_id:e.payment_method_id??null,deposit_id:e.deposit_id??null,devedor_nome:e.devedor_nome??e.description??"Cliente",valor_total:Number(e.valor_total??0),valor_pago:0,status:e.status??"ABERTO",criado_em:e.criado_em??t,vencimento_em:e.vencimento_em??t,description:e.description??null,client_id:e.client_id??null,requires_boleto:e.requires_boleto??!1,is_personal:e.is_personal??!1,alert_days_before:e.alert_days_before??void 0,installment_no:e.installment_no,installments_total:e.installments_total};return await Le.transaction("rw",Le.accounts_receivable,Le.outbox_events,async()=>{await Le.accounts_receivable.put(n),await Sr({entity:"accounts_receivable",action:"UPSERT",entity_id:n.id,payload_json:n})}),n}async function MN(e){return Le.accounts_receivable.where("os_id").equals(e).toArray()}async function WQ(e){await Le.transaction("rw",Le.accounts_receivable,Le.outbox_events,async()=>{await Le.accounts_receivable.delete(e),await Sr({entity:"accounts_receivable",action:"DELETE",entity_id:e})})}async function eD(e){const t=await MN(e);t.length&&await Le.transaction("rw",Le.accounts_receivable,Le.outbox_events,async()=>{for(const n of t)await Le.accounts_receivable.delete(n.id),await Sr({entity:"accounts_receivable",action:"DELETE",entity_id:n.id})})}async function tD(e){return Le.accounts_receivable.toArray()}async function wv(e,t,n,r,i,s){const c=await Le.accounts_receivable.get(e);if(!c)throw new Error("Recebvel no encontrado");const d={id:Dr(),receivable_id:e,valor:t,data_hora:i??Date.now(),usuario_id:n,payment_method_id:r??null,obs:s??null},h=(c.valor_pago||0)+t,f=h>=c.valor_total?"PAGO":"PARCIAL",g={...c,valor_pago:h,status:f};return await Le.transaction("rw",Le.accounts_receivable,Le.receivable_payments,Le.outbox_events,async()=>{await Le.receivable_payments.put(d),await Le.accounts_receivable.update(e,{valor_pago:h,status:f}),await Sr({entity:"receivable_payments",action:"UPSERT",entity_id:d.id,payload_json:d}),await Sr({entity:"accounts_receivable",action:"UPSERT",entity_id:g.id,payload_json:g})}),d}async function nD(e,t,n){const r=await Le.receivable_payments.get(e);if(!r)throw new Error("Pagamento no encontrado");const i=await Le.accounts_receivable.get(r.receivable_id);if(!i)throw new Error("Recebvel no encontrado");const s={...r,...t},c=(s.valor??0)-(r.valor??0),d=(i.valor_pago||0)+c,h=d>=i.valor_total?"PAGO":d>0?"PARCIAL":i.status,f={...i,valor_pago:d,status:h};return await Le.transaction("rw",Le.receivable_payments,Le.accounts_receivable,Le.outbox_events,async()=>{await Le.receivable_payments.put(s),await Le.accounts_receivable.put(f),await Sr({entity:"receivable_payments",action:"UPSERT",entity_id:s.id,payload_json:s}),await Sr({entity:"accounts_receivable",action:"UPSERT",entity_id:f.id,payload_json:f})}),s}async function RN(e,t){const n=await Le.accounts_receivable.get(e);if(!n)throw new Error("Recebvel no encontrado");const r={...n,...t};return await Le.transaction("rw",Le.accounts_receivable,Le.outbox_events,async()=>{await Le.accounts_receivable.put(r),await Sr({entity:"accounts_receivable",action:"UPSERT",entity_id:r.id,payload_json:r})}),r}const rD=()=>{if(typeof localStorage>"u")return null;const e=localStorage.getItem("gp_session");if(!e)return null;try{const t=JSON.parse(e);return{id:t==null?void 0:t.id,nome:t==null?void 0:t.nome,depositoId:t==null?void 0:t.depositoId}}catch{return null}};async function PN(e,t){return await Le.work_shifts.where("status").equals("OPEN").filter(r=>r.user_id===e&&r.deposit_id===t).first()??null}async function iD(e){const t=Date.now(),n={id:Dr(),user_id:e.userId,user_name:e.userName??null,deposit_id:e.depositId,status:"OPEN",opened_at:t,opening_balance:Number(e.openingBalance??0)||0,notes:e.notes??null},r=Dr(),i={id:r,shift_id:n.id,deposit_id:n.deposit_id,user_id:n.user_id,user_name:n.user_name??null,category:"OPENING_BALANCE",direction:"IN",amount:n.opening_balance,status:"POSTED",created_at:t,payment_type:"cash",notes:"Abertura de caixa"};return await Le.transaction("rw",Le.work_shifts,Le.cash_flow_entries,Le.outbox_events,async()=>{await Le.work_shifts.put(n),await Le.cash_flow_entries.put(i),await Sr({entity:"work_shifts",action:"UPSERT",entity_id:n.id,payload_json:n}),await Sr({entity:"cash_flow_entries",action:"UPSERT",entity_id:r,payload_json:i})}),n}async function aD(e){const t=Date.now(),n={...e.shift,status:e.status,closed_at:t,declared_cash:e.declared.cash,declared_card:e.declared.card,declared_pix:e.declared.pix,system_cash:e.system.cash,system_card:e.system.card,system_pix:e.system.pix,closing_balance:e.system.cash,notes:e.notes??e.shift.notes??null};return await Le.transaction("rw",Le.work_shifts,Le.outbox_events,async()=>{await Le.work_shifts.put(n),await Sr({entity:"work_shifts",action:"UPSERT",entity_id:n.id,payload_json:n})}),n}async function sD(e){e.length&&await Le.transaction("rw",Le.shift_stock_audits,Le.outbox_events,async()=>{await Le.shift_stock_audits.bulkPut(e);for(const t of e)await Sr({entity:"shift_stock_audits",action:"UPSERT",entity_id:t.id,payload_json:t})})}const oD={OPENING_BALANCE:"IN",SALE:"IN",SUPRIMENTO:"IN",SANGRIA:"OUT",ADJUSTMENT:"IN"},lD=e=>{if(typeof e=="number"&&Number.isFinite(e))return e;if(typeof e=="string"){const t=e.replace(",","."),n=Number(t);return Number.isFinite(n)?n:0}return 0};async function AD(e){return await Le.transaction("rw",Le.cash_flow_entries,Le.outbox_events,async()=>{await Le.cash_flow_entries.put(e),await Sr({entity:"cash_flow_entries",action:"UPSERT",entity_id:e.id,payload_json:e})}),e}async function HN(e){var f;const t=rD(),n=e.userId??(t==null?void 0:t.id)??null,r=e.userName??(t==null?void 0:t.nome)??null,i=e.depositId??(t==null?void 0:t.depositoId)??null;if(!n||!i)return null;const s=e.shiftId??((f=await PN(n,i))==null?void 0:f.id)??null;if(!s)return null;const c=Math.abs(lD(e.amount));if(!Number.isFinite(c)||c<=0)return null;if(e.referenceId){const g=await Le.cash_flow_entries.where("reference_id").equals(e.referenceId).filter(x=>x.shift_id===s&&x.category===e.category&&(e.paymentMethodId?x.payment_method_id===e.paymentMethodId:!0)).first();if(g)return g}const d=e.occurredAt??Date.now(),h={id:Dr(),shift_id:s,deposit_id:i,user_id:n,user_name:r,category:e.category,direction:e.direction??oD[e.category],amount:c,status:e.status??"POSTED",created_at:d,reference_id:e.referenceId??null,reference_type:e.referenceType??null,payment_method_id:e.paymentMethodId??null,payment_type:e.paymentType??(e.category==="SALE"?"other":"cash"),notes:e.notes??null,meta:e.meta??null};return AD(h)}async function im(){return Le.service_orders.orderBy("dataHoraCriacao").reverse().toArray()}async function cD(e){const t=e.id?{...e,updated_at:Date.now()}:{...e,id:Dr(),dataHoraCriacao:Date.now(),updated_at:Date.now(),historico:e.historico??[]},n=(t.itens||[]).map(r=>({...r,id:r.id||Dr(),osId:t.id}));if(await Le.transaction("rw",Le.service_orders,Le.service_order_items,Le.outbox_events,async()=>{await Le.service_orders.put(t),await Le.service_order_items.where("osId").equals(t.id).delete(),n.length>0&&await Le.service_order_items.bulkPut(n),await Sr({entity:"service_orders",action:"UPSERT",entity_id:t.id,payload_json:t})}),t.status==="CONCLUIDA"&&!await rm(t.id,"OS")){const i=await fA(),s=Mx(t,i,"OS",!1).map(c=>({...c,referenciaId:t.id,usuarioId:"Sistema",usuarioNome:"Sistema",motivo:"Conclusao de O.S"}));s.length&&await xd(s)}return t}async function of(e,t,n,r="Sistema"){const i=await Le.service_orders.get(e);if(!i)return;const s=i.status,c=i.historico||[];c.unshift({data:Date.now(),usuario:r,acao:"Mudana de Status",detalhe:`Para ${t}${n?` (${n})`:""}`});const d={...i,status:t,updated_at:Date.now(),dataHoraConclusao:t==="CONCLUIDA"?new Date:i.dataHoraConclusao,historico:c},h=d.depositoId??d.deposito_id??d.depositId??d.deposit_id??null;if(!d.depositoId&&h&&(d.depositoId=h),await Le.transaction("rw",Le.service_orders,Le.outbox_events,async()=>{await Le.service_orders.put(d),await Sr({entity:"service_orders",action:"UPSERT",entity_id:d.id,payload_json:d})}),t==="CONCLUIDA"&&s!=="CONCLUIDA"&&!await rm(d.id,"OS")){const g=await fA(),x=d.itens&&d.itens.length>0?d.itens:await X2(d.id),E=x&&x.length?{...d,itens:x}:d,w=Mx(E,g,"OS",!1).map(I=>({...I,referenciaId:d.id,usuarioId:r,usuarioNome:r,motivo:I.motivo??n??"Concluso de O.S"}));w.length&&await xd(w)}if(t==="CONCLUIDA"&&s!=="CONCLUIDA")try{const f=await jm(),g=await MN(d.id);for(const x of d.pagamentos??[]){const E=x.formaPagamentoId??x.payment_method_id??x.paymentMethodId,w=Number(x.valor??x.amount??x.value??0)||0;if(w>0){const ce=f.find(re=>re.id===E),Y=(ce==null?void 0:ce.receipt_type)??"other",ge=Y==="cash"?"cash":Y==="card"?"card":Y==="pix"?"pix":"other";await HN({category:"SALE",amount:w,direction:"IN",referenceId:d.id,referenceType:"OS",paymentMethodId:E??null,paymentType:ge,notes:d.numeroOs?`OS #${d.numeroOs}`:"OS",depositId:h?String(h):void 0,userName:r})}if(!E)continue;const I=f.find(ce=>ce.id===E);if(!I)continue;const j=I.receipt_type==="boleto";if(!(I.enters_receivables||j)||g.some(ce=>ce.payment_method_id===I.id))continue;const z=Number(I.default_due_days??(j?3:30)),D=Date.now(),G=D+z*24*60*60*1e3;await Ub({os_id:d.id,payment_method_id:I.id,deposit_id:h?String(h):null,description:d.numeroOs?`OS #${d.numeroOs}`:d.description??null,devedor_nome:d.clienteNome,client_id:d.clienteId??d.client_id??null,requires_boleto:j,valor_total:w,status:"ABERTO",criado_em:D,vencimento_em:G})}}catch{}if(t==="CANCELADA"&&s==="CONCLUIDA"){if(!await rm(d.id,"OS_CANCELAMENTO")&&await rm(d.id,"OS")){const x=await fA(),E=d.itens&&d.itens.length>0?d.itens:await X2(d.id),w=E&&E.length?{...d,itens:E}:d,I=Mx(w,x,"OS_CANCELAMENTO",!0).map(j=>({...j,referenciaId:d.id,usuarioId:r,usuarioNome:r,motivo:j.motivo??n??"Cancelamento de O.S"}));I.length&&await xd(I)}try{await eD(d.id)}catch{}}return d}async function X2(e){return Le.service_order_items.where("osId").equals(e).toArray()}async function zN(e){return Le.delivery_jobs.toArray()}async function ig(e){return Le.delivery_jobs.get(e)}async function qN(e){return Le.delivery_jobs.where("assignedDriverId").equals(e).toArray()}async function lf(e){const t=e.id?e:{...e,id:Dr()};return await Le.delivery_jobs.put(t),t}async function uD(e){const t=e.driverId?e:{...e,driverId:Dr()};return await Le.driver_presence.put(t),t}async function dD(){return Le.driver_presence.orderBy("lastSeenAt").reverse().toArray()}async function hD(e){const t=e.id?e:{...e,id:Dr()};return await Le.transaction("rw",Le.delivery_zones,Le.outbox_events,async()=>{await Le.delivery_zones.put(t),await Sr({entity:"delivery_zones",action:"UPSERT",entity_id:t.id,payload_json:t})}),t}async function KN(e){await Le.transaction("rw",Le.delivery_zones,Le.delivery_zones,Le.outbox_events,async()=>{const t=await Le.delivery_zones.where("zone_id").equals(e).toArray();await Le.delivery_zones.where("zone_id").equals(e).delete();for(const n of t)await Sr({entity:"delivery_zones",action:"DELETE",entity_id:n.id});await Le.delivery_zones.delete(e),await Sr({entity:"delivery_zones",action:"DELETE",entity_id:e})})}async function Ib(e){const t=e.id?e:{...e,id:Dr()};return await Le.transaction("rw",Le.delivery_zones,Le.outbox_events,async()=>{await Le.delivery_zones.put(t),await Sr({entity:"delivery_zones",action:"UPSERT",entity_id:t.id,payload_json:t})}),t}async function fD(e,t){const n=await Le.delivery_zones.get(e);if(!n)return;const r={...n,zone_id:t};return Ib(r)}async function GN(e){await Le.transaction("rw",Le.delivery_zones,Le.outbox_events,async()=>{await Le.delivery_zones.delete(e),await Sr({entity:"delivery_zones",action:"DELETE",entity_id:e})})}const pD=(e,t)=>`${e}:${t}`;async function Rx(e){const t=Hs(e);if(!t.depositoId||!t.zone_id)throw new Error("zone_pricing requires depositoId and zone_id");const n=t.id||pD(t.depositoId,t.zone_id),r={...t,id:n,price:Number(t.price||0)};return await Le.transaction("rw",Le.zone_pricing,Le.outbox_events,async()=>{await Le.zone_pricing.put(r),await Sr({entity:"zone_pricing",action:"UPSERT",entity_id:r.id,payload_json:r})}),r}const Px=e=>{const t=Hs(e);return{id:t.id,nome:t.nome,endereco:t.endereco,referencia:t.referencia,cpf:t.cpf,dataNascimento:t.aniversario,telefone:t.telefone,deliveryZoneId:t.delivery_zone_id??t.deliveryZoneId??null,depositoId:t.depositoId,ativo:t.ativo??!0,criado_em:t.criado_em,atualizado_em:t.atualizado_em}};async function km(){return(await Le.clients.toArray()).map(Px)}async function am(e){const n={id:e.id||Dr(),nome:e.nome,endereco:e.endereco,referencia:e.referencia,cpf:e.cpf,aniversario:e.dataNascimento,telefone:e.telefone,ativo:e.ativo??!0,delivery_zone_id:e.deliveryZoneId??e.delivery_zone_id??null,criado_em:e.criado_em??Date.now(),atualizado_em:Date.now()};return await Le.transaction("rw",Le.clients,Le.outbox_events,async()=>{await Le.clients.put(n),await Sr({entity:"clients",action:"UPSERT",entity_id:n.id,payload_json:Px(n)})}),Px(n)}async function mD(e){await Le.transaction("rw",Le.clients,Le.outbox_events,async()=>{await Le.clients.delete(e),await Sr({entity:"clients",action:"DELETE",entity_id:e})})}const gD=e=>({id:e.id,clienteId:e.client_id,produtoId:e.product_id,depositoId:e.deposit_id??null,modalidade:e.modalidade,precoEspecial:e.preco_override,ativo:!0,atualizado_em:e.atualizado_em}),vD=e=>({id:e.id,client_id:e.clienteId,product_id:e.produtoId,modalidade:e.modalidade,preco_override:e.precoEspecial??null,atualizado_em:e.atualizado_em,deposit_id:e.depositoId??null});async function J2(){return(await Le.client_price_overrides.toArray()).map(gD)}async function xD(e){const t=Date.now(),n={...e,id:e.id||Dr(),ativo:e.ativo??!0,atualizado_em:e.atualizado_em??t},r=vD(n);return await Le.transaction("rw",Le.client_price_overrides,Le.outbox_events,async()=>{const i=await Le.client_price_overrides.where("client_id").equals(r.client_id).filter(s=>s.product_id===r.product_id&&s.modalidade===r.modalidade&&(s.deposit_id??null)===(r.deposit_id??null)&&s.id!==r.id).toArray();for(const s of i)await Le.client_price_overrides.delete(s.id),await Sr({entity:"client_price_overrides",action:"DELETE",entity_id:s.id});await Le.client_price_overrides.put(r),await Sr({entity:"client_price_overrides",action:"UPSERT",entity_id:r.id,payload_json:n})}),n}async function bD(e){await Le.transaction("rw",Le.client_price_overrides,Le.outbox_events,async()=>{await Le.client_price_overrides.delete(e),await Sr({entity:"client_price_overrides",action:"DELETE",entity_id:e})})}const yD=e=>({id:e.id,clienteId:e.client_id,depositoId:null,tipoDesconto:e.tipo,valorDesconto:e.valor,modalidadeAlvo:null,produtoIdAlvo:null,usado:e.status==="USADO",usadoEmOsId:null,criado_em:e.criado_em,usado_em:e.usado_em??null}),_D=e=>({id:e.id,client_id:e.clienteId,tipo:e.tipoDesconto,valor:e.valorDesconto,status:e.usado?"USADO":"PENDENTE",criado_em:e.criado_em,usado_em:e.usado_em??null});async function W2(){return(await Le.client_one_time_discount.toArray()).map(yD)}async function wD(e){const t=Date.now(),n={...e,id:e.id||Dr(),criado_em:e.criado_em??t,usado:e.usado??!1},r=_D(n);return await Le.transaction("rw",Le.client_one_time_discount,Le.outbox_events,async()=>{const i=await Le.client_one_time_discount.where("client_id").equals(r.client_id).filter(s=>s.status==="PENDENTE").toArray();for(const s of i)await Le.client_one_time_discount.delete(s.id),await Sr({entity:"client_one_time_discount",action:"DELETE",entity_id:s.id});await Le.client_one_time_discount.put(r),await Sr({entity:"client_one_time_discount",action:"UPSERT",entity_id:r.id,payload_json:n})}),n}async function BD(e){await Le.transaction("rw",Le.client_one_time_discount,Le.outbox_events,async()=>{await Le.client_one_time_discount.delete(e),await Sr({entity:"client_one_time_discount",action:"DELETE",entity_id:e})})}const CD=()=>Math.random().toString(36).substring(2)+Date.now().toString(36);async function ND(e){var r;const t=e.itens.map(i=>`${i.quantidade}x ${i.produtoId}`).join(", "),n={id:e.id||CD(),osId:e.id,depositoId:e.depositoId,status:"PENDENTE_ENTREGA",customerName:e.clienteNome,customerPhone:e.clienteTelefone,address:{full:e.enderecoEntrega||"Endereo no informado",lat:e.latitude,lng:e.longitude},itemsSummary:t,totalValue:e.total,paymentMethod:((r=e.pagamentos[0])==null?void 0:r.formaPagamentoId)||"Desconhecido",observation:e.observacoes};return await lf(n),n}async function ED(e){const t=await ig(e);if(!t||t.status!=="PENDENTE_ENTREGA")return null;const n={...t,status:"EM_ROTA",startedAt:Date.now()};return await lf(n),await of(t.osId,"EM_ANDAMENTO","Saiu para entrega"),n}async function VN(e){const t=await ig(e);if(!t||t.status!=="EM_ROTA")return null;const n={...t,status:"CONCLUIDA",completedAt:Date.now()};return await lf(n),await of(t.osId,"CONCLUIDA","Entrega finalizada"),n}async function ZN(e,t){const n=await ig(e);if(!n||n.status!=="EM_ROTA")return null;const r={...n,status:"DEVOLVIDA",refusalReason:t,completedAt:Date.now()};return await lf(r),await of(n.osId,"PENDENTE",`Entrega devolvida: ${t}`),r}async function SD(e,t){const n=await ig(e);if(!n)return null;const r={...n,status:"CANCELADA",refusalReason:t};return await lf(r),await of(n.osId,"CANCELADA",`Cancelado: ${t}`),r}class LD extends Rh{constructor(){super("GestaoProDB"),this.version(1).stores({kv:"key"})}}const dd=new LD,hA={},jD=async()=>{try{return(await dd.kv.toArray()).forEach(t=>{hA[t.key]=t.value}),console.log("Storage: Sistema hidratado com sucesso.",Object.keys(hA).length,"chaves carregadas."),!0}catch(e){return console.error("Storage: Erro fatal ao iniciar banco de dados.",e),!1}},vA=(e,t)=>Object.prototype.hasOwnProperty.call(hA,e)?hA[e]:t,Af=(e,t)=>{hA[e]=t,dd.kv.put({key:e,value:t}).catch(n=>console.error(`Storage: Falha ao salvar ${e}`,n))},ss={PRODUCTS:"gp_db_products",STOCK:"gp_db_stock",MOVEMENTS:"gp_db_movements_audit",PAYMENT_METHODS:"gp_db_payment_methods",MACHINES:"gp_db_machines",ORDERS:"gp_db_orders",DRIVER_LOCATIONS:"gp_db_driver_locations",DELIVERY_JOBS:"gp_db_delivery_jobs",DRIVER_PRESENCE:"gp_db_driver_presence",SALES_MODALITIES:"gp_db_sales_modalities",MODALITY_LABELS:"gp_db_modality_labels",STOCK_RULES:"gp_db_stock_rules",ALERTS_CONFIG:"gp_db_alerts_config",DEPOSITS:"gp_db_deposits",EMPLOYEES:"gp_db_employees",CLIENTS:"gp_db_clients",CLIENT_PRICES:"gp_db_client_prices",CLIENT_DISCOUNTS:"gp_db_client_discounts",THEME_BG_IMAGE:"gp_ui_bg_image",THEME_BG_OPACITY:"gp_ui_bg_opacity"},kD=async()=>{for(const e in hA)delete hA[e];await dd.kv.clear(),localStorage.clear(),console.log("Storage: RESET DE FBRICA EXECUTADO.")},UD=()=>vA(ss.PRODUCTS,[]),ID=()=>vA(ss.ORDERS,[]),TD=()=>vA(ss.DRIVER_LOCATIONS,[]),FD=()=>vA(ss.SALES_MODALITIES,[]),eB=e=>{Af(ss.SALES_MODALITIES,e)},OD=()=>vA(ss.MODALITY_LABELS,[]),QD=e=>{Af(ss.MODALITY_LABELS,e)},DD=()=>vA(ss.STOCK_RULES,[]),Bv=e=>{Af(ss.STOCK_RULES,e)},$N=()=>vA(ss.EMPLOYEES,[]),tB=()=>vA(ss.THEME_BG_IMAGE,null)??null,MD=async e=>{try{if(!e){delete hA[ss.THEME_BG_IMAGE],await dd.kv.delete(ss.THEME_BG_IMAGE).catch(()=>{});return}await dd.kv.put({key:ss.THEME_BG_IMAGE,value:e}),hA[ss.THEME_BG_IMAGE]=e}catch(t){throw console.error("Storage: Falha ao salvar imagem de fundo",t),await dd.kv.delete(ss.THEME_BG_IMAGE).catch(()=>{}),delete hA[ss.THEME_BG_IMAGE],t}},nB=()=>{const e=vA(ss.THEME_BG_OPACITY,.35),t=typeof e=="string"?Number(e):e;return Number.isFinite(t)?Math.min(1,Math.max(0,t)):.35},RD=e=>{const t=Number.isFinite(e)?Math.min(1,Math.max(0,e)):.35;Af(ss.THEME_BG_OPACITY,t)},rB={minStock:{},financialDaysNotice:1,minMarginPercent:15,enabledStock:!0,enabledFinancial:!0,enabledMargin:!0},YN=()=>{const e=vA(ss.ALERTS_CONFIG,rB);return{...rB,...e}},iB=e=>{Af(ss.ALERTS_CONFIG,e)},XN=()=>{if(typeof localStorage>"u")return null;const e=localStorage.getItem("gp_session");if(!e)return null;try{const t=JSON.parse(e);return(t==null?void 0:t.nome)||(t==null?void 0:t.username)||(t==null?void 0:t.id)||null}catch{return null}},cA="delivery_fee",uA="Taxa de entrega",JN=e=>((e==null?void 0:e.is_delivery_fee)??(e==null?void 0:e.isDeliveryFee))===!0||String((e==null?void 0:e.product_group)??(e==null?void 0:e.codigo)??"").toLowerCase()===cA?!0:String((e==null?void 0:e.nome)??"").toLowerCase()===uA.toLowerCase(),aB=e=>JN(e)||((e==null?void 0:e.track_stock)??(e==null?void 0:e.trackStock))===!1?!0:(e==null?void 0:e.type)==="SERVICE",sB={lat:-17.7915,lng:-50.9197},hd=e=>e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),Cv=e=>{if(!e)return null;if(Array.isArray(e)&&e.length>=2){const t=Number(e[0]),n=Number(e[1]);return Number.isFinite(t)&&Number.isFinite(n)?[t,n]:null}if(typeof e=="object"){const t=Number(e.lat??e.latitude),n=Number(e.lng??e.lon??e.longitude);if(Number.isFinite(t)&&Number.isFinite(n))return[t,n]}return null},PD=e=>{if(!e)return null;let t=e;if(typeof t=="string")try{t=JSON.parse(t)}catch{return null}if(!Array.isArray(t)||t.length===0)return null;if(Cv(t[0])){const i=t.map(Cv).filter(Boolean);return i.length?[i]:null}const r=[];for(const i of t){if(!Array.isArray(i))continue;const s=i.map(Cv).filter(Boolean);s.length&&r.push(s)}return r.length?r:null},Nv=(e,t,n)=>{const r=hd(e||"");if(!r)return null;const i=n.map(c=>({sector:c,key:hd((c==null?void 0:c.nome)||"")})).filter(c=>c.key.length>2&&r.includes(c.key)).sort((c,d)=>d.key.length-c.key.length)[0];if(i!=null&&i.sector){const c=t.find(d=>d.id===i.sector.zone_id)??null;if(c)return{zone:c,sector:i.sector,source:"setor"}}const s=t.map(c=>({zone:c,key:hd((c==null?void 0:c.nome)||"")})).filter(c=>c.key.length>2&&r.includes(c.key)).sort((c,d)=>d.key.length-c.key.length)[0];return s!=null&&s.zone?{zone:s.zone,sector:null,source:"zona"}:null},HD=({polygons:e,activePolygon:t})=>{const n=_d();return $.useEffect(()=>{const r=gs.latLngBounds([]);let i=!1;[...e,...t?[t]:[]].forEach(c=>{if(!c||!c.length)return;const d=gs.polygon(c);r.extend(d.getBounds()),i=!0}),i&&n.fitBounds(r,{padding:[12,12]})},[e,t,n]),null},zD=()=>{const e=_d();return $.useEffect(()=>{const t=()=>{var h;const d=(h=e.getContainer)==null?void 0:h.call(e);!d||!d.isConnected||e._loaded&&e.invalidateSize()};e.whenReady(()=>t()),requestAnimationFrame(t);const n=setTimeout(t,120),r=setTimeout(t,360),i=()=>t();window.addEventListener("resize",i);let s=null;const c=e.getContainer();return typeof ResizeObserver<"u"&&c&&(s=new ResizeObserver(()=>t()),s.observe(c)),()=>{clearTimeout(n),clearTimeout(r),window.removeEventListener("resize",i),s&&s.disconnect()}},[e]),null},qD=({logs:e})=>!e||e.length===0?o.jsx("div",{className:"text-xs text-txt-muted italic",children:"Sem histrico"}):o.jsxs("div",{className:"space-y-4 relative pl-2",children:[o.jsx("div",{className:"absolute left-[11px] top-2 bottom-2 w-px bg-bdr"}),e.map((t,n)=>o.jsxs("div",{className:"relative flex gap-3 items-start group",children:[o.jsx("div",{className:"w-6 h-6 rounded-full bg-surface border-2 border-bdr flex items-center justify-center shrink-0 z-10 group-hover:border-primary transition-colors",children:o.jsx("div",{className:"w-2 h-2 rounded-full bg-txt-muted group-hover:bg-primary transition-colors"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-bold text-txt-main",children:t.acao}),o.jsx("p",{className:"text-[10px] text-txt-muted",children:t.detalhe}),o.jsxs("div",{className:"flex gap-2 mt-1",children:[o.jsx("span",{className:"text-[9px] bg-app px-1.5 py-0.5 rounded border border-bdr text-txt-muted uppercase font-bold",children:t.usuario}),o.jsx("span",{className:"text-[9px] text-txt-muted",children:new Date(t.data).toLocaleString()})]})]})]},n))]}),KD=({createdAt:e,status:t})=>{const[n,r]=$.useState(""),[i,s]=$.useState("text-green-600");return $.useEffect(()=>{if(t==="CONCLUIDA"||t==="CANCELADA"){r("--:--");return}const c=()=>{const f=Date.now()-e,g=Math.floor(f/36e5),x=Math.floor(f%36e5/6e4),E=Math.floor(f%6e4/1e3),w=`${g.toString().padStart(2,"0")}:${x.toString().padStart(2,"0")}:${E.toString().padStart(2,"0")}`;r(w),x>=30?s("text-red-600 animate-pulse"):x>=15?s("text-amber-500"):s("text-green-600")};c();const d=setInterval(c,1e3);return()=>clearInterval(d)},[e,t]),o.jsxs("div",{className:`font-mono font-bold text-sm flex items-center gap-1 ${i} bg-surface px-2 py-1 rounded border border-bdr`,children:[o.jsx(md,{className:"w-3 h-3"}),n]})},GD=({onCancel:e,onSuccess:t,initialData:n,currentUser:r})=>{var sn,Bn;const[i,s]=$.useState([]),[c,d]=$.useState([]),[h,f]=$.useState([]);$.useEffect(()=>{let ke=!0;return(async()=>{const[gt,tn,Yt]=await Promise.all([fA(),Le.payment_methods.filter(Pt=>Pt.is_active===!0).toArray(),km()]);let Xt=gt,kt=gt.find(Pt=>Pt.is_delivery_fee===!0||Pt.isDeliveryFee===!0)||gt.find(Pt=>(Pt.product_group??"")===cA)||gt.find(Pt=>(Pt.codigo??"")===cA)||gt.find(Pt=>(Pt.nome??"").toLowerCase()===uA.toLowerCase());if(kt&&JN(kt)){const Pt=Hs(kt);if(!aB(kt)||Pt.depositoId!==null||kt.product_group!==cA||kt.codigo!==cA||kt.is_delivery_fee!==!0||kt.preco_padrao!==0||kt.preco_venda!==0||kt.preco_custo!==0)try{const Jt=await RQ(kt.id,{nome:uA,tipo:"OUTROS",unidade:"serv",product_group:cA,codigo:cA,depositoId:null,preco_padrao:0,preco_custo:0,preco_venda:0,marcacao:null,tracks_empties:!1,ativo:!0,track_stock:!1,type:"SERVICE",is_delivery_fee:!0,current_stock:null,min_stock:null});kt=Jt,Xt=gt.map(Pr=>Pr.id===Jt.id?Jt:Pr)}catch(Jt){console.error("Erro ao atualizar servico de taxa de entrega:",Jt)}}if(!kt)try{kt=await MQ({nome:uA,tipo:"SERVICO",unidade:"serv",product_group:cA,codigo:cA,depositoId:null,preco_padrao:0,preco_custo:0,preco_venda:0,marcacao:null,tracks_empties:!1,ativo:!0,track_stock:!1,type:"SERVICE",is_delivery_fee:!0,current_stock:null,min_stock:null}),Xt=[...gt,kt]}catch(Pt){console.error("Erro ao criar produto de taxa de entrega:",Pt)}ke&&(s(Xt),d(tn),f(Yt),ae((kt==null?void 0:kt.id)??null))})(),()=>{ke=!1}},[]);const g=Er(async()=>{const ke=await Le.employees.filter(kt=>(kt.is_active??kt.ativo)!==!1).toArray(),gt=($N()||[]).filter(kt=>((kt==null?void 0:kt.ativo)??(kt==null?void 0:kt.is_active))!==!1),tn=new Set;return[...ke,...gt].filter(kt=>!(kt!=null&&kt.id)||tn.has(kt.id)?!1:(tn.add(kt.id),!0)).filter(kt=>{if(!(kt!=null&&kt.cargo))return!1;const Pt=String(kt.cargo??"").toUpperCase().trim();return Pt.includes("ENTREG")||Pt.includes("MOTOR")})},[])||[];$.useEffect(()=>{try{console.log("Available drivers (main form):",g.map(ke=>({id:ke.id,nome:ke.nome??ke.username,cargo:ke.cargo,ativo:ke.ativo??ke.is_active})))}catch{}},[g]);try{console.log("Entregadores encontrados:",g)}catch{}const x=Er(()=>Le.deposits.filter(ke=>(ke.is_active??ke.ativo)!==!1).toArray(),[])||[],E=Er(()=>{var ke;return(ke=Le.delivery_zones)==null?void 0:ke.toArray()},[])||[],w=Er(()=>{var ke;return(ke=Le.delivery_zones)==null?void 0:ke.toArray()},[])||[],I=Er(()=>{var ke;return(ke=Le.zone_pricing)==null?void 0:ke.toArray()},[])||[],j=$.useMemo(()=>{const ke=new Map;return E.forEach(gt=>{gt!=null&&gt.id&&ke.set(gt.id,gt)}),ke},[E]);$.useEffect(()=>{(!X||X==="")&&x.length===1&&V(x[0].id),(!re||re==="")&&g.length===1&&M(g[0].id)},[x,g]);const[F,S]=$.useState("DELIVERY"),[z,D]=$.useState(""),[G,ce]=$.useState(()=>new Date().toISOString().slice(0,16)),[Y,ge]=$.useState("Pendente"),[re,M]=$.useState(""),[X,V]=$.useState(""),[W,oe]=$.useState(""),[me,ye]=$.useState(null),[se,_e]=$.useState(""),[Z,Ce]=$.useState(!1),[Se,te]=$.useState(0),[P,ie]=$.useState(null),[O,ae]=$.useState(null),[ue,je]=$.useState(!1),[Ve,Ie]=$.useState(!1),[lt,wt]=$.useState(""),[Xe,$t]=$.useState(null),[on,xe]=$.useState(!1),[Ot,rn]=$.useState([]),[dn,xt]=$.useState(""),[nn,Vt]=$.useState([]),[un,hn]=$.useState(""),[jn,Mn]=$.useState(""),[_n,En]=$.useState(""),[Tn,cn]=$.useState(null),[mn,en]=$.useState(""),[Fe,yt]=$.useState(""),jt=$.useMemo(()=>{const ke=new Map;return X&&I.forEach(gt=>{Hs(gt).depositoId===X&&ke.set(gt.zone_id,gt)}),ke},[I,X]),dt=$.useMemo(()=>Nv(W,E,w),[W,E,w]),Rt=$.useMemo(()=>Nv(se,E,w),[se,E,w]),Ht=$.useMemo(()=>me?j.get(me)??null:(dt==null?void 0:dt.zone)??(Rt==null?void 0:Rt.zone)??null,[me,j,dt,Rt]),Qn=(Ht==null?void 0:Ht.id)??null,bt=(Ht==null?void 0:Ht.nome)??"",kn=$.useMemo(()=>E.map(ke=>({id:ke.id,nome:ke.nome??"",cor:ke.cor||"#f97316",polygon:PD(ke.map_polygon)})).filter(ke=>ke.polygon),[E]),jr=$.useMemo(()=>{if(!Qn)return null;const ke=kn.find(gt=>gt.id===Qn);return(ke==null?void 0:ke.polygon)??null},[kn,Qn]),Hn=Xe?Xe.deliveryZoneId??Xe.delivery_zone_id??null:null,wn=Hn?((sn=j.get(Hn))==null?void 0:sn.nome)??"":"",cr=$.useMemo(()=>{if(!Xe)return null;const ke=hd(Xe.endereco||""),gt=hd(se||"");return!ke&&!gt?null:ke===gt},[Xe,se]);$.useEffect(()=>{if(n){S(n.tipoAtendimento),D(n.observacoes||""),V(n.depositoId||""),M(n.entregadorId||""),wt(""),xe(!1);const gt=h.find(Pt=>Pt.id===n.clienteId)??{id:n.clienteId,nome:n.clienteNome,endereco:n.enderecoEntrega||"",telefone:n.clienteTelefone,ativo:!0,criado_em:0,atualizado_em:0};$t(gt),_e(n.enderecoEntrega||gt.endereco||""),Ce(!1);const tn=gt.deliveryZoneId??gt.delivery_zone_id??null;if(tn){const Pt=j.get(tn),ir=(Pt==null?void 0:Pt.nome)??"";ye(tn),ir&&oe(ir)}else ye(null),oe("");const Yt=n.itens.map(Pt=>{const ir=i.find(Pr=>Pr.id===Pt.produtoId),Jt=O&&Pt.produtoId===O||ir&&(ir.product_group??"")===cA;return{id:Pt.id,produtoId:Pt.produtoId,nome:(ir==null?void 0:ir.nome)||(Jt?uA:"Item removido"),quantidade:Pt.quantidade,precoUnitario:Pt.precoUnitario,tipo:ir&&aB(ir)?"SERVICO":(ir==null?void 0:ir.tipo)||"OUTRO"}});rn(Yt);const Xt=n.pagamentos.map((Pt,ir)=>{const Jt=c.find(Pr=>Pr.id===Pt.payment_method_id||Pt.formaPagamentoId);return{id:`pay-${ir}`,methodId:Pt.payment_method_id||Pt.formaPagamentoId,methodName:(Jt==null?void 0:Jt.nome)||"Pagamento",value:Pt.amount??Pt.valor,methodType:(Jt==null?void 0:Jt.receipt_type)??Pt.type??"other"}});Vt(Xt);const kt=n.delivery_fee??n.deliveryFee??n.deliveryFeeValue??0;te(Number(kt)||0),je(!1)}},[n,h,i,c,O,j]),$.useEffect(()=>{r&&!(tn=>tn==="ENTREGADOR"||tn==="GERENTE")(r.cargo)&&r.depositoId&&X!==r.depositoId&&V(r.depositoId)},[r==null?void 0:r.depositoId,r==null?void 0:r.cargo,X]),$.useEffect(()=>{if(Z)return;const ke=(Rt==null?void 0:Rt.zone)??null;if(!ke)return;const gt=ke.nome??"";ke.id!==me&&ye(ke.id),gt&&gt!==W&&oe(gt)},[Z,Rt,me,W]);const qi=F!=="DELIVERY";$.useEffect(()=>{qi&&re&&M("")},[qi,re]);const Fi=ke=>!!O&&ke.produtoId===O||ke.nome===uA,ci=Ot.reduce((ke,gt)=>Fi(gt)?ke:ke+gt.quantidade*gt.precoUnitario,0),Kr=ue?0:Se,fn=ci+Kr,Xi=nn.reduce((ke,gt)=>ke+gt.value,0),Yn=Math.max(0,fn-Xi),Xn=c.find(ke=>ke.id===un),Oi=(Xn==null?void 0:Xn.receipt_type)==="cash"?parseFloat(_n||"0"):0,ze=Oi>0?Math.max(0,Oi-fn):Math.max(0,Xi-fn);nn.some(ke=>ke.methodType==="cash")||(Xn==null||Xn.receipt_type),$.useEffect(()=>{if(F!=="DELIVERY"){Se!==0&&te(0),P&&ie(null),ue&&je(!1);return}if(ue){Se!==0&&te(0),P&&ie(null);return}if(!hd(W)&&!me&&!(Rt!=null&&Rt.zone)){const Jt=(n==null?void 0:n.delivery_fee)??(n==null?void 0:n.deliveryFee)??(n==null?void 0:n.deliveryFeeValue)??0,Pr=Number(Jt)||0;Se!==Pr&&te(Pr),P&&ie(null);return}const gt=(me?j.get(me)??null:null)??(dt==null?void 0:dt.zone)??(Rt==null?void 0:Rt.zone)??null,tn=X||(n==null?void 0:n.depositoId)||"",Yt=x.find(Jt=>Jt.id===tn),Xt=(Yt==null?void 0:Yt.free_shipping_min_value)??(Yt==null?void 0:Yt.freeShippingMinValue)??(Yt==null?void 0:Yt.freeShippingMin)??0,kt=Number(Xt)||0,Pt=gt&&tn?I.find(Jt=>{const Pr=Hs(Jt);return Jt.zone_id===gt.id&&Pr.depositoId===tn}):null;let ir=Pt?Number(Pt.price??0):0;ie(gt&&tn&&!Pt?"Este deposito nao possui preco para esta zona.":null),kt>0&&ci>=kt&&(ir=0),Se!==ir&&te(ir)},[F,W,me,Se,j,ci,X,x,I,n,P,ue,dt,Rt]),$.useEffect(()=>{O&&rn(ke=>{const gt=ke.find(Yt=>Yt.produtoId===O);return F!=="DELIVERY"||ue?gt?ke.filter(Yt=>Yt.produtoId!==O):ke:gt?gt.precoUnitario!==Kr||gt.quantidade!==1?ke.map(Yt=>Yt.produtoId===O?{...Yt,precoUnitario:Kr,quantidade:1}:Yt):ke:[...ke,{id:crypto.randomUUID(),produtoId:O,nome:uA,quantidade:1,precoUnitario:Kr,tipo:"OUTROS"}]})},[O,Kr,ue,F]),$.useEffect(()=>{if(!O||!ue)return;Ot.some(gt=>gt.produtoId===O||gt.nome===uA)&&je(!1)},[Ot,O,ue]);const st=ke=>{(O&&ke.produtoId===O||ke.nome===uA)&&(je(!0),Se!==0&&te(0))},gn=ke=>{$t(ke),wt(""),xe(!1),je(!1),_e(ke.endereco||""),Ce(!1);const gt=ke.deliveryZoneId??ke.delivery_zone_id??null;if(gt){const tn=j.get(gt),Yt=(tn==null?void 0:tn.nome)??"";ye(gt),Yt&&oe(Yt)}else ye(null),oe("");console.log("Client selected:",ke)},ur=()=>{xe(!0)},[Kn,Wn]=$.useState(!1);$.useEffect(()=>{const ke="receipt-print-style";if(document.getElementById(ke))return;const gt=document.createElement("style");return gt.id=ke,gt.textContent=`
@media print {
  body * { visibility: hidden; }
  #receipt-print-area, #receipt-print-area * { visibility: visible; }
  #receipt-print-area {
    position: absolute;
    left: 0;
    top: 0;
    width: 100%;
    margin: 0;
    padding: 0;
    background: white;
    color: black;
  }
}`,document.head.appendChild(gt),()=>{gt.remove()}},[]);const Ar=()=>{window.print()},Jr=async()=>{const ke=document.getElementById("receipt-print-area");if(!ke)return;const gt=await RC(ke,{scale:2,backgroundColor:"#ffffff"}),tn=gt.toDataURL("image/png"),Yt=new qn({orientation:"portrait",unit:"pt",format:[gt.width,gt.height]});Yt.addImage(tn,"PNG",0,0,gt.width,gt.height),Yt.save(`nota-${Date.now()}.pdf`)},kr=ke=>ke.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}),Yr=(ke,gt,tn=40)=>{const Yt=ke.length>tn?ke.slice(0,tn):ke,Xt=Math.max(1,tn-Yt.length-gt.length);return`${Yt}${".".repeat(Xt)}${gt}`},Wr=()=>{const ke=new Date().toLocaleString("pt-BR"),gt=(Xe==null?void 0:Xe.nome)||"Nao informado",tn=se.trim()||(Xe==null?void 0:Xe.endereco)||"Nao informado",Yt=(Xe==null?void 0:Xe.telefone)||"Nao informado",Xt=ci,kt=Kr,Pt=0,ir=Xt+kt-Pt,Jt=Ot.length===0?["(Sem itens)"]:Ot.map(Cn=>{const Dn=Cn.quantidade*Cn.precoUnitario,Br=`${Cn.quantidade}x ${Cn.nome}`,vr=`R$ ${kr(Dn)}`;return Yr(Br,vr,36)}),Pr=nn.length===0?["Pagamento: Nao informado"]:nn.map(Cn=>`- ${Cn.methodName}: R$ ${kr(Cn.value)}`),Qi=ze>0?`Troco: R$ ${kr(ze)}`:null;return["GAS REAL",ke,"--------------------------------",`Cliente: ${gt}`,`Endereco: ${tn}`,`Telefone: ${Yt}`,"--------------------------------",...Jt,"--------------------------------",`Subtotal: R$ ${kr(Xt)}`,`Entrega: R$ ${kr(kt)}`,`Descontos: R$ ${kr(Pt)}`,`TOTAL A PAGAR: R$ ${kr(ir)}`,"--------------------------------",...Pr,...Qi?[Qi]:[],"--------------------------------","Obrigado pela preferencia!"].join(`
`)},bi=ke=>{(async()=>{const gt=Date.now(),tn=await am({nome:ke.nome,endereco:ke.endereco,referencia:ke.referencia,cpf:ke.cpf,telefone:ke.telefone,dataNascimento:ke.dataNascimento,deliveryZoneId:ke.deliveryZoneId??null,ativo:!0,criado_em:gt}),Yt=await km();f(Yt);let Xt;typeof tn=="string"?Xt=Yt.find(kt=>kt.id===tn):tn&&tn.id&&(Xt=Yt.find(kt=>kt.id===tn.id)||tn),Xt||(Xt=Yt.find(kt=>kt.nome===ke.nome&&(kt.cpf===ke.cpf||!ke.cpf))),Xt&&gn(Xt)})()},Jn=()=>{if(!un)return;const ke=c.find(kt=>kt.id===un);if(!ke)return;const tn=ke.receipt_type==="cash"?_n?parseFloat(_n):0:jn?parseFloat(jn):Yn,Yt=tn>0?tn:Yn;if(Yt<=0)return;const Xt={id:crypto.randomUUID(),methodId:ke.id,methodName:ke.nome,methodType:ke.receipt_type,value:Yt};Vt([...nn,Xt]),Mn(""),En(""),Yt>=Yn&&hn(""),n!=null&&n.id&&Lt("PAGAMENTO_ADICIONADO",`Adicionado ${ke.nome}: R$ ${Yt.toFixed(2)}`)},ba=ke=>{cn(ke),en(ke.methodId),yt(ke.value.toFixed(2))},gr=()=>{if(!Tn||!mn)return;const ke=parseFloat(Fe);if(isNaN(ke)||ke<=0)return;const gt=c.find(Xt=>Xt.id===mn);if(!gt)return;const tn=Tn,Yt={...tn,methodId:gt.id,methodName:gt.nome,methodType:gt.receipt_type,value:ke};if(Vt(nn.map(Xt=>Xt.id===tn.id?Yt:Xt)),n!=null&&n.id){const Xt=[];tn.methodName!==gt.nome&&Xt.push(`Forma: ${tn.methodName}  ${gt.nome}`),tn.value!==ke&&Xt.push(`Valor: R$ ${tn.value.toFixed(2)}  R$ ${ke.toFixed(2)}`),Xt.length>0&&Lt("PAGAMENTO_EDITADO",Xt.join(", "))}cn(null),en(""),yt("")},Bi=()=>{cn(null),en(""),yt("")},le=ke=>{Vt(nn.filter(gt=>gt.id!==ke.id)),n!=null&&n.id&&Lt("PAGAMENTO_REMOVIDO",`Removido ${ke.methodName}: R$ ${ke.value.toFixed(2)}`)},Lt=async(ke,gt)=>{if(!(n!=null&&n.id))return;const tn={id:crypto.randomUUID(),data:new Date().toISOString(),usuario:(r==null?void 0:r.nome)||"Sistema",usuarioId:(r==null?void 0:r.id)||"system",acao:ke,detalhe:gt},Yt=await Le.service_orders.get(n.id);if(Yt){const Xt=[...Yt.historico||[]];Xt.unshift(tn),await Le.service_orders.update(n.id,{historico:Xt})}};$.useEffect(()=>{un&&Yn>0&&!jn&&Mn(Yn.toFixed(2))},[un,Yn,jn]);const Qt=$.useMemo(()=>{if(!on)return[];const ke=lt.trim().toLowerCase();return h.filter(gt=>{var Xt;if(!ke)return!0;const tn=(gt.nome??"").toLowerCase(),Yt=(gt.endereco??"").toLowerCase();return tn.includes(ke)||((Xt=gt.telefone)==null?void 0:Xt.includes(ke))||Yt.includes(ke)})},[lt,h,on]),Et=async()=>{if(!Xe||Ot.length===0)return;if(!X&&!(n!=null&&n.depositoId)){alert("Selecione um deposito para a O.S.");return}if(F==="DELIVERY"&&!re){alert("Selecione um entregador para entrega.");return}const ke=Ot.map(Pt=>{const ir=O&&Pt.produtoId===O||Pt.nome===uA;return{id:Pt.id,produtoId:Pt.produtoId,quantidade:Pt.quantidade,precoUnitario:Pt.precoUnitario,modalidade:ir?"SERVICO":"VENDA"}}),gt=nn.map(Pt=>({payment_method_id:Pt.methodId,amount:Pt.value,type:Pt.methodType}));let tn="PENDENTE";F==="DELIVERY"&&(tn="PENDENTE_ENTREGA");const Yt={id:(n==null?void 0:n.id)||crypto.randomUUID(),numeroOs:(n==null?void 0:n.numeroOs)||Date.now().toString().slice(-6),depositoId:X||(n==null?void 0:n.depositoId)||"DEP1",clienteId:Xe.id,clienteNome:Xe.nome,clienteTelefone:Xe.telefone,enderecoEntrega:se.trim()||Xe.endereco,status:tn,tipoAtendimento:F,entregadorId:re||null,observacoes:z,itens:ke,pagamentos:gt,total:fn,delivery_fee:Kr,dataHoraCriacao:(n==null?void 0:n.dataHoraCriacao)||Date.now(),updated_at:Date.now(),historico:(n==null?void 0:n.historico)||[]},Xt={data:Date.now(),usuario:XN()||"Operador",acao:n?"Edio Manual":"Criao",detalhe:n?"Alterou dados da O.S.":`Nova O.S. tipo ${F}`},kt=[...Yt.historico||[]];kt.unshift(Xt),await cD({...Yt,historico:kt}),F==="DELIVERY"&&!n&&await ND(Yt),t()};return o.jsxs("div",{className:"w-full h-full flex flex-col bg-transparent text-gray-900",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[minmax(0,1fr)_360px] gap-4",children:[o.jsxs("div",{className:"space-y-4 min-w-0",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("span",{className:"inline-block text-xs font-bold text-blue-700 bg-white px-2 py-0.5 rounded shadow-sm",children:"Dados Gerais"}),o.jsxs("div",{className:"border border-gray-300 rounded bg-white p-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 text-sm",children:[o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("label",{className:"font-semibold text-gray-700",children:"Data/Hora:"}),o.jsx("input",{type:"datetime-local",value:G,onChange:ke=>ce(ke.target.value),className:"h-8 px-2 rounded border border-gray-300 bg-white"})]}),o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("label",{className:"font-semibold text-gray-700",children:"Status:"}),o.jsxs("select",{value:Y,onChange:ke=>ge(ke.target.value),className:"h-8 px-2 rounded border border-gray-300 bg-white",children:[o.jsx("option",{children:"Pendente"}),o.jsx("option",{children:"Em Andamento"}),o.jsx("option",{children:"Concluda"})]})]}),o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("label",{className:"font-semibold text-gray-700",children:"Tipo de atendimento:"}),o.jsxs("select",{value:F,onChange:ke=>S(ke.target.value),className:"h-8 px-2 rounded border border-gray-300 bg-white",children:[o.jsx("option",{value:"DELIVERY",children:"Delivery"}),o.jsx("option",{value:"BALCAO",children:"Balco"})]})]}),o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("label",{className:"font-semibold text-gray-700",children:"Entregador:"}),o.jsxs("select",{value:re||"",onChange:ke=>M(ke.target.value),disabled:qi,className:"w-full h-9 px-2 border border-gray-300 rounded focus:border-blue-500 outline-none text-sm bg-white disabled:bg-gray-100 disabled:text-gray-400",children:[o.jsx("option",{value:"",children:qi?"Nao se aplica (Balcao)":"Selecione o Entregador..."}),g.map(ke=>o.jsx("option",{value:ke.id,children:ke.nome||ke.username},ke.id))]})]}),o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("label",{className:"font-semibold text-gray-700",children:"Depsito:"}),(()=>{var tn;return r&&!(Yt=>Yt==="ENTREGADOR"||Yt==="GERENTE")(r.cargo)&&r.depositoId?o.jsxs("div",{className:"px-2 py-2 rounded border border-gray-300 bg-gray-100 text-gray-700 font-semibold text-sm",children:[" ",((tn=x.find(Yt=>Yt.id===X))==null?void 0:tn.nome)||"Carregando..."]}):o.jsxs("select",{value:X||"",onChange:Yt=>V(Yt.target.value),className:"w-full h-9 px-2 border border-gray-300 rounded focus:border-blue-500 outline-none text-sm bg-white",children:[o.jsx("option",{value:"",children:"Selecione o Depsito..."}),x.map(Yt=>o.jsx("option",{value:Yt.id,children:Yt.nome},Yt.id))]})})()]}),o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("label",{className:"font-semibold text-gray-700",children:"Bairro/Zona:"}),o.jsx("input",{type:"text",value:W,onChange:ke=>{var Yt;const gt=ke.target.value;oe(gt),Ce(!0);const tn=Nv(gt,E,w);ye(((Yt=tn==null?void 0:tn.zone)==null?void 0:Yt.id)??null),ue&&je(!1)},className:"h-8 px-2 rounded border border-gray-300 bg-white"}),P&&o.jsx("div",{className:"text-[10px] text-amber-600",children:P})]})]}),o.jsx("div",{className:"mt-3 grid grid-cols-1 gap-3 text-sm",children:o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("label",{className:"font-semibold text-gray-700",children:"Endereco para entrega:"}),o.jsx("input",{type:"text",value:se,onChange:ke=>{_e(ke.target.value),Ce(!1)},placeholder:"Rua, numero, bairro",className:"h-8 px-2 rounded border border-gray-300 bg-white"}),cr===!0&&o.jsx("div",{className:"text-[10px] text-emerald-600",children:"Endereco igual ao cadastro do cliente."}),cr===!1&&o.jsx("div",{className:"text-[10px] text-amber-600",children:"Endereco da entrega diferente do cadastro do cliente."})]})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("span",{className:"inline-block text-xs font-bold text-blue-700 bg-white px-2 py-0.5 rounded shadow-sm",children:"Cliente"}),o.jsxs("div",{className:"border border-gray-300 rounded bg-white p-4 space-y-3 text-sm",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-6 gap-3 items-end",children:[o.jsxs("div",{className:"flex flex-col gap-1 lg:col-span-3",children:[o.jsx("label",{className:"font-semibold text-gray-700",children:"Cliente selecionado:"}),o.jsx("input",{type:"text",value:(Xe==null?void 0:Xe.nome)||"",readOnly:!0,placeholder:"Nenhum cliente selecionado",className:"h-8 px-2 rounded border border-gray-300 bg-white text-gray-700"})]}),o.jsxs("div",{className:"flex flex-col gap-1 lg:col-span-3",children:[o.jsx("label",{className:"font-semibold text-gray-700",children:"Buscar cliente:"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx("input",{type:"text",value:lt,onChange:ke=>{wt(ke.target.value),xe(!0)},placeholder:"Digite para buscar",className:"h-8 px-2 rounded border border-gray-300 bg-white w-full"}),on&&o.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded shadow-lg z-50 max-h-40 overflow-y-auto",children:Qt.length===0?o.jsx("div",{className:"px-2 py-2 text-xs text-gray-500",children:"Nenhum cliente encontrado."}):Qt.map(ke=>o.jsxs("button",{onClick:()=>gn(ke),className:"w-full text-left px-2 py-1.5 hover:bg-gray-50",children:[o.jsx("div",{className:"font-semibold",children:ke.nome}),o.jsx("div",{className:"text-xs text-gray-500",children:ke.endereco})]},ke.id))})]}),o.jsx("button",{onClick:ur,className:"h-8 w-8 flex items-center justify-center rounded border border-gray-300 text-gray-600 hover:text-blue-700 hover:border-blue-400",title:"Buscar cliente",children:o.jsx(Lc,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>Ie(!0),className:"h-8 px-3 rounded border border-gray-300 text-blue-700 font-semibold hover:border-blue-400",children:"+ Novo"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-3",children:[o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("label",{className:"font-semibold text-gray-700",children:"Telefone:"}),o.jsx("input",{type:"text",value:(Xe==null?void 0:Xe.telefone)||"",readOnly:!0,placeholder:"(00) 00000-0000",className:"h-8 px-2 rounded border border-gray-300 bg-white text-gray-500"})]}),o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("label",{className:"font-semibold text-gray-700",children:"Endereo:"}),o.jsx("input",{type:"text",value:(Xe==null?void 0:Xe.endereco)||"",readOnly:!0,placeholder:"Endereo completo",className:"h-8 px-2 rounded border border-gray-300 bg-white text-gray-500"})]}),o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("label",{className:"font-semibold text-gray-700",children:"CPF:"}),o.jsx("input",{type:"text",value:(Xe==null?void 0:Xe.cpf)||"",readOnly:!0,placeholder:"CPF (opcional)",className:"h-8 px-2 rounded border border-gray-300 bg-white text-gray-500"})]})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("span",{className:"inline-block text-xs font-bold text-blue-700 bg-white px-2 py-0.5 rounded shadow-sm",children:"Itens da Ordem"}),o.jsx("div",{className:"border border-gray-300 rounded bg-white p-4 space-y-3",children:o.jsx(IQ,{selectedDepositId:X||null,items:Ot,setItems:rn,includeProductIds:O?[O]:[],lockedProductIds:O?[O]:[],onRemoveItem:st})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("span",{className:"inline-block text-xs font-bold text-blue-700 bg-white px-2 py-0.5 rounded shadow-sm",children:"Pagamentos"}),o.jsxs("div",{className:"border border-gray-300 rounded bg-white p-4 space-y-3",children:[o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-gray-700 border border-gray-200",children:[o.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-2 py-2 text-left",children:"Forma"}),o.jsx("th",{className:"px-2 py-2 text-left",children:"Valor"}),o.jsx("th",{className:"px-2 py-2 text-left",children:"Parcelas"}),o.jsx("th",{className:"px-2 py-2 text-left",children:"1 Venc."}),o.jsx("th",{className:"px-2 py-2 text-left",children:"Mquina"}),o.jsx("th",{className:"px-2 py-2 text-left",children:"Observao"}),o.jsx("th",{className:"px-2 py-2 text-left",children:"Aes"})]})}),o.jsx("tbody",{children:nn.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:7,className:"px-3 py-8 text-center text-gray-400",children:"Nenhum pagamento adicionado."})}):nn.map(ke=>o.jsxs("tr",{className:"border-t border-gray-200",children:[o.jsx("td",{className:"px-2 py-2",children:ke.methodName}),o.jsxs("td",{className:"px-2 py-2",children:["R$ ",ke.value.toFixed(2)]}),o.jsx("td",{className:"px-2 py-2",children:"1"}),o.jsx("td",{className:"px-2 py-2",children:"-"}),o.jsx("td",{className:"px-2 py-2",children:"-"}),o.jsx("td",{className:"px-2 py-2",children:"-"}),o.jsx("td",{className:"px-2 py-2",children:o.jsxs("div",{className:"flex gap-1",children:[o.jsx("button",{onClick:()=>ba(ke),className:"text-orange-600 hover:text-orange-800 p-1",title:"Editar pagamento",children:o.jsx(Mm,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>le(ke),className:"text-red-600 hover:text-red-800 p-1",title:"Remover pagamento",children:o.jsx(oo,{className:"w-4 h-4"})})]})})]},ke.id))})]})}),Tn&&o.jsxs("div",{className:"border border-orange-400 rounded bg-orange-50 p-3 space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm font-bold text-orange-800",children:"Editando Pagamento"}),o.jsx("button",{onClick:Bi,className:"text-gray-500 hover:text-gray-700",children:o.jsx(zi,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[o.jsxs("select",{value:mn,onChange:ke=>en(ke.target.value),className:"h-8 px-2 border border-gray-300 rounded text-gray-700 bg-white",children:[o.jsx("option",{value:"",children:"Forma"}),c.map(ke=>o.jsx("option",{value:ke.id,children:ke.nome},ke.id))]}),o.jsx("input",{type:"number",value:Fe,onChange:ke=>yt(ke.target.value),placeholder:"Valor",className:"h-8 w-28 px-2 border border-gray-300 rounded text-gray-700 bg-white"}),o.jsxs("button",{onClick:gr,className:"flex items-center gap-1 text-green-600 hover:text-green-800 font-semibold",children:[o.jsx(wl,{className:"w-4 h-4"})," Salvar"]}),o.jsx("button",{onClick:Bi,className:"flex items-center gap-1 text-gray-600 hover:text-gray-800",children:"Cancelar"})]})]}),!Tn&&o.jsxs("div",{className:"flex flex-wrap gap-3 items-center text-sm text-blue-700 font-semibold",children:[o.jsxs("select",{value:un,onChange:ke=>hn(ke.target.value),className:"h-8 px-2 border border-gray-300 rounded text-gray-700 bg-white",children:[o.jsx("option",{value:"",children:"Forma"}),c.map(ke=>o.jsx("option",{value:ke.id,children:ke.nome},ke.id))]}),o.jsx("input",{type:"number",value:jn,onChange:ke=>Mn(ke.target.value),placeholder:"Valor",className:"h-8 w-28 px-2 border border-gray-300 rounded text-gray-700 bg-white"}),o.jsx("button",{onClick:Jn,className:"flex items-center gap-1",children:"+ Adicionar Pagamento"})]}),(Xn==null?void 0:Xn.receipt_type)==="cash"&&o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[o.jsx("label",{className:"font-semibold",children:"Valor Recebido (Dinheiro):"}),o.jsx("input",{type:"number",value:_n,onChange:ke=>En(ke.target.value),className:"h-8 w-32 px-2 border border-gray-300 rounded"}),ze>0&&o.jsxs("span",{className:"text-green-600 font-semibold",children:["Troco: R$ ",ze.toFixed(2)]})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("span",{className:"inline-block text-xs font-bold text-blue-700 bg-white px-2 py-0.5 rounded shadow-sm",children:"Resumo Financeiro"}),o.jsxs("div",{className:"border border-gray-300 rounded bg-white p-4 space-y-3 text-sm",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3",children:[o.jsxs("div",{className:"flex flex-col gap-1 lg:col-span-1",children:[o.jsx("label",{className:"font-semibold text-gray-700",children:"Subtotal:"}),o.jsx("input",{className:"h-8 px-2 border border-gray-300 rounded bg-white",value:`R$ ${ci.toFixed(2)}`,readOnly:!0})]}),o.jsxs("div",{className:"flex flex-col gap-1 lg:col-span-1",children:[o.jsx("label",{className:"font-semibold text-gray-700",children:"Taxa de entrega:"}),o.jsx("input",{className:"h-8 px-2 border border-gray-300 rounded bg-white",value:`R$ ${Kr.toFixed(2)}`,readOnly:!0}),ue&&o.jsx("div",{className:"text-[10px] text-amber-600",children:"Taxa removida manualmente."})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-3",children:[o.jsxs("div",{className:"flex flex-col gap-1 lg:col-span-1",children:[o.jsx("label",{className:"font-semibold text-gray-700",children:"Valor Total:"}),o.jsx("input",{className:"h-8 px-2 border border-gray-300 rounded bg-white",value:`R$ ${fn.toFixed(2)}`,readOnly:!0})]}),o.jsxs("div",{className:"flex flex-col gap-1 lg:col-span-1",children:[o.jsx("label",{className:"font-semibold text-gray-700",children:"Total Pago:"}),o.jsx("input",{className:"h-8 px-2 border border-gray-300 rounded bg-white",value:`R$ ${Xi.toFixed(2)}`,readOnly:!0})]}),o.jsxs("div",{className:"flex flex-col gap-1 lg:col-span-1",children:[o.jsx("label",{className:"font-semibold text-green-700",children:"Restante:"}),o.jsx("input",{className:"h-8 px-2 border border-gray-300 rounded bg-white text-green-700 font-semibold",value:`R$ ${Yn.toFixed(2)}`,readOnly:!0})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3",children:[o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("label",{className:"font-semibold text-gray-700",children:"Observaes:"}),o.jsx("textarea",{value:z,onChange:ke=>D(ke.target.value),className:"min-h-[90px] px-2 py-2 border border-gray-300 rounded"})]}),o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("label",{className:"font-semibold text-gray-700",children:"Resumo Nota:"}),o.jsx("div",{id:"receipt-print-area",className:"bg-yellow-50 border border-gray-300 p-4 h-full overflow-y-auto font-mono text-xs text-black shadow-inner leading-tight",children:o.jsx("pre",{className:"whitespace-pre-wrap",children:Wr()})})]})]})]})]})]}),o.jsx("div",{className:"space-y-4 min-w-0 self-start",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("span",{className:"inline-block text-xs font-bold text-blue-700 bg-white px-2 py-0.5 rounded shadow-sm",children:"Zonas e mapa"}),o.jsxs("div",{className:"border border-gray-300 rounded bg-white p-4 space-y-3 text-sm",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-[11px] font-bold text-gray-600 uppercase",children:"Orientacao de zona"}),o.jsxs("span",{className:"text-[11px] text-gray-500",children:["Deposito: ",((Bn=x.find(ke=>ke.id===(X||(n==null?void 0:n.depositoId))))==null?void 0:Bn.nome)||"Nao selecionado"]})]}),Hn&&Qn&&Hn!==Qn&&o.jsxs("div",{className:"text-[11px] text-amber-600",children:["Zona do cadastro: ",wn||"Nao definida"," / Zona detectada: ",bt||"Nao definida"]}),!Qn&&W&&o.jsxs("div",{className:"text-[11px] text-amber-600",children:['Zona nao encontrada para "',W,'".']}),o.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[o.jsx("div",{className:"relative z-0 h-48 rounded border border-gray-200 overflow-hidden",children:o.jsxs(mb,{center:[sB.lat,sB.lng],zoom:12,className:"w-full h-full",children:[o.jsx(vb,{attribution:" OSM contributors",url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),o.jsx(zD,{}),o.jsx(HD,{polygons:kn.map(ke=>ke.polygon),activePolygon:jr}),kn.map(ke=>{const gt=ke.id===Qn;return o.jsx(gb,{positions:ke.polygon,pathOptions:{color:gt?ke.cor:"#94a3b8",fillColor:ke.cor,fillOpacity:gt?.35:.12,weight:gt?2:1},children:o.jsx(xb,{sticky:!0,children:ke.nome})},ke.id)})]})}),o.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto pr-1",children:E.length===0?o.jsx("div",{className:"text-xs text-gray-500",children:"Nenhuma zona cadastrada."}):E.map(ke=>{const gt=jt.get(ke.id),tn=X?gt?`R$ ${Number(gt.price||0).toFixed(2)}`:"Sem preco":"Selecione deposito",Yt=ke.id===Qn;return o.jsxs("div",{className:`flex items-center justify-between gap-2 rounded border px-2 py-1 ${Yt?"border-blue-400 bg-blue-50":"border-gray-200"}`,children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:ke.cor||"#f97316"}}),o.jsx("span",{className:"text-xs font-semibold text-gray-800",children:ke.nome})]}),o.jsx("span",{className:`text-[11px] font-bold ${Yt?"text-blue-700":"text-gray-600"}`,children:tn})]},ke.id)})})]})]})]})})]}),o.jsxs("div",{className:"flex flex-col gap-3 mt-6 text-sm lg:flex-row lg:items-center",children:[Yn>0&&o.jsxs("div",{className:"flex items-center gap-2 text-amber-700 bg-amber-50 border border-amber-200 px-3 py-2 rounded",children:[o.jsx(md,{className:"w-4 h-4"}),o.jsxs("span",{className:"font-semibold",children:["Pagamento pendente: R$ ",kr(Yn)]})]}),o.jsxs("div",{className:"flex justify-end gap-3 lg:ml-auto",children:[o.jsx("button",{onClick:Jr,className:"px-4 py-2 rounded border border-gray-300 text-purple-700 font-semibold",children:"Salvar Nota"}),o.jsx("button",{onClick:Ar,className:"px-4 py-2 rounded border border-gray-300 text-purple-700 font-semibold",children:"Imprimir Nota"}),o.jsx("button",{onClick:()=>Wn(!0),className:"px-4 py-2 rounded border border-gray-300 text-purple-700 font-semibold",children:"Pre-visualizar Nota"}),o.jsx("button",{onClick:e,className:"px-4 py-2 rounded border border-gray-300 text-gray-700 font-semibold",children:"Cancelar"}),o.jsx("button",{onClick:Et,disabled:Ot.length===0||!Xe,className:"px-4 py-2 rounded bg-blue-700 hover:bg-blue-800 text-white font-bold disabled:bg-gray-300 disabled:cursor-not-allowed",children:"Salvar O.S"})]})]}),Ve&&o.jsx(UQ,{onClose:()=>Ie(!1),onSave:bi}),Kn&&o.jsx("div",{className:"fixed inset-0 z-[70] bg-black/70 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white w-full max-w-2xl h-[90vh] rounded shadow-2xl border border-gray-300 flex flex-col overflow-hidden",children:[o.jsxs("div",{className:"bg-gray-800 px-4 py-3 flex items-center justify-between text-white",children:[o.jsx("span",{className:"text-sm font-bold uppercase tracking-wide",children:"Pre-visualizacao da Nota"}),o.jsx("button",{onClick:()=>Wn(!1),className:"p-1.5 hover:text-gray-200",children:o.jsx(zi,{size:18})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-4 bg-gray-100",children:o.jsx("div",{className:"bg-yellow-50 border border-gray-300 p-4 h-full font-mono text-xs text-black shadow-inner leading-tight",children:o.jsx("pre",{className:"whitespace-pre-wrap",children:Wr()})})}),o.jsx("div",{className:"bg-white border-t border-gray-300 px-4 py-3 flex justify-end gap-2",children:o.jsx("button",{onClick:()=>Wn(!1),className:"px-4 py-2 rounded border border-gray-300 text-gray-700 font-semibold",children:"Fechar"})})]})})]})},VD=({onClose:e,currentUser:t})=>{const[n,r]=$.useState("list"),[i,s]=$.useState("PENDENTE"),[c,d]=$.useState([]),[h,f]=$.useState([]),[g,x]=$.useState([]),[E,w]=$.useState([]),[I,j]=$.useState(null),[F,S]=$.useState(null),z=()=>{r("list"),j(null),S(null)},D=X=>Number(X||0).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),G=X=>{if(!X)return null;const V=E.find(W=>W.id===X);return(V==null?void 0:V.nome)||(V==null?void 0:V.username)||X},ce=async()=>{d(await im()),r("list"),j(null),S(null)};$.useEffect(()=>{let X=!0;return(async()=>{const[V,W,oe,me]=await Promise.all([im(),fA(),jm(),Gh()]);if(!X)return;d(V),f(W),x(oe);const ye=$N()||[],se=new Set,_e=[...me,...ye].filter(Z=>!(Z!=null&&Z.id)||se.has(Z.id)?!1:(se.add(Z.id),!0));w(_e)})(),()=>{X=!1}},[n]);const Y=$.useMemo(()=>c.filter(X=>i==="TODOS"?!0:i==="PENDENTE"?X.status==="PENDENTE"||X.status==="PENDENTE_ENTREGA":X.status===i).sort((X,V)=>V.dataHoraCriacao-X.dataHoraCriacao),[c,i]),ge=async(X,V,W)=>{if(!(V==="CANCELADA"&&!confirm("Deseja realmente cancelar esta O.S?")))try{await of(X,V,W,XN()||"Operador"),d(await im())}catch(oe){console.error(oe),alert("No foi possvel atualizar o status da O.S. Verifique os dados e tente novamente.")}},re=X=>{j(X),r("create")},M=()=>{j(null),r("create")};return n==="create"?o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:o.jsxs("div",{className:"w-full max-w-[1200px] h-[90vh] bg-white rounded shadow-2xl border border-gray-300 flex flex-col overflow-hidden",style:{"--app-bg":"#f7f7f7","--surface-bg":"#ffffff","--text-main":"#1f2937","--text-muted":"#4b5563","--border-color":"#cbd5e1","--primary":"#0b3a64"},children:[o.jsxs("div",{className:"bg-gray-800 px-5 py-3 border-b border-gray-300 flex justify-between items-center shrink-0 text-white",children:[o.jsxs("h2",{className:"text-lg font-bold uppercase tracking-wide flex items-center gap-2",children:[o.jsx(wo,{className:"w-5 h-5 text-green-300"})," Nova Ordem de Servio"]}),o.jsx("button",{onClick:z,className:"text-gray-200 hover:text-white p-2 rounded",children:o.jsx(zi,{size:20})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-4 bg-[#f2f2f2]",children:o.jsx("div",{className:"bg-white border border-gray-300 rounded-md h-full overflow-y-auto px-3 py-4 shadow-sm text-black",children:o.jsx(GD,{onCancel:z,onSuccess:ce,initialData:I,currentUser:t})})})]})}):o.jsxs("div",{className:"fixed inset-0 bg-app z-50 flex flex-col animate-in slide-in-from-bottom-4 duration-300",children:[o.jsxs("div",{className:"bg-surface border-b border-bdr px-6 py-4 flex flex-col sm:flex-row justify-between items-center shadow-sm shrink-0 gap-4",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"bg-purple-500/10 p-2.5 rounded-xl border border-purple-500/20",children:o.jsx(hm,{className:"w-6 h-6 text-purple-600"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-black text-txt-main tracking-tight",children:"Gesto de Ordens de Servio"}),o.jsx("p",{className:"text-xs text-txt-muted font-bold uppercase tracking-widest",children:"Acompanhamento Operacional"})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("button",{onClick:M,className:"bg-purple-600 hover:bg-purple-700 text-white px-5 py-2.5 rounded-xl font-black text-sm shadow-lg shadow-purple-500/20 flex items-center gap-2 transition-transform active:scale-95",children:[o.jsx(wo,{className:"w-5 h-5"})," NOVA O.S"]}),o.jsx("div",{className:"h-8 w-px bg-bdr mx-2 hidden sm:block"}),o.jsx("button",{onClick:e,className:"p-2 hover:bg-red-500/10 text-txt-muted hover:text-red-500 rounded-full transition-colors",children:o.jsx(zi,{className:"w-6 h-6"})})]})]}),o.jsx("div",{className:"bg-surface border-b border-bdr px-6",children:o.jsx("div",{className:"flex gap-6 overflow-x-auto",children:[{id:"PENDENTE",label:"Pendentes (Geral)",cor:"text-amber-500 border-amber-500",icon:md},{id:"PENDENTE_ENTREGA",label:"Aguardando Entrega",cor:"text-orange-500 border-orange-500",icon:um},{id:"EM_ANDAMENTO",label:"Em Trnsito/Andamento",cor:"text-blue-500 border-blue-500",icon:Ko},{id:"CONCLUIDA",label:"Concludas",cor:"text-green-500 border-green-500",icon:Ml},{id:"CANCELADA",label:"Canceladas",cor:"text-red-500 border-red-500",icon:Oh},{id:"TODOS",label:"Todas",cor:"text-txt-main border-txt-main",icon:x3}].map(X=>{const V=X.icon,W=i===X.id;return o.jsxs("button",{onClick:()=>s(X.id),className:`pb-4 pt-4 text-sm font-bold border-b-4 transition-all flex items-center gap-2 whitespace-nowrap ${W?X.cor:"border-transparent text-txt-muted hover:text-txt-main"}`,children:[o.jsx(V,{className:"w-4 h-4"}),X.label]},X.id)})})}),o.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-app",children:o.jsx("div",{className:"max-w-7xl mx-auto space-y-4",children:Y.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-txt-muted opacity-50",children:[o.jsx(hm,{className:"w-16 h-16 mb-4"}),o.jsx("p",{className:"font-bold text-lg",children:"Nenhuma O.S encontrada nesta categoria."})]}):Y.map(X=>o.jsxs("div",{className:"bg-surface rounded-2xl p-5 border border-bdr shadow-sm hover:shadow-md transition-all flex flex-col md:flex-row items-start md:items-center justify-between gap-6 group relative",children:[o.jsxs("div",{className:"absolute top-5 right-5 md:static md:order-last flex flex-col items-end gap-2",children:[o.jsx(KD,{createdAt:X.dataHoraCriacao,status:X.status}),o.jsxs("button",{onClick:()=>S(X),className:"text-[10px] font-bold text-primary hover:underline flex items-center gap-1",children:[o.jsx(w3,{className:"w-3 h-3"})," Ver Histrico"]})]}),o.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[o.jsxs("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center text-lg font-black shrink-0 ${X.status==="PENDENTE"?"bg-amber-100 text-amber-600":X.status==="PENDENTE_ENTREGA"?"bg-orange-100 text-orange-600":X.status==="EM_ANDAMENTO"?"bg-blue-100 text-blue-600":X.status==="CONCLUIDA"?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:[X.status==="PENDENTE"&&o.jsx(md,{className:"w-6 h-6"}),X.status==="PENDENTE_ENTREGA"&&o.jsx(um,{className:"w-6 h-6"}),X.status==="EM_ANDAMENTO"&&o.jsx(Ko,{className:"w-6 h-6"}),X.status==="CONCLUIDA"&&o.jsx(Ml,{className:"w-6 h-6"}),X.status==="CANCELADA"&&o.jsx(Oh,{className:"w-6 h-6"})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsxs("span",{className:"font-mono text-xs font-bold text-txt-muted bg-app px-2 py-0.5 rounded",children:["#",X.numeroOs]}),o.jsx("span",{className:"text-[10px] font-black uppercase text-txt-muted",children:new Date(X.dataHoraCriacao).toLocaleTimeString().slice(0,5)}),X.tipoAtendimento&&o.jsx("span",{className:"text-[9px] font-bold uppercase bg-primary/10 text-primary px-1.5 py-0.5 rounded",children:X.tipoAtendimento})]}),o.jsx("h3",{className:"font-black text-lg text-txt-main",children:X.clienteNome}),o.jsxs("div",{className:"flex items-center gap-1 text-xs text-txt-muted mb-2",children:[o.jsx(ou,{className:"w-3 h-3"}),o.jsx("span",{className:"truncate max-w-md",children:X.enderecoEntrega||"Endereo no informado"})]}),o.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:X.itens.map((V,W)=>{var oe;return o.jsxs("span",{className:"text-xs font-bold text-txt-muted bg-app px-2 py-1 rounded border border-bdr",children:[V.quantidade,"x ",(oe=h.find(me=>me.id===V.produtoId))==null?void 0:oe.nome]},W)})})]})]}),o.jsxs("div",{className:"flex flex-col items-end gap-3 min-w-[150px] mt-4 md:mt-0",children:[o.jsxs("span",{className:"text-xl font-black text-primary",children:["R$ ",X.total.toFixed(2)]}),o.jsx("div",{className:"flex items-center gap-2 opacity-100 transition-opacity",children:X.status!=="CANCELADA"&&X.status!=="CONCLUIDA"&&o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:()=>re(X),className:"px-3 py-1.5 bg-surface border border-bdr hover:bg-app text-txt-main rounded-lg text-xs font-bold shadow-sm flex items-center gap-1",title:"Editar O.S",children:[o.jsx(Mm,{className:"w-3 h-3"})," Editar"]}),o.jsxs("button",{onClick:()=>ge(X.id,"CONCLUIDA","Conclusao manual"),className:"px-3 py-1.5 bg-green-500 hover:bg-green-600 text-white rounded-lg text-xs font-bold flex items-center gap-1 shadow-sm",title:"Concluir e lancar financeiro/estoque",children:["Concluir ",o.jsx(Ml,{className:"w-3 h-3"})]}),o.jsx("button",{onClick:()=>ge(X.id,"CANCELADA","Cancelamento Manual"),className:"px-3 py-1.5 bg-app border border-bdr hover:bg-red-50 hover:text-red-500 text-txt-muted rounded-lg text-xs font-bold shadow-sm",children:"Cancelar"})]})})]})]},X.id))})}),F&&o.jsx("div",{className:"fixed inset-0 bg-black/60 z-[60] flex items-center justify-center p-4 backdrop-blur-sm animate-in fade-in",children:o.jsxs("div",{className:"bg-surface w-full max-w-3xl rounded-2xl shadow-2xl border border-bdr p-6 space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center border-b border-bdr pb-4",children:[o.jsxs("h3",{className:"text-lg font-black text-txt-main flex items-center gap-2",children:[o.jsx(Qm,{className:"w-5 h-5 text-primary"})," Detalhes da O.S #",F.numeroOs]}),o.jsx("button",{onClick:()=>S(null),className:"p-1 hover:bg-app rounded-full",children:o.jsx(zi,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"rounded-xl border border-bdr bg-app px-4 py-3 space-y-2",children:[o.jsx("p",{className:"text-xs font-bold text-txt-muted uppercase",children:"Cliente"}),o.jsx("p",{className:"text-sm font-black text-txt-main",children:F.clienteNome}),o.jsx("p",{className:"text-xs text-txt-muted",children:F.enderecoEntrega||"Endereco nao informado"}),o.jsxs("div",{className:"flex gap-2 text-[10px] text-txt-muted uppercase font-bold",children:[o.jsx("span",{className:"bg-primary/10 text-primary px-2 py-1 rounded",children:F.tipoAtendimento}),F.entregadorId&&o.jsxs("span",{className:"bg-blue-500/10 text-blue-400 px-2 py-1 rounded",children:["Entregador: ",G(F.entregadorId)]})]})]}),o.jsxs("div",{className:"rounded-xl border border-bdr bg-app px-4 py-3 space-y-2",children:[o.jsx("p",{className:"text-xs font-bold text-txt-muted uppercase",children:"Resumo financeiro"}),o.jsxs("div",{className:"flex items-center justify-between text-sm font-black",children:[o.jsx("span",{className:"text-txt-muted",children:"Total"}),o.jsx("span",{className:"text-primary",children:D(F.total)})]}),o.jsx("div",{className:"space-y-1",children:(F.pagamentos||[]).length===0?o.jsxs("div",{className:"flex items-center justify-between text-xs font-bold text-txt-muted bg-surface px-3 py-2 rounded border border-bdr",children:[o.jsx("span",{children:"Pagamento nao informado"}),o.jsx("span",{className:"text-txt-main",children:D(0)})]}):(F.pagamentos||[]).map((X,V)=>{const W=X.formaPagamentoId??X.payment_method_id??X.paymentMethodId,oe=X.valor??X.amount??X.value??0,me=g.find(ye=>ye.id===W);return o.jsxs("div",{className:"flex items-center justify-between text-xs font-bold text-txt-muted bg-surface px-3 py-2 rounded border border-bdr",children:[o.jsx("span",{children:(me==null?void 0:me.nome)||W||"Pagamento"}),o.jsx("span",{className:"text-txt-main",children:D(oe)})]},V)})}),o.jsxs("div",{className:"text-[10px] text-txt-muted",children:["Status: ",F.status]})]})]}),o.jsxs("div",{className:"rounded-xl border border-bdr bg-app px-4 py-3 space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-xs font-bold text-txt-muted uppercase",children:"Itens"}),o.jsxs("span",{className:"text-[11px] font-bold text-primary",children:[(F.itens||[]).length," itens"]})]}),o.jsx("div",{className:"divide-y divide-bdr",children:(F.itens||[]).map((X,V)=>{const W=h.find(me=>me.id===X.produtoId),oe=X.quantidade*X.precoUnitario;return o.jsxs("div",{className:"py-2 flex items-center justify-between text-sm",children:[o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"font-bold text-txt-main",children:(W==null?void 0:W.nome)||X.produtoId}),o.jsxs("span",{className:"text-[11px] text-txt-muted uppercase",children:["Qtd ",X.quantidade," - ",D(X.precoUnitario)]})]}),o.jsx("span",{className:"font-black text-primary",children:D(oe)})]},V)})})]}),o.jsxs("div",{className:"max-h-[45vh] overflow-y-auto",children:[o.jsx("p",{className:"text-xs font-bold text-txt-muted uppercase mb-2",children:"Linha do tempo"}),o.jsx(qD,{logs:F.historico||[]})]})]})})]})},ZD=({onClose:e,onNavigate:t})=>{const[n,r]=$.useState(!1),[i,s]=$.useState(""),[c,d]=$.useState(!1),h=x=>{t&&t(x)},f=()=>{i!=="RESETAR TUDO"||!c||(kD(),window.location.reload())},g=({icon:x,title:E,desc:w,onClick:I,colorClass:j="text-primary"})=>o.jsxs("button",{onClick:I,className:"relative group w-full flex items-center justify-between p-6 bg-surface border border-bdr rounded-2xl hover:border-primary/50 hover:shadow-xl transition-all duration-300 overflow-hidden text-left",children:[o.jsxs("div",{className:"z-10 flex flex-col gap-3 max-w-[75%]",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`p-2.5 rounded-xl bg-app border border-bdr ${j} group-hover:scale-110 transition-transform duration-300`,children:o.jsx(x,{className:"w-5 h-5"})}),o.jsx("h3",{className:"font-black text-txt-main text-sm uppercase tracking-wide group-hover:text-primary transition-colors",children:E})]}),o.jsx("p",{className:"text-xs text-txt-muted font-medium leading-relaxed pl-1",children:w})]}),o.jsx("div",{className:`absolute -right-6 top-1/2 -translate-y-1/2 opacity-5 group-hover:opacity-20 transition-opacity transform group-hover:scale-110 group-hover:-rotate-12 duration-500 ${j}`,children:o.jsx(x,{className:"w-32 h-32"})}),o.jsx("div",{className:"absolute right-6 top-1/2 -translate-y-1/2 z-20 opacity-0 group-hover:opacity-100 transition-all duration-300 transform translate-x-4 group-hover:translate-x-0",children:o.jsx("div",{className:"bg-app p-2 rounded-full border border-bdr shadow-sm",children:o.jsx(b5,{className:`w-5 h-5 ${j}`})})})]});return o.jsxs("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md z-50 flex items-center justify-center p-4 sm:p-8 animate-in fade-in duration-300",children:[o.jsxs("div",{className:"bg-app w-full h-full max-w-[1400px] rounded-[2rem] shadow-2xl flex flex-col overflow-hidden relative border border-bdr",children:[o.jsxs("div",{className:"bg-surface border-b border-bdr px-8 py-6 flex justify-between items-center shrink-0",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"text-2xl font-black text-txt-main tracking-tight flex items-center gap-3",children:[o.jsx(tf,{className:"w-8 h-8 text-primary animate-spin-slow"}),"Painel de Controle"]}),o.jsx("p",{className:"text-sm text-txt-muted font-bold mt-1",children:"Central Administrativa & Configuraes do Sistema"})]}),o.jsxs("button",{onClick:e,className:"group flex items-center gap-2 px-5 py-2.5 rounded-full border border-bdr hover:bg-red-50 hover:border-red-200 hover:text-red-500 transition-all text-txt-muted font-bold text-xs uppercase tracking-widest",children:[o.jsx("span",{children:"Fechar Painel"}),o.jsx("div",{className:"bg-txt-muted group-hover:bg-red-500 w-5 h-5 rounded-full flex items-center justify-center text-white transition-colors",children:o.jsx(zi,{className:"w-3 h-3"})})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-8 bg-app",children:o.jsxs("div",{className:"max-w-7xl mx-auto space-y-12",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("h3",{className:"text-xs font-black text-primary uppercase tracking-[0.2em] flex items-center gap-2 border-b border-bdr pb-2",children:[o.jsx(dL,{className:"w-4 h-4"}),"Estrutura & Acessos"]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.jsx(g,{icon:Bc,title:"Colaboradores",desc:"Gerencie acessos, logins e permisses de usurios por depsito.",onClick:()=>h("colaboradores"),colorClass:"text-blue-500"})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("h3",{className:"text-xs font-black text-primary uppercase tracking-[0.2em] flex items-center gap-2 border-b border-bdr pb-2",children:[o.jsx(rx,{className:"w-4 h-4"}),"Financeiro & Regras de Venda"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsx(g,{icon:y5,title:"Formas de Pagamento & Mquinas",desc:"Cadastre taxas de maquininhas, prazos de recebimento e mtodos aceitos.",onClick:()=>h("sales-modalities"),colorClass:"text-emerald-500"}),o.jsx(g,{icon:Dh,title:"Modalidades de Venda",desc:"Configure regras para Venda, Troca, Casco e como movimentam o estoque.",onClick:()=>h("transaction-modalities"),colorClass:"text-teal-500"}),o.jsx(g,{icon:Ko,title:"Taxas de Entrega",desc:"Defina zonas, bairros e valores de taxa de entrega por deposito.",onClick:()=>h("delivery-settings"),colorClass:"text-orange-500"})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("h3",{className:"text-xs font-black text-primary uppercase tracking-[0.2em] flex items-center gap-2 border-b border-bdr pb-2",children:[o.jsx(B5,{className:"w-4 h-4"}),"Segurana & Logs"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[o.jsx(g,{icon:hb,title:"Centro de Alertas",desc:"Ative ou desative notificaes financeiras e operacionais.",onClick:()=>h("alertas"),colorClass:"text-orange-500"}),o.jsx(g,{icon:w5,title:"Auditoria Completa",desc:"Visualize o log detalhado de todas as aes realizadas no sistema.",onClick:()=>h("auditoria"),colorClass:"text-amber-500"}),o.jsxs("button",{onClick:()=>r(!0),className:"group relative flex flex-col items-center justify-center p-6 bg-red-50 border-2 border-red-100 rounded-2xl hover:bg-red-600 hover:border-red-600 transition-all duration-300 text-center overflow-hidden",children:[o.jsx("div",{className:"absolute right-0 top-0 opacity-5 group-hover:opacity-20 text-white transition-opacity transform translate-x-4 -translate-y-4",children:o.jsx(Kp,{className:"w-32 h-32"})}),o.jsx("div",{className:"bg-red-200 text-red-600 group-hover:bg-white group-hover:text-red-600 p-4 rounded-full mb-3 transition-colors z-10 shadow-sm",children:o.jsx(Kp,{className:"w-8 h-8"})}),o.jsx("h3",{className:"font-black text-red-700 group-hover:text-white text-sm uppercase tracking-widest mb-1 z-10 transition-colors",children:"Reset Geral"}),o.jsx("p",{className:"text-xs text-red-500 group-hover:text-red-100 leading-tight px-4 z-10 font-medium transition-colors",children:"Apagar todos os dados e reiniciar o sistema"})]})]})]})]})}),o.jsx("div",{className:"bg-app border-t border-bdr p-4 text-center",children:o.jsx("p",{className:"text-[10px] text-txt-muted font-bold uppercase tracking-widest opacity-60",children:"Sistema Verso 2.5.0  Acesso Administrativo Concedido"})})]}),n&&o.jsx("div",{className:"fixed inset-0 bg-red-950/80 backdrop-blur-sm z-[60] flex items-center justify-center p-4 animate-in fade-in duration-200",children:o.jsxs("div",{className:"bg-white w-full max-w-lg rounded-3xl shadow-2xl p-8 border-4 border-red-600 text-center space-y-6",children:[o.jsx("div",{className:"mx-auto w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mb-2 animate-bounce",children:o.jsx(Kp,{className:"w-10 h-10 text-red-600"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-3xl font-black text-red-700 mb-2",children:"PERIGO!"}),o.jsxs("p",{className:"text-gray-600 font-medium",children:["Esta ao ir ",o.jsx("strong",{children:"APAGAR TODOS OS DADOS"})," do sistema: Estoque, Vendas, Clientes, Colaboradores e Configuraes."]}),o.jsx("p",{className:"text-red-600 font-bold text-sm mt-2 uppercase bg-red-50 inline-block px-3 py-1 rounded",children:"Esta ao  irreversvel."})]}),o.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl text-left space-y-3 border border-gray-200 shadow-inner",children:[o.jsxs("label",{className:"block text-xs font-bold text-gray-500 uppercase",children:["Digite ",o.jsx("span",{className:"text-red-600",children:"RESETAR TUDO"})," para confirmar:"]}),o.jsx("input",{type:"text",value:i,onChange:x=>s(x.target.value),className:"w-full border-2 border-gray-300 rounded-lg p-3 font-black text-red-600 focus:border-red-600 outline-none uppercase placeholder:text-gray-300",placeholder:"RESETAR TUDO"}),o.jsxs("label",{className:"flex items-center gap-3 cursor-pointer mt-2 select-none",children:[o.jsx("input",{type:"checkbox",checked:c,onChange:x=>d(x.target.checked),className:"w-5 h-5 accent-red-600"}),o.jsx("span",{className:"text-sm font-bold text-gray-700",children:"Entendo que perderei todos os dados."})]})]}),o.jsxs("div",{className:"flex gap-4",children:[o.jsx("button",{onClick:()=>r(!1),className:"flex-1 py-4 font-bold text-gray-500 hover:bg-gray-100 rounded-xl transition-colors",children:"Cancelar"}),o.jsxs("button",{onClick:f,disabled:i!=="RESETAR TUDO"||!c,className:"flex-1 py-4 bg-red-600 hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed text-white font-black rounded-xl shadow-lg shadow-red-500/30 transition-all flex items-center justify-center gap-2",children:[o.jsx(oo,{className:"w-5 h-5"})," APAGAR TUDO"]})]})]})})]})},Tl=e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e||0),Tp=({label:e,value:t,trend:n,trendValue:r,icon:i,color:s})=>o.jsxs("div",{className:"bg-surface p-5 rounded-xl shadow-sm border border-bdr relative overflow-hidden group transition-colors duration-300",children:[o.jsx("div",{className:`absolute right-0 top-0 p-4 opacity-5 group-hover:opacity-10 transition-opacity ${s}`,children:o.jsx(i,{className:"w-16 h-16"})}),o.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[o.jsx("div",{className:`p-2 rounded-lg ${s.replace("text-","bg-").replace("600","100")} ${s} bg-opacity-10`,children:o.jsx(i,{className:"w-5 h-5"})}),o.jsx("span",{className:"text-txt-muted text-sm font-medium",children:e})]}),o.jsx("div",{className:"text-2xl font-bold text-txt-main mb-1",children:t}),n&&o.jsxs("div",{className:`flex items-center text-xs font-medium ${n==="up"?"text-green-500":"text-red-500"}`,children:[n==="up"?o.jsx(qp,{className:"w-3 h-3 mr-1"}):o.jsx(v5,{className:"w-3 h-3 mr-1"}),r," vs. ontem"]})]}),$D=({onClose:e})=>{const[t,n]=$.useState("deposito"),[r,i]=$.useState([]),[s,c]=$.useState([]),[d,h]=$.useState([]),[f,g]=$.useState(!1),[x,E]=$.useState(null),[w,I]=$.useState(()=>new Date().toISOString().slice(0,10)),[j,F]=$.useState(()=>new Date().toISOString().slice(0,10)),S=Y=>new Date(`${Y}T00:00:00`).getTime(),z=Y=>{if(!Y)return 0;if(typeof Y=="number")return Y;if(typeof Y=="string"){const re=Y.trim();if(re&&!Number.isNaN(Number(re)))return Number(re)}const ge=new Date(Y).getTime();return Number.isNaN(ge)?0:ge},D=Y=>{const ge=Y.historico_json??Y.historico??Y.history??[],re=z(Y.data_hora_criacao??Y.dataHoraCriacao??Y.created_at_ms??Y.created_at??Y.createdAt??0),M=z(Y.data_hora_conclusao??Y.dataHoraConclusao??Y.completed_at??Y.completedAt??0),X=Hs(Y);return{id:String(Y.id??""),numeroOs:String(Y.numero_os??Y.numeroOs??Y.order_number??Y.orderNumber??Y.number??Y.id??""),depositoId:X.depositoId,clienteId:Y.cliente_id??Y.clienteId??Y.client_id??Y.clientId??null,clienteNome:Y.cliente_nome??Y.clienteNome??Y.client_name??Y.clientName??"",entregadorId:Y.entregador_id??Y.entregadorId??Y.driver_id??Y.driverId??null,status:Y.status??Y.order_status??"PENDENTE",statusEntrega:Y.status_entrega??Y.statusEntrega??Y.delivery_status??null,tipoAtendimento:Y.tipo_atendimento??Y.tipoAtendimento??Y.service_type??"BALCAO",total:Number(Y.total??Y.total_amount??Y.amount??0)||0,historico:Array.isArray(ge)?ge:[],createdAtMs:re,concludedAtMs:M}};$.useEffect(()=>{(async()=>{g(!0);try{const[ge,re,M]=await Promise.all([im(),sf(),Gh()]),X=S(w),V=S(j)+1440*60*1e3-1,oe=ge.map(D).filter(me=>me.createdAtMs>=X&&me.createdAtMs<=V);i(oe),c(re),h(M)}catch(ge){console.error("Erro ao buscar dados do resumo:",ge),E(ge.message)}finally{g(!1)}})()},[w,j]);const G=$.useMemo(()=>{const Y=new Map;s.forEach(Z=>{const Ce=Z.nome??Z.name??Z.id??"";Z.id&&Y.set(String(Z.id),String(Ce))});const ge=new Map;d.forEach(Z=>{const Ce=Z.nome??Z.name??Z.username??Z.id??"";Z.id&&ge.set(String(Z.id),String(Ce))});const re=r.reduce((Z,Ce)=>Z+(Ce.total||0),0),M=r.filter(Z=>Z.status==="CONCLUIDA").length,X=new Set(r.map(Z=>Z.clienteId||Z.clienteNome||"")).size,V=r.filter(Z=>Z.statusEntrega==="CONCLUIDA").length,W=r.length?Math.round(V/r.length*100):0,oe=r.reduce((Z,Ce)=>{const te=Hs(Ce).depositoId||"SEM_DEP",P=Y.get(String(te))||String(te);return Z[te]||(Z[te]={depositoId:String(te),depositoNome:P,count:0,deliveries:0,pickups:0,gross:0,discounts:0}),Z[te].count+=1,Z[te].gross+=Ce.total||0,Z[te].deliveries+=Ce.tipoAtendimento==="DELIVERY"?1:0,Z[te].pickups+=Ce.tipoAtendimento==="BALCAO"?1:0,Z},{}),me=Z=>{const Se=(Array.isArray(Z.historico)?Z.historico:[]).find(P=>String(P.acao??P.action??"").toLowerCase().includes("cri"));return((Se==null?void 0:Se.usuario)??(Se==null?void 0:Se.user)??(Se==null?void 0:Se.username)??(Se==null?void 0:Se.usuarioNome)??null)||"Sistema"},ye=r.reduce((Z,Ce)=>{const Se=me(Ce);return Z[Se]||(Z[Se]={name:Se,count:0,gross:0}),Z[Se].count+=1,Z[Se].gross+=Ce.total||0,Z},{}),se=r.reduce((Z,Ce)=>{const Se=Ce.entregadorId?String(Ce.entregadorId):"";if(!Se)return Z;const te=ge.get(Se)||Se;return Z[Se]||(Z[Se]={id:Se,name:te,count:0,gross:0}),Z[Se].count+=1,Z[Se].gross+=Ce.total||0,Z},{}),_e=Object.values(oe).reduce((Z,Ce)=>(Z.count+=Ce.count,Z.deliveries+=Ce.deliveries,Z.pickups+=Ce.pickups,Z.gross+=Ce.gross,Z.discounts+=Ce.discounts,Z),{count:0,deliveries:0,pickups:0,gross:0,discounts:0});return{totalSales:re,concluded:M,uniqueClients:X,deliveryRate:W,byDeposit:Object.values(oe),bySeller:Object.values(ye),byDriver:Object.values(se),consolidated:_e}},[r,s,d]),ce=$.useMemo(()=>{const Y=[];r.forEach(re=>{re.historico&&re.historico.forEach(M=>{Y.push({osNum:re.numeroOs,log:M})})});const ge=re=>{if(typeof re=="number")return re;const M=new Date(re).getTime();return Number.isNaN(M)?0:M};return Y.sort((re,M)=>ge(M.log.data)-ge(re.log.data)),Y.slice(0,50)},[r]);return o.jsxs("div",{className:"fixed inset-0 bg-app z-50 flex flex-col animate-in slide-in-from-bottom-4 duration-300 transition-colors",children:[o.jsxs("div",{className:"bg-surface border-b border-bdr px-6 py-4 flex flex-col sm:flex-row justify-between items-start sm:items-center shadow-sm shrink-0 gap-4 transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"bg-indigo-600 p-2.5 rounded-xl shadow-md shadow-indigo-500/20",children:o.jsx(fh,{className:"w-6 h-6 text-white"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-txt-main tracking-tight",children:"Resumo Gerencial"}),o.jsx("p",{className:"text-sm text-txt-muted",children:"Viso geral de desempenho e estoque"})]})]}),o.jsxs("div",{className:"flex items-center gap-4 w-full sm:w-auto",children:[o.jsxs("div",{className:"flex items-center bg-app border border-bdr rounded-xl p-1 shadow-sm w-full sm:w-auto transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-2 px-3 border-r border-bdr",children:[o.jsx(Dm,{className:"w-4 h-4 text-txt-muted"}),o.jsx("input",{type:"date",className:"bg-transparent border-none text-xs font-bold text-txt-main focus:ring-0 p-0 w-28 appearance-none outline-none",value:w,onChange:Y=>I(Y.target.value)})]}),o.jsxs("div",{className:"flex items-center gap-2 px-3",children:[o.jsx("span",{className:"text-[10px] font-black text-txt-muted uppercase tracking-tighter",children:"at"}),o.jsx("input",{type:"date",className:"bg-transparent border-none text-xs font-bold text-txt-main focus:ring-0 p-0 w-28 appearance-none outline-none",value:j,onChange:Y=>F(Y.target.value)})]}),o.jsx("button",{className:"bg-indigo-600 hover:bg-indigo-700 text-white px-5 py-2 rounded-lg text-xs font-bold transition-all active:scale-95 shadow-sm ml-1",children:"Atualizar"})]}),o.jsx("button",{onClick:e,className:"p-2 bg-app hover:bg-red-50 text-txt-muted hover:text-red-500 rounded-full transition-colors shrink-0 border border-bdr",title:"Fechar",children:o.jsx(zi,{className:"w-6 h-6"})})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-8 bg-app transition-colors",children:o.jsxs("div",{className:"max-w-[1600px] mx-auto space-y-8",children:[f&&o.jsx("div",{className:"text-xs font-bold text-txt-muted",children:"Carregando dados do resumo..."}),!f&&x&&o.jsxs("div",{className:"text-xs font-bold text-red-500",children:["Erro ao carregar resumo: ",x]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xs font-bold text-txt-muted uppercase tracking-wider mb-4 px-1",children:"Indicadores do Perodo"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsx(Tp,{label:"Vendas Totais",value:Tl(G.totalSales),trend:null,icon:_5,color:"text-emerald-600"}),o.jsx(Tp,{label:"Pedidos Concludos",value:G.concluded,trend:null,icon:gd,color:"text-blue-600"}),o.jsx(Tp,{label:"Novos Clientes",value:G.uniqueClients,trend:null,icon:Bc,color:"text-violet-600"}),o.jsx(Tp,{label:"Entregas Realizadas",value:`${G.deliveryRate}%`,trend:null,icon:Ko,color:"text-orange-500"})]})]}),o.jsxs("div",{className:"bg-surface rounded-xl shadow-sm border border-bdr overflow-hidden transition-colors",children:[o.jsx("div",{className:"border-b border-bdr px-6 pt-4 bg-app/30",children:o.jsx("div",{className:"flex gap-8",children:[{id:"deposito",label:"Por Depsito"},{id:"vendedor",label:"Por Vendedor"},{id:"entregador",label:"Por Entregador"},{id:"logs",label:"Rastreio & Logs"}].map(Y=>o.jsxs("button",{onClick:()=>n(Y.id),className:`pb-4 text-sm font-bold transition-all relative ${t===Y.id?"text-indigo-600":"text-txt-muted hover:text-txt-main"}`,children:[Y.label,t===Y.id&&o.jsx("div",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-indigo-600 rounded-t-full"})]},Y.id))})}),o.jsx("div",{className:"p-6",children:t==="logs"?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("h3",{className:"text-sm font-black text-txt-main uppercase flex items-center gap-2",children:[o.jsx(Qm,{className:"w-4 h-4 text-orange-500"}),"ltimas Atividades do Sistema"]}),o.jsx("div",{className:"border border-bdr rounded-xl overflow-hidden",children:o.jsxs("table",{className:"w-full text-sm text-left",children:[o.jsx("thead",{className:"bg-app text-xs font-bold text-txt-muted uppercase border-b border-bdr",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3",children:"Data / Hora"}),o.jsx("th",{className:"px-6 py-3",children:"O.S #"}),o.jsx("th",{className:"px-6 py-3",children:"Usurio"}),o.jsx("th",{className:"px-6 py-3",children:"Ao"}),o.jsx("th",{className:"px-6 py-3",children:"Detalhes"})]})}),o.jsxs("tbody",{className:"divide-y divide-bdr",children:[ce.map((Y,ge)=>o.jsxs("tr",{className:"hover:bg-app transition-colors",children:[o.jsx("td",{className:"px-6 py-3 font-mono text-xs text-txt-muted",children:new Date(Y.log.data).toLocaleString()}),o.jsx("td",{className:"px-6 py-3 font-bold text-indigo-600",children:Y.osNum}),o.jsx("td",{className:"px-6 py-3 font-medium text-txt-main",children:Y.log.usuario}),o.jsx("td",{className:"px-6 py-3",children:o.jsx("span",{className:`px-2 py-1 rounded text-[10px] font-black uppercase ${Y.log.acao.includes("Edio")?"bg-amber-100 text-amber-700":Y.log.acao.includes("Criao")?"bg-green-100 text-green-700":"bg-blue-100 text-blue-700"}`,children:Y.log.acao})}),o.jsx("td",{className:"px-6 py-3 text-txt-muted italic",children:Y.log.detalhe})]},ge)),ce.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"p-8 text-center text-txt-muted",children:"Nenhum registro recente encontrado."})})]})]})})]}):t==="deposito"?o.jsxs("table",{className:"w-full text-sm text-left",children:[o.jsx("thead",{className:"bg-app text-xs uppercase font-bold text-txt-muted border-b border-bdr",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 rounded-l-lg",children:"Depsito"}),o.jsx("th",{className:"px-4 py-3 text-center",children:"Qtd. O.S"}),o.jsx("th",{className:"px-4 py-3 text-center",children:"Entregas"}),o.jsx("th",{className:"px-4 py-3 text-center",children:"Balco"}),o.jsx("th",{className:"px-4 py-3 text-right",children:"Valor Bruto"}),o.jsx("th",{className:"px-4 py-3 text-right",children:"Descontos"}),o.jsx("th",{className:"px-4 py-3 rounded-r-lg text-right",children:"Valor Lquido"})]})}),o.jsxs("tbody",{className:"divide-y divide-bdr",children:[G.byDeposit.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:7,className:"px-4 py-6 text-center text-txt-muted font-medium",children:"Nenhum dado encontrado para o perodo."})}),G.byDeposit.map(Y=>o.jsxs("tr",{className:"hover:bg-app transition-colors",children:[o.jsx("td",{className:"px-4 py-4 font-bold text-txt-main",children:Y.depositoNome}),o.jsx("td",{className:"px-4 py-4 text-center font-medium text-txt-main",children:Y.count}),o.jsx("td",{className:"px-4 py-4 text-center font-medium text-txt-main",children:Y.deliveries}),o.jsx("td",{className:"px-4 py-4 text-center font-medium text-txt-main",children:Y.pickups}),o.jsx("td",{className:"px-4 py-4 text-right font-medium text-txt-main",children:Tl(Y.gross)}),o.jsx("td",{className:"px-4 py-4 text-right text-red-500 font-bold",children:Y.discounts?`-${Tl(Y.discounts)}`:Tl(0)}),o.jsx("td",{className:"px-4 py-4 font-black text-txt-main text-right",children:Tl(Y.gross-Y.discounts)})]},Y.depositoId))]}),G.byDeposit.length>0&&o.jsx("tfoot",{className:"border-t-2 border-bdr bg-app/50",children:o.jsxs("tr",{className:"font-black text-txt-main",children:[o.jsx("td",{className:"px-4 py-5 text-indigo-600 uppercase text-xs",children:"Total Consolidado"}),o.jsx("td",{className:"px-4 py-5 text-center",children:G.consolidated.count}),o.jsx("td",{className:"px-4 py-5 text-center",children:G.consolidated.deliveries}),o.jsx("td",{className:"px-4 py-5 text-center",children:G.consolidated.pickups}),o.jsx("td",{className:"px-4 py-5 text-right text-txt-muted",children:Tl(G.consolidated.gross)}),o.jsx("td",{className:"px-4 py-5 text-right text-red-600",children:G.consolidated.discounts?`-${Tl(G.consolidated.discounts)}`:Tl(0)}),o.jsx("td",{className:"px-4 py-5 text-indigo-600 text-lg text-right",children:Tl(G.consolidated.gross-G.consolidated.discounts)})]})})]}):t==="vendedor"?o.jsxs("table",{className:"w-full text-sm text-left",children:[o.jsx("thead",{className:"bg-app text-xs uppercase font-bold text-txt-muted border-b border-bdr",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 rounded-l-lg",children:"Vendedor"}),o.jsx("th",{className:"px-4 py-3 text-center",children:"Qtd. O.S"}),o.jsx("th",{className:"px-4 py-3 text-right rounded-r-lg",children:"Valor Bruto"})]})}),o.jsxs("tbody",{className:"divide-y divide-bdr",children:[G.bySeller.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:3,className:"px-4 py-6 text-center text-txt-muted font-medium",children:"Nenhum dado encontrado para o periodo."})}),G.bySeller.map(Y=>o.jsxs("tr",{className:"hover:bg-app transition-colors",children:[o.jsx("td",{className:"px-4 py-4 font-bold text-txt-main",children:Y.name}),o.jsx("td",{className:"px-4 py-4 text-center font-medium text-txt-main",children:Y.count}),o.jsx("td",{className:"px-4 py-4 text-right font-medium text-txt-main",children:Tl(Y.gross)})]},Y.name))]})]}):t==="entregador"?o.jsxs("table",{className:"w-full text-sm text-left",children:[o.jsx("thead",{className:"bg-app text-xs uppercase font-bold text-txt-muted border-b border-bdr",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 rounded-l-lg",children:"Entregador"}),o.jsx("th",{className:"px-4 py-3 text-center",children:"Qtd. O.S"}),o.jsx("th",{className:"px-4 py-3 text-right rounded-r-lg",children:"Valor Bruto"})]})}),o.jsxs("tbody",{className:"divide-y divide-bdr",children:[G.byDriver.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:3,className:"px-4 py-6 text-center text-txt-muted font-medium",children:"Nenhum dado encontrado para o periodo."})}),G.byDriver.map(Y=>o.jsxs("tr",{className:"hover:bg-app transition-colors",children:[o.jsx("td",{className:"px-4 py-4 font-bold text-txt-main",children:Y.name}),o.jsx("td",{className:"px-4 py-4 text-center font-medium text-txt-main",children:Y.count}),o.jsx("td",{className:"px-4 py-4 text-right font-medium text-txt-main",children:Tl(Y.gross)})]},Y.id))]})]}):o.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-txt-muted bg-app/50 rounded-2xl border border-dashed border-bdr",children:[o.jsx("div",{className:"bg-surface p-6 rounded-full mb-4 shadow-sm border border-bdr",children:o.jsx(Lc,{className:"w-10 h-10 text-txt-muted"})}),o.jsx("p",{className:"font-bold text-txt-muted",children:"Nenhum dado encontrado"}),o.jsx("p",{className:"text-xs mt-1",children:"Selecione um filtro ou altere a data para visualizar os detalhes desta aba."})]})})]})]})})]})};function YD({isOpen:e,onClose:t}){const[n,r]=$.useState(""),[i,s]=$.useState(""),[c,d]=$.useState(""),[h,f]=$.useState("FIXA"),[g,x]=$.useState(0),[E,w]=$.useState(!1),[I,j]=$.useState(!1);if(!e)return null;const F=async()=>{if(!n||!i||!c){alert("Preencha os campos obrigatrios.");return}try{j(!0);const S=new Date().toISOString(),z={id:Dr(),description:n,amount:parseFloat(i),due_date:c,status:E?"PAGO":"PENDENTE",paid_date:E?S:null,category:h,is_fixed:h==="FIXA"||h==="SALARIO",deposit_id:null,alert_days_before:Number(g),created_at:S,updated_at:S};await Le.expenses.put(z),await Sr({entity:"expenses",action:"UPSERT",entity_id:z.id,payload_json:z}),alert("Despesa salva com sucesso!"),t()}catch(S){console.error("Erro ao salvar despesa:",S),alert("Erro ao salvar.")}finally{j(!1)}};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg w-full max-w-md text-white",children:[o.jsx("h2",{className:"text-xl font-bold mb-4",children:"Nova Despesa"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-1",children:"Descrio"}),o.jsx("input",{className:"w-full p-2 rounded bg-gray-700 border border-gray-600",value:n,onChange:S=>r(S.target.value),placeholder:"Ex: Conta de Luz"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-1",children:"Valor (R$)"}),o.jsx("input",{type:"number",className:"w-full p-2 rounded bg-gray-700 border border-gray-600",value:i,onChange:S=>s(S.target.value),placeholder:"0.00"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-1",children:"Vencimento"}),o.jsx("input",{type:"date",className:"w-full p-2 rounded bg-gray-700 border border-gray-600",value:c,onChange:S=>d(S.target.value)})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-1",children:"Categoria"}),o.jsxs("select",{className:"w-full p-2 rounded bg-gray-700 border border-gray-600",value:h,onChange:S=>f(S.target.value),children:[o.jsx("option",{value:"FIXA",children:"Despesa Fixa"}),o.jsx("option",{value:"VARIAVEL",children:"Despesa Varivel"}),o.jsx("option",{value:"SALARIO",children:"Salrio / Pessoal"}),o.jsx("option",{value:"IMPOSTO",children:"Imposto"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-1",children:"Alerta Vencimento"}),o.jsxs("select",{className:"w-full p-2 rounded bg-gray-700 border border-gray-600",value:g,onChange:S=>x(Number(S.target.value)),children:[o.jsx("option",{value:0,children:"Sem alerta"}),o.jsx("option",{value:1,children:"1 dia antes"}),o.jsx("option",{value:2,children:"2 dias antes"}),o.jsx("option",{value:3,children:"3 dias antes"})]})]})]}),o.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[o.jsx("input",{type:"checkbox",id:"paidCheck",checked:E,onChange:S=>w(S.target.checked),className:"w-4 h-4"}),o.jsx("label",{htmlFor:"paidCheck",className:"text-sm cursor-pointer select-none",children:"J est pago? (Baixa automtica)"})]})]}),o.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[o.jsx("button",{onClick:t,className:"px-4 py-2 rounded bg-gray-600 hover:bg-gray-500",children:"Cancelar"}),o.jsx("button",{onClick:F,disabled:I,className:"px-4 py-2 rounded bg-orange-500 hover:bg-orange-600 disabled:opacity-50",children:I?"Salvando...":"Salvar Despesa"})]})]})})}function XD({isOpen:e,onClose:t}){const[n,r]=$.useState(""),[i,s]=$.useState(""),[c,d]=$.useState(""),[h,f]=$.useState(""),[g,x]=$.useState(!1),[E,w]=$.useState(1),[I,j]=$.useState([]),[F,S]=$.useState(!1);if($.useEffect(()=>{e&&Le.clients.toArray().then(D=>j(D))},[e]),!e)return null;const z=async()=>{var D;if(!n||!i||!c){alert("Preencha descrio, valor e vencimento.");return}try{S(!0);const G=parseFloat(i);if(Number.isNaN(G)||G<=0){alert("Informe um valor vlido.");return}const ce=new Date(`${c}T00:00:00`).getTime();if(!Number.isFinite(ce)){alert("Data de vencimento invlida.");return}await Ub({os_id:null,payment_method_id:null,deposit_id:null,devedor_nome:h?((D=I.find(Y=>Y.id===h))==null?void 0:D.nome)||"Cliente":n,valor_total:G,status:"ABERTO",criado_em:Date.now(),vencimento_em:ce,description:n,client_id:h||null,is_personal:g,alert_days_before:E,installment_no:1,installments_total:1}),alert("Conta a receber criada com sucesso!"),t(),r(""),s(""),d(""),f(""),x(!1),w(1)}catch(G){console.error(G),alert("Erro ao salvar.")}finally{S(!1)}};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg w-full max-w-md text-white",children:[o.jsx("h2",{className:"text-xl font-bold mb-4 text-green-400",children:"Nova Conta a Receber"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-1",children:"Descrio"}),o.jsx("input",{className:"w-full p-2 rounded bg-gray-700 border border-gray-600",value:n,onChange:D=>r(D.target.value),placeholder:"Ex: Emprstimo, Venda sem nota..."})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-1",children:"Valor (R$)"}),o.jsx("input",{type:"number",className:"w-full p-2 rounded bg-gray-700 border border-gray-600",value:i,onChange:D=>s(D.target.value),placeholder:"0.00"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-1",children:"Vencimento"}),o.jsx("input",{type:"date",className:"w-full p-2 rounded bg-gray-700 border border-gray-600",value:c,onChange:D=>d(D.target.value)})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-1",children:"Cliente (Opcional)"}),o.jsxs("select",{className:"w-full p-2 rounded bg-gray-700 border border-gray-600",value:h,onChange:D=>f(D.target.value),children:[o.jsx("option",{value:"",children:"Selecione um cliente..."}),I.map(D=>o.jsx("option",{value:D.id,children:D.nome},D.id))]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[o.jsx("input",{type:"checkbox",className:"w-4 h-4",checked:g,onChange:D=>x(D.target.checked)}),"Marcar como conta pessoal"]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-1",children:"Alertar antes"}),o.jsxs("select",{className:"w-full p-2 rounded bg-gray-700 border border-gray-600",value:E,onChange:D=>w(Number(D.target.value)),children:[o.jsx("option",{value:0,children:"Sem alerta"}),o.jsx("option",{value:1,children:"1 dia"}),o.jsx("option",{value:2,children:"2 dias"}),o.jsx("option",{value:3,children:"3 dias"}),o.jsx("option",{value:5,children:"5 dias"})]})]})]})]}),o.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[o.jsx("button",{onClick:t,className:"px-4 py-2 rounded bg-gray-600 hover:bg-gray-500",children:"Cancelar"}),o.jsx("button",{onClick:z,disabled:F,className:"px-4 py-2 rounded bg-green-600 hover:bg-green-700 disabled:opacity-50",children:F?"Salvando...":"Criar Conta"})]})]})})}const oB=2e4,Ev="00000000-0000-0000-0000-000000000001";function JD({isOpen:e,onClose:t,defaultGoal:n}){const[r,i]=$.useState(""),[s,c]=$.useState(""),[d,h]=$.useState(!1);if($.useEffect(()=>{if(!e)return;(async()=>{const x=Le.financial_settings,I=await x.get(Ev)??await x.toCollection().first()??null,j=(I==null?void 0:I.id)??Ev;c(j),(I==null?void 0:I.monthly_goal)!=null?i(String(I.monthly_goal)):n!=null?i(String(n)):i(String(oB))})()},[e,n]),!e)return null;const f=async()=>{const g=Number(r);if(Number.isNaN(g)||g<0){alert("Informe um valor vlido para a meta mensal.");return}try{h(!0);const x=Ev,E={id:x,monthly_goal:g,updated_at:new Date().toISOString()};await Le.financial_settings.put(E),await Sr({entity:"financial_settings",action:"UPSERT",entity_id:x,payload_json:E}),t()}catch(x){console.error("Erro ao salvar meta mensal",x),alert("No foi possvel salvar a meta.")}finally{h(!1)}};return o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:o.jsxs("div",{className:"w-full max-w-md rounded-xl bg-surface border border-bdr shadow-2xl p-6 space-y-6 animate-in zoom-in-95 duration-200",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-black uppercase tracking-widest text-txt-muted",children:"Configurao"}),o.jsx("h2",{className:"text-xl font-black text-txt-main",children:"Meta Mensal de Faturamento"})]}),o.jsx("button",{onClick:t,className:"text-txt-muted hover:text-txt-main transition-colors","aria-label":"Fechar",children:""})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-bold text-txt-muted uppercase tracking-wide",children:"Valor da Meta (R$)"}),o.jsxs("div",{className:"relative",children:[o.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-txt-muted font-bold",children:"R$"}),o.jsx("input",{type:"number",min:"0",step:"100",className:"w-full bg-app border border-bdr rounded-xl p-3 pl-10 text-lg font-black text-txt-main focus:ring-2 focus:ring-yellow-500 outline-none",value:r,onChange:g=>i(g.target.value),placeholder:String(oB)})]}),o.jsx("p",{className:"text-[11px] text-txt-muted font-medium",children:'Defina o alvo mensal que aparecer no carto de "Meta Mensal" e ser sincronizado com o servidor.'})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[o.jsx("button",{onClick:t,className:"px-4 py-2 rounded-lg border border-bdr text-txt-muted hover:text-txt-main hover:border-txt-main/40 transition-colors",type:"button",children:"Cancelar"}),o.jsx("button",{onClick:f,disabled:d,className:"px-5 py-2 rounded-lg bg-yellow-500 hover:bg-yellow-600 text-white font-black uppercase tracking-wide shadow-lg shadow-yellow-500/20 disabled:opacity-60",type:"button",children:d?"Salvando...":"Salvar"})]})]})})}function ag(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function WD(e,t,n,r){function i(s){return s instanceof n?s:new n(function(c){c(s)})}return new(n||(n=Promise))(function(s,c){function d(g){try{f(r.next(g))}catch(x){c(x)}}function h(g){try{f(r.throw(g))}catch(x){c(x)}}function f(g){g.done?s(g.value):i(g.value).then(d,h)}f((r=r.apply(e,t||[])).next())})}const eM=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Tb extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class tM extends Tb{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class lB extends Tb{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class AB extends Tb{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Hx;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Hx||(Hx={}));class nM{constructor(t,{headers:n={},customFetch:r,region:i=Hx.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=eM(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return WD(this,arguments,void 0,function*(n,r={}){var i;let s,c;try{const{headers:d,method:h,body:f,signal:g,timeout:x}=r;let E={},{region:w}=r;w||(w=this.region);const I=new URL(`${this.url}/${n}`);w&&w!=="any"&&(E["x-region"]=w,I.searchParams.set("forceFunctionRegion",w));let j;f&&(d&&!Object.prototype.hasOwnProperty.call(d,"Content-Type")||!d)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(E["Content-Type"]="application/octet-stream",j=f):typeof f=="string"?(E["Content-Type"]="text/plain",j=f):typeof FormData<"u"&&f instanceof FormData?j=f:(E["Content-Type"]="application/json",j=JSON.stringify(f)):j=f;let F=g;x&&(c=new AbortController,s=setTimeout(()=>c.abort(),x),g?(F=c.signal,g.addEventListener("abort",()=>c.abort())):F=c.signal);const S=yield this.fetch(I.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},E),this.headers),d),body:j,signal:F}).catch(ce=>{throw new tM(ce)}),z=S.headers.get("x-relay-error");if(z&&z==="true")throw new lB(S);if(!S.ok)throw new AB(S);let D=((i=S.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),G;return D==="application/json"?G=yield S.json():D==="application/octet-stream"||D==="application/pdf"?G=yield S.blob():D==="text/event-stream"?G=S:D==="multipart/form-data"?G=yield S.formData():G=yield S.text(),{data:G,error:null,response:S}}catch(d){return{data:null,error:d,response:d instanceof AB||d instanceof lB?d.context:void 0}}finally{s&&clearTimeout(s)}})}}var rM=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},iM=class{constructor(e){var t,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{let c=null,d=null,h=null,f=s.status,g=s.statusText;if(s.ok){var x,E;if(n.method!=="HEAD"){var w;const S=await s.text();S===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((w=n.headers.get("Accept"))===null||w===void 0)&&w.includes("application/vnd.pgrst.plan+text"))?d=S:d=JSON.parse(S))}const j=(x=n.headers.get("Prefer"))===null||x===void 0?void 0:x.match(/count=(exact|planned|estimated)/),F=(E=s.headers.get("content-range"))===null||E===void 0?void 0:E.split("/");j&&F&&F.length>1&&(h=parseInt(F[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,g="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{var I;const j=await s.text();try{c=JSON.parse(j),Array.isArray(c)&&s.status===404&&(d=[],c=null,f=200,g="OK")}catch{s.status===404&&j===""?(f=204,g="No Content"):c={message:j}}if(c&&n.isMaybeSingle&&(!(c==null||(I=c.details)===null||I===void 0)&&I.includes("0 rows"))&&(c=null,f=200,g="OK"),c&&n.shouldThrowOnError)throw new rM(c)}return{error:c,data:d,count:h,status:f,statusText:g}});return this.shouldThrowOnError||(i=i.catch(s=>{var c;let d="";const h=s==null?void 0:s.cause;if(h){var f,g,x,E;const I=(f=h==null?void 0:h.message)!==null&&f!==void 0?f:"",j=(g=h==null?void 0:h.code)!==null&&g!==void 0?g:"";d=`${(x=s==null?void 0:s.name)!==null&&x!==void 0?x:"FetchError"}: ${s==null?void 0:s.message}`,d+=`

Caused by: ${(E=h==null?void 0:h.name)!==null&&E!==void 0?E:"Error"}: ${I}`,j&&(d+=` (${j})`),h!=null&&h.stack&&(d+=`
${h.stack}`)}else{var w;d=(w=s==null?void 0:s.stack)!==null&&w!==void 0?w:""}return{error:{message:`${(c=s==null?void 0:s.name)!==null&&c!==void 0?c:"FetchError"}: ${s==null?void 0:s.message}`,details:d,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(e,t)}returns(){return this}overrideTypes(){return this}},aM=class extends iM{select(e){let t=!1;const n=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){const s=i?`${i}.order`:"order",c=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${c?`${c},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"offset":`${r}.offset`,s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(s,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:s="text"}={}){var c;const d=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),h=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${h}"; options=${d};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const cB=new RegExp("[,()]");var td=class extends aM{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&cB.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&cB.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const s=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${s}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},sM=class{constructor(e,{headers:t={},schema:n,fetch:r}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r}select(e,t){const{head:n=!1,count:r}=t??{},i=n?"HEAD":"GET";let s=!1;const c=(e??"*").split("").map(d=>/\s/.test(d)&&!s?"":(d==='"'&&(s=!s),d)).join("");return this.url.searchParams.set("select",c),r&&this.headers.append("Prefer",`count=${r}`),new td({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:n=!0}={}){var r;const i="POST";if(t&&this.headers.append("Prefer",`count=${t}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const s=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(s.length>0){const c=[...new Set(s)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new td({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}={}){var s;const c="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),r&&this.headers.append("Prefer",`count=${r}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const d=e.reduce((h,f)=>h.concat(Object.keys(f)),[]);if(d.length>0){const h=[...new Set(d)].map(f=>`"${f}"`);this.url.searchParams.set("columns",h.join(","))}}return new td({method:c,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(e,{count:t}={}){var n;const r="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new td({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var t;const n="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new td({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},oM=class WN{constructor(t,{headers:n={},schema:r,fetch:i}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=i}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new sM(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new WN(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:i=!1,count:s}={}){var c;let d;const h=new URL(`${this.url}/rpc/${t}`);let f;r||i?(d=r?"HEAD":"GET",Object.entries(n).filter(([x,E])=>E!==void 0).map(([x,E])=>[x,Array.isArray(E)?`{${E.join(",")}}`:`${E}`]).forEach(([x,E])=>{h.searchParams.append(x,E)})):(d="POST",f=n);const g=new Headers(this.headers);return s&&g.set("Prefer",`count=${s}`),new td({method:d,url:h,headers:g,schema:this.schemaName,body:f,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}};class lM{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const AM="2.89.0",cM=`realtime-js/${AM}`,eE="1.0.0",uM="2.0.0",uB=eE,zx=1e4,dM=1e3,hM=100;var vc;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(vc||(vc={}));var Ss;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ss||(Ss={}));var Dl;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Dl||(Dl={}));var qx;(function(e){e.websocket="websocket"})(qx||(qx={}));var Zc;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Zc||(Zc={}));class fM{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},c=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(t,n,r){var i,s;const c=t.topic,d=(i=t.ref)!==null&&i!==void 0?i:"",h=(s=t.join_ref)!==null&&s!==void 0?s:"",f=t.payload.event,g=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},x=Object.keys(g).length===0?"":JSON.stringify(g);if(h.length>255)throw new Error(`joinRef length ${h.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`ref length ${d.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`userEvent length ${f.length} exceeds maximum of 255`);if(x.length>255)throw new Error(`metadata length ${x.length} exceeds maximum of 255`);const E=this.USER_BROADCAST_PUSH_META_LENGTH+h.length+d.length+c.length+f.length+x.length,w=new ArrayBuffer(this.HEADER_LENGTH+E);let I=new DataView(w),j=0;I.setUint8(j++,this.KINDS.userBroadcastPush),I.setUint8(j++,h.length),I.setUint8(j++,d.length),I.setUint8(j++,c.length),I.setUint8(j++,f.length),I.setUint8(j++,x.length),I.setUint8(j++,n),Array.from(h,S=>I.setUint8(j++,S.charCodeAt(0))),Array.from(d,S=>I.setUint8(j++,S.charCodeAt(0))),Array.from(c,S=>I.setUint8(j++,S.charCodeAt(0))),Array.from(f,S=>I.setUint8(j++,S.charCodeAt(0))),Array.from(x,S=>I.setUint8(j++,S.charCodeAt(0)));var F=new Uint8Array(w.byteLength+r.byteLength);return F.set(new Uint8Array(w),0),F.set(new Uint8Array(r),w.byteLength),F.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[i,s,c,d,h]=r;return n({join_ref:i,ref:s,topic:c,event:d,payload:h})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,i)}}_decodeUserBroadcast(t,n,r){const i=n.getUint8(1),s=n.getUint8(2),c=n.getUint8(3),d=n.getUint8(4);let h=this.HEADER_LENGTH+4;const f=r.decode(t.slice(h,h+i));h=h+i;const g=r.decode(t.slice(h,h+s));h=h+s;const x=r.decode(t.slice(h,h+c));h=h+c;const E=t.slice(h,t.byteLength),w=d===this.JSON_ENCODING?JSON.parse(r.decode(E)):E,I={type:this.BROADCAST_EVENT,event:g,payload:w};return c>0&&(I.meta=JSON.parse(x)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST_EVENT,payload:I}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class tE{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ta;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ta||(ta={}));const dB=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((s,c)=>(s[c]=pM(c,e,t,i),s),{}):{}},pM=(e,t,n,r)=>{const i=t.find(d=>d.name===e),s=i==null?void 0:i.type,c=n[e];return s&&!r.includes(s)?nE(s,c):Kx(c)},nE=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return xM(t,n)}switch(e){case ta.bool:return mM(t);case ta.float4:case ta.float8:case ta.int2:case ta.int4:case ta.int8:case ta.numeric:case ta.oid:return gM(t);case ta.json:case ta.jsonb:return vM(t);case ta.timestamp:return bM(t);case ta.abstime:case ta.date:case ta.daterange:case ta.int4range:case ta.int8range:case ta.money:case ta.reltime:case ta.text:case ta.time:case ta.timestamptz:case ta.timetz:case ta.tsrange:case ta.tstzrange:return Kx(t);default:return Kx(t)}},Kx=e=>e,mM=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},gM=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},vM=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},xM=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let s;const c=e.slice(1,n);try{s=JSON.parse("["+c+"]")}catch{s=c?c.split(","):[]}return s.map(d=>nE(t,d))}return e},bM=e=>typeof e=="string"?e.replace(" ","T"):e,rE=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Sv{constructor(t,n,r={},i=zx){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var hB;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(hB||(hB={}));class Uh{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:c,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Uh.syncState(this.state,i,s,c),this.pendingDiffs.forEach(h=>{this.state=Uh.syncDiff(this.state,h,s,c)}),this.pendingDiffs=[],d()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:c,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Uh.syncDiff(this.state,i,s,c),d())}),this.onJoin((i,s,c)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:c})}),this.onLeave((i,s,c)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const s=this.cloneDeep(t),c=this.transformState(n),d={},h={};return this.map(s,(f,g)=>{c[f]||(h[f]=g)}),this.map(c,(f,g)=>{const x=s[f];if(x){const E=g.map(F=>F.presence_ref),w=x.map(F=>F.presence_ref),I=g.filter(F=>w.indexOf(F.presence_ref)<0),j=x.filter(F=>E.indexOf(F.presence_ref)<0);I.length>0&&(d[f]=I),j.length>0&&(h[f]=j)}else d[f]=g}),this.syncDiff(s,{joins:d,leaves:h},r,i)}static syncDiff(t,n,r,i){const{joins:s,leaves:c}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(d,h)=>{var f;const g=(f=t[d])!==null&&f!==void 0?f:[];if(t[d]=this.cloneDeep(h),g.length>0){const x=t[d].map(w=>w.presence_ref),E=g.filter(w=>x.indexOf(w.presence_ref)<0);t[d].unshift(...E)}r(d,g,h)}),this.map(c,(d,h)=>{let f=t[d];if(!f)return;const g=h.map(x=>x.presence_ref);f=f.filter(x=>g.indexOf(x.presence_ref)<0),t[d]=f,i(d,f,h),f.length===0&&delete t[d]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var fB;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(fB||(fB={}));var Ih;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Ih||(Ih={}));var DA;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(DA||(DA={}));class sd{constructor(t,n={config:{}},r){var i,s;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Ss.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Sv(this,Dl.join,this.params,this.timeout),this.rejoinTimer=new tE(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ss.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ss.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Ss.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ss.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Ss.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Dl.reply,{},(c,d)=>{this._trigger(this._replyEventName(d),c)}),this.presence=new Uh(this),this.broadcastEndpointURL=rE(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Ss.closed){const{config:{broadcast:c,presence:d,private:h}}=this.params,f=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(w=>w.filter))!==null&&i!==void 0?i:[],g=!!this.bindings[Ih.PRESENCE]&&this.bindings[Ih.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,x={},E={broadcast:c,presence:Object.assign(Object.assign({},d),{enabled:g}),postgres_changes:f,private:h};this.socket.accessTokenValue&&(x.access_token=this.socket.accessTokenValue),this._onError(w=>t==null?void 0:t(DA.CHANNEL_ERROR,w)),this._onClose(()=>t==null?void 0:t(DA.CLOSED)),this.updateJoinPayload(Object.assign({config:E},x)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:w})=>{var I;if(this.socket._isManualToken()||this.socket.setAuth(),w===void 0){t==null||t(DA.SUBSCRIBED);return}else{const j=this.bindings.postgres_changes,F=(I=j==null?void 0:j.length)!==null&&I!==void 0?I:0,S=[];for(let z=0;z<F;z++){const D=j[z],{filter:{event:G,schema:ce,table:Y,filter:ge}}=D,re=w&&w[z];if(re&&re.event===G&&sd.isFilterValueEqual(re.schema,ce)&&sd.isFilterValueEqual(re.table,Y)&&sd.isFilterValueEqual(re.filter,ge))S.push(Object.assign(Object.assign({},D),{id:re.id}));else{this.unsubscribe(),this.state=Ss.errored,t==null||t(DA.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=S,t&&t(DA.SUBSCRIBED);return}}).receive("error",w=>{this.state=Ss.errored,t==null||t(DA.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(DA.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Ss.joined&&t===Ih.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var i;if(n==null)return Promise.reject("Payload is required for httpSend()");const s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(d.status===202)return{success:!0};let h=d.statusText;try{const f=await d.json();h=f.error||f.message||h}catch{}return Promise.reject(new Error(h))}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:c}=t,d={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(d.Authorization=`Bearer ${this.socket.accessTokenValue}`);const h={method:"POST",headers:d,body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:c,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=f.body)===null||i===void 0?void 0:i.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var c,d,h;const f=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((h=(d=(c=this.params)===null||c===void 0?void 0:c.config)===null||d===void 0?void 0:d.broadcast)===null||h===void 0)&&h.ack)&&s("ok"),f.receive("ok",()=>s("ok")),f.receive("error",()=>s("error")),f.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ss.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Dl.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Sv(this,Dl.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ss.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),c=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),c}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Sv(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>hM){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,s;const c=t.toLocaleLowerCase(),{close:d,error:h,leave:f,join:g}=Dl;if(r&&[d,h,f,g].indexOf(c)>=0&&r!==this._joinRef())return;let E=this._onMessage(c,n,r);if(n&&!E)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(w=>{var I,j,F;return((I=w.filter)===null||I===void 0?void 0:I.event)==="*"||((F=(j=w.filter)===null||j===void 0?void 0:j.event)===null||F===void 0?void 0:F.toLocaleLowerCase())===c}).map(w=>w.callback(E,r)):(s=this.bindings[c])===null||s===void 0||s.filter(w=>{var I,j,F,S,z,D;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in w){const G=w.id,ce=(I=w.filter)===null||I===void 0?void 0:I.event;return G&&((j=n.ids)===null||j===void 0?void 0:j.includes(G))&&(ce==="*"||(ce==null?void 0:ce.toLocaleLowerCase())===((F=n.data)===null||F===void 0?void 0:F.type.toLocaleLowerCase()))}else{const G=(z=(S=w==null?void 0:w.filter)===null||S===void 0?void 0:S.event)===null||z===void 0?void 0:z.toLocaleLowerCase();return G==="*"||G===((D=n==null?void 0:n.event)===null||D===void 0?void 0:D.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===c}).map(w=>{if(typeof E=="object"&&"ids"in E){const I=E.data,{schema:j,table:F,commit_timestamp:S,type:z,errors:D}=I;E=Object.assign(Object.assign({},{schema:j,table:F,commit_timestamp:S,eventType:z,new:{},old:{},errors:D}),this._getPayloadRecords(I))}w.callback(E,r)})}_isClosed(){return this.state===Ss.closed}_isJoined(){return this.state===Ss.joined}_isJoining(){return this.state===Ss.joining}_isLeaving(){return this.state===Ss.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&sd.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Dl.close,{},t)}_onError(t){this._on(Dl.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ss.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=dB(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=dB(t.columns,t.old_record)),n}}const Lv=()=>{},Fp={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},yM=[1e3,2e3,5e3,1e4],_M=1e4,wM=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class BM{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=zx,this.transport=null,this.heartbeatIntervalMs=Fp.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Lv,this.ref=0,this.reconnectTimer=null,this.vsn=uB,this.logger=Lv,this.conn=null,this.sendBuffer=[],this.serializer=new fM,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${qx.websocket}`,this.httpEndpoint=rE(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=lM.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case vc.connecting:return Zc.Connecting;case vc.open:return Zc.Open;case vc.closing:return Zc.Closing;default:return Zc.Closed}}isConnected(){return this.connectionState()===Zc.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===r);if(i)return i;{const s=new sd(`realtime:${t}`,n,this);return this.channels.push(s),s}}push(t){const{topic:n,event:r,payload:i,ref:s}=t,c=()=>{this.encode(t,d=>{var h;(h=this.conn)===null||h===void 0||h.send(d)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(dM,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Fp.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:s,ref:c}=n,d=c?`(${c})`:"",h=s.status||"";this.log("receive",`${h} ${r} ${i} ${d}`.trim(),s),this.channels.filter(f=>f._isMember(r)).forEach(f=>f._trigger(i,s,c)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===vc.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===vc.open||this.conn.readyState===vc.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Dl.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([wM],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const s={access_token:n,version:cM};n&&i.updateJoinPayload(s),i.joinedOnce&&i._isJoined()&&i._push(Dl.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new tE(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Fp.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,s,c,d,h,f,g,x,E,w;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:zx,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:Fp.HEARTBEAT_INTERVAL,this.worker=(s=t==null?void 0:t.worker)!==null&&s!==void 0?s:!1,this.accessToken=(c=t==null?void 0:t.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(d=t==null?void 0:t.heartbeatCallback)!==null&&d!==void 0?d:Lv,this.vsn=(h=t==null?void 0:t.vsn)!==null&&h!==void 0?h:uB,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=t==null?void 0:t.reconnectAfterMs)!==null&&f!==void 0?f:(I=>yM[I-1]||_M),this.vsn){case eE:this.encode=(g=t==null?void 0:t.encode)!==null&&g!==void 0?g:((I,j)=>j(JSON.stringify(I))),this.decode=(x=t==null?void 0:t.decode)!==null&&x!==void 0?x:((I,j)=>j(JSON.parse(I)));break;case uM:this.encode=(E=t==null?void 0:t.encode)!==null&&E!==void 0?E:this.serializer.encode.bind(this.serializer),this.decode=(w=t==null?void 0:t.decode)!==null&&w!==void 0?w:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Vh=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((n=t.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function CM(e,t,n){const r=new URL(t,e);if(n)for(const[i,s]of Object.entries(n))s!==void 0&&r.searchParams.set(i,s);return r.toString()}async function NM(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function EM(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:s,headers:c}){const d=CM(e.baseUrl,r,i),h=await NM(e.auth),f=await t(d,{method:n,headers:{...s?{"Content-Type":"application/json"}:{},...h,...c},body:s?JSON.stringify(s):void 0}),g=await f.text(),x=(f.headers.get("content-type")||"").includes("application/json"),E=x&&g?JSON.parse(g):g;if(!f.ok){const w=x?E:void 0,I=w==null?void 0:w.error;throw new Vh((I==null?void 0:I.message)??`Request failed with status ${f.status}`,{status:f.status,icebergType:I==null?void 0:I.type,icebergCode:I==null?void 0:I.code,details:w})}return{status:f.status,headers:f.headers,data:E}}}}function Op(e){return e.join("")}var SM=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Op(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Op(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Op(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Op(e.namespace)}`}),!0}catch(t){if(t instanceof Vh&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof Vh&&n.status===409)return;throw n}}};function zu(e){return e.join("")}var LM=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${zu(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${zu(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${zu(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${zu(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${zu(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${zu(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof Vh&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof Vh&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},jM=class{constructor(e){var r;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=EM({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(r=e.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new SM(this.client,t),this.tableOps=new LM(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},sg=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function Ea(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var kM=class extends sg{constructor(e,t,n){super(e),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Gx=class extends sg{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const Fb=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),UM=()=>Response,Vx=e=>{if(Array.isArray(e))return e.map(n=>Vx(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=Vx(r)}),t},IM=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},TM=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Zh(e){"@babel/helpers - typeof";return Zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zh(e)}function FM(e,t){if(Zh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Zh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function OM(e){var t=FM(e,"string");return Zh(t)=="symbol"?t:t+""}function QM(e,t,n){return(t=OM(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pB(Object(n),!0).forEach(function(r){QM(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const jv=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},DM=async(e,t,n)=>{e instanceof await UM()&&!(n!=null&&n.noResolveJson)?e.json().then(r=>{const i=e.status||500,s=(r==null?void 0:r.statusCode)||i+"";t(new kM(jv(r),i,s))}).catch(r=>{t(new Gx(jv(r),r))}):t(new Gx(jv(e),e))},MM=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?i:(IM(r)?(i.headers=lr({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,t!=null&&t.duplex&&(i.duplex=t.duplex),lr(lr({},i),n))};async function cf(e,t,n,r,i,s){return new Promise((c,d)=>{e(n,MM(t,r,i,s)).then(h=>{if(!h.ok)throw h;return r!=null&&r.noResolveJson?h:h.json()}).then(h=>c(h)).catch(h=>DM(h,d,r))})}async function $h(e,t,n,r){return cf(e,"GET",t,n,r)}async function Ql(e,t,n,r,i){return cf(e,"POST",t,r,i,n)}async function Zx(e,t,n,r,i){return cf(e,"PUT",t,r,i,n)}async function RM(e,t,n,r){return cf(e,"HEAD",t,lr(lr({},n),{},{noResolveJson:!0}),r)}async function Ob(e,t,n,r,i){return cf(e,"DELETE",t,r,i,n)}var PM=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ea(t))return{data:null,error:t};throw t}}};let iE;iE=Symbol.toStringTag;var HM=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[iE]="BlobDownloadBuilder",this.promise=null}asStream(){return new PM(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ea(t))return{data:null,error:t};throw t}}};const zM={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},mB={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var qM=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=n,this.fetch=Fb(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,n,r){var i=this;try{let s;const c=lr(lr({},mB),r);let d=lr(lr({},i.headers),e==="POST"&&{"x-upsert":String(c.upsert)});const h=c.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",c.cacheControl),h&&s.append("metadata",i.encodeMetadata(h)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.has("cacheControl")||s.append("cacheControl",c.cacheControl),h&&!s.has("metadata")&&s.append("metadata",i.encodeMetadata(h))):(s=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType,h&&(d["x-metadata"]=i.toBase64(i.encodeMetadata(h))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!c.duplex&&(c.duplex="half")),r!=null&&r.headers&&(d=lr(lr({},d),r.headers));const f=i._removeEmptyFolders(t),g=i._getFinalPath(f),x=await(e=="PUT"?Zx:Ql)(i.fetch,`${i.url}/object/${g}`,s,lr({headers:d},c!=null&&c.duplex?{duplex:c.duplex}:{}));return{data:{path:f,id:x.Id,fullPath:x.Key},error:null}}catch(s){if(i.shouldThrowOnError)throw s;if(Ea(s))return{data:null,error:s};throw s}}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var i=this;const s=i._removeEmptyFolders(e),c=i._getFinalPath(s),d=new URL(i.url+`/object/upload/sign/${c}`);d.searchParams.set("token",t);try{let h;const f=lr({upsert:mB.upsert},r),g=lr(lr({},i.headers),{"x-upsert":String(f.upsert)});return typeof Blob<"u"&&n instanceof Blob?(h=new FormData,h.append("cacheControl",f.cacheControl),h.append("",n)):typeof FormData<"u"&&n instanceof FormData?(h=n,h.append("cacheControl",f.cacheControl)):(h=n,g["cache-control"]=`max-age=${f.cacheControl}`,g["content-type"]=f.contentType),{data:{path:s,fullPath:(await Zx(i.fetch,d.toString(),h,{headers:g})).Key},error:null}}catch(h){if(i.shouldThrowOnError)throw h;if(Ea(h))return{data:null,error:h};throw h}}async createSignedUploadUrl(e,t){var n=this;try{let r=n._getFinalPath(e);const i=lr({},n.headers);t!=null&&t.upsert&&(i["x-upsert"]="true");const s=await Ql(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:i}),c=new URL(n.url+s.url),d=c.searchParams.get("token");if(!d)throw new sg("No token returned by API");return{data:{signedUrl:c.toString(),path:e,token:d},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ea(r))return{data:null,error:r};throw r}}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;try{return{data:await Ql(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Ea(i))return{data:null,error:i};throw i}}async copy(e,t,n){var r=this;try{return{data:{path:(await Ql(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key},error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Ea(i))return{data:null,error:i};throw i}}async createSignedUrl(e,t,n){var r=this;try{let i=r._getFinalPath(e),s=await Ql(r.fetch,`${r.url}/object/sign/${i}`,lr({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const c=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${r.url}${s.signedURL}${c}`)},{data:s,error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Ea(i))return{data:null,error:i};throw i}}async createSignedUrls(e,t,n){var r=this;try{const i=await Ql(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(c=>lr(lr({},c),{},{signedUrl:c.signedURL?encodeURI(`${r.url}${c.signedURL}${s}`):null})),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Ea(i))return{data:null,error:i};throw i}}download(e,t){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),i=r?`?${r}`:"",s=this._getFinalPath(e),c=()=>$h(this.fetch,`${this.url}/${n}/${s}${i}`,{headers:this.headers,noResolveJson:!0});return new HM(c,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);try{return{data:Vx(await $h(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ea(r))return{data:null,error:r};throw r}}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await RM(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ea(r)&&r instanceof Gx){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],i=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&r.push(i);const s=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});c!==""&&r.push(c);let d=r.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${n}${d}`)}}}async remove(e){var t=this;try{return{data:await Ob(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ea(n))return{data:null,error:n};throw n}}async list(e,t,n){var r=this;try{const i=lr(lr(lr({},zM),t),{},{prefix:e||""});return{data:await Ql(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},n),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Ea(i))return{data:null,error:i};throw i}}async listV2(e,t){var n=this;try{const r=lr({},e);return{data:await Ql(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ea(r))return{data:null,error:r};throw r}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const aE="2.89.0",sE={"X-Client-Info":`storage-js/${aE}`};var KM=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1;const i=new URL(e);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=lr(lr({},sE),t),this.fetch=Fb(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const n=t.listBucketOptionsToQueryString(e);return{data:await $h(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ea(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await $h(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ea(n))return{data:null,error:n};throw n}}async createBucket(e,t={public:!1}){var n=this;try{return{data:await Ql(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ea(r))return{data:null,error:r};throw r}}async updateBucket(e,t){var n=this;try{return{data:await Zx(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ea(r))return{data:null,error:r};throw r}}async emptyBucket(e){var t=this;try{return{data:await Ql(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ea(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await Ob(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ea(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},GM=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=lr(lr({},sE),t),this.fetch=Fb(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Ql(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ea(n))return{data:null,error:n};throw n}}async listBuckets(e){var t=this;try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),i=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return{data:await $h(t.fetch,i,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ea(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await Ob(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ea(n))return{data:null,error:n};throw n}}from(e){var t=this;if(!TM(e))throw new sg("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new jM({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(i,s){const c=i[s];return typeof c!="function"?c:async(...d)=>{try{return{data:await c.apply(i,d),error:null}}catch(h){if(r)throw h;return{data:null,error:h}}}}})}};const Qb={"X-Client-Info":`storage-js/${aE}`,"Content-Type":"application/json"};var oE=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function al(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var kv=class extends oE{constructor(e,t,n){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},VM=class extends oE{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const Db=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),ZM=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},gB=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),$M=async(e,t,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const r=e.status||500,i=e;if(typeof i.json=="function")i.json().then(s=>{const c=(s==null?void 0:s.statusCode)||(s==null?void 0:s.code)||r+"";t(new kv(gB(s),r,c))}).catch(()=>{const s=r+"";t(new kv(i.statusText||`HTTP ${r} error`,r,s))});else{const s=r+"";t(new kv(i.statusText||`HTTP ${r} error`,r,s))}}else t(new VM(gB(e),e))},YM=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return r?(ZM(r)?(i.headers=lr({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,lr(lr({},i),n)):i};async function XM(e,t,n,r,i,s){return new Promise((c,d)=>{e(n,YM(t,r,i,s)).then(h=>{if(!h.ok)throw h;if(r!=null&&r.noResolveJson)return h;const f=h.headers.get("content-type");return!f||!f.includes("application/json")?{}:h.json()}).then(h=>c(h)).catch(h=>$M(h,d,r))})}async function sl(e,t,n,r,i){return XM(e,"POST",t,r,i,n)}var JM=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=lr(lr({},Qb),t),this.fetch=Db(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await sl(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(al(n))return{data:null,error:n};throw n}}async getIndex(e,t){var n=this;try{return{data:await sl(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(al(r))return{data:null,error:r};throw r}}async listIndexes(e){var t=this;try{return{data:await sl(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(al(n))return{data:null,error:n};throw n}}async deleteIndex(e,t){var n=this;try{return{data:await sl(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(al(r))return{data:null,error:r};throw r}}},WM=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=lr(lr({},Qb),t),this.fetch=Db(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await sl(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(al(n))return{data:null,error:n};throw n}}async getVectors(e){var t=this;try{return{data:await sl(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(al(n))return{data:null,error:n};throw n}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await sl(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(al(n))return{data:null,error:n};throw n}}async queryVectors(e){var t=this;try{return{data:await sl(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(al(n))return{data:null,error:n};throw n}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await sl(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(al(n))return{data:null,error:n};throw n}}},e8=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=lr(lr({},Qb),t),this.fetch=Db(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await sl(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(al(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await sl(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(al(n))return{data:null,error:n};throw n}}async listBuckets(e={}){var t=this;try{return{data:await sl(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(al(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await sl(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(al(n))return{data:null,error:n};throw n}}},t8=class extends e8{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new n8(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},n8=class extends JM{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,lr(lr({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,lr(lr({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new r8(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},r8=class extends WM{constructor(e,t,n,r,i){super(e,t,i),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,lr(lr({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,lr(lr({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,lr(lr({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,lr(lr({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,lr(lr({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},i8=class extends KM{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new qM(this.url,this.headers,e,this.fetch)}get vectors(){return new t8(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new GM(this.url+"/iceberg",this.headers,this.fetch)}};const lE="2.89.0",nd=30*1e3,$x=3,Uv=$x*nd,a8="http://localhost:9999",s8="supabase.auth.token",o8={"X-Client-Info":`gotrue-js/${lE}`},Yx="X-Supabase-Api-Version",AE={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},l8=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,A8=600*1e3;class Yh extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function zn(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class c8 extends Yh{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function u8(e){return zn(e)&&e.name==="AuthApiError"}class $c extends Yh{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class qA extends Yh{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class il extends qA{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function d8(e){return zn(e)&&e.name==="AuthSessionMissingError"}class qu extends qA{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Qp extends qA{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Dp extends qA{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function h8(e){return zn(e)&&e.name==="AuthImplicitGrantRedirectError"}class vB extends qA{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class f8 extends qA{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Xx extends qA{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Iv(e){return zn(e)&&e.name==="AuthRetryableFetchError"}class xB extends qA{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Jx extends qA{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Um="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),bB=` 	
\r=`.split(""),p8=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<bB.length;t+=1)e[bB[t].charCodeAt(0)]=-2;for(let t=0;t<Um.length;t+=1)e[Um[t].charCodeAt(0)]=t;return e})();function yB(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Um[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Um[r]),t.queuedBits-=6}}function cE(e,t,n){const r=p8[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function _B(e){const t=[],n=c=>{t.push(String.fromCodePoint(c))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=c=>{v8(c,r,n)};for(let c=0;c<e.length;c+=1)cE(e.charCodeAt(c),i,s);return t.join("")}function m8(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function g8(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}m8(r,t)}}function v8(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function fd(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)cE(e.charCodeAt(i),n,r);return new Uint8Array(t)}function x8(e){const t=[];return g8(e,n=>t.push(n)),new Uint8Array(t)}function Jc(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>yB(i,n,r)),yB(null,n,r),t.join("")}function b8(e){return Math.round(Date.now()/1e3)+e}function y8(){return Symbol("auth-callback")}const io=()=>typeof window<"u"&&typeof document<"u",Mc={tested:!1,writable:!1},uE=()=>{if(!io())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Mc.tested)return Mc.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Mc.tested=!0,Mc.writable=!0}catch{Mc.tested=!0,Mc.writable=!1}return Mc.writable};function _8(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const dE=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),w8=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",rd=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Rc=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ro=async(e,t)=>{await e.removeItem(t)};class og{constructor(){this.promise=new og.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}og.promiseConstructor=Promise;function Tv(e){const t=e.split(".");if(t.length!==3)throw new Jx("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!l8.test(t[r]))throw new Jx("JWT not in base64url format");return{header:JSON.parse(_B(t[0])),payload:JSON.parse(_B(t[1])),signature:fd(t[2]),raw:{header:t[0],payload:t[1]}}}async function B8(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function C8(e,t){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const c=await e(s);if(!t(s,null,c)){r(c);return}}catch(c){if(!t(s,c)){i(c);return}}})()})}function N8(e){return("0"+e.toString(16)).substr(-2)}function E8(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,N8).join("")}async function S8(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function L8(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await S8(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ku(e,t,n=!1){const r=E8();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await rd(e,`${t}-code-verifier`,i);const s=await L8(r);return[s,r===s?"plain":"s256"]}const j8=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function k8(e){const t=e.headers.get(Yx);if(!t||!t.match(j8))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function U8(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function I8(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const T8=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Gu(e){if(!T8.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Fv(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function F8(e,t){return new Proxy(e,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,i)}})}function wB(e){return JSON.parse(JSON.stringify(e))}const qc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),O8=[502,503,504];async function BB(e){var t;if(!w8(e))throw new Xx(qc(e),0);if(O8.includes(e.status))throw new Xx(qc(e),e.status);let n;try{n=await e.json()}catch(s){throw new $c(qc(s),s)}let r;const i=k8(e);if(i&&i.getTime()>=AE["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new xB(qc(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new il}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,c)=>s&&typeof c=="string",!0))throw new xB(qc(n),e.status,n.weak_password.reasons);throw new c8(qc(n),e.status||500,r)}const Q8=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function or(e,t,n,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[Yx]||(s[Yx]=AE["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const c=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(c.redirect_to=r.redirectTo);const d=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",h=await D8(e,t,n+d,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(h):{data:Object.assign({},h),error:null}}async function D8(e,t,n,r,i,s){const c=Q8(t,r,i,s);let d;try{d=await e(n,Object.assign({},c))}catch(h){throw console.error(h),new Xx(qc(h),0)}if(d.ok||await BB(d),r!=null&&r.noResolveJson)return d;try{return await d.json()}catch(h){await BB(h)}}function Ol(e){var t;let n=null;P8(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=b8(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function CB(e){const t=Ol(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function xc(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function M8(e){return{data:e,error:null}}function R8(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=e,c=ag(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},h=Object.assign({},c);return{data:{properties:d,user:h},error:null}}function NB(e){return e}function P8(e){return e.access_token&&e.refresh_token&&e.expires_in}const Ov=["global","local","others"];class H8{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=dE(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Ov[0]){if(Ov.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ov.join(", ")}`);try{return await or(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(zn(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await or(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:xc})}catch(r){if(zn(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=ag(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await or(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:R8,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(zn(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await or(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:xc})}catch(n){if(zn(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,s,c,d,h;try{const f={nextPage:null,lastPage:0,total:0},g=await or(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:NB});if(g.error)throw g.error;const x=await g.json(),E=(c=g.headers.get("x-total-count"))!==null&&c!==void 0?c:0,w=(h=(d=g.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return w.length>0&&(w.forEach(I=>{const j=parseInt(I.split(";")[0].split("=")[1].substring(0,1)),F=JSON.parse(I.split(";")[1].split("=")[1]);f[`${F}Page`]=j}),f.total=parseInt(E)),{data:Object.assign(Object.assign({},x),f),error:null}}catch(f){if(zn(f))return{data:{users:[]},error:f};throw f}}async getUserById(t){Gu(t);try{return await or(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:xc})}catch(n){if(zn(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Gu(t);try{return await or(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:xc})}catch(r){if(zn(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Gu(t);try{return await or(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:xc})}catch(r){if(zn(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Gu(t.userId);try{const{data:n,error:r}=await or(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(zn(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Gu(t.userId),Gu(t.id);try{return{data:await or(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(zn(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,s,c,d,h;try{const f={nextPage:null,lastPage:0,total:0},g=await or(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:NB});if(g.error)throw g.error;const x=await g.json(),E=(c=g.headers.get("x-total-count"))!==null&&c!==void 0?c:0,w=(h=(d=g.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return w.length>0&&(w.forEach(I=>{const j=parseInt(I.split(";")[0].split("=")[1].substring(0,1)),F=JSON.parse(I.split(";")[1].split("=")[1]);f[`${F}Page`]=j}),f.total=parseInt(E)),{data:Object.assign(Object.assign({},x),f),error:null}}catch(f){if(zn(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(t){try{return await or(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(zn(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await or(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(zn(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await or(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(zn(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await or(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(zn(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await or(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(zn(n))return{data:null,error:n};throw n}}}function EB(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Vu={debug:!!(globalThis&&uE()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class hE extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class z8 extends hE{}async function q8(e,t,n){Vu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Vu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Vu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{Vu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Vu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new z8(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Vu.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function K8(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function fE(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function G8(e){return parseInt(e,16)}function V8(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function Z8(e){var t;const{chainId:n,domain:r,expirationTime:i,issuedAt:s=new Date,nonce:c,notBefore:d,requestId:h,resources:f,scheme:g,uri:x,version:E}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!x)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(E!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${E}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const w=fE(e.address),I=g?`${g}://${r}`:r,j=e.statement?`${e.statement}
`:"",F=`${I} wants you to sign in with your Ethereum account:
${w}

${j}`;let S=`URI: ${x}
Version: ${E}
Chain ID: ${n}${c?`
Nonce: ${c}`:""}
Issued At: ${s.toISOString()}`;if(i&&(S+=`
Expiration Time: ${i.toISOString()}`),d&&(S+=`
Not Before: ${d.toISOString()}`),h&&(S+=`
Request ID: ${h}`),f){let z=`
Resources:`;for(const D of f){if(!D||typeof D!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${D}`);z+=`
- ${D}`}S+=z}return`${F}
${S}`}class ms extends Error{constructor({message:t,code:n,cause:r,name:i}){var s;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(s=i??(r instanceof Error?r.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=n}}class Im extends ms{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function $8({error:e,options:t}){var n,r,i;const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ms({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=s.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new ms({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=s.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new ms({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new ms({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new ms({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new ms({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return s.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new ms({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new ms({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const c=window.location.hostname;if(pE(c)){if(s.rp.id!==c)return new ms({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ms({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new ms({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new ms({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ms({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function Y8({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ms({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new ms({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(pE(r)){if(n.rpId!==r)return new ms({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ms({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new ms({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ms({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class X8{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const J8=new X8;function W8(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,i=ag(e,["challenge","user","excludeCredentials"]),s=fd(t).buffer,c=Object.assign(Object.assign({},n),{id:fd(n.id).buffer}),d=Object.assign(Object.assign({},i),{challenge:s,user:c});if(r&&r.length>0){d.excludeCredentials=new Array(r.length);for(let h=0;h<r.length;h++){const f=r[h];d.excludeCredentials[h]=Object.assign(Object.assign({},f),{id:fd(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return d}function eR(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=ag(e,["challenge","allowCredentials"]),i=fd(t).buffer,s=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){s.allowCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const d=n[c];s.allowCredentials[c]=Object.assign(Object.assign({},d),{id:fd(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return s}function tR(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Jc(new Uint8Array(e.response.attestationObject)),clientDataJSON:Jc(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function nR(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Jc(new Uint8Array(i.authenticatorData)),clientDataJSON:Jc(new Uint8Array(i.clientDataJSON)),signature:Jc(new Uint8Array(i.signature)),userHandle:i.userHandle?Jc(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function pE(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function SB(){var e,t;return!!(io()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function rR(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Im("Browser returned unexpected credential type",t)}:{data:null,error:new Im("Empty credential response",t)}}catch(t){return{data:null,error:$8({error:t,options:e})}}}async function iR(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Im("Browser returned unexpected credential type",t)}:{data:null,error:new Im("Empty credential response",t)}}catch(t){return{data:null,error:Y8({error:t,options:e})}}}const aR={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},sR={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Tm(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of e)if(i)for(const s in i){const c=i[s];if(c!==void 0)if(Array.isArray(c))r[s]=c;else if(n(c))r[s]=c;else if(t(c)){const d=r[s];t(d)?r[s]=Tm(d,c):r[s]=Tm(c)}else r[s]=c}return r}function oR(e,t){return Tm(aR,e,t||{})}function lR(e,t){return Tm(sR,e,t||{})}class AR{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},s){try{const{data:c,error:d}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!c)return{data:null,error:d};const h=i??J8.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:f}=c.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${r}`),f.displayName||(f.displayName=f.name)}switch(c.webauthn.type){case"create":{const f=oR(c.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:g,error:x}=await rR({publicKey:f,signal:h});return g?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:g}},error:null}:{data:null,error:x}}case"request":{const f=lR(c.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:g,error:x}=await iR(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:f,signal:h}));return g?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:g}},error:null}:{data:null,error:x}}}}catch(c){return zn(c)?{data:null,error:c}:{data:null,error:new $c("Unexpected error in challenge",c)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!n)return{data:null,error:new Yh("rpId is required for WebAuthn authentication")};try{if(!SB())return{data:null,error:new $c("Browser does not support WebAuthn",null)};const{data:c,error:d}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:s});if(!c)return{data:null,error:d};const{webauthn:h}=c;return this._verify({factorId:t,challengeId:c.challengeId,webauthn:{type:h.type,rpId:n,rpOrigins:r,credential_response:h.credential_response}})}catch(c){return zn(c)?{data:null,error:c}:{data:null,error:new $c("Unexpected error in authenticate",c)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!n)return{data:null,error:new Yh("rpId is required for WebAuthn registration")};try{if(!SB())return{data:null,error:new $c("Browser does not support WebAuthn",null)};const{data:c,error:d}=await this._enroll({friendlyName:t});if(!c)return await this.client.mfa.listFactors().then(g=>{var x;return(x=g.data)===null||x===void 0?void 0:x.all.find(E=>E.factor_type==="webauthn"&&E.friendly_name===t&&E.status!=="unverified")}).then(g=>g?this.client.mfa.unenroll({factorId:g==null?void 0:g.id}):void 0),{data:null,error:d};const{data:h,error:f}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:s});return h?this._verify({factorId:c.id,challengeId:h.challengeId,webauthn:{rpId:n,rpOrigins:r,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:f}}catch(c){return zn(c)?{data:null,error:c}:{data:null,error:new $c("Unexpected error in register",c)}}}}K8();const cR={url:a8,storageKey:s8,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:o8,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function LB(e,t,n){return await n()}const Zu={};class Xh{get jwks(){var t,n;return(n=(t=Zu[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Zu[this.storageKey]=Object.assign(Object.assign({},Zu[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Zu[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Zu[this.storageKey]=Object.assign(Object.assign({},Zu[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},cR),t);if(this.storageKey=s.storageKey,this.instanceID=(n=Xh.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Xh.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&io()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new H8({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=dE(s.fetch),this.lock=s.lock||LB,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,s.lock?this.lock=s.lock:this.persistSession&&io()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=q8:this.lock=LB,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new AR(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:uE()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=EB(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=EB(this.memoryStorage)),io()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${lE}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(io()&&(n=_8(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),io()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),h8(s)){const h=(t=s.details)===null||t===void 0?void 0:t.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:c,redirectType:d}=i;return this._debug("#_initialize()","detected session in URL",c,"redirect type",d),await this._saveSession(c),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return zn(n)?this._returnResult({error:n}):this._returnResult({error:new $c("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const s=await or(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Ol}),{data:c,error:d}=s;if(d||!c)return this._returnResult({data:{user:null,session:null},error:d});const h=c.session,f=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:f,session:h},error:null})}catch(s){if(zn(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(t){var n,r,i;try{let s;if("email"in t){const{email:g,password:x,options:E}=t;let w=null,I=null;this.flowType==="pkce"&&([w,I]=await Ku(this.storage,this.storageKey)),s=await or(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:E==null?void 0:E.emailRedirectTo,body:{email:g,password:x,data:(n=E==null?void 0:E.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:E==null?void 0:E.captchaToken},code_challenge:w,code_challenge_method:I},xform:Ol})}else if("phone"in t){const{phone:g,password:x,options:E}=t;s=await or(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:x,data:(r=E==null?void 0:E.data)!==null&&r!==void 0?r:{},channel:(i=E==null?void 0:E.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:E==null?void 0:E.captchaToken}},xform:Ol})}else throw new Qp("You must provide either an email or phone number and a password");const{data:c,error:d}=s;if(d||!c)return await ro(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:d});const h=c.session,f=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:f,session:h},error:null})}catch(s){if(await ro(this.storage,`${this.storageKey}-code-verifier`),zn(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(t){try{let n;if("email"in t){const{email:s,password:c,options:d}=t;n=await or(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:c,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:CB})}else if("phone"in t){const{phone:s,password:c,options:d}=t;n=await or(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:c,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:CB})}else throw new Qp("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const s=new qu;return this._returnResult({data:{user:null,session:null},error:s})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(zn(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,i,s,c,d,h,f,g,x,E;let w,I;if("message"in t)w=t.message,I=t.signature;else{const{chain:j,wallet:F,statement:S,options:z}=t;let D;if(io())if(typeof F=="object")D=F;else{const M=window;if("ethereum"in M&&typeof M.ethereum=="object"&&"request"in M.ethereum&&typeof M.ethereum.request=="function")D=M.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof F!="object"||!(z!=null&&z.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=F}const G=new URL((n=z==null?void 0:z.url)!==null&&n!==void 0?n:window.location.href),ce=await D.request({method:"eth_requestAccounts"}).then(M=>M).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!ce||ce.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const Y=fE(ce[0]);let ge=(r=z==null?void 0:z.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!ge){const M=await D.request({method:"eth_chainId"});ge=G8(M)}const re={domain:G.host,address:Y,statement:S,uri:G.href,version:"1",chainId:ge,nonce:(i=z==null?void 0:z.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(c=(s=z==null?void 0:z.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(d=z==null?void 0:z.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(h=z==null?void 0:z.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(f=z==null?void 0:z.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(g=z==null?void 0:z.signInWithEthereum)===null||g===void 0?void 0:g.resources};w=Z8(re),I=await D.request({method:"personal_sign",params:[V8(w),Y]})}try{const{data:j,error:F}=await or(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:w,signature:I},!((x=t.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(E=t.options)===null||E===void 0?void 0:E.captchaToken}}:null),xform:Ol});if(F)throw F;if(!j||!j.session||!j.user){const S=new qu;return this._returnResult({data:{user:null,session:null},error:S})}return j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),this._returnResult({data:Object.assign({},j),error:F})}catch(j){if(zn(j))return this._returnResult({data:{user:null,session:null},error:j});throw j}}async signInWithSolana(t){var n,r,i,s,c,d,h,f,g,x,E,w;let I,j;if("message"in t)I=t.message,j=t.signature;else{const{chain:F,wallet:S,statement:z,options:D}=t;let G;if(io())if(typeof S=="object")G=S;else{const Y=window;if("solana"in Y&&typeof Y.solana=="object"&&("signIn"in Y.solana&&typeof Y.solana.signIn=="function"||"signMessage"in Y.solana&&typeof Y.solana.signMessage=="function"))G=Y.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!(D!=null&&D.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");G=S}const ce=new URL((n=D==null?void 0:D.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in G&&G.signIn){const Y=await G.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},D==null?void 0:D.signInWithSolana),{version:"1",domain:ce.host,uri:ce.href}),z?{statement:z}:null));let ge;if(Array.isArray(Y)&&Y[0]&&typeof Y[0]=="object")ge=Y[0];else if(Y&&typeof Y=="object"&&"signedMessage"in Y&&"signature"in Y)ge=Y;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ge&&"signature"in ge&&(typeof ge.signedMessage=="string"||ge.signedMessage instanceof Uint8Array)&&ge.signature instanceof Uint8Array)I=typeof ge.signedMessage=="string"?ge.signedMessage:new TextDecoder().decode(ge.signedMessage),j=ge.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in G)||typeof G.signMessage!="function"||!("publicKey"in G)||typeof G!="object"||!G.publicKey||!("toBase58"in G.publicKey)||typeof G.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");I=[`${ce.host} wants you to sign in with your Solana account:`,G.publicKey.toBase58(),...z?["",z,""]:[""],"Version: 1",`URI: ${ce.href}`,`Issued At: ${(i=(r=D==null?void 0:D.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=D==null?void 0:D.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${D.signInWithSolana.notBefore}`]:[],...!((c=D==null?void 0:D.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${D.signInWithSolana.expirationTime}`]:[],...!((d=D==null?void 0:D.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${D.signInWithSolana.chainId}`]:[],...!((h=D==null?void 0:D.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${D.signInWithSolana.nonce}`]:[],...!((f=D==null?void 0:D.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${D.signInWithSolana.requestId}`]:[],...!((x=(g=D==null?void 0:D.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||x===void 0)&&x.length?["Resources",...D.signInWithSolana.resources.map(ge=>`- ${ge}`)]:[]].join(`
`);const Y=await G.signMessage(new TextEncoder().encode(I),"utf8");if(!Y||!(Y instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");j=Y}}try{const{data:F,error:S}=await or(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:I,signature:Jc(j)},!((E=t.options)===null||E===void 0)&&E.captchaToken?{gotrue_meta_security:{captcha_token:(w=t.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:Ol});if(S)throw S;if(!F||!F.session||!F.user){const z=new qu;return this._returnResult({data:{user:null,session:null},error:z})}return F.session&&(await this._saveSession(F.session),await this._notifyAllSubscribers("SIGNED_IN",F.session)),this._returnResult({data:Object.assign({},F),error:S})}catch(F){if(zn(F))return this._returnResult({data:{user:null,session:null},error:F});throw F}}async _exchangeCodeForSession(t){const n=await Rc(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new f8;const{data:s,error:c}=await or(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Ol});if(await ro(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!s||!s.session||!s.user){const d=new qu;return this._returnResult({data:{user:null,session:null,redirectType:null},error:d})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:c})}catch(s){if(await ro(this.storage,`${this.storageKey}-code-verifier`),zn(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:s,nonce:c}=t,d=await or(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:c,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Ol}),{data:h,error:f}=d;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!h||!h.session||!h.user){const g=new qu;return this._returnResult({data:{user:null,session:null},error:g})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:h,error:f})}catch(n){if(zn(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,i,s,c;try{if("email"in t){const{email:d,options:h}=t;let f=null,g=null;this.flowType==="pkce"&&([f,g]=await Ku(this.storage,this.storageKey));const{error:x}=await or(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},create_user:(r=h==null?void 0:h.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:f,code_challenge_method:g},redirectTo:h==null?void 0:h.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:x})}if("phone"in t){const{phone:d,options:h}=t,{data:f,error:g}=await or(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(i=h==null?void 0:h.data)!==null&&i!==void 0?i:{},create_user:(s=h==null?void 0:h.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},channel:(c=h==null?void 0:h.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:g})}throw new Qp("You must provide either an email or phone number.")}catch(d){if(await ro(this.storage,`${this.storageKey}-code-verifier`),zn(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async verifyOtp(t){var n,r;try{let i,s;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,s=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:c,error:d}=await or(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Ol});if(d)throw d;if(!c)throw new Error("An error occurred on token verification.");const h=c.session,f=c.user;return h!=null&&h.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),this._returnResult({data:{user:f,session:h},error:null})}catch(i){if(zn(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var n,r,i,s,c;try{let d=null,h=null;this.flowType==="pkce"&&([d,h]=await Ku(this.storage,this.storageKey));const f=await or(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:h}),headers:this.headers,xform:M8});return!((s=f.data)===null||s===void 0)&&s.url&&io()&&!(!((c=t.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(d){if(await ro(this.storage,`${this.storageKey}-code-verifier`),zn(d))return this._returnResult({data:null,error:d});throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new il;const{error:i}=await or(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(zn(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:s}=t,{error:c}=await or(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in t){const{phone:r,type:i,options:s}=t,{data:c,error:d}=await or(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d})}throw new Qp("You must provide either an email or phone number and a type")}catch(n){if(zn(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Rc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Uv:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const c=await Rc(this.userStorage,this.storageKey+"-user");c!=null&&c.user?t.user=c.user:t.user=Fv()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};t.user=F8(t.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await or(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:xc}):await this._useSession(async n=>{var r,i,s;const{data:c,error:d}=n;if(d)throw d;return!(!((r=c.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new il}:await or(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=c.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:xc})})}catch(n){if(zn(n))return d8(n)&&(await this._removeSession(),await ro(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new il;const c=i.session;let d=null,h=null;this.flowType==="pkce"&&t.email!=null&&([d,h]=await Ku(this.storage,this.storageKey));const{data:f,error:g}=await or(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:d,code_challenge_method:h}),jwt:c.access_token,xform:xc});if(g)throw g;return c.user=f.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(r){if(await ro(this.storage,`${this.storageKey}-code-verifier`),zn(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new il;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:c}=Tv(t.access_token);if(c.exp&&(r=c.exp,i=r<=n),i){const{data:d,error:h}=await this._callRefreshToken(t.refresh_token);if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!d)return{data:{user:null,session:null},error:null};s=d}else{const{data:d,error:h}=await this._getUser(t.access_token);if(h)throw h;s={access_token:t.access_token,refresh_token:t.refresh_token,user:d.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(n){if(zn(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:c,error:d}=n;if(d)throw d;t=(r=c.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new il;const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(zn(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!io())throw new Dp("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Dp(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new vB("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Dp("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new vB("No code detected.");const{data:z,error:D}=await this._exchangeCodeForSession(t.code);if(D)throw D;const G=new URL(window.location.href);return G.searchParams.delete("code"),window.history.replaceState(window.history.state,"",G.toString()),{data:{session:z.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:c,expires_in:d,expires_at:h,token_type:f}=t;if(!s||!d||!c||!f)throw new Dp("No session defined in URL");const g=Math.round(Date.now()/1e3),x=parseInt(d);let E=g+x;h&&(E=parseInt(h));const w=E-g;w*1e3<=nd&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${x}s`);const I=E-x;g-I>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",I,E,g):g-I<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",I,E,g);const{data:j,error:F}=await this._getUser(s);if(F)throw F;const S={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:x,expires_at:E,refresh_token:c,token_type:f,user:j.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:S,redirectType:t.type},error:null})}catch(r){if(zn(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Rc(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return this._returnResult({error:s});const c=(r=i.session)===null||r===void 0?void 0:r.access_token;if(c){const{error:d}=await this.admin.signOut(c,t);if(d&&!(u8(d)&&(d.status===404||d.status===401||d.status===403)))return this._returnResult({error:d})}return t!=="others"&&(await this._removeSession(),await ro(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=y8(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:c}=n;if(c)throw c;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Ku(this.storage,this.storageKey,!0));try{return await or(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(await ro(this.storage,`${this.storageKey}-code-verifier`),zn(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(zn(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var c,d,h,f,g;const{data:x,error:E}=s;if(E)throw E;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(c=t.options)===null||c===void 0?void 0:c.redirectTo,scopes:(d=t.options)===null||d===void 0?void 0:d.scopes,queryParams:(h=t.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await or(this.fetch,"GET",w,{headers:this.headers,jwt:(g=(f=x.session)===null||f===void 0?void 0:f.access_token)!==null&&g!==void 0?g:void 0})});if(i)throw i;return io()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:t.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(zn(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:s}}=n;if(i)throw i;const{options:c,provider:d,token:h,access_token:f,nonce:g}=t,x=await or(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=s==null?void 0:s.access_token)!==null&&r!==void 0?r:void 0,body:{provider:d,id_token:h,access_token:f,nonce:g,link_identity:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:Ol}),{data:E,error:w}=x;return w?this._returnResult({data:{user:null,session:null},error:w}):!E||!E.session||!E.user?this._returnResult({data:{user:null,session:null},error:new qu}):(E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("USER_UPDATED",E.session)),this._returnResult({data:E,error:w}))}catch(i){if(await ro(this.storage,`${this.storageKey}-code-verifier`),zn(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:c}=n;if(c)throw c;return await or(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(zn(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await C8(async i=>(i>0&&await B8(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await or(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ol})),(i,s)=>{const c=200*Math.pow(2,i);return s&&Iv(s)&&Date.now()+c-r<nd})}catch(r){if(this._debug(n,"error",r),zn(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),io()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Rc(this.storage,this.storageKey);if(i&&this.userStorage){let c=await Rc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:i.user},await rd(this.userStorage,this.storageKey+"-user",c)),i.user=(t=c==null?void 0:c.user)!==null&&t!==void 0?t:Fv()}else if(i&&!i.user&&!i.user){const c=await Rc(this.storage,this.storageKey+"-user");c&&(c!=null&&c.user)?(i.user=c.user,await ro(this.storage,this.storageKey+"-user"),await rd(this.storage,this.storageKey,i)):i.user=Fv()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Uv;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Uv}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:c}=await this._callRefreshToken(i.refresh_token);c&&(console.error(c),Iv(c)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:d}=await this._getUser(i.access_token);!d&&(c!=null&&c.user)?(i.user=c.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(r,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new il;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new og;const{data:s,error:c}=await this._refreshAccessToken(t);if(c)throw c;if(!s.session)throw new il;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const d={data:s.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(s){if(this._debug(i,"error",s),zn(s)){const c={data:null,error:s};return Iv(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(c),c}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const s=[],c=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(t,n)}catch(h){s.push(h)}});if(await Promise.all(c),s.length>0){for(let d=0;d<s.length;d+=1)console.error(s[d]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await ro(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await rd(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const s=wB(i);await rd(this.storage,this.storageKey,s)}else{const i=wB(n);await rd(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ro(this.storage,this.storageKey),await ro(this.storage,this.storageKey+"-code-verifier"),await ro(this.storage,this.storageKey+"-user"),this.userStorage&&await ro(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&io()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),nd);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/nd);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${nd}ms, refresh threshold is ${$x} ticks`),i<=$x&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof hE)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!io()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,c]=await Ku(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(c)}`});i.push(d.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?this._returnResult({data:null,error:s}):await or(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(zn(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:c}=n;if(c)return this._returnResult({data:null,error:c});const d=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:h,error:f}=await or(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return f?this._returnResult({data:null,error:f}):(t.factorType==="totp"&&h.type==="totp"&&(!((i=h==null?void 0:h.totp)===null||i===void 0)&&i.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),this._returnResult({data:h,error:null}))})}catch(n){if(zn(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return this._returnResult({data:null,error:s});const c=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?tR(t.webauthn.credential_response):nR(t.webauthn.credential_response)})}:{code:t.code}),{data:d,error:h}=await or(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:c,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return h?this._returnResult({data:null,error:h}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),this._returnResult({data:d,error:h}))})}catch(n){if(zn(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return this._returnResult({data:null,error:s});const c=await or(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(c.error)return c;const{data:d}=c;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:W8(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:eR(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(zn(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=Tv(r.access_token);let c=null;s.aal&&(c=s.aal);let d=c;((n=(t=r.user.factors)===null||t===void 0?void 0:t.filter(g=>g.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(d="aal2");const f=s.amr||[];return{data:{currentLevel:c,nextLevel:d,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await or(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new il})})}catch(n){if(zn(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:s}=r;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new il});const c=await or(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:d=>({data:d,error:null})});return c.data&&c.data.redirect_url&&io()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(c.data.redirect_url),c})}catch(r){if(zn(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:s}=r;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new il});const c=await or(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:d=>({data:d,error:null})});return c.data&&c.data.redirect_url&&io()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(c.data.redirect_url),c})}catch(r){if(zn(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await or(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new il})})}catch(t){if(zn(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await or(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new il})})}catch(n){if(zn(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(d=>d.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(d=>d.kid===t),r&&this.jwks_cached_at+A8>i)return r;const{data:s,error:c}=await or(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,r=s.keys.find(d=>d.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:w,error:I}=await this.getSession();if(I||!w.session)return this._returnResult({data:null,error:I});r=w.session.access_token}const{header:i,payload:s,signature:c,raw:{header:d,payload:h}}=Tv(r);n!=null&&n.allowExpired||U8(s.exp);const f=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!f){const{error:w}=await this.getUser(r);if(w)throw w;return{data:{claims:s,header:i,signature:c},error:null}}const g=I8(i.alg),x=await crypto.subtle.importKey("jwk",f,g,!0,["verify"]);if(!await crypto.subtle.verify(g,x,c,x8(`${d}.${h}`)))throw new Jx("Invalid JWT signature");return{data:{claims:s,header:i,signature:c},error:null}}catch(r){if(zn(r))return this._returnResult({data:null,error:r});throw r}}}Xh.nextInstanceID={};const uR=Xh,dR="2.89.0";let Bh="";typeof Deno<"u"?Bh="deno":typeof document<"u"?Bh="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Bh="react-native":Bh="node";const hR={"X-Client-Info":`supabase-js-${Bh}/${dR}`},fR={headers:hR},pR={schema:"public"},mR={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},gR={};function Jh(e){"@babel/helpers - typeof";return Jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jh(e)}function vR(e,t){if(Jh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Jh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xR(e){var t=vR(e,"string");return Jh(t)=="symbol"?t:t+""}function bR(e,t,n){return(t=xR(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ra(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jB(Object(n),!0).forEach(function(r){bR(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const yR=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),_R=()=>Headers,wR=(e,t,n)=>{const r=yR(n),i=_R();return async(s,c)=>{var d;const h=(d=await t())!==null&&d!==void 0?d:e;let f=new i(c==null?void 0:c.headers);return f.has("apikey")||f.set("apikey",e),f.has("Authorization")||f.set("Authorization",`Bearer ${h}`),r(s,Ra(Ra({},c),{},{headers:f}))}};function BR(e){return e.endsWith("/")?e:e+"/"}function CR(e,t){var n,r;const{db:i,auth:s,realtime:c,global:d}=e,{db:h,auth:f,realtime:g,global:x}=t,E={db:Ra(Ra({},h),i),auth:Ra(Ra({},f),s),realtime:Ra(Ra({},g),c),storage:{},global:Ra(Ra(Ra({},x),d),{},{headers:Ra(Ra({},(n=x==null?void 0:x.headers)!==null&&n!==void 0?n:{}),(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?E.accessToken=e.accessToken:delete E.accessToken,E}function NR(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(BR(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var ER=class extends uR{constructor(e){super(e)}},SR=class{constructor(e,t,n){var r,i;this.supabaseUrl=e,this.supabaseKey=t;const s=NR(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const c=`sb-${s.hostname.split(".")[0]}-auth-token`,d={db:pR,realtime:gR,auth:Ra(Ra({},mR),{},{storageKey:c}),global:fR},h=CR(n??{},d);if(this.storageKey=(r=h.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken)this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(g,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}});else{var f;this.auth=this._initSupabaseAuthClient((f=h.auth)!==null&&f!==void 0?f:{},this.headers,h.global.fetch)}this.fetch=wR(t,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Ra({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.accessToken&&this.accessToken().then(g=>this.realtime.setAuth(g)).catch(g=>console.warn("Failed to set initial Realtime auth token:",g)),this.rest=new oM(new URL("rest/v1",s).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new i8(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new nM(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:r}=await e.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:i,storageKey:s,flowType:c,lock:d,debug:h,throwOnError:f},g,x){const E={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ER({url:this.authUrl.href,headers:Ra(Ra({},E),g),storageKey:s,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:i,flowType:c,lock:d,debug:h,throwOnError:f,fetch:x,hasCustomAuthorizationHeader:Object.keys(this.headers).some(w=>w.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new BM(this.realtimeUrl.href,Ra(Ra({},e),{},{params:Ra(Ra({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const LR=(e,t,n)=>new SR(e,t,n);function jR(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}jR()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const kR="https://ecvfhrbwytwizxikqsyy.supabase.co",UR="sb_publishable_lJUcZH_D8m9u57L00a4PlQ_UnbwK6UJ",Ha=LR(kR,UR,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0},realtime:{params:{eventsPerSecond:10}}}),IR=e=>{if(!e)return null;const t=new Date(e);return Number.isFinite(t.getTime())?t.toISOString():null},TR=e=>{if(!e)return"PENDENTE";const t=String(e).toUpperCase();return t==="REGISTRADO"?"GERADO":t==="GERADO"||t==="ENVIADO"||t==="PAGO"||t==="CANCELADO"?t:"PENDENTE"},Mb=e=>({id:e.id,receivable_id:e.receivable_id,bank_name:e.bank_name??null,wallet:e.wallet??null,our_number:e.our_number??e.nosso_numero??null,barcode:e.barcode??null,digitable_line:e.digitable_line??null,pdf_url:e.pdf_url??null,status:TR(e.status),due_date:e.due_date??null,created_at:e.created_at??null});async function mE(e){const{data:t,error:n}=await Ha.from("boletos").select("*").eq("receivable_id",e).order("created_at",{ascending:!1}).limit(1);if(n)throw n;return!t||t.length===0?null:Mb(t[0])}async function FR(e){if(!e.receivable_id)throw new Error("Receivable id obrigatorio.");const t={id:e.id||Dr(),receivable_id:e.receivable_id,bank_name:e.bank_name??null,wallet:e.wallet??null,our_number:e.our_number??null,barcode:e.barcode??null,digitable_line:e.digitable_line??null,pdf_url:e.pdf_url??null,status:e.status??"PENDENTE",due_date:IR(e.due_date),created_at:e.created_at??new Date().toISOString()},{data:n,error:r}=await Ha.from("boletos").upsert(t).select("*").single();if(r)throw r;return Mb(n)}async function OR(e,t){const{data:n,error:r}=await Ha.from("boletos").update({status:t}).eq("id",e).select("*").single();if(r)throw r;return Mb(n)}const kB={bank_name:"",wallet:"",our_number:"",barcode:"",digitable_line:"",pdf_url:"",status:"PENDENTE",due_date:""},QR={PENDENTE:{label:"Pendente",badge:"bg-amber-500/10 text-amber-500 border-amber-500/30"},GERADO:{label:"Gerado",badge:"bg-yellow-500/10 text-yellow-500 border-yellow-500/30"},ENVIADO:{label:"Enviado",badge:"bg-blue-500/10 text-blue-400 border-blue-500/30"},PAGO:{label:"Pago",badge:"bg-green-500/10 text-green-500 border-green-500/30"},CANCELADO:{label:"Cancelado",badge:"bg-red-500/10 text-red-500 border-red-500/30"}},Qv=e=>e?e.slice(0,10):"",DR=e=>e.toLocaleString("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:2}),MR=({receivable:e,onClose:t,onSaved:n})=>{const[r,i]=$.useState(!0),[s,c]=$.useState(!1),[d,h]=$.useState(!1),[f,g]=$.useState(null),[x,E]=$.useState(null),[w,I]=$.useState({...kB}),[j,F]=$.useState(!1),[S,z]=$.useState(!1);$.useEffect(()=>{let re=!0;return(async()=>{i(!0),g(null);try{const X=await mE(e.id);if(!re)return;E(X),X?(I({bank_name:X.bank_name??"",wallet:X.wallet??"",our_number:X.our_number??"",barcode:X.barcode??"",digitable_line:X.digitable_line??"",pdf_url:X.pdf_url??"",status:X.status??"PENDENTE",due_date:Qv(X.due_date)||Qv(new Date(e.vencimento_em).toISOString())}),F(!1)):(I({...kB,due_date:Qv(new Date(e.vencimento_em).toISOString())}),F(!0))}catch{if(!re)return;g("Nao foi possivel carregar o boleto."),E(null),F(!0)}finally{re&&i(!1)}})(),()=>{re=!1}},[e.id,e.vencimento_em]);const D=$.useMemo(()=>{const re=(x==null?void 0:x.status)??"PENDENTE";return QR[re]},[x==null?void 0:x.status]),G=(re,M)=>{I(X=>({...X,[re]:M}))},ce=async()=>{if(g(null),!w.bank_name||!w.wallet||!w.our_number||!w.digitable_line){g("Preencha banco, carteira, nosso numero e linha digitavel.");return}try{c(!0);const re={id:x==null?void 0:x.id,receivable_id:e.id,bank_name:w.bank_name.trim(),wallet:w.wallet.trim(),our_number:w.our_number.trim(),barcode:w.barcode.trim()||null,digitable_line:w.digitable_line.trim(),pdf_url:w.pdf_url.trim()||null,status:w.status||"PENDENTE",due_date:w.due_date||null},M=await FR(re);E(M),F(!1),n==null||n(M)}catch(re){console.error(re),g("Nao foi possivel salvar o boleto.")}finally{c(!1)}},Y=async()=>{var re;if(x!=null&&x.digitable_line)try{await((re=navigator.clipboard)==null?void 0:re.writeText(x.digitable_line)),z(!0),setTimeout(()=>z(!1),1500)}catch{g("Falha ao copiar a linha digitavel.")}},ge=async()=>{if(x!=null&&x.id){g(null);try{h(!0);const re=await OR(x.id,"PAGO");await RN(e.id,{status:"PAGO",valor_pago:e.valor_total}),E(re),n==null||n(re)}catch(re){console.error(re),g("Nao foi possivel marcar como pago.")}finally{h(!1)}}};return o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:o.jsxs("div",{className:"w-full max-w-3xl rounded-2xl border border-bdr bg-surface shadow-2xl",children:[o.jsxs("div",{className:"flex items-center justify-between border-b border-bdr px-6 py-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"rounded-lg bg-yellow-500/10 p-2 border border-yellow-500/20",children:o.jsx(Jv,{className:"h-5 w-5 text-yellow-500"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-[11px] font-black uppercase tracking-widest text-txt-muted",children:"Gestao de Boleto"}),o.jsx("h3",{className:"text-lg font-black text-txt-main",children:j||!x?"Cadastrar boleto":"Resumo do boleto"}),o.jsxs("p",{className:"text-xs text-txt-muted font-semibold",children:["Conta: ",e.description||e.devedor_nome||"Conta"]}),o.jsxs("p",{className:"text-[11px] text-txt-muted",children:["Valor ",DR(e.valor_total)," | Venc. ",new Date(e.vencimento_em).toLocaleDateString("pt-BR")]})]})]}),o.jsx("button",{onClick:t,className:"rounded-full p-2 text-txt-muted hover:bg-app hover:text-txt-main transition-colors",title:"Fechar",children:o.jsx(zi,{className:"h-5 w-5"})})]}),r?o.jsxs("div",{className:"px-6 py-6 space-y-4 animate-pulse",children:[o.jsx("div",{className:"h-5 w-40 rounded bg-app"}),o.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[o.jsx("div",{className:"h-20 rounded bg-app"}),o.jsx("div",{className:"h-20 rounded bg-app"})]}),o.jsx("div",{className:"h-24 rounded bg-app"})]}):o.jsxs("div",{className:"px-6 py-4 space-y-4",children:[f&&o.jsx("div",{className:"rounded-lg border border-red-500/40 bg-red-500/10 px-4 py-3 text-sm text-red-200",children:f}),j||!x?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-xs font-bold uppercase tracking-wide text-txt-muted",children:"Banco"}),o.jsx("input",{className:"w-full rounded-lg border border-bdr bg-app px-3 py-2 text-sm text-txt-main focus:border-yellow-600 focus:outline-none",value:w.bank_name,onChange:re=>G("bank_name",re.target.value),placeholder:"Banco do Brasil"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-xs font-bold uppercase tracking-wide text-txt-muted",children:"Carteira"}),o.jsx("input",{className:"w-full rounded-lg border border-bdr bg-app px-3 py-2 text-sm text-txt-main focus:border-yellow-600 focus:outline-none",value:w.wallet,onChange:re=>G("wallet",re.target.value),placeholder:"17/019"})]})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-xs font-bold uppercase tracking-wide text-txt-muted",children:"Nosso numero"}),o.jsx("input",{className:"w-full rounded-lg border border-bdr bg-app px-3 py-2 text-sm text-txt-main focus:border-yellow-600 focus:outline-none",value:w.our_number,onChange:re=>G("our_number",re.target.value),placeholder:"Identificador principal"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-xs font-bold uppercase tracking-wide text-txt-muted",children:"Codigo de barras"}),o.jsx("input",{className:"w-full rounded-lg border border-bdr bg-app px-3 py-2 text-sm text-txt-main focus:border-yellow-600 focus:outline-none",value:w.barcode,onChange:re=>G("barcode",re.target.value),placeholder:"Opcional"})]})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-xs font-bold uppercase tracking-wide text-txt-muted",children:"Linha digitavel"}),o.jsx("input",{className:"w-full rounded-lg border border-bdr bg-app px-3 py-2 text-sm text-txt-main focus:border-yellow-600 focus:outline-none",value:w.digitable_line,onChange:re=>G("digitable_line",re.target.value),placeholder:"00000.00000 00000.000000 00000.000000 0 00000000000000"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-xs font-bold uppercase tracking-wide text-txt-muted",children:"Link PDF"}),o.jsx("input",{className:"w-full rounded-lg border border-bdr bg-app px-3 py-2 text-sm text-txt-main focus:border-yellow-600 focus:outline-none",value:w.pdf_url,onChange:re=>G("pdf_url",re.target.value),placeholder:"https://..."})]})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-xs font-bold uppercase tracking-wide text-txt-muted",children:"Vencimento"}),o.jsx("input",{type:"date",className:"w-full rounded-lg border border-bdr bg-app px-3 py-2 text-sm text-txt-main focus:border-yellow-600 focus:outline-none",value:w.due_date,onChange:re=>G("due_date",re.target.value)})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-xs font-bold uppercase tracking-wide text-txt-muted",children:"Status"}),o.jsxs("select",{className:"w-full rounded-lg border border-bdr bg-app px-3 py-2 text-sm text-txt-main focus:border-yellow-600 focus:outline-none",value:w.status,onChange:re=>G("status",re.target.value),children:[o.jsx("option",{value:"PENDENTE",children:"Pendente"}),o.jsx("option",{value:"GERADO",children:"Gerado"}),o.jsx("option",{value:"ENVIADO",children:"Enviado"}),o.jsx("option",{value:"PAGO",children:"Pago"}),o.jsx("option",{value:"CANCELADO",children:"Cancelado"})]})]})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{className:"rounded-xl border border-bdr bg-app p-4",children:[o.jsx("div",{className:"text-xs font-bold uppercase tracking-wide text-txt-muted",children:"Banco"}),o.jsx("div",{className:"text-sm font-black text-txt-main",children:x.bank_name||"-"}),o.jsx("div",{className:"mt-3 text-xs font-bold uppercase tracking-wide text-txt-muted",children:"Carteira"}),o.jsx("div",{className:"text-sm font-semibold text-txt-main",children:x.wallet||"-"})]}),o.jsxs("div",{className:"rounded-xl border border-bdr bg-app p-4",children:[o.jsx("div",{className:"text-xs font-bold uppercase tracking-wide text-txt-muted",children:"Status"}),o.jsx("div",{className:`inline-flex items-center rounded border px-2 py-1 text-[10px] font-black uppercase ${D.badge}`,children:D.label}),o.jsx("div",{className:"mt-3 text-xs font-bold uppercase tracking-wide text-txt-muted",children:"Nosso numero"}),o.jsx("div",{className:"text-lg font-black text-txt-main",children:x.our_number||"-"})]})]}),o.jsxs("div",{className:"rounded-xl border border-bdr bg-app p-4 space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between gap-3",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-xs font-bold uppercase tracking-wide text-txt-muted",children:"Linha digitavel"}),o.jsx("div",{className:"font-mono text-xs text-txt-main break-all",children:x.digitable_line||"-"})]}),o.jsxs("button",{onClick:Y,className:"inline-flex items-center gap-2 rounded-lg border border-bdr bg-surface px-3 py-2 text-xs font-bold text-txt-muted hover:text-txt-main",disabled:!x.digitable_line,children:[S?o.jsx(Wv,{className:"h-4 w-4"}):o.jsx(t3,{className:"h-4 w-4"}),S?"Copiado":"Copiar"]})]}),o.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-xs font-bold uppercase tracking-wide text-txt-muted",children:"Codigo de barras"}),o.jsx("div",{className:"text-sm text-txt-main",children:x.barcode||"-"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-xs font-bold uppercase tracking-wide text-txt-muted",children:"Vencimento"}),o.jsx("div",{className:"text-sm text-txt-main",children:x.due_date?new Date(x.due_date).toLocaleDateString("pt-BR"):"-"})]})]})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[x.pdf_url&&o.jsxs("a",{href:x.pdf_url,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 rounded-lg border border-bdr bg-app px-3 py-2 text-xs font-bold text-txt-muted hover:text-txt-main",children:[o.jsx(l3,{className:"h-4 w-4"}),"Ver PDF"]}),o.jsxs("button",{onClick:()=>F(!0),className:"inline-flex items-center gap-2 rounded-lg border border-bdr bg-app px-3 py-2 text-xs font-bold text-txt-muted hover:text-txt-main",children:[o.jsx(ub,{className:"h-4 w-4"}),"Editar"]}),o.jsxs("button",{onClick:ge,className:"inline-flex items-center gap-2 rounded-lg bg-green-600 px-3 py-2 text-xs font-black uppercase tracking-wide text-white hover:bg-green-700 disabled:opacity-60",disabled:d||x.status==="PAGO",children:[d?o.jsx(Mh,{className:"h-4 w-4 animate-spin"}):o.jsx(Wv,{className:"h-4 w-4"}),"Marcar como pago"]})]})]})]}),o.jsxs("div",{className:"flex items-center justify-end gap-3 border-t border-bdr px-6 py-4",children:[o.jsx("button",{onClick:t,className:"rounded-lg border border-bdr px-4 py-2 text-sm font-bold text-txt-muted hover:bg-app transition-colors",disabled:s||d,children:"Fechar"}),(j||!x)&&o.jsxs("button",{onClick:ce,disabled:s,className:"inline-flex items-center gap-2 rounded-lg bg-yellow-500 px-4 py-2 text-sm font-black uppercase tracking-wide text-black transition-colors hover:bg-yellow-600 disabled:opacity-50",children:[s?o.jsx(Mh,{className:"h-4 w-4 animate-spin"}):o.jsx(Jv,{className:"h-4 w-4"}),"Salvar dados do boleto"]})]})]})})},gE=$.createContext(void 0),RR=({currentUser:e,children:t})=>{const[n,r]=$.useState(null),[i,s]=$.useState(!0),c=$.useCallback(async()=>{if(!(e!=null&&e.id)||!(e!=null&&e.depositoId)){r(null),s(!1);return}s(!0);const g=await PN(e.id,e.depositoId);r(g),s(!1)},[e==null?void 0:e.id,e==null?void 0:e.depositoId]);$.useEffect(()=>{c()},[c]);const d=$.useCallback(async g=>{if(!(e!=null&&e.id)||!(e!=null&&e.depositoId))return null;const x=await iD({userId:e.id,userName:e.nome,depositId:e.depositoId,openingBalance:g.openingBalance,notes:g.notes??null});return r(x),x},[e==null?void 0:e.id,e==null?void 0:e.depositoId,e==null?void 0:e.nome]),h=$.useCallback(async g=>{if(!n)return null;const x=await aD({shift:n,status:g.status,declared:g.declared,system:g.system,notes:g.notes??null});return r(null),x},[n]),f=$.useMemo(()=>({activeShift:n,loading:i,refresh:c,openShift:d,closeShift:h}),[n,i,c,d,h]);return o.jsx(gE.Provider,{value:f,children:t})},lg=()=>{const e=$.useContext(gE);if(!e)throw new Error("useShift must be used within ShiftProvider");return e},PR=({onClose:e,onNavigate:t})=>{const[n,r]=$.useState("overview"),[i,s]=$.useState(!1),[c,d]=$.useState(!1),[h,f]=$.useState(!1),[g,x]=$.useState("all"),[E,w]=$.useState(null),[I,j]=$.useState(null),[F,S]=$.useState(""),[z,D]=$.useState(""),[G,ce]=$.useState(()=>new Date().toISOString().slice(0,10)),[Y,ge]=$.useState(""),[re,M]=$.useState(""),[X,V]=$.useState(""),[W,oe]=$.useState(()=>new Date().toISOString().slice(0,10)),[me,ye]=$.useState(!1),[se,_e]=$.useState(null),[Z,Ce]=$.useState({}),[Se,te]=$.useState(()=>new Date().toISOString().slice(0,10)),[P,ie]=$.useState(()=>{const le=new Date;return le.setDate(le.getDate()+30),le.toISOString().slice(0,10)}),O=Er(()=>{var le;return(le=Le.financial_settings)==null?void 0:le.toCollection().first()},[]),ae=Er(()=>{var le;return(le=Le.accounts_receivable)==null?void 0:le.toArray()},[]),ue=Er(()=>{var le;return(le=Le.payment_methods)==null?void 0:le.toArray()},[]),je=Er(()=>{var le;return E?(le=Le.receivable_payments)==null?void 0:le.where("receivable_id").equals(E).toArray():[]},[E]),Ve=Er(()=>{var le;return(le=Le.service_orders)==null?void 0:le.toArray()},[]),Ie=Er(()=>{var le;return(le=Le.employees)==null?void 0:le.toArray()},[]),lt=Er(()=>{var le;return(le=Le.deposits)==null?void 0:le.toArray()},[]),wt=Er(()=>{var le;return(le=Le.clients)==null?void 0:le.toArray()},[]),{activeShift:Xe}=lg(),$t=Er(()=>{var le;return Xe!=null&&Xe.id?(le=Le.cash_flow_entries)==null?void 0:le.where("shift_id").equals(Xe.id).toArray():[]},[Xe==null?void 0:Xe.id]),on=Er(()=>{var le;return(le=Le.stock_movements)==null?void 0:le.toArray()},[]),[xe,Ot]=$.useState({monthlyGoal:2e4,minCashAlert:500,showCents:!0}),rn=(O==null?void 0:O.monthly_goal)??xe.monthlyGoal;$.useEffect(()=>{const le=localStorage.getItem("gp_fin_config");le&&Ot(JSON.parse(le))},[]);const dn=({id:le,label:Lt,icon:Qt})=>o.jsxs("button",{onClick:()=>r(le),className:`flex items-center gap-2 px-4 py-3 text-sm font-medium transition-all relative ${n===le?"text-yellow-600 bg-yellow-500/10":"text-txt-muted hover:text-txt-main hover:bg-surface"}`,children:[o.jsx(Qt,{className:`w-4 h-4 ${n===le?"text-yellow-600":"text-txt-muted"}`}),Lt,n===le&&o.jsx("div",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-yellow-500"})]}),xt=le=>le.toLocaleString("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:xe.showCents?2:0}),nn=le=>new Date(`${le}T00:00:00`).getTime(),Vt=le=>{if(!le)return 0;if(typeof le=="number")return le;if(typeof le=="string"){const Qt=le.trim();if(Qt&&!Number.isNaN(Number(Qt)))return Number(Qt)}const Lt=new Date(le).getTime();return Number.isNaN(Lt)?0:Lt},un=le=>{if(!Number.isFinite(le))return;const Lt=nn(Se),Qt=nn(P)+1440*60*1e3-1,Et=new Date(le).toISOString().slice(0,10);le<Lt&&te(Et),le>Qt&&ie(Et)},hn=le=>{const Lt=le.historico_json??le.historico??le.history??[],Qt=le.pagamentos_json??le.pagamentos??le.payments??[],Et=Vt(le.data_hora_criacao??le.dataHoraCriacao??le.created_at_ms??le.created_at??le.createdAt??0),sn=Vt(le.data_hora_conclusao??le.dataHoraConclusao??le.completed_at??le.completedAt??0),Bn=Hs(le);return{id:String(le.id??""),numeroOs:String(le.numero_os??le.numeroOs??le.order_number??le.orderNumber??le.number??le.id??""),depositoId:Bn.depositoId,clienteId:le.cliente_id??le.clienteId??le.client_id??le.clientId??null,clienteNome:le.cliente_nome??le.clienteNome??le.client_name??le.clientName??"",entregadorId:le.entregador_id??le.entregadorId??le.driver_id??le.driverId??null,status:le.status??le.order_status??"PENDENTE",statusEntrega:le.status_entrega??le.statusEntrega??le.delivery_status??null,tipoAtendimento:le.tipo_atendimento??le.tipoAtendimento??le.service_type??"BALCAO",total:Number(le.total??le.total_amount??le.amount??0)||0,createdAtMs:Et,concludedAtMs:sn,historico:Array.isArray(Lt)?Lt:[],pagamentos:Array.isArray(Qt)?Qt:[]}},jn=le=>{const Lt=String(le.status??"").toUpperCase(),Qt=String(le.statusEntrega??"").toUpperCase();return Lt==="ABERTO"||Lt==="OPEN"||Lt==="PENDENTE"||Lt==="EM_ANDAMENTO"||Lt==="PENDENTE_ENTREGA"||Qt==="EM_ROTA"},Mn=nn(Se),_n=nn(P),En=_n+1440*60*1e3-1,Tn=n==="audit"&&(Ve===void 0||Ie===void 0||lt===void 0||wt===void 0),cn=null,mn=$.useMemo(()=>(Ve??[]).map(hn).filter(le=>le.createdAtMs?le.createdAtMs>=Mn&&le.createdAtMs<=En:!1).sort((le,Lt)=>Lt.createdAtMs-le.createdAtMs),[Ve,Mn,En]),en=Ie??[],Fe=lt??[],yt=wt??[],jt=(ae||[]).map(le=>{const Lt=Number(le.valor_total??0),Qt=Number(le.valor_pago??0),Et=Math.max(0,Lt-Qt),Bn=le.vencimento_em<Date.now()&&Et>0,ke=Bn?"VENCIDO":le.status,gt=le.requires_boleto??!1;return{...le,total:Lt,paid:Qt,remaining:Et,overdue:Bn,status:ke,requires_boleto:gt}}),dt=new Map((ue||[]).map(le=>[le.id,le.nome])),Rt=E&&jt.find(le=>le.id===E)||null,Ht=se&&jt.find(le=>le.id===se)||null,Qn=jt.filter(le=>!(!Number.isFinite(le.vencimento_em)||Mn&&le.vencimento_em<Mn||_n&&le.vencimento_em>_n+1440*60*1e3||g==="personal"&&!le.is_personal||g==="with-client"&&!le.client_id));jt.filter(le=>le.status!=="PAGO").reduce((le,Lt)=>le+Lt.remaining,0);const bt=Qn.filter(le=>le.status!=="PAGO").reduce((le,Lt)=>le+Lt.remaining,0);$.useEffect(()=>{if(n!=="receivable")return;let le=!0;return(async()=>{const Qt=Qn.filter(sn=>sn.requires_boleto).map(sn=>sn.id).filter(sn=>!Object.prototype.hasOwnProperty.call(Z,sn));if(!Qt.length)return;const Et=await Promise.all(Qt.map(async sn=>{try{const Bn=await mE(sn);return{id:sn,boleto:Bn,ok:!0}}catch{return{id:sn,boleto:null,ok:!1}}}));le&&Ce(sn=>{const Bn={...sn};for(const ke of Et)ke.ok&&(Object.prototype.hasOwnProperty.call(Bn,ke.id)||(Bn[ke.id]=ke.boleto));return Bn})})(),()=>{le=!1}},[n,Qn,Z]);const kn=le=>le?le.status==="PAGO"?"bg-green-500/10 text-green-500 border-green-500/30 hover:bg-green-500/20":le.status==="CANCELADO"?"bg-red-500/10 text-red-500 border-red-500/30 hover:bg-red-500/20":"bg-amber-500/10 text-amber-500 border-amber-500/30 hover:bg-amber-500/20":"bg-app text-txt-muted border-bdr hover:text-txt-main",jr=le=>le?"Ver boleto":"Emitir",Hn=le=>{_e(le),ye(!0)},wn=le=>{Ce(Lt=>({...Lt,[le.receivable_id]:le}))},cr=()=>{ye(!1),_e(null)},qi=async(le,Lt,Qt,Et)=>{const sn=jt.find(gt=>gt.id===le);if(!sn)return;const Bn=sn.remaining;if(Bn<=0)return alert("Nada pendente para quitar.");const ke=Qt?new Date(`${Qt}T00:00:00`).getTime():void 0;await wv(le,Bn,"user-1",Lt||null,ke,Et)},Fi=async(le,Lt,Qt,Et,sn)=>{const Bn=jt.find(Yt=>Yt.id===le);if(!Bn)return;const ke=Bn.remaining,gt=Number(Lt.replace(",","."));if(!Number.isFinite(gt)||gt<=0)return alert("Valor invlido.");if(gt>ke)return alert("Valor maior que o pendente.");await wv(le,gt,"user-1",null,void 0,sn)},ci=async(le,Lt)=>{const Qt=new Date(Lt+"T00:00:00").getTime();if(!Number.isFinite(Qt))return alert("Data invlida.");await RN(le,{vencimento_em:Qt}),M(""),un(Qt)},Kr=async(le,Lt,Qt)=>{if(!le)return alert("Selecione uma conta.");const Et=Number(Lt.replace(",",".")),sn=new Date(Qt+"T00:00:00").getTime();if(!Number.isFinite(Et)||Et<=0)return alert("Valor invlido.");if(!Number.isFinite(sn))return alert("Data invlida.");const Bn=await Ub({os_id:le.os_id??null,payment_method_id:null,depositoId:Hs(le).depositoId,devedor_nome:le.devedor_nome??le.description??"Cliente",valor_total:Et,status:"ABERTO",criado_em:Date.now(),vencimento_em:sn,description:le.description??null,client_id:le.client_id??null,is_personal:le.is_personal??!1,alert_days_before:le.alert_days_before??1,installment_no:(le.installment_no??1)+1,installments_total:le.installments_total??1});V(""),un(sn),Bn!=null&&Bn.id&&w(Bn.id)},fn=async()=>{if(!Rt)return;const le=F||`${Rt.remaining}`,Lt=Number(le.replace(",","."));if(!Number.isFinite(Lt)||Lt<=0)return alert("Valor invlido.");const Qt=G?new Date(`${G}T00:00:00`).getTime():void 0;if(I){const Et=(je||[]).find(ke=>ke.id===I),sn=Et?`editado de ${Et.valor} para ${Lt} em ${new Date().toLocaleString("pt-BR")}`:"editado",Bn=[Y||null,sn].filter(Boolean).join(" | ");await nD(I,{valor:Lt,data_hora:Qt??Date.now(),payment_method_id:z||null,obs:Bn||null})}else await wv(Rt.id,Lt,"user-1",z||null,Qt,Y);S(""),D(""),ge(""),j(null)},Xi=async le=>{confirm("Excluir esta conta a receber?")&&await WQ(le)},Yn=async le=>{if(!(Xe!=null&&Xe.id))return alert("Nenhum turno aberto para registrar movimentacao.");const Qt=prompt(`Valor da ${le==="SANGRIA"?"sangria":"suprimento"}?`);if(!Qt)return;const Et=Number(Qt.replace(",","."));if(!Number.isFinite(Et)||Et<=0)return alert("Valor invalido.");const sn=prompt("Observacao (opcional)")||null;await HN({category:le,amount:Et,direction:le==="SANGRIA"?"OUT":"IN",paymentType:"cash",notes:sn,depositId:Hs(Xe).depositoId,userName:void 0})},Xn=bt,Oi=0,ze=[],st=[],gn=$.useMemo(()=>{const le=($t??[]).filter(Qt=>{const Et=Number(Qt.created_at??0)||0;return Et>=Mn&&Et<=En}).sort((Qt,Et)=>(Qt.created_at??0)-(Et.created_at??0));let Lt=0;return le.map(Qt=>{const Et=Number(Qt.created_at??0)||0,sn=Number(Qt.amount??0)||0,Bn=Qt.direction==="OUT"?-1:1;Lt+=Bn*sn;const ke=String(Qt.category??"MOVIMENTO").toUpperCase(),gt=Bn>0?"green":Bn<0?"red":"neutral";return{id:Qt.id,time:Et?new Date(Et).toLocaleString("pt-BR"):"-",description:Qt.notes??Qt.reference_type??"Movimento",category:ke,categoryTone:gt,user:Qt.user_name??Qt.user_id??"-",value:Bn*sn,status:Qt.status??"POSTED",balance:Lt,direction:Qt.direction??"IN"}})},[$t,Mn,En]),ur=$.useMemo(()=>{const le=Hs(Xe||{});if(!(Xe!=null&&Xe.opened_at)||!le.depositoId)return!1;const Lt=Xe.opened_at,Qt=Xe.closed_at??Date.now();return(Ve??[]).map(hn).filter(Et=>{const sn=Et.createdAtMs??0;return!sn||Et.depositoId&&Et.depositoId!==le.depositoId?!1:sn>=Lt&&sn<=Qt}).some(Et=>jn(Et))},[Xe,Ve]),Kn=$.useMemo(()=>{const le=new Map;return en.forEach(Lt=>{const Qt=Lt.nome??Lt.name??Lt.username??Lt.id??"";Lt.id&&le.set(String(Lt.id),String(Qt))}),le},[en]),Wn=$.useMemo(()=>{if(!(Xe!=null&&Xe.opened_at))return[];const le=Hs(Xe),Lt=Xe.opened_at,Qt=Xe.closed_at??Date.now();return(Ve??[]).map(hn).filter(Et=>{const sn=Et.createdAtMs??0;return!sn||le.depositoId&&Et.depositoId&&Et.depositoId!==le.depositoId?!1:sn>=Lt&&sn<=Qt}).map(Et=>{var kt;const sn=Array.isArray(Et.historico)?Et.historico:[],Bn=sn.find(Pt=>String((Pt==null?void 0:Pt.acao)??"").toLowerCase().includes("cri")),ke=(Bn==null?void 0:Bn.usuario)??((kt=sn[0])==null?void 0:kt.usuario)??"-",gt=Et.entregadorId&&Kn.get(String(Et.entregadorId))||Et.entregadorId||"-",tn=Et.createdAtMs??0,Yt=tn?new Date(tn).toLocaleString("pt-BR"):"-",Xt=[Et.status,Et.statusEntrega].filter(Boolean).map(Pt=>String(Pt));return{id:Et.id,osNumber:Et.numeroOs||Et.id,openedAt:Yt,openedAtMs:tn,operador:ke,entregador:gt,status:Xt.length?Xt.join(" / "):"-",isOpen:jn(Et)}}).sort((Et,sn)=>(sn.openedAtMs||0)-(Et.openedAtMs||0))},[Xe,Ve,Kn]),Ar=$.useMemo(()=>{if(!(Xe!=null&&Xe.opened_at))return[];const le=Hs(Xe),Lt=Xe.opened_at,Qt=Xe.closed_at??Date.now();return(on??[]).map(Et=>{const sn=new Date(Et.dataHora).getTime();return{...Et,whenMs:sn}}).filter(Et=>!Et.whenMs||le.depositoId&&Et.depositoId&&Et.depositoId!==le.depositoId?!1:Et.whenMs>=Lt&&Et.whenMs<=Qt).map(Et=>({id:Et.id,when:Et.whenMs?new Date(Et.whenMs).toLocaleString("pt-BR"):"-",produto:Et.produtoNome??"-",tipo:Et.tipo??"-",quantidade:Number(Et.quantidade??0)||0,operador:Et.usuarioNome??Et.usuarioId??"-",motivo:Et.motivo??Et.origem??"-",whenMs:Et.whenMs??0})).sort((Et,sn)=>(sn.whenMs||0)-(Et.whenMs||0))},[Xe,on]),Jr=$.useMemo(()=>{const le=new Map;return Fe.forEach(Lt=>{const Qt=Lt.nome??Lt.name??Lt.id??"";Lt.id&&le.set(String(Lt.id),String(Qt))}),le},[Fe]),kr=$.useMemo(()=>{const le=new Map;return yt.forEach(Lt=>{const Qt=Lt.nome??Lt.name??Lt.id??"";Lt.id&&le.set(String(Lt.id),String(Qt))}),le},[yt]),Yr=$.useMemo(()=>mn.map(le=>{const Lt=le.entregadorId&&Kn.get(String(le.entregadorId))||le.entregadorId||"-",Qt=le.clienteNome||le.clienteId&&kr.get(String(le.clienteId))||le.clienteId||"-",Et=le.createdAtMs?new Date(le.createdAtMs).toLocaleString("pt-BR"):"-",sn=le.concludedAtMs?new Date(le.concludedAtMs).toLocaleString("pt-BR"):"-",Bn=le.createdAtMs&&le.concludedAtMs&&le.concludedAtMs>=le.createdAtMs?Math.round((le.concludedAtMs-le.createdAtMs)/6e4):0,ke=String(le.status??"").toUpperCase(),gt=ke==="CONCLUIDA"||ke==="CONCLUIDO"?"CONCLUIDO":ke==="CANCELADA"||ke==="CANCELADO"?"CANCELADO":"PENDENTE";return{osNumber:le.numeroOs||le.id,client:Qt,driver:Lt,openedAt:Et,closedAt:sn,durationMinutes:Bn,status:gt}}),[mn,kr,Kn]),Wr=$.useMemo(()=>{const le=Dn=>String(Dn??"").toLowerCase().normalize("NFD").replace(new RegExp("\\p{Diacritic}","gu"),""),Lt={},Qt={},Et={},sn={},Bn={},ke={};mn.forEach(Dn=>{const Br=String(Dn.status??"").toUpperCase()==="CONCLUIDA",vr=String(Dn.tipoAtendimento??"").toUpperCase()==="DELIVERY";if(Br&&vr&&Dn.entregadorId){const ei=String(Dn.entregadorId);if(Lt[ei]=(Lt[ei]||0)+1,Dn.createdAtMs&&Dn.concludedAtMs&&Dn.concludedAtMs>=Dn.createdAtMs){const ui=(Dn.concludedAtMs-Dn.createdAtMs)/6e4;Qt[ei]||(Qt[ei]={total:0,count:0}),Qt[ei].total+=ui,Qt[ei].count+=1}}if(Br&&Dn.depositoId){const ei=String(Dn.depositoId);Et[ei]=(Et[ei]||0)+Number(Dn.total??0)}const mr=String(Dn.clienteId??Dn.clienteNome??"");mr&&(String(Dn.status??"").toUpperCase()!=="CANCELADA"&&(sn[mr]=(sn[mr]||0)+1),Br&&(Bn[mr]=(Bn[mr]||0)+Number(Dn.total??0))),(Array.isArray(Dn.historico)?Dn.historico:[]).forEach(ei=>{const ui=ei.usuario??ei.user??ei.username??ei.usuarioNome??ei.user_name??"Sistema",dr=le(ei.acao??ei.action??""),za=le(ei.detalhe??ei.detail??"");ke[ui]||(ke[ui]={open:0,close:0}),dr.includes("cri")&&(ke[ui].open+=1),(dr.includes("conclu")||dr.includes("mudan")&&za.includes("conclu")||dr.includes("status")&&za.includes("conclu"))&&(ke[ui].close+=1)})});const gt=Dn=>{let Br="",vr=0;return Object.entries(Dn).forEach(([mr,xs])=>{xs>vr&&(Br=mr,vr=xs)}),{key:Br,value:vr}},tn=gt(Lt);let Yt="",Xt=0;Object.entries(Qt).forEach(([Dn,Br])=>{if(!Br.count)return;const vr=Br.total/Br.count;(!Yt||vr<Xt)&&(Yt=Dn,Xt=vr)});const kt=gt(Et),Pt=gt(sn),ir=gt(Bn);let Jt="",Pr=0,Qi=0,Cn=0;return Object.entries(ke).forEach(([Dn,Br])=>{const vr=Br.open+Br.close;vr>Pr&&(Jt=Dn,Pr=vr,Qi=Br.open,Cn=Br.close)}),{topDriver:{name:tn.key?Kn.get(tn.key)||tn.key:"-",count:tn.value},fastestDriver:{name:Yt?Kn.get(Yt)||Yt:"-",avgMinutes:Xt?Math.round(Xt):0},topDeposit:{name:kt.key?Jr.get(kt.key)||kt.key:"-",total:kt.value},topCashier:{name:Jt||"-",open:Qi,close:Cn},topClientByValue:{name:ir.key?kr.get(ir.key)||ir.key:"-",total:ir.value},topClientByOrders:{name:Pt.key?kr.get(Pt.key)||Pt.key:"-",count:Pt.value}}},[mn,kr,Jr,Kn]),bi=rn>0?Math.min(100,Math.round(Xn/rn*100)):0,Jn=Math.max(0,rn-Xn),ba=gn.reduce((le,Lt)=>Lt.value>0?le+Lt.value:le,0),gr=gn.reduce((le,Lt)=>Lt.value<0?le+Math.abs(Lt.value):le,0),Bi=gn.length?gn[gn.length-1].balance:Xn-Oi;return o.jsxs("div",{className:"fixed inset-0 bg-app z-50 flex flex-col animate-in slide-in-from-bottom-4 duration-300",children:[o.jsxs("div",{className:"bg-surface border-b border-bdr px-6 py-3 shadow-sm shrink-0 z-20 transition-colors",children:[o.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"bg-yellow-500/10 p-2 rounded-lg border border-yellow-500/20",children:o.jsx(_5,{className:"w-6 h-6 text-yellow-600"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-black text-txt-main tracking-tight",children:"Mdulo Financeiro"}),o.jsx("p",{className:"text-xs text-txt-muted font-bold uppercase tracking-widest",children:"Gesto completa de fluxo e resultados"})]})]}),o.jsxs("div",{className:"flex items-center gap-3 bg-app p-1.5 rounded-lg border border-bdr",children:[o.jsxs("div",{className:"flex items-center gap-2 px-2 border-r border-bdr",children:[o.jsx(Dm,{className:"w-4 h-4 text-txt-muted"}),o.jsx("input",{type:"date",className:"bg-transparent border-none text-xs font-bold text-txt-main focus:ring-0 w-24 outline-none",value:Se,onChange:le=>te(le.target.value)})]}),o.jsxs("div",{className:"flex items-center gap-2 px-2",children:[o.jsx("span",{className:"text-xs text-txt-muted font-bold uppercase",children:"at"}),o.jsx("input",{type:"date",className:"bg-transparent border-none text-xs font-bold text-txt-main focus:ring-0 w-24 outline-none",value:P,onChange:le=>ie(le.target.value)})]}),o.jsx("button",{className:"bg-yellow-600 hover:bg-yellow-700 text-white px-3 py-1.5 rounded text-xs font-black uppercase tracking-wide transition-colors shadow-sm",children:"Filtrar"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("button",{className:"flex items-center gap-2 px-3 py-2 text-txt-muted hover:text-txt-main hover:bg-app rounded-lg text-sm font-bold transition-colors border border-transparent hover:border-bdr",children:[o.jsx(eL,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Imprimir"})]}),t&&o.jsxs("button",{onClick:()=>t("delivery-settings"),className:"flex items-center gap-2 px-3 py-2 text-txt-muted hover:text-txt-main hover:bg-app rounded-lg text-sm font-bold transition-colors border border-transparent hover:border-bdr",children:[o.jsx(Ko,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Taxas de Entrega"})]}),o.jsxs("button",{onClick:()=>s(!0),className:"flex items-center gap-2 px-3 py-2 text-txt-muted hover:text-txt-main hover:bg-app rounded-lg text-sm font-bold transition-colors border border-transparent hover:border-bdr",children:[o.jsx(tf,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Configurar"})]}),o.jsx("button",{onClick:e,className:"ml-2 p-2 hover:bg-red-500/10 text-txt-muted hover:text-red-500 rounded-full transition-colors",children:o.jsx(zi,{className:"w-6 h-6"})})]})]}),o.jsxs("div",{className:"flex items-center gap-1 mt-6 border-b border-bdr overflow-x-auto no-scrollbar",children:[o.jsx(dn,{id:"overview",label:"Viso Geral",icon:ww}),o.jsx(dn,{id:"cashflow",label:"Fluxo de Caixa",icon:fh}),o.jsx(dn,{id:"audit",label:"Auditoria de O.S.",icon:md}),o.jsx(dn,{id:"receivable",label:"Contas a Receber",icon:v5}),o.jsx(dn,{id:"payable",label:"Contas a Pagar",icon:qp})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto bg-app p-6 transition-colors",children:o.jsxs("div",{className:"max-w-[1600px] mx-auto space-y-6",children:[n==="overview"&&o.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"bg-surface p-6 rounded-xl shadow-sm border border-bdr flex flex-col relative overflow-hidden transition-colors",children:[o.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5 text-green-600",children:o.jsx(fh,{className:"w-24 h-24"})}),o.jsx("span",{className:"text-xs font-black text-txt-muted uppercase tracking-widest mb-2",children:"Contas a Receber (perodo)"}),o.jsx("div",{className:"text-3xl font-black text-txt-main mb-2",children:xt(Xn)}),o.jsxs("div",{className:"flex items-center text-xs font-bold w-fit px-2 py-1 rounded border border-bdr text-txt-muted bg-app",children:[o.jsx(qp,{className:"w-3 h-3 mr-1"})," Previsto para o perodo selecionado"]})]}),o.jsxs("div",{className:"bg-surface p-6 rounded-xl shadow-sm border border-bdr flex flex-col relative overflow-hidden transition-colors",children:[o.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5 text-red-600",children:o.jsx(nx,{className:"w-24 h-24"})}),o.jsx("span",{className:"text-xs font-black text-txt-muted uppercase tracking-widest mb-2",children:"Custos & Despesas"}),o.jsx("div",{className:"text-3xl font-black text-txt-main mb-2",children:xt(Oi)}),o.jsxs("div",{className:"flex items-center text-xs font-bold w-fit px-2 py-1 rounded border border-bdr text-txt-muted bg-app",children:[o.jsx(qp,{className:"w-3 h-3 mr-1"})," Previsto para o perodo selecionado"]})]}),o.jsxs("div",{className:"bg-gradient-to-br from-yellow-500 to-amber-600 p-6 rounded-xl shadow-lg flex flex-col text-white relative overflow-hidden",children:[o.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 text-white",children:o.jsx(NL,{className:"w-24 h-24"})}),o.jsxs("div",{className:"flex justify-between items-start z-10",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-xs font-black text-yellow-100 uppercase tracking-widest mb-1 block",children:"Meta Mensal"}),o.jsxs("div",{className:"text-3xl font-black text-white mb-1",children:[bi,"%"]}),o.jsx("span",{className:"text-[10px] text-yellow-100 font-bold uppercase tracking-wide",children:"Atingida"})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("span",{className:"text-xs font-bold text-yellow-100 block",children:["Alvo: R$ ",rn.toLocaleString("pt-BR")]}),o.jsxs("span",{className:"text-xs font-bold text-white block mt-1",children:["Falta: R$ ",Jn.toLocaleString("pt-BR")]})]})]}),o.jsx("div",{className:"w-full bg-black/20 rounded-full h-3 mt-4 overflow-hidden border border-white/10 z-10",children:o.jsx("div",{className:"bg-white rounded-full h-full shadow-[0_0_15px_rgba(255,255,255,0.6)] transition-all duration-1000",style:{width:`${bi}%`}})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-surface p-6 rounded-xl shadow-sm border border-bdr transition-colors",children:[o.jsxs("h3",{className:"font-black text-txt-main mb-6 flex items-center gap-2 text-sm uppercase tracking-wide",children:[o.jsx(ww,{className:"w-4 h-4 text-txt-muted"}),"Formas de Pagamento"]}),ze.length===0?o.jsxs("div",{className:"p-6 text-center text-sm text-txt-muted border border-dashed border-bdr rounded-xl bg-app",children:[o.jsx("p",{className:"font-bold",children:"Nenhum dado financeiro disponvel."}),o.jsx("p",{className:"text-xs mt-1",children:"Conecte s fontes reais para ver formas de pagamento."})]}):o.jsx("div",{className:"space-y-5",children:ze.map((le,Lt)=>o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between text-xs font-bold mb-2",children:[o.jsx("span",{className:"text-txt-muted uppercase tracking-wide",children:le.label}),o.jsxs("span",{className:"text-txt-main",children:[xt(le.val)," (",le.pct,"%)"]})]}),o.jsx("div",{className:"w-full bg-app rounded-full h-2.5 border border-bdr",children:o.jsx("div",{className:`h-full rounded-full ${le.color}`,style:{width:`${le.pct}%`}})})]},Lt))})]}),o.jsxs("div",{className:"bg-surface p-6 rounded-xl shadow-sm border border-bdr transition-colors",children:[o.jsxs("h3",{className:"font-black text-txt-main mb-4 flex items-center gap-2 text-sm uppercase tracking-wide",children:[o.jsx(fh,{className:"w-4 h-4 text-txt-muted"}),"Top Produtos (Rentabilidade)"]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-left",children:[o.jsx("thead",{className:"text-[10px] text-txt-muted uppercase font-black border-b border-bdr tracking-wider",children:o.jsxs("tr",{children:[o.jsx("th",{className:"pb-3 pl-2",children:"Produto"}),o.jsx("th",{className:"pb-3 text-right",children:"Vendas"}),o.jsx("th",{className:"pb-3 text-right",children:"Lucro Un."}),o.jsx("th",{className:"pb-3 text-right pr-2",children:"Total"})]})}),o.jsx("tbody",{className:"divide-y divide-bdr",children:st.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:4,className:"py-6 text-center text-txt-muted font-bold",children:"Nenhum produto com dados de rentabilidade no perodo."})}):st.map((le,Lt)=>o.jsxs("tr",{className:"group hover:bg-app transition-colors",children:[o.jsx("td",{className:"py-3 pl-2 font-bold text-txt-main",children:le.nome}),o.jsxs("td",{className:"py-3 text-right font-medium text-txt-muted",children:[le.sales," un"]}),o.jsx("td",{className:"py-3 text-right text-green-600 font-bold",children:xt(le.unitProfit)}),o.jsx("td",{className:"py-3 pr-2 text-right font-black text-txt-main",children:xt(le.total)})]},Lt))})]})})]})]})]}),n==="cashflow"&&o.jsxs("div",{className:"bg-surface rounded-xl shadow-sm border border-bdr flex flex-col min-h-[600px] animate-in fade-in slide-in-from-bottom-2 duration-300 transition-colors",children:[o.jsxs("div",{className:"p-6 border-b border-bdr flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"font-black text-txt-main flex items-center gap-2 text-sm uppercase tracking-wide",children:[o.jsx(fh,{className:"w-5 h-5 text-blue-500"}),"Movimentacao do Caixa"]}),(Xe==null?void 0:Xe.opened_at)&&o.jsxs("p",{className:"text-[11px] font-bold text-txt-muted mt-1",children:["Turno aberto em ",new Date(Xe.opened_at).toLocaleString("pt-BR")]})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs("button",{onClick:()=>Yn("SANGRIA"),className:"flex items-center gap-2 px-4 py-2 bg-red-500/10 text-red-600 hover:bg-red-500/20 rounded-lg text-xs font-black uppercase tracking-wide transition-colors border border-red-500/20",children:[o.jsx(ex,{className:"w-4 h-4"}),"Sangria"]}),o.jsxs("button",{onClick:()=>Yn("SUPRIMENTO"),className:"flex items-center gap-2 px-4 py-2 bg-green-500/10 text-green-600 hover:bg-green-500/20 rounded-lg text-xs font-black uppercase tracking-wide transition-colors border border-green-500/20",children:[o.jsx(wo,{className:"w-4 h-4"}),"Suprimento"]})]})]}),ur&&o.jsx("div",{className:"px-6 py-3 bg-red-500/10 border-b border-red-500/20 text-red-500 text-xs font-bold",children:"Ha O.S em aberto ou em rota vinculadas a este turno. Finalize antes de fechar o caixa."}),o.jsx("div",{className:"px-6 py-4 border-b border-bdr bg-app/30",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[o.jsxs("div",{className:"bg-surface border border-bdr rounded-lg px-4 py-3",children:[o.jsx("div",{className:"text-[10px] uppercase font-black text-txt-muted",children:"Entradas"}),o.jsx("div",{className:"text-sm font-black text-green-600",children:xt(ba)})]}),o.jsxs("div",{className:"bg-surface border border-bdr rounded-lg px-4 py-3",children:[o.jsx("div",{className:"text-[10px] uppercase font-black text-txt-muted",children:"Saidas"}),o.jsx("div",{className:"text-sm font-black text-red-500",children:xt(gr)})]}),o.jsxs("div",{className:"bg-surface border border-bdr rounded-lg px-4 py-3",children:[o.jsx("div",{className:"text-[10px] uppercase font-black text-txt-muted",children:"Saldo"}),o.jsx("div",{className:"text-sm font-black text-txt-main",children:xt(Bi)})]})]})}),o.jsxs("div",{className:"flex-1 overflow-y-auto",children:[o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-left",children:[o.jsx("thead",{className:"bg-app text-[10px] text-txt-muted uppercase font-black tracking-wider border-b border-bdr",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-4",children:"Data/Hora"}),o.jsx("th",{className:"px-6 py-4",children:"Operador"}),o.jsx("th",{className:"px-6 py-4",children:"Tipo"}),o.jsx("th",{className:"px-6 py-4 text-right",children:"Valor"}),o.jsx("th",{className:"px-6 py-4",children:"Status"})]})}),o.jsx("tbody",{className:"divide-y divide-bdr",children:gn.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"px-6 py-10 text-center text-txt-muted font-bold",children:"Nenhuma movimentacao no periodo selecionado."})}):gn.map(le=>o.jsxs("tr",{className:"hover:bg-app transition-colors",children:[o.jsx("td",{className:"px-6 py-3 font-mono text-txt-muted text-xs",children:le.time}),o.jsx("td",{className:"px-6 py-3 font-medium text-txt-muted",children:le.user}),o.jsx("td",{className:"px-6 py-3",children:o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("span",{className:`px-2 py-1 rounded-md text-[10px] font-black uppercase border ${le.categoryTone==="green"?"bg-green-500/10 text-green-600 border-green-500/20":le.categoryTone==="red"?"bg-red-500/10 text-red-600 border-red-500/20":"bg-surface text-txt-muted border-bdr"}`,children:le.category}),le.description&&o.jsx("span",{className:"text-xs text-txt-muted",children:le.description})]})}),o.jsx("td",{className:`px-6 py-3 text-right font-black ${le.value<0?"text-red-500":"text-green-600"}`,children:xt(le.value)}),o.jsx("td",{className:"px-6 py-3",children:o.jsx("span",{className:"px-2 py-1 rounded text-[10px] font-black uppercase border border-bdr bg-app text-txt-muted",children:le.status})})]},le.id))})]})}),o.jsx("div",{className:"border-t border-bdr bg-app/30 px-6 py-4",children:o.jsx("h4",{className:"text-xs font-black text-txt-main uppercase tracking-widest",children:"O.S. do Turno"})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-left",children:[o.jsx("thead",{className:"bg-app text-[10px] text-txt-muted uppercase font-black tracking-wider border-b border-bdr",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-4",children:"O.S."}),o.jsx("th",{className:"px-6 py-4",children:"Abertura"}),o.jsx("th",{className:"px-6 py-4",children:"Operador"}),o.jsx("th",{className:"px-6 py-4",children:"Entregador"}),o.jsx("th",{className:"px-6 py-4",children:"Status"})]})}),o.jsx("tbody",{className:"divide-y divide-bdr",children:Wn.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-txt-muted font-bold",children:"Nenhuma O.S. registrada neste turno."})}):Wn.map(le=>o.jsxs("tr",{className:`hover:bg-app transition-colors ${le.isOpen?"bg-red-500/5":""}`,children:[o.jsx("td",{className:"px-6 py-3 font-black text-txt-main",children:le.osNumber}),o.jsx("td",{className:"px-6 py-3 text-xs text-txt-muted",children:le.openedAt}),o.jsx("td",{className:"px-6 py-3 text-txt-muted",children:le.operador}),o.jsx("td",{className:"px-6 py-3 text-txt-muted",children:le.entregador}),o.jsx("td",{className:"px-6 py-3",children:o.jsx("span",{className:`px-2 py-1 rounded text-[10px] font-black uppercase border ${le.isOpen?"bg-red-500/10 text-red-500 border-red-500/20":"bg-green-500/10 text-green-600 border-green-500/20"}`,children:le.status})})]},le.id))})]})}),o.jsx("div",{className:"border-t border-bdr bg-app/30 px-6 py-4",children:o.jsx("h4",{className:"text-xs font-black text-txt-main uppercase tracking-widest",children:"Movimentos de Estoque"})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-left",children:[o.jsx("thead",{className:"bg-app text-[10px] text-txt-muted uppercase font-black tracking-wider border-b border-bdr",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-4",children:"Data/Hora"}),o.jsx("th",{className:"px-6 py-4",children:"Produto"}),o.jsx("th",{className:"px-6 py-4",children:"Tipo"}),o.jsx("th",{className:"px-6 py-4 text-right",children:"Qtd."}),o.jsx("th",{className:"px-6 py-4",children:"Operador"}),o.jsx("th",{className:"px-6 py-4",children:"Motivo"})]})}),o.jsx("tbody",{className:"divide-y divide-bdr",children:Ar.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-txt-muted font-bold",children:"Nenhum movimento de estoque neste turno."})}):Ar.map(le=>o.jsxs("tr",{className:"hover:bg-app transition-colors",children:[o.jsx("td",{className:"px-6 py-3 text-xs text-txt-muted",children:le.when}),o.jsx("td",{className:"px-6 py-3 font-medium text-txt-main",children:le.produto}),o.jsx("td",{className:"px-6 py-3",children:o.jsx("span",{className:"px-2 py-1 rounded text-[10px] font-black uppercase border border-bdr bg-app text-txt-muted",children:le.tipo})}),o.jsx("td",{className:"px-6 py-3 text-right font-black text-txt-main",children:le.quantidade}),o.jsx("td",{className:"px-6 py-3 text-txt-muted",children:le.operador}),o.jsx("td",{className:"px-6 py-3 text-xs text-txt-muted",children:le.motivo})]},le.id))})]})})]})]}),n==="audit"&&o.jsxs("div",{className:"bg-surface rounded-xl shadow-sm border border-bdr flex flex-col min-h-[600px] animate-in fade-in slide-in-from-bottom-2 duration-300 transition-colors",children:[o.jsx("div",{className:"p-6 border-b border-bdr bg-app/30",children:o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("h3",{className:"font-black text-txt-main flex items-center gap-2 text-sm uppercase tracking-wide",children:[o.jsx(md,{className:"w-5 h-5 text-orange-500"}),"Tempo de Ciclo de Pedidos (Timeline)"]}),o.jsxs("div",{className:"flex gap-2 text-[10px] font-bold uppercase tracking-wide",children:[o.jsx("span",{className:"px-2 py-1 rounded bg-green-500/10 text-green-600 border border-green-500/20",children:"Rpido (< 30min)"}),o.jsx("span",{className:"px-2 py-1 rounded bg-yellow-500/10 text-yellow-600 border border-yellow-500/20",children:"Mdio (30-60min)"}),o.jsx("span",{className:"px-2 py-1 rounded bg-red-500/10 text-red-600 border border-red-500/20",children:"Crtico (> 60min)"})]})]})}),o.jsxs("div",{className:"px-6 py-4 border-b border-bdr bg-app/10",children:[Tn&&o.jsx("p",{className:"text-xs font-bold text-txt-muted mb-3",children:"Carregando dados da auditoria..."}),!Tn&&cn,o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-3",children:[o.jsxs("div",{className:"bg-surface border border-bdr rounded-xl p-4",children:[o.jsx("p",{className:"text-[10px] uppercase font-black text-txt-muted",children:"Entregador com mais entregas"}),o.jsx("p",{className:"text-sm font-black text-txt-main mt-2",children:Wr.topDriver.nome}),o.jsxs("p",{className:"text-xs text-txt-muted",children:[Wr.topDriver.count," entregas"]})]}),o.jsxs("div",{className:"bg-surface border border-bdr rounded-xl p-4",children:[o.jsx("p",{className:"text-[10px] uppercase font-black text-txt-muted",children:"Entregador mais rapido"}),o.jsx("p",{className:"text-sm font-black text-txt-main mt-2",children:Wr.fastestDriver.nome}),o.jsxs("p",{className:"text-xs text-txt-muted",children:[Wr.fastestDriver.avgMinutes," min medio"]})]}),o.jsxs("div",{className:"bg-surface border border-bdr rounded-xl p-4",children:[o.jsx("p",{className:"text-[10px] uppercase font-black text-txt-muted",children:"Deposito que mais vendeu"}),o.jsx("p",{className:"text-sm font-black text-txt-main mt-2",children:Wr.topDeposit.nome}),o.jsx("p",{className:"text-xs text-txt-muted",children:xt(Wr.topDeposit.total)})]}),o.jsxs("div",{className:"bg-surface border border-bdr rounded-xl p-4",children:[o.jsx("p",{className:"text-[10px] uppercase font-black text-txt-muted",children:"Caixa com mais abertura/fechamento"}),o.jsx("p",{className:"text-sm font-black text-txt-main mt-2",children:Wr.topCashier.nome}),o.jsxs("p",{className:"text-xs text-txt-muted",children:[Wr.topCashier.open," aberturas | ",Wr.topCashier.close," fechamentos"]})]}),o.jsxs("div",{className:"bg-surface border border-bdr rounded-xl p-4",children:[o.jsx("p",{className:"text-[10px] uppercase font-black text-txt-muted",children:"Cliente com maior valor"}),o.jsx("p",{className:"text-sm font-black text-txt-main mt-2",children:Wr.topClientByValue.nome}),o.jsx("p",{className:"text-xs text-txt-muted",children:xt(Wr.topClientByValue.total)})]}),o.jsxs("div",{className:"bg-surface border border-bdr rounded-xl p-4",children:[o.jsx("p",{className:"text-[10px] uppercase font-black text-txt-muted",children:"Cliente com mais pedidos"}),o.jsx("p",{className:"text-sm font-black text-txt-main mt-2",children:Wr.topClientByOrders.nome}),o.jsxs("p",{className:"text-xs text-txt-muted",children:[Wr.topClientByOrders.count," pedidos"]})]})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-left",children:[o.jsx("thead",{className:"bg-surface text-[10px] text-txt-muted uppercase font-black border-b border-bdr tracking-wider",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-4",children:"N O.S."}),o.jsx("th",{className:"px-6 py-4",children:"Cliente"}),o.jsx("th",{className:"px-6 py-4",children:"Entregador"}),o.jsx("th",{className:"px-6 py-4",children:"Abertura"}),o.jsx("th",{className:"px-6 py-4",children:"Concluso"}),o.jsx("th",{className:"px-6 py-4 text-center",children:"Durao Total"}),o.jsx("th",{className:"px-6 py-4 text-center",children:"Status"})]})}),o.jsx("tbody",{className:"divide-y divide-bdr",children:Yr.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:7,className:"px-6 py-10 text-center text-txt-muted font-bold",children:"Nenhum registro de O.S. no perodo selecionado."})}):Yr.map((le,Lt)=>o.jsxs("tr",{className:"hover:bg-app transition-colors",children:[o.jsx("td",{className:"px-6 py-4 font-mono font-bold text-txt-main",children:le.osNumber}),o.jsx("td",{className:"px-6 py-4 font-medium text-txt-muted",children:le.client}),o.jsx("td",{className:"px-6 py-4 font-medium text-txt-muted",children:le.driver}),o.jsx("td",{className:"px-6 py-4 text-txt-muted text-xs",children:le.openedAt}),o.jsx("td",{className:"px-6 py-4 text-txt-muted text-xs",children:le.closedAt}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsxs("span",{className:"font-black text-green-600",children:[le.durationMinutes," min"]})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx("span",{className:`px-2 py-1 rounded-md text-[10px] font-black uppercase border ${le.status==="CONCLUIDO"?"bg-green-500/10 text-green-600 border-green-500/20":le.status==="PENDENTE"?"bg-yellow-500/10 text-yellow-600 border-yellow-500/20":"bg-red-500/10 text-red-600 border-red-500/20"}`,children:le.status==="CONCLUIDO"?"CONCLUDO":le.status==="PENDENTE"?"PENDENTE":"CANCELADO"})})]},Lt))})]})})]}),n==="receivable"&&o.jsxs("div",{className:"bg-surface rounded-xl shadow-sm border border-bdr flex flex-col min-h-[600px] animate-in fade-in slide-in-from-bottom-2 duration-300 transition-colors",children:[o.jsxs("div",{className:"p-6 border-b border-bdr flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"font-black text-txt-main flex items-center gap-2 text-sm uppercase tracking-wide",children:[o.jsx(Dh,{className:"w-5 h-5 text-green-500"}),"Contas a Receber"]}),o.jsx("p",{className:"text-xs text-txt-muted font-bold",children:"Prximas no perodo filtrado"})]}),o.jsxs("button",{onClick:()=>f(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg text-xs font-black uppercase tracking-wide text-white shadow-sm transition-transform active:scale-95 bg-green-600 hover:bg-green-700",children:[o.jsx(wo,{className:"w-4 h-4"}),"Nova Conta"]})]}),o.jsxs("div",{className:"px-6 py-4 border-b border-bdr flex flex-wrap items-center justify-between gap-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm font-semibold text-txt-muted uppercase",children:"Total previsto"}),o.jsx("span",{className:"text-2xl font-black text-green-500",children:xt(bt)})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-[11px] font-bold text-txt-muted uppercase",children:"Filtro"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>x("all"),className:`px-3 py-1.5 rounded text-xs font-black border ${g==="all"?"bg-green-600 text-white border-green-500":"bg-app text-txt-muted border-bdr"}`,children:"Todos"}),o.jsx("button",{onClick:()=>x("personal"),className:`px-3 py-1.5 rounded text-xs font-black border ${g==="personal"?"bg-purple-600 text-white border-purple-500":"bg-app text-txt-muted border-bdr"}`,children:"Pessoais"}),o.jsx("button",{onClick:()=>x("with-client"),className:`px-3 py-1.5 rounded text-xs font-black border ${g==="with-client"?"bg-blue-600 text-white border-blue-500":"bg-app text-txt-muted border-bdr"}`,children:"Com cliente"})]})]})]}),o.jsx("div",{className:"flex-1 overflow-x-auto",children:Qn.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center text-txt-muted p-12",children:[o.jsx(dm,{className:"w-16 h-16 mb-4 opacity-20"}),o.jsx("p",{className:"text-lg font-bold mb-2 text-txt-main",children:"Nenhum registro encontrado neste perodo"}),o.jsx("p",{className:"text-sm font-medium opacity-70",children:"Use o filtro de datas ou adicione novas contas."})]}):o.jsxs("table",{className:"w-full text-sm text-left",children:[o.jsx("thead",{className:"bg-app text-[10px] text-txt-muted uppercase font-black tracking-wider border-b border-bdr",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3",children:"Descrio / Cliente"}),o.jsx("th",{className:"px-4 py-3",children:"Vencimento"}),o.jsx("th",{className:"px-4 py-3 text-right",children:"Valor"}),o.jsx("th",{className:"px-4 py-3 text-right",children:"Pago"}),o.jsx("th",{className:"px-4 py-3 text-right",children:"Pendente"}),o.jsx("th",{className:"px-4 py-3 text-center",children:"Status"}),o.jsx("th",{className:"px-4 py-3 text-center",children:"Tipo"}),o.jsx("th",{className:"px-4 py-3 text-right",children:"Aes"})]})}),o.jsx("tbody",{className:"divide-y divide-bdr",children:Qn.sort((le,Lt)=>(le.vencimento_em||0)-(Lt.vencimento_em||0)).map(le=>{const Lt=Z[le.id];return o.jsxs("tr",{className:"hover:bg-app transition-colors",children:[o.jsxs("td",{className:"px-4 py-3",children:[o.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[o.jsx("span",{className:"font-bold text-txt-main",children:le.description||le.devedor_nome||"Conta"}),le.requires_boleto&&o.jsx("span",{className:"px-2 py-0.5 rounded border border-amber-500/30 bg-amber-500/10 text-[10px] font-black uppercase tracking-wide text-amber-400",children:"Boleto"})]}),le.devedor_nome&&o.jsx("div",{className:"text-xs text-txt-muted",children:le.devedor_nome})]}),o.jsx("td",{className:"px-4 py-3 text-txt-muted",children:new Date(le.vencimento_em).toLocaleDateString("pt-BR")}),o.jsx("td",{className:"px-4 py-3 text-right font-semibold",children:xt(le.total)}),o.jsx("td",{className:"px-4 py-3 text-right text-txt-muted",children:xt(le.paid)}),o.jsx("td",{className:"px-4 py-3 text-right font-black text-green-500",children:xt(le.remaining)}),o.jsx("td",{className:"px-4 py-3 text-center",children:o.jsx("span",{className:`px-2 py-1 rounded-md text-[10px] font-black uppercase border ${le.overdue?"bg-red-500/10 text-red-600 border-red-500/20":"bg-amber-500/10 text-amber-600 border-amber-500/20"}`,children:le.overdue?"Vencido":le.status})}),o.jsx("td",{className:"px-4 py-3 text-center",children:le.is_personal?o.jsx("span",{className:"px-2 py-1 rounded bg-purple-500/10 text-purple-500 text-[10px] font-black uppercase border border-purple-500/20",children:"Pessoal"}):o.jsx("span",{className:"px-2 py-1 rounded bg-green-500/10 text-green-600 text-[10px] font-black uppercase border border-green-500/20",children:"Comrcio"})}),o.jsx("td",{className:"px-4 py-3 text-right",children:o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[le.requires_boleto?o.jsxs("button",{title:Lt?"Ver boleto":"Emitir boleto",onClick:()=>Hn(le.id),className:`flex items-center gap-1 px-2 py-1 rounded text-xs font-bold border ${kn(Lt)}`,children:[o.jsx(Jv,{className:"w-4 h-4"}),jr(Lt)]}):null,o.jsx("button",{title:"Detalhes",onClick:()=>{w(le.id),M(new Date(le.vencimento_em).toISOString().slice(0,10)),S(""),D(""),ce(new Date().toISOString().slice(0,10))},className:"px-2 py-1 rounded text-xs font-bold bg-app border border-bdr text-txt-muted",children:"Detalhes"}),o.jsx("button",{title:"Registrar pagamento parcial",onClick:()=>{const Qt=prompt("Valor a registrar?",le.remaining.toFixed(2));Qt&&Fi(le.id,Qt)},className:"p-2 rounded border border-bdr hover:bg-app text-txt-muted",children:o.jsx(rx,{className:"w-4 h-4"})}),o.jsx("button",{title:"Quitar",onClick:()=>qi(le.id,"",void 0),className:"px-2 py-1 rounded text-xs font-bold bg-green-600 text-white",children:"Baixar"}),o.jsx("button",{title:"Excluir",onClick:()=>Xi(le.id),className:"p-2 rounded border border-red-500/40 text-red-500 hover:bg-red-500/10",children:o.jsx(oo,{className:"w-4 h-4"})})]})})]},le.id)})})]})})]}),n==="payable"&&o.jsxs("div",{className:"bg-surface rounded-xl shadow-sm border border-bdr flex flex-col min-h-[600px] animate-in fade-in slide-in-from-bottom-2 duration-300 transition-colors",children:[o.jsxs("div",{className:"p-6 border-b border-bdr flex justify-between items-center",children:[o.jsxs("h3",{className:"font-black text-txt-main flex items-center gap-2 text-sm uppercase tracking-wide",children:[o.jsx(Dh,{className:"w-5 h-5 text-red-500"}),"Contas a Pagar"]}),o.jsxs("button",{onClick:()=>d(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg text-xs font-black uppercase tracking-wide text-white shadow-sm transition-transform active:scale-95 bg-red-600 hover:bg-red-700",children:[o.jsx(wo,{className:"w-4 h-4"}),"Nova Despesa"]})]}),o.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-txt-muted p-12",children:[o.jsx(dm,{className:"w-16 h-16 mb-4 opacity-20"}),o.jsx("p",{className:"text-lg font-bold mb-2 text-txt-main",children:"Nenhum registro encontrado neste perodo"}),o.jsx("p",{className:"text-sm font-medium opacity-70",children:"Utilize o boto acima para adicionar novos registros manualmente ou altere o filtro de datas."})]})]})]})}),E&&Rt&&o.jsx("div",{className:"fixed inset-0 bg-black/70 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-surface w-full max-w-3xl rounded-xl border border-bdr shadow-xl text-white flex flex-col max-h-[90vh]",children:[o.jsxs("div",{className:"flex items-center justify-between px-5 py-4 border-b border-bdr",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-black",children:"Detalhes da Conta"}),o.jsxs("p",{className:"text-xs text-txt-muted",children:[Rt.description||Rt.devedor_nome||"Conta","  Vence em ",new Date(Rt.vencimento_em).toLocaleDateString("pt-BR")]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>window.print(),className:"px-3 py-2 rounded bg-app border border-bdr text-sm font-bold",children:"Imprimir"}),o.jsx("button",{onClick:()=>w(null),className:"p-2 rounded hover:bg-red-500/10 text-txt-muted hover:text-red-400",children:"Fechar"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 px-5 py-4 border-b border-bdr text-sm",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-txt-muted text-xs uppercase font-bold",children:"Valor"}),o.jsx("div",{className:"text-xl font-black",children:xt(Rt.total)})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-txt-muted text-xs uppercase font-bold",children:"Pago"}),o.jsx("div",{className:"text-lg font-semibold text-green-400",children:xt(Rt.paid)})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-txt-muted text-xs uppercase font-bold",children:"Pendente"}),o.jsx("div",{className:"text-lg font-black text-amber-400",children:xt(Rt.remaining)})]})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto px-5 py-4 space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"p-4 rounded border border-bdr bg-app/60",children:[o.jsxs("h4",{className:"text-sm font-black mb-3 flex items-center gap-2",children:[o.jsx(rx,{className:"w-4 h-4"})," Registrar pagamento"]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("input",{value:F,onChange:le=>S(le.target.value),placeholder:"Valor",className:"w-full p-2 rounded bg-app border border-bdr text-white"}),o.jsx("input",{type:"date",value:G,onChange:le=>ce(le.target.value),className:"w-full p-2 rounded bg-app border border-bdr text-white"}),o.jsxs("select",{value:z,onChange:le=>D(le.target.value),className:"w-full p-2 rounded bg-app border border-bdr text-white",children:[o.jsx("option",{value:"",children:"Forma de pagamento"}),(ue||[]).map(le=>o.jsx("option",{value:le.id,children:le.nome},le.id))]}),o.jsx("input",{value:Y,onChange:le=>ge(le.target.value),placeholder:"Observaes (opcional)",className:"w-full p-2 rounded bg-app border border-bdr text-white"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:fn,className:"flex-1 bg-amber-500 text-black font-black py-2 rounded disabled:opacity-60",children:I?"Atualizar":"Salvar pagamento"}),o.jsx("button",{onClick:()=>qi(Rt.id,z,G,Y),className:"flex-1 bg-green-600 text-white font-black py-2 rounded",children:"Quitar pendente"})]}),I&&o.jsx("button",{onClick:()=>{j(null),S(""),ge("")},className:"text-xs text-txt-muted underline",children:"Cancelar edio"})]})]}),o.jsxs("div",{className:"p-4 rounded border border-bdr bg-app/60",children:[o.jsx("h4",{className:"text-sm font-black mb-3",children:"Ajustar vencimento"}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("input",{type:"date",value:re||new Date(Rt.vencimento_em).toISOString().slice(0,10),onChange:le=>M(le.target.value),className:"w-full p-2 rounded bg-app border border-bdr text-white"}),o.jsx("button",{onClick:()=>ci(Rt.id,re||new Date(Rt.vencimento_em).toISOString().slice(0,10)),className:"w-full bg-blue-600 text-white font-black py-2 rounded",children:"Salvar nova data"})]})]})]}),o.jsxs("div",{className:"p-4 rounded border border-bdr bg-app/60",children:[o.jsx("h4",{className:"text-sm font-black mb-3",children:"Histrico de pagamentos"}),je&&je.length>0?o.jsx("div",{className:"space-y-2",children:je.sort((le,Lt)=>Lt.data_hora-le.data_hora).map(le=>o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between text-sm bg-app rounded px-3 py-2 border border-bdr gap-2",children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-semibold",children:xt(le.valor)}),o.jsxs("div",{className:"text-xs text-txt-muted",children:[new Date(le.data_hora).toLocaleString("pt-BR"),le.payment_method_id?`  Forma: ${dt.get(le.payment_method_id)||le.payment_method_id}`:""]}),le.obs&&o.jsxs("div",{className:"text-xs text-amber-400",children:["Obs: ",le.obs]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:"text-xs text-txt-muted",children:["Usurio: ",le.usuario_id]}),o.jsx("button",{className:"px-2 py-1 rounded text-xs font-bold bg-app border border-bdr text-txt-muted",onClick:()=>{j(le.id),S(String(le.valor)),D(le.payment_method_id||""),ce(new Date(le.data_hora).toISOString().slice(0,10)),ge(le.obs||"")},children:"Editar"})]})]},le.id))}):o.jsx("p",{className:"text-sm text-txt-muted",children:"Nenhum pagamento registrado."})]}),o.jsxs("div",{className:"p-4 rounded border border-bdr bg-app/60",children:[o.jsx("h4",{className:"text-sm font-black mb-3",children:"Nova parcela"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:[o.jsx("input",{value:X,onChange:le=>V(le.target.value),placeholder:"Valor da parcela",className:"p-2 rounded bg-app border border-bdr text-white"}),o.jsx("input",{type:"date",value:W,onChange:le=>oe(le.target.value),className:"p-2 rounded bg-app border border-bdr text-white"}),o.jsx("button",{onClick:()=>Kr(Rt,X,W),className:"bg-amber-500 text-black font-black py-2 rounded disabled:opacity-60",disabled:!X,children:"Gerar parcela"})]})]})]})]})}),o.jsx(JD,{isOpen:i,onClose:()=>s(!1),defaultGoal:rn}),o.jsx(YD,{isOpen:c,onClose:()=>d(!1)}),o.jsx(XD,{isOpen:h,onClose:()=>f(!1)}),me&&Ht&&o.jsx(MR,{receivable:Ht,onClose:cr,onSaved:wn})]})},HR=({onClose:e})=>{const[t,n]=$.useState("count"),[r]=$.useState({id:"user-1",name:"Administrador",role:"ADMIN"}),i=r.role==="ADMIN",[s,c]=$.useState(""),[d,h]=$.useState([]),[f,g]=$.useState([]),[x,E]=$.useState({}),[w,I]=$.useState([]),[j,F]=$.useState({produtoId:"",quantidade:"",motivo:"",obs:""}),[S,z]=$.useState({originId:"",destId:"",produtoId:"",quantidade:"",motivo:""}),[D,G]=$.useState({depositId:"",produtoId:"",quantidade:"",origem:"",obs:""}),ce=Er(()=>Le.deposits.toArray(),[]),Y=$.useMemo(()=>(ce||[]).filter(O=>O.ativo!==!1),[ce]);$.useEffect(()=>{if(!Y.length)return;const O=Y[0].id;c(ae=>ae||O),z(ae=>{var ue;return{...ae,originId:ae.originId||O,destId:ae.destId||((ue=Y[1])==null?void 0:ue.id)||O}}),G(ae=>({...ae,depositId:ae.depositId||O}))},[Y]);const ge=O=>{var ae;return((ae=Y.find(ue=>ue.id===O))==null?void 0:ae.nome)||"Selecionar depsito"},re=O=>O.deposit_id??O.depositId??O.depositoId??null,M=O=>(O.is_delivery_fee??O.isDeliveryFee)===!0||String(O.product_group??O.codigo??"").toLowerCase()==="delivery_fee"?!0:String(O.nome??"").toLowerCase()==="taxa de entrega",X=O=>M(O)||(O.track_stock??O.trackStock)===!1?!0:O.type==="SERVICE",V=async()=>{const O=await fA(),ae=t==="transfer"?S.originId:t==="supply"?D.depositId:s;if(!ae){g([]);return}const ue=O.filter(Ie=>{if(X(Ie))return!1;const lt=re(Ie);return lt===null||lt===ae});h(ue);const je=await rg(ae),Ve=ue.map(Ie=>{const lt=Object.prototype.hasOwnProperty.call(je,Ie.id),wt=lt?Number(je[Ie.id]):null,Xe=typeof Ie.current_stock=="number"?Ie.current_stock:typeof Ie.quantidade_atual=="number"?Ie.quantidade_atual:null,$t=lt?Number.isFinite(wt)?wt:0:Xe!==null?Number(Xe):0;return{depositoId:ae,produtoId:Ie.id,quantidade:$t}});g(Ve)};$.useEffect(()=>{V()},[s,t,S.originId,D.depositId]);const W=O=>{var ae;return((ae=f.find(ue=>ue.produtoId===O))==null?void 0:ae.quantidade)||0},oe=(O,ae)=>{const ue=parseInt(ae);E(je=>({...je,[O]:isNaN(ue)?"":Math.max(0,ue)}))},me=(O,ae)=>{const ue=x[O];return ue===""||ue===void 0?null:ue-ae},ye=()=>{E({})},se=()=>{const O={};d.forEach(ae=>{O[ae.id]=W(ae.id)}),E(O)},_e=async()=>{const O=[];if(d.forEach(ae=>{const ue=W(ae.id),je=x[ae.id];je!==""&&je!==void 0&&je!==ue&&O.push({prod:ae,current:ue,counted:je,diff:je-ue})}),O.length===0){alert("Nenhuma divergncia encontrada ou nenhum item contado para registrar.");return}if(confirm(`Confirma o ajuste de estoque para ${O.length} itens com divergncia?`)){for(const ae of O){const ue={id:crypto.randomUUID(),dataHora:new Date().toISOString(),depositoId:s,produtoId:ae.prod.id,produtoNome:ae.prod.nome,tipo:"AJUSTE_CONTAGEM",quantidade:Math.abs(ae.diff),origem:"TELA_CONTAGEM_MOVIMENTACAO",usuarioId:r.id,usuarioNome:r.name,motivo:`Ajuste de Inventrio: Era ${ae.current}, Contado ${ae.counted}`,meta:{beforeQty:ae.current,afterQty:ae.counted,divergence:ae.diff}};await ch(ue)}alert("Contagem registrada com sucesso!"),ye(),await V()}},Z=()=>{if(!j.produtoId)return alert("Selecione um produto.");if(!j.motivo)return alert("Informe o motivo da sada.");const O=parseInt(j.quantidade);if(isNaN(O)||O<=0)return alert("Quantidade deve ser maior que zero.");const ae=W(j.produtoId);if(O>ae)return alert(`Quantidade indisponvel. Estoque atual: ${ae}`);const ue=d.find(Ve=>Ve.id===j.produtoId);if(!ue)return;const je={id:crypto.randomUUID(),produtoId:ue.id,produtoNome:ue.nome,quantidade:O,estoqueAtual:ae,motivo:j.motivo,obs:j.obs};I([...w,je]),F({...j,produtoId:"",quantidade:"",obs:""})},Ce=O=>{I(w.filter(ae=>ae.id!==O))},Se=async()=>{if(w.length===0)return alert("Adicione itens  lista antes de salvar.");if(confirm(`Confirma a sada (sangria) de ${w.length} itens do estoque?`)){for(const O of w){const ae={id:crypto.randomUUID(),dataHora:new Date().toISOString(),depositoId:s,produtoId:O.produtoId,produtoNome:O.produtoNome,tipo:"SANGRIA_SAIDA",quantidade:O.quantidade,origem:"TELA_CONTAGEM_MOVIMENTACAO",usuarioId:r.id,usuarioNome:r.name,motivo:O.motivo+(O.obs?` (${O.obs})`:""),meta:{beforeQty:O.estoqueAtual,afterQty:O.estoqueAtual-O.quantidade,requestedQty:O.quantidade}};await ch(ae)}alert("Sangria registrada com sucesso!"),I([]),await V()}},te=async()=>{if(S.originId===S.destId)return alert("Origem e destino devem ser diferentes.");if(!S.produtoId)return alert("Selecione um produto.");if(!S.quantidade)return alert("Informe a quantidade.");const O=parseInt(S.quantidade),ae=W(S.produtoId);if(O>ae)return alert(`Saldo insuficiente na origem. Disponvel: ${ae}`);const ue=d.find(Ve=>Ve.id===S.produtoId);if(!ue||!confirm(`Confirmar transferncia de ${O} ${ue.nome}?
De: ${S.originId}
Para: ${S.destId}`))return;const je=new Date().toISOString();await ch({id:crypto.randomUUID(),dataHora:je,depositoId:S.originId,produtoId:ue.id,produtoNome:ue.nome,tipo:"SAIDA",quantidade:O,origem:"TELA_CONTAGEM_MOVIMENTACAO",usuarioId:r.id,usuarioNome:r.name,motivo:`Transferncia para ${S.destId}`,meta:{transferTarget:S.destId}}),await ch({id:crypto.randomUUID(),dataHora:je,depositoId:S.destId,produtoId:ue.id,produtoNome:ue.nome,tipo:"ENTRADA",quantidade:O,origem:"TELA_CONTAGEM_MOVIMENTACAO",usuarioId:r.id,usuarioNome:r.name,motivo:`Transferncia recebida de ${S.originId}`,meta:{transferSource:S.originId}}),alert("Transferncia realizada com sucesso!"),z({...S,quantidade:"",produtoId:""}),await V()},P=async()=>{if(!D.produtoId)return alert("Selecione um produto.");if(!D.quantidade)return alert("Informe a quantidade.");const O=parseInt(D.quantidade);if(isNaN(O)||O<=0)return alert("Quantidade invlida.");const ae=d.find(ue=>ue.id===D.produtoId);ae&&confirm(`Confirmar entrada de ${O} ${ae.nome} em ${D.depositId}?`)&&(await ch({id:crypto.randomUUID(),dataHora:new Date().toISOString(),depositoId:D.depositId,produtoId:ae.id,produtoNome:ae.nome,tipo:"SUPRIMENTO_ENTRADA",quantidade:O,origem:"TELA_CONTAGEM_MOVIMENTACAO",usuarioId:r.id,usuarioNome:r.name,motivo:`Entrada de Suprimento: ${D.origem||"No informado"}`,meta:{obs:D.obs}}),alert("Entrada de suprimento registrada!"),G({...D,quantidade:"",produtoId:"",origem:"",obs:""}),await V())},ie=({text:O})=>o.jsxs("div",{className:"group relative inline-block ml-2 align-middle",children:[o.jsx(KS,{className:"w-4 h-4 text-txt-muted cursor-help hover:text-primary transition-colors"}),o.jsx("div",{className:"absolute bottom-full mb-2 left-1/2 -translate-x-1/2 w-64 p-3 bg-surface border border-bdr text-txt-main text-xs rounded-lg shadow-xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50 pointer-events-none text-center",children:O})]});return o.jsxs("div",{className:"fixed inset-0 bg-app z-50 flex flex-col animate-in slide-in-from-bottom-4 duration-300",children:[o.jsxs("div",{className:"bg-surface border-b border-bdr px-6 py-4 flex justify-between items-center shadow-sm shrink-0 transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"bg-primary/10 p-2 rounded-lg border border-primary/20",children:o.jsx(Qh,{className:"w-6 h-6 text-primary"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-txt-main",children:"Contagem e Movimentao"}),o.jsx("p",{className:"text-sm text-txt-muted",children:"Gesto de estoque fsico por depsito"})]})]}),o.jsx("button",{onClick:e,className:"p-2 hover:bg-app rounded-full text-txt-muted transition-colors",children:o.jsx(zi,{className:"w-6 h-6"})})]}),o.jsx("div",{className:"bg-surface border-b border-bdr px-6 transition-colors",children:o.jsxs("div",{className:"flex gap-8 overflow-x-auto",children:[o.jsxs("button",{onClick:()=>n("count"),className:`pb-4 pt-4 text-sm font-bold border-b-2 transition-colors flex items-center gap-2 ${t==="count"?"border-primary text-primary":"border-transparent text-txt-muted hover:text-txt-main"}`,children:[o.jsx(Qh,{className:"w-4 h-4"}),"Contagem (Ajuste)",o.jsx(ie,{text:"Conferncia fsica do estoque para corrigir divergncias com o sistema."})]}),o.jsxs("button",{onClick:()=>n("bleed"),className:`pb-4 pt-4 text-sm font-bold border-b-2 transition-colors flex items-center gap-2 ${t==="bleed"?"border-primary text-primary":"border-transparent text-txt-muted hover:text-txt-main"}`,children:[o.jsx(ex,{className:"w-4 h-4"}),"Sangria (Sada)",o.jsx(ie,{text:"Remover estoque manualmente (ex: perda, roubo, doao, consumo interno)."})]}),o.jsxs("button",{onClick:()=>n("transfer"),className:`pb-4 pt-4 text-sm font-bold border-b-2 transition-colors flex items-center gap-2 ${t==="transfer"?"border-primary text-primary":"border-transparent text-txt-muted hover:text-txt-main"}`,children:[o.jsx(bw,{className:"w-4 h-4"}),"Transferncia",o.jsx(ie,{text:"Mover estoque entre depsitos (Ex: Depsito -> Caminho)."})]}),o.jsxs("button",{onClick:()=>n("supply"),className:`pb-4 pt-4 text-sm font-bold border-b-2 transition-colors flex items-center gap-2 ${t==="supply"?"border-primary text-primary":"border-transparent text-txt-muted hover:text-txt-main"}`,children:[o.jsx(wo,{className:"w-4 h-4"}),"Suprimento",o.jsx(ie,{text:"Entrada de estoque vindo de fornecedores ou compras."})]})]})}),o.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-app transition-colors",children:o.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[t==="count"&&o.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[o.jsxs("div",{className:"bg-surface p-6 rounded-xl shadow-sm border border-bdr flex flex-col md:flex-row justify-between items-center gap-4 transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto",children:[o.jsx("div",{className:"p-3 bg-app rounded-full border border-bdr",children:o.jsx(lb,{className:"w-6 h-6 text-txt-muted"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"text-xs font-bold text-txt-muted uppercase block mb-1",children:"Depsito Ativo"}),i?o.jsxs("select",{value:s,onChange:O=>c(O.target.value),className:"bg-app border border-bdr text-txt-main font-bold rounded-lg p-2 text-sm focus:ring-2 focus:ring-primary outline-none min-w-[200px]",disabled:!Y.length,children:[o.jsx("option",{value:"",disabled:!0,children:"Selecione um depsito..."}),Y.map(O=>o.jsx("option",{value:O.id,children:O.nome},O.id))]}):o.jsx("div",{className:"text-lg font-black text-txt-main",children:ge(s)})]})]}),o.jsxs("div",{className:"flex gap-3 w-full md:w-auto",children:[o.jsx("button",{onClick:V,className:"flex-1 md:flex-none px-4 py-2 border border-bdr text-txt-muted hover:bg-app hover:text-txt-main rounded-lg text-sm font-bold transition-colors",children:"Recarregar"}),o.jsx("button",{onClick:se,className:"flex-1 md:flex-none px-4 py-2 border border-bdr text-txt-muted hover:bg-app hover:text-txt-main rounded-lg text-sm font-bold transition-colors",children:"Repetir Atual"}),o.jsx("button",{onClick:ye,className:"flex-1 md:flex-none px-4 py-2 border border-bdr text-red-400 hover:bg-red-500/10 hover:text-red-500 rounded-lg text-sm font-bold transition-colors",children:"Limpar"})]})]}),o.jsxs("div",{className:"bg-amber-500/10 border border-amber-500/20 rounded-xl p-4 flex items-start gap-3",children:[o.jsx(fm,{className:"w-5 h-5 text-amber-500 shrink-0 mt-0.5"}),o.jsxs("div",{className:"text-sm text-txt-main",children:[o.jsx("p",{className:"font-bold text-amber-600 mb-1",children:"Ateno na Contagem"}),"O ajuste de contagem  uma operao crtica. Ao salvar, a diferena (sobra ou falta) ser aplicada imediatamente ao estoque fsico do depsito selecionado e um log de auditoria ser gerado."]})]}),o.jsx("div",{className:"bg-surface rounded-xl shadow-sm border border-bdr overflow-hidden transition-colors",children:o.jsxs("table",{className:"w-full text-left text-sm",children:[o.jsx("thead",{className:"bg-app border-b border-bdr text-xs uppercase font-bold text-txt-muted",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-4",children:"Produto"}),o.jsx("th",{className:"px-6 py-4 text-center w-32",children:"Estoque Atual"}),o.jsx("th",{className:"px-6 py-4 text-center w-40 bg-primary/5 text-primary border-x border-primary/10",children:"Contagem Fsica"}),o.jsx("th",{className:"px-6 py-4 text-center w-32",children:"Diferena"}),o.jsx("th",{className:"px-6 py-4 text-center w-32",children:"Status"})]})}),o.jsx("tbody",{className:"divide-y divide-bdr",children:d.map(O=>{const ae=W(O.id),ue=me(O.id,ae),je=x[O.id]!==""&&x[O.id]!==void 0;return o.jsxs("tr",{className:`transition-colors ${je?"bg-primary/5":"hover:bg-app"}`,children:[o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`w-8 h-8 rounded flex items-center justify-center border ${je?"bg-primary text-white border-primary":"bg-app text-txt-muted border-bdr"}`,children:O.tipo.includes("GAS")?o.jsx(ob,{className:"w-4 h-4"}):o.jsx(gd,{className:"w-4 h-4"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-bold text-txt-main",children:O.nome}),o.jsx("p",{className:"text-[10px] text-txt-muted",children:O.tipo})]})]})}),o.jsx("td",{className:"px-6 py-4 text-center font-mono text-txt-muted text-lg",children:ae}),o.jsx("td",{className:"px-6 py-4 text-center border-x border-bdr/50",children:o.jsx("input",{type:"number",min:"0",placeholder:"-",value:x[O.id]??"",onChange:Ve=>oe(O.id,Ve.target.value),className:"w-24 text-center font-black text-lg bg-surface border-2 border-bdr rounded-lg py-1 focus:border-primary focus:ring-4 focus:ring-primary/10 outline-none transition-all text-txt-main placeholder:text-txt-muted/30"})}),o.jsx("td",{className:"px-6 py-4 text-center",children:je&&o.jsxs("span",{className:`font-black text-lg ${ue>0?"text-emerald-500":ue<0?"text-red-500":"text-txt-muted"}`,children:[ue>0?"+":"",ue]})}),o.jsx("td",{className:"px-6 py-4 text-center",children:je?ue===0?o.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md bg-emerald-500/10 text-emerald-600 text-[10px] font-black uppercase border border-emerald-500/20",children:[o.jsx(Ml,{className:"w-3 h-3"})," OK"]}):ue>0?o.jsx("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md bg-blue-500/10 text-blue-600 text-[10px] font-black uppercase border border-blue-500/20",children:"Sobra"}):o.jsx("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md bg-red-500/10 text-red-600 text-[10px] font-black uppercase border border-red-500/20",children:"Falta"}):o.jsx("span",{className:"text-txt-muted opacity-30 text-xs font-medium",children:"-"})})]},O.id)})})]})}),o.jsxs("div",{className:"bg-surface p-6 rounded-xl shadow-lg border border-bdr flex justify-between items-center transition-colors",children:[o.jsxs("div",{className:"text-sm text-txt-muted",children:["Itens contados: ",o.jsx("strong",{className:"text-txt-main",children:Object.values(x).filter(O=>O!=="").length})," de ",d.length]}),o.jsxs("button",{onClick:_e,className:"bg-primary hover:bg-primary/90 text-white px-8 py-3 rounded-xl font-black shadow-lg shadow-primary/20 transition-all active:scale-95 flex items-center gap-2",children:[o.jsx(wl,{className:"w-5 h-5"}),"REGISTRAR AJUSTE DE CONTAGEM"]})]})]}),t==="bleed"&&o.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[o.jsxs("div",{className:"bg-surface p-6 rounded-xl shadow-sm border border-bdr flex flex-col md:flex-row justify-between items-center gap-4 transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"p-3 bg-red-500/10 rounded-full border border-red-500/20",children:o.jsx(ex,{className:"w-6 h-6 text-red-500"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-txt-main",children:"Registrar Sada Manual (Sangria)"}),o.jsx("p",{className:"text-xs text-txt-muted",children:"Use para registrar perdas, quebras, consumo interno ou doaes."})]})]}),o.jsxs("div",{className:"bg-app px-4 py-2 rounded-lg border border-bdr",children:[o.jsx("span",{className:"text-xs font-bold text-txt-muted uppercase mr-2",children:"Depsito Origem:"}),i?o.jsxs("select",{value:s,onChange:O=>c(O.target.value),className:"bg-transparent text-txt-main font-black text-sm outline-none cursor-pointer",disabled:!Y.length,children:[o.jsx("option",{value:"",disabled:!0,children:"Selecione..."}),Y.map(O=>o.jsx("option",{value:O.id,children:O.nome},O.id))]}):o.jsx("span",{className:"font-black text-txt-main text-sm",children:ge(s)})]})]}),o.jsx("div",{className:"bg-surface p-6 rounded-xl shadow-sm border border-bdr transition-colors",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-6 items-end",children:[o.jsxs("div",{className:"md:col-span-4 space-y-2",children:[o.jsx("label",{className:"text-xs font-bold text-txt-muted uppercase ml-1",children:"Produto"}),o.jsxs("select",{value:j.produtoId,onChange:O=>F({...j,produtoId:O.target.value}),className:"w-full bg-app border border-bdr rounded-xl p-3 text-sm font-bold text-txt-main focus:ring-2 focus:ring-primary outline-none",children:[o.jsx("option",{value:"",children:"Selecione um produto..."}),d.map(O=>o.jsx("option",{value:O.id,children:O.nome},O.id))]})]}),o.jsxs("div",{className:"md:col-span-2 space-y-2",children:[o.jsx("label",{className:"text-xs font-bold text-txt-muted uppercase ml-1",children:"Estoque Atual"}),o.jsx("div",{className:"w-full bg-app border border-bdr rounded-xl p-3 text-sm font-mono font-bold text-txt-muted text-center",children:j.produtoId?W(j.produtoId):"-"})]}),o.jsxs("div",{className:"md:col-span-2 space-y-2",children:[o.jsx("label",{className:"text-xs font-bold text-txt-muted uppercase ml-1",children:"Qtd. Sada"}),o.jsx("input",{type:"number",min:"1",value:j.quantidade,onChange:O=>F({...j,quantidade:O.target.value}),placeholder:"0",className:"w-full bg-surface border-2 border-bdr rounded-xl p-3 text-sm font-black text-red-500 focus:border-red-500 outline-none text-center"})]}),o.jsxs("div",{className:"md:col-span-4 space-y-2",children:[o.jsx("label",{className:"text-xs font-bold text-txt-muted uppercase ml-1",children:"Motivo (Obrigatrio)"}),o.jsxs("select",{value:j.motivo,onChange:O=>F({...j,motivo:O.target.value}),className:"w-full bg-app border border-bdr rounded-xl p-3 text-sm font-bold text-txt-main focus:ring-2 focus:ring-primary outline-none",children:[o.jsx("option",{value:"",children:"Selecione..."}),o.jsx("option",{value:"PERDA",children:"Perda / Extravio"}),o.jsx("option",{value:"QUEBRA",children:"Quebra / Avaria"}),o.jsx("option",{value:"CONSUMO",children:"Consumo Interno"}),o.jsx("option",{value:"DOACAO",children:"Doao / Bonificao"}),o.jsx("option",{value:"AJUSTE",children:"Ajuste Operacional"})]})]}),o.jsxs("div",{className:"md:col-span-10 space-y-2",children:[o.jsx("label",{className:"text-xs font-bold text-txt-muted uppercase ml-1",children:"Observao (Opcional)"}),o.jsx("input",{type:"text",value:j.obs,onChange:O=>F({...j,obs:O.target.value}),placeholder:"Detalhes adicionais...",className:"w-full bg-app border border-bdr rounded-xl p-3 text-sm text-txt-main focus:ring-2 focus:ring-primary outline-none"})]}),o.jsx("div",{className:"md:col-span-2",children:o.jsxs("button",{onClick:Z,className:"w-full bg-red-500 hover:bg-red-600 text-white p-3 rounded-xl font-bold text-sm transition-transform active:scale-95 flex items-center justify-center gap-2 shadow-lg shadow-red-500/20",children:[o.jsx(wo,{className:"w-4 h-4"})," Adicionar"]})})]})}),o.jsxs("div",{className:"bg-surface rounded-xl shadow-sm border border-bdr overflow-hidden transition-colors",children:[o.jsxs("div",{className:"p-4 bg-app border-b border-bdr flex justify-between items-center",children:[o.jsx("h4",{className:"text-xs font-black text-txt-muted uppercase tracking-widest",children:"Itens a Registrar"}),o.jsxs("span",{className:"text-xs font-bold text-txt-main bg-surface px-2 py-1 rounded border border-bdr",children:[w.length," itens"]})]}),o.jsxs("table",{className:"w-full text-left text-sm",children:[o.jsx("thead",{className:"bg-surface text-xs uppercase font-bold text-txt-muted border-b border-bdr",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3",children:"Produto"}),o.jsx("th",{className:"px-6 py-3 text-center",children:"Sada"}),o.jsx("th",{className:"px-6 py-3 text-center",children:"Prvia Estoque"}),o.jsx("th",{className:"px-6 py-3",children:"Motivo"}),o.jsx("th",{className:"px-6 py-3 text-right",children:"Ao"})]})}),o.jsx("tbody",{className:"divide-y divide-bdr",children:w.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-txt-muted italic opacity-50",children:"Nenhum item adicionado para sangria."})}):w.map(O=>o.jsxs("tr",{className:"hover:bg-app transition-colors",children:[o.jsx("td",{className:"px-6 py-4 font-bold text-txt-main",children:O.produtoNome}),o.jsxs("td",{className:"px-6 py-4 text-center font-black text-red-500",children:["-",O.quantidade]}),o.jsxs("td",{className:"px-6 py-4 text-center text-txt-muted font-mono",children:[O.estoqueAtual," ",o.jsx(Xv,{className:"w-3 h-3 inline mx-1"})," ",o.jsx("strong",{className:"text-txt-main",children:O.estoqueAtual-O.quantidade})]}),o.jsxs("td",{className:"px-6 py-4",children:[o.jsx("span",{className:"block font-bold text-xs text-txt-main",children:O.motivo}),o.jsx("span",{className:"block text-[10px] text-txt-muted truncate max-w-[150px]",children:O.obs})]}),o.jsx("td",{className:"px-6 py-4 text-right",children:o.jsx("button",{onClick:()=>Ce(O.id),className:"text-txt-muted hover:text-red-500 p-2 transition-colors",children:o.jsx(oo,{className:"w-4 h-4"})})})]},O.id))})]})]}),o.jsx("div",{className:"flex justify-end pt-4",children:o.jsxs("button",{onClick:Se,disabled:w.length===0,className:"bg-red-500 hover:bg-red-600 disabled:opacity-50 disabled:cursor-not-allowed text-white px-8 py-4 rounded-xl font-black shadow-lg shadow-red-500/20 transition-all active:scale-95 flex items-center gap-3 text-sm",children:[o.jsx(dm,{className:"w-5 h-5"}),"CONFIRMAR SANGRIA DE ESTOQUE"]})})]}),t==="transfer"&&o.jsx("div",{className:"space-y-6 animate-in fade-in duration-300",children:o.jsxs("div",{className:"bg-surface p-8 rounded-xl shadow-sm border border-bdr transition-colors",children:[o.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-center justify-center",children:[o.jsxs("div",{className:"flex-1 w-full p-6 bg-app rounded-2xl border border-bdr flex flex-col gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2 text-txt-muted",children:[o.jsx(gd,{className:"w-5 h-5"}),o.jsx("span",{className:"text-xs font-bold uppercase tracking-widest",children:"Origem (Sai)"})]}),o.jsxs("select",{value:S.originId,onChange:O=>z({...S,originId:O.target.value}),className:"w-full bg-surface border border-bdr p-3 rounded-xl text-lg font-black text-txt-main outline-none focus:ring-2 focus:ring-primary",disabled:!Y.length,children:[o.jsx("option",{value:"",disabled:!0,children:"Selecione..."}),Y.map(O=>o.jsx("option",{value:O.id,children:O.nome},O.id))]}),S.produtoId&&o.jsxs("div",{className:"text-center bg-surface p-2 rounded-lg border border-bdr",children:[o.jsx("span",{className:"text-xs text-txt-muted block",children:"Disponvel na Origem"}),o.jsx("span",{className:"text-xl font-mono font-bold text-txt-main",children:W(S.produtoId)})]})]}),o.jsx("div",{className:"bg-primary/10 p-4 rounded-full text-primary shadow-sm border border-primary/20",children:o.jsx(Xv,{className:"w-8 h-8",strokeWidth:3})}),o.jsxs("div",{className:"flex-1 w-full p-6 bg-app rounded-2xl border border-bdr flex flex-col gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2 text-txt-muted",children:[o.jsx(Ko,{className:"w-5 h-5"}),o.jsx("span",{className:"text-xs font-bold uppercase tracking-widest",children:"Destino (Entra)"})]}),o.jsxs("select",{value:S.destId,onChange:O=>z({...S,destId:O.target.value}),className:"w-full bg-surface border border-bdr p-3 rounded-xl text-lg font-black text-txt-main outline-none focus:ring-2 focus:ring-primary",disabled:!Y.length,children:[o.jsx("option",{value:"",disabled:!0,children:"Selecione..."}),Y.map(O=>o.jsx("option",{value:O.id,children:O.nome},O.id))]})]})]}),o.jsx("div",{className:"my-8 border-t border-bdr"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 items-end",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-xs font-bold text-txt-muted uppercase ml-1",children:"Produto a Transferir"}),o.jsxs("select",{value:S.produtoId,onChange:O=>z({...S,produtoId:O.target.value}),className:"w-full bg-app border border-bdr rounded-xl p-4 text-base font-bold text-txt-main focus:ring-2 focus:ring-primary outline-none",children:[o.jsx("option",{value:"",children:"Selecione..."}),d.map(O=>o.jsx("option",{value:O.id,children:O.nome},O.id))]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-xs font-bold text-txt-muted uppercase ml-1",children:"Quantidade"}),o.jsx("input",{type:"number",min:"1",value:S.quantidade,onChange:O=>z({...S,quantidade:O.target.value}),placeholder:"0",className:"w-full bg-app border border-bdr rounded-xl p-4 text-base font-black text-txt-main focus:ring-2 focus:ring-primary outline-none"})]})]}),o.jsx("div",{className:"mt-8 flex justify-end",children:o.jsxs("button",{onClick:te,className:"bg-primary hover:bg-primary/90 text-white px-8 py-4 rounded-xl font-black shadow-lg shadow-primary/20 transition-all active:scale-95 flex items-center gap-3 w-full md:w-auto justify-center",children:[o.jsx(bw,{className:"w-5 h-5"}),"CONFIRMAR TRANSFERNCIA"]})})]})}),t==="supply"&&o.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[o.jsxs("div",{className:"bg-surface p-6 rounded-xl shadow-sm border border-bdr flex flex-col md:flex-row justify-between items-center gap-4 transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"p-3 bg-emerald-500/10 rounded-full border border-emerald-500/20",children:o.jsx(wo,{className:"w-6 h-6 text-emerald-500"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-txt-main",children:"Registrar Entrada (Suprimento)"}),o.jsx("p",{className:"text-xs text-txt-muted",children:"Use para registrar compras, bonificaes recebidas ou ajustes positivos."})]})]}),o.jsxs("div",{className:"bg-app px-4 py-2 rounded-lg border border-bdr",children:[o.jsx("span",{className:"text-xs font-bold text-txt-muted uppercase mr-2",children:"Depsito Destino:"}),i?o.jsxs("select",{value:D.depositId,onChange:O=>G({...D,depositId:O.target.value}),className:"bg-transparent text-txt-main font-black text-sm outline-none cursor-pointer",disabled:!Y.length,children:[o.jsx("option",{value:"",disabled:!0,children:"Selecione..."}),Y.map(O=>o.jsx("option",{value:O.id,children:O.nome},O.id))]}):o.jsx("span",{className:"font-black text-txt-main text-sm",children:ge(D.depositId)})]})]}),o.jsxs("div",{className:"bg-surface p-6 rounded-xl shadow-sm border border-bdr transition-colors",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-6 items-end",children:[o.jsxs("div",{className:"md:col-span-4 space-y-2",children:[o.jsx("label",{className:"text-xs font-bold text-txt-muted uppercase ml-1",children:"Produto"}),o.jsxs("select",{value:D.produtoId,onChange:O=>G({...D,produtoId:O.target.value}),className:"w-full bg-app border border-bdr rounded-xl p-3 text-sm font-bold text-txt-main focus:ring-2 focus:ring-primary outline-none",children:[o.jsx("option",{value:"",children:"Selecione um produto..."}),d.map(O=>o.jsx("option",{value:O.id,children:O.nome},O.id))]})]}),o.jsxs("div",{className:"md:col-span-2 space-y-2",children:[o.jsx("label",{className:"text-xs font-bold text-txt-muted uppercase ml-1",children:"Estoque Atual"}),o.jsx("div",{className:"w-full bg-app border border-bdr rounded-xl p-3 text-sm font-mono font-bold text-txt-muted text-center",children:D.produtoId?W(D.produtoId):"-"})]}),o.jsxs("div",{className:"md:col-span-2 space-y-2",children:[o.jsx("label",{className:"text-xs font-bold text-txt-muted uppercase ml-1",children:"Qtd. Entrada"}),o.jsx("input",{type:"number",min:"1",value:D.quantidade,onChange:O=>G({...D,quantidade:O.target.value}),placeholder:"0",className:"w-full bg-surface border-2 border-bdr rounded-xl p-3 text-sm font-black text-emerald-500 focus:border-emerald-500 outline-none text-center"})]}),o.jsxs("div",{className:"md:col-span-4 space-y-2",children:[o.jsx("label",{className:"text-xs font-bold text-txt-muted uppercase ml-1",children:"Origem / Fornecedor"}),o.jsx("input",{type:"text",value:D.origem,onChange:O=>G({...D,origem:O.target.value}),placeholder:"Ex: Nacional Gs, NF 1234",className:"w-full bg-app border border-bdr rounded-xl p-3 text-sm text-txt-main focus:ring-2 focus:ring-primary outline-none"})]}),o.jsxs("div",{className:"md:col-span-12 space-y-2",children:[o.jsx("label",{className:"text-xs font-bold text-txt-muted uppercase ml-1",children:"Observao (Opcional)"}),o.jsx("input",{type:"text",value:D.obs,onChange:O=>G({...D,obs:O.target.value}),placeholder:"Detalhes adicionais...",className:"w-full bg-app border border-bdr rounded-xl p-3 text-sm text-txt-main focus:ring-2 focus:ring-primary outline-none"})]})]}),o.jsx("div",{className:"mt-8 flex justify-end",children:o.jsxs("button",{onClick:P,className:"bg-emerald-500 hover:bg-emerald-600 text-white px-8 py-4 rounded-xl font-black shadow-lg shadow-emerald-500/20 transition-all active:scale-95 flex items-center gap-3 text-sm",children:[o.jsx(jS,{className:"w-5 h-5"}),"CONFIRMAR ENTRADA DE ESTOQUE"]})})]})]})]})})]})};function zR({isOpen:e,onClose:t,initialMethod:n,onSaved:r}){const[i,s]=$.useState(""),[c,d]=$.useState("cash"),[h,f]=$.useState(!1),[g,x]=$.useState(0),[E,w]=$.useState(!0),[I,j]=$.useState(""),[F,S]=$.useState(!1),z=c==="cash"||c==="pix";$.useEffect(()=>{if(!e)return;s((n==null?void 0:n.name)??"");const ce=(n==null?void 0:n.receipt_type)??"cash";d(ce),f((n==null?void 0:n.enters_receivables)??(ce==="card"||ce==="fiado")),x((n==null?void 0:n.default_due_days)??0),w((n==null?void 0:n.is_active)??!0),j((n==null?void 0:n.machine_label)??"")},[e,n]),$.useEffect(()=>{z&&(f(!1),x(0))},[z]);const D=$.useMemo(()=>i.trim().length>0&&!!c,[i,c]);if(!e)return null;const G=async()=>{if(!D){alert("Preencha o nome e selecione um tipo.");return}try{S(!0);const ce={id:(n==null?void 0:n.id)??crypto.randomUUID(),name:i.trim(),receipt_type:c,enters_receivables:z?!1:h,default_due_days:z?0:Number(g)||0,is_active:E,machine_label:I||void 0,created_at:n==null?void 0:n.created_at,updated_at:n==null?void 0:n.updated_at},Y=await qQ(ce);r==null||r(Y),t()}catch(ce){console.error(ce),alert("Erro ao salvar forma de pagamento.")}finally{S(!1)}};return o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:o.jsxs("div",{className:"w-full max-w-lg bg-surface border border-bdr rounded-2xl shadow-2xl p-6 space-y-6 animate-in zoom-in-95 duration-200",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-black uppercase tracking-widest text-txt-muted",children:"Cadastro"}),o.jsx("h2",{className:"text-xl font-black text-txt-main",children:"Forma de Pagamento"})]}),o.jsx("button",{onClick:t,className:"text-txt-muted hover:text-txt-main transition-colors","aria-label":"Fechar",children:o.jsx(zi,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-xs font-black uppercase tracking-widest text-txt-muted",children:"Nome"}),o.jsx("input",{className:"w-full bg-app border border-bdr rounded-lg px-3 py-2 text-sm font-bold text-txt-main focus:ring-2 focus:ring-emerald-500 outline-none",value:i,onChange:ce=>s(ce.target.value),placeholder:"Ex.: Dinheiro, Carto Crdito"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-xs font-black uppercase tracking-widest text-txt-muted",children:"Tipo"}),o.jsxs("select",{className:"w-full bg-app border border-bdr rounded-lg px-3 py-2 text-sm font-bold text-txt-main focus:ring-2 focus:ring-emerald-500 outline-none",value:c,onChange:ce=>d(ce.target.value),children:[o.jsx("option",{value:"cash",children:"Dinheiro"}),o.jsx("option",{value:"card",children:"Carto"}),o.jsx("option",{value:"pix",children:"Pix"}),o.jsx("option",{value:"fiado",children:"Fiado/Boleto"}),o.jsx("option",{value:"boleto",children:"Boleto"}),o.jsx("option",{value:"other",children:"Outro"})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm font-bold text-txt-main",children:[o.jsx("input",{type:"checkbox",className:"w-4 h-4",checked:z?!1:h,onChange:ce=>f(ce.target.checked),disabled:z}),"Gera Conta a Receber?"]}),o.jsx("span",{className:"text-xs text-txt-muted",children:"Dinheiro/Pix sempre recebem  vista."})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-xs font-black uppercase tracking-widest text-txt-muted",children:"Prazo Padro (dias)"}),o.jsx("input",{type:"number",min:0,className:"w-full bg-app border border-bdr rounded-lg px-3 py-2 text-sm font-bold text-txt-main focus:ring-2 focus:ring-emerald-500 outline-none",value:g,onChange:ce=>x(Number(ce.target.value)||0),disabled:z||!h})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-xs font-black uppercase tracking-widest text-txt-muted",children:"Rtulo Mquina (opcional)"}),o.jsx("input",{className:"w-full bg-app border border-bdr rounded-lg px-3 py-2 text-sm font-bold text-txt-main focus:ring-2 focus:ring-emerald-500 outline-none",value:I,onChange:ce=>j(ce.target.value),placeholder:"Ex.: Stone-01"})]})]}),o.jsxs("label",{className:"flex items-center gap-2 text-sm font-bold text-txt-main",children:[o.jsx("input",{type:"checkbox",className:"w-4 h-4",checked:E,onChange:ce=>w(ce.target.checked)}),"Ativo"]})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[o.jsx("button",{onClick:t,className:"px-4 py-2 rounded-lg border border-bdr text-txt-muted hover:text-txt-main hover:border-txt-main/40 transition-colors",type:"button",children:"Cancelar"}),o.jsx("button",{onClick:G,disabled:!D||F,className:"px-5 py-2 rounded-lg bg-emerald-600 hover:bg-emerald-700 text-white font-black uppercase tracking-wide shadow-lg shadow-emerald-600/20 disabled:opacity-60",type:"button",children:F?"Salvando...":"Salvar"})]})]})})}const qR={cash:"Dinheiro",card:"Carto",pix:"Pix",fiado:"Fiado/Boleto",boleto:"Boleto",other:"Outros"};function KR({methods:e,onEdit:t,onDelete:n}){return e.length?o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:e.map(r=>o.jsxs("div",{className:"bg-surface border border-bdr rounded-xl p-4 shadow-sm flex flex-col gap-3",children:[o.jsxs("div",{className:"flex justify-between items-start gap-3",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-black uppercase tracking-widest text-txt-muted",children:"Nome"}),o.jsx("h4",{className:"text-lg font-black text-txt-main",children:r.name})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>t(r),className:"p-2 rounded-lg hover:bg-app text-txt-muted hover:text-txt-main transition-colors",title:"Editar",children:o.jsx(ub,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>n(r.id),className:"p-2 rounded-lg hover:bg-red-500/10 text-red-500 transition-colors",title:"Excluir",children:o.jsx(oo,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{className:"flex flex-wrap gap-2 text-[11px] font-black uppercase tracking-wide",children:[o.jsx("span",{className:"px-2 py-1 rounded-full bg-emerald-500/10 text-emerald-600 border border-emerald-500/20",children:qR[r.receipt_type]??"Tipo"}),o.jsx("span",{className:`px-2 py-1 rounded-full border ${r.enters_receivables?"bg-yellow-500/10 text-yellow-600 border-yellow-500/20":"bg-gray-500/10 text-gray-400 border-gray-500/20"}`,children:r.enters_receivables?"Gera Conta":"No gera"}),o.jsxs("span",{className:"px-2 py-1 rounded-full bg-indigo-500/10 text-indigo-600 border border-indigo-500/20 flex items-center gap-1",children:[o.jsx(YS,{className:"w-3 h-3"})," ",r.default_due_days,"d"]})]}),o.jsx("div",{className:"flex items-center gap-2 text-sm font-black",children:r.is_active?o.jsxs("span",{className:"flex items-center gap-1 text-emerald-600",children:[o.jsx(Ml,{className:"w-4 h-4"})," ATIVO"]}):o.jsxs("span",{className:"flex items-center gap-1 text-red-500",children:[o.jsx(Oh,{className:"w-4 h-4"})," INATIVO"]})})]},r.id))}):o.jsx("div",{className:"p-6 text-center text-txt-muted border border-dashed border-bdr rounded-xl bg-app/30",children:"Nenhuma forma de pagamento cadastrada."})}const GR=({onClose:e})=>{const[t,n]=$.useState("methods"),[r,i]=$.useState([]),[s,c]=$.useState([]),[d,h]=$.useState([]),[f,g]=$.useState(!1),[x,E]=$.useState(!1),[w,I]=$.useState(""),[j,F]=$.useState(null),[S,z]=$.useState({}),D=$.useCallback(async()=>{const M=await jm();i(M)},[]);$.useEffect(()=>{let M=!0;return(async()=>{const[X,V,W]=await Promise.all([jm(),_v(),sf()]);M&&(i(X),c(V),h(W))})(),()=>{M=!1}},[]);const G=async M=>{confirm("Tem certeza? Isso pode afetar relatrios antigos.")&&(await KQ(M),await D())},ce=async()=>{if(!S.nome)return alert("Nome da maquininha  obrigatrio");const M={id:S.id||crypto.randomUUID(),nome:S.nome,taxaDebito:Number(S.taxaDebito)||0,taxaCreditoVista:Number(S.taxaCreditoVista)||0,taxaCreditoParcelado:Number(S.taxaCreditoParcelado)||0,depositosPermitidos:S.depositosPermitidos||[],ativo:S.ativo??!0};await GQ(M);const X=await _v();c(X),E(!1),await Z2({usuario_id:"ADMIN",deposit_id:void 0,entidade:"PAGAMENTO",entidade_id:M.id,acao:"UPDATE",depois_json:M,antes_json:S.id?s.find(V=>V.id===S.id):void 0})},Y=async M=>{if(!confirm("Excluir maquininha?"))return;await VQ(M);const X=await _v();c(X)},ge=r.filter(M=>(M.name??"").toLowerCase().includes(w.toLowerCase())),re=s.filter(M=>M.nome.toLowerCase().includes(w.toLowerCase()));return o.jsxs("div",{className:"fixed inset-0 bg-app/90 backdrop-blur-sm z-50 flex flex-col animate-in fade-in duration-300",children:[o.jsxs("div",{className:"bg-surface border-b border-bdr px-6 py-4 flex justify-between items-center shadow-sm shrink-0",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"bg-emerald-500/10 p-2 rounded-xl border border-emerald-500/20",children:o.jsx(tf,{className:"w-6 h-6 text-emerald-600"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-black text-txt-main tracking-tight",children:"Formas de Pagamento & Mquinas"}),o.jsx("p",{className:"text-xs text-txt-muted font-bold uppercase tracking-widest",children:"Configurao Financeira"})]})]}),o.jsx("button",{onClick:e,className:"p-2 hover:bg-red-500/10 hover:text-red-500 text-txt-muted rounded-full transition-colors",children:o.jsx(zi,{className:"w-6 h-6"})})]}),o.jsx("div",{className:"bg-surface border-b border-bdr px-6",children:o.jsxs("div",{className:"flex gap-8",children:[o.jsxs("button",{onClick:()=>n("methods"),className:`pb-4 pt-4 text-sm font-black uppercase tracking-widest border-b-4 transition-all flex items-center gap-2 ${t==="methods"?"border-emerald-500 text-emerald-600":"border-transparent text-txt-muted hover:text-txt-main"}`,children:[o.jsx(x5,{className:"w-4 h-4"})," Formas de Pagamento"]}),o.jsxs("button",{onClick:()=>n("machines"),className:`pb-4 pt-4 text-sm font-black uppercase tracking-widest border-b-4 transition-all flex items-center gap-2 ${t==="machines"?"border-emerald-500 text-emerald-600":"border-transparent text-txt-muted hover:text-txt-main"}`,children:[o.jsx(U0,{className:"w-4 h-4"})," Mquinas de Carto"]})]})}),o.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-app",children:o.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[o.jsxs("div",{className:"bg-surface p-4 rounded-xl shadow-sm border border-bdr flex flex-col md:flex-row justify-between items-center gap-4",children:[o.jsxs("div",{className:"relative w-full md:w-96",children:[o.jsx(Lc,{className:"w-4 h-4 text-txt-muted absolute left-3 top-3"}),o.jsx("input",{type:"text",placeholder:t==="methods"?"Buscar forma de pagamento...":"Buscar maquininha...",value:w,onChange:M=>I(M.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-app border border-bdr rounded-xl text-sm focus:ring-2 focus:ring-emerald-500 outline-none text-txt-main font-bold"})]}),o.jsxs("button",{onClick:()=>{t==="methods"?(F(null),g(!0)):(z({ativo:!0,depositosPermitidos:[]}),E(!0))},className:"w-full md:w-auto bg-emerald-500 hover:bg-emerald-600 text-white px-6 py-2.5 rounded-xl font-black text-sm shadow-lg shadow-emerald-500/20 flex items-center justify-center gap-2 transition-transform active:scale-95",children:[o.jsx(wo,{className:"w-4 h-4"}),t==="methods"?"NOVA FORMA PAGTO":"NOVA MAQUININHA"]})]}),t==="methods"&&o.jsx("div",{className:"bg-surface rounded-2xl shadow-sm border border-bdr p-4 overflow-hidden animate-in fade-in",children:o.jsx(KR,{methods:ge,onEdit:M=>{F(M),g(!0)},onDelete:G})}),t==="machines"&&o.jsx("div",{className:"bg-surface rounded-2xl shadow-sm border border-bdr overflow-hidden animate-in fade-in",children:o.jsxs("table",{className:"w-full text-left text-sm",children:[o.jsx("thead",{className:"bg-app border-b border-bdr text-xs font-black text-txt-muted uppercase tracking-widest",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-4",children:"Nome da Maquininha"}),o.jsx("th",{className:"px-6 py-4 text-center",children:"Taxa Dbito"}),o.jsx("th",{className:"px-6 py-4 text-center",children:"Taxa Crdito Vista"}),o.jsx("th",{className:"px-6 py-4 text-center",children:"Taxa Crdito Parc."}),o.jsx("th",{className:"px-6 py-4",children:"Depsitos Permitidos"}),o.jsx("th",{className:"px-6 py-4 text-right",children:"Aes"})]})}),o.jsx("tbody",{className:"divide-y divide-bdr",children:re.map(M=>o.jsxs("tr",{className:"hover:bg-app transition-colors group",children:[o.jsxs("td",{className:"px-6 py-4 font-bold text-txt-main flex items-center gap-2",children:[o.jsx(U0,{className:"w-4 h-4 text-txt-muted"}),M.nome]}),o.jsxs("td",{className:"px-6 py-4 text-center font-mono text-txt-main",children:[M.taxaDebito,"%"]}),o.jsxs("td",{className:"px-6 py-4 text-center font-mono text-txt-main",children:[M.taxaCreditoVista,"%"]}),o.jsxs("td",{className:"px-6 py-4 text-center font-mono text-txt-main",children:[M.taxaCreditoParcelado,"%"]}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("div",{className:"flex gap-1 flex-wrap",children:M.depositosPermitidos.map(X=>o.jsx("span",{className:"px-2 py-0.5 bg-app border border-bdr rounded text-[10px] font-bold text-txt-muted uppercase",children:X},X))})}),o.jsx("td",{className:"px-6 py-4 text-right",children:o.jsxs("div",{className:"flex items-center justify-end gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[o.jsx("button",{onClick:()=>{z(M),E(!0)},className:"p-2 hover:bg-blue-50 text-blue-500 rounded-lg",children:o.jsx(ub,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>Y(M.id),className:"p-2 hover:bg-red-50 text-red-500 rounded-lg",children:o.jsx(oo,{className:"w-4 h-4"})})]})})]},M.id))})]})})]})}),o.jsx(zR,{isOpen:f,onClose:()=>g(!1),initialMethod:j,onSaved:async M=>{await D(),await Z2({usuario_id:"ADMIN",deposit_id:void 0,entidade:"PAGAMENTO",entidade_id:M.id,acao:"UPDATE",depois_json:M,antes_json:j})}}),x&&o.jsx("div",{className:"fixed inset-0 bg-black/60 z-[60] flex items-center justify-center p-4 backdrop-blur-sm",children:o.jsxs("div",{className:"bg-surface w-full max-w-lg rounded-2xl shadow-2xl border border-bdr overflow-hidden animate-in zoom-in-95 duration-200",children:[o.jsxs("div",{className:"bg-app px-6 py-4 border-b border-bdr flex justify-between items-center",children:[o.jsxs("h3",{className:"font-black text-lg text-txt-main flex items-center gap-2",children:[o.jsx(U0,{className:"w-5 h-5 text-emerald-500"}),S.id?"Editar Maquininha":"Nova Maquininha"]}),o.jsx("button",{onClick:()=>E(!1),className:"hover:bg-bdr p-1 rounded-full",children:o.jsx(zi,{className:"w-5 h-5 text-txt-muted"})})]}),o.jsxs("div",{className:"p-6 space-y-5",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-txt-muted uppercase mb-1.5",children:"Nome da Maquininha"}),o.jsx("input",{type:"text",value:S.nome||"",onChange:M=>z({...S,nome:M.target.value}),className:"w-full bg-app border border-bdr rounded-xl p-3 text-sm font-bold text-txt-main focus:ring-2 focus:ring-emerald-500 outline-none",placeholder:"Ex: Stone - Loja 1"})]}),o.jsx("div",{className:"grid grid-cols-3 gap-4",children:[{label:"Taxa Dbito",key:"taxaDebito"},{label:"Crdito Vista",key:"taxaCreditoVista"},{label:"Crdito Parc.",key:"taxaCreditoParcelado"}].map(M=>o.jsxs("div",{children:[o.jsx("label",{className:"block text-[10px] font-bold text-txt-muted uppercase mb-1.5 truncate",children:M.label}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"number",value:S[M.key]||"",onChange:X=>z({...S,[M.key]:X.target.value}),className:"w-full bg-app border border-bdr rounded-xl p-3 text-sm font-bold text-txt-main focus:ring-2 focus:ring-emerald-500 outline-none pr-8",placeholder:"0.00"}),o.jsx("span",{className:"absolute right-3 top-3 text-xs font-bold text-txt-muted",children:"%"})]})]},M.key))}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-txt-muted uppercase mb-2",children:"Depsitos Autorizados"}),o.jsx("div",{className:"space-y-2 bg-app p-4 rounded-xl border border-bdr",children:d.map(M=>{var X,V,W;return o.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-2 hover:bg-surface rounded-lg transition-colors",children:[o.jsx("div",{className:`w-5 h-5 border-2 rounded flex items-center justify-center transition-colors ${(X=S.depositosPermitidos)!=null&&X.includes(M.id)?"bg-emerald-500 border-emerald-500":"border-txt-muted bg-surface"}`,children:((V=S.depositosPermitidos)==null?void 0:V.includes(M.id))&&o.jsx(Ml,{className:"w-3.5 h-3.5 text-white"})}),o.jsx("input",{type:"checkbox",className:"hidden",checked:(W=S.depositosPermitidos)==null?void 0:W.includes(M.id),onChange:()=>{const oe=S.depositosPermitidos||[];oe.includes(M.id)?z({...S,depositosPermitidos:oe.filter(me=>me!==M.id)}):z({...S,depositosPermitidos:[...oe,M.id]})}}),o.jsx("span",{className:"text-sm font-bold text-txt-main",children:M.name})]},M.id)})})]})]}),o.jsxs("div",{className:"p-6 border-t border-bdr bg-app flex justify-end gap-3",children:[o.jsx("button",{onClick:()=>E(!1),className:"px-4 py-2 text-txt-muted font-bold hover:bg-bdr rounded-lg transition-colors",children:"Cancelar"}),o.jsx("button",{onClick:ce,className:"px-6 py-2 bg-emerald-500 hover:bg-emerald-600 text-white font-bold rounded-lg shadow-lg shadow-emerald-500/20 transition-all active:scale-95",children:"Salvar"})]})]})})]})},VR=({onClose:e})=>{const[t,n]=$.useState("modalities"),[r,i]=$.useState(!0),[s,c]=$.useState([]),[d,h]=$.useState([]),[f,g]=$.useState([]),[x,E]=$.useState([]),[w,I]=$.useState([]),[j,F]=$.useState({}),[S,z]=$.useState(!1),[D,G]=$.useState("DEP1"),[ce,Y]=$.useState("");$.useEffect(()=>{(async()=>{const[ye,se,_e,Z,Ce]=await Promise.all([Promise.resolve(FD()),Promise.resolve(OD()),Promise.resolve(DD()),Promise.resolve(UD()),sf()]);c(ye),h(se),g(_e),E(Z),I(Ce),Ce.length>0&&G(Ce[0].id),i(!1)})()},[]),$.useEffect(()=>{s.length>0&&!ce&&Y(s[0].id)},[s]);const ge=()=>{if(!j.nomePadrao||!j.codigo)return alert("Nome e Cdigo so obrigatrios.");const ye={id:j.id||crypto.randomUUID(),codigo:j.codigo.toUpperCase(),nomePadrao:j.nomePadrao,ordem:j.ordem||s.length+1,ativo:j.ativo??!0};let se;j.id?se=s.map(_e=>_e.id===ye.id?ye:_e):se=[...s,ye],se.sort((_e,Z)=>_e.ordem-Z.ordem),eB(se),c(se),z(!1)},re=ye=>{if(!confirm("Excluir modalidade? Regras associadas podem quebrar."))return;const se=s.filter(_e=>_e.id!==ye);eB(se),c(se)},M=(ye,se)=>{var _e;return((_e=d.find(Z=>Z.modalidadeId===ye&&Z.depositoId===se))==null?void 0:_e.nomeExibicao)||""},X=(ye,se)=>{const _e=d.findIndex(Ce=>Ce.modalidadeId===ye&&Ce.depositoId===D);let Z=[...d];_e>=0?se.trim()===""?Z.splice(_e,1):Z[_e]={...Z[_e],nomeExibicao:se}:se.trim()!==""&&Z.push({id:crypto.randomUUID(),modalidadeId:ye,depositoId:D,nomeExibicao:se}),h(Z),QD(Z)},V=$.useMemo(()=>f.filter(ye=>ye.modalidadeId===ce),[f,ce]),W=()=>{var _e;const ye={id:crypto.randomUUID(),modalidadeId:ce,produtoPrincipalId:((_e=x[0])==null?void 0:_e.id)||"",produtoSaidaId:null,fatorSaida:1,produtoEntradaId:null,fatorEntrada:1},se=[...f,ye];g(se),Bv(se)},oe=(ye,se,_e)=>{const Z=f.map(Ce=>Ce.id===ye?{...Ce,[se]:_e}:Ce);g(Z),Bv(Z)},me=ye=>{const se=f.filter(_e=>_e.id!==ye);g(se),Bv(se)};return o.jsxs("div",{className:"fixed inset-0 bg-app z-50 flex flex-col animate-in fade-in duration-300",children:[o.jsxs("div",{className:"bg-surface border-b border-bdr px-6 py-4 flex justify-between items-center shadow-sm shrink-0",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"bg-teal-500/10 p-2 rounded-xl border border-teal-500/20",children:o.jsx(tf,{className:"w-6 h-6 text-teal-600"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-black text-txt-main tracking-tight",children:"Modalidades de Venda"}),o.jsx("p",{className:"text-xs text-txt-muted font-bold uppercase tracking-widest",children:"Configurao de Regras de Negcio"})]})]}),o.jsx("button",{onClick:e,className:"p-2 hover:bg-red-500/10 hover:text-red-500 text-txt-muted rounded-full transition-colors",children:o.jsx(zi,{className:"w-6 h-6"})})]}),o.jsx("div",{className:"bg-surface border-b border-bdr px-6",children:o.jsxs("div",{className:"flex gap-8",children:[o.jsxs("button",{onClick:()=>n("modalities"),className:`pb-4 pt-4 text-sm font-black uppercase tracking-widest border-b-4 transition-all flex items-center gap-2 ${t==="modalities"?"border-teal-500 text-teal-600":"border-transparent text-txt-muted hover:text-txt-main"}`,children:[o.jsx(Bw,{className:"w-4 h-4"})," Cadastro de Modalidades"]}),o.jsxs("button",{onClick:()=>n("labels"),className:`pb-4 pt-4 text-sm font-black uppercase tracking-widest border-b-4 transition-all flex items-center gap-2 ${t==="labels"?"border-teal-500 text-teal-600":"border-transparent text-txt-muted hover:text-txt-main"}`,children:[o.jsx(tx,{className:"w-4 h-4"})," Rtulos por Depsito"]}),o.jsxs("button",{onClick:()=>n("rules"),className:`pb-4 pt-4 text-sm font-black uppercase tracking-widest border-b-4 transition-all flex items-center gap-2 ${t==="rules"?"border-teal-500 text-teal-600":"border-transparent text-txt-muted hover:text-txt-main"}`,children:[o.jsx(SS,{className:"w-4 h-4"})," Regras de Estoque"]})]})}),o.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-app",children:o.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[t==="modalities"&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"flex justify-end",children:o.jsxs("button",{onClick:()=>{F({ativo:!0,ordem:s.length+1}),z(!0)},className:"bg-teal-500 hover:bg-teal-600 text-white px-6 py-2.5 rounded-xl font-black text-sm shadow-lg shadow-teal-500/20 flex items-center gap-2 transition-transform active:scale-95",children:[o.jsx(wo,{className:"w-4 h-4"})," NOVA MODALIDADE"]})}),o.jsx("div",{className:"bg-surface rounded-2xl shadow-sm border border-bdr overflow-hidden",children:o.jsxs("table",{className:"w-full text-left text-sm",children:[o.jsx("thead",{className:"bg-app border-b border-bdr text-xs font-black text-txt-muted uppercase tracking-widest",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-4 w-20 text-center",children:"Ordem"}),o.jsx("th",{className:"px-6 py-4",children:"Cdigo"}),o.jsx("th",{className:"px-6 py-4",children:"Nome Padro"}),o.jsx("th",{className:"px-6 py-4 text-center",children:"Status"}),o.jsx("th",{className:"px-6 py-4 text-right",children:"Aes"})]})}),o.jsx("tbody",{className:"divide-y divide-bdr",children:s.map(ye=>o.jsxs("tr",{className:"hover:bg-app transition-colors group",children:[o.jsx("td",{className:"px-6 py-4 text-center font-bold text-txt-muted",children:ye.ordem}),o.jsx("td",{className:"px-6 py-4 font-mono font-bold text-teal-600",children:ye.codigo}),o.jsx("td",{className:"px-6 py-4 font-medium text-txt-main",children:ye.nomePadrao}),o.jsx("td",{className:"px-6 py-4 text-center",children:ye.ativo?o.jsx("span",{className:"inline-flex items-center gap-1 text-[10px] bg-green-100 text-green-700 px-2 py-0.5 rounded font-black uppercase",children:"Ativo"}):o.jsx("span",{className:"inline-flex items-center gap-1 text-[10px] bg-red-100 text-red-700 px-2 py-0.5 rounded font-black uppercase",children:"Inativo"})}),o.jsx("td",{className:"px-6 py-4 text-right",children:o.jsxs("div",{className:"flex items-center justify-end gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[o.jsx("button",{onClick:()=>{F(ye),z(!0)},className:"p-2 hover:bg-blue-50 text-blue-500 rounded-lg",children:o.jsx(Mm,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>re(ye.id),className:"p-2 hover:bg-red-50 text-red-500 rounded-lg",children:o.jsx(oo,{className:"w-4 h-4"})})]})})]},ye.id))})]})})]}),t==="labels"&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"bg-surface p-4 rounded-xl border border-bdr flex items-center gap-4",children:[o.jsx("label",{className:"text-xs font-black text-txt-muted uppercase",children:"Selecione o Depsito:"}),o.jsx("select",{value:D,onChange:ye=>G(ye.target.value),className:"bg-app border border-bdr rounded-lg p-2 text-sm font-bold text-txt-main outline-none focus:ring-2 focus:ring-teal-500",children:w.map(ye=>o.jsx("option",{value:ye.id,children:ye.name},ye.id))})]}),o.jsx("div",{className:"bg-surface rounded-2xl shadow-sm border border-bdr overflow-hidden",children:o.jsxs("table",{className:"w-full text-left text-sm",children:[o.jsx("thead",{className:"bg-app border-b border-bdr text-xs font-black text-txt-muted uppercase tracking-widest",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-4 w-32",children:"Cdigo"}),o.jsx("th",{className:"px-6 py-4 w-1/3",children:"Nome Padro (Sistema)"}),o.jsx("th",{className:"px-6 py-4",children:"Rtulo no Depsito Selecionado"})]})}),o.jsx("tbody",{className:"divide-y divide-bdr",children:s.map(ye=>{const se=M(ye.id,D);return o.jsxs("tr",{className:"hover:bg-app transition-colors",children:[o.jsx("td",{className:"px-6 py-4 font-mono font-bold text-teal-600",children:ye.codigo}),o.jsx("td",{className:"px-6 py-4 text-txt-muted",children:ye.nomePadrao}),o.jsxs("td",{className:"px-6 py-4",children:[o.jsx("input",{type:"text",value:se,placeholder:ye.nomePadrao,onChange:_e=>X(ye.id,_e.target.value),className:`w-full bg-app border border-bdr rounded-lg p-2 text-sm font-bold focus:ring-2 focus:ring-teal-500 outline-none ${se?"text-teal-700 border-teal-200 bg-teal-50":"text-txt-main"}`}),se&&o.jsx("span",{className:"text-[10px] text-teal-600 font-medium mt-1 block",children:"Personalizado"})]})]},ye.id)})})]})})]}),t==="rules"&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"bg-surface p-4 rounded-xl border border-bdr flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("label",{className:"text-xs font-black text-txt-muted uppercase",children:"Configurar Regras para:"}),o.jsx("select",{value:ce,onChange:ye=>Y(ye.target.value),className:"bg-app border border-bdr rounded-lg p-2 text-sm font-bold text-txt-main outline-none focus:ring-2 focus:ring-teal-500 min-w-[200px]",children:s.map(ye=>o.jsx("option",{value:ye.id,children:ye.nomePadrao},ye.id))})]}),o.jsxs("button",{onClick:W,className:"bg-teal-500 hover:bg-teal-600 text-white px-4 py-2 rounded-lg font-black text-xs shadow-lg shadow-teal-500/20 flex items-center gap-2 transition-transform active:scale-95",children:[o.jsx(wo,{className:"w-3 h-3"})," NOVA REGRA"]})]}),o.jsx("div",{className:"bg-surface rounded-2xl shadow-sm border border-bdr overflow-hidden",children:o.jsxs("table",{className:"w-full text-left text-sm",children:[o.jsx("thead",{className:"bg-app border-b border-bdr text-xs font-black text-txt-muted uppercase tracking-widest",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 w-1/4",children:"Quando vender... (Produto Principal)"}),o.jsx("th",{className:"px-4 py-3 w-1/4 border-l border-bdr/50",children:"Deve sair do Estoque..."}),o.jsx("th",{className:"px-4 py-3 w-20 text-center",children:"Fator"}),o.jsx("th",{className:"px-4 py-3 w-1/4 border-l border-bdr/50",children:"Deve entrar no Estoque..."}),o.jsx("th",{className:"px-4 py-3 w-20 text-center",children:"Fator"}),o.jsx("th",{className:"px-4 py-3 text-right",children:"Ao"})]})}),o.jsx("tbody",{className:"divide-y divide-bdr",children:V.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"p-8 text-center text-txt-muted italic",children:"Nenhuma regra configurada para esta modalidade. O estoque no ser movimentado automaticamente."})}):V.map(ye=>o.jsxs("tr",{className:"hover:bg-app transition-colors",children:[o.jsx("td",{className:"px-4 py-3",children:o.jsx("select",{value:ye.produtoPrincipalId,onChange:se=>oe(ye.id,"produtoPrincipalId",se.target.value),className:"w-full bg-app border border-bdr rounded-lg p-2 text-xs font-bold text-txt-main focus:ring-teal-500 outline-none",children:x.map(se=>o.jsx("option",{value:se.id,children:se.nome},se.id))})}),o.jsx("td",{className:"px-4 py-3 border-l border-bdr/50 bg-red-50/10",children:o.jsxs("select",{value:ye.produtoSaidaId||"",onChange:se=>oe(ye.id,"produtoSaidaId",se.target.value||null),className:"w-full bg-surface border border-bdr rounded-lg p-2 text-xs text-txt-main outline-none focus:ring-red-500",children:[o.jsx("option",{value:"",children:"(Nada)"}),x.map(se=>o.jsx("option",{value:se.id,children:se.nome},se.id))]})}),o.jsx("td",{className:"px-4 py-3 text-center",children:o.jsx("input",{type:"number",value:ye.fatorSaida,onChange:se=>oe(ye.id,"fatorSaida",parseFloat(se.target.value)),className:"w-16 text-center bg-surface border border-bdr rounded p-1 text-xs font-mono"})}),o.jsx("td",{className:"px-4 py-3 border-l border-bdr/50 bg-green-50/10",children:o.jsxs("select",{value:ye.produtoEntradaId||"",onChange:se=>oe(ye.id,"produtoEntradaId",se.target.value||null),className:"w-full bg-surface border border-bdr rounded-lg p-2 text-xs text-txt-main outline-none focus:ring-green-500",children:[o.jsx("option",{value:"",children:"(Nada)"}),x.map(se=>o.jsx("option",{value:se.id,children:se.nome},se.id))]})}),o.jsx("td",{className:"px-4 py-3 text-center",children:o.jsx("input",{type:"number",value:ye.fatorEntrada,onChange:se=>oe(ye.id,"fatorEntrada",parseFloat(se.target.value)),className:"w-16 text-center bg-surface border border-bdr rounded p-1 text-xs font-mono"})}),o.jsx("td",{className:"px-4 py-3 text-right",children:o.jsx("button",{onClick:()=>me(ye.id),className:"text-txt-muted hover:text-red-500 p-2",children:o.jsx(oo,{className:"w-4 h-4"})})})]},ye.id))})]})})]})]})}),S&&o.jsx("div",{className:"fixed inset-0 bg-black/60 z-[60] flex items-center justify-center p-4 backdrop-blur-sm",children:o.jsxs("div",{className:"bg-surface w-full max-w-md rounded-2xl shadow-2xl border border-bdr overflow-hidden animate-in zoom-in-95 duration-200",children:[o.jsxs("div",{className:"bg-app px-6 py-4 border-b border-bdr flex justify-between items-center",children:[o.jsxs("h3",{className:"font-black text-lg text-txt-main flex items-center gap-2",children:[o.jsx(Bw,{className:"w-5 h-5 text-teal-500"}),j.id?"Editar Modalidade":"Nova Modalidade"]}),o.jsx("button",{onClick:()=>z(!1),className:"hover:bg-bdr p-1 rounded-full",children:o.jsx(zi,{className:"w-5 h-5 text-txt-muted"})})]}),o.jsxs("div",{className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-txt-muted uppercase mb-1",children:"Nome Padro"}),o.jsx("input",{type:"text",value:j.nomePadrao||"",onChange:ye=>F({...j,nomePadrao:ye.target.value}),className:"w-full bg-app border border-bdr rounded-xl p-3 text-sm font-bold text-txt-main outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Ex: Venda Direta",autoFocus:!0})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-txt-muted uppercase mb-1",children:"Cdigo (Sistema)"}),o.jsx("input",{type:"text",value:j.codigo||"",onChange:ye=>F({...j,codigo:ye.target.value.toUpperCase()}),className:"w-full bg-app border border-bdr rounded-xl p-3 text-sm font-mono font-bold text-teal-600 outline-none focus:ring-2 focus:ring-teal-500 uppercase",placeholder:"VENDA"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-txt-muted uppercase mb-1",children:"Ordem"}),o.jsx("input",{type:"number",value:j.ordem||0,onChange:ye=>F({...j,ordem:parseInt(ye.target.value)}),className:"w-full bg-app border border-bdr rounded-xl p-3 text-sm font-bold text-txt-main outline-none focus:ring-2 focus:ring-teal-500"})]})]}),o.jsxs("div",{className:"flex items-center gap-3 p-3 bg-app rounded-xl border border-bdr",children:[o.jsx("input",{type:"checkbox",id:"modActive",checked:j.ativo??!0,onChange:ye=>F({...j,ativo:ye.target.checked}),className:"w-5 h-5 text-teal-500 rounded focus:ring-teal-500"}),o.jsx("label",{htmlFor:"modActive",className:"text-sm font-bold text-txt-main cursor-pointer select-none",children:"Modalidade Ativa"})]})]}),o.jsxs("div",{className:"p-6 border-t border-bdr bg-app flex justify-end gap-3",children:[o.jsx("button",{onClick:()=>z(!1),className:"px-4 py-2 text-txt-muted font-bold hover:bg-bdr rounded-lg transition-colors",children:"Cancelar"}),o.jsx("button",{onClick:ge,className:"px-6 py-2 bg-teal-500 hover:bg-teal-600 text-white font-bold rounded-lg shadow-lg shadow-teal-500/20 transition-all active:scale-95",children:"Salvar"})]})]})})]})},Dv=e=>{const t=Number(e.replace(",","."));return Number.isFinite(t)?t:0},ZR=({onClose:e})=>{const{activeShift:t,closeShift:n}=lg(),[r,i]=$.useState({cash:"",card:"",pix:""}),[s,c]=$.useState({}),[d,h]=$.useState([]),[f,g]=$.useState({}),[x,E]=$.useState(!1),[w,I]=$.useState(!1),[j,F]=$.useState(null),[S,z]=$.useState(null),D=Er(()=>t!=null&&t.depositoId?Le.deposits.get(t.depositoId):void 0,[t==null?void 0:t.depositoId]),G=!!((D==null?void 0:D.require_stock_audit)??(D==null?void 0:D.requireStockAudit)),ce=Er(()=>t!=null&&t.id?Le.cash_flow_entries.where("shift_id").equals(t.id).toArray():[],[t==null?void 0:t.id]),Y=oe=>oe.depositoId??null,ge=oe=>(oe.is_delivery_fee??oe.isDeliveryFee)===!0||String(oe.product_group??oe.codigo??"").toLowerCase()==="delivery_fee"?!0:String(oe.nome??"").toLowerCase()==="taxa de entrega",re=oe=>ge(oe)||(oe.track_stock??oe.trackStock)===!1?!0:oe.type==="SERVICE";$.useEffect(()=>{let oe=!0;return(async()=>{if(!(t!=null&&t.depositoId))return;const se=(await Le.products.toArray()).filter(Z=>{if(re(Z))return!1;const Ce=Y(Z);return Ce===null||Ce===t.depositoId}),_e=await rg(t.depositoId);oe&&(h(se),g(_e))})(),()=>{oe=!1}},[t==null?void 0:t.depositoId]);const M=$.useMemo(()=>{const oe={cash:0,card:0,pix:0};return(ce||[]).forEach(me=>{const ye=Number(me.amount??0)||0,se=me.direction==="OUT"?-ye:ye,_e=me.payment_type??(me.category==="SALE"?"other":"cash");_e==="cash"&&(oe.cash+=se),_e==="card"&&(oe.card+=se),_e==="pix"&&(oe.pix+=se)}),oe},[ce]),X=$.useMemo(()=>!G||!d.length?!1:d.some(oe=>s[oe.id]===""||s[oe.id]===void 0),[G,d,s]),V=(oe,me)=>{const ye=parseInt(me);c(se=>({...se,[oe]:Number.isNaN(ye)?"":Math.max(0,ye)}))},W=async()=>{if(!t)return;z(null);const oe=Dv(r.cash),me=Dv(r.card),ye=Dv(r.pix);if(oe<0||me<0||ye<0){z("Valores declarados invalidos.");return}if(X){z("Preencha a contagem de estoque antes de fechar.");return}const se=oe-M.cash,_e=me-M.card,Z=ye-M.pix,Ce=Math.abs(se)>.009||Math.abs(_e)>.009||Math.abs(Z)>.009,Se=[];G&&d.forEach(P=>{const ie=s[P.id];if(ie===""||ie===void 0)return;const O=Number(f[P.id]??0)||0,ae=Number(ie)-O;ae!==0&&Se.push({id:crypto.randomUUID(),shift_id:t.id,depositoId:t.depositoId,product_id:P.id,counted_qty:Number(ie),system_qty:O,diff_qty:ae,created_at:Date.now(),user_id:t.user_id})});const te=Ce||Se.length>0?"DISCREPANCY":"CLOSED";I(!0);try{Se.length>0&&await sD(Se),await n({declared:{cash:oe,card:me,pix:ye},system:M,status:te,notes:te==="DISCREPANCY"?"Discrepancia detectada no fechamento.":null}),F(te)}catch{z("Falha ao fechar o turno.")}finally{I(!1)}};return!t&&!j?o.jsx("div",{className:"fixed inset-0 bg-app z-50 flex items-center justify-center text-txt-muted",children:"Nenhum turno aberto para fechamento."}):j?o.jsx("div",{className:"fixed inset-0 bg-black/70 z-50 flex items-center justify-center p-6",children:o.jsxs("div",{className:"bg-surface border border-bdr rounded-2xl p-6 max-w-md w-full text-center space-y-4",children:[o.jsx("div",{className:`mx-auto w-12 h-12 rounded-full flex items-center justify-center ${j==="DISCREPANCY"?"bg-red-500/10":"bg-emerald-500/10"}`,children:o.jsx(fm,{className:`w-6 h-6 ${j==="DISCREPANCY"?"text-red-500":"text-emerald-500"}`})}),o.jsx("h3",{className:"text-base font-black text-txt-main",children:"Turno Finalizado"}),o.jsx("p",{className:"text-sm text-txt-muted",children:j==="DISCREPANCY"?"Diferenca identificada. O gerente sera notificado.":"Fechamento concluido sem divergencias."}),o.jsx("button",{onClick:e,className:"w-full bg-primary text-white py-2 rounded-lg font-black",children:"Voltar"})]})}):o.jsxs("div",{className:"fixed inset-0 bg-app z-50 flex flex-col animate-in slide-in-from-bottom-4 duration-300 transition-colors",children:[o.jsxs("div",{className:"bg-surface border-b border-bdr px-6 py-3 shadow-sm shrink-0 z-20 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"bg-emerald-600 p-2 rounded-lg shadow-sm",children:o.jsx(Qh,{className:"w-5 h-5 text-white"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-black text-txt-main",children:"Fechamento de Caixa"}),o.jsxs("p",{className:"text-xs text-txt-muted",children:["Turno #",t==null?void 0:t.id.slice(-6)]})]})]}),o.jsx("button",{onClick:e,className:"p-2 hover:bg-red-500/10 rounded-full text-txt-muted hover:text-red-500",children:o.jsx(zi,{className:"w-5 h-5"})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto bg-app p-6",children:o.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[o.jsxs("div",{className:"bg-surface rounded-xl border border-bdr overflow-hidden",children:[o.jsxs("div",{className:"px-6 py-4 border-b border-bdr bg-app/50 flex items-center justify-between",children:[o.jsxs("h3",{className:"text-sm font-black text-txt-main uppercase tracking-wide flex items-center gap-2",children:[o.jsx(N5,{className:"w-4 h-4 text-emerald-500"}),"Conferencia Cega"]}),!x&&o.jsx("button",{onClick:()=>E(!0),className:"text-xs font-black text-txt-main bg-app border border-bdr px-3 py-1 rounded",children:"Mostrar valores do sistema"})]}),o.jsx("div",{className:"p-6 grid grid-cols-1 md:grid-cols-3 gap-6",children:[{key:"cash",label:"Dinheiro"},{key:"card",label:"Cartao"},{key:"pix",label:"Pix"}].map(oe=>o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-xs font-bold text-txt-muted uppercase",children:oe.label}),o.jsxs("div",{className:"relative",children:[o.jsx("span",{className:"absolute left-3 top-2.5 text-txt-muted font-medium",children:"R$"}),o.jsx("input",{type:"number",value:r[oe.key],onChange:me=>i(ye=>({...ye,[oe.key]:me.target.value})),className:"w-full pl-10 pr-4 py-2 bg-app border border-bdr rounded-lg focus:ring-2 focus:ring-primary/20 outline-none font-bold text-txt-main",placeholder:"0.00"})]}),x&&o.jsxs("div",{className:"text-[11px] text-txt-muted",children:["Sistema: R$ ",M[oe.key].toFixed(2)]})]},oe.key))})]}),G&&d.length>0&&o.jsxs("div",{className:"bg-surface rounded-xl border border-bdr overflow-hidden",children:[o.jsx("div",{className:"px-6 py-4 border-b border-bdr bg-app/50",children:o.jsx("h3",{className:"text-sm font-black text-txt-main uppercase tracking-wide",children:"Auditoria de Estoque"})}),o.jsxs("table",{className:"w-full text-sm text-left",children:[o.jsx("thead",{className:"bg-surface text-[10px] text-txt-muted uppercase font-black border-b border-bdr",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3",children:"Produto"}),o.jsx("th",{className:"px-4 py-3 text-center",children:"Sistema"}),o.jsx("th",{className:"px-4 py-3 text-center",children:"Contado"})]})}),o.jsx("tbody",{className:"divide-y divide-bdr",children:d.map(oe=>o.jsxs("tr",{className:"hover:bg-app/60 transition-colors",children:[o.jsx("td",{className:"px-4 py-3 font-medium text-txt-main",children:oe.nome}),o.jsx("td",{className:"px-4 py-3 text-center font-mono text-txt-muted",children:f[oe.id]??0}),o.jsx("td",{className:"px-4 py-3 text-center",children:o.jsx("input",{type:"number",min:"0",value:s[oe.id]??"",onChange:me=>V(oe.id,me.target.value),className:"w-24 text-center font-black bg-surface border border-bdr rounded-lg py-1 text-txt-main focus:ring-2 focus:ring-primary/20 outline-none",placeholder:"-"})})]},oe.id))})]})]}),S&&o.jsx("div",{className:"text-xs font-bold text-red-500 bg-red-500/10 border border-red-500/20 px-3 py-2 rounded",children:S}),o.jsx("div",{className:"flex justify-end",children:o.jsxs("button",{onClick:W,disabled:w,className:"bg-emerald-600 hover:bg-emerald-700 text-white px-6 py-3 rounded-xl font-black shadow-lg disabled:opacity-60 flex items-center gap-2",children:[o.jsx(wl,{className:"w-4 h-4"}),w?"Fechando...":"Fechar Turno"]})})]})})]})},$R=["SIMPLE","EXCHANGE","FULL"],Mv={nome:"",endereco:"",telefone:"",cpf:"",referencia:"",dataNascimento:"",deliveryZoneId:null},YR=({onClose:e,userRole:t})=>{const n=t==="ADMIN",[r,i]=$.useState([]),[s,c]=$.useState([]),[d,h]=$.useState([]),[f,g]=$.useState(""),[x,E]=$.useState(null),[w,I]=$.useState("dados"),[j,F]=$.useState(!1),[S,z]=$.useState(Mv),[D,G]=$.useState({produtoId:"P13",depositoId:"GLOBAL",modalidade:"VENDA",preco:""}),[ce,Y]=$.useState([]),ge=Er(()=>{var O;return(O=Le.delivery_zones)==null?void 0:O.toArray()},[])||[],[re,M]=$.useState({tipoDesconto:"VALOR",valorDesconto:0,modalidadeAlvo:null,produtoIdAlvo:null});$.useEffect(()=>{let O=!0;return(async()=>{const[ae,ue,je]=await Promise.all([km(),J2(),W2()]);O&&(i(ae),c(ue),h(je))})(),()=>{O=!1}},[]),$.useEffect(()=>{let O=!0;return(async()=>{try{const ae=await sf();if(!O)return;Y(ae.map(ue=>({id:ue.id,nome:ue.nome})))}catch{}})(),()=>{O=!1}},[]);const X=async()=>{const[O,ae,ue]=await Promise.all([km(),J2(),W2()]);i(O),c(ae),h(ue)},V=r.filter(O=>{const ae=(O.nome||"").toString().toLowerCase(),ue=(O.endereco||"").toString().toLowerCase(),je=(O.telefone||"").toString(),Ve=(f||"").toString().toLowerCase();return ae.includes(Ve)||je.includes(f)||ue.includes(Ve)}),W=$.useMemo(()=>r.find(O=>O.id===x),[x,r]),oe=$.useMemo(()=>s.filter(O=>O.clienteId===x),[x,s]),me=$.useMemo(()=>d.find(O=>O.clienteId===x&&!O.usado),[x,d]),ye=()=>{E(null),z(Mv),F(!0),I("dados")},se=O=>{E(O);const ae=r.find(ue=>ue.id===O);ae&&(z(ae),F(!1))},_e=async()=>{var ae;if(!S.nome||!S.endereco)return alert("Preencha Nome e Endereo.");const O=Date.now();x?await am({id:x,nome:S.nome,endereco:S.endereco,telefone:S.telefone,cpf:S.cpf,referencia:S.referencia,dataNascimento:S.dataNascimento,deliveryZoneId:S.deliveryZoneId??null,ativo:S.ativo??!0,criado_em:((ae=r.find(ue=>ue.id===x))==null?void 0:ae.criado_em)??O}):await am({nome:S.nome,endereco:S.endereco,telefone:S.telefone,cpf:S.cpf,referencia:S.referencia,dataNascimento:S.dataNascimento,deliveryZoneId:S.deliveryZoneId??null,ativo:!0,criado_em:O}),await X(),F(!1)},Z=async()=>{if(!x)return;const O=r.find(ae=>ae.id===x);O&&(await am({...O,ativo:!O.ativo}),await X())},Ce=async()=>{if(!x)return;const O=r.find(je=>je.id===x),ae=(O==null?void 0:O.nome)||"cliente";window.confirm(`Excluir permanentemente ${ae}? Essa ao no pode ser desfeita.`)&&(await mD(x),await X(),E(null),z(Mv),F(!1),I("dados"))},Se=async()=>{if(!x||!D.preco)return;const O={id:crypto.randomUUID(),clienteId:x,produtoId:D.produtoId,depositoId:D.depositoId==="GLOBAL"?null:D.depositoId,modalidade:D.modalidade,precoEspecial:parseFloat(D.preco),ativo:!0,atualizado_em:Date.now()};await xD(O),await X(),G({...D,preco:""})},te=async O=>{await bD(O),await X()},P=async()=>{if(!x)return;const O={id:crypto.randomUUID(),clienteId:x,depositoId:null,tipoDesconto:re.tipoDesconto,valorDesconto:re.valorDesconto||0,usado:!1,criado_em:Date.now()};await wD(O),await X(),alert("Desconto pendente salvo com sucesso!")},ie=async()=>{!me||!window.confirm("Remover o bnus pendente deste cliente?")||(await BD(me.id),await X(),alert("Bnus desativado com sucesso."))};return o.jsxs("div",{className:"fixed inset-0 bg-app z-50 flex flex-col animate-in slide-in-from-bottom-4 duration-300",children:[o.jsxs("div",{className:"bg-surface border-b border-bdr px-6 py-4 flex justify-between items-center shadow-sm z-10 transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"bg-primary/10 p-3 rounded-2xl shadow-sm border border-primary/20",children:o.jsx(Bc,{className:"w-6 h-6 text-primary"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-black text-txt-main tracking-tighter",children:"Clientes & Precificao"}),o.jsx("p",{className:"text-xs text-primary font-bold uppercase tracking-widest",children:"Painel Administrativo Pro"})]})]}),o.jsxs("div",{className:"flex items-center gap-6",children:[o.jsxs("div",{className:"relative group",children:[o.jsx(Lc,{className:"w-4 h-4 text-primary absolute left-3 top-3 group-focus-within:scale-110 transition-transform"}),o.jsx("input",{type:"text",placeholder:"Localizar cliente...",value:f,onChange:O=>g(O.target.value),className:"pl-10 pr-4 py-2.5 bg-app border border-bdr rounded-xl text-sm text-txt-main font-bold placeholder:text-txt-muted focus:ring-2 focus:ring-primary focus:border-primary outline-none w-72 transition-all"})]}),o.jsxs("button",{onClick:ye,className:"bg-primary hover:bg-primary/90 text-white px-6 py-2.5 rounded-xl text-sm font-black flex items-center gap-2 transition-all active:scale-95 shadow-lg shadow-primary/20",children:[o.jsx(wo,{className:"w-5 h-5"})," NOVO CLIENTE"]}),o.jsx("button",{onClick:e,className:"p-2 hover:bg-red-500/10 hover:text-red-500 rounded-full text-txt-muted transition-all active:rotate-90",children:o.jsx(zi,{className:"w-7 h-7"})})]})]}),o.jsxs("div",{className:"flex-1 overflow-hidden flex p-6 gap-6",children:[o.jsxs("div",{className:"w-1/3 bg-surface rounded-3xl shadow-lg border border-bdr flex flex-col overflow-hidden transition-colors",children:[o.jsxs("div",{className:"p-5 bg-app/50 border-b border-bdr flex items-center justify-between",children:[o.jsx("span",{className:"text-[10px] font-black text-txt-muted uppercase tracking-[0.2em]",children:"Registros Ativos"}),o.jsx("span",{className:"bg-primary/10 text-primary text-xs font-black px-2 py-0.5 rounded-full",children:V.length})]}),o.jsx("div",{className:"flex-1 overflow-y-auto divide-y divide-bdr no-scrollbar",children:V.length===0?o.jsxs("div",{className:"p-12 text-center flex flex-col items-center justify-center h-full opacity-40",children:[o.jsx(Bc,{className:"w-16 h-16 text-txt-muted mb-4"}),o.jsx("p",{className:"text-txt-muted font-black italic text-sm",children:"Nenhum cliente disponvel"})]}):V.map(O=>o.jsxs("button",{onClick:()=>se(O.id),className:`w-full text-left p-6 hover:bg-app transition-all flex justify-between items-center group relative ${x===O.id?"bg-primary/5 border-r-4 border-primary":""}`,children:[o.jsxs("div",{className:"space-y-1.5",children:[o.jsxs("h4",{className:`font-black text-lg transition-colors ${x===O.id?"text-primary":"text-txt-main"}`,children:[O.nome," ",!O.ativo&&o.jsx("span",{className:"text-[10px] text-white font-black ml-2 uppercase px-2 py-0.5 bg-red-600 rounded-md",children:"Inativo"})]}),o.jsx("p",{className:"text-xs text-txt-muted font-bold truncate w-64 uppercase tracking-tight",children:O.endereco}),o.jsxs("div",{className:"flex gap-2",children:[s.some(ae=>ae.clienteId===O.id)&&o.jsx("span",{className:"text-[9px] font-black bg-amber-500 text-white px-2.5 py-1 rounded shadow-md uppercase tracking-widest",children:"Precificado"}),d.some(ae=>ae.clienteId===O.id&&!ae.usado)&&o.jsx("span",{className:"text-[9px] font-black bg-emerald-500 text-white px-2.5 py-1 rounded shadow-md uppercase tracking-widest",children:"Bonus"})]})]}),o.jsx(b5,{className:`w-6 h-6 transition-all ${x===O.id?"translate-x-2 text-primary opacity-100 scale-125":"text-txt-muted opacity-0 group-hover:opacity-100 group-hover:translate-x-1"}`})]},O.id))})]}),o.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:!x&&!j?o.jsxs("div",{className:"flex-1 bg-surface rounded-3xl border-4 border-dashed border-bdr flex flex-col items-center justify-center text-txt-muted p-12 text-center shadow-inner group transition-colors",children:[o.jsx("div",{className:"bg-app p-10 rounded-[2.5rem] mb-8 border-2 border-bdr group-hover:scale-110 transition-transform duration-500",children:o.jsx(Bc,{className:"w-20 h-20 text-primary/30"})}),o.jsx("p",{className:"font-black text-2xl text-txt-main tracking-tight",children:"Nenhum Registro Selecionado"}),o.jsx("p",{className:"text-sm mt-3 max-w-xs font-bold text-txt-muted leading-relaxed",children:"Clique em um cliente da lista ou inicie um novo cadastro para gerenciar suas condies especiais."})]}):o.jsxs("div",{className:"bg-surface rounded-[2.5rem] shadow-2xl border-2 border-bdr flex flex-col h-full overflow-hidden animate-in fade-in slide-in-from-right-10 duration-500 transition-colors",children:[o.jsxs("div",{className:"px-10 py-6 border-b-2 border-bdr bg-app/50 flex items-center justify-between",children:[o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("button",{onClick:()=>I("dados"),className:`flex items-center gap-3 px-6 py-3 rounded-2xl text-xs font-black uppercase tracking-widest transition-all duration-300 ${w==="dados"?"bg-primary text-white shadow-xl shadow-primary/20 scale-105":"bg-surface text-txt-muted border border-bdr hover:border-primary/50 hover:text-primary"}`,children:[o.jsx(Dh,{className:"w-4 h-4"})," Ficha Cadastral"]}),n&&o.jsxs(o.Fragment,{children:[o.jsxs("button",{disabled:!x,onClick:()=>I("precos"),className:`flex items-center gap-3 px-6 py-3 rounded-2xl text-xs font-black uppercase tracking-widest transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed ${w==="precos"?"bg-amber-500 text-white shadow-xl shadow-amber-200 scale-105":"bg-surface text-txt-muted border border-bdr hover:border-amber-400 hover:text-amber-600"}`,children:[o.jsx(nL,{className:"w-4 h-4"})," Precificao Especial"]}),o.jsxs("button",{disabled:!x,onClick:()=>I("desconto"),className:`flex items-center gap-3 px-6 py-3 rounded-2xl text-xs font-black uppercase tracking-widest transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed ${w==="desconto"?"bg-emerald-600 text-white shadow-xl shadow-emerald-200 scale-105":"bg-surface text-txt-muted border border-bdr hover:border-emerald-400 hover:text-emerald-600"}`,children:[o.jsx(tx,{className:"w-4 h-4"})," Bonificaes"]})]})]}),x&&o.jsxs("div",{className:"bg-surface px-4 py-2 rounded-xl border border-bdr flex items-center gap-3 shadow-sm",children:[o.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse"}),o.jsxs("span",{className:"text-[10px] font-black text-txt-muted uppercase tracking-widest",children:["ID: ",x.split("-")[0]]})]})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-12 no-scrollbar",children:[w==="dados"&&o.jsxs("div",{className:"space-y-12 max-w-4xl animate-in fade-in duration-500",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-10",children:[o.jsxs("div",{className:"col-span-2 group",children:[o.jsx("label",{className:"block text-[11px] font-black text-primary uppercase mb-3 tracking-[0.2em] ml-1",children:"Nome Completo / Razo Social *"}),o.jsxs("div",{className:"relative",children:[o.jsx(pm,{className:"absolute left-5 top-1/2 -translate-y-1/2 w-5 h-5 text-txt-muted group-focus-within:text-primary transition-colors"}),o.jsx("input",{type:"text",value:S.nome,onChange:O=>z({...S,nome:O.target.value}),placeholder:"NOME DO CLIENTE",className:"w-full bg-app border-2 border-bdr rounded-[1.25rem] p-5 pl-14 text-base text-txt-main font-black focus:ring-4 focus:ring-primary/10 focus:bg-surface focus:border-primary outline-none shadow-sm transition-all placeholder:text-txt-muted/50 uppercase"})]})]}),o.jsxs("div",{className:"col-span-2 group",children:[o.jsx("label",{className:"block text-[11px] font-black text-primary uppercase mb-3 tracking-[0.2em] ml-1",children:"Endereo Completo de Entrega *"}),o.jsxs("div",{className:"relative",children:[o.jsx(ou,{className:"absolute left-5 top-1/2 -translate-y-1/2 w-5 h-5 text-txt-muted group-focus-within:text-primary transition-colors"}),o.jsx("input",{type:"text",value:S.endereco,onChange:O=>z({...S,endereco:O.target.value}),placeholder:"LOGRADOURO, NMERO, BAIRRO...",className:"w-full bg-app border-2 border-bdr rounded-[1.25rem] p-5 pl-14 text-base text-txt-main font-black focus:ring-4 focus:ring-primary/10 focus:bg-surface focus:border-primary outline-none shadow-sm transition-all placeholder:text-txt-muted/50 uppercase"})]})]}),o.jsxs("div",{className:"col-span-2 group",children:[o.jsx("label",{className:"block text-[11px] font-black text-primary uppercase mb-3 tracking-[0.2em] ml-1",children:"Zona de entrega"}),o.jsxs("select",{value:S.deliveryZoneId??"",onChange:O=>z({...S,deliveryZoneId:O.target.value||null}),className:"w-full bg-app border-2 border-bdr rounded-[1.25rem] p-5 text-base text-txt-main font-black focus:ring-4 focus:ring-primary/10 focus:bg-surface focus:border-primary outline-none shadow-sm transition-all",children:[o.jsx("option",{value:"",children:"Sem zona definida"}),ge.map(O=>o.jsx("option",{value:O.id,children:O.nome??O.id},O.id))]})]}),o.jsxs("div",{className:"group",children:[o.jsx("label",{className:"block text-[11px] font-black text-primary uppercase mb-3 tracking-[0.2em] ml-1",children:"Telefone Principal"}),o.jsxs("div",{className:"relative",children:[o.jsx(db,{className:"absolute left-5 top-1/2 -translate-y-1/2 w-5 h-5 text-txt-muted group-focus-within:text-primary transition-colors"}),o.jsx("input",{type:"text",value:S.telefone,onChange:O=>z({...S,telefone:O.target.value}),placeholder:"(00) 00000-0000",className:"w-full bg-app border-2 border-bdr rounded-[1.25rem] p-5 pl-14 text-base text-txt-main font-black focus:ring-4 focus:ring-primary/10 focus:bg-surface focus:border-primary outline-none shadow-sm transition-all placeholder:text-txt-muted/50"})]})]}),o.jsxs("div",{className:"group",children:[o.jsx("label",{className:"block text-[11px] font-black text-primary uppercase mb-3 tracking-[0.2em] ml-1",children:"Identificao (CPF/CNPJ)"}),o.jsxs("div",{className:"relative",children:[o.jsx(Dh,{className:"absolute left-5 top-1/2 -translate-y-1/2 w-5 h-5 text-txt-muted group-focus-within:text-primary transition-colors"}),o.jsx("input",{type:"text",value:S.cpf,onChange:O=>z({...S,cpf:O.target.value}),placeholder:"DOCUMENTO",className:"w-full bg-app border-2 border-bdr rounded-[1.25rem] p-5 pl-14 text-base text-txt-main font-black focus:ring-4 focus:ring-primary/10 focus:bg-surface focus:border-primary outline-none shadow-sm transition-all placeholder:text-txt-muted/50"})]})]}),o.jsxs("div",{className:"group",children:[o.jsx("label",{className:"block text-[11px] font-black text-primary uppercase mb-3 tracking-[0.2em] ml-1",children:"Ponto de Referncia"}),o.jsx("input",{type:"text",value:S.referencia,onChange:O=>z({...S,referencia:O.target.value}),placeholder:"EX: PRXIMO  PADARIA",className:"w-full bg-app border-2 border-bdr rounded-[1.25rem] p-5 text-base text-txt-main font-black focus:ring-4 focus:ring-primary/10 focus:bg-surface focus:border-primary outline-none shadow-sm transition-all placeholder:text-txt-muted/50 uppercase"})]}),o.jsxs("div",{className:"group",children:[o.jsx("label",{className:"block text-[11px] font-black text-primary uppercase mb-3 tracking-[0.2em] ml-1",children:"Data Comemorativa"}),o.jsx("input",{type:"date",value:S.dataNascimento,onChange:O=>z({...S,dataNascimento:O.target.value}),className:"w-full bg-app border-2 border-bdr rounded-[1.25rem] p-5 text-base text-txt-main font-black focus:ring-4 focus:ring-primary/10 focus:bg-surface focus:border-primary outline-none shadow-sm transition-all"})]})]}),o.jsxs("div",{className:"flex gap-6 pt-12 border-t-2 border-bdr items-center justify-between",children:[o.jsxs("div",{className:"flex gap-6",children:[o.jsxs("button",{onClick:_e,className:"bg-primary hover:bg-primary/90 text-white px-12 py-5 rounded-[1.5rem] font-black text-sm shadow-2xl shadow-primary/20 flex items-center gap-3 transition-all active:scale-95",children:[o.jsx(wl,{className:"w-6 h-6"})," CONFIRMAR CADASTRO"]}),n&&x&&o.jsxs("button",{onClick:Z,className:`px-10 py-5 rounded-[1.5rem] font-black text-sm border-2 transition-all active:scale-95 flex items-center gap-3 ${W!=null&&W.ativo?"text-red-500 border-red-200 bg-red-500/10 hover:bg-red-500/20":"text-emerald-500 border-emerald-200 bg-emerald-500/10 hover:bg-emerald-500/20"}`,children:[W!=null&&W.ativo?o.jsx(Oh,{className:"w-5 h-5"}):o.jsx(Ml,{className:"w-5 h-5"}),W!=null&&W.ativo?"DESATIVAR REGISTRO":"REATIVAR REGISTRO"]}),n&&x&&o.jsxs("button",{onClick:Ce,className:"px-10 py-5 rounded-[1.5rem] font-black text-sm border-2 border-red-300 text-red-500 bg-red-500/10 hover:bg-red-500/20 transition-all active:scale-95 flex items-center gap-3",children:[o.jsx(oo,{className:"w-5 h-5"})," EXCLUIR PERMANENTEMENTE"]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-[10px] font-black text-txt-muted uppercase tracking-widest mb-1",children:"Status do Registro"}),o.jsx("p",{className:"text-xs font-black text-primary uppercase",children:x?"CLIENTE CADASTRADO":"AGUARDANDO NOVO REGISTRO"})]})]})]}),w==="precos"&&n&&o.jsxs("div",{className:"space-y-12 animate-in fade-in duration-500",children:[o.jsxs("div",{className:"bg-app/50 p-10 rounded-[2.5rem] border-2 border-amber-100/50 grid grid-cols-4 gap-8 items-end shadow-inner",children:[o.jsxs("div",{className:"group",children:[o.jsx("label",{className:"block text-[11px] font-black text-amber-600 uppercase mb-3 tracking-widest ml-1",children:"Produto Base"}),o.jsxs("select",{value:D.produtoId,onChange:O=>G({...D,produtoId:O.target.value}),className:"w-full bg-surface border-2 border-amber-200 rounded-2xl p-4 text-sm text-txt-main font-black focus:ring-4 focus:ring-amber-500/10 focus:border-amber-500 outline-none shadow-sm transition-all",children:[o.jsx("option",{value:"P13",children:"GS P13"}),o.jsx("option",{value:"P45",children:"GS P45"}),o.jsx("option",{value:"AGUA20",children:"GUA 20L"})]})]}),o.jsxs("div",{className:"group",children:[o.jsx("label",{className:"block text-[11px] font-black text-amber-600 uppercase mb-3 tracking-widest ml-1",children:"Alvo de Estoque"}),o.jsxs("select",{value:D.depositoId,onChange:O=>G({...D,depositoId:O.target.value}),className:"w-full bg-surface border-2 border-amber-200 rounded-2xl p-4 text-sm text-txt-main font-black focus:ring-4 focus:ring-amber-500/10 focus:border-amber-500 outline-none shadow-sm transition-all",children:[o.jsx("option",{value:"GLOBAL",children:"GLOBAL"},"GLOBAL"),ce.map(O=>o.jsx("option",{value:O.id,children:O.nome},O.id))]})]}),o.jsxs("div",{className:"group",children:[o.jsx("label",{className:"block text-[11px] font-black text-amber-600 uppercase mb-3 tracking-widest ml-1",children:"Tipo de Venda"}),o.jsx("select",{value:D.modalidade,onChange:O=>G({...D,modalidade:O.target.value}),className:"w-full bg-surface border-2 border-amber-200 rounded-2xl p-4 text-sm text-txt-main font-black focus:ring-4 focus:ring-amber-500/10 focus:border-amber-500 outline-none shadow-sm transition-all",children:$R.map(O=>o.jsx("option",{value:O,children:O},O))})]}),o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("div",{className:"flex-1 group",children:[o.jsx("label",{className:"block text-[11px] font-black text-amber-600 uppercase mb-3 tracking-widest ml-1",children:"Valor Unitrio"}),o.jsxs("div",{className:"relative",children:[o.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-amber-600 font-black text-sm",children:"R$"}),o.jsx("input",{type:"number",value:D.preco,onChange:O=>G({...D,preco:O.target.value}),placeholder:"0,00",className:"w-full border-2 border-amber-200 rounded-2xl p-4 pl-10 text-sm text-txt-main font-black focus:ring-4 focus:ring-amber-500/10 focus:border-amber-500 outline-none shadow-sm transition-all"})]})]}),o.jsx("button",{onClick:Se,className:"bg-amber-500 hover:bg-amber-600 text-white p-4 rounded-2xl shadow-xl shadow-amber-200 flex items-center justify-center active:scale-90 transition-all",children:o.jsx(wo,{className:"w-7 h-7",strokeWidth:3})})]})]}),o.jsx("div",{className:"bg-surface border-2 border-bdr rounded-[2.5rem] overflow-hidden shadow-2xl",children:o.jsxs("table",{className:"w-full text-left",children:[o.jsx("thead",{className:"bg-txt-main text-[10px] font-black text-surface uppercase tracking-[0.3em]",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-10 py-6",children:"Item Base"}),o.jsx("th",{className:"px-10 py-6",children:"Depsito Alvo"}),o.jsx("th",{className:"px-10 py-6",children:"Modalidade"}),o.jsx("th",{className:"px-10 py-6 text-right",children:"Valor Lquido"}),o.jsx("th",{className:"px-10 py-6 text-center",children:"Ao"})]})}),o.jsx("tbody",{className:"divide-y-2 divide-bdr",children:oe.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"px-10 py-24 text-center text-txt-muted font-black italic text-sm",children:"NENHUMA CONDIO ESPECIAL DEFINIDA"})}):oe.map(O=>{var ae;return o.jsxs("tr",{className:"hover:bg-app transition-all group",children:[o.jsx("td",{className:"px-10 py-6 font-black text-txt-main text-base",children:O.produtoId}),o.jsx("td",{className:"px-10 py-6 text-txt-muted font-black text-xs uppercase tracking-widest",children:O.depositoId||"GLOBAL"}),o.jsx("td",{className:"px-10 py-6",children:o.jsx("span",{className:"px-3 py-1.5 bg-amber-500/10 text-amber-600 text-[10px] font-black rounded-lg border-2 border-amber-500/20 uppercase tracking-widest",children:O.modalidade})}),o.jsxs("td",{className:"px-10 py-6 text-right font-black text-amber-500 text-xl tracking-tighter",children:["R$ ",(ae=O.precoEspecial)==null?void 0:ae.toFixed(2)]}),o.jsx("td",{className:"px-10 py-6 text-center",children:o.jsx("button",{onClick:()=>te(O.id),className:"text-red-400 hover:text-red-600 hover:bg-red-50 p-3 rounded-xl transition-all",children:o.jsx(oo,{className:"w-6 h-6"})})})]},O.id)})})]})})]}),w==="desconto"&&n&&o.jsx("div",{className:"space-y-12 animate-in fade-in duration-500 flex flex-col items-center",children:o.jsxs("div",{className:"bg-gradient-to-br from-emerald-600 to-emerald-900 p-12 rounded-[3.5rem] w-full max-w-3xl shadow-2xl shadow-emerald-200/50 relative overflow-hidden group",children:[o.jsx("div",{className:"absolute -right-20 -top-20 w-80 h-80 bg-white/5 rounded-full group-hover:scale-125 transition-transform duration-700"}),o.jsx("div",{className:"absolute -left-20 -bottom-20 w-60 h-60 bg-black/10 rounded-full"}),o.jsxs("div",{className:"flex items-center gap-8 mb-12 relative z-10",children:[o.jsx("div",{className:"bg-white p-5 rounded-[1.75rem] shadow-2xl",children:o.jsx(tx,{className:"w-10 h-10 text-emerald-700",strokeWidth:3})}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-3xl font-black text-white tracking-tighter",children:"Benefcio de Bonificao"}),o.jsx("p",{className:"text-emerald-100 font-bold opacity-80 uppercase text-[10px] tracking-[0.2em] mt-1",children:"Aplicao nica na prxima O.S."})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-10 mb-12 relative z-10",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsx("label",{className:"block text-[11px] font-black text-emerald-200 uppercase tracking-widest ml-1",children:"Modalidade do Cupom"}),o.jsxs("select",{value:re.tipoDesconto,onChange:O=>M({...re,tipoDesconto:O.target.value}),className:"w-full bg-white/10 border-2 border-white/20 rounded-3xl p-5 text-base text-white font-black focus:ring-8 focus:ring-white/5 focus:bg-white focus:text-emerald-900 outline-none shadow-inner transition-all backdrop-blur-md",children:[o.jsx("option",{value:"VALOR",children:"VALOR FIXO (R$)"}),o.jsx("option",{value:"PERCENTUAL",children:"PERCENTUAL (%)"})]})]}),o.jsxs("div",{className:"mb-8 bg-white/5 border-2 border-white/10 rounded-3xl p-6 text-white flex items-center justify-between gap-4 shadow-inner relative z-10",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-[10px] uppercase tracking-[0.2em] font-black text-white/70",children:"Status do bnus"}),me?o.jsxs("p",{className:"text-sm font-black text-white mt-1",children:["Bnus pendente de ",me.tipoDesconto==="VALOR"?`R$ ${me.valorDesconto.toFixed(2)}`:`${me.valorDesconto}%`," para a prxima O.S."]}):o.jsx("p",{className:"text-sm font-black text-white mt-1",children:"Nenhum bnus pendente para este cliente."})]}),me&&o.jsx("button",{onClick:ie,className:"px-5 py-3 rounded-2xl font-black text-sm bg-red-500/90 hover:bg-red-500 text-white shadow-lg shadow-red-500/30 transition-all active:scale-95",children:"DESABILITAR BNUS"})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("label",{className:"block text-[11px] font-black text-emerald-200 uppercase tracking-widest ml-1",children:"Carga do Benefcio"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"number",value:re.valorDesconto,onChange:O=>M({...re,valorDesconto:parseFloat(O.target.value)}),className:"w-full bg-white/10 border-2 border-white/20 rounded-3xl p-5 text-2xl text-white font-black focus:ring-8 focus:ring-white/5 focus:bg-white focus:text-emerald-900 outline-none shadow-inner transition-all backdrop-blur-md"}),o.jsx("span",{className:"absolute right-6 top-1/2 -translate-y-1/2 font-black text-white/50 text-xl group-focus-within:text-emerald-500",children:re.tipoDesconto==="VALOR"?"R$":"%"})]})]})]}),o.jsxs("button",{onClick:P,className:"w-full bg-white hover:bg-emerald-50 text-emerald-900 font-black py-6 rounded-3xl shadow-2xl transition-all active:scale-[0.98] flex items-center justify-center gap-4 text-lg relative z-10 group",children:[o.jsx(IL,{className:"w-7 h-7 scale-110",strokeWidth:3}),"ATIVAR BENEFCIO AGORA"]})]})})]})]})})]})]})},XR=e=>Number(e||0).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),Pc=e=>{if(typeof e=="number"&&Number.isFinite(e))return e;if(typeof e=="string"){const t=e.trim();if(!t||t==="-"||t==="--")return 0;const n=t.replace(",","."),r=Number(n);return Number.isFinite(r)?r:0}return 0},Hc=e=>{if(e==null)return"-";const t=String(e).trim();return t||"-"},JR=e=>{var n,r,i,s,c,d,h,f,g,x,E,w,I,j,F,S,z,D,G;const t=(e==null?void 0:e.top_product_sold)??(e==null?void 0:e.top_product)??(e==null?void 0:e.top_sold_product)??(e==null?void 0:e.top_product_by_qty)??{};return{top_driver:{name:Hc((n=e==null?void 0:e.top_driver)==null?void 0:n.name),count:Pc(((r=e==null?void 0:e.top_driver)==null?void 0:r.count)??((i=e==null?void 0:e.top_driver)==null?void 0:i.deliveries))},fastest_driver:{name:Hc((s=e==null?void 0:e.fastest_driver)==null?void 0:s.name),avg_minutes:Pc(((c=e==null?void 0:e.fastest_driver)==null?void 0:c.avg_minutes)??((d=e==null?void 0:e.fastest_driver)==null?void 0:d.avg_min)??((h=e==null?void 0:e.fastest_driver)==null?void 0:h.avg_time))},top_deposit:{name:Hc((f=e==null?void 0:e.top_deposit)==null?void 0:f.name),total:Pc(((g=e==null?void 0:e.top_deposit)==null?void 0:g.total)??((x=e==null?void 0:e.top_deposit)==null?void 0:x.value))},top_cashier:{name:Hc((E=e==null?void 0:e.top_cashier)==null?void 0:E.name),count:Pc(((w=e==null?void 0:e.top_cashier)==null?void 0:w.count)??((I=e==null?void 0:e.top_cashier)==null?void 0:I.orders))},top_client_value:{name:Hc((j=e==null?void 0:e.top_client_value)==null?void 0:j.name),total:Pc(((F=e==null?void 0:e.top_client_value)==null?void 0:F.total)??((S=e==null?void 0:e.top_client_value)==null?void 0:S.value))},top_client_orders:{name:Hc((z=e==null?void 0:e.top_client_orders)==null?void 0:z.name),count:Pc(((D=e==null?void 0:e.top_client_orders)==null?void 0:D.count)??((G=e==null?void 0:e.top_client_orders)==null?void 0:G.orders))},top_product_sold:{name:Hc((t==null?void 0:t.name)??(t==null?void 0:t.product_name)??(t==null?void 0:t.produto_nome)),count:Pc((t==null?void 0:t.count)??(t==null?void 0:t.qty)??(t==null?void 0:t.quantity)??(t==null?void 0:t.total))}}},Rv={top_driver:{name:"-",count:0},fastest_driver:{name:"-",avg_minutes:0},top_deposit:{name:"-",total:0},top_cashier:{name:"-",count:0},top_client_value:{name:"-",total:0},top_client_orders:{name:"-",count:0},top_product_sold:{name:"-",count:0}},WR=()=>{const[e,t]=$.useState(Rv),[n,r]=$.useState(!0),[i,s]=$.useState(null),c=Er(()=>Le.deposits.toArray(),[]),d=$.useMemo(()=>(c||[]).filter(g=>g.ativo!==!1).sort((g,x)=>String(g.nome??"").localeCompare(String(x.nome??""))),[c]);$.useEffect(()=>{let f=!0;return(async()=>{r(!0);try{const{data:x,error:E}=await Ha.rpc("get_audit_dashboard_stats",{target_deposit_id:i});if(E){if(!f)return;t(Rv);return}const w=Array.isArray(x)?x[0]:x;let I=w;if(typeof w=="string")try{I=JSON.parse(w)}catch{I={}}const j=JR(I||{});if(!f)return;t(j)}catch{if(!f)return;t(Rv)}finally{f&&r(!1)}})(),()=>{f=!1}},[i]);const h=$.useMemo(()=>{const f=(w,I)=>w>0?`${w} ${I}`:"--",g=w=>w>0?`${w} min medio`:"--",x=w=>w>0?XR(w):"--",E=w=>!w||w==="-"||w==="--";return[{key:"top_driver",title:"Entregador + Produtivo",icon:um,name:e.top_driver.name,value:f(e.top_driver.count,"entregas"),isEmpty:E(e.top_driver.name)||e.top_driver.count===0},{key:"fastest_driver",title:"The Flash (Mais Rapido)",icon:zL,name:e.fastest_driver.name,value:g(e.fastest_driver.avg_minutes),isEmpty:E(e.fastest_driver.name)||e.fastest_driver.avg_minutes===0},{key:"top_deposit",title:"Deposito Lider",icon:wL,name:e.top_deposit.name,value:x(e.top_deposit.total),isEmpty:E(e.top_deposit.name)||e.top_deposit.total===0},{key:"top_cashier",title:"Caixa Mais Ativo",icon:M3,name:e.top_cashier.name,value:f(e.top_cashier.count,"ordens"),isEmpty:E(e.top_cashier.name)||e.top_cashier.count===0},{key:"top_client_value",title:"Cliente VIP (Valor)",icon:i3,name:e.top_client_value.name,value:x(e.top_client_value.total),isEmpty:E(e.top_client_value.name)||e.top_client_value.total===0},{key:"top_client_orders",title:"Cliente Fiel (Pedidos)",icon:y3,name:e.top_client_orders.name,value:f(e.top_client_orders.count,"pedidos"),isEmpty:E(e.top_client_orders.name)||e.top_client_orders.count===0},{key:"top_product_sold",title:"Produto + Vendido",icon:gd,name:e.top_product_sold.name,value:f(e.top_product_sold.count,"un"),isEmpty:E(e.top_product_sold.name)||e.top_product_sold.count===0}]},[e]);return o.jsxs("div",{className:"bg-surface rounded-2xl border border-bdr p-5",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-black text-txt-muted uppercase tracking-widest",children:"Visao Geral"}),o.jsx("h3",{className:"text-sm font-black text-txt-main uppercase tracking-wide",children:"Campeoes Globais"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-[10px] font-black text-txt-muted uppercase",children:"Filtro"}),o.jsxs("select",{value:i??"",onChange:f=>s(f.target.value||null),className:"bg-app border border-bdr rounded-lg px-2 py-1 text-xs font-bold text-txt-main focus:ring-2 focus:ring-primary/20 outline-none",children:[o.jsx("option",{value:"",children:"Visao Global"}),d.length>0&&o.jsx("optgroup",{label:"Filtrar por Deposito",children:d.map(f=>o.jsx("option",{value:f.id,children:f.nome},f.id))})]})]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:n?Array.from({length:h.length}).map((f,g)=>o.jsxs("div",{className:"bg-app border border-bdr rounded-xl p-4 animate-pulse",children:[o.jsx("div",{className:"h-4 w-24 bg-bdr/50 rounded mb-3"}),o.jsx("div",{className:"h-5 w-40 bg-bdr/50 rounded mb-2"}),o.jsx("div",{className:"h-4 w-20 bg-bdr/50 rounded"})]},g)):h.map(f=>{const g=f.icon,x=f.isEmpty?"opacity-60":"",E=f.isEmpty?"text-orange-500/50":"text-orange-500";return o.jsxs("div",{className:`bg-app border border-bdr rounded-xl p-4 flex items-start justify-between ${x}`,children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-[10px] uppercase font-black text-txt-muted",children:f.title}),o.jsx("p",{className:"text-sm font-black text-txt-main mt-2",children:f.name||"--"}),f.isEmpty?o.jsx("p",{className:"text-xs text-txt-muted",children:"Sem dados suficientes"}):o.jsx("p",{className:"text-xs text-txt-muted",children:f.value})]}),o.jsx("div",{className:"bg-surface border border-bdr rounded-lg p-2",children:o.jsx(g,{className:`w-5 h-5 ${E}`})})]},f.key)})}),o.jsx("p",{className:"text-[10px] text-txt-muted mt-4",children:"*Metricas baseadas apenas em vendas finalizadas."})]})},eP=({onClose:e})=>{const[t,n]=$.useState([]),[r,i]=$.useState(""),[s,c]=$.useState(!1),[d,h]=$.useState(null);$.useEffect(()=>{let x=!0;const E=j=>{if(!j)return 0;if(typeof j=="number")return j;if(typeof j=="string"){const S=j.trim();if(S&&!Number.isNaN(Number(S)))return Number(S)}const F=new Date(j).getTime();return Number.isNaN(F)?0:F},w=j=>{const F=j.data_hora??j.dataHora??j.created_at??j.createdAt??new Date().toISOString(),S=Hs(j);return{id:String(j.id??""),dataHora:F,depositoId:S.depositoId??"",produtoId:j.produto_id??j.produtoId??j.product_id??j.productId??"",produtoNome:j.produto_nome??j.produtoNome??j.product_name??j.productName??"",tipo:j.tipo??j.type??"AJUSTE",quantidade:Number(j.quantidade??j.qty??j.quantity??0)||0,origem:j.origem??j.source??"",referenciaId:j.referencia_id??j.referenciaId??j.reference_id??j.referenceId??null,usuarioId:j.usuario_id??j.usuarioId??j.user_id??j.userId??"SISTEMA",usuarioNome:j.usuario_nome??j.usuarioNome??j.user_name??j.userName??j.usuario??"Sistema",motivo:j.motivo??j.reason??""}};return(async()=>{c(!0),h(null);try{const{data:j,error:F}=await Ha.from("stock_movements").select("*");if(F)throw F;const S=Date.now(),z=S-720*60*60*1e3,D=(j??[]).map(w).filter(G=>{const ce=E(G.dataHora);return ce>=z&&ce<=S}).sort((G,ce)=>E(ce.dataHora)-E(G.dataHora));if(!x)return;n(D)}catch(j){if(!x)return;h((j==null?void 0:j.message)||"Falha ao carregar auditoria."),n([])}finally{x&&c(!1)}})(),()=>{x=!1}},[]);const f=r.toLowerCase(),g=t.filter(x=>{const E=String(x.produtoNome??"").toLowerCase(),w=String(x.usuarioNome??"").toLowerCase(),I=String(x.tipo??"").toLowerCase(),j=String(x.motivo??"").toLowerCase();return E.includes(f)||w.includes(f)||I.includes(f)||j.includes(f)});return o.jsxs("div",{className:"fixed inset-0 bg-app z-[60] flex flex-col animate-in slide-in-from-bottom-4 duration-300 transition-colors",children:[o.jsxs("div",{className:"bg-surface border-b border-bdr px-6 py-4 flex justify-between items-center shadow-sm shrink-0 transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"bg-orange-500/10 p-2.5 rounded-xl border border-orange-500/20",children:o.jsx(w5,{className:"w-6 h-6 text-orange-600"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-black text-txt-main tracking-tight",children:"Auditoria e Logs"}),o.jsx("p",{className:"text-xs text-txt-muted font-bold uppercase tracking-widest",children:"Rastreabilidade total de operaes"})]})]}),o.jsx("button",{onClick:e,className:"p-2 hover:bg-red-500/10 text-txt-muted hover:text-red-500 rounded-full transition-colors",children:o.jsx(zi,{className:"w-6 h-6"})})]}),o.jsxs("div",{className:"bg-app px-6 py-4 flex flex-col md:flex-row gap-4 items-center shrink-0 border-b border-bdr transition-colors",children:[o.jsxs("div",{className:"relative w-full md:w-96",children:[o.jsx(Lc,{className:"w-4 h-4 text-txt-muted absolute left-3 top-3"}),o.jsx("input",{type:"text",placeholder:"Buscar por produto, usurio ou motivo...",value:r,onChange:x=>i(x.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-surface border border-bdr rounded-xl text-sm font-bold text-txt-main focus:ring-2 focus:ring-orange-500 outline-none shadow-sm transition-colors"})]}),o.jsxs("div",{className:"flex items-center gap-2 px-4 py-2.5 bg-surface border border-bdr rounded-xl text-sm font-bold text-txt-muted shadow-sm transition-colors",children:[o.jsx(Dm,{className:"w-4 h-4"}),o.jsx("span",{children:"ltimos 30 dias"})]}),o.jsxs("div",{className:"flex-1 text-right text-xs font-bold text-txt-muted uppercase tracking-wider",children:[s&&o.jsx("span",{className:"text-txt-muted",children:"Carregando..."}),!s&&d&&o.jsx("span",{className:"text-red-500",children:d}),!s&&!d&&o.jsxs("span",{children:["Total de registros: ",o.jsx("span",{className:"text-txt-main",children:g.length})]})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-app transition-colors",children:o.jsxs("div",{className:"max-w-[1600px] mx-auto space-y-6",children:[o.jsx(WR,{}),o.jsx("div",{className:"bg-surface rounded-2xl shadow-sm border border-bdr overflow-hidden transition-colors",children:o.jsxs("table",{className:"w-full text-left text-sm",children:[o.jsx("thead",{className:"bg-app text-[10px] font-black text-txt-muted uppercase tracking-widest border-b border-bdr transition-colors",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-4",children:"Data / Hora"}),o.jsx("th",{className:"px-6 py-4",children:"Usurio"}),o.jsx("th",{className:"px-6 py-4",children:"Tipo de Ao"}),o.jsx("th",{className:"px-6 py-4",children:"Depsito / Origem"}),o.jsx("th",{className:"px-6 py-4",children:"Item Afetado"}),o.jsx("th",{className:"px-6 py-4 text-right",children:"Qtd."}),o.jsx("th",{className:"px-6 py-4",children:"Detalhes / Motivo"})]})}),o.jsx("tbody",{className:"divide-y divide-bdr transition-colors",children:g.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:7,className:"px-6 py-16 text-center text-txt-muted opacity-50",children:o.jsxs("div",{className:"flex flex-col items-center gap-3",children:[o.jsx(dm,{className:"w-10 h-10"}),o.jsx("p",{className:"font-bold text-sm",children:"Nenhum registro de auditoria encontrado."})]})})}):g.map(x=>o.jsxs("tr",{className:"hover:bg-app transition-colors group",children:[o.jsx("td",{className:"px-6 py-4 font-mono text-xs font-bold text-txt-muted",children:new Date(x.dataHora).toLocaleString("pt-BR")}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("span",{className:"font-black text-txt-main text-xs bg-app px-2 py-1 rounded border border-bdr",children:x.usuarioNome})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("span",{className:`px-2 py-1 rounded text-[10px] font-black uppercase border ${x.tipo.includes("ENTRADA")?"bg-green-500/10 text-green-600 border-green-500/20":x.tipo.includes("SAIDA")?"bg-red-500/10 text-red-600 border-red-500/20":"bg-blue-500/10 text-blue-600 border-blue-500/20"}`,children:x.tipo.replace("_"," ")})}),o.jsx("td",{className:"px-6 py-4 text-txt-muted text-xs font-bold uppercase tracking-wide",children:x.depositoId}),o.jsx("td",{className:"px-6 py-4 font-bold text-txt-main",children:x.produtoNome}),o.jsxs("td",{className:`px-6 py-4 text-right font-black ${x.quantidade>0?"text-emerald-600":"text-txt-main"}`,children:[x.quantidade>0?"+":"",x.quantidade]}),o.jsx("td",{className:"px-6 py-4 text-txt-muted text-xs font-medium italic truncate max-w-xs group-hover:text-txt-main transition-colors",title:x.motivo,children:x.motivo||x.origem})]},x.id))})]})})]})})]})},Th=[{id:"light",label:"Padro (Claro)",description:"Visual clssico e limpo",colors:{appBg:"#f8fafc",surfaceBg:"#ffffff",textMain:"#0f172a",textMuted:"#64748b",border:"#e2e8f0",primary:"#4f46e5"}},{id:"oled",label:"OLED (Preto Profundo)",description:"Economia mxima de energia",colors:{appBg:"#000000",surfaceBg:"#000000",textMain:"#f8fafc",textMuted:"#cbd5e1",border:"#333333",primary:"#22d3ee"}},{id:"dracula",label:"Dracula (Roxo)",description:"Tema escuro com contraste suave",colors:{appBg:"#0f172a",surfaceBg:"#1e293b",textMain:"#f1f5f9",textMuted:"#cbd5e1",border:"#334155",primary:"#a78bfa"}},{id:"ocean",label:"Oceano Profundo",description:"Azuis profundos com brilho frio",colors:{appBg:"#082f49",surfaceBg:"#0c4a6e",textMain:"#f0f9ff",textMuted:"#e0f2fe",border:"#075985",primary:"#38bdf8"}},{id:"forest",label:"Floresta Noturna",description:"Verdes escuros com atmosfera natural",colors:{appBg:"#022c22",surfaceBg:"#064e3b",textMain:"#ecfdf5",textMuted:"#d1fae5",border:"#065f46",primary:"#34d399"}},{id:"ember",label:"Brasa (Preto & Laranja)",description:"Preto intenso com brilho quente",colors:{appBg:"#0c0a09",surfaceBg:"#1c1917",textMain:"#ffedd5",textMuted:"#d6d3d1",border:"#44403c",primary:"#f97316"}},{id:"sunset",label:"Pr do Sol",description:"Gradiente quente com tons de rosa e laranja",pattern:"radial-gradient(circle at 20% 20%, rgba(251, 146, 60, 0.35), transparent 55%), radial-gradient(circle at 80% 30%, rgba(244, 114, 182, 0.25), transparent 60%), radial-gradient(circle at 50% 80%, rgba(253, 186, 116, 0.2), transparent 65%)",colors:{appBg:"#1b0b14",surfaceBg:"#2a141f",textMain:"#fff1f2",textMuted:"#fecdd3",border:"#3f1c2b",primary:"#fb7185"}},{id:"aurora",label:"Aurora Boreal",description:"Neblinas frias com tons de ciano e verde",pattern:"radial-gradient(circle at 20% 20%, rgba(34, 211, 238, 0.35), transparent 55%), radial-gradient(circle at 80% 30%, rgba(16, 185, 129, 0.3), transparent 60%), radial-gradient(circle at 50% 80%, rgba(139, 92, 246, 0.25), transparent 65%)",colors:{appBg:"#0b1020",surfaceBg:"#131a2d",textMain:"#e2e8f0",textMuted:"#94a3b8",border:"#1f2937",primary:"#22d3ee"}},{id:"nebula",label:"Nebulosa Roxa",description:"Brilhos roxos com contraste espacial",pattern:"radial-gradient(circle at 15% 25%, rgba(217, 70, 239, 0.28), transparent 55%), radial-gradient(circle at 75% 70%, rgba(99, 102, 241, 0.3), transparent 60%), radial-gradient(circle at 50% 40%, rgba(14, 165, 233, 0.2), transparent 65%)",colors:{appBg:"#120b24",surfaceBg:"#1c1236",textMain:"#f5f3ff",textMuted:"#d8b4fe",border:"#312e81",primary:"#c084fc"}}],tP=({onClose:e,currentTheme:t,onThemeChange:n,backgroundImage:r,backgroundOpacity:i,onBackgroundImageChange:s,onBackgroundOpacityChange:c})=>{const f=$.useRef(null),[g,x]=$.useState(null),E=$.useMemo(()=>Th.find(F=>F.id===t)||Th[0],[t]),w=()=>{var F;(F=f.current)==null||F.click()},I=F=>{var D;const S=(D=F.target.files)==null?void 0:D[0];if(!S)return;if(x(null),S.size>10485760){x("Imagem muito grande. Use at 10 MB."),F.target.value="";return}const z=new FileReader;z.onload=async()=>{const G=typeof z.result=="string"?z.result:null;if(G)try{await s(G)}catch(ce){x("Imagem grande demais para salvar. Use uma imagem menor."),console.error("Erro ao aplicar imagem de fundo",ce)}},z.onerror=()=>{x("Falha ao ler a imagem. Tente outro arquivo.")},z.readAsDataURL(S),F.target.value=""},j=F=>{const S=Number(F.target.value),z=Number.isFinite(S)?Math.min(1,Math.max(0,S)):.35;c(z)};return o.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-in fade-in duration-300",children:o.jsxs("div",{className:"bg-surface w-full max-w-3xl rounded-3xl shadow-2xl overflow-hidden border border-bdr transform transition-all",children:[o.jsxs("div",{className:"bg-app border-b border-bdr px-8 py-6 flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"bg-pink-100 p-3 rounded-2xl",children:o.jsx(cb,{className:"w-6 h-6 text-pink-600"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-black text-txt-main tracking-tight",children:"Personalizao"}),o.jsx("p",{className:"text-sm text-txt-muted font-medium",children:"Escolha o visual que mais lhe agrada"})]})]}),o.jsx("button",{onClick:e,className:"p-2 hover:bg-black/5 rounded-full text-txt-muted transition-colors",children:o.jsx(zi,{className:"w-6 h-6"})})]}),o.jsx("div",{className:"p-8 grid grid-cols-1 sm:grid-cols-2 gap-6 bg-app",children:Th.map(F=>{const S=t===F.id;return o.jsxs("button",{onClick:()=>n(F.id),className:`relative group flex items-center gap-4 p-4 rounded-2xl border-2 transition-all duration-300 text-left ${S?"border-pink-500 bg-surface shadow-lg scale-[1.02]":"border-bdr bg-surface hover:border-pink-300 hover:shadow-md"}`,children:[o.jsx("div",{className:"w-16 h-16 rounded-xl shadow-inner flex items-center justify-center text-xs font-bold shrink-0 border border-white/10",style:{backgroundColor:F.colors.appBg,backgroundImage:F.pattern??"none",color:F.colors.textMain},children:o.jsx("div",{className:"w-8 h-8 rounded-lg shadow-sm",style:{backgroundColor:F.colors.surfaceBg}})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-bold text-lg text-txt-main mb-1",children:F.label}),o.jsx("p",{className:"text-xs text-txt-muted opacity-80",children:F.description})]}),S&&o.jsx("div",{className:"absolute top-4 right-4 bg-pink-500 text-white p-1 rounded-full shadow-sm animate-in zoom-in",children:o.jsx(Wv,{className:"w-4 h-4",strokeWidth:3})})]},F.id)})}),o.jsxs("div",{className:"px-8 pb-8 bg-app space-y-4",children:[o.jsxs("div",{className:"bg-surface border border-bdr rounded-2xl p-5 space-y-4",children:[o.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-xl bg-pink-100 flex items-center justify-center",children:o.jsx(C3,{className:"w-5 h-5 text-pink-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-black text-txt-main",children:"Imagem de fundo"}),o.jsx("p",{className:"text-[11px] text-txt-muted",children:"Envie uma imagem e ajuste a transparncia"})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{type:"button",onClick:w,className:"px-4 py-2 text-xs font-black uppercase rounded-xl bg-pink-600 text-white shadow-sm hover:bg-pink-700 transition",children:"Upload"}),o.jsx("button",{type:"button",onClick:()=>{x(null),s(null)},className:"px-3 py-2 text-xs font-black uppercase rounded-xl border border-bdr text-txt-muted hover:text-red-500 hover:border-red-300 transition",children:o.jsx(oo,{className:"w-4 h-4"})})]})]}),g&&o.jsx("div",{className:"text-xs text-red-500 font-bold",children:g}),r?o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[o.jsx("div",{className:"w-full sm:w-40 h-28 rounded-xl overflow-hidden border border-bdr",children:o.jsx("img",{src:r,alt:"Preview",className:"w-full h-full object-cover",style:{opacity:i}})}),o.jsxs("div",{className:"flex-1 space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-txt-muted",children:[o.jsx(gL,{className:"w-4 h-4"}),"Transparncia da imagem"]}),o.jsx("input",{type:"range",min:"0",max:"1",step:"0.05",value:i,onChange:j,className:"w-full accent-pink-500"}),o.jsxs("p",{className:"text-[11px] text-txt-muted",children:[Math.round(i*100),"% visvel"]})]})]}):o.jsxs("div",{className:"text-xs text-txt-muted",children:["Nenhuma imagem aplicada. O fundo usa o tema ",E.label,"."]})]}),o.jsx("input",{ref:f,type:"file",accept:"image/*",onChange:I,className:"hidden"})]}),o.jsx("div",{className:"bg-surface border-t border-bdr p-6 flex justify-end",children:o.jsx("button",{onClick:e,className:"px-8 py-3 bg-pink-600 hover:bg-pink-700 text-white font-bold rounded-xl shadow-lg shadow-pink-200 transition-all active:scale-95",children:"Concludo"})})]})})};function vE(e,t){return function(){return e.apply(t,arguments)}}const{toString:nP}=Object.prototype,{getPrototypeOf:Rb}=Object,{iterator:Ag,toStringTag:xE}=Symbol,cg=(e=>t=>{const n=nP.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ql=e=>(e=e.toLowerCase(),t=>cg(t)===e),ug=e=>t=>typeof t===e,{isArray:Cd}=Array,bd=ug("undefined");function uf(e){return e!==null&&!bd(e)&&e.constructor!==null&&!bd(e.constructor)&&Go(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const bE=ql("ArrayBuffer");function rP(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&bE(e.buffer),t}const iP=ug("string"),Go=ug("function"),yE=ug("number"),df=e=>e!==null&&typeof e=="object",aP=e=>e===!0||e===!1,sm=e=>{if(cg(e)!=="object")return!1;const t=Rb(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(xE in e)&&!(Ag in e)},sP=e=>{if(!df(e)||uf(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},oP=ql("Date"),lP=ql("File"),AP=ql("Blob"),cP=ql("FileList"),uP=e=>df(e)&&Go(e.pipe),dP=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Go(e.append)&&((t=cg(e))==="formdata"||t==="object"&&Go(e.toString)&&e.toString()==="[object FormData]"))},hP=ql("URLSearchParams"),[fP,pP,mP,gP]=["ReadableStream","Request","Response","Headers"].map(ql),vP=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function hf(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),Cd(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{if(uf(e))return;const s=n?Object.getOwnPropertyNames(e):Object.keys(e),c=s.length;let d;for(r=0;r<c;r++)d=s[r],t.call(null,e[d],d,e)}}function _E(e,t){if(uf(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,i;for(;r-- >0;)if(i=n[r],t===i.toLowerCase())return i;return null}const Wc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,wE=e=>!bd(e)&&e!==Wc;function Wx(){const{caseless:e,skipUndefined:t}=wE(this)&&this||{},n={},r=(i,s)=>{const c=e&&_E(n,s)||s;sm(n[c])&&sm(i)?n[c]=Wx(n[c],i):sm(i)?n[c]=Wx({},i):Cd(i)?n[c]=i.slice():(!t||!bd(i))&&(n[c]=i)};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&hf(arguments[i],r);return n}const xP=(e,t,n,{allOwnKeys:r}={})=>(hf(t,(i,s)=>{n&&Go(i)?e[s]=vE(i,n):e[s]=i},{allOwnKeys:r}),e),bP=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),yP=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},_P=(e,t,n,r)=>{let i,s,c;const d={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),s=i.length;s-- >0;)c=i[s],(!r||r(c,e,t))&&!d[c]&&(t[c]=e[c],d[c]=!0);e=n!==!1&&Rb(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},wP=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},BP=e=>{if(!e)return null;if(Cd(e))return e;let t=e.length;if(!yE(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},CP=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Rb(Uint8Array)),NP=(e,t)=>{const r=(e&&e[Ag]).call(e);let i;for(;(i=r.next())&&!i.done;){const s=i.value;t.call(e,s[0],s[1])}},EP=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},SP=ql("HTMLFormElement"),LP=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),UB=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),jP=ql("RegExp"),BE=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};hf(n,(i,s)=>{let c;(c=t(i,s,e))!==!1&&(r[s]=c||i)}),Object.defineProperties(e,r)},kP=e=>{BE(e,(t,n)=>{if(Go(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(Go(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},UP=(e,t)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return Cd(e)?r(e):r(String(e).split(t)),n},IP=()=>{},TP=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function FP(e){return!!(e&&Go(e.append)&&e[xE]==="FormData"&&e[Ag])}const OP=e=>{const t=new Array(10),n=(r,i)=>{if(df(r)){if(t.indexOf(r)>=0)return;if(uf(r))return r;if(!("toJSON"in r)){t[i]=r;const s=Cd(r)?[]:{};return hf(r,(c,d)=>{const h=n(c,i+1);!bd(h)&&(s[d]=h)}),t[i]=void 0,s}}return r};return n(e,0)},QP=ql("AsyncFunction"),DP=e=>e&&(df(e)||Go(e))&&Go(e.then)&&Go(e.catch),CE=((e,t)=>e?setImmediate:t?((n,r)=>(Wc.addEventListener("message",({source:i,data:s})=>{i===Wc&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Wc.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Go(Wc.postMessage)),MP=typeof queueMicrotask<"u"?queueMicrotask.bind(Wc):typeof process<"u"&&process.nextTick||CE,RP=e=>e!=null&&Go(e[Ag]),mt={isArray:Cd,isArrayBuffer:bE,isBuffer:uf,isFormData:dP,isArrayBufferView:rP,isString:iP,isNumber:yE,isBoolean:aP,isObject:df,isPlainObject:sm,isEmptyObject:sP,isReadableStream:fP,isRequest:pP,isResponse:mP,isHeaders:gP,isUndefined:bd,isDate:oP,isFile:lP,isBlob:AP,isRegExp:jP,isFunction:Go,isStream:uP,isURLSearchParams:hP,isTypedArray:CP,isFileList:cP,forEach:hf,merge:Wx,extend:xP,trim:vP,stripBOM:bP,inherits:yP,toFlatObject:_P,kindOf:cg,kindOfTest:ql,endsWith:wP,toArray:BP,forEachEntry:NP,matchAll:EP,isHTMLForm:SP,hasOwnProperty:UB,hasOwnProp:UB,reduceDescriptors:BE,freezeMethods:kP,toObjectSet:UP,toCamelCase:LP,noop:IP,toFiniteNumber:TP,findKey:_E,global:Wc,isContextDefined:wE,isSpecCompliantForm:FP,toJSONObject:OP,isAsyncFn:QP,isThenable:DP,setImmediate:CE,asap:MP,isIterable:RP};function Lr(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}mt.inherits(Lr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:mt.toJSONObject(this.config),code:this.code,status:this.status}}});const NE=Lr.prototype,EE={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{EE[e]={value:e}});Object.defineProperties(Lr,EE);Object.defineProperty(NE,"isAxiosError",{value:!0});Lr.from=(e,t,n,r,i,s)=>{const c=Object.create(NE);mt.toFlatObject(e,c,function(g){return g!==Error.prototype},f=>f!=="isAxiosError");const d=e&&e.message?e.message:"Error",h=t==null&&e?e.code:t;return Lr.call(c,d,h,n,r,i),e&&c.cause==null&&Object.defineProperty(c,"cause",{value:e,configurable:!0}),c.name=e&&e.name||"Error",s&&Object.assign(c,s),c};const PP=null;function eb(e){return mt.isPlainObject(e)||mt.isArray(e)}function SE(e){return mt.endsWith(e,"[]")?e.slice(0,-2):e}function IB(e,t,n){return e?e.concat(t).map(function(i,s){return i=SE(i),!n&&s?"["+i+"]":i}).join(n?".":""):t}function HP(e){return mt.isArray(e)&&!e.some(eb)}const zP=mt.toFlatObject(mt,{},null,function(t){return/^is[A-Z]/.test(t)});function dg(e,t,n){if(!mt.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=mt.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(j,F){return!mt.isUndefined(F[j])});const r=n.metaTokens,i=n.visitor||g,s=n.dots,c=n.indexes,h=(n.Blob||typeof Blob<"u"&&Blob)&&mt.isSpecCompliantForm(t);if(!mt.isFunction(i))throw new TypeError("visitor must be a function");function f(I){if(I===null)return"";if(mt.isDate(I))return I.toISOString();if(mt.isBoolean(I))return I.toString();if(!h&&mt.isBlob(I))throw new Lr("Blob is not supported. Use a Buffer instead.");return mt.isArrayBuffer(I)||mt.isTypedArray(I)?h&&typeof Blob=="function"?new Blob([I]):Buffer.from(I):I}function g(I,j,F){let S=I;if(I&&!F&&typeof I=="object"){if(mt.endsWith(j,"{}"))j=r?j:j.slice(0,-2),I=JSON.stringify(I);else if(mt.isArray(I)&&HP(I)||(mt.isFileList(I)||mt.endsWith(j,"[]"))&&(S=mt.toArray(I)))return j=SE(j),S.forEach(function(D,G){!(mt.isUndefined(D)||D===null)&&t.append(c===!0?IB([j],G,s):c===null?j:j+"[]",f(D))}),!1}return eb(I)?!0:(t.append(IB(F,j,s),f(I)),!1)}const x=[],E=Object.assign(zP,{defaultVisitor:g,convertValue:f,isVisitable:eb});function w(I,j){if(!mt.isUndefined(I)){if(x.indexOf(I)!==-1)throw Error("Circular reference detected in "+j.join("."));x.push(I),mt.forEach(I,function(S,z){(!(mt.isUndefined(S)||S===null)&&i.call(t,S,mt.isString(z)?z.trim():z,j,E))===!0&&w(S,j?j.concat(z):[z])}),x.pop()}}if(!mt.isObject(e))throw new TypeError("data must be an object");return w(e),t}function TB(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function Pb(e,t){this._pairs=[],e&&dg(e,this,t)}const LE=Pb.prototype;LE.append=function(t,n){this._pairs.push([t,n])};LE.toString=function(t){const n=t?function(r){return t.call(this,r,TB)}:TB;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function qP(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function jE(e,t,n){if(!t)return e;const r=n&&n.encode||qP;mt.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(i?s=i(t,n):s=mt.isURLSearchParams(t)?t.toString():new Pb(t,n).toString(r),s){const c=e.indexOf("#");c!==-1&&(e=e.slice(0,c)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class FB{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){mt.forEach(this.handlers,function(r){r!==null&&t(r)})}}const kE={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},KP=typeof URLSearchParams<"u"?URLSearchParams:Pb,GP=typeof FormData<"u"?FormData:null,VP=typeof Blob<"u"?Blob:null,ZP={isBrowser:!0,classes:{URLSearchParams:KP,FormData:GP,Blob:VP},protocols:["http","https","file","blob","url","data"]},Hb=typeof window<"u"&&typeof document<"u",tb=typeof navigator=="object"&&navigator||void 0,$P=Hb&&(!tb||["ReactNative","NativeScript","NS"].indexOf(tb.product)<0),YP=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",XP=Hb&&window.location.href||"http://localhost",JP=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Hb,hasStandardBrowserEnv:$P,hasStandardBrowserWebWorkerEnv:YP,navigator:tb,origin:XP},Symbol.toStringTag,{value:"Module"})),_o={...JP,...ZP};function WP(e,t){return dg(e,new _o.classes.URLSearchParams,{visitor:function(n,r,i,s){return _o.isNode&&mt.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...t})}function eH(e){return mt.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function tH(e){const t={},n=Object.keys(e);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],t[s]=e[s];return t}function UE(e){function t(n,r,i,s){let c=n[s++];if(c==="__proto__")return!0;const d=Number.isFinite(+c),h=s>=n.length;return c=!c&&mt.isArray(i)?i.length:c,h?(mt.hasOwnProp(i,c)?i[c]=[i[c],r]:i[c]=r,!d):((!i[c]||!mt.isObject(i[c]))&&(i[c]=[]),t(n,r,i[c],s)&&mt.isArray(i[c])&&(i[c]=tH(i[c])),!d)}if(mt.isFormData(e)&&mt.isFunction(e.entries)){const n={};return mt.forEachEntry(e,(r,i)=>{t(eH(r),i,n,0)}),n}return null}function nH(e,t,n){if(mt.isString(e))try{return(t||JSON.parse)(e),mt.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const ff={transitional:kE,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=mt.isObject(t);if(s&&mt.isHTMLForm(t)&&(t=new FormData(t)),mt.isFormData(t))return i?JSON.stringify(UE(t)):t;if(mt.isArrayBuffer(t)||mt.isBuffer(t)||mt.isStream(t)||mt.isFile(t)||mt.isBlob(t)||mt.isReadableStream(t))return t;if(mt.isArrayBufferView(t))return t.buffer;if(mt.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let d;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return WP(t,this.formSerializer).toString();if((d=mt.isFileList(t))||r.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return dg(d?{"files[]":t}:t,h&&new h,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),nH(t)):t}],transformResponse:[function(t){const n=this.transitional||ff.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(mt.isResponse(t)||mt.isReadableStream(t))return t;if(t&&mt.isString(t)&&(r&&!this.responseType||i)){const c=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(t,this.parseReviver)}catch(d){if(c)throw d.name==="SyntaxError"?Lr.from(d,Lr.ERR_BAD_RESPONSE,this,null,this.response):d}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:_o.classes.FormData,Blob:_o.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};mt.forEach(["delete","get","head","post","put","patch"],e=>{ff.headers[e]={}});const rH=mt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),iH=e=>{const t={};let n,r,i;return e&&e.split(`
`).forEach(function(c){i=c.indexOf(":"),n=c.substring(0,i).trim().toLowerCase(),r=c.substring(i+1).trim(),!(!n||t[n]&&rH[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},OB=Symbol("internals");function uh(e){return e&&String(e).trim().toLowerCase()}function om(e){return e===!1||e==null?e:mt.isArray(e)?e.map(om):String(e)}function aH(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const sH=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Pv(e,t,n,r,i){if(mt.isFunction(r))return r.call(this,t,n);if(i&&(t=n),!!mt.isString(t)){if(mt.isString(r))return t.indexOf(r)!==-1;if(mt.isRegExp(r))return r.test(t)}}function oH(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function lH(e,t){const n=mt.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(i,s,c){return this[r].call(this,t,i,s,c)},configurable:!0})})}let Vo=class{constructor(t){t&&this.set(t)}set(t,n,r){const i=this;function s(d,h,f){const g=uh(h);if(!g)throw new Error("header name must be a non-empty string");const x=mt.findKey(i,g);(!x||i[x]===void 0||f===!0||f===void 0&&i[x]!==!1)&&(i[x||h]=om(d))}const c=(d,h)=>mt.forEach(d,(f,g)=>s(f,g,h));if(mt.isPlainObject(t)||t instanceof this.constructor)c(t,n);else if(mt.isString(t)&&(t=t.trim())&&!sH(t))c(iH(t),n);else if(mt.isObject(t)&&mt.isIterable(t)){let d={},h,f;for(const g of t){if(!mt.isArray(g))throw TypeError("Object iterator must return a key-value pair");d[f=g[0]]=(h=d[f])?mt.isArray(h)?[...h,g[1]]:[h,g[1]]:g[1]}c(d,n)}else t!=null&&s(n,t,r);return this}get(t,n){if(t=uh(t),t){const r=mt.findKey(this,t);if(r){const i=this[r];if(!n)return i;if(n===!0)return aH(i);if(mt.isFunction(n))return n.call(this,i,r);if(mt.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=uh(t),t){const r=mt.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||Pv(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let i=!1;function s(c){if(c=uh(c),c){const d=mt.findKey(r,c);d&&(!n||Pv(r,r[d],d,n))&&(delete r[d],i=!0)}}return mt.isArray(t)?t.forEach(s):s(t),i}clear(t){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!t||Pv(this,this[s],s,t,!0))&&(delete this[s],i=!0)}return i}normalize(t){const n=this,r={};return mt.forEach(this,(i,s)=>{const c=mt.findKey(r,s);if(c){n[c]=om(i),delete n[s];return}const d=t?oH(s):String(s).trim();d!==s&&delete n[s],n[d]=om(i),r[d]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return mt.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=t&&mt.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(i=>r.set(i)),r}static accessor(t){const r=(this[OB]=this[OB]={accessors:{}}).accessors,i=this.prototype;function s(c){const d=uh(c);r[d]||(lH(i,c),r[d]=!0)}return mt.isArray(t)?t.forEach(s):s(t),this}};Vo.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);mt.reduceDescriptors(Vo.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});mt.freezeMethods(Vo);function Hv(e,t){const n=this||ff,r=t||n,i=Vo.from(r.headers);let s=r.data;return mt.forEach(e,function(d){s=d.call(n,s,i.normalize(),t?t.status:void 0)}),i.normalize(),s}function IE(e){return!!(e&&e.__CANCEL__)}function Nd(e,t,n){Lr.call(this,e??"canceled",Lr.ERR_CANCELED,t,n),this.name="CanceledError"}mt.inherits(Nd,Lr,{__CANCEL__:!0});function TE(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new Lr("Request failed with status code "+n.status,[Lr.ERR_BAD_REQUEST,Lr.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function AH(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function cH(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i=0,s=0,c;return t=t!==void 0?t:1e3,function(h){const f=Date.now(),g=r[s];c||(c=f),n[i]=h,r[i]=f;let x=s,E=0;for(;x!==i;)E+=n[x++],x=x%e;if(i=(i+1)%e,i===s&&(s=(s+1)%e),f-c<t)return;const w=g&&f-g;return w?Math.round(E*1e3/w):void 0}}function uH(e,t){let n=0,r=1e3/t,i,s;const c=(f,g=Date.now())=>{n=g,i=null,s&&(clearTimeout(s),s=null),e(...f)};return[(...f)=>{const g=Date.now(),x=g-n;x>=r?c(f,g):(i=f,s||(s=setTimeout(()=>{s=null,c(i)},r-x)))},()=>i&&c(i)]}const Fm=(e,t,n=3)=>{let r=0;const i=cH(50,250);return uH(s=>{const c=s.loaded,d=s.lengthComputable?s.total:void 0,h=c-r,f=i(h),g=c<=d;r=c;const x={loaded:c,total:d,progress:d?c/d:void 0,bytes:h,rate:f||void 0,estimated:f&&d&&g?(d-c)/f:void 0,event:s,lengthComputable:d!=null,[t?"download":"upload"]:!0};e(x)},n)},QB=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},DB=e=>(...t)=>mt.asap(()=>e(...t)),dH=_o.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,_o.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(_o.origin),_o.navigator&&/(msie|trident)/i.test(_o.navigator.userAgent)):()=>!0,hH=_o.hasStandardBrowserEnv?{write(e,t,n,r,i,s,c){if(typeof document>"u")return;const d=[`${e}=${encodeURIComponent(t)}`];mt.isNumber(n)&&d.push(`expires=${new Date(n).toUTCString()}`),mt.isString(r)&&d.push(`path=${r}`),mt.isString(i)&&d.push(`domain=${i}`),s===!0&&d.push("secure"),mt.isString(c)&&d.push(`SameSite=${c}`),document.cookie=d.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function fH(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function pH(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function FE(e,t,n){let r=!fH(t);return e&&(r||n==!1)?pH(e,t):t}const MB=e=>e instanceof Vo?{...e}:e;function su(e,t){t=t||{};const n={};function r(f,g,x,E){return mt.isPlainObject(f)&&mt.isPlainObject(g)?mt.merge.call({caseless:E},f,g):mt.isPlainObject(g)?mt.merge({},g):mt.isArray(g)?g.slice():g}function i(f,g,x,E){if(mt.isUndefined(g)){if(!mt.isUndefined(f))return r(void 0,f,x,E)}else return r(f,g,x,E)}function s(f,g){if(!mt.isUndefined(g))return r(void 0,g)}function c(f,g){if(mt.isUndefined(g)){if(!mt.isUndefined(f))return r(void 0,f)}else return r(void 0,g)}function d(f,g,x){if(x in t)return r(f,g);if(x in e)return r(void 0,f)}const h={url:s,method:s,data:s,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:d,headers:(f,g,x)=>i(MB(f),MB(g),x,!0)};return mt.forEach(Object.keys({...e,...t}),function(g){const x=h[g]||i,E=x(e[g],t[g],g);mt.isUndefined(E)&&x!==d||(n[g]=E)}),n}const OE=e=>{const t=su({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:c,auth:d}=t;if(t.headers=c=Vo.from(c),t.url=jE(FE(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),d&&c.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):""))),mt.isFormData(n)){if(_o.hasStandardBrowserEnv||_o.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if(mt.isFunction(n.getHeaders)){const h=n.getHeaders(),f=["content-type","content-length"];Object.entries(h).forEach(([g,x])=>{f.includes(g.toLowerCase())&&c.set(g,x)})}}if(_o.hasStandardBrowserEnv&&(r&&mt.isFunction(r)&&(r=r(t)),r||r!==!1&&dH(t.url))){const h=i&&s&&hH.read(s);h&&c.set(i,h)}return t},mH=typeof XMLHttpRequest<"u",gH=mH&&function(e){return new Promise(function(n,r){const i=OE(e);let s=i.data;const c=Vo.from(i.headers).normalize();let{responseType:d,onUploadProgress:h,onDownloadProgress:f}=i,g,x,E,w,I;function j(){w&&w(),I&&I(),i.cancelToken&&i.cancelToken.unsubscribe(g),i.signal&&i.signal.removeEventListener("abort",g)}let F=new XMLHttpRequest;F.open(i.method.toUpperCase(),i.url,!0),F.timeout=i.timeout;function S(){if(!F)return;const D=Vo.from("getAllResponseHeaders"in F&&F.getAllResponseHeaders()),ce={data:!d||d==="text"||d==="json"?F.responseText:F.response,status:F.status,statusText:F.statusText,headers:D,config:e,request:F};TE(function(ge){n(ge),j()},function(ge){r(ge),j()},ce),F=null}"onloadend"in F?F.onloadend=S:F.onreadystatechange=function(){!F||F.readyState!==4||F.status===0&&!(F.responseURL&&F.responseURL.indexOf("file:")===0)||setTimeout(S)},F.onabort=function(){F&&(r(new Lr("Request aborted",Lr.ECONNABORTED,e,F)),F=null)},F.onerror=function(G){const ce=G&&G.message?G.message:"Network Error",Y=new Lr(ce,Lr.ERR_NETWORK,e,F);Y.event=G||null,r(Y),F=null},F.ontimeout=function(){let G=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const ce=i.transitional||kE;i.timeoutErrorMessage&&(G=i.timeoutErrorMessage),r(new Lr(G,ce.clarifyTimeoutError?Lr.ETIMEDOUT:Lr.ECONNABORTED,e,F)),F=null},s===void 0&&c.setContentType(null),"setRequestHeader"in F&&mt.forEach(c.toJSON(),function(G,ce){F.setRequestHeader(ce,G)}),mt.isUndefined(i.withCredentials)||(F.withCredentials=!!i.withCredentials),d&&d!=="json"&&(F.responseType=i.responseType),f&&([E,I]=Fm(f,!0),F.addEventListener("progress",E)),h&&F.upload&&([x,w]=Fm(h),F.upload.addEventListener("progress",x),F.upload.addEventListener("loadend",w)),(i.cancelToken||i.signal)&&(g=D=>{F&&(r(!D||D.type?new Nd(null,e,F):D),F.abort(),F=null)},i.cancelToken&&i.cancelToken.subscribe(g),i.signal&&(i.signal.aborted?g():i.signal.addEventListener("abort",g)));const z=AH(i.url);if(z&&_o.protocols.indexOf(z)===-1){r(new Lr("Unsupported protocol "+z+":",Lr.ERR_BAD_REQUEST,e));return}F.send(s||null)})},vH=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,i;const s=function(f){if(!i){i=!0,d();const g=f instanceof Error?f:this.reason;r.abort(g instanceof Lr?g:new Nd(g instanceof Error?g.message:g))}};let c=t&&setTimeout(()=>{c=null,s(new Lr(`timeout ${t} of ms exceeded`,Lr.ETIMEDOUT))},t);const d=()=>{e&&(c&&clearTimeout(c),c=null,e.forEach(f=>{f.unsubscribe?f.unsubscribe(s):f.removeEventListener("abort",s)}),e=null)};e.forEach(f=>f.addEventListener("abort",s));const{signal:h}=r;return h.unsubscribe=()=>mt.asap(d),h}},xH=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,i;for(;r<n;)i=r+t,yield e.slice(r,i),r=i},bH=async function*(e,t){for await(const n of yH(e))yield*xH(n,t)},yH=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},RB=(e,t,n,r)=>{const i=bH(e,t);let s=0,c,d=h=>{c||(c=!0,r&&r(h))};return new ReadableStream({async pull(h){try{const{done:f,value:g}=await i.next();if(f){d(),h.close();return}let x=g.byteLength;if(n){let E=s+=x;n(E)}h.enqueue(new Uint8Array(g))}catch(f){throw d(f),f}},cancel(h){return d(h),i.return()}},{highWaterMark:2})},PB=64*1024,{isFunction:Mp}=mt,_H=(({Request:e,Response:t})=>({Request:e,Response:t}))(mt.global),{ReadableStream:HB,TextEncoder:zB}=mt.global,qB=(e,...t)=>{try{return!!e(...t)}catch{return!1}},wH=e=>{e=mt.merge.call({skipUndefined:!0},_H,e);const{fetch:t,Request:n,Response:r}=e,i=t?Mp(t):typeof fetch=="function",s=Mp(n),c=Mp(r);if(!i)return!1;const d=i&&Mp(HB),h=i&&(typeof zB=="function"?(I=>j=>I.encode(j))(new zB):async I=>new Uint8Array(await new n(I).arrayBuffer())),f=s&&d&&qB(()=>{let I=!1;const j=new n(_o.origin,{body:new HB,method:"POST",get duplex(){return I=!0,"half"}}).headers.has("Content-Type");return I&&!j}),g=c&&d&&qB(()=>mt.isReadableStream(new r("").body)),x={stream:g&&(I=>I.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(I=>{!x[I]&&(x[I]=(j,F)=>{let S=j&&j[I];if(S)return S.call(j);throw new Lr(`Response type '${I}' is not supported`,Lr.ERR_NOT_SUPPORT,F)})});const E=async I=>{if(I==null)return 0;if(mt.isBlob(I))return I.size;if(mt.isSpecCompliantForm(I))return(await new n(_o.origin,{method:"POST",body:I}).arrayBuffer()).byteLength;if(mt.isArrayBufferView(I)||mt.isArrayBuffer(I))return I.byteLength;if(mt.isURLSearchParams(I)&&(I=I+""),mt.isString(I))return(await h(I)).byteLength},w=async(I,j)=>{const F=mt.toFiniteNumber(I.getContentLength());return F??E(j)};return async I=>{let{url:j,method:F,data:S,signal:z,cancelToken:D,timeout:G,onDownloadProgress:ce,onUploadProgress:Y,responseType:ge,headers:re,withCredentials:M="same-origin",fetchOptions:X}=OE(I),V=t||fetch;ge=ge?(ge+"").toLowerCase():"text";let W=vH([z,D&&D.toAbortSignal()],G),oe=null;const me=W&&W.unsubscribe&&(()=>{W.unsubscribe()});let ye;try{if(Y&&f&&F!=="get"&&F!=="head"&&(ye=await w(re,S))!==0){let te=new n(j,{method:"POST",body:S,duplex:"half"}),P;if(mt.isFormData(S)&&(P=te.headers.get("content-type"))&&re.setContentType(P),te.body){const[ie,O]=QB(ye,Fm(DB(Y)));S=RB(te.body,PB,ie,O)}}mt.isString(M)||(M=M?"include":"omit");const se=s&&"credentials"in n.prototype,_e={...X,signal:W,method:F.toUpperCase(),headers:re.normalize().toJSON(),body:S,duplex:"half",credentials:se?M:void 0};oe=s&&new n(j,_e);let Z=await(s?V(oe,X):V(j,_e));const Ce=g&&(ge==="stream"||ge==="response");if(g&&(ce||Ce&&me)){const te={};["status","statusText","headers"].forEach(ae=>{te[ae]=Z[ae]});const P=mt.toFiniteNumber(Z.headers.get("content-length")),[ie,O]=ce&&QB(P,Fm(DB(ce),!0))||[];Z=new r(RB(Z.body,PB,ie,()=>{O&&O(),me&&me()}),te)}ge=ge||"text";let Se=await x[mt.findKey(x,ge)||"text"](Z,I);return!Ce&&me&&me(),await new Promise((te,P)=>{TE(te,P,{data:Se,headers:Vo.from(Z.headers),status:Z.status,statusText:Z.statusText,config:I,request:oe})})}catch(se){throw me&&me(),se&&se.name==="TypeError"&&/Load failed|fetch/i.test(se.message)?Object.assign(new Lr("Network Error",Lr.ERR_NETWORK,I,oe),{cause:se.cause||se}):Lr.from(se,se&&se.code,I,oe)}}},BH=new Map,QE=e=>{let t=e&&e.env||{};const{fetch:n,Request:r,Response:i}=t,s=[r,i,n];let c=s.length,d=c,h,f,g=BH;for(;d--;)h=s[d],f=g.get(h),f===void 0&&g.set(h,f=d?new Map:wH(t)),g=f;return f};QE();const zb={http:PP,xhr:gH,fetch:{get:QE}};mt.forEach(zb,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const KB=e=>`- ${e}`,CH=e=>mt.isFunction(e)||e===null||e===!1;function NH(e,t){e=mt.isArray(e)?e:[e];const{length:n}=e;let r,i;const s={};for(let c=0;c<n;c++){r=e[c];let d;if(i=r,!CH(r)&&(i=zb[(d=String(r)).toLowerCase()],i===void 0))throw new Lr(`Unknown adapter '${d}'`);if(i&&(mt.isFunction(i)||(i=i.get(t))))break;s[d||"#"+c]=i}if(!i){const c=Object.entries(s).map(([h,f])=>`adapter ${h} `+(f===!1?"is not supported by the environment":"is not available in the build"));let d=n?c.length>1?`since :
`+c.map(KB).join(`
`):" "+KB(c[0]):"as no adapter specified";throw new Lr("There is no suitable adapter to dispatch the request "+d,"ERR_NOT_SUPPORT")}return i}const DE={getAdapter:NH,adapters:zb};function zv(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Nd(null,e)}function GB(e){return zv(e),e.headers=Vo.from(e.headers),e.data=Hv.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),DE.getAdapter(e.adapter||ff.adapter,e)(e).then(function(r){return zv(e),r.data=Hv.call(e,e.transformResponse,r),r.headers=Vo.from(r.headers),r},function(r){return IE(r)||(zv(e),r&&r.response&&(r.response.data=Hv.call(e,e.transformResponse,r.response),r.response.headers=Vo.from(r.response.headers))),Promise.reject(r)})}const ME="1.13.2",hg={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{hg[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const VB={};hg.transitional=function(t,n,r){function i(s,c){return"[Axios v"+ME+"] Transitional option '"+s+"'"+c+(r?". "+r:"")}return(s,c,d)=>{if(t===!1)throw new Lr(i(c," has been removed"+(n?" in "+n:"")),Lr.ERR_DEPRECATED);return n&&!VB[c]&&(VB[c]=!0,console.warn(i(c," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(s,c,d):!0}};hg.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function EH(e,t,n){if(typeof e!="object")throw new Lr("options must be an object",Lr.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const s=r[i],c=t[s];if(c){const d=e[s],h=d===void 0||c(d,s,e);if(h!==!0)throw new Lr("option "+s+" must be "+h,Lr.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Lr("Unknown option "+s,Lr.ERR_BAD_OPTION)}}const lm={assertOptions:EH,validators:hg},lA=lm.validators;let ru=class{constructor(t){this.defaults=t||{},this.interceptors={request:new FB,response:new FB}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=su(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&lm.assertOptions(r,{silentJSONParsing:lA.transitional(lA.boolean),forcedJSONParsing:lA.transitional(lA.boolean),clarifyTimeoutError:lA.transitional(lA.boolean)},!1),i!=null&&(mt.isFunction(i)?n.paramsSerializer={serialize:i}:lm.assertOptions(i,{encode:lA.function,serialize:lA.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),lm.assertOptions(n,{baseUrl:lA.spelling("baseURL"),withXsrfToken:lA.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let c=s&&mt.merge(s.common,s[n.method]);s&&mt.forEach(["delete","get","head","post","put","patch","common"],I=>{delete s[I]}),n.headers=Vo.concat(c,s);const d=[];let h=!0;this.interceptors.request.forEach(function(j){typeof j.runWhen=="function"&&j.runWhen(n)===!1||(h=h&&j.synchronous,d.unshift(j.fulfilled,j.rejected))});const f=[];this.interceptors.response.forEach(function(j){f.push(j.fulfilled,j.rejected)});let g,x=0,E;if(!h){const I=[GB.bind(this),void 0];for(I.unshift(...d),I.push(...f),E=I.length,g=Promise.resolve(n);x<E;)g=g.then(I[x++],I[x++]);return g}E=d.length;let w=n;for(;x<E;){const I=d[x++],j=d[x++];try{w=I(w)}catch(F){j.call(this,F);break}}try{g=GB.call(this,w)}catch(I){return Promise.reject(I)}for(x=0,E=f.length;x<E;)g=g.then(f[x++],f[x++]);return g}getUri(t){t=su(this.defaults,t);const n=FE(t.baseURL,t.url,t.allowAbsoluteUrls);return jE(n,t.params,t.paramsSerializer)}};mt.forEach(["delete","get","head","options"],function(t){ru.prototype[t]=function(n,r){return this.request(su(r||{},{method:t,url:n,data:(r||{}).data}))}});mt.forEach(["post","put","patch"],function(t){function n(r){return function(s,c,d){return this.request(su(d||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:c}))}}ru.prototype[t]=n(),ru.prototype[t+"Form"]=n(!0)});let SH=class RE{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const c=new Promise(d=>{r.subscribe(d),s=d}).then(i);return c.cancel=function(){r.unsubscribe(s)},c},t(function(s,c,d){r.reason||(r.reason=new Nd(s,c,d),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new RE(function(i){t=i}),cancel:t}}};function LH(e){return function(n){return e.apply(null,n)}}function jH(e){return mt.isObject(e)&&e.isAxiosError===!0}const nb={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(nb).forEach(([e,t])=>{nb[t]=e});function PE(e){const t=new ru(e),n=vE(ru.prototype.request,t);return mt.extend(n,ru.prototype,t,{allOwnKeys:!0}),mt.extend(n,t,null,{allOwnKeys:!0}),n.create=function(i){return PE(su(e,i))},n}const Pa=PE(ff);Pa.Axios=ru;Pa.CanceledError=Nd;Pa.CancelToken=SH;Pa.isCancel=IE;Pa.VERSION=ME;Pa.toFormData=dg;Pa.AxiosError=Lr;Pa.Cancel=Pa.CanceledError;Pa.all=function(t){return Promise.all(t)};Pa.spread=LH;Pa.isAxiosError=jH;Pa.mergeConfig=su;Pa.AxiosHeaders=Vo;Pa.formToJSON=e=>UE(mt.isHTMLForm(e)?new FormData(e):e);Pa.getAdapter=DE.getAdapter;Pa.HttpStatusCode=nb;Pa.default=Pa;const{Axios:Q9,AxiosError:D9,CanceledError:M9,isCancel:R9,CancelToken:P9,VERSION:H9,all:z9,Cancel:q9,isAxiosError:K9,spread:G9,toFormData:V9,AxiosHeaders:Z9,HttpStatusCode:$9,formToJSON:Y9,getAdapter:X9,mergeConfig:J9}=Pa;(function(){function e(t){return this instanceof e?(this._canvas=t=typeof t=="string"?document.getElementById(t):t,this._ctx=t.getContext("2d"),this._width=t.width,this._height=t.height,this._max=1,void this.clear()):new e(t)}e.prototype={defaultRadius:25,defaultGradient:{.4:"blue",.6:"cyan",.7:"lime",.8:"yellow",1:"red"},data:function(t,n){return this._data=t,this},max:function(t){return this._max=t,this},add:function(t){return this._data.push(t),this},clear:function(){return this._data=[],this},radius:function(t,n){n=n||15;var r=this._circle=document.createElement("canvas"),i=r.getContext("2d"),s=this._r=t+n;return r.width=r.height=2*s,i.shadowOffsetX=i.shadowOffsetY=200,i.shadowBlur=n,i.shadowColor="black",i.beginPath(),i.arc(s-200,s-200,t,0,2*Math.PI,!0),i.closePath(),i.fill(),this},gradient:function(t){var n=document.createElement("canvas"),r=n.getContext("2d"),i=r.createLinearGradient(0,0,0,256);n.width=1,n.height=256;for(var s in t)i.addColorStop(s,t[s]);return r.fillStyle=i,r.fillRect(0,0,1,256),this._grad=r.getImageData(0,0,1,256).data,this},draw:function(t){this._circle||this.radius(this.defaultRadius),this._grad||this.gradient(this.defaultGradient);var n=this._ctx;n.clearRect(0,0,this._width,this._height);for(var r,i=0,s=this._data.length;s>i;i++)r=this._data[i],n.globalAlpha=Math.max(r[2]/this._max,t||.05),n.drawImage(this._circle,r[0]-this._r,r[1]-this._r);var c=n.getImageData(0,0,this._width,this._height);return this._colorize(c.data,this._grad),n.putImageData(c,0,0),this},_colorize:function(t,n){for(var r,i=3,s=t.length;s>i;i+=4)r=4*t[i],r&&(t[i-3]=n[r],t[i-2]=n[r+1],t[i-1]=n[r+2])}},window.simpleheat=e})(),L.HeatLayer=(L.Layer?L.Layer:L.Class).extend({initialize:function(e,t){this._latlngs=e,L.setOptions(this,t)},setLatLngs:function(e){return this._latlngs=e,this.redraw()},addLatLng:function(e){return this._latlngs.push(e),this.redraw()},setOptions:function(e){return L.setOptions(this,e),this._heat&&this._updateOptions(),this.redraw()},redraw:function(){return!this._heat||this._frame||this._map._animating||(this._frame=L.Util.requestAnimFrame(this._redraw,this)),this},onAdd:function(e){this._map=e,this._canvas||this._initCanvas(),e._panes.overlayPane.appendChild(this._canvas),e.on("moveend",this._reset,this),e.options.zoomAnimation&&L.Browser.any3d&&e.on("zoomanim",this._animateZoom,this),this._reset()},onRemove:function(e){e.getPanes().overlayPane.removeChild(this._canvas),e.off("moveend",this._reset,this),e.options.zoomAnimation&&e.off("zoomanim",this._animateZoom,this)},addTo:function(e){return e.addLayer(this),this},_initCanvas:function(){var e=this._canvas=L.DomUtil.create("canvas","leaflet-heatmap-layer leaflet-layer"),t=L.DomUtil.testProp(["transformOrigin","WebkitTransformOrigin","msTransformOrigin"]);e.style[t]="50% 50%";var n=this._map.getSize();e.width=n.x,e.height=n.y;var r=this._map.options.zoomAnimation&&L.Browser.any3d;L.DomUtil.addClass(e,"leaflet-zoom-"+(r?"animated":"hide")),this._heat=simpleheat(e),this._updateOptions()},_updateOptions:function(){this._heat.radius(this.options.radius||this._heat.defaultRadius,this.options.blur),this.options.gradient&&this._heat.gradient(this.options.gradient),this.options.max&&this._heat.max(this.options.max)},_reset:function(){var e=this._map.containerPointToLayerPoint([0,0]);L.DomUtil.setPosition(this._canvas,e);var t=this._map.getSize();this._heat._width!==t.x&&(this._canvas.width=this._heat._width=t.x),this._heat._height!==t.y&&(this._canvas.height=this._heat._height=t.y),this._redraw()},_redraw:function(){var e,t,n,r,i,s,c,d,h,f=[],g=this._heat._r,x=this._map.getSize(),E=new L.Bounds(L.point([-g,-g]),x.add([g,g])),w=this.options.max===void 0?1:this.options.max,I=this.options.maxZoom===void 0?this._map.getMaxZoom():this.options.maxZoom,j=1/Math.pow(2,Math.max(0,Math.min(I-this._map.getZoom(),12))),F=g/2,S=[],z=this._map._getMapPanePos(),D=z.x%F,G=z.y%F;for(e=0,t=this._latlngs.length;t>e;e++)if(n=this._map.latLngToContainerPoint(this._latlngs[e]),E.contains(n)){i=Math.floor((n.x-D)/F)+2,s=Math.floor((n.y-G)/F)+2;var ce=this._latlngs[e].alt!==void 0?this._latlngs[e].alt:this._latlngs[e][2]!==void 0?+this._latlngs[e][2]:1;h=ce*j,S[s]=S[s]||[],r=S[s][i],r?(r[0]=(r[0]*r[2]+n.x*h)/(r[2]+h),r[1]=(r[1]*r[2]+n.y*h)/(r[2]+h),r[2]+=h):S[s][i]=[n.x,n.y,h]}for(e=0,t=S.length;t>e;e++)if(S[e])for(c=0,d=S[e].length;d>c;c++)r=S[e][c],r&&f.push([Math.round(r[0]),Math.round(r[1]),Math.min(r[2],w)]);this._heat.data(f).draw(this.options.minOpacity),this._frame=null},_animateZoom:function(e){var t=this._map.getZoomScale(e.zoom),n=this._map._getCenterOffset(e.center)._multiplyBy(-t).subtract(this._map._getMapPanePos());L.DomUtil.setTransform?L.DomUtil.setTransform(this._canvas,n,t):this._canvas.style[L.DomUtil.TRANSFORM]=L.DomUtil.getTranslateString(n)+" scale("+t+")"}}),L.heatLayer=function(e,t){return new L.HeatLayer(e,t)};(function(e,t,n){function r(i,s){for(;(i=i.parentElement)&&!i.classList.contains(s););return i}L.drawVersion="1.0.4",L.Draw={},L.drawLocal={draw:{toolbar:{actions:{title:"Cancel drawing",text:"Cancel"},finish:{title:"Finish drawing",text:"Finish"},undo:{title:"Delete last point drawn",text:"Delete last point"},buttons:{polyline:"Draw a polyline",polygon:"Draw a polygon",rectangle:"Draw a rectangle",circle:"Draw a circle",marker:"Draw a marker",circlemarker:"Draw a circlemarker"}},handlers:{circle:{tooltip:{start:"Click and drag to draw circle."},radius:"Radius"},circlemarker:{tooltip:{start:"Click map to place circle marker."}},marker:{tooltip:{start:"Click map to place marker."}},polygon:{tooltip:{start:"Click to start drawing shape.",cont:"Click to continue drawing shape.",end:"Click first point to close this shape."}},polyline:{error:"<strong>Error:</strong> shape edges cannot cross!",tooltip:{start:"Click to start drawing line.",cont:"Click to continue drawing line.",end:"Click last point to finish line."}},rectangle:{tooltip:{start:"Click and drag to draw rectangle."}},simpleshape:{tooltip:{end:"Release mouse to finish drawing."}}}},edit:{toolbar:{actions:{save:{title:"Save changes",text:"Save"},cancel:{title:"Cancel editing, discards all changes",text:"Cancel"},clearAll:{title:"Clear all layers",text:"Clear All"}},buttons:{edit:"Edit layers",editDisabled:"No layers to edit",remove:"Delete layers",removeDisabled:"No layers to delete"}},handlers:{edit:{tooltip:{text:"Drag handles or markers to edit features.",subtext:"Click cancel to undo changes."}},remove:{tooltip:{text:"Click on a feature to remove."}}}}},L.Draw.Event={},L.Draw.Event.CREATED="draw:created",L.Draw.Event.EDITED="draw:edited",L.Draw.Event.DELETED="draw:deleted",L.Draw.Event.DRAWSTART="draw:drawstart",L.Draw.Event.DRAWSTOP="draw:drawstop",L.Draw.Event.DRAWVERTEX="draw:drawvertex",L.Draw.Event.EDITSTART="draw:editstart",L.Draw.Event.EDITMOVE="draw:editmove",L.Draw.Event.EDITRESIZE="draw:editresize",L.Draw.Event.EDITVERTEX="draw:editvertex",L.Draw.Event.EDITSTOP="draw:editstop",L.Draw.Event.DELETESTART="draw:deletestart",L.Draw.Event.DELETESTOP="draw:deletestop",L.Draw.Event.TOOLBAROPENED="draw:toolbaropened",L.Draw.Event.TOOLBARCLOSED="draw:toolbarclosed",L.Draw.Event.MARKERCONTEXT="draw:markercontext",L.Draw=L.Draw||{},L.Draw.Feature=L.Handler.extend({initialize:function(i,s){this._map=i,this._container=i._container,this._overlayPane=i._panes.overlayPane,this._popupPane=i._panes.popupPane,s&&s.shapeOptions&&(s.shapeOptions=L.Util.extend({},this.options.shapeOptions,s.shapeOptions)),L.setOptions(this,s);var c=L.version.split(".");parseInt(c[0],10)===1&&parseInt(c[1],10)>=2?L.Draw.Feature.include(L.Evented.prototype):L.Draw.Feature.include(L.Mixin.Events)},enable:function(){this._enabled||(L.Handler.prototype.enable.call(this),this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DRAWSTART,{layerType:this.type}))},disable:function(){this._enabled&&(L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DRAWSTOP,{layerType:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var i=this._map;i&&(L.DomUtil.disableTextSelection(),i.getContainer().focus(),this._tooltip=new L.Draw.Tooltip(this._map),L.DomEvent.on(this._container,"keyup",this._cancelDrawing,this))},removeHooks:function(){this._map&&(L.DomUtil.enableTextSelection(),this._tooltip.dispose(),this._tooltip=null,L.DomEvent.off(this._container,"keyup",this._cancelDrawing,this))},setOptions:function(i){L.setOptions(this,i)},_fireCreatedEvent:function(i){this._map.fire(L.Draw.Event.CREATED,{layer:i,layerType:this.type})},_cancelDrawing:function(i){i.keyCode===27&&(this._map.fire("draw:canceled",{layerType:this.type}),this.disable())}}),L.Draw.Polyline=L.Draw.Feature.extend({statics:{TYPE:"polyline"},Poly:L.Polyline,options:{allowIntersection:!0,repeatMode:!1,drawError:{color:"#b00b00",timeout:2500},icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),guidelineDistance:20,maxGuideLineLength:4e3,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!1,clickable:!0},metric:!0,feet:!0,nautic:!1,showLength:!0,zIndexOffset:2e3,factor:1,maxPoints:0},initialize:function(i,s){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this.options.drawError.message=L.drawLocal.draw.handlers.polyline.error,s&&s.drawError&&(s.drawError=L.Util.extend({},this.options.drawError,s.drawError)),this.type=L.Draw.Polyline.TYPE,L.Draw.Feature.prototype.initialize.call(this,i,s)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._markers=[],this._markerGroup=new L.LayerGroup,this._map.addLayer(this._markerGroup),this._poly=new L.Polyline([],this.options.shapeOptions),this._tooltip.updateContent(this._getTooltipText()),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("mouseout",this._onMouseOut,this).on("mousemove",this._onMouseMove,this).on("mousedown",this._onMouseDown,this).on("mouseup",this._onMouseUp,this).addTo(this._map),this._map.on("mouseup",this._onMouseUp,this).on("mousemove",this._onMouseMove,this).on("zoomlevelschange",this._onZoomEnd,this).on("touchstart",this._onTouch,this).on("zoomend",this._onZoomEnd,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._clearHideErrorTimeout(),this._cleanUpShape(),this._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers,this._map.removeLayer(this._poly),delete this._poly,this._mouseMarker.off("mousedown",this._onMouseDown,this).off("mouseout",this._onMouseOut,this).off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._clearGuides(),this._map.off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this).off("zoomlevelschange",this._onZoomEnd,this).off("zoomend",this._onZoomEnd,this).off("touchstart",this._onTouch,this).off("click",this._onTouch,this)},deleteLastVertex:function(){if(!(this._markers.length<=1)){var i=this._markers.pop(),s=this._poly,c=s.getLatLngs(),d=c.splice(-1,1)[0];this._poly.setLatLngs(c),this._markerGroup.removeLayer(i),s.getLatLngs().length<2&&this._map.removeLayer(s),this._vertexChanged(d,!1)}},addVertex:function(i){if(this._markers.length>=2&&!this.options.allowIntersection&&this._poly.newLatLngIntersects(i))return void this._showErrorTooltip();this._errorShown&&this._hideErrorTooltip(),this._markers.push(this._createMarker(i)),this._poly.addLatLng(i),this._poly.getLatLngs().length===2&&this._map.addLayer(this._poly),this._vertexChanged(i,!0)},completeShape:function(){this._markers.length<=1||!this._shapeIsValid()||(this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable())},_finishShape:function(){var i=this._poly._defaultShape?this._poly._defaultShape():this._poly.getLatLngs(),s=this._poly.newLatLngIntersects(i[i.length-1]);if(!this.options.allowIntersection&&s||!this._shapeIsValid())return void this._showErrorTooltip();this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_shapeIsValid:function(){return!0},_onZoomEnd:function(){this._markers!==null&&this._updateGuide()},_onMouseMove:function(i){var s=this._map.mouseEventToLayerPoint(i.originalEvent),c=this._map.layerPointToLatLng(s);this._currentLatLng=c,this._updateTooltip(c),this._updateGuide(s),this._mouseMarker.setLatLng(c),L.DomEvent.preventDefault(i.originalEvent)},_vertexChanged:function(i,s){this._map.fire(L.Draw.Event.DRAWVERTEX,{layers:this._markerGroup}),this._updateFinishHandler(),this._updateRunningMeasure(i,s),this._clearGuides(),this._updateTooltip()},_onMouseDown:function(i){if(!this._clickHandled&&!this._touchHandled&&!this._disableMarkers){this._onMouseMove(i),this._clickHandled=!0,this._disableNewMarkers();var s=i.originalEvent,c=s.clientX,d=s.clientY;this._startPoint.call(this,c,d)}},_startPoint:function(i,s){this._mouseDownOrigin=L.point(i,s)},_onMouseUp:function(i){var s=i.originalEvent,c=s.clientX,d=s.clientY;this._endPoint.call(this,c,d,i),this._clickHandled=null},_endPoint:function(i,s,c){if(this._mouseDownOrigin){var d=L.point(i,s).distanceTo(this._mouseDownOrigin),h=this._calculateFinishDistance(c.latlng);this.options.maxPoints>1&&this.options.maxPoints==this._markers.length+1?(this.addVertex(c.latlng),this._finishShape()):h<10&&L.Browser.touch?this._finishShape():Math.abs(d)<9*(e.devicePixelRatio||1)&&this.addVertex(c.latlng),this._enableNewMarkers()}this._mouseDownOrigin=null},_onTouch:function(i){var s,c,d=i.originalEvent;!d.touches||!d.touches[0]||this._clickHandled||this._touchHandled||this._disableMarkers||(s=d.touches[0].clientX,c=d.touches[0].clientY,this._disableNewMarkers(),this._touchHandled=!0,this._startPoint.call(this,s,c),this._endPoint.call(this,s,c,i),this._touchHandled=null),this._clickHandled=null},_onMouseOut:function(){this._tooltip&&this._tooltip._onMouseOut.call(this._tooltip)},_calculateFinishDistance:function(i){var s;if(this._markers.length>0){var c;if(this.type===L.Draw.Polyline.TYPE)c=this._markers[this._markers.length-1];else{if(this.type!==L.Draw.Polygon.TYPE)return 1/0;c=this._markers[0]}var d=this._map.latLngToContainerPoint(c.getLatLng()),h=new L.Marker(i,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset}),f=this._map.latLngToContainerPoint(h.getLatLng());s=d.distanceTo(f)}else s=1/0;return s},_updateFinishHandler:function(){var i=this._markers.length;i>1&&this._markers[i-1].on("click",this._finishShape,this),i>2&&this._markers[i-2].off("click",this._finishShape,this)},_createMarker:function(i){var s=new L.Marker(i,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset});return this._markerGroup.addLayer(s),s},_updateGuide:function(i){var s=this._markers?this._markers.length:0;s>0&&(i=i||this._map.latLngToLayerPoint(this._currentLatLng),this._clearGuides(),this._drawGuide(this._map.latLngToLayerPoint(this._markers[s-1].getLatLng()),i))},_updateTooltip:function(i){var s=this._getTooltipText();i&&this._tooltip.updatePosition(i),this._errorShown||this._tooltip.updateContent(s)},_drawGuide:function(i,s){var c,d,h,f=Math.floor(Math.sqrt(Math.pow(s.x-i.x,2)+Math.pow(s.y-i.y,2))),g=this.options.guidelineDistance,x=this.options.maxGuideLineLength,E=f>x?f-x:g;for(this._guidesContainer||(this._guidesContainer=L.DomUtil.create("div","leaflet-draw-guides",this._overlayPane));E<f;E+=this.options.guidelineDistance)c=E/f,d={x:Math.floor(i.x*(1-c)+c*s.x),y:Math.floor(i.y*(1-c)+c*s.y)},h=L.DomUtil.create("div","leaflet-draw-guide-dash",this._guidesContainer),h.style.backgroundColor=this._errorShown?this.options.drawError.color:this.options.shapeOptions.color,L.DomUtil.setPosition(h,d)},_updateGuideColor:function(i){if(this._guidesContainer)for(var s=0,c=this._guidesContainer.childNodes.length;s<c;s++)this._guidesContainer.childNodes[s].style.backgroundColor=i},_clearGuides:function(){if(this._guidesContainer)for(;this._guidesContainer.firstChild;)this._guidesContainer.removeChild(this._guidesContainer.firstChild)},_getTooltipText:function(){var i,s,c=this.options.showLength;return this._markers.length===0?i={text:L.drawLocal.draw.handlers.polyline.tooltip.start}:(s=c?this._getMeasurementString():"",i=this._markers.length===1?{text:L.drawLocal.draw.handlers.polyline.tooltip.cont,subtext:s}:{text:L.drawLocal.draw.handlers.polyline.tooltip.end,subtext:s}),i},_updateRunningMeasure:function(i,s){var c,d,h=this._markers.length;this._markers.length===1?this._measurementRunningTotal=0:(c=h-(s?2:1),d=L.GeometryUtil.isVersion07x()?i.distanceTo(this._markers[c].getLatLng())*(this.options.factor||1):this._map.distance(i,this._markers[c].getLatLng())*(this.options.factor||1),this._measurementRunningTotal+=d*(s?1:-1))},_getMeasurementString:function(){var i,s=this._currentLatLng,c=this._markers[this._markers.length-1].getLatLng();return i=L.GeometryUtil.isVersion07x()?c&&s&&s.distanceTo?this._measurementRunningTotal+s.distanceTo(c)*(this.options.factor||1):this._measurementRunningTotal||0:c&&s?this._measurementRunningTotal+this._map.distance(s,c)*(this.options.factor||1):this._measurementRunningTotal||0,L.GeometryUtil.readableDistance(i,this.options.metric,this.options.feet,this.options.nautic,this.options.precision)},_showErrorTooltip:function(){this._errorShown=!0,this._tooltip.showAsError().updateContent({text:this.options.drawError.message}),this._updateGuideColor(this.options.drawError.color),this._poly.setStyle({color:this.options.drawError.color}),this._clearHideErrorTimeout(),this._hideErrorTimeout=setTimeout(L.Util.bind(this._hideErrorTooltip,this),this.options.drawError.timeout)},_hideErrorTooltip:function(){this._errorShown=!1,this._clearHideErrorTimeout(),this._tooltip.removeError().updateContent(this._getTooltipText()),this._updateGuideColor(this.options.shapeOptions.color),this._poly.setStyle({color:this.options.shapeOptions.color})},_clearHideErrorTimeout:function(){this._hideErrorTimeout&&(clearTimeout(this._hideErrorTimeout),this._hideErrorTimeout=null)},_disableNewMarkers:function(){this._disableMarkers=!0},_enableNewMarkers:function(){setTimeout((function(){this._disableMarkers=!1}).bind(this),50)},_cleanUpShape:function(){this._markers.length>1&&this._markers[this._markers.length-1].off("click",this._finishShape,this)},_fireCreatedEvent:function(){var i=new this.Poly(this._poly.getLatLngs(),this.options.shapeOptions);L.Draw.Feature.prototype._fireCreatedEvent.call(this,i)}}),L.Draw.Polygon=L.Draw.Polyline.extend({statics:{TYPE:"polygon"},Poly:L.Polygon,options:{showArea:!1,showLength:!1,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},metric:!0,feet:!0,nautic:!1,precision:{}},initialize:function(i,s){L.Draw.Polyline.prototype.initialize.call(this,i,s),this.type=L.Draw.Polygon.TYPE},_updateFinishHandler:function(){var i=this._markers.length;i===1&&this._markers[0].on("click",this._finishShape,this),i>2&&(this._markers[i-1].on("dblclick",this._finishShape,this),i>3&&this._markers[i-2].off("dblclick",this._finishShape,this))},_getTooltipText:function(){var i,s;return this._markers.length===0?i=L.drawLocal.draw.handlers.polygon.tooltip.start:this._markers.length<3?(i=L.drawLocal.draw.handlers.polygon.tooltip.cont,s=this._getMeasurementString()):(i=L.drawLocal.draw.handlers.polygon.tooltip.end,s=this._getMeasurementString()),{text:i,subtext:s}},_getMeasurementString:function(){var i=this._area,s="";return i||this.options.showLength?(this.options.showLength&&(s=L.Draw.Polyline.prototype._getMeasurementString.call(this)),i&&(s+="<br>"+L.GeometryUtil.readableArea(i,this.options.metric,this.options.precision)),s):null},_shapeIsValid:function(){return this._markers.length>=3},_vertexChanged:function(i,s){var c;!this.options.allowIntersection&&this.options.showArea&&(c=this._poly.getLatLngs(),this._area=L.GeometryUtil.geodesicArea(c)),L.Draw.Polyline.prototype._vertexChanged.call(this,i,s)},_cleanUpShape:function(){var i=this._markers.length;i>0&&(this._markers[0].off("click",this._finishShape,this),i>2&&this._markers[i-1].off("dblclick",this._finishShape,this))}}),L.SimpleShape={},L.Draw.SimpleShape=L.Draw.Feature.extend({options:{repeatMode:!1},initialize:function(i,s){this._endLabelText=L.drawLocal.draw.handlers.simpleshape.tooltip.end,L.Draw.Feature.prototype.initialize.call(this,i,s)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._mapDraggable=this._map.dragging.enabled(),this._mapDraggable&&this._map.dragging.disable(),this._container.style.cursor="crosshair",this._tooltip.updateContent({text:this._initialLabelText}),this._map.on("mousedown",this._onMouseDown,this).on("mousemove",this._onMouseMove,this).on("touchstart",this._onMouseDown,this).on("touchmove",this._onMouseMove,this),t.addEventListener("touchstart",L.DomEvent.preventDefault,{passive:!1}))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._mapDraggable&&this._map.dragging.enable(),this._container.style.cursor="",this._map.off("mousedown",this._onMouseDown,this).off("mousemove",this._onMouseMove,this).off("touchstart",this._onMouseDown,this).off("touchmove",this._onMouseMove,this),L.DomEvent.off(t,"mouseup",this._onMouseUp,this),L.DomEvent.off(t,"touchend",this._onMouseUp,this),t.removeEventListener("touchstart",L.DomEvent.preventDefault),this._shape&&(this._map.removeLayer(this._shape),delete this._shape)),this._isDrawing=!1},_getTooltipText:function(){return{text:this._endLabelText}},_onMouseDown:function(i){this._isDrawing=!0,this._startLatLng=i.latlng,L.DomEvent.on(t,"mouseup",this._onMouseUp,this).on(t,"touchend",this._onMouseUp,this).preventDefault(i.originalEvent)},_onMouseMove:function(i){var s=i.latlng;this._tooltip.updatePosition(s),this._isDrawing&&(this._tooltip.updateContent(this._getTooltipText()),this._drawShape(s))},_onMouseUp:function(){this._shape&&this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()}}),L.Draw.Rectangle=L.Draw.SimpleShape.extend({statics:{TYPE:"rectangle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showArea:!0,metric:!0},initialize:function(i,s){this.type=L.Draw.Rectangle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.rectangle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,i,s)},disable:function(){this._enabled&&(this._isCurrentlyTwoClickDrawing=!1,L.Draw.SimpleShape.prototype.disable.call(this))},_onMouseUp:function(i){if(!this._shape&&!this._isCurrentlyTwoClickDrawing)return void(this._isCurrentlyTwoClickDrawing=!0);this._isCurrentlyTwoClickDrawing&&!r(i.target,"leaflet-pane")||L.Draw.SimpleShape.prototype._onMouseUp.call(this)},_drawShape:function(i){this._shape?this._shape.setBounds(new L.LatLngBounds(this._startLatLng,i)):(this._shape=new L.Rectangle(new L.LatLngBounds(this._startLatLng,i),this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var i=new L.Rectangle(this._shape.getBounds(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,i)},_getTooltipText:function(){var i,s,c,d=L.Draw.SimpleShape.prototype._getTooltipText.call(this),h=this._shape,f=this.options.showArea;return h&&(i=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),s=L.GeometryUtil.geodesicArea(i),c=f?L.GeometryUtil.readableArea(s,this.options.metric):""),{text:d.text,subtext:c}}}),L.Draw.Marker=L.Draw.Feature.extend({statics:{TYPE:"marker"},options:{icon:new L.Icon.Default,repeatMode:!1,zIndexOffset:2e3},initialize:function(i,s){this.type=L.Draw.Marker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.marker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,i,s)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._tooltip.updateContent({text:this._initialLabelText}),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("click",this._onClick,this).addTo(this._map),this._map.on("mousemove",this._onMouseMove,this),this._map.on("click",this._onTouch,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._map.off("click",this._onClick,this).off("click",this._onTouch,this),this._marker&&(this._marker.off("click",this._onClick,this),this._map.removeLayer(this._marker),delete this._marker),this._mouseMarker.off("click",this._onClick,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._map.off("mousemove",this._onMouseMove,this))},_onMouseMove:function(i){var s=i.latlng;this._tooltip.updatePosition(s),this._mouseMarker.setLatLng(s),this._marker?(s=this._mouseMarker.getLatLng(),this._marker.setLatLng(s)):(this._marker=this._createMarker(s),this._marker.on("click",this._onClick,this),this._map.on("click",this._onClick,this).addLayer(this._marker))},_createMarker:function(i){return new L.Marker(i,{icon:this.options.icon,zIndexOffset:this.options.zIndexOffset})},_onClick:function(){this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_onTouch:function(i){this._onMouseMove(i),this._onClick()},_fireCreatedEvent:function(){var i=new L.Marker.Touch(this._marker.getLatLng(),{icon:this.options.icon});L.Draw.Feature.prototype._fireCreatedEvent.call(this,i)}}),L.Draw.CircleMarker=L.Draw.Marker.extend({statics:{TYPE:"circlemarker"},options:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0,zIndexOffset:2e3},initialize:function(i,s){this.type=L.Draw.CircleMarker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circlemarker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,i,s)},_fireCreatedEvent:function(){var i=new L.CircleMarker(this._marker.getLatLng(),this.options);L.Draw.Feature.prototype._fireCreatedEvent.call(this,i)},_createMarker:function(i){return new L.CircleMarker(i,this.options)}}),L.Draw.Circle=L.Draw.SimpleShape.extend({statics:{TYPE:"circle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showRadius:!0,metric:!0,feet:!0,nautic:!1},initialize:function(i,s){this.type=L.Draw.Circle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,i,s)},_drawShape:function(i){if(L.GeometryUtil.isVersion07x())var s=this._startLatLng.distanceTo(i);else var s=this._map.distance(this._startLatLng,i);this._shape?this._shape.setRadius(s):(this._shape=new L.Circle(this._startLatLng,s,this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var i=new L.Circle(this._startLatLng,this._shape.getRadius(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,i)},_onMouseMove:function(i){var s,c=i.latlng,d=this.options.showRadius,h=this.options.metric;if(this._tooltip.updatePosition(c),this._isDrawing){this._drawShape(c),s=this._shape.getRadius().toFixed(1);var f="";d&&(f=L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(s,h,this.options.feet,this.options.nautic)),this._tooltip.updateContent({text:this._endLabelText,subtext:f})}}}),L.Edit=L.Edit||{},L.Edit.Marker=L.Handler.extend({initialize:function(i,s){this._marker=i,L.setOptions(this,s)},addHooks:function(){var i=this._marker;i.dragging.enable(),i.on("dragend",this._onDragEnd,i),this._toggleMarkerHighlight()},removeHooks:function(){var i=this._marker;i.dragging.disable(),i.off("dragend",this._onDragEnd,i),this._toggleMarkerHighlight()},_onDragEnd:function(i){var s=i.target;s.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:s})},_toggleMarkerHighlight:function(){var i=this._marker._icon;i&&(i.style.display="none",L.DomUtil.hasClass(i,"leaflet-edit-marker-selected")?(L.DomUtil.removeClass(i,"leaflet-edit-marker-selected"),this._offsetMarker(i,-4)):(L.DomUtil.addClass(i,"leaflet-edit-marker-selected"),this._offsetMarker(i,4)),i.style.display="")},_offsetMarker:function(i,s){var c=parseInt(i.style.marginTop,10)-s,d=parseInt(i.style.marginLeft,10)-s;i.style.marginTop=c+"px",i.style.marginLeft=d+"px"}}),L.Marker.addInitHook(function(){L.Edit.Marker&&(this.editing=new L.Edit.Marker(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.Poly=L.Handler.extend({initialize:function(i){this.latlngs=[i._latlngs],i._holes&&(this.latlngs=this.latlngs.concat(i._holes)),this._poly=i,this._poly.on("revert-edited",this._updateLatLngs,this)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._poly._latlngs)?this._poly._latlngs:this._poly._latlngs[0]:this._poly._latlngs},_eachVertexHandler:function(i){for(var s=0;s<this._verticesHandlers.length;s++)i(this._verticesHandlers[s])},addHooks:function(){this._initHandlers(),this._eachVertexHandler(function(i){i.addHooks()})},removeHooks:function(){this._eachVertexHandler(function(i){i.removeHooks()})},updateMarkers:function(){this._eachVertexHandler(function(i){i.updateMarkers()})},_initHandlers:function(){this._verticesHandlers=[];for(var i=0;i<this.latlngs.length;i++)this._verticesHandlers.push(new L.Edit.PolyVerticesEdit(this._poly,this.latlngs[i],this._poly.options.poly))},_updateLatLngs:function(i){this.latlngs=[i.layer._latlngs],i.layer._holes&&(this.latlngs=this.latlngs.concat(i.layer._holes))}}),L.Edit.PolyVerticesEdit=L.Handler.extend({options:{icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),drawError:{color:"#b00b00",timeout:1e3}},initialize:function(i,s,c){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this._poly=i,c&&c.drawError&&(c.drawError=L.Util.extend({},this.options.drawError,c.drawError)),this._latlngs=s,L.setOptions(this,c)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._latlngs)?this._latlngs:this._latlngs[0]:this._latlngs},addHooks:function(){var i=this._poly,s=i._path;i instanceof L.Polygon||(i.options.fill=!1,i.options.editing&&(i.options.editing.fill=!1)),s&&i.options.editing&&i.options.editing.className&&(i.options.original.className&&i.options.original.className.split(" ").forEach(function(c){L.DomUtil.removeClass(s,c)}),i.options.editing.className.split(" ").forEach(function(c){L.DomUtil.addClass(s,c)})),i.setStyle(i.options.editing),this._poly._map&&(this._map=this._poly._map,this._markerGroup||this._initMarkers(),this._poly._map.addLayer(this._markerGroup))},removeHooks:function(){var i=this._poly,s=i._path;s&&i.options.editing&&i.options.editing.className&&(i.options.editing.className.split(" ").forEach(function(c){L.DomUtil.removeClass(s,c)}),i.options.original.className&&i.options.original.className.split(" ").forEach(function(c){L.DomUtil.addClass(s,c)})),i.setStyle(i.options.original),i._map&&(i._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers)},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._markers=[];var i,s,c,d,h=this._defaultShape();for(i=0,c=h.length;i<c;i++)d=this._createMarker(h[i],i),d.on("click",this._onMarkerClick,this),d.on("contextmenu",this._onContextMenu,this),this._markers.push(d);var f,g;for(i=0,s=c-1;i<c;s=i++)(i!==0||L.Polygon&&this._poly instanceof L.Polygon)&&(f=this._markers[s],g=this._markers[i],this._createMiddleMarker(f,g),this._updatePrevNext(f,g))},_createMarker:function(i,s){var c=new L.Marker.Touch(i,{draggable:!0,icon:this.options.icon});return c._origLatLng=i,c._index=s,c.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._fireEdit,this).on("touchmove",this._onTouchMove,this).on("touchend",this._fireEdit,this).on("MSPointerMove",this._onTouchMove,this).on("MSPointerUp",this._fireEdit,this),this._markerGroup.addLayer(c),c},_onMarkerDragStart:function(){this._poly.fire("editstart")},_spliceLatLngs:function(){var i=this._defaultShape(),s=[].splice.apply(i,arguments);return this._poly._convertLatLngs(i,!0),this._poly.redraw(),s},_removeMarker:function(i){var s=i._index;this._markerGroup.removeLayer(i),this._markers.splice(s,1),this._spliceLatLngs(s,1),this._updateIndexes(s,-1),i.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._fireEdit,this).off("touchmove",this._onMarkerDrag,this).off("touchend",this._fireEdit,this).off("click",this._onMarkerClick,this).off("MSPointerMove",this._onTouchMove,this).off("MSPointerUp",this._fireEdit,this)},_fireEdit:function(){this._poly.edited=!0,this._poly.fire("edit"),this._poly._map.fire(L.Draw.Event.EDITVERTEX,{layers:this._markerGroup,poly:this._poly})},_onMarkerDrag:function(i){var s=i.target,c=this._poly,d=L.LatLngUtil.cloneLatLng(s._origLatLng);if(L.extend(s._origLatLng,s._latlng),c.options.poly){var h=c._map._editTooltip;if(!c.options.poly.allowIntersection&&c.intersects()){L.extend(s._origLatLng,d),s.setLatLng(d);var f=c.options.color;c.setStyle({color:this.options.drawError.color}),h&&h.updateContent({text:L.drawLocal.draw.handlers.polyline.error}),setTimeout(function(){c.setStyle({color:f}),h&&h.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext})},1e3)}}s._middleLeft&&s._middleLeft.setLatLng(this._getMiddleLatLng(s._prev,s)),s._middleRight&&s._middleRight.setLatLng(this._getMiddleLatLng(s,s._next)),this._poly._bounds._southWest=L.latLng(1/0,1/0),this._poly._bounds._northEast=L.latLng(-1/0,-1/0);var g=this._poly.getLatLngs();this._poly._convertLatLngs(g,!0),this._poly.redraw(),this._poly.fire("editdrag")},_onMarkerClick:function(i){var s=L.Polygon&&this._poly instanceof L.Polygon?4:3,c=i.target;this._defaultShape().length<s||(this._removeMarker(c),this._updatePrevNext(c._prev,c._next),c._middleLeft&&this._markerGroup.removeLayer(c._middleLeft),c._middleRight&&this._markerGroup.removeLayer(c._middleRight),c._prev&&c._next?this._createMiddleMarker(c._prev,c._next):c._prev?c._next||(c._prev._middleRight=null):c._next._middleLeft=null,this._fireEdit())},_onContextMenu:function(i){var s=i.target;this._poly,this._poly._map.fire(L.Draw.Event.MARKERCONTEXT,{marker:s,layers:this._markerGroup,poly:this._poly}),L.DomEvent.stopPropagation},_onTouchMove:function(i){var s=this._map.mouseEventToLayerPoint(i.originalEvent.touches[0]),c=this._map.layerPointToLatLng(s),d=i.target;L.extend(d._origLatLng,c),d._middleLeft&&d._middleLeft.setLatLng(this._getMiddleLatLng(d._prev,d)),d._middleRight&&d._middleRight.setLatLng(this._getMiddleLatLng(d,d._next)),this._poly.redraw(),this.updateMarkers()},_updateIndexes:function(i,s){this._markerGroup.eachLayer(function(c){c._index>i&&(c._index+=s)})},_createMiddleMarker:function(i,s){var c,d,h,f=this._getMiddleLatLng(i,s),g=this._createMarker(f);g.setOpacity(.6),i._middleRight=s._middleLeft=g,d=function(){g.off("touchmove",d,this);var x=s._index;g._index=x,g.off("click",c,this).on("click",this._onMarkerClick,this),f.lat=g.getLatLng().lat,f.lng=g.getLatLng().lng,this._spliceLatLngs(x,0,f),this._markers.splice(x,0,g),g.setOpacity(1),this._updateIndexes(x,1),s._index++,this._updatePrevNext(i,g),this._updatePrevNext(g,s),this._poly.fire("editstart")},h=function(){g.off("dragstart",d,this),g.off("dragend",h,this),g.off("touchmove",d,this),this._createMiddleMarker(i,g),this._createMiddleMarker(g,s)},c=function(){d.call(this),h.call(this),this._fireEdit()},g.on("click",c,this).on("dragstart",d,this).on("dragend",h,this).on("touchmove",d,this),this._markerGroup.addLayer(g)},_updatePrevNext:function(i,s){i&&(i._next=s),s&&(s._prev=i)},_getMiddleLatLng:function(i,s){var c=this._poly._map,d=c.project(i.getLatLng()),h=c.project(s.getLatLng());return c.unproject(d._add(h)._divideBy(2))}}),L.Polyline.addInitHook(function(){this.editing||(L.Edit.Poly&&(this.editing=new L.Edit.Poly(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()}))}),L.Edit=L.Edit||{},L.Edit.SimpleShape=L.Handler.extend({options:{moveIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move"}),resizeIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize"}),touchMoveIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move leaflet-touch-icon"}),touchResizeIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize leaflet-touch-icon"})},initialize:function(i,s){L.Browser.touch&&(this.options.moveIcon=this.options.touchMoveIcon,this.options.resizeIcon=this.options.touchResizeIcon),this._shape=i,L.Util.setOptions(this,s)},addHooks:function(){var i=this._shape;this._shape._map&&(this._map=this._shape._map,i.setStyle(i.options.editing),i._map&&(this._map=i._map,this._markerGroup||this._initMarkers(),this._map.addLayer(this._markerGroup)))},removeHooks:function(){var i=this._shape;if(i.setStyle(i.options.original),i._map){this._unbindMarker(this._moveMarker);for(var s=0,c=this._resizeMarkers.length;s<c;s++)this._unbindMarker(this._resizeMarkers[s]);this._resizeMarkers=null,this._map.removeLayer(this._markerGroup),delete this._markerGroup}this._map=null},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._createMoveMarker(),this._createResizeMarker()},_createMoveMarker:function(){},_createResizeMarker:function(){},_createMarker:function(i,s){var c=new L.Marker.Touch(i,{draggable:!0,icon:s,zIndexOffset:10});return this._bindMarker(c),this._markerGroup.addLayer(c),c},_bindMarker:function(i){i.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._onMarkerDragEnd,this).on("touchstart",this._onTouchStart,this).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onTouchEnd,this).on("MSPointerUp",this._onTouchEnd,this)},_unbindMarker:function(i){i.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._onMarkerDragEnd,this).off("touchstart",this._onTouchStart,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onTouchEnd,this).off("MSPointerUp",this._onTouchEnd,this)},_onMarkerDragStart:function(i){i.target.setOpacity(0),this._shape.fire("editstart")},_fireEdit:function(){this._shape.edited=!0,this._shape.fire("edit")},_onMarkerDrag:function(i){var s=i.target,c=s.getLatLng();s===this._moveMarker?this._move(c):this._resize(c),this._shape.redraw(),this._shape.fire("editdrag")},_onMarkerDragEnd:function(i){i.target.setOpacity(1),this._fireEdit()},_onTouchStart:function(i){if(L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,i),typeof this._getCorners=="function"){var s=this._getCorners(),c=i.target,d=c._cornerIndex;c.setOpacity(0),this._oppositeCorner=s[(d+2)%4],this._toggleCornerMarkers(0,d)}this._shape.fire("editstart")},_onTouchMove:function(i){var s=this._map.mouseEventToLayerPoint(i.originalEvent.touches[0]),c=this._map.layerPointToLatLng(s);return i.target===this._moveMarker?this._move(c):this._resize(c),this._shape.redraw(),!1},_onTouchEnd:function(i){i.target.setOpacity(1),this.updateMarkers(),this._fireEdit()},_move:function(){},_resize:function(){}}),L.Edit=L.Edit||{},L.Edit.Rectangle=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var i=this._shape.getBounds(),s=i.getCenter();this._moveMarker=this._createMarker(s,this.options.moveIcon)},_createResizeMarker:function(){var i=this._getCorners();this._resizeMarkers=[];for(var s=0,c=i.length;s<c;s++)this._resizeMarkers.push(this._createMarker(i[s],this.options.resizeIcon)),this._resizeMarkers[s]._cornerIndex=s},_onMarkerDragStart:function(i){L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,i);var s=this._getCorners(),c=i.target,d=c._cornerIndex;this._oppositeCorner=s[(d+2)%4],this._toggleCornerMarkers(0,d)},_onMarkerDragEnd:function(i){var s,c,d=i.target;d===this._moveMarker&&(s=this._shape.getBounds(),c=s.getCenter(),d.setLatLng(c)),this._toggleCornerMarkers(1),this._repositionCornerMarkers(),L.Edit.SimpleShape.prototype._onMarkerDragEnd.call(this,i)},_move:function(i){for(var s,c=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),d=this._shape.getBounds(),h=d.getCenter(),f=[],g=0,x=c.length;g<x;g++)s=[c[g].lat-h.lat,c[g].lng-h.lng],f.push([i.lat+s[0],i.lng+s[1]]);this._shape.setLatLngs(f),this._repositionCornerMarkers(),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})},_resize:function(i){var s;this._shape.setBounds(L.latLngBounds(i,this._oppositeCorner)),s=this._shape.getBounds(),this._moveMarker.setLatLng(s.getCenter()),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})},_getCorners:function(){var i=this._shape.getBounds();return[i.getNorthWest(),i.getNorthEast(),i.getSouthEast(),i.getSouthWest()]},_toggleCornerMarkers:function(i){for(var s=0,c=this._resizeMarkers.length;s<c;s++)this._resizeMarkers[s].setOpacity(i)},_repositionCornerMarkers:function(){for(var i=this._getCorners(),s=0,c=this._resizeMarkers.length;s<c;s++)this._resizeMarkers[s].setLatLng(i[s])}}),L.Rectangle.addInitHook(function(){L.Edit.Rectangle&&(this.editing=new L.Edit.Rectangle(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.CircleMarker=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var i=this._shape.getLatLng();this._moveMarker=this._createMarker(i,this.options.moveIcon)},_createResizeMarker:function(){this._resizeMarkers=[]},_move:function(i){if(this._resizeMarkers.length){var s=this._getResizeMarkerPoint(i);this._resizeMarkers[0].setLatLng(s)}this._shape.setLatLng(i),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})}}),L.CircleMarker.addInitHook(function(){L.Edit.CircleMarker&&(this.editing=new L.Edit.CircleMarker(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()})}),L.Edit=L.Edit||{},L.Edit.Circle=L.Edit.CircleMarker.extend({_createResizeMarker:function(){var i=this._shape.getLatLng(),s=this._getResizeMarkerPoint(i);this._resizeMarkers=[],this._resizeMarkers.push(this._createMarker(s,this.options.resizeIcon))},_getResizeMarkerPoint:function(i){var s=this._shape._radius*Math.cos(Math.PI/4),c=this._map.project(i);return this._map.unproject([c.x+s,c.y-s])},_resize:function(i){var s=this._moveMarker.getLatLng();L.GeometryUtil.isVersion07x()?radius=s.distanceTo(i):radius=this._map.distance(s,i),this._shape.setRadius(radius),this._map.editTooltip&&this._map._editTooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.subtext+"<br />"+L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(radius,!0,this.options.feet,this.options.nautic)}),this._shape.setRadius(radius),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})}}),L.Circle.addInitHook(function(){L.Edit.Circle&&(this.editing=new L.Edit.Circle(this),this.options.editable&&this.editing.enable())}),L.Map.mergeOptions({touchExtend:!0}),L.Map.TouchExtend=L.Handler.extend({initialize:function(i){this._map=i,this._container=i._container,this._pane=i._panes.overlayPane},addHooks:function(){L.DomEvent.on(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.on(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.on(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.on(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.on(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.on(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.on(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.on(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.on(this._container,"touchleave",this._onTouchLeave,this))},removeHooks:function(){L.DomEvent.off(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.off(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.off(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.off(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.off(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.off(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.off(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.off(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.off(this._container,"touchleave",this._onTouchLeave,this))},_touchEvent:function(i,s){var c={};if(i.touches!==void 0){if(!i.touches.length)return;c=i.touches[0]}else if(i.pointerType!=="touch"||(c=i,!this._filterClick(i)))return;var d=this._map.mouseEventToContainerPoint(c),h=this._map.mouseEventToLayerPoint(c),f=this._map.layerPointToLatLng(h);this._map.fire(s,{latlng:f,layerPoint:h,containerPoint:d,pageX:c.pageX,pageY:c.pageY,originalEvent:i})},_filterClick:function(i){var s=i.timeStamp||i.originalEvent.timeStamp,c=L.DomEvent._lastClick&&s-L.DomEvent._lastClick;return c&&c>100&&c<500||i.target._simulatedClick&&!i._simulated?(L.DomEvent.stop(i),!1):(L.DomEvent._lastClick=s,!0)},_onTouchStart:function(i){this._map._loaded&&this._touchEvent(i,"touchstart")},_onTouchEnd:function(i){this._map._loaded&&this._touchEvent(i,"touchend")},_onTouchCancel:function(i){if(this._map._loaded){var s="touchcancel";this._detectIE()&&(s="pointercancel"),this._touchEvent(i,s)}},_onTouchLeave:function(i){this._map._loaded&&this._touchEvent(i,"touchleave")},_onTouchMove:function(i){this._map._loaded&&this._touchEvent(i,"touchmove")},_detectIE:function(){var i=e.navigator.userAgent,s=i.indexOf("MSIE ");if(s>0)return parseInt(i.substring(s+5,i.indexOf(".",s)),10);if(i.indexOf("Trident/")>0){var c=i.indexOf("rv:");return parseInt(i.substring(c+3,i.indexOf(".",c)),10)}var d=i.indexOf("Edge/");return d>0&&parseInt(i.substring(d+5,i.indexOf(".",d)),10)}}),L.Map.addInitHook("addHandler","touchExtend",L.Map.TouchExtend),L.Marker.Touch=L.Marker.extend({_initInteraction:function(){return this.addInteractiveTarget?L.Marker.prototype._initInteraction.apply(this):this._initInteractionLegacy()},_initInteractionLegacy:function(){if(this.options.clickable){var i=this._icon,s=["dblclick","mousedown","mouseover","mouseout","contextmenu","touchstart","touchend","touchmove"];this._detectIE?s.concat(["MSPointerDown","MSPointerUp","MSPointerMove","MSPointerCancel"]):s.concat(["touchcancel"]),L.DomUtil.addClass(i,"leaflet-clickable"),L.DomEvent.on(i,"click",this._onMouseClick,this),L.DomEvent.on(i,"keypress",this._onKeyPress,this);for(var c=0;c<s.length;c++)L.DomEvent.on(i,s[c],this._fireMouseEvent,this);L.Handler.MarkerDrag&&(this.dragging=new L.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_detectIE:function(){var i=e.navigator.userAgent,s=i.indexOf("MSIE ");if(s>0)return parseInt(i.substring(s+5,i.indexOf(".",s)),10);if(i.indexOf("Trident/")>0){var c=i.indexOf("rv:");return parseInt(i.substring(c+3,i.indexOf(".",c)),10)}var d=i.indexOf("Edge/");return d>0&&parseInt(i.substring(d+5,i.indexOf(".",d)),10)}}),L.LatLngUtil={cloneLatLngs:function(i){for(var s=[],c=0,d=i.length;c<d;c++)Array.isArray(i[c])?s.push(L.LatLngUtil.cloneLatLngs(i[c])):s.push(this.cloneLatLng(i[c]));return s},cloneLatLng:function(i){return L.latLng(i.lat,i.lng)}},(function(){var i={km:2,ha:2,m:0,mi:2,ac:2,yd:0,ft:0,nm:2};L.GeometryUtil=L.extend(L.GeometryUtil||{},{geodesicArea:function(s){var c,d,h=s.length,f=0,g=Math.PI/180;if(h>2){for(var x=0;x<h;x++)c=s[x],d=s[(x+1)%h],f+=(d.lng-c.lng)*g*(2+Math.sin(c.lat*g)+Math.sin(d.lat*g));f=6378137*f*6378137/2}return Math.abs(f)},formattedNumber:function(s,c){var d=parseFloat(s).toFixed(c),h=L.drawLocal.format&&L.drawLocal.format.numeric,f=h&&h.delimiters,g=f&&f.thousands,x=f&&f.decimal;if(g||x){var E=d.split(".");d=g?E[0].replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+g):E[0],x=x||".",E.length>1&&(d=d+x+E[1])}return d},readableArea:function(s,c,g){var h,f,g=L.Util.extend({},i,g);return c?(f=["ha","m"],type=typeof c,type==="string"?f=[c]:type!=="boolean"&&(f=c),h=s>=1e6&&f.indexOf("km")!==-1?L.GeometryUtil.formattedNumber(1e-6*s,g.km)+" km":s>=1e4&&f.indexOf("ha")!==-1?L.GeometryUtil.formattedNumber(1e-4*s,g.ha)+" ha":L.GeometryUtil.formattedNumber(s,g.m)+" m"):(s/=.836127,h=s>=3097600?L.GeometryUtil.formattedNumber(s/3097600,g.mi)+" mi":s>=4840?L.GeometryUtil.formattedNumber(s/4840,g.ac)+" acres":L.GeometryUtil.formattedNumber(s,g.yd)+" yd"),h},readableDistance:function(s,c,d,h,x){var g,x=L.Util.extend({},i,x);switch(c?typeof c=="string"?c:"metric":d?"feet":h?"nauticalMile":"yards"){case"metric":g=s>1e3?L.GeometryUtil.formattedNumber(s/1e3,x.km)+" km":L.GeometryUtil.formattedNumber(s,x.m)+" m";break;case"feet":s*=3.28083,g=L.GeometryUtil.formattedNumber(s,x.ft)+" ft";break;case"nauticalMile":s*=.53996,g=L.GeometryUtil.formattedNumber(s/1e3,x.nm)+" nm";break;case"yards":default:s*=1.09361,g=s>1760?L.GeometryUtil.formattedNumber(s/1760,x.mi)+" miles":L.GeometryUtil.formattedNumber(s,x.yd)+" yd"}return g},isVersion07x:function(){var s=L.version.split(".");return parseInt(s[0],10)===0&&parseInt(s[1],10)===7}})})(),L.Util.extend(L.LineUtil,{segmentsIntersect:function(i,s,c,d){return this._checkCounterclockwise(i,c,d)!==this._checkCounterclockwise(s,c,d)&&this._checkCounterclockwise(i,s,c)!==this._checkCounterclockwise(i,s,d)},_checkCounterclockwise:function(i,s,c){return(c.y-i.y)*(s.x-i.x)>(s.y-i.y)*(c.x-i.x)}}),L.Polyline.include({intersects:function(){var i,s,c,d=this._getProjectedPoints(),h=d?d.length:0;if(this._tooFewPointsForIntersection())return!1;for(i=h-1;i>=3;i--)if(s=d[i-1],c=d[i],this._lineSegmentsIntersectsRange(s,c,i-2))return!0;return!1},newLatLngIntersects:function(i,s){return!!this._map&&this.newPointIntersects(this._map.latLngToLayerPoint(i),s)},newPointIntersects:function(i,s){var c=this._getProjectedPoints(),d=c?c.length:0,h=c?c[d-1]:null,f=d-2;return!this._tooFewPointsForIntersection(1)&&this._lineSegmentsIntersectsRange(h,i,f,s?1:0)},_tooFewPointsForIntersection:function(i){var s=this._getProjectedPoints(),c=s?s.length:0;return c+=i||0,!s||c<=3},_lineSegmentsIntersectsRange:function(i,s,c,d){var h,f,g=this._getProjectedPoints();d=d||0;for(var x=c;x>d;x--)if(h=g[x-1],f=g[x],L.LineUtil.segmentsIntersect(i,s,h,f))return!0;return!1},_getProjectedPoints:function(){if(!this._defaultShape)return this._originalPoints;for(var i=[],s=this._defaultShape(),c=0;c<s.length;c++)i.push(this._map.latLngToLayerPoint(s[c]));return i}}),L.Polygon.include({intersects:function(){var i,s,c,d,h=this._getProjectedPoints();return!this._tooFewPointsForIntersection()&&(!!L.Polyline.prototype.intersects.call(this)||(i=h.length,s=h[0],c=h[i-1],d=i-2,this._lineSegmentsIntersectsRange(c,s,d,1)))}}),L.Control.Draw=L.Control.extend({options:{position:"topleft",draw:{},edit:!1},initialize:function(i){if(L.version<"0.7")throw new Error("Leaflet.draw 0.2.3+ requires Leaflet 0.7.0+. Download latest from https://github.com/Leaflet/Leaflet/");L.Control.prototype.initialize.call(this,i);var s;this._toolbars={},L.DrawToolbar&&this.options.draw&&(s=new L.DrawToolbar(this.options.draw),this._toolbars[L.DrawToolbar.TYPE]=s,this._toolbars[L.DrawToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.EditToolbar&&this.options.edit&&(s=new L.EditToolbar(this.options.edit),this._toolbars[L.EditToolbar.TYPE]=s,this._toolbars[L.EditToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.toolbar=this},onAdd:function(i){var s,c=L.DomUtil.create("div","leaflet-draw"),d=!1;for(var h in this._toolbars)this._toolbars.hasOwnProperty(h)&&(s=this._toolbars[h].addToolbar(i))&&(d||(L.DomUtil.hasClass(s,"leaflet-draw-toolbar-top")||L.DomUtil.addClass(s.childNodes[0],"leaflet-draw-toolbar-top"),d=!0),c.appendChild(s));return c},onRemove:function(){for(var i in this._toolbars)this._toolbars.hasOwnProperty(i)&&this._toolbars[i].removeToolbar()},setDrawingOptions:function(i){for(var s in this._toolbars)this._toolbars[s]instanceof L.DrawToolbar&&this._toolbars[s].setOptions(i)},_toolbarEnabled:function(i){var s=i.target;for(var c in this._toolbars)this._toolbars[c]!==s&&this._toolbars[c].disable()}}),L.Map.mergeOptions({drawControlTooltips:!0,drawControl:!1}),L.Map.addInitHook(function(){this.options.drawControl&&(this.drawControl=new L.Control.Draw,this.addControl(this.drawControl))}),L.Toolbar=L.Class.extend({initialize:function(i){L.setOptions(this,i),this._modes={},this._actionButtons=[],this._activeMode=null;var s=L.version.split(".");parseInt(s[0],10)===1&&parseInt(s[1],10)>=2?L.Toolbar.include(L.Evented.prototype):L.Toolbar.include(L.Mixin.Events)},enabled:function(){return this._activeMode!==null},disable:function(){this.enabled()&&this._activeMode.handler.disable()},addToolbar:function(i){var s,c=L.DomUtil.create("div","leaflet-draw-section"),d=0,h=this._toolbarClass||"",f=this.getModeHandlers(i);for(this._toolbarContainer=L.DomUtil.create("div","leaflet-draw-toolbar leaflet-bar"),this._map=i,s=0;s<f.length;s++)f[s].enabled&&this._initModeHandler(f[s].handler,this._toolbarContainer,d++,h,f[s].title);if(d)return this._lastButtonIndex=--d,this._actionsContainer=L.DomUtil.create("ul","leaflet-draw-actions"),c.appendChild(this._toolbarContainer),c.appendChild(this._actionsContainer),c},removeToolbar:function(){for(var i in this._modes)this._modes.hasOwnProperty(i)&&(this._disposeButton(this._modes[i].button,this._modes[i].handler.enable,this._modes[i].handler),this._modes[i].handler.disable(),this._modes[i].handler.off("enabled",this._handlerActivated,this).off("disabled",this._handlerDeactivated,this));this._modes={};for(var s=0,c=this._actionButtons.length;s<c;s++)this._disposeButton(this._actionButtons[s].button,this._actionButtons[s].callback,this);this._actionButtons=[],this._actionsContainer=null},_initModeHandler:function(i,s,c,d,h){var f=i.type;this._modes[f]={},this._modes[f].handler=i,this._modes[f].button=this._createButton({type:f,title:h,className:d+"-"+f,container:s,callback:this._modes[f].handler.enable,context:this._modes[f].handler}),this._modes[f].buttonIndex=c,this._modes[f].handler.on("enabled",this._handlerActivated,this).on("disabled",this._handlerDeactivated,this)},_detectIOS:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!e.MSStream},_createButton:function(i){var s=L.DomUtil.create("a",i.className||"",i.container),c=L.DomUtil.create("span","sr-only",i.container);s.href="#",s.appendChild(c),i.title&&(s.title=i.title,c.innerHTML=i.title),i.text&&(s.innerHTML=i.text,c.innerHTML=i.text);var d=this._detectIOS()?"touchstart":"click";return L.DomEvent.on(s,"click",L.DomEvent.stopPropagation).on(s,"mousedown",L.DomEvent.stopPropagation).on(s,"dblclick",L.DomEvent.stopPropagation).on(s,"touchstart",L.DomEvent.stopPropagation).on(s,"click",L.DomEvent.preventDefault).on(s,d,i.callback,i.context),s},_disposeButton:function(i,s){var c=this._detectIOS()?"touchstart":"click";L.DomEvent.off(i,"click",L.DomEvent.stopPropagation).off(i,"mousedown",L.DomEvent.stopPropagation).off(i,"dblclick",L.DomEvent.stopPropagation).off(i,"touchstart",L.DomEvent.stopPropagation).off(i,"click",L.DomEvent.preventDefault).off(i,c,s)},_handlerActivated:function(i){this.disable(),this._activeMode=this._modes[i.handler],L.DomUtil.addClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._showActionsToolbar(),this.fire("enable")},_handlerDeactivated:function(){this._hideActionsToolbar(),L.DomUtil.removeClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._activeMode=null,this.fire("disable")},_createActions:function(i){var s,c,d,h,f=this._actionsContainer,g=this.getActions(i),x=g.length;for(c=0,d=this._actionButtons.length;c<d;c++)this._disposeButton(this._actionButtons[c].button,this._actionButtons[c].callback);for(this._actionButtons=[];f.firstChild;)f.removeChild(f.firstChild);for(var E=0;E<x;E++)"enabled"in g[E]&&!g[E].enabled||(s=L.DomUtil.create("li","",f),h=this._createButton({title:g[E].title,text:g[E].text,container:s,callback:g[E].callback,context:g[E].context}),this._actionButtons.push({button:h,callback:g[E].callback}))},_showActionsToolbar:function(){var i=this._activeMode.buttonIndex,s=this._lastButtonIndex,c=this._activeMode.button.offsetTop-1;this._createActions(this._activeMode.handler),this._actionsContainer.style.top=c+"px",i===0&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-top")),i===s&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-bottom")),this._actionsContainer.style.display="block",this._map.fire(L.Draw.Event.TOOLBAROPENED)},_hideActionsToolbar:function(){this._actionsContainer.style.display="none",L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-top"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-bottom"),this._map.fire(L.Draw.Event.TOOLBARCLOSED)}}),L.Draw=L.Draw||{},L.Draw.Tooltip=L.Class.extend({initialize:function(i){this._map=i,this._popupPane=i._panes.popupPane,this._visible=!1,this._container=i.options.drawControlTooltips?L.DomUtil.create("div","leaflet-draw-tooltip",this._popupPane):null,this._singleLineLabel=!1,this._map.on("mouseout",this._onMouseOut,this)},dispose:function(){this._map.off("mouseout",this._onMouseOut,this),this._container&&(this._popupPane.removeChild(this._container),this._container=null)},updateContent:function(i){return this._container?(i.subtext=i.subtext||"",i.subtext.length!==0||this._singleLineLabel?i.subtext.length>0&&this._singleLineLabel&&(L.DomUtil.removeClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!1):(L.DomUtil.addClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!0),this._container.innerHTML=(i.subtext.length>0?'<span class="leaflet-draw-tooltip-subtext">'+i.subtext+"</span><br />":"")+"<span>"+i.text+"</span>",i.text||i.subtext?(this._visible=!0,this._container.style.visibility="inherit"):(this._visible=!1,this._container.style.visibility="hidden"),this):this},updatePosition:function(i){var s=this._map.latLngToLayerPoint(i),c=this._container;return this._container&&(this._visible&&(c.style.visibility="inherit"),L.DomUtil.setPosition(c,s)),this},showAsError:function(){return this._container&&L.DomUtil.addClass(this._container,"leaflet-error-draw-tooltip"),this},removeError:function(){return this._container&&L.DomUtil.removeClass(this._container,"leaflet-error-draw-tooltip"),this},_onMouseOut:function(){this._container&&(this._container.style.visibility="hidden")}}),L.DrawToolbar=L.Toolbar.extend({statics:{TYPE:"draw"},options:{polyline:{},polygon:{},rectangle:{},circle:{},marker:{},circlemarker:{}},initialize:function(i){for(var s in this.options)this.options.hasOwnProperty(s)&&i[s]&&(i[s]=L.extend({},this.options[s],i[s]));this._toolbarClass="leaflet-draw-draw",L.Toolbar.prototype.initialize.call(this,i)},getModeHandlers:function(i){return[{enabled:this.options.polyline,handler:new L.Draw.Polyline(i,this.options.polyline),title:L.drawLocal.draw.toolbar.buttons.polyline},{enabled:this.options.polygon,handler:new L.Draw.Polygon(i,this.options.polygon),title:L.drawLocal.draw.toolbar.buttons.polygon},{enabled:this.options.rectangle,handler:new L.Draw.Rectangle(i,this.options.rectangle),title:L.drawLocal.draw.toolbar.buttons.rectangle},{enabled:this.options.circle,handler:new L.Draw.Circle(i,this.options.circle),title:L.drawLocal.draw.toolbar.buttons.circle},{enabled:this.options.marker,handler:new L.Draw.Marker(i,this.options.marker),title:L.drawLocal.draw.toolbar.buttons.marker},{enabled:this.options.circlemarker,handler:new L.Draw.CircleMarker(i,this.options.circlemarker),title:L.drawLocal.draw.toolbar.buttons.circlemarker}]},getActions:function(i){return[{enabled:i.completeShape,title:L.drawLocal.draw.toolbar.finish.title,text:L.drawLocal.draw.toolbar.finish.text,callback:i.completeShape,context:i},{enabled:i.deleteLastVertex,title:L.drawLocal.draw.toolbar.undo.title,text:L.drawLocal.draw.toolbar.undo.text,callback:i.deleteLastVertex,context:i},{title:L.drawLocal.draw.toolbar.actions.title,text:L.drawLocal.draw.toolbar.actions.text,callback:this.disable,context:this}]},setOptions:function(i){L.setOptions(this,i);for(var s in this._modes)this._modes.hasOwnProperty(s)&&i.hasOwnProperty(s)&&this._modes[s].handler.setOptions(i[s])}}),L.EditToolbar=L.Toolbar.extend({statics:{TYPE:"edit"},options:{edit:{selectedPathOptions:{dashArray:"10, 10",fill:!0,fillColor:"#fe57a1",fillOpacity:.1,maintainColor:!1}},remove:{},poly:null,featureGroup:null},initialize:function(i){i.edit&&(i.edit.selectedPathOptions===void 0&&(i.edit.selectedPathOptions=this.options.edit.selectedPathOptions),i.edit.selectedPathOptions=L.extend({},this.options.edit.selectedPathOptions,i.edit.selectedPathOptions)),i.remove&&(i.remove=L.extend({},this.options.remove,i.remove)),i.poly&&(i.poly=L.extend({},this.options.poly,i.poly)),this._toolbarClass="leaflet-draw-edit",L.Toolbar.prototype.initialize.call(this,i),this._selectedFeatureCount=0},getModeHandlers:function(i){var s=this.options.featureGroup;return[{enabled:this.options.edit,handler:new L.EditToolbar.Edit(i,{featureGroup:s,selectedPathOptions:this.options.edit.selectedPathOptions,poly:this.options.poly}),title:L.drawLocal.edit.toolbar.buttons.edit},{enabled:this.options.remove,handler:new L.EditToolbar.Delete(i,{featureGroup:s}),title:L.drawLocal.edit.toolbar.buttons.remove}]},getActions:function(i){var s=[{title:L.drawLocal.edit.toolbar.actions.save.title,text:L.drawLocal.edit.toolbar.actions.save.text,callback:this._save,context:this},{title:L.drawLocal.edit.toolbar.actions.cancel.title,text:L.drawLocal.edit.toolbar.actions.cancel.text,callback:this.disable,context:this}];return i.removeAllLayers&&s.push({title:L.drawLocal.edit.toolbar.actions.clearAll.title,text:L.drawLocal.edit.toolbar.actions.clearAll.text,callback:this._clearAllLayers,context:this}),s},addToolbar:function(i){var s=L.Toolbar.prototype.addToolbar.call(this,i);return this._checkDisabled(),this.options.featureGroup.on("layeradd layerremove",this._checkDisabled,this),s},removeToolbar:function(){this.options.featureGroup.off("layeradd layerremove",this._checkDisabled,this),L.Toolbar.prototype.removeToolbar.call(this)},disable:function(){this.enabled()&&(this._activeMode.handler.revertLayers(),L.Toolbar.prototype.disable.call(this))},_save:function(){this._activeMode.handler.save(),this._activeMode&&this._activeMode.handler.disable()},_clearAllLayers:function(){this._activeMode.handler.removeAllLayers(),this._activeMode&&this._activeMode.handler.disable()},_checkDisabled:function(){var i,s=this.options.featureGroup,c=s.getLayers().length!==0;this.options.edit&&(i=this._modes[L.EditToolbar.Edit.TYPE].button,c?L.DomUtil.removeClass(i,"leaflet-disabled"):L.DomUtil.addClass(i,"leaflet-disabled"),i.setAttribute("title",c?L.drawLocal.edit.toolbar.buttons.edit:L.drawLocal.edit.toolbar.buttons.editDisabled)),this.options.remove&&(i=this._modes[L.EditToolbar.Delete.TYPE].button,c?L.DomUtil.removeClass(i,"leaflet-disabled"):L.DomUtil.addClass(i,"leaflet-disabled"),i.setAttribute("title",c?L.drawLocal.edit.toolbar.buttons.remove:L.drawLocal.edit.toolbar.buttons.removeDisabled))}}),L.EditToolbar.Edit=L.Handler.extend({statics:{TYPE:"edit"},initialize:function(i,s){if(L.Handler.prototype.initialize.call(this,i),L.setOptions(this,s),this._featureGroup=s.featureGroup,!(this._featureGroup instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this._uneditedLayerProps={},this.type=L.EditToolbar.Edit.TYPE;var c=L.version.split(".");parseInt(c[0],10)===1&&parseInt(c[1],10)>=2?L.EditToolbar.Edit.include(L.Evented.prototype):L.EditToolbar.Edit.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.EDITSTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._featureGroup.on("layeradd",this._enableLayerEdit,this).on("layerremove",this._disableLayerEdit,this))},disable:function(){this._enabled&&(this._featureGroup.off("layeradd",this._enableLayerEdit,this).off("layerremove",this._disableLayerEdit,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.EDITSTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var i=this._map;i&&(i.getContainer().focus(),this._featureGroup.eachLayer(this._enableLayerEdit,this),this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}),i._editTooltip=this._tooltip,this._updateTooltip(),this._map.on("mousemove",this._onMouseMove,this).on("touchmove",this._onMouseMove,this).on("MSPointerMove",this._onMouseMove,this).on(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},removeHooks:function(){this._map&&(this._featureGroup.eachLayer(this._disableLayerEdit,this),this._uneditedLayerProps={},this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this).off("touchmove",this._onMouseMove,this).off("MSPointerMove",this._onMouseMove,this).off(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},revertLayers:function(){this._featureGroup.eachLayer(function(i){this._revertLayer(i)},this)},save:function(){var i=new L.LayerGroup;this._featureGroup.eachLayer(function(s){s.edited&&(i.addLayer(s),s.edited=!1)}),this._map.fire(L.Draw.Event.EDITED,{layers:i})},_backupLayer:function(i){var s=L.Util.stamp(i);this._uneditedLayerProps[s]||(i instanceof L.Polyline||i instanceof L.Polygon||i instanceof L.Rectangle?this._uneditedLayerProps[s]={latlngs:L.LatLngUtil.cloneLatLngs(i.getLatLngs())}:i instanceof L.Circle?this._uneditedLayerProps[s]={latlng:L.LatLngUtil.cloneLatLng(i.getLatLng()),radius:i.getRadius()}:(i instanceof L.Marker||i instanceof L.CircleMarker)&&(this._uneditedLayerProps[s]={latlng:L.LatLngUtil.cloneLatLng(i.getLatLng())}))},_getTooltipText:function(){return{text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}},_updateTooltip:function(){this._tooltip.updateContent(this._getTooltipText())},_revertLayer:function(i){var s=L.Util.stamp(i);i.edited=!1,this._uneditedLayerProps.hasOwnProperty(s)&&(i instanceof L.Polyline||i instanceof L.Polygon||i instanceof L.Rectangle?i.setLatLngs(this._uneditedLayerProps[s].latlngs):i instanceof L.Circle?(i.setLatLng(this._uneditedLayerProps[s].latlng),i.setRadius(this._uneditedLayerProps[s].radius)):(i instanceof L.Marker||i instanceof L.CircleMarker)&&i.setLatLng(this._uneditedLayerProps[s].latlng),i.fire("revert-edited",{layer:i}))},_enableLayerEdit:function(i){var s,c,d=i.layer||i.target||i;this._backupLayer(d),this.options.poly&&(c=L.Util.extend({},this.options.poly),d.options.poly=c),this.options.selectedPathOptions&&(s=L.Util.extend({},this.options.selectedPathOptions),s.maintainColor&&(s.color=d.options.color,s.fillColor=d.options.fillColor),d.options.original=L.extend({},d.options),d.options.editing=s),d instanceof L.Marker?(d.editing&&d.editing.enable(),d.dragging.enable(),d.on("dragend",this._onMarkerDragEnd).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onMarkerDragEnd,this).on("MSPointerUp",this._onMarkerDragEnd,this)):d.editing.enable()},_disableLayerEdit:function(i){var s=i.layer||i.target||i;s.edited=!1,s.editing&&s.editing.disable(),delete s.options.editing,delete s.options.original,this._selectedPathOptions&&(s instanceof L.Marker?this._toggleMarkerHighlight(s):(s.setStyle(s.options.previousOptions),delete s.options.previousOptions)),s instanceof L.Marker?(s.dragging.disable(),s.off("dragend",this._onMarkerDragEnd,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onMarkerDragEnd,this).off("MSPointerUp",this._onMarkerDragEnd,this)):s.editing.disable()},_onMouseMove:function(i){this._tooltip.updatePosition(i.latlng)},_onMarkerDragEnd:function(i){var s=i.target;s.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:s})},_onTouchMove:function(i){var s=i.originalEvent.changedTouches[0],c=this._map.mouseEventToLayerPoint(s),d=this._map.layerPointToLatLng(c);i.target.setLatLng(d)},_hasAvailableLayers:function(){return this._featureGroup.getLayers().length!==0}}),L.EditToolbar.Delete=L.Handler.extend({statics:{TYPE:"remove"},initialize:function(i,s){if(L.Handler.prototype.initialize.call(this,i),L.Util.setOptions(this,s),this._deletableLayers=this.options.featureGroup,!(this._deletableLayers instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this.type=L.EditToolbar.Delete.TYPE;var c=L.version.split(".");parseInt(c[0],10)===1&&parseInt(c[1],10)>=2?L.EditToolbar.Delete.include(L.Evented.prototype):L.EditToolbar.Delete.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DELETESTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._deletableLayers.on("layeradd",this._enableLayerDelete,this).on("layerremove",this._disableLayerDelete,this))},disable:function(){this._enabled&&(this._deletableLayers.off("layeradd",this._enableLayerDelete,this).off("layerremove",this._disableLayerDelete,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DELETESTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var i=this._map;i&&(i.getContainer().focus(),this._deletableLayers.eachLayer(this._enableLayerDelete,this),this._deletedLayers=new L.LayerGroup,this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.remove.tooltip.text}),this._map.on("mousemove",this._onMouseMove,this))},removeHooks:function(){this._map&&(this._deletableLayers.eachLayer(this._disableLayerDelete,this),this._deletedLayers=null,this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this))},revertLayers:function(){this._deletedLayers.eachLayer(function(i){this._deletableLayers.addLayer(i),i.fire("revert-deleted",{layer:i})},this)},save:function(){this._map.fire(L.Draw.Event.DELETED,{layers:this._deletedLayers})},removeAllLayers:function(){this._deletableLayers.eachLayer(function(i){this._removeLayer({layer:i})},this),this.save()},_enableLayerDelete:function(i){(i.layer||i.target||i).on("click",this._removeLayer,this)},_disableLayerDelete:function(i){var s=i.layer||i.target||i;s.off("click",this._removeLayer,this),this._deletedLayers.removeLayer(s)},_removeLayer:function(i){var s=i.layer||i.target||i;this._deletableLayers.removeLayer(s),this._deletedLayers.addLayer(s),s.fire("deleted")},_onMouseMove:function(i){this._tooltip.updatePosition(i.latlng)},_hasAvailableLayers:function(){return this._deletableLayers.getLayers().length!==0}})})(window,document);var qv={exports:{}},Kv,ZB;function kH(){if(ZB)return Kv;ZB=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Kv=e,Kv}var Gv,$B;function UH(){if($B)return Gv;$B=1;var e=kH();function t(){}function n(){}return n.resetWarningCache=t,Gv=function(){function r(c,d,h,f,g,x){if(x!==e){var E=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw E.name="Invariant Violation",E}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return s.PropTypes=s,s},Gv}var YB;function IH(){return YB||(YB=1,qv.exports=UH()()),qv.exports}var Zr=IH(),Vv,XB;function TH(){return XB||(XB=1,Vv=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(s=Object.keys(t),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var c=s[i];if(!e(t[c],n[c]))return!1}return!0}return t!==t&&n!==n}),Vv}var FH=TH();const JB=ef(FH);function Wh(e){"@babel/helpers - typeof";return Wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wh(e)}function WB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Fh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WB(Object(n),!0).forEach(function(r){OH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function OH(e,t,n){return(t=QH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QH(e){var t=DH(e,"string");return Wh(t)=="symbol"?t:t+""}function DH(e,t){if(Wh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Wh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kc={onEdited:"draw:edited",onDrawStart:"draw:drawstart",onDrawStop:"draw:drawstop",onDrawVertex:"draw:drawvertex",onEditStart:"draw:editstart",onEditMove:"draw:editmove",onEditResize:"draw:editresize",onEditVertex:"draw:editvertex",onEditStop:"draw:editstop",onDeleted:"draw:deleted",onDeleteStart:"draw:deletestart",onDeleteStop:"draw:deletestop"};function qb(e){var t=yd(),n=$.useRef(),r=$.useRef(e),i=function(c){var d=e.onCreated,h=t.layerContainer||t.map;h.addLayer(c.layer),d&&d(c)};return bl.useEffect(function(){var s=t.map,c=e.onMounted;for(var d in Kc)s.on(Kc[d],function(h){var f=Object.keys(Kc).filter(function(x){return Kc[x]===h.type});if(f.length===1){var g=f[0];e[g]&&e[g](h)}});return s.on(gs.Draw.Event.CREATED,i),n.current=e5(e,t),s.addControl(n.current),c&&c(n.current),function(){s.off(gs.Draw.Event.CREATED,i);for(var h in Kc)e[h]&&s.off(Kc[h],e[h]);n.current.remove(s)}},[e.onCreated,e.onDeleted,e.onEdited]),bl.useEffect(function(){if(!(JB(e.draw,r.current.draw)&&JB(e.edit,r.current.edit)&&e.position===r.current.position)){var s=t.map;n.current.remove(s),n.current=e5(e,t),n.current.addTo(s);var c=e.onMounted;return c&&c(n.current),function(){n.current.remove(s)}}},[e.draw,e.edit,e.position,e.onCreated,e.onDeleted,e.onEdited]),null}function e5(e,t){var n=t.layerContainer,r=e.draw,i=e.edit,s=e.position,c={edit:Fh(Fh({},i),{},{featureGroup:n})};return r&&(c.draw=Fh({},r)),s&&(c.position=s),new zA.Control.Draw(c)}qb.propTypes=Fh(Fh({},Object.keys(Kc).reduce(function(e,t){return e[t]=Zr.PropTypes.func,e},{})),{},{onCreated:Zr.PropTypes.func,onMounted:Zr.PropTypes.func,draw:Zr.PropTypes.shape({polyline:Zr.PropTypes.oneOfType([Zr.PropTypes.object,Zr.PropTypes.bool]),polygon:Zr.PropTypes.oneOfType([Zr.PropTypes.object,Zr.PropTypes.bool]),rectangle:Zr.PropTypes.oneOfType([Zr.PropTypes.object,Zr.PropTypes.bool]),circle:Zr.PropTypes.oneOfType([Zr.PropTypes.object,Zr.PropTypes.bool]),marker:Zr.PropTypes.oneOfType([Zr.PropTypes.object,Zr.PropTypes.bool])}),edit:Zr.PropTypes.shape({edit:Zr.PropTypes.oneOfType([Zr.PropTypes.object,Zr.PropTypes.bool]),remove:Zr.PropTypes.oneOfType([Zr.PropTypes.object,Zr.PropTypes.bool]),poly:Zr.PropTypes.oneOfType([Zr.PropTypes.object,Zr.PropTypes.bool]),allowIntersection:Zr.PropTypes.bool}),position:Zr.PropTypes.oneOf(["topright","topleft","bottomright","bottomleft"]),leaflet:Zr.PropTypes.shape({map:Zr.PropTypes.instanceOf(zA.Map),layerContainer:Zr.PropTypes.shape({addLayer:Zr.PropTypes.func.isRequired,removeLayer:Zr.PropTypes.func.isRequired})})});const t5={lat:-17.7915,lng:-50.9197},n5="Rio Verde, GO",gl={error:e=>alert(e),success:e=>alert(e)},MH=()=>{const e=gs.GeometryUtil;if(!e||e._gpReadableAreaPatched)return;e._gpReadableAreaPatched=!0;const t={km:2,ha:2,m:0,mi:2,ac:2,yd:0,ft:0,nm:2};e.readableArea=(n,r,i)=>{const s=gs.Util.extend({},t,i);let c=["ha","m"];const d=typeof r;if(r)return d==="string"?c=[r]:d!=="boolean"&&(c=r),n>=1e6&&c.indexOf("km")!==-1?`${e.formattedNumber(n/1e6,s.km)} km2`:n>=1e4&&c.indexOf("ha")!==-1?`${e.formattedNumber(n/1e4,s.ha)} ha`:`${e.formattedNumber(n,s.m)} m2`;const h=n/.836127;return h>=3097600?`${e.formattedNumber(h/3097600,s.mi)} mi2`:h>=4840?`${e.formattedNumber(h/4840,s.ac)} acres`:`${e.formattedNumber(h,s.yd)} yd2`}},r5=e=>{if(!e)return null;if(Array.isArray(e)&&e.length>=2){const t=Number(e[0]),n=Number(e[1]);return Number.isFinite(t)&&Number.isFinite(n)?[t,n]:null}if(typeof e=="object"){const t=Number(e.lat??e.latitude),n=Number(e.lng??e.lon??e.longitude);if(Number.isFinite(t)&&Number.isFinite(n))return[t,n]}return null},$u=e=>{if(!e)return null;let t=e;if(typeof t=="string")try{t=JSON.parse(t)}catch{return null}if(t&&typeof t=="object"&&!Array.isArray(t)){const r=t,i=r.type==="Feature"?r.geometry:r,s=i==null?void 0:i.coordinates,c=i==null?void 0:i.type;if(c==="Polygon"&&Array.isArray(s))return s.map(d=>Array.isArray(d)?d.map(h=>[Number(h==null?void 0:h[1]),Number(h==null?void 0:h[0])]).filter(h=>Number.isFinite(h[0])&&Number.isFinite(h[1])):[]).filter(d=>d.length>2);if(c==="MultiPolygon"&&Array.isArray(s)&&Array.isArray(s[0]))return s[0].map(h=>Array.isArray(h)?h.map(f=>[Number(f==null?void 0:f[1]),Number(f==null?void 0:f[0])]).filter(f=>Number.isFinite(f[0])&&Number.isFinite(f[1])):[]).filter(h=>h.length>2)}if(!Array.isArray(t)||t.length===0)return null;if(Array.isArray(t[0])&&Array.isArray(t[0][0])){const r=t[0][0];if(Array.isArray(r)&&r.length===2&&!Array.isArray(r[0]))return t.map(s=>s.map(c=>r5([c[1],c[0]])).filter(Boolean)).filter(s=>s.length>2)}const n=t.map(r=>Array.isArray(r)?r.map(i=>r5(i)).filter(i=>!!i):[]).filter(r=>r.length>2);return n.length?n:null},RH=e=>!e||!e.length?null:{type:"Polygon",coordinates:e.map(n=>n.map(([r,i])=>[i,r]))},PH=()=>{const e=_d();return $.useEffect(()=>{const t=()=>e.invalidateSize(),n=e.getContainer(),r=()=>t();window.addEventListener("resize",r);let i=null;typeof ResizeObserver<"u"&&(i=new ResizeObserver(()=>t()),i.observe(n));const s=setTimeout(t,50),c=setTimeout(t,250),d=setTimeout(t,800);return()=>{clearTimeout(s),clearTimeout(c),clearTimeout(d),window.removeEventListener("resize",r),i&&i.disconnect()}},[e]),null},HH=({onClose:e})=>{const[t,n]=$.useState([]),[r,i]=$.useState([]),[s,c]=$.useState("realtime"),[d,h]=$.useState("map"),[f,g]=$.useState(null),[x,E]=$.useState(!1),[w,I]=$.useState(""),[j,F]=$.useState("#f97316"),[S,z]=$.useState(null),[D,G]=$.useState(!1),[ce,Y]=$.useState(null),[ge,re]=$.useState(""),[M,X]=$.useState({}),[V,W]=$.useState("0"),[oe,me]=$.useState(""),[ye,se]=$.useState(n5),[_e,Z]=$.useState(!1),[Ce,Se]=$.useState(null),[te,P]=$.useState(null),[ie,O]=$.useState(""),ae=Er(()=>{var Fe;return(Fe=Le.service_orders)==null?void 0:Fe.toArray()},[]),ue=Er(()=>{var Fe;return(Fe=Le.delivery_zones)==null?void 0:Fe.toArray()},[]),je=Er(()=>{var Fe;return(Fe=Le.zone_pricing)==null?void 0:Fe.toArray()},[]),Ve=Er(()=>{var Fe;return(Fe=Le.deposits)==null?void 0:Fe.toArray()},[]),Ie=Er(()=>{var Fe;return(Fe=Le.delivery_zones)==null?void 0:Fe.toArray()},[]),lt=$.useRef(null),wt=$.useRef(null),Xe=$.useRef([]),$t=$.useRef([]),on=$.useRef(()=>{}),xe=$.useRef(null),Ot=$.useMemo(()=>{const Fe=new Map;return(je??[]).forEach(yt=>{var jt;Fe.has(yt.deposit_id)||Fe.set(yt.deposit_id,new Map),(jt=Fe.get(yt.deposit_id))==null||jt.set(yt.zone_id,Number(yt.price??0))}),Fe},[je]),rn=$.useCallback(()=>{g(null),I(""),F("#f97316"),re(""),z(null),xe.current&&xe.current.clearLayers()},[]);$.useEffect(()=>{MH()},[]);const dn=$.useCallback(async()=>{const Fe=w.trim();if(!Fe){alert("Informe o nome da zona");return}if(!S||S.length===0){alert("Desenhe a rea da zona no mapa antes de salvar.");return}G(!0);try{const yt={id:f??void 0,name:Fe,color:j,deposit_id:null,fee:0,map_polygon:RH(S)??S},jt=await hD(yt);if(ce&&ge.trim()!==""){const dt=Number(ge);await Rx({id:`${ce}:${jt.id}`,deposit_id:ce,zone_id:jt.id,price:Number.isFinite(dt)?dt:0})}g(jt.id),alert("Zona salva com sucesso")}catch(yt){alert((yt==null?void 0:yt.message)||"Falha ao salvar zona")}finally{G(!1)}},[w,S,f,j,ce,ge]),xt=$.useCallback(Fe=>{if(!Fe||!Fe.length||!lt.current)return;const yt=gs.polygon(Fe);lt.current.fitBounds(yt.getBounds(),{padding:[24,24]})},[]),nn=$.useCallback(()=>{if(!lt.current||!ue||ue.length===0)return;const Fe=[];if(ue.forEach(jt=>{const dt=$u(jt.map_polygon);dt&&dt.forEach(Rt=>{Rt.forEach(Ht=>Fe.push(Ht))})}),Fe.length===0)return;const yt=gs.latLngBounds(Fe);lt.current.fitBounds(yt,{padding:[32,32],maxZoom:17})},[ue]),Vt=async()=>{const Fe=oe.trim();if(!(!Fe||!lt.current)){Z(!0),Se(null),P(null);try{const yt=ye.trim()||n5,{data:jt}=await Pa.get("https://nominatim.openstreetmap.org/search",{params:{format:"jsonv2",q:`${Fe}, ${yt}`,polygon_geojson:1,addressdetails:1,limit:5,countrycodes:"br"},headers:{"Accept-Language":"pt-BR"}}),dt=Array.isArray(jt)?jt:[];if(!dt.length){P("Nenhum resultado encontrado. Desenhe manualmente.");return}const Rt=dt[0],Ht=Number(Rt==null?void 0:Rt.lat),Qn=Number(Rt==null?void 0:Rt.lon);if(!Number.isFinite(Ht)||!Number.isFinite(Qn)){Se("Localizao invlida.");return}!f&&!x&&(E(!0),w||I(Fe)),lt.current.flyTo([Ht,Qn],15),P("Endereo encontrado. Desenhe a rea manualmente no mapa.")}catch{Se("Falha ao buscar endereo.")}finally{Z(!1)}}},un=async Fe=>{if(confirm("Excluir esta zona?"))try{await KN(Fe),f===Fe&&(g(null),z(null)),gl.success("Zona excluda")}catch(yt){gl.error((yt==null?void 0:yt.message)||"Erro ao excluir zona")}},hn=async Fe=>{if(!ce){gl.error("Selecione um depsito para salvar preo.");return}const yt=M[Fe]??"",jt=Number(String(yt).replace(",","."));if(!Number.isFinite(jt)){gl.error("Preo invlido.");return}try{await Rx({id:`${ce}:${Fe}`,zone_id:Fe,deposit_id:ce,price:jt}),gl.success("Preo salvo")}catch{gl.error("Erro ao salvar preo")}},jn=async()=>{if(!ce||!Ve)return;const Fe=Ve.find(jt=>jt.id===ce);if(!Fe)return;const yt=Number(V||0)||0;try{await ng({...Fe,free_shipping_min_value:yt}),gl.success("Frete grtis atualizado")}catch{gl.error("Erro ao salvar frete grtis")}},Mn=async()=>{if(!(!f||!ie.trim()))try{await Ib({id:crypto.randomUUID(),zone_id:f,name:ie.trim()}),O(""),gl.success("Setor adicionado")}catch{gl.error("Erro ao adicionar setor")}},_n=async Fe=>{if(confirm("Excluir este setor?"))try{await GN(Fe),gl.success("Setor excludo")}catch{gl.error("Erro ao excluir setor")}},En=$.useMemo(()=>Ve==null?void 0:Ve.find(Fe=>Fe.id===ce),[Ve,ce]),Tn=$.useMemo(()=>(Ie??[]).filter(Fe=>Fe.zone_id===f),[Ie,f]),cn=$.useMemo(()=>{const Fe=new Map;if(!ce)return Fe;for(const yt of je??[])yt.deposit_id===ce&&Fe.set(yt.zone_id,yt);return Fe},[je,ce]);$.useMemo(()=>(ue??[]).filter(Fe=>Fe.id!==f).map(Fe=>({id:Fe.id,name:Fe.name,color:Fe.color||"#f97316",polygon:$u(Fe.map_polygon)})).filter(Fe=>Fe.polygon),[ue,f]),$.useMemo(()=>{if(!f||!ue)return null;const Fe=ue.find(yt=>yt.id===f);return Fe?$u(Fe.map_polygon):null},[f,ue]),$.useEffect(()=>{const Fe=requestAnimationFrame(()=>on.current()),yt=setTimeout(()=>on.current(),200),jt=setTimeout(()=>on.current(),800),dt=setTimeout(()=>nn(),1e3);return()=>{cancelAnimationFrame(Fe),clearTimeout(yt),clearTimeout(jt),clearTimeout(dt)}},[nn]),$.useEffect(()=>{const Fe=()=>{i(TD())};Fe();const yt=setInterval(Fe,5e3);return()=>clearInterval(yt)},[]),$.useEffect(()=>{if(ae!==void 0){if(ae.length>0){n(ae);return}n(ID())}},[ae]),$.useEffect(()=>{ce||!Ve||Ve.length===0||Y(Ve[0].id)},[Ve,ce]),$.useEffect(()=>{if(!ue)return;const Fe=f?ue.find(yt=>yt.id===f):null;if(!Fe){I(""),F("#f97316"),z(null),nn();return}I(Fe.name??""),F(Fe.color??"#f97316"),z($u(Fe.map_polygon))},[f,ue,nn]),$.useEffect(()=>{if(!ce||!f||!je){re("");return}const Fe=je.find(yt=>yt.zone_id===f&&yt.deposit_id===ce);re(Fe?String(Fe.price??""):"")},[ce,f,je]),$.useEffect(()=>{if(!ce||!ue){X({});return}const Fe={};for(const yt of ue){const jt=cn.get(yt.id);Fe[yt.id]=jt?String(jt.price??0):""}X(Fe)},[ce,ue,cn]),$.useEffect(()=>{if(!En)return;const Fe=En.free_shipping_min_value??En.freeShippingMinValue??0;W(String(Number(Fe)||0))},[En]),$.useEffect(()=>{if(!xe.current||(xe.current.clearLayers(),!S||S.length===0))return;const Fe=gs.polygon(S,{color:j,fillColor:j,fillOpacity:.25,weight:2});xe.current.addLayer(Fe),lt.current&&lt.current.fitBounds(Fe.getBounds(),{padding:[24,24]})},[S,j]),$.useEffect(()=>{if(lt.current){if(wt.current&&(lt.current.removeLayer(wt.current),wt.current=null),Xe.current.forEach(Fe=>Fe.remove()),Xe.current=[],$t.current.forEach(Fe=>Fe.remove()),$t.current=[],s==="heatmap"){const Fe=t.filter(yt=>yt.latitude&&yt.longitude).map(yt=>[yt.latitude,yt.longitude,.8]);gs.heatLayer&&(wt.current=gs.heatLayer(Fe,{radius:25,blur:15,maxZoom:17}).addTo(lt.current))}s==="realtime"&&(r.forEach(Fe=>{const jt=gs.divIcon({html:`
          <div style="background-color:#ef4444; width:32px; height:32px; border-radius:50%; border:2px solid white; box-shadow:0 0 10px rgba(239,68,68,0.5); display:flex; align-items:center; justify-content:center; color:white;">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="1" y="3" width="15" height="13"></rect><polygon points="16 8 20 8 23 11 23 16 16 16 16 8"></polygon><circle cx="5.5" cy="18.5" r="2.5"></circle><circle cx="18.5" cy="18.5" r="2.5"></circle></svg>
          </div>
        `,className:"driver-icon",iconSize:[32,32],iconAnchor:[16,16]}),dt=gs.marker([Fe.coords.lat,Fe.coords.lng],{icon:jt,zIndexOffset:900}).addTo(lt.current).bindPopup(`<b>${Fe.nome}</b><br>Status: ${Fe.status}<br>Atualizado: ${new Date(Fe.ultimoUpdate).toLocaleTimeString()}`);Xe.current.push(dt)}),t.filter(Fe=>(Fe.status==="PENDENTE"||Fe.status==="EM_ANDAMENTO")&&Fe.latitude).forEach(Fe=>{const dt=`
             <div style="background-color:${Fe.status==="PENDENTE"?"#f59e0b":"#3b82f6"}; width:24px; height:24px; border-radius:50%; border:2px solid white; display:flex; align-items:center; justify-content:center; box-shadow: 0 2px 5px rgba(0,0,0,0.2);">
                <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><line x1="16.5" y1="9.4" x2="7.5" y2="4.21"></line><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line></svg>
             </div>
           `,Rt=gs.divIcon({html:dt,className:"dot-icon",iconSize:[24,24],iconAnchor:[12,12]}),Ht=gs.marker([Fe.latitude,Fe.longitude],{icon:Rt}).addTo(lt.current).bindPopup(`<b>${Fe.clienteNome}</b><br>O.S #${Fe.numeroOs}<br>Status: ${Fe.status}`);$t.current.push(Ht)})),requestAnimationFrame(()=>on.current())}},[s,t,r]);const mn=Fe=>Number(Fe||0).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),en=$.useMemo(()=>{const Fe=t.filter(Rt=>Rt.status==="CONCLUIDA"||Rt.statusEntrega==="CONCLUIDA");let yt=0,jt=0,dt=0;return Fe.forEach(Rt=>{const Ht=Number(Rt.total??0)||0,Qn=Number(Rt.delivery_fee??Rt.deliveryFee??0)||0,bt=Math.max(0,Ht-Qn);yt+=bt,jt+=Qn,dt+=Ht}),{productRevenue:yt,deliveryFees:jt,totalRevenue:dt,count:Fe.length}},[t]);return o.jsxs("div",{className:"fixed inset-0 bg-app z-50 flex flex-col animate-in slide-in-from-bottom-4 duration-300",children:[o.jsxs("div",{className:"bg-surface border-b border-bdr px-6 py-4 flex flex-col sm:flex-row justify-between items-start sm:items-center shadow-sm shrink-0 gap-4 transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"bg-orange-500/10 p-2.5 rounded-xl border border-orange-500/20",children:o.jsx(Ko,{className:"w-6 h-6 text-orange-600"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-black text-txt-main tracking-tight",children:"Monitoramento Logstico"}),o.jsx("p",{className:"text-xs text-txt-muted font-bold uppercase tracking-widest",children:"Rastreamento e Zonas de Calor"})]})]}),o.jsx("div",{className:"flex items-center gap-3",children:o.jsx("button",{onClick:e,className:"p-2 hover:bg-red-500/10 text-txt-muted hover:text-red-500 rounded-full transition-colors",children:o.jsx(zi,{className:"w-6 h-6"})})})]}),o.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col md:flex-row",children:[o.jsxs("div",{className:"w-full md:w-96 overflow-y-auto p-4 space-y-4 border-r border-bdr bg-app/20",children:[o.jsx("div",{className:"bg-surface border border-bdr rounded-xl overflow-hidden shadow-sm",children:o.jsxs("div",{className:"grid grid-cols-2",children:[o.jsx("button",{onClick:()=>h("map"),className:`py-3 text-xs font-black uppercase transition-colors ${d==="map"?"bg-emerald-500 text-white":"bg-app text-txt-muted hover:bg-surface"}`,children:"Modo Mapa/Global"}),o.jsx("button",{onClick:()=>h("pricing"),className:`py-3 text-xs font-black uppercase transition-colors ${d==="pricing"?"bg-blue-500 text-white":"bg-app text-txt-muted hover:bg-surface"}`,children:"Modo Precificao"})]})}),d==="map"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-surface p-4 rounded-xl border border-bdr shadow-sm",children:[o.jsx("h4",{className:"text-xs font-black text-txt-muted uppercase mb-3",children:"Visualizao"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:()=>c("realtime"),className:`flex-1 py-2 rounded-lg text-xs font-bold uppercase flex flex-col items-center gap-1 transition-all ${s==="realtime"?"bg-orange-500 text-white shadow-md":"bg-app text-txt-muted hover:bg-surface border border-bdr"}`,children:[o.jsx(Qm,{className:"w-4 h-4"})," Tempo Real"]}),o.jsxs("button",{onClick:()=>c("heatmap"),className:`flex-1 py-2 rounded-lg text-xs font-bold uppercase flex flex-col items-center gap-1 transition-all ${s==="heatmap"?"bg-red-600 text-white shadow-md":"bg-app text-txt-muted hover:bg-surface border border-bdr"}`,children:[o.jsx(g3,{className:"w-4 h-4"})," Mapa de Calor"]})]})]}),o.jsxs("div",{className:"bg-surface p-4 rounded-xl border border-bdr shadow-sm space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Lc,{className:"w-4 h-4 text-blue-500"}),o.jsx("h4",{className:"text-xs font-black text-txt-muted uppercase",children:"Buscar Local"})]}),o.jsx("input",{type:"text",value:oe,onChange:Fe=>me(Fe.target.value),onKeyDown:Fe=>Fe.key==="Enter"&&Vt(),placeholder:"Ex: Centro, Vila Aurora...",className:"w-full h-9 rounded-lg border border-bdr bg-app px-3 text-sm text-txt-main"}),o.jsx("button",{onClick:Vt,disabled:_e,className:"w-full h-9 rounded-lg bg-blue-500 hover:bg-blue-600 text-white text-xs font-black uppercase disabled:opacity-60",children:_e?"Buscando...":"Buscar"}),Ce&&o.jsx("p",{className:"text-xs text-red-500",children:Ce}),te&&o.jsx("p",{className:"text-xs text-amber-500",children:te})]}),o.jsxs("div",{className:"bg-surface p-4 rounded-xl border border-bdr shadow-sm space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between gap-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ou,{className:"w-4 h-4 text-emerald-500"}),o.jsx("h4",{className:"text-xs font-black text-txt-muted uppercase",children:"Zonas"})]}),o.jsx("button",{onClick:rn,className:"text-[11px] font-black uppercase px-3 py-1.5 rounded-lg bg-app border border-bdr hover:bg-surface text-txt-main",children:"Nova zona"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-[11px] font-bold text-txt-muted uppercase",children:"Depsito (opcional p/ preo)"}),o.jsxs("select",{value:ce??"",onChange:Fe=>Y(Fe.target.value||null),className:"w-full h-9 rounded-lg border border-bdr bg-app px-3 text-sm text-txt-main",children:[o.jsx("option",{value:"",children:"Selecione um depsito..."}),(Ve??[]).map(Fe=>o.jsx("option",{value:Fe.id,children:Fe.nome},Fe.id))]}),o.jsx("p",{className:"text-[11px] text-txt-muted",children:"Zonas so globais; preos so por depsito."})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between text-[11px] font-bold text-txt-muted uppercase",children:[o.jsx("span",{children:"Zonas cadastradas"}),o.jsx("span",{className:"text-xs text-txt-main",children:(ue==null?void 0:ue.length)??0})]}),o.jsxs("div",{className:"max-h-48 overflow-y-auto space-y-2",children:[(ue??[]).length===0&&o.jsx("div",{className:"text-xs text-txt-muted italic",children:"Nenhuma zona cadastrada."}),(ue??[]).slice().sort((Fe,yt)=>Fe.name.localeCompare(yt.name)).map(Fe=>{var Rt;const yt=(Rt=Ot.get(ce||""))==null?void 0:Rt.get(Fe.id),jt=yt!==void 0?`R$ ${Number(yt||0).toFixed(2)}`:"Sem preo",dt=f===Fe.id;return o.jsxs("button",{onClick:()=>{g(Fe.id===f?null:Fe.id);const Ht=$u(Fe.map_polygon);z(Ht),Fe.id!==f&&xt(Ht)},className:`w-full flex items-center gap-2 px-3 py-2 rounded-lg border text-left transition-colors ${dt?"border-emerald-500 bg-emerald-500/10":"border-bdr bg-app hover:bg-surface"}`,children:[o.jsx("span",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:Fe.color||"#f97316"}}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm font-bold text-txt-main leading-tight",children:Fe.name}),o.jsx("p",{className:"text-[11px] text-txt-muted",children:jt})]})]},Fe.id)})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{className:"space-y-1.5",children:[o.jsx("label",{className:"text-[11px] font-bold text-txt-muted uppercase",children:"Nome da zona"}),o.jsx("input",{value:w,onChange:Fe=>I(Fe.target.value),className:"w-full h-9 rounded-lg border border-bdr bg-app px-3 text-sm text-txt-main",placeholder:"Ex: Centro 1"})]}),o.jsxs("div",{className:"space-y-1.5",children:[o.jsx("label",{className:"text-[11px] font-bold text-txt-muted uppercase",children:"Cor"}),o.jsx("input",{type:"color",value:j,onChange:Fe=>F(Fe.target.value),className:"w-full h-9 rounded-lg border border-bdr bg-app px-2"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-[11px] font-bold text-txt-muted uppercase",children:"Preo para o depsito selecionado"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{value:ge,onChange:Fe=>re(Fe.target.value),disabled:!ce,className:"flex-1 h-9 rounded-lg border border-bdr bg-app px-3 text-sm text-txt-main disabled:opacity-50",placeholder:"R$ 0,00"}),o.jsx("button",{onClick:()=>re(""),className:"px-3 h-9 text-[11px] font-black uppercase rounded-lg border border-bdr bg-app hover:bg-surface",children:"Limpar"})]}),o.jsx("p",{className:"text-[11px] text-txt-muted",children:'Desenhe/edite a rea no mapa  direita. Clique em "Salvar zona" para gravar rea e preo.'})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:dn,disabled:D,className:"flex-1 h-10 rounded-lg bg-emerald-500 hover:bg-emerald-600 text-white font-black uppercase text-xs tracking-widest disabled:opacity-60",children:D?"Salvando...":"Salvar zona"}),o.jsx("button",{onClick:rn,className:"flex-1 h-10 rounded-lg border border-bdr bg-app hover:bg-surface text-txt-main font-black uppercase text-xs tracking-widest",children:"Cancelar"})]})]}),f&&o.jsxs("div",{className:"bg-surface p-4 rounded-xl border border-bdr shadow-sm space-y-3",children:[o.jsx("h4",{className:"text-xs font-black text-txt-muted uppercase",children:"Setores"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{value:ie,onChange:Fe=>O(Fe.target.value),onKeyDown:Fe=>Fe.key==="Enter"&&Mn(),placeholder:"Nome do setor",className:"flex-1 h-9 rounded-lg border border-bdr bg-app px-3 text-sm text-txt-main"}),o.jsx("button",{onClick:Mn,disabled:!ie.trim(),className:"px-3 h-9 rounded-lg bg-blue-500 hover:bg-blue-600 text-white disabled:opacity-50",children:o.jsx(wo,{className:"w-4 h-4"})})]}),Tn.length===0?o.jsx("p",{className:"text-xs text-txt-muted italic",children:"Nenhum setor"}):o.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:Tn.map(Fe=>o.jsxs("div",{className:"flex items-center justify-between px-3 py-2 rounded-lg bg-app border border-bdr",children:[o.jsx("span",{className:"text-sm text-txt-main",children:Fe.name}),o.jsx("button",{onClick:()=>_n(Fe.id),className:"p-1 hover:bg-red-500/10 text-txt-muted hover:text-red-500 rounded transition-colors",children:o.jsx(oo,{className:"w-3.5 h-3.5"})})]},Fe.id))})]}),ce&&o.jsxs("div",{className:"bg-surface p-4 rounded-xl border border-bdr shadow-sm space-y-3",children:[o.jsx("h4",{className:"text-xs font-black text-txt-muted uppercase",children:"Frete Grtis"}),o.jsxs("p",{className:"text-xs text-txt-muted",children:["Valor mnimo para frete grtis em ",o.jsx("b",{children:(En==null?void 0:En.nome)??"depsito"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"text",value:V,onChange:Fe=>W(Fe.target.value),placeholder:"R$ 0,00",className:"flex-1 h-9 rounded-lg border border-bdr bg-app px-3 text-sm text-txt-main"}),o.jsx("button",{onClick:jn,className:"px-4 h-9 rounded-lg bg-emerald-500 hover:bg-emerald-600 text-white text-xs font-black uppercase",children:"Salvar"})]})]}),o.jsxs("div",{className:"bg-surface p-4 rounded-xl border border-bdr shadow-sm",children:[o.jsx("h4",{className:"text-xs font-black text-txt-muted uppercase mb-3",children:"Relatorio Financeiro"}),o.jsxs("div",{className:"space-y-2 text-xs",children:[o.jsxs("div",{className:"flex items-center justify-between text-txt-muted",children:[o.jsx("span",{children:"Produtos"}),o.jsx("span",{className:"font-bold text-txt-main",children:mn(en.productRevenue)})]}),o.jsxs("div",{className:"flex items-center justify-between text-txt-muted",children:[o.jsx("span",{children:"Taxas de entrega"}),o.jsx("span",{className:"font-bold text-orange-500",children:mn(en.deliveryFees)})]}),o.jsxs("div",{className:"flex items-center justify-between text-txt-muted",children:[o.jsx("span",{children:"Total"}),o.jsx("span",{className:"font-black text-emerald-600",children:mn(en.totalRevenue)})]})]}),o.jsxs("p",{className:"text-[10px] text-txt-muted mt-3",children:["Baseado em O.S finalizadas/entregues (",en.count,")."]})]}),o.jsxs("div",{className:"bg-surface p-4 rounded-xl border border-bdr shadow-sm",children:[o.jsx("h4",{className:"text-xs font-black text-txt-muted uppercase mb-3",children:"Entregadores Ativos"}),o.jsx("div",{className:"space-y-2",children:r.length===0?o.jsx("p",{className:"text-xs text-txt-muted italic text-center py-4",children:"Nenhum entregador online"}):r.map(Fe=>o.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg bg-app border border-bdr",children:[o.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-bold text-txt-main leading-tight",children:Fe.nome}),o.jsxs("p",{className:"text-[10px] text-txt-muted",children:["ltimo sinal: ",new Date(Fe.ultimoUpdate).toLocaleTimeString()]})]})]},Fe.driverId))})]})]}),d==="pricing"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-surface p-4 rounded-xl border border-bdr shadow-sm space-y-3",children:[o.jsx("h4",{className:"text-sm font-black text-txt-main uppercase",children:"Precificao por Zona"}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-xs font-bold text-txt-muted uppercase",children:"Selecione o Depsito"}),o.jsxs("select",{value:ce??"",onChange:Fe=>Y(Fe.target.value||null),className:"w-full h-9 rounded-lg border border-bdr bg-app px-3 text-sm text-txt-main",children:[o.jsx("option",{value:"",children:"-- Selecione --"}),(Ve??[]).map(Fe=>o.jsx("option",{value:Fe.id,children:Fe.nome},Fe.id))]})]}),!ce&&o.jsx("div",{className:"text-xs text-amber-500 bg-amber-500/10 p-2 rounded border border-amber-500/20",children:" Selecione um depsito para editar preos."}),ce&&ue&&ue.length>0&&o.jsx("div",{className:"space-y-2",children:ue.map(Fe=>{var yt;return o.jsxs("div",{className:"flex flex-col gap-3 bg-app border border-bdr rounded-xl px-3 py-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"w-3 h-3 rounded-full border border-bdr",style:{backgroundColor:Fe.color||"#f97316"}}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"text-sm font-black text-txt-main",children:Fe.name}),o.jsxs("div",{className:"text-[11px] text-txt-muted",children:["Atual:"," ",cn.get(Fe.id)?`R$ ${Number(((yt=cn.get(Fe.id))==null?void 0:yt.price)||0).toFixed(2)}`:"Sem preo"]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("span",{className:"text-xs text-txt-muted font-bold",children:"R$"}),o.jsx("input",{type:"text",value:M[Fe.id]??"",onChange:jt=>X({...M,[Fe.id]:jt.target.value}),placeholder:"0,00",className:"w-20 h-8 rounded-lg border border-bdr bg-app px-2 text-sm text-txt-main"})]}),o.jsx("button",{onClick:()=>hn(Fe.id),className:"flex-1 h-8 rounded-lg bg-emerald-500 hover:bg-emerald-600 text-white text-xs font-black uppercase",children:"Salvar"}),o.jsx("button",{onClick:()=>un(Fe.id),className:"h-8 px-2 rounded-lg border border-red-500/30 bg-red-500/10 hover:bg-red-500/20 text-red-500",children:o.jsx(oo,{className:"w-4 h-4"})})]})]},Fe.id)})})]}),ce&&o.jsxs("div",{className:"bg-surface p-4 rounded-xl border border-bdr shadow-sm space-y-3",children:[o.jsx("h4",{className:"text-xs font-black text-txt-muted uppercase",children:"Frete Grtis"}),o.jsxs("p",{className:"text-xs text-txt-muted",children:["Valor mnimo para frete grtis em ",o.jsx("b",{children:(En==null?void 0:En.nome)??"depsito"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"text",value:V,onChange:Fe=>W(Fe.target.value),placeholder:"R$ 0,00",className:"flex-1 h-9 rounded-lg border border-bdr bg-app px-3 text-sm text-txt-main"}),o.jsx("button",{onClick:jn,className:"px-4 h-9 rounded-lg bg-emerald-500 hover:bg-emerald-600 text-white text-xs font-black uppercase",children:"Salvar"})]})]})]})]}),o.jsxs("div",{className:"flex-1 bg-surface border-l border-bdr relative overflow-hidden",children:[o.jsxs(mb,{center:[t5.lat,t5.lng],zoom:12,minZoom:3,maxZoom:19,className:"w-full h-full z-0",whenCreated:Fe=>{lt.current=Fe,on.current=()=>Fe.invalidateSize(),requestAnimationFrame(()=>Fe.invalidateSize())},children:[o.jsx(PH,{}),o.jsx(vb,{attribution:" OSM contributors",url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",crossOrigin:!0}),o.jsx(O5,{name:"all-zones",style:{zIndex:300},children:(ue??[]).map(Fe=>{const yt=$u(Fe.map_polygon);if(!yt)return null;const jt=Fe.color||"#f97316",dt=Fe.id===f;return o.jsx(gb,{positions:yt,pathOptions:{color:jt,fillColor:jt,fillOpacity:dt?.25:.12,weight:dt?3:1,dashArray:dt?void 0:"4 6",className:"cursor-pointer"},eventHandlers:{click:()=>{g(Fe.id===f?null:Fe.id),z(yt),Fe.id!==f&&xt(yt)}},children:o.jsx(xb,{sticky:!0,children:Fe.name})},Fe.id)})}),o.jsx(F5,{ref:xe,children:o.jsx(qb,{position:"topright",onCreated:Fe=>{const dt=Fe.layer.getLatLngs().map(Rt=>Rt.map(Ht=>[Ht.lat,Ht.lng])).filter(Rt=>Rt.length>2);z(dt),g(null),xt(dt)},onEdited:Fe=>{const yt=Fe.layers;let jt=null;yt.eachLayer(dt=>{jt=dt.getLatLngs().map(Ht=>Ht.map(Qn=>[Qn.lat,Qn.lng])).filter(Ht=>Ht.length>2)}),z(jt),xt(jt)},onDeleted:()=>{z(null)},draw:{polygon:{shapeOptions:{color:j,fillColor:j,fillOpacity:.3,weight:2}},rectangle:{shapeOptions:{color:j,fillColor:j,fillOpacity:.3,weight:2}},polyline:!1,circle:!1,marker:!1,circlemarker:!1},edit:{edit:{selectedPathOptions:{color:j,fillColor:j,fillOpacity:.25,weight:2}},remove:{}}})})]}),o.jsxs("div",{className:"absolute bottom-6 right-6 bg-white/90 backdrop-blur px-4 py-3 rounded-xl border border-bdr shadow-xl text-xs font-medium text-txt-muted max-w-xs text-right z-[1000] pointer-events-none",children:[o.jsxs("p",{className:"font-black text-txt-main flex items-center justify-end gap-2 mb-1",children:[o.jsx(Ab,{className:"w-3 h-3 text-emerald-500"}),"OpenStreetMap"]}),o.jsx("p",{className:"opacity-80",children:s==="realtime"?"Mostrando frota em tempo real":"Densidade de entregas histricas"})]})]})]})]})},Rp={lat:-17.7915,lng:-50.9197},dh="Rio Verde, GO",Pp={south:-18.347,north:-17.0898436,west:-51.7307464,east:-50.3568883},Yu={error:e=>alert(e),success:e=>alert(e)},zH=()=>{const e=gs.GeometryUtil;if(!e||e._gpReadableAreaPatched)return;e._gpReadableAreaPatched=!0;const t={km:2,ha:2,m:0,mi:2,ac:2,yd:0,ft:0,nm:2};e.readableArea=(n,r,i)=>{const s=gs.Util.extend({},t,i);let c=["ha","m"];const d=typeof r;if(r)return d==="string"?c=[r]:d!=="boolean"&&(c=r),n>=1e6&&c.indexOf("km")!==-1?`${e.formattedNumber(n/1e6,s.km)} km2`:n>=1e4&&c.indexOf("ha")!==-1?`${e.formattedNumber(n/1e4,s.ha)} ha`:`${e.formattedNumber(n,s.m)} m2`;const h=n/.836127;return h>=3097600?`${e.formattedNumber(h/3097600,s.mi)} mi2`:h>=4840?`${e.formattedNumber(h/4840,s.ac)} acres`:`${e.formattedNumber(h,s.yd)} yd2`}},pd=e=>{if(!e)return null;if(Array.isArray(e)&&e.length>=2){const t=Number(e[0]),n=Number(e[1]);return Number.isFinite(t)&&Number.isFinite(n)?[t,n]:null}if(typeof e=="object"){const t=Number(e.lat??e.latitude),n=Number(e.lng??e.lon??e.longitude);if(Number.isFinite(t)&&Number.isFinite(n))return[t,n]}return null},Zv=e=>{if(!e)return null;let t=e;if(typeof t=="string")try{t=JSON.parse(t)}catch{return null}if(t&&typeof t=="object"&&!Array.isArray(t)){const i=t,s=i.type==="Feature"?i.geometry:i,c=Kb(s);return c&&c.length?c:null}if(!Array.isArray(t)||t.length===0)return null;if(pd(t[0])){const i=t.map(pd).filter(Boolean);return i.length?[i]:null}const r=[];for(const i of t){if(!Array.isArray(i))continue;const s=i.map(pd).filter(Boolean);s.length&&r.push(s)}return r.length?r:null},i5=e=>{if(!Array.isArray(e)||e.length===0)return[];if(pd(e[0])){const r=e.map(pd).filter(Boolean);return r.length?[r]:[]}const n=[];for(const r of e){if(!Array.isArray(r))continue;const i=r.map(pd).filter(Boolean);i.length&&n.push(i)}return n},Kb=e=>{if(!e||typeof e!="object")return null;const t=e.coordinates;if(!Array.isArray(t)||t.length===0)return null;if(e.type==="Polygon")return t.map(n=>Array.isArray(n)?n.map(r=>[Number(r[1]),Number(r[0])]):[]).filter(n=>n.length>0);if(e.type==="MultiPolygon"){const n=t[0];return Array.isArray(n)?n.map(r=>Array.isArray(r)?r.map(i=>[Number(i[1]),Number(i[0])]):[]).filter(r=>r.length>0):null}return null},a5=e=>{if(!e||!e.length)return[];const t=e[0]||[];return t.length?t:[]},s5=e=>{if(e.length<2)return e;const t=e[0],n=e[e.length-1];return t[0]===n[0]&&t[1]===n[1]?e:[...e,t]},o5=e=>{let t=1/0,n=-1/0,r=1/0,i=-1/0;for(const[s,c]of e)t=Math.min(t,s),n=Math.max(n,s),r=Math.min(r,c),i=Math.max(i,c);return{minLat:t,maxLat:n,minLng:r,maxLng:i}},qH=(e,t)=>e.minLat<=t.maxLat&&e.maxLat>=t.minLat&&e.minLng<=t.maxLng&&e.maxLng>=t.minLng,Hp=(e,t,n)=>{const r=(t[0]-e[0])*(n[1]-t[1])-(t[1]-e[1])*(n[0]-t[0]);return r===0?0:r>0?1:2},zp=(e,t,n)=>t[1]<=Math.max(e[1],n[1])&&t[1]>=Math.min(e[1],n[1])&&t[0]<=Math.max(e[0],n[0])&&t[0]>=Math.min(e[0],n[0]),KH=(e,t,n,r)=>{const i=Hp(e,t,n),s=Hp(e,t,r),c=Hp(n,r,e),d=Hp(n,r,t);return!!(i!==s&&c!==d||i===0&&zp(e,n,t)||s===0&&zp(e,r,t)||c===0&&zp(n,e,r)||d===0&&zp(n,t,r))},l5=(e,t)=>{let n=!1;const r=e[1],i=e[0];for(let s=0,c=t.length-1;s<t.length;c=s++){const d=t[s][1],h=t[s][0],f=t[c][1],g=t[c][0];h>i!=g>i&&r<(f-d)*(i-h)/(g-h)+d&&(n=!n)}return n},GH=(e,t)=>{const n=s5(a5(e)),r=s5(a5(t));if(n.length<3||r.length<3)return!1;const i=o5(n),s=o5(r);if(!qH(i,s))return!1;for(let c=0;c<n.length-1;c++){const d=n[c],h=n[c+1];for(let f=0;f<r.length-1;f++){const g=r[f],x=r[f+1];if(KH(d,h,g,x))return!0}}return!!(l5(n[0],r)||l5(r[0],n))},rb=new Set(["neighbourhood","suburb","quarter","city_district","borough"]),VH=new Set(["amenity","tourism","shop","building","highway","leisure","natural"]),ZH=new Set(["bairro","setor","zona","distrito","regiao","vila","jardim","loteamento","condominio"]),$H=new Set(["bairro","setor","zona","distrito","regiao","rua","avenida","av","praca","praa","vila","jardim","jd","loteamento","condominio","condominio","cidade","municipio","municipio"]),RA=e=>e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),HE=e=>{const t=(e==null?void 0:e.address)??{};return t.city??t.town??t.village??t.hamlet??t.locality??t.municipality??t.county??""},A5=e=>{var n;const t=((n=String(e||"").split(",")[0])==null?void 0:n.trim())||"";return RA(t)},YH=e=>RA(e).split(/[^a-z0-9]+/g).map(n=>n.trim()).filter(n=>n.length>2&&!$H.has(n)),XH=e=>{const t=RA(e);for(const n of ZH)if(t.includes(n))return!0;return!1},JH=(e,t)=>{if(!t.length)return!0;const n=(e==null?void 0:e.address)??{},r=RA([e==null?void 0:e.name,e==null?void 0:e.display_name,n.neighbourhood,n.suburb,n.quarter,n.city_district,n.borough,n.locality].filter(Boolean).join(" "));return t.every(i=>r.includes(i))},WH=(e,t)=>t?RA(String(HE(e)||"")).includes(t):!0,e7=(e,t,n)=>{var h;if(!Array.isArray(e)||e.length===0)return null;const r=RA(t),i=((h=RA(n).split(",")[0])==null?void 0:h.trim())||"",s=e.map(f=>{const g=!!Kb(f==null?void 0:f.geojson),x=(f==null?void 0:f.class)==="boundary"||(f==null?void 0:f.type)==="administrative",E=(f==null?void 0:f.class)==="place"&&rb.has(f==null?void 0:f.type),w=VH.has(f==null?void 0:f.class),I=Number((f==null?void 0:f.importance)??(f==null?void 0:f.place_rank)??0)||0,j=RA(String(HE(f)||""));let F=I;return g&&(F+=5),x&&(F+=6),E&&(F+=4),(f==null?void 0:f.class)==="place"&&(f==null?void 0:f.type)==="neighbourhood"&&(F+=2),w&&(F-=4),i&&j&&(j.includes(i)?F+=2:F-=2),r&&RA(String((f==null?void 0:f.display_name)||"")).includes(r)&&(F+=1),{item:f,score:F,hasPolygon:g,isBoundary:x,isPlace:E}}),c=s.filter(f=>f.hasPolygon&&(f.isBoundary||f.isPlace));if(c.length)return c.sort((f,g)=>g.score-f.score),c[0].item;const d=s.filter(f=>f.hasPolygon);return d.length?(d.sort((f,g)=>g.score-f.score),d[0].item):(s.sort((f,g)=>g.score-f.score),s[0].item)},t7=({enabled:e,points:t})=>{const n=_d(),r=$.useRef(null);return $.useEffect(()=>{const i=gs.heatLayer;if(!e||!i){r.current&&(n.removeLayer(r.current),r.current=null);return}if(r.current&&(n.removeLayer(r.current),r.current=null),!!t.length)return r.current=i(t,{radius:22,blur:16,maxZoom:17}).addTo(n),()=>{r.current&&(n.removeLayer(r.current),r.current=null)}},[e,t,n]),null},n7=()=>{const e=_d();return $.useEffect(()=>{const t=()=>{var h;const d=(h=e.getContainer)==null?void 0:h.call(e);!d||!d.isConnected||e._loaded&&e.invalidateSize()};e.whenReady(()=>t()),requestAnimationFrame(t);const n=setTimeout(t,200),r=setTimeout(t,800),i=()=>t();window.addEventListener("resize",i);let s=null;const c=e.getContainer();return typeof ResizeObserver<"u"&&c&&(s=new ResizeObserver(()=>t()),s.observe(c)),()=>{clearTimeout(n),clearTimeout(r),window.removeEventListener("resize",i),s&&s.disconnect()}},[e]),null},r7=({mapRef:e})=>{const t=_d();return $.useEffect(()=>{e.current=t},[t,e]),null},i7=({onClose:e})=>{var Oi;const t=Er(()=>{var ze;return(ze=Le.delivery_zones)==null?void 0:ze.toArray()},[]),n=Er(()=>{var ze;return(ze=Le.delivery_zones)==null?void 0:ze.toArray()},[]),r=Er(()=>{var ze;return(ze=Le.deposits)==null?void 0:ze.toArray()},[]),i=Er(()=>{var ze;return(ze=Le.zone_pricing)==null?void 0:ze.toArray()},[]),s=t??[],c=n??[],d=r??[],h=i??[],f=t===void 0||n===void 0||r===void 0||i===void 0,[g,x]=$.useState("map"),[E,w]=$.useState(""),[I,j]=$.useState("0"),[F,S]=$.useState(""),[z,D]=$.useState(!1),[G,ce]=$.useState({name:"",color:"#f97316"}),[Y,ge]=$.useState(""),[re,M]=$.useState({}),[X,V]=$.useState(""),[W,oe]=$.useState(null),[me,ye]=$.useState(null),[se,_e]=$.useState(!1),[Z,Ce]=$.useState(""),[Se,te]=$.useState(dh),[P,ie]=$.useState(null),[O,ae]=$.useState(null),[ue,je]=$.useState(!1),[Ve,Ie]=$.useState(null),[lt,wt]=$.useState(!1),[Xe,$t]=$.useState(!1),on=Er(()=>{var ze;return(ze=Le.service_orders)==null?void 0:ze.toArray()},[]),xe=$.useRef(null),Ot=$.useRef(null);$.useEffect(()=>{zH()},[]),$.useEffect(()=>{!F&&s.length>0&&!z&&S(s[0].id)},[s,F,z]),$.useEffect(()=>{const ze=d.find(gn=>gn.id===E);if(!ze)return;const st=ze.free_shipping_min_value??ze.freeShippingMinValue??ze.freeShippingMin??0;j(String(Number(st)||0))},[d,E]),$.useEffect(()=>{const ze=s.find(gn=>gn.id===F);if(!ze){z||(Ie(null),wt(!1),Ot.current&&Ot.current.clearLayers());return}ce({id:ze.id,name:ze.name,color:ze.color??"#f97316",depositoId:ze.depositoId??null});const st=Zv(ze.map_polygon);Ie(st),wt(!1),bt(st,!0,ze.color??"#f97316")},[s,F,z]);const rn=s.find(ze=>ze.id===F)||null,dn=d.find(ze=>ze.id===E)||null,xt=$.useMemo(()=>c.filter(ze=>ze.zone_id===F),[c,F]),nn=$.useMemo(()=>s.filter(ze=>ze.id!==F),[s,F]),Vt=$.useMemo(()=>Zv(rn==null?void 0:rn.map_polygon),[rn]),un=((Oi=G.name)==null?void 0:Oi.trim())??"",hn=G.color||"#f97316",jn=!z&&!!rn,Mn=jn?rn:{},_n=jn&&Number((rn==null?void 0:rn.fee)??0)||0,En=jn?Vt??(rn==null?void 0:rn.map_polygon)??null:null,Tn={fee:_n,...Mn,...G,map_polygon:En};G.id&&String(re[G.id]??"").replace(",",".");const cn=$.useMemo(()=>{const ze=Date.now()-2592e6;return(on??[]).filter(st=>Number((st==null?void 0:st.dataHoraCriacao)??0)>=ze).map(st=>[Number(st.latitude),Number(st.longitude),.8]).filter(st=>Number.isFinite(st[0])&&Number.isFinite(st[1]))},[on]),mn=$.useMemo(()=>{const ze=new Map;if(!E)return ze;for(const st of h)st.depositoId===E&&ze.set(st.zone_id,st);return ze},[h,E]),en=F&&E?mn.get(F):null;en==null||en.price,$.useEffect(()=>{if(!E){M({});return}const ze={};for(const st of s){const gn=mn.get(st.id);ze[st.id]=gn?String(gn.price??0):""}M(ze),oe(null)},[E,s,mn]);const Fe=(rn==null?void 0:rn.name)||(z?"Nova zona":"Nenhuma zona selecionada"),yt=G.color||(rn==null?void 0:rn.color)||"#f97316",jt=$.useMemo(()=>({color:yt,fillColor:yt,fillOpacity:.3,weight:2}),[yt]),dt=Ve?lt?"definida (nao salva)":"definida":"nao definida",Rt=E?en?`R$ ${Number(en.price||0).toFixed(2)}`:"Sem preco definido":"Selecione um deposito",Ht=$.useMemo(()=>s.filter(ze=>ze.id!==F).map(ze=>({id:ze.id,name:ze.name,color:ze.color||"#f97316",polygon:Zv(ze.map_polygon)})).filter(ze=>ze.polygon),[s,F]),Qn=$.useMemo(()=>{const ze=Ve??Vt??null;return ze?Ht.filter(st=>GH(ze,st.polygon)).map(st=>st.name):[]},[Ve,Vt,Ht]),bt=(ze,st,gn)=>{if(!Ot.current||(Ot.current.clearLayers(),!ze||ze.length===0))return;const ur=gn||yt,Kn=gs.polygon(ze,{color:ur,fillColor:ur,fillOpacity:.3});Ot.current.addLayer(Kn),st&&xe.current&&xe.current.fitBounds(Kn.getBounds(),{padding:[24,24]})},kn=async()=>{const ze=Z.trim();if(!(!ze||!xe.current)){je(!0),ie(null),ae(null);try{const st=Se.trim()||dh,gn=A5(st),ur=A5(dh),{data:Kn}=await Pa.get("https://nominatim.openstreetmap.org/search",{params:{format:"jsonv2",q:`${ze}, ${st}`,polygon_geojson:1,addressdetails:1,limit:8,dedupe:1,countrycodes:"br",...gn===ur?{viewbox:`${Pp.west},${Pp.north},${Pp.east},${Pp.south}`,bounded:1}:{}},headers:{"Accept-Language":"pt-BR"}}),Wn=Array.isArray(Kn)?Kn:[],Ar=gn?Wn.filter(Et=>WH(Et,gn)):Wn,Jr=YH(ze),kr=XH(ze),Yr=Ar.filter(Et=>{const sn=(Et==null?void 0:Et.class)==="boundary"||(Et==null?void 0:Et.type)==="administrative",Bn=(Et==null?void 0:Et.class)==="place"&&rb.has(Et==null?void 0:Et.type);return sn||Bn}),Wr=Jr.length?Yr.filter(Et=>JH(Et,Jr)):Yr,bi=kr?Wr.length?Wr:Yr:Ar;if(!bi.length){ae("Sem limites oficiais do bairro no alcance. Desenhe a area manualmente."),xe.current.flyTo([Rp.lat,Rp.lng],12);return}const Jn=e7(bi,ze,st);if(!Jn){ie("Nenhum resultado dentro do alcance.");return}const ba=Number(Jn==null?void 0:Jn.lat),gr=Number(Jn==null?void 0:Jn.lon);if(!Number.isFinite(ba)||!Number.isFinite(gr)){ie("Localizacao nao encontrada.");return}const Bi=(Jn==null?void 0:Jn.class)==="boundary"||(Jn==null?void 0:Jn.type)==="administrative",le=(Jn==null?void 0:Jn.class)==="place"&&rb.has(Jn==null?void 0:Jn.type),Lt=Bi||le;let Qt=Lt?Kb(Jn==null?void 0:Jn.geojson):null;if(!Qt&&Lt&&Array.isArray(Jn==null?void 0:Jn.boundingbox)&&Jn.boundingbox.length===4){const Et=Number(Jn.boundingbox[0]),sn=Number(Jn.boundingbox[1]),Bn=Number(Jn.boundingbox[2]),ke=Number(Jn.boundingbox[3]);[Et,sn,Bn,ke].every(Number.isFinite)&&(Qt=[[[Et,Bn],[Et,ke],[sn,ke],[sn,Bn],[Et,Bn]]])}!F&&!z&&(D(!0),G.name||ce({...G,name:ze})),Qt?(Ie(Qt),wt(!0),bt(Qt,!0,yt)):(xe.current.flyTo([ba,gr],15),ae("Endereco encontrado, mas sem limite do bairro. Desenhe a area manualmente."))}catch{ie("Falha ao buscar local.")}finally{je(!1)}}},jr=ze=>{const st=ze.layer;Ot.current&&(Ot.current.clearLayers(),Ot.current.addLayer(st));const gn=i5(st.getLatLngs());if(Ie(gn.length?gn:null),wt(!0),gn.length&&xe.current){const ur=gs.polygon(gn).getBounds();xe.current.fitBounds(ur,{padding:[24,24]})}},Hn=ze=>{let st=null;ze.layers.eachLayer(gn=>{const ur=i5(gn.getLatLngs());ur.length&&(st=ur)}),st&&(Ie(st),wt(!0))},wn=()=>{Ie(null),wt(!0)};$.useEffect(()=>{Ot.current&&Ot.current.eachLayer(ze=>{ze!=null&&ze.setStyle&&ze.setStyle({color:yt,fillColor:yt,fillOpacity:.3})})},[yt]),$.useEffect(()=>{xe.current&&bt(Ve??Vt??null,!1)},[Ve,Vt]);const cr=async()=>{const ze=d.find(ur=>ur.id===E);if(!ze)return;const st=Number(I||0)||0,gn={...ze,free_shipping_min_value:st};await ng(gn)},qi=async()=>{if(!un)return Yu.error("Nome da zona  obrigatrio");const ze=Ve||En;if(!ze)return Yu.error("Desenhe a rea da zona no mapa antes de salvar");_e(!0);try{const st=Tn.id||crypto.randomUUID(),gn={id:st,name:un,color:hn,depositoId:null,map_polygon:ze};let ur=null;if(E){const Wn=!Tn.id?String(X||"").replace(",",".").trim():String(re[st]??"").replace(",",".").trim(),Ar=Number(Wn)||0;Ar>0&&(ur={id:`${E}:${st}`,zone_id:st,depositoId:E,price:Ar})}await Le.transaction("rw",Le.delivery_zones,Le.zone_pricing,Le.outbox_events,async()=>{await Le.delivery_zones.put(gn),await Le.outbox_events.put({id:crypto.randomUUID(),entity:"delivery_zones",action:"UPSERT",entity_id:gn.id,payload_json:gn,status:"PENDING",tries:0,created_at:new Date().toISOString()}),ur&&(await Le.zone_pricing.put(ur),await Le.outbox_events.put({id:crypto.randomUUID(),entity:"zone_pricing",action:"UPSERT",entity_id:ur.id,payload_json:ur,status:"PENDING",tries:0,created_at:new Date().toISOString()}))}),console.log(" Zona e pricing salvos no Dexie:",st),ur&&(console.log(" Pricing Object (deve ter apenas depositoId):",ur),("deposit_id"in ur||"deposito_id"in ur)&&console.error(" CONTAMINAO: Objeto contm campos legados!",ur)),ur?Yu.success(`Zona "${un}" e taxa R$ ${ur.price.toFixed(2)} salvas!`):E?Yu.success(`Zona "${un}" salva! Configure a taxa depois.`):Yu.success(`Zona "${un}" salva! Atribua taxa via 'Precificao por zona'.`),ce({name:"",color:"#f97316"}),V(""),D(!1),Ie(null),wt(!1),Ot.current&&Ot.current.clearLayers()}catch(st){console.error(" Erro ao salvar zona:",st),Yu.error(`Falha ao salvar: ${st.message||"Erro desconhecido"}`)}finally{_e(!1)}},Fi=async ze=>{if(confirm("Excluir esta zona?")&&(await KN(ze),F===ze)){const st=s.find(gn=>gn.id!==ze);S((st==null?void 0:st.id)||"")}},ci=ze=>{S(ze),D(!1),Ie(null),wt(!1),V(""),Ot.current&&Ot.current.clearLayers()},Kr=async ze=>{if(!E){oe("Selecione um deposito para salvar o preco.");return}const st=re[ze]??"",gn=Number(String(st).replace(",",".")),ur=Number.isFinite(gn)?gn:0;ye(ze);try{const Kn={id:`${E}:${ze}`,zone_id:ze,depositoId:E,price:ur};console.log(" Salvando Pricing (deve ter apenas depositoId):",Kn),("deposit_id"in Kn||"deposito_id"in Kn)&&console.error(" CONTAMINAO: Objeto contm campos legados!",Kn),await Rx(Kn),oe(null)}catch(Kn){console.error(Kn),oe("Nao foi possivel salvar o preco.")}finally{ye(null)}},fn=async()=>{if(!F||!Y.trim())return;const ze={id:crypto.randomUUID(),zone_id:F,name:Y.trim()};await Ib(ze),ge("")},Xi=async(ze,st)=>{st&&await fD(ze,st)},Yn=async ze=>{await GN(ze)},Xn=o.jsxs("div",{className:"bg-surface border border-bdr rounded-2xl p-4 shadow-sm space-y-4",children:[o.jsxs("div",{className:"flex flex-col gap-3",children:[o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("h4",{className:"text-sm font-black text-txt-main uppercase",children:"Precificacao por zona"}),o.jsxs("span",{className:"text-xs text-txt-muted",children:["Deposito: ",(dn==null?void 0:dn.nome)||"Nao selecionado"]})]}),o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("label",{className:"text-xs font-bold text-txt-muted uppercase",children:"Selecione o Depsito"}),o.jsxs("select",{value:E,onChange:ze=>w(ze.target.value),className:"h-9 px-3 rounded-lg border border-bdr bg-app text-txt-main text-sm font-bold",children:[o.jsx("option",{value:"",children:"-- Selecione um depsito --"}),d.map(ze=>o.jsx("option",{value:ze.id,children:ze.nome},ze.id))]})]})]}),!E&&o.jsx("div",{className:"text-xs text-amber-500 bg-amber-500/10 p-2 rounded border border-amber-500/20",children:" Selecione um deposito para editar os precos."}),W&&o.jsx("div",{className:"text-xs text-red-500",children:W}),f?o.jsx("div",{className:"text-xs text-txt-muted",children:"Carregando..."}):s.length===0?o.jsx("div",{className:"text-xs text-txt-muted italic",children:"Nenhuma zona cadastrada."}):o.jsx("div",{className:"space-y-2",children:s.map(ze=>{var st;return o.jsxs("div",{className:"flex flex-col gap-3 bg-app border border-bdr rounded-xl px-3 py-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"w-3 h-3 rounded-full border border-bdr",style:{backgroundColor:ze.color||"#f97316"}}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"text-sm font-black text-txt-main",children:ze.name}),o.jsxs("div",{className:"text-[11px] text-txt-muted",children:["Atual:"," ",mn.get(ze.id)?`R$ ${Number(((st=mn.get(ze.id))==null?void 0:st.price)||0).toFixed(2)}`:"Sem preco"]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("span",{className:"text-xs text-txt-muted font-bold",children:"R$"}),o.jsx("input",{type:"text",inputMode:"decimal",value:re[ze.id]??"",onChange:gn=>{const ur=gn.target.value;M(Kn=>({...Kn,[ze.id]:ur})),W&&oe(null)},disabled:!E,className:"h-9 w-24 px-2 rounded-lg border border-bdr bg-surface text-txt-main text-sm font-bold disabled:opacity-50",placeholder:"0,00"})]}),o.jsx("button",{onClick:()=>Kr(ze.id),disabled:!E||me===ze.id,className:"h-9 px-4 bg-orange-500 hover:bg-orange-600 text-white rounded-lg text-xs font-black uppercase tracking-widest disabled:opacity-50",children:me===ze.id?"Salvando...":"Salvar"})]})]},ze.id)})})]});return o.jsxs("div",{className:"fixed inset-0 bg-app z-50 flex flex-col animate-in fade-in duration-300",children:[o.jsxs("div",{className:"bg-surface border-b border-bdr px-6 py-4 flex justify-between items-center shadow-sm shrink-0",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"bg-orange-500/10 p-2 rounded-xl border border-orange-500/20",children:o.jsx(Ko,{className:"w-6 h-6 text-orange-600"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-black text-txt-main tracking-tight",children:"Configuracao de Entregas"}),o.jsx("p",{className:"text-xs text-txt-muted font-bold uppercase tracking-widest",children:"Zonas, setores e taxas"})]})]}),o.jsx("button",{onClick:e,className:"p-2 hover:bg-red-500/10 hover:text-red-500 text-txt-muted rounded-full transition-colors",children:o.jsx(zi,{className:"w-6 h-6"})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto bg-app p-6",children:o.jsxs("div",{className:"max-w-[1600px] w-full mx-auto space-y-6",children:[o.jsxs("div",{className:"bg-surface border border-bdr rounded-2xl p-5 flex flex-col lg:flex-row gap-6 shadow-sm",children:[o.jsxs("div",{className:"flex-1 space-y-2",children:[o.jsx("p",{className:"text-xs font-black text-txt-muted uppercase tracking-widest",children:"Regra global"}),o.jsx("h3",{className:"text-lg font-black text-txt-main",children:"Frete gratis a partir de"}),o.jsx("p",{className:"text-xs text-txt-muted",children:"Pedidos acima do valor minimo terao taxa zero automaticamente."})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-end",children:[o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("label",{className:"text-xs font-bold text-txt-muted uppercase",children:"Deposito"}),o.jsxs("select",{value:E,onChange:ze=>w(ze.target.value),className:"h-9 px-3 rounded-lg border border-bdr bg-app text-txt-main text-sm font-bold",children:[o.jsx("option",{value:"",children:"Selecione..."}),d.map(ze=>o.jsx("option",{value:ze.id,children:ze.nome},ze.id))]})]}),o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("label",{className:"text-xs font-bold text-txt-muted uppercase",children:"Valor minimo"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"number",value:I,onChange:ze=>j(ze.target.value),className:"h-9 w-32 px-3 rounded-lg border border-bdr bg-app text-txt-main font-bold text-sm"}),o.jsx("button",{onClick:cr,className:"h-9 px-4 bg-orange-500 hover:bg-orange-600 text-white rounded-lg text-xs font-black uppercase tracking-widest shadow-sm",children:"Salvar"})]})]})]})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[o.jsx("button",{type:"button",onClick:()=>x("map"),className:`px-4 py-2 rounded-lg text-xs font-black uppercase tracking-widest border transition-all ${g==="map"?"bg-emerald-500 text-white border-emerald-500":"bg-surface text-txt-muted border-bdr hover:text-txt-main"}`,children:"Modo mapa/global"}),o.jsx("button",{type:"button",onClick:()=>x("pricing"),className:`px-4 py-2 rounded-lg text-xs font-black uppercase tracking-widest border transition-all ${g==="pricing"?"bg-orange-500 text-white border-orange-500":"bg-surface text-txt-muted border-bdr hover:text-txt-main"}`,children:"Modo precificacao"}),o.jsxs("span",{className:"text-xs text-txt-muted",children:["Deposito atual: ",(dn==null?void 0:dn.nome)||"Nao selecionado"]})]}),g==="map"?o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[340px_1fr] gap-6",children:[o.jsxs("div",{className:"bg-surface border border-bdr rounded-2xl p-4 shadow-sm space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h4",{className:"text-sm font-black text-txt-main uppercase",children:"Zonas cadastradas"}),o.jsx("button",{onClick:()=>{ce({name:"",color:"#f97316"}),S(""),D(!0),Ie(null),wt(!1),V(""),Ot.current&&Ot.current.clearLayers()},className:"px-3 py-1.5 bg-app border border-bdr rounded-lg text-xs font-bold text-txt-muted hover:text-txt-main",children:"Nova zona"})]}),f?o.jsx("div",{className:"text-xs text-txt-muted",children:"Carregando..."}):s.length===0?o.jsx("div",{className:"text-xs text-txt-muted italic",children:"Nenhuma zona cadastrada."}):o.jsx("div",{className:"space-y-2",children:s.map(ze=>{var st;return o.jsx("div",{className:`w-full rounded-xl border transition-all ${F===ze.id?"border-orange-500 bg-orange-500/10":"border-bdr hover:bg-app"}`,children:o.jsxs("div",{className:"flex items-center justify-between gap-2 p-3",children:[o.jsxs("button",{type:"button",onClick:()=>ci(ze.id),className:"flex-1 text-left",children:[o.jsx("div",{className:"text-sm font-black text-txt-main",children:ze.name}),o.jsx("div",{className:"text-xs text-txt-muted",children:E?`R$ ${Number(((st=mn.get(ze.id))==null?void 0:st.price)||0).toFixed(2)}`:"Selecione um deposito"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"w-4 h-4 rounded-full border border-bdr",style:{backgroundColor:ze.color||"#f97316"}}),o.jsx("button",{type:"button",onClick:()=>Fi(ze.id),className:"p-1 rounded hover:bg-red-500/10 text-txt-muted hover:text-red-500","aria-label":`Excluir zona ${ze.name}`,children:o.jsx(oo,{className:"w-4 h-4"})})]})]})},ze.id)})})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-surface border border-bdr rounded-2xl p-4 shadow-sm space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(cb,{className:"w-4 h-4 text-orange-500"}),o.jsx("h4",{className:"text-sm font-black text-txt-main uppercase",children:"Detalhes da zona"})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("label",{className:"text-xs font-bold text-txt-muted uppercase",children:"Nome"}),o.jsx("input",{value:G.name||"",onChange:ze=>ce({...G,name:ze.target.value}),className:"h-9 px-3 rounded-lg border border-bdr bg-app text-txt-main font-bold text-sm",placeholder:"Zona 1"})]}),o.jsxs("div",{className:"flex items-end gap-3",children:[o.jsxs("div",{className:"flex flex-col gap-1 flex-1",children:[o.jsx("label",{className:"text-xs font-bold text-txt-muted uppercase",children:"Cor (hex)"}),o.jsx("input",{value:G.color||"",onChange:ze=>ce({...G,color:ze.target.value}),className:"h-9 px-3 rounded-lg border border-bdr bg-app text-txt-main font-bold text-sm",placeholder:"#f97316"})]}),o.jsx("input",{type:"color",value:G.color||"#f97316",onChange:ze=>ce({...G,color:ze.target.value}),className:"h-9 w-12 border border-bdr rounded-lg bg-app"})]}),z&&o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("label",{className:"text-xs font-bold text-txt-muted uppercase",children:"Taxa de Entrega (R$)"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xs text-txt-muted font-bold",children:"R$"}),o.jsx("input",{type:"text",inputMode:"decimal",value:X,onChange:ze=>V(ze.target.value),className:"flex-1 h-9 px-3 rounded-lg border border-bdr bg-app text-txt-main font-bold text-sm",placeholder:"0,00"})]}),o.jsx("div",{className:"text-[10px] text-txt-muted",children:'Taxa padro para entregas nesta zona. Pode editar depois em "Precificao".'})]}),o.jsx("button",{onClick:qi,disabled:se,className:"w-full py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg text-xs font-black uppercase tracking-widest disabled:opacity-50",children:se?"Salvando...":G.id?"Salvar zona":"Criar zona"}),o.jsx("div",{className:"text-[11px] text-txt-muted",children:"Salva nome, taxa, cor e area desenhada no mapa."})]})]}),o.jsxs("div",{className:"bg-surface border border-bdr rounded-2xl p-4 shadow-sm space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h4",{className:"text-sm font-black text-txt-main uppercase",children:"Setores da zona"}),rn&&o.jsxs("span",{className:"text-xs text-txt-muted",children:["Zona: ",rn.name]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{value:Y,onChange:ze=>ge(ze.target.value),placeholder:"Adicionar bairro",className:"flex-1 h-9 px-3 rounded-lg border border-bdr bg-app text-txt-main text-sm"}),o.jsx("button",{onClick:fn,disabled:!F,className:"h-9 px-3 bg-orange-500 hover:bg-orange-600 text-white rounded-lg text-xs font-black uppercase tracking-widest disabled:opacity-50",children:o.jsx(wo,{className:"w-4 h-4"})})]}),o.jsx("div",{className:"space-y-2",children:xt.length===0?o.jsx("div",{className:"text-xs text-txt-muted italic",children:"Nenhum setor vinculado."}):xt.map(ze=>o.jsxs("div",{className:"flex items-center justify-between gap-2 bg-app border border-bdr rounded-lg px-3 py-2",children:[o.jsx("span",{className:"text-sm font-bold text-txt-main",children:ze.name}),o.jsxs("div",{className:"flex items-center gap-2",children:[nn.length>0&&o.jsxs("select",{value:"",onChange:st=>Xi(ze.id,st.target.value),className:"h-7 px-2 rounded border border-bdr bg-surface text-xs text-txt-muted",children:[o.jsx("option",{value:"",children:"Mover..."}),nn.map(st=>o.jsx("option",{value:st.id,children:st.name},st.id))]}),o.jsx("button",{onClick:()=>Yn(ze.id),className:"p-1 rounded hover:bg-red-500/10 text-txt-muted hover:text-red-500",children:o.jsx(oo,{className:"w-4 h-4"})})]})]},ze.id))})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[1fr_320px] gap-6",children:[o.jsxs("div",{className:"bg-surface border border-bdr rounded-2xl p-4 shadow-sm",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ab,{className:"w-4 h-4 text-emerald-500"}),o.jsx("h4",{className:"text-sm font-black text-txt-main uppercase",children:"Mapa (visual)"})]}),rn&&o.jsxs("div",{className:"flex items-center gap-2 text-xs text-txt-muted",children:[o.jsx("span",{className:"w-3 h-3 rounded-full border border-bdr",style:{backgroundColor:rn.color||"#f97316"}}),rn.name]})]}),o.jsxs("div",{className:"mb-3 rounded-lg border border-bdr bg-app px-3 py-2 text-xs text-txt-muted",children:[o.jsx("div",{className:"font-black text-txt-main",children:"Como usar a marcacao"}),o.jsx("div",{children:'1) Selecione uma zona ou clique "Nova zona".'}),o.jsx("div",{children:"2) Pesquise um bairro/rua para gerar a area automaticamente (quando disponivel)."}),o.jsx("div",{children:"3) Ajuste o alcance se quiser buscar outra cidade."}),o.jsx("div",{children:"4) Ajuste/desenhe no mapa (ferramentas a direita)."}),o.jsx("div",{children:'5) Clique "Salvar zona" para gravar area, taxa e cor.'}),o.jsx("div",{children:"Dica: use o lapis para editar e a lixeira para apagar."}),o.jsx("div",{children:"Dica: clique em uma zona no mapa para selecionar."}),Qn.length>0&&o.jsxs("div",{className:"mt-1 text-[11px] font-semibold text-red-500",children:["Aviso: area atual invade ",Qn.length>1?"zonas":"zona"," ",Qn.join(", "),". Ajuste antes de salvar."]}),o.jsxs("div",{className:"mt-1 text-txt-main",children:["Zona ativa: ",Fe,"  Preco deposito: ",Rt,"  Area: ",dt]})]}),o.jsxs("div",{className:"flex flex-col gap-2 mb-3",children:[o.jsx("label",{className:"text-xs font-bold text-txt-muted uppercase",children:"Pesquisar Bairro/Rua"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{value:Z,onChange:ze=>{Ce(ze.target.value),P&&ie(null),O&&ae(null)},onKeyDown:ze=>{ze.key==="Enter"&&kn()},className:"flex-1 h-9 px-3 rounded-lg border border-bdr bg-app text-txt-main text-sm",placeholder:"Ex: Bairro Popular"}),o.jsx("button",{onClick:kn,disabled:!Z.trim()||ue,className:"h-9 px-4 bg-emerald-500 hover:bg-emerald-600 text-white rounded-lg text-xs font-black uppercase tracking-widest disabled:opacity-50",children:ue?"Buscando...":"Buscar"})]}),o.jsx("label",{className:"text-xs font-bold text-txt-muted uppercase",children:"Alcance (cidade/UF)"}),o.jsx("input",{value:Se,onChange:ze=>te(ze.target.value),className:"h-9 px-3 rounded-lg border border-bdr bg-app text-txt-main text-sm",placeholder:dh}),o.jsxs("div",{className:"text-[11px] text-txt-muted",children:["Padrao: ",dh,". Para estender, edite o alcance."]}),P&&o.jsx("div",{className:"text-xs text-red-500",children:P}),O&&o.jsx("div",{className:"text-xs text-amber-500",children:O})]}),o.jsxs("div",{className:"relative",children:[o.jsxs(mb,{center:[Rp.lat,Rp.lng],zoom:12,className:"w-full h-[360px] md:h-[480px] lg:h-[560px] xl:h-[640px] rounded-xl overflow-hidden border border-bdr",children:[o.jsx(vb,{attribution:" OSM contributors",url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),o.jsx(r7,{mapRef:xe}),o.jsx(n7,{}),Ht.length>0&&o.jsx(O5,{name:"other-zones",style:{zIndex:300},children:Ht.map(ze=>o.jsx(gb,{positions:ze.polygon,pathOptions:{color:ze.color,fillColor:ze.color,fillOpacity:.12,weight:1,dashArray:"4 6",className:"cursor-pointer"},eventHandlers:{click:()=>ci(ze.id)},children:o.jsx(xb,{sticky:!0,children:ze.name})},ze.id))}),o.jsx(F5,{ref:Ot,children:o.jsx(qb,{position:"topright",onCreated:jr,onEdited:Hn,onDeleted:wn,draw:{polygon:{shapeOptions:jt},rectangle:{shapeOptions:jt},polyline:!1,circle:!1,circlemarker:!1,marker:!1},edit:{edit:{selectedPathOptions:jt},remove:{}}})}),o.jsx(t7,{enabled:Xe,points:cn})]}),o.jsx("button",{onClick:()=>$t(ze=>!ze),className:"absolute top-3 right-3 px-3 py-1.5 bg-white/90 border border-bdr rounded-lg text-[11px] font-black uppercase tracking-widest text-txt-main shadow-sm",children:Xe?"Ocultar Mapa de Calor":"Ver Mapa de Calor"})]})]}),Xn]})]})]}):o.jsx("div",{className:"max-w-[820px]",children:Xn})]})})]})},a7=45e3;async function ib(e,t,n,r="DISPONIVEL"){const i=Date.now(),s={driverId:e.id,driverName:e.nome,status:r,lastSeenAt:i,lat:t,lng:n};return await uD(s),s}async function s7(){const e=await dD(),t=Date.now();return e.map(n=>t-n.lastSeenAt>a7&&n.status!=="OFFLINE"?{...n,status:"OFFLINE"}:n)}const o7=({onClose:e})=>{const[t,n]=$.useState([]),[r,i]=$.useState([]),[s,c]=$.useState(!0),[d,h]=$.useState(null),[f,g]=$.useState("PENDENTE");$.useEffect(()=>{let S=!0;const z=async()=>{const[G,ce]=await Promise.all([zN(),s7()]);S&&(n(G),i(ce),c(!1))};z();const D=setInterval(z,3e3);return()=>{S=!1,clearInterval(D)}},[]);const x=t.filter(S=>f==="PENDENTE"?S.status==="PENDENTE_ENTREGA"||S.status==="DEVOLVIDA":f==="EM_ROTA"?S.status==="EM_ROTA":f==="FINALIZADO"?S.status==="CONCLUIDA"||S.status==="CANCELADA":!0).sort((S,z)=>(S.assignedAt||0)-(z.assignedAt||0)),E=r.filter(S=>S.status==="DISPONIVEL"&&Date.now()-S.lastSeenAt<45e3),w=async(S,z)=>{confirm("Iniciar entrega com este entregador?")&&(await ED(S),h(null))},I=async S=>{confirm("Confirmar entrega realizada?")&&(await VN(S),h(null))},j=async(S,z)=>{confirm("Confirmar devoluo da entrega?")&&(await ZN(S,z),h(null))},F=async S=>{confirm("Cancelar esta entrega? Esta ao no pode ser desfeita.")&&(await SD(S),h(null))};return o.jsxs("div",{className:"fixed inset-0 bg-app z-50 flex flex-col animate-in slide-in-from-bottom-4 duration-300",children:[o.jsxs("div",{className:"bg-surface border-b border-bdr px-6 py-4 flex justify-between items-center shadow-sm shrink-0",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"bg-indigo-500/10 p-2.5 rounded-xl border border-indigo-500/20",children:o.jsx(Ko,{className:"w-6 h-6 text-indigo-600"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-black text-txt-main tracking-tight",children:"Despacho de Entregas"}),o.jsx("p",{className:"text-xs text-txt-muted font-bold uppercase tracking-widest",children:"Controle de Frota em Tempo Real"})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"text-xs font-mono text-txt-muted flex items-center gap-2 bg-app px-3 py-1 rounded-lg border border-bdr",children:[s?o.jsx(hh,{className:"w-3 h-3 text-amber-500 animate-spin"}):o.jsx(Qm,{className:"w-3 h-3 text-green-500 animate-pulse"}),s?"Sincronizando...":"Ao Vivo"]}),o.jsx("button",{onClick:e,className:"p-2 hover:bg-red-500/10 text-txt-muted hover:text-red-500 rounded-full transition-colors",children:o.jsx(zi,{className:"w-6 h-6"})})]})]}),o.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[o.jsxs("div",{className:"flex-1 flex flex-col border-r border-bdr bg-app/50",children:[o.jsx("div",{className:"p-4 flex gap-2 border-b border-bdr bg-surface",children:["PENDENTE","EM_ROTA","FINALIZADO"].map(S=>o.jsx("button",{onClick:()=>{g(S),h(null)},className:`flex-1 py-2 text-xs font-black uppercase rounded-lg border transition-all ${f===S?"bg-indigo-500 text-white border-indigo-600":"bg-app text-txt-muted border-bdr hover:bg-white"}`,children:S==="PENDENTE"?"PENDENTE":S==="EM_ROTA"?"EM ROTA":"FINALIZADO"},S))}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:[x.length===0&&o.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-txt-muted opacity-50",children:[o.jsx(Ko,{className:"w-12 h-12 mb-2"}),o.jsx("p",{className:"font-bold text-sm",children:"Nenhuma entrega nesta fila"})]}),x.map(S=>o.jsxs("div",{onClick:()=>h(S.id),className:`bg-surface p-4 rounded-xl border-2 transition-all cursor-pointer relative group ${d===S.id?"border-indigo-500 ring-2 ring-indigo-500/20 shadow-md":"border-bdr hover:border-indigo-300"}`,children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsxs("span",{className:"font-black text-sm text-txt-main",children:["#",S.osId.slice(0,8),"..."]}),o.jsx("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded uppercase ${S.status==="PENDENTE_ENTREGA"?"bg-amber-100 text-amber-700":S.status==="EM_ROTA"?"bg-blue-100 text-blue-700":S.status==="DEVOLVIDA"?"bg-red-100 text-red-700":S.status==="CONCLUIDA"?"bg-green-100 text-green-700":S.status==="CANCELADA"?"bg-gray-100 text-gray-700":"bg-purple-100 text-purple-700"}`,children:S.status==="PENDENTE_ENTREGA"?"PENDENTE":S.status.replace("_"," ")})]}),o.jsx("h3",{className:"font-bold text-base text-txt-main leading-tight mb-1",children:S.customerName}),o.jsxs("p",{className:"text-xs text-txt-muted flex items-center gap-1",children:[o.jsx(ou,{className:"w-3 h-3"})," ",S.address.full]}),o.jsxs("div",{className:"mt-3 flex justify-between items-end border-t border-bdr pt-2",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-[10px] text-txt-muted uppercase font-bold",children:"Itens"}),o.jsx("p",{className:"text-xs font-medium max-w-[150px] truncate",children:S.itemsSummary})]}),o.jsx("div",{className:"text-right",children:o.jsxs("p",{className:"text-lg font-black text-emerald-600",children:["R$ ",S.totalValue.toFixed(2)]})})]}),S.refusalReason&&o.jsxs("div",{className:"mt-2 bg-red-50 text-red-600 text-[10px] font-bold p-2 rounded border border-red-100",children:["Recusada: ",S.refusalReason]})]},S.id))]})]}),o.jsxs("div",{className:"w-96 bg-surface flex flex-col",children:[o.jsxs("div",{className:"p-4 border-b border-bdr bg-indigo-50/50",children:[o.jsx("h3",{className:"font-black text-sm text-indigo-900 uppercase tracking-widest mb-1",children:"Aes de Entrega"}),o.jsx("p",{className:"text-xs text-indigo-700",children:"Selecione uma entrega  esquerda para gerenciar."})]}),d&&(()=>{const S=t.find(z=>z.id===d);return S?o.jsxs("div",{className:"p-4 space-y-4",children:[o.jsxs("div",{className:"bg-app p-4 rounded-xl border border-bdr",children:[o.jsx("h4",{className:"font-bold text-txt-main mb-2",children:S.customerName}),o.jsx("p",{className:"text-xs text-txt-muted mb-2",children:S.address.full}),o.jsxs("p",{className:"text-lg font-black text-emerald-600",children:["R$ ",S.totalValue.toFixed(2)]})]}),S.status==="PENDENTE_ENTREGA"&&o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"text-xs font-bold text-txt-muted uppercase",children:"Selecione um entregador:"}),o.jsxs("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:[E.map(z=>o.jsxs("button",{onClick:()=>w(d,z.driverId),className:"w-full flex items-center justify-between p-3 rounded-lg border border-bdr bg-app hover:bg-emerald-50 hover:border-emerald-200 transition-colors",children:[o.jsx("span",{className:"font-bold text-sm",children:z.driverName}),o.jsxs("span",{className:"flex items-center gap-1 text-emerald-600 text-xs font-bold",children:["Iniciar Rota ",o.jsx(Ew,{className:"w-3 h-3"})]})]},z.driverId)),E.length===0&&o.jsx("p",{className:"text-xs text-txt-muted text-center py-4",children:"Nenhum entregador disponvel"})]}),o.jsxs("button",{onClick:()=>F(d),className:"w-full py-2 bg-red-50 text-red-600 border border-red-200 rounded-lg text-xs font-bold hover:bg-red-100 transition-colors flex items-center justify-center gap-2",children:[o.jsx(k0,{className:"w-4 h-4"})," Cancelar Entrega"]})]}),S.status==="EM_ROTA"&&o.jsxs("div",{className:"space-y-3",children:[o.jsxs("p",{className:"text-xs font-bold text-txt-muted uppercase mb-2",children:["Entregador: ",S.driverName||"No atribudo"]}),o.jsxs("button",{onClick:()=>I(d),className:"w-full py-3 bg-emerald-500 text-white rounded-lg text-sm font-bold hover:bg-emerald-600 transition-colors flex items-center justify-center gap-2",children:[o.jsx(QS,{className:"w-5 h-5"})," Confirmar Entrega"]}),o.jsxs("button",{onClick:()=>{const z=prompt("Motivo da devoluo:");z&&j(d,z)},className:"w-full py-2 bg-orange-50 text-orange-600 border border-orange-200 rounded-lg text-xs font-bold hover:bg-orange-100 transition-colors flex items-center justify-center gap-2",children:[o.jsx(aL,{className:"w-4 h-4"})," Devolver (Falha na Entrega)"]}),o.jsxs("button",{onClick:()=>F(d),className:"w-full py-2 bg-red-50 text-red-600 border border-red-200 rounded-lg text-xs font-bold hover:bg-red-100 transition-colors flex items-center justify-center gap-2",children:[o.jsx(k0,{className:"w-4 h-4"})," Cancelar"]})]}),S.status==="DEVOLVIDA"&&o.jsxs("div",{className:"space-y-3",children:[S.refusalReason&&o.jsxs("div",{className:"bg-red-50 text-red-600 text-xs font-bold p-3 rounded-lg border border-red-100",children:["Motivo: ",S.refusalReason]}),o.jsx("p",{className:"text-xs font-bold text-txt-muted uppercase",children:"Reenviar para entrega:"}),o.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:E.map(z=>o.jsxs("button",{onClick:()=>w(d,z.driverId),className:"w-full flex items-center justify-between p-3 rounded-lg border border-bdr bg-app hover:bg-emerald-50 hover:border-emerald-200 transition-colors",children:[o.jsx("span",{className:"font-bold text-sm",children:z.driverName}),o.jsxs("span",{className:"flex items-center gap-1 text-emerald-600 text-xs font-bold",children:["Reenviar ",o.jsx(Ew,{className:"w-3 h-3"})]})]},z.driverId))}),o.jsxs("button",{onClick:()=>F(d),className:"w-full py-2 bg-red-50 text-red-600 border border-red-200 rounded-lg text-xs font-bold hover:bg-red-100 transition-colors flex items-center justify-center gap-2",children:[o.jsx(k0,{className:"w-4 h-4"})," Cancelar Definitivamente"]})]}),(S.status==="CONCLUIDA"||S.status==="CANCELADA")&&o.jsxs("div",{className:"text-center py-8 text-txt-muted",children:[o.jsx(Ml,{className:"w-12 h-12 mx-auto mb-2 opacity-30"}),o.jsx("p",{className:"text-sm font-bold",children:"Esta entrega j foi finalizada"})]})]}):null})(),!d&&o.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-txt-muted p-8",children:[o.jsx(Ko,{className:"w-16 h-16 mb-4 opacity-20"}),o.jsx("p",{className:"text-sm font-bold text-center",children:"Selecione uma entrega na lista para ver as opes"})]}),o.jsxs("div",{className:"mt-auto border-t border-bdr p-4 bg-app",children:[o.jsx("p",{className:"text-xs font-bold text-txt-muted uppercase mb-2",children:"Entregadores Online"}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.filter(S=>Date.now()-S.lastSeenAt<45e3).map(S=>o.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-bold ${S.status==="DISPONIVEL"?"bg-emerald-100 text-emerald-700":"bg-blue-100 text-blue-700"}`,children:S.driverName},S.driverId)),r.filter(S=>Date.now()-S.lastSeenAt<45e3).length===0&&o.jsx("span",{className:"text-xs text-txt-muted",children:"Nenhum online"})]})]})]})]})]})},$v={nome:"",endereco:"",cor:"#9CA3AF",ativo:!0},c5={productId:"",fromDepositId:"",toDepositId:"",quantidade:1},u5={productId:"",depositId:"",novaQuantidade:0},l7=e=>{if(!e)return!1;const t=e.track_stock??e.trackStock,n=e.type==="SERVICE",r=e.is_delivery_fee??e.isDeliveryFee;return t!==!1&&!n&&!r},d5=e=>(e==null?void 0:e.depositoId)??(e==null?void 0:e.deposit_id)??(e==null?void 0:e.depositId)??null,A7=({onClose:e,currentUser:t})=>{const n=Er(()=>Le.deposits.toArray(),[])??[],r=Er(async()=>await fA(),[])??[],i=Er(()=>Le.stock_balance.toArray(),[])??[],[s,c]=$.useState({...$v}),[d,h]=$.useState({...c5}),[f,g]=$.useState({...u5}),[x,E]=$.useState(!1),[w,I]=$.useState(!1),[j,F]=$.useState(!1),S=$.useMemo(()=>n.filter(M=>M.ativo!==!1),[n]),z=$.useMemo(()=>{const M={};return i.forEach(X=>{M[X.deposit_id]||(M[X.deposit_id]={}),M[X.deposit_id][X.product_id]=Number(X.quantidade_atual??0)||0}),r.forEach(X=>{const V=d5(X);if(!V)return;if(M[V]||(M[V]={}),M[V][X.id]===void 0){const oe=Number(X.current_stock??0)||0;M[V][X.id]=oe}}),M},[i,r]),D=$.useMemo(()=>r.filter(l7),[r]),G=M=>{c({id:M.id,nome:M.nome,endereco:M.endereco,cor:M.cor,ativo:M.ativo!==!1})},ce=async()=>{var M;if(!s.nome.trim()){alert("Informe o nome do depsito.");return}E(!0);try{const X={id:s.id??Dr(),nome:s.nome.trim(),endereco:((M=s.endereco)==null?void 0:M.trim())||void 0,cor:s.cor||void 0,ativo:s.ativo};await ng(X),c({...$v})}catch(X){console.error(X),alert("No foi possvel salvar o depsito.")}finally{E(!1)}},Y=async M=>{if(confirm("Deseja remover este depsito?"))try{await PQ(M)}catch(X){console.error(X),alert("No foi possvel remover o depsito.")}},ge=async()=>{const{productId:M,fromDepositId:X,toDepositId:V,quantidade:W}=d;if(!M||!X||!V){alert("Selecione produto e depsitos de origem/destino.");return}if(X===V){alert("Depsitos devem ser diferentes.");return}if(W<=0){alert("Quantidade deve ser maior que zero.");return}const oe=D.find(Z=>Z.id===M);if(!oe){alert("Produto invlido.");return}const me=oe.nome,ye=(t==null?void 0:t.id)??"system",se=(t==null?void 0:t.nome)??"Sistema",_e=new Date().toISOString();I(!0);try{await xd([{id:Dr(),dataHora:_e,depositoId:X,produtoId:M,produtoNome:me,tipo:"SAIDA",quantidade:W,origem:"AJUSTE_MANUAL",usuarioId:ye,usuarioNome:se,motivo:"Transferncia entre depsitos",meta:{direction:"OUT",to:V}},{id:Dr(),dataHora:_e,depositoId:V,produtoId:M,produtoNome:me,tipo:"ENTRADA",quantidade:W,origem:"AJUSTE_MANUAL",usuarioId:ye,usuarioNome:se,motivo:"Transferncia entre depsitos",meta:{direction:"IN",from:X}}]),h({...c5})}catch(Z){console.error(Z),alert("No foi possvel registrar a transferncia.")}finally{I(!1)}},re=async()=>{var Z;const{productId:M,depositId:X,novaQuantidade:V}=f;if(!M||!X){alert("Selecione produto e depsito.");return}if(V<0){alert("Quantidade no pode ser negativa.");return}const W=D.find(Ce=>Ce.id===M);if(!W){alert("Produto invlido.");return}const oe=((Z=z[X])==null?void 0:Z[M])??0,me=V-oe;if(me===0){alert("Nenhuma diferena encontrada.");return}const ye=(t==null?void 0:t.id)??"system",se=(t==null?void 0:t.nome)??"Sistema",_e=new Date().toISOString();F(!0);try{await xd([{id:Dr(),dataHora:_e,depositoId:X,produtoId:M,produtoNome:W.nome,tipo:"AJUSTE_CONTAGEM",quantidade:V,origem:"TELA_CONTAGEM_MOVIMENTACAO",usuarioId:ye,usuarioNome:se,motivo:"Ajuste manual de estoque",meta:{beforeQty:oe,afterQty:V,divergence:me}}]),g({...u5})}catch(Ce){console.error(Ce),alert("No foi possvel ajustar o estoque.")}finally{F(!1)}};return o.jsx("div",{className:"fixed inset-0 z-50 bg-black/70 backdrop-blur-sm flex items-center justify-center p-6",children:o.jsxs("div",{className:"w-full max-w-6xl bg-surface border border-bdr rounded-3xl shadow-2xl overflow-hidden",children:[o.jsxs("header",{className:"flex items-center justify-between px-6 py-4 border-b border-bdr bg-app/80",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"rounded-xl bg-purple-500/10 border border-purple-500/30 p-2",children:o.jsx(E5,{className:"w-6 h-6 text-purple-500"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-[10px] uppercase font-black tracking-[0.2em] text-txt-muted",children:"Gesto Central"}),o.jsx("h2",{className:"text-xl font-black text-txt-main",children:"Depsitos & Estoque"}),o.jsx("p",{className:"text-xs text-txt-muted",children:"Cadastre depsitos, veja quantidades e transfira entre unidades."})]})]}),o.jsx("button",{onClick:e,className:"p-2 rounded-full text-txt-muted hover:text-txt-main hover:bg-app transition-colors","aria-label":"Fechar",children:o.jsx(zi,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-[360px_1fr] divide-y xl:divide-y-0 xl:divide-x divide-bdr",children:[o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"text-sm font-black text-txt-main uppercase tracking-widest",children:"Depsitos"}),o.jsxs("button",{onClick:()=>c({...$v}),className:"inline-flex items-center gap-2 text-xs font-bold text-txt-muted hover:text-txt-main",children:[o.jsx(hh,{className:"w-4 h-4"}),"Limpar"]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-[11px] font-black uppercase tracking-wide text-txt-muted",children:"Nome"}),o.jsx("input",{className:"w-full rounded-lg border border-bdr bg-app px-3 py-2 text-sm text-txt-main focus:outline-none focus:ring-2 focus:ring-purple-500/30",value:s.nome,onChange:M=>c(X=>({...X,nome:M.target.value})),placeholder:"Ex: Depsito Central"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-[11px] font-black uppercase tracking-wide text-txt-muted",children:"Endereo"}),o.jsx("input",{className:"w-full rounded-lg border border-bdr bg-app px-3 py-2 text-sm text-txt-main focus:outline-none focus:ring-2 focus:ring-purple-500/30",value:s.endereco??"",onChange:M=>c(X=>({...X,endereco:M.target.value})),placeholder:"Rua, nmero, bairro"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-[11px] font-black uppercase tracking-wide text-txt-muted",children:"Cor"}),o.jsx("input",{type:"color",className:"h-10 w-full rounded-lg border border-bdr bg-app",value:s.cor||"#9CA3AF",onChange:M=>c(X=>({...X,cor:M.target.value}))})]}),o.jsxs("div",{className:"flex items-end gap-2",children:[o.jsx("input",{type:"checkbox",id:"deposit-active",className:"w-4 h-4",checked:s.ativo,onChange:M=>c(X=>({...X,ativo:M.target.checked}))}),o.jsx("label",{htmlFor:"deposit-active",className:"text-sm font-semibold text-txt-main",children:"Ativo"})]})]}),o.jsx("div",{className:"flex gap-2",children:o.jsxs("button",{onClick:ce,disabled:x,className:"flex-1 inline-flex items-center justify-center gap-2 rounded-lg bg-purple-600 text-white font-black uppercase tracking-wide px-3 py-2 shadow-lg shadow-purple-500/20 disabled:opacity-60",children:[x?o.jsx(hh,{className:"w-4 h-4 animate-spin"}):o.jsx(wl,{className:"w-4 h-4"}),s.id?"Atualizar depsito":"Salvar depsito"]})})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("p",{className:"text-[11px] font-black uppercase tracking-wide text-txt-muted",children:"Lista"}),o.jsxs("div",{className:"space-y-2 max-h-80 overflow-y-auto pr-1",children:[n.length===0&&o.jsx("p",{className:"text-sm text-txt-muted",children:"Nenhum depsito cadastrado."}),n.map(M=>o.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-bdr bg-app px-3 py-2",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-bold text-txt-main",children:M.nome}),o.jsx("p",{className:"text-[11px] text-txt-muted",children:M.endereco||"Sem endereo"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:`text-[10px] font-black uppercase px-2 py-1 rounded ${M.ativo!==!1?"bg-green-500/10 text-green-500":"bg-red-500/10 text-red-500"}`,children:M.ativo!==!1?"Ativo":"Inativo"}),o.jsx("button",{className:"text-xs font-bold text-blue-500 hover:text-blue-600",onClick:()=>G(M),children:"Editar"}),o.jsx("button",{className:"text-xs font-bold text-red-500 hover:text-red-600",onClick:()=>Y(M.id),children:"Remover"})]})]},M.id))]})]})]}),o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("section",{className:"rounded-2xl border border-bdr bg-app p-4 space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-[10px] uppercase font-black tracking-[0.2em] text-txt-muted",children:"Transferncia"}),o.jsx("h4",{className:"text-sm font-black text-txt-main",children:"Mover estoque entre depsitos"})]}),o.jsx(xw,{className:"w-5 h-5 text-txt-muted"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-[11px] font-black uppercase tracking-wide text-txt-muted",children:"Produto"}),o.jsxs("select",{className:"w-full rounded-lg border border-bdr bg-surface px-3 py-2 text-sm",value:d.productId,onChange:M=>h(X=>({...X,productId:M.target.value})),children:[o.jsx("option",{value:"",children:"Selecione..."}),D.map(M=>o.jsx("option",{value:M.id,children:M.nome},M.id))]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-[11px] font-black uppercase tracking-wide text-txt-muted",children:"Origem"}),o.jsxs("select",{className:"w-full rounded-lg border border-bdr bg-surface px-3 py-2 text-sm",value:d.fromDepositId,onChange:M=>h(X=>({...X,fromDepositId:M.target.value})),children:[o.jsx("option",{value:"",children:"Selecione..."}),S.map(M=>o.jsx("option",{value:M.id,children:M.nome},M.id))]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-[11px] font-black uppercase tracking-wide text-txt-muted",children:"Destino"}),o.jsxs("select",{className:"w-full rounded-lg border border-bdr bg-surface px-3 py-2 text-sm",value:d.toDepositId,onChange:M=>h(X=>({...X,toDepositId:M.target.value})),children:[o.jsx("option",{value:"",children:"Selecione..."}),S.map(M=>o.jsx("option",{value:M.id,children:M.nome},M.id))]})]})]}),o.jsxs("div",{className:"grid grid-cols-[1fr_auto] gap-3 items-end",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-[11px] font-black uppercase tracking-wide text-txt-muted",children:"Quantidade"}),o.jsx("input",{type:"number",min:1,className:"w-full rounded-lg border border-bdr bg-surface px-3 py-2 text-sm",value:d.quantidade,onChange:M=>h(X=>({...X,quantidade:Number(M.target.value)}))})]}),o.jsxs("button",{onClick:ge,disabled:w,className:"h-full inline-flex items-center justify-center gap-2 px-4 py-2 rounded-lg bg-blue-600 text-white font-black uppercase tracking-wide shadow-blue-500/20 shadow-lg disabled:opacity-60",children:[w?o.jsx(hh,{className:"w-4 h-4 animate-spin"}):o.jsx(xw,{className:"w-4 h-4"}),"Transferir"]})]})]}),o.jsxs("section",{className:"rounded-2xl border border-bdr bg-app p-4 space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-[10px] uppercase font-black tracking-[0.2em] text-txt-muted",children:"Ajuste"}),o.jsx("h4",{className:"text-sm font-black text-txt-main",children:"Contagem e correo de estoque"})]}),o.jsx(wo,{className:"w-5 h-5 text-txt-muted"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-[11px] font-black uppercase tracking-wide text-txt-muted",children:"Produto"}),o.jsxs("select",{className:"w-full rounded-lg border border-bdr bg-surface px-3 py-2 text-sm",value:f.productId,onChange:M=>g(X=>({...X,productId:M.target.value})),children:[o.jsx("option",{value:"",children:"Selecione..."}),D.map(M=>o.jsx("option",{value:M.id,children:M.nome},M.id))]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-[11px] font-black uppercase tracking-wide text-txt-muted",children:"Depsito"}),o.jsxs("select",{className:"w-full rounded-lg border border-bdr bg-surface px-3 py-2 text-sm",value:f.depositId,onChange:M=>g(X=>({...X,depositId:M.target.value})),children:[o.jsx("option",{value:"",children:"Selecione..."}),S.map(M=>o.jsx("option",{value:M.id,children:M.nome},M.id))]})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-[11px] font-black uppercase tracking-wide text-txt-muted",children:"Nova quantidade"}),o.jsx("input",{type:"number",min:0,className:"w-full rounded-lg border border-bdr bg-surface px-3 py-2 text-sm",value:f.novaQuantidade,onChange:M=>g(X=>({...X,novaQuantidade:Number(M.target.value)}))})]})]}),o.jsxs("button",{onClick:re,disabled:j,className:"w-full inline-flex items-center justify-center gap-2 rounded-lg bg-green-600 text-white font-black uppercase tracking-wide px-3 py-2 shadow-lg shadow-green-500/20 disabled:opacity-60",children:[j?o.jsx(hh,{className:"w-4 h-4 animate-spin"}):o.jsx(wl,{className:"w-4 h-4"}),"Ajustar estoque"]})]})]}),o.jsxs("section",{className:"rounded-2xl border border-bdr bg-app p-4",children:[o.jsx("div",{className:"flex items-center justify-between mb-3",children:o.jsxs("div",{children:[o.jsx("p",{className:"text-[10px] uppercase font-black tracking-[0.2em] text-txt-muted",children:"Viso geral"}),o.jsx("h4",{className:"text-sm font-black text-txt-main",children:"Quantidades por depsito"})]})}),o.jsxs("div",{className:"space-y-4 max-h-[420px] overflow-y-auto pr-1",children:[S.length===0&&o.jsx("p",{className:"text-sm text-txt-muted",children:"Cadastre ao menos um depsito para ver os estoques."}),S.map(M=>{const X=z[M.id]||{},V=D.filter(W=>{const oe=d5(W);return!oe||oe===M.id});return o.jsxs("div",{className:"rounded-xl border border-bdr bg-surface p-3",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"h-3 w-3 rounded-full",style:{background:M.cor||"#9CA3AF"}}),o.jsx("p",{className:"text-sm font-black text-txt-main",children:M.nome})]}),o.jsxs("span",{className:"text-[11px] font-semibold text-txt-muted",children:[V.length," produtos"]})]}),V.length===0?o.jsx("p",{className:"text-xs text-txt-muted",children:"Nenhum produto vinculado."}):o.jsx("div",{className:"divide-y divide-bdr",children:V.map(W=>{const oe=X[W.id]??0;return o.jsxs("div",{className:"flex items-center justify-between py-2",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-bold text-txt-main",children:W.nome}),o.jsxs("p",{className:"text-[11px] text-txt-muted",children:["Cdigo: ",W.codigo||""]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:`text-lg font-black ${oe<=0?"text-red-500":oe<=5?"text-amber-500":"text-green-500"}`,children:oe}),o.jsx("p",{className:"text-[10px] text-txt-muted uppercase",children:"unidades"})]})]},W.id)})})]},M.id)})]})]})]})]})]})})},c7=e=>((e==null?void 0:e.is_delivery_fee)??(e==null?void 0:e.isDeliveryFee))===!0||String((e==null?void 0:e.product_group)??(e==null?void 0:e.codigo)??"").toLowerCase()==="delivery_fee"?!0:String((e==null?void 0:e.nome)??"").toLowerCase()==="taxa de entrega",h5=e=>c7(e)||((e==null?void 0:e.track_stock)??(e==null?void 0:e.trackStock))===!1?!0:(e==null?void 0:e.type)==="SERVICE";async function f5(){const e=[],t=YN(),[n,r]=await Promise.all([fA(),sf()]),i=s=>(s==null?void 0:s.deposit_id)??(s==null?void 0:s.depositId)??(s==null?void 0:s.depositoId)??(s==null?void 0:s.deposito_id)??null;if(t.enabledStock)for(const s of r.filter(c=>c.ativo)){const c=await rg(s.id);for(const d of n.filter(h=>h.ativo&&h.tipo!=="OUTROS")){if(h5(d)||i(d)!==s.id)continue;const f=c[d.id]||0,g=t.minStock[d.id]||0;if(g>0&&f<=g){const x=f===0;e.push({id:`stock-${s.id}-${d.id}`,type:"STOCK",severity:x?"CRITICAL":"WARNING",title:x?"Estoque Zerado":"Estoque Mnimo",message:`O produto ${d.nome} est com ${f} un. (Mn: ${g})`,location:s.nome,details:{produtoId:d.id,depositoId:s.id,qty:f,min:g}})}}}if(t.enabledMargin&&n.filter(s=>s.ativo&&s.preco_custo>0).forEach(s=>{if(h5(s))return;const c=(s.preco_padrao-s.preco_custo)/s.preco_custo*100;c<t.minMarginPercent&&e.push({id:`margin-${s.id}`,type:"MARGIN",severity:c<=0?"CRITICAL":"WARNING",title:"Margem Baixa",message:`${s.nome} est com margem de ${c.toFixed(1)}% (Meta: ${t.minMarginPercent}%)`,location:"Tabela de Preos",details:{produtoId:s.id,margin:c,target:t.minMarginPercent}})}),t.enabledFinancial){const s=await tD(),c=Date.now(),d=Math.max(1,t.financialDaysNotice??1);s.filter(h=>h.status!=="PAGO"&&!h.is_personal).forEach(h=>{const f=Number(h.valor_total??0),g=Number(h.valor_pago??0),x=Math.max(0,f-g),E=h.vencimento_em;if(!Number.isFinite(E)||x<=0)return;const w=Math.floor((E-c)/(1e3*60*60*24)),I=h.devedor_nome||h.description||"Conta a Receber",j=`fin-${h.id}`;E<c?e.push({id:j,type:"FINANCIAL",severity:"CRITICAL",title:"Conta a receber vencida",message:`${I} est vencida. Valor pendente: R$ ${x.toFixed(2)}`,location:"Financeiro"}):w<=(h.alert_days_before??d)&&e.push({id:j,type:"FINANCIAL",severity:"WARNING",title:"Conta a receber prxima do vencimento",message:`${I} vence em ${w} dia(s). Valor pendente: R$ ${x.toFixed(2)}`,location:"Financeiro"})})}return e}const u7=e=>((e==null?void 0:e.is_delivery_fee)??(e==null?void 0:e.isDeliveryFee))===!0||String((e==null?void 0:e.product_group)??(e==null?void 0:e.codigo)??"").toLowerCase()==="delivery_fee"?!0:String((e==null?void 0:e.nome)??"").toLowerCase()==="taxa de entrega",d7=e=>u7(e)||((e==null?void 0:e.track_stock)??(e==null?void 0:e.trackStock))===!1?!0:(e==null?void 0:e.type)==="SERVICE",h7=({onClose:e})=>{const[t,n]=$.useState("monitor"),[r,i]=$.useState([]),[s,c]=$.useState({minStock:{},financialDaysNotice:3,minMarginPercent:15,enabledStock:!0,enabledFinancial:!0,enabledMargin:!0}),[d,h]=$.useState([]),[f,g]=$.useState("");$.useEffect(()=>{let F=!0;return(async()=>{const[S,z]=await Promise.all([f5(),fA()]);F&&(i(S),c(YN()),h(z))})(),()=>{F=!1}},[]);const x=()=>{(async()=>{const F=await f5();i(F)})()},E=()=>{iB(s),x(),alert("Configuraes de alerta salvas e aplicadas!")},w=F=>{const S={...s,[F]:!s[F]};c(S),iB(S),setTimeout(x,100)},I=(F,S)=>{const z=parseInt(S);c(D=>({...D,minStock:{...D.minStock,[F]:isNaN(z)?0:z}}))},j=d.filter(F=>F.nome.toLowerCase().includes(f.toLowerCase())&&F.tipo!=="OUTROS"&&!d7(F));return o.jsxs("div",{className:"fixed inset-0 bg-app z-50 flex flex-col animate-in slide-in-from-bottom-4 duration-300",children:[o.jsxs("div",{className:"bg-surface border-b border-bdr px-6 py-4 flex justify-between items-center shadow-sm shrink-0",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"bg-red-500/10 p-2.5 rounded-xl border border-red-500/20",children:o.jsx(hb,{className:"w-6 h-6 text-red-600 animate-pulse"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-black text-txt-main tracking-tight",children:"Central de Alertas"}),o.jsx("p",{className:"text-xs text-txt-muted font-bold uppercase tracking-widest",children:"Monitoramento Inteligente"})]})]}),o.jsx("button",{onClick:e,className:"p-2 hover:bg-red-500/10 text-txt-muted hover:text-red-500 rounded-full transition-colors",children:o.jsx(zi,{className:"w-6 h-6"})})]}),o.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[o.jsxs("div",{className:"w-72 bg-surface border-r border-bdr flex flex-col p-4 gap-2",children:[o.jsxs("button",{onClick:()=>n("monitor"),className:`p-4 rounded-xl flex items-center gap-3 transition-all text-left ${t==="monitor"?"bg-red-500 text-white shadow-lg shadow-red-500/20":"hover:bg-app text-txt-muted"}`,children:[o.jsx(cL,{className:"w-5 h-5"}),o.jsxs("div",{children:[o.jsx("span",{className:"block text-sm font-black uppercase",children:"Monitoramento"}),o.jsxs("span",{className:`text-[10px] font-bold ${t==="monitor"?"text-red-100":"text-txt-muted"}`,children:[r.length," alertas ativos"]})]})]}),o.jsx("div",{className:"h-px bg-bdr my-2"}),o.jsx("p",{className:"px-2 text-[10px] font-black text-txt-muted uppercase tracking-widest mb-1",children:"Configurao"}),o.jsxs("button",{onClick:()=>n("config-stock"),className:`p-3 rounded-xl flex items-center gap-3 transition-all text-left ${t==="config-stock"?"bg-app border-2 border-primary text-txt-main":"hover:bg-app border-2 border-transparent text-txt-muted"}`,children:[o.jsx(gd,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm font-bold",children:"Estoque Mnimo"})]}),o.jsxs("button",{onClick:()=>n("config-fin"),className:`p-3 rounded-xl flex items-center gap-3 transition-all text-left ${t==="config-fin"?"bg-app border-2 border-primary text-txt-main":"hover:bg-app border-2 border-transparent text-txt-muted"}`,children:[o.jsx(tf,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm font-bold",children:"Regras Gerais"})]})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto bg-app p-8",children:[t==="monitor"&&o.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[o.jsxs("div",{className:`p-6 rounded-2xl border-2 flex items-center gap-6 shadow-sm ${r.length>0?"bg-red-50 border-red-100":"bg-emerald-50 border-emerald-100"}`,children:[o.jsx("div",{className:`p-4 rounded-full ${r.length>0?"bg-red-100 text-red-600":"bg-emerald-100 text-emerald-600"}`,children:r.length>0?o.jsx(Kp,{className:"w-10 h-10"}):o.jsx(Ml,{className:"w-10 h-10"})}),o.jsxs("div",{children:[o.jsx("h3",{className:`text-2xl font-black ${r.length>0?"text-red-700":"text-emerald-700"}`,children:r.length>0?"Ateno Necessria":"Sistema Estvel"}),o.jsx("p",{className:"text-sm font-bold opacity-70 text-txt-main",children:r.length>0?`Foram detectados ${r.length} pontos de ateno que requerem sua interveno.`:"Todos os indicadores operacionais esto dentro dos conformes."})]})]}),o.jsx("div",{className:"space-y-4",children:r.map(F=>o.jsxs("div",{className:"bg-surface p-5 rounded-xl border border-bdr shadow-sm hover:shadow-md transition-shadow flex items-start gap-4 group",children:[o.jsxs("div",{className:`mt-1 p-2 rounded-lg shrink-0 ${F.severity==="CRITICAL"?"bg-red-500 text-white":"bg-amber-100 text-amber-600"}`,children:[F.type==="STOCK"&&o.jsx(gd,{className:"w-5 h-5"}),F.type==="FINANCIAL"&&o.jsx(_w,{className:"w-5 h-5"}),F.type==="MARGIN"&&o.jsx(nx,{className:"w-5 h-5"})]}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsx("h4",{className:"text-sm font-black text-txt-main uppercase tracking-wide",children:F.title}),o.jsx("span",{className:`text-[10px] font-black px-2 py-1 rounded border uppercase ${F.severity==="CRITICAL"?"bg-red-50 text-red-600 border-red-100":"bg-amber-50 text-amber-600 border-amber-100"}`,children:F.severity==="CRITICAL"?"Crtico":"Aviso"})]}),o.jsx("p",{className:"text-sm text-txt-muted mt-1 font-medium",children:F.message}),o.jsx("div",{className:"mt-3 flex items-center gap-2 text-xs font-bold text-primary",children:o.jsx("span",{className:"bg-app px-2 py-1 rounded border border-bdr text-txt-muted uppercase",children:F.location})})]})]},F.id))})]}),t==="config-stock"&&o.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[o.jsxs("div",{className:"bg-surface p-6 rounded-2xl border border-bdr shadow-sm flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-black text-txt-main",children:"Alertas de Estoque Mnimo"}),o.jsx("p",{className:"text-xs text-txt-muted font-bold",children:"Defina a quantidade mnima para disparar avisos"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"text-xs font-bold uppercase text-txt-muted",children:s.enabledStock?"Ativado":"Desativado"}),o.jsx("button",{onClick:()=>w("enabledStock"),className:`w-12 h-6 rounded-full p-1 transition-colors ${s.enabledStock?"bg-emerald-500":"bg-gray-300"}`,children:o.jsx("div",{className:`w-4 h-4 bg-white rounded-full shadow-sm transition-transform ${s.enabledStock?"translate-x-6":""}`})})]})]}),o.jsxs("div",{className:"bg-surface rounded-2xl border border-bdr overflow-hidden shadow-sm",children:[o.jsxs("div",{className:"p-4 border-b border-bdr flex gap-4",children:[o.jsx(Lc,{className:"w-5 h-5 text-txt-muted"}),o.jsx("input",{type:"text",placeholder:"Filtrar produtos...",value:f,onChange:F=>g(F.target.value),className:"flex-1 bg-transparent outline-none text-sm font-bold text-txt-main"})]}),o.jsxs("table",{className:"w-full text-left text-sm",children:[o.jsx("thead",{className:"bg-app text-[10px] font-black text-txt-muted uppercase tracking-widest",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-4",children:"Produto"}),o.jsx("th",{className:"px-6 py-4 w-40 text-center",children:"Estoque Mnimo"})]})}),o.jsx("tbody",{className:"divide-y divide-bdr",children:j.map(F=>o.jsxs("tr",{className:"hover:bg-app transition-colors",children:[o.jsx("td",{className:"px-6 py-4 font-bold text-txt-main",children:F.nome}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx("input",{type:"number",value:s.minStock[F.id]||0,onChange:S=>I(F.id,S.target.value),className:"w-20 text-center bg-app border border-bdr rounded-lg p-2 font-bold text-txt-main focus:ring-2 focus:ring-primary outline-none"})})]},F.id))})]})]}),o.jsx("div",{className:"flex justify-end",children:o.jsxs("button",{onClick:E,className:"bg-primary text-white px-8 py-3 rounded-xl font-black shadow-lg shadow-primary/20 flex items-center gap-2 active:scale-95 transition-transform",children:[o.jsx(wl,{className:"w-5 h-5"})," SALVAR ALTERAES"]})})]}),t==="config-fin"&&o.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[o.jsxs("div",{className:"bg-surface p-8 rounded-2xl border border-bdr shadow-sm space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-black text-txt-main flex items-center gap-2",children:[o.jsx(_w,{className:"w-5 h-5 text-blue-500"})," Alertas Financeiros"]}),o.jsx("p",{className:"text-xs text-txt-muted font-bold mt-1",children:"Avisos sobre contas a pagar e receber"})]}),o.jsx("button",{onClick:()=>w("enabledFinancial"),className:`w-12 h-6 rounded-full p-1 transition-colors ${s.enabledFinancial?"bg-emerald-500":"bg-gray-300"}`,children:o.jsx("div",{className:`w-4 h-4 bg-white rounded-full shadow-sm transition-transform ${s.enabledFinancial?"translate-x-6":""}`})})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 opacity-100 transition-opacity",children:o.jsxs("div",{className:`space-y-2 ${!s.enabledFinancial&&"opacity-50 pointer-events-none"}`,children:[o.jsx("label",{className:"text-xs font-black text-txt-muted uppercase",children:"Antecedncia do Aviso (Dias)"}),o.jsx("input",{type:"number",value:s.financialDaysNotice,onChange:F=>c({...s,financialDaysNotice:parseInt(F.target.value)}),className:"w-full bg-app border border-bdr rounded-xl p-3 font-bold text-txt-main outline-none focus:ring-2 focus:ring-blue-500"}),o.jsx("p",{className:"text-[10px] text-txt-muted",children:"Dias antes do vencimento para comear a alertar."})]})})]}),o.jsxs("div",{className:"bg-surface p-8 rounded-2xl border border-bdr shadow-sm space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-black text-txt-main flex items-center gap-2",children:[o.jsx(nx,{className:"w-5 h-5 text-amber-500"})," Proteo de Margem"]}),o.jsx("p",{className:"text-xs text-txt-muted font-bold mt-1",children:"Alerta se o preo de venda estiver prximo do custo"})]}),o.jsx("button",{onClick:()=>w("enabledMargin"),className:`w-12 h-6 rounded-full p-1 transition-colors ${s.enabledMargin?"bg-emerald-500":"bg-gray-300"}`,children:o.jsx("div",{className:`w-4 h-4 bg-white rounded-full shadow-sm transition-transform ${s.enabledMargin?"translate-x-6":""}`})})]}),o.jsxs("div",{className:`space-y-2 ${!s.enabledMargin&&"opacity-50 pointer-events-none"}`,children:[o.jsx("label",{className:"text-xs font-black text-txt-muted uppercase",children:"Margem de Lucro Mnima (%)"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"number",value:s.minMarginPercent,onChange:F=>c({...s,minMarginPercent:parseFloat(F.target.value)}),className:"w-full bg-app border border-bdr rounded-xl p-3 font-bold text-txt-main outline-none focus:ring-2 focus:ring-amber-500"}),o.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 font-black text-txt-muted",children:"%"})]}),o.jsx("p",{className:"text-[10px] text-txt-muted",children:"Se a margem (Markup) cair abaixo deste valor, um alerta ser gerado."})]})]}),o.jsx("div",{className:"flex justify-end pt-4",children:o.jsxs("button",{onClick:E,className:"bg-primary text-white px-8 py-3 rounded-xl font-black shadow-lg shadow-primary/20 flex items-center gap-2 active:scale-95 transition-transform",children:[o.jsx(wl,{className:"w-5 h-5"})," SALVAR TODAS REGRAS"]})})]})]})]})]})},f7=()=>`COL-${Date.now()}-${Math.floor(Math.random()*1e3)}`,p7=({onClose:e})=>{var _e;const t=Er(()=>Gh(),[]),n=Er(()=>Le.deposits.filter(Z=>Z.ativo!==!1).toArray(),[]),r=t??[],i=n??[],[s,c]=$.useState(""),[d,h]=$.useState("ALL"),[f,g]=$.useState("ACTIVE"),[x,E]=$.useState(!1),[w,I]=$.useState(!1),[j,F]=$.useState(null),[S,z]=$.useState(null),[D,G]=$.useState({permissoes:[]}),ce=Z=>Z==="ENTREGADOR"||Z==="GERENTE",Y=(Z,Ce)=>{var Se;return!Z&&ce(Ce)?" Acesso Global (todos os depsitos)":Z?((Se=i.find(te=>te.id===Z))==null?void 0:Se.nome)||"Depsito no encontrado":" SEM DEPSITO (ERRO)"},ge=Z=>{const Ce=Z.length;return{deliveriesToday:12+Ce%5,deliveriesMonth:140+Ce*10,avgTime:20+Ce%15,rating:4+Ce%10/10,recentOs:[{id:"20251001",time:"10:30",address:"Rua das Flores, 123",status:"DONE"},{id:"20251005",time:"11:15",address:"Av. Brasil, 500",status:"DONE"},{id:"20251009",time:"12:00",address:"Centro, Rua 1",status:"LATE"}]}},re=async Z=>{if(Z.cargo==="ENTREGADOR"){F(Z);try{const[Ce,Se]=await Promise.all([Le.service_orders.where("entregadorId").equals(Z.id).count(),Le.stock_movements.where("usuarioId").equals(Z.id).count()]),te=Ce>0||Se>0;z(te?ge(Z.id):null)}catch{z(null)}}},M=()=>{var te,P;if(!((te=D.nome)!=null&&te.trim()))return alert("O campo Nome  obrigatrio.");if(!D.cargo)return alert("O campo Cargo  obrigatrio.");if(!((P=D.username)!=null&&P.trim()))return alert("O campo Nome de Usurio  obrigatrio.");if(!ce(D.cargo)&&!D.depositoId)return alert("Selecione um depsito para este colaborador! Apenas ENTREGADOR e GERENTE tm acesso global.");const Z=D.username.trim().toLowerCase();if(r.some(ie=>{var O;return ie.id!==D.id&&((O=ie.username)==null?void 0:O.trim().toLowerCase())===Z}))return alert(` O nome de usurio "${D.username}" j existe! Cada nome de usurio deve ser nico.`);const Se={id:D.id||f7(),nome:D.nome.trim(),cargo:D.cargo,depositoId:D.depositoId??void 0,telefone:D.telefone||"",username:D.username.trim().toLowerCase(),password:D.password||"",ativo:D.ativo??!0,permissoes:D.permissoes||[]};console.log(" Salvando colaborador:",Se),wh(Se).then(()=>{console.log(" Colaborador salvo com sucesso!")}).catch(ie=>{console.error(" Erro ao salvar colaborador:",ie),alert("Erro ao salvar colaborador.")}),E(!1),G({permissoes:[]})},X=async Z=>{var O;const[Ce,Se,te,P]=await Promise.all([Le.service_orders.where("entregadorId").equals(Z).count(),Le.service_orders.where("usuarioId").equals(Z).count(),Le.stock_movements.where("usuarioId").equals(Z).count(),Le.cash_flow_entries.where("usuarioId").equals(Z).count()]),ie=Ce>0||Se>0||te>0||P>0;if(console.log(" Verificao de histrico:",{colaborador:(O=r.find(ae=>ae.id===Z))==null?void 0:O.nome,orderCountAsDriver:Ce,orderCountAsCreator:Se,movementCount:te,cashFlowCount:P,hasHistory:ie}),ie){const ae=[Ce>0?`${Ce} entregas`:null,Se>0?`${Se} ordens criadas`:null,te>0?`${te} movimentaes de estoque`:null,P>0?`${P} operaes de caixa`:null].filter(Boolean).join(", ");if(!confirm(`Este colaborador possui histrico de movimentaes:

${ae}

Ele no pode ser excludo fisicamente para manter a integridade dos dados.

Deseja DESATIVAR o acesso dele?`))return;const ue=r.find(je=>je.id===Z);ue&&(await wh({...ue,ativo:!1}),alert("Colaborador desativado com sucesso."))}else{if(!confirm("Este colaborador no possui histrico. Deseja EXCLUIR permanentemente o registro?"))return;await HQ(Z),(j==null?void 0:j.id)===Z&&F(null),alert("Colaborador excludo com sucesso.")}},V=async Z=>{if(!confirm("Reativar acesso deste colaborador?"))return;const Ce=r.find(Se=>Se.id===Z);Ce&&await wh({...Ce,ativo:!0})},W=async()=>{const Z=r.filter(te=>!(te.cargo==="GERENTE"||te.cargo==="ENTREGADOR")&&!te.depositoId);if(console.log(" Verificando usurios sem depsito:",{total:r.length,problemUsers:Z.map(te=>({nome:te.nome,cargo:te.cargo,depositoId:te.depositoId}))}),Z.length===0){alert(" Nenhum usurio precisa de correo!");return}if(i.length===0){alert(" Nenhum depsito disponvel! Crie depsitos primeiro.");return}const Ce=i[0],Se=`Encontrados ${Z.length} usurio(s) sem depsito:

${Z.map(te=>`- ${te.nome} (${te.cargo})`).join(`
`)}

Deseja vincular todos ao depsito "${Ce.nome}"?`;if(confirm(Se)){for(const te of Z)console.log(" Corrigindo usurio:",te.nome,"de",te.depositoId,"para",Ce.id),await wh({...te,depositoId:Ce.id});alert(` ${Z.length} usurio(s) corrigido(s) com sucesso!

 Aguarde 10 segundos para sincronizao com a nuvem, depois recarregue a pgina (F5).`)}},oe=Z=>{G({...Z,permissoes:Z.permissoes||[]}),E(!0)},me=Z=>{const Ce=D.permissoes||[];Ce.includes(Z)?G({...D,permissoes:Ce.filter(Se=>Se!==Z)}):G({...D,permissoes:[...Ce,Z]})},ye=()=>{var Z;((Z=D.permissoes)==null?void 0:Z.length)===Yc.length?G({...D,permissoes:[]}):G({...D,permissoes:Yc.map(Ce=>Ce.id)})},se=r.filter(Z=>{const Ce=Z.nome.toLowerCase().includes(s.toLowerCase()),Se=d==="ALL"?!0:Z.cargo===d,te=f==="ALL"?!0:f==="ACTIVE"?Z.ativo:!Z.ativo;return Ce&&Se&&te});return o.jsxs("div",{className:"fixed inset-0 bg-app z-50 flex flex-col animate-in slide-in-from-bottom-4 duration-300",children:[o.jsxs("div",{className:"bg-surface border-b border-bdr px-6 py-4 flex justify-between items-center shadow-sm shrink-0",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"bg-indigo-500/10 p-2.5 rounded-xl border border-indigo-500/20",children:o.jsx(Bc,{className:"w-6 h-6 text-indigo-600"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-black text-txt-main tracking-tight",children:"Gesto de Colaboradores"}),o.jsx("p",{className:"text-xs text-txt-muted font-bold uppercase tracking-widest",children:"Equipe & Performance"})]})]}),o.jsx("button",{onClick:e,className:"p-2 hover:bg-red-500/10 text-txt-muted hover:text-red-500 rounded-full transition-colors",children:o.jsx(zi,{className:"w-6 h-6"})})]}),o.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[o.jsxs("div",{className:"flex-1 flex flex-col bg-app overflow-hidden relative",children:[o.jsxs("div",{className:"p-6 pb-2 flex flex-col md:flex-row gap-4 justify-between items-center",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 w-full md:w-auto",children:[o.jsx("div",{className:"flex gap-2 bg-surface p-1 rounded-xl border border-bdr shadow-sm overflow-x-auto",children:["ALL","GERENTE","ENTREGADOR","ATENDENTE","CAIXA"].map(Z=>o.jsx("button",{onClick:()=>h(Z),className:`px-4 py-2 rounded-lg text-xs font-black uppercase transition-all whitespace-nowrap ${d===Z?"bg-indigo-600 text-white shadow-md":"text-txt-muted hover:bg-app hover:text-txt-main"}`,children:Z==="ALL"?"Todos":Z},Z))}),o.jsxs("div",{className:"flex gap-2 bg-surface p-1 rounded-xl border border-bdr shadow-sm",children:[o.jsx("button",{onClick:()=>g("ACTIVE"),className:`px-3 py-2 rounded-lg text-xs font-bold ${f==="ACTIVE"?"bg-emerald-100 text-emerald-700":"text-txt-muted"}`,children:"Ativos"}),o.jsx("button",{onClick:()=>g("INACTIVE"),className:`px-3 py-2 rounded-lg text-xs font-bold ${f==="INACTIVE"?"bg-red-100 text-red-700":"text-txt-muted"}`,children:"Inativos"}),o.jsx("button",{onClick:()=>g("ALL"),className:`px-3 py-2 rounded-lg text-xs font-bold ${f==="ALL"?"bg-gray-100 text-gray-700":"text-txt-muted"}`,children:"Todos"})]})]}),o.jsxs("div",{className:"flex gap-3 w-full md:w-auto",children:[o.jsxs("div",{className:"relative flex-1 md:w-64",children:[o.jsx(Lc,{className:"w-4 h-4 text-txt-muted absolute left-3 top-3"}),o.jsx("input",{type:"text",placeholder:"Buscar por nome...",value:s,onChange:Z=>c(Z.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-surface border border-bdr rounded-xl text-sm font-bold text-txt-main focus:ring-2 focus:ring-indigo-500 outline-none shadow-sm"})]}),o.jsxs("button",{onClick:W,className:"bg-amber-600 hover:bg-amber-700 text-white px-4 py-2 rounded-xl font-black text-xs flex items-center gap-2 shadow-lg shadow-amber-500/20 transition-transform active:scale-95",title:"Corrigir usurios sem depsito vinculado",children:[o.jsx(yw,{className:"w-4 h-4"})," CORRIGIR"]}),o.jsxs("button",{onClick:()=>{G({ativo:!0,cargo:"ENTREGADOR",depositoId:void 0,permissoes:[]}),E(!0)},className:"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-xl font-black text-xs flex items-center gap-2 shadow-lg shadow-indigo-500/20 transition-transform active:scale-95",children:[o.jsx(Sw,{className:"w-4 h-4"})," NOVO"]})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-6 pt-2",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:[se.map(Z=>{var Ce;return o.jsxs("div",{onClick:()=>re(Z),className:`bg-surface border border-bdr rounded-2xl p-5 hover:shadow-lg transition-all group relative cursor-pointer ${(j==null?void 0:j.id)===Z.id?"ring-2 ring-indigo-500 bg-indigo-50/10":""} ${Z.ativo?"":"opacity-70"}`,children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center text-sm font-black border-2 shadow-sm ${Z.ativo?Z.cargo==="ENTREGADOR"?"bg-orange-100 text-orange-600 border-orange-200":Z.cargo==="GERENTE"?"bg-purple-100 text-purple-600 border-purple-200":"bg-blue-100 text-blue-600 border-blue-200":"bg-gray-100 border-gray-200 text-gray-400"}`,children:Z.nome.substring(0,2).toUpperCase()}),o.jsxs("div",{children:[o.jsxs("h3",{className:"font-bold text-txt-main leading-tight flex items-center gap-2",children:[Z.nome,!Z.ativo&&o.jsx("span",{className:"bg-red-500 text-white text-[9px] px-1.5 py-0.5 rounded uppercase",children:"Inativo"})]}),o.jsx("span",{className:`text-[10px] font-black px-2 py-0.5 rounded uppercase mt-1 inline-block ${Z.ativo?Z.cargo==="ENTREGADOR"?"bg-orange-500 text-white":"bg-app text-txt-muted border border-bdr":"bg-gray-100 text-gray-500"}`,children:Z.cargo})]})]}),o.jsx("div",{children:Z.ativo?o.jsx(Ml,{className:"w-5 h-5 text-emerald-500"}):o.jsx(Oh,{className:"w-5 h-5 text-red-500"})})]}),o.jsxs("div",{className:"space-y-2 mb-4",children:[o.jsxs("div",{className:"flex items-center gap-2 text-xs text-txt-muted",children:[o.jsx(ou,{className:"w-3.5 h-3.5"}),o.jsx("span",{className:"font-medium truncate",children:Y(Z.depositoId,Z.cargo)})]}),Z.username&&o.jsxs("div",{className:"flex items-center gap-2 text-xs text-txt-muted",children:[o.jsx(fL,{className:"w-3.5 h-3.5"}),o.jsx("span",{className:"font-mono bg-app px-1.5 rounded",children:Z.username})]})]}),o.jsxs("div",{className:"flex items-center gap-1 text-[10px] font-bold text-txt-muted bg-app/50 p-2 rounded-lg",children:[o.jsx(Cw,{className:"w-3 h-3"}),o.jsxs("span",{children:[((Ce=Z.permissoes)==null?void 0:Ce.length)||0," mdulos permitidos"]})]}),o.jsx("div",{className:"flex gap-2 border-t border-bdr pt-3 mt-3 opacity-0 group-hover:opacity-100 transition-opacity",children:Z.ativo?o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:Se=>{Se.stopPropagation(),oe(Z)},className:"flex-1 py-2 rounded-lg bg-app hover:bg-indigo-50 text-indigo-600 text-xs font-bold transition-colors",children:"Editar"}),o.jsx("button",{onClick:Se=>{Se.stopPropagation(),X(Z.id)},className:"p-2 rounded-lg bg-app hover:bg-red-50 text-red-500 transition-colors",title:"Desativar ou Excluir",children:o.jsx(oo,{className:"w-4 h-4"})})]}):o.jsx("button",{onClick:Se=>{Se.stopPropagation(),V(Z.id)},className:"w-full py-2 rounded-lg bg-emerald-50 text-emerald-600 text-xs font-bold hover:bg-emerald-100 transition-colors",children:"Reativar Acesso"})}),Z.cargo==="ENTREGADOR"&&o.jsx("div",{className:"absolute top-5 right-5 text-indigo-500 opacity-20 group-hover:opacity-100 transition-opacity",children:o.jsx(yw,{className:"w-5 h-5"})})]},Z.id)}),se.length===0&&o.jsx("div",{className:"col-span-full py-12 text-center text-txt-muted",children:o.jsx("p",{className:"font-bold",children:"Nenhum colaborador encontrado com os filtros atuais."})})]})})]}),j&&j.cargo==="ENTREGADOR"&&S&&j.ativo&&o.jsxs("div",{className:"w-96 bg-surface border-l border-bdr flex flex-col shadow-2xl animate-in slide-in-from-right duration-300 relative z-10",children:[o.jsxs("div",{className:"p-6 bg-indigo-600 text-white shrink-0 relative overflow-hidden",children:[o.jsx("button",{onClick:()=>F(null),className:"absolute top-4 right-4 p-1 hover:bg-white/20 rounded-full transition-colors",children:o.jsx(zi,{className:"w-5 h-5"})}),o.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[o.jsx("div",{className:"w-16 h-16 rounded-full bg-white text-indigo-600 flex items-center justify-center font-black text-xl border-4 border-indigo-400",children:j.nome.substring(0,2).toUpperCase()}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-lg leading-tight",children:j.nome}),o.jsxs("div",{className:"flex items-center gap-1 text-xs font-medium text-indigo-200 mt-1",children:[o.jsx(Ko,{className:"w-3 h-3"})," Motorista Oficial"]})]})]}),o.jsx(Ko,{className:"absolute -right-6 -bottom-6 w-32 h-32 text-black/10 rotate-12"})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-8",children:o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"bg-app p-4 rounded-xl border border-bdr text-center",children:[o.jsx("span",{className:"text-xs font-bold text-txt-muted uppercase",children:"Hoje"}),o.jsx("p",{className:"text-3xl font-black text-indigo-600",children:S.deliveriesToday}),o.jsx("span",{className:"text-[10px] text-txt-muted",children:"entregas"})]}),o.jsxs("div",{className:"bg-app p-4 rounded-xl border border-bdr text-center",children:[o.jsx("span",{className:"text-xs font-bold text-txt-muted uppercase",children:"Ms"}),o.jsx("p",{className:"text-3xl font-black text-txt-main",children:S.deliveriesMonth}),o.jsx("span",{className:"text-[10px] text-txt-muted",children:"acumulado"})]})]})})]})]}),x&&o.jsx("div",{className:"fixed inset-0 bg-black/60 z-[60] flex items-center justify-center p-4 backdrop-blur-sm animate-in fade-in",children:o.jsxs("div",{className:"bg-surface w-full max-w-2xl rounded-2xl shadow-2xl border border-bdr overflow-hidden flex flex-col max-h-[90vh]",children:[o.jsxs("div",{className:"bg-app px-6 py-4 border-b border-bdr flex justify-between items-center shrink-0",children:[o.jsxs("h3",{className:"text-lg font-black text-txt-main flex items-center gap-2",children:[D.id?o.jsx(Mm,{className:"w-5 h-5 text-indigo-500"}):o.jsx(Sw,{className:"w-5 h-5 text-indigo-500"}),D.id?"Editar Colaborador":"Novo Colaborador"]}),o.jsx("button",{onClick:()=>E(!1),className:"hover:bg-bdr p-1 rounded-full",children:o.jsx(zi,{className:"w-5 h-5 text-txt-muted"})})]}),o.jsx("div",{className:"p-6 space-y-6 flex-1 overflow-y-auto",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-black text-txt-muted uppercase ml-1",children:"Nome Completo *"}),o.jsx("input",{type:"text",value:D.nome||"",onChange:Z=>G({...D,nome:Z.target.value}),className:"w-full bg-app border border-bdr rounded-xl p-3 text-sm font-bold text-txt-main outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Ex: Joo da Silva"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-black text-txt-muted uppercase ml-1",children:"Cargo *"}),o.jsxs("select",{value:D.cargo||"ENTREGADOR",onChange:Z=>G({...D,cargo:Z.target.value}),className:"w-full bg-app border border-bdr rounded-xl p-3 text-sm font-bold text-txt-main outline-none focus:ring-2 focus:ring-indigo-500 cursor-pointer",children:[o.jsx("option",{value:"GERENTE",children:"Gerente"}),o.jsx("option",{value:"ENTREGADOR",children:"Entregador"}),o.jsx("option",{value:"ATENDENTE",children:"Atendente"}),o.jsx("option",{value:"CAIXA",children:"Caixa"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-black text-txt-muted uppercase ml-1",children:"Telefone"}),o.jsx("input",{type:"text",value:D.telefone||"",onChange:Z=>G({...D,telefone:Z.target.value}),className:"w-full bg-app border border-bdr rounded-xl p-3 text-sm font-bold text-txt-main outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"(00) 00000-0000"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"text-xs font-black text-txt-muted uppercase ml-1",children:["Vnculo de Depsito ",ce(D.cargo)?"":"* (OBRIGATRIO)"]}),ce(D.cargo)?o.jsx("div",{className:"w-full bg-indigo-50 border border-indigo-200 rounded-xl p-3 text-sm font-bold text-indigo-600",children:" Acesso Global (todos os depsitos). Este usurio pode operar em qualquer depsito."}):o.jsxs(o.Fragment,{children:[o.jsxs("select",{value:D.depositoId||"",onChange:Z=>{const Ce=Z.target.value;console.log(" Depsito selecionado:",Ce),G({...D,depositoId:Ce})},className:`w-full bg-app border ${D.depositoId?"border-bdr":"border-red-500"} rounded-xl p-3 text-sm font-bold outline-none focus:ring-2 focus:ring-indigo-500 text-txt-main`,required:!0,children:[o.jsx("option",{value:"",children:" Selecione o depsito..."}),i.map(Z=>o.jsx("option",{value:Z.id,children:Z.nome},Z.id))]}),!D.depositoId&&o.jsxs("p",{className:"text-xs text-red-500 mt-1",children:[" Cargo ",D.cargo," DEVE ter depsito vinculado!"]})]})]}),o.jsxs("div",{className:"bg-surface border border-bdr rounded-xl p-4 space-y-4 shadow-sm",children:[o.jsxs("h4",{className:"text-xs font-black text-txt-main uppercase flex items-center gap-2",children:[o.jsx(E3,{className:"w-4 h-4 text-orange-500"})," Acesso ao Sistema"]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-[10px] font-bold text-txt-muted uppercase ml-1",children:"Login"}),o.jsx("input",{type:"text",value:D.username||"",onChange:Z=>G({...D,username:Z.target.value}),className:"w-full bg-app border border-bdr rounded-lg p-2 text-sm font-bold text-txt-main outline-none focus:ring-2 focus:ring-orange-500",placeholder:"usuario",autoComplete:"new-password"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-[10px] font-bold text-txt-muted uppercase ml-1",children:"Senha"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:w?"text":"password",value:D.password||"",onChange:Z=>G({...D,password:Z.target.value}),className:"w-full bg-app border border-bdr rounded-lg p-2 pr-8 text-sm font-bold text-txt-main outline-none focus:ring-2 focus:ring-orange-500",placeholder:"",autoComplete:"new-password"}),o.jsx("button",{type:"button",onClick:()=>I(!w),className:"absolute right-2 top-2.5 text-txt-muted hover:text-txt-main",children:w?o.jsx(c3,{className:"w-3.5 h-3.5"}):o.jsx(d3,{className:"w-3.5 h-3.5"})})]})]})]})]})]}),o.jsxs("div",{className:"flex flex-col h-full",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("label",{className:"text-xs font-black text-txt-muted uppercase ml-1 flex items-center gap-2",children:[o.jsx(Cw,{className:"w-4 h-4"})," Permisses de Acesso"]}),o.jsx("button",{type:"button",onClick:ye,className:"text-[10px] font-bold text-indigo-600 hover:underline",children:((_e=D.permissoes)==null?void 0:_e.length)===Yc.length?"Desmarcar Todos":"Marcar Todos"})]}),o.jsx("div",{className:"flex-1 bg-app border border-bdr rounded-xl p-2 overflow-y-auto max-h-[400px]",children:o.jsx("div",{className:"grid grid-cols-2 gap-2",children:Yc.map(Z=>{var te;const Ce=(te=D.permissoes)==null?void 0:te.includes(Z.id),Se=Z.icon;return o.jsxs("div",{onClick:()=>me(Z.id),className:`cursor-pointer flex items-center gap-2 p-2 rounded-lg border transition-all ${Ce?"bg-white border-indigo-200 shadow-sm":"bg-transparent border-transparent hover:bg-surface hover:border-bdr opacity-60"}`,children:[o.jsx("div",{className:`transition-colors ${Ce?"text-indigo-600":"text-txt-muted"}`,children:Ce?o.jsx(N5,{className:"w-4 h-4"}):o.jsx(yL,{className:"w-4 h-4"})}),o.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[o.jsx("div",{className:`p-1 rounded ${Z.bgColor}`,children:o.jsx(Se,{className:`w-3 h-3 ${Z.color}`})}),o.jsx("span",{className:`text-[10px] font-bold truncate ${Ce?"text-txt-main":"text-txt-muted"}`,children:Z.label})]})]},Z.id)})})}),o.jsx("p",{className:"text-[10px] text-txt-muted mt-2 ml-1",children:"Defina quais mdulos aparecero no menu principal para este usurio."})]})]})}),o.jsxs("div",{className:"p-4 bg-app border-t border-bdr flex justify-end gap-3 shrink-0",children:[o.jsx("button",{onClick:()=>E(!1),className:"px-4 py-2 text-txt-muted font-bold hover:bg-surface rounded-lg transition-colors",children:"Cancelar"}),o.jsxs("button",{onClick:M,className:"px-6 py-2 bg-indigo-600 hover:bg-indigo-700 text-white font-black rounded-lg shadow-lg shadow-indigo-500/20 flex items-center gap-2",children:[o.jsx(wl,{className:"w-4 h-4"})," SALVAR DADOS"]})]})]})})]})},m7=({onLoginSuccess:e})=>{const[t,n]=$.useState(null),[r,i]=$.useState(navigator.onLine),[s,c]=$.useState(""),[d,h]=$.useState(""),[f,g]=$.useState(""),[x,E]=$.useState(!1),[w,I]=$.useState("Administrador Principal"),[j,F]=$.useState("admin"),[S,z]=$.useState(""),[D,G]=$.useState("");$.useEffect(()=>{let re=!0;const M=()=>i(!0),X=()=>i(!1);return window.addEventListener("online",M),window.addEventListener("offline",X),Gh().then(V=>{re&&n(V.length===0)}),()=>{re=!1,window.removeEventListener("online",M),window.removeEventListener("offline",X)}},[]);const ce=async re=>{try{const{data:M,error:X}=await Ha.from("employees").select("*").or(`username.eq.${re},nome.eq.${re}`).single();if(X||!M)return null;const V=M.depositoId??M.deposito_id??M.deposit_id??null,W={id:M.id,nome:M.nome||M.name,cpf:M.cpf,telefone:M.telefone||M.phone,cargo:M.cargo||M.role,depositoId:V,ativo:M.ativo!==!1,username:M.username,password:M.password,permissoes:M.permissoes||M.permissions||[]};return await Le.employees.put(W),W}catch(M){return console.error("Erro ao buscar usurio da nuvem:",M),null}},Y=async re=>{re.preventDefault(),g(""),E(!0);try{const M=s.trim().toLowerCase(),X=d.trim();let V;const oe=(await Gh()).find(se=>{var _e;return((_e=se.username)==null?void 0:_e.trim().toLowerCase())===M});if(r){const se=await ce(M);if(se)V=se;else if(!oe){g("Usurio no encontrado!"),E(!1);return}}if(!V){if(!oe){g("Usurio no encontrado! Primeiro login requer conexo com a internet."),E(!1);return}V=oe}if(!V.ativo){g("Usurio inativo!"),E(!1);return}if(!(V.cargo==="GERENTE"||V.cargo==="ENTREGADOR")&&!V.depositoId){g(`Usurio sem depsito vinculado! Cargo ${V.cargo} deve ter depsito definido. Contate o administrador.`),E(!1);return}const ye=(V.password||"").trim();if(!ye||ye!==X){g("Senha incorreta!"),E(!1);return}e(V),E(!1)}catch(M){console.error("Erro ao autenticar:",M),g("Erro ao conectar ao banco de dados."),E(!1)}},ge=async re=>{if(re.preventDefault(),!w||!j||!S||!D){g("Todos os campos so obrigatrios.");return}E(!0);try{const M={id:"DEP1",nome:D,endereco:"Endereo Principal",ativo:!0,corIdentificacao:"blue"};await ng(M);const X={id:`COL-${Date.now()}`,nome:w,cargo:"GERENTE",depositoId:M.id,ativo:!0,username:j.trim(),password:S.trim(),permissoes:Yc.map(V=>V.id)};await wh(X),setTimeout(()=>e(X),500)}catch(M){console.error("Erro ao criar depsito:",M),g("Erro ao configurar sistema. Tente novamente."),E(!1)}};return t===null?null:o.jsxs("div",{className:"min-h-screen w-full bg-slate-900 flex items-center justify-center p-4 relative overflow-hidden",children:[o.jsx("div",{className:"absolute top-4 right-4 z-20",children:o.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-full text-xs font-bold ${r?"bg-green-500/20 text-green-400 border border-green-500/30":"bg-amber-500/20 text-amber-400 border border-amber-500/30"}`,children:[r?o.jsx(L5,{className:"w-3 h-3"}):o.jsx(S5,{className:"w-3 h-3"}),r?"Online":"Offline"]})}),o.jsx("div",{className:"absolute -top-24 -left-24 w-96 h-96 bg-red-600/20 rounded-full blur-[100px] animate-pulse"}),o.jsx("div",{className:"absolute bottom-0 right-0 w-[500px] h-[500px] bg-red-600/10 rounded-full blur-[120px]"}),o.jsxs("div",{className:"w-full max-w-md bg-white/10 backdrop-blur-xl border border-white/10 p-8 rounded-3xl shadow-2xl relative z-10 animate-in fade-in zoom-in-95 duration-500",children:[o.jsxs("div",{className:"text-center mb-10",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-red-600 to-red-800 rounded-2xl shadow-lg mb-6 transform rotate-3 hover:rotate-6 transition-transform",children:o.jsx(ob,{className:"w-10 h-10 text-white"})}),o.jsxs("h1",{className:"text-3xl font-black text-white tracking-tight",children:["Gs ",o.jsx("span",{className:"text-red-500",children:"Real"})]}),o.jsx("p",{className:"text-slate-400 text-sm font-medium mt-2",children:"Sistema Integrado de Gesto"})]}),t?o.jsxs("form",{onSubmit:ge,className:"space-y-5",children:[o.jsx("div",{className:"bg-blue-500/20 border border-blue-500/30 p-4 rounded-xl text-blue-200 text-xs font-medium text-center",children:"Bem-vindo! Vamos configurar seu acesso administrativo e o primeiro depsito."}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-xs font-black text-slate-400 uppercase ml-1",children:"Nome do Administrador"}),o.jsx("input",{type:"text",value:w,onChange:re=>I(re.target.value),className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-700 rounded-xl text-white outline-none focus:border-red-500 transition-all",placeholder:"Ex: Seu Nome"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-xs font-black text-slate-400 uppercase ml-1",children:"Nome do Depsito Principal"}),o.jsxs("div",{className:"relative",children:[o.jsx(lb,{className:"absolute left-3 top-3.5 w-4 h-4 text-slate-500"}),o.jsx("input",{type:"text",value:D,onChange:re=>G(re.target.value),className:"w-full pl-10 px-4 py-3 bg-slate-800/50 border border-slate-700 rounded-xl text-white outline-none focus:border-red-500 transition-all",placeholder:"Ex: Nome do Depsito"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-xs font-black text-slate-400 uppercase ml-1",children:"Usurio"}),o.jsx("input",{type:"text",value:j,onChange:re=>F(re.target.value),className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-700 rounded-xl text-white outline-none focus:border-red-500 transition-all",autoCapitalize:"none",autoCorrect:"off"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-xs font-black text-slate-400 uppercase ml-1",children:"Senha"}),o.jsx("input",{type:"password",value:S,onChange:re=>z(re.target.value),className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-700 rounded-xl text-white outline-none focus:border-red-500 transition-all",placeholder:"****"})]})]}),f&&o.jsx("p",{className:"text-red-400 text-xs font-bold text-center",children:f}),o.jsx("button",{type:"submit",disabled:x,className:"w-full py-4 bg-emerald-600 hover:bg-emerald-700 text-white font-black rounded-xl shadow-lg transition-all active:scale-95 flex items-center justify-center gap-2",children:x?o.jsx(Mh,{className:"w-5 h-5 animate-spin"}):o.jsxs(o.Fragment,{children:[o.jsx(wl,{className:"w-5 h-5"})," INICIAR SISTEMA"]})})]}):o.jsxs("form",{onSubmit:Y,className:"space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-xs font-black text-slate-400 uppercase ml-1",children:"Usurio"}),o.jsxs("div",{className:"relative group",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:o.jsx(pm,{className:"h-5 w-5 text-slate-500 group-focus-within:text-red-500 transition-colors"})}),o.jsx("input",{type:"text",value:s,onChange:re=>c(re.target.value),className:"w-full pl-12 pr-4 py-4 bg-slate-800/50 border border-slate-700 rounded-xl text-white placeholder-slate-500 focus:ring-2 focus:ring-red-500 focus:border-transparent outline-none transition-all font-medium",placeholder:"Seu usurio de acesso",autoComplete:"username",autoCapitalize:"none",autoCorrect:"off",spellCheck:!1,autoFocus:!0})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-xs font-black text-slate-400 uppercase ml-1",children:"Senha"}),o.jsxs("div",{className:"relative group",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:o.jsx(B5,{className:"h-5 w-5 text-slate-500 group-focus-within:text-red-500 transition-colors"})}),o.jsx("input",{type:"password",value:d,onChange:re=>h(re.target.value),className:"w-full pl-12 pr-4 py-4 bg-slate-800/50 border border-slate-700 rounded-xl text-white placeholder-slate-500 focus:ring-2 focus:ring-red-500 focus:border-transparent outline-none transition-all font-medium tracking-wide",placeholder:"",autoComplete:"current-password"})]})]}),f&&o.jsx("div",{className:"p-3 rounded-lg bg-red-500/10 border border-red-500/20 text-red-400 text-sm font-bold text-center animate-in shake",children:f}),o.jsx("button",{type:"submit",disabled:x,className:"w-full py-4 bg-gradient-to-r from-red-600 to-red-800 hover:from-red-500 hover:to-red-700 text-white font-black rounded-xl shadow-lg shadow-red-900/25 flex items-center justify-center gap-2 transition-all active:scale-95 disabled:opacity-70 disabled:cursor-not-allowed group",children:x?o.jsx(Mh,{className:"w-5 h-5 animate-spin"}):o.jsxs(o.Fragment,{children:["ACESSAR SISTEMA",o.jsx(Xv,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})})]})]}),o.jsx("div",{className:"absolute bottom-4 text-slate-600 text-[10px] font-mono",children:"v2.5.0  Build 2025"})]})},g7="data:audio/mp3;base64,//uQxAAAAANIAAAAAExBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq//uQxAAAAANIAAAAAExBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq//uQxAAAAANIAAAAAExBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq//uQxAAAAANIAAAAAExBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq//uQxAAAAANIAAAAAExBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq",v7=({currentUser:e,onJobStart:t})=>{const[n,r]=$.useState(!1),[i,s]=$.useState(Date.now()),c=$.useRef(null);$.useEffect(()=>{c.current=new Audio(g7),c.current.loop=!1,c.current.volume=1},[]),$.useEffect(()=>{if(!n)return;const h=async()=>{await ib(e,void 0,void 0,"DISPONIVEL"),s(Date.now()),(await zN()).find(E=>E.assignedDriverId===e.id&&E.status==="EM_ROTA")&&(c.current&&c.current.play().catch(E=>console.log("udio bloqueado pelo navegador",E)),navigator.vibrate&&navigator.vibrate([500,200,500]),t())},f=setInterval(()=>{h()},3e3);return h(),()=>{clearInterval(f),c.current&&(c.current.pause(),c.current.currentTime=0)}},[n,e,t]);const d=()=>{n?ib(e,void 0,void 0,"OFFLINE").finally(()=>r(!1)):(c.current&&c.current.play().then(()=>{var h;(h=c.current)==null||h.pause(),c.current.currentTime=0}).catch(h=>console.log("Erro ao desbloquear udio:",h)),r(!0))};return o.jsxs("div",{className:"h-full bg-slate-950 flex flex-col text-slate-200",children:[o.jsxs("div",{className:"px-6 py-8 flex flex-col items-center justify-center border-b border-slate-900 bg-slate-900/50",children:[o.jsx("div",{className:`w-24 h-24 rounded-full flex items-center justify-center mb-4 transition-all duration-500 ${n?"bg-emerald-500/10 shadow-[0_0_40px_rgba(16,185,129,0.2)]":"bg-slate-800"}`,children:n?o.jsxs("div",{className:"relative",children:[o.jsx(L5,{className:"w-10 h-10 text-emerald-500 animate-pulse"}),o.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-emerald-500/30 animate-ping"})]}):o.jsx(S5,{className:"w-10 h-10 text-slate-500"})}),o.jsx("h2",{className:"text-xl font-bold text-white mb-1",children:n?"Aguardando Chamados...":"Voc est Offline"}),o.jsx("p",{className:"text-xs text-slate-500 font-medium",children:n?"O operador enviar entregas para voc":"Ative para receber entregas"})]}),o.jsx("div",{className:"flex-1 flex flex-col items-center justify-center p-8 relative overflow-hidden",children:n?o.jsxs("div",{className:"relative w-64 h-64",children:[o.jsx("div",{className:"absolute inset-0 border border-emerald-500/20 rounded-full animate-[ping_3s_linear_infinite]"}),o.jsx("div",{className:"absolute inset-4 border border-emerald-500/30 rounded-full animate-[ping_3s_linear_infinite_1s]"}),o.jsx("div",{className:"absolute inset-12 border border-emerald-500/10 rounded-full"}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o.jsx(um,{className:"w-16 h-16 text-slate-600 opacity-50"})}),o.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-t from-emerald-500/20 to-transparent w-full h-1/2 top-1/2 origin-top animate-spin-slow opacity-30 pointer-events-none"})]}):o.jsxs("div",{className:"flex flex-col items-center text-slate-600 gap-4",children:[o.jsx(WS,{className:"w-20 h-20 opacity-20"}),o.jsx("p",{className:"font-medium text-sm",children:"Modo Pausa Ativo"})]})}),o.jsxs("div",{className:"p-6 bg-slate-900 border-t border-slate-800",children:[o.jsxs("button",{onClick:d,className:`w-full py-4 rounded-xl font-black text-lg shadow-lg flex items-center justify-center gap-3 transition-all active:scale-95 ${n?"bg-red-500/10 text-red-500 border border-red-500/50 hover:bg-red-500 hover:text-white":"bg-emerald-600 text-white hover:bg-emerald-500"}`,children:[o.jsx(J3,{className:"w-6 h-6"}),n?"FICAR OFFLINE":"INICIAR TURNO"]}),o.jsxs("p",{className:"text-center text-[10px] text-slate-600 mt-4 font-mono",children:["ltima conexo: ",new Date(i).toLocaleTimeString()]})]})]})},x7=({currentUser:e,onJobFinished:t})=>{const[n,r]=$.useState(null);if($.useEffect(()=>{let d=!0;const h=async()=>{const x=(await qN(e.id)).find(E=>E.status==="EM_ROTA");d&&(x?(r(x),await ib(e,void 0,void 0,"OCUPADO")):t())};h();const f=setInterval(()=>{h()},5e3);return()=>{d=!1,clearInterval(f)}},[e,t]),!n)return o.jsx("div",{className:"p-10 text-center text-white",children:"Carregando dados da entrega..."});const i=()=>{confirm("Confirmar entrega realizada e recebimento do valor?")&&VN(n.id).then(()=>t())},s=()=>{const d=prompt("Motivo da devoluo/falha:");d&&ZN(n.id,d).then(()=>t())},c=()=>{const d=encodeURIComponent(n.address.full+", Rio Verde - GO");window.open(`https://www.google.com/maps/search/?api=1&query=${d}`,"_blank")};return o.jsxs("div",{className:"flex flex-col h-full bg-slate-950 text-white overflow-hidden relative",children:[o.jsxs("div",{className:"h-1/3 bg-slate-800 relative w-full overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 opacity-30 bg-[url('https://upload.wikimedia.org/wikipedia/commons/e/ec/OpenStreetMap_Logo.png')] bg-cover bg-center grayscale mix-blend-overlay"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent to-slate-950"}),o.jsxs("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 px-4 py-1.5 rounded-full bg-slate-900/80 backdrop-blur border border-slate-700 text-xs font-bold uppercase tracking-widest flex items-center gap-2",children:[o.jsx(Nw,{className:"w-4 h-4 text-blue-500 animate-pulse"}),"Em Deslocamento"]})]}),o.jsxs("div",{className:"flex-1 bg-slate-900 rounded-t-[2rem] -mt-10 relative z-10 flex flex-col p-6 shadow-[0_-10px_40px_rgba(0,0,0,0.5)] border-t border-slate-800",children:[o.jsx("div",{className:"w-12 h-1.5 bg-slate-700 rounded-full mx-auto mb-6 opacity-50"}),o.jsxs("div",{className:"space-y-6 flex-1 overflow-y-auto pb-4",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-black leading-tight mb-1",children:n.customerName}),o.jsxs("div",{className:"flex items-center gap-2 text-indigo-400 font-bold text-sm",onClick:()=>window.open(`tel:${n.customerPhone}`),children:[o.jsx(db,{className:"w-4 h-4"})," ",n.customerPhone||"Sem telefone"]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-xs text-slate-500 font-bold uppercase",children:"Total a Receber"}),o.jsxs("div",{className:"text-2xl font-black text-emerald-400",children:["R$ ",n.totalValue.toFixed(2)]})]})]}),o.jsxs("div",{className:"bg-slate-800 p-4 rounded-2xl border border-slate-700 flex gap-4",children:[o.jsx(ou,{className:"w-6 h-6 text-indigo-500 shrink-0 mt-1"}),o.jsx("div",{children:o.jsx("p",{className:"text-sm font-medium text-slate-200 leading-snug",children:n.address.full})})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between text-sm border-b border-slate-800 pb-2",children:[o.jsx("span",{className:"text-slate-500",children:"Pagamento"}),o.jsx("span",{className:"font-bold",children:n.paymentMethod})]}),o.jsxs("div",{className:"flex justify-between text-sm border-b border-slate-800 pb-2",children:[o.jsx("span",{className:"text-slate-500",children:"Itens"}),o.jsx("span",{className:"font-bold text-right max-w-[200px] truncate",children:n.itemsSummary})]}),n.observation&&o.jsxs("div",{className:"bg-amber-500/10 border border-amber-500/20 p-3 rounded-xl text-xs text-amber-200",children:[o.jsx("span",{className:"font-bold block mb-1",children:"Observao:"}),n.observation]})]})]}),o.jsxs("div",{className:"mt-4 space-y-3",children:[o.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[o.jsx("button",{onClick:c,className:"col-span-1 bg-slate-800 hover:bg-slate-700 text-white rounded-xl flex items-center justify-center py-4",children:o.jsx(Nw,{className:"w-6 h-6"})}),o.jsxs("button",{onClick:i,className:"col-span-3 py-4 bg-emerald-600 hover:bg-emerald-700 text-white rounded-xl font-black text-base shadow-lg shadow-emerald-500/20 flex items-center justify-center gap-2",children:[o.jsx(Ml,{className:"w-5 h-5"})," FINALIZAR"]})]}),o.jsx("button",{onClick:s,className:"w-full py-3 text-xs font-bold text-slate-500 hover:text-red-500 transition-colors",children:"Relatar Problema / Devolver"})]})]})]})},b7=({currentUser:e,onLogout:t})=>{const[n,r]=$.useState("WAITING");return $.useEffect(()=>{(async()=>{(await qN(e.id)).find(d=>d.status==="EM_ROTA")&&r("ACTIVE")})()},[e]),o.jsxs("div",{className:"h-screen w-full overflow-hidden flex flex-col",children:[o.jsxs("div",{className:"bg-slate-950 p-4 flex justify-between items-center border-b border-slate-800 shrink-0 z-50",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-800 border border-slate-700 flex items-center justify-center text-xs font-bold text-slate-300",children:e.nome.substring(0,2).toUpperCase()}),o.jsx("span",{className:"font-bold text-slate-200 text-sm",children:e.nome})]}),o.jsx("button",{onClick:t,className:"p-2 text-slate-500 hover:text-red-500 transition-colors",children:o.jsx(C5,{className:"w-5 h-5"})})]}),o.jsx("div",{className:"flex-1 relative",children:n==="WAITING"?o.jsx(v7,{currentUser:e,onJobStart:()=>r("ACTIVE")}):o.jsx(x7,{currentUser:e,onJobFinished:()=>r("WAITING")})})]})},y7=e=>{if(typeof e=="number"&&Number.isFinite(e))return e;if(typeof e=="string"&&e){const t=Date.parse(e);if(!Number.isNaN(t))return t}return 0},_7=e=>((e==null?void 0:e.is_delivery_fee)??(e==null?void 0:e.isDeliveryFee))===!0||String((e==null?void 0:e.product_group)??(e==null?void 0:e.codigo)??"").toLowerCase()==="delivery_fee"?!0:String((e==null?void 0:e.nome)??(e==null?void 0:e.name)??"").toLowerCase()==="taxa de entrega",w7=e=>_7(e)||((e==null?void 0:e.track_stock)??(e==null?void 0:e.trackStock))===!1?!0:(e==null?void 0:e.type)==="SERVICE",B7=()=>{const e=Er(()=>Le.products.toArray(),[])??[],t=Er(()=>Le.work_shifts.where("status").equals("DISCREPANCY").toArray(),[])??[],n=Er(()=>Le.service_orders.where("status").equals("PENDENTE").toArray(),[])??[];return $.useMemo(()=>{const r=[],i=Date.now()-24e5;for(const s of e){if(w7(s)||!(s.track_stock===!0||s.trackStock===!0))continue;const d=Number(s.current_stock??s.currentStock??0);if(Number.isFinite(d)&&d<=5){const h=d<=0?"critical":"warning",f=String(s.nome??s.name??s.codigo??"Produto");r.push({id:`stock-${s.id}`,type:h,message:`Produto ${f} esta acabando (${d} un)`,link:"/stock"})}}for(const s of t){const c=String(s.user_name??s.userName??s.user_id??s.userId??s.usuario??s.id);r.push({id:`cash-${s.id}`,type:"critical",message:`Diferenca de valor no caixa de ${c}`,link:"/finance"})}for(const s of n){const c=y7(s.dataHoraCriacao??s.created_at??s.createdAt);if(!c||c>i)continue;const d=s.numeroOs??s.number??s.numero??s.id;r.push({id:`order-${s.id}`,type:"critical",message:`O.S. #${d} esta atrasada`,link:"/orders"})}return r},[e,t,n])},C7=e=>{typeof window>"u"||window.dispatchEvent(new CustomEvent("gp:navigate",{detail:e}))},N7=()=>{const[e,t]=$.useState({x:window.innerWidth-150,y:window.innerHeight-150}),[n,r]=$.useState(!1),[i,s]=$.useState({x:0,y:0}),[c,d]=$.useState({x:0,y:0}),[h,f]=$.useState(0),[g,x]=$.useState(!1),[E,w]=$.useState(null),[I,j]=$.useState(!1),F=B7(),S=F.length,z=S>0?F[h%S]:null,D=$.useMemo(()=>F.some(X=>X.type==="critical"),[F]),G=D?"critical":S>0?"worried":"happy",ce=$.useRef(null);$.useEffect(()=>{if(S<=1)return;const X=setInterval(()=>{f(V=>(V+1)%S)},5e3);return()=>clearInterval(X)},[S]),$.useEffect(()=>{h>=S&&f(0)},[h,S]),$.useEffect(()=>{const X=W=>{if(n&&(t({x:W.clientX-i.x,y:W.clientY-i.y}),E)){const oe=Math.abs(W.clientX-E.x),me=Math.abs(W.clientY-E.y);(oe>4||me>4)&&j(!0)}if(ce.current){const oe=ce.current.getBoundingClientRect(),me=oe.left+oe.width/2,ye=oe.top+oe.height/2,se=Math.atan2(W.clientY-ye,W.clientX-me),_e=Math.min(3,Math.hypot(W.clientX-me,W.clientY-ye)/20);d({x:Math.cos(se)*_e,y:Math.sin(se)*_e})}},V=()=>{r(!1),E&&(I||x(W=>!W),j(!1),w(null))};return window.addEventListener("mousemove",X),window.addEventListener("mouseup",V),()=>{window.removeEventListener("mousemove",X),window.removeEventListener("mouseup",V)}},[n,i,E,I]);const Y=X=>{r(!0),s({x:X.clientX-e.x,y:X.clientY-e.y}),w({x:X.clientX,y:X.clientY}),j(!1)},ge=()=>G==="critical"?"bg-red-500 shadow-[0_0_15px_rgba(239,68,68,0.9)]":G==="worried"?"bg-amber-400 shadow-[0_0_10px_rgba(251,191,36,0.8)]":"bg-cyan-400 shadow-[0_0_10px_rgba(34,211,238,0.8)]",re=()=>G==="critical"?"bg-red-950/80 border-red-800":G==="worried"?"bg-amber-950/80 border-amber-800":"bg-slate-800 border-slate-600",M=X=>{C7(X),x(!1)};return o.jsxs("div",{ref:ce,className:`fixed z-[9999] touch-none select-none cursor-move group transition-shadow duration-300 ${n?"scale-105":""}`,style:{left:e.x,top:e.y,filter:n?"drop-shadow(0 20px 20px rgba(0,0,0,0.3))":"drop-shadow(0 10px 10px rgba(0,0,0,0.2))"},onMouseDown:Y,children:[z&&o.jsx("div",{className:"absolute -top-24 left-1/2 -translate-x-1/2",children:o.jsxs("div",{className:`relative bg-white text-gray-900 border rounded-2xl shadow-xl px-4 py-3 text-xs w-64 animate-in fade-in duration-300 ${D?"border-red-500":"border-gray-200"}`,children:[o.jsx("div",{className:`text-[10px] font-black uppercase ${z.type==="critical"?"text-red-600":"text-amber-600"}`,children:z.type==="critical"?"Critico":"Aviso"}),o.jsx("div",{className:"text-xs font-semibold text-gray-900",children:z.message}),o.jsx("div",{className:`absolute -bottom-3 left-8 w-3 h-3 rounded-full bg-white border ${D?"border-red-500":"border-gray-200"}`}),o.jsx("div",{className:`absolute -bottom-8 left-14 w-2 h-2 rounded-full bg-white border ${D?"border-red-500":"border-gray-200"}`}),o.jsx("div",{className:`absolute -bottom-16 left-20 w-1.5 h-1.5 rounded-full bg-white border ${D?"border-red-500":"border-gray-200"}`})]})}),S>0&&o.jsx("div",{className:"absolute -top-2 -right-2 bg-red-600 text-white text-[10px] font-black w-6 h-6 flex items-center justify-center rounded-full border-2 border-white z-20 animate-bounce",children:S}),o.jsx("div",{className:`relative ${n?"":"animate-float"}`,children:o.jsxs("div",{className:"relative w-20 h-24",children:[o.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-10 h-3 bg-slate-300 rounded-full border border-slate-400 z-10"}),o.jsx("div",{className:"absolute top-1 left-1/2 -translate-x-1/2 w-5 h-5 bg-slate-300 z-0 rounded-sm"}),o.jsxs("div",{className:"absolute top-5 w-full h-full bg-gradient-to-br from-slate-200 via-slate-300 to-slate-400 rounded-3xl border border-slate-400 shadow-inner flex flex-col items-center justify-center overflow-hidden",children:[o.jsx("div",{className:"absolute top-3 left-3 w-4 h-10 bg-white/40 rounded-full blur-[2px]"}),o.jsxs("div",{className:`w-14 h-9 rounded-xl mt-3 flex items-center justify-center gap-2 shadow-[inset_0_2px_4px_rgba(0,0,0,0.5)] border relative overflow-hidden transition-colors duration-500 ${re()}`,children:[o.jsxs("div",{className:"flex gap-2 transition-transform duration-100",style:{transform:`translate(${c.x}px, ${c.y}px)`},children:[o.jsx("div",{className:`w-3 h-3 rounded-full transition-colors duration-500 ${ge()} ${G==="worried"?"rounded-t-sm":""} ${G==="critical"?"animate-pulse":""}`}),o.jsx("div",{className:`w-3 h-3 rounded-full transition-colors duration-500 ${ge()} ${G==="worried"?"rounded-t-sm":""} ${G==="critical"?"animate-pulse":""}`})]}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-white/5 to-transparent animate-scan"})]}),o.jsxs("div",{className:"mt-3 flex flex-col gap-1 items-center",children:[o.jsx("div",{className:`w-8 h-0.5 rounded-full transition-colors ${G==="critical"?"bg-red-400":"bg-slate-500"}`}),o.jsx("div",{className:`w-6 h-0.5 rounded-full transition-colors ${G==="critical"?"bg-red-400":"bg-slate-500"}`})]}),o.jsx("div",{className:"absolute bottom-4 w-full border-t border-slate-400/30"})]}),o.jsx("div",{className:`absolute top-12 -left-3 w-4 h-4 bg-slate-400 rounded-full shadow-sm border border-slate-500 transition-transform ${n?"-rotate-12":"animate-wiggle-left"}`}),o.jsx("div",{className:`absolute top-12 -right-3 w-4 h-4 bg-slate-400 rounded-full shadow-sm border border-slate-500 transition-transform ${n?"rotate-12":"animate-wiggle-right"}`}),o.jsxs("div",{className:"absolute -top-6 left-1/2 -translate-x-1/2 opacity-0 group-hover:opacity-100 transition-opacity bg-slate-800 text-white text-[10px] px-2 py-1 rounded-full whitespace-nowrap pointer-events-none flex items-center gap-1",children:[o.jsx(P3,{className:"w-3 h-3"})," Arraste-me"]})]})}),g&&o.jsxs("div",{className:"absolute left-full top-0 ml-4 w-72 bg-white text-gray-900 border border-gray-200 rounded-xl shadow-xl overflow-hidden animate-in fade-in duration-200",onMouseDown:X=>X.stopPropagation(),onClick:X=>X.stopPropagation(),children:[o.jsxs("div",{className:"px-4 py-3 border-b border-gray-200 text-[10px] font-black uppercase text-gray-500",children:["Alertas do sistema (",S,")"]}),o.jsx("div",{className:"max-h-64 overflow-y-auto",children:F.length===0?o.jsx("div",{className:"px-4 py-4 text-xs text-gray-500",children:"Nenhum alerta ativo."}):F.map(X=>o.jsxs("button",{type:"button",onClick:()=>M(X.link),className:"w-full text-left px-4 py-3 border-b border-gray-100 last:border-b-0 hover:bg-gray-50",children:[o.jsx("div",{className:`text-[10px] font-black uppercase ${X.type==="critical"?"text-red-600":"text-amber-600"}`,children:X.type==="critical"?"Critico":"Aviso"}),o.jsx("div",{className:"text-xs text-gray-800",children:X.message})]},X.id))})]}),o.jsx("style",{children:`

        @keyframes float {

          0%, 100% { transform: translateY(0); }

          50% { transform: translateY(-8px); }

        }

        .animate-float {

          animation: float 3s infinite ease-in-out;

        }

        @keyframes scan {

          0% { transform: translateY(-100%); }

          100% { transform: translateY(100%); }

        }

        .animate-scan {

          animation: scan 2s linear infinite;

        }

      `})]})},E7=({user:e})=>{const{openShift:t}=lg(),[n,r]=$.useState(""),[i,s]=$.useState({}),[c,d]=$.useState([]),[h,f]=$.useState({}),[g,x]=$.useState(!1),[E,w]=$.useState(null),[I,j]=$.useState(e.depositoId||""),F=Er(()=>{var M;return(M=Le.deposits)==null?void 0:M.toArray()},[])??[],S=Er(()=>I?Le.deposits.get(I):void 0,[I]),z=!!((S==null?void 0:S.require_stock_audit)??(S==null?void 0:S.requireStockAudit)),D=M=>M.deposit_id??M.depositId??M.depositoId??null,G=M=>(M.is_delivery_fee??M.isDeliveryFee)===!0||String(M.product_group??M.codigo??"").toLowerCase()==="delivery_fee"?!0:String(M.nome??"").toLowerCase()==="taxa de entrega",ce=M=>G(M)||(M.track_stock??M.trackStock)===!1?!0:M.type==="SERVICE";$.useEffect(()=>{let M=!0;return(async()=>{if(!I)return;const W=(await fA()).filter(me=>{if(ce(me))return!1;const ye=D(me);return ye===null||ye===I}),oe=await rg(I);M&&(d(W),f(oe))})(),()=>{M=!1}},[I]);const Y=$.useMemo(()=>!z||!c.length?!1:c.some(M=>i[M.id]===""||i[M.id]===void 0),[z,c,i]),ge=(M,X)=>{const V=parseInt(X);s(W=>({...W,[M]:Number.isNaN(V)?"":Math.max(0,V)}))},re=async()=>{if(w(null),!I){w("Erro: Usurio sem depsito vinculado.");return}const M=Number(n.replace(",","."));if(!Number.isFinite(M)||M<0){w("Informe um valor valido para o fundo de troco.");return}if(Y){w("Preencha a contagem inicial de estoque.");return}x(!0);try{await t({openingBalance:M})}catch{w("Falha ao abrir o turno.")}finally{x(!1)}};return o.jsx("div",{className:"fixed inset-0 z-[70] bg-black/70 flex items-center justify-center p-6",children:o.jsxs("div",{className:"w-full max-w-3xl bg-surface border border-bdr rounded-2xl shadow-xl overflow-hidden",children:[o.jsxs("div",{className:"px-6 py-4 border-b border-bdr flex items-center gap-3",children:[o.jsx("div",{className:"bg-primary/10 p-2 rounded-lg border border-primary/20",children:o.jsx(Qh,{className:"w-5 h-5 text-primary"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-base font-black text-txt-main",children:"Abertura de Caixa"}),o.jsx("p",{className:"text-xs text-txt-muted",children:"Turno obrigatorio para acesso ao sistema."})]})]}),o.jsxs("div",{className:"p-6 space-y-6",children:[!e.depositoId&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-bold text-txt-main",children:"Selecione o Depsito *"}),o.jsxs("select",{value:I,onChange:M=>j(M.target.value),className:"w-full px-4 py-3 border border-bdr rounded-lg bg-app text-txt-main focus:ring-2 focus:ring-primary",required:!0,children:[o.jsx("option",{value:"",children:"-- Selecione um depsito --"}),F.map(M=>o.jsx("option",{value:M.id,children:M.nome},M.id))]}),o.jsx("p",{className:"text-xs text-txt-muted",children:"Selecione o depsito onde deseja abrir turno."})]}),E&&o.jsx("div",{className:"bg-red-500/10 border border-red-500/30 rounded-xl p-4",children:o.jsxs("div",{className:"flex items-center gap-2 text-red-500 font-bold text-sm",children:[o.jsx(fm,{className:"w-4 h-4"}),E]})}),o.jsxs("div",{className:"bg-app border border-bdr rounded-xl p-4 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-app rounded-full border border-bdr",children:o.jsx(lb,{className:"w-5 h-5 text-txt-muted"})}),o.jsxs("div",{children:[o.jsx("div",{className:"text-xs text-txt-muted uppercase font-bold",children:"Deposito"}),o.jsx("div",{className:"text-sm font-black text-txt-main",children:(S==null?void 0:S.nome)||"Selecione um depsito"})]})]}),z&&o.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-amber-500 bg-amber-500/10 border border-amber-500/20 px-2 py-1 rounded",children:[o.jsx(fm,{className:"w-4 h-4"}),"Auditoria de estoque obrigatoria"]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 items-end",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-xs font-bold text-txt-muted uppercase ml-1",children:"Fundo de Troco / Suprimento Inicial"}),o.jsxs("div",{className:"relative",children:[o.jsx("span",{className:"absolute left-3 top-2.5 text-txt-muted font-medium",children:"R$"}),o.jsx("input",{type:"number",min:"0",value:n,onChange:M=>r(M.target.value),className:"w-full pl-10 pr-4 py-2 bg-app border border-bdr rounded-lg focus:ring-2 focus:ring-primary/20 outline-none font-bold text-txt-main",placeholder:"0.00"})]})]})}),z&&c.length>0&&o.jsxs("div",{className:"bg-app border border-bdr rounded-xl overflow-hidden",children:[o.jsx("div",{className:"px-4 py-3 border-b border-bdr",children:o.jsx("h4",{className:"text-xs font-black text-txt-muted uppercase tracking-widest",children:"Contagem Inicial de Estoque"})}),o.jsxs("table",{className:"w-full text-sm text-left",children:[o.jsx("thead",{className:"bg-surface text-[10px] text-txt-muted uppercase font-black border-b border-bdr",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3",children:"Produto"}),o.jsx("th",{className:"px-4 py-3 text-center",children:"Estoque Sistema"}),o.jsx("th",{className:"px-4 py-3 text-center",children:"Contado"})]})}),o.jsx("tbody",{className:"divide-y divide-bdr",children:c.map(M=>o.jsxs("tr",{className:"hover:bg-app/60 transition-colors",children:[o.jsx("td",{className:"px-4 py-3 font-medium text-txt-main",children:M.nome}),o.jsx("td",{className:"px-4 py-3 text-center font-mono text-txt-muted",children:h[M.id]??0}),o.jsx("td",{className:"px-4 py-3 text-center",children:o.jsx("input",{type:"number",min:"0",value:i[M.id]??"",onChange:X=>ge(M.id,X.target.value),className:"w-24 text-center font-black bg-surface border border-bdr rounded-lg py-1 text-txt-main focus:ring-2 focus:ring-primary/20 outline-none",placeholder:"-"})})]},M.id))})]})]}),E&&o.jsx("div",{className:"text-xs font-bold text-red-500 bg-red-500/10 border border-red-500/20 px-3 py-2 rounded",children:E})]}),o.jsx("div",{className:"px-6 py-4 border-t border-bdr bg-app flex justify-end",children:o.jsxs("button",{onClick:re,disabled:g,className:"bg-primary hover:bg-primary/90 text-white px-6 py-2 rounded-lg font-black text-sm flex items-center gap-2 disabled:opacity-60",children:[o.jsx(wl,{className:"w-4 h-4"}),g?"Abrindo...":"Abrir Turno"]})})]})})};function Gb(e){if(!e)return!1;const t=typeof e=="string"?{message:e}:e,n=String((t==null?void 0:t.code)??"").toUpperCase(),r=String((t==null?void 0:t.message)??"").toLowerCase(),i=String((t==null?void 0:t.details)??"").toLowerCase(),s=String((t==null?void 0:t.hint)??"").toLowerCase(),c=`${r} ${i} ${s}`;return!!(n==="PGRST204"||n==="42703"||c.includes("schema cache")&&c.includes("could not find")||c.includes("column")&&c.includes("does not exist")||c.includes("column")&&(c.includes("not found")||c.includes("could not find"))||c.includes("unknown column"))}function S7(e){if(!e)return!1;const t=typeof e=="string"?{message:e}:e;if(String((t==null?void 0:t.code)??"").toUpperCase()!=="23502")return!1;const r=String((t==null?void 0:t.message)??"").toLowerCase();return r.includes("null value in column")&&r.includes("violates not-null constraint")}async function zs(e,t,n="id"){var i,s;let r=null;for(const c of t){const d=tg(c,e),h=typeof window>"u";h&&console.log("[UPSERT]",e,Object.keys(d).sort());const f=await Ha.from(e).upsert(d,{onConflict:n}).select("*").single();if(!f.error)return f.data;if(r=f.error,Gb(f.error)||S7(f.error)){h&&console.log("[UPSERT_FAIL_RETRY]",e,{code:(i=f.error)==null?void 0:i.code,message:(s=f.error)==null?void 0:s.message});continue}throw f.error}throw r}async function ko(e,t){const{error:n}=await Ha.from(e).delete().eq("id",t);if(n)throw n}async function zE(e,t,n){let r=null;for(const i of t){const{error:s}=await Ha.from(e).delete().eq(i,n);if(!s)return;if(r=s,!Gb(s))throw s}throw r}async function L7(e,t){let n=null;for(const r of t){if(!r.length)return;const i=r.map(c=>tg(c,e)),{error:s}=await Ha.from(e).insert(i);if(!s)return;if(n=s,!Gb(s))throw s}throw n}async function j7(e){const t=e.track_stock??e.trackStock??void 0,n=typeof t=="boolean"?t:!0,r=e.type??null,i=e.is_delivery_fee===!0||e.isDeliveryFee===!0||String(e.product_group??e.codigo??"").toLowerCase()==="delivery_fee"||String(e.nome??"").toLowerCase()==="taxa de entrega",s=String(e.movement_type??e.movementType??"").toUpperCase(),c=s==="SIMPLE"||s==="EXCHANGE"||s==="FULL"?s:e.movement_type??null,d=e.return_product_id??e.returnProductId??null,h=c==="EXCHANGE"?d:null,f={id:e.id,codigo:e.codigo,nome:e.nome,descricao:e.descricao??null,tipo:e.tipo??null,unidade:e.unidade??null,product_group:e.product_group??null,imagem_url:e.imagem_url??null,depositoId:e.depositoId??e.deposit_id??null,preco_custo:e.preco_custo??0,preco_venda:e.preco_venda??0,preco_padrao:e.preco_padrao??0,marcacao:e.marcacao??0,tracks_empties:!!e.tracks_empties,track_stock:n,type:r,is_delivery_fee:i,movement_type:c??null,return_product_id:h??null,ativo:!!e.ativo,created_at:e.created_at??null,updated_at:e.updated_at??null},g={...f};delete g.track_stock,delete g.type,delete g.is_delivery_fee,delete g.movement_type,delete g.return_product_id;const x=e.current_stock??e.quantidade_atual??null,E=x!==null?[{...f,current_stock:x},{...f,quantidade_atual:x},f,{...g,current_stock:x},{...g,quantidade_atual:x},g]:[f,g];return zs("products",E)}async function k7(e){return ko("products",e)}async function U7(e){const t={id:e.id,name:e.name,address:e.address??null,active:!!e.active,color:e.color??null,require_stock_audit:e.require_stock_audit??e.requireStockAudit??!1,created_at:e.created_at??e.createdAt??null,updated_at:new Date().toISOString()},n=e.free_shipping_min_value??e.freeShippingMinValue??e.freeShippingMin??null,r=n!=null?Number(n):null,i=r!==null?[{...t,free_shipping_min_value:r},{...t,freeShippingMinValue:r},t]:[t];return zs("deposits",i)}async function I7(e){const{error:t}=await Ha.from("deposits").delete().eq("id",e);if(t)throw t}async function T7(e){const t={id:e.id,nome:e.nome,cargo:e.cargo,depositoId:e.depositoId,ativo:e.ativo,telefone:e.telefone??null,username:e.username??null,password:e.password??null,permissoes:e.permissoes??[]},n={id:e.id,name:e.nome,role:e.cargo,depositoId:e.depositoId,active:e.ativo,phone:e.telefone??null,username:e.username??null,password:e.password??null,permissions:e.permissoes??[]};return zs("employees",[t,n])}async function F7(e){return ko("employees",e)}async function O7(e){console.log("Sync Client Payload Recebido:",e);const t=(e==null?void 0:e.name)??(e==null?void 0:e.nome)??(e==null?void 0:e.clienteNome)??(e==null?void 0:e.customer_name)??(e==null?void 0:e.full_name)??"",n=(e==null?void 0:e.phone)??(e==null?void 0:e.telefone)??(e==null?void 0:e.celular)??(e==null?void 0:e.address)??(e==null?void 0:e.endereco)??"",r=String(t||n).trim(),i=e.deliveryZoneId??e.delivery_zone_id??e.zona_id??e.zone_id??null,s={id:e.id,name:r,phone:e.phone||e.telefone||e.celular,document:e.cpf||e.cnpj||e.document||e.documento,address:e.address||e.endereco||e.logradouro,depositoId:e.depositoId||e.deposito_id||e.deposit_id||null,created_at:e.created_at||new Date().toISOString(),updated_at:new Date().toISOString()};if(i&&(s.delivery_zone_id=i),!s.name){const h=s.phone?String(s.phone).trim():"",f=s.id?String(s.id).slice(0,8):"no-id",g=h?`Cliente ${h}`:`Unnamed Client ${f}`;console.warn("AVISO: cliente sem nome. Usando fallback:",g,e),s.name=g}const c=tg(s,"clients"),d=await Ha.from("clients").upsert(c).select().single();if(d.error)throw console.error("Erro Supabase Client:",d.error),d.error;return d.data}async function Q7(e){const{error:t}=await Ha.from("clients").delete().eq("id",e);if(t)throw t}async function D7(e){const t={id:e.id,clienteId:e.clienteId,produtoId:e.produtoId,depositoId:e.depositoId??null,modalidade:e.modalidade,precoEspecial:e.precoEspecial??null,ativo:e.ativo,atualizado_em:e.atualizado_em},n={id:e.id,client_id:e.clienteId,product_id:e.produtoId,deposit_id:e.depositoId??null,modality:e.modalidade,override_price:e.precoEspecial??null,active:e.ativo,updated_at:e.atualizado_em};return zs("client_price_overrides",[t,n])}async function M7(e){return ko("client_price_overrides",e)}async function R7(e){const t=i=>{if(!i)return null;try{return new Date(i).toISOString()}catch{return null}},n={id:e.id,client_id:e.clienteId,discount_type:e.tipoDesconto,amount:e.valorDesconto??0,status:e.usado?"USADO":"PENDENTE",created_at:t(e.criado_em),used_at:t(e.usado_em)},r=await Ha.from("client_one_time_benefits").upsert(n).select().single();if(r.error)throw r.error;return r.data}async function P7(e){const{error:t}=await Ha.from("client_one_time_benefits").delete().eq("id",e);if(t)throw t}async function H7(e){const t=e.delivery_fee??e.deliveryFee??e.deliveryFeeValue??null,n=t==null?null:Number(t),r={id:e.id,numeroOs:e.numeroOs,depositoId:e.depositoId,clienteId:e.clienteId,clienteNome:e.clienteNome,clienteTelefone:e.clienteTelefone??null,enderecoEntrega:e.enderecoEntrega??null,latitude:e.latitude??null,longitude:e.longitude??null,status:e.status,statusEntrega:e.statusEntrega??null,tipoAtendimento:e.tipoAtendimento,entregadorId:e.entregadorId??null,observacoes:e.observacoes??null,total:e.total,dataHoraCriacao:e.dataHoraCriacao,updated_at:e.updated_at,dataHoraConclusao:e.dataHoraConclusao?new Date(e.dataHoraConclusao).toISOString():null,historico:e.historico??[],pagamentos:e.pagamentos??[]},i={id:e.id,order_number:e.numeroOs,deposit_id:e.depositoId,client_id:e.clienteId,client_name:e.clienteNome,client_phone:e.clienteTelefone??null,delivery_address:e.enderecoEntrega??null,lat:e.latitude??null,lng:e.longitude??null,status:e.status,delivery_status:e.statusEntrega??null,service_type:e.tipoAtendimento,driver_id:e.entregadorId??null,notes:e.observacoes??null,total_amount:e.total,created_at_ms:e.dataHoraCriacao,updated_at_ms:e.updated_at,completed_at:e.dataHoraConclusao?new Date(e.dataHoraConclusao).toISOString():null,history:e.historico??[],payments:e.pagamentos??[]},s=n!==null?[{...r,deliveryFee:n},{...i,delivery_fee:n},r,i]:[r,i];await zs("service_orders",s);const c=e.itens??[];await zE("service_order_items",["os_id","osId","order_id","service_order_id"],e.id);const d=c.map(g=>({id:g.id,os_id:e.id,produto_id:g.produtoId,quantidade:g.quantidade,preco_unitario:g.precoUnitario,modalidade:g.modalidade,is_preco_especial:g.isPrecoEspecial??null})),h=c.map(g=>({id:g.id,osId:e.id,produtoId:g.produtoId,quantidade:g.quantidade,precoUnitario:g.precoUnitario,modalidade:g.modalidade,isPrecoEspecial:g.isPrecoEspecial??null})),f=c.map(g=>({id:g.id,order_id:e.id,product_id:g.produtoId,qty:g.quantidade,unit_price:g.precoUnitario,modality:g.modalidade,is_special_price:g.isPrecoEspecial??null}));await L7("service_order_items",[d,h,f])}async function z7(e){return await zE("service_order_items",["os_id","osId","order_id","service_order_id"],e),ko("service_orders",e)}async function q7(e){const t=s=>{if(!s)return new Date().toISOString();try{return new Date(s).toISOString()}catch{return new Date().toISOString()}},n={id:e.id,produtoId:e.produtoId||e.product_id||e.produto_id,depositoId:e.depositoId||e.deposit_id||e.deposito_id,type:e.type||e.tipo||"IN",quantity:Number(e.quantity||e.quantidade||0),reason:e.reason||e.motivo||"Ajuste Manual",created_at:t(e.data_hora||e.movement_date||e.created_at)},r=tg(n,"stock_movements"),i=await Ha.from("stock_movements").upsert(r).select().single();if(i.error)throw console.error("Erro Sync Estoque:",i.error),i.error;return i.data}async function K7(e){const{error:t}=await Ha.from("stock_movements").delete().eq("id",e);if(t)throw t}async function G7(e){const t={id:e.id,name:e.name,receipt_type:e.receipt_type,default_due_days:e.default_due_days||0,enters_receivables:!!e.enters_receivables,machine_label:e.machine_label,is_active:!!e.is_active,created_at:e.created_at,updated_at:new Date().toISOString()},n=await Ha.from("payment_methods").upsert(t).select().single();if(n.error)throw n.error;return n.data}async function V7(e){return ko("payment_methods",e)}async function Z7(e){const t={id:e.id,sale_payment_id:e.os_id||e.sale_payment_id||null,payment_method_id:e.payment_method_id??null,client_id:e.client_id||e.cliente_id||null,depositoId:e.depositoId||e.deposit_id||e.deposito_id||null,description:e.description??null,due_date:e.vencimento_em?new Date(e.vencimento_em).toISOString().split("T")[0]:e.due_date,amount:e.valor_total??e.amount??0,paid_amount:e.valor_pago??e.paid_amount??0,status:e.status,installment_no:e.installment_no??1,installments_total:e.installments_total??1,created_at:e.criado_em??e.created_at??null,updated_at:new Date().toISOString(),requires_boleto:e.requires_boleto??e.requiresBoleto??!1,debtor_name:e.devedor_nome??e.debtor_name??null,is_personal:!!e.is_personal,alert_days_before:e.alert_days_before??null},n={...t,deposit_id:t.depositoId};return zs("receivables",[t,n])}async function $7(e){const{error:t}=await Ha.from("receivables").delete().eq("id",e);if(t)throw t}async function Y7(e){const t={id:e.id,receivable_id:e.receivable_id,valor:e.valor,data_hora:e.data_hora,usuario_id:e.usuario_id,payment_method_id:e.payment_method_id??null,obs:e.obs??null},n={id:e.id,receivableId:e.receivable_id,valor:e.valor,dataHora:e.data_hora,usuarioId:e.usuario_id},r={id:e.id,receivable_id:e.receivable_id,amount:e.valor,occurred_at_ms:e.data_hora,user_id:e.usuario_id,payment_method_id:e.payment_method_id??null,notes:e.obs??null};return zs("receivable_payments",[t,n,r])}async function X7(e){return ko("receivable_payments",e)}async function J7(e){const t={id:e.id,monthly_goal:Number(e.monthly_goal??0),updated_at:e.updated_at??new Date().toISOString()},n=await Ha.from("financial_settings").upsert(t).select().single();if(n.error)throw n.error;return n.data}async function W7(e){return ko("financial_settings",e)}const e9=e=>e?e.includes("T")?e.split("T")[0]:e:new Date().toISOString().split("T")[0],p5=e=>{if(!e)return null;try{return new Date(e).toISOString()}catch{return null}};async function t9(e){const t={id:e.id,description:e.description,amount:e.amount||0,due_date:e9(e.due_date),paid_date:p5(e.paid_date),status:e.status,category:e.category,is_fixed:!!e.is_fixed,deposit_id:e.deposit_id||null,alert_days_before:e.alert_days_before||0,created_at:p5(e.created_at),updated_at:new Date().toISOString()},n=await Ha.from("expenses").upsert(t).select().single();if(n.error)throw n.error;return n.data}async function n9(e){const{error:t}=await Ha.from("expenses").delete().eq("id",e);if(t)throw t}async function r9(e){const t={id:e.id,depositoId:e.depositoId??e.deposit_id??e.deposito_id??null,user_id:e.user_id??e.userId??e.usuario_id??null,user_name:e.user_name??e.userName??e.usuario_nome??null,status:e.status,opened_at:e.opened_at??e.openedAt??e.aberto_em??null,closed_at:e.closed_at??e.closedAt??e.fechado_em??null,opening_balance:e.opening_balance??e.openingBalance??e.fundo_troco??0,closing_balance:e.closing_balance??e.closingBalance??null,declared_cash:e.declared_cash??e.declaredCash??null,declared_card:e.declared_card??e.declaredCard??null,declared_pix:e.declared_pix??e.declaredPix??null,system_cash:e.system_cash??e.systemCash??null,system_card:e.system_card??e.systemCard??null,system_pix:e.system_pix??e.systemPix??null,notes:e.notes??null,updated_at:new Date().toISOString()},n={...t,deposit_id:t.depositoId};return zs("work_shifts",[t,n])}async function i9(e){return ko("work_shifts",e)}async function a9(e){const t={id:e.id,shift_id:e.shift_id??e.shiftId??null,depositoId:e.depositoId??e.deposit_id??e.deposito_id??null,user_id:e.user_id??e.userId??null,user_name:e.user_name??e.userName??null,category:e.category,direction:e.direction,amount:e.amount,status:e.status,created_at:e.created_at??e.createdAt??null,reference_id:e.reference_id??e.referenceId??null,reference_type:e.reference_type??e.referenceType??null,payment_method_id:e.payment_method_id??e.paymentMethodId??null,payment_type:e.payment_type??e.paymentType??null,notes:e.notes??null,meta:e.meta??null},n={...t,deposit_id:t.depositoId};return zs("cash_flow_entries",[t,n])}async function s9(e){return ko("cash_flow_entries",e)}async function o9(e){const t={id:e.id,shift_id:e.shift_id??e.shiftId??null,deposit_id:e.deposit_id??e.depositId??null,product_id:e.product_id??e.productId??null,counted_qty:e.counted_qty??e.countedQty??0,system_qty:e.system_qty??e.systemQty??0,diff_qty:e.diff_qty??e.diffQty??0,created_at:e.created_at??e.createdAt??null,user_id:e.user_id??e.userId??null},n=[t,{...t,shiftId:t.shift_id,depositId:t.deposit_id,productId:t.product_id,countedQty:t.counted_qty,systemQty:t.system_qty,diffQty:t.diff_qty,createdAt:t.created_at,userId:t.user_id}];return zs("shift_stock_audits",n)}async function l9(e){return ko("shift_stock_audits",e)}async function A9(e){const t=e.name??e.nome??"",n=e.fee??e.price??e.valor??0,r=e.deposit_id??e.depositId??e.depositoId??null,i=Number(n)||0,s=e.color??e.cor??null,c=e.map_polygon??e.mapPolygon??null,d=e.created_at??e.createdAt??null,h=new Date().toISOString(),f=[{id:e.id,name:t,fee:i,color:s,deposit_id:r,map_polygon:c,created_at:d,updated_at:h},{id:e.id,name:t,price:i,color:s,deposit_id:r,map_polygon:c,created_at:d,updated_at:h},{id:e.id,name:t,fee:i,color:s,depositId:r,mapPolygon:c,created_at:d,updated_at:h},{id:e.id,nome:t,valor:i,cor:s,deposito_id:r,map_polygon:c,created_at:d,updated_at:h},{id:e.id,nome:t,taxa:i,cor:s,deposito_id:r,map_polygon:c,created_at:d,updated_at:h},{id:e.id,name:t,deposit_id:r,created_at:d,updated_at:h},{id:e.id,nome:t,deposito_id:r,created_at:d,updated_at:h}];return zs("delivery_zones",f)}async function c9(e){return ko("delivery_zones",e)}async function u9(e){const t=e.name??e.bairro??e.nome??"",n=e.zone_id??e.zoneId??e.zona_id??null,r=e.created_at??e.createdAt??null,i=new Date().toISOString(),s=[{id:e.id,zone_id:n,name:t,created_at:r,updated_at:i},{id:e.id,zoneId:n,name:t,created_at:r,updated_at:i},{id:e.id,zona_id:n,bairro:t,created_at:r,updated_at:i},{id:e.id,zona_id:n,nome:t,created_at:r,updated_at:i}];return zs("delivery_zones",s)}async function d9(e){return ko("delivery_zones",e)}async function h9(e){const t=e.zone_id??e.zoneId??null,n=e.depositoId??e.deposit_id??e.deposito_id??null,r=Number(e.price??e.valor??e.fee??0)||0,i=e.created_at??e.createdAt??null,s=new Date().toISOString(),d={id:e.id??(t&&n?`${n}:${t}`:void 0),zone_id:t,depositoId,price:r,created_at:i,updated_at:s},h={...d};delete h.id;try{return await zs("zone_pricing",[d,h],"id")}catch{return zs("zone_pricing",variants,"zone_id, deposit_id")}}async function f9(e){return ko("zone_pricing",e)}async function p9(e){const t=e.productId??e.product_id??null,n=e.depositoId??e.deposit_id??e.deposito_id??null,r=Number(e.price??e.valor??0)||0,i=e.created_at??e.createdAt??null,s=new Date().toISOString(),d={id:e.id??(t&&n?`${t}:${n}`:void 0),productId:t,depositoId,price:r,created_at:i,updated_at:s},h={...d};delete h.id;try{return await zs("zone_pricing",[d,h],"id")}catch{return zs("zone_pricing",[{product_id:t,deposit_id:n,price:r,created_at:i,updated_at:s}],"product_id, deposit_id")}}async function m9(e){return ko("zone_pricing",e)}async function g9(e){const t=e.productId??e.product_id??null,n=e.depositoId??e.deposit_id??e.deposito_id??null,r=e.returnProductId??e.return_product_id??null,i=e.created_at??e.createdAt??null,s=new Date().toISOString(),d={id:e.id??(t&&n?`${t}:${n}`:void 0),productId:t,depositoId:n,returnProductId:r,created_at:i,updated_at:s},h={...d};delete h.id;try{return await zs("product_exchange_rules",[d,h],"id")}catch{return zs("product_exchange_rules",[{product_id:t,deposit_id:n,return_product_id:r,created_at:i,updated_at:s}],"product_id, deposit_id")}}async function v9(e){return ko("product_exchange_rules",e)}let Om=!1,Yv=!1,Am;function ab(){return typeof navigator<"u"?navigator.onLine:!0}async function x9(e){switch(e.entity){case"products":return e.action==="DELETE"?k7(e.entity_id):j7(e.payload_json);case"deposits":return e.action==="DELETE"?I7(e.entity_id):U7(e.payload_json);case"employees":return e.action==="DELETE"?F7(e.entity_id):T7(e.payload_json);case"clients":return e.action==="DELETE"?Q7(e.entity_id):O7(e.payload_json);case"client_price_overrides":return e.action==="DELETE"?M7(e.entity_id):D7(e.payload_json);case"client_one_time_discount":return e.action==="DELETE"?P7(e.entity_id):R7(e.payload_json);case"service_orders":return e.action==="DELETE"?z7(e.entity_id):H7(e.payload_json);case"stock_movements":return e.action==="DELETE"?K7(e.entity_id):q7(e.payload_json);case"payment_methods":return e.action==="DELETE"?V7(e.entity_id):G7(e.payload_json);case"receivables":case"accounts_receivable":return e.action==="DELETE"?$7(e.entity_id):Z7(e.payload_json);case"financial_settings":return e.action==="DELETE"?W7(e.entity_id):J7(e.payload_json);case"receivable_payments":return e.action==="DELETE"?X7(e.entity_id):Y7(e.payload_json);case"expenses":return e.action==="DELETE"?n9(e.entity_id):t9(e.payload_json);case"work_shifts":return e.action==="DELETE"?i9(e.entity_id):r9(e.payload_json);case"cash_flow_entries":return e.action==="DELETE"?s9(e.entity_id):a9(e.payload_json);case"shift_stock_audits":return e.action==="DELETE"?l9(e.entity_id):o9(e.payload_json);case"delivery_zones":return e.action==="DELETE"?c9(e.entity_id):A9(e.payload_json);case"delivery_sectors":return e.action==="DELETE"?d9(e.entity_id):u9(e.payload_json);case"zone_pricing":return e.action==="DELETE"?f9(e.entity_id):h9(e.payload_json);case"product_pricing":return e.action==="DELETE"?m9(e.entity_id):p9(e.payload_json);case"product_exchange_rules":return e.action==="DELETE"?v9(e.entity_id):g9(e.payload_json);default:throw new Error(`Outbox entity not supported yet: ${e.entity}`)}}async function cm(e){if(Yv||!ab())return;Yv=!0;const t=(e==null?void 0:e.limit)??50,n=(e==null?void 0:e.log)??!1;try{await Le.open();const r=await TQ(t);for(const i of r)try{await x9(i),await FQ(i.id)}catch(s){await OQ(i.id,s)}}finally{Yv=!1}}function b9(){Om||(Om=!0,ab()&&cm({log:!0}),window.addEventListener("online",()=>{cm({log:!0})}),Am=window.setInterval(()=>{ab()&&cm({log:!1})},1e4))}function y9(){Om&&(Am&&window.clearInterval(Am),Am=void 0,Om=!1)}const _9=({currentUser:e,children:t})=>{const{activeShift:n,loading:r}=lg();return e.cargo==="ENTREGADOR"||e.cargo==="GERENTE"?o.jsx(o.Fragment,{children:t}):o.jsxs(o.Fragment,{children:[t,r&&o.jsx("div",{className:"fixed inset-0 z-[70] bg-black/70 flex items-center justify-center text-white text-sm font-bold",children:"Carregando turno..."}),!r&&!n&&o.jsx(E7,{user:e})]})},w9=()=>{const[e,t]=$.useState(!1),[n,r]=$.useState(null),[i,s]=$.useState(null),[c,d]=$.useState(""),[h,f]=$.useState([]),[g,x]=$.useState(()=>localStorage.getItem("gp_theme")||"light"),[E,w]=$.useState(()=>tB()),[I,j]=$.useState(()=>nB());$.useEffect(()=>{(async()=>{console.log("Iniciando o sistema...");const ge=await jD();console.log("Storage inicializado:",ge),ge&&(w(tB()),j(nB()));const re=localStorage.getItem("gp_session");if(re)try{const M=JSON.parse(re);r(M)}catch(M){console.error("Session parse error",M),localStorage.removeItem("gp_session")}ge||(console.error("Erro ao inicializar o storage. Forando estado pronto."),t(!0)),t(!0)})()},[]),$.useEffect(()=>(b9(),()=>y9()),[]),$.useEffect(()=>{const Y=setTimeout(()=>{cm({log:!0})},1e3);return()=>clearTimeout(Y)},[]),$.useEffect(()=>{},[]),$.useEffect(()=>{const Y=Th.find(re=>re.id===g)||Th[0],ge=document.documentElement;ge.style.setProperty("--app-bg",Y.colors.appBg),ge.style.setProperty("--surface-bg",Y.colors.surfaceBg),ge.style.setProperty("--text-main",Y.colors.textMain),ge.style.setProperty("--text-muted",Y.colors.textMuted),ge.style.setProperty("--border-color",Y.colors.border),ge.style.setProperty("--primary",Y.colors.primary),ge.style.setProperty("--app-pattern",Y.pattern??"none"),ge.style.setProperty("--bg-image",E?`url("${E}")`:"none"),ge.style.setProperty("--bg-opacity",String(I)),localStorage.setItem("gp_theme",g),localStorage.removeItem("gp_bg_image"),localStorage.removeItem("gp_bg_opacity")},[g,E,I]);const F=$.useMemo(()=>n?n.cargo==="GERENTE"||n.username==="admin"?Yc:Yc.filter(Y=>{var ge;return(ge=n.permissoes)==null?void 0:ge.includes(Y.id)}):[],[n]),S=()=>{const Y=c.trim().toLowerCase();if(!Y){f([]);return}const ge=F.filter(re=>re.label.toLowerCase().includes(Y)||re.id.toLowerCase().includes(Y)).map(re=>re.id);f(ge)},z=Y=>{Y.key==="Enter"&&(Y.preventDefault(),S())},D=()=>{localStorage.removeItem("gp_session"),r(null),s(null)},G=Y=>{switch(Y){case"/stock":return"estoque";case"/finance":return"financeiro";case"/orders":return"nova-os";default:return null}};if($.useEffect(()=>{const Y=ge=>{const re=ge.detail;if(!re)return;const M=G(re);M&&s(M)};return window.addEventListener("gp:navigate",Y),()=>window.removeEventListener("gp:navigate",Y)},[]),!e)return o.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-slate-900 text-white gap-4",children:[o.jsx(Mh,{className:"w-10 h-10 animate-spin text-primary"}),o.jsx("p",{className:"text-sm font-bold tracking-widest uppercase",children:"Inicializando Banco de Dados..."})]});if(!n)return o.jsx(m7,{onLoginSuccess:Y=>{r(Y),localStorage.setItem("gp_session",JSON.stringify(Y))}});if(n.cargo==="ENTREGADOR")return o.jsx(b7,{currentUser:n,onLogout:D});const ce=()=>{const ge=["dispatch","sales-modalities","transaction-modalities","delivery-settings"].includes(i||"")||F.some(re=>re.id===i);if(i&&!ge)return null;switch(i){case"dispatch":return o.jsx(o7,{onClose:()=>s(null)});case"nova-os":return o.jsx(VD,{onClose:()=>s(null),currentUser:n});case"clientes":return o.jsx(YR,{onClose:()=>s(null),userRole:n.cargo==="GERENTE"?"ADMIN":"COLABORADOR"});case"painel":return o.jsx(ZD,{onClose:()=>s(null),onNavigate:re=>s(re)});case"estoque":return o.jsx(A7,{onClose:()=>s(null),currentUser:n});case"resumo":return o.jsx($D,{onClose:()=>s(null)});case"financeiro":return o.jsx(PR,{onClose:()=>s(null),onNavigate:re=>s(re)});case"contagem":return o.jsx(HR,{onClose:()=>s(null)});case"sales-modalities":return o.jsx(GR,{onClose:()=>s(null)});case"transaction-modalities":return o.jsx(VR,{onClose:()=>s(null)});case"fechar-caixa":return o.jsx(ZR,{onClose:()=>s(null)});case"auditoria":return o.jsx(eP,{onClose:()=>s(null)});case"rel-entregas":return o.jsx(HH,{onClose:()=>s(null)});case"delivery-settings":return o.jsx(i7,{onClose:()=>s(null)});case"alertas":return o.jsx(h7,{onClose:()=>s(null)});case"colaboradores":return o.jsx(p7,{onClose:()=>s(null)});case"temas":return o.jsx(tP,{onClose:()=>s(null),currentTheme:g,onThemeChange:x,backgroundImage:E,backgroundOpacity:I,onBackgroundImageChange:async re=>{w(re??null),await MD(re??null)},onBackgroundOpacityChange:re=>{j(re),RD(re)}});default:return null}};return o.jsx(RR,{currentUser:n,children:o.jsx(_9,{currentUser:n,children:o.jsxs("div",{className:"min-h-screen text-txt-main flex flex-col transition-colors duration-300",children:[o.jsxs("header",{className:"bg-surface border-b border-bdr p-6 shadow-sm flex justify-between items-center transition-colors duration-300",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-2xl font-black tracking-tighter flex items-center gap-2 text-red-600",children:[o.jsx(ob,{className:"w-8 h-8 text-red-600"}),"GS REAL"]}),o.jsx("p",{className:"text-txt-muted text-xs font-medium mt-1",children:"SISTEMA INTEGRADO DE GESTO"})]}),o.jsxs("div",{className:"flex items-center gap-6",children:[(n.cargo==="GERENTE"||n.cargo==="ATENDENTE")&&o.jsx("button",{onClick:()=>s("dispatch"),className:"hidden md:flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-bold text-xs uppercase tracking-wide transition-transform active:scale-95 shadow-md",children:"Despacho de Entregas"}),o.jsxs("div",{className:"text-right hidden sm:block",children:[o.jsx("p",{className:"text-sm font-bold text-txt-main",children:n.nome}),o.jsxs("p",{className:"text-[10px] text-primary font-bold uppercase tracking-widest",children:[n.cargo,"  ",n.depositoId]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-primary border-2 border-surface flex items-center justify-center font-bold text-white shadow-lg",children:n.nome.substring(0,2).toUpperCase()}),o.jsx("button",{onClick:D,className:"p-2 text-txt-muted hover:text-red-500 hover:bg-red-50 rounded-full transition-colors",title:"Sair",children:o.jsx(C5,{className:"w-5 h-5"})})]})]})]}),o.jsx("main",{className:"flex-1 p-6 md:p-12",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-10 flex flex-col md:flex-row md:items-end justify-between gap-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-4xl font-black text-txt-main tracking-tight mb-2",children:"Painel Operacional"}),o.jsx("p",{className:"text-txt-muted font-medium",children:"Selecione uma funcionalidade para iniciar o trabalho"})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full md:w-auto md:min-w-[360px]",children:[o.jsx("div",{className:"relative flex-1",children:o.jsx("input",{type:"text",value:c,onChange:Y=>d(Y.target.value),onKeyDown:z,placeholder:"Buscar funo do sistema e pressionar Enter",className:"w-full bg-surface border-2 border-bdr rounded-xl px-4 py-3 text-sm font-bold text-txt-main placeholder:text-txt-muted focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none"})}),o.jsx("button",{onClick:S,className:"px-4 py-3 bg-primary text-white font-black text-xs uppercase tracking-widest rounded-xl shadow-md hover:bg-primary/90 active:scale-95 transition-all",children:"Buscar"}),h.length>0&&o.jsx("button",{onClick:()=>{f([]),d("")},className:"px-3 py-3 bg-surface border border-bdr text-txt-muted hover:text-red-500 hover:border-red-300 rounded-xl text-xs font-black uppercase tracking-widest transition-all",children:"Limpar"})]})]}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6",children:F.map(Y=>o.jsx(qL,{item:Y,onClick:s,highlight:h.includes(Y.id)},Y.id))})]})}),o.jsx("footer",{className:"bg-surface border-t border-bdr p-4 text-center text-txt-muted text-xs font-medium transition-colors duration-300",children:" 2025 Gs Real - Sistema de Gesto Inteligente"}),ce(),o.jsx(N7,{})]})})})},qE=document.getElementById("root");if(!qE)throw new Error("Could not find root element to mount to");const B9=cS.createRoot(qE);B9.render(o.jsx(bl.StrictMode,{children:o.jsx(w9,{})}));export{Ti as _,eS as c,ef as g};
