var Y4=Object.defineProperty;var W4=(t,e,r)=>e in t?Y4(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var rs=(t,e,r)=>W4(t,typeof e!="symbol"?e+"":e,r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&n(d)}).observe(document,{childList:!0,subtree:!0});function r(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(i){if(i.ep)return;i.ep=!0;const l=r(i);fetch(i.href,l)}})();var e9=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var k0={exports:{}},uh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fw;function eS(){if(fw)return uh;fw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(n,i,l){var d=null;if(l!==void 0&&(d=""+l),i.key!==void 0&&(d=""+i.key),"key"in i){l={};for(var u in i)u!=="key"&&(l[u]=i[u])}else l=i;return i=l.ref,{$$typeof:t,type:n,key:d,ref:i!==void 0?i:null,props:l}}return uh.Fragment=e,uh.jsx=r,uh.jsxs=r,uh}var pw;function tS(){return pw||(pw=1,k0.exports=eS()),k0.exports}var a=tS(),T0={exports:{}},$r={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mw;function rS(){if(mw)return $r;mw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),d=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),B=Symbol.iterator;function w(M){return M===null||typeof M!="object"?null:(M=B&&M[B]||M["@@iterator"],typeof M=="function"?M:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,k={};function C(M,T,$){this.props=M,this.context=T,this.refs=k,this.updater=$||S}C.prototype.isReactComponent={},C.prototype.setState=function(M,T){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,T,"setState")},C.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function O(){}O.prototype=C.prototype;function D(M,T,$){this.props=M,this.context=T,this.refs=k,this.updater=$||S}var H=D.prototype=new O;H.constructor=D,U(H,C.prototype),H.isPureReactComponent=!0;var re=Array.isArray;function q(){}var ne={H:null,A:null,T:null,S:null},te=Object.prototype.hasOwnProperty;function G(M,T,$){var X=$.ref;return{$$typeof:t,type:M,key:T,ref:X!==void 0?X:null,props:$}}function de(M,T){return G(M.type,T,M.props)}function K(M){return typeof M=="object"&&M!==null&&M.$$typeof===t}function W(M){var T={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function($){return T[$]})}var ie=/\/+/g;function z(M,T){return typeof M=="object"&&M!==null&&M.key!=null?W(""+M.key):T.toString(36)}function he(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(q,q):(M.status="pending",M.then(function(T){M.status==="pending"&&(M.status="fulfilled",M.value=T)},function(T){M.status==="pending"&&(M.status="rejected",M.reason=T)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function V(M,T,$,X,Ae){var xe=typeof M;(xe==="undefined"||xe==="boolean")&&(M=null);var Be=!1;if(M===null)Be=!0;else switch(xe){case"bigint":case"string":case"number":Be=!0;break;case"object":switch(M.$$typeof){case t:case e:Be=!0;break;case g:return Be=M._init,V(Be(M._payload),T,$,X,Ae)}}if(Be)return Ae=Ae(M),Be=X===""?"."+z(M,0):X,re(Ae)?($="",Be!=null&&($=Be.replace(ie,"$&/")+"/"),V(Ae,T,$,"",function(je){return je})):Ae!=null&&(K(Ae)&&(Ae=de(Ae,$+(Ae.key==null||M&&M.key===Ae.key?"":(""+Ae.key).replace(ie,"$&/")+"/")+Be)),T.push(Ae)),1;Be=0;var ke=X===""?".":X+":";if(re(M))for(var ge=0;ge<M.length;ge++)X=M[ge],xe=ke+z(X,ge),Be+=V(X,T,$,xe,Ae);else if(ge=w(M),typeof ge=="function")for(M=ge.call(M),ge=0;!(X=M.next()).done;)X=X.value,xe=ke+z(X,ge++),Be+=V(X,T,$,xe,Ae);else if(xe==="object"){if(typeof M.then=="function")return V(he(M),T,$,X,Ae);throw T=String(M),Error("Objects are not valid as a React child (found: "+(T==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":T)+"). If you meant to render a collection of children, use an array instead.")}return Be}function me(M,T,$){if(M==null)return M;var X=[],Ae=0;return V(M,X,"","",function(xe){return T.call($,xe,Ae++)}),X}function ee(M){if(M._status===-1){var T=M._result;T=T(),T.then(function($){(M._status===0||M._status===-1)&&(M._status=1,M._result=$)},function($){(M._status===0||M._status===-1)&&(M._status=2,M._result=$)}),M._status===-1&&(M._status=0,M._result=T)}if(M._status===1)return M._result.default;throw M._result}var Ce=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var T=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(T))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Ne={map:me,forEach:function(M,T,$){me(M,function(){T.apply(this,arguments)},$)},count:function(M){var T=0;return me(M,function(){T++}),T},toArray:function(M){return me(M,function(T){return T})||[]},only:function(M){if(!K(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return $r.Activity=b,$r.Children=Ne,$r.Component=C,$r.Fragment=r,$r.Profiler=i,$r.PureComponent=D,$r.StrictMode=n,$r.Suspense=h,$r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ne,$r.__COMPILER_RUNTIME={__proto__:null,c:function(M){return ne.H.useMemoCache(M)}},$r.cache=function(M){return function(){return M.apply(null,arguments)}},$r.cacheSignal=function(){return null},$r.cloneElement=function(M,T,$){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var X=U({},M.props),Ae=M.key;if(T!=null)for(xe in T.key!==void 0&&(Ae=""+T.key),T)!te.call(T,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&T.ref===void 0||(X[xe]=T[xe]);var xe=arguments.length-2;if(xe===1)X.children=$;else if(1<xe){for(var Be=Array(xe),ke=0;ke<xe;ke++)Be[ke]=arguments[ke+2];X.children=Be}return G(M.type,Ae,X)},$r.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:l,_context:M},M},$r.createElement=function(M,T,$){var X,Ae={},xe=null;if(T!=null)for(X in T.key!==void 0&&(xe=""+T.key),T)te.call(T,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(Ae[X]=T[X]);var Be=arguments.length-2;if(Be===1)Ae.children=$;else if(1<Be){for(var ke=Array(Be),ge=0;ge<Be;ge++)ke[ge]=arguments[ge+2];Ae.children=ke}if(M&&M.defaultProps)for(X in Be=M.defaultProps,Be)Ae[X]===void 0&&(Ae[X]=Be[X]);return G(M,xe,Ae)},$r.createRef=function(){return{current:null}},$r.forwardRef=function(M){return{$$typeof:u,render:M}},$r.isValidElement=K,$r.lazy=function(M){return{$$typeof:g,_payload:{_status:-1,_result:M},_init:ee}},$r.memo=function(M,T){return{$$typeof:m,type:M,compare:T===void 0?null:T}},$r.startTransition=function(M){var T=ne.T,$={};ne.T=$;try{var X=M(),Ae=ne.S;Ae!==null&&Ae($,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(q,Ce)}catch(xe){Ce(xe)}finally{T!==null&&$.types!==null&&(T.types=$.types),ne.T=T}},$r.unstable_useCacheRefresh=function(){return ne.H.useCacheRefresh()},$r.use=function(M){return ne.H.use(M)},$r.useActionState=function(M,T,$){return ne.H.useActionState(M,T,$)},$r.useCallback=function(M,T){return ne.H.useCallback(M,T)},$r.useContext=function(M){return ne.H.useContext(M)},$r.useDebugValue=function(){},$r.useDeferredValue=function(M,T){return ne.H.useDeferredValue(M,T)},$r.useEffect=function(M,T){return ne.H.useEffect(M,T)},$r.useEffectEvent=function(M){return ne.H.useEffectEvent(M)},$r.useId=function(){return ne.H.useId()},$r.useImperativeHandle=function(M,T,$){return ne.H.useImperativeHandle(M,T,$)},$r.useInsertionEffect=function(M,T){return ne.H.useInsertionEffect(M,T)},$r.useLayoutEffect=function(M,T){return ne.H.useLayoutEffect(M,T)},$r.useMemo=function(M,T){return ne.H.useMemo(M,T)},$r.useOptimistic=function(M,T){return ne.H.useOptimistic(M,T)},$r.useReducer=function(M,T,$){return ne.H.useReducer(M,T,$)},$r.useRef=function(M){return ne.H.useRef(M)},$r.useState=function(M){return ne.H.useState(M)},$r.useSyncExternalStore=function(M,T,$){return ne.H.useSyncExternalStore(M,T,$)},$r.useTransition=function(){return ne.H.useTransition()},$r.version="19.2.3",$r}var gw;function dv(){return gw||(gw=1,T0.exports=rS()),T0.exports}var F=dv();const Ht=zm(F);var F0={exports:{}},hh={},O0={exports:{}},Q0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xw;function nS(){return xw||(xw=1,(function(t){function e(V,me){var ee=V.length;V.push(me);e:for(;0<ee;){var Ce=ee-1>>>1,Ne=V[Ce];if(0<i(Ne,me))V[Ce]=me,V[ee]=Ne,ee=Ce;else break e}}function r(V){return V.length===0?null:V[0]}function n(V){if(V.length===0)return null;var me=V[0],ee=V.pop();if(ee!==me){V[0]=ee;e:for(var Ce=0,Ne=V.length,M=Ne>>>1;Ce<M;){var T=2*(Ce+1)-1,$=V[T],X=T+1,Ae=V[X];if(0>i($,ee))X<Ne&&0>i(Ae,$)?(V[Ce]=Ae,V[X]=ee,Ce=X):(V[Ce]=$,V[T]=ee,Ce=T);else if(X<Ne&&0>i(Ae,ee))V[Ce]=Ae,V[X]=ee,Ce=X;else break e}}return me}function i(V,me){var ee=V.sortIndex-me.sortIndex;return ee!==0?ee:V.id-me.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var d=Date,u=d.now();t.unstable_now=function(){return d.now()-u}}var h=[],m=[],g=1,b=null,B=3,w=!1,S=!1,U=!1,k=!1,C=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function H(V){for(var me=r(m);me!==null;){if(me.callback===null)n(m);else if(me.startTime<=V)n(m),me.sortIndex=me.expirationTime,e(h,me);else break;me=r(m)}}function re(V){if(U=!1,H(V),!S)if(r(h)!==null)S=!0,q||(q=!0,W());else{var me=r(m);me!==null&&he(re,me.startTime-V)}}var q=!1,ne=-1,te=5,G=-1;function de(){return k?!0:!(t.unstable_now()-G<te)}function K(){if(k=!1,q){var V=t.unstable_now();G=V;var me=!0;try{e:{S=!1,U&&(U=!1,O(ne),ne=-1),w=!0;var ee=B;try{t:{for(H(V),b=r(h);b!==null&&!(b.expirationTime>V&&de());){var Ce=b.callback;if(typeof Ce=="function"){b.callback=null,B=b.priorityLevel;var Ne=Ce(b.expirationTime<=V);if(V=t.unstable_now(),typeof Ne=="function"){b.callback=Ne,H(V),me=!0;break t}b===r(h)&&n(h),H(V)}else n(h);b=r(h)}if(b!==null)me=!0;else{var M=r(m);M!==null&&he(re,M.startTime-V),me=!1}}break e}finally{b=null,B=ee,w=!1}me=void 0}}finally{me?W():q=!1}}}var W;if(typeof D=="function")W=function(){D(K)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,z=ie.port2;ie.port1.onmessage=K,W=function(){z.postMessage(null)}}else W=function(){C(K,0)};function he(V,me){ne=C(function(){V(t.unstable_now())},me)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):te=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return B},t.unstable_next=function(V){switch(B){case 1:case 2:case 3:var me=3;break;default:me=B}var ee=B;B=me;try{return V()}finally{B=ee}},t.unstable_requestPaint=function(){k=!0},t.unstable_runWithPriority=function(V,me){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var ee=B;B=V;try{return me()}finally{B=ee}},t.unstable_scheduleCallback=function(V,me,ee){var Ce=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?Ce+ee:Ce):ee=Ce,V){case 1:var Ne=-1;break;case 2:Ne=250;break;case 5:Ne=1073741823;break;case 4:Ne=1e4;break;default:Ne=5e3}return Ne=ee+Ne,V={id:g++,callback:me,priorityLevel:V,startTime:ee,expirationTime:Ne,sortIndex:-1},ee>Ce?(V.sortIndex=ee,e(m,V),r(h)===null&&V===r(m)&&(U?(O(ne),ne=-1):U=!0,he(re,ee-Ce))):(V.sortIndex=Ne,e(h,V),S||w||(S=!0,q||(q=!0,W()))),V},t.unstable_shouldYield=de,t.unstable_wrapCallback=function(V){var me=B;return function(){var ee=B;B=me;try{return V.apply(this,arguments)}finally{B=ee}}}})(Q0)),Q0}var bw;function sS(){return bw||(bw=1,O0.exports=nS()),O0.exports}var R0={exports:{}},Ci={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vw;function aS(){if(vw)return Ci;vw=1;var t=dv();function e(h){var m="https://react.dev/errors/"+h;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},i=Symbol.for("react.portal");function l(h,m,g){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:b==null?null:""+b,children:h,containerInfo:m,implementation:g}}var d=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(h,m){if(h==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Ci.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Ci.createPortal=function(h,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(h,m,null,g)},Ci.flushSync=function(h){var m=d.T,g=n.p;try{if(d.T=null,n.p=2,h)return h()}finally{d.T=m,n.p=g,n.d.f()}},Ci.preconnect=function(h,m){typeof h=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,n.d.C(h,m))},Ci.prefetchDNS=function(h){typeof h=="string"&&n.d.D(h)},Ci.preinit=function(h,m){if(typeof h=="string"&&m&&typeof m.as=="string"){var g=m.as,b=u(g,m.crossOrigin),B=typeof m.integrity=="string"?m.integrity:void 0,w=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?n.d.S(h,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:b,integrity:B,fetchPriority:w}):g==="script"&&n.d.X(h,{crossOrigin:b,integrity:B,fetchPriority:w,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Ci.preinitModule=function(h,m){if(typeof h=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=u(m.as,m.crossOrigin);n.d.M(h,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&n.d.M(h)},Ci.preload=function(h,m){if(typeof h=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,b=u(g,m.crossOrigin);n.d.L(h,g,{crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Ci.preloadModule=function(h,m){if(typeof h=="string")if(m){var g=u(m.as,m.crossOrigin);n.d.m(h,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else n.d.m(h)},Ci.requestFormReset=function(h){n.d.r(h)},Ci.unstable_batchedUpdates=function(h,m){return h(m)},Ci.useFormState=function(h,m,g){return d.H.useFormState(h,m,g)},Ci.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ci.version="19.2.3",Ci}var yw;function _B(){if(yw)return R0.exports;yw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),R0.exports=aS(),R0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ww;function iS(){if(ww)return hh;ww=1;var t=sS(),e=dv(),r=_B();function n(s){var o="https://react.dev/errors/"+s;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function l(s){var o=s,c=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(c=o.return),s=o.return;while(s)}return o.tag===3?c:null}function d(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function u(s){if(s.tag===31){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function h(s){if(l(s)!==s)throw Error(n(188))}function m(s){var o=s.alternate;if(!o){if(o=l(s),o===null)throw Error(n(188));return o!==s?null:s}for(var c=s,p=o;;){var y=c.return;if(y===null)break;var N=y.alternate;if(N===null){if(p=y.return,p!==null){c=p;continue}break}if(y.child===N.child){for(N=y.child;N;){if(N===c)return h(y),s;if(N===p)return h(y),o;N=N.sibling}throw Error(n(188))}if(c.return!==p.return)c=y,p=N;else{for(var P=!1,ce=y.child;ce;){if(ce===c){P=!0,c=y,p=N;break}if(ce===p){P=!0,p=y,c=N;break}ce=ce.sibling}if(!P){for(ce=N.child;ce;){if(ce===c){P=!0,c=N,p=y;break}if(ce===p){P=!0,p=N,c=y;break}ce=ce.sibling}if(!P)throw Error(n(189))}}if(c.alternate!==p)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?s:o}function g(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s;for(s=s.child;s!==null;){if(o=g(s),o!==null)return o;s=s.sibling}return null}var b=Object.assign,B=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),D=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),ne=Symbol.for("react.memo"),te=Symbol.for("react.lazy"),G=Symbol.for("react.activity"),de=Symbol.for("react.memo_cache_sentinel"),K=Symbol.iterator;function W(s){return s===null||typeof s!="object"?null:(s=K&&s[K]||s["@@iterator"],typeof s=="function"?s:null)}var ie=Symbol.for("react.client.reference");function z(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===ie?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case U:return"Fragment";case C:return"Profiler";case k:return"StrictMode";case re:return"Suspense";case q:return"SuspenseList";case G:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case S:return"Portal";case D:return s.displayName||"Context";case O:return(s._context.displayName||"Context")+".Consumer";case H:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case ne:return o=s.displayName||null,o!==null?o:z(s.type)||"Memo";case te:o=s._payload,s=s._init;try{return z(s(o))}catch{}}return null}var he=Array.isArray,V=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},Ce=[],Ne=-1;function M(s){return{current:s}}function T(s){0>Ne||(s.current=Ce[Ne],Ce[Ne]=null,Ne--)}function $(s,o){Ne++,Ce[Ne]=s.current,s.current=o}var X=M(null),Ae=M(null),xe=M(null),Be=M(null);function ke(s,o){switch($(xe,o),$(Ae,s),$(X,null),o.nodeType){case 9:case 11:s=(s=o.documentElement)&&(s=s.namespaceURI)?Q1(s):0;break;default:if(s=o.tagName,o=o.namespaceURI)o=Q1(o),s=R1(o,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}T(X),$(X,s)}function ge(){T(X),T(Ae),T(xe)}function je(s){s.memoizedState!==null&&$(Be,s);var o=X.current,c=R1(o,s.type);o!==c&&($(Ae,s),$(X,c))}function Qe(s){Ae.current===s&&(T(X),T(Ae)),Be.current===s&&(T(Be),lh._currentValue=ee)}var Re,lt;function Lt(s){if(Re===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);Re=o&&o[1]||"",lt=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Re+s+lt}var fe=!1;function ft(s,o){if(!s||fe)return"";fe=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(o){var Bt=function(){throw Error()};if(Object.defineProperty(Bt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Bt,[])}catch(it){var rt=it}Reflect.construct(s,[],Bt)}else{try{Bt.call()}catch(it){rt=it}s.call(Bt.prototype)}}else{try{throw Error()}catch(it){rt=it}(Bt=s())&&typeof Bt.catch=="function"&&Bt.catch(function(){})}}catch(it){if(it&&rt&&typeof it.stack=="string")return[it.stack,rt.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=p.DetermineComponentFrameRoot(),P=N[0],ce=N[1];if(P&&ce){var Se=P.split(`
`),et=ce.split(`
`);for(y=p=0;p<Se.length&&!Se[p].includes("DetermineComponentFrameRoot");)p++;for(;y<et.length&&!et[y].includes("DetermineComponentFrameRoot");)y++;if(p===Se.length||y===et.length)for(p=Se.length-1,y=et.length-1;1<=p&&0<=y&&Se[p]!==et[y];)y--;for(;1<=p&&0<=y;p--,y--)if(Se[p]!==et[y]){if(p!==1||y!==1)do if(p--,y--,0>y||Se[p]!==et[y]){var pt=`
`+Se[p].replace(" at new "," at ");return s.displayName&&pt.includes("<anonymous>")&&(pt=pt.replace("<anonymous>",s.displayName)),pt}while(1<=p&&0<=y);break}}}finally{fe=!1,Error.prepareStackTrace=c}return(c=s?s.displayName||s.name:"")?Lt(c):""}function St(s,o){switch(s.tag){case 26:case 27:case 5:return Lt(s.type);case 16:return Lt("Lazy");case 13:return s.child!==o&&o!==null?Lt("Suspense Fallback"):Lt("Suspense");case 19:return Lt("SuspenseList");case 0:case 15:return ft(s.type,!1);case 11:return ft(s.type.render,!1);case 1:return ft(s.type,!0);case 31:return Lt("Activity");default:return""}}function st(s){try{var o="",c=null;do o+=St(s,c),c=s,s=s.return;while(s);return o}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var ue=Object.prototype.hasOwnProperty,Ze=t.unstable_scheduleCallback,Ve=t.unstable_cancelCallback,gt=t.unstable_shouldYield,bt=t.unstable_requestPaint,nr=t.unstable_now,Jt=t.unstable_getCurrentPriorityLevel,Wt=t.unstable_ImmediatePriority,yr=t.unstable_UserBlockingPriority,sr=t.unstable_NormalPriority,Dt=t.unstable_LowPriority,er=t.unstable_IdlePriority,Zt=t.log,Hr=t.unstable_setDisableYieldValue,cr=null,Yt=null;function Xt(s){if(typeof Zt=="function"&&Hr(s),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode(cr,s)}catch{}}var ar=Math.clz32?Math.clz32:Pt,Vt=Math.log,Nr=Math.LN2;function Pt(s){return s>>>=0,s===0?32:31-(Vt(s)/Nr|0)|0}var tr=256,Ue=262144,Ke=4194304;function ot(s){var o=s&42;if(o!==0)return o;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function ut(s,o,c){var p=s.pendingLanes;if(p===0)return 0;var y=0,N=s.suspendedLanes,P=s.pingedLanes;s=s.warmLanes;var ce=p&134217727;return ce!==0?(p=ce&~N,p!==0?y=ot(p):(P&=ce,P!==0?y=ot(P):c||(c=ce&~s,c!==0&&(y=ot(c))))):(ce=p&~N,ce!==0?y=ot(ce):P!==0?y=ot(P):c||(c=p&~s,c!==0&&(y=ot(c)))),y===0?0:o!==0&&o!==y&&(o&N)===0&&(N=y&-y,c=o&-o,N>=c||N===32&&(c&4194048)!==0)?o:y}function rr(s,o){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&o)===0}function or(s,o){switch(s){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qr(){var s=Ke;return Ke<<=1,(Ke&62914560)===0&&(Ke=4194304),s}function dn(s){for(var o=[],c=0;31>c;c++)o.push(s);return o}function It(s,o){s.pendingLanes|=o,o!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function An(s,o,c,p,y,N){var P=s.pendingLanes;s.pendingLanes=c,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=c,s.entangledLanes&=c,s.errorRecoveryDisabledLanes&=c,s.shellSuspendCounter=0;var ce=s.entanglements,Se=s.expirationTimes,et=s.hiddenUpdates;for(c=P&~c;0<c;){var pt=31-ar(c),Bt=1<<pt;ce[pt]=0,Se[pt]=-1;var rt=et[pt];if(rt!==null)for(et[pt]=null,pt=0;pt<rt.length;pt++){var it=rt[pt];it!==null&&(it.lane&=-536870913)}c&=~Bt}p!==0&&wn(s,p,0),N!==0&&y===0&&s.tag!==0&&(s.suspendedLanes|=N&~(P&~o))}function wn(s,o,c){s.pendingLanes|=o,s.suspendedLanes&=~o;var p=31-ar(o);s.entangledLanes|=o,s.entanglements[p]=s.entanglements[p]|1073741824|c&261930}function pn(s,o){var c=s.entangledLanes|=o;for(s=s.entanglements;c;){var p=31-ar(c),y=1<<p;y&o|s[p]&o&&(s[p]|=o),c&=~y}}function sn(s,o){var c=o&-o;return c=(c&42)!==0?1:Pr(c),(c&(s.suspendedLanes|o))!==0?0:c}function Pr(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Ft(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Fn(){var s=me.p;return s!==0?s:(s=window.event,s===void 0?32:ow(s.type))}function Ms(s,o){var c=me.p;try{return me.p=s,o()}finally{me.p=c}}var _n=Math.random().toString(36).slice(2),tn="__reactFiber$"+_n,Te="__reactProps$"+_n,wt="__reactContainer$"+_n,qt="__reactEvents$"+_n,mr="__reactListeners$"+_n,Qr="__reactHandles$"+_n,Cn="__reactResources$"+_n,Gn="__reactMarker$"+_n;function Ps(s){delete s[tn],delete s[Te],delete s[qt],delete s[mr],delete s[Qr]}function On(s){var o=s[tn];if(o)return o;for(var c=s.parentNode;c;){if(o=c[wt]||c[tn]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(s=K1(s);s!==null;){if(c=s[tn])return c;s=K1(s)}return o}s=c,c=s.parentNode}return null}function As(s){if(s=s[tn]||s[wt]){var o=s.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return s}return null}function le(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s.stateNode;throw Error(n(33))}function Me(s){var o=s[Cn];return o||(o=s[Cn]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function $e(s){s[Gn]=!0}var At=new Set,jt={};function Mt(s,o){Z(s,o),Z(s+"Capture",o)}function Z(s,o){for(jt[s]=o,s=0;s<o.length;s++)At.add(o[s])}var Je=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),mt={},nt={};function Ot(s){return ue.call(nt,s)?!0:ue.call(mt,s)?!1:Je.test(s)?nt[s]=!0:(mt[s]=!0,!1)}function _t(s,o,c){if(Ot(o))if(c===null)s.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":s.removeAttribute(o);return;case"boolean":var p=o.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){s.removeAttribute(o);return}}s.setAttribute(o,""+c)}}function Gt(s,o,c){if(c===null)s.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttribute(o,""+c)}}function gr(s,o,c,p){if(p===null)s.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttributeNS(o,c,""+p)}}function zt(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function In(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function fs(s,o,c){var p=Object.getOwnPropertyDescriptor(s.constructor.prototype,o);if(!s.hasOwnProperty(o)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var y=p.get,N=p.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return y.call(this)},set:function(P){c=""+P,N.call(this,P)}}),Object.defineProperty(s,o,{enumerable:p.enumerable}),{getValue:function(){return c},setValue:function(P){c=""+P},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function Br(s){if(!s._valueTracker){var o=In(s)?"checked":"value";s._valueTracker=fs(s,o,""+s[o])}}function rn(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var c=o.getValue(),p="";return s&&(p=In(s)?s.checked?"true":"false":s.value),s=p,s!==c?(o.setValue(s),!0):!1}function $n(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Qn=/[\n"\\]/g;function on(s){return s.replace(Qn,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function pi(s,o,c,p,y,N,P,ce){s.name="",P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?s.type=P:s.removeAttribute("type"),o!=null?P==="number"?(o===0&&s.value===""||s.value!=o)&&(s.value=""+zt(o)):s.value!==""+zt(o)&&(s.value=""+zt(o)):P!=="submit"&&P!=="reset"||s.removeAttribute("value"),o!=null?ve(s,P,zt(o)):c!=null?ve(s,P,zt(c)):p!=null&&s.removeAttribute("value"),y==null&&N!=null&&(s.defaultChecked=!!N),y!=null&&(s.checked=y&&typeof y!="function"&&typeof y!="symbol"),ce!=null&&typeof ce!="function"&&typeof ce!="symbol"&&typeof ce!="boolean"?s.name=""+zt(ce):s.removeAttribute("name")}function Ja(s,o,c,p,y,N,P,ce){if(N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(s.type=N),o!=null||c!=null){if(!(N!=="submit"&&N!=="reset"||o!=null)){Br(s);return}c=c!=null?""+zt(c):"",o=o!=null?""+zt(o):c,ce||o===s.value||(s.value=o),s.defaultValue=o}p=p??y,p=typeof p!="function"&&typeof p!="symbol"&&!!p,s.checked=ce?s.checked:!!p,s.defaultChecked=!!p,P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"&&(s.name=P),Br(s)}function ve(s,o,c){o==="number"&&$n(s.ownerDocument)===s||s.defaultValue===""+c||(s.defaultValue=""+c)}function He(s,o,c,p){if(s=s.options,o){o={};for(var y=0;y<c.length;y++)o["$"+c[y]]=!0;for(c=0;c<s.length;c++)y=o.hasOwnProperty("$"+s[c].value),s[c].selected!==y&&(s[c].selected=y),y&&p&&(s[c].defaultSelected=!0)}else{for(c=""+zt(c),o=null,y=0;y<s.length;y++){if(s[y].value===c){s[y].selected=!0,p&&(s[y].defaultSelected=!0);return}o!==null||s[y].disabled||(o=s[y])}o!==null&&(o.selected=!0)}}function Qt(s,o,c){if(o!=null&&(o=""+zt(o),o!==s.value&&(s.value=o),c==null)){s.defaultValue!==o&&(s.defaultValue=o);return}s.defaultValue=c!=null?""+zt(c):""}function Tt(s,o,c,p){if(o==null){if(p!=null){if(c!=null)throw Error(n(92));if(he(p)){if(1<p.length)throw Error(n(93));p=p[0]}c=p}c==null&&(c=""),o=c}c=zt(o),s.defaultValue=c,p=s.textContent,p===c&&p!==""&&p!==null&&(s.value=p),Br(s)}function dr(s,o){if(o){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=o;return}}s.textContent=o}var hr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Rt(s,o,c){var p=o.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?p?s.setProperty(o,""):o==="float"?s.cssFloat="":s[o]="":p?s.setProperty(o,c):typeof c!="number"||c===0||hr.has(o)?o==="float"?s.cssFloat=c:s[o]=(""+c).trim():s[o]=c+"px"}function Lr(s,o,c){if(o!=null&&typeof o!="object")throw Error(n(62));if(s=s.style,c!=null){for(var p in c)!c.hasOwnProperty(p)||o!=null&&o.hasOwnProperty(p)||(p.indexOf("--")===0?s.setProperty(p,""):p==="float"?s.cssFloat="":s[p]="");for(var y in o)p=o[y],o.hasOwnProperty(y)&&c[y]!==p&&Rt(s,y,p)}else for(var N in o)o.hasOwnProperty(N)&&Rt(s,N,o[N])}function Mr(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kn=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wa=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Hn(s){return wa.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Jr(){}var js=null;function Zs(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Fi=null,Ut=null;function La(s){var o=As(s);if(o&&(s=o.stateNode)){var c=s[Te]||null;e:switch(s=o.stateNode,o.type){case"input":if(pi(s,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),o=c.name,c.type==="radio"&&o!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+on(""+o)+'"][type="radio"]'),o=0;o<c.length;o++){var p=c[o];if(p!==s&&p.form===s.form){var y=p[Te]||null;if(!y)throw Error(n(90));pi(p,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(o=0;o<c.length;o++)p=c[o],p.form===s.form&&rn(p)}break e;case"textarea":Qt(s,c.value,c.defaultValue);break e;case"select":o=c.value,o!=null&&He(s,!!c.multiple,o,!1)}}}var mn=!1;function bo(s,o,c){if(mn)return s(o,c);mn=!0;try{var p=s(o);return p}finally{if(mn=!1,(Fi!==null||Ut!==null)&&(qf(),Fi&&(o=Fi,s=Ut,Ut=Fi=null,La(o),s)))for(o=0;o<s.length;o++)La(s[o])}}function Aa(s,o){var c=s.stateNode;if(c===null)return null;var p=c[Te]||null;if(p===null)return null;c=p[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(s=s.type,p=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!p;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(n(231,o,typeof c));return c}var Hs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ll=!1;if(Hs)try{var Ya={};Object.defineProperty(Ya,"passive",{get:function(){ll=!0}}),window.addEventListener("test",Ya,Ya),window.removeEventListener("test",Ya,Ya)}catch{ll=!1}var Ua=null,Oi=null,Zn=null;function Ki(){if(Zn)return Zn;var s,o=Oi,c=o.length,p,y="value"in Ua?Ua.value:Ua.textContent,N=y.length;for(s=0;s<c&&o[s]===y[s];s++);var P=c-s;for(p=1;p<=P&&o[c-p]===y[N-p];p++);return Zn=y.slice(s,1<p?1-p:void 0)}function Wa(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Al(){return!0}function Fl(){return!1}function qs(s){function o(c,p,y,N,P){this._reactName=c,this._targetInst=y,this.type=p,this.nativeEvent=N,this.target=P,this.currentTarget=null;for(var ce in s)s.hasOwnProperty(ce)&&(c=s[ce],this[ce]=c?c(N):N[ce]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?Al:Fl,this.isPropagationStopped=Fl,this}return b(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Al)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Al)},persist:function(){},isPersistent:Al}),o}var mi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gi=qs(mi),Vi=b({},mi,{view:0,detail:0}),Yr=qs(Vi),cl,zs,ei,Ho=b({},Vi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ei&&(ei&&s.type==="mousemove"?(cl=s.screenX-ei.screenX,zs=s.screenY-ei.screenY):zs=cl=0,ei=s),cl)},movementY:function(s){return"movementY"in s?s.movementY:zs}}),uA=qs(Ho),Qi=b({},Ho,{dataTransfer:0}),vo=qs(Qi),hA=b({},Vi,{relatedTarget:0}),yo=qs(hA),KA=b({},mi,{animationName:0,elapsedTime:0,pseudoElement:0}),j=qs(KA),J=b({},mi,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),ye=qs(J),Ie=b({},mi,{data:0}),Pe=qs(Ie),ct={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ct={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xr(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=fr[s])?!!o[s]:!1}function Tr(){return xr}var zr=b({},Vi,{key:function(s){if(s.key){var o=ct[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=Wa(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Ct[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tr,charCode:function(s){return s.type==="keypress"?Wa(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Wa(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),un=qs(zr),cs=b({},Ho,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vs=qs(cs),Rn=b({},Vi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tr}),Ks=qs(Rn),ys=b({},mi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xs=qs(ys),xi=b({},Ho,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),ca=qs(xi),wo=b({},mi,{newState:0,oldState:0}),_o=qs(wo),da=[9,13,27,32],Ri=Hs&&"CompositionEvent"in window,bi=null;Hs&&"documentMode"in document&&(bi=document.documentMode);var dl=Hs&&"TextEvent"in window&&!bi,Di=Hs&&(!Ri||bi&&8<bi&&11>=bi),Ls=" ",qo=!1;function zo(s,o){switch(s){case"keyup":return da.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ul(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Gi=!1;function Yn(s,o){switch(s){case"compositionend":return ul(o);case"keypress":return o.which!==32?null:(qo=!0,Ls);case"textInput":return s=o.data,s===Ls&&qo?null:s;default:return null}}function Ha(s,o){if(Gi)return s==="compositionend"||!Ri&&zo(s,o)?(s=Ki(),Zn=Oi=Ua=null,Gi=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Di&&o.locale!=="ko"?null:o.data;default:return null}}var Ol={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ti(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!Ol[s.type]:o==="textarea"}function ri(s,o,c,p){Fi?Ut?Ut.push(p):Ut=[p]:Fi=p,o=Xf(o,"onChange"),0<o.length&&(c=new gi("onChange","change",null,c,p),s.push({event:c,listeners:o}))}var _a=null,Bo=null;function No(s){U1(s,0)}function vi(s){var o=le(s);if(rn(o))return s}function Mi(s,o){if(s==="change")return o}var qa=!1;if(Hs){var ps;if(Hs){var ni="oninput"in document;if(!ni){var $i=document.createElement("div");$i.setAttribute("oninput","return;"),ni=typeof $i.oninput=="function"}ps=ni}else ps=!1;qa=ps&&(!document.documentMode||9<document.documentMode)}function Pi(){_a&&(_a.detachEvent("onpropertychange",Ql),Bo=_a=null)}function Ql(s){if(s.propertyName==="value"&&vi(Bo)){var o=[];ri(o,Bo,s,Zs(s)),bo(No,o)}}function za(s,o,c){s==="focusin"?(Pi(),_a=o,Bo=c,_a.attachEvent("onpropertychange",Ql)):s==="focusout"&&Pi()}function ws(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return vi(Bo)}function Co(s,o){if(s==="click")return vi(o)}function Zi(s,o){if(s==="input"||s==="change")return vi(o)}function Js(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var Us=typeof Object.is=="function"?Object.is:Js;function Xi(s,o){if(Us(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var c=Object.keys(s),p=Object.keys(o);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var y=c[p];if(!ue.call(o,y)||!Us(s[y],o[y]))return!1}return!0}function Ko(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Eo(s,o){var c=Ko(s);s=0;for(var p;c;){if(c.nodeType===3){if(p=s+c.textContent.length,s<=o&&p>=o)return{node:c,offset:o-s};s=p}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Ko(c)}}function Hi(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?Hi(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function yi(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var o=$n(s.document);o instanceof s.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)s=o.contentWindow;else break;o=$n(s.document)}return o}function Ia(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}var Ji=Hs&&"documentMode"in document&&11>=document.documentMode,ka=null,Yi=null,Ba=null,Ta=!1;function Bn(s,o,c){var p=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Ta||ka==null||ka!==$n(p)||(p=ka,"selectionStart"in p&&Ia(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Ba&&Xi(Ba,p)||(Ba=p,p=Xf(Yi,"onSelect"),0<p.length&&(o=new gi("onSelect","select",null,o,c),s.push({event:o,listeners:p}),o.target=ka)))}function hn(s,o){var c={};return c[s.toLowerCase()]=o.toLowerCase(),c["Webkit"+s]="webkit"+o,c["Moz"+s]="moz"+o,c}var Xn={animationend:hn("Animation","AnimationEnd"),animationiteration:hn("Animation","AnimationIteration"),animationstart:hn("Animation","AnimationStart"),transitionrun:hn("Transition","TransitionRun"),transitionstart:hn("Transition","TransitionStart"),transitioncancel:hn("Transition","TransitionCancel"),transitionend:hn("Transition","TransitionEnd")},ms={},Wi={};Hs&&(Wi=document.createElement("div").style,"AnimationEvent"in window||(delete Xn.animationend.animation,delete Xn.animationiteration.animation,delete Xn.animationstart.animation),"TransitionEvent"in window||delete Xn.transitionend.transition);function Is(s){if(ms[s])return ms[s];if(!Xn[s])return s;var o=Xn[s],c;for(c in o)if(o.hasOwnProperty(c)&&c in Wi)return ms[s]=o[c];return s}var eo=Is("animationend"),fA=Is("animationiteration"),Rl=Is("animationstart"),xd=Is("transitionrun"),Ic=Is("transitionstart"),bd=Is("transitioncancel"),hl=Is("transitionend"),kc=new Map,wi="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wi.push("scrollEnd");function si(s,o){kc.set(s,o),Mt(o,[s])}var Dl=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},ai=[],Fa=0,pA=0;function Ml(){for(var s=Fa,o=pA=Fa=0;o<s;){var c=ai[o];ai[o++]=null;var p=ai[o];ai[o++]=null;var y=ai[o];ai[o++]=null;var N=ai[o];if(ai[o++]=null,p!==null&&y!==null){var P=p.pending;P===null?y.next=y:(y.next=P.next,P.next=y),p.pending=y}N!==0&&jo(c,y,N)}}function So(s,o,c,p){ai[Fa++]=s,ai[Fa++]=o,ai[Fa++]=c,ai[Fa++]=p,pA|=p,s.lanes|=p,s=s.alternate,s!==null&&(s.lanes|=p)}function VA(s,o,c,p){return So(s,o,c,p),ua(s)}function _i(s,o){return So(s,null,null,o),ua(s)}function jo(s,o,c){s.lanes|=c;var p=s.alternate;p!==null&&(p.lanes|=c);for(var y=!1,N=s.return;N!==null;)N.childLanes|=c,p=N.alternate,p!==null&&(p.childLanes|=c),N.tag===22&&(s=N.stateNode,s===null||s._visibility&1||(y=!0)),s=N,N=N.return;return s.tag===3?(N=s.stateNode,y&&o!==null&&(y=31-ar(c),s=N.hiddenUpdates,p=s[y],p===null?s[y]=[o]:p.push(o),o.lane=c|536870912),N):null}function ua(s){if(50<th)throw th=0,n0=null,Error(n(185));for(var o=s.return;o!==null;)s=o,o=s.return;return s.tag===3?s.stateNode:null}var Ys={};function GA(s,o,c,p){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ha(s,o,c,p){return new GA(s,o,c,p)}function mA(s){return s=s.prototype,!(!s||!s.isReactComponent)}function ii(s,o){var c=s.alternate;return c===null?(c=ha(s.tag,o,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=o,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&65011712,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,o=s.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c.refCleanup=s.refCleanup,c}function Pl(s,o){s.flags&=65011714;var c=s.alternate;return c===null?(s.childLanes=0,s.lanes=o,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,o=c.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),s}function fl(s,o,c,p,y,N){var P=0;if(p=s,typeof s=="function")mA(s)&&(P=1);else if(typeof s=="string")P=M4(s,c,X.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case G:return s=ha(31,c,o,y),s.elementType=G,s.lanes=N,s;case U:return Vo(c.children,y,N,o);case k:P=8,y|=24;break;case C:return s=ha(12,c,o,y|2),s.elementType=C,s.lanes=N,s;case re:return s=ha(13,c,o,y),s.elementType=re,s.lanes=N,s;case q:return s=ha(19,c,o,y),s.elementType=q,s.lanes=N,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case D:P=10;break e;case O:P=9;break e;case H:P=11;break e;case ne:P=14;break e;case te:P=16,p=null;break e}P=29,c=Error(n(130,s===null?"null":typeof s,"")),p=null}return o=ha(P,c,o,y),o.elementType=s,o.type=p,o.lanes=N,o}function Vo(s,o,c,p){return s=ha(7,s,p,o),s.lanes=c,s}function Hl(s,o,c){return s=ha(6,s,null,o),s.lanes=c,s}function gA(s){var o=ha(18,null,null,0);return o.stateNode=s,o}function ql(s,o,c){return o=ha(4,s.children!==null?s.children:[],s.key,o),o.lanes=c,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}var A=new WeakMap;function f(s,o){if(typeof s=="object"&&s!==null){var c=A.get(s);return c!==void 0?c:(o={value:s,source:o,stack:st(o)},A.set(s,o),o)}return{value:s,source:o,stack:st(o)}}var v=[],E=0,R=null,ae=0,Ee=[],qe=0,tt=null,vt=1,Kt="";function br(s,o){v[E++]=ae,v[E++]=R,R=s,ae=o}function Wr(s,o,c){Ee[qe++]=vt,Ee[qe++]=Kt,Ee[qe++]=tt,tt=s;var p=vt;s=Kt;var y=32-ar(p)-1;p&=~(1<<y),c+=1;var N=32-ar(o)+y;if(30<N){var P=y-y%5;N=(p&(1<<P)-1).toString(32),p>>=P,y-=P,vt=1<<32-ar(o)+y|c<<y|p,Kt=N+s}else vt=1<<N|c<<y|p,Kt=s}function fa(s){s.return!==null&&(br(s,1),Wr(s,1,0))}function _s(s){for(;s===R;)R=v[--E],v[E]=null,ae=v[--E],v[E]=null;for(;s===tt;)tt=Ee[--qe],Ee[qe]=null,Kt=Ee[--qe],Ee[qe]=null,vt=Ee[--qe],Ee[qe]=null}function oi(s,o){Ee[qe++]=vt,Ee[qe++]=Kt,Ee[qe++]=tt,vt=o.id,Kt=o.overflow,tt=s}var En=null,Sn=null,cn=!1,Oa=null,gs=!1,Bi=Error(n(519));function Go(s){var o=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw zl(f(o,s)),Bi}function $A(s){var o=s.stateNode,c=s.type,p=s.memoizedProps;switch(o[tn]=s,o[Te]=p,c){case"dialog":xn("cancel",o),xn("close",o);break;case"iframe":case"object":case"embed":xn("load",o);break;case"video":case"audio":for(c=0;c<nh.length;c++)xn(nh[c],o);break;case"source":xn("error",o);break;case"img":case"image":case"link":xn("error",o),xn("load",o);break;case"details":xn("toggle",o);break;case"input":xn("invalid",o),Ja(o,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":xn("invalid",o);break;case"textarea":xn("invalid",o),Tt(o,p.value,p.defaultValue,p.children)}c=p.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||o.textContent===""+c||p.suppressHydrationWarning===!0||F1(o.textContent,c)?(p.popover!=null&&(xn("beforetoggle",o),xn("toggle",o)),p.onScroll!=null&&xn("scroll",o),p.onScrollEnd!=null&&xn("scrollend",o),p.onClick!=null&&(o.onclick=Jr),o=!0):o=!1,o||Go(s,!0)}function Dn(s){for(En=s.return;En;)switch(En.tag){case 5:case 31:case 13:gs=!1;return;case 27:case 3:gs=!0;return;default:En=En.return}}function ks(s){if(s!==En)return!1;if(!cn)return Dn(s),cn=!0,!1;var o=s.tag,c;if((c=o!==3&&o!==27)&&((c=o===5)&&(c=s.type,c=!(c!=="form"&&c!=="button")||x0(s.type,s.memoizedProps)),c=!c),c&&Sn&&Go(s),Dn(s),o===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));Sn=z1(s)}else if(o===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));Sn=z1(s)}else o===27?(o=Sn,lc(s.type)?(s=_0,_0=null,Sn=s):Sn=o):Sn=En?Xo(s.stateNode.nextSibling):null;return!0}function pl(){Sn=En=null,cn=!1}function Tc(){var s=Oa;return s!==null&&(oo===null?oo=s:oo.push.apply(oo,s),Oa=null),s}function zl(s){Oa===null?Oa=[s]:Oa.push(s)}var Kl=M(null),Lo=null,to=null;function Vl(s,o,c){$(Kl,o._currentValue),o._currentValue=c}function ro(s){s._currentValue=Kl.current,T(Kl)}function ZA(s,o,c){for(;s!==null;){var p=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),s===c)break;s=s.return}}function xA(s,o,c,p){var y=s.child;for(y!==null&&(y.return=s);y!==null;){var N=y.dependencies;if(N!==null){var P=y.child;N=N.firstContext;e:for(;N!==null;){var ce=N;N=y;for(var Se=0;Se<o.length;Se++)if(ce.context===o[Se]){N.lanes|=c,ce=N.alternate,ce!==null&&(ce.lanes|=c),ZA(N.return,c,s),p||(P=null);break e}N=ce.next}}else if(y.tag===18){if(P=y.return,P===null)throw Error(n(341));P.lanes|=c,N=P.alternate,N!==null&&(N.lanes|=c),ZA(P,c,s),P=null}else P=y.child;if(P!==null)P.return=y;else for(P=y;P!==null;){if(P===s){P=null;break}if(y=P.sibling,y!==null){y.return=P.return,P=y;break}P=P.return}y=P}}function Gl(s,o,c,p){s=null;for(var y=o,N=!1;y!==null;){if(!N){if((y.flags&524288)!==0)N=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var P=y.alternate;if(P===null)throw Error(n(387));if(P=P.memoizedProps,P!==null){var ce=y.type;Us(y.pendingProps.value,P.value)||(s!==null?s.push(ce):s=[ce])}}else if(y===Be.current){if(P=y.alternate,P===null)throw Error(n(387));P.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(s!==null?s.push(lh):s=[lh])}y=y.return}s!==null&&xA(o,s,c,p),o.flags|=262144}function vd(s){for(s=s.firstContext;s!==null;){if(!Us(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function $l(s){Lo=s,to=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Qa(s){return Bf(Lo,s)}function yd(s,o){return Lo===null&&$l(s),Bf(s,o)}function Bf(s,o){var c=o._currentValue;if(o={context:o,memoizedValue:c,next:null},to===null){if(s===null)throw Error(n(308));to=o,s.dependencies={lanes:0,firstContext:o},s.flags|=524288}else to=to.next=o;return c}var wg=typeof AbortController<"u"?AbortController:function(){var s=[],o=this.signal={aborted:!1,addEventListener:function(c,p){s.push(p)}};this.abort=function(){o.aborted=!0,s.forEach(function(c){return c()})}},_g=t.unstable_scheduleCallback,Bg=t.unstable_NormalPriority,Vs={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function XA(){return{controller:new wg,data:new Map,refCount:0}}function Fc(s){s.refCount--,s.refCount===0&&_g(Bg,function(){s.controller.abort()})}var Oc=null,wd=0,x=0,_=null;function I(s,o){if(Oc===null){var c=Oc=[];wd=0,x=A0(),_={status:"pending",value:void 0,then:function(p){c.push(p)}}}return wd++,o.then(Q,Q),o}function Q(){if(--wd===0&&Oc!==null){_!==null&&(_.status="fulfilled");var s=Oc;Oc=null,x=0,_=null;for(var o=0;o<s.length;o++)(0,s[o])()}}function Y(s,o){var c=[],p={status:"pending",value:null,reason:null,then:function(y){c.push(y)}};return s.then(function(){p.status="fulfilled",p.value=o;for(var y=0;y<c.length;y++)(0,c[y])(o)},function(y){for(p.status="rejected",p.reason=y,y=0;y<c.length;y++)(0,c[y])(void 0)}),p}var se=V.S;V.S=function(s,o){a1=nr(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&I(s,o),se!==null&&se(s,o)};var oe=M(null);function pe(){var s=oe.current;return s!==null?s:us.pooledCache}function be(s,o){o===null?$(oe,oe.current):$(oe,o.pool)}function _e(){var s=pe();return s===null?null:{parent:Vs._currentValue,pool:s}}var Fe=Error(n(460)),Ye=Error(n(474)),we=Error(n(542)),De={then:function(){}};function Ge(s){return s=s.status,s==="fulfilled"||s==="rejected"}function ht(s,o,c){switch(c=s[c],c===void 0?s.push(o):c!==o&&(o.then(Jr,Jr),o=c),o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,kt(s),s;default:if(typeof o.status=="string")o.then(Jr,Jr);else{if(s=us,s!==null&&100<s.shellSuspendCounter)throw Error(n(482));s=o,s.status="pending",s.then(function(p){if(o.status==="pending"){var y=o;y.status="fulfilled",y.value=p}},function(p){if(o.status==="pending"){var y=o;y.status="rejected",y.reason=p}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,kt(s),s}throw dt=o,Fe}}function Xe(s){try{var o=s._init;return o(s._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(dt=c,Fe):c}}var dt=null;function xt(){if(dt===null)throw Error(n(459));var s=dt;return dt=null,s}function kt(s){if(s===Fe||s===we)throw Error(n(483))}var Nt=null,wr=0;function lr(s){var o=wr;return wr+=1,Nt===null&&(Nt=[]),ht(Nt,s,o)}function Kr(s,o){o=o.props.ref,s.ref=o!==void 0?o:null}function pr(s,o){throw o.$$typeof===B?Error(n(525)):(s=Object.prototype.toString.call(o),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s)))}function fn(s){function o(ze,Oe){if(s){var We=ze.deletions;We===null?(ze.deletions=[Oe],ze.flags|=16):We.push(Oe)}}function c(ze,Oe){if(!s)return null;for(;Oe!==null;)o(ze,Oe),Oe=Oe.sibling;return null}function p(ze){for(var Oe=new Map;ze!==null;)ze.key!==null?Oe.set(ze.key,ze):Oe.set(ze.index,ze),ze=ze.sibling;return Oe}function y(ze,Oe){return ze=ii(ze,Oe),ze.index=0,ze.sibling=null,ze}function N(ze,Oe,We){return ze.index=We,s?(We=ze.alternate,We!==null?(We=We.index,We<Oe?(ze.flags|=67108866,Oe):We):(ze.flags|=67108866,Oe)):(ze.flags|=1048576,Oe)}function P(ze){return s&&ze.alternate===null&&(ze.flags|=67108866),ze}function ce(ze,Oe,We,yt){return Oe===null||Oe.tag!==6?(Oe=Hl(We,ze.mode,yt),Oe.return=ze,Oe):(Oe=y(Oe,We),Oe.return=ze,Oe)}function Se(ze,Oe,We,yt){var kr=We.type;return kr===U?pt(ze,Oe,We.props.children,yt,We.key):Oe!==null&&(Oe.elementType===kr||typeof kr=="object"&&kr!==null&&kr.$$typeof===te&&Xe(kr)===Oe.type)?(Oe=y(Oe,We.props),Kr(Oe,We),Oe.return=ze,Oe):(Oe=fl(We.type,We.key,We.props,null,ze.mode,yt),Kr(Oe,We),Oe.return=ze,Oe)}function et(ze,Oe,We,yt){return Oe===null||Oe.tag!==4||Oe.stateNode.containerInfo!==We.containerInfo||Oe.stateNode.implementation!==We.implementation?(Oe=ql(We,ze.mode,yt),Oe.return=ze,Oe):(Oe=y(Oe,We.children||[]),Oe.return=ze,Oe)}function pt(ze,Oe,We,yt,kr){return Oe===null||Oe.tag!==7?(Oe=Vo(We,ze.mode,yt,kr),Oe.return=ze,Oe):(Oe=y(Oe,We),Oe.return=ze,Oe)}function Bt(ze,Oe,We){if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number"||typeof Oe=="bigint")return Oe=Hl(""+Oe,ze.mode,We),Oe.return=ze,Oe;if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case w:return We=fl(Oe.type,Oe.key,Oe.props,null,ze.mode,We),Kr(We,Oe),We.return=ze,We;case S:return Oe=ql(Oe,ze.mode,We),Oe.return=ze,Oe;case te:return Oe=Xe(Oe),Bt(ze,Oe,We)}if(he(Oe)||W(Oe))return Oe=Vo(Oe,ze.mode,We,null),Oe.return=ze,Oe;if(typeof Oe.then=="function")return Bt(ze,lr(Oe),We);if(Oe.$$typeof===D)return Bt(ze,yd(ze,Oe),We);pr(ze,Oe)}return null}function rt(ze,Oe,We,yt){var kr=Oe!==null?Oe.key:null;if(typeof We=="string"&&We!==""||typeof We=="number"||typeof We=="bigint")return kr!==null?null:ce(ze,Oe,""+We,yt);if(typeof We=="object"&&We!==null){switch(We.$$typeof){case w:return We.key===kr?Se(ze,Oe,We,yt):null;case S:return We.key===kr?et(ze,Oe,We,yt):null;case te:return We=Xe(We),rt(ze,Oe,We,yt)}if(he(We)||W(We))return kr!==null?null:pt(ze,Oe,We,yt,null);if(typeof We.then=="function")return rt(ze,Oe,lr(We),yt);if(We.$$typeof===D)return rt(ze,Oe,yd(ze,We),yt);pr(ze,We)}return null}function it(ze,Oe,We,yt,kr){if(typeof yt=="string"&&yt!==""||typeof yt=="number"||typeof yt=="bigint")return ze=ze.get(We)||null,ce(Oe,ze,""+yt,kr);if(typeof yt=="object"&&yt!==null){switch(yt.$$typeof){case w:return ze=ze.get(yt.key===null?We:yt.key)||null,Se(Oe,ze,yt,kr);case S:return ze=ze.get(yt.key===null?We:yt.key)||null,et(Oe,ze,yt,kr);case te:return yt=Xe(yt),it(ze,Oe,We,yt,kr)}if(he(yt)||W(yt))return ze=ze.get(We)||null,pt(Oe,ze,yt,kr,null);if(typeof yt.then=="function")return it(ze,Oe,We,lr(yt),kr);if(yt.$$typeof===D)return it(ze,Oe,We,yd(Oe,yt),kr);pr(Oe,yt)}return null}function vr(ze,Oe,We,yt){for(var kr=null,Mn=null,Cr=Oe,an=Oe=0,vn=null;Cr!==null&&an<We.length;an++){Cr.index>an?(vn=Cr,Cr=null):vn=Cr.sibling;var Pn=rt(ze,Cr,We[an],yt);if(Pn===null){Cr===null&&(Cr=vn);break}s&&Cr&&Pn.alternate===null&&o(ze,Cr),Oe=N(Pn,Oe,an),Mn===null?kr=Pn:Mn.sibling=Pn,Mn=Pn,Cr=vn}if(an===We.length)return c(ze,Cr),cn&&br(ze,an),kr;if(Cr===null){for(;an<We.length;an++)Cr=Bt(ze,We[an],yt),Cr!==null&&(Oe=N(Cr,Oe,an),Mn===null?kr=Cr:Mn.sibling=Cr,Mn=Cr);return cn&&br(ze,an),kr}for(Cr=p(Cr);an<We.length;an++)vn=it(Cr,ze,an,We[an],yt),vn!==null&&(s&&vn.alternate!==null&&Cr.delete(vn.key===null?an:vn.key),Oe=N(vn,Oe,an),Mn===null?kr=vn:Mn.sibling=vn,Mn=vn);return s&&Cr.forEach(function(hc){return o(ze,hc)}),cn&&br(ze,an),kr}function Or(ze,Oe,We,yt){if(We==null)throw Error(n(151));for(var kr=null,Mn=null,Cr=Oe,an=Oe=0,vn=null,Pn=We.next();Cr!==null&&!Pn.done;an++,Pn=We.next()){Cr.index>an?(vn=Cr,Cr=null):vn=Cr.sibling;var hc=rt(ze,Cr,Pn.value,yt);if(hc===null){Cr===null&&(Cr=vn);break}s&&Cr&&hc.alternate===null&&o(ze,Cr),Oe=N(hc,Oe,an),Mn===null?kr=hc:Mn.sibling=hc,Mn=hc,Cr=vn}if(Pn.done)return c(ze,Cr),cn&&br(ze,an),kr;if(Cr===null){for(;!Pn.done;an++,Pn=We.next())Pn=Bt(ze,Pn.value,yt),Pn!==null&&(Oe=N(Pn,Oe,an),Mn===null?kr=Pn:Mn.sibling=Pn,Mn=Pn);return cn&&br(ze,an),kr}for(Cr=p(Cr);!Pn.done;an++,Pn=We.next())Pn=it(Cr,ze,an,Pn.value,yt),Pn!==null&&(s&&Pn.alternate!==null&&Cr.delete(Pn.key===null?an:Pn.key),Oe=N(Pn,Oe,an),Mn===null?kr=Pn:Mn.sibling=Pn,Mn=Pn);return s&&Cr.forEach(function(J4){return o(ze,J4)}),cn&&br(ze,an),kr}function os(ze,Oe,We,yt){if(typeof We=="object"&&We!==null&&We.type===U&&We.key===null&&(We=We.props.children),typeof We=="object"&&We!==null){switch(We.$$typeof){case w:e:{for(var kr=We.key;Oe!==null;){if(Oe.key===kr){if(kr=We.type,kr===U){if(Oe.tag===7){c(ze,Oe.sibling),yt=y(Oe,We.props.children),yt.return=ze,ze=yt;break e}}else if(Oe.elementType===kr||typeof kr=="object"&&kr!==null&&kr.$$typeof===te&&Xe(kr)===Oe.type){c(ze,Oe.sibling),yt=y(Oe,We.props),Kr(yt,We),yt.return=ze,ze=yt;break e}c(ze,Oe);break}else o(ze,Oe);Oe=Oe.sibling}We.type===U?(yt=Vo(We.props.children,ze.mode,yt,We.key),yt.return=ze,ze=yt):(yt=fl(We.type,We.key,We.props,null,ze.mode,yt),Kr(yt,We),yt.return=ze,ze=yt)}return P(ze);case S:e:{for(kr=We.key;Oe!==null;){if(Oe.key===kr)if(Oe.tag===4&&Oe.stateNode.containerInfo===We.containerInfo&&Oe.stateNode.implementation===We.implementation){c(ze,Oe.sibling),yt=y(Oe,We.children||[]),yt.return=ze,ze=yt;break e}else{c(ze,Oe);break}else o(ze,Oe);Oe=Oe.sibling}yt=ql(We,ze.mode,yt),yt.return=ze,ze=yt}return P(ze);case te:return We=Xe(We),os(ze,Oe,We,yt)}if(he(We))return vr(ze,Oe,We,yt);if(W(We)){if(kr=W(We),typeof kr!="function")throw Error(n(150));return We=kr.call(We),Or(ze,Oe,We,yt)}if(typeof We.then=="function")return os(ze,Oe,lr(We),yt);if(We.$$typeof===D)return os(ze,Oe,yd(ze,We),yt);pr(ze,We)}return typeof We=="string"&&We!==""||typeof We=="number"||typeof We=="bigint"?(We=""+We,Oe!==null&&Oe.tag===6?(c(ze,Oe.sibling),yt=y(Oe,We),yt.return=ze,ze=yt):(c(ze,Oe),yt=Hl(We,ze.mode,yt),yt.return=ze,ze=yt),P(ze)):c(ze,Oe)}return function(ze,Oe,We,yt){try{wr=0;var kr=os(ze,Oe,We,yt);return Nt=null,kr}catch(Cr){if(Cr===Fe||Cr===we)throw Cr;var Mn=ha(29,Cr,null,ze.mode);return Mn.lanes=yt,Mn.return=ze,Mn}finally{}}}var ds=fn(!0),Gr=fn(!1),Ar=!1;function $t(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bs(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Fr(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function en(s,o,c){var p=s.updateQueue;if(p===null)return null;if(p=p.shared,(Kn&2)!==0){var y=p.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),p.pending=o,o=ua(s),jo(s,null,c),o}return So(s,p,o,c),ua(s)}function qn(s,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194048)!==0)){var p=o.lanes;p&=s.pendingLanes,c|=p,o.lanes=c,pn(s,c)}}function pa(s,o){var c=s.updateQueue,p=s.alternate;if(p!==null&&(p=p.updateQueue,c===p)){var y=null,N=null;if(c=c.firstBaseUpdate,c!==null){do{var P={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};N===null?y=N=P:N=N.next=P,c=c.next}while(c!==null);N===null?y=N=o:N=N.next=o}else y=N=o;c={baseState:p.baseState,firstBaseUpdate:y,lastBaseUpdate:N,shared:p.shared,callbacks:p.callbacks},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=o:s.next=o,c.lastBaseUpdate=o}var Ra=!1;function ss(){if(Ra){var s=_;if(s!==null)throw s}}function Ws(s,o,c,p){Ra=!1;var y=s.updateQueue;Ar=!1;var N=y.firstBaseUpdate,P=y.lastBaseUpdate,ce=y.shared.pending;if(ce!==null){y.shared.pending=null;var Se=ce,et=Se.next;Se.next=null,P===null?N=et:P.next=et,P=Se;var pt=s.alternate;pt!==null&&(pt=pt.updateQueue,ce=pt.lastBaseUpdate,ce!==P&&(ce===null?pt.firstBaseUpdate=et:ce.next=et,pt.lastBaseUpdate=Se))}if(N!==null){var Bt=y.baseState;P=0,pt=et=Se=null,ce=N;do{var rt=ce.lane&-536870913,it=rt!==ce.lane;if(it?(bn&rt)===rt:(p&rt)===rt){rt!==0&&rt===x&&(Ra=!0),pt!==null&&(pt=pt.next={lane:0,tag:ce.tag,payload:ce.payload,callback:null,next:null});e:{var vr=s,Or=ce;rt=o;var os=c;switch(Or.tag){case 1:if(vr=Or.payload,typeof vr=="function"){Bt=vr.call(os,Bt,rt);break e}Bt=vr;break e;case 3:vr.flags=vr.flags&-65537|128;case 0:if(vr=Or.payload,rt=typeof vr=="function"?vr.call(os,Bt,rt):vr,rt==null)break e;Bt=b({},Bt,rt);break e;case 2:Ar=!0}}rt=ce.callback,rt!==null&&(s.flags|=64,it&&(s.flags|=8192),it=y.callbacks,it===null?y.callbacks=[rt]:it.push(rt))}else it={lane:rt,tag:ce.tag,payload:ce.payload,callback:ce.callback,next:null},pt===null?(et=pt=it,Se=Bt):pt=pt.next=it,P|=rt;if(ce=ce.next,ce===null){if(ce=y.shared.pending,ce===null)break;it=ce,ce=it.next,it.next=null,y.lastBaseUpdate=it,y.shared.pending=null}}while(!0);pt===null&&(Se=Bt),y.baseState=Se,y.firstBaseUpdate=et,y.lastBaseUpdate=pt,N===null&&(y.shared.lanes=0),nc|=P,s.lanes=P,s.memoizedState=Bt}}function Ka(s,o){if(typeof s!="function")throw Error(n(191,s));s.call(o)}function ea(s,o){var c=s.callbacks;if(c!==null)for(s.callbacks=null,s=0;s<c.length;s++)Ka(c[s],o)}var ln=M(null),jn=M(0);function Ns(s,o){s=SA,$(jn,s),$(ln,o),SA=s|o.baseLanes}function Tn(){$(jn,SA),$(ln,ln.current)}function ma(){SA=jn.current,T(ln),T(jn)}var Cs=M(null),Ln=null;function Gs(s){var o=s.alternate;$(Nn,Nn.current&1),$(Cs,s),Ln===null&&(o===null||ln.current!==null||o.memoizedState!==null)&&(Ln=s)}function zn(s){$(Nn,Nn.current),$(Cs,s),Ln===null&&(Ln=s)}function ta(s){s.tag===22?($(Nn,Nn.current),$(Cs,s),Ln===null&&(Ln=s)):ra()}function ra(){$(Nn,Nn.current),$(Cs,Cs.current)}function Wn(s){T(Cs),Ln===s&&(Ln=null),T(Nn)}var Nn=M(0);function Va(s){for(var o=s;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||y0(c)||w0(c)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Ts=0,Ur=null,Ir=null,Un=null,Ni=!1,no=!1,li=!1,na=0,Zl=0,Xl=null,_d=0;function as(){throw Error(n(321))}function Qu(s,o){if(o===null)return!1;for(var c=0;c<o.length&&c<s.length;c++)if(!Us(s[c],o[c]))return!1;return!0}function Ru(s,o,c,p,y,N){return Ts=N,Ur=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,V.H=s===null||s.memoizedState===null?my:Ig,li=!1,N=c(p,y),li=!1,no&&(N=ml(o,c,p,y)),Bd(s),N}function Bd(s){V.H=Vu;var o=Ir!==null&&Ir.next!==null;if(Ts=0,Un=Ir=Ur=null,Ni=!1,Zl=0,Xl=null,o)throw Error(n(300));s===null||Ca||(s=s.dependencies,s!==null&&vd(s)&&(Ca=!0))}function ml(s,o,c,p){Ur=s;var y=0;do{if(no&&(Xl=null),Zl=0,no=!1,25<=y)throw Error(n(301));if(y+=1,Un=Ir=null,s.updateQueue!=null){var N=s.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}V.H=gy,N=o(c,p)}while(no);return N}function Ng(){var s=V.H,o=s.useState()[0];return o=typeof o.then=="function"?Jl(o):o,s=s.useState()[0],(Ir!==null?Ir.memoizedState:null)!==s&&(Ur.flags|=1024),o}function Du(){var s=na!==0;return na=0,s}function Mu(s,o,c){o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~c}function Nd(s){if(Ni){for(s=s.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}Ni=!1}Ts=0,Un=Ir=Ur=null,no=!1,Zl=na=0,Xl=null}function Na(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Un===null?Ur.memoizedState=Un=s:Un=Un.next=s,Un}function Fs(){if(Ir===null){var s=Ur.alternate;s=s!==null?s.memoizedState:null}else s=Ir.next;var o=Un===null?Ur.memoizedState:Un.next;if(o!==null)Un=o,Ir=s;else{if(s===null)throw Ur.alternate===null?Error(n(467)):Error(n(310));Ir=s,s={memoizedState:Ir.memoizedState,baseState:Ir.baseState,baseQueue:Ir.baseQueue,queue:Ir.queue,next:null},Un===null?Ur.memoizedState=Un=s:Un=Un.next=s}return Un}function Qc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Jl(s){var o=Zl;return Zl+=1,Xl===null&&(Xl=[]),s=ht(Xl,s,o),o=Ur,(Un===null?o.memoizedState:Un.next)===null&&(o=o.alternate,V.H=o===null||o.memoizedState===null?my:Ig),s}function JA(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Jl(s);if(s.$$typeof===D)return Qa(s)}throw Error(n(438,String(s)))}function bA(s){var o=null,c=Ur.updateQueue;if(c!==null&&(o=c.memoCache),o==null){var p=Ur.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(o={data:p.data.map(function(y){return y.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),c===null&&(c=Qc(),Ur.updateQueue=c),c.memoCache=o,c=o.data[o.index],c===void 0)for(c=o.data[o.index]=Array(s),p=0;p<s;p++)c[p]=de;return o.index++,c}function $o(s,o){return typeof o=="function"?o(s):o}function Cd(s){var o=Fs();return YA(o,Ir,s)}function YA(s,o,c){var p=s.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=c;var y=s.baseQueue,N=p.pending;if(N!==null){if(y!==null){var P=y.next;y.next=N.next,N.next=P}o.baseQueue=y=N,p.pending=null}if(N=s.baseState,y===null)s.memoizedState=N;else{o=y.next;var ce=P=null,Se=null,et=o,pt=!1;do{var Bt=et.lane&-536870913;if(Bt!==et.lane?(bn&Bt)===Bt:(Ts&Bt)===Bt){var rt=et.revertLane;if(rt===0)Se!==null&&(Se=Se.next={lane:0,revertLane:0,gesture:null,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null}),Bt===x&&(pt=!0);else if((Ts&rt)===rt){et=et.next,rt===x&&(pt=!0);continue}else Bt={lane:0,revertLane:et.revertLane,gesture:null,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null},Se===null?(ce=Se=Bt,P=N):Se=Se.next=Bt,Ur.lanes|=rt,nc|=rt;Bt=et.action,li&&c(N,Bt),N=et.hasEagerState?et.eagerState:c(N,Bt)}else rt={lane:Bt,revertLane:et.revertLane,gesture:et.gesture,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null},Se===null?(ce=Se=rt,P=N):Se=Se.next=rt,Ur.lanes|=Bt,nc|=Bt;et=et.next}while(et!==null&&et!==o);if(Se===null?P=N:Se.next=ce,!Us(N,s.memoizedState)&&(Ca=!0,pt&&(c=_,c!==null)))throw c;s.memoizedState=N,s.baseState=P,s.baseQueue=Se,p.lastRenderedState=N}return y===null&&(p.lanes=0),[s.memoizedState,p.dispatch]}function Ed(s){var o=Fs(),c=o.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=s;var p=c.dispatch,y=c.pending,N=o.memoizedState;if(y!==null){c.pending=null;var P=y=y.next;do N=s(N,P.action),P=P.next;while(P!==y);Us(N,o.memoizedState)||(Ca=!0),o.memoizedState=N,o.baseQueue===null&&(o.baseState=N),c.lastRenderedState=N}return[N,p]}function Sd(s,o,c){var p=Ur,y=Fs(),N=cn;if(N){if(c===void 0)throw Error(n(407));c=c()}else c=o();var P=!Us((Ir||y).memoizedState,c);if(P&&(y.memoizedState=c,Ca=!0),y=y.queue,Cg(Hu.bind(null,p,y,s),[s]),y.getSnapshot!==o||P||Un!==null&&Un.memoizedState.tag&1){if(p.flags|=2048,yA(9,{destroy:void 0},Pu.bind(null,p,y,c,o),null),us===null)throw Error(n(349));N||(Ts&127)!==0||gl(p,o,c)}return c}function gl(s,o,c){s.flags|=16384,s={getSnapshot:o,value:c},o=Ur.updateQueue,o===null?(o=Qc(),Ur.updateQueue=o,o.stores=[s]):(c=o.stores,c===null?o.stores=[s]:c.push(s))}function Pu(s,o,c,p){o.value=c,o.getSnapshot=p,Nf(o)&&qu(s)}function Hu(s,o,c){return c(function(){Nf(o)&&qu(s)})}function Nf(s){var o=s.getSnapshot;s=s.value;try{var c=o();return!Us(s,c)}catch{return!0}}function qu(s){var o=_i(s,2);o!==null&&lo(o,s,2)}function Yl(s){var o=Na();if(typeof s=="function"){var c=s;if(s=c(),li){Xt(!0);try{c()}finally{Xt(!1)}}}return o.memoizedState=o.baseState=s,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$o,lastRenderedState:s},o}function Cf(s,o,c,p){return s.baseState=c,YA(s,Ir,typeof p=="function"?p:$o)}function Ef(s,o,c,p,y){if(Uf(s))throw Error(n(485));if(s=o.action,s!==null){var N={payload:y,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(P){N.listeners.push(P)}};V.T!==null?c(!0):N.isTransition=!1,p(N),c=o.pending,c===null?(N.next=o.pending=N,Sf(o,N)):(N.next=c.next,o.pending=c.next=N)}}function Sf(s,o){var c=o.action,p=o.payload,y=s.state;if(o.isTransition){var N=V.T,P={};V.T=P;try{var ce=c(y,p),Se=V.S;Se!==null&&Se(P,ce),zu(s,o,ce)}catch(et){vA(s,o,et)}finally{N!==null&&P.types!==null&&(N.types=P.types),V.T=N}}else try{N=c(y,p),zu(s,o,N)}catch(et){vA(s,o,et)}}function zu(s,o,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(p){jf(s,o,p)},function(p){return vA(s,o,p)}):jf(s,o,c)}function jf(s,o,c){o.status="fulfilled",o.value=c,jd(o),s.state=c,o=s.pending,o!==null&&(c=o.next,c===o?s.pending=null:(c=c.next,o.next=c,Sf(s,c)))}function vA(s,o,c){var p=s.pending;if(s.pending=null,p!==null){p=p.next;do o.status="rejected",o.reason=c,jd(o),o=o.next;while(o!==p)}s.action=null}function jd(s){s=s.listeners;for(var o=0;o<s.length;o++)(0,s[o])()}function Rc(s,o){return o}function Zo(s,o){if(cn){var c=us.formState;if(c!==null){e:{var p=Ur;if(cn){if(Sn){t:{for(var y=Sn,N=gs;y.nodeType!==8;){if(!N){y=null;break t}if(y=Xo(y.nextSibling),y===null){y=null;break t}}N=y.data,y=N==="F!"||N==="F"?y:null}if(y){Sn=Xo(y.nextSibling),p=y.data==="F!";break e}}Go(p)}p=!1}p&&(o=c[0])}}return c=Na(),c.memoizedState=c.baseState=o,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rc,lastRenderedState:o},c.queue=p,c=hy.bind(null,Ur,p),p.dispatch=c,p=Yl(!1),N=Ug.bind(null,Ur,!1,p.queue),p=Na(),y={state:o,dispatch:null,action:s,pending:null},p.queue=y,c=Ef.bind(null,Ur,y,N,c),y.dispatch=c,p.memoizedState=s,[o,c,!1]}function xl(s){var o=Fs();return bl(o,Ir,s)}function bl(s,o,c){if(o=YA(s,o,Rc)[0],s=Cd($o)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var p=Jl(o)}catch(P){throw P===Fe?we:P}else p=o;o=Fs();var y=o.queue,N=y.dispatch;return c!==o.memoizedState&&(Ur.flags|=2048,yA(9,{destroy:void 0},Ld.bind(null,y,c),null)),[p,N,s]}function Ld(s,o){s.action=o}function Ud(s){var o=Fs(),c=Ir;if(c!==null)return bl(o,c,s);Fs(),o=o.memoizedState,c=Fs();var p=c.queue.dispatch;return c.memoizedState=s,[o,p,!1]}function yA(s,o,c,p){return s={tag:s,create:c,deps:p,inst:o,next:null},o=Ur.updateQueue,o===null&&(o=Qc(),Ur.updateQueue=o),c=o.lastEffect,c===null?o.lastEffect=s.next=s:(p=c.next,c.next=s,s.next=p,o.lastEffect=s),s}function Lf(){return Fs().memoizedState}function WA(s,o,c,p){var y=Na();Ur.flags|=s,y.memoizedState=yA(1|o,{destroy:void 0},c,p===void 0?null:p)}function ec(s,o,c,p){var y=Fs();p=p===void 0?null:p;var N=y.memoizedState.inst;Ir!==null&&p!==null&&Qu(p,Ir.memoizedState.deps)?y.memoizedState=yA(o,N,c,p):(Ur.flags|=s,y.memoizedState=yA(1|o,N,c,p))}function Wv(s,o){WA(8390656,8,s,o)}function Cg(s,o){ec(2048,8,s,o)}function KE(s){Ur.flags|=4;var o=Ur.updateQueue;if(o===null)o=Qc(),Ur.updateQueue=o,o.events=[s];else{var c=o.events;c===null?o.events=[s]:c.push(s)}}function ey(s){var o=Fs().memoizedState;return KE({ref:o,nextImpl:s}),function(){if((Kn&2)!==0)throw Error(n(440));return o.impl.apply(void 0,arguments)}}function ty(s,o){return ec(4,2,s,o)}function ry(s,o){return ec(4,4,s,o)}function ny(s,o){if(typeof o=="function"){s=s();var c=o(s);return function(){typeof c=="function"?c():o(null)}}if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function sy(s,o,c){c=c!=null?c.concat([s]):null,ec(4,4,ny.bind(null,o,s),c)}function Eg(){}function ay(s,o){var c=Fs();o=o===void 0?null:o;var p=c.memoizedState;return o!==null&&Qu(o,p[1])?p[0]:(c.memoizedState=[s,o],s)}function iy(s,o){var c=Fs();o=o===void 0?null:o;var p=c.memoizedState;if(o!==null&&Qu(o,p[1]))return p[0];if(p=s(),li){Xt(!0);try{s()}finally{Xt(!1)}}return c.memoizedState=[p,o],p}function Sg(s,o,c){return c===void 0||(Ts&1073741824)!==0&&(bn&261930)===0?s.memoizedState=o:(s.memoizedState=c,s=o1(),Ur.lanes|=s,nc|=s,c)}function oy(s,o,c,p){return Us(c,o)?c:ln.current!==null?(s=Sg(s,c,p),Us(s,o)||(Ca=!0),s):(Ts&42)===0||(Ts&1073741824)!==0&&(bn&261930)===0?(Ca=!0,s.memoizedState=c):(s=o1(),Ur.lanes|=s,nc|=s,o)}function ly(s,o,c,p,y){var N=me.p;me.p=N!==0&&8>N?N:8;var P=V.T,ce={};V.T=ce,Ug(s,!1,o,c);try{var Se=y(),et=V.S;if(et!==null&&et(ce,Se),Se!==null&&typeof Se=="object"&&typeof Se.then=="function"){var pt=Y(Se,p);Ku(s,o,pt,ko(s))}else Ku(s,o,p,ko(s))}catch(Bt){Ku(s,o,{then:function(){},status:"rejected",reason:Bt},ko())}finally{me.p=N,P!==null&&ce.types!==null&&(P.types=ce.types),V.T=P}}function VE(){}function jg(s,o,c,p){if(s.tag!==5)throw Error(n(476));var y=Ay(s).queue;ly(s,y,o,ee,c===null?VE:function(){return cy(s),c(p)})}function Ay(s){var o=s.memoizedState;if(o!==null)return o;o={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$o,lastRenderedState:ee},next:null};var c={};return o.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$o,lastRenderedState:c},next:null},s.memoizedState=o,s=s.alternate,s!==null&&(s.memoizedState=o),o}function cy(s){var o=Ay(s);o.next===null&&(o=s.alternate.memoizedState),Ku(s,o.next.queue,{},ko())}function Lg(){return Qa(lh)}function dy(){return Fs().memoizedState}function uy(){return Fs().memoizedState}function GE(s){for(var o=s.return;o!==null;){switch(o.tag){case 24:case 3:var c=ko();s=Fr(c);var p=en(o,s,c);p!==null&&(lo(p,o,c),qn(p,o,c)),o={cache:XA()},s.payload=o;return}o=o.return}}function $E(s,o,c){var p=ko();c={lane:p,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Uf(s)?fy(o,c):(c=VA(s,o,c,p),c!==null&&(lo(c,s,p),py(c,o,p)))}function hy(s,o,c){var p=ko();Ku(s,o,c,p)}function Ku(s,o,c,p){var y={lane:p,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(Uf(s))fy(o,y);else{var N=s.alternate;if(s.lanes===0&&(N===null||N.lanes===0)&&(N=o.lastRenderedReducer,N!==null))try{var P=o.lastRenderedState,ce=N(P,c);if(y.hasEagerState=!0,y.eagerState=ce,Us(ce,P))return So(s,o,y,0),us===null&&Ml(),!1}catch{}finally{}if(c=VA(s,o,y,p),c!==null)return lo(c,s,p),py(c,o,p),!0}return!1}function Ug(s,o,c,p){if(p={lane:2,revertLane:A0(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},Uf(s)){if(o)throw Error(n(479))}else o=VA(s,c,p,2),o!==null&&lo(o,s,2)}function Uf(s){var o=s.alternate;return s===Ur||o!==null&&o===Ur}function fy(s,o){no=Ni=!0;var c=s.pending;c===null?o.next=o:(o.next=c.next,c.next=o),s.pending=o}function py(s,o,c){if((c&4194048)!==0){var p=o.lanes;p&=s.pendingLanes,c|=p,o.lanes=c,pn(s,c)}}var Vu={readContext:Qa,use:JA,useCallback:as,useContext:as,useEffect:as,useImperativeHandle:as,useLayoutEffect:as,useInsertionEffect:as,useMemo:as,useReducer:as,useRef:as,useState:as,useDebugValue:as,useDeferredValue:as,useTransition:as,useSyncExternalStore:as,useId:as,useHostTransitionStatus:as,useFormState:as,useActionState:as,useOptimistic:as,useMemoCache:as,useCacheRefresh:as};Vu.useEffectEvent=as;var my={readContext:Qa,use:JA,useCallback:function(s,o){return Na().memoizedState=[s,o===void 0?null:o],s},useContext:Qa,useEffect:Wv,useImperativeHandle:function(s,o,c){c=c!=null?c.concat([s]):null,WA(4194308,4,ny.bind(null,o,s),c)},useLayoutEffect:function(s,o){return WA(4194308,4,s,o)},useInsertionEffect:function(s,o){WA(4,2,s,o)},useMemo:function(s,o){var c=Na();o=o===void 0?null:o;var p=s();if(li){Xt(!0);try{s()}finally{Xt(!1)}}return c.memoizedState=[p,o],p},useReducer:function(s,o,c){var p=Na();if(c!==void 0){var y=c(o);if(li){Xt(!0);try{c(o)}finally{Xt(!1)}}}else y=o;return p.memoizedState=p.baseState=y,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:y},p.queue=s,s=s.dispatch=$E.bind(null,Ur,s),[p.memoizedState,s]},useRef:function(s){var o=Na();return s={current:s},o.memoizedState=s},useState:function(s){s=Yl(s);var o=s.queue,c=hy.bind(null,Ur,o);return o.dispatch=c,[s.memoizedState,c]},useDebugValue:Eg,useDeferredValue:function(s,o){var c=Na();return Sg(c,s,o)},useTransition:function(){var s=Yl(!1);return s=ly.bind(null,Ur,s.queue,!0,!1),Na().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,o,c){var p=Ur,y=Na();if(cn){if(c===void 0)throw Error(n(407));c=c()}else{if(c=o(),us===null)throw Error(n(349));(bn&127)!==0||gl(p,o,c)}y.memoizedState=c;var N={value:c,getSnapshot:o};return y.queue=N,Wv(Hu.bind(null,p,N,s),[s]),p.flags|=2048,yA(9,{destroy:void 0},Pu.bind(null,p,N,c,o),null),c},useId:function(){var s=Na(),o=us.identifierPrefix;if(cn){var c=Kt,p=vt;c=(p&~(1<<32-ar(p)-1)).toString(32)+c,o="_"+o+"R_"+c,c=na++,0<c&&(o+="H"+c.toString(32)),o+="_"}else c=_d++,o="_"+o+"r_"+c.toString(32)+"_";return s.memoizedState=o},useHostTransitionStatus:Lg,useFormState:Zo,useActionState:Zo,useOptimistic:function(s){var o=Na();o.memoizedState=o.baseState=s;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=c,o=Ug.bind(null,Ur,!0,c),c.dispatch=o,[s,o]},useMemoCache:bA,useCacheRefresh:function(){return Na().memoizedState=GE.bind(null,Ur)},useEffectEvent:function(s){var o=Na(),c={impl:s};return o.memoizedState=c,function(){if((Kn&2)!==0)throw Error(n(440));return c.impl.apply(void 0,arguments)}}},Ig={readContext:Qa,use:JA,useCallback:ay,useContext:Qa,useEffect:Cg,useImperativeHandle:sy,useInsertionEffect:ty,useLayoutEffect:ry,useMemo:iy,useReducer:Cd,useRef:Lf,useState:function(){return Cd($o)},useDebugValue:Eg,useDeferredValue:function(s,o){var c=Fs();return oy(c,Ir.memoizedState,s,o)},useTransition:function(){var s=Cd($o)[0],o=Fs().memoizedState;return[typeof s=="boolean"?s:Jl(s),o]},useSyncExternalStore:Sd,useId:dy,useHostTransitionStatus:Lg,useFormState:xl,useActionState:xl,useOptimistic:function(s,o){var c=Fs();return Cf(c,Ir,s,o)},useMemoCache:bA,useCacheRefresh:uy};Ig.useEffectEvent=ey;var gy={readContext:Qa,use:JA,useCallback:ay,useContext:Qa,useEffect:Cg,useImperativeHandle:sy,useInsertionEffect:ty,useLayoutEffect:ry,useMemo:iy,useReducer:Ed,useRef:Lf,useState:function(){return Ed($o)},useDebugValue:Eg,useDeferredValue:function(s,o){var c=Fs();return Ir===null?Sg(c,s,o):oy(c,Ir.memoizedState,s,o)},useTransition:function(){var s=Ed($o)[0],o=Fs().memoizedState;return[typeof s=="boolean"?s:Jl(s),o]},useSyncExternalStore:Sd,useId:dy,useHostTransitionStatus:Lg,useFormState:Ud,useActionState:Ud,useOptimistic:function(s,o){var c=Fs();return Ir!==null?Cf(c,Ir,s,o):(c.baseState=s,[s,c.queue.dispatch])},useMemoCache:bA,useCacheRefresh:uy};gy.useEffectEvent=ey;function kg(s,o,c,p){o=s.memoizedState,c=c(p,o),c=c==null?o:b({},o,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var Tg={enqueueSetState:function(s,o,c){s=s._reactInternals;var p=ko(),y=Fr(p);y.payload=o,c!=null&&(y.callback=c),o=en(s,y,p),o!==null&&(lo(o,s,p),qn(o,s,p))},enqueueReplaceState:function(s,o,c){s=s._reactInternals;var p=ko(),y=Fr(p);y.tag=1,y.payload=o,c!=null&&(y.callback=c),o=en(s,y,p),o!==null&&(lo(o,s,p),qn(o,s,p))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var c=ko(),p=Fr(c);p.tag=2,o!=null&&(p.callback=o),o=en(s,p,c),o!==null&&(lo(o,s,c),qn(o,s,c))}};function xy(s,o,c,p,y,N,P){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(p,N,P):o.prototype&&o.prototype.isPureReactComponent?!Xi(c,p)||!Xi(y,N):!0}function by(s,o,c,p){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,p),o.state!==s&&Tg.enqueueReplaceState(o,o.state,null)}function Dc(s,o){var c=o;if("ref"in o){c={};for(var p in o)p!=="ref"&&(c[p]=o[p])}if(s=s.defaultProps){c===o&&(c=b({},c));for(var y in s)c[y]===void 0&&(c[y]=s[y])}return c}function vy(s){Dl(s)}function yy(s){console.error(s)}function wy(s){Dl(s)}function If(s,o){try{var c=s.onUncaughtError;c(o.value,{componentStack:o.stack})}catch(p){setTimeout(function(){throw p})}}function _y(s,o,c){try{var p=s.onCaughtError;p(c.value,{componentStack:c.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Fg(s,o,c){return c=Fr(c),c.tag=3,c.payload={element:null},c.callback=function(){If(s,o)},c}function By(s){return s=Fr(s),s.tag=3,s}function Ny(s,o,c,p){var y=c.type.getDerivedStateFromError;if(typeof y=="function"){var N=p.value;s.payload=function(){return y(N)},s.callback=function(){_y(o,c,p)}}var P=c.stateNode;P!==null&&typeof P.componentDidCatch=="function"&&(s.callback=function(){_y(o,c,p),typeof y!="function"&&(sc===null?sc=new Set([this]):sc.add(this));var ce=p.stack;this.componentDidCatch(p.value,{componentStack:ce!==null?ce:""})})}function ZE(s,o,c,p,y){if(c.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(o=c.alternate,o!==null&&Gl(o,c,y,!0),c=Cs.current,c!==null){switch(c.tag){case 31:case 13:return Ln===null?zf():c.alternate===null&&sa===0&&(sa=3),c.flags&=-257,c.flags|=65536,c.lanes=y,p===De?c.flags|=16384:(o=c.updateQueue,o===null?c.updateQueue=new Set([p]):o.add(p),i0(s,p,y)),!1;case 22:return c.flags|=65536,p===De?c.flags|=16384:(o=c.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([p])},c.updateQueue=o):(c=o.retryQueue,c===null?o.retryQueue=new Set([p]):c.add(p)),i0(s,p,y)),!1}throw Error(n(435,c.tag))}return i0(s,p,y),zf(),!1}if(cn)return o=Cs.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=y,p!==Bi&&(s=Error(n(422),{cause:p}),zl(f(s,c)))):(p!==Bi&&(o=Error(n(423),{cause:p}),zl(f(o,c))),s=s.current.alternate,s.flags|=65536,y&=-y,s.lanes|=y,p=f(p,c),y=Fg(s.stateNode,p,y),pa(s,y),sa!==4&&(sa=2)),!1;var N=Error(n(520),{cause:p});if(N=f(N,c),eh===null?eh=[N]:eh.push(N),sa!==4&&(sa=2),o===null)return!0;p=f(p,c),c=o;do{switch(c.tag){case 3:return c.flags|=65536,s=y&-y,c.lanes|=s,s=Fg(c.stateNode,p,s),pa(c,s),!1;case 1:if(o=c.type,N=c.stateNode,(c.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(sc===null||!sc.has(N))))return c.flags|=65536,y&=-y,c.lanes|=y,y=By(y),Ny(y,s,c,p),pa(c,y),!1}c=c.return}while(c!==null);return!1}var Og=Error(n(461)),Ca=!1;function Ai(s,o,c,p){o.child=s===null?Gr(o,null,c,p):ds(o,s.child,c,p)}function Cy(s,o,c,p,y){c=c.render;var N=o.ref;if("ref"in p){var P={};for(var ce in p)ce!=="ref"&&(P[ce]=p[ce])}else P=p;return $l(o),p=Ru(s,o,c,P,N,y),ce=Du(),s!==null&&!Ca?(Mu(s,o,y),wA(s,o,y)):(cn&&ce&&fa(o),o.flags|=1,Ai(s,o,p,y),o.child)}function Ey(s,o,c,p,y){if(s===null){var N=c.type;return typeof N=="function"&&!mA(N)&&N.defaultProps===void 0&&c.compare===null?(o.tag=15,o.type=N,Sy(s,o,N,p,y)):(s=fl(c.type,null,p,o,o.mode,y),s.ref=o.ref,s.return=o,o.child=s)}if(N=s.child,!zg(s,y)){var P=N.memoizedProps;if(c=c.compare,c=c!==null?c:Xi,c(P,p)&&s.ref===o.ref)return wA(s,o,y)}return o.flags|=1,s=ii(N,p),s.ref=o.ref,s.return=o,o.child=s}function Sy(s,o,c,p,y){if(s!==null){var N=s.memoizedProps;if(Xi(N,p)&&s.ref===o.ref)if(Ca=!1,o.pendingProps=p=N,zg(s,y))(s.flags&131072)!==0&&(Ca=!0);else return o.lanes=s.lanes,wA(s,o,y)}return Qg(s,o,c,p,y)}function jy(s,o,c,p){var y=p.children,N=s!==null?s.memoizedState:null;if(s===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((o.flags&128)!==0){if(N=N!==null?N.baseLanes|c:c,s!==null){for(p=o.child=s.child,y=0;p!==null;)y=y|p.lanes|p.childLanes,p=p.sibling;p=y&~N}else p=0,o.child=null;return Ly(s,o,N,c,p)}if((c&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},s!==null&&be(o,N!==null?N.cachePool:null),N!==null?Ns(o,N):Tn(),ta(o);else return p=o.lanes=536870912,Ly(s,o,N!==null?N.baseLanes|c:c,c,p)}else N!==null?(be(o,N.cachePool),Ns(o,N),ra(),o.memoizedState=null):(s!==null&&be(o,null),Tn(),ra());return Ai(s,o,y,c),o.child}function Gu(s,o){return s!==null&&s.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function Ly(s,o,c,p,y){var N=pe();return N=N===null?null:{parent:Vs._currentValue,pool:N},o.memoizedState={baseLanes:c,cachePool:N},s!==null&&be(o,null),Tn(),ta(o),s!==null&&Gl(s,o,p,!0),o.childLanes=y,null}function kf(s,o){return o=Ff({mode:o.mode,children:o.children},s.mode),o.ref=s.ref,s.child=o,o.return=s,o}function Uy(s,o,c){return ds(o,s.child,null,c),s=kf(o,o.pendingProps),s.flags|=2,Wn(o),o.memoizedState=null,s}function XE(s,o,c){var p=o.pendingProps,y=(o.flags&128)!==0;if(o.flags&=-129,s===null){if(cn){if(p.mode==="hidden")return s=kf(o,p),o.lanes=536870912,Gu(null,s);if(zn(o),(s=Sn)?(s=q1(s,gs),s=s!==null&&s.data==="&"?s:null,s!==null&&(o.memoizedState={dehydrated:s,treeContext:tt!==null?{id:vt,overflow:Kt}:null,retryLane:536870912,hydrationErrors:null},c=gA(s),c.return=o,o.child=c,En=o,Sn=null)):s=null,s===null)throw Go(o);return o.lanes=536870912,null}return kf(o,p)}var N=s.memoizedState;if(N!==null){var P=N.dehydrated;if(zn(o),y)if(o.flags&256)o.flags&=-257,o=Uy(s,o,c);else if(o.memoizedState!==null)o.child=s.child,o.flags|=128,o=null;else throw Error(n(558));else if(Ca||Gl(s,o,c,!1),y=(c&s.childLanes)!==0,Ca||y){if(p=us,p!==null&&(P=sn(p,c),P!==0&&P!==N.retryLane))throw N.retryLane=P,_i(s,P),lo(p,s,P),Og;zf(),o=Uy(s,o,c)}else s=N.treeContext,Sn=Xo(P.nextSibling),En=o,cn=!0,Oa=null,gs=!1,s!==null&&oi(o,s),o=kf(o,p),o.flags|=4096;return o}return s=ii(s.child,{mode:p.mode,children:p.children}),s.ref=o.ref,o.child=s,s.return=o,s}function Tf(s,o){var c=o.ref;if(c===null)s!==null&&s.ref!==null&&(o.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(n(284));(s===null||s.ref!==c)&&(o.flags|=4194816)}}function Qg(s,o,c,p,y){return $l(o),c=Ru(s,o,c,p,void 0,y),p=Du(),s!==null&&!Ca?(Mu(s,o,y),wA(s,o,y)):(cn&&p&&fa(o),o.flags|=1,Ai(s,o,c,y),o.child)}function Iy(s,o,c,p,y,N){return $l(o),o.updateQueue=null,c=ml(o,p,c,y),Bd(s),p=Du(),s!==null&&!Ca?(Mu(s,o,N),wA(s,o,N)):(cn&&p&&fa(o),o.flags|=1,Ai(s,o,c,N),o.child)}function ky(s,o,c,p,y){if($l(o),o.stateNode===null){var N=Ys,P=c.contextType;typeof P=="object"&&P!==null&&(N=Qa(P)),N=new c(p,N),o.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=Tg,o.stateNode=N,N._reactInternals=o,N=o.stateNode,N.props=p,N.state=o.memoizedState,N.refs={},$t(o),P=c.contextType,N.context=typeof P=="object"&&P!==null?Qa(P):Ys,N.state=o.memoizedState,P=c.getDerivedStateFromProps,typeof P=="function"&&(kg(o,c,P,p),N.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(P=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),P!==N.state&&Tg.enqueueReplaceState(N,N.state,null),Ws(o,p,N,y),ss(),N.state=o.memoizedState),typeof N.componentDidMount=="function"&&(o.flags|=4194308),p=!0}else if(s===null){N=o.stateNode;var ce=o.memoizedProps,Se=Dc(c,ce);N.props=Se;var et=N.context,pt=c.contextType;P=Ys,typeof pt=="object"&&pt!==null&&(P=Qa(pt));var Bt=c.getDerivedStateFromProps;pt=typeof Bt=="function"||typeof N.getSnapshotBeforeUpdate=="function",ce=o.pendingProps!==ce,pt||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(ce||et!==P)&&by(o,N,p,P),Ar=!1;var rt=o.memoizedState;N.state=rt,Ws(o,p,N,y),ss(),et=o.memoizedState,ce||rt!==et||Ar?(typeof Bt=="function"&&(kg(o,c,Bt,p),et=o.memoizedState),(Se=Ar||xy(o,c,Se,p,rt,et,P))?(pt||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(o.flags|=4194308)):(typeof N.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=et),N.props=p,N.state=et,N.context=P,p=Se):(typeof N.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{N=o.stateNode,Bs(s,o),P=o.memoizedProps,pt=Dc(c,P),N.props=pt,Bt=o.pendingProps,rt=N.context,et=c.contextType,Se=Ys,typeof et=="object"&&et!==null&&(Se=Qa(et)),ce=c.getDerivedStateFromProps,(et=typeof ce=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(P!==Bt||rt!==Se)&&by(o,N,p,Se),Ar=!1,rt=o.memoizedState,N.state=rt,Ws(o,p,N,y),ss();var it=o.memoizedState;P!==Bt||rt!==it||Ar||s!==null&&s.dependencies!==null&&vd(s.dependencies)?(typeof ce=="function"&&(kg(o,c,ce,p),it=o.memoizedState),(pt=Ar||xy(o,c,pt,p,rt,it,Se)||s!==null&&s.dependencies!==null&&vd(s.dependencies))?(et||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(p,it,Se),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(p,it,Se)),typeof N.componentDidUpdate=="function"&&(o.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof N.componentDidUpdate!="function"||P===s.memoizedProps&&rt===s.memoizedState||(o.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||P===s.memoizedProps&&rt===s.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=it),N.props=p,N.state=it,N.context=Se,p=pt):(typeof N.componentDidUpdate!="function"||P===s.memoizedProps&&rt===s.memoizedState||(o.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||P===s.memoizedProps&&rt===s.memoizedState||(o.flags|=1024),p=!1)}return N=p,Tf(s,o),p=(o.flags&128)!==0,N||p?(N=o.stateNode,c=p&&typeof c.getDerivedStateFromError!="function"?null:N.render(),o.flags|=1,s!==null&&p?(o.child=ds(o,s.child,null,y),o.child=ds(o,null,c,y)):Ai(s,o,c,y),o.memoizedState=N.state,s=o.child):s=wA(s,o,y),s}function Ty(s,o,c,p){return pl(),o.flags|=256,Ai(s,o,c,p),o.child}var Rg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Dg(s){return{baseLanes:s,cachePool:_e()}}function Mg(s,o,c){return s=s!==null?s.childLanes&~c:0,o&&(s|=Io),s}function Fy(s,o,c){var p=o.pendingProps,y=!1,N=(o.flags&128)!==0,P;if((P=N)||(P=s!==null&&s.memoizedState===null?!1:(Nn.current&2)!==0),P&&(y=!0,o.flags&=-129),P=(o.flags&32)!==0,o.flags&=-33,s===null){if(cn){if(y?Gs(o):ra(),(s=Sn)?(s=q1(s,gs),s=s!==null&&s.data!=="&"?s:null,s!==null&&(o.memoizedState={dehydrated:s,treeContext:tt!==null?{id:vt,overflow:Kt}:null,retryLane:536870912,hydrationErrors:null},c=gA(s),c.return=o,o.child=c,En=o,Sn=null)):s=null,s===null)throw Go(o);return w0(s)?o.lanes=32:o.lanes=536870912,null}var ce=p.children;return p=p.fallback,y?(ra(),y=o.mode,ce=Ff({mode:"hidden",children:ce},y),p=Vo(p,y,c,null),ce.return=o,p.return=o,ce.sibling=p,o.child=ce,p=o.child,p.memoizedState=Dg(c),p.childLanes=Mg(s,P,c),o.memoizedState=Rg,Gu(null,p)):(Gs(o),Pg(o,ce))}var Se=s.memoizedState;if(Se!==null&&(ce=Se.dehydrated,ce!==null)){if(N)o.flags&256?(Gs(o),o.flags&=-257,o=Hg(s,o,c)):o.memoizedState!==null?(ra(),o.child=s.child,o.flags|=128,o=null):(ra(),ce=p.fallback,y=o.mode,p=Ff({mode:"visible",children:p.children},y),ce=Vo(ce,y,c,null),ce.flags|=2,p.return=o,ce.return=o,p.sibling=ce,o.child=p,ds(o,s.child,null,c),p=o.child,p.memoizedState=Dg(c),p.childLanes=Mg(s,P,c),o.memoizedState=Rg,o=Gu(null,p));else if(Gs(o),w0(ce)){if(P=ce.nextSibling&&ce.nextSibling.dataset,P)var et=P.dgst;P=et,p=Error(n(419)),p.stack="",p.digest=P,zl({value:p,source:null,stack:null}),o=Hg(s,o,c)}else if(Ca||Gl(s,o,c,!1),P=(c&s.childLanes)!==0,Ca||P){if(P=us,P!==null&&(p=sn(P,c),p!==0&&p!==Se.retryLane))throw Se.retryLane=p,_i(s,p),lo(P,s,p),Og;y0(ce)||zf(),o=Hg(s,o,c)}else y0(ce)?(o.flags|=192,o.child=s.child,o=null):(s=Se.treeContext,Sn=Xo(ce.nextSibling),En=o,cn=!0,Oa=null,gs=!1,s!==null&&oi(o,s),o=Pg(o,p.children),o.flags|=4096);return o}return y?(ra(),ce=p.fallback,y=o.mode,Se=s.child,et=Se.sibling,p=ii(Se,{mode:"hidden",children:p.children}),p.subtreeFlags=Se.subtreeFlags&65011712,et!==null?ce=ii(et,ce):(ce=Vo(ce,y,c,null),ce.flags|=2),ce.return=o,p.return=o,p.sibling=ce,o.child=p,Gu(null,p),p=o.child,ce=s.child.memoizedState,ce===null?ce=Dg(c):(y=ce.cachePool,y!==null?(Se=Vs._currentValue,y=y.parent!==Se?{parent:Se,pool:Se}:y):y=_e(),ce={baseLanes:ce.baseLanes|c,cachePool:y}),p.memoizedState=ce,p.childLanes=Mg(s,P,c),o.memoizedState=Rg,Gu(s.child,p)):(Gs(o),c=s.child,s=c.sibling,c=ii(c,{mode:"visible",children:p.children}),c.return=o,c.sibling=null,s!==null&&(P=o.deletions,P===null?(o.deletions=[s],o.flags|=16):P.push(s)),o.child=c,o.memoizedState=null,c)}function Pg(s,o){return o=Ff({mode:"visible",children:o},s.mode),o.return=s,s.child=o}function Ff(s,o){return s=ha(22,s,null,o),s.lanes=0,s}function Hg(s,o,c){return ds(o,s.child,null,c),s=Pg(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function Oy(s,o,c){s.lanes|=o;var p=s.alternate;p!==null&&(p.lanes|=o),ZA(s.return,o,c)}function qg(s,o,c,p,y,N){var P=s.memoizedState;P===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:y,treeForkCount:N}:(P.isBackwards=o,P.rendering=null,P.renderingStartTime=0,P.last=p,P.tail=c,P.tailMode=y,P.treeForkCount=N)}function Qy(s,o,c){var p=o.pendingProps,y=p.revealOrder,N=p.tail;p=p.children;var P=Nn.current,ce=(P&2)!==0;if(ce?(P=P&1|2,o.flags|=128):P&=1,$(Nn,P),Ai(s,o,p,c),p=cn?ae:0,!ce&&s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Oy(s,c,o);else if(s.tag===19)Oy(s,c,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(y){case"forwards":for(c=o.child,y=null;c!==null;)s=c.alternate,s!==null&&Va(s)===null&&(y=c),c=c.sibling;c=y,c===null?(y=o.child,o.child=null):(y=c.sibling,c.sibling=null),qg(o,!1,y,c,N,p);break;case"backwards":case"unstable_legacy-backwards":for(c=null,y=o.child,o.child=null;y!==null;){if(s=y.alternate,s!==null&&Va(s)===null){o.child=y;break}s=y.sibling,y.sibling=c,c=y,y=s}qg(o,!0,c,null,N,p);break;case"together":qg(o,!1,null,null,void 0,p);break;default:o.memoizedState=null}return o.child}function wA(s,o,c){if(s!==null&&(o.dependencies=s.dependencies),nc|=o.lanes,(c&o.childLanes)===0)if(s!==null){if(Gl(s,o,c,!1),(c&o.childLanes)===0)return null}else return null;if(s!==null&&o.child!==s.child)throw Error(n(153));if(o.child!==null){for(s=o.child,c=ii(s,s.pendingProps),o.child=c,c.return=o;s.sibling!==null;)s=s.sibling,c=c.sibling=ii(s,s.pendingProps),c.return=o;c.sibling=null}return o.child}function zg(s,o){return(s.lanes&o)!==0?!0:(s=s.dependencies,!!(s!==null&&vd(s)))}function JE(s,o,c){switch(o.tag){case 3:ke(o,o.stateNode.containerInfo),Vl(o,Vs,s.memoizedState.cache),pl();break;case 27:case 5:je(o);break;case 4:ke(o,o.stateNode.containerInfo);break;case 10:Vl(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,zn(o),null;break;case 13:var p=o.memoizedState;if(p!==null)return p.dehydrated!==null?(Gs(o),o.flags|=128,null):(c&o.child.childLanes)!==0?Fy(s,o,c):(Gs(o),s=wA(s,o,c),s!==null?s.sibling:null);Gs(o);break;case 19:var y=(s.flags&128)!==0;if(p=(c&o.childLanes)!==0,p||(Gl(s,o,c,!1),p=(c&o.childLanes)!==0),y){if(p)return Qy(s,o,c);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),$(Nn,Nn.current),p)break;return null;case 22:return o.lanes=0,jy(s,o,c,o.pendingProps);case 24:Vl(o,Vs,s.memoizedState.cache)}return wA(s,o,c)}function Ry(s,o,c){if(s!==null)if(s.memoizedProps!==o.pendingProps)Ca=!0;else{if(!zg(s,c)&&(o.flags&128)===0)return Ca=!1,JE(s,o,c);Ca=(s.flags&131072)!==0}else Ca=!1,cn&&(o.flags&1048576)!==0&&Wr(o,ae,o.index);switch(o.lanes=0,o.tag){case 16:e:{var p=o.pendingProps;if(s=Xe(o.elementType),o.type=s,typeof s=="function")mA(s)?(p=Dc(s,p),o.tag=1,o=ky(null,o,s,p,c)):(o.tag=0,o=Qg(null,o,s,p,c));else{if(s!=null){var y=s.$$typeof;if(y===H){o.tag=11,o=Cy(null,o,s,p,c);break e}else if(y===ne){o.tag=14,o=Ey(null,o,s,p,c);break e}}throw o=z(s)||s,Error(n(306,o,""))}}return o;case 0:return Qg(s,o,o.type,o.pendingProps,c);case 1:return p=o.type,y=Dc(p,o.pendingProps),ky(s,o,p,y,c);case 3:e:{if(ke(o,o.stateNode.containerInfo),s===null)throw Error(n(387));p=o.pendingProps;var N=o.memoizedState;y=N.element,Bs(s,o),Ws(o,p,null,c);var P=o.memoizedState;if(p=P.cache,Vl(o,Vs,p),p!==N.cache&&xA(o,[Vs],c,!0),ss(),p=P.element,N.isDehydrated)if(N={element:p,isDehydrated:!1,cache:P.cache},o.updateQueue.baseState=N,o.memoizedState=N,o.flags&256){o=Ty(s,o,p,c);break e}else if(p!==y){y=f(Error(n(424)),o),zl(y),o=Ty(s,o,p,c);break e}else{switch(s=o.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Sn=Xo(s.firstChild),En=o,cn=!0,Oa=null,gs=!0,c=Gr(o,null,p,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(pl(),p===y){o=wA(s,o,c);break e}Ai(s,o,p,c)}o=o.child}return o;case 26:return Tf(s,o),s===null?(c=Z1(o.type,null,o.pendingProps,null))?o.memoizedState=c:cn||(c=o.type,s=o.pendingProps,p=Jf(xe.current).createElement(c),p[tn]=o,p[Te]=s,ci(p,c,s),$e(p),o.stateNode=p):o.memoizedState=Z1(o.type,s.memoizedProps,o.pendingProps,s.memoizedState),null;case 27:return je(o),s===null&&cn&&(p=o.stateNode=V1(o.type,o.pendingProps,xe.current),En=o,gs=!0,y=Sn,lc(o.type)?(_0=y,Sn=Xo(p.firstChild)):Sn=y),Ai(s,o,o.pendingProps.children,c),Tf(s,o),s===null&&(o.flags|=4194304),o.child;case 5:return s===null&&cn&&((y=p=Sn)&&(p=E4(p,o.type,o.pendingProps,gs),p!==null?(o.stateNode=p,En=o,Sn=Xo(p.firstChild),gs=!1,y=!0):y=!1),y||Go(o)),je(o),y=o.type,N=o.pendingProps,P=s!==null?s.memoizedProps:null,p=N.children,x0(y,N)?p=null:P!==null&&x0(y,P)&&(o.flags|=32),o.memoizedState!==null&&(y=Ru(s,o,Ng,null,null,c),lh._currentValue=y),Tf(s,o),Ai(s,o,p,c),o.child;case 6:return s===null&&cn&&((s=c=Sn)&&(c=S4(c,o.pendingProps,gs),c!==null?(o.stateNode=c,En=o,Sn=null,s=!0):s=!1),s||Go(o)),null;case 13:return Fy(s,o,c);case 4:return ke(o,o.stateNode.containerInfo),p=o.pendingProps,s===null?o.child=ds(o,null,p,c):Ai(s,o,p,c),o.child;case 11:return Cy(s,o,o.type,o.pendingProps,c);case 7:return Ai(s,o,o.pendingProps,c),o.child;case 8:return Ai(s,o,o.pendingProps.children,c),o.child;case 12:return Ai(s,o,o.pendingProps.children,c),o.child;case 10:return p=o.pendingProps,Vl(o,o.type,p.value),Ai(s,o,p.children,c),o.child;case 9:return y=o.type._context,p=o.pendingProps.children,$l(o),y=Qa(y),p=p(y),o.flags|=1,Ai(s,o,p,c),o.child;case 14:return Ey(s,o,o.type,o.pendingProps,c);case 15:return Sy(s,o,o.type,o.pendingProps,c);case 19:return Qy(s,o,c);case 31:return XE(s,o,c);case 22:return jy(s,o,c,o.pendingProps);case 24:return $l(o),p=Qa(Vs),s===null?(y=pe(),y===null&&(y=us,N=XA(),y.pooledCache=N,N.refCount++,N!==null&&(y.pooledCacheLanes|=c),y=N),o.memoizedState={parent:p,cache:y},$t(o),Vl(o,Vs,y)):((s.lanes&c)!==0&&(Bs(s,o),Ws(o,null,null,c),ss()),y=s.memoizedState,N=o.memoizedState,y.parent!==p?(y={parent:p,cache:p},o.memoizedState=y,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=y),Vl(o,Vs,p)):(p=N.cache,Vl(o,Vs,p),p!==y.cache&&xA(o,[Vs],c,!0))),Ai(s,o,o.pendingProps.children,c),o.child;case 29:throw o.pendingProps}throw Error(n(156,o.tag))}function _A(s){s.flags|=4}function Kg(s,o,c,p,y){if((o=(s.mode&32)!==0)&&(o=!1),o){if(s.flags|=16777216,(y&335544128)===y)if(s.stateNode.complete)s.flags|=8192;else if(d1())s.flags|=8192;else throw dt=De,Ye}else s.flags&=-16777217}function Dy(s,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!ew(o))if(d1())s.flags|=8192;else throw dt=De,Ye}function Of(s,o){o!==null&&(s.flags|=4),s.flags&16384&&(o=s.tag!==22?qr():536870912,s.lanes|=o,Fd|=o)}function $u(s,o){if(!cn)switch(s.tailMode){case"hidden":o=s.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:p.sibling=null}}function Es(s){var o=s.alternate!==null&&s.alternate.child===s.child,c=0,p=0;if(o)for(var y=s.child;y!==null;)c|=y.lanes|y.childLanes,p|=y.subtreeFlags&65011712,p|=y.flags&65011712,y.return=s,y=y.sibling;else for(y=s.child;y!==null;)c|=y.lanes|y.childLanes,p|=y.subtreeFlags,p|=y.flags,y.return=s,y=y.sibling;return s.subtreeFlags|=p,s.childLanes=c,o}function YE(s,o,c){var p=o.pendingProps;switch(_s(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Es(o),null;case 1:return Es(o),null;case 3:return c=o.stateNode,p=null,s!==null&&(p=s.memoizedState.cache),o.memoizedState.cache!==p&&(o.flags|=2048),ro(Vs),ge(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(s===null||s.child===null)&&(ks(o)?_A(o):s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Tc())),Es(o),null;case 26:var y=o.type,N=o.memoizedState;return s===null?(_A(o),N!==null?(Es(o),Dy(o,N)):(Es(o),Kg(o,y,null,p,c))):N?N!==s.memoizedState?(_A(o),Es(o),Dy(o,N)):(Es(o),o.flags&=-16777217):(s=s.memoizedProps,s!==p&&_A(o),Es(o),Kg(o,y,s,p,c)),null;case 27:if(Qe(o),c=xe.current,y=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==p&&_A(o);else{if(!p){if(o.stateNode===null)throw Error(n(166));return Es(o),null}s=X.current,ks(o)?$A(o):(s=V1(y,p,c),o.stateNode=s,_A(o))}return Es(o),null;case 5:if(Qe(o),y=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==p&&_A(o);else{if(!p){if(o.stateNode===null)throw Error(n(166));return Es(o),null}if(N=X.current,ks(o))$A(o);else{var P=Jf(xe.current);switch(N){case 1:N=P.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:N=P.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":N=P.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":N=P.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":N=P.createElement("div"),N.innerHTML="<script><\/script>",N=N.removeChild(N.firstChild);break;case"select":N=typeof p.is=="string"?P.createElement("select",{is:p.is}):P.createElement("select"),p.multiple?N.multiple=!0:p.size&&(N.size=p.size);break;default:N=typeof p.is=="string"?P.createElement(y,{is:p.is}):P.createElement(y)}}N[tn]=o,N[Te]=p;e:for(P=o.child;P!==null;){if(P.tag===5||P.tag===6)N.appendChild(P.stateNode);else if(P.tag!==4&&P.tag!==27&&P.child!==null){P.child.return=P,P=P.child;continue}if(P===o)break e;for(;P.sibling===null;){if(P.return===null||P.return===o)break e;P=P.return}P.sibling.return=P.return,P=P.sibling}o.stateNode=N;e:switch(ci(N,y,p),y){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&_A(o)}}return Es(o),Kg(o,o.type,s===null?null:s.memoizedProps,o.pendingProps,c),null;case 6:if(s&&o.stateNode!=null)s.memoizedProps!==p&&_A(o);else{if(typeof p!="string"&&o.stateNode===null)throw Error(n(166));if(s=xe.current,ks(o)){if(s=o.stateNode,c=o.memoizedProps,p=null,y=En,y!==null)switch(y.tag){case 27:case 5:p=y.memoizedProps}s[tn]=o,s=!!(s.nodeValue===c||p!==null&&p.suppressHydrationWarning===!0||F1(s.nodeValue,c)),s||Go(o,!0)}else s=Jf(s).createTextNode(p),s[tn]=o,o.stateNode=s}return Es(o),null;case 31:if(c=o.memoizedState,s===null||s.memoizedState!==null){if(p=ks(o),c!==null){if(s===null){if(!p)throw Error(n(318));if(s=o.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(557));s[tn]=o}else pl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Es(o),s=!1}else c=Tc(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=c),s=!0;if(!s)return o.flags&256?(Wn(o),o):(Wn(o),null);if((o.flags&128)!==0)throw Error(n(558))}return Es(o),null;case 13:if(p=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(y=ks(o),p!==null&&p.dehydrated!==null){if(s===null){if(!y)throw Error(n(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(n(317));y[tn]=o}else pl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Es(o),y=!1}else y=Tc(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=y),y=!0;if(!y)return o.flags&256?(Wn(o),o):(Wn(o),null)}return Wn(o),(o.flags&128)!==0?(o.lanes=c,o):(c=p!==null,s=s!==null&&s.memoizedState!==null,c&&(p=o.child,y=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(y=p.alternate.memoizedState.cachePool.pool),N=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(N=p.memoizedState.cachePool.pool),N!==y&&(p.flags|=2048)),c!==s&&c&&(o.child.flags|=8192),Of(o,o.updateQueue),Es(o),null);case 4:return ge(),s===null&&h0(o.stateNode.containerInfo),Es(o),null;case 10:return ro(o.type),Es(o),null;case 19:if(T(Nn),p=o.memoizedState,p===null)return Es(o),null;if(y=(o.flags&128)!==0,N=p.rendering,N===null)if(y)$u(p,!1);else{if(sa!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(N=Va(s),N!==null){for(o.flags|=128,$u(p,!1),s=N.updateQueue,o.updateQueue=s,Of(o,s),o.subtreeFlags=0,s=c,c=o.child;c!==null;)Pl(c,s),c=c.sibling;return $(Nn,Nn.current&1|2),cn&&br(o,p.treeForkCount),o.child}s=s.sibling}p.tail!==null&&nr()>Pf&&(o.flags|=128,y=!0,$u(p,!1),o.lanes=4194304)}else{if(!y)if(s=Va(N),s!==null){if(o.flags|=128,y=!0,s=s.updateQueue,o.updateQueue=s,Of(o,s),$u(p,!0),p.tail===null&&p.tailMode==="hidden"&&!N.alternate&&!cn)return Es(o),null}else 2*nr()-p.renderingStartTime>Pf&&c!==536870912&&(o.flags|=128,y=!0,$u(p,!1),o.lanes=4194304);p.isBackwards?(N.sibling=o.child,o.child=N):(s=p.last,s!==null?s.sibling=N:o.child=N,p.last=N)}return p.tail!==null?(s=p.tail,p.rendering=s,p.tail=s.sibling,p.renderingStartTime=nr(),s.sibling=null,c=Nn.current,$(Nn,y?c&1|2:c&1),cn&&br(o,p.treeForkCount),s):(Es(o),null);case 22:case 23:return Wn(o),ma(),p=o.memoizedState!==null,s!==null?s.memoizedState!==null!==p&&(o.flags|=8192):p&&(o.flags|=8192),p?(c&536870912)!==0&&(o.flags&128)===0&&(Es(o),o.subtreeFlags&6&&(o.flags|=8192)):Es(o),c=o.updateQueue,c!==null&&Of(o,c.retryQueue),c=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),p=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),p!==c&&(o.flags|=2048),s!==null&&T(oe),null;case 24:return c=null,s!==null&&(c=s.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),ro(Vs),Es(o),null;case 25:return null;case 30:return null}throw Error(n(156,o.tag))}function WE(s,o){switch(_s(o),o.tag){case 1:return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return ro(Vs),ge(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 26:case 27:case 5:return Qe(o),null;case 31:if(o.memoizedState!==null){if(Wn(o),o.alternate===null)throw Error(n(340));pl()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 13:if(Wn(o),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(n(340));pl()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return T(Nn),null;case 4:return ge(),null;case 10:return ro(o.type),null;case 22:case 23:return Wn(o),ma(),s!==null&&T(oe),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 24:return ro(Vs),null;case 25:return null;default:return null}}function My(s,o){switch(_s(o),o.tag){case 3:ro(Vs),ge();break;case 26:case 27:case 5:Qe(o);break;case 4:ge();break;case 31:o.memoizedState!==null&&Wn(o);break;case 13:Wn(o);break;case 19:T(Nn);break;case 10:ro(o.type);break;case 22:case 23:Wn(o),ma(),s!==null&&T(oe);break;case 24:ro(Vs)}}function Zu(s,o){try{var c=o.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var y=p.next;c=y;do{if((c.tag&s)===s){p=void 0;var N=c.create,P=c.inst;p=N(),P.destroy=p}c=c.next}while(c!==y)}}catch(ce){ts(o,o.return,ce)}}function tc(s,o,c){try{var p=o.updateQueue,y=p!==null?p.lastEffect:null;if(y!==null){var N=y.next;p=N;do{if((p.tag&s)===s){var P=p.inst,ce=P.destroy;if(ce!==void 0){P.destroy=void 0,y=o;var Se=c,et=ce;try{et()}catch(pt){ts(y,Se,pt)}}}p=p.next}while(p!==N)}}catch(pt){ts(o,o.return,pt)}}function Py(s){var o=s.updateQueue;if(o!==null){var c=s.stateNode;try{ea(o,c)}catch(p){ts(s,s.return,p)}}}function Hy(s,o,c){c.props=Dc(s.type,s.memoizedProps),c.state=s.memoizedState;try{c.componentWillUnmount()}catch(p){ts(s,o,p)}}function Xu(s,o){try{var c=s.ref;if(c!==null){switch(s.tag){case 26:case 27:case 5:var p=s.stateNode;break;case 30:p=s.stateNode;break;default:p=s.stateNode}typeof c=="function"?s.refCleanup=c(p):c.current=p}}catch(y){ts(s,o,y)}}function Wl(s,o){var c=s.ref,p=s.refCleanup;if(c!==null)if(typeof p=="function")try{p()}catch(y){ts(s,o,y)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(y){ts(s,o,y)}else c.current=null}function qy(s){var o=s.type,c=s.memoizedProps,p=s.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":c.autoFocus&&p.focus();break e;case"img":c.src?p.src=c.src:c.srcSet&&(p.srcset=c.srcSet)}}catch(y){ts(s,s.return,y)}}function Vg(s,o,c){try{var p=s.stateNode;y4(p,s.type,c,o),p[Te]=o}catch(y){ts(s,s.return,y)}}function zy(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&lc(s.type)||s.tag===4}function Gg(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||zy(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&lc(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function $g(s,o,c){var p=s.tag;if(p===5||p===6)s=s.stateNode,o?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(s,o):(o=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,o.appendChild(s),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=Jr));else if(p!==4&&(p===27&&lc(s.type)&&(c=s.stateNode,o=null),s=s.child,s!==null))for($g(s,o,c),s=s.sibling;s!==null;)$g(s,o,c),s=s.sibling}function Qf(s,o,c){var p=s.tag;if(p===5||p===6)s=s.stateNode,o?c.insertBefore(s,o):c.appendChild(s);else if(p!==4&&(p===27&&lc(s.type)&&(c=s.stateNode),s=s.child,s!==null))for(Qf(s,o,c),s=s.sibling;s!==null;)Qf(s,o,c),s=s.sibling}function Ky(s){var o=s.stateNode,c=s.memoizedProps;try{for(var p=s.type,y=o.attributes;y.length;)o.removeAttributeNode(y[0]);ci(o,p,c),o[tn]=s,o[Te]=c}catch(N){ts(s,s.return,N)}}var BA=!1,Ea=!1,Zg=!1,Vy=typeof WeakSet=="function"?WeakSet:Set,Ga=null;function e4(s,o){if(s=s.containerInfo,m0=sp,s=yi(s),Ia(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var y=p.anchorOffset,N=p.focusNode;p=p.focusOffset;try{c.nodeType,N.nodeType}catch{c=null;break e}var P=0,ce=-1,Se=-1,et=0,pt=0,Bt=s,rt=null;t:for(;;){for(var it;Bt!==c||y!==0&&Bt.nodeType!==3||(ce=P+y),Bt!==N||p!==0&&Bt.nodeType!==3||(Se=P+p),Bt.nodeType===3&&(P+=Bt.nodeValue.length),(it=Bt.firstChild)!==null;)rt=Bt,Bt=it;for(;;){if(Bt===s)break t;if(rt===c&&++et===y&&(ce=P),rt===N&&++pt===p&&(Se=P),(it=Bt.nextSibling)!==null)break;Bt=rt,rt=Bt.parentNode}Bt=it}c=ce===-1||Se===-1?null:{start:ce,end:Se}}else c=null}c=c||{start:0,end:0}}else c=null;for(g0={focusedElem:s,selectionRange:c},sp=!1,Ga=o;Ga!==null;)if(o=Ga,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,Ga=s;else for(;Ga!==null;){switch(o=Ga,N=o.alternate,s=o.flags,o.tag){case 0:if((s&4)!==0&&(s=o.updateQueue,s=s!==null?s.events:null,s!==null))for(c=0;c<s.length;c++)y=s[c],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&N!==null){s=void 0,c=o,y=N.memoizedProps,N=N.memoizedState,p=c.stateNode;try{var vr=Dc(c.type,y);s=p.getSnapshotBeforeUpdate(vr,N),p.__reactInternalSnapshotBeforeUpdate=s}catch(Or){ts(c,c.return,Or)}}break;case 3:if((s&1024)!==0){if(s=o.stateNode.containerInfo,c=s.nodeType,c===9)v0(s);else if(c===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":v0(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(n(163))}if(s=o.sibling,s!==null){s.return=o.return,Ga=s;break}Ga=o.return}}function Gy(s,o,c){var p=c.flags;switch(c.tag){case 0:case 11:case 15:CA(s,c),p&4&&Zu(5,c);break;case 1:if(CA(s,c),p&4)if(s=c.stateNode,o===null)try{s.componentDidMount()}catch(P){ts(c,c.return,P)}else{var y=Dc(c.type,o.memoizedProps);o=o.memoizedState;try{s.componentDidUpdate(y,o,s.__reactInternalSnapshotBeforeUpdate)}catch(P){ts(c,c.return,P)}}p&64&&Py(c),p&512&&Xu(c,c.return);break;case 3:if(CA(s,c),p&64&&(s=c.updateQueue,s!==null)){if(o=null,c.child!==null)switch(c.child.tag){case 27:case 5:o=c.child.stateNode;break;case 1:o=c.child.stateNode}try{ea(s,o)}catch(P){ts(c,c.return,P)}}break;case 27:o===null&&p&4&&Ky(c);case 26:case 5:CA(s,c),o===null&&p&4&&qy(c),p&512&&Xu(c,c.return);break;case 12:CA(s,c);break;case 31:CA(s,c),p&4&&Xy(s,c);break;case 13:CA(s,c),p&4&&Jy(s,c),p&64&&(s=c.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(c=A4.bind(null,c),j4(s,c))));break;case 22:if(p=c.memoizedState!==null||BA,!p){o=o!==null&&o.memoizedState!==null||Ea,y=BA;var N=Ea;BA=p,(Ea=o)&&!N?EA(s,c,(c.subtreeFlags&8772)!==0):CA(s,c),BA=y,Ea=N}break;case 30:break;default:CA(s,c)}}function $y(s){var o=s.alternate;o!==null&&(s.alternate=null,$y(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&Ps(o)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Os=null,so=!1;function NA(s,o,c){for(c=c.child;c!==null;)Zy(s,o,c),c=c.sibling}function Zy(s,o,c){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(cr,c)}catch{}switch(c.tag){case 26:Ea||Wl(c,o),NA(s,o,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Ea||Wl(c,o);var p=Os,y=so;lc(c.type)&&(Os=c.stateNode,so=!1),NA(s,o,c),ah(c.stateNode),Os=p,so=y;break;case 5:Ea||Wl(c,o);case 6:if(p=Os,y=so,Os=null,NA(s,o,c),Os=p,so=y,Os!==null)if(so)try{(Os.nodeType===9?Os.body:Os.nodeName==="HTML"?Os.ownerDocument.body:Os).removeChild(c.stateNode)}catch(N){ts(c,o,N)}else try{Os.removeChild(c.stateNode)}catch(N){ts(c,o,N)}break;case 18:Os!==null&&(so?(s=Os,P1(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,c.stateNode),qd(s)):P1(Os,c.stateNode));break;case 4:p=Os,y=so,Os=c.stateNode.containerInfo,so=!0,NA(s,o,c),Os=p,so=y;break;case 0:case 11:case 14:case 15:tc(2,c,o),Ea||tc(4,c,o),NA(s,o,c);break;case 1:Ea||(Wl(c,o),p=c.stateNode,typeof p.componentWillUnmount=="function"&&Hy(c,o,p)),NA(s,o,c);break;case 21:NA(s,o,c);break;case 22:Ea=(p=Ea)||c.memoizedState!==null,NA(s,o,c),Ea=p;break;default:NA(s,o,c)}}function Xy(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{qd(s)}catch(c){ts(o,o.return,c)}}}function Jy(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{qd(s)}catch(c){ts(o,o.return,c)}}function t4(s){switch(s.tag){case 31:case 13:case 19:var o=s.stateNode;return o===null&&(o=s.stateNode=new Vy),o;case 22:return s=s.stateNode,o=s._retryCache,o===null&&(o=s._retryCache=new Vy),o;default:throw Error(n(435,s.tag))}}function Rf(s,o){var c=t4(s);o.forEach(function(p){if(!c.has(p)){c.add(p);var y=c4.bind(null,s,p);p.then(y,y)}})}function ao(s,o){var c=o.deletions;if(c!==null)for(var p=0;p<c.length;p++){var y=c[p],N=s,P=o,ce=P;e:for(;ce!==null;){switch(ce.tag){case 27:if(lc(ce.type)){Os=ce.stateNode,so=!1;break e}break;case 5:Os=ce.stateNode,so=!1;break e;case 3:case 4:Os=ce.stateNode.containerInfo,so=!0;break e}ce=ce.return}if(Os===null)throw Error(n(160));Zy(N,P,y),Os=null,so=!1,N=y.alternate,N!==null&&(N.return=null),y.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)Yy(o,s),o=o.sibling}var vl=null;function Yy(s,o){var c=s.alternate,p=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:ao(o,s),io(s),p&4&&(tc(3,s,s.return),Zu(3,s),tc(5,s,s.return));break;case 1:ao(o,s),io(s),p&512&&(Ea||c===null||Wl(c,c.return)),p&64&&BA&&(s=s.updateQueue,s!==null&&(p=s.callbacks,p!==null&&(c=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=c===null?p:c.concat(p))));break;case 26:var y=vl;if(ao(o,s),io(s),p&512&&(Ea||c===null||Wl(c,c.return)),p&4){var N=c!==null?c.memoizedState:null;if(p=s.memoizedState,c===null)if(p===null)if(s.stateNode===null){e:{p=s.type,c=s.memoizedProps,y=y.ownerDocument||y;t:switch(p){case"title":N=y.getElementsByTagName("title")[0],(!N||N[Gn]||N[tn]||N.namespaceURI==="http://www.w3.org/2000/svg"||N.hasAttribute("itemprop"))&&(N=y.createElement(p),y.head.insertBefore(N,y.querySelector("head > title"))),ci(N,p,c),N[tn]=s,$e(N),p=N;break e;case"link":var P=Y1("link","href",y).get(p+(c.href||""));if(P){for(var ce=0;ce<P.length;ce++)if(N=P[ce],N.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&N.getAttribute("rel")===(c.rel==null?null:c.rel)&&N.getAttribute("title")===(c.title==null?null:c.title)&&N.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){P.splice(ce,1);break t}}N=y.createElement(p),ci(N,p,c),y.head.appendChild(N);break;case"meta":if(P=Y1("meta","content",y).get(p+(c.content||""))){for(ce=0;ce<P.length;ce++)if(N=P[ce],N.getAttribute("content")===(c.content==null?null:""+c.content)&&N.getAttribute("name")===(c.name==null?null:c.name)&&N.getAttribute("property")===(c.property==null?null:c.property)&&N.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&N.getAttribute("charset")===(c.charSet==null?null:c.charSet)){P.splice(ce,1);break t}}N=y.createElement(p),ci(N,p,c),y.head.appendChild(N);break;default:throw Error(n(468,p))}N[tn]=s,$e(N),p=N}s.stateNode=p}else W1(y,s.type,s.stateNode);else s.stateNode=J1(y,p,s.memoizedProps);else N!==p?(N===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):N.count--,p===null?W1(y,s.type,s.stateNode):J1(y,p,s.memoizedProps)):p===null&&s.stateNode!==null&&Vg(s,s.memoizedProps,c.memoizedProps)}break;case 27:ao(o,s),io(s),p&512&&(Ea||c===null||Wl(c,c.return)),c!==null&&p&4&&Vg(s,s.memoizedProps,c.memoizedProps);break;case 5:if(ao(o,s),io(s),p&512&&(Ea||c===null||Wl(c,c.return)),s.flags&32){y=s.stateNode;try{dr(y,"")}catch(vr){ts(s,s.return,vr)}}p&4&&s.stateNode!=null&&(y=s.memoizedProps,Vg(s,y,c!==null?c.memoizedProps:y)),p&1024&&(Zg=!0);break;case 6:if(ao(o,s),io(s),p&4){if(s.stateNode===null)throw Error(n(162));p=s.memoizedProps,c=s.stateNode;try{c.nodeValue=p}catch(vr){ts(s,s.return,vr)}}break;case 3:if(ep=null,y=vl,vl=Yf(o.containerInfo),ao(o,s),vl=y,io(s),p&4&&c!==null&&c.memoizedState.isDehydrated)try{qd(o.containerInfo)}catch(vr){ts(s,s.return,vr)}Zg&&(Zg=!1,Wy(s));break;case 4:p=vl,vl=Yf(s.stateNode.containerInfo),ao(o,s),io(s),vl=p;break;case 12:ao(o,s),io(s);break;case 31:ao(o,s),io(s),p&4&&(p=s.updateQueue,p!==null&&(s.updateQueue=null,Rf(s,p)));break;case 13:ao(o,s),io(s),s.child.flags&8192&&s.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Mf=nr()),p&4&&(p=s.updateQueue,p!==null&&(s.updateQueue=null,Rf(s,p)));break;case 22:y=s.memoizedState!==null;var Se=c!==null&&c.memoizedState!==null,et=BA,pt=Ea;if(BA=et||y,Ea=pt||Se,ao(o,s),Ea=pt,BA=et,io(s),p&8192)e:for(o=s.stateNode,o._visibility=y?o._visibility&-2:o._visibility|1,y&&(c===null||Se||BA||Ea||Mc(s)),c=null,o=s;;){if(o.tag===5||o.tag===26){if(c===null){Se=c=o;try{if(N=Se.stateNode,y)P=N.style,typeof P.setProperty=="function"?P.setProperty("display","none","important"):P.display="none";else{ce=Se.stateNode;var Bt=Se.memoizedProps.style,rt=Bt!=null&&Bt.hasOwnProperty("display")?Bt.display:null;ce.style.display=rt==null||typeof rt=="boolean"?"":(""+rt).trim()}}catch(vr){ts(Se,Se.return,vr)}}}else if(o.tag===6){if(c===null){Se=o;try{Se.stateNode.nodeValue=y?"":Se.memoizedProps}catch(vr){ts(Se,Se.return,vr)}}}else if(o.tag===18){if(c===null){Se=o;try{var it=Se.stateNode;y?H1(it,!0):H1(Se.stateNode,!1)}catch(vr){ts(Se,Se.return,vr)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===s)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}p&4&&(p=s.updateQueue,p!==null&&(c=p.retryQueue,c!==null&&(p.retryQueue=null,Rf(s,c))));break;case 19:ao(o,s),io(s),p&4&&(p=s.updateQueue,p!==null&&(s.updateQueue=null,Rf(s,p)));break;case 30:break;case 21:break;default:ao(o,s),io(s)}}function io(s){var o=s.flags;if(o&2){try{for(var c,p=s.return;p!==null;){if(zy(p)){c=p;break}p=p.return}if(c==null)throw Error(n(160));switch(c.tag){case 27:var y=c.stateNode,N=Gg(s);Qf(s,N,y);break;case 5:var P=c.stateNode;c.flags&32&&(dr(P,""),c.flags&=-33);var ce=Gg(s);Qf(s,ce,P);break;case 3:case 4:var Se=c.stateNode.containerInfo,et=Gg(s);$g(s,et,Se);break;default:throw Error(n(161))}}catch(pt){ts(s,s.return,pt)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function Wy(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var o=s;Wy(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),s=s.sibling}}function CA(s,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)Gy(s,o.alternate,o),o=o.sibling}function Mc(s){for(s=s.child;s!==null;){var o=s;switch(o.tag){case 0:case 11:case 14:case 15:tc(4,o,o.return),Mc(o);break;case 1:Wl(o,o.return);var c=o.stateNode;typeof c.componentWillUnmount=="function"&&Hy(o,o.return,c),Mc(o);break;case 27:ah(o.stateNode);case 26:case 5:Wl(o,o.return),Mc(o);break;case 22:o.memoizedState===null&&Mc(o);break;case 30:Mc(o);break;default:Mc(o)}s=s.sibling}}function EA(s,o,c){for(c=c&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var p=o.alternate,y=s,N=o,P=N.flags;switch(N.tag){case 0:case 11:case 15:EA(y,N,c),Zu(4,N);break;case 1:if(EA(y,N,c),p=N,y=p.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(et){ts(p,p.return,et)}if(p=N,y=p.updateQueue,y!==null){var ce=p.stateNode;try{var Se=y.shared.hiddenCallbacks;if(Se!==null)for(y.shared.hiddenCallbacks=null,y=0;y<Se.length;y++)Ka(Se[y],ce)}catch(et){ts(p,p.return,et)}}c&&P&64&&Py(N),Xu(N,N.return);break;case 27:Ky(N);case 26:case 5:EA(y,N,c),c&&p===null&&P&4&&qy(N),Xu(N,N.return);break;case 12:EA(y,N,c);break;case 31:EA(y,N,c),c&&P&4&&Xy(y,N);break;case 13:EA(y,N,c),c&&P&4&&Jy(y,N);break;case 22:N.memoizedState===null&&EA(y,N,c),Xu(N,N.return);break;case 30:break;default:EA(y,N,c)}o=o.sibling}}function Xg(s,o){var c=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),s=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(s=o.memoizedState.cachePool.pool),s!==c&&(s!=null&&s.refCount++,c!=null&&Fc(c))}function Jg(s,o){s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&Fc(s))}function yl(s,o,c,p){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)e1(s,o,c,p),o=o.sibling}function e1(s,o,c,p){var y=o.flags;switch(o.tag){case 0:case 11:case 15:yl(s,o,c,p),y&2048&&Zu(9,o);break;case 1:yl(s,o,c,p);break;case 3:yl(s,o,c,p),y&2048&&(s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&Fc(s)));break;case 12:if(y&2048){yl(s,o,c,p),s=o.stateNode;try{var N=o.memoizedProps,P=N.id,ce=N.onPostCommit;typeof ce=="function"&&ce(P,o.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(Se){ts(o,o.return,Se)}}else yl(s,o,c,p);break;case 31:yl(s,o,c,p);break;case 13:yl(s,o,c,p);break;case 23:break;case 22:N=o.stateNode,P=o.alternate,o.memoizedState!==null?N._visibility&2?yl(s,o,c,p):Ju(s,o):N._visibility&2?yl(s,o,c,p):(N._visibility|=2,Id(s,o,c,p,(o.subtreeFlags&10256)!==0||!1)),y&2048&&Xg(P,o);break;case 24:yl(s,o,c,p),y&2048&&Jg(o.alternate,o);break;default:yl(s,o,c,p)}}function Id(s,o,c,p,y){for(y=y&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var N=s,P=o,ce=c,Se=p,et=P.flags;switch(P.tag){case 0:case 11:case 15:Id(N,P,ce,Se,y),Zu(8,P);break;case 23:break;case 22:var pt=P.stateNode;P.memoizedState!==null?pt._visibility&2?Id(N,P,ce,Se,y):Ju(N,P):(pt._visibility|=2,Id(N,P,ce,Se,y)),y&&et&2048&&Xg(P.alternate,P);break;case 24:Id(N,P,ce,Se,y),y&&et&2048&&Jg(P.alternate,P);break;default:Id(N,P,ce,Se,y)}o=o.sibling}}function Ju(s,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var c=s,p=o,y=p.flags;switch(p.tag){case 22:Ju(c,p),y&2048&&Xg(p.alternate,p);break;case 24:Ju(c,p),y&2048&&Jg(p.alternate,p);break;default:Ju(c,p)}o=o.sibling}}var Yu=8192;function kd(s,o,c){if(s.subtreeFlags&Yu)for(s=s.child;s!==null;)t1(s,o,c),s=s.sibling}function t1(s,o,c){switch(s.tag){case 26:kd(s,o,c),s.flags&Yu&&s.memoizedState!==null&&P4(c,vl,s.memoizedState,s.memoizedProps);break;case 5:kd(s,o,c);break;case 3:case 4:var p=vl;vl=Yf(s.stateNode.containerInfo),kd(s,o,c),vl=p;break;case 22:s.memoizedState===null&&(p=s.alternate,p!==null&&p.memoizedState!==null?(p=Yu,Yu=16777216,kd(s,o,c),Yu=p):kd(s,o,c));break;default:kd(s,o,c)}}function r1(s){var o=s.alternate;if(o!==null&&(s=o.child,s!==null)){o.child=null;do o=s.sibling,s.sibling=null,s=o;while(s!==null)}}function Wu(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var p=o[c];Ga=p,s1(p,s)}r1(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)n1(s),s=s.sibling}function n1(s){switch(s.tag){case 0:case 11:case 15:Wu(s),s.flags&2048&&tc(9,s,s.return);break;case 3:Wu(s);break;case 12:Wu(s);break;case 22:var o=s.stateNode;s.memoizedState!==null&&o._visibility&2&&(s.return===null||s.return.tag!==13)?(o._visibility&=-3,Df(s)):Wu(s);break;default:Wu(s)}}function Df(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var p=o[c];Ga=p,s1(p,s)}r1(s)}for(s=s.child;s!==null;){switch(o=s,o.tag){case 0:case 11:case 15:tc(8,o,o.return),Df(o);break;case 22:c=o.stateNode,c._visibility&2&&(c._visibility&=-3,Df(o));break;default:Df(o)}s=s.sibling}}function s1(s,o){for(;Ga!==null;){var c=Ga;switch(c.tag){case 0:case 11:case 15:tc(8,c,o);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var p=c.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:Fc(c.memoizedState.cache)}if(p=c.child,p!==null)p.return=c,Ga=p;else e:for(c=s;Ga!==null;){p=Ga;var y=p.sibling,N=p.return;if($y(p),p===c){Ga=null;break e}if(y!==null){y.return=N,Ga=y;break e}Ga=N}}}var r4={getCacheForType:function(s){var o=Qa(Vs),c=o.data.get(s);return c===void 0&&(c=s(),o.data.set(s,c)),c},cacheSignal:function(){return Qa(Vs).controller.signal}},n4=typeof WeakMap=="function"?WeakMap:Map,Kn=0,us=null,gn=null,bn=0,es=0,Uo=null,rc=!1,Td=!1,Yg=!1,SA=0,sa=0,nc=0,Pc=0,Wg=0,Io=0,Fd=0,eh=null,oo=null,e0=!1,Mf=0,a1=0,Pf=1/0,Hf=null,sc=null,Da=0,ac=null,Od=null,jA=0,t0=0,r0=null,i1=null,th=0,n0=null;function ko(){return(Kn&2)!==0&&bn!==0?bn&-bn:V.T!==null?A0():Fn()}function o1(){if(Io===0)if((bn&536870912)===0||cn){var s=Ue;Ue<<=1,(Ue&3932160)===0&&(Ue=262144),Io=s}else Io=536870912;return s=Cs.current,s!==null&&(s.flags|=32),Io}function lo(s,o,c){(s===us&&(es===2||es===9)||s.cancelPendingCommit!==null)&&(Qd(s,0),ic(s,bn,Io,!1)),It(s,c),((Kn&2)===0||s!==us)&&(s===us&&((Kn&2)===0&&(Pc|=c),sa===4&&ic(s,bn,Io,!1)),eA(s))}function l1(s,o,c){if((Kn&6)!==0)throw Error(n(327));var p=!c&&(o&127)===0&&(o&s.expiredLanes)===0||rr(s,o),y=p?i4(s,o):a0(s,o,!0),N=p;do{if(y===0){Td&&!p&&ic(s,o,0,!1);break}else{if(c=s.current.alternate,N&&!s4(c)){y=a0(s,o,!1),N=!1;continue}if(y===2){if(N=o,s.errorRecoveryDisabledLanes&N)var P=0;else P=s.pendingLanes&-536870913,P=P!==0?P:P&536870912?536870912:0;if(P!==0){o=P;e:{var ce=s;y=eh;var Se=ce.current.memoizedState.isDehydrated;if(Se&&(Qd(ce,P).flags|=256),P=a0(ce,P,!1),P!==2){if(Yg&&!Se){ce.errorRecoveryDisabledLanes|=N,Pc|=N,y=4;break e}N=oo,oo=y,N!==null&&(oo===null?oo=N:oo.push.apply(oo,N))}y=P}if(N=!1,y!==2)continue}}if(y===1){Qd(s,0),ic(s,o,0,!0);break}e:{switch(p=s,N=y,N){case 0:case 1:throw Error(n(345));case 4:if((o&4194048)!==o)break;case 6:ic(p,o,Io,!rc);break e;case 2:oo=null;break;case 3:case 5:break;default:throw Error(n(329))}if((o&62914560)===o&&(y=Mf+300-nr(),10<y)){if(ic(p,o,Io,!rc),ut(p,0,!0)!==0)break e;jA=o,p.timeoutHandle=D1(A1.bind(null,p,c,oo,Hf,e0,o,Io,Pc,Fd,rc,N,"Throttled",-0,0),y);break e}A1(p,c,oo,Hf,e0,o,Io,Pc,Fd,rc,N,null,-0,0)}}break}while(!0);eA(s)}function A1(s,o,c,p,y,N,P,ce,Se,et,pt,Bt,rt,it){if(s.timeoutHandle=-1,Bt=o.subtreeFlags,Bt&8192||(Bt&16785408)===16785408){Bt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Jr},t1(o,N,Bt);var vr=(N&62914560)===N?Mf-nr():(N&4194048)===N?a1-nr():0;if(vr=H4(Bt,vr),vr!==null){jA=N,s.cancelPendingCommit=vr(g1.bind(null,s,o,N,c,p,y,P,ce,Se,pt,Bt,null,rt,it)),ic(s,N,P,!et);return}}g1(s,o,N,c,p,y,P,ce,Se)}function s4(s){for(var o=s;;){var c=o.tag;if((c===0||c===11||c===15)&&o.flags&16384&&(c=o.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var p=0;p<c.length;p++){var y=c[p],N=y.getSnapshot;y=y.value;try{if(!Us(N(),y))return!1}catch{return!1}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function ic(s,o,c,p){o&=~Wg,o&=~Pc,s.suspendedLanes|=o,s.pingedLanes&=~o,p&&(s.warmLanes|=o),p=s.expirationTimes;for(var y=o;0<y;){var N=31-ar(y),P=1<<N;p[N]=-1,y&=~P}c!==0&&wn(s,c,o)}function qf(){return(Kn&6)===0?(rh(0),!1):!0}function s0(){if(gn!==null){if(es===0)var s=gn.return;else s=gn,to=Lo=null,Nd(s),Nt=null,wr=0,s=gn;for(;s!==null;)My(s.alternate,s),s=s.return;gn=null}}function Qd(s,o){var c=s.timeoutHandle;c!==-1&&(s.timeoutHandle=-1,B4(c)),c=s.cancelPendingCommit,c!==null&&(s.cancelPendingCommit=null,c()),jA=0,s0(),us=s,gn=c=ii(s.current,null),bn=o,es=0,Uo=null,rc=!1,Td=rr(s,o),Yg=!1,Fd=Io=Wg=Pc=nc=sa=0,oo=eh=null,e0=!1,(o&8)!==0&&(o|=o&32);var p=s.entangledLanes;if(p!==0)for(s=s.entanglements,p&=o;0<p;){var y=31-ar(p),N=1<<y;o|=s[y],p&=~N}return SA=o,Ml(),c}function c1(s,o){Ur=null,V.H=Vu,o===Fe||o===we?(o=xt(),es=3):o===Ye?(o=xt(),es=4):es=o===Og?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Uo=o,gn===null&&(sa=1,If(s,f(o,s.current)))}function d1(){var s=Cs.current;return s===null?!0:(bn&4194048)===bn?Ln===null:(bn&62914560)===bn||(bn&536870912)!==0?s===Ln:!1}function u1(){var s=V.H;return V.H=Vu,s===null?Vu:s}function h1(){var s=V.A;return V.A=r4,s}function zf(){sa=4,rc||(bn&4194048)!==bn&&Cs.current!==null||(Td=!0),(nc&134217727)===0&&(Pc&134217727)===0||us===null||ic(us,bn,Io,!1)}function a0(s,o,c){var p=Kn;Kn|=2;var y=u1(),N=h1();(us!==s||bn!==o)&&(Hf=null,Qd(s,o)),o=!1;var P=sa;e:do try{if(es!==0&&gn!==null){var ce=gn,Se=Uo;switch(es){case 8:s0(),P=6;break e;case 3:case 2:case 9:case 6:Cs.current===null&&(o=!0);var et=es;if(es=0,Uo=null,Rd(s,ce,Se,et),c&&Td){P=0;break e}break;default:et=es,es=0,Uo=null,Rd(s,ce,Se,et)}}a4(),P=sa;break}catch(pt){c1(s,pt)}while(!0);return o&&s.shellSuspendCounter++,to=Lo=null,Kn=p,V.H=y,V.A=N,gn===null&&(us=null,bn=0,Ml()),P}function a4(){for(;gn!==null;)f1(gn)}function i4(s,o){var c=Kn;Kn|=2;var p=u1(),y=h1();us!==s||bn!==o?(Hf=null,Pf=nr()+500,Qd(s,o)):Td=rr(s,o);e:do try{if(es!==0&&gn!==null){o=gn;var N=Uo;t:switch(es){case 1:es=0,Uo=null,Rd(s,o,N,1);break;case 2:case 9:if(Ge(N)){es=0,Uo=null,p1(o);break}o=function(){es!==2&&es!==9||us!==s||(es=7),eA(s)},N.then(o,o);break e;case 3:es=7;break e;case 4:es=5;break e;case 7:Ge(N)?(es=0,Uo=null,p1(o)):(es=0,Uo=null,Rd(s,o,N,7));break;case 5:var P=null;switch(gn.tag){case 26:P=gn.memoizedState;case 5:case 27:var ce=gn;if(P?ew(P):ce.stateNode.complete){es=0,Uo=null;var Se=ce.sibling;if(Se!==null)gn=Se;else{var et=ce.return;et!==null?(gn=et,Kf(et)):gn=null}break t}}es=0,Uo=null,Rd(s,o,N,5);break;case 6:es=0,Uo=null,Rd(s,o,N,6);break;case 8:s0(),sa=6;break e;default:throw Error(n(462))}}o4();break}catch(pt){c1(s,pt)}while(!0);return to=Lo=null,V.H=p,V.A=y,Kn=c,gn!==null?0:(us=null,bn=0,Ml(),sa)}function o4(){for(;gn!==null&&!gt();)f1(gn)}function f1(s){var o=Ry(s.alternate,s,SA);s.memoizedProps=s.pendingProps,o===null?Kf(s):gn=o}function p1(s){var o=s,c=o.alternate;switch(o.tag){case 15:case 0:o=Iy(c,o,o.pendingProps,o.type,void 0,bn);break;case 11:o=Iy(c,o,o.pendingProps,o.type.render,o.ref,bn);break;case 5:Nd(o);default:My(c,o),o=gn=Pl(o,SA),o=Ry(c,o,SA)}s.memoizedProps=s.pendingProps,o===null?Kf(s):gn=o}function Rd(s,o,c,p){to=Lo=null,Nd(o),Nt=null,wr=0;var y=o.return;try{if(ZE(s,y,o,c,bn)){sa=1,If(s,f(c,s.current)),gn=null;return}}catch(N){if(y!==null)throw gn=y,N;sa=1,If(s,f(c,s.current)),gn=null;return}o.flags&32768?(cn||p===1?s=!0:Td||(bn&536870912)!==0?s=!1:(rc=s=!0,(p===2||p===9||p===3||p===6)&&(p=Cs.current,p!==null&&p.tag===13&&(p.flags|=16384))),m1(o,s)):Kf(o)}function Kf(s){var o=s;do{if((o.flags&32768)!==0){m1(o,rc);return}s=o.return;var c=YE(o.alternate,o,SA);if(c!==null){gn=c;return}if(o=o.sibling,o!==null){gn=o;return}gn=o=s}while(o!==null);sa===0&&(sa=5)}function m1(s,o){do{var c=WE(s.alternate,s);if(c!==null){c.flags&=32767,gn=c;return}if(c=s.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!o&&(s=s.sibling,s!==null)){gn=s;return}gn=s=c}while(s!==null);sa=6,gn=null}function g1(s,o,c,p,y,N,P,ce,Se){s.cancelPendingCommit=null;do Vf();while(Da!==0);if((Kn&6)!==0)throw Error(n(327));if(o!==null){if(o===s.current)throw Error(n(177));if(N=o.lanes|o.childLanes,N|=pA,An(s,c,N,P,ce,Se),s===us&&(gn=us=null,bn=0),Od=o,ac=s,jA=c,t0=N,r0=y,i1=p,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,d4(sr,function(){return w1(),null})):(s.callbackNode=null,s.callbackPriority=0),p=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||p){p=V.T,V.T=null,y=me.p,me.p=2,P=Kn,Kn|=4;try{e4(s,o,c)}finally{Kn=P,me.p=y,V.T=p}}Da=1,x1(),b1(),v1()}}function x1(){if(Da===1){Da=0;var s=ac,o=Od,c=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||c){c=V.T,V.T=null;var p=me.p;me.p=2;var y=Kn;Kn|=4;try{Yy(o,s);var N=g0,P=yi(s.containerInfo),ce=N.focusedElem,Se=N.selectionRange;if(P!==ce&&ce&&ce.ownerDocument&&Hi(ce.ownerDocument.documentElement,ce)){if(Se!==null&&Ia(ce)){var et=Se.start,pt=Se.end;if(pt===void 0&&(pt=et),"selectionStart"in ce)ce.selectionStart=et,ce.selectionEnd=Math.min(pt,ce.value.length);else{var Bt=ce.ownerDocument||document,rt=Bt&&Bt.defaultView||window;if(rt.getSelection){var it=rt.getSelection(),vr=ce.textContent.length,Or=Math.min(Se.start,vr),os=Se.end===void 0?Or:Math.min(Se.end,vr);!it.extend&&Or>os&&(P=os,os=Or,Or=P);var ze=Eo(ce,Or),Oe=Eo(ce,os);if(ze&&Oe&&(it.rangeCount!==1||it.anchorNode!==ze.node||it.anchorOffset!==ze.offset||it.focusNode!==Oe.node||it.focusOffset!==Oe.offset)){var We=Bt.createRange();We.setStart(ze.node,ze.offset),it.removeAllRanges(),Or>os?(it.addRange(We),it.extend(Oe.node,Oe.offset)):(We.setEnd(Oe.node,Oe.offset),it.addRange(We))}}}}for(Bt=[],it=ce;it=it.parentNode;)it.nodeType===1&&Bt.push({element:it,left:it.scrollLeft,top:it.scrollTop});for(typeof ce.focus=="function"&&ce.focus(),ce=0;ce<Bt.length;ce++){var yt=Bt[ce];yt.element.scrollLeft=yt.left,yt.element.scrollTop=yt.top}}sp=!!m0,g0=m0=null}finally{Kn=y,me.p=p,V.T=c}}s.current=o,Da=2}}function b1(){if(Da===2){Da=0;var s=ac,o=Od,c=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||c){c=V.T,V.T=null;var p=me.p;me.p=2;var y=Kn;Kn|=4;try{Gy(s,o.alternate,o)}finally{Kn=y,me.p=p,V.T=c}}Da=3}}function v1(){if(Da===4||Da===3){Da=0,bt();var s=ac,o=Od,c=jA,p=i1;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Da=5:(Da=0,Od=ac=null,y1(s,s.pendingLanes));var y=s.pendingLanes;if(y===0&&(sc=null),Ft(c),o=o.stateNode,Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(cr,o,void 0,(o.current.flags&128)===128)}catch{}if(p!==null){o=V.T,y=me.p,me.p=2,V.T=null;try{for(var N=s.onRecoverableError,P=0;P<p.length;P++){var ce=p[P];N(ce.value,{componentStack:ce.stack})}}finally{V.T=o,me.p=y}}(jA&3)!==0&&Vf(),eA(s),y=s.pendingLanes,(c&261930)!==0&&(y&42)!==0?s===n0?th++:(th=0,n0=s):th=0,rh(0)}}function y1(s,o){(s.pooledCacheLanes&=o)===0&&(o=s.pooledCache,o!=null&&(s.pooledCache=null,Fc(o)))}function Vf(){return x1(),b1(),v1(),w1()}function w1(){if(Da!==5)return!1;var s=ac,o=t0;t0=0;var c=Ft(jA),p=V.T,y=me.p;try{me.p=32>c?32:c,V.T=null,c=r0,r0=null;var N=ac,P=jA;if(Da=0,Od=ac=null,jA=0,(Kn&6)!==0)throw Error(n(331));var ce=Kn;if(Kn|=4,n1(N.current),e1(N,N.current,P,c),Kn=ce,rh(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(cr,N)}catch{}return!0}finally{me.p=y,V.T=p,y1(s,o)}}function _1(s,o,c){o=f(c,o),o=Fg(s.stateNode,o,2),s=en(s,o,2),s!==null&&(It(s,2),eA(s))}function ts(s,o,c){if(s.tag===3)_1(s,s,c);else for(;o!==null;){if(o.tag===3){_1(o,s,c);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(sc===null||!sc.has(p))){s=f(c,s),c=By(2),p=en(o,c,2),p!==null&&(Ny(c,p,o,s),It(p,2),eA(p));break}}o=o.return}}function i0(s,o,c){var p=s.pingCache;if(p===null){p=s.pingCache=new n4;var y=new Set;p.set(o,y)}else y=p.get(o),y===void 0&&(y=new Set,p.set(o,y));y.has(c)||(Yg=!0,y.add(c),s=l4.bind(null,s,o,c),o.then(s,s))}function l4(s,o,c){var p=s.pingCache;p!==null&&p.delete(o),s.pingedLanes|=s.suspendedLanes&c,s.warmLanes&=~c,us===s&&(bn&c)===c&&(sa===4||sa===3&&(bn&62914560)===bn&&300>nr()-Mf?(Kn&2)===0&&Qd(s,0):Wg|=c,Fd===bn&&(Fd=0)),eA(s)}function B1(s,o){o===0&&(o=qr()),s=_i(s,o),s!==null&&(It(s,o),eA(s))}function A4(s){var o=s.memoizedState,c=0;o!==null&&(c=o.retryLane),B1(s,c)}function c4(s,o){var c=0;switch(s.tag){case 31:case 13:var p=s.stateNode,y=s.memoizedState;y!==null&&(c=y.retryLane);break;case 19:p=s.stateNode;break;case 22:p=s.stateNode._retryCache;break;default:throw Error(n(314))}p!==null&&p.delete(o),B1(s,c)}function d4(s,o){return Ze(s,o)}var Gf=null,Dd=null,o0=!1,$f=!1,l0=!1,oc=0;function eA(s){s!==Dd&&s.next===null&&(Dd===null?Gf=Dd=s:Dd=Dd.next=s),$f=!0,o0||(o0=!0,h4())}function rh(s,o){if(!l0&&$f){l0=!0;do for(var c=!1,p=Gf;p!==null;){if(s!==0){var y=p.pendingLanes;if(y===0)var N=0;else{var P=p.suspendedLanes,ce=p.pingedLanes;N=(1<<31-ar(42|s)+1)-1,N&=y&~(P&~ce),N=N&201326741?N&201326741|1:N?N|2:0}N!==0&&(c=!0,S1(p,N))}else N=bn,N=ut(p,p===us?N:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(N&3)===0||rr(p,N)||(c=!0,S1(p,N));p=p.next}while(c);l0=!1}}function u4(){N1()}function N1(){$f=o0=!1;var s=0;oc!==0&&_4()&&(s=oc);for(var o=nr(),c=null,p=Gf;p!==null;){var y=p.next,N=C1(p,o);N===0?(p.next=null,c===null?Gf=y:c.next=y,y===null&&(Dd=c)):(c=p,(s!==0||(N&3)!==0)&&($f=!0)),p=y}Da!==0&&Da!==5||rh(s),oc!==0&&(oc=0)}function C1(s,o){for(var c=s.suspendedLanes,p=s.pingedLanes,y=s.expirationTimes,N=s.pendingLanes&-62914561;0<N;){var P=31-ar(N),ce=1<<P,Se=y[P];Se===-1?((ce&c)===0||(ce&p)!==0)&&(y[P]=or(ce,o)):Se<=o&&(s.expiredLanes|=ce),N&=~ce}if(o=us,c=bn,c=ut(s,s===o?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),p=s.callbackNode,c===0||s===o&&(es===2||es===9)||s.cancelPendingCommit!==null)return p!==null&&p!==null&&Ve(p),s.callbackNode=null,s.callbackPriority=0;if((c&3)===0||rr(s,c)){if(o=c&-c,o===s.callbackPriority)return o;switch(p!==null&&Ve(p),Ft(c)){case 2:case 8:c=yr;break;case 32:c=sr;break;case 268435456:c=er;break;default:c=sr}return p=E1.bind(null,s),c=Ze(c,p),s.callbackPriority=o,s.callbackNode=c,o}return p!==null&&p!==null&&Ve(p),s.callbackPriority=2,s.callbackNode=null,2}function E1(s,o){if(Da!==0&&Da!==5)return s.callbackNode=null,s.callbackPriority=0,null;var c=s.callbackNode;if(Vf()&&s.callbackNode!==c)return null;var p=bn;return p=ut(s,s===us?p:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),p===0?null:(l1(s,p,o),C1(s,nr()),s.callbackNode!=null&&s.callbackNode===c?E1.bind(null,s):null)}function S1(s,o){if(Vf())return null;l1(s,o,!0)}function h4(){N4(function(){(Kn&6)!==0?Ze(Wt,u4):N1()})}function A0(){if(oc===0){var s=x;s===0&&(s=tr,tr<<=1,(tr&261888)===0&&(tr=256)),oc=s}return oc}function j1(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Hn(""+s)}function L1(s,o){var c=o.ownerDocument.createElement("input");return c.name=o.name,c.value=o.value,s.id&&c.setAttribute("form",s.id),o.parentNode.insertBefore(c,o),s=new FormData(s),c.parentNode.removeChild(c),s}function f4(s,o,c,p,y){if(o==="submit"&&c&&c.stateNode===y){var N=j1((y[Te]||null).action),P=p.submitter;P&&(o=(o=P[Te]||null)?j1(o.formAction):P.getAttribute("formAction"),o!==null&&(N=o,P=null));var ce=new gi("action","action",null,p,y);s.push({event:ce,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(oc!==0){var Se=P?L1(y,P):new FormData(y);jg(c,{pending:!0,data:Se,method:y.method,action:N},null,Se)}}else typeof N=="function"&&(ce.preventDefault(),Se=P?L1(y,P):new FormData(y),jg(c,{pending:!0,data:Se,method:y.method,action:N},N,Se))},currentTarget:y}]})}}for(var c0=0;c0<wi.length;c0++){var d0=wi[c0],p4=d0.toLowerCase(),m4=d0[0].toUpperCase()+d0.slice(1);si(p4,"on"+m4)}si(eo,"onAnimationEnd"),si(fA,"onAnimationIteration"),si(Rl,"onAnimationStart"),si("dblclick","onDoubleClick"),si("focusin","onFocus"),si("focusout","onBlur"),si(xd,"onTransitionRun"),si(Ic,"onTransitionStart"),si(bd,"onTransitionCancel"),si(hl,"onTransitionEnd"),Z("onMouseEnter",["mouseout","mouseover"]),Z("onMouseLeave",["mouseout","mouseover"]),Z("onPointerEnter",["pointerout","pointerover"]),Z("onPointerLeave",["pointerout","pointerover"]),Mt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),g4=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(nh));function U1(s,o){o=(o&4)!==0;for(var c=0;c<s.length;c++){var p=s[c],y=p.event;p=p.listeners;e:{var N=void 0;if(o)for(var P=p.length-1;0<=P;P--){var ce=p[P],Se=ce.instance,et=ce.currentTarget;if(ce=ce.listener,Se!==N&&y.isPropagationStopped())break e;N=ce,y.currentTarget=et;try{N(y)}catch(pt){Dl(pt)}y.currentTarget=null,N=Se}else for(P=0;P<p.length;P++){if(ce=p[P],Se=ce.instance,et=ce.currentTarget,ce=ce.listener,Se!==N&&y.isPropagationStopped())break e;N=ce,y.currentTarget=et;try{N(y)}catch(pt){Dl(pt)}y.currentTarget=null,N=Se}}}}function xn(s,o){var c=o[qt];c===void 0&&(c=o[qt]=new Set);var p=s+"__bubble";c.has(p)||(I1(o,s,2,!1),c.add(p))}function u0(s,o,c){var p=0;o&&(p|=4),I1(c,s,p,o)}var Zf="_reactListening"+Math.random().toString(36).slice(2);function h0(s){if(!s[Zf]){s[Zf]=!0,At.forEach(function(c){c!=="selectionchange"&&(g4.has(c)||u0(c,!1,s),u0(c,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Zf]||(o[Zf]=!0,u0("selectionchange",!1,o))}}function I1(s,o,c,p){switch(ow(o)){case 2:var y=K4;break;case 8:y=V4;break;default:y=S0}c=y.bind(null,o,c,s),y=void 0,!ll||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),p?y!==void 0?s.addEventListener(o,c,{capture:!0,passive:y}):s.addEventListener(o,c,!0):y!==void 0?s.addEventListener(o,c,{passive:y}):s.addEventListener(o,c,!1)}function f0(s,o,c,p,y){var N=p;if((o&1)===0&&(o&2)===0&&p!==null)e:for(;;){if(p===null)return;var P=p.tag;if(P===3||P===4){var ce=p.stateNode.containerInfo;if(ce===y)break;if(P===4)for(P=p.return;P!==null;){var Se=P.tag;if((Se===3||Se===4)&&P.stateNode.containerInfo===y)return;P=P.return}for(;ce!==null;){if(P=On(ce),P===null)return;if(Se=P.tag,Se===5||Se===6||Se===26||Se===27){p=N=P;continue e}ce=ce.parentNode}}p=p.return}bo(function(){var et=N,pt=Zs(c),Bt=[];e:{var rt=kc.get(s);if(rt!==void 0){var it=gi,vr=s;switch(s){case"keypress":if(Wa(c)===0)break e;case"keydown":case"keyup":it=un;break;case"focusin":vr="focus",it=yo;break;case"focusout":vr="blur",it=yo;break;case"beforeblur":case"afterblur":it=yo;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":it=uA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":it=vo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":it=Ks;break;case eo:case fA:case Rl:it=j;break;case hl:it=Xs;break;case"scroll":case"scrollend":it=Yr;break;case"wheel":it=ca;break;case"copy":case"cut":case"paste":it=ye;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":it=vs;break;case"toggle":case"beforetoggle":it=_o}var Or=(o&4)!==0,os=!Or&&(s==="scroll"||s==="scrollend"),ze=Or?rt!==null?rt+"Capture":null:rt;Or=[];for(var Oe=et,We;Oe!==null;){var yt=Oe;if(We=yt.stateNode,yt=yt.tag,yt!==5&&yt!==26&&yt!==27||We===null||ze===null||(yt=Aa(Oe,ze),yt!=null&&Or.push(sh(Oe,yt,We))),os)break;Oe=Oe.return}0<Or.length&&(rt=new it(rt,vr,null,c,pt),Bt.push({event:rt,listeners:Or}))}}if((o&7)===0){e:{if(rt=s==="mouseover"||s==="pointerover",it=s==="mouseout"||s==="pointerout",rt&&c!==js&&(vr=c.relatedTarget||c.fromElement)&&(On(vr)||vr[wt]))break e;if((it||rt)&&(rt=pt.window===pt?pt:(rt=pt.ownerDocument)?rt.defaultView||rt.parentWindow:window,it?(vr=c.relatedTarget||c.toElement,it=et,vr=vr?On(vr):null,vr!==null&&(os=l(vr),Or=vr.tag,vr!==os||Or!==5&&Or!==27&&Or!==6)&&(vr=null)):(it=null,vr=et),it!==vr)){if(Or=uA,yt="onMouseLeave",ze="onMouseEnter",Oe="mouse",(s==="pointerout"||s==="pointerover")&&(Or=vs,yt="onPointerLeave",ze="onPointerEnter",Oe="pointer"),os=it==null?rt:le(it),We=vr==null?rt:le(vr),rt=new Or(yt,Oe+"leave",it,c,pt),rt.target=os,rt.relatedTarget=We,yt=null,On(pt)===et&&(Or=new Or(ze,Oe+"enter",vr,c,pt),Or.target=We,Or.relatedTarget=os,yt=Or),os=yt,it&&vr)t:{for(Or=x4,ze=it,Oe=vr,We=0,yt=ze;yt;yt=Or(yt))We++;yt=0;for(var kr=Oe;kr;kr=Or(kr))yt++;for(;0<We-yt;)ze=Or(ze),We--;for(;0<yt-We;)Oe=Or(Oe),yt--;for(;We--;){if(ze===Oe||Oe!==null&&ze===Oe.alternate){Or=ze;break t}ze=Or(ze),Oe=Or(Oe)}Or=null}else Or=null;it!==null&&k1(Bt,rt,it,Or,!1),vr!==null&&os!==null&&k1(Bt,os,vr,Or,!0)}}e:{if(rt=et?le(et):window,it=rt.nodeName&&rt.nodeName.toLowerCase(),it==="select"||it==="input"&&rt.type==="file")var Mn=Mi;else if(ti(rt))if(qa)Mn=Zi;else{Mn=ws;var Cr=za}else it=rt.nodeName,!it||it.toLowerCase()!=="input"||rt.type!=="checkbox"&&rt.type!=="radio"?et&&Mr(et.elementType)&&(Mn=Mi):Mn=Co;if(Mn&&(Mn=Mn(s,et))){ri(Bt,Mn,c,pt);break e}Cr&&Cr(s,rt,et),s==="focusout"&&et&&rt.type==="number"&&et.memoizedProps.value!=null&&ve(rt,"number",rt.value)}switch(Cr=et?le(et):window,s){case"focusin":(ti(Cr)||Cr.contentEditable==="true")&&(ka=Cr,Yi=et,Ba=null);break;case"focusout":Ba=Yi=ka=null;break;case"mousedown":Ta=!0;break;case"contextmenu":case"mouseup":case"dragend":Ta=!1,Bn(Bt,c,pt);break;case"selectionchange":if(Ji)break;case"keydown":case"keyup":Bn(Bt,c,pt)}var an;if(Ri)e:{switch(s){case"compositionstart":var vn="onCompositionStart";break e;case"compositionend":vn="onCompositionEnd";break e;case"compositionupdate":vn="onCompositionUpdate";break e}vn=void 0}else Gi?zo(s,c)&&(vn="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(vn="onCompositionStart");vn&&(Di&&c.locale!=="ko"&&(Gi||vn!=="onCompositionStart"?vn==="onCompositionEnd"&&Gi&&(an=Ki()):(Ua=pt,Oi="value"in Ua?Ua.value:Ua.textContent,Gi=!0)),Cr=Xf(et,vn),0<Cr.length&&(vn=new Pe(vn,s,null,c,pt),Bt.push({event:vn,listeners:Cr}),an?vn.data=an:(an=ul(c),an!==null&&(vn.data=an)))),(an=dl?Yn(s,c):Ha(s,c))&&(vn=Xf(et,"onBeforeInput"),0<vn.length&&(Cr=new Pe("onBeforeInput","beforeinput",null,c,pt),Bt.push({event:Cr,listeners:vn}),Cr.data=an)),f4(Bt,s,et,c,pt)}U1(Bt,o)})}function sh(s,o,c){return{instance:s,listener:o,currentTarget:c}}function Xf(s,o){for(var c=o+"Capture",p=[];s!==null;){var y=s,N=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||N===null||(y=Aa(s,c),y!=null&&p.unshift(sh(s,y,N)),y=Aa(s,o),y!=null&&p.push(sh(s,y,N))),s.tag===3)return p;s=s.return}return[]}function x4(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function k1(s,o,c,p,y){for(var N=o._reactName,P=[];c!==null&&c!==p;){var ce=c,Se=ce.alternate,et=ce.stateNode;if(ce=ce.tag,Se!==null&&Se===p)break;ce!==5&&ce!==26&&ce!==27||et===null||(Se=et,y?(et=Aa(c,N),et!=null&&P.unshift(sh(c,et,Se))):y||(et=Aa(c,N),et!=null&&P.push(sh(c,et,Se)))),c=c.return}P.length!==0&&s.push({event:o,listeners:P})}var b4=/\r\n?/g,v4=/\u0000|\uFFFD/g;function T1(s){return(typeof s=="string"?s:""+s).replace(b4,`
`).replace(v4,"")}function F1(s,o){return o=T1(o),T1(s)===o}function is(s,o,c,p,y,N){switch(c){case"children":typeof p=="string"?o==="body"||o==="textarea"&&p===""||dr(s,p):(typeof p=="number"||typeof p=="bigint")&&o!=="body"&&dr(s,""+p);break;case"className":Gt(s,"class",p);break;case"tabIndex":Gt(s,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":Gt(s,c,p);break;case"style":Lr(s,p,N);break;case"data":if(o!=="object"){Gt(s,"data",p);break}case"src":case"href":if(p===""&&(o!=="a"||c!=="href")){s.removeAttribute(c);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){s.removeAttribute(c);break}p=Hn(""+p),s.setAttribute(c,p);break;case"action":case"formAction":if(typeof p=="function"){s.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof N=="function"&&(c==="formAction"?(o!=="input"&&is(s,o,"name",y.name,y,null),is(s,o,"formEncType",y.formEncType,y,null),is(s,o,"formMethod",y.formMethod,y,null),is(s,o,"formTarget",y.formTarget,y,null)):(is(s,o,"encType",y.encType,y,null),is(s,o,"method",y.method,y,null),is(s,o,"target",y.target,y,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){s.removeAttribute(c);break}p=Hn(""+p),s.setAttribute(c,p);break;case"onClick":p!=null&&(s.onclick=Jr);break;case"onScroll":p!=null&&xn("scroll",s);break;case"onScrollEnd":p!=null&&xn("scrollend",s);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(n(61));if(c=p.__html,c!=null){if(y.children!=null)throw Error(n(60));s.innerHTML=c}}break;case"multiple":s.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":s.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){s.removeAttribute("xlink:href");break}c=Hn(""+p),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?s.setAttribute(c,""+p):s.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?s.setAttribute(c,""):s.removeAttribute(c);break;case"capture":case"download":p===!0?s.setAttribute(c,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?s.setAttribute(c,p):s.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?s.setAttribute(c,p):s.removeAttribute(c);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?s.removeAttribute(c):s.setAttribute(c,p);break;case"popover":xn("beforetoggle",s),xn("toggle",s),_t(s,"popover",p);break;case"xlinkActuate":gr(s,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":gr(s,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":gr(s,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":gr(s,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":gr(s,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":gr(s,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":gr(s,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":gr(s,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":gr(s,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":_t(s,"is",p);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=kn.get(c)||c,_t(s,c,p))}}function p0(s,o,c,p,y,N){switch(c){case"style":Lr(s,p,N);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(n(61));if(c=p.__html,c!=null){if(y.children!=null)throw Error(n(60));s.innerHTML=c}}break;case"children":typeof p=="string"?dr(s,p):(typeof p=="number"||typeof p=="bigint")&&dr(s,""+p);break;case"onScroll":p!=null&&xn("scroll",s);break;case"onScrollEnd":p!=null&&xn("scrollend",s);break;case"onClick":p!=null&&(s.onclick=Jr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!jt.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(y=c.endsWith("Capture"),o=c.slice(2,y?c.length-7:void 0),N=s[Te]||null,N=N!=null?N[c]:null,typeof N=="function"&&s.removeEventListener(o,N,y),typeof p=="function")){typeof N!="function"&&N!==null&&(c in s?s[c]=null:s.hasAttribute(c)&&s.removeAttribute(c)),s.addEventListener(o,p,y);break e}c in s?s[c]=p:p===!0?s.setAttribute(c,""):_t(s,c,p)}}}function ci(s,o,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xn("error",s),xn("load",s);var p=!1,y=!1,N;for(N in c)if(c.hasOwnProperty(N)){var P=c[N];if(P!=null)switch(N){case"src":p=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:is(s,o,N,P,c,null)}}y&&is(s,o,"srcSet",c.srcSet,c,null),p&&is(s,o,"src",c.src,c,null);return;case"input":xn("invalid",s);var ce=N=P=y=null,Se=null,et=null;for(p in c)if(c.hasOwnProperty(p)){var pt=c[p];if(pt!=null)switch(p){case"name":y=pt;break;case"type":P=pt;break;case"checked":Se=pt;break;case"defaultChecked":et=pt;break;case"value":N=pt;break;case"defaultValue":ce=pt;break;case"children":case"dangerouslySetInnerHTML":if(pt!=null)throw Error(n(137,o));break;default:is(s,o,p,pt,c,null)}}Ja(s,N,ce,Se,et,P,y,!1);return;case"select":xn("invalid",s),p=P=N=null;for(y in c)if(c.hasOwnProperty(y)&&(ce=c[y],ce!=null))switch(y){case"value":N=ce;break;case"defaultValue":P=ce;break;case"multiple":p=ce;default:is(s,o,y,ce,c,null)}o=N,c=P,s.multiple=!!p,o!=null?He(s,!!p,o,!1):c!=null&&He(s,!!p,c,!0);return;case"textarea":xn("invalid",s),N=y=p=null;for(P in c)if(c.hasOwnProperty(P)&&(ce=c[P],ce!=null))switch(P){case"value":p=ce;break;case"defaultValue":y=ce;break;case"children":N=ce;break;case"dangerouslySetInnerHTML":if(ce!=null)throw Error(n(91));break;default:is(s,o,P,ce,c,null)}Tt(s,p,y,N);return;case"option":for(Se in c)if(c.hasOwnProperty(Se)&&(p=c[Se],p!=null))switch(Se){case"selected":s.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:is(s,o,Se,p,c,null)}return;case"dialog":xn("beforetoggle",s),xn("toggle",s),xn("cancel",s),xn("close",s);break;case"iframe":case"object":xn("load",s);break;case"video":case"audio":for(p=0;p<nh.length;p++)xn(nh[p],s);break;case"image":xn("error",s),xn("load",s);break;case"details":xn("toggle",s);break;case"embed":case"source":case"link":xn("error",s),xn("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(et in c)if(c.hasOwnProperty(et)&&(p=c[et],p!=null))switch(et){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:is(s,o,et,p,c,null)}return;default:if(Mr(o)){for(pt in c)c.hasOwnProperty(pt)&&(p=c[pt],p!==void 0&&p0(s,o,pt,p,c,void 0));return}}for(ce in c)c.hasOwnProperty(ce)&&(p=c[ce],p!=null&&is(s,o,ce,p,c,null))}function y4(s,o,c,p){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,N=null,P=null,ce=null,Se=null,et=null,pt=null;for(it in c){var Bt=c[it];if(c.hasOwnProperty(it)&&Bt!=null)switch(it){case"checked":break;case"value":break;case"defaultValue":Se=Bt;default:p.hasOwnProperty(it)||is(s,o,it,null,p,Bt)}}for(var rt in p){var it=p[rt];if(Bt=c[rt],p.hasOwnProperty(rt)&&(it!=null||Bt!=null))switch(rt){case"type":N=it;break;case"name":y=it;break;case"checked":et=it;break;case"defaultChecked":pt=it;break;case"value":P=it;break;case"defaultValue":ce=it;break;case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(n(137,o));break;default:it!==Bt&&is(s,o,rt,it,p,Bt)}}pi(s,P,ce,Se,et,pt,N,y);return;case"select":it=P=ce=rt=null;for(N in c)if(Se=c[N],c.hasOwnProperty(N)&&Se!=null)switch(N){case"value":break;case"multiple":it=Se;default:p.hasOwnProperty(N)||is(s,o,N,null,p,Se)}for(y in p)if(N=p[y],Se=c[y],p.hasOwnProperty(y)&&(N!=null||Se!=null))switch(y){case"value":rt=N;break;case"defaultValue":ce=N;break;case"multiple":P=N;default:N!==Se&&is(s,o,y,N,p,Se)}o=ce,c=P,p=it,rt!=null?He(s,!!c,rt,!1):!!p!=!!c&&(o!=null?He(s,!!c,o,!0):He(s,!!c,c?[]:"",!1));return;case"textarea":it=rt=null;for(ce in c)if(y=c[ce],c.hasOwnProperty(ce)&&y!=null&&!p.hasOwnProperty(ce))switch(ce){case"value":break;case"children":break;default:is(s,o,ce,null,p,y)}for(P in p)if(y=p[P],N=c[P],p.hasOwnProperty(P)&&(y!=null||N!=null))switch(P){case"value":rt=y;break;case"defaultValue":it=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(n(91));break;default:y!==N&&is(s,o,P,y,p,N)}Qt(s,rt,it);return;case"option":for(var vr in c)if(rt=c[vr],c.hasOwnProperty(vr)&&rt!=null&&!p.hasOwnProperty(vr))switch(vr){case"selected":s.selected=!1;break;default:is(s,o,vr,null,p,rt)}for(Se in p)if(rt=p[Se],it=c[Se],p.hasOwnProperty(Se)&&rt!==it&&(rt!=null||it!=null))switch(Se){case"selected":s.selected=rt&&typeof rt!="function"&&typeof rt!="symbol";break;default:is(s,o,Se,rt,p,it)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Or in c)rt=c[Or],c.hasOwnProperty(Or)&&rt!=null&&!p.hasOwnProperty(Or)&&is(s,o,Or,null,p,rt);for(et in p)if(rt=p[et],it=c[et],p.hasOwnProperty(et)&&rt!==it&&(rt!=null||it!=null))switch(et){case"children":case"dangerouslySetInnerHTML":if(rt!=null)throw Error(n(137,o));break;default:is(s,o,et,rt,p,it)}return;default:if(Mr(o)){for(var os in c)rt=c[os],c.hasOwnProperty(os)&&rt!==void 0&&!p.hasOwnProperty(os)&&p0(s,o,os,void 0,p,rt);for(pt in p)rt=p[pt],it=c[pt],!p.hasOwnProperty(pt)||rt===it||rt===void 0&&it===void 0||p0(s,o,pt,rt,p,it);return}}for(var ze in c)rt=c[ze],c.hasOwnProperty(ze)&&rt!=null&&!p.hasOwnProperty(ze)&&is(s,o,ze,null,p,rt);for(Bt in p)rt=p[Bt],it=c[Bt],!p.hasOwnProperty(Bt)||rt===it||rt==null&&it==null||is(s,o,Bt,rt,p,it)}function O1(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function w4(){if(typeof performance.getEntriesByType=="function"){for(var s=0,o=0,c=performance.getEntriesByType("resource"),p=0;p<c.length;p++){var y=c[p],N=y.transferSize,P=y.initiatorType,ce=y.duration;if(N&&ce&&O1(P)){for(P=0,ce=y.responseEnd,p+=1;p<c.length;p++){var Se=c[p],et=Se.startTime;if(et>ce)break;var pt=Se.transferSize,Bt=Se.initiatorType;pt&&O1(Bt)&&(Se=Se.responseEnd,P+=pt*(Se<ce?1:(ce-et)/(Se-et)))}if(--p,o+=8*(N+P)/(y.duration/1e3),s++,10<s)break}}if(0<s)return o/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var m0=null,g0=null;function Jf(s){return s.nodeType===9?s:s.ownerDocument}function Q1(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function R1(s,o){if(s===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&o==="foreignObject"?0:s}function x0(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var b0=null;function _4(){var s=window.event;return s&&s.type==="popstate"?s===b0?!1:(b0=s,!0):(b0=null,!1)}var D1=typeof setTimeout=="function"?setTimeout:void 0,B4=typeof clearTimeout=="function"?clearTimeout:void 0,M1=typeof Promise=="function"?Promise:void 0,N4=typeof queueMicrotask=="function"?queueMicrotask:typeof M1<"u"?function(s){return M1.resolve(null).then(s).catch(C4)}:D1;function C4(s){setTimeout(function(){throw s})}function lc(s){return s==="head"}function P1(s,o){var c=o,p=0;do{var y=c.nextSibling;if(s.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"||c==="/&"){if(p===0){s.removeChild(y),qd(o);return}p--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")p++;else if(c==="html")ah(s.ownerDocument.documentElement);else if(c==="head"){c=s.ownerDocument.head,ah(c);for(var N=c.firstChild;N;){var P=N.nextSibling,ce=N.nodeName;N[Gn]||ce==="SCRIPT"||ce==="STYLE"||ce==="LINK"&&N.rel.toLowerCase()==="stylesheet"||c.removeChild(N),N=P}}else c==="body"&&ah(s.ownerDocument.body);c=y}while(c);qd(o)}function H1(s,o){var c=s;s=0;do{var p=c.nextSibling;if(c.nodeType===1?o?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(o?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),p&&p.nodeType===8)if(c=p.data,c==="/$"){if(s===0)break;s--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||s++;c=p}while(c)}function v0(s){var o=s.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var c=o;switch(o=o.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":v0(c),Ps(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}s.removeChild(c)}}function E4(s,o,c,p){for(;s.nodeType===1;){var y=c;if(s.nodeName.toLowerCase()!==o.toLowerCase()){if(!p&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(p){if(!s[Gn])switch(o){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(N=s.getAttribute("rel"),N==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(N!==y.rel||s.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||s.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||s.getAttribute("title")!==(y.title==null?null:y.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(N=s.getAttribute("src"),(N!==(y.src==null?null:y.src)||s.getAttribute("type")!==(y.type==null?null:y.type)||s.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&N&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(o==="input"&&s.type==="hidden"){var N=y.name==null?null:""+y.name;if(y.type==="hidden"&&s.getAttribute("name")===N)return s}else return s;if(s=Xo(s.nextSibling),s===null)break}return null}function S4(s,o,c){if(o==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!c||(s=Xo(s.nextSibling),s===null))return null;return s}function q1(s,o){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!o||(s=Xo(s.nextSibling),s===null))return null;return s}function y0(s){return s.data==="$?"||s.data==="$~"}function w0(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function j4(s,o){var c=s.ownerDocument;if(s.data==="$~")s._reactRetry=o;else if(s.data!=="$?"||c.readyState!=="loading")o();else{var p=function(){o(),c.removeEventListener("DOMContentLoaded",p)};c.addEventListener("DOMContentLoaded",p),s._reactRetry=p}}function Xo(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return s}var _0=null;function z1(s){s=s.nextSibling;for(var o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"||c==="/&"){if(o===0)return Xo(s.nextSibling);o--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||o++}s=s.nextSibling}return null}function K1(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(o===0)return s;o--}else c!=="/$"&&c!=="/&"||o++}s=s.previousSibling}return null}function V1(s,o,c){switch(o=Jf(c),s){case"html":if(s=o.documentElement,!s)throw Error(n(452));return s;case"head":if(s=o.head,!s)throw Error(n(453));return s;case"body":if(s=o.body,!s)throw Error(n(454));return s;default:throw Error(n(451))}}function ah(s){for(var o=s.attributes;o.length;)s.removeAttributeNode(o[0]);Ps(s)}var Jo=new Map,G1=new Set;function Yf(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var LA=me.d;me.d={f:L4,r:U4,D:I4,C:k4,L:T4,m:F4,X:Q4,S:O4,M:R4};function L4(){var s=LA.f(),o=qf();return s||o}function U4(s){var o=As(s);o!==null&&o.tag===5&&o.type==="form"?cy(o):LA.r(s)}var Md=typeof document>"u"?null:document;function $1(s,o,c){var p=Md;if(p&&typeof o=="string"&&o){var y=on(o);y='link[rel="'+s+'"][href="'+y+'"]',typeof c=="string"&&(y+='[crossorigin="'+c+'"]'),G1.has(y)||(G1.add(y),s={rel:s,crossOrigin:c,href:o},p.querySelector(y)===null&&(o=p.createElement("link"),ci(o,"link",s),$e(o),p.head.appendChild(o)))}}function I4(s){LA.D(s),$1("dns-prefetch",s,null)}function k4(s,o){LA.C(s,o),$1("preconnect",s,o)}function T4(s,o,c){LA.L(s,o,c);var p=Md;if(p&&s&&o){var y='link[rel="preload"][as="'+on(o)+'"]';o==="image"&&c&&c.imageSrcSet?(y+='[imagesrcset="'+on(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(y+='[imagesizes="'+on(c.imageSizes)+'"]')):y+='[href="'+on(s)+'"]';var N=y;switch(o){case"style":N=Pd(s);break;case"script":N=Hd(s)}Jo.has(N)||(s=b({rel:"preload",href:o==="image"&&c&&c.imageSrcSet?void 0:s,as:o},c),Jo.set(N,s),p.querySelector(y)!==null||o==="style"&&p.querySelector(ih(N))||o==="script"&&p.querySelector(oh(N))||(o=p.createElement("link"),ci(o,"link",s),$e(o),p.head.appendChild(o)))}}function F4(s,o){LA.m(s,o);var c=Md;if(c&&s){var p=o&&typeof o.as=="string"?o.as:"script",y='link[rel="modulepreload"][as="'+on(p)+'"][href="'+on(s)+'"]',N=y;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":N=Hd(s)}if(!Jo.has(N)&&(s=b({rel:"modulepreload",href:s},o),Jo.set(N,s),c.querySelector(y)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(oh(N)))return}p=c.createElement("link"),ci(p,"link",s),$e(p),c.head.appendChild(p)}}}function O4(s,o,c){LA.S(s,o,c);var p=Md;if(p&&s){var y=Me(p).hoistableStyles,N=Pd(s);o=o||"default";var P=y.get(N);if(!P){var ce={loading:0,preload:null};if(P=p.querySelector(ih(N)))ce.loading=5;else{s=b({rel:"stylesheet",href:s,"data-precedence":o},c),(c=Jo.get(N))&&B0(s,c);var Se=P=p.createElement("link");$e(Se),ci(Se,"link",s),Se._p=new Promise(function(et,pt){Se.onload=et,Se.onerror=pt}),Se.addEventListener("load",function(){ce.loading|=1}),Se.addEventListener("error",function(){ce.loading|=2}),ce.loading|=4,Wf(P,o,p)}P={type:"stylesheet",instance:P,count:1,state:ce},y.set(N,P)}}}function Q4(s,o){LA.X(s,o);var c=Md;if(c&&s){var p=Me(c).hoistableScripts,y=Hd(s),N=p.get(y);N||(N=c.querySelector(oh(y)),N||(s=b({src:s,async:!0},o),(o=Jo.get(y))&&N0(s,o),N=c.createElement("script"),$e(N),ci(N,"link",s),c.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},p.set(y,N))}}function R4(s,o){LA.M(s,o);var c=Md;if(c&&s){var p=Me(c).hoistableScripts,y=Hd(s),N=p.get(y);N||(N=c.querySelector(oh(y)),N||(s=b({src:s,async:!0,type:"module"},o),(o=Jo.get(y))&&N0(s,o),N=c.createElement("script"),$e(N),ci(N,"link",s),c.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},p.set(y,N))}}function Z1(s,o,c,p){var y=(y=xe.current)?Yf(y):null;if(!y)throw Error(n(446));switch(s){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(o=Pd(c.href),c=Me(y).hoistableStyles,p=c.get(o),p||(p={type:"style",instance:null,count:0,state:null},c.set(o,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){s=Pd(c.href);var N=Me(y).hoistableStyles,P=N.get(s);if(P||(y=y.ownerDocument||y,P={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},N.set(s,P),(N=y.querySelector(ih(s)))&&!N._p&&(P.instance=N,P.state.loading=5),Jo.has(s)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Jo.set(s,c),N||D4(y,s,c,P.state))),o&&p===null)throw Error(n(528,""));return P}if(o&&p!==null)throw Error(n(529,""));return null;case"script":return o=c.async,c=c.src,typeof c=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Hd(c),c=Me(y).hoistableScripts,p=c.get(o),p||(p={type:"script",instance:null,count:0,state:null},c.set(o,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,s))}}function Pd(s){return'href="'+on(s)+'"'}function ih(s){return'link[rel="stylesheet"]['+s+"]"}function X1(s){return b({},s,{"data-precedence":s.precedence,precedence:null})}function D4(s,o,c,p){s.querySelector('link[rel="preload"][as="style"]['+o+"]")?p.loading=1:(o=s.createElement("link"),p.preload=o,o.addEventListener("load",function(){return p.loading|=1}),o.addEventListener("error",function(){return p.loading|=2}),ci(o,"link",c),$e(o),s.head.appendChild(o))}function Hd(s){return'[src="'+on(s)+'"]'}function oh(s){return"script[async]"+s}function J1(s,o,c){if(o.count++,o.instance===null)switch(o.type){case"style":var p=s.querySelector('style[data-href~="'+on(c.href)+'"]');if(p)return o.instance=p,$e(p),p;var y=b({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return p=(s.ownerDocument||s).createElement("style"),$e(p),ci(p,"style",y),Wf(p,c.precedence,s),o.instance=p;case"stylesheet":y=Pd(c.href);var N=s.querySelector(ih(y));if(N)return o.state.loading|=4,o.instance=N,$e(N),N;p=X1(c),(y=Jo.get(y))&&B0(p,y),N=(s.ownerDocument||s).createElement("link"),$e(N);var P=N;return P._p=new Promise(function(ce,Se){P.onload=ce,P.onerror=Se}),ci(N,"link",p),o.state.loading|=4,Wf(N,c.precedence,s),o.instance=N;case"script":return N=Hd(c.src),(y=s.querySelector(oh(N)))?(o.instance=y,$e(y),y):(p=c,(y=Jo.get(N))&&(p=b({},c),N0(p,y)),s=s.ownerDocument||s,y=s.createElement("script"),$e(y),ci(y,"link",p),s.head.appendChild(y),o.instance=y);case"void":return null;default:throw Error(n(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(p=o.instance,o.state.loading|=4,Wf(p,c.precedence,s));return o.instance}function Wf(s,o,c){for(var p=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=p.length?p[p.length-1]:null,N=y,P=0;P<p.length;P++){var ce=p[P];if(ce.dataset.precedence===o)N=ce;else if(N!==y)break}N?N.parentNode.insertBefore(s,N.nextSibling):(o=c.nodeType===9?c.head:c,o.insertBefore(s,o.firstChild))}function B0(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.title==null&&(s.title=o.title)}function N0(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.integrity==null&&(s.integrity=o.integrity)}var ep=null;function Y1(s,o,c){if(ep===null){var p=new Map,y=ep=new Map;y.set(c,p)}else y=ep,p=y.get(c),p||(p=new Map,y.set(c,p));if(p.has(s))return p;for(p.set(s,null),c=c.getElementsByTagName(s),y=0;y<c.length;y++){var N=c[y];if(!(N[Gn]||N[tn]||s==="link"&&N.getAttribute("rel")==="stylesheet")&&N.namespaceURI!=="http://www.w3.org/2000/svg"){var P=N.getAttribute(o)||"";P=s+P;var ce=p.get(P);ce?ce.push(N):p.set(P,[N])}}return p}function W1(s,o,c){s=s.ownerDocument||s,s.head.insertBefore(c,o==="title"?s.querySelector("head > title"):null)}function M4(s,o,c){if(c===1||o.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return s=o.disabled,typeof o.precedence=="string"&&s==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function ew(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function P4(s,o,c,p){if(c.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var y=Pd(p.href),N=o.querySelector(ih(y));if(N){o=N._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(s.count++,s=tp.bind(s),o.then(s,s)),c.state.loading|=4,c.instance=N,$e(N);return}N=o.ownerDocument||o,p=X1(p),(y=Jo.get(y))&&B0(p,y),N=N.createElement("link"),$e(N);var P=N;P._p=new Promise(function(ce,Se){P.onload=ce,P.onerror=Se}),ci(N,"link",p),c.instance=N}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(c,o),(o=c.state.preload)&&(c.state.loading&3)===0&&(s.count++,c=tp.bind(s),o.addEventListener("load",c),o.addEventListener("error",c))}}var C0=0;function H4(s,o){return s.stylesheets&&s.count===0&&np(s,s.stylesheets),0<s.count||0<s.imgCount?function(c){var p=setTimeout(function(){if(s.stylesheets&&np(s,s.stylesheets),s.unsuspend){var N=s.unsuspend;s.unsuspend=null,N()}},6e4+o);0<s.imgBytes&&C0===0&&(C0=62500*w4());var y=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&np(s,s.stylesheets),s.unsuspend)){var N=s.unsuspend;s.unsuspend=null,N()}},(s.imgBytes>C0?50:800)+o);return s.unsuspend=c,function(){s.unsuspend=null,clearTimeout(p),clearTimeout(y)}}:null}function tp(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)np(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var rp=null;function np(s,o){s.stylesheets=null,s.unsuspend!==null&&(s.count++,rp=new Map,o.forEach(q4,s),rp=null,tp.call(s))}function q4(s,o){if(!(o.state.loading&4)){var c=rp.get(s);if(c)var p=c.get(null);else{c=new Map,rp.set(s,c);for(var y=s.querySelectorAll("link[data-precedence],style[data-precedence]"),N=0;N<y.length;N++){var P=y[N];(P.nodeName==="LINK"||P.getAttribute("media")!=="not all")&&(c.set(P.dataset.precedence,P),p=P)}p&&c.set(null,p)}y=o.instance,P=y.getAttribute("data-precedence"),N=c.get(P)||p,N===p&&c.set(null,y),c.set(P,y),this.count++,p=tp.bind(this),y.addEventListener("load",p),y.addEventListener("error",p),N?N.parentNode.insertBefore(y,N.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(y,s.firstChild)),o.state.loading|=4}}var lh={$$typeof:D,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function z4(s,o,c,p,y,N,P,ce,Se){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=dn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dn(0),this.hiddenUpdates=dn(null),this.identifierPrefix=p,this.onUncaughtError=y,this.onCaughtError=N,this.onRecoverableError=P,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Se,this.incompleteTransitions=new Map}function tw(s,o,c,p,y,N,P,ce,Se,et,pt,Bt){return s=new z4(s,o,c,P,Se,et,pt,Bt,ce),o=1,N===!0&&(o|=24),N=ha(3,null,null,o),s.current=N,N.stateNode=s,o=XA(),o.refCount++,s.pooledCache=o,o.refCount++,N.memoizedState={element:p,isDehydrated:c,cache:o},$t(N),s}function rw(s){return s?(s=Ys,s):Ys}function nw(s,o,c,p,y,N){y=rw(y),p.context===null?p.context=y:p.pendingContext=y,p=Fr(o),p.payload={element:c},N=N===void 0?null:N,N!==null&&(p.callback=N),c=en(s,p,o),c!==null&&(lo(c,s,o),qn(c,s,o))}function sw(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<o?c:o}}function E0(s,o){sw(s,o),(s=s.alternate)&&sw(s,o)}function aw(s){if(s.tag===13||s.tag===31){var o=_i(s,67108864);o!==null&&lo(o,s,67108864),E0(s,67108864)}}function iw(s){if(s.tag===13||s.tag===31){var o=ko();o=Pr(o);var c=_i(s,o);c!==null&&lo(c,s,o),E0(s,o)}}var sp=!0;function K4(s,o,c,p){var y=V.T;V.T=null;var N=me.p;try{me.p=2,S0(s,o,c,p)}finally{me.p=N,V.T=y}}function V4(s,o,c,p){var y=V.T;V.T=null;var N=me.p;try{me.p=8,S0(s,o,c,p)}finally{me.p=N,V.T=y}}function S0(s,o,c,p){if(sp){var y=j0(p);if(y===null)f0(s,o,p,ap,c),lw(s,p);else if($4(y,s,o,c,p))p.stopPropagation();else if(lw(s,p),o&4&&-1<G4.indexOf(s)){for(;y!==null;){var N=As(y);if(N!==null)switch(N.tag){case 3:if(N=N.stateNode,N.current.memoizedState.isDehydrated){var P=ot(N.pendingLanes);if(P!==0){var ce=N;for(ce.pendingLanes|=2,ce.entangledLanes|=2;P;){var Se=1<<31-ar(P);ce.entanglements[1]|=Se,P&=~Se}eA(N),(Kn&6)===0&&(Pf=nr()+500,rh(0))}}break;case 31:case 13:ce=_i(N,2),ce!==null&&lo(ce,N,2),qf(),E0(N,2)}if(N=j0(p),N===null&&f0(s,o,p,ap,c),N===y)break;y=N}y!==null&&p.stopPropagation()}else f0(s,o,p,null,c)}}function j0(s){return s=Zs(s),L0(s)}var ap=null;function L0(s){if(ap=null,s=On(s),s!==null){var o=l(s);if(o===null)s=null;else{var c=o.tag;if(c===13){if(s=d(o),s!==null)return s;s=null}else if(c===31){if(s=u(o),s!==null)return s;s=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null)}}return ap=s,null}function ow(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Jt()){case Wt:return 2;case yr:return 8;case sr:case Dt:return 32;case er:return 268435456;default:return 32}default:return 32}}var U0=!1,Ac=null,cc=null,dc=null,Ah=new Map,ch=new Map,uc=[],G4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function lw(s,o){switch(s){case"focusin":case"focusout":Ac=null;break;case"dragenter":case"dragleave":cc=null;break;case"mouseover":case"mouseout":dc=null;break;case"pointerover":case"pointerout":Ah.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":ch.delete(o.pointerId)}}function dh(s,o,c,p,y,N){return s===null||s.nativeEvent!==N?(s={blockedOn:o,domEventName:c,eventSystemFlags:p,nativeEvent:N,targetContainers:[y]},o!==null&&(o=As(o),o!==null&&aw(o)),s):(s.eventSystemFlags|=p,o=s.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),s)}function $4(s,o,c,p,y){switch(o){case"focusin":return Ac=dh(Ac,s,o,c,p,y),!0;case"dragenter":return cc=dh(cc,s,o,c,p,y),!0;case"mouseover":return dc=dh(dc,s,o,c,p,y),!0;case"pointerover":var N=y.pointerId;return Ah.set(N,dh(Ah.get(N)||null,s,o,c,p,y)),!0;case"gotpointercapture":return N=y.pointerId,ch.set(N,dh(ch.get(N)||null,s,o,c,p,y)),!0}return!1}function Aw(s){var o=On(s.target);if(o!==null){var c=l(o);if(c!==null){if(o=c.tag,o===13){if(o=d(c),o!==null){s.blockedOn=o,Ms(s.priority,function(){iw(c)});return}}else if(o===31){if(o=u(c),o!==null){s.blockedOn=o,Ms(s.priority,function(){iw(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function ip(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var c=j0(s.nativeEvent);if(c===null){c=s.nativeEvent;var p=new c.constructor(c.type,c);js=p,c.target.dispatchEvent(p),js=null}else return o=As(c),o!==null&&aw(o),s.blockedOn=c,!1;o.shift()}return!0}function cw(s,o,c){ip(s)&&c.delete(o)}function Z4(){U0=!1,Ac!==null&&ip(Ac)&&(Ac=null),cc!==null&&ip(cc)&&(cc=null),dc!==null&&ip(dc)&&(dc=null),Ah.forEach(cw),ch.forEach(cw)}function op(s,o){s.blockedOn===o&&(s.blockedOn=null,U0||(U0=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Z4)))}var lp=null;function dw(s){lp!==s&&(lp=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){lp===s&&(lp=null);for(var o=0;o<s.length;o+=3){var c=s[o],p=s[o+1],y=s[o+2];if(typeof p!="function"){if(L0(p||c)===null)continue;break}var N=As(c);N!==null&&(s.splice(o,3),o-=3,jg(N,{pending:!0,data:y,method:c.method,action:p},p,y))}}))}function qd(s){function o(Se){return op(Se,s)}Ac!==null&&op(Ac,s),cc!==null&&op(cc,s),dc!==null&&op(dc,s),Ah.forEach(o),ch.forEach(o);for(var c=0;c<uc.length;c++){var p=uc[c];p.blockedOn===s&&(p.blockedOn=null)}for(;0<uc.length&&(c=uc[0],c.blockedOn===null);)Aw(c),c.blockedOn===null&&uc.shift();if(c=(s.ownerDocument||s).$$reactFormReplay,c!=null)for(p=0;p<c.length;p+=3){var y=c[p],N=c[p+1],P=y[Te]||null;if(typeof N=="function")P||dw(c);else if(P){var ce=null;if(N&&N.hasAttribute("formAction")){if(y=N,P=N[Te]||null)ce=P.formAction;else if(L0(y)!==null)continue}else ce=P.action;typeof ce=="function"?c[p+1]=ce:(c.splice(p,3),p-=3),dw(c)}}}function uw(){function s(N){N.canIntercept&&N.info==="react-transition"&&N.intercept({handler:function(){return new Promise(function(P){return y=P})},focusReset:"manual",scroll:"manual"})}function o(){y!==null&&(y(),y=null),p||setTimeout(c,20)}function c(){if(!p&&!navigation.transition){var N=navigation.currentEntry;N&&N.url!=null&&navigation.navigate(N.url,{state:N.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,y=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(c,100),function(){p=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),y!==null&&(y(),y=null)}}}function I0(s){this._internalRoot=s}Ap.prototype.render=I0.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(n(409));var c=o.current,p=ko();nw(c,p,s,o,null,null)},Ap.prototype.unmount=I0.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;nw(s.current,2,null,s,null,null),qf(),o[wt]=null}};function Ap(s){this._internalRoot=s}Ap.prototype.unstable_scheduleHydration=function(s){if(s){var o=Fn();s={blockedOn:null,target:s,priority:o};for(var c=0;c<uc.length&&o!==0&&o<uc[c].priority;c++);uc.splice(c,0,s),c===0&&Aw(s)}};var hw=e.version;if(hw!=="19.2.3")throw Error(n(527,hw,"19.2.3"));me.findDOMNode=function(s){var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=m(o),s=s!==null?g(s):null,s=s===null?null:s.stateNode,s};var X4={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cp.isDisabled&&cp.supportsFiber)try{cr=cp.inject(X4),Yt=cp}catch{}}return hh.createRoot=function(s,o){if(!i(s))throw Error(n(299));var c=!1,p="",y=vy,N=yy,P=wy;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(N=o.onCaughtError),o.onRecoverableError!==void 0&&(P=o.onRecoverableError)),o=tw(s,1,!1,null,null,c,p,null,y,N,P,uw),s[wt]=o.current,h0(s),new I0(o)},hh.hydrateRoot=function(s,o,c){if(!i(s))throw Error(n(299));var p=!1,y="",N=vy,P=yy,ce=wy,Se=null;return c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onUncaughtError!==void 0&&(N=c.onUncaughtError),c.onCaughtError!==void 0&&(P=c.onCaughtError),c.onRecoverableError!==void 0&&(ce=c.onRecoverableError),c.formState!==void 0&&(Se=c.formState)),o=tw(s,1,!0,o,c??null,p,y,Se,N,P,ce,uw),o.context=rw(null),c=o.current,p=ko(),p=Pr(p),y=Fr(p),y.callback=null,en(c,y,p),c=p,o.current.lanes=c,It(o,c),eA(o),s[wt]=o.current,h0(s),new Ap(o)},hh.version="19.2.3",hh}var _w;function oS(){if(_w)return F0.exports;_w=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),F0.exports=iS(),F0.exports}var lS=oS();const AS=zm(lS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),dS=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),Bw=t=>{const e=dS(t);return e.charAt(0).toUpperCase()+e.slice(1)},BB=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim(),uS=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var hS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=F.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:l,iconNode:d,...u},h)=>F.createElement("svg",{ref:h,...hS,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:BB("lucide",i),...!l&&!uS(u)&&{"aria-hidden":"true"},...u},[...d.map(([m,g])=>F.createElement(m,g)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=(t,e)=>{const r=F.forwardRef(({className:n,...i},l)=>F.createElement(fS,{ref:l,iconNode:e,className:BB(`lucide-${cS(Bw(t))}`,`lucide-${t}`,n),...i}));return r.displayName=Bw(t),r};/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pS=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Km=Et("activity",pS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mS=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],NB=Et("arrow-down-right",mS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]],D0=Et("arrow-left-right",gS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],bS=Et("arrow-right",xS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],rm=Et("arrow-up-right",vS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yS=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Nw=Et("badge-check",yS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Xh=Et("ban",wS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _S=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],CB=Et("banknote",_S);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BS=[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]],ib=Et("barcode",BS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NS=[["circle",{cx:"18.5",cy:"17.5",r:"3.5",key:"15x4ox"}],["circle",{cx:"5.5",cy:"17.5",r:"3.5",key:"1noe27"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["path",{d:"M12 17.5V14l-3-3 4-3 2 3h2",key:"1npguv"}]],wm=Et("bike",NS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CS=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],ES=Et("bot",CS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SS=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],nm=Et("box",SS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jS=[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],Cw=Et("calendar-clock",jS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LS=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Vm=Et("calendar",LS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const US=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],IS=Et("chart-column",US);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kS=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],Ew=Et("chart-pie",kS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TS=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],FS=Et("check-check",TS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OS=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],vc=Et("check",OS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QS=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],uv=Et("chevron-right",QS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ob=Et("circle-alert",RS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],oA=Et("circle-check",DS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]],PS=Et("circle-dollar-sign",MS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Sw=Et("circle-question-mark",HS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],M0=Et("circle-x",qS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zS=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],hv=Et("clipboard-check",zS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KS=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],_m=Et("clipboard-list",KS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VS=[["path",{d:"M12 6v6h4",key:"135r8i"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],GS=Et("clock-3",VS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $S=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Su=Et("clock",$S);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZS=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],XS=Et("coffee",ZS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JS=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],YS=Et("copy",JS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WS=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],EB=Et("credit-card",WS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e3=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],t3=Et("crown",e3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r3=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5v14a9 3 0 0 0 18 0V5",key:"aqi0yr"}]],SB=Et("cylinder",r3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n3=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],s3=Et("database",n3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a3=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],jB=Et("dollar-sign",a3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i3=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],o3=Et("external-link",i3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l3=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],A3=Et("eye-off",l3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c3=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],d3=Et("eye",c3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u3=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"M3 19a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8.5a.5.5 0 0 0-.769-.422l-4.462 2.844A.5.5 0 0 1 15 10.5v-2a.5.5 0 0 0-.769-.422L9.77 10.922A.5.5 0 0 1 9 10.5V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2z",key:"1iv0i2"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],LB=Et("factory",u3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h3=[["path",{d:"M16 22h2a2 2 0 0 0 2-2V8a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 14 2H6a2 2 0 0 0-2 2v2.85",key:"ryk6xj"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 14v2.2l1.6 1",key:"6m4bie"}],["circle",{cx:"8",cy:"16",r:"6",key:"10v15b"}]],UB=Et("file-clock",h3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f3=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Jh=Et("file-text",f3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p3=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],m3=Et("flame",p3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g3=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],x3=Et("funnel",g3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b3=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],v3=Et("hash",b3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y3=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],w3=Et("heart",y3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _3=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],B3=Et("history",_3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N3=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],C3=Et("image",N3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],jw=Et("info",E3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S3=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],j3=Et("key",S3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L3=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Lw=Et("layers",L3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],I3=Et("layout-dashboard",U3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k3=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],Uw=Et("layout-grid",k3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T3=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],rl=Et("loader-circle",T3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],IB=Et("lock",F3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O3=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],kB=Et("log-out",O3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q3=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],HA=Et("map-pin",Q3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R3=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],fv=Et("map",R3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D3=[["path",{d:"M5 12h14",key:"1ays0h"}]],M3=Et("minus",D3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P3=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],H3=Et("monitor",P3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q3=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]],z3=Et("move",q3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K3=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],Iw=Et("navigation",K3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V3=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]],sm=Et("octagon-alert",V3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G3=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],fo=Et("package",G3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $3=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],Gm=Et("palette",$3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z3=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],hf=Et("pen",Z3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X3=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],pv=Et("pencil",X3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J3=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],mv=Et("phone",J3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y3=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],kw=Et("play",Y3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W3=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],po=Et("plus",W3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ej=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],tj=Et("power",ej);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rj=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],nj=Et("printer",rj);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sj=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],aj=Et("receipt",sj);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ij=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Yh=Et("refresh-cw",ij);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oj=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],lj=Et("repeat",oj);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aj=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],cj=Et("rotate-ccw",Aj);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dj=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],il=Et("save",dj);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uj=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],lA=Et("search",uj);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hj=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Uu=Et("settings",hj);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fj=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],pj=Et("shield-alert",fj);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mj=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],gj=Et("shield-check",mj);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xj=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],bj=Et("shield",xj);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vj=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],TB=Et("shopping-bag",vj);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yj=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Tw=Et("shopping-cart",yj);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wj=[["path",{d:"M7 18v-6a5 5 0 1 1 10 0v6",key:"pcx96s"}],["path",{d:"M5 21a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-1a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2z",key:"1b4s83"}],["path",{d:"M21 12h1",key:"jtio3y"}],["path",{d:"M18.5 4.5 18 5",key:"g5sp9y"}],["path",{d:"M2 12h1",key:"1uaihz"}],["path",{d:"M12 2v1",key:"11qlp1"}],["path",{d:"m4.929 4.929.707.707",key:"1i51kw"}],["path",{d:"M12 12v6",key:"3ahymv"}]],gv=Et("siren",wj);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _j=[["path",{d:"M10 5H3",key:"1qgfaw"}],["path",{d:"M12 19H3",key:"yhmn1j"}],["path",{d:"M14 3v4",key:"1sua03"}],["path",{d:"M16 17v4",key:"1q0r14"}],["path",{d:"M21 12h-9",key:"1o4lsq"}],["path",{d:"M21 19h-5",key:"1rlt1p"}],["path",{d:"M21 5h-7",key:"1oszz2"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M8 12H3",key:"a7s4jb"}]],Bj=Et("sliders-horizontal",_j);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nj=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],P0=Et("smartphone",Nj);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cj=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],FB=Et("square-check-big",Cj);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ej=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Sj=Et("square",Ej);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jj=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],Lj=Et("store",jj);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uj=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],lb=Et("tag",Uj);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ij=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],kj=Et("target",Ij);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tj=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],oa=Et("trash-2",Tj);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fj=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],Ab=Et("trending-down",Fj);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oj=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Ch=Et("trending-up",Oj);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qj=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],rd=Et("triangle-alert",Qj);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rj=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Po=Et("truck",Rj);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dj=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Mj=Et("user-check",Dj);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pj=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Fw=Et("user-plus",Pj);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hj=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Bm=Et("user",Hj);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qj=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],MA=Et("users",qj);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zj=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],cb=Et("wallet",zj);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kj=[["path",{d:"M18 21V10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v11",key:"pb2vm6"}],["path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 1.132-1.803l7.95-3.974a2 2 0 0 1 1.837 0l7.948 3.974A2 2 0 0 1 22 8z",key:"doq5xv"}],["path",{d:"M6 13h12",key:"yf64js"}],["path",{d:"M6 17h12",key:"1jwigz"}]],$c=Et("warehouse",Kj);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vj=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],OB=Et("wifi-off",Vj);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gj=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],QB=Et("wifi",Gj);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $j=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Vn=Et("x",$j);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zj=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Xj=Et("zap",Zj),nd=[{id:"nova-os",label:"O.S",icon:_m,color:"text-purple-600",bgColor:"bg-purple-100"},{id:"clientes",label:"Clientes",icon:MA,color:"text-indigo-600",bgColor:"bg-indigo-100"},{id:"fechar-caixa",label:"Fechar Caixa",icon:CB,color:"text-green-600",bgColor:"bg-green-100"},{id:"financeiro",label:"Financeiro",icon:PS,color:"text-yellow-600",bgColor:"bg-yellow-100"},{id:"temas",label:"Temas",icon:Gm,color:"text-pink-600",bgColor:"bg-pink-100"},{id:"painel",label:"Painel",icon:I3,color:"text-gray-600",bgColor:"bg-gray-100"},{id:"depositos-estoque",label:"Depsitos & Estoque",icon:$c,color:"text-purple-600",bgColor:"bg-purple-100"},{id:"colaboradores",label:"Colaboradores",icon:MA,color:"text-indigo-600",bgColor:"bg-indigo-100"},{id:"rel-entregas",label:"Rel. Entregas",icon:Po,color:"text-orange-500",bgColor:"bg-orange-100"},{id:"auditoria",label:"Auditoria",icon:_m,color:"text-orange-400",bgColor:"bg-orange-50"},{id:"resumo",label:"Resumo",icon:IS,color:"text-blue-500",bgColor:"bg-blue-100"},{id:"alertas",label:"Alertas",icon:gv,color:"text-red-500",bgColor:"bg-red-100"}],Jj=({item:t,onClick:e,highlight:r})=>{const n=t.icon,i=r?"ring-4 ring-red-500/90 shadow-[0_0_30px_rgba(239,68,68,0.45)] border-red-400 animate-pulse":"";return a.jsxs("button",{onClick:()=>e(t.id),className:`group flex flex-col items-center justify-center p-6 bg-surface rounded-2xl shadow-sm border border-bdr hover:shadow-xl hover:border-slate-400 transition-all duration-300 ease-out transform hover:-translate-y-2 h-36 w-full relative overflow-hidden ${i}`,children:[a.jsx("div",{className:`absolute inset-0 opacity-0 group-hover:opacity-10 transition-opacity duration-500 bg-gradient-to-br ${t.bgColor.replace("bg-","from-")} to-transparent`}),a.jsx("div",{className:`p-3 rounded-full mb-3 ${t.bgColor} group-hover:scale-110 group-hover:rotate-3 transition-transform duration-300 z-10`,children:a.jsx(n,{className:`w-8 h-8 ${t.color}`,strokeWidth:2})}),a.jsx("span",{className:"text-txt-muted font-bold text-sm tracking-wide group-hover:text-txt-main z-10 transition-colors",children:t.label})]})};var Eh={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var Yj=Eh.exports,Ow;function Wj(){return Ow||(Ow=1,(function(t,e){(function(r,n){n(e)})(Yj,(function(r){var n="1.9.4";function i(A){var f,v,E,R;for(v=1,E=arguments.length;v<E;v++){R=arguments[v];for(f in R)A[f]=R[f]}return A}var l=Object.create||(function(){function A(){}return function(f){return A.prototype=f,new A}})();function d(A,f){var v=Array.prototype.slice;if(A.bind)return A.bind.apply(A,v.call(arguments,1));var E=v.call(arguments,2);return function(){return A.apply(f,E.length?E.concat(v.call(arguments)):arguments)}}var u=0;function h(A){return"_leaflet_id"in A||(A._leaflet_id=++u),A._leaflet_id}function m(A,f,v){var E,R,ae,Ee;return Ee=function(){E=!1,R&&(ae.apply(v,R),R=!1)},ae=function(){E?R=arguments:(A.apply(v,arguments),setTimeout(Ee,f),E=!0)},ae}function g(A,f,v){var E=f[1],R=f[0],ae=E-R;return A===E&&v?A:((A-R)%ae+ae)%ae+R}function b(){return!1}function B(A,f){if(f===!1)return A;var v=Math.pow(10,f===void 0?6:f);return Math.round(A*v)/v}function w(A){return A.trim?A.trim():A.replace(/^\s+|\s+$/g,"")}function S(A){return w(A).split(/\s+/)}function U(A,f){Object.prototype.hasOwnProperty.call(A,"options")||(A.options=A.options?l(A.options):{});for(var v in f)A.options[v]=f[v];return A.options}function k(A,f,v){var E=[];for(var R in A)E.push(encodeURIComponent(v?R.toUpperCase():R)+"="+encodeURIComponent(A[R]));return(!f||f.indexOf("?")===-1?"?":"&")+E.join("&")}var C=/\{ *([\w_ -]+) *\}/g;function O(A,f){return A.replace(C,function(v,E){var R=f[E];if(R===void 0)throw new Error("No value provided for variable "+v);return typeof R=="function"&&(R=R(f)),R})}var D=Array.isArray||function(A){return Object.prototype.toString.call(A)==="[object Array]"};function H(A,f){for(var v=0;v<A.length;v++)if(A[v]===f)return v;return-1}var re="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function q(A){return window["webkit"+A]||window["moz"+A]||window["ms"+A]}var ne=0;function te(A){var f=+new Date,v=Math.max(0,16-(f-ne));return ne=f+v,window.setTimeout(A,v)}var G=window.requestAnimationFrame||q("RequestAnimationFrame")||te,de=window.cancelAnimationFrame||q("CancelAnimationFrame")||q("CancelRequestAnimationFrame")||function(A){window.clearTimeout(A)};function K(A,f,v){if(v&&G===te)A.call(f);else return G.call(window,d(A,f))}function W(A){A&&de.call(window,A)}var ie={__proto__:null,extend:i,create:l,bind:d,get lastId(){return u},stamp:h,throttle:m,wrapNum:g,falseFn:b,formatNum:B,trim:w,splitWords:S,setOptions:U,getParamString:k,template:O,isArray:D,indexOf:H,emptyImageUrl:re,requestFn:G,cancelFn:de,requestAnimFrame:K,cancelAnimFrame:W};function z(){}z.extend=function(A){var f=function(){U(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},v=f.__super__=this.prototype,E=l(v);E.constructor=f,f.prototype=E;for(var R in this)Object.prototype.hasOwnProperty.call(this,R)&&R!=="prototype"&&R!=="__super__"&&(f[R]=this[R]);return A.statics&&i(f,A.statics),A.includes&&(he(A.includes),i.apply(null,[E].concat(A.includes))),i(E,A),delete E.statics,delete E.includes,E.options&&(E.options=v.options?l(v.options):{},i(E.options,A.options)),E._initHooks=[],E.callInitHooks=function(){if(!this._initHooksCalled){v.callInitHooks&&v.callInitHooks.call(this),this._initHooksCalled=!0;for(var ae=0,Ee=E._initHooks.length;ae<Ee;ae++)E._initHooks[ae].call(this)}},f},z.include=function(A){var f=this.prototype.options;return i(this.prototype,A),A.options&&(this.prototype.options=f,this.mergeOptions(A.options)),this},z.mergeOptions=function(A){return i(this.prototype.options,A),this},z.addInitHook=function(A){var f=Array.prototype.slice.call(arguments,1),v=typeof A=="function"?A:function(){this[A].apply(this,f)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(v),this};function he(A){if(!(typeof L>"u"||!L||!L.Mixin)){A=D(A)?A:[A];for(var f=0;f<A.length;f++)A[f]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var V={on:function(A,f,v){if(typeof A=="object")for(var E in A)this._on(E,A[E],f);else{A=S(A);for(var R=0,ae=A.length;R<ae;R++)this._on(A[R],f,v)}return this},off:function(A,f,v){if(!arguments.length)delete this._events;else if(typeof A=="object")for(var E in A)this._off(E,A[E],f);else{A=S(A);for(var R=arguments.length===1,ae=0,Ee=A.length;ae<Ee;ae++)R?this._off(A[ae]):this._off(A[ae],f,v)}return this},_on:function(A,f,v,E){if(typeof f!="function"){console.warn("wrong listener type: "+typeof f);return}if(this._listens(A,f,v)===!1){v===this&&(v=void 0);var R={fn:f,ctx:v};E&&(R.once=!0),this._events=this._events||{},this._events[A]=this._events[A]||[],this._events[A].push(R)}},_off:function(A,f,v){var E,R,ae;if(this._events&&(E=this._events[A],!!E)){if(arguments.length===1){if(this._firingCount)for(R=0,ae=E.length;R<ae;R++)E[R].fn=b;delete this._events[A];return}if(typeof f!="function"){console.warn("wrong listener type: "+typeof f);return}var Ee=this._listens(A,f,v);if(Ee!==!1){var qe=E[Ee];this._firingCount&&(qe.fn=b,this._events[A]=E=E.slice()),E.splice(Ee,1)}}},fire:function(A,f,v){if(!this.listens(A,v))return this;var E=i({},f,{type:A,target:this,sourceTarget:f&&f.sourceTarget||this});if(this._events){var R=this._events[A];if(R){this._firingCount=this._firingCount+1||1;for(var ae=0,Ee=R.length;ae<Ee;ae++){var qe=R[ae],tt=qe.fn;qe.once&&this.off(A,tt,qe.ctx),tt.call(qe.ctx||this,E)}this._firingCount--}}return v&&this._propagateEvent(E),this},listens:function(A,f,v,E){typeof A!="string"&&console.warn('"string" type argument expected');var R=f;typeof f!="function"&&(E=!!f,R=void 0,v=void 0);var ae=this._events&&this._events[A];if(ae&&ae.length&&this._listens(A,R,v)!==!1)return!0;if(E){for(var Ee in this._eventParents)if(this._eventParents[Ee].listens(A,f,v,E))return!0}return!1},_listens:function(A,f,v){if(!this._events)return!1;var E=this._events[A]||[];if(!f)return!!E.length;v===this&&(v=void 0);for(var R=0,ae=E.length;R<ae;R++)if(E[R].fn===f&&E[R].ctx===v)return R;return!1},once:function(A,f,v){if(typeof A=="object")for(var E in A)this._on(E,A[E],f,!0);else{A=S(A);for(var R=0,ae=A.length;R<ae;R++)this._on(A[R],f,v,!0)}return this},addEventParent:function(A){return this._eventParents=this._eventParents||{},this._eventParents[h(A)]=A,this},removeEventParent:function(A){return this._eventParents&&delete this._eventParents[h(A)],this},_propagateEvent:function(A){for(var f in this._eventParents)this._eventParents[f].fire(A.type,i({layer:A.target,propagatedFrom:A.target},A),!0)}};V.addEventListener=V.on,V.removeEventListener=V.clearAllEventListeners=V.off,V.addOneTimeEventListener=V.once,V.fireEvent=V.fire,V.hasEventListeners=V.listens;var me=z.extend(V);function ee(A,f,v){this.x=v?Math.round(A):A,this.y=v?Math.round(f):f}var Ce=Math.trunc||function(A){return A>0?Math.floor(A):Math.ceil(A)};ee.prototype={clone:function(){return new ee(this.x,this.y)},add:function(A){return this.clone()._add(Ne(A))},_add:function(A){return this.x+=A.x,this.y+=A.y,this},subtract:function(A){return this.clone()._subtract(Ne(A))},_subtract:function(A){return this.x-=A.x,this.y-=A.y,this},divideBy:function(A){return this.clone()._divideBy(A)},_divideBy:function(A){return this.x/=A,this.y/=A,this},multiplyBy:function(A){return this.clone()._multiplyBy(A)},_multiplyBy:function(A){return this.x*=A,this.y*=A,this},scaleBy:function(A){return new ee(this.x*A.x,this.y*A.y)},unscaleBy:function(A){return new ee(this.x/A.x,this.y/A.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Ce(this.x),this.y=Ce(this.y),this},distanceTo:function(A){A=Ne(A);var f=A.x-this.x,v=A.y-this.y;return Math.sqrt(f*f+v*v)},equals:function(A){return A=Ne(A),A.x===this.x&&A.y===this.y},contains:function(A){return A=Ne(A),Math.abs(A.x)<=Math.abs(this.x)&&Math.abs(A.y)<=Math.abs(this.y)},toString:function(){return"Point("+B(this.x)+", "+B(this.y)+")"}};function Ne(A,f,v){return A instanceof ee?A:D(A)?new ee(A[0],A[1]):A==null?A:typeof A=="object"&&"x"in A&&"y"in A?new ee(A.x,A.y):new ee(A,f,v)}function M(A,f){if(A)for(var v=f?[A,f]:A,E=0,R=v.length;E<R;E++)this.extend(v[E])}M.prototype={extend:function(A){var f,v;if(!A)return this;if(A instanceof ee||typeof A[0]=="number"||"x"in A)f=v=Ne(A);else if(A=T(A),f=A.min,v=A.max,!f||!v)return this;return!this.min&&!this.max?(this.min=f.clone(),this.max=v.clone()):(this.min.x=Math.min(f.x,this.min.x),this.max.x=Math.max(v.x,this.max.x),this.min.y=Math.min(f.y,this.min.y),this.max.y=Math.max(v.y,this.max.y)),this},getCenter:function(A){return Ne((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,A)},getBottomLeft:function(){return Ne(this.min.x,this.max.y)},getTopRight:function(){return Ne(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(A){var f,v;return typeof A[0]=="number"||A instanceof ee?A=Ne(A):A=T(A),A instanceof M?(f=A.min,v=A.max):f=v=A,f.x>=this.min.x&&v.x<=this.max.x&&f.y>=this.min.y&&v.y<=this.max.y},intersects:function(A){A=T(A);var f=this.min,v=this.max,E=A.min,R=A.max,ae=R.x>=f.x&&E.x<=v.x,Ee=R.y>=f.y&&E.y<=v.y;return ae&&Ee},overlaps:function(A){A=T(A);var f=this.min,v=this.max,E=A.min,R=A.max,ae=R.x>f.x&&E.x<v.x,Ee=R.y>f.y&&E.y<v.y;return ae&&Ee},isValid:function(){return!!(this.min&&this.max)},pad:function(A){var f=this.min,v=this.max,E=Math.abs(f.x-v.x)*A,R=Math.abs(f.y-v.y)*A;return T(Ne(f.x-E,f.y-R),Ne(v.x+E,v.y+R))},equals:function(A){return A?(A=T(A),this.min.equals(A.getTopLeft())&&this.max.equals(A.getBottomRight())):!1}};function T(A,f){return!A||A instanceof M?A:new M(A,f)}function $(A,f){if(A)for(var v=f?[A,f]:A,E=0,R=v.length;E<R;E++)this.extend(v[E])}$.prototype={extend:function(A){var f=this._southWest,v=this._northEast,E,R;if(A instanceof Ae)E=A,R=A;else if(A instanceof $){if(E=A._southWest,R=A._northEast,!E||!R)return this}else return A?this.extend(xe(A)||X(A)):this;return!f&&!v?(this._southWest=new Ae(E.lat,E.lng),this._northEast=new Ae(R.lat,R.lng)):(f.lat=Math.min(E.lat,f.lat),f.lng=Math.min(E.lng,f.lng),v.lat=Math.max(R.lat,v.lat),v.lng=Math.max(R.lng,v.lng)),this},pad:function(A){var f=this._southWest,v=this._northEast,E=Math.abs(f.lat-v.lat)*A,R=Math.abs(f.lng-v.lng)*A;return new $(new Ae(f.lat-E,f.lng-R),new Ae(v.lat+E,v.lng+R))},getCenter:function(){return new Ae((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Ae(this.getNorth(),this.getWest())},getSouthEast:function(){return new Ae(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(A){typeof A[0]=="number"||A instanceof Ae||"lat"in A?A=xe(A):A=X(A);var f=this._southWest,v=this._northEast,E,R;return A instanceof $?(E=A.getSouthWest(),R=A.getNorthEast()):E=R=A,E.lat>=f.lat&&R.lat<=v.lat&&E.lng>=f.lng&&R.lng<=v.lng},intersects:function(A){A=X(A);var f=this._southWest,v=this._northEast,E=A.getSouthWest(),R=A.getNorthEast(),ae=R.lat>=f.lat&&E.lat<=v.lat,Ee=R.lng>=f.lng&&E.lng<=v.lng;return ae&&Ee},overlaps:function(A){A=X(A);var f=this._southWest,v=this._northEast,E=A.getSouthWest(),R=A.getNorthEast(),ae=R.lat>f.lat&&E.lat<v.lat,Ee=R.lng>f.lng&&E.lng<v.lng;return ae&&Ee},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(A,f){return A?(A=X(A),this._southWest.equals(A.getSouthWest(),f)&&this._northEast.equals(A.getNorthEast(),f)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function X(A,f){return A instanceof $?A:new $(A,f)}function Ae(A,f,v){if(isNaN(A)||isNaN(f))throw new Error("Invalid LatLng object: ("+A+", "+f+")");this.lat=+A,this.lng=+f,v!==void 0&&(this.alt=+v)}Ae.prototype={equals:function(A,f){if(!A)return!1;A=xe(A);var v=Math.max(Math.abs(this.lat-A.lat),Math.abs(this.lng-A.lng));return v<=(f===void 0?1e-9:f)},toString:function(A){return"LatLng("+B(this.lat,A)+", "+B(this.lng,A)+")"},distanceTo:function(A){return ke.distance(this,xe(A))},wrap:function(){return ke.wrapLatLng(this)},toBounds:function(A){var f=180*A/40075017,v=f/Math.cos(Math.PI/180*this.lat);return X([this.lat-f,this.lng-v],[this.lat+f,this.lng+v])},clone:function(){return new Ae(this.lat,this.lng,this.alt)}};function xe(A,f,v){return A instanceof Ae?A:D(A)&&typeof A[0]!="object"?A.length===3?new Ae(A[0],A[1],A[2]):A.length===2?new Ae(A[0],A[1]):null:A==null?A:typeof A=="object"&&"lat"in A?new Ae(A.lat,"lng"in A?A.lng:A.lon,A.alt):f===void 0?null:new Ae(A,f,v)}var Be={latLngToPoint:function(A,f){var v=this.projection.project(A),E=this.scale(f);return this.transformation._transform(v,E)},pointToLatLng:function(A,f){var v=this.scale(f),E=this.transformation.untransform(A,v);return this.projection.unproject(E)},project:function(A){return this.projection.project(A)},unproject:function(A){return this.projection.unproject(A)},scale:function(A){return 256*Math.pow(2,A)},zoom:function(A){return Math.log(A/256)/Math.LN2},getProjectedBounds:function(A){if(this.infinite)return null;var f=this.projection.bounds,v=this.scale(A),E=this.transformation.transform(f.min,v),R=this.transformation.transform(f.max,v);return new M(E,R)},infinite:!1,wrapLatLng:function(A){var f=this.wrapLng?g(A.lng,this.wrapLng,!0):A.lng,v=this.wrapLat?g(A.lat,this.wrapLat,!0):A.lat,E=A.alt;return new Ae(v,f,E)},wrapLatLngBounds:function(A){var f=A.getCenter(),v=this.wrapLatLng(f),E=f.lat-v.lat,R=f.lng-v.lng;if(E===0&&R===0)return A;var ae=A.getSouthWest(),Ee=A.getNorthEast(),qe=new Ae(ae.lat-E,ae.lng-R),tt=new Ae(Ee.lat-E,Ee.lng-R);return new $(qe,tt)}},ke=i({},Be,{wrapLng:[-180,180],R:6371e3,distance:function(A,f){var v=Math.PI/180,E=A.lat*v,R=f.lat*v,ae=Math.sin((f.lat-A.lat)*v/2),Ee=Math.sin((f.lng-A.lng)*v/2),qe=ae*ae+Math.cos(E)*Math.cos(R)*Ee*Ee,tt=2*Math.atan2(Math.sqrt(qe),Math.sqrt(1-qe));return this.R*tt}}),ge=6378137,je={R:ge,MAX_LATITUDE:85.0511287798,project:function(A){var f=Math.PI/180,v=this.MAX_LATITUDE,E=Math.max(Math.min(v,A.lat),-v),R=Math.sin(E*f);return new ee(this.R*A.lng*f,this.R*Math.log((1+R)/(1-R))/2)},unproject:function(A){var f=180/Math.PI;return new Ae((2*Math.atan(Math.exp(A.y/this.R))-Math.PI/2)*f,A.x*f/this.R)},bounds:(function(){var A=ge*Math.PI;return new M([-A,-A],[A,A])})()};function Qe(A,f,v,E){if(D(A)){this._a=A[0],this._b=A[1],this._c=A[2],this._d=A[3];return}this._a=A,this._b=f,this._c=v,this._d=E}Qe.prototype={transform:function(A,f){return this._transform(A.clone(),f)},_transform:function(A,f){return f=f||1,A.x=f*(this._a*A.x+this._b),A.y=f*(this._c*A.y+this._d),A},untransform:function(A,f){return f=f||1,new ee((A.x/f-this._b)/this._a,(A.y/f-this._d)/this._c)}};function Re(A,f,v,E){return new Qe(A,f,v,E)}var lt=i({},ke,{code:"EPSG:3857",projection:je,transformation:(function(){var A=.5/(Math.PI*je.R);return Re(A,.5,-A,.5)})()}),Lt=i({},lt,{code:"EPSG:900913"});function fe(A){return document.createElementNS("http://www.w3.org/2000/svg",A)}function ft(A,f){var v="",E,R,ae,Ee,qe,tt;for(E=0,ae=A.length;E<ae;E++){for(qe=A[E],R=0,Ee=qe.length;R<Ee;R++)tt=qe[R],v+=(R?"L":"M")+tt.x+" "+tt.y;v+=f?Ft.svg?"z":"x":""}return v||"M0 0"}var St=document.documentElement.style,st="ActiveXObject"in window,ue=st&&!document.addEventListener,Ze="msLaunchUri"in navigator&&!("documentMode"in document),Ve=Pr("webkit"),gt=Pr("android"),bt=Pr("android 2")||Pr("android 3"),nr=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Jt=gt&&Pr("Google")&&nr<537&&!("AudioNode"in window),Wt=!!window.opera,yr=!Ze&&Pr("chrome"),sr=Pr("gecko")&&!Ve&&!Wt&&!st,Dt=!yr&&Pr("safari"),er=Pr("phantom"),Zt="OTransition"in St,Hr=navigator.platform.indexOf("Win")===0,cr=st&&"transition"in St,Yt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!bt,Xt="MozPerspective"in St,ar=!window.L_DISABLE_3D&&(cr||Yt||Xt)&&!Zt&&!er,Vt=typeof orientation<"u"||Pr("mobile"),Nr=Vt&&Ve,Pt=Vt&&Yt,tr=!window.PointerEvent&&window.MSPointerEvent,Ue=!!(window.PointerEvent||tr),Ke="ontouchstart"in window||!!window.TouchEvent,ot=!window.L_NO_TOUCH&&(Ke||Ue),ut=Vt&&Wt,rr=Vt&&sr,or=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,qr=(function(){var A=!1;try{var f=Object.defineProperty({},"passive",{get:function(){A=!0}});window.addEventListener("testPassiveEventSupport",b,f),window.removeEventListener("testPassiveEventSupport",b,f)}catch{}return A})(),dn=(function(){return!!document.createElement("canvas").getContext})(),It=!!(document.createElementNS&&fe("svg").createSVGRect),An=!!It&&(function(){var A=document.createElement("div");return A.innerHTML="<svg/>",(A.firstChild&&A.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),wn=!It&&(function(){try{var A=document.createElement("div");A.innerHTML='<v:shape adj="1"/>';var f=A.firstChild;return f.style.behavior="url(#default#VML)",f&&typeof f.adj=="object"}catch{return!1}})(),pn=navigator.platform.indexOf("Mac")===0,sn=navigator.platform.indexOf("Linux")===0;function Pr(A){return navigator.userAgent.toLowerCase().indexOf(A)>=0}var Ft={ie:st,ielt9:ue,edge:Ze,webkit:Ve,android:gt,android23:bt,androidStock:Jt,opera:Wt,chrome:yr,gecko:sr,safari:Dt,phantom:er,opera12:Zt,win:Hr,ie3d:cr,webkit3d:Yt,gecko3d:Xt,any3d:ar,mobile:Vt,mobileWebkit:Nr,mobileWebkit3d:Pt,msPointer:tr,pointer:Ue,touch:ot,touchNative:Ke,mobileOpera:ut,mobileGecko:rr,retina:or,passiveEvents:qr,canvas:dn,svg:It,vml:wn,inlineSvg:An,mac:pn,linux:sn},Fn=Ft.msPointer?"MSPointerDown":"pointerdown",Ms=Ft.msPointer?"MSPointerMove":"pointermove",_n=Ft.msPointer?"MSPointerUp":"pointerup",tn=Ft.msPointer?"MSPointerCancel":"pointercancel",Te={touchstart:Fn,touchmove:Ms,touchend:_n,touchcancel:tn},wt={touchstart:Me,touchmove:le,touchend:le,touchcancel:le},qt={},mr=!1;function Qr(A,f,v){return f==="touchstart"&&As(),wt[f]?(v=wt[f].bind(this,v),A.addEventListener(Te[f],v,!1),v):(console.warn("wrong event specified:",f),b)}function Cn(A,f,v){if(!Te[f]){console.warn("wrong event specified:",f);return}A.removeEventListener(Te[f],v,!1)}function Gn(A){qt[A.pointerId]=A}function Ps(A){qt[A.pointerId]&&(qt[A.pointerId]=A)}function On(A){delete qt[A.pointerId]}function As(){mr||(document.addEventListener(Fn,Gn,!0),document.addEventListener(Ms,Ps,!0),document.addEventListener(_n,On,!0),document.addEventListener(tn,On,!0),mr=!0)}function le(A,f){if(f.pointerType!==(f.MSPOINTER_TYPE_MOUSE||"mouse")){f.touches=[];for(var v in qt)f.touches.push(qt[v]);f.changedTouches=[f],A(f)}}function Me(A,f){f.MSPOINTER_TYPE_TOUCH&&f.pointerType===f.MSPOINTER_TYPE_TOUCH&&Zn(f),le(A,f)}function $e(A){var f={},v,E;for(E in A)v=A[E],f[E]=v&&v.bind?v.bind(A):v;return A=f,f.type="dblclick",f.detail=2,f.isTrusted=!1,f._simulated=!0,f}var At=200;function jt(A,f){A.addEventListener("dblclick",f);var v=0,E;function R(ae){if(ae.detail!==1){E=ae.detail;return}if(!(ae.pointerType==="mouse"||ae.sourceCapabilities&&!ae.sourceCapabilities.firesTouchEvents)){var Ee=Wa(ae);if(!(Ee.some(function(tt){return tt instanceof HTMLLabelElement&&tt.attributes.for})&&!Ee.some(function(tt){return tt instanceof HTMLInputElement||tt instanceof HTMLSelectElement}))){var qe=Date.now();qe-v<=At?(E++,E===2&&f($e(ae))):E=1,v=qe}}}return A.addEventListener("click",R),{dblclick:f,simDblclick:R}}function Mt(A,f){A.removeEventListener("dblclick",f.dblclick),A.removeEventListener("click",f.simDblclick)}var Z=Ja(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Je=Ja(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),mt=Je==="webkitTransition"||Je==="OTransition"?Je+"End":"transitionend";function nt(A){return typeof A=="string"?document.getElementById(A):A}function Ot(A,f){var v=A.style[f]||A.currentStyle&&A.currentStyle[f];if((!v||v==="auto")&&document.defaultView){var E=document.defaultView.getComputedStyle(A,null);v=E?E[f]:null}return v==="auto"?null:v}function _t(A,f,v){var E=document.createElement(A);return E.className=f||"",v&&v.appendChild(E),E}function Gt(A){var f=A.parentNode;f&&f.removeChild(A)}function gr(A){for(;A.firstChild;)A.removeChild(A.firstChild)}function zt(A){var f=A.parentNode;f&&f.lastChild!==A&&f.appendChild(A)}function In(A){var f=A.parentNode;f&&f.firstChild!==A&&f.insertBefore(A,f.firstChild)}function fs(A,f){if(A.classList!==void 0)return A.classList.contains(f);var v=Qn(A);return v.length>0&&new RegExp("(^|\\s)"+f+"(\\s|$)").test(v)}function Br(A,f){if(A.classList!==void 0)for(var v=S(f),E=0,R=v.length;E<R;E++)A.classList.add(v[E]);else if(!fs(A,f)){var ae=Qn(A);$n(A,(ae?ae+" ":"")+f)}}function rn(A,f){A.classList!==void 0?A.classList.remove(f):$n(A,w((" "+Qn(A)+" ").replace(" "+f+" "," ")))}function $n(A,f){A.className.baseVal===void 0?A.className=f:A.className.baseVal=f}function Qn(A){return A.correspondingElement&&(A=A.correspondingElement),A.className.baseVal===void 0?A.className:A.className.baseVal}function on(A,f){"opacity"in A.style?A.style.opacity=f:"filter"in A.style&&pi(A,f)}function pi(A,f){var v=!1,E="DXImageTransform.Microsoft.Alpha";try{v=A.filters.item(E)}catch{if(f===1)return}f=Math.round(f*100),v?(v.Enabled=f!==100,v.Opacity=f):A.style.filter+=" progid:"+E+"(opacity="+f+")"}function Ja(A){for(var f=document.documentElement.style,v=0;v<A.length;v++)if(A[v]in f)return A[v];return!1}function ve(A,f,v){var E=f||new ee(0,0);A.style[Z]=(Ft.ie3d?"translate("+E.x+"px,"+E.y+"px)":"translate3d("+E.x+"px,"+E.y+"px,0)")+(v?" scale("+v+")":"")}function He(A,f){A._leaflet_pos=f,Ft.any3d?ve(A,f):(A.style.left=f.x+"px",A.style.top=f.y+"px")}function Qt(A){return A._leaflet_pos||new ee(0,0)}var Tt,dr,hr;if("onselectstart"in document)Tt=function(){Ut(window,"selectstart",Zn)},dr=function(){mn(window,"selectstart",Zn)};else{var Rt=Ja(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Tt=function(){if(Rt){var A=document.documentElement.style;hr=A[Rt],A[Rt]="none"}},dr=function(){Rt&&(document.documentElement.style[Rt]=hr,hr=void 0)}}function Lr(){Ut(window,"dragstart",Zn)}function Mr(){mn(window,"dragstart",Zn)}var kn,wa;function Hn(A){for(;A.tabIndex===-1;)A=A.parentNode;A.style&&(Jr(),kn=A,wa=A.style.outlineStyle,A.style.outlineStyle="none",Ut(window,"keydown",Jr))}function Jr(){kn&&(kn.style.outlineStyle=wa,kn=void 0,wa=void 0,mn(window,"keydown",Jr))}function js(A){do A=A.parentNode;while((!A.offsetWidth||!A.offsetHeight)&&A!==document.body);return A}function Zs(A){var f=A.getBoundingClientRect();return{x:f.width/A.offsetWidth||1,y:f.height/A.offsetHeight||1,boundingClientRect:f}}var Fi={__proto__:null,TRANSFORM:Z,TRANSITION:Je,TRANSITION_END:mt,get:nt,getStyle:Ot,create:_t,remove:Gt,empty:gr,toFront:zt,toBack:In,hasClass:fs,addClass:Br,removeClass:rn,setClass:$n,getClass:Qn,setOpacity:on,testProp:Ja,setTransform:ve,setPosition:He,getPosition:Qt,get disableTextSelection(){return Tt},get enableTextSelection(){return dr},disableImageDrag:Lr,enableImageDrag:Mr,preventOutline:Hn,restoreOutline:Jr,getSizedParentNode:js,getScale:Zs};function Ut(A,f,v,E){if(f&&typeof f=="object")for(var R in f)Hs(A,R,f[R],v);else{f=S(f);for(var ae=0,Ee=f.length;ae<Ee;ae++)Hs(A,f[ae],v,E)}return this}var La="_leaflet_events";function mn(A,f,v,E){if(arguments.length===1)bo(A),delete A[La];else if(f&&typeof f=="object")for(var R in f)ll(A,R,f[R],v);else if(f=S(f),arguments.length===2)bo(A,function(qe){return H(f,qe)!==-1});else for(var ae=0,Ee=f.length;ae<Ee;ae++)ll(A,f[ae],v,E);return this}function bo(A,f){for(var v in A[La]){var E=v.split(/\d/)[0];(!f||f(E))&&ll(A,E,null,null,v)}}var Aa={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Hs(A,f,v,E){var R=f+h(v)+(E?"_"+h(E):"");if(A[La]&&A[La][R])return this;var ae=function(qe){return v.call(E||A,qe||window.event)},Ee=ae;!Ft.touchNative&&Ft.pointer&&f.indexOf("touch")===0?ae=Qr(A,f,ae):Ft.touch&&f==="dblclick"?ae=jt(A,ae):"addEventListener"in A?f==="touchstart"||f==="touchmove"||f==="wheel"||f==="mousewheel"?A.addEventListener(Aa[f]||f,ae,Ft.passiveEvents?{passive:!1}:!1):f==="mouseenter"||f==="mouseleave"?(ae=function(qe){qe=qe||window.event,mi(A,qe)&&Ee(qe)},A.addEventListener(Aa[f],ae,!1)):A.addEventListener(f,Ee,!1):A.attachEvent("on"+f,ae),A[La]=A[La]||{},A[La][R]=ae}function ll(A,f,v,E,R){R=R||f+h(v)+(E?"_"+h(E):"");var ae=A[La]&&A[La][R];if(!ae)return this;!Ft.touchNative&&Ft.pointer&&f.indexOf("touch")===0?Cn(A,f,ae):Ft.touch&&f==="dblclick"?Mt(A,ae):"removeEventListener"in A?A.removeEventListener(Aa[f]||f,ae,!1):A.detachEvent("on"+f,ae),A[La][R]=null}function Ya(A){return A.stopPropagation?A.stopPropagation():A.originalEvent?A.originalEvent._stopped=!0:A.cancelBubble=!0,this}function Ua(A){return Hs(A,"wheel",Ya),this}function Oi(A){return Ut(A,"mousedown touchstart dblclick contextmenu",Ya),A._leaflet_disable_click=!0,this}function Zn(A){return A.preventDefault?A.preventDefault():A.returnValue=!1,this}function Ki(A){return Zn(A),Ya(A),this}function Wa(A){if(A.composedPath)return A.composedPath();for(var f=[],v=A.target;v;)f.push(v),v=v.parentNode;return f}function Al(A,f){if(!f)return new ee(A.clientX,A.clientY);var v=Zs(f),E=v.boundingClientRect;return new ee((A.clientX-E.left)/v.x-f.clientLeft,(A.clientY-E.top)/v.y-f.clientTop)}var Fl=Ft.linux&&Ft.chrome?window.devicePixelRatio:Ft.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function qs(A){return Ft.edge?A.wheelDeltaY/2:A.deltaY&&A.deltaMode===0?-A.deltaY/Fl:A.deltaY&&A.deltaMode===1?-A.deltaY*20:A.deltaY&&A.deltaMode===2?-A.deltaY*60:A.deltaX||A.deltaZ?0:A.wheelDelta?(A.wheelDeltaY||A.wheelDelta)/2:A.detail&&Math.abs(A.detail)<32765?-A.detail*20:A.detail?A.detail/-32765*60:0}function mi(A,f){var v=f.relatedTarget;if(!v)return!0;try{for(;v&&v!==A;)v=v.parentNode}catch{return!1}return v!==A}var gi={__proto__:null,on:Ut,off:mn,stopPropagation:Ya,disableScrollPropagation:Ua,disableClickPropagation:Oi,preventDefault:Zn,stop:Ki,getPropagationPath:Wa,getMousePosition:Al,getWheelDelta:qs,isExternalTarget:mi,addListener:Ut,removeListener:mn},Vi=me.extend({run:function(A,f,v,E){this.stop(),this._el=A,this._inProgress=!0,this._duration=v||.25,this._easeOutPower=1/Math.max(E||.5,.2),this._startPos=Qt(A),this._offset=f.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=K(this._animate,this),this._step()},_step:function(A){var f=+new Date-this._startTime,v=this._duration*1e3;f<v?this._runFrame(this._easeOut(f/v),A):(this._runFrame(1),this._complete())},_runFrame:function(A,f){var v=this._startPos.add(this._offset.multiplyBy(A));f&&v._round(),He(this._el,v),this.fire("step")},_complete:function(){W(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(A){return 1-Math.pow(1-A,this._easeOutPower)}}),Yr=me.extend({options:{crs:lt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(A,f){f=U(this,f),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(A),this._initLayout(),this._onResize=d(this._onResize,this),this._initEvents(),f.maxBounds&&this.setMaxBounds(f.maxBounds),f.zoom!==void 0&&(this._zoom=this._limitZoom(f.zoom)),f.center&&f.zoom!==void 0&&this.setView(xe(f.center),f.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Je&&Ft.any3d&&!Ft.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ut(this._proxy,mt,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(A,f,v){if(f=f===void 0?this._zoom:this._limitZoom(f),A=this._limitCenter(xe(A),f,this.options.maxBounds),v=v||{},this._stop(),this._loaded&&!v.reset&&v!==!0){v.animate!==void 0&&(v.zoom=i({animate:v.animate},v.zoom),v.pan=i({animate:v.animate,duration:v.duration},v.pan));var E=this._zoom!==f?this._tryAnimatedZoom&&this._tryAnimatedZoom(A,f,v.zoom):this._tryAnimatedPan(A,v.pan);if(E)return clearTimeout(this._sizeTimer),this}return this._resetView(A,f,v.pan&&v.pan.noMoveStart),this},setZoom:function(A,f){return this._loaded?this.setView(this.getCenter(),A,{zoom:f}):(this._zoom=A,this)},zoomIn:function(A,f){return A=A||(Ft.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+A,f)},zoomOut:function(A,f){return A=A||(Ft.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-A,f)},setZoomAround:function(A,f,v){var E=this.getZoomScale(f),R=this.getSize().divideBy(2),ae=A instanceof ee?A:this.latLngToContainerPoint(A),Ee=ae.subtract(R).multiplyBy(1-1/E),qe=this.containerPointToLatLng(R.add(Ee));return this.setView(qe,f,{zoom:v})},_getBoundsCenterZoom:function(A,f){f=f||{},A=A.getBounds?A.getBounds():X(A);var v=Ne(f.paddingTopLeft||f.padding||[0,0]),E=Ne(f.paddingBottomRight||f.padding||[0,0]),R=this.getBoundsZoom(A,!1,v.add(E));if(R=typeof f.maxZoom=="number"?Math.min(f.maxZoom,R):R,R===1/0)return{center:A.getCenter(),zoom:R};var ae=E.subtract(v).divideBy(2),Ee=this.project(A.getSouthWest(),R),qe=this.project(A.getNorthEast(),R),tt=this.unproject(Ee.add(qe).divideBy(2).add(ae),R);return{center:tt,zoom:R}},fitBounds:function(A,f){if(A=X(A),!A.isValid())throw new Error("Bounds are not valid.");var v=this._getBoundsCenterZoom(A,f);return this.setView(v.center,v.zoom,f)},fitWorld:function(A){return this.fitBounds([[-90,-180],[90,180]],A)},panTo:function(A,f){return this.setView(A,this._zoom,{pan:f})},panBy:function(A,f){if(A=Ne(A).round(),f=f||{},!A.x&&!A.y)return this.fire("moveend");if(f.animate!==!0&&!this.getSize().contains(A))return this._resetView(this.unproject(this.project(this.getCenter()).add(A)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Vi,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),f.noMoveStart||this.fire("movestart"),f.animate!==!1){Br(this._mapPane,"leaflet-pan-anim");var v=this._getMapPanePos().subtract(A).round();this._panAnim.run(this._mapPane,v,f.duration||.25,f.easeLinearity)}else this._rawPanBy(A),this.fire("move").fire("moveend");return this},flyTo:function(A,f,v){if(v=v||{},v.animate===!1||!Ft.any3d)return this.setView(A,f,v);this._stop();var E=this.project(this.getCenter()),R=this.project(A),ae=this.getSize(),Ee=this._zoom;A=xe(A),f=f===void 0?Ee:f;var qe=Math.max(ae.x,ae.y),tt=qe*this.getZoomScale(Ee,f),vt=R.distanceTo(E)||1,Kt=1.42,br=Kt*Kt;function Wr(Dn){var ks=Dn?-1:1,pl=Dn?tt:qe,Tc=tt*tt-qe*qe+ks*br*br*vt*vt,zl=2*pl*br*vt,Kl=Tc/zl,Lo=Math.sqrt(Kl*Kl+1)-Kl,to=Lo<1e-9?-18:Math.log(Lo);return to}function fa(Dn){return(Math.exp(Dn)-Math.exp(-Dn))/2}function _s(Dn){return(Math.exp(Dn)+Math.exp(-Dn))/2}function oi(Dn){return fa(Dn)/_s(Dn)}var En=Wr(0);function Sn(Dn){return qe*(_s(En)/_s(En+Kt*Dn))}function cn(Dn){return qe*(_s(En)*oi(En+Kt*Dn)-fa(En))/br}function Oa(Dn){return 1-Math.pow(1-Dn,1.5)}var gs=Date.now(),Bi=(Wr(1)-En)/Kt,Go=v.duration?1e3*v.duration:1e3*Bi*.8;function $A(){var Dn=(Date.now()-gs)/Go,ks=Oa(Dn)*Bi;Dn<=1?(this._flyToFrame=K($A,this),this._move(this.unproject(E.add(R.subtract(E).multiplyBy(cn(ks)/vt)),Ee),this.getScaleZoom(qe/Sn(ks),Ee),{flyTo:!0})):this._move(A,f)._moveEnd(!0)}return this._moveStart(!0,v.noMoveStart),$A.call(this),this},flyToBounds:function(A,f){var v=this._getBoundsCenterZoom(A,f);return this.flyTo(v.center,v.zoom,f)},setMaxBounds:function(A){return A=X(A),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),A.isValid()?(this.options.maxBounds=A,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(A){var f=this.options.minZoom;return this.options.minZoom=A,this._loaded&&f!==A&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(A):this},setMaxZoom:function(A){var f=this.options.maxZoom;return this.options.maxZoom=A,this._loaded&&f!==A&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(A):this},panInsideBounds:function(A,f){this._enforcingBounds=!0;var v=this.getCenter(),E=this._limitCenter(v,this._zoom,X(A));return v.equals(E)||this.panTo(E,f),this._enforcingBounds=!1,this},panInside:function(A,f){f=f||{};var v=Ne(f.paddingTopLeft||f.padding||[0,0]),E=Ne(f.paddingBottomRight||f.padding||[0,0]),R=this.project(this.getCenter()),ae=this.project(A),Ee=this.getPixelBounds(),qe=T([Ee.min.add(v),Ee.max.subtract(E)]),tt=qe.getSize();if(!qe.contains(ae)){this._enforcingBounds=!0;var vt=ae.subtract(qe.getCenter()),Kt=qe.extend(ae).getSize().subtract(tt);R.x+=vt.x<0?-Kt.x:Kt.x,R.y+=vt.y<0?-Kt.y:Kt.y,this.panTo(this.unproject(R),f),this._enforcingBounds=!1}return this},invalidateSize:function(A){if(!this._loaded)return this;A=i({animate:!1,pan:!0},A===!0?{animate:!0}:A);var f=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var v=this.getSize(),E=f.divideBy(2).round(),R=v.divideBy(2).round(),ae=E.subtract(R);return!ae.x&&!ae.y?this:(A.animate&&A.pan?this.panBy(ae):(A.pan&&this._rawPanBy(ae),this.fire("move"),A.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(d(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:f,newSize:v}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(A){if(A=this._locateOptions=i({timeout:1e4,watch:!1},A),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var f=d(this._handleGeolocationResponse,this),v=d(this._handleGeolocationError,this);return A.watch?this._locationWatchId=navigator.geolocation.watchPosition(f,v,A):navigator.geolocation.getCurrentPosition(f,v,A),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(A){if(this._container._leaflet_id){var f=A.code,v=A.message||(f===1?"permission denied":f===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:f,message:"Geolocation error: "+v+"."})}},_handleGeolocationResponse:function(A){if(this._container._leaflet_id){var f=A.coords.latitude,v=A.coords.longitude,E=new Ae(f,v),R=E.toBounds(A.coords.accuracy*2),ae=this._locateOptions;if(ae.setView){var Ee=this.getBoundsZoom(R);this.setView(E,ae.maxZoom?Math.min(Ee,ae.maxZoom):Ee)}var qe={latlng:E,bounds:R,timestamp:A.timestamp};for(var tt in A.coords)typeof A.coords[tt]=="number"&&(qe[tt]=A.coords[tt]);this.fire("locationfound",qe)}},addHandler:function(A,f){if(!f)return this;var v=this[A]=new f(this);return this._handlers.push(v),this.options[A]&&v.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Gt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(W(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var A;for(A in this._layers)this._layers[A].remove();for(A in this._panes)Gt(this._panes[A]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(A,f){var v="leaflet-pane"+(A?" leaflet-"+A.replace("Pane","")+"-pane":""),E=_t("div",v,f||this._mapPane);return A&&(this._panes[A]=E),E},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var A=this.getPixelBounds(),f=this.unproject(A.getBottomLeft()),v=this.unproject(A.getTopRight());return new $(f,v)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(A,f,v){A=X(A),v=Ne(v||[0,0]);var E=this.getZoom()||0,R=this.getMinZoom(),ae=this.getMaxZoom(),Ee=A.getNorthWest(),qe=A.getSouthEast(),tt=this.getSize().subtract(v),vt=T(this.project(qe,E),this.project(Ee,E)).getSize(),Kt=Ft.any3d?this.options.zoomSnap:1,br=tt.x/vt.x,Wr=tt.y/vt.y,fa=f?Math.max(br,Wr):Math.min(br,Wr);return E=this.getScaleZoom(fa,E),Kt&&(E=Math.round(E/(Kt/100))*(Kt/100),E=f?Math.ceil(E/Kt)*Kt:Math.floor(E/Kt)*Kt),Math.max(R,Math.min(ae,E))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ee(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(A,f){var v=this._getTopLeftPoint(A,f);return new M(v,v.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(A){return this.options.crs.getProjectedBounds(A===void 0?this.getZoom():A)},getPane:function(A){return typeof A=="string"?this._panes[A]:A},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(A,f){var v=this.options.crs;return f=f===void 0?this._zoom:f,v.scale(A)/v.scale(f)},getScaleZoom:function(A,f){var v=this.options.crs;f=f===void 0?this._zoom:f;var E=v.zoom(A*v.scale(f));return isNaN(E)?1/0:E},project:function(A,f){return f=f===void 0?this._zoom:f,this.options.crs.latLngToPoint(xe(A),f)},unproject:function(A,f){return f=f===void 0?this._zoom:f,this.options.crs.pointToLatLng(Ne(A),f)},layerPointToLatLng:function(A){var f=Ne(A).add(this.getPixelOrigin());return this.unproject(f)},latLngToLayerPoint:function(A){var f=this.project(xe(A))._round();return f._subtract(this.getPixelOrigin())},wrapLatLng:function(A){return this.options.crs.wrapLatLng(xe(A))},wrapLatLngBounds:function(A){return this.options.crs.wrapLatLngBounds(X(A))},distance:function(A,f){return this.options.crs.distance(xe(A),xe(f))},containerPointToLayerPoint:function(A){return Ne(A).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(A){return Ne(A).add(this._getMapPanePos())},containerPointToLatLng:function(A){var f=this.containerPointToLayerPoint(Ne(A));return this.layerPointToLatLng(f)},latLngToContainerPoint:function(A){return this.layerPointToContainerPoint(this.latLngToLayerPoint(xe(A)))},mouseEventToContainerPoint:function(A){return Al(A,this._container)},mouseEventToLayerPoint:function(A){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(A))},mouseEventToLatLng:function(A){return this.layerPointToLatLng(this.mouseEventToLayerPoint(A))},_initContainer:function(A){var f=this._container=nt(A);if(f){if(f._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ut(f,"scroll",this._onScroll,this),this._containerId=h(f)},_initLayout:function(){var A=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ft.any3d,Br(A,"leaflet-container"+(Ft.touch?" leaflet-touch":"")+(Ft.retina?" leaflet-retina":"")+(Ft.ielt9?" leaflet-oldie":"")+(Ft.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var f=Ot(A,"position");f!=="absolute"&&f!=="relative"&&f!=="fixed"&&f!=="sticky"&&(A.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var A=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),He(this._mapPane,new ee(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Br(A.markerPane,"leaflet-zoom-hide"),Br(A.shadowPane,"leaflet-zoom-hide"))},_resetView:function(A,f,v){He(this._mapPane,new ee(0,0));var E=!this._loaded;this._loaded=!0,f=this._limitZoom(f),this.fire("viewprereset");var R=this._zoom!==f;this._moveStart(R,v)._move(A,f)._moveEnd(R),this.fire("viewreset"),E&&this.fire("load")},_moveStart:function(A,f){return A&&this.fire("zoomstart"),f||this.fire("movestart"),this},_move:function(A,f,v,E){f===void 0&&(f=this._zoom);var R=this._zoom!==f;return this._zoom=f,this._lastCenter=A,this._pixelOrigin=this._getNewPixelOrigin(A),E?v&&v.pinch&&this.fire("zoom",v):((R||v&&v.pinch)&&this.fire("zoom",v),this.fire("move",v)),this},_moveEnd:function(A){return A&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return W(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(A){He(this._mapPane,this._getMapPanePos().subtract(A))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(A){this._targets={},this._targets[h(this._container)]=this;var f=A?mn:Ut;f(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&f(window,"resize",this._onResize,this),Ft.any3d&&this.options.transform3DLimit&&(A?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){W(this._resizeRequest),this._resizeRequest=K(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var A=this._getMapPanePos();Math.max(Math.abs(A.x),Math.abs(A.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(A,f){for(var v=[],E,R=f==="mouseout"||f==="mouseover",ae=A.target||A.srcElement,Ee=!1;ae;){if(E=this._targets[h(ae)],E&&(f==="click"||f==="preclick")&&this._draggableMoved(E)){Ee=!0;break}if(E&&E.listens(f,!0)&&(R&&!mi(ae,A)||(v.push(E),R))||ae===this._container)break;ae=ae.parentNode}return!v.length&&!Ee&&!R&&this.listens(f,!0)&&(v=[this]),v},_isClickDisabled:function(A){for(;A&&A!==this._container;){if(A._leaflet_disable_click)return!0;A=A.parentNode}},_handleDOMEvent:function(A){var f=A.target||A.srcElement;if(!(!this._loaded||f._leaflet_disable_events||A.type==="click"&&this._isClickDisabled(f))){var v=A.type;v==="mousedown"&&Hn(f),this._fireDOMEvent(A,v)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(A,f,v){if(A.type==="click"){var E=i({},A);E.type="preclick",this._fireDOMEvent(E,E.type,v)}var R=this._findEventTargets(A,f);if(v){for(var ae=[],Ee=0;Ee<v.length;Ee++)v[Ee].listens(f,!0)&&ae.push(v[Ee]);R=ae.concat(R)}if(R.length){f==="contextmenu"&&Zn(A);var qe=R[0],tt={originalEvent:A};if(A.type!=="keypress"&&A.type!=="keydown"&&A.type!=="keyup"){var vt=qe.getLatLng&&(!qe._radius||qe._radius<=10);tt.containerPoint=vt?this.latLngToContainerPoint(qe.getLatLng()):this.mouseEventToContainerPoint(A),tt.layerPoint=this.containerPointToLayerPoint(tt.containerPoint),tt.latlng=vt?qe.getLatLng():this.layerPointToLatLng(tt.layerPoint)}for(Ee=0;Ee<R.length;Ee++)if(R[Ee].fire(f,tt,!0),tt.originalEvent._stopped||R[Ee].options.bubblingMouseEvents===!1&&H(this._mouseEvents,f)!==-1)return}},_draggableMoved:function(A){return A=A.dragging&&A.dragging.enabled()?A:this,A.dragging&&A.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var A=0,f=this._handlers.length;A<f;A++)this._handlers[A].disable()},whenReady:function(A,f){return this._loaded?A.call(f||this,{target:this}):this.on("load",A,f),this},_getMapPanePos:function(){return Qt(this._mapPane)||new ee(0,0)},_moved:function(){var A=this._getMapPanePos();return A&&!A.equals([0,0])},_getTopLeftPoint:function(A,f){var v=A&&f!==void 0?this._getNewPixelOrigin(A,f):this.getPixelOrigin();return v.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(A,f){var v=this.getSize()._divideBy(2);return this.project(A,f)._subtract(v)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(A,f,v){var E=this._getNewPixelOrigin(v,f);return this.project(A,f)._subtract(E)},_latLngBoundsToNewLayerBounds:function(A,f,v){var E=this._getNewPixelOrigin(v,f);return T([this.project(A.getSouthWest(),f)._subtract(E),this.project(A.getNorthWest(),f)._subtract(E),this.project(A.getSouthEast(),f)._subtract(E),this.project(A.getNorthEast(),f)._subtract(E)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(A){return this.latLngToLayerPoint(A).subtract(this._getCenterLayerPoint())},_limitCenter:function(A,f,v){if(!v)return A;var E=this.project(A,f),R=this.getSize().divideBy(2),ae=new M(E.subtract(R),E.add(R)),Ee=this._getBoundsOffset(ae,v,f);return Math.abs(Ee.x)<=1&&Math.abs(Ee.y)<=1?A:this.unproject(E.add(Ee),f)},_limitOffset:function(A,f){if(!f)return A;var v=this.getPixelBounds(),E=new M(v.min.add(A),v.max.add(A));return A.add(this._getBoundsOffset(E,f))},_getBoundsOffset:function(A,f,v){var E=T(this.project(f.getNorthEast(),v),this.project(f.getSouthWest(),v)),R=E.min.subtract(A.min),ae=E.max.subtract(A.max),Ee=this._rebound(R.x,-ae.x),qe=this._rebound(R.y,-ae.y);return new ee(Ee,qe)},_rebound:function(A,f){return A+f>0?Math.round(A-f)/2:Math.max(0,Math.ceil(A))-Math.max(0,Math.floor(f))},_limitZoom:function(A){var f=this.getMinZoom(),v=this.getMaxZoom(),E=Ft.any3d?this.options.zoomSnap:1;return E&&(A=Math.round(A/E)*E),Math.max(f,Math.min(v,A))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){rn(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(A,f){var v=this._getCenterOffset(A)._trunc();return(f&&f.animate)!==!0&&!this.getSize().contains(v)?!1:(this.panBy(v,f),!0)},_createAnimProxy:function(){var A=this._proxy=_t("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(A),this.on("zoomanim",function(f){var v=Z,E=this._proxy.style[v];ve(this._proxy,this.project(f.center,f.zoom),this.getZoomScale(f.zoom,1)),E===this._proxy.style[v]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Gt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var A=this.getCenter(),f=this.getZoom();ve(this._proxy,this.project(A,f),this.getZoomScale(f,1))},_catchTransitionEnd:function(A){this._animatingZoom&&A.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(A,f,v){if(this._animatingZoom)return!0;if(v=v||{},!this._zoomAnimated||v.animate===!1||this._nothingToAnimate()||Math.abs(f-this._zoom)>this.options.zoomAnimationThreshold)return!1;var E=this.getZoomScale(f),R=this._getCenterOffset(A)._divideBy(1-1/E);return v.animate!==!0&&!this.getSize().contains(R)?!1:(K(function(){this._moveStart(!0,v.noMoveStart||!1)._animateZoom(A,f,!0)},this),!0)},_animateZoom:function(A,f,v,E){this._mapPane&&(v&&(this._animatingZoom=!0,this._animateToCenter=A,this._animateToZoom=f,Br(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:A,zoom:f,noUpdate:E}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(d(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&rn(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function cl(A,f){return new Yr(A,f)}var zs=z.extend({options:{position:"topright"},initialize:function(A){U(this,A)},getPosition:function(){return this.options.position},setPosition:function(A){var f=this._map;return f&&f.removeControl(this),this.options.position=A,f&&f.addControl(this),this},getContainer:function(){return this._container},addTo:function(A){this.remove(),this._map=A;var f=this._container=this.onAdd(A),v=this.getPosition(),E=A._controlCorners[v];return Br(f,"leaflet-control"),v.indexOf("bottom")!==-1?E.insertBefore(f,E.firstChild):E.appendChild(f),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Gt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(A){this._map&&A&&A.screenX>0&&A.screenY>0&&this._map.getContainer().focus()}}),ei=function(A){return new zs(A)};Yr.include({addControl:function(A){return A.addTo(this),this},removeControl:function(A){return A.remove(),this},_initControlPos:function(){var A=this._controlCorners={},f="leaflet-",v=this._controlContainer=_t("div",f+"control-container",this._container);function E(R,ae){var Ee=f+R+" "+f+ae;A[R+ae]=_t("div",Ee,v)}E("top","left"),E("top","right"),E("bottom","left"),E("bottom","right")},_clearControlPos:function(){for(var A in this._controlCorners)Gt(this._controlCorners[A]);Gt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Ho=zs.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(A,f,v,E){return v<E?-1:E<v?1:0}},initialize:function(A,f,v){U(this,v),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var E in A)this._addLayer(A[E],E);for(E in f)this._addLayer(f[E],E,!0)},onAdd:function(A){this._initLayout(),this._update(),this._map=A,A.on("zoomend",this._checkDisabledLayers,this);for(var f=0;f<this._layers.length;f++)this._layers[f].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(A){return zs.prototype.addTo.call(this,A),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var A=0;A<this._layers.length;A++)this._layers[A].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(A,f){return this._addLayer(A,f),this._map?this._update():this},addOverlay:function(A,f){return this._addLayer(A,f,!0),this._map?this._update():this},removeLayer:function(A){A.off("add remove",this._onLayerChange,this);var f=this._getLayer(h(A));return f&&this._layers.splice(this._layers.indexOf(f),1),this._map?this._update():this},expand:function(){Br(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var A=this._map.getSize().y-(this._container.offsetTop+50);return A<this._section.clientHeight?(Br(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=A+"px"):rn(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return rn(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var A="leaflet-control-layers",f=this._container=_t("div",A),v=this.options.collapsed;f.setAttribute("aria-haspopup",!0),Oi(f),Ua(f);var E=this._section=_t("section",A+"-list");v&&(this._map.on("click",this.collapse,this),Ut(f,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var R=this._layersLink=_t("a",A+"-toggle",f);R.href="#",R.title="Layers",R.setAttribute("role","button"),Ut(R,{keydown:function(ae){ae.keyCode===13&&this._expandSafely()},click:function(ae){Zn(ae),this._expandSafely()}},this),v||this.expand(),this._baseLayersList=_t("div",A+"-base",E),this._separator=_t("div",A+"-separator",E),this._overlaysList=_t("div",A+"-overlays",E),f.appendChild(E)},_getLayer:function(A){for(var f=0;f<this._layers.length;f++)if(this._layers[f]&&h(this._layers[f].layer)===A)return this._layers[f]},_addLayer:function(A,f,v){this._map&&A.on("add remove",this._onLayerChange,this),this._layers.push({layer:A,name:f,overlay:v}),this.options.sortLayers&&this._layers.sort(d(function(E,R){return this.options.sortFunction(E.layer,R.layer,E.name,R.name)},this)),this.options.autoZIndex&&A.setZIndex&&(this._lastZIndex++,A.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;gr(this._baseLayersList),gr(this._overlaysList),this._layerControlInputs=[];var A,f,v,E,R=0;for(v=0;v<this._layers.length;v++)E=this._layers[v],this._addItem(E),f=f||E.overlay,A=A||!E.overlay,R+=E.overlay?0:1;return this.options.hideSingleBase&&(A=A&&R>1,this._baseLayersList.style.display=A?"":"none"),this._separator.style.display=f&&A?"":"none",this},_onLayerChange:function(A){this._handlingClick||this._update();var f=this._getLayer(h(A.target)),v=f.overlay?A.type==="add"?"overlayadd":"overlayremove":A.type==="add"?"baselayerchange":null;v&&this._map.fire(v,f)},_createRadioElement:function(A,f){var v='<input type="radio" class="leaflet-control-layers-selector" name="'+A+'"'+(f?' checked="checked"':"")+"/>",E=document.createElement("div");return E.innerHTML=v,E.firstChild},_addItem:function(A){var f=document.createElement("label"),v=this._map.hasLayer(A.layer),E;A.overlay?(E=document.createElement("input"),E.type="checkbox",E.className="leaflet-control-layers-selector",E.defaultChecked=v):E=this._createRadioElement("leaflet-base-layers_"+h(this),v),this._layerControlInputs.push(E),E.layerId=h(A.layer),Ut(E,"click",this._onInputClick,this);var R=document.createElement("span");R.innerHTML=" "+A.name;var ae=document.createElement("span");f.appendChild(ae),ae.appendChild(E),ae.appendChild(R);var Ee=A.overlay?this._overlaysList:this._baseLayersList;return Ee.appendChild(f),this._checkDisabledLayers(),f},_onInputClick:function(){if(!this._preventClick){var A=this._layerControlInputs,f,v,E=[],R=[];this._handlingClick=!0;for(var ae=A.length-1;ae>=0;ae--)f=A[ae],v=this._getLayer(f.layerId).layer,f.checked?E.push(v):f.checked||R.push(v);for(ae=0;ae<R.length;ae++)this._map.hasLayer(R[ae])&&this._map.removeLayer(R[ae]);for(ae=0;ae<E.length;ae++)this._map.hasLayer(E[ae])||this._map.addLayer(E[ae]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var A=this._layerControlInputs,f,v,E=this._map.getZoom(),R=A.length-1;R>=0;R--)f=A[R],v=this._getLayer(f.layerId).layer,f.disabled=v.options.minZoom!==void 0&&E<v.options.minZoom||v.options.maxZoom!==void 0&&E>v.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var A=this._section;this._preventClick=!0,Ut(A,"click",Zn),this.expand();var f=this;setTimeout(function(){mn(A,"click",Zn),f._preventClick=!1})}}),uA=function(A,f,v){return new Ho(A,f,v)},Qi=zs.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(A){var f="leaflet-control-zoom",v=_t("div",f+" leaflet-bar"),E=this.options;return this._zoomInButton=this._createButton(E.zoomInText,E.zoomInTitle,f+"-in",v,this._zoomIn),this._zoomOutButton=this._createButton(E.zoomOutText,E.zoomOutTitle,f+"-out",v,this._zoomOut),this._updateDisabled(),A.on("zoomend zoomlevelschange",this._updateDisabled,this),v},onRemove:function(A){A.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(A){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(A.shiftKey?3:1))},_zoomOut:function(A){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(A.shiftKey?3:1))},_createButton:function(A,f,v,E,R){var ae=_t("a",v,E);return ae.innerHTML=A,ae.href="#",ae.title=f,ae.setAttribute("role","button"),ae.setAttribute("aria-label",f),Oi(ae),Ut(ae,"click",Ki),Ut(ae,"click",R,this),Ut(ae,"click",this._refocusOnMap,this),ae},_updateDisabled:function(){var A=this._map,f="leaflet-disabled";rn(this._zoomInButton,f),rn(this._zoomOutButton,f),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||A._zoom===A.getMinZoom())&&(Br(this._zoomOutButton,f),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||A._zoom===A.getMaxZoom())&&(Br(this._zoomInButton,f),this._zoomInButton.setAttribute("aria-disabled","true"))}});Yr.mergeOptions({zoomControl:!0}),Yr.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Qi,this.addControl(this.zoomControl))});var vo=function(A){return new Qi(A)},hA=zs.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(A){var f="leaflet-control-scale",v=_t("div",f),E=this.options;return this._addScales(E,f+"-line",v),A.on(E.updateWhenIdle?"moveend":"move",this._update,this),A.whenReady(this._update,this),v},onRemove:function(A){A.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(A,f,v){A.metric&&(this._mScale=_t("div",f,v)),A.imperial&&(this._iScale=_t("div",f,v))},_update:function(){var A=this._map,f=A.getSize().y/2,v=A.distance(A.containerPointToLatLng([0,f]),A.containerPointToLatLng([this.options.maxWidth,f]));this._updateScales(v)},_updateScales:function(A){this.options.metric&&A&&this._updateMetric(A),this.options.imperial&&A&&this._updateImperial(A)},_updateMetric:function(A){var f=this._getRoundNum(A),v=f<1e3?f+" m":f/1e3+" km";this._updateScale(this._mScale,v,f/A)},_updateImperial:function(A){var f=A*3.2808399,v,E,R;f>5280?(v=f/5280,E=this._getRoundNum(v),this._updateScale(this._iScale,E+" mi",E/v)):(R=this._getRoundNum(f),this._updateScale(this._iScale,R+" ft",R/f))},_updateScale:function(A,f,v){A.style.width=Math.round(this.options.maxWidth*v)+"px",A.innerHTML=f},_getRoundNum:function(A){var f=Math.pow(10,(Math.floor(A)+"").length-1),v=A/f;return v=v>=10?10:v>=5?5:v>=3?3:v>=2?2:1,f*v}}),yo=function(A){return new hA(A)},KA='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',j=zs.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ft.inlineSvg?KA+" ":"")+"Leaflet</a>"},initialize:function(A){U(this,A),this._attributions={}},onAdd:function(A){A.attributionControl=this,this._container=_t("div","leaflet-control-attribution"),Oi(this._container);for(var f in A._layers)A._layers[f].getAttribution&&this.addAttribution(A._layers[f].getAttribution());return this._update(),A.on("layeradd",this._addAttribution,this),this._container},onRemove:function(A){A.off("layeradd",this._addAttribution,this)},_addAttribution:function(A){A.layer.getAttribution&&(this.addAttribution(A.layer.getAttribution()),A.layer.once("remove",function(){this.removeAttribution(A.layer.getAttribution())},this))},setPrefix:function(A){return this.options.prefix=A,this._update(),this},addAttribution:function(A){return A?(this._attributions[A]||(this._attributions[A]=0),this._attributions[A]++,this._update(),this):this},removeAttribution:function(A){return A?(this._attributions[A]&&(this._attributions[A]--,this._update()),this):this},_update:function(){if(this._map){var A=[];for(var f in this._attributions)this._attributions[f]&&A.push(f);var v=[];this.options.prefix&&v.push(this.options.prefix),A.length&&v.push(A.join(", ")),this._container.innerHTML=v.join(' <span aria-hidden="true">|</span> ')}}});Yr.mergeOptions({attributionControl:!0}),Yr.addInitHook(function(){this.options.attributionControl&&new j().addTo(this)});var J=function(A){return new j(A)};zs.Layers=Ho,zs.Zoom=Qi,zs.Scale=hA,zs.Attribution=j,ei.layers=uA,ei.zoom=vo,ei.scale=yo,ei.attribution=J;var ye=z.extend({initialize:function(A){this._map=A},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});ye.addTo=function(A,f){return A.addHandler(f,this),this};var Ie={Events:V},Pe=Ft.touch?"touchstart mousedown":"mousedown",ct=me.extend({options:{clickTolerance:3},initialize:function(A,f,v,E){U(this,E),this._element=A,this._dragStartTarget=f||A,this._preventOutline=v},enable:function(){this._enabled||(Ut(this._dragStartTarget,Pe,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ct._dragging===this&&this.finishDrag(!0),mn(this._dragStartTarget,Pe,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(A){if(this._enabled&&(this._moved=!1,!fs(this._element,"leaflet-zoom-anim"))){if(A.touches&&A.touches.length!==1){ct._dragging===this&&this.finishDrag();return}if(!(ct._dragging||A.shiftKey||A.which!==1&&A.button!==1&&!A.touches)&&(ct._dragging=this,this._preventOutline&&Hn(this._element),Lr(),Tt(),!this._moving)){this.fire("down");var f=A.touches?A.touches[0]:A,v=js(this._element);this._startPoint=new ee(f.clientX,f.clientY),this._startPos=Qt(this._element),this._parentScale=Zs(v);var E=A.type==="mousedown";Ut(document,E?"mousemove":"touchmove",this._onMove,this),Ut(document,E?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(A){if(this._enabled){if(A.touches&&A.touches.length>1){this._moved=!0;return}var f=A.touches&&A.touches.length===1?A.touches[0]:A,v=new ee(f.clientX,f.clientY)._subtract(this._startPoint);!v.x&&!v.y||Math.abs(v.x)+Math.abs(v.y)<this.options.clickTolerance||(v.x/=this._parentScale.x,v.y/=this._parentScale.y,Zn(A),this._moved||(this.fire("dragstart"),this._moved=!0,Br(document.body,"leaflet-dragging"),this._lastTarget=A.target||A.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Br(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(v),this._moving=!0,this._lastEvent=A,this._updatePosition())}},_updatePosition:function(){var A={originalEvent:this._lastEvent};this.fire("predrag",A),He(this._element,this._newPos),this.fire("drag",A)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(A){rn(document.body,"leaflet-dragging"),this._lastTarget&&(rn(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),mn(document,"mousemove touchmove",this._onMove,this),mn(document,"mouseup touchend touchcancel",this._onUp,this),Mr(),dr();var f=this._moved&&this._moving;this._moving=!1,ct._dragging=!1,f&&this.fire("dragend",{noInertia:A,distance:this._newPos.distanceTo(this._startPos)})}});function Ct(A,f,v){var E,R=[1,4,2,8],ae,Ee,qe,tt,vt,Kt,br,Wr;for(ae=0,Kt=A.length;ae<Kt;ae++)A[ae]._code=ca(A[ae],f);for(qe=0;qe<4;qe++){for(br=R[qe],E=[],ae=0,Kt=A.length,Ee=Kt-1;ae<Kt;Ee=ae++)tt=A[ae],vt=A[Ee],tt._code&br?vt._code&br||(Wr=xi(vt,tt,br,f,v),Wr._code=ca(Wr,f),E.push(Wr)):(vt._code&br&&(Wr=xi(vt,tt,br,f,v),Wr._code=ca(Wr,f),E.push(Wr)),E.push(tt));A=E}return A}function fr(A,f){var v,E,R,ae,Ee,qe,tt,vt,Kt;if(!A||A.length===0)throw new Error("latlngs not passed");da(A)||(console.warn("latlngs are not flat! Only the first ring will be used"),A=A[0]);var br=xe([0,0]),Wr=X(A),fa=Wr.getNorthWest().distanceTo(Wr.getSouthWest())*Wr.getNorthEast().distanceTo(Wr.getNorthWest());fa<1700&&(br=xr(A));var _s=A.length,oi=[];for(v=0;v<_s;v++){var En=xe(A[v]);oi.push(f.project(xe([En.lat-br.lat,En.lng-br.lng])))}for(qe=tt=vt=0,v=0,E=_s-1;v<_s;E=v++)R=oi[v],ae=oi[E],Ee=R.y*ae.x-ae.y*R.x,tt+=(R.x+ae.x)*Ee,vt+=(R.y+ae.y)*Ee,qe+=Ee*3;qe===0?Kt=oi[0]:Kt=[tt/qe,vt/qe];var Sn=f.unproject(Ne(Kt));return xe([Sn.lat+br.lat,Sn.lng+br.lng])}function xr(A){for(var f=0,v=0,E=0,R=0;R<A.length;R++){var ae=xe(A[R]);f+=ae.lat,v+=ae.lng,E++}return xe([f/E,v/E])}var Tr={__proto__:null,clipPolygon:Ct,polygonCenter:fr,centroid:xr};function zr(A,f){if(!f||!A.length)return A.slice();var v=f*f;return A=Ks(A,v),A=vs(A,v),A}function un(A,f,v){return Math.sqrt(_o(A,f,v,!0))}function cs(A,f,v){return _o(A,f,v)}function vs(A,f){var v=A.length,E=typeof Uint8Array<"u"?Uint8Array:Array,R=new E(v);R[0]=R[v-1]=1,Rn(A,R,f,0,v-1);var ae,Ee=[];for(ae=0;ae<v;ae++)R[ae]&&Ee.push(A[ae]);return Ee}function Rn(A,f,v,E,R){var ae=0,Ee,qe,tt;for(qe=E+1;qe<=R-1;qe++)tt=_o(A[qe],A[E],A[R],!0),tt>ae&&(Ee=qe,ae=tt);ae>v&&(f[Ee]=1,Rn(A,f,v,E,Ee),Rn(A,f,v,Ee,R))}function Ks(A,f){for(var v=[A[0]],E=1,R=0,ae=A.length;E<ae;E++)wo(A[E],A[R])>f&&(v.push(A[E]),R=E);return R<ae-1&&v.push(A[ae-1]),v}var ys;function Xs(A,f,v,E,R){var ae=E?ys:ca(A,v),Ee=ca(f,v),qe,tt,vt;for(ys=Ee;;){if(!(ae|Ee))return[A,f];if(ae&Ee)return!1;qe=ae||Ee,tt=xi(A,f,qe,v,R),vt=ca(tt,v),qe===ae?(A=tt,ae=vt):(f=tt,Ee=vt)}}function xi(A,f,v,E,R){var ae=f.x-A.x,Ee=f.y-A.y,qe=E.min,tt=E.max,vt,Kt;return v&8?(vt=A.x+ae*(tt.y-A.y)/Ee,Kt=tt.y):v&4?(vt=A.x+ae*(qe.y-A.y)/Ee,Kt=qe.y):v&2?(vt=tt.x,Kt=A.y+Ee*(tt.x-A.x)/ae):v&1&&(vt=qe.x,Kt=A.y+Ee*(qe.x-A.x)/ae),new ee(vt,Kt,R)}function ca(A,f){var v=0;return A.x<f.min.x?v|=1:A.x>f.max.x&&(v|=2),A.y<f.min.y?v|=4:A.y>f.max.y&&(v|=8),v}function wo(A,f){var v=f.x-A.x,E=f.y-A.y;return v*v+E*E}function _o(A,f,v,E){var R=f.x,ae=f.y,Ee=v.x-R,qe=v.y-ae,tt=Ee*Ee+qe*qe,vt;return tt>0&&(vt=((A.x-R)*Ee+(A.y-ae)*qe)/tt,vt>1?(R=v.x,ae=v.y):vt>0&&(R+=Ee*vt,ae+=qe*vt)),Ee=A.x-R,qe=A.y-ae,E?Ee*Ee+qe*qe:new ee(R,ae)}function da(A){return!D(A[0])||typeof A[0][0]!="object"&&typeof A[0][0]<"u"}function Ri(A){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),da(A)}function bi(A,f){var v,E,R,ae,Ee,qe,tt,vt;if(!A||A.length===0)throw new Error("latlngs not passed");da(A)||(console.warn("latlngs are not flat! Only the first ring will be used"),A=A[0]);var Kt=xe([0,0]),br=X(A),Wr=br.getNorthWest().distanceTo(br.getSouthWest())*br.getNorthEast().distanceTo(br.getNorthWest());Wr<1700&&(Kt=xr(A));var fa=A.length,_s=[];for(v=0;v<fa;v++){var oi=xe(A[v]);_s.push(f.project(xe([oi.lat-Kt.lat,oi.lng-Kt.lng])))}for(v=0,E=0;v<fa-1;v++)E+=_s[v].distanceTo(_s[v+1])/2;if(E===0)vt=_s[0];else for(v=0,ae=0;v<fa-1;v++)if(Ee=_s[v],qe=_s[v+1],R=Ee.distanceTo(qe),ae+=R,ae>E){tt=(ae-E)/R,vt=[qe.x-tt*(qe.x-Ee.x),qe.y-tt*(qe.y-Ee.y)];break}var En=f.unproject(Ne(vt));return xe([En.lat+Kt.lat,En.lng+Kt.lng])}var dl={__proto__:null,simplify:zr,pointToSegmentDistance:un,closestPointOnSegment:cs,clipSegment:Xs,_getEdgeIntersection:xi,_getBitCode:ca,_sqClosestPointOnSegment:_o,isFlat:da,_flat:Ri,polylineCenter:bi},Di={project:function(A){return new ee(A.lng,A.lat)},unproject:function(A){return new Ae(A.y,A.x)},bounds:new M([-180,-90],[180,90])},Ls={R:6378137,R_MINOR:6356752314245179e-9,bounds:new M([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(A){var f=Math.PI/180,v=this.R,E=A.lat*f,R=this.R_MINOR/v,ae=Math.sqrt(1-R*R),Ee=ae*Math.sin(E),qe=Math.tan(Math.PI/4-E/2)/Math.pow((1-Ee)/(1+Ee),ae/2);return E=-v*Math.log(Math.max(qe,1e-10)),new ee(A.lng*f*v,E)},unproject:function(A){for(var f=180/Math.PI,v=this.R,E=this.R_MINOR/v,R=Math.sqrt(1-E*E),ae=Math.exp(-A.y/v),Ee=Math.PI/2-2*Math.atan(ae),qe=0,tt=.1,vt;qe<15&&Math.abs(tt)>1e-7;qe++)vt=R*Math.sin(Ee),vt=Math.pow((1-vt)/(1+vt),R/2),tt=Math.PI/2-2*Math.atan(ae*vt)-Ee,Ee+=tt;return new Ae(Ee*f,A.x*f/v)}},qo={__proto__:null,LonLat:Di,Mercator:Ls,SphericalMercator:je},zo=i({},ke,{code:"EPSG:3395",projection:Ls,transformation:(function(){var A=.5/(Math.PI*Ls.R);return Re(A,.5,-A,.5)})()}),ul=i({},ke,{code:"EPSG:4326",projection:Di,transformation:Re(1/180,1,-1/180,.5)}),Gi=i({},Be,{projection:Di,transformation:Re(1,0,-1,0),scale:function(A){return Math.pow(2,A)},zoom:function(A){return Math.log(A)/Math.LN2},distance:function(A,f){var v=f.lng-A.lng,E=f.lat-A.lat;return Math.sqrt(v*v+E*E)},infinite:!0});Be.Earth=ke,Be.EPSG3395=zo,Be.EPSG3857=lt,Be.EPSG900913=Lt,Be.EPSG4326=ul,Be.Simple=Gi;var Yn=me.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(A){return A.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(A){return A&&A.removeLayer(this),this},getPane:function(A){return this._map.getPane(A?this.options[A]||A:this.options.pane)},addInteractiveTarget:function(A){return this._map._targets[h(A)]=this,this},removeInteractiveTarget:function(A){return delete this._map._targets[h(A)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(A){var f=A.target;if(f.hasLayer(this)){if(this._map=f,this._zoomAnimated=f._zoomAnimated,this.getEvents){var v=this.getEvents();f.on(v,this),this.once("remove",function(){f.off(v,this)},this)}this.onAdd(f),this.fire("add"),f.fire("layeradd",{layer:this})}}});Yr.include({addLayer:function(A){if(!A._layerAdd)throw new Error("The provided object is not a Layer.");var f=h(A);return this._layers[f]?this:(this._layers[f]=A,A._mapToAdd=this,A.beforeAdd&&A.beforeAdd(this),this.whenReady(A._layerAdd,A),this)},removeLayer:function(A){var f=h(A);return this._layers[f]?(this._loaded&&A.onRemove(this),delete this._layers[f],this._loaded&&(this.fire("layerremove",{layer:A}),A.fire("remove")),A._map=A._mapToAdd=null,this):this},hasLayer:function(A){return h(A)in this._layers},eachLayer:function(A,f){for(var v in this._layers)A.call(f,this._layers[v]);return this},_addLayers:function(A){A=A?D(A)?A:[A]:[];for(var f=0,v=A.length;f<v;f++)this.addLayer(A[f])},_addZoomLimit:function(A){(!isNaN(A.options.maxZoom)||!isNaN(A.options.minZoom))&&(this._zoomBoundLayers[h(A)]=A,this._updateZoomLevels())},_removeZoomLimit:function(A){var f=h(A);this._zoomBoundLayers[f]&&(delete this._zoomBoundLayers[f],this._updateZoomLevels())},_updateZoomLevels:function(){var A=1/0,f=-1/0,v=this._getZoomSpan();for(var E in this._zoomBoundLayers){var R=this._zoomBoundLayers[E].options;A=R.minZoom===void 0?A:Math.min(A,R.minZoom),f=R.maxZoom===void 0?f:Math.max(f,R.maxZoom)}this._layersMaxZoom=f===-1/0?void 0:f,this._layersMinZoom=A===1/0?void 0:A,v!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ha=Yn.extend({initialize:function(A,f){U(this,f),this._layers={};var v,E;if(A)for(v=0,E=A.length;v<E;v++)this.addLayer(A[v])},addLayer:function(A){var f=this.getLayerId(A);return this._layers[f]=A,this._map&&this._map.addLayer(A),this},removeLayer:function(A){var f=A in this._layers?A:this.getLayerId(A);return this._map&&this._layers[f]&&this._map.removeLayer(this._layers[f]),delete this._layers[f],this},hasLayer:function(A){var f=typeof A=="number"?A:this.getLayerId(A);return f in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(A){var f=Array.prototype.slice.call(arguments,1),v,E;for(v in this._layers)E=this._layers[v],E[A]&&E[A].apply(E,f);return this},onAdd:function(A){this.eachLayer(A.addLayer,A)},onRemove:function(A){this.eachLayer(A.removeLayer,A)},eachLayer:function(A,f){for(var v in this._layers)A.call(f,this._layers[v]);return this},getLayer:function(A){return this._layers[A]},getLayers:function(){var A=[];return this.eachLayer(A.push,A),A},setZIndex:function(A){return this.invoke("setZIndex",A)},getLayerId:function(A){return h(A)}}),Ol=function(A,f){return new Ha(A,f)},ti=Ha.extend({addLayer:function(A){return this.hasLayer(A)?this:(A.addEventParent(this),Ha.prototype.addLayer.call(this,A),this.fire("layeradd",{layer:A}))},removeLayer:function(A){return this.hasLayer(A)?(A in this._layers&&(A=this._layers[A]),A.removeEventParent(this),Ha.prototype.removeLayer.call(this,A),this.fire("layerremove",{layer:A})):this},setStyle:function(A){return this.invoke("setStyle",A)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var A=new $;for(var f in this._layers){var v=this._layers[f];A.extend(v.getBounds?v.getBounds():v.getLatLng())}return A}}),ri=function(A,f){return new ti(A,f)},_a=z.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(A){U(this,A)},createIcon:function(A){return this._createIcon("icon",A)},createShadow:function(A){return this._createIcon("shadow",A)},_createIcon:function(A,f){var v=this._getIconUrl(A);if(!v){if(A==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var E=this._createImg(v,f&&f.tagName==="IMG"?f:null);return this._setIconStyles(E,A),(this.options.crossOrigin||this.options.crossOrigin==="")&&(E.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),E},_setIconStyles:function(A,f){var v=this.options,E=v[f+"Size"];typeof E=="number"&&(E=[E,E]);var R=Ne(E),ae=Ne(f==="shadow"&&v.shadowAnchor||v.iconAnchor||R&&R.divideBy(2,!0));A.className="leaflet-marker-"+f+" "+(v.className||""),ae&&(A.style.marginLeft=-ae.x+"px",A.style.marginTop=-ae.y+"px"),R&&(A.style.width=R.x+"px",A.style.height=R.y+"px")},_createImg:function(A,f){return f=f||document.createElement("img"),f.src=A,f},_getIconUrl:function(A){return Ft.retina&&this.options[A+"RetinaUrl"]||this.options[A+"Url"]}});function Bo(A){return new _a(A)}var No=_a.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(A){return typeof No.imagePath!="string"&&(No.imagePath=this._detectIconPath()),(this.options.imagePath||No.imagePath)+_a.prototype._getIconUrl.call(this,A)},_stripUrl:function(A){var f=function(v,E,R){var ae=E.exec(v);return ae&&ae[R]};return A=f(A,/^url\((['"])?(.+)\1\)$/,2),A&&f(A,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var A=_t("div","leaflet-default-icon-path",document.body),f=Ot(A,"background-image")||Ot(A,"backgroundImage");if(document.body.removeChild(A),f=this._stripUrl(f),f)return f;var v=document.querySelector('link[href$="leaflet.css"]');return v?v.href.substring(0,v.href.length-11-1):""}}),vi=ye.extend({initialize:function(A){this._marker=A},addHooks:function(){var A=this._marker._icon;this._draggable||(this._draggable=new ct(A,A,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Br(A,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&rn(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(A){var f=this._marker,v=f._map,E=this._marker.options.autoPanSpeed,R=this._marker.options.autoPanPadding,ae=Qt(f._icon),Ee=v.getPixelBounds(),qe=v.getPixelOrigin(),tt=T(Ee.min._subtract(qe).add(R),Ee.max._subtract(qe).subtract(R));if(!tt.contains(ae)){var vt=Ne((Math.max(tt.max.x,ae.x)-tt.max.x)/(Ee.max.x-tt.max.x)-(Math.min(tt.min.x,ae.x)-tt.min.x)/(Ee.min.x-tt.min.x),(Math.max(tt.max.y,ae.y)-tt.max.y)/(Ee.max.y-tt.max.y)-(Math.min(tt.min.y,ae.y)-tt.min.y)/(Ee.min.y-tt.min.y)).multiplyBy(E);v.panBy(vt,{animate:!1}),this._draggable._newPos._add(vt),this._draggable._startPos._add(vt),He(f._icon,this._draggable._newPos),this._onDrag(A),this._panRequest=K(this._adjustPan.bind(this,A))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(A){this._marker.options.autoPan&&(W(this._panRequest),this._panRequest=K(this._adjustPan.bind(this,A)))},_onDrag:function(A){var f=this._marker,v=f._shadow,E=Qt(f._icon),R=f._map.layerPointToLatLng(E);v&&He(v,E),f._latlng=R,A.latlng=R,A.oldLatLng=this._oldLatLng,f.fire("move",A).fire("drag",A)},_onDragEnd:function(A){W(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",A)}}),Mi=Yn.extend({options:{icon:new No,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(A,f){U(this,f),this._latlng=xe(A)},onAdd:function(A){this._zoomAnimated=this._zoomAnimated&&A.options.markerZoomAnimation,this._zoomAnimated&&A.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(A){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&A.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(A){var f=this._latlng;return this._latlng=xe(A),this.update(),this.fire("move",{oldLatLng:f,latlng:this._latlng})},setZIndexOffset:function(A){return this.options.zIndexOffset=A,this.update()},getIcon:function(){return this.options.icon},setIcon:function(A){return this.options.icon=A,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var A=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(A)}return this},_initIcon:function(){var A=this.options,f="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),v=A.icon.createIcon(this._icon),E=!1;v!==this._icon&&(this._icon&&this._removeIcon(),E=!0,A.title&&(v.title=A.title),v.tagName==="IMG"&&(v.alt=A.alt||"")),Br(v,f),A.keyboard&&(v.tabIndex="0",v.setAttribute("role","button")),this._icon=v,A.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ut(v,"focus",this._panOnFocus,this);var R=A.icon.createShadow(this._shadow),ae=!1;R!==this._shadow&&(this._removeShadow(),ae=!0),R&&(Br(R,f),R.alt=""),this._shadow=R,A.opacity<1&&this._updateOpacity(),E&&this.getPane().appendChild(this._icon),this._initInteraction(),R&&ae&&this.getPane(A.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&mn(this._icon,"focus",this._panOnFocus,this),Gt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Gt(this._shadow),this._shadow=null},_setPos:function(A){this._icon&&He(this._icon,A),this._shadow&&He(this._shadow,A),this._zIndex=A.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(A){this._icon&&(this._icon.style.zIndex=this._zIndex+A)},_animateZoom:function(A){var f=this._map._latLngToNewLayerPoint(this._latlng,A.zoom,A.center).round();this._setPos(f)},_initInteraction:function(){if(this.options.interactive&&(Br(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),vi)){var A=this.options.draggable;this.dragging&&(A=this.dragging.enabled(),this.dragging.disable()),this.dragging=new vi(this),A&&this.dragging.enable()}},setOpacity:function(A){return this.options.opacity=A,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var A=this.options.opacity;this._icon&&on(this._icon,A),this._shadow&&on(this._shadow,A)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var A=this._map;if(A){var f=this.options.icon.options,v=f.iconSize?Ne(f.iconSize):Ne(0,0),E=f.iconAnchor?Ne(f.iconAnchor):Ne(0,0);A.panInside(this._latlng,{paddingTopLeft:E,paddingBottomRight:v.subtract(E)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function qa(A,f){return new Mi(A,f)}var ps=Yn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(A){this._renderer=A.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(A){return U(this,A),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&A&&Object.prototype.hasOwnProperty.call(A,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ni=ps.extend({options:{fill:!0,radius:10},initialize:function(A,f){U(this,f),this._latlng=xe(A),this._radius=this.options.radius},setLatLng:function(A){var f=this._latlng;return this._latlng=xe(A),this.redraw(),this.fire("move",{oldLatLng:f,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(A){return this.options.radius=this._radius=A,this.redraw()},getRadius:function(){return this._radius},setStyle:function(A){var f=A&&A.radius||this._radius;return ps.prototype.setStyle.call(this,A),this.setRadius(f),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var A=this._radius,f=this._radiusY||A,v=this._clickTolerance(),E=[A+v,f+v];this._pxBounds=new M(this._point.subtract(E),this._point.add(E))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(A){return A.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function $i(A,f){return new ni(A,f)}var Pi=ni.extend({initialize:function(A,f,v){if(typeof f=="number"&&(f=i({},v,{radius:f})),U(this,f),this._latlng=xe(A),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(A){return this._mRadius=A,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var A=[this._radius,this._radiusY||this._radius];return new $(this._map.layerPointToLatLng(this._point.subtract(A)),this._map.layerPointToLatLng(this._point.add(A)))},setStyle:ps.prototype.setStyle,_project:function(){var A=this._latlng.lng,f=this._latlng.lat,v=this._map,E=v.options.crs;if(E.distance===ke.distance){var R=Math.PI/180,ae=this._mRadius/ke.R/R,Ee=v.project([f+ae,A]),qe=v.project([f-ae,A]),tt=Ee.add(qe).divideBy(2),vt=v.unproject(tt).lat,Kt=Math.acos((Math.cos(ae*R)-Math.sin(f*R)*Math.sin(vt*R))/(Math.cos(f*R)*Math.cos(vt*R)))/R;(isNaN(Kt)||Kt===0)&&(Kt=ae/Math.cos(Math.PI/180*f)),this._point=tt.subtract(v.getPixelOrigin()),this._radius=isNaN(Kt)?0:tt.x-v.project([vt,A-Kt]).x,this._radiusY=tt.y-Ee.y}else{var br=E.unproject(E.project(this._latlng).subtract([this._mRadius,0]));this._point=v.latLngToLayerPoint(this._latlng),this._radius=this._point.x-v.latLngToLayerPoint(br).x}this._updateBounds()}});function Ql(A,f,v){return new Pi(A,f,v)}var za=ps.extend({options:{smoothFactor:1,noClip:!1},initialize:function(A,f){U(this,f),this._setLatLngs(A)},getLatLngs:function(){return this._latlngs},setLatLngs:function(A){return this._setLatLngs(A),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(A){for(var f=1/0,v=null,E=_o,R,ae,Ee=0,qe=this._parts.length;Ee<qe;Ee++)for(var tt=this._parts[Ee],vt=1,Kt=tt.length;vt<Kt;vt++){R=tt[vt-1],ae=tt[vt];var br=E(A,R,ae,!0);br<f&&(f=br,v=E(A,R,ae))}return v&&(v.distance=Math.sqrt(f)),v},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return bi(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(A,f){return f=f||this._defaultShape(),A=xe(A),f.push(A),this._bounds.extend(A),this.redraw()},_setLatLngs:function(A){this._bounds=new $,this._latlngs=this._convertLatLngs(A)},_defaultShape:function(){return da(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(A){for(var f=[],v=da(A),E=0,R=A.length;E<R;E++)v?(f[E]=xe(A[E]),this._bounds.extend(f[E])):f[E]=this._convertLatLngs(A[E]);return f},_project:function(){var A=new M;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,A),this._bounds.isValid()&&A.isValid()&&(this._rawPxBounds=A,this._updateBounds())},_updateBounds:function(){var A=this._clickTolerance(),f=new ee(A,A);this._rawPxBounds&&(this._pxBounds=new M([this._rawPxBounds.min.subtract(f),this._rawPxBounds.max.add(f)]))},_projectLatlngs:function(A,f,v){var E=A[0]instanceof Ae,R=A.length,ae,Ee;if(E){for(Ee=[],ae=0;ae<R;ae++)Ee[ae]=this._map.latLngToLayerPoint(A[ae]),v.extend(Ee[ae]);f.push(Ee)}else for(ae=0;ae<R;ae++)this._projectLatlngs(A[ae],f,v)},_clipPoints:function(){var A=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(A))){if(this.options.noClip){this._parts=this._rings;return}var f=this._parts,v,E,R,ae,Ee,qe,tt;for(v=0,R=0,ae=this._rings.length;v<ae;v++)for(tt=this._rings[v],E=0,Ee=tt.length;E<Ee-1;E++)qe=Xs(tt[E],tt[E+1],A,E,!0),qe&&(f[R]=f[R]||[],f[R].push(qe[0]),(qe[1]!==tt[E+1]||E===Ee-2)&&(f[R].push(qe[1]),R++))}},_simplifyPoints:function(){for(var A=this._parts,f=this.options.smoothFactor,v=0,E=A.length;v<E;v++)A[v]=zr(A[v],f)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(A,f){var v,E,R,ae,Ee,qe,tt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(A))return!1;for(v=0,ae=this._parts.length;v<ae;v++)for(qe=this._parts[v],E=0,Ee=qe.length,R=Ee-1;E<Ee;R=E++)if(!(!f&&E===0)&&un(A,qe[R],qe[E])<=tt)return!0;return!1}});function ws(A,f){return new za(A,f)}za._flat=Ri;var Co=za.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return fr(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(A){var f=za.prototype._convertLatLngs.call(this,A),v=f.length;return v>=2&&f[0]instanceof Ae&&f[0].equals(f[v-1])&&f.pop(),f},_setLatLngs:function(A){za.prototype._setLatLngs.call(this,A),da(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return da(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var A=this._renderer._bounds,f=this.options.weight,v=new ee(f,f);if(A=new M(A.min.subtract(v),A.max.add(v)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(A))){if(this.options.noClip){this._parts=this._rings;return}for(var E=0,R=this._rings.length,ae;E<R;E++)ae=Ct(this._rings[E],A,!0),ae.length&&this._parts.push(ae)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(A){var f=!1,v,E,R,ae,Ee,qe,tt,vt;if(!this._pxBounds||!this._pxBounds.contains(A))return!1;for(ae=0,tt=this._parts.length;ae<tt;ae++)for(v=this._parts[ae],Ee=0,vt=v.length,qe=vt-1;Ee<vt;qe=Ee++)E=v[Ee],R=v[qe],E.y>A.y!=R.y>A.y&&A.x<(R.x-E.x)*(A.y-E.y)/(R.y-E.y)+E.x&&(f=!f);return f||za.prototype._containsPoint.call(this,A,!0)}});function Zi(A,f){return new Co(A,f)}var Js=ti.extend({initialize:function(A,f){U(this,f),this._layers={},A&&this.addData(A)},addData:function(A){var f=D(A)?A:A.features,v,E,R;if(f){for(v=0,E=f.length;v<E;v++)R=f[v],(R.geometries||R.geometry||R.features||R.coordinates)&&this.addData(R);return this}var ae=this.options;if(ae.filter&&!ae.filter(A))return this;var Ee=Us(A,ae);return Ee?(Ee.feature=Ji(A),Ee.defaultOptions=Ee.options,this.resetStyle(Ee),ae.onEachFeature&&ae.onEachFeature(A,Ee),this.addLayer(Ee)):this},resetStyle:function(A){return A===void 0?this.eachLayer(this.resetStyle,this):(A.options=i({},A.defaultOptions),this._setLayerStyle(A,this.options.style),this)},setStyle:function(A){return this.eachLayer(function(f){this._setLayerStyle(f,A)},this)},_setLayerStyle:function(A,f){A.setStyle&&(typeof f=="function"&&(f=f(A.feature)),A.setStyle(f))}});function Us(A,f){var v=A.type==="Feature"?A.geometry:A,E=v?v.coordinates:null,R=[],ae=f&&f.pointToLayer,Ee=f&&f.coordsToLatLng||Ko,qe,tt,vt,Kt;if(!E&&!v)return null;switch(v.type){case"Point":return qe=Ee(E),Xi(ae,A,qe,f);case"MultiPoint":for(vt=0,Kt=E.length;vt<Kt;vt++)qe=Ee(E[vt]),R.push(Xi(ae,A,qe,f));return new ti(R);case"LineString":case"MultiLineString":return tt=Eo(E,v.type==="LineString"?0:1,Ee),new za(tt,f);case"Polygon":case"MultiPolygon":return tt=Eo(E,v.type==="Polygon"?1:2,Ee),new Co(tt,f);case"GeometryCollection":for(vt=0,Kt=v.geometries.length;vt<Kt;vt++){var br=Us({geometry:v.geometries[vt],type:"Feature",properties:A.properties},f);br&&R.push(br)}return new ti(R);case"FeatureCollection":for(vt=0,Kt=v.features.length;vt<Kt;vt++){var Wr=Us(v.features[vt],f);Wr&&R.push(Wr)}return new ti(R);default:throw new Error("Invalid GeoJSON object.")}}function Xi(A,f,v,E){return A?A(f,v):new Mi(v,E&&E.markersInheritOptions&&E)}function Ko(A){return new Ae(A[1],A[0],A[2])}function Eo(A,f,v){for(var E=[],R=0,ae=A.length,Ee;R<ae;R++)Ee=f?Eo(A[R],f-1,v):(v||Ko)(A[R]),E.push(Ee);return E}function Hi(A,f){return A=xe(A),A.alt!==void 0?[B(A.lng,f),B(A.lat,f),B(A.alt,f)]:[B(A.lng,f),B(A.lat,f)]}function yi(A,f,v,E){for(var R=[],ae=0,Ee=A.length;ae<Ee;ae++)R.push(f?yi(A[ae],da(A[ae])?0:f-1,v,E):Hi(A[ae],E));return!f&&v&&R.length>0&&R.push(R[0].slice()),R}function Ia(A,f){return A.feature?i({},A.feature,{geometry:f}):Ji(f)}function Ji(A){return A.type==="Feature"||A.type==="FeatureCollection"?A:{type:"Feature",properties:{},geometry:A}}var ka={toGeoJSON:function(A){return Ia(this,{type:"Point",coordinates:Hi(this.getLatLng(),A)})}};Mi.include(ka),Pi.include(ka),ni.include(ka),za.include({toGeoJSON:function(A){var f=!da(this._latlngs),v=yi(this._latlngs,f?1:0,!1,A);return Ia(this,{type:(f?"Multi":"")+"LineString",coordinates:v})}}),Co.include({toGeoJSON:function(A){var f=!da(this._latlngs),v=f&&!da(this._latlngs[0]),E=yi(this._latlngs,v?2:f?1:0,!0,A);return f||(E=[E]),Ia(this,{type:(v?"Multi":"")+"Polygon",coordinates:E})}}),Ha.include({toMultiPoint:function(A){var f=[];return this.eachLayer(function(v){f.push(v.toGeoJSON(A).geometry.coordinates)}),Ia(this,{type:"MultiPoint",coordinates:f})},toGeoJSON:function(A){var f=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(f==="MultiPoint")return this.toMultiPoint(A);var v=f==="GeometryCollection",E=[];return this.eachLayer(function(R){if(R.toGeoJSON){var ae=R.toGeoJSON(A);if(v)E.push(ae.geometry);else{var Ee=Ji(ae);Ee.type==="FeatureCollection"?E.push.apply(E,Ee.features):E.push(Ee)}}}),v?Ia(this,{geometries:E,type:"GeometryCollection"}):{type:"FeatureCollection",features:E}}});function Yi(A,f){return new Js(A,f)}var Ba=Yi,Ta=Yn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(A,f,v){this._url=A,this._bounds=X(f),U(this,v)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Br(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Gt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(A){return this.options.opacity=A,this._image&&this._updateOpacity(),this},setStyle:function(A){return A.opacity&&this.setOpacity(A.opacity),this},bringToFront:function(){return this._map&&zt(this._image),this},bringToBack:function(){return this._map&&In(this._image),this},setUrl:function(A){return this._url=A,this._image&&(this._image.src=A),this},setBounds:function(A){return this._bounds=X(A),this._map&&this._reset(),this},getEvents:function(){var A={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(A.zoomanim=this._animateZoom),A},setZIndex:function(A){return this.options.zIndex=A,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var A=this._url.tagName==="IMG",f=this._image=A?this._url:_t("img");if(Br(f,"leaflet-image-layer"),this._zoomAnimated&&Br(f,"leaflet-zoom-animated"),this.options.className&&Br(f,this.options.className),f.onselectstart=b,f.onmousemove=b,f.onload=d(this.fire,this,"load"),f.onerror=d(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),A){this._url=f.src;return}f.src=this._url,f.alt=this.options.alt},_animateZoom:function(A){var f=this._map.getZoomScale(A.zoom),v=this._map._latLngBoundsToNewLayerBounds(this._bounds,A.zoom,A.center).min;ve(this._image,v,f)},_reset:function(){var A=this._image,f=new M(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),v=f.getSize();He(A,f.min),A.style.width=v.x+"px",A.style.height=v.y+"px"},_updateOpacity:function(){on(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var A=this.options.errorOverlayUrl;A&&this._url!==A&&(this._url=A,this._image.src=A)},getCenter:function(){return this._bounds.getCenter()}}),Bn=function(A,f,v){return new Ta(A,f,v)},hn=Ta.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var A=this._url.tagName==="VIDEO",f=this._image=A?this._url:_t("video");if(Br(f,"leaflet-image-layer"),this._zoomAnimated&&Br(f,"leaflet-zoom-animated"),this.options.className&&Br(f,this.options.className),f.onselectstart=b,f.onmousemove=b,f.onloadeddata=d(this.fire,this,"load"),A){for(var v=f.getElementsByTagName("source"),E=[],R=0;R<v.length;R++)E.push(v[R].src);this._url=v.length>0?E:[f.src];return}D(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(f.style,"objectFit")&&(f.style.objectFit="fill"),f.autoplay=!!this.options.autoplay,f.loop=!!this.options.loop,f.muted=!!this.options.muted,f.playsInline=!!this.options.playsInline;for(var ae=0;ae<this._url.length;ae++){var Ee=_t("source");Ee.src=this._url[ae],f.appendChild(Ee)}}});function Xn(A,f,v){return new hn(A,f,v)}var ms=Ta.extend({_initImage:function(){var A=this._image=this._url;Br(A,"leaflet-image-layer"),this._zoomAnimated&&Br(A,"leaflet-zoom-animated"),this.options.className&&Br(A,this.options.className),A.onselectstart=b,A.onmousemove=b}});function Wi(A,f,v){return new ms(A,f,v)}var Is=Yn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(A,f){A&&(A instanceof Ae||D(A))?(this._latlng=xe(A),U(this,f)):(U(this,A),this._source=f),this.options.content&&(this._content=this.options.content)},openOn:function(A){return A=arguments.length?A:this._source._map,A.hasLayer(this)||A.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(A){return this._map?this.close():(arguments.length?this._source=A:A=this._source,this._prepareOpen(),this.openOn(A._map)),this},onAdd:function(A){this._zoomAnimated=A._zoomAnimated,this._container||this._initLayout(),A._fadeAnimated&&on(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),A._fadeAnimated&&on(this._container,1),this.bringToFront(),this.options.interactive&&(Br(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(A){A._fadeAnimated?(on(this._container,0),this._removeTimeout=setTimeout(d(Gt,void 0,this._container),200)):Gt(this._container),this.options.interactive&&(rn(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(A){return this._latlng=xe(A),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(A){return this._content=A,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var A={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(A.zoomanim=this._animateZoom),A},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&zt(this._container),this},bringToBack:function(){return this._map&&In(this._container),this},_prepareOpen:function(A){var f=this._source;if(!f._map)return!1;if(f instanceof ti){f=null;var v=this._source._layers;for(var E in v)if(v[E]._map){f=v[E];break}if(!f)return!1;this._source=f}if(!A)if(f.getCenter)A=f.getCenter();else if(f.getLatLng)A=f.getLatLng();else if(f.getBounds)A=f.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(A),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var A=this._contentNode,f=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof f=="string")A.innerHTML=f;else{for(;A.hasChildNodes();)A.removeChild(A.firstChild);A.appendChild(f)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var A=this._map.latLngToLayerPoint(this._latlng),f=Ne(this.options.offset),v=this._getAnchor();this._zoomAnimated?He(this._container,A.add(v)):f=f.add(A).add(v);var E=this._containerBottom=-f.y,R=this._containerLeft=-Math.round(this._containerWidth/2)+f.x;this._container.style.bottom=E+"px",this._container.style.left=R+"px"}},_getAnchor:function(){return[0,0]}});Yr.include({_initOverlay:function(A,f,v,E){var R=f;return R instanceof A||(R=new A(E).setContent(f)),v&&R.setLatLng(v),R}}),Yn.include({_initOverlay:function(A,f,v,E){var R=v;return R instanceof A?(U(R,E),R._source=this):(R=f&&!E?f:new A(E,this),R.setContent(v)),R}});var eo=Is.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(A){return A=arguments.length?A:this._source._map,!A.hasLayer(this)&&A._popup&&A._popup.options.autoClose&&A.removeLayer(A._popup),A._popup=this,Is.prototype.openOn.call(this,A)},onAdd:function(A){Is.prototype.onAdd.call(this,A),A.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ps||this._source.on("preclick",Ya))},onRemove:function(A){Is.prototype.onRemove.call(this,A),A.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ps||this._source.off("preclick",Ya))},getEvents:function(){var A=Is.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(A.preclick=this.close),this.options.keepInView&&(A.moveend=this._adjustPan),A},_initLayout:function(){var A="leaflet-popup",f=this._container=_t("div",A+" "+(this.options.className||"")+" leaflet-zoom-animated"),v=this._wrapper=_t("div",A+"-content-wrapper",f);if(this._contentNode=_t("div",A+"-content",v),Oi(f),Ua(this._contentNode),Ut(f,"contextmenu",Ya),this._tipContainer=_t("div",A+"-tip-container",f),this._tip=_t("div",A+"-tip",this._tipContainer),this.options.closeButton){var E=this._closeButton=_t("a",A+"-close-button",f);E.setAttribute("role","button"),E.setAttribute("aria-label","Close popup"),E.href="#close",E.innerHTML='<span aria-hidden="true">&#215;</span>',Ut(E,"click",function(R){Zn(R),this.close()},this)}},_updateLayout:function(){var A=this._contentNode,f=A.style;f.width="",f.whiteSpace="nowrap";var v=A.offsetWidth;v=Math.min(v,this.options.maxWidth),v=Math.max(v,this.options.minWidth),f.width=v+1+"px",f.whiteSpace="",f.height="";var E=A.offsetHeight,R=this.options.maxHeight,ae="leaflet-popup-scrolled";R&&E>R?(f.height=R+"px",Br(A,ae)):rn(A,ae),this._containerWidth=this._container.offsetWidth},_animateZoom:function(A){var f=this._map._latLngToNewLayerPoint(this._latlng,A.zoom,A.center),v=this._getAnchor();He(this._container,f.add(v))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var A=this._map,f=parseInt(Ot(this._container,"marginBottom"),10)||0,v=this._container.offsetHeight+f,E=this._containerWidth,R=new ee(this._containerLeft,-v-this._containerBottom);R._add(Qt(this._container));var ae=A.layerPointToContainerPoint(R),Ee=Ne(this.options.autoPanPadding),qe=Ne(this.options.autoPanPaddingTopLeft||Ee),tt=Ne(this.options.autoPanPaddingBottomRight||Ee),vt=A.getSize(),Kt=0,br=0;ae.x+E+tt.x>vt.x&&(Kt=ae.x+E-vt.x+tt.x),ae.x-Kt-qe.x<0&&(Kt=ae.x-qe.x),ae.y+v+tt.y>vt.y&&(br=ae.y+v-vt.y+tt.y),ae.y-br-qe.y<0&&(br=ae.y-qe.y),(Kt||br)&&(this.options.keepInView&&(this._autopanning=!0),A.fire("autopanstart").panBy([Kt,br]))}},_getAnchor:function(){return Ne(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),fA=function(A,f){return new eo(A,f)};Yr.mergeOptions({closePopupOnClick:!0}),Yr.include({openPopup:function(A,f,v){return this._initOverlay(eo,A,f,v).openOn(this),this},closePopup:function(A){return A=arguments.length?A:this._popup,A&&A.close(),this}}),Yn.include({bindPopup:function(A,f){return this._popup=this._initOverlay(eo,this._popup,A,f),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(A){return this._popup&&(this instanceof ti||(this._popup._source=this),this._popup._prepareOpen(A||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(A){return this._popup&&this._popup.setContent(A),this},getPopup:function(){return this._popup},_openPopup:function(A){if(!(!this._popup||!this._map)){Ki(A);var f=A.layer||A.target;if(this._popup._source===f&&!(f instanceof ps)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(A.latlng);return}this._popup._source=f,this.openPopup(A.latlng)}},_movePopup:function(A){this._popup.setLatLng(A.latlng)},_onKeyPress:function(A){A.originalEvent.keyCode===13&&this._openPopup(A)}});var Rl=Is.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(A){Is.prototype.onAdd.call(this,A),this.setOpacity(this.options.opacity),A.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(A){Is.prototype.onRemove.call(this,A),A.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var A=Is.prototype.getEvents.call(this);return this.options.permanent||(A.preclick=this.close),A},_initLayout:function(){var A="leaflet-tooltip",f=A+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=_t("div",f),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+h(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(A){var f,v,E=this._map,R=this._container,ae=E.latLngToContainerPoint(E.getCenter()),Ee=E.layerPointToContainerPoint(A),qe=this.options.direction,tt=R.offsetWidth,vt=R.offsetHeight,Kt=Ne(this.options.offset),br=this._getAnchor();qe==="top"?(f=tt/2,v=vt):qe==="bottom"?(f=tt/2,v=0):qe==="center"?(f=tt/2,v=vt/2):qe==="right"?(f=0,v=vt/2):qe==="left"?(f=tt,v=vt/2):Ee.x<ae.x?(qe="right",f=0,v=vt/2):(qe="left",f=tt+(Kt.x+br.x)*2,v=vt/2),A=A.subtract(Ne(f,v,!0)).add(Kt).add(br),rn(R,"leaflet-tooltip-right"),rn(R,"leaflet-tooltip-left"),rn(R,"leaflet-tooltip-top"),rn(R,"leaflet-tooltip-bottom"),Br(R,"leaflet-tooltip-"+qe),He(R,A)},_updatePosition:function(){var A=this._map.latLngToLayerPoint(this._latlng);this._setPosition(A)},setOpacity:function(A){this.options.opacity=A,this._container&&on(this._container,A)},_animateZoom:function(A){var f=this._map._latLngToNewLayerPoint(this._latlng,A.zoom,A.center);this._setPosition(f)},_getAnchor:function(){return Ne(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),xd=function(A,f){return new Rl(A,f)};Yr.include({openTooltip:function(A,f,v){return this._initOverlay(Rl,A,f,v).openOn(this),this},closeTooltip:function(A){return A.close(),this}}),Yn.include({bindTooltip:function(A,f){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Rl,this._tooltip,A,f),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(A){if(!(!A&&this._tooltipHandlersAdded)){var f=A?"off":"on",v={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?v.add=this._openTooltip:(v.mouseover=this._openTooltip,v.mouseout=this.closeTooltip,v.click=this._openTooltip,this._map?this._addFocusListeners():v.add=this._addFocusListeners),this._tooltip.options.sticky&&(v.mousemove=this._moveTooltip),this[f](v),this._tooltipHandlersAdded=!A}},openTooltip:function(A){return this._tooltip&&(this instanceof ti||(this._tooltip._source=this),this._tooltip._prepareOpen(A)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(A){return this._tooltip&&this._tooltip.setContent(A),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(A){var f=typeof A.getElement=="function"&&A.getElement();f&&(Ut(f,"focus",function(){this._tooltip._source=A,this.openTooltip()},this),Ut(f,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(A){var f=typeof A.getElement=="function"&&A.getElement();f&&f.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(A){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var f=this;this._map.once("moveend",function(){f._openOnceFlag=!1,f._openTooltip(A)});return}this._tooltip._source=A.layer||A.target,this.openTooltip(this._tooltip.options.sticky?A.latlng:void 0)}},_moveTooltip:function(A){var f=A.latlng,v,E;this._tooltip.options.sticky&&A.originalEvent&&(v=this._map.mouseEventToContainerPoint(A.originalEvent),E=this._map.containerPointToLayerPoint(v),f=this._map.layerPointToLatLng(E)),this._tooltip.setLatLng(f)}});var Ic=_a.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(A){var f=A&&A.tagName==="DIV"?A:document.createElement("div"),v=this.options;if(v.html instanceof Element?(gr(f),f.appendChild(v.html)):f.innerHTML=v.html!==!1?v.html:"",v.bgPos){var E=Ne(v.bgPos);f.style.backgroundPosition=-E.x+"px "+-E.y+"px"}return this._setIconStyles(f,"icon"),f},createShadow:function(){return null}});function bd(A){return new Ic(A)}_a.Default=No;var hl=Yn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ft.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(A){U(this,A)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(A){A._addZoomLimit(this)},onRemove:function(A){this._removeAllTiles(),Gt(this._container),A._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(zt(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(In(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(A){return this.options.opacity=A,this._updateOpacity(),this},setZIndex:function(A){return this.options.zIndex=A,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var A=this._clampZoom(this._map.getZoom());A!==this._tileZoom&&(this._tileZoom=A,this._updateLevels()),this._update()}return this},getEvents:function(){var A={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=m(this._onMoveEnd,this.options.updateInterval,this)),A.move=this._onMove),this._zoomAnimated&&(A.zoomanim=this._animateZoom),A},createTile:function(){return document.createElement("div")},getTileSize:function(){var A=this.options.tileSize;return A instanceof ee?A:new ee(A,A)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(A){for(var f=this.getPane().children,v=-A(-1/0,1/0),E=0,R=f.length,ae;E<R;E++)ae=f[E].style.zIndex,f[E]!==this._container&&ae&&(v=A(v,+ae));isFinite(v)&&(this.options.zIndex=v+A(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ft.ielt9){on(this._container,this.options.opacity);var A=+new Date,f=!1,v=!1;for(var E in this._tiles){var R=this._tiles[E];if(!(!R.current||!R.loaded)){var ae=Math.min(1,(A-R.loaded)/200);on(R.el,ae),ae<1?f=!0:(R.active?v=!0:this._onOpaqueTile(R),R.active=!0)}}v&&!this._noPrune&&this._pruneTiles(),f&&(W(this._fadeFrame),this._fadeFrame=K(this._updateOpacity,this))}},_onOpaqueTile:b,_initContainer:function(){this._container||(this._container=_t("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var A=this._tileZoom,f=this.options.maxZoom;if(A!==void 0){for(var v in this._levels)v=Number(v),this._levels[v].el.children.length||v===A?(this._levels[v].el.style.zIndex=f-Math.abs(A-v),this._onUpdateLevel(v)):(Gt(this._levels[v].el),this._removeTilesAtZoom(v),this._onRemoveLevel(v),delete this._levels[v]);var E=this._levels[A],R=this._map;return E||(E=this._levels[A]={},E.el=_t("div","leaflet-tile-container leaflet-zoom-animated",this._container),E.el.style.zIndex=f,E.origin=R.project(R.unproject(R.getPixelOrigin()),A).round(),E.zoom=A,this._setZoomTransform(E,R.getCenter(),R.getZoom()),b(E.el.offsetWidth),this._onCreateLevel(E)),this._level=E,E}},_onUpdateLevel:b,_onRemoveLevel:b,_onCreateLevel:b,_pruneTiles:function(){if(this._map){var A,f,v=this._map.getZoom();if(v>this.options.maxZoom||v<this.options.minZoom){this._removeAllTiles();return}for(A in this._tiles)f=this._tiles[A],f.retain=f.current;for(A in this._tiles)if(f=this._tiles[A],f.current&&!f.active){var E=f.coords;this._retainParent(E.x,E.y,E.z,E.z-5)||this._retainChildren(E.x,E.y,E.z,E.z+2)}for(A in this._tiles)this._tiles[A].retain||this._removeTile(A)}},_removeTilesAtZoom:function(A){for(var f in this._tiles)this._tiles[f].coords.z===A&&this._removeTile(f)},_removeAllTiles:function(){for(var A in this._tiles)this._removeTile(A)},_invalidateAll:function(){for(var A in this._levels)Gt(this._levels[A].el),this._onRemoveLevel(Number(A)),delete this._levels[A];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(A,f,v,E){var R=Math.floor(A/2),ae=Math.floor(f/2),Ee=v-1,qe=new ee(+R,+ae);qe.z=+Ee;var tt=this._tileCoordsToKey(qe),vt=this._tiles[tt];return vt&&vt.active?(vt.retain=!0,!0):(vt&&vt.loaded&&(vt.retain=!0),Ee>E?this._retainParent(R,ae,Ee,E):!1)},_retainChildren:function(A,f,v,E){for(var R=2*A;R<2*A+2;R++)for(var ae=2*f;ae<2*f+2;ae++){var Ee=new ee(R,ae);Ee.z=v+1;var qe=this._tileCoordsToKey(Ee),tt=this._tiles[qe];if(tt&&tt.active){tt.retain=!0;continue}else tt&&tt.loaded&&(tt.retain=!0);v+1<E&&this._retainChildren(R,ae,v+1,E)}},_resetView:function(A){var f=A&&(A.pinch||A.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),f,f)},_animateZoom:function(A){this._setView(A.center,A.zoom,!0,A.noUpdate)},_clampZoom:function(A){var f=this.options;return f.minNativeZoom!==void 0&&A<f.minNativeZoom?f.minNativeZoom:f.maxNativeZoom!==void 0&&f.maxNativeZoom<A?f.maxNativeZoom:A},_setView:function(A,f,v,E){var R=Math.round(f);this.options.maxZoom!==void 0&&R>this.options.maxZoom||this.options.minZoom!==void 0&&R<this.options.minZoom?R=void 0:R=this._clampZoom(R);var ae=this.options.updateWhenZooming&&R!==this._tileZoom;(!E||ae)&&(this._tileZoom=R,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),R!==void 0&&this._update(A),v||this._pruneTiles(),this._noPrune=!!v),this._setZoomTransforms(A,f)},_setZoomTransforms:function(A,f){for(var v in this._levels)this._setZoomTransform(this._levels[v],A,f)},_setZoomTransform:function(A,f,v){var E=this._map.getZoomScale(v,A.zoom),R=A.origin.multiplyBy(E).subtract(this._map._getNewPixelOrigin(f,v)).round();Ft.any3d?ve(A.el,R,E):He(A.el,R)},_resetGrid:function(){var A=this._map,f=A.options.crs,v=this._tileSize=this.getTileSize(),E=this._tileZoom,R=this._map.getPixelWorldBounds(this._tileZoom);R&&(this._globalTileRange=this._pxBoundsToTileRange(R)),this._wrapX=f.wrapLng&&!this.options.noWrap&&[Math.floor(A.project([0,f.wrapLng[0]],E).x/v.x),Math.ceil(A.project([0,f.wrapLng[1]],E).x/v.y)],this._wrapY=f.wrapLat&&!this.options.noWrap&&[Math.floor(A.project([f.wrapLat[0],0],E).y/v.x),Math.ceil(A.project([f.wrapLat[1],0],E).y/v.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(A){var f=this._map,v=f._animatingZoom?Math.max(f._animateToZoom,f.getZoom()):f.getZoom(),E=f.getZoomScale(v,this._tileZoom),R=f.project(A,this._tileZoom).floor(),ae=f.getSize().divideBy(E*2);return new M(R.subtract(ae),R.add(ae))},_update:function(A){var f=this._map;if(f){var v=this._clampZoom(f.getZoom());if(A===void 0&&(A=f.getCenter()),this._tileZoom!==void 0){var E=this._getTiledPixelBounds(A),R=this._pxBoundsToTileRange(E),ae=R.getCenter(),Ee=[],qe=this.options.keepBuffer,tt=new M(R.getBottomLeft().subtract([qe,-qe]),R.getTopRight().add([qe,-qe]));if(!(isFinite(R.min.x)&&isFinite(R.min.y)&&isFinite(R.max.x)&&isFinite(R.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var vt in this._tiles){var Kt=this._tiles[vt].coords;(Kt.z!==this._tileZoom||!tt.contains(new ee(Kt.x,Kt.y)))&&(this._tiles[vt].current=!1)}if(Math.abs(v-this._tileZoom)>1){this._setView(A,v);return}for(var br=R.min.y;br<=R.max.y;br++)for(var Wr=R.min.x;Wr<=R.max.x;Wr++){var fa=new ee(Wr,br);if(fa.z=this._tileZoom,!!this._isValidTile(fa)){var _s=this._tiles[this._tileCoordsToKey(fa)];_s?_s.current=!0:Ee.push(fa)}}if(Ee.sort(function(En,Sn){return En.distanceTo(ae)-Sn.distanceTo(ae)}),Ee.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var oi=document.createDocumentFragment();for(Wr=0;Wr<Ee.length;Wr++)this._addTile(Ee[Wr],oi);this._level.el.appendChild(oi)}}}},_isValidTile:function(A){var f=this._map.options.crs;if(!f.infinite){var v=this._globalTileRange;if(!f.wrapLng&&(A.x<v.min.x||A.x>v.max.x)||!f.wrapLat&&(A.y<v.min.y||A.y>v.max.y))return!1}if(!this.options.bounds)return!0;var E=this._tileCoordsToBounds(A);return X(this.options.bounds).overlaps(E)},_keyToBounds:function(A){return this._tileCoordsToBounds(this._keyToTileCoords(A))},_tileCoordsToNwSe:function(A){var f=this._map,v=this.getTileSize(),E=A.scaleBy(v),R=E.add(v),ae=f.unproject(E,A.z),Ee=f.unproject(R,A.z);return[ae,Ee]},_tileCoordsToBounds:function(A){var f=this._tileCoordsToNwSe(A),v=new $(f[0],f[1]);return this.options.noWrap||(v=this._map.wrapLatLngBounds(v)),v},_tileCoordsToKey:function(A){return A.x+":"+A.y+":"+A.z},_keyToTileCoords:function(A){var f=A.split(":"),v=new ee(+f[0],+f[1]);return v.z=+f[2],v},_removeTile:function(A){var f=this._tiles[A];f&&(Gt(f.el),delete this._tiles[A],this.fire("tileunload",{tile:f.el,coords:this._keyToTileCoords(A)}))},_initTile:function(A){Br(A,"leaflet-tile");var f=this.getTileSize();A.style.width=f.x+"px",A.style.height=f.y+"px",A.onselectstart=b,A.onmousemove=b,Ft.ielt9&&this.options.opacity<1&&on(A,this.options.opacity)},_addTile:function(A,f){var v=this._getTilePos(A),E=this._tileCoordsToKey(A),R=this.createTile(this._wrapCoords(A),d(this._tileReady,this,A));this._initTile(R),this.createTile.length<2&&K(d(this._tileReady,this,A,null,R)),He(R,v),this._tiles[E]={el:R,coords:A,current:!0},f.appendChild(R),this.fire("tileloadstart",{tile:R,coords:A})},_tileReady:function(A,f,v){f&&this.fire("tileerror",{error:f,tile:v,coords:A});var E=this._tileCoordsToKey(A);v=this._tiles[E],v&&(v.loaded=+new Date,this._map._fadeAnimated?(on(v.el,0),W(this._fadeFrame),this._fadeFrame=K(this._updateOpacity,this)):(v.active=!0,this._pruneTiles()),f||(Br(v.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:v.el,coords:A})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ft.ielt9||!this._map._fadeAnimated?K(this._pruneTiles,this):setTimeout(d(this._pruneTiles,this),250)))},_getTilePos:function(A){return A.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(A){var f=new ee(this._wrapX?g(A.x,this._wrapX):A.x,this._wrapY?g(A.y,this._wrapY):A.y);return f.z=A.z,f},_pxBoundsToTileRange:function(A){var f=this.getTileSize();return new M(A.min.unscaleBy(f).floor(),A.max.unscaleBy(f).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var A in this._tiles)if(!this._tiles[A].loaded)return!1;return!0}});function kc(A){return new hl(A)}var wi=hl.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(A,f){this._url=A,f=U(this,f),f.detectRetina&&Ft.retina&&f.maxZoom>0?(f.tileSize=Math.floor(f.tileSize/2),f.zoomReverse?(f.zoomOffset--,f.minZoom=Math.min(f.maxZoom,f.minZoom+1)):(f.zoomOffset++,f.maxZoom=Math.max(f.minZoom,f.maxZoom-1)),f.minZoom=Math.max(0,f.minZoom)):f.zoomReverse?f.minZoom=Math.min(f.maxZoom,f.minZoom):f.maxZoom=Math.max(f.minZoom,f.maxZoom),typeof f.subdomains=="string"&&(f.subdomains=f.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(A,f){return this._url===A&&f===void 0&&(f=!0),this._url=A,f||this.redraw(),this},createTile:function(A,f){var v=document.createElement("img");return Ut(v,"load",d(this._tileOnLoad,this,f,v)),Ut(v,"error",d(this._tileOnError,this,f,v)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(v.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(v.referrerPolicy=this.options.referrerPolicy),v.alt="",v.src=this.getTileUrl(A),v},getTileUrl:function(A){var f={r:Ft.retina?"@2x":"",s:this._getSubdomain(A),x:A.x,y:A.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var v=this._globalTileRange.max.y-A.y;this.options.tms&&(f.y=v),f["-y"]=v}return O(this._url,i(f,this.options))},_tileOnLoad:function(A,f){Ft.ielt9?setTimeout(d(A,this,null,f),0):A(null,f)},_tileOnError:function(A,f,v){var E=this.options.errorTileUrl;E&&f.getAttribute("src")!==E&&(f.src=E),A(v,f)},_onTileRemove:function(A){A.tile.onload=null},_getZoomForUrl:function(){var A=this._tileZoom,f=this.options.maxZoom,v=this.options.zoomReverse,E=this.options.zoomOffset;return v&&(A=f-A),A+E},_getSubdomain:function(A){var f=Math.abs(A.x+A.y)%this.options.subdomains.length;return this.options.subdomains[f]},_abortLoading:function(){var A,f;for(A in this._tiles)if(this._tiles[A].coords.z!==this._tileZoom&&(f=this._tiles[A].el,f.onload=b,f.onerror=b,!f.complete)){f.src=re;var v=this._tiles[A].coords;Gt(f),delete this._tiles[A],this.fire("tileabort",{tile:f,coords:v})}},_removeTile:function(A){var f=this._tiles[A];if(f)return f.el.setAttribute("src",re),hl.prototype._removeTile.call(this,A)},_tileReady:function(A,f,v){if(!(!this._map||v&&v.getAttribute("src")===re))return hl.prototype._tileReady.call(this,A,f,v)}});function si(A,f){return new wi(A,f)}var Dl=wi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(A,f){this._url=A;var v=i({},this.defaultWmsParams);for(var E in f)E in this.options||(v[E]=f[E]);f=U(this,f);var R=f.detectRetina&&Ft.retina?2:1,ae=this.getTileSize();v.width=ae.x*R,v.height=ae.y*R,this.wmsParams=v},onAdd:function(A){this._crs=this.options.crs||A.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var f=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[f]=this._crs.code,wi.prototype.onAdd.call(this,A)},getTileUrl:function(A){var f=this._tileCoordsToNwSe(A),v=this._crs,E=T(v.project(f[0]),v.project(f[1])),R=E.min,ae=E.max,Ee=(this._wmsVersion>=1.3&&this._crs===ul?[R.y,R.x,ae.y,ae.x]:[R.x,R.y,ae.x,ae.y]).join(","),qe=wi.prototype.getTileUrl.call(this,A);return qe+k(this.wmsParams,qe,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Ee},setParams:function(A,f){return i(this.wmsParams,A),f||this.redraw(),this}});function ai(A,f){return new Dl(A,f)}wi.WMS=Dl,si.wms=ai;var Fa=Yn.extend({options:{padding:.1},initialize:function(A){U(this,A),h(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Br(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var A={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(A.zoomanim=this._onAnimZoom),A},_onAnimZoom:function(A){this._updateTransform(A.center,A.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(A,f){var v=this._map.getZoomScale(f,this._zoom),E=this._map.getSize().multiplyBy(.5+this.options.padding),R=this._map.project(this._center,f),ae=E.multiplyBy(-v).add(R).subtract(this._map._getNewPixelOrigin(A,f));Ft.any3d?ve(this._container,ae,v):He(this._container,ae)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var A in this._layers)this._layers[A]._reset()},_onZoomEnd:function(){for(var A in this._layers)this._layers[A]._project()},_updatePaths:function(){for(var A in this._layers)this._layers[A]._update()},_update:function(){var A=this.options.padding,f=this._map.getSize(),v=this._map.containerPointToLayerPoint(f.multiplyBy(-A)).round();this._bounds=new M(v,v.add(f.multiplyBy(1+A*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),pA=Fa.extend({options:{tolerance:0},getEvents:function(){var A=Fa.prototype.getEvents.call(this);return A.viewprereset=this._onViewPreReset,A},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Fa.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var A=this._container=document.createElement("canvas");Ut(A,"mousemove",this._onMouseMove,this),Ut(A,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ut(A,"mouseout",this._handleMouseOut,this),A._leaflet_disable_events=!0,this._ctx=A.getContext("2d")},_destroyContainer:function(){W(this._redrawRequest),delete this._ctx,Gt(this._container),mn(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var A;this._redrawBounds=null;for(var f in this._layers)A=this._layers[f],A._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Fa.prototype._update.call(this);var A=this._bounds,f=this._container,v=A.getSize(),E=Ft.retina?2:1;He(f,A.min),f.width=E*v.x,f.height=E*v.y,f.style.width=v.x+"px",f.style.height=v.y+"px",Ft.retina&&this._ctx.scale(2,2),this._ctx.translate(-A.min.x,-A.min.y),this.fire("update")}},_reset:function(){Fa.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(A){this._updateDashArray(A),this._layers[h(A)]=A;var f=A._order={layer:A,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=f),this._drawLast=f,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(A){this._requestRedraw(A)},_removePath:function(A){var f=A._order,v=f.next,E=f.prev;v?v.prev=E:this._drawLast=E,E?E.next=v:this._drawFirst=v,delete A._order,delete this._layers[h(A)],this._requestRedraw(A)},_updatePath:function(A){this._extendRedrawBounds(A),A._project(),A._update(),this._requestRedraw(A)},_updateStyle:function(A){this._updateDashArray(A),this._requestRedraw(A)},_updateDashArray:function(A){if(typeof A.options.dashArray=="string"){var f=A.options.dashArray.split(/[, ]+/),v=[],E,R;for(R=0;R<f.length;R++){if(E=Number(f[R]),isNaN(E))return;v.push(E)}A.options._dashArray=v}else A.options._dashArray=A.options.dashArray},_requestRedraw:function(A){this._map&&(this._extendRedrawBounds(A),this._redrawRequest=this._redrawRequest||K(this._redraw,this))},_extendRedrawBounds:function(A){if(A._pxBounds){var f=(A.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new M,this._redrawBounds.extend(A._pxBounds.min.subtract([f,f])),this._redrawBounds.extend(A._pxBounds.max.add([f,f]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var A=this._redrawBounds;if(A){var f=A.getSize();this._ctx.clearRect(A.min.x,A.min.y,f.x,f.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var A,f=this._redrawBounds;if(this._ctx.save(),f){var v=f.getSize();this._ctx.beginPath(),this._ctx.rect(f.min.x,f.min.y,v.x,v.y),this._ctx.clip()}this._drawing=!0;for(var E=this._drawFirst;E;E=E.next)A=E.layer,(!f||A._pxBounds&&A._pxBounds.intersects(f))&&A._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(A,f){if(this._drawing){var v,E,R,ae,Ee=A._parts,qe=Ee.length,tt=this._ctx;if(qe){for(tt.beginPath(),v=0;v<qe;v++){for(E=0,R=Ee[v].length;E<R;E++)ae=Ee[v][E],tt[E?"lineTo":"moveTo"](ae.x,ae.y);f&&tt.closePath()}this._fillStroke(tt,A)}}},_updateCircle:function(A){if(!(!this._drawing||A._empty())){var f=A._point,v=this._ctx,E=Math.max(Math.round(A._radius),1),R=(Math.max(Math.round(A._radiusY),1)||E)/E;R!==1&&(v.save(),v.scale(1,R)),v.beginPath(),v.arc(f.x,f.y/R,E,0,Math.PI*2,!1),R!==1&&v.restore(),this._fillStroke(v,A)}},_fillStroke:function(A,f){var v=f.options;v.fill&&(A.globalAlpha=v.fillOpacity,A.fillStyle=v.fillColor||v.color,A.fill(v.fillRule||"evenodd")),v.stroke&&v.weight!==0&&(A.setLineDash&&A.setLineDash(f.options&&f.options._dashArray||[]),A.globalAlpha=v.opacity,A.lineWidth=v.weight,A.strokeStyle=v.color,A.lineCap=v.lineCap,A.lineJoin=v.lineJoin,A.stroke())},_onClick:function(A){for(var f=this._map.mouseEventToLayerPoint(A),v,E,R=this._drawFirst;R;R=R.next)v=R.layer,v.options.interactive&&v._containsPoint(f)&&(!(A.type==="click"||A.type==="preclick")||!this._map._draggableMoved(v))&&(E=v);this._fireEvent(E?[E]:!1,A)},_onMouseMove:function(A){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var f=this._map.mouseEventToLayerPoint(A);this._handleMouseHover(A,f)}},_handleMouseOut:function(A){var f=this._hoveredLayer;f&&(rn(this._container,"leaflet-interactive"),this._fireEvent([f],A,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(A,f){if(!this._mouseHoverThrottled){for(var v,E,R=this._drawFirst;R;R=R.next)v=R.layer,v.options.interactive&&v._containsPoint(f)&&(E=v);E!==this._hoveredLayer&&(this._handleMouseOut(A),E&&(Br(this._container,"leaflet-interactive"),this._fireEvent([E],A,"mouseover"),this._hoveredLayer=E)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,A),this._mouseHoverThrottled=!0,setTimeout(d(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(A,f,v){this._map._fireDOMEvent(f,v||f.type,A)},_bringToFront:function(A){var f=A._order;if(f){var v=f.next,E=f.prev;if(v)v.prev=E;else return;E?E.next=v:v&&(this._drawFirst=v),f.prev=this._drawLast,this._drawLast.next=f,f.next=null,this._drawLast=f,this._requestRedraw(A)}},_bringToBack:function(A){var f=A._order;if(f){var v=f.next,E=f.prev;if(E)E.next=v;else return;v?v.prev=E:E&&(this._drawLast=E),f.prev=null,f.next=this._drawFirst,this._drawFirst.prev=f,this._drawFirst=f,this._requestRedraw(A)}}});function Ml(A){return Ft.canvas?new pA(A):null}var So=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(A){return document.createElement("<lvml:"+A+' class="lvml">')}}catch{}return function(A){return document.createElement("<"+A+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),VA={_initContainer:function(){this._container=_t("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Fa.prototype._update.call(this),this.fire("update"))},_initPath:function(A){var f=A._container=So("shape");Br(f,"leaflet-vml-shape "+(this.options.className||"")),f.coordsize="1 1",A._path=So("path"),f.appendChild(A._path),this._updateStyle(A),this._layers[h(A)]=A},_addPath:function(A){var f=A._container;this._container.appendChild(f),A.options.interactive&&A.addInteractiveTarget(f)},_removePath:function(A){var f=A._container;Gt(f),A.removeInteractiveTarget(f),delete this._layers[h(A)]},_updateStyle:function(A){var f=A._stroke,v=A._fill,E=A.options,R=A._container;R.stroked=!!E.stroke,R.filled=!!E.fill,E.stroke?(f||(f=A._stroke=So("stroke")),R.appendChild(f),f.weight=E.weight+"px",f.color=E.color,f.opacity=E.opacity,E.dashArray?f.dashStyle=D(E.dashArray)?E.dashArray.join(" "):E.dashArray.replace(/( *, *)/g," "):f.dashStyle="",f.endcap=E.lineCap.replace("butt","flat"),f.joinstyle=E.lineJoin):f&&(R.removeChild(f),A._stroke=null),E.fill?(v||(v=A._fill=So("fill")),R.appendChild(v),v.color=E.fillColor||E.color,v.opacity=E.fillOpacity):v&&(R.removeChild(v),A._fill=null)},_updateCircle:function(A){var f=A._point.round(),v=Math.round(A._radius),E=Math.round(A._radiusY||v);this._setPath(A,A._empty()?"M0 0":"AL "+f.x+","+f.y+" "+v+","+E+" 0,"+65535*360)},_setPath:function(A,f){A._path.v=f},_bringToFront:function(A){zt(A._container)},_bringToBack:function(A){In(A._container)}},_i=Ft.vml?So:fe,jo=Fa.extend({_initContainer:function(){this._container=_i("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=_i("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Gt(this._container),mn(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Fa.prototype._update.call(this);var A=this._bounds,f=A.getSize(),v=this._container;(!this._svgSize||!this._svgSize.equals(f))&&(this._svgSize=f,v.setAttribute("width",f.x),v.setAttribute("height",f.y)),He(v,A.min),v.setAttribute("viewBox",[A.min.x,A.min.y,f.x,f.y].join(" ")),this.fire("update")}},_initPath:function(A){var f=A._path=_i("path");A.options.className&&Br(f,A.options.className),A.options.interactive&&Br(f,"leaflet-interactive"),this._updateStyle(A),this._layers[h(A)]=A},_addPath:function(A){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(A._path),A.addInteractiveTarget(A._path)},_removePath:function(A){Gt(A._path),A.removeInteractiveTarget(A._path),delete this._layers[h(A)]},_updatePath:function(A){A._project(),A._update()},_updateStyle:function(A){var f=A._path,v=A.options;f&&(v.stroke?(f.setAttribute("stroke",v.color),f.setAttribute("stroke-opacity",v.opacity),f.setAttribute("stroke-width",v.weight),f.setAttribute("stroke-linecap",v.lineCap),f.setAttribute("stroke-linejoin",v.lineJoin),v.dashArray?f.setAttribute("stroke-dasharray",v.dashArray):f.removeAttribute("stroke-dasharray"),v.dashOffset?f.setAttribute("stroke-dashoffset",v.dashOffset):f.removeAttribute("stroke-dashoffset")):f.setAttribute("stroke","none"),v.fill?(f.setAttribute("fill",v.fillColor||v.color),f.setAttribute("fill-opacity",v.fillOpacity),f.setAttribute("fill-rule",v.fillRule||"evenodd")):f.setAttribute("fill","none"))},_updatePoly:function(A,f){this._setPath(A,ft(A._parts,f))},_updateCircle:function(A){var f=A._point,v=Math.max(Math.round(A._radius),1),E=Math.max(Math.round(A._radiusY),1)||v,R="a"+v+","+E+" 0 1,0 ",ae=A._empty()?"M0 0":"M"+(f.x-v)+","+f.y+R+v*2+",0 "+R+-v*2+",0 ";this._setPath(A,ae)},_setPath:function(A,f){A._path.setAttribute("d",f)},_bringToFront:function(A){zt(A._path)},_bringToBack:function(A){In(A._path)}});Ft.vml&&jo.include(VA);function ua(A){return Ft.svg||Ft.vml?new jo(A):null}Yr.include({getRenderer:function(A){var f=A.options.renderer||this._getPaneRenderer(A.options.pane)||this.options.renderer||this._renderer;return f||(f=this._renderer=this._createRenderer()),this.hasLayer(f)||this.addLayer(f),f},_getPaneRenderer:function(A){if(A==="overlayPane"||A===void 0)return!1;var f=this._paneRenderers[A];return f===void 0&&(f=this._createRenderer({pane:A}),this._paneRenderers[A]=f),f},_createRenderer:function(A){return this.options.preferCanvas&&Ml(A)||ua(A)}});var Ys=Co.extend({initialize:function(A,f){Co.prototype.initialize.call(this,this._boundsToLatLngs(A),f)},setBounds:function(A){return this.setLatLngs(this._boundsToLatLngs(A))},_boundsToLatLngs:function(A){return A=X(A),[A.getSouthWest(),A.getNorthWest(),A.getNorthEast(),A.getSouthEast()]}});function GA(A,f){return new Ys(A,f)}jo.create=_i,jo.pointsToPath=ft,Js.geometryToLayer=Us,Js.coordsToLatLng=Ko,Js.coordsToLatLngs=Eo,Js.latLngToCoords=Hi,Js.latLngsToCoords=yi,Js.getFeature=Ia,Js.asFeature=Ji,Yr.mergeOptions({boxZoom:!0});var ha=ye.extend({initialize:function(A){this._map=A,this._container=A._container,this._pane=A._panes.overlayPane,this._resetStateTimeout=0,A.on("unload",this._destroy,this)},addHooks:function(){Ut(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){mn(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Gt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(A){if(!A.shiftKey||A.which!==1&&A.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Tt(),Lr(),this._startPoint=this._map.mouseEventToContainerPoint(A),Ut(document,{contextmenu:Ki,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(A){this._moved||(this._moved=!0,this._box=_t("div","leaflet-zoom-box",this._container),Br(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(A);var f=new M(this._point,this._startPoint),v=f.getSize();He(this._box,f.min),this._box.style.width=v.x+"px",this._box.style.height=v.y+"px"},_finish:function(){this._moved&&(Gt(this._box),rn(this._container,"leaflet-crosshair")),dr(),Mr(),mn(document,{contextmenu:Ki,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(A){if(!(A.which!==1&&A.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(d(this._resetState,this),0);var f=new $(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(f).fire("boxzoomend",{boxZoomBounds:f})}},_onKeyDown:function(A){A.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Yr.addInitHook("addHandler","boxZoom",ha),Yr.mergeOptions({doubleClickZoom:!0});var mA=ye.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(A){var f=this._map,v=f.getZoom(),E=f.options.zoomDelta,R=A.originalEvent.shiftKey?v-E:v+E;f.options.doubleClickZoom==="center"?f.setZoom(R):f.setZoomAround(A.containerPoint,R)}});Yr.addInitHook("addHandler","doubleClickZoom",mA),Yr.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ii=ye.extend({addHooks:function(){if(!this._draggable){var A=this._map;this._draggable=new ct(A._mapPane,A._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),A.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),A.on("zoomend",this._onZoomEnd,this),A.whenReady(this._onZoomEnd,this))}Br(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){rn(this._map._container,"leaflet-grab"),rn(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var A=this._map;if(A._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var f=X(this._map.options.maxBounds);this._offsetLimit=T(this._map.latLngToContainerPoint(f.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(f.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;A.fire("movestart").fire("dragstart"),A.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(A){if(this._map.options.inertia){var f=this._lastTime=+new Date,v=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(v),this._times.push(f),this._prunePositions(f)}this._map.fire("move",A).fire("drag",A)},_prunePositions:function(A){for(;this._positions.length>1&&A-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var A=this._map.getSize().divideBy(2),f=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=f.subtract(A).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(A,f){return A-(A-f)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var A=this._draggable._newPos.subtract(this._draggable._startPos),f=this._offsetLimit;A.x<f.min.x&&(A.x=this._viscousLimit(A.x,f.min.x)),A.y<f.min.y&&(A.y=this._viscousLimit(A.y,f.min.y)),A.x>f.max.x&&(A.x=this._viscousLimit(A.x,f.max.x)),A.y>f.max.y&&(A.y=this._viscousLimit(A.y,f.max.y)),this._draggable._newPos=this._draggable._startPos.add(A)}},_onPreDragWrap:function(){var A=this._worldWidth,f=Math.round(A/2),v=this._initialWorldOffset,E=this._draggable._newPos.x,R=(E-f+v)%A+f-v,ae=(E+f+v)%A-f-v,Ee=Math.abs(R+v)<Math.abs(ae+v)?R:ae;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Ee},_onDragEnd:function(A){var f=this._map,v=f.options,E=!v.inertia||A.noInertia||this._times.length<2;if(f.fire("dragend",A),E)f.fire("moveend");else{this._prunePositions(+new Date);var R=this._lastPos.subtract(this._positions[0]),ae=(this._lastTime-this._times[0])/1e3,Ee=v.easeLinearity,qe=R.multiplyBy(Ee/ae),tt=qe.distanceTo([0,0]),vt=Math.min(v.inertiaMaxSpeed,tt),Kt=qe.multiplyBy(vt/tt),br=vt/(v.inertiaDeceleration*Ee),Wr=Kt.multiplyBy(-br/2).round();!Wr.x&&!Wr.y?f.fire("moveend"):(Wr=f._limitOffset(Wr,f.options.maxBounds),K(function(){f.panBy(Wr,{duration:br,easeLinearity:Ee,noMoveStart:!0,animate:!0})}))}}});Yr.addInitHook("addHandler","dragging",ii),Yr.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Pl=ye.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(A){this._map=A,this._setPanDelta(A.options.keyboardPanDelta),this._setZoomDelta(A.options.zoomDelta)},addHooks:function(){var A=this._map._container;A.tabIndex<=0&&(A.tabIndex="0"),Ut(A,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),mn(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var A=document.body,f=document.documentElement,v=A.scrollTop||f.scrollTop,E=A.scrollLeft||f.scrollLeft;this._map._container.focus(),window.scrollTo(E,v)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(A){var f=this._panKeys={},v=this.keyCodes,E,R;for(E=0,R=v.left.length;E<R;E++)f[v.left[E]]=[-1*A,0];for(E=0,R=v.right.length;E<R;E++)f[v.right[E]]=[A,0];for(E=0,R=v.down.length;E<R;E++)f[v.down[E]]=[0,A];for(E=0,R=v.up.length;E<R;E++)f[v.up[E]]=[0,-1*A]},_setZoomDelta:function(A){var f=this._zoomKeys={},v=this.keyCodes,E,R;for(E=0,R=v.zoomIn.length;E<R;E++)f[v.zoomIn[E]]=A;for(E=0,R=v.zoomOut.length;E<R;E++)f[v.zoomOut[E]]=-A},_addHooks:function(){Ut(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){mn(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(A){if(!(A.altKey||A.ctrlKey||A.metaKey)){var f=A.keyCode,v=this._map,E;if(f in this._panKeys){if(!v._panAnim||!v._panAnim._inProgress)if(E=this._panKeys[f],A.shiftKey&&(E=Ne(E).multiplyBy(3)),v.options.maxBounds&&(E=v._limitOffset(Ne(E),v.options.maxBounds)),v.options.worldCopyJump){var R=v.wrapLatLng(v.unproject(v.project(v.getCenter()).add(E)));v.panTo(R)}else v.panBy(E)}else if(f in this._zoomKeys)v.setZoom(v.getZoom()+(A.shiftKey?3:1)*this._zoomKeys[f]);else if(f===27&&v._popup&&v._popup.options.closeOnEscapeKey)v.closePopup();else return;Ki(A)}}});Yr.addInitHook("addHandler","keyboard",Pl),Yr.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var fl=ye.extend({addHooks:function(){Ut(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){mn(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(A){var f=qs(A),v=this._map.options.wheelDebounceTime;this._delta+=f,this._lastMousePos=this._map.mouseEventToContainerPoint(A),this._startTime||(this._startTime=+new Date);var E=Math.max(v-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(d(this._performZoom,this),E),Ki(A)},_performZoom:function(){var A=this._map,f=A.getZoom(),v=this._map.options.zoomSnap||0;A._stop();var E=this._delta/(this._map.options.wheelPxPerZoomLevel*4),R=4*Math.log(2/(1+Math.exp(-Math.abs(E))))/Math.LN2,ae=v?Math.ceil(R/v)*v:R,Ee=A._limitZoom(f+(this._delta>0?ae:-ae))-f;this._delta=0,this._startTime=null,Ee&&(A.options.scrollWheelZoom==="center"?A.setZoom(f+Ee):A.setZoomAround(this._lastMousePos,f+Ee))}});Yr.addInitHook("addHandler","scrollWheelZoom",fl);var Vo=600;Yr.mergeOptions({tapHold:Ft.touchNative&&Ft.safari&&Ft.mobile,tapTolerance:15});var Hl=ye.extend({addHooks:function(){Ut(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){mn(this._map._container,"touchstart",this._onDown,this)},_onDown:function(A){if(clearTimeout(this._holdTimeout),A.touches.length===1){var f=A.touches[0];this._startPos=this._newPos=new ee(f.clientX,f.clientY),this._holdTimeout=setTimeout(d(function(){this._cancel(),this._isTapValid()&&(Ut(document,"touchend",Zn),Ut(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",f))},this),Vo),Ut(document,"touchend touchcancel contextmenu",this._cancel,this),Ut(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function A(){mn(document,"touchend",Zn),mn(document,"touchend touchcancel",A)},_cancel:function(){clearTimeout(this._holdTimeout),mn(document,"touchend touchcancel contextmenu",this._cancel,this),mn(document,"touchmove",this._onMove,this)},_onMove:function(A){var f=A.touches[0];this._newPos=new ee(f.clientX,f.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(A,f){var v=new MouseEvent(A,{bubbles:!0,cancelable:!0,view:window,screenX:f.screenX,screenY:f.screenY,clientX:f.clientX,clientY:f.clientY});v._simulated=!0,f.target.dispatchEvent(v)}});Yr.addInitHook("addHandler","tapHold",Hl),Yr.mergeOptions({touchZoom:Ft.touch,bounceAtZoomLimits:!0});var gA=ye.extend({addHooks:function(){Br(this._map._container,"leaflet-touch-zoom"),Ut(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){rn(this._map._container,"leaflet-touch-zoom"),mn(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(A){var f=this._map;if(!(!A.touches||A.touches.length!==2||f._animatingZoom||this._zooming)){var v=f.mouseEventToContainerPoint(A.touches[0]),E=f.mouseEventToContainerPoint(A.touches[1]);this._centerPoint=f.getSize()._divideBy(2),this._startLatLng=f.containerPointToLatLng(this._centerPoint),f.options.touchZoom!=="center"&&(this._pinchStartLatLng=f.containerPointToLatLng(v.add(E)._divideBy(2))),this._startDist=v.distanceTo(E),this._startZoom=f.getZoom(),this._moved=!1,this._zooming=!0,f._stop(),Ut(document,"touchmove",this._onTouchMove,this),Ut(document,"touchend touchcancel",this._onTouchEnd,this),Zn(A)}},_onTouchMove:function(A){if(!(!A.touches||A.touches.length!==2||!this._zooming)){var f=this._map,v=f.mouseEventToContainerPoint(A.touches[0]),E=f.mouseEventToContainerPoint(A.touches[1]),R=v.distanceTo(E)/this._startDist;if(this._zoom=f.getScaleZoom(R,this._startZoom),!f.options.bounceAtZoomLimits&&(this._zoom<f.getMinZoom()&&R<1||this._zoom>f.getMaxZoom()&&R>1)&&(this._zoom=f._limitZoom(this._zoom)),f.options.touchZoom==="center"){if(this._center=this._startLatLng,R===1)return}else{var ae=v._add(E)._divideBy(2)._subtract(this._centerPoint);if(R===1&&ae.x===0&&ae.y===0)return;this._center=f.unproject(f.project(this._pinchStartLatLng,this._zoom).subtract(ae),this._zoom)}this._moved||(f._moveStart(!0,!1),this._moved=!0),W(this._animRequest);var Ee=d(f._move,f,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=K(Ee,this,!0),Zn(A)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,W(this._animRequest),mn(document,"touchmove",this._onTouchMove,this),mn(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Yr.addInitHook("addHandler","touchZoom",gA),Yr.BoxZoom=ha,Yr.DoubleClickZoom=mA,Yr.Drag=ii,Yr.Keyboard=Pl,Yr.ScrollWheelZoom=fl,Yr.TapHold=Hl,Yr.TouchZoom=gA,r.Bounds=M,r.Browser=Ft,r.CRS=Be,r.Canvas=pA,r.Circle=Pi,r.CircleMarker=ni,r.Class=z,r.Control=zs,r.DivIcon=Ic,r.DivOverlay=Is,r.DomEvent=gi,r.DomUtil=Fi,r.Draggable=ct,r.Evented=me,r.FeatureGroup=ti,r.GeoJSON=Js,r.GridLayer=hl,r.Handler=ye,r.Icon=_a,r.ImageOverlay=Ta,r.LatLng=Ae,r.LatLngBounds=$,r.Layer=Yn,r.LayerGroup=Ha,r.LineUtil=dl,r.Map=Yr,r.Marker=Mi,r.Mixin=Ie,r.Path=ps,r.Point=ee,r.PolyUtil=Tr,r.Polygon=Co,r.Polyline=za,r.Popup=eo,r.PosAnimation=Vi,r.Projection=qo,r.Rectangle=Ys,r.Renderer=Fa,r.SVG=jo,r.SVGOverlay=ms,r.TileLayer=wi,r.Tooltip=Rl,r.Transformation=Qe,r.Util=ie,r.VideoOverlay=hn,r.bind=d,r.bounds=T,r.canvas=Ml,r.circle=Ql,r.circleMarker=$i,r.control=ei,r.divIcon=bd,r.extend=i,r.featureGroup=ri,r.geoJSON=Yi,r.geoJson=Ba,r.gridLayer=kc,r.icon=Bo,r.imageOverlay=Bn,r.latLng=xe,r.latLngBounds=X,r.layerGroup=Ol,r.map=cl,r.marker=qa,r.point=Ne,r.polygon=Zi,r.polyline=ws,r.popup=fA,r.rectangle=GA,r.setOptions=U,r.stamp=h,r.svg=ua,r.svgOverlay=Wi,r.tileLayer=si,r.tooltip=xd,r.transformation=Re,r.version=n,r.videoOverlay=Xn;var ql=window.L;r.noConflict=function(){return window.L=ql,this},window.L=r}))})(Eh,Eh.exports)),Eh.exports}var pd=Wj();const Ds=zm(pd);function RB(t,e){const r=F.useRef(e);F.useEffect(function(){e!==r.current&&t.attributionControl!=null&&(r.current!=null&&t.attributionControl.removeAttribution(r.current),e!=null&&t.attributionControl.addAttribution(e)),r.current=e},[t,e])}var xv=_B();const eL=zm(xv),tL=1;function rL(t){return Object.freeze({__version:tL,map:t})}function DB(t,e){return Object.freeze({...t,...e})}const $m=F.createContext(null);function ff(){const t=F.use($m);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function nL(t){function e(r,n){const{instance:i,context:l}=t(r).current;F.useImperativeHandle(n,()=>i);const{children:d}=r;return d==null?null:Ht.createElement($m,{value:l},d)}return F.forwardRef(e)}function sL(t){function e(r,n){const[i,l]=F.useState(!1),{instance:d}=t(r,l).current;F.useImperativeHandle(n,()=>d),F.useEffect(function(){i&&d.update()},[d,i,r.children]);const u=d._contentNode;return u?xv.createPortal(r.children,u):null}return F.forwardRef(e)}function aL(t){function e(r,n){const{instance:i}=t(r).current;return F.useImperativeHandle(n,()=>i),null}return F.forwardRef(e)}function bv(t,e){const r=F.useRef(void 0);F.useEffect(function(){return e!=null&&t.instance.on(e),r.current=e,function(){r.current!=null&&t.instance.off(r.current),r.current=null}},[t,e])}function Zm(t,e){const r=t.pane??e.pane;return r?{...t,pane:r}:t}function iL(t,e){return function(n,i){const l=ff(),d=t(Zm(n,l),l);return RB(l.map,n.attribution),bv(d.current,n.eventHandlers),e(d.current,l,n,i),d}}function oL(t){return t.split(" ").filter(Boolean)}function lL(t,e){for(const r of oL(e))pd.DomUtil.addClass(t,r)}function Xm(t,e,r){return Object.freeze({instance:t,context:e,container:r})}function vv(t,e){return e==null?function(n,i){const l=F.useRef(void 0);return l.current||(l.current=t(n,i)),l}:function(n,i){const l=F.useRef(void 0);l.current||(l.current=t(n,i));const d=F.useRef(n),{instance:u}=l.current;return F.useEffect(function(){d.current!==n&&(e(u,n,d.current),d.current=n)},[u,n,e]),l}}function MB(t,e){F.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){var l;(l=e.layerContainer)==null||l.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function AL(t){return function(r){const n=ff(),i=t(Zm(r,n),n);return RB(n.map,r.attribution),bv(i.current,r.eventHandlers),MB(i.current,n),i}}function cL(t,e){const r=F.useRef(void 0);F.useEffect(function(){if(e.pathOptions!==r.current){const i=e.pathOptions??{};t.instance.setStyle(i),r.current=i}},[t,e])}function dL(t){return function(r){const n=ff(),i=t(Zm(r,n),n);return bv(i.current,r.eventHandlers),MB(i.current,n),cL(i.current,r),i}}function uL(t,e){const r=vv(t),n=iL(r,e);return sL(n)}function PB(t,e){const r=vv(t,e),n=dL(r);return nL(n)}function hL(t,e){const r=vv(t,e),n=AL(r);return aL(n)}function fL(t,e,r){const{opacity:n,zIndex:i}=e;n!=null&&n!==r.opacity&&t.setOpacity(n),i!=null&&i!==r.zIndex&&t.setZIndex(i)}function Iu(){return ff().map}const HB=PB(function({children:e,...r},n){const i=new pd.FeatureGroup([],r);return Xm(i,DB(n,{layerContainer:i,overlayContainer:i}))});function pL({bounds:t,boundsOptions:e,center:r,children:n,className:i,id:l,placeholder:d,style:u,whenReady:h,zoom:m,...g},b){const[B]=F.useState({className:i,id:l,style:u}),[w,S]=F.useState(null),U=F.useRef(void 0);F.useImperativeHandle(b,()=>(w==null?void 0:w.map)??null,[w]);const k=F.useCallback(O=>{if(O!==null&&!U.current){const D=new pd.Map(O,g);U.current=D,r!=null&&m!=null?D.setView(r,m):t!=null&&D.fitBounds(t,e),h!=null&&D.whenReady(h),S(rL(D))}},[]);F.useEffect(()=>()=>{w==null||w.map.remove()},[w]);const C=w?Ht.createElement($m,{value:w},n):d??null;return Ht.createElement("div",{...B,ref:k},C)}const yv=F.forwardRef(pL),mL=["mapPane","markerPane","overlayPane","popupPane","shadowPane","tilePane","tooltipPane"];function Qw(t,e){const{[e]:r,...n}=t;return n}function gL(t,e,r){if(mL.indexOf(t)!==-1)throw new Error(`You must use a unique name for a pane that is not a default Leaflet pane: ${t}`);if(r.map.getPane(t)!=null)throw new Error(`A pane with this name already exists: ${t}`);const n=e.pane??r.pane,i=n?r.map.getPane(n):void 0,l=r.map.createPane(t,i);if(e.className!=null&&lL(l,e.className),e.style!=null)for(const d of Object.keys(e.style))l.style[d]=e.style[d];return l}function xL(t,e){const[r]=F.useState(t.name),[n,i]=F.useState(null);F.useImperativeHandle(e,()=>n,[n]);const l=ff(),d=F.useMemo(()=>({...l,pane:r}),[l]);return F.useEffect(()=>(i(gL(r,t,l)),function(){var m;const h=l.map.getPane(r);(m=h==null?void 0:h.remove)==null||m.call(h),l.map._panes!=null&&(l.map._panes=Qw(l.map._panes,r),l.map._paneRenderers=Qw(l.map._paneRenderers,r))}),[]),t.children!=null&&n!=null?xv.createPortal(Ht.createElement($m,{value:d},t.children),n):null}const qB=F.forwardRef(xL),wv=PB(function({positions:e,...r},n){const i=new pd.Polygon(e,r);return Xm(i,DB(n,{overlayContainer:i}))},function(e,r,n){r.positions!==n.positions&&e.setLatLngs(r.positions)}),_v=hL(function({url:e,...r},n){const i=new pd.TileLayer(e,Zm(r,n));return Xm(i,n)},function(e,r,n){fL(e,r,n);const{url:i}=r;i!=null&&i!==n.url&&e.setUrl(i)}),Bv=uL(function(e,r){const n=new pd.Tooltip(e,r.overlayContainer);return Xm(n,r)},function(e,r,{position:n},i){F.useEffect(function(){const d=r.overlayContainer;if(d==null)return;const{instance:u}=e,h=g=>{g.tooltip===u&&(n!=null&&u.setLatLng(n),u.update(),i(!0))},m=g=>{g.tooltip===u&&i(!1)};return d.on({tooltipopen:h,tooltipclose:m}),d.bindTooltip(u),function(){d.off({tooltipopen:h,tooltipclose:m}),d._map!=null&&d.unbindTooltip()}},[e,r,i,n])});/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ub=function(t,e){return ub=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},ub(t,e)};function Ul(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");ub(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var hb=function(){return hb=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},hb.apply(this,arguments)};function qi(t,e,r,n){function i(l){return l instanceof r?l:new r(function(d){d(l)})}return new(r||(r=Promise))(function(l,d){function u(g){try{m(n.next(g))}catch(b){d(b)}}function h(g){try{m(n.throw(g))}catch(b){d(b)}}function m(g){g.done?l(g.value):i(g.value).then(u,h)}m((n=n.apply(t,[])).next())})}function Ui(t,e){var r={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},n,i,l,d;return d={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function u(m){return function(g){return h([m,g])}}function h(m){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(l=m[0]&2?i.return:m[0]?i.throw||((l=i.return)&&l.call(i),0):i.next)&&!(l=l.call(i,m[1])).done)return l;switch(i=0,l&&(m=[m[0]&2,l.value]),m[0]){case 0:case 1:l=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,i=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(l=r.trys,!(l=l.length>0&&l[l.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!l||m[1]>l[0]&&m[1]<l[3])){r.label=m[1];break}if(m[0]===6&&r.label<l[1]){r.label=l[1],l=m;break}if(l&&r.label<l[2]){r.label=l[2],r.ops.push(m);break}l[2]&&r.ops.pop(),r.trys.pop();continue}m=e.call(t,r)}catch(g){m=[6,g],i=0}finally{n=l=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}}function dp(t,e,r){if(arguments.length===2)for(var n=0,i=e.length,l;n<i;n++)(l||!(n in e))&&(l||(l=Array.prototype.slice.call(e,0,n)),l[n]=e[n]);return t.concat(l||e)}var qA=(function(){function t(e,r,n,i){this.left=e,this.top=r,this.width=n,this.height=i}return t.prototype.add=function(e,r,n,i){return new t(this.left+e,this.top+r,this.width+n,this.height+i)},t.fromClientRect=function(e,r){return new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height)},t.fromDOMRectList=function(e,r){var n=Array.from(r).find(function(i){return i.width!==0});return n?new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t})(),Jm=function(t,e){return qA.fromClientRect(t,e.getBoundingClientRect())},bL=function(t){var e=t.body,r=t.documentElement;if(!e||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(e.scrollWidth,r.scrollWidth),Math.max(e.offsetWidth,r.offsetWidth),Math.max(e.clientWidth,r.clientWidth)),i=Math.max(Math.max(e.scrollHeight,r.scrollHeight),Math.max(e.offsetHeight,r.offsetHeight),Math.max(e.clientHeight,r.clientHeight));return new qA(0,0,n,i)},Ym=function(t){for(var e=[],r=0,n=t.length;r<n;){var i=t.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var l=t.charCodeAt(r++);(l&64512)===56320?e.push(((i&1023)<<10)+(l&1023)+65536):(e.push(i),r--)}else e.push(i)}return e},xa=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],i=-1,l="";++i<r;){var d=t[i];d<=65535?n.push(d):(d-=65536,n.push((d>>10)+55296,d%1024+56320)),(i+1===r||n.length>16384)&&(l+=String.fromCharCode.apply(String,n),n.length=0)}return l},Rw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",vL=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var up=0;up<Rw.length;up++)vL[Rw.charCodeAt(up)]=up;var Dw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Sh=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var hp=0;hp<Dw.length;hp++)Sh[Dw.charCodeAt(hp)]=hp;var yL=function(t){var e=t.length*.75,r=t.length,n,i=0,l,d,u,h;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var m=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),g=Array.isArray(m)?m:new Uint8Array(m);for(n=0;n<r;n+=4)l=Sh[t.charCodeAt(n)],d=Sh[t.charCodeAt(n+1)],u=Sh[t.charCodeAt(n+2)],h=Sh[t.charCodeAt(n+3)],g[i++]=l<<2|d>>4,g[i++]=(d&15)<<4|u>>2,g[i++]=(u&3)<<6|h&63;return m},wL=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},_L=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},od=5,Nv=11,H0=2,BL=Nv-od,zB=65536>>od,NL=1<<od,q0=NL-1,CL=1024>>od,EL=zB+CL,SL=EL,jL=32,LL=SL+jL,UL=65536>>Nv,IL=1<<BL,kL=IL-1,Mw=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},TL=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},FL=function(t,e){var r=yL(t),n=Array.isArray(r)?_L(r):new Uint32Array(r),i=Array.isArray(r)?wL(r):new Uint16Array(r),l=24,d=Mw(i,l/2,n[4]/2),u=n[5]===2?Mw(i,(l+n[4])/2):TL(n,Math.ceil((l+n[4])/4));return new OL(n[0],n[1],n[2],n[3],d,u)},OL=(function(){function t(e,r,n,i,l,d){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=i,this.index=l,this.data=d}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>od],r=(r<<H0)+(e&q0),this.data[r];if(e<=65535)return r=this.index[zB+(e-55296>>od)],r=(r<<H0)+(e&q0),this.data[r];if(e<this.highStart)return r=LL-UL+(e>>Nv),r=this.index[r],r+=e>>od&kL,r=this.index[r],r=(r<<H0)+(e&q0),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t})(),Pw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",QL=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var fp=0;fp<Pw.length;fp++)QL[Pw.charCodeAt(fp)]=fp;var RL="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",Hw=50,DL=1,KB=2,VB=3,ML=4,PL=5,qw=7,GB=8,zw=9,wc=10,fb=11,Kw=12,pb=13,HL=14,jh=15,mb=16,pp=17,fh=18,qL=19,Vw=20,gb=21,ph=22,z0=23,zd=24,Oo=25,Lh=26,Uh=27,Kd=28,zL=29,Jc=30,KL=31,mp=32,gp=33,xb=34,bb=35,vb=36,Wh=37,yb=38,am=39,im=40,K0=41,$B=42,VL=43,GL=[9001,65288],ZB="!",yn="",xp="",wb=FL(RL),UA=[Jc,vb],_b=[DL,KB,VB,PL],XB=[wc,GB],Gw=[Uh,Lh],$L=_b.concat(XB),$w=[yb,am,im,xb,bb],ZL=[jh,pb],XL=function(t,e){e===void 0&&(e="strict");var r=[],n=[],i=[];return t.forEach(function(l,d){var u=wb.get(l);if(u>Hw?(i.push(!0),u-=Hw):i.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(l)!==-1)return n.push(d),r.push(mb);if(u===ML||u===fb){if(d===0)return n.push(d),r.push(Jc);var h=r[d-1];return $L.indexOf(h)===-1?(n.push(n[d-1]),r.push(h)):(n.push(d),r.push(Jc))}if(n.push(d),u===KL)return r.push(e==="strict"?gb:Wh);if(u===$B||u===zL)return r.push(Jc);if(u===VL)return l>=131072&&l<=196605||l>=196608&&l<=262141?r.push(Wh):r.push(Jc);r.push(u)}),[n,r,i]},V0=function(t,e,r,n){var i=n[r];if(Array.isArray(t)?t.indexOf(i)!==-1:t===i)for(var l=r;l<=n.length;){l++;var d=n[l];if(d===e)return!0;if(d!==wc)break}if(i===wc)for(var l=r;l>0;){l--;var u=n[l];if(Array.isArray(t)?t.indexOf(u)!==-1:t===u)for(var h=r;h<=n.length;){h++;var d=n[h];if(d===e)return!0;if(d!==wc)break}if(u!==wc)break}return!1},Zw=function(t,e){for(var r=t;r>=0;){var n=e[r];if(n===wc)r--;else return n}return 0},JL=function(t,e,r,n,i){if(r[n]===0)return yn;var l=n-1;if(Array.isArray(i)&&i[l]===!0)return yn;var d=l-1,u=l+1,h=e[l],m=d>=0?e[d]:0,g=e[u];if(h===KB&&g===VB)return yn;if(_b.indexOf(h)!==-1)return ZB;if(_b.indexOf(g)!==-1||XB.indexOf(g)!==-1)return yn;if(Zw(l,e)===GB)return xp;if(wb.get(t[l])===fb||(h===mp||h===gp)&&wb.get(t[u])===fb||h===qw||g===qw||h===zw||[wc,pb,jh].indexOf(h)===-1&&g===zw||[pp,fh,qL,zd,Kd].indexOf(g)!==-1||Zw(l,e)===ph||V0(z0,ph,l,e)||V0([pp,fh],gb,l,e)||V0(Kw,Kw,l,e))return yn;if(h===wc)return xp;if(h===z0||g===z0)return yn;if(g===mb||h===mb)return xp;if([pb,jh,gb].indexOf(g)!==-1||h===HL||m===vb&&ZL.indexOf(h)!==-1||h===Kd&&g===vb||g===Vw||UA.indexOf(g)!==-1&&h===Oo||UA.indexOf(h)!==-1&&g===Oo||h===Uh&&[Wh,mp,gp].indexOf(g)!==-1||[Wh,mp,gp].indexOf(h)!==-1&&g===Lh||UA.indexOf(h)!==-1&&Gw.indexOf(g)!==-1||Gw.indexOf(h)!==-1&&UA.indexOf(g)!==-1||[Uh,Lh].indexOf(h)!==-1&&(g===Oo||[ph,jh].indexOf(g)!==-1&&e[u+1]===Oo)||[ph,jh].indexOf(h)!==-1&&g===Oo||h===Oo&&[Oo,Kd,zd].indexOf(g)!==-1)return yn;if([Oo,Kd,zd,pp,fh].indexOf(g)!==-1)for(var b=l;b>=0;){var B=e[b];if(B===Oo)return yn;if([Kd,zd].indexOf(B)!==-1)b--;else break}if([Uh,Lh].indexOf(g)!==-1)for(var b=[pp,fh].indexOf(h)!==-1?d:l;b>=0;){var B=e[b];if(B===Oo)return yn;if([Kd,zd].indexOf(B)!==-1)b--;else break}if(yb===h&&[yb,am,xb,bb].indexOf(g)!==-1||[am,xb].indexOf(h)!==-1&&[am,im].indexOf(g)!==-1||[im,bb].indexOf(h)!==-1&&g===im||$w.indexOf(h)!==-1&&[Vw,Lh].indexOf(g)!==-1||$w.indexOf(g)!==-1&&h===Uh||UA.indexOf(h)!==-1&&UA.indexOf(g)!==-1||h===zd&&UA.indexOf(g)!==-1||UA.concat(Oo).indexOf(h)!==-1&&g===ph&&GL.indexOf(t[u])===-1||UA.concat(Oo).indexOf(g)!==-1&&h===fh)return yn;if(h===K0&&g===K0){for(var w=r[l],S=1;w>0&&(w--,e[w]===K0);)S++;if(S%2!==0)return yn}return h===mp&&g===gp?yn:xp},YL=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var r=XL(t,e.lineBreak),n=r[0],i=r[1],l=r[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(i=i.map(function(u){return[Oo,Jc,$B].indexOf(u)!==-1?Wh:u}));var d=e.wordBreak==="keep-all"?l.map(function(u,h){return u&&t[h]>=19968&&t[h]<=40959}):void 0;return[n,i,d]},WL=(function(){function t(e,r,n,i){this.codePoints=e,this.required=r===ZB,this.start=n,this.end=i}return t.prototype.slice=function(){return xa.apply(void 0,this.codePoints.slice(this.start,this.end))},t})(),eU=function(t,e){var r=Ym(t),n=YL(r,e),i=n[0],l=n[1],d=n[2],u=r.length,h=0,m=0;return{next:function(){if(m>=u)return{done:!0,value:null};for(var g=yn;m<u&&(g=JL(r,l,i,++m,d))===yn;);if(g!==yn||m===u){var b=new WL(r,g,h,m);return h=m,{value:b,done:!1}}return{done:!0,value:null}}}},tU=1,rU=2,pf=4,Xw=8,Nm=10,Jw=47,Qh=92,nU=9,sU=32,bp=34,mh=61,aU=35,iU=36,oU=37,vp=39,yp=40,gh=41,lU=95,ho=45,AU=33,cU=60,dU=62,uU=64,hU=91,fU=93,pU=61,mU=123,wp=63,gU=125,Yw=124,xU=126,bU=128,Ww=65533,G0=42,sd=43,vU=44,yU=58,wU=59,ef=46,_U=0,BU=8,NU=11,CU=14,EU=31,SU=127,tA=-1,JB=48,YB=97,WB=101,jU=102,LU=117,UU=122,eN=65,tN=69,rN=70,IU=85,kU=90,ki=function(t){return t>=JB&&t<=57},TU=function(t){return t>=55296&&t<=57343},Vd=function(t){return ki(t)||t>=eN&&t<=rN||t>=YB&&t<=jU},FU=function(t){return t>=YB&&t<=UU},OU=function(t){return t>=eN&&t<=kU},QU=function(t){return FU(t)||OU(t)},RU=function(t){return t>=bU},_p=function(t){return t===Nm||t===nU||t===sU},Cm=function(t){return QU(t)||RU(t)||t===lU},e2=function(t){return Cm(t)||ki(t)||t===ho},DU=function(t){return t>=_U&&t<=BU||t===NU||t>=CU&&t<=EU||t===SU},xc=function(t,e){return t!==Qh?!1:e!==Nm},Bp=function(t,e,r){return t===ho?Cm(e)||xc(e,r):Cm(t)?!0:!!(t===Qh&&xc(t,e))},$0=function(t,e,r){return t===sd||t===ho?ki(e)?!0:e===ef&&ki(r):ki(t===ef?e:t)},MU=function(t){var e=0,r=1;(t[e]===sd||t[e]===ho)&&(t[e]===ho&&(r=-1),e++);for(var n=[];ki(t[e]);)n.push(t[e++]);var i=n.length?parseInt(xa.apply(void 0,n),10):0;t[e]===ef&&e++;for(var l=[];ki(t[e]);)l.push(t[e++]);var d=l.length,u=d?parseInt(xa.apply(void 0,l),10):0;(t[e]===tN||t[e]===WB)&&e++;var h=1;(t[e]===sd||t[e]===ho)&&(t[e]===ho&&(h=-1),e++);for(var m=[];ki(t[e]);)m.push(t[e++]);var g=m.length?parseInt(xa.apply(void 0,m),10):0;return r*(i+u*Math.pow(10,-d))*Math.pow(10,h*g)},PU={type:2},HU={type:3},qU={type:4},zU={type:13},KU={type:8},VU={type:21},GU={type:9},$U={type:10},ZU={type:11},XU={type:12},JU={type:14},Np={type:23},YU={type:1},WU={type:25},e6={type:24},t6={type:26},r6={type:27},n6={type:28},s6={type:29},a6={type:31},Bb={type:32},nN=(function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(Ym(e))},t.prototype.read=function(){for(var e=[],r=this.consumeToken();r!==Bb;)e.push(r),r=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case bp:return this.consumeStringToken(bp);case aU:var r=this.peekCodePoint(0),n=this.peekCodePoint(1),i=this.peekCodePoint(2);if(e2(r)||xc(n,i)){var l=Bp(r,n,i)?rU:tU,d=this.consumeName();return{type:5,value:d,flags:l}}break;case iU:if(this.peekCodePoint(0)===mh)return this.consumeCodePoint(),zU;break;case vp:return this.consumeStringToken(vp);case yp:return PU;case gh:return HU;case G0:if(this.peekCodePoint(0)===mh)return this.consumeCodePoint(),JU;break;case sd:if($0(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case vU:return qU;case ho:var u=e,h=this.peekCodePoint(0),m=this.peekCodePoint(1);if($0(u,h,m))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(Bp(u,h,m))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(h===ho&&m===dU)return this.consumeCodePoint(),this.consumeCodePoint(),e6;break;case ef:if($0(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case Jw:if(this.peekCodePoint(0)===G0)for(this.consumeCodePoint();;){var g=this.consumeCodePoint();if(g===G0&&(g=this.consumeCodePoint(),g===Jw))return this.consumeToken();if(g===tA)return this.consumeToken()}break;case yU:return t6;case wU:return r6;case cU:if(this.peekCodePoint(0)===AU&&this.peekCodePoint(1)===ho&&this.peekCodePoint(2)===ho)return this.consumeCodePoint(),this.consumeCodePoint(),WU;break;case uU:var b=this.peekCodePoint(0),B=this.peekCodePoint(1),w=this.peekCodePoint(2);if(Bp(b,B,w)){var d=this.consumeName();return{type:7,value:d}}break;case hU:return n6;case Qh:if(xc(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case fU:return s6;case pU:if(this.peekCodePoint(0)===mh)return this.consumeCodePoint(),KU;break;case mU:return ZU;case gU:return XU;case LU:case IU:var S=this.peekCodePoint(0),U=this.peekCodePoint(1);return S===sd&&(Vd(U)||U===wp)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case Yw:if(this.peekCodePoint(0)===mh)return this.consumeCodePoint(),GU;if(this.peekCodePoint(0)===Yw)return this.consumeCodePoint(),VU;break;case xU:if(this.peekCodePoint(0)===mh)return this.consumeCodePoint(),$U;break;case tA:return Bb}return _p(e)?(this.consumeWhiteSpace(),a6):ki(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):Cm(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:xa(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],r=this.consumeCodePoint();Vd(r)&&e.length<6;)e.push(r),r=this.consumeCodePoint();for(var n=!1;r===wp&&e.length<6;)e.push(r),r=this.consumeCodePoint(),n=!0;if(n){var i=parseInt(xa.apply(void 0,e.map(function(h){return h===wp?JB:h})),16),l=parseInt(xa.apply(void 0,e.map(function(h){return h===wp?rN:h})),16);return{type:30,start:i,end:l}}var d=parseInt(xa.apply(void 0,e),16);if(this.peekCodePoint(0)===ho&&Vd(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var u=[];Vd(r)&&u.length<6;)u.push(r),r=this.consumeCodePoint();var l=parseInt(xa.apply(void 0,u),16);return{type:30,start:d,end:l}}else return{type:30,start:d,end:d}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===yp?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===yp?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===tA)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===vp||r===bp){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===tA||this.peekCodePoint(0)===gh)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),Np)}for(;;){var i=this.consumeCodePoint();if(i===tA||i===gh)return{type:22,value:xa.apply(void 0,e)};if(_p(i))return this.consumeWhiteSpace(),this.peekCodePoint(0)===tA||this.peekCodePoint(0)===gh?(this.consumeCodePoint(),{type:22,value:xa.apply(void 0,e)}):(this.consumeBadUrlRemnants(),Np);if(i===bp||i===vp||i===yp||DU(i))return this.consumeBadUrlRemnants(),Np;if(i===Qh)if(xc(i,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),Np;else e.push(i)}},t.prototype.consumeWhiteSpace=function(){for(;_p(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===gh||e===tA)return;xc(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var r=5e4,n="";e>0;){var i=Math.min(r,e);n+=xa.apply(void 0,this._value.splice(0,i)),e-=i}return this._value.shift(),n},t.prototype.consumeStringToken=function(e){var r="",n=0;do{var i=this._value[n];if(i===tA||i===void 0||i===e)return r+=this.consumeStringSlice(n),{type:0,value:r};if(i===Nm)return this._value.splice(0,n),YU;if(i===Qh){var l=this._value[n+1];l!==tA&&l!==void 0&&(l===Nm?(r+=this.consumeStringSlice(n),n=-1,this._value.shift()):xc(i,l)&&(r+=this.consumeStringSlice(n),r+=xa(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},t.prototype.consumeNumber=function(){var e=[],r=pf,n=this.peekCodePoint(0);for((n===sd||n===ho)&&e.push(this.consumeCodePoint());ki(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(n===ef&&ki(i))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=Xw;ki(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),i=this.peekCodePoint(1);var l=this.peekCodePoint(2);if((n===tN||n===WB)&&((i===sd||i===ho)&&ki(l)||ki(i)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=Xw;ki(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[MU(e),r]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),r=e[0],n=e[1],i=this.peekCodePoint(0),l=this.peekCodePoint(1),d=this.peekCodePoint(2);if(Bp(i,l,d)){var u=this.consumeName();return{type:15,number:r,flags:n,unit:u}}return i===oU?(this.consumeCodePoint(),{type:16,number:r,flags:n}):{type:17,number:r,flags:n}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(Vd(e)){for(var r=xa(e);Vd(this.peekCodePoint(0))&&r.length<6;)r+=xa(this.consumeCodePoint());_p(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(r,16);return n===0||TU(n)||n>1114111?Ww:n}return e===tA?Ww:e},t.prototype.consumeName=function(){for(var e="";;){var r=this.consumeCodePoint();if(e2(r))e+=xa(r);else if(xc(r,this.peekCodePoint(0)))e+=xa(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),e}},t})(),sN=(function(){function t(e){this._tokens=e}return t.create=function(e){var r=new nN;return r.write(e),new t(r.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var r=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var r=this.consumeComponentValue();if(r.type===32)return e;e.push(r),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var r={type:e,values:[]},n=this.consumeToken();;){if(n.type===32||o6(n,e))return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue()),n=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var r={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?Bb:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t})(),mf=function(t){return t.type===15},ku=function(t){return t.type===17},ls=function(t){return t.type===20},i6=function(t){return t.type===0},Nb=function(t,e){return ls(t)&&t.value===e},aN=function(t){return t.type!==31},ju=function(t){return t.type!==31&&t.type!==4},AA=function(t){var e=[],r=[];return t.forEach(function(n){if(n.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(r),r=[];return}n.type!==31&&r.push(n)}),r.length&&e.push(r),e},o6=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},Sc=function(t){return t.type===17||t.type===15},ja=function(t){return t.type===16||Sc(t)},iN=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},fi={type:17,number:0,flags:pf},Cv={type:16,number:50,flags:pf},_c={type:16,number:100,flags:pf},Ih=function(t,e,r){var n=t[0],i=t[1];return[bs(n,e),bs(typeof i<"u"?i:n,r)]},bs=function(t,e){if(t.type===16)return t.number/100*e;if(mf(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},oN="deg",lN="grad",AN="rad",cN="turn",Wm={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case oN:return Math.PI*e.number/180;case lN:return Math.PI/200*e.number;case AN:return e.number;case cN:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},dN=function(t){return t.type===15&&(t.unit===oN||t.unit===lN||t.unit===AN||t.unit===cN)},uN=function(t){var e=t.filter(ls).map(function(r){return r.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[fi,fi];case"to top":case"bottom":return sl(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[fi,_c];case"to right":case"left":return sl(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[_c,_c];case"to bottom":case"top":return sl(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[_c,fi];case"to left":case"right":return sl(270)}return 0},sl=function(t){return Math.PI*t/180},Cc={name:"color",parse:function(t,e){if(e.type===18){var r=l6[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return r(t,e.values)}if(e.type===5){if(e.value.length===3){var n=e.value.substring(0,1),i=e.value.substring(1,2),l=e.value.substring(2,3);return Bc(parseInt(n+n,16),parseInt(i+i,16),parseInt(l+l,16),1)}if(e.value.length===4){var n=e.value.substring(0,1),i=e.value.substring(1,2),l=e.value.substring(2,3),d=e.value.substring(3,4);return Bc(parseInt(n+n,16),parseInt(i+i,16),parseInt(l+l,16),parseInt(d+d,16)/255)}if(e.value.length===6){var n=e.value.substring(0,2),i=e.value.substring(2,4),l=e.value.substring(4,6);return Bc(parseInt(n,16),parseInt(i,16),parseInt(l,16),1)}if(e.value.length===8){var n=e.value.substring(0,2),i=e.value.substring(2,4),l=e.value.substring(4,6),d=e.value.substring(6,8);return Bc(parseInt(n,16),parseInt(i,16),parseInt(l,16),parseInt(d,16)/255)}}if(e.type===20){var u=PA[e.value.toUpperCase()];if(typeof u<"u")return u}return PA.TRANSPARENT}},Ec=function(t){return(255&t)===0},$a=function(t){var e=255&t,r=255&t>>8,n=255&t>>16,i=255&t>>24;return e<255?"rgba("+i+","+n+","+r+","+e/255+")":"rgb("+i+","+n+","+r+")"},Bc=function(t,e,r,n){return(t<<24|e<<16|r<<8|Math.round(n*255)<<0)>>>0},t2=function(t,e){if(t.type===17)return t.number;if(t.type===16){var r=e===3?1:255;return e===3?t.number/100*r:Math.round(t.number/100*r)}return 0},r2=function(t,e){var r=e.filter(ju);if(r.length===3){var n=r.map(t2),i=n[0],l=n[1],d=n[2];return Bc(i,l,d,1)}if(r.length===4){var u=r.map(t2),i=u[0],l=u[1],d=u[2],h=u[3];return Bc(i,l,d,h)}return 0};function Z0(t,e,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(e-t)*r*6+t:r<1/2?e:r<2/3?(e-t)*6*(2/3-r)+t:t}var n2=function(t,e){var r=e.filter(ju),n=r[0],i=r[1],l=r[2],d=r[3],u=(n.type===17?sl(n.number):Wm.parse(t,n))/(Math.PI*2),h=ja(i)?i.number/100:0,m=ja(l)?l.number/100:0,g=typeof d<"u"&&ja(d)?bs(d,1):1;if(h===0)return Bc(m*255,m*255,m*255,1);var b=m<=.5?m*(h+1):m+h-m*h,B=m*2-b,w=Z0(B,b,u+1/3),S=Z0(B,b,u),U=Z0(B,b,u-1/3);return Bc(w*255,S*255,U*255,g)},l6={hsl:n2,hsla:n2,rgb:r2,rgba:r2},Rh=function(t,e){return Cc.parse(t,sN.create(e).parseComponentValue())},PA={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},A6={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(ls(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},c6={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},eg=function(t,e){var r=Cc.parse(t,e[0]),n=e[1];return n&&ja(n)?{color:r,stop:n}:{color:r,stop:null}},s2=function(t,e){var r=t[0],n=t[t.length-1];r.stop===null&&(r.stop=fi),n.stop===null&&(n.stop=_c);for(var i=[],l=0,d=0;d<t.length;d++){var u=t[d].stop;if(u!==null){var h=bs(u,e);h>l?i.push(h):i.push(l),l=h}else i.push(null)}for(var m=null,d=0;d<i.length;d++){var g=i[d];if(g===null)m===null&&(m=d);else if(m!==null){for(var b=d-m,B=i[m-1],w=(g-B)/(b+1),S=1;S<=b;S++)i[m+S-1]=w*S;m=null}}return t.map(function(U,k){var C=U.color;return{color:C,stop:Math.max(Math.min(1,i[k]/e),0)}})},d6=function(t,e,r){var n=e/2,i=r/2,l=bs(t[0],e)-n,d=i-bs(t[1],r);return(Math.atan2(d,l)+Math.PI*2)%(Math.PI*2)},u6=function(t,e,r){var n=typeof t=="number"?t:d6(t,e,r),i=Math.abs(e*Math.sin(n))+Math.abs(r*Math.cos(n)),l=e/2,d=r/2,u=i/2,h=Math.sin(n-Math.PI/2)*u,m=Math.cos(n-Math.PI/2)*u;return[i,l-m,l+m,d-h,d+h]},Bl=function(t,e){return Math.sqrt(t*t+e*e)},a2=function(t,e,r,n,i){var l=[[0,0],[0,e],[t,0],[t,e]];return l.reduce(function(d,u){var h=u[0],m=u[1],g=Bl(r-h,n-m);return(i?g<d.optimumDistance:g>d.optimumDistance)?{optimumCorner:u,optimumDistance:g}:d},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},h6=function(t,e,r,n,i){var l=0,d=0;switch(t.size){case 0:t.shape===0?l=d=Math.min(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-i)):t.shape===1&&(l=Math.min(Math.abs(e),Math.abs(e-n)),d=Math.min(Math.abs(r),Math.abs(r-i)));break;case 2:if(t.shape===0)l=d=Math.min(Bl(e,r),Bl(e,r-i),Bl(e-n,r),Bl(e-n,r-i));else if(t.shape===1){var u=Math.min(Math.abs(r),Math.abs(r-i))/Math.min(Math.abs(e),Math.abs(e-n)),h=a2(n,i,e,r,!0),m=h[0],g=h[1];l=Bl(m-e,(g-r)/u),d=u*l}break;case 1:t.shape===0?l=d=Math.max(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-i)):t.shape===1&&(l=Math.max(Math.abs(e),Math.abs(e-n)),d=Math.max(Math.abs(r),Math.abs(r-i)));break;case 3:if(t.shape===0)l=d=Math.max(Bl(e,r),Bl(e,r-i),Bl(e-n,r),Bl(e-n,r-i));else if(t.shape===1){var u=Math.max(Math.abs(r),Math.abs(r-i))/Math.max(Math.abs(e),Math.abs(e-n)),b=a2(n,i,e,r,!1),m=b[0],g=b[1];l=Bl(m-e,(g-r)/u),d=u*l}break}return Array.isArray(t.size)&&(l=bs(t.size[0],n),d=t.size.length===2?bs(t.size[1],i):l),[l,d]},f6=function(t,e){var r=sl(180),n=[];return AA(e).forEach(function(i,l){if(l===0){var d=i[0];if(d.type===20&&d.value==="to"){r=uN(i);return}else if(dN(d)){r=Wm.parse(t,d);return}}var u=eg(t,i);n.push(u)}),{angle:r,stops:n,type:1}},Cp=function(t,e){var r=sl(180),n=[];return AA(e).forEach(function(i,l){if(l===0){var d=i[0];if(d.type===20&&["top","left","right","bottom"].indexOf(d.value)!==-1){r=uN(i);return}else if(dN(d)){r=(Wm.parse(t,d)+sl(270))%sl(360);return}}var u=eg(t,i);n.push(u)}),{angle:r,stops:n,type:1}},p6=function(t,e){var r=sl(180),n=[],i=1,l=0,d=3,u=[];return AA(e).forEach(function(h,m){var g=h[0];if(m===0){if(ls(g)&&g.value==="linear"){i=1;return}else if(ls(g)&&g.value==="radial"){i=2;return}}if(g.type===18){if(g.name==="from"){var b=Cc.parse(t,g.values[0]);n.push({stop:fi,color:b})}else if(g.name==="to"){var b=Cc.parse(t,g.values[0]);n.push({stop:_c,color:b})}else if(g.name==="color-stop"){var B=g.values.filter(ju);if(B.length===2){var b=Cc.parse(t,B[1]),w=B[0];ku(w)&&n.push({stop:{type:16,number:w.number*100,flags:w.flags},color:b})}}}}),i===1?{angle:(r+sl(180))%sl(360),stops:n,type:i}:{size:d,shape:l,stops:n,position:u,type:i}},hN="closest-side",fN="farthest-side",pN="closest-corner",mN="farthest-corner",gN="circle",xN="ellipse",bN="cover",vN="contain",m6=function(t,e){var r=0,n=3,i=[],l=[];return AA(e).forEach(function(d,u){var h=!0;if(u===0){var m=!1;h=d.reduce(function(b,B){if(m)if(ls(B))switch(B.value){case"center":return l.push(Cv),b;case"top":case"left":return l.push(fi),b;case"right":case"bottom":return l.push(_c),b}else(ja(B)||Sc(B))&&l.push(B);else if(ls(B))switch(B.value){case gN:return r=0,!1;case xN:return r=1,!1;case"at":return m=!0,!1;case hN:return n=0,!1;case bN:case fN:return n=1,!1;case vN:case pN:return n=2,!1;case mN:return n=3,!1}else if(Sc(B)||ja(B))return Array.isArray(n)||(n=[]),n.push(B),!1;return b},h)}if(h){var g=eg(t,d);i.push(g)}}),{size:n,shape:r,stops:i,position:l,type:2}},Ep=function(t,e){var r=0,n=3,i=[],l=[];return AA(e).forEach(function(d,u){var h=!0;if(u===0?h=d.reduce(function(g,b){if(ls(b))switch(b.value){case"center":return l.push(Cv),!1;case"top":case"left":return l.push(fi),!1;case"right":case"bottom":return l.push(_c),!1}else if(ja(b)||Sc(b))return l.push(b),!1;return g},h):u===1&&(h=d.reduce(function(g,b){if(ls(b))switch(b.value){case gN:return r=0,!1;case xN:return r=1,!1;case vN:case hN:return n=0,!1;case fN:return n=1,!1;case pN:return n=2,!1;case bN:case mN:return n=3,!1}else if(Sc(b)||ja(b))return Array.isArray(n)||(n=[]),n.push(b),!1;return g},h)),h){var m=eg(t,d);i.push(m)}}),{size:n,shape:r,stops:i,position:l,type:2}},g6=function(t){return t.type===1},x6=function(t){return t.type===2},Ev={name:"image",parse:function(t,e){if(e.type===22){var r={url:e.value,type:0};return t.cache.addImage(e.value),r}if(e.type===18){var n=yN[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function b6(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!yN[t.name])}var yN={"linear-gradient":f6,"-moz-linear-gradient":Cp,"-ms-linear-gradient":Cp,"-o-linear-gradient":Cp,"-webkit-linear-gradient":Cp,"radial-gradient":m6,"-moz-radial-gradient":Ep,"-ms-radial-gradient":Ep,"-o-radial-gradient":Ep,"-webkit-radial-gradient":Ep,"-webkit-gradient":p6},v6={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e.filter(function(n){return ju(n)&&b6(n)}).map(function(n){return Ev.parse(t,n)})}},y6={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(ls(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},w6={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return AA(e).map(function(r){return r.filter(ja)}).map(iN)}},_6={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return AA(e).map(function(r){return r.filter(ls).map(function(n){return n.value}).join(" ")}).map(B6)}},B6=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},xu;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(xu||(xu={}));var N6={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return AA(e).map(function(r){return r.filter(C6)})}},C6=function(t){return ls(t)||ja(t)},tg=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},E6=tg("top"),S6=tg("right"),j6=tg("bottom"),L6=tg("left"),rg=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,r){return iN(r.filter(ja))}}},U6=rg("top-left"),I6=rg("top-right"),k6=rg("bottom-right"),T6=rg("bottom-left"),ng=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},F6=ng("top"),O6=ng("right"),Q6=ng("bottom"),R6=ng("left"),sg=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,r){return mf(r)?r.number:0}}},D6=sg("top"),M6=sg("right"),P6=sg("bottom"),H6=sg("left"),q6={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},z6={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},K6={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(ls).reduce(function(r,n){return r|V6(n.value)},0)}},V6=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},G6={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},$6={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},Em;(function(t){t.NORMAL="normal",t.STRICT="strict"})(Em||(Em={}));var Z6={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return Em.STRICT;case"normal":default:return Em.NORMAL}}},X6={name:"line-height",initialValue:"normal",prefix:!1,type:4},i2=function(t,e){return ls(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:ja(t)?bs(t,e):e},J6={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:Ev.parse(t,e)}},Y6={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},Cb={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},ag=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},W6=ag("top"),eI=ag("right"),tI=ag("bottom"),rI=ag("left"),nI={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(ls).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},sI={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},ig=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},aI=ig("top"),iI=ig("right"),oI=ig("bottom"),lI=ig("left"),AI={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},cI={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},dI={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&Nb(e[0],"none")?[]:AA(e).map(function(r){for(var n={color:PA.TRANSPARENT,offsetX:fi,offsetY:fi,blur:fi},i=0,l=0;l<r.length;l++){var d=r[l];Sc(d)?(i===0?n.offsetX=d:i===1?n.offsetY=d:n.blur=d,i++):n.color=Cc.parse(t,d)}return n})}},uI={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},hI={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var r=mI[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return r(e.values)}return null}},fI=function(t){var e=t.filter(function(r){return r.type===17}).map(function(r){return r.number});return e.length===6?e:null},pI=function(t){var e=t.filter(function(h){return h.type===17}).map(function(h){return h.number}),r=e[0],n=e[1];e[2],e[3];var i=e[4],l=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var d=e[12],u=e[13];return e[14],e[15],e.length===16?[r,n,i,l,d,u]:null},mI={matrix:fI,matrix3d:pI},o2={type:16,number:50,flags:pf},gI=[o2,o2],xI={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var r=e.filter(ja);return r.length!==2?gI:[r[0],r[1]]}},bI={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Dh;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(Dh||(Dh={}));var vI={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return Dh.BREAK_ALL;case"keep-all":return Dh.KEEP_ALL;case"normal":default:return Dh.NORMAL}}},yI={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(ku(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},wN={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},wI={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return ku(e)?e.number:1}},_I={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},BI={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(ls).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},NI={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var r=[],n=[];return e.forEach(function(i){switch(i.type){case 20:case 0:r.push(i.value);break;case 17:r.push(i.number.toString());break;case 4:n.push(r.join(" ")),r.length=0;break}}),r.length&&n.push(r.join(" ")),n.map(function(i){return i.indexOf(" ")===-1?i:"'"+i+"'"})}},CI={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},EI={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(ku(e))return e.number;if(ls(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},SI={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(ls).map(function(r){return r.value})}},jI={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Pa=function(t,e){return(t&e)!==0},LI={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e}},UI={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;for(var n=[],i=e.filter(aN),l=0;l<i.length;l++){var d=i[l],u=i[l+1];if(d.type===20){var h=u&&ku(u)?u.number:1;n.push({counter:d.value,increment:h})}}return n}},II={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var r=[],n=e.filter(aN),i=0;i<n.length;i++){var l=n[i],d=n[i+1];if(ls(l)&&l.value!=="none"){var u=d&&ku(d)?d.number:0;r.push({counter:l.value,reset:u})}}return r}},kI={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(mf).map(function(r){return wN.parse(t,r)})}},TI={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;var n=[],i=e.filter(i6);if(i.length%2!==0)return null;for(var l=0;l<i.length;l+=2){var d=i[l].value,u=i[l+1].value;n.push({open:d,close:u})}return n}},l2=function(t,e,r){if(!t)return"";var n=t[Math.min(e,t.length-1)];return n?r?n.open:n.close:""},FI={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&Nb(e[0],"none")?[]:AA(e).map(function(r){for(var n={color:255,offsetX:fi,offsetY:fi,blur:fi,spread:fi,inset:!1},i=0,l=0;l<r.length;l++){var d=r[l];Nb(d,"inset")?n.inset=!0:Sc(d)?(i===0?n.offsetX=d:i===1?n.offsetY=d:i===2?n.blur=d:n.spread=d,i++):n.color=Cc.parse(t,d)}return n})}},OI={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var r=[0,1,2],n=[];return e.filter(ls).forEach(function(i){switch(i.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),r.forEach(function(i){n.indexOf(i)===-1&&n.push(i)}),n}},QI={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},RI={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return mf(e)?e.number:0}},DI=(function(){function t(e,r){var n,i;this.animationDuration=ur(e,kI,r.animationDuration),this.backgroundClip=ur(e,A6,r.backgroundClip),this.backgroundColor=ur(e,c6,r.backgroundColor),this.backgroundImage=ur(e,v6,r.backgroundImage),this.backgroundOrigin=ur(e,y6,r.backgroundOrigin),this.backgroundPosition=ur(e,w6,r.backgroundPosition),this.backgroundRepeat=ur(e,_6,r.backgroundRepeat),this.backgroundSize=ur(e,N6,r.backgroundSize),this.borderTopColor=ur(e,E6,r.borderTopColor),this.borderRightColor=ur(e,S6,r.borderRightColor),this.borderBottomColor=ur(e,j6,r.borderBottomColor),this.borderLeftColor=ur(e,L6,r.borderLeftColor),this.borderTopLeftRadius=ur(e,U6,r.borderTopLeftRadius),this.borderTopRightRadius=ur(e,I6,r.borderTopRightRadius),this.borderBottomRightRadius=ur(e,k6,r.borderBottomRightRadius),this.borderBottomLeftRadius=ur(e,T6,r.borderBottomLeftRadius),this.borderTopStyle=ur(e,F6,r.borderTopStyle),this.borderRightStyle=ur(e,O6,r.borderRightStyle),this.borderBottomStyle=ur(e,Q6,r.borderBottomStyle),this.borderLeftStyle=ur(e,R6,r.borderLeftStyle),this.borderTopWidth=ur(e,D6,r.borderTopWidth),this.borderRightWidth=ur(e,M6,r.borderRightWidth),this.borderBottomWidth=ur(e,P6,r.borderBottomWidth),this.borderLeftWidth=ur(e,H6,r.borderLeftWidth),this.boxShadow=ur(e,FI,r.boxShadow),this.color=ur(e,q6,r.color),this.direction=ur(e,z6,r.direction),this.display=ur(e,K6,r.display),this.float=ur(e,G6,r.cssFloat),this.fontFamily=ur(e,NI,r.fontFamily),this.fontSize=ur(e,CI,r.fontSize),this.fontStyle=ur(e,jI,r.fontStyle),this.fontVariant=ur(e,SI,r.fontVariant),this.fontWeight=ur(e,EI,r.fontWeight),this.letterSpacing=ur(e,$6,r.letterSpacing),this.lineBreak=ur(e,Z6,r.lineBreak),this.lineHeight=ur(e,X6,r.lineHeight),this.listStyleImage=ur(e,J6,r.listStyleImage),this.listStylePosition=ur(e,Y6,r.listStylePosition),this.listStyleType=ur(e,Cb,r.listStyleType),this.marginTop=ur(e,W6,r.marginTop),this.marginRight=ur(e,eI,r.marginRight),this.marginBottom=ur(e,tI,r.marginBottom),this.marginLeft=ur(e,rI,r.marginLeft),this.opacity=ur(e,wI,r.opacity);var l=ur(e,nI,r.overflow);this.overflowX=l[0],this.overflowY=l[l.length>1?1:0],this.overflowWrap=ur(e,sI,r.overflowWrap),this.paddingTop=ur(e,aI,r.paddingTop),this.paddingRight=ur(e,iI,r.paddingRight),this.paddingBottom=ur(e,oI,r.paddingBottom),this.paddingLeft=ur(e,lI,r.paddingLeft),this.paintOrder=ur(e,OI,r.paintOrder),this.position=ur(e,cI,r.position),this.textAlign=ur(e,AI,r.textAlign),this.textDecorationColor=ur(e,_I,(n=r.textDecorationColor)!==null&&n!==void 0?n:r.color),this.textDecorationLine=ur(e,BI,(i=r.textDecorationLine)!==null&&i!==void 0?i:r.textDecoration),this.textShadow=ur(e,dI,r.textShadow),this.textTransform=ur(e,uI,r.textTransform),this.transform=ur(e,hI,r.transform),this.transformOrigin=ur(e,xI,r.transformOrigin),this.visibility=ur(e,bI,r.visibility),this.webkitTextStrokeColor=ur(e,QI,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=ur(e,RI,r.webkitTextStrokeWidth),this.wordBreak=ur(e,vI,r.wordBreak),this.zIndex=ur(e,yI,r.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return Ec(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return Pa(this.display,4)||Pa(this.display,33554432)||Pa(this.display,268435456)||Pa(this.display,536870912)||Pa(this.display,67108864)||Pa(this.display,134217728)},t})(),MI=(function(){function t(e,r){this.content=ur(e,LI,r.content),this.quotes=ur(e,TI,r.quotes)}return t})(),A2=(function(){function t(e,r){this.counterIncrement=ur(e,UI,r.counterIncrement),this.counterReset=ur(e,II,r.counterReset)}return t})(),ur=function(t,e,r){var n=new nN,i=r!==null&&typeof r<"u"?r.toString():e.initialValue;n.write(i);var l=new sN(n.read());switch(e.type){case 2:var d=l.parseComponentValue();return e.parse(t,ls(d)?d.value:e.initialValue);case 0:return e.parse(t,l.parseComponentValue());case 1:return e.parse(t,l.parseComponentValues());case 4:return l.parseComponentValue();case 3:switch(e.format){case"angle":return Wm.parse(t,l.parseComponentValue());case"color":return Cc.parse(t,l.parseComponentValue());case"image":return Ev.parse(t,l.parseComponentValue());case"length":var u=l.parseComponentValue();return Sc(u)?u:fi;case"length-percentage":var h=l.parseComponentValue();return ja(h)?h:fi;case"time":return wN.parse(t,l.parseComponentValue())}break}},PI="data-html2canvas-debug",HI=function(t){var e=t.getAttribute(PI);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},Eb=function(t,e){var r=HI(t);return r===1||e===r},cA=(function(){function t(e,r){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,Eb(r,3))debugger;this.styles=new DI(e,window.getComputedStyle(r,null)),Lb(r)&&(this.styles.animationDuration.some(function(n){return n>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=Jm(this.context,r),Eb(r,4)&&(this.flags|=16)}return t})(),qI="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",c2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",kh=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Sp=0;Sp<c2.length;Sp++)kh[c2.charCodeAt(Sp)]=Sp;var zI=function(t){var e=t.length*.75,r=t.length,n,i=0,l,d,u,h;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var m=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),g=Array.isArray(m)?m:new Uint8Array(m);for(n=0;n<r;n+=4)l=kh[t.charCodeAt(n)],d=kh[t.charCodeAt(n+1)],u=kh[t.charCodeAt(n+2)],h=kh[t.charCodeAt(n+3)],g[i++]=l<<2|d>>4,g[i++]=(d&15)<<4|u>>2,g[i++]=(u&3)<<6|h&63;return m},KI=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},VI=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},ld=5,Sv=11,X0=2,GI=Sv-ld,_N=65536>>ld,$I=1<<ld,J0=$I-1,ZI=1024>>ld,XI=_N+ZI,JI=XI,YI=32,WI=JI+YI,ek=65536>>Sv,tk=1<<GI,rk=tk-1,d2=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},nk=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},sk=function(t,e){var r=zI(t),n=Array.isArray(r)?VI(r):new Uint32Array(r),i=Array.isArray(r)?KI(r):new Uint16Array(r),l=24,d=d2(i,l/2,n[4]/2),u=n[5]===2?d2(i,(l+n[4])/2):nk(n,Math.ceil((l+n[4])/4));return new ak(n[0],n[1],n[2],n[3],d,u)},ak=(function(){function t(e,r,n,i,l,d){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=i,this.index=l,this.data=d}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>ld],r=(r<<X0)+(e&J0),this.data[r];if(e<=65535)return r=this.index[_N+(e-55296>>ld)],r=(r<<X0)+(e&J0),this.data[r];if(e<this.highStart)return r=WI-ek+(e>>Sv),r=this.index[r],r+=e>>ld&rk,r=this.index[r],r=(r<<X0)+(e&J0),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t})(),u2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ik=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var jp=0;jp<u2.length;jp++)ik[u2.charCodeAt(jp)]=jp;var ok=1,Y0=2,W0=3,h2=4,f2=5,lk=7,p2=8,ex=9,tx=10,m2=11,g2=12,x2=13,b2=14,rx=15,Ak=function(t){for(var e=[],r=0,n=t.length;r<n;){var i=t.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var l=t.charCodeAt(r++);(l&64512)===56320?e.push(((i&1023)<<10)+(l&1023)+65536):(e.push(i),r--)}else e.push(i)}return e},ck=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],i=-1,l="";++i<r;){var d=t[i];d<=65535?n.push(d):(d-=65536,n.push((d>>10)+55296,d%1024+56320)),(i+1===r||n.length>16384)&&(l+=String.fromCharCode.apply(String,n),n.length=0)}return l},dk=sk(qI),el="",nx="",uk=function(t){return dk.get(t)},hk=function(t,e,r){var n=r-2,i=e[n],l=e[r-1],d=e[r];if(l===Y0&&d===W0)return el;if(l===Y0||l===W0||l===h2||d===Y0||d===W0||d===h2)return nx;if(l===p2&&[p2,ex,m2,g2].indexOf(d)!==-1||(l===m2||l===ex)&&(d===ex||d===tx)||(l===g2||l===tx)&&d===tx||d===x2||d===f2||d===lk||l===ok)return el;if(l===x2&&d===b2){for(;i===f2;)i=e[--n];if(i===b2)return el}if(l===rx&&d===rx){for(var u=0;i===rx;)u++,i=e[--n];if(u%2===0)return el}return nx},fk=function(t){var e=Ak(t),r=e.length,n=0,i=0,l=e.map(uk);return{next:function(){if(n>=r)return{done:!0,value:null};for(var d=el;n<r&&(d=hk(e,l,++n))===el;);if(d!==el||n===r){var u=ck.apply(null,e.slice(i,n));return i=n,{value:u,done:!1}}return{done:!0,value:null}}}},pk=function(t){for(var e=fk(t),r=[],n;!(n=e.next()).done;)n.value&&r.push(n.value.slice());return r},mk=function(t){var e=123;if(t.createRange){var r=t.createRange();if(r.getBoundingClientRect){var n=t.createElement("boundtest");n.style.height=e+"px",n.style.display="block",t.body.appendChild(n),r.selectNode(n);var i=r.getBoundingClientRect(),l=Math.round(i.height);if(t.body.removeChild(n),l===e)return!0}}return!1},gk=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var r=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=e.firstChild,i=Ym(n.data).map(function(h){return xa(h)}),l=0,d={},u=i.every(function(h,m){r.setStart(n,l),r.setEnd(n,l+h.length);var g=r.getBoundingClientRect();l+=h.length;var b=g.x>d.x||g.y>d.y;return d=g,m===0?!0:b});return t.body.removeChild(e),u},xk=function(){return typeof new Image().crossOrigin<"u"},bk=function(){return typeof new XMLHttpRequest().responseType=="string"},vk=function(t){var e=new Image,r=t.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),r.toDataURL()}catch{return!1}return!0},v2=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},yk=function(t){var e=t.createElement("canvas"),r=100;e.width=r,e.height=r;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var i=new Image,l=e.toDataURL();i.src=l;var d=Sb(r,r,0,0,i);return n.fillStyle="red",n.fillRect(0,0,r,r),y2(d).then(function(u){n.drawImage(u,0,0);var h=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var m=t.createElement("div");return m.style.backgroundImage="url("+l+")",m.style.height=r+"px",v2(h)?y2(Sb(r,r,0,0,m)):Promise.reject(!1)}).then(function(u){return n.drawImage(u,0,0),v2(n.getImageData(0,0,r,r).data)}).catch(function(){return!1})},Sb=function(t,e,r,n,i){var l="http://www.w3.org/2000/svg",d=document.createElementNS(l,"svg"),u=document.createElementNS(l,"foreignObject");return d.setAttributeNS(null,"width",t.toString()),d.setAttributeNS(null,"height",e.toString()),u.setAttributeNS(null,"width","100%"),u.setAttributeNS(null,"height","100%"),u.setAttributeNS(null,"x",r.toString()),u.setAttributeNS(null,"y",n.toString()),u.setAttributeNS(null,"externalResourcesRequired","true"),d.appendChild(u),u.appendChild(i),d},y2=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){return e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},hi={get SUPPORT_RANGE_BOUNDS(){var t=mk(document);return Object.defineProperty(hi,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=hi.SUPPORT_RANGE_BOUNDS&&gk(document);return Object.defineProperty(hi,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=vk(document);return Object.defineProperty(hi,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?yk(document):Promise.resolve(!1);return Object.defineProperty(hi,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=xk();return Object.defineProperty(hi,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=bk();return Object.defineProperty(hi,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(hi,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(hi,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},Mh=(function(){function t(e,r){this.text=e,this.bounds=r}return t})(),wk=function(t,e,r,n){var i=Nk(e,r),l=[],d=0;return i.forEach(function(u){if(r.textDecorationLine.length||u.trim().length>0)if(hi.SUPPORT_RANGE_BOUNDS){var h=w2(n,d,u.length).getClientRects();if(h.length>1){var m=jv(u),g=0;m.forEach(function(B){l.push(new Mh(B,qA.fromDOMRectList(t,w2(n,g+d,B.length).getClientRects()))),g+=B.length})}else l.push(new Mh(u,qA.fromDOMRectList(t,h)))}else{var b=n.splitText(u.length);l.push(new Mh(u,_k(t,n))),n=b}else hi.SUPPORT_RANGE_BOUNDS||(n=n.splitText(u.length));d+=u.length}),l},_k=function(t,e){var r=e.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var i=e.parentNode;if(i){i.replaceChild(n,e);var l=Jm(t,n);return n.firstChild&&i.replaceChild(n.firstChild,n),l}}return qA.EMPTY},w2=function(t,e,r){var n=t.ownerDocument;if(!n)throw new Error("Node has no owner document");var i=n.createRange();return i.setStart(t,e),i.setEnd(t,e+r),i},jv=function(t){if(hi.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(r){return r.segment})}return pk(t)},Bk=function(t,e){if(hi.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(t)).map(function(n){return n.segment})}return Ek(t,e)},Nk=function(t,e){return e.letterSpacing!==0?jv(t):Bk(t,e)},Ck=[32,160,4961,65792,65793,4153,4241],Ek=function(t,e){for(var r=eU(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),n=[],i,l=function(){if(i.value){var d=i.value.slice(),u=Ym(d),h="";u.forEach(function(m){Ck.indexOf(m)===-1?h+=xa(m):(h.length&&n.push(h),n.push(xa(m)),h="")}),h.length&&n.push(h)}};!(i=r.next()).done;)l();return n},Sk=(function(){function t(e,r,n){this.text=jk(r.data,n.textTransform),this.textBounds=wk(e,this.text,n,r)}return t})(),jk=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(Lk,Uk);case 2:return t.toUpperCase();default:return t}},Lk=/(^|\s|:|-|\(|\))([a-z])/g,Uk=function(t,e,r){return t.length>0?e+r.toUpperCase():t},BN=(function(t){Ul(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.src=n.currentSrc||n.src,i.intrinsicWidth=n.naturalWidth,i.intrinsicHeight=n.naturalHeight,i.context.cache.addImage(i.src),i}return e})(cA),NN=(function(t){Ul(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.canvas=n,i.intrinsicWidth=n.width,i.intrinsicHeight=n.height,i}return e})(cA),CN=(function(t){Ul(e,t);function e(r,n){var i=t.call(this,r,n)||this,l=new XMLSerializer,d=Jm(r,n);return n.setAttribute("width",d.width+"px"),n.setAttribute("height",d.height+"px"),i.svg="data:image/svg+xml,"+encodeURIComponent(l.serializeToString(n)),i.intrinsicWidth=n.width.baseVal.value,i.intrinsicHeight=n.height.baseVal.value,i.context.cache.addImage(i.svg),i}return e})(cA),EN=(function(t){Ul(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.value=n.value,i}return e})(cA),jb=(function(t){Ul(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.start=n.start,i.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,i}return e})(cA),Ik=[{type:15,flags:0,unit:"px",number:3}],kk=[{type:16,flags:0,number:50}],Tk=function(t){return t.width>t.height?new qA(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new qA(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},Fk=function(t){var e=t.type===Ok?new Array(t.value.length+1).join(""):t.value;return e.length===0?t.placeholder||"":e},Sm="checkbox",jm="radio",Ok="password",_2=707406591,Lv=(function(t){Ul(e,t);function e(r,n){var i=t.call(this,r,n)||this;switch(i.type=n.type.toLowerCase(),i.checked=n.checked,i.value=Fk(n),(i.type===Sm||i.type===jm)&&(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=1,i.styles.backgroundClip=[0],i.styles.backgroundOrigin=[0],i.bounds=Tk(i.bounds)),i.type){case Sm:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=Ik;break;case jm:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=kk;break}return i}return e})(cA),SN=(function(t){Ul(e,t);function e(r,n){var i=t.call(this,r,n)||this,l=n.options[n.selectedIndex||0];return i.value=l&&l.text||"",i}return e})(cA),jN=(function(t){Ul(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.value=n.value,i}return e})(cA),LN=(function(t){Ul(e,t);function e(r,n){var i=t.call(this,r,n)||this;i.src=n.src,i.width=parseInt(n.width,10)||0,i.height=parseInt(n.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){i.tree=IN(r,n.contentWindow.document.documentElement);var l=n.contentWindow.document.documentElement?Rh(r,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):PA.TRANSPARENT,d=n.contentWindow.document.body?Rh(r,getComputedStyle(n.contentWindow.document.body).backgroundColor):PA.TRANSPARENT;i.backgroundColor=Ec(l)?Ec(d)?i.styles.backgroundColor:d:l}}catch{}return i}return e})(cA),Qk=["OL","UL","MENU"],om=function(t,e,r,n){for(var i=e.firstChild,l=void 0;i;i=l)if(l=i.nextSibling,kN(i)&&i.data.trim().length>0)r.textNodes.push(new Sk(t,i,r.styles));else if(pu(i))if(QN(i)&&i.assignedNodes)i.assignedNodes().forEach(function(u){return om(t,u,r,n)});else{var d=UN(t,i);d.styles.isVisible()&&(Rk(i,d,n)?d.flags|=4:Dk(d.styles)&&(d.flags|=2),Qk.indexOf(i.tagName)!==-1&&(d.flags|=8),r.elements.push(d),i.slot,i.shadowRoot?om(t,i.shadowRoot,d,n):!Lm(i)&&!TN(i)&&!Um(i)&&om(t,i,d,n))}},UN=function(t,e){return Ub(e)?new BN(t,e):FN(e)?new NN(t,e):TN(e)?new CN(t,e):Mk(e)?new EN(t,e):Pk(e)?new jb(t,e):Hk(e)?new Lv(t,e):Um(e)?new SN(t,e):Lm(e)?new jN(t,e):ON(e)?new LN(t,e):new cA(t,e)},IN=function(t,e){var r=UN(t,e);return r.flags|=4,om(t,e,r,r),r},Rk=function(t,e,r){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||Uv(t)&&r.styles.isTransparent()},Dk=function(t){return t.isPositioned()||t.isFloating()},kN=function(t){return t.nodeType===Node.TEXT_NODE},pu=function(t){return t.nodeType===Node.ELEMENT_NODE},Lb=function(t){return pu(t)&&typeof t.style<"u"&&!lm(t)},lm=function(t){return typeof t.className=="object"},Mk=function(t){return t.tagName==="LI"},Pk=function(t){return t.tagName==="OL"},Hk=function(t){return t.tagName==="INPUT"},qk=function(t){return t.tagName==="HTML"},TN=function(t){return t.tagName==="svg"},Uv=function(t){return t.tagName==="BODY"},FN=function(t){return t.tagName==="CANVAS"},B2=function(t){return t.tagName==="VIDEO"},Ub=function(t){return t.tagName==="IMG"},ON=function(t){return t.tagName==="IFRAME"},N2=function(t){return t.tagName==="STYLE"},zk=function(t){return t.tagName==="SCRIPT"},Lm=function(t){return t.tagName==="TEXTAREA"},Um=function(t){return t.tagName==="SELECT"},QN=function(t){return t.tagName==="SLOT"},C2=function(t){return t.tagName.indexOf("-")>0},Kk=(function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var r=this.counters[e];return r&&r.length?r[r.length-1]:1},t.prototype.getCounterValues=function(e){var r=this.counters[e];return r||[]},t.prototype.pop=function(e){var r=this;e.forEach(function(n){return r.counters[n].pop()})},t.prototype.parse=function(e){var r=this,n=e.counterIncrement,i=e.counterReset,l=!0;n!==null&&n.forEach(function(u){var h=r.counters[u.counter];h&&u.increment!==0&&(l=!1,h.length||h.push(1),h[Math.max(0,h.length-1)]+=u.increment)});var d=[];return l&&i.forEach(function(u){var h=r.counters[u.counter];d.push(u.counter),h||(h=r.counters[u.counter]=[]),h.push(u.reset)}),d},t})(),E2={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},S2={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Vk={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Gk={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Gd=function(t,e,r,n,i,l){return t<e||t>r?tf(t,i,l.length>0):n.integers.reduce(function(d,u,h){for(;t>=u;)t-=u,d+=n.values[h];return d},"")+l},RN=function(t,e,r,n){var i="";do r||t--,i=n(t)+i,t/=e;while(t*e>=e);return i},ga=function(t,e,r,n,i){var l=r-e+1;return(t<0?"-":"")+(RN(Math.abs(t),l,n,function(d){return xa(Math.floor(d%l)+e)})+i)},Hc=function(t,e,r){r===void 0&&(r=". ");var n=e.length;return RN(Math.abs(t),n,!1,function(i){return e[Math.floor(i%n)]})+r},lu=1,mc=2,gc=4,Th=8,IA=function(t,e,r,n,i,l){if(t<-9999||t>9999)return tf(t,4,i.length>0);var d=Math.abs(t),u=i;if(d===0)return e[0]+u;for(var h=0;d>0&&h<=4;h++){var m=d%10;m===0&&Pa(l,lu)&&u!==""?u=e[m]+u:m>1||m===1&&h===0||m===1&&h===1&&Pa(l,mc)||m===1&&h===1&&Pa(l,gc)&&t>100||m===1&&h>1&&Pa(l,Th)?u=e[m]+(h>0?r[h-1]:"")+u:m===1&&h>0&&(u=r[h-1]+u),d=Math.floor(d/10)}return(t<0?n:"")+u},j2="",L2="",U2="",sx="",tf=function(t,e,r){var n=r?". ":"",i=r?"":"",l=r?", ":"",d=r?" ":"";switch(e){case 0:return""+d;case 1:return""+d;case 2:return""+d;case 5:var u=ga(t,48,57,!0,n);return u.length<4?"0"+u:u;case 4:return Hc(t,"",i);case 6:return Gd(t,1,3999,E2,3,n).toLowerCase();case 7:return Gd(t,1,3999,E2,3,n);case 8:return ga(t,945,969,!1,n);case 9:return ga(t,97,122,!1,n);case 10:return ga(t,65,90,!1,n);case 11:return ga(t,1632,1641,!0,n);case 12:case 49:return Gd(t,1,9999,S2,3,n);case 35:return Gd(t,1,9999,S2,3,n).toLowerCase();case 13:return ga(t,2534,2543,!0,n);case 14:case 30:return ga(t,6112,6121,!0,n);case 15:return Hc(t,"",i);case 16:return Hc(t,"",i);case 17:case 48:return IA(t,"",j2,"",i,mc|gc|Th);case 47:return IA(t,"",L2,"",i,lu|mc|gc|Th);case 42:return IA(t,"",j2,"",i,mc|gc|Th);case 41:return IA(t,"",L2,"",i,lu|mc|gc|Th);case 26:return IA(t,"","",U2,i,0);case 25:return IA(t,"","",U2,i,lu|mc|gc);case 31:return IA(t,"","",sx,l,lu|mc|gc);case 33:return IA(t,"","",sx,l,0);case 32:return IA(t,"","",sx,l,lu|mc|gc);case 18:return ga(t,2406,2415,!0,n);case 20:return Gd(t,1,19999,Gk,3,n);case 21:return ga(t,2790,2799,!0,n);case 22:return ga(t,2662,2671,!0,n);case 22:return Gd(t,1,10999,Vk,3,n);case 23:return Hc(t,"");case 24:return Hc(t,"");case 27:return ga(t,3302,3311,!0,n);case 28:return Hc(t,"",i);case 29:return Hc(t,"",i);case 34:return ga(t,3792,3801,!0,n);case 37:return ga(t,6160,6169,!0,n);case 38:return ga(t,4160,4169,!0,n);case 39:return ga(t,2918,2927,!0,n);case 40:return ga(t,1776,1785,!0,n);case 43:return ga(t,3046,3055,!0,n);case 44:return ga(t,3174,3183,!0,n);case 45:return ga(t,3664,3673,!0,n);case 46:return ga(t,3872,3881,!0,n);case 3:default:return ga(t,48,57,!0,n)}},DN="data-html2canvas-ignore",I2=(function(){function t(e,r,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=r,this.counters=new Kk,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,r){var n=this,i=$k(e,r);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var l=e.defaultView.pageXOffset,d=e.defaultView.pageYOffset,u=i.contentWindow,h=u.document,m=Jk(i).then(function(){return qi(n,void 0,void 0,function(){var g,b;return Ui(this,function(B){switch(B.label){case 0:return this.scrolledElements.forEach(tT),u&&(u.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(u.scrollY!==r.top||u.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(u.scrollX-r.left,u.scrollY-r.top,0,0))),g=this.options.onclone,b=this.clonedReferenceElement,typeof b>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:h.fonts&&h.fonts.ready?[4,h.fonts.ready]:[3,2];case 1:B.sent(),B.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Xk(h)]:[3,4];case 3:B.sent(),B.label=4;case 4:return typeof g=="function"?[2,Promise.resolve().then(function(){return g(h,b)}).then(function(){return i})]:[2,i]}})})});return h.open(),h.write(Wk(document.doctype)+"<html></html>"),eT(this.referenceElement.ownerDocument,l,d),h.replaceChild(h.adoptNode(this.documentElement),h.documentElement),h.close(),m},t.prototype.createElementClone=function(e){if(Eb(e,2))debugger;if(FN(e))return this.createCanvasClone(e);if(B2(e))return this.createVideoClone(e);if(N2(e))return this.createStyleClone(e);var r=e.cloneNode(!1);return Ub(r)&&(Ub(e)&&e.currentSrc&&e.currentSrc!==e.src&&(r.src=e.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),C2(r)?this.createCustomElementClone(r):r},t.prototype.createCustomElementClone=function(e){var r=document.createElement("html2canvascustomelement");return ax(e.style,r),r},t.prototype.createStyleClone=function(e){try{var r=e.sheet;if(r&&r.cssRules){var n=[].slice.call(r.cssRules,0).reduce(function(l,d){return d&&typeof d.cssText=="string"?l+d.cssText:l},""),i=e.cloneNode(!1);return i.textContent=n,i}}catch(l){if(this.context.logger.error("Unable to access cssRules property",l),l.name!=="SecurityError")throw l}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var r;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var i=e.cloneNode(!1);try{i.width=e.width,i.height=e.height;var l=e.getContext("2d"),d=i.getContext("2d");if(d)if(!this.options.allowTaint&&l)d.putImageData(l.getImageData(0,0,e.width,e.height),0,0);else{var u=(r=e.getContext("webgl2"))!==null&&r!==void 0?r:e.getContext("webgl");if(u){var h=u.getContextAttributes();(h==null?void 0:h.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}d.drawImage(e,0,0)}return i}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return i},t.prototype.createVideoClone=function(e){var r=e.ownerDocument.createElement("canvas");r.width=e.offsetWidth,r.height=e.offsetHeight;var n=r.getContext("2d");try{return n&&(n.drawImage(e,0,0,r.width,r.height),this.options.allowTaint||n.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var i=e.ownerDocument.createElement("canvas");return i.width=e.offsetWidth,i.height=e.offsetHeight,i},t.prototype.appendChildNode=function(e,r,n){(!pu(r)||!zk(r)&&!r.hasAttribute(DN)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!pu(r)||!N2(r))&&e.appendChild(this.cloneNode(r,n))},t.prototype.cloneChildNodes=function(e,r,n){for(var i=this,l=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;l;l=l.nextSibling)if(pu(l)&&QN(l)&&typeof l.assignedNodes=="function"){var d=l.assignedNodes();d.length&&d.forEach(function(u){return i.appendChildNode(r,u,n)})}else this.appendChildNode(r,l,n)},t.prototype.cloneNode=function(e,r){if(kN(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&pu(e)&&(Lb(e)||lm(e))){var i=this.createElementClone(e);i.style.transitionProperty="none";var l=n.getComputedStyle(e),d=n.getComputedStyle(e,":before"),u=n.getComputedStyle(e,":after");this.referenceElement===e&&Lb(i)&&(this.clonedReferenceElement=i),Uv(i)&&sT(i);var h=this.counters.parse(new A2(this.context,l)),m=this.resolvePseudoContent(e,i,d,Ph.BEFORE);C2(e)&&(r=!0),B2(e)||this.cloneChildNodes(e,i,r),m&&i.insertBefore(m,i.firstChild);var g=this.resolvePseudoContent(e,i,u,Ph.AFTER);return g&&i.appendChild(g),this.counters.pop(h),(l&&(this.options.copyStyles||lm(e))&&!ON(e)||r)&&ax(l,i),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([i,e.scrollLeft,e.scrollTop]),(Lm(e)||Um(e))&&(Lm(i)||Um(i))&&(i.value=e.value),i}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,r,n,i){var l=this;if(n){var d=n.content,u=r.ownerDocument;if(!(!u||!d||d==="none"||d==="-moz-alt-content"||n.display==="none")){this.counters.parse(new A2(this.context,n));var h=new MI(this.context,n),m=u.createElement("html2canvaspseudoelement");ax(n,m),h.content.forEach(function(b){if(b.type===0)m.appendChild(u.createTextNode(b.value));else if(b.type===22){var B=u.createElement("img");B.src=b.value,B.style.opacity="1",m.appendChild(B)}else if(b.type===18){if(b.name==="attr"){var w=b.values.filter(ls);w.length&&m.appendChild(u.createTextNode(e.getAttribute(w[0].value)||""))}else if(b.name==="counter"){var S=b.values.filter(ju),U=S[0],k=S[1];if(U&&ls(U)){var C=l.counters.getCounterValue(U.value),O=k&&ls(k)?Cb.parse(l.context,k.value):3;m.appendChild(u.createTextNode(tf(C,O,!1)))}}else if(b.name==="counters"){var D=b.values.filter(ju),U=D[0],H=D[1],k=D[2];if(U&&ls(U)){var re=l.counters.getCounterValues(U.value),q=k&&ls(k)?Cb.parse(l.context,k.value):3,ne=H&&H.type===0?H.value:"",te=re.map(function(K){return tf(K,q,!1)}).join(ne);m.appendChild(u.createTextNode(te))}}}else if(b.type===20)switch(b.value){case"open-quote":m.appendChild(u.createTextNode(l2(h.quotes,l.quoteDepth++,!0)));break;case"close-quote":m.appendChild(u.createTextNode(l2(h.quotes,--l.quoteDepth,!1)));break;default:m.appendChild(u.createTextNode(b.value))}}),m.className=Ib+" "+kb;var g=i===Ph.BEFORE?" "+Ib:" "+kb;return lm(r)?r.className.baseValue+=g:r.className+=g,m}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t})(),Ph;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(Ph||(Ph={}));var $k=function(t,e){var r=t.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=e.width.toString(),r.height=e.height.toString(),r.scrolling="no",r.setAttribute(DN,"true"),t.body.appendChild(r),r},Zk=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},Xk=function(t){return Promise.all([].slice.call(t.images,0).map(Zk))},Jk=function(t){return new Promise(function(e,r){var n=t.contentWindow;if(!n)return r("No window assigned for iframe");var i=n.document;n.onload=t.onload=function(){n.onload=t.onload=null;var l=setInterval(function(){i.body.childNodes.length>0&&i.readyState==="complete"&&(clearInterval(l),e(t))},50)}})},Yk=["all","d","content"],ax=function(t,e){for(var r=t.length-1;r>=0;r--){var n=t.item(r);Yk.indexOf(n)===-1&&e.style.setProperty(n,t.getPropertyValue(n))}return e},Wk=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},eT=function(t,e,r){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||r!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,r)},tT=function(t){var e=t[0],r=t[1],n=t[2];e.scrollLeft=r,e.scrollTop=n},rT=":before",nT=":after",Ib="___html2canvas___pseudoelement_before",kb="___html2canvas___pseudoelement_after",k2=`{
    content: "" !important;
    display: none !important;
}`,sT=function(t){aT(t,"."+Ib+rT+k2+`
         .`+kb+nT+k2)},aT=function(t,e){var r=t.ownerDocument;if(r){var n=r.createElement("style");n.textContent=e,t.appendChild(n)}},MN=(function(){function t(){}return t.getOrigin=function(e){var r=t._link;return r?(r.href=e,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t})(),iT=(function(){function t(e,r){this.context=e,this._options=r,this._cache={}}return t.prototype.addImage=function(e){var r=Promise.resolve();return this.has(e)||(ox(e)||cT(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),r},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return qi(this,void 0,void 0,function(){var r,n,i,l,d=this;return Ui(this,function(u){switch(u.label){case 0:return r=MN.isSameOrigin(e),n=!ix(e)&&this._options.useCORS===!0&&hi.SUPPORT_CORS_IMAGES&&!r,i=!ix(e)&&!r&&!ox(e)&&typeof this._options.proxy=="string"&&hi.SUPPORT_CORS_XHR&&!n,!r&&this._options.allowTaint===!1&&!ix(e)&&!ox(e)&&!i&&!n?[2]:(l=e,i?[4,this.proxy(l)]:[3,2]);case 1:l=u.sent(),u.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(h,m){var g=new Image;g.onload=function(){return h(g)},g.onerror=m,(dT(l)||n)&&(g.crossOrigin="anonymous"),g.src=l,g.complete===!0&&setTimeout(function(){return h(g)},500),d._options.imageTimeout>0&&setTimeout(function(){return m("Timed out ("+d._options.imageTimeout+"ms) loading image")},d._options.imageTimeout)})];case 3:return[2,u.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var r=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var i=e.substring(0,256);return new Promise(function(l,d){var u=hi.SUPPORT_RESPONSE_TYPE?"blob":"text",h=new XMLHttpRequest;h.onload=function(){if(h.status===200)if(u==="text")l(h.response);else{var b=new FileReader;b.addEventListener("load",function(){return l(b.result)},!1),b.addEventListener("error",function(B){return d(B)},!1),b.readAsDataURL(h.response)}else d("Failed to proxy resource "+i+" with status code "+h.status)},h.onerror=d;var m=n.indexOf("?")>-1?"&":"?";if(h.open("GET",""+n+m+"url="+encodeURIComponent(e)+"&responseType="+u),u!=="text"&&h instanceof XMLHttpRequest&&(h.responseType=u),r._options.imageTimeout){var g=r._options.imageTimeout;h.timeout=g,h.ontimeout=function(){return d("Timed out ("+g+"ms) proxying "+i)}}h.send()})},t})(),oT=/^data:image\/svg\+xml/i,lT=/^data:image\/.*;base64,/i,AT=/^data:image\/.*/i,cT=function(t){return hi.SUPPORT_SVG_DRAWING||!uT(t)},ix=function(t){return AT.test(t)},dT=function(t){return lT.test(t)},ox=function(t){return t.substr(0,4)==="blob"},uT=function(t){return t.substr(-3).toLowerCase()==="svg"||oT.test(t)},ir=(function(){function t(e,r){this.type=0,this.x=e,this.y=r}return t.prototype.add=function(e,r){return new t(this.x+e,this.y+r)},t})(),$d=function(t,e,r){return new ir(t.x+(e.x-t.x)*r,t.y+(e.y-t.y)*r)},Lp=(function(){function t(e,r,n,i){this.type=1,this.start=e,this.startControl=r,this.endControl=n,this.end=i}return t.prototype.subdivide=function(e,r){var n=$d(this.start,this.startControl,e),i=$d(this.startControl,this.endControl,e),l=$d(this.endControl,this.end,e),d=$d(n,i,e),u=$d(i,l,e),h=$d(d,u,e);return r?new t(this.start,n,d,h):new t(h,u,l,this.end)},t.prototype.add=function(e,r){return new t(this.start.add(e,r),this.startControl.add(e,r),this.endControl.add(e,r),this.end.add(e,r))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t})(),nl=function(t){return t.type===1},hT=(function(){function t(e){var r=e.styles,n=e.bounds,i=Ih(r.borderTopLeftRadius,n.width,n.height),l=i[0],d=i[1],u=Ih(r.borderTopRightRadius,n.width,n.height),h=u[0],m=u[1],g=Ih(r.borderBottomRightRadius,n.width,n.height),b=g[0],B=g[1],w=Ih(r.borderBottomLeftRadius,n.width,n.height),S=w[0],U=w[1],k=[];k.push((l+h)/n.width),k.push((S+b)/n.width),k.push((d+U)/n.height),k.push((m+B)/n.height);var C=Math.max.apply(Math,k);C>1&&(l/=C,d/=C,h/=C,m/=C,b/=C,B/=C,S/=C,U/=C);var O=n.width-h,D=n.height-B,H=n.width-b,re=n.height-U,q=r.borderTopWidth,ne=r.borderRightWidth,te=r.borderBottomWidth,G=r.borderLeftWidth,de=bs(r.paddingTop,e.bounds.width),K=bs(r.paddingRight,e.bounds.width),W=bs(r.paddingBottom,e.bounds.width),ie=bs(r.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=l>0||d>0?Qs(n.left+G/3,n.top+q/3,l-G/3,d-q/3,Jn.TOP_LEFT):new ir(n.left+G/3,n.top+q/3),this.topRightBorderDoubleOuterBox=l>0||d>0?Qs(n.left+O,n.top+q/3,h-ne/3,m-q/3,Jn.TOP_RIGHT):new ir(n.left+n.width-ne/3,n.top+q/3),this.bottomRightBorderDoubleOuterBox=b>0||B>0?Qs(n.left+H,n.top+D,b-ne/3,B-te/3,Jn.BOTTOM_RIGHT):new ir(n.left+n.width-ne/3,n.top+n.height-te/3),this.bottomLeftBorderDoubleOuterBox=S>0||U>0?Qs(n.left+G/3,n.top+re,S-G/3,U-te/3,Jn.BOTTOM_LEFT):new ir(n.left+G/3,n.top+n.height-te/3),this.topLeftBorderDoubleInnerBox=l>0||d>0?Qs(n.left+G*2/3,n.top+q*2/3,l-G*2/3,d-q*2/3,Jn.TOP_LEFT):new ir(n.left+G*2/3,n.top+q*2/3),this.topRightBorderDoubleInnerBox=l>0||d>0?Qs(n.left+O,n.top+q*2/3,h-ne*2/3,m-q*2/3,Jn.TOP_RIGHT):new ir(n.left+n.width-ne*2/3,n.top+q*2/3),this.bottomRightBorderDoubleInnerBox=b>0||B>0?Qs(n.left+H,n.top+D,b-ne*2/3,B-te*2/3,Jn.BOTTOM_RIGHT):new ir(n.left+n.width-ne*2/3,n.top+n.height-te*2/3),this.bottomLeftBorderDoubleInnerBox=S>0||U>0?Qs(n.left+G*2/3,n.top+re,S-G*2/3,U-te*2/3,Jn.BOTTOM_LEFT):new ir(n.left+G*2/3,n.top+n.height-te*2/3),this.topLeftBorderStroke=l>0||d>0?Qs(n.left+G/2,n.top+q/2,l-G/2,d-q/2,Jn.TOP_LEFT):new ir(n.left+G/2,n.top+q/2),this.topRightBorderStroke=l>0||d>0?Qs(n.left+O,n.top+q/2,h-ne/2,m-q/2,Jn.TOP_RIGHT):new ir(n.left+n.width-ne/2,n.top+q/2),this.bottomRightBorderStroke=b>0||B>0?Qs(n.left+H,n.top+D,b-ne/2,B-te/2,Jn.BOTTOM_RIGHT):new ir(n.left+n.width-ne/2,n.top+n.height-te/2),this.bottomLeftBorderStroke=S>0||U>0?Qs(n.left+G/2,n.top+re,S-G/2,U-te/2,Jn.BOTTOM_LEFT):new ir(n.left+G/2,n.top+n.height-te/2),this.topLeftBorderBox=l>0||d>0?Qs(n.left,n.top,l,d,Jn.TOP_LEFT):new ir(n.left,n.top),this.topRightBorderBox=h>0||m>0?Qs(n.left+O,n.top,h,m,Jn.TOP_RIGHT):new ir(n.left+n.width,n.top),this.bottomRightBorderBox=b>0||B>0?Qs(n.left+H,n.top+D,b,B,Jn.BOTTOM_RIGHT):new ir(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=S>0||U>0?Qs(n.left,n.top+re,S,U,Jn.BOTTOM_LEFT):new ir(n.left,n.top+n.height),this.topLeftPaddingBox=l>0||d>0?Qs(n.left+G,n.top+q,Math.max(0,l-G),Math.max(0,d-q),Jn.TOP_LEFT):new ir(n.left+G,n.top+q),this.topRightPaddingBox=h>0||m>0?Qs(n.left+Math.min(O,n.width-ne),n.top+q,O>n.width+ne?0:Math.max(0,h-ne),Math.max(0,m-q),Jn.TOP_RIGHT):new ir(n.left+n.width-ne,n.top+q),this.bottomRightPaddingBox=b>0||B>0?Qs(n.left+Math.min(H,n.width-G),n.top+Math.min(D,n.height-te),Math.max(0,b-ne),Math.max(0,B-te),Jn.BOTTOM_RIGHT):new ir(n.left+n.width-ne,n.top+n.height-te),this.bottomLeftPaddingBox=S>0||U>0?Qs(n.left+G,n.top+Math.min(re,n.height-te),Math.max(0,S-G),Math.max(0,U-te),Jn.BOTTOM_LEFT):new ir(n.left+G,n.top+n.height-te),this.topLeftContentBox=l>0||d>0?Qs(n.left+G+ie,n.top+q+de,Math.max(0,l-(G+ie)),Math.max(0,d-(q+de)),Jn.TOP_LEFT):new ir(n.left+G+ie,n.top+q+de),this.topRightContentBox=h>0||m>0?Qs(n.left+Math.min(O,n.width+G+ie),n.top+q+de,O>n.width+G+ie?0:h-G+ie,m-(q+de),Jn.TOP_RIGHT):new ir(n.left+n.width-(ne+K),n.top+q+de),this.bottomRightContentBox=b>0||B>0?Qs(n.left+Math.min(H,n.width-(G+ie)),n.top+Math.min(D,n.height+q+de),Math.max(0,b-(ne+K)),B-(te+W),Jn.BOTTOM_RIGHT):new ir(n.left+n.width-(ne+K),n.top+n.height-(te+W)),this.bottomLeftContentBox=S>0||U>0?Qs(n.left+G+ie,n.top+re,Math.max(0,S-(G+ie)),U-(te+W),Jn.BOTTOM_LEFT):new ir(n.left+G+ie,n.top+n.height-(te+W))}return t})(),Jn;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Jn||(Jn={}));var Qs=function(t,e,r,n,i){var l=4*((Math.sqrt(2)-1)/3),d=r*l,u=n*l,h=t+r,m=e+n;switch(i){case Jn.TOP_LEFT:return new Lp(new ir(t,m),new ir(t,m-u),new ir(h-d,e),new ir(h,e));case Jn.TOP_RIGHT:return new Lp(new ir(t,e),new ir(t+d,e),new ir(h,m-u),new ir(h,m));case Jn.BOTTOM_RIGHT:return new Lp(new ir(h,e),new ir(h,e+u),new ir(t+d,m),new ir(t,m));case Jn.BOTTOM_LEFT:default:return new Lp(new ir(h,m),new ir(h-d,m),new ir(t,e+u),new ir(t,e))}},Im=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},fT=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},km=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},pT=(function(){function t(e,r,n){this.offsetX=e,this.offsetY=r,this.matrix=n,this.type=0,this.target=6}return t})(),Up=(function(){function t(e,r){this.path=e,this.target=r,this.type=1}return t})(),mT=(function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t})(),gT=function(t){return t.type===0},PN=function(t){return t.type===1},xT=function(t){return t.type===2},T2=function(t,e){return t.length===e.length?t.some(function(r,n){return r===e[n]}):!1},bT=function(t,e,r,n,i){return t.map(function(l,d){switch(d){case 0:return l.add(e,r);case 1:return l.add(e+n,r);case 2:return l.add(e+n,r+i);case 3:return l.add(e,r+i)}return l})},HN=(function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t})(),qN=(function(){function t(e,r){if(this.container=e,this.parent=r,this.effects=[],this.curves=new hT(this.container),this.container.styles.opacity<1&&this.effects.push(new mT(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,l=this.container.styles.transform;this.effects.push(new pT(n,i,l))}if(this.container.styles.overflowX!==0){var d=Im(this.curves),u=km(this.curves);T2(d,u)?this.effects.push(new Up(d,6)):(this.effects.push(new Up(d,2)),this.effects.push(new Up(u,4)))}}return t.prototype.getEffects=function(e){for(var r=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,i=this.effects.slice(0);n;){var l=n.effects.filter(function(h){return!PN(h)});if(r||n.container.styles.position!==0||!n.parent){if(i.unshift.apply(i,l),r=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var d=Im(n.curves),u=km(n.curves);T2(d,u)||i.unshift(new Up(u,6))}}else i.unshift.apply(i,l);n=n.parent}return i.filter(function(h){return Pa(h.target,e)})},t})(),Tb=function(t,e,r,n){t.container.elements.forEach(function(i){var l=Pa(i.flags,4),d=Pa(i.flags,2),u=new qN(i,t);Pa(i.styles.display,2048)&&n.push(u);var h=Pa(i.flags,8)?[]:n;if(l||d){var m=l||i.styles.isPositioned()?r:e,g=new HN(u);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var b=i.styles.zIndex.order;if(b<0){var B=0;m.negativeZIndex.some(function(S,U){return b>S.element.container.styles.zIndex.order?(B=U,!1):B>0}),m.negativeZIndex.splice(B,0,g)}else if(b>0){var w=0;m.positiveZIndex.some(function(S,U){return b>=S.element.container.styles.zIndex.order?(w=U+1,!1):w>0}),m.positiveZIndex.splice(w,0,g)}else m.zeroOrAutoZIndexOrTransformedOrOpacity.push(g)}else i.styles.isFloating()?m.nonPositionedFloats.push(g):m.nonPositionedInlineLevel.push(g);Tb(u,g,l?g:r,h)}else i.styles.isInlineLevel()?e.inlineLevel.push(u):e.nonInlineLevel.push(u),Tb(u,e,r,h);Pa(i.flags,8)&&zN(i,h)})},zN=function(t,e){for(var r=t instanceof jb?t.start:1,n=t instanceof jb?t.reversed:!1,i=0;i<e.length;i++){var l=e[i];l.container instanceof EN&&typeof l.container.value=="number"&&l.container.value!==0&&(r=l.container.value),l.listValue=tf(r,l.container.styles.listStyleType,!0),r+=n?-1:1}},vT=function(t){var e=new qN(t,null),r=new HN(e),n=[];return Tb(e,r,r,n),zN(e.container,n),r},F2=function(t,e){switch(e){case 0:return al(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return al(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return al(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return al(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},yT=function(t,e){switch(e){case 0:return al(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return al(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return al(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return al(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},wT=function(t,e){switch(e){case 0:return al(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return al(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return al(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return al(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},_T=function(t,e){switch(e){case 0:return Ip(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return Ip(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return Ip(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return Ip(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},Ip=function(t,e){var r=[];return nl(t)?r.push(t.subdivide(.5,!1)):r.push(t),nl(e)?r.push(e.subdivide(.5,!0)):r.push(e),r},al=function(t,e,r,n){var i=[];return nl(t)?i.push(t.subdivide(.5,!1)):i.push(t),nl(r)?i.push(r.subdivide(.5,!0)):i.push(r),nl(n)?i.push(n.subdivide(.5,!0).reverse()):i.push(n),nl(e)?i.push(e.subdivide(.5,!1).reverse()):i.push(e),i},KN=function(t){var e=t.bounds,r=t.styles;return e.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},Tm=function(t){var e=t.styles,r=t.bounds,n=bs(e.paddingLeft,r.width),i=bs(e.paddingRight,r.width),l=bs(e.paddingTop,r.width),d=bs(e.paddingBottom,r.width);return r.add(n+e.borderLeftWidth,l+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+i),-(e.borderTopWidth+e.borderBottomWidth+l+d))},BT=function(t,e){return t===0?e.bounds:t===2?Tm(e):KN(e)},NT=function(t,e){return t===0?e.bounds:t===2?Tm(e):KN(e)},lx=function(t,e,r){var n=BT(Au(t.styles.backgroundOrigin,e),t),i=NT(Au(t.styles.backgroundClip,e),t),l=CT(Au(t.styles.backgroundSize,e),r,n),d=l[0],u=l[1],h=Ih(Au(t.styles.backgroundPosition,e),n.width-d,n.height-u),m=ET(Au(t.styles.backgroundRepeat,e),h,l,n,i),g=Math.round(n.left+h[0]),b=Math.round(n.top+h[1]);return[m,g,b,d,u]},Zd=function(t){return ls(t)&&t.value===xu.AUTO},kp=function(t){return typeof t=="number"},CT=function(t,e,r){var n=e[0],i=e[1],l=e[2],d=t[0],u=t[1];if(!d)return[0,0];if(ja(d)&&u&&ja(u))return[bs(d,r.width),bs(u,r.height)];var h=kp(l);if(ls(d)&&(d.value===xu.CONTAIN||d.value===xu.COVER)){if(kp(l)){var m=r.width/r.height;return m<l!=(d.value===xu.COVER)?[r.width,r.width/l]:[r.height*l,r.height]}return[r.width,r.height]}var g=kp(n),b=kp(i),B=g||b;if(Zd(d)&&(!u||Zd(u))){if(g&&b)return[n,i];if(!h&&!B)return[r.width,r.height];if(B&&h){var w=g?n:i*l,S=b?i:n/l;return[w,S]}var U=g?n:r.width,k=b?i:r.height;return[U,k]}if(h){var C=0,O=0;return ja(d)?C=bs(d,r.width):ja(u)&&(O=bs(u,r.height)),Zd(d)?C=O*l:(!u||Zd(u))&&(O=C/l),[C,O]}var D=null,H=null;if(ja(d)?D=bs(d,r.width):u&&ja(u)&&(H=bs(u,r.height)),D!==null&&(!u||Zd(u))&&(H=g&&b?D/n*i:r.height),H!==null&&Zd(d)&&(D=g&&b?H/i*n:r.width),D!==null&&H!==null)return[D,H];throw new Error("Unable to calculate background-size for element")},Au=function(t,e){var r=t[e];return typeof r>"u"?t[0]:r},ET=function(t,e,r,n,i){var l=e[0],d=e[1],u=r[0],h=r[1];switch(t){case 2:return[new ir(Math.round(n.left),Math.round(n.top+d)),new ir(Math.round(n.left+n.width),Math.round(n.top+d)),new ir(Math.round(n.left+n.width),Math.round(h+n.top+d)),new ir(Math.round(n.left),Math.round(h+n.top+d))];case 3:return[new ir(Math.round(n.left+l),Math.round(n.top)),new ir(Math.round(n.left+l+u),Math.round(n.top)),new ir(Math.round(n.left+l+u),Math.round(n.height+n.top)),new ir(Math.round(n.left+l),Math.round(n.height+n.top))];case 1:return[new ir(Math.round(n.left+l),Math.round(n.top+d)),new ir(Math.round(n.left+l+u),Math.round(n.top+d)),new ir(Math.round(n.left+l+u),Math.round(n.top+d+h)),new ir(Math.round(n.left+l),Math.round(n.top+d+h))];default:return[new ir(Math.round(i.left),Math.round(i.top)),new ir(Math.round(i.left+i.width),Math.round(i.top)),new ir(Math.round(i.left+i.width),Math.round(i.height+i.top)),new ir(Math.round(i.left),Math.round(i.height+i.top))]}},ST="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",O2="Hidden Text",jT=(function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,r){var n=this._document.createElement("div"),i=this._document.createElement("img"),l=this._document.createElement("span"),d=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=r,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",d.appendChild(n),i.src=ST,i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",l.style.fontFamily=e,l.style.fontSize=r,l.style.margin="0",l.style.padding="0",l.appendChild(this._document.createTextNode(O2)),n.appendChild(l),n.appendChild(i);var u=i.offsetTop-l.offsetTop+2;n.removeChild(l),n.appendChild(this._document.createTextNode(O2)),n.style.lineHeight="normal",i.style.verticalAlign="super";var h=i.offsetTop-n.offsetTop+2;return d.removeChild(n),{baseline:u,middle:h}},t.prototype.getMetrics=function(e,r){var n=e+" "+r;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(e,r)),this._data[n]},t})(),VN=(function(){function t(e,r){this.context=e,this.options=r}return t})(),LT=1e4,UT=(function(t){Ul(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i._activeEffects=[],i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),n.canvas||(i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px"),i.fontMetrics=new jT(document),i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),i}return e.prototype.applyEffects=function(r){for(var n=this;this._activeEffects.length;)this.popEffect();r.forEach(function(i){return n.applyEffect(i)})},e.prototype.applyEffect=function(r){this.ctx.save(),xT(r)&&(this.ctx.globalAlpha=r.opacity),gT(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),PN(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(r){return qi(this,void 0,void 0,function(){var n;return Ui(this,function(i){switch(i.label){case 0:return n=r.element.container.styles,n.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(r){return qi(this,void 0,void 0,function(){return Ui(this,function(n){switch(n.label){case 0:if(Pa(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(r)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(r,n,i){var l=this;if(n===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+i);else{var d=jv(r.text);d.reduce(function(u,h){return l.ctx.fillText(h,u,r.bounds.top+i),u+l.ctx.measureText(h).width},r.bounds.left)}},e.prototype.createFontStyle=function(r){var n=r.fontVariant.filter(function(d){return d==="normal"||d==="small-caps"}).join(""),i=OT(r.fontFamily).join(", "),l=mf(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,n,r.fontWeight,l,i].join(" "),i,l]},e.prototype.renderTextNode=function(r,n){return qi(this,void 0,void 0,function(){var i,l,d,u,h,m,g,b,B=this;return Ui(this,function(w){return i=this.createFontStyle(n),l=i[0],d=i[1],u=i[2],this.ctx.font=l,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",h=this.fontMetrics.getMetrics(d,u),m=h.baseline,g=h.middle,b=n.paintOrder,r.textBounds.forEach(function(S){b.forEach(function(U){switch(U){case 0:B.ctx.fillStyle=$a(n.color),B.renderTextWithLetterSpacing(S,n.letterSpacing,m);var k=n.textShadow;k.length&&S.text.trim().length&&(k.slice(0).reverse().forEach(function(C){B.ctx.shadowColor=$a(C.color),B.ctx.shadowOffsetX=C.offsetX.number*B.options.scale,B.ctx.shadowOffsetY=C.offsetY.number*B.options.scale,B.ctx.shadowBlur=C.blur.number,B.renderTextWithLetterSpacing(S,n.letterSpacing,m)}),B.ctx.shadowColor="",B.ctx.shadowOffsetX=0,B.ctx.shadowOffsetY=0,B.ctx.shadowBlur=0),n.textDecorationLine.length&&(B.ctx.fillStyle=$a(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(C){switch(C){case 1:B.ctx.fillRect(S.bounds.left,Math.round(S.bounds.top+m),S.bounds.width,1);break;case 2:B.ctx.fillRect(S.bounds.left,Math.round(S.bounds.top),S.bounds.width,1);break;case 3:B.ctx.fillRect(S.bounds.left,Math.ceil(S.bounds.top+g),S.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&S.text.trim().length&&(B.ctx.strokeStyle=$a(n.webkitTextStrokeColor),B.ctx.lineWidth=n.webkitTextStrokeWidth,B.ctx.lineJoin=window.chrome?"miter":"round",B.ctx.strokeText(S.text,S.bounds.left,S.bounds.top+m)),B.ctx.strokeStyle="",B.ctx.lineWidth=0,B.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(r,n,i){if(i&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var l=Tm(r),d=km(n);this.path(d),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(i,0,0,r.intrinsicWidth,r.intrinsicHeight,l.left,l.top,l.width,l.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(r){return qi(this,void 0,void 0,function(){var n,i,l,d,u,h,O,O,m,g,b,B,H,w,S,re,U,k,C,O,D,H,re;return Ui(this,function(q){switch(q.label){case 0:this.applyEffects(r.getEffects(4)),n=r.container,i=r.curves,l=n.styles,d=0,u=n.textNodes,q.label=1;case 1:return d<u.length?(h=u[d],[4,this.renderTextNode(h,l)]):[3,4];case 2:q.sent(),q.label=3;case 3:return d++,[3,1];case 4:if(!(n instanceof BN))return[3,8];q.label=5;case 5:return q.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return O=q.sent(),this.renderReplacedElement(n,i,O),[3,8];case 7:return q.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof NN&&this.renderReplacedElement(n,i,n.canvas),!(n instanceof CN))return[3,12];q.label=9;case 9:return q.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return O=q.sent(),this.renderReplacedElement(n,i,O),[3,12];case 11:return q.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof LN&&n.tree?(m=new e(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,m.render(n.tree)]):[3,14];case 13:g=q.sent(),n.width&&n.height&&this.ctx.drawImage(g,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),q.label=14;case 14:if(n instanceof Lv&&(b=Math.min(n.bounds.width,n.bounds.height),n.type===Sm?n.checked&&(this.ctx.save(),this.path([new ir(n.bounds.left+b*.39363,n.bounds.top+b*.79),new ir(n.bounds.left+b*.16,n.bounds.top+b*.5549),new ir(n.bounds.left+b*.27347,n.bounds.top+b*.44071),new ir(n.bounds.left+b*.39694,n.bounds.top+b*.5649),new ir(n.bounds.left+b*.72983,n.bounds.top+b*.23),new ir(n.bounds.left+b*.84,n.bounds.top+b*.34085),new ir(n.bounds.left+b*.39363,n.bounds.top+b*.79)]),this.ctx.fillStyle=$a(_2),this.ctx.fill(),this.ctx.restore()):n.type===jm&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+b/2,n.bounds.top+b/2,b/4,0,Math.PI*2,!0),this.ctx.fillStyle=$a(_2),this.ctx.fill(),this.ctx.restore())),IT(n)&&n.value.length){switch(B=this.createFontStyle(l),H=B[0],w=B[1],S=this.fontMetrics.getMetrics(H,w).baseline,this.ctx.font=H,this.ctx.fillStyle=$a(l.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=TT(n.styles.textAlign),re=Tm(n),U=0,n.styles.textAlign){case 1:U+=re.width/2;break;case 2:U+=re.width;break}k=re.add(U,0,0,-re.height/2+1),this.ctx.save(),this.path([new ir(re.left,re.top),new ir(re.left+re.width,re.top),new ir(re.left+re.width,re.top+re.height),new ir(re.left,re.top+re.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Mh(n.value,k),l.letterSpacing,S),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Pa(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(C=n.styles.listStyleImage,C.type!==0)return[3,18];O=void 0,D=C.url,q.label=15;case 15:return q.trys.push([15,17,,18]),[4,this.context.cache.match(D)];case 16:return O=q.sent(),this.ctx.drawImage(O,n.bounds.left-(O.width+10),n.bounds.top),[3,18];case 17:return q.sent(),this.context.logger.error("Error loading list-style-image "+D),[3,18];case 18:return[3,20];case 19:r.listValue&&n.styles.listStyleType!==-1&&(H=this.createFontStyle(l)[0],this.ctx.font=H,this.ctx.fillStyle=$a(l.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",re=new qA(n.bounds.left,n.bounds.top+bs(n.styles.paddingTop,n.bounds.width),n.bounds.width,i2(l.lineHeight,l.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Mh(r.listValue,re),l.letterSpacing,i2(l.lineHeight,l.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),q.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(r){return qi(this,void 0,void 0,function(){var n,i,C,l,d,C,u,h,C,m,g,C,b,B,C,w,S,C,U,k,C;return Ui(this,function(O){switch(O.label){case 0:if(Pa(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:O.sent(),n=0,i=r.negativeZIndex,O.label=2;case 2:return n<i.length?(C=i[n],[4,this.renderStack(C)]):[3,5];case 3:O.sent(),O.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:O.sent(),l=0,d=r.nonInlineLevel,O.label=7;case 7:return l<d.length?(C=d[l],[4,this.renderNode(C)]):[3,10];case 8:O.sent(),O.label=9;case 9:return l++,[3,7];case 10:u=0,h=r.nonPositionedFloats,O.label=11;case 11:return u<h.length?(C=h[u],[4,this.renderStack(C)]):[3,14];case 12:O.sent(),O.label=13;case 13:return u++,[3,11];case 14:m=0,g=r.nonPositionedInlineLevel,O.label=15;case 15:return m<g.length?(C=g[m],[4,this.renderStack(C)]):[3,18];case 16:O.sent(),O.label=17;case 17:return m++,[3,15];case 18:b=0,B=r.inlineLevel,O.label=19;case 19:return b<B.length?(C=B[b],[4,this.renderNode(C)]):[3,22];case 20:O.sent(),O.label=21;case 21:return b++,[3,19];case 22:w=0,S=r.zeroOrAutoZIndexOrTransformedOrOpacity,O.label=23;case 23:return w<S.length?(C=S[w],[4,this.renderStack(C)]):[3,26];case 24:O.sent(),O.label=25;case 25:return w++,[3,23];case 26:U=0,k=r.positiveZIndex,O.label=27;case 27:return U<k.length?(C=k[U],[4,this.renderStack(C)]):[3,30];case 28:O.sent(),O.label=29;case 29:return U++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},e.prototype.formatPath=function(r){var n=this;r.forEach(function(i,l){var d=nl(i)?i.start:i;l===0?n.ctx.moveTo(d.x,d.y):n.ctx.lineTo(d.x,d.y),nl(i)&&n.ctx.bezierCurveTo(i.startControl.x,i.startControl.y,i.endControl.x,i.endControl.y,i.end.x,i.end.y)})},e.prototype.renderRepeat=function(r,n,i,l){this.path(r),this.ctx.fillStyle=n,this.ctx.translate(i,l),this.ctx.fill(),this.ctx.translate(-i,-l)},e.prototype.resizeImage=function(r,n,i){var l;if(r.width===n&&r.height===i)return r;var d=(l=this.canvas.ownerDocument)!==null&&l!==void 0?l:document,u=d.createElement("canvas");u.width=Math.max(1,n),u.height=Math.max(1,i);var h=u.getContext("2d");return h.drawImage(r,0,0,r.width,r.height,0,0,n,i),u},e.prototype.renderBackgroundImage=function(r){return qi(this,void 0,void 0,function(){var n,i,l,d,u,h;return Ui(this,function(m){switch(m.label){case 0:n=r.styles.backgroundImage.length-1,i=function(g){var b,B,w,de,V,me,ie,z,te,S,de,V,me,ie,z,U,k,C,O,D,H,re,q,ne,te,G,de,K,W,ie,z,he,V,me,ee,Ce,Ne,M,T,$,X,Ae;return Ui(this,function(xe){switch(xe.label){case 0:if(g.type!==0)return[3,5];b=void 0,B=g.url,xe.label=1;case 1:return xe.trys.push([1,3,,4]),[4,l.context.cache.match(B)];case 2:return b=xe.sent(),[3,4];case 3:return xe.sent(),l.context.logger.error("Error loading background-image "+B),[3,4];case 4:return b&&(w=lx(r,n,[b.width,b.height,b.width/b.height]),de=w[0],V=w[1],me=w[2],ie=w[3],z=w[4],te=l.ctx.createPattern(l.resizeImage(b,ie,z),"repeat"),l.renderRepeat(de,te,V,me)),[3,6];case 5:g6(g)?(S=lx(r,n,[null,null,null]),de=S[0],V=S[1],me=S[2],ie=S[3],z=S[4],U=u6(g.angle,ie,z),k=U[0],C=U[1],O=U[2],D=U[3],H=U[4],re=document.createElement("canvas"),re.width=ie,re.height=z,q=re.getContext("2d"),ne=q.createLinearGradient(C,D,O,H),s2(g.stops,k).forEach(function(Be){return ne.addColorStop(Be.stop,$a(Be.color))}),q.fillStyle=ne,q.fillRect(0,0,ie,z),ie>0&&z>0&&(te=l.ctx.createPattern(re,"repeat"),l.renderRepeat(de,te,V,me))):x6(g)&&(G=lx(r,n,[null,null,null]),de=G[0],K=G[1],W=G[2],ie=G[3],z=G[4],he=g.position.length===0?[Cv]:g.position,V=bs(he[0],ie),me=bs(he[he.length-1],z),ee=h6(g,V,me,ie,z),Ce=ee[0],Ne=ee[1],Ce>0&&Ne>0&&(M=l.ctx.createRadialGradient(K+V,W+me,0,K+V,W+me,Ce),s2(g.stops,Ce*2).forEach(function(Be){return M.addColorStop(Be.stop,$a(Be.color))}),l.path(de),l.ctx.fillStyle=M,Ce!==Ne?(T=r.bounds.left+.5*r.bounds.width,$=r.bounds.top+.5*r.bounds.height,X=Ne/Ce,Ae=1/X,l.ctx.save(),l.ctx.translate(T,$),l.ctx.transform(1,0,0,X,0,0),l.ctx.translate(-T,-$),l.ctx.fillRect(K,Ae*(W-$)+$,ie,z*Ae),l.ctx.restore()):l.ctx.fill())),xe.label=6;case 6:return n--,[2]}})},l=this,d=0,u=r.styles.backgroundImage.slice(0).reverse(),m.label=1;case 1:return d<u.length?(h=u[d],[5,i(h)]):[3,4];case 2:m.sent(),m.label=3;case 3:return d++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(r,n,i){return qi(this,void 0,void 0,function(){return Ui(this,function(l){return this.path(F2(i,n)),this.ctx.fillStyle=$a(r),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(r,n,i,l){return qi(this,void 0,void 0,function(){var d,u;return Ui(this,function(h){switch(h.label){case 0:return n<3?[4,this.renderSolidBorder(r,i,l)]:[3,2];case 1:return h.sent(),[2];case 2:return d=yT(l,i),this.path(d),this.ctx.fillStyle=$a(r),this.ctx.fill(),u=wT(l,i),this.path(u),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(r){return qi(this,void 0,void 0,function(){var n,i,l,d,u,h,m,g,b=this;return Ui(this,function(B){switch(B.label){case 0:return this.applyEffects(r.getEffects(2)),n=r.container.styles,i=!Ec(n.backgroundColor)||n.backgroundImage.length,l=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],d=kT(Au(n.backgroundClip,0),r.curves),i||n.boxShadow.length?(this.ctx.save(),this.path(d),this.ctx.clip(),Ec(n.backgroundColor)||(this.ctx.fillStyle=$a(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:B.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(w){b.ctx.save();var S=Im(r.curves),U=w.inset?0:LT,k=bT(S,-U+(w.inset?1:-1)*w.spread.number,(w.inset?1:-1)*w.spread.number,w.spread.number*(w.inset?-2:2),w.spread.number*(w.inset?-2:2));w.inset?(b.path(S),b.ctx.clip(),b.mask(k)):(b.mask(S),b.ctx.clip(),b.path(k)),b.ctx.shadowOffsetX=w.offsetX.number+U,b.ctx.shadowOffsetY=w.offsetY.number,b.ctx.shadowColor=$a(w.color),b.ctx.shadowBlur=w.blur.number,b.ctx.fillStyle=w.inset?$a(w.color):"rgba(0,0,0,1)",b.ctx.fill(),b.ctx.restore()}),B.label=2;case 2:u=0,h=0,m=l,B.label=3;case 3:return h<m.length?(g=m[h],g.style!==0&&!Ec(g.color)&&g.width>0?g.style!==2?[3,5]:[4,this.renderDashedDottedBorder(g.color,g.width,u,r.curves,2)]:[3,11]):[3,13];case 4:return B.sent(),[3,11];case 5:return g.style!==3?[3,7]:[4,this.renderDashedDottedBorder(g.color,g.width,u,r.curves,3)];case 6:return B.sent(),[3,11];case 7:return g.style!==4?[3,9]:[4,this.renderDoubleBorder(g.color,g.width,u,r.curves)];case 8:return B.sent(),[3,11];case 9:return[4,this.renderSolidBorder(g.color,u,r.curves)];case 10:B.sent(),B.label=11;case 11:u++,B.label=12;case 12:return h++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(r,n,i,l,d){return qi(this,void 0,void 0,function(){var u,h,m,g,b,B,w,S,U,k,C,O,D,H,re,q,re,q;return Ui(this,function(ne){return this.ctx.save(),u=_T(l,i),h=F2(l,i),d===2&&(this.path(h),this.ctx.clip()),nl(h[0])?(m=h[0].start.x,g=h[0].start.y):(m=h[0].x,g=h[0].y),nl(h[1])?(b=h[1].end.x,B=h[1].end.y):(b=h[1].x,B=h[1].y),i===0||i===2?w=Math.abs(m-b):w=Math.abs(g-B),this.ctx.beginPath(),d===3?this.formatPath(u):this.formatPath(h.slice(0,2)),S=n<3?n*3:n*2,U=n<3?n*2:n,d===3&&(S=n,U=n),k=!0,w<=S*2?k=!1:w<=S*2+U?(C=w/(2*S+U),S*=C,U*=C):(O=Math.floor((w+U)/(S+U)),D=(w-O*S)/(O-1),H=(w-(O+1)*S)/O,U=H<=0||Math.abs(U-D)<Math.abs(U-H)?D:H),k&&(d===3?this.ctx.setLineDash([0,S+U]):this.ctx.setLineDash([S,U])),d===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=$a(r),this.ctx.stroke(),this.ctx.setLineDash([]),d===2&&(nl(h[0])&&(re=h[3],q=h[0],this.ctx.beginPath(),this.formatPath([new ir(re.end.x,re.end.y),new ir(q.start.x,q.start.y)]),this.ctx.stroke()),nl(h[1])&&(re=h[1],q=h[2],this.ctx.beginPath(),this.formatPath([new ir(re.end.x,re.end.y),new ir(q.start.x,q.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(r){return qi(this,void 0,void 0,function(){var n;return Ui(this,function(i){switch(i.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=$a(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=vT(r),[4,this.renderStack(n)];case 1:return i.sent(),this.applyEffects([]),[2,this.canvas]}})})},e})(VN),IT=function(t){return t instanceof jN||t instanceof SN?!0:t instanceof Lv&&t.type!==jm&&t.type!==Sm},kT=function(t,e){switch(t){case 0:return Im(e);case 2:return fT(e);case 1:default:return km(e)}},TT=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},FT=["-apple-system","system-ui"],OT=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return FT.indexOf(e)===-1}):t},QT=(function(t){Ul(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),i.options=n,i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px",i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),i}return e.prototype.render=function(r){return qi(this,void 0,void 0,function(){var n,i;return Ui(this,function(l){switch(l.label){case 0:return n=Sb(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,RT(n)];case 1:return i=l.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=$a(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(i,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e})(VN),RT=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},DT=(function(){function t(e){var r=e.id,n=e.enabled;this.id=r,this.enabled=n,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,dp([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,dp([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,dp([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,dp([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t})(),MT=(function(){function t(e,r){var n;this.windowBounds=r,this.instanceName="#"+t.instanceCount++,this.logger=new DT({id:this.instanceName,enabled:e.logging}),this.cache=(n=e.cache)!==null&&n!==void 0?n:new iT(this,e)}return t.instanceCount=1,t})(),GN=function(t,e){return e===void 0&&(e={}),PT(t,e)};typeof window<"u"&&MN.setContext(window);var PT=function(t,e){return qi(void 0,void 0,void 0,function(){var r,n,i,l,d,u,h,m,g,b,B,w,S,U,k,C,O,D,H,re,ne,q,ne,te,G,de,K,W,ie,z,he,V,me,ee,Ce,Ne,M,T,$,X;return Ui(this,function(Ae){switch(Ae.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=t.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(n=r.defaultView,!n)throw new Error("Document is not attached to a Window");return i={allowTaint:(te=e.allowTaint)!==null&&te!==void 0?te:!1,imageTimeout:(G=e.imageTimeout)!==null&&G!==void 0?G:15e3,proxy:e.proxy,useCORS:(de=e.useCORS)!==null&&de!==void 0?de:!1},l=hb({logging:(K=e.logging)!==null&&K!==void 0?K:!0,cache:e.cache},i),d={windowWidth:(W=e.windowWidth)!==null&&W!==void 0?W:n.innerWidth,windowHeight:(ie=e.windowHeight)!==null&&ie!==void 0?ie:n.innerHeight,scrollX:(z=e.scrollX)!==null&&z!==void 0?z:n.pageXOffset,scrollY:(he=e.scrollY)!==null&&he!==void 0?he:n.pageYOffset},u=new qA(d.scrollX,d.scrollY,d.windowWidth,d.windowHeight),h=new MT(l,u),m=(V=e.foreignObjectRendering)!==null&&V!==void 0?V:!1,g={allowTaint:(me=e.allowTaint)!==null&&me!==void 0?me:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:m,copyStyles:m},h.logger.debug("Starting document clone with size "+u.width+"x"+u.height+" scrolled to "+-u.left+","+-u.top),b=new I2(h,t,g),B=b.clonedReferenceElement,B?[4,b.toIFrame(r,u)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return w=Ae.sent(),S=Uv(B)||qk(B)?bL(B.ownerDocument):Jm(h,B),U=S.width,k=S.height,C=S.left,O=S.top,D=HT(h,B,e.backgroundColor),H={canvas:e.canvas,backgroundColor:D,scale:(Ce=(ee=e.scale)!==null&&ee!==void 0?ee:n.devicePixelRatio)!==null&&Ce!==void 0?Ce:1,x:((Ne=e.x)!==null&&Ne!==void 0?Ne:0)+C,y:((M=e.y)!==null&&M!==void 0?M:0)+O,width:(T=e.width)!==null&&T!==void 0?T:Math.ceil(U),height:($=e.height)!==null&&$!==void 0?$:Math.ceil(k)},m?(h.logger.debug("Document cloned, using foreign object rendering"),ne=new QT(h,H),[4,ne.render(B)]):[3,3];case 2:return re=Ae.sent(),[3,5];case 3:return h.logger.debug("Document cloned, element located at "+C+","+O+" with size "+U+"x"+k+" using computed rendering"),h.logger.debug("Starting DOM parsing"),q=IN(h,B),D===q.styles.backgroundColor&&(q.styles.backgroundColor=PA.TRANSPARENT),h.logger.debug("Starting renderer for element at "+H.x+","+H.y+" with size "+H.width+"x"+H.height),ne=new UT(h,H),[4,ne.render(q)];case 4:re=Ae.sent(),Ae.label=5;case 5:return(!((X=e.removeContainer)!==null&&X!==void 0)||X)&&(I2.destroy(w)||h.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),h.logger.debug("Finished rendering"),[2,re]}})})},HT=function(t,e,r){var n=e.ownerDocument,i=n.documentElement?Rh(t,getComputedStyle(n.documentElement).backgroundColor):PA.TRANSPARENT,l=n.body?Rh(t,getComputedStyle(n.body).backgroundColor):PA.TRANSPARENT,d=typeof r=="string"?Rh(t,r):r===null?PA.TRANSPARENT:4294967295;return e===n.documentElement?Ec(i)?Ec(l)?d:l:i:d};const qT=Object.freeze(Object.defineProperty({__proto__:null,default:GN},Symbol.toStringTag,{value:"Module"})),zT="modulepreload",KT=function(t){return"/"+t},Q2={},Ad=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){let d=function(m){return Promise.all(m.map(g=>Promise.resolve(g).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),h=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));i=d(r.map(m=>{if(m=KT(m),m in Q2)return;Q2[m]=!0;const g=m.endsWith(".css"),b=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${b}`))return;const B=document.createElement("link");if(B.rel=g?"stylesheet":zT,g||(B.as="script"),B.crossOrigin="",B.href=m,h&&B.setAttribute("nonce",h),document.head.appendChild(B),g)return new Promise((w,S)=>{B.addEventListener("load",w),B.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${m}`)))})}))}function l(d){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=d,window.dispatchEvent(u),!u.defaultPrevented)throw d}return i.then(d=>{for(const u of d||[])u.status==="rejected"&&l(u.reason);return e().catch(l)})};function ns(t){"@babel/helpers - typeof";return ns=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ns(t)}var Ll=Uint8Array,Mo=Uint16Array,Iv=Int32Array,kv=new Ll([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Tv=new Ll([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),R2=new Ll([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),$N=function(t,e){for(var r=new Mo(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var i=new Iv(r[30]),n=1;n<30;++n)for(var l=r[n];l<r[n+1];++l)i[l]=l-r[n]<<5|n;return{b:r,r:i}},ZN=$N(kv,2),VT=ZN.b,Fb=ZN.r;VT[28]=258,Fb[258]=28;var GT=$N(Tv,0),D2=GT.r,Ob=new Mo(32768);for(var Ss=0;Ss<32768;++Ss){var fc=(Ss&43690)>>1|(Ss&21845)<<1;fc=(fc&52428)>>2|(fc&13107)<<2,fc=(fc&61680)>>4|(fc&3855)<<4,Ob[Ss]=((fc&65280)>>8|(fc&255)<<8)>>1}var Hh=(function(t,e,r){for(var n=t.length,i=0,l=new Mo(e);i<n;++i)t[i]&&++l[t[i]-1];var d=new Mo(e);for(i=1;i<e;++i)d[i]=d[i-1]+l[i-1]<<1;var u;if(r){u=new Mo(1<<e);var h=15-e;for(i=0;i<n;++i)if(t[i])for(var m=i<<4|t[i],g=e-t[i],b=d[t[i]-1]++<<g,B=b|(1<<g)-1;b<=B;++b)u[Ob[b]>>h]=m}else for(u=new Mo(n),i=0;i<n;++i)t[i]&&(u[i]=Ob[d[t[i]-1]++]>>15-t[i]);return u}),ud=new Ll(288);for(var Ss=0;Ss<144;++Ss)ud[Ss]=8;for(var Ss=144;Ss<256;++Ss)ud[Ss]=9;for(var Ss=256;Ss<280;++Ss)ud[Ss]=7;for(var Ss=280;Ss<288;++Ss)ud[Ss]=8;var Fm=new Ll(32);for(var Ss=0;Ss<32;++Ss)Fm[Ss]=5;var $T=Hh(ud,9,0),ZT=Hh(Fm,5,0),XN=function(t){return(t+7)/8|0},XT=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new Ll(t.subarray(e,r))},kA=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},xh=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},Ax=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var i=r.length,l=r.slice();if(!i)return{t:YN,l:0};if(i==1){var d=new Ll(r[0].s+1);return d[r[0].s]=1,{t:d,l:1}}r.sort(function(re,q){return re.f-q.f}),r.push({s:-1,f:25001});var u=r[0],h=r[1],m=0,g=1,b=2;for(r[0]={s:-1,f:u.f+h.f,l:u,r:h};g!=i-1;)u=r[r[m].f<r[b].f?m++:b++],h=r[m!=g&&r[m].f<r[b].f?m++:b++],r[g++]={s:-1,f:u.f+h.f,l:u,r:h};for(var B=l[0].s,n=1;n<i;++n)l[n].s>B&&(B=l[n].s);var w=new Mo(B+1),S=Qb(r[g-1],w,0);if(S>e){var n=0,U=0,k=S-e,C=1<<k;for(l.sort(function(q,ne){return w[ne.s]-w[q.s]||q.f-ne.f});n<i;++n){var O=l[n].s;if(w[O]>e)U+=C-(1<<S-w[O]),w[O]=e;else break}for(U>>=k;U>0;){var D=l[n].s;w[D]<e?U-=1<<e-w[D]++-1:++n}for(;n>=0&&U;--n){var H=l[n].s;w[H]==e&&(--w[H],++U)}S=e}return{t:new Ll(w),l:S}},Qb=function(t,e,r){return t.s==-1?Math.max(Qb(t.l,e,r+1),Qb(t.r,e,r+1)):e[t.s]=r},M2=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new Mo(++e),n=0,i=t[0],l=1,d=function(h){r[n++]=h},u=1;u<=e;++u)if(t[u]==i&&u!=e)++l;else{if(!i&&l>2){for(;l>138;l-=138)d(32754);l>2&&(d(l>10?l-11<<5|28690:l-3<<5|12305),l=0)}else if(l>3){for(d(i),--l;l>6;l-=6)d(8304);l>2&&(d(l-3<<5|8208),l=0)}for(;l--;)d(i);l=1,i=t[u]}return{c:r.subarray(0,n),n:e}},bh=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},JN=function(t,e,r){var n=r.length,i=XN(e+2);t[i]=n&255,t[i+1]=n>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var l=0;l<n;++l)t[i+l+4]=r[l];return(i+4+n)*8},P2=function(t,e,r,n,i,l,d,u,h,m,g){kA(e,g++,r),++i[256];for(var b=Ax(i,15),B=b.t,w=b.l,S=Ax(l,15),U=S.t,k=S.l,C=M2(B),O=C.c,D=C.n,H=M2(U),re=H.c,q=H.n,ne=new Mo(19),te=0;te<O.length;++te)++ne[O[te]&31];for(var te=0;te<re.length;++te)++ne[re[te]&31];for(var G=Ax(ne,7),de=G.t,K=G.l,W=19;W>4&&!de[R2[W-1]];--W);var ie=m+5<<3,z=bh(i,ud)+bh(l,Fm)+d,he=bh(i,B)+bh(l,U)+d+14+3*W+bh(ne,de)+2*ne[16]+3*ne[17]+7*ne[18];if(h>=0&&ie<=z&&ie<=he)return JN(e,g,t.subarray(h,h+m));var V,me,ee,Ce;if(kA(e,g,1+(he<z)),g+=2,he<z){V=Hh(B,w,0),me=B,ee=Hh(U,k,0),Ce=U;var Ne=Hh(de,K,0);kA(e,g,D-257),kA(e,g+5,q-1),kA(e,g+10,W-4),g+=14;for(var te=0;te<W;++te)kA(e,g+3*te,de[R2[te]]);g+=3*W;for(var M=[O,re],T=0;T<2;++T)for(var $=M[T],te=0;te<$.length;++te){var X=$[te]&31;kA(e,g,Ne[X]),g+=de[X],X>15&&(kA(e,g,$[te]>>5&127),g+=$[te]>>12)}}else V=$T,me=ud,ee=ZT,Ce=Fm;for(var te=0;te<u;++te){var Ae=n[te];if(Ae>255){var X=Ae>>18&31;xh(e,g,V[X+257]),g+=me[X+257],X>7&&(kA(e,g,Ae>>23&31),g+=kv[X]);var xe=Ae&31;xh(e,g,ee[xe]),g+=Ce[xe],xe>3&&(xh(e,g,Ae>>5&8191),g+=Tv[xe])}else xh(e,g,V[Ae]),g+=me[Ae]}return xh(e,g,V[256]),g+me[256]},JT=new Iv([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),YN=new Ll(0),YT=function(t,e,r,n,i,l){var d=l.z||t.length,u=new Ll(n+d+5*(1+Math.ceil(d/7e3))+i),h=u.subarray(n,u.length-i),m=l.l,g=(l.r||0)&7;if(e){g&&(h[0]=l.r>>3);for(var b=JT[e-1],B=b>>13,w=b&8191,S=(1<<r)-1,U=l.p||new Mo(32768),k=l.h||new Mo(S+1),C=Math.ceil(r/3),O=2*C,D=function(Lt){return(t[Lt]^t[Lt+1]<<C^t[Lt+2]<<O)&S},H=new Iv(25e3),re=new Mo(288),q=new Mo(32),ne=0,te=0,G=l.i||0,de=0,K=l.w||0,W=0;G+2<d;++G){var ie=D(G),z=G&32767,he=k[ie];if(U[z]=he,k[ie]=z,K<=G){var V=d-G;if((ne>7e3||de>24576)&&(V>423||!m)){g=P2(t,h,0,H,re,q,te,de,W,G-W,g),de=ne=te=0,W=G;for(var me=0;me<286;++me)re[me]=0;for(var me=0;me<30;++me)q[me]=0}var ee=2,Ce=0,Ne=w,M=z-he&32767;if(V>2&&ie==D(G-M))for(var T=Math.min(B,V)-1,$=Math.min(32767,G),X=Math.min(258,V);M<=$&&--Ne&&z!=he;){if(t[G+ee]==t[G+ee-M]){for(var Ae=0;Ae<X&&t[G+Ae]==t[G+Ae-M];++Ae);if(Ae>ee){if(ee=Ae,Ce=M,Ae>T)break;for(var xe=Math.min(M,Ae-2),Be=0,me=0;me<xe;++me){var ke=G-M+me&32767,ge=U[ke],je=ke-ge&32767;je>Be&&(Be=je,he=ke)}}}z=he,he=U[z],M+=z-he&32767}if(Ce){H[de++]=268435456|Fb[ee]<<18|D2[Ce];var Qe=Fb[ee]&31,Re=D2[Ce]&31;te+=kv[Qe]+Tv[Re],++re[257+Qe],++q[Re],K=G+ee,++ne}else H[de++]=t[G],++re[t[G]]}}for(G=Math.max(G,K);G<d;++G)H[de++]=t[G],++re[t[G]];g=P2(t,h,m,H,re,q,te,de,W,G-W,g),m||(l.r=g&7|h[g/8|0]<<3,g-=7,l.h=k,l.p=U,l.i=G,l.w=K)}else{for(var G=l.w||0;G<d+m;G+=65535){var lt=G+65535;lt>=d&&(h[g/8|0]=m,lt=d),g=JN(h,g+1,t.subarray(G,lt))}l.i=d}return XT(u,0,n+XN(g)+i)},WN=function(){var t=1,e=0;return{p:function(r){for(var n=t,i=e,l=r.length|0,d=0;d!=l;){for(var u=Math.min(d+2655,l);d<u;++d)i+=n+=r[d];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}t=n,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},WT=function(t,e,r,n,i){if(!i&&(i={l:1},e.dictionary)){var l=e.dictionary.subarray(-32768),d=new Ll(l.length+t.length);d.set(l),d.set(t,l.length),t=d,i.w=l.length}return YT(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,i)},eC=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},eF=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=WN();i.p(e.dictionary),eC(t,2,i.d())}};function Rb(t,e){e||(e={});var r=WN();r.p(t);var n=WT(t,e,e.dictionary?6:2,4);return eF(n,e),eC(n,n.length-4,r.d()),n}var tF=typeof TextDecoder<"u"&&new TextDecoder,rF=0;try{tF.decode(YN,{stream:!0}),rF=1}catch{}function nF(t){if(Array.isArray(t))return t}function sF(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,l,d,u=[],h=!0,m=!1;try{if(l=(r=r.call(t)).next,e!==0)for(;!(h=(n=l.call(r)).done)&&(u.push(n.value),u.length!==e);h=!0);}catch(g){m=!0,i=g}finally{try{if(!h&&r.return!=null&&(d=r.return(),Object(d)!==d))return}finally{if(m)throw i}}return u}}function H2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function aF(t,e){if(t){if(typeof t=="string")return H2(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?H2(t,e):void 0}}function iF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q2(t,e){return nF(t)||sF(t,e)||aF(t,e)||iF()}function z2(t,e="utf8"){return new TextDecoder(e).decode(t)}const oF=new TextEncoder;function lF(t){return oF.encode(t)}const AF=1024*8,cF=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),cx={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Fv{constructor(e=AF,r={}){rs(this,"buffer");rs(this,"byteLength");rs(this,"byteOffset");rs(this,"length");rs(this,"offset");rs(this,"lastWrittenByte");rs(this,"littleEndian");rs(this,"_data");rs(this,"_mark");rs(this,"_marks");let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const i=r.offset?r.offset>>>0:0,l=e.byteLength-i;let d=i;(ArrayBuffer.isView(e)||e instanceof Fv)&&(e.byteLength!==e.buffer.byteLength&&(d=e.byteOffset+i),e=e.buffer),n?this.lastWrittenByte=l:this.lastWrittenByte=0,this.buffer=e,this.length=l,this.byteLength=l,this.byteOffset=d,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,d,l),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,r){const n=cx[r].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,l=this.buffer.slice(i,i+n);if(this.littleEndian===cF&&r!=="uint8"&&r!=="int8"){const u=new Uint8Array(this.buffer.slice(i,i+n));u.reverse();const h=new cx[r](u.buffer);return this.offset+=n,h.reverse(),h}const d=new cx[r](l);return this.offset+=n,d}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let r="";for(let n=0;n<e;n++)r+=this.readChar();return r}readUtf8(e=1){return z2(this.readBytes(e))}decodeText(e=1,r="utf8"){return z2(this.readBytes(e),r)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let r=0;r<e.length;r++)this._data.setUint8(this.offset++,e[r]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let r=0;r<e.length;r++)this.writeUint8(e.charCodeAt(r));return this}writeUtf8(e){return this.writeBytes(lF(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Tu(t){let e=t.length;for(;--e>=0;)t[e]=0}const dF=3,uF=258,tC=29,hF=256,fF=hF+1+tC,rC=30,pF=512,mF=new Array((fF+2)*2);Tu(mF);const gF=new Array(rC*2);Tu(gF);const xF=new Array(pF);Tu(xF);const bF=new Array(uF-dF+1);Tu(bF);const vF=new Array(tC);Tu(vF);const yF=new Array(rC);Tu(yF);const wF=(t,e,r,n)=>{let i=t&65535|0,l=t>>>16&65535|0,d=0;for(;r!==0;){d=r>2e3?2e3:r,r-=d;do i=i+e[n++]|0,l=l+i|0;while(--d);i%=65521,l%=65521}return i|l<<16|0};var Db=wF;const _F=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},BF=new Uint32Array(_F()),NF=(t,e,r,n)=>{const i=BF,l=n+r;t^=-1;for(let d=n;d<l;d++)t=t>>>8^i[(t^e[d])&255];return t^-1};var rA=NF,Mb={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},nC={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const CF=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var EF=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)CF(r,n)&&(t[n]=r[n])}}return t},SF=t=>{let e=0;for(let n=0,i=t.length;n<i;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,i=0,l=t.length;n<l;n++){let d=t[n];r.set(d,i),i+=d.length}return r},sC={assign:EF,flattenChunks:SF};let aC=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{aC=!1}const rf=new Uint8Array(256);for(let t=0;t<256;t++)rf[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;rf[254]=rf[254]=1;var jF=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,n,i,l,d=t.length,u=0;for(i=0;i<d;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<d&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),u+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(u),l=0,i=0;l<u;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<d&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?e[l++]=r:r<2048?(e[l++]=192|r>>>6,e[l++]=128|r&63):r<65536?(e[l++]=224|r>>>12,e[l++]=128|r>>>6&63,e[l++]=128|r&63):(e[l++]=240|r>>>18,e[l++]=128|r>>>12&63,e[l++]=128|r>>>6&63,e[l++]=128|r&63);return e};const LF=(t,e)=>{if(e<65534&&t.subarray&&aC)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r};var UF=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,i;const l=new Array(r*2);for(i=0,n=0;n<r;){let d=t[n++];if(d<128){l[i++]=d;continue}let u=rf[d];if(u>4){l[i++]=65533,n+=u-1;continue}for(d&=u===2?31:u===3?15:7;u>1&&n<r;)d=d<<6|t[n++]&63,u--;if(u>1){l[i++]=65533;continue}d<65536?l[i++]=d:(d-=65536,l[i++]=55296|d>>10&1023,l[i++]=56320|d&1023)}return LF(l,i)},IF=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+rf[t[r]]>e?r:e},Pb={string2buf:jF,buf2string:UF,utf8border:IF};function kF(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var TF=kF;const Tp=16209,FF=16191;var OF=function(e,r){let n,i,l,d,u,h,m,g,b,B,w,S,U,k,C,O,D,H,re,q,ne,te,G,de;const K=e.state;n=e.next_in,G=e.input,i=n+(e.avail_in-5),l=e.next_out,de=e.output,d=l-(r-e.avail_out),u=l+(e.avail_out-257),h=K.dmax,m=K.wsize,g=K.whave,b=K.wnext,B=K.window,w=K.hold,S=K.bits,U=K.lencode,k=K.distcode,C=(1<<K.lenbits)-1,O=(1<<K.distbits)-1;e:do{S<15&&(w+=G[n++]<<S,S+=8,w+=G[n++]<<S,S+=8),D=U[w&C];t:for(;;){if(H=D>>>24,w>>>=H,S-=H,H=D>>>16&255,H===0)de[l++]=D&65535;else if(H&16){re=D&65535,H&=15,H&&(S<H&&(w+=G[n++]<<S,S+=8),re+=w&(1<<H)-1,w>>>=H,S-=H),S<15&&(w+=G[n++]<<S,S+=8,w+=G[n++]<<S,S+=8),D=k[w&O];r:for(;;){if(H=D>>>24,w>>>=H,S-=H,H=D>>>16&255,H&16){if(q=D&65535,H&=15,S<H&&(w+=G[n++]<<S,S+=8,S<H&&(w+=G[n++]<<S,S+=8)),q+=w&(1<<H)-1,q>h){e.msg="invalid distance too far back",K.mode=Tp;break e}if(w>>>=H,S-=H,H=l-d,q>H){if(H=q-H,H>g&&K.sane){e.msg="invalid distance too far back",K.mode=Tp;break e}if(ne=0,te=B,b===0){if(ne+=m-H,H<re){re-=H;do de[l++]=B[ne++];while(--H);ne=l-q,te=de}}else if(b<H){if(ne+=m+b-H,H-=b,H<re){re-=H;do de[l++]=B[ne++];while(--H);if(ne=0,b<re){H=b,re-=H;do de[l++]=B[ne++];while(--H);ne=l-q,te=de}}}else if(ne+=b-H,H<re){re-=H;do de[l++]=B[ne++];while(--H);ne=l-q,te=de}for(;re>2;)de[l++]=te[ne++],de[l++]=te[ne++],de[l++]=te[ne++],re-=3;re&&(de[l++]=te[ne++],re>1&&(de[l++]=te[ne++]))}else{ne=l-q;do de[l++]=de[ne++],de[l++]=de[ne++],de[l++]=de[ne++],re-=3;while(re>2);re&&(de[l++]=de[ne++],re>1&&(de[l++]=de[ne++]))}}else if((H&64)===0){D=k[(D&65535)+(w&(1<<H)-1)];continue r}else{e.msg="invalid distance code",K.mode=Tp;break e}break}}else if((H&64)===0){D=U[(D&65535)+(w&(1<<H)-1)];continue t}else if(H&32){K.mode=FF;break e}else{e.msg="invalid literal/length code",K.mode=Tp;break e}break}}while(n<i&&l<u);re=S>>3,n-=re,S-=re<<3,w&=(1<<S)-1,e.next_in=n,e.next_out=l,e.avail_in=n<i?5+(i-n):5-(n-i),e.avail_out=l<u?257+(u-l):257-(l-u),K.hold=w,K.bits=S};const Xd=15,K2=852,V2=592,G2=0,dx=1,$2=2,QF=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),RF=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),DF=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),MF=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),PF=(t,e,r,n,i,l,d,u)=>{const h=u.bits;let m=0,g=0,b=0,B=0,w=0,S=0,U=0,k=0,C=0,O=0,D,H,re,q,ne,te=null,G;const de=new Uint16Array(Xd+1),K=new Uint16Array(Xd+1);let W=null,ie,z,he;for(m=0;m<=Xd;m++)de[m]=0;for(g=0;g<n;g++)de[e[r+g]]++;for(w=h,B=Xd;B>=1&&de[B]===0;B--);if(w>B&&(w=B),B===0)return i[l++]=1<<24|64<<16|0,i[l++]=1<<24|64<<16|0,u.bits=1,0;for(b=1;b<B&&de[b]===0;b++);for(w<b&&(w=b),k=1,m=1;m<=Xd;m++)if(k<<=1,k-=de[m],k<0)return-1;if(k>0&&(t===G2||B!==1))return-1;for(K[1]=0,m=1;m<Xd;m++)K[m+1]=K[m]+de[m];for(g=0;g<n;g++)e[r+g]!==0&&(d[K[e[r+g]]++]=g);if(t===G2?(te=W=d,G=20):t===dx?(te=QF,W=RF,G=257):(te=DF,W=MF,G=0),O=0,g=0,m=b,ne=l,S=w,U=0,re=-1,C=1<<w,q=C-1,t===dx&&C>K2||t===$2&&C>V2)return 1;for(;;){ie=m-U,d[g]+1<G?(z=0,he=d[g]):d[g]>=G?(z=W[d[g]-G],he=te[d[g]-G]):(z=96,he=0),D=1<<m-U,H=1<<S,b=H;do H-=D,i[ne+(O>>U)+H]=ie<<24|z<<16|he|0;while(H!==0);for(D=1<<m-1;O&D;)D>>=1;if(D!==0?(O&=D-1,O+=D):O=0,g++,--de[m]===0){if(m===B)break;m=e[r+d[g]]}if(m>w&&(O&q)!==re){for(U===0&&(U=w),ne+=b,S=m-U,k=1<<S;S+U<B&&(k-=de[S+U],!(k<=0));)S++,k<<=1;if(C+=1<<S,t===dx&&C>K2||t===$2&&C>V2)return 1;re=O&q,i[re]=w<<24|S<<16|ne-l|0}}return O!==0&&(i[ne+O]=m-U<<24|64<<16|0),u.bits=w,0};var qh=PF;const HF=0,iC=1,oC=2,{Z_FINISH:Z2,Z_BLOCK:qF,Z_TREES:Fp,Z_OK:hd,Z_STREAM_END:zF,Z_NEED_DICT:KF,Z_STREAM_ERROR:ol,Z_DATA_ERROR:lC,Z_MEM_ERROR:AC,Z_BUF_ERROR:VF,Z_DEFLATED:X2}=nC,og=16180,J2=16181,Y2=16182,W2=16183,e_=16184,t_=16185,r_=16186,n_=16187,s_=16188,a_=16189,Om=16190,TA=16191,ux=16192,i_=16193,hx=16194,o_=16195,l_=16196,A_=16197,c_=16198,Op=16199,Qp=16200,d_=16201,u_=16202,h_=16203,f_=16204,p_=16205,fx=16206,m_=16207,g_=16208,Rs=16209,cC=16210,dC=16211,GF=852,$F=592,ZF=15,XF=ZF,x_=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function JF(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const md=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<og||e.mode>dC?1:0},uC=t=>{if(md(t))return ol;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=og,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(GF),e.distcode=e.distdyn=new Int32Array($F),e.sane=1,e.back=-1,hd},hC=t=>{if(md(t))return ol;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,uC(t)},fC=(t,e)=>{let r;if(md(t))return ol;const n=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?ol:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,hC(t))},pC=(t,e)=>{if(!t)return ol;const r=new JF;t.state=r,r.strm=t,r.window=null,r.mode=og;const n=fC(t,e);return n!==hd&&(t.state=null),n},YF=t=>pC(t,XF);let b_=!0,px,mx;const WF=t=>{if(b_){px=new Int32Array(512),mx=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(qh(iC,t.lens,0,288,px,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;qh(oC,t.lens,0,32,mx,0,t.work,{bits:5}),b_=!1}t.lencode=px,t.lenbits=9,t.distcode=mx,t.distbits=5},mC=(t,e,r,n)=>{let i;const l=t.state;return l.window===null&&(l.wsize=1<<l.wbits,l.wnext=0,l.whave=0,l.window=new Uint8Array(l.wsize)),n>=l.wsize?(l.window.set(e.subarray(r-l.wsize,r),0),l.wnext=0,l.whave=l.wsize):(i=l.wsize-l.wnext,i>n&&(i=n),l.window.set(e.subarray(r-n,r-n+i),l.wnext),n-=i,n?(l.window.set(e.subarray(r-n,r),0),l.wnext=n,l.whave=l.wsize):(l.wnext+=i,l.wnext===l.wsize&&(l.wnext=0),l.whave<l.wsize&&(l.whave+=i))),0},eO=(t,e)=>{let r,n,i,l,d,u,h,m,g,b,B,w,S,U,k=0,C,O,D,H,re,q,ne,te;const G=new Uint8Array(4);let de,K;const W=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(md(t)||!t.output||!t.input&&t.avail_in!==0)return ol;r=t.state,r.mode===TA&&(r.mode=ux),d=t.next_out,i=t.output,h=t.avail_out,l=t.next_in,n=t.input,u=t.avail_in,m=r.hold,g=r.bits,b=u,B=h,te=hd;e:for(;;)switch(r.mode){case og:if(r.wrap===0){r.mode=ux;break}for(;g<16;){if(u===0)break e;u--,m+=n[l++]<<g,g+=8}if(r.wrap&2&&m===35615){r.wbits===0&&(r.wbits=15),r.check=0,G[0]=m&255,G[1]=m>>>8&255,r.check=rA(r.check,G,2,0),m=0,g=0,r.mode=J2;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((m&255)<<8)+(m>>8))%31){t.msg="incorrect header check",r.mode=Rs;break}if((m&15)!==X2){t.msg="unknown compression method",r.mode=Rs;break}if(m>>>=4,g-=4,ne=(m&15)+8,r.wbits===0&&(r.wbits=ne),ne>15||ne>r.wbits){t.msg="invalid window size",r.mode=Rs;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=m&512?a_:TA,m=0,g=0;break;case J2:for(;g<16;){if(u===0)break e;u--,m+=n[l++]<<g,g+=8}if(r.flags=m,(r.flags&255)!==X2){t.msg="unknown compression method",r.mode=Rs;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=Rs;break}r.head&&(r.head.text=m>>8&1),r.flags&512&&r.wrap&4&&(G[0]=m&255,G[1]=m>>>8&255,r.check=rA(r.check,G,2,0)),m=0,g=0,r.mode=Y2;case Y2:for(;g<32;){if(u===0)break e;u--,m+=n[l++]<<g,g+=8}r.head&&(r.head.time=m),r.flags&512&&r.wrap&4&&(G[0]=m&255,G[1]=m>>>8&255,G[2]=m>>>16&255,G[3]=m>>>24&255,r.check=rA(r.check,G,4,0)),m=0,g=0,r.mode=W2;case W2:for(;g<16;){if(u===0)break e;u--,m+=n[l++]<<g,g+=8}r.head&&(r.head.xflags=m&255,r.head.os=m>>8),r.flags&512&&r.wrap&4&&(G[0]=m&255,G[1]=m>>>8&255,r.check=rA(r.check,G,2,0)),m=0,g=0,r.mode=e_;case e_:if(r.flags&1024){for(;g<16;){if(u===0)break e;u--,m+=n[l++]<<g,g+=8}r.length=m,r.head&&(r.head.extra_len=m),r.flags&512&&r.wrap&4&&(G[0]=m&255,G[1]=m>>>8&255,r.check=rA(r.check,G,2,0)),m=0,g=0}else r.head&&(r.head.extra=null);r.mode=t_;case t_:if(r.flags&1024&&(w=r.length,w>u&&(w=u),w&&(r.head&&(ne=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(l,l+w),ne)),r.flags&512&&r.wrap&4&&(r.check=rA(r.check,n,w,l)),u-=w,l+=w,r.length-=w),r.length))break e;r.length=0,r.mode=r_;case r_:if(r.flags&2048){if(u===0)break e;w=0;do ne=n[l+w++],r.head&&ne&&r.length<65536&&(r.head.name+=String.fromCharCode(ne));while(ne&&w<u);if(r.flags&512&&r.wrap&4&&(r.check=rA(r.check,n,w,l)),u-=w,l+=w,ne)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=n_;case n_:if(r.flags&4096){if(u===0)break e;w=0;do ne=n[l+w++],r.head&&ne&&r.length<65536&&(r.head.comment+=String.fromCharCode(ne));while(ne&&w<u);if(r.flags&512&&r.wrap&4&&(r.check=rA(r.check,n,w,l)),u-=w,l+=w,ne)break e}else r.head&&(r.head.comment=null);r.mode=s_;case s_:if(r.flags&512){for(;g<16;){if(u===0)break e;u--,m+=n[l++]<<g,g+=8}if(r.wrap&4&&m!==(r.check&65535)){t.msg="header crc mismatch",r.mode=Rs;break}m=0,g=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=TA;break;case a_:for(;g<32;){if(u===0)break e;u--,m+=n[l++]<<g,g+=8}t.adler=r.check=x_(m),m=0,g=0,r.mode=Om;case Om:if(r.havedict===0)return t.next_out=d,t.avail_out=h,t.next_in=l,t.avail_in=u,r.hold=m,r.bits=g,KF;t.adler=r.check=1,r.mode=TA;case TA:if(e===qF||e===Fp)break e;case ux:if(r.last){m>>>=g&7,g-=g&7,r.mode=fx;break}for(;g<3;){if(u===0)break e;u--,m+=n[l++]<<g,g+=8}switch(r.last=m&1,m>>>=1,g-=1,m&3){case 0:r.mode=i_;break;case 1:if(WF(r),r.mode=Op,e===Fp){m>>>=2,g-=2;break e}break;case 2:r.mode=l_;break;case 3:t.msg="invalid block type",r.mode=Rs}m>>>=2,g-=2;break;case i_:for(m>>>=g&7,g-=g&7;g<32;){if(u===0)break e;u--,m+=n[l++]<<g,g+=8}if((m&65535)!==(m>>>16^65535)){t.msg="invalid stored block lengths",r.mode=Rs;break}if(r.length=m&65535,m=0,g=0,r.mode=hx,e===Fp)break e;case hx:r.mode=o_;case o_:if(w=r.length,w){if(w>u&&(w=u),w>h&&(w=h),w===0)break e;i.set(n.subarray(l,l+w),d),u-=w,l+=w,h-=w,d+=w,r.length-=w;break}r.mode=TA;break;case l_:for(;g<14;){if(u===0)break e;u--,m+=n[l++]<<g,g+=8}if(r.nlen=(m&31)+257,m>>>=5,g-=5,r.ndist=(m&31)+1,m>>>=5,g-=5,r.ncode=(m&15)+4,m>>>=4,g-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=Rs;break}r.have=0,r.mode=A_;case A_:for(;r.have<r.ncode;){for(;g<3;){if(u===0)break e;u--,m+=n[l++]<<g,g+=8}r.lens[W[r.have++]]=m&7,m>>>=3,g-=3}for(;r.have<19;)r.lens[W[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,de={bits:r.lenbits},te=qh(HF,r.lens,0,19,r.lencode,0,r.work,de),r.lenbits=de.bits,te){t.msg="invalid code lengths set",r.mode=Rs;break}r.have=0,r.mode=c_;case c_:for(;r.have<r.nlen+r.ndist;){for(;k=r.lencode[m&(1<<r.lenbits)-1],C=k>>>24,O=k>>>16&255,D=k&65535,!(C<=g);){if(u===0)break e;u--,m+=n[l++]<<g,g+=8}if(D<16)m>>>=C,g-=C,r.lens[r.have++]=D;else{if(D===16){for(K=C+2;g<K;){if(u===0)break e;u--,m+=n[l++]<<g,g+=8}if(m>>>=C,g-=C,r.have===0){t.msg="invalid bit length repeat",r.mode=Rs;break}ne=r.lens[r.have-1],w=3+(m&3),m>>>=2,g-=2}else if(D===17){for(K=C+3;g<K;){if(u===0)break e;u--,m+=n[l++]<<g,g+=8}m>>>=C,g-=C,ne=0,w=3+(m&7),m>>>=3,g-=3}else{for(K=C+7;g<K;){if(u===0)break e;u--,m+=n[l++]<<g,g+=8}m>>>=C,g-=C,ne=0,w=11+(m&127),m>>>=7,g-=7}if(r.have+w>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=Rs;break}for(;w--;)r.lens[r.have++]=ne}}if(r.mode===Rs)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=Rs;break}if(r.lenbits=9,de={bits:r.lenbits},te=qh(iC,r.lens,0,r.nlen,r.lencode,0,r.work,de),r.lenbits=de.bits,te){t.msg="invalid literal/lengths set",r.mode=Rs;break}if(r.distbits=6,r.distcode=r.distdyn,de={bits:r.distbits},te=qh(oC,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,de),r.distbits=de.bits,te){t.msg="invalid distances set",r.mode=Rs;break}if(r.mode=Op,e===Fp)break e;case Op:r.mode=Qp;case Qp:if(u>=6&&h>=258){t.next_out=d,t.avail_out=h,t.next_in=l,t.avail_in=u,r.hold=m,r.bits=g,OF(t,B),d=t.next_out,i=t.output,h=t.avail_out,l=t.next_in,n=t.input,u=t.avail_in,m=r.hold,g=r.bits,r.mode===TA&&(r.back=-1);break}for(r.back=0;k=r.lencode[m&(1<<r.lenbits)-1],C=k>>>24,O=k>>>16&255,D=k&65535,!(C<=g);){if(u===0)break e;u--,m+=n[l++]<<g,g+=8}if(O&&(O&240)===0){for(H=C,re=O,q=D;k=r.lencode[q+((m&(1<<H+re)-1)>>H)],C=k>>>24,O=k>>>16&255,D=k&65535,!(H+C<=g);){if(u===0)break e;u--,m+=n[l++]<<g,g+=8}m>>>=H,g-=H,r.back+=H}if(m>>>=C,g-=C,r.back+=C,r.length=D,O===0){r.mode=p_;break}if(O&32){r.back=-1,r.mode=TA;break}if(O&64){t.msg="invalid literal/length code",r.mode=Rs;break}r.extra=O&15,r.mode=d_;case d_:if(r.extra){for(K=r.extra;g<K;){if(u===0)break e;u--,m+=n[l++]<<g,g+=8}r.length+=m&(1<<r.extra)-1,m>>>=r.extra,g-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=u_;case u_:for(;k=r.distcode[m&(1<<r.distbits)-1],C=k>>>24,O=k>>>16&255,D=k&65535,!(C<=g);){if(u===0)break e;u--,m+=n[l++]<<g,g+=8}if((O&240)===0){for(H=C,re=O,q=D;k=r.distcode[q+((m&(1<<H+re)-1)>>H)],C=k>>>24,O=k>>>16&255,D=k&65535,!(H+C<=g);){if(u===0)break e;u--,m+=n[l++]<<g,g+=8}m>>>=H,g-=H,r.back+=H}if(m>>>=C,g-=C,r.back+=C,O&64){t.msg="invalid distance code",r.mode=Rs;break}r.offset=D,r.extra=O&15,r.mode=h_;case h_:if(r.extra){for(K=r.extra;g<K;){if(u===0)break e;u--,m+=n[l++]<<g,g+=8}r.offset+=m&(1<<r.extra)-1,m>>>=r.extra,g-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=Rs;break}r.mode=f_;case f_:if(h===0)break e;if(w=B-h,r.offset>w){if(w=r.offset-w,w>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=Rs;break}w>r.wnext?(w-=r.wnext,S=r.wsize-w):S=r.wnext-w,w>r.length&&(w=r.length),U=r.window}else U=i,S=d-r.offset,w=r.length;w>h&&(w=h),h-=w,r.length-=w;do i[d++]=U[S++];while(--w);r.length===0&&(r.mode=Qp);break;case p_:if(h===0)break e;i[d++]=r.length,h--,r.mode=Qp;break;case fx:if(r.wrap){for(;g<32;){if(u===0)break e;u--,m|=n[l++]<<g,g+=8}if(B-=h,t.total_out+=B,r.total+=B,r.wrap&4&&B&&(t.adler=r.check=r.flags?rA(r.check,i,B,d-B):Db(r.check,i,B,d-B)),B=h,r.wrap&4&&(r.flags?m:x_(m))!==r.check){t.msg="incorrect data check",r.mode=Rs;break}m=0,g=0}r.mode=m_;case m_:if(r.wrap&&r.flags){for(;g<32;){if(u===0)break e;u--,m+=n[l++]<<g,g+=8}if(r.wrap&4&&m!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=Rs;break}m=0,g=0}r.mode=g_;case g_:te=zF;break e;case Rs:te=lC;break e;case cC:return AC;case dC:default:return ol}return t.next_out=d,t.avail_out=h,t.next_in=l,t.avail_in=u,r.hold=m,r.bits=g,(r.wsize||B!==t.avail_out&&r.mode<Rs&&(r.mode<fx||e!==Z2))&&mC(t,t.output,t.next_out,B-t.avail_out),b-=t.avail_in,B-=t.avail_out,t.total_in+=b,t.total_out+=B,r.total+=B,r.wrap&4&&B&&(t.adler=r.check=r.flags?rA(r.check,i,B,t.next_out-B):Db(r.check,i,B,t.next_out-B)),t.data_type=r.bits+(r.last?64:0)+(r.mode===TA?128:0)+(r.mode===Op||r.mode===hx?256:0),(b===0&&B===0||e===Z2)&&te===hd&&(te=VF),te},tO=t=>{if(md(t))return ol;let e=t.state;return e.window&&(e.window=null),t.state=null,hd},rO=(t,e)=>{if(md(t))return ol;const r=t.state;return(r.wrap&2)===0?ol:(r.head=e,e.done=!1,hd)},nO=(t,e)=>{const r=e.length;let n,i,l;return md(t)||(n=t.state,n.wrap!==0&&n.mode!==Om)?ol:n.mode===Om&&(i=1,i=Db(i,e,r,0),i!==n.check)?lC:(l=mC(t,e,r,r),l?(n.mode=cC,AC):(n.havedict=1,hd))};var sO=hC,aO=fC,iO=uC,oO=YF,lO=pC,AO=eO,cO=tO,dO=rO,uO=nO,hO="pako inflate (from Nodeca project)",QA={inflateReset:sO,inflateReset2:aO,inflateResetKeep:iO,inflateInit:oO,inflateInit2:lO,inflate:AO,inflateEnd:cO,inflateGetHeader:dO,inflateSetDictionary:uO,inflateInfo:hO};function fO(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var pO=fO;const gC=Object.prototype.toString,{Z_NO_FLUSH:mO,Z_FINISH:gO,Z_OK:nf,Z_STREAM_END:gx,Z_NEED_DICT:xx,Z_STREAM_ERROR:xO,Z_DATA_ERROR:v_,Z_MEM_ERROR:bO}=nC;function gf(t){this.options=sC.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new TF,this.strm.avail_out=0;let r=QA.inflateInit2(this.strm,e.windowBits);if(r!==nf)throw new Error(Mb[r]);if(this.header=new pO,QA.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=Pb.string2buf(e.dictionary):gC.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=QA.inflateSetDictionary(this.strm,e.dictionary),r!==nf)))throw new Error(Mb[r])}gf.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let l,d,u;if(this.ended)return!1;for(e===~~e?d=e:d=e===!0?gO:mO,gC.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),l=QA.inflate(r,d),l===xx&&i&&(l=QA.inflateSetDictionary(r,i),l===nf?l=QA.inflate(r,d):l===v_&&(l=xx));r.avail_in>0&&l===gx&&r.state.wrap>0&&t[r.next_in]!==0;)QA.inflateReset(r),l=QA.inflate(r,d);switch(l){case xO:case v_:case xx:case bO:return this.onEnd(l),this.ended=!0,!1}if(u=r.avail_out,r.next_out&&(r.avail_out===0||l===gx))if(this.options.to==="string"){let h=Pb.utf8border(r.output,r.next_out),m=r.next_out-h,g=Pb.buf2string(r.output,h);r.next_out=m,r.avail_out=n-m,m&&r.output.set(r.output.subarray(h,h+m),0),this.onData(g)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(l===nf&&u===0)){if(l===gx)return l=QA.inflateEnd(this.strm),this.onEnd(l),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};gf.prototype.onData=function(t){this.chunks.push(t)};gf.prototype.onEnd=function(t){t===nf&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=sC.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function vO(t,e){const r=new gf(e);if(r.push(t),r.err)throw r.msg||Mb[r.err];return r.result}var yO=gf,wO=vO,_O={Inflate:yO,inflate:wO};const{Inflate:BO,inflate:NO}=_O;var y_=BO,CO=NO;const xC=[];for(let t=0;t<256;t++){let e=t;for(let r=0;r<8;r++)e&1?e=3988292384^e>>>1:e=e>>>1;xC[t]=e}const w_=4294967295;function EO(t,e,r){let n=t;for(let i=0;i<r;i++)n=xC[(n^e[i])&255]^n>>>8;return n}function SO(t,e){return(EO(w_,t,e)^w_)>>>0}function __(t,e,r){const n=t.readUint32(),i=SO(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${i}`)}function bC(t,e,r){for(let n=0;n<r;n++)e[n]=t[n]}function vC(t,e,r,n){let i=0;for(;i<n;i++)e[i]=t[i];for(;i<r;i++)e[i]=t[i]+e[i-n]&255}function yC(t,e,r,n){let i=0;if(r.length===0)for(;i<n;i++)e[i]=t[i];else for(;i<n;i++)e[i]=t[i]+r[i]&255}function wC(t,e,r,n,i){let l=0;if(r.length===0){for(;l<i;l++)e[l]=t[l];for(;l<n;l++)e[l]=t[l]+(e[l-i]>>1)&255}else{for(;l<i;l++)e[l]=t[l]+(r[l]>>1)&255;for(;l<n;l++)e[l]=t[l]+(e[l-i]+r[l]>>1)&255}}function _C(t,e,r,n,i){let l=0;if(r.length===0){for(;l<i;l++)e[l]=t[l];for(;l<n;l++)e[l]=t[l]+e[l-i]&255}else{for(;l<i;l++)e[l]=t[l]+r[l]&255;for(;l<n;l++)e[l]=t[l]+jO(e[l-i],r[l],r[l-i])&255}}function jO(t,e,r){const n=t+e-r,i=Math.abs(n-t),l=Math.abs(n-e),d=Math.abs(n-r);return i<=l&&i<=d?t:l<=d?e:r}function LO(t,e,r,n,i,l){switch(t){case 0:bC(e,r,i);break;case 1:vC(e,r,i,l);break;case 2:yC(e,r,n,i);break;case 3:wC(e,r,n,i,l);break;case 4:_C(e,r,n,i,l);break;default:throw new Error(`Unsupported filter: ${t}`)}}const UO=new Uint16Array([255]),IO=new Uint8Array(UO.buffer),kO=IO[0]===255;function TO(t){const{data:e,width:r,height:n,channels:i,depth:l}=t,d=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],u=Math.ceil(l/8)*i,h=new Uint8Array(n*r*u);let m=0;for(let g=0;g<7;g++){const b=d[g],B=Math.ceil((r-b.x)/b.xStep),w=Math.ceil((n-b.y)/b.yStep);if(B<=0||w<=0)continue;const S=B*u,U=new Uint8Array(S);for(let k=0;k<w;k++){const C=e[m++],O=e.subarray(m,m+S);m+=S;const D=new Uint8Array(S);LO(C,O,D,U,S,u),U.set(D);for(let H=0;H<B;H++){const re=b.x+H*b.xStep,q=b.y+k*b.yStep;if(!(re>=r||q>=n))for(let ne=0;ne<u;ne++)h[(q*r+re)*u+ne]=D[H*u+ne]}}}if(l===16){const g=new Uint16Array(h.buffer);if(kO)for(let b=0;b<g.length;b++)g[b]=FO(g[b]);return g}else return h}function FO(t){return(t&255)<<8|t>>8&255}const OO=new Uint16Array([255]),QO=new Uint8Array(OO.buffer),RO=QO[0]===255,DO=new Uint8Array(0);function B_(t){const{data:e,width:r,height:n,channels:i,depth:l}=t,d=Math.ceil(l/8)*i,u=Math.ceil(l/8*i*r),h=new Uint8Array(n*u);let m=DO,g=0,b,B;for(let w=0;w<n;w++){switch(b=e.subarray(g+1,g+1+u),B=h.subarray(w*u,(w+1)*u),e[g]){case 0:bC(b,B,u);break;case 1:vC(b,B,u,d);break;case 2:yC(b,B,m,u);break;case 3:wC(b,B,m,u,d);break;case 4:_C(b,B,m,u,d);break;default:throw new Error(`Unsupported filter: ${e[g]}`)}m=B,g+=u+1}if(l===16){const w=new Uint16Array(h.buffer);if(RO)for(let S=0;S<w.length;S++)w[S]=MO(w[S]);return w}else return h}function MO(t){return(t&255)<<8|t>>8&255}const Am=Uint8Array.of(137,80,78,71,13,10,26,10);function N_(t){if(!PO(t.readBytes(Am.length)))throw new Error("wrong PNG signature")}function PO(t){if(t.length<Am.length)return!1;for(let e=0;e<Am.length;e++)if(t[e]!==Am[e])return!1;return!0}const HO="tEXt",qO=0,BC=new TextDecoder("latin1");function zO(t){if(VO(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const KO=/^[\u0000-\u00FF]*$/;function VO(t){if(!KO.test(t))throw new Error("invalid latin1 text")}function GO(t,e,r){const n=NC(e);t[n]=$O(e,r-n.length-1)}function NC(t){for(t.mark();t.readByte()!==qO;);const e=t.offset;t.reset();const r=BC.decode(t.readBytes(e-t.offset-1));return t.skip(1),zO(r),r}function $O(t,e){return BC.decode(t.readBytes(e))}const To={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},bx={UNKNOWN:-1,DEFLATE:0},C_={UNKNOWN:-1,ADAPTIVE:0},vx={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Rp={NONE:0,BACKGROUND:1,PREVIOUS:2},yx={SOURCE:0,OVER:1};class ZO extends Fv{constructor(r,n={}){super(r);rs(this,"_checkCrc");rs(this,"_inflator");rs(this,"_png");rs(this,"_apng");rs(this,"_end");rs(this,"_hasPalette");rs(this,"_palette");rs(this,"_hasTransparency");rs(this,"_transparency");rs(this,"_compressionMethod");rs(this,"_filterMethod");rs(this,"_interlaceMethod");rs(this,"_colorType");rs(this,"_isAnimated");rs(this,"_numberOfFrames");rs(this,"_numberOfPlays");rs(this,"_frames");rs(this,"_writingDataChunks");const{checkCrc:i=!1}=n;this._checkCrc=i,this._inflator=new y_,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=bx.UNKNOWN,this._filterMethod=C_.UNKNOWN,this._interlaceMethod=vx.UNKNOWN,this._colorType=To.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(N_(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(N_(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const i=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case HO:GO(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?__(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const i=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=i+r;break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?__(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=XO(this.readUint8());const n=this.readUint8();this._colorType=n;let i;switch(n){case To.GREYSCALE:i=1;break;case To.TRUECOLOUR:i=3;break;case To.INDEXED_COLOUR:i=1;break;case To.GREYSCALE_ALPHA:i=2;break;case To.TRUECOLOUR_ALPHA:i=4;break;case To.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==bx.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const i=[];this._palette=i;for(let l=0;l<n;l++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,i=this.offset+this.byteOffset;if(i+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case To.GREYSCALE:case To.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case To.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const i=this.readByte();this._palette[n].push(i)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case To.UNKNOWN:case To.GREYSCALE_ALPHA:case To.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=NC(this),i=this.readUint8();if(i!==bx.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const l=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:CO(l)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),i=this.readByte();this._png.resolution={x:r,y:n,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(r);if(i){if(i.data=B_({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)n.data=i.data;else{const l=this._apng.frames.at(r-1);this.disposeFrame(i,l,n),this.addFrameDataToCanvas(n,i)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,i){switch(r.disposeOp){case Rp.NONE:break;case Rp.BACKGROUND:for(let l=0;l<this._png.height;l++)for(let d=0;d<this._png.width;d++){const u=(l*r.width+d)*this._png.channels;for(let h=0;h<this._png.channels;h++)i.data[u+h]=0}break;case Rp.PREVIOUS:i.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const i=1<<this._png.depth,l=(d,u)=>{const h=((d+n.yOffset)*this._png.width+n.xOffset+u)*this._png.channels,m=(d*n.width+u)*this._png.channels;return{index:h,frameIndex:m}};switch(n.blendOp){case yx.SOURCE:for(let d=0;d<n.height;d++)for(let u=0;u<n.width;u++){const{index:h,frameIndex:m}=l(d,u);for(let g=0;g<this._png.channels;g++)r.data[h+g]=n.data[m+g]}break;case yx.OVER:for(let d=0;d<n.height;d++)for(let u=0;u<n.width;u++){const{index:h,frameIndex:m}=l(d,u);for(let g=0;g<this._png.channels;g++){const b=n.data[m+this._png.channels-1]/i,B=g%(this._png.channels-1)===0?1:n.data[m+g],w=Math.floor(b*B+(1-b)*r.data[h+g]);r.data[h+g]+=w}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==C_.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===vx.NO_INTERLACE)this._png.data=B_({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===vx.ADAM7)this._png.data=TO({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Rp.NONE,blendOp:yx.SOURCE,data:r}),this._inflator=new y_,this._writingDataChunks=!1}}function XO(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var E_;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(E_||(E_={}));function JO(t,e){return new ZO(t,e).decode()}var Vr=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function wx(){Vr.console&&typeof Vr.console.log=="function"&&Vr.console.log.apply(Vr.console,arguments)}var hs={log:wx,warn:function(t){Vr.console&&(typeof Vr.console.warn=="function"?Vr.console.warn.apply(Vr.console,arguments):wx.call(null,arguments))},error:function(t){Vr.console&&(typeof Vr.console.error=="function"?Vr.console.error.apply(Vr.console,arguments):wx(t))}};function _x(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){Zc(n.response,e,r)},n.onerror=function(){hs.error("could not download file")},n.send()}function S_(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Dp(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Zc=Vr.saveAs||((typeof window>"u"?"undefined":ns(window))!=="object"||window!==Vr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=Vr.URL||Vr.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?S_(i.href)?_x(t,e,r):Dp(i,i.target="_blank"):Dp(i)):(i.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){Dp(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(S_(t))_x(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){Dp(n)})}else navigator.msSaveOrOpenBlob((function(i,l){return l===void 0?l={autoBom:!1}:ns(l)!=="object"&&(hs.warn("Deprecated: Expected third argument to be a object"),l={autoBom:!l}),l.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return _x(t,e,r);var i=t.type==="application/octet-stream",l=/constructor/i.test(Vr.HTMLElement)||Vr.safari,d=/CriOS\/[\d]+/.test(navigator.userAgent);if((d||i&&l)&&(typeof FileReader>"u"?"undefined":ns(FileReader))==="object"){var u=new FileReader;u.onloadend=function(){var g=u.result;g=d?g:g.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=g:location=g,n=null},u.readAsDataURL(t)}else{var h=Vr.URL||Vr.webkitURL,m=h.createObjectURL(t);n?n.location=m:location.href=m,n=null,setTimeout(function(){h.revokeObjectURL(m)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function CC(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(u){return[parseInt(u[1]),parseInt(u[2]),parseInt(u[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(u){return[parseInt(u[1],16),parseInt(u[2],16),parseInt(u[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(u){return[parseInt(u[1]+u[1],16),parseInt(u[2]+u[2],16),parseInt(u[3]+u[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,l=r[n].process,d=i.exec(t);d&&(e=l(d),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var u=this.r.toString(16),h=this.g.toString(16),m=this.b.toString(16);return u.length==1&&(u="0"+u),h.length==1&&(h="0"+h),m.length==1&&(m="0"+m),"#"+u+h+m}}var cm=Vr.atob.bind(Vr),j_=Vr.btoa.bind(Vr);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Bx(t,e){var r=t[0],n=t[1],i=t[2],l=t[3];r=Ei(r,n,i,l,e[0],7,-680876936),l=Ei(l,r,n,i,e[1],12,-389564586),i=Ei(i,l,r,n,e[2],17,606105819),n=Ei(n,i,l,r,e[3],22,-1044525330),r=Ei(r,n,i,l,e[4],7,-176418897),l=Ei(l,r,n,i,e[5],12,1200080426),i=Ei(i,l,r,n,e[6],17,-1473231341),n=Ei(n,i,l,r,e[7],22,-45705983),r=Ei(r,n,i,l,e[8],7,1770035416),l=Ei(l,r,n,i,e[9],12,-1958414417),i=Ei(i,l,r,n,e[10],17,-42063),n=Ei(n,i,l,r,e[11],22,-1990404162),r=Ei(r,n,i,l,e[12],7,1804603682),l=Ei(l,r,n,i,e[13],12,-40341101),i=Ei(i,l,r,n,e[14],17,-1502002290),r=Si(r,n=Ei(n,i,l,r,e[15],22,1236535329),i,l,e[1],5,-165796510),l=Si(l,r,n,i,e[6],9,-1069501632),i=Si(i,l,r,n,e[11],14,643717713),n=Si(n,i,l,r,e[0],20,-373897302),r=Si(r,n,i,l,e[5],5,-701558691),l=Si(l,r,n,i,e[10],9,38016083),i=Si(i,l,r,n,e[15],14,-660478335),n=Si(n,i,l,r,e[4],20,-405537848),r=Si(r,n,i,l,e[9],5,568446438),l=Si(l,r,n,i,e[14],9,-1019803690),i=Si(i,l,r,n,e[3],14,-187363961),n=Si(n,i,l,r,e[8],20,1163531501),r=Si(r,n,i,l,e[13],5,-1444681467),l=Si(l,r,n,i,e[2],9,-51403784),i=Si(i,l,r,n,e[7],14,1735328473),r=ji(r,n=Si(n,i,l,r,e[12],20,-1926607734),i,l,e[5],4,-378558),l=ji(l,r,n,i,e[8],11,-2022574463),i=ji(i,l,r,n,e[11],16,1839030562),n=ji(n,i,l,r,e[14],23,-35309556),r=ji(r,n,i,l,e[1],4,-1530992060),l=ji(l,r,n,i,e[4],11,1272893353),i=ji(i,l,r,n,e[7],16,-155497632),n=ji(n,i,l,r,e[10],23,-1094730640),r=ji(r,n,i,l,e[13],4,681279174),l=ji(l,r,n,i,e[0],11,-358537222),i=ji(i,l,r,n,e[3],16,-722521979),n=ji(n,i,l,r,e[6],23,76029189),r=ji(r,n,i,l,e[9],4,-640364487),l=ji(l,r,n,i,e[12],11,-421815835),i=ji(i,l,r,n,e[15],16,530742520),r=Li(r,n=ji(n,i,l,r,e[2],23,-995338651),i,l,e[0],6,-198630844),l=Li(l,r,n,i,e[7],10,1126891415),i=Li(i,l,r,n,e[14],15,-1416354905),n=Li(n,i,l,r,e[5],21,-57434055),r=Li(r,n,i,l,e[12],6,1700485571),l=Li(l,r,n,i,e[3],10,-1894986606),i=Li(i,l,r,n,e[10],15,-1051523),n=Li(n,i,l,r,e[1],21,-2054922799),r=Li(r,n,i,l,e[8],6,1873313359),l=Li(l,r,n,i,e[15],10,-30611744),i=Li(i,l,r,n,e[6],15,-1560198380),n=Li(n,i,l,r,e[13],21,1309151649),r=Li(r,n,i,l,e[4],6,-145523070),l=Li(l,r,n,i,e[11],10,-1120210379),i=Li(i,l,r,n,e[2],15,718787259),n=Li(n,i,l,r,e[9],21,-343485551),t[0]=Nc(r,t[0]),t[1]=Nc(n,t[1]),t[2]=Nc(i,t[2]),t[3]=Nc(l,t[3])}function lg(t,e,r,n,i,l){return e=Nc(Nc(e,t),Nc(n,l)),Nc(e<<i|e>>>32-i,r)}function Ei(t,e,r,n,i,l,d){return lg(e&r|~e&n,t,e,i,l,d)}function Si(t,e,r,n,i,l,d){return lg(e&n|r&~n,t,e,i,l,d)}function ji(t,e,r,n,i,l,d){return lg(e^r^n,t,e,i,l,d)}function Li(t,e,r,n,i,l,d){return lg(r^(e|~n),t,e,i,l,d)}function EC(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)Bx(n,YO(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(Bx(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*r,Bx(n,i),n}function YO(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}var L_="0123456789abcdef".split("");function WO(t){for(var e="",r=0;r<4;r++)e+=L_[t>>8*r+4&15]+L_[t>>8*r&15];return e}function eQ(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function Hb(t){return EC(t).map(eQ).join("")}var tQ=(function(t){for(var e=0;e<t.length;e++)t[e]=WO(t[e]);return t.join("")})(EC("hello"))!="5d41402abc4b2a76b9719d911017c592";function Nc(t,e){if(tQ){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function qb(t,e){var r,n,i,l;if(t!==r){for(var d=(i=t,l=1+(256/t.length|0),new Array(l+1).join(i)),u=[],h=0;h<256;h++)u[h]=h;var m=0;for(h=0;h<256;h++){var g=u[h];m=(m+g+d.charCodeAt(h))%256,u[h]=u[m],u[m]=g}r=t,n=u}else u=n;var b=e.length,B=0,w=0,S="";for(h=0;h<b;h++)w=(w+(g=u[B=(B+1)%256]))%256,u[B]=u[w],u[w]=g,d=u[(u[B]+u[w])%256],S+=String.fromCharCode(e.charCodeAt(h)^d);return S}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var U_={print:4,modify:8,copy:16,"annot-forms":32};function cu(t,e,r,n){this.v=1,this.r=2;var i=192;t.forEach(function(u){if(U_.perm!==void 0)throw new Error("Invalid permission: "+u);i+=U_[u]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var l=(e+this.padding).substr(0,32),d=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(l,d),this.P=-(1+(255^i)),this.encryptionKey=Hb(l+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=qb(this.encryptionKey,this.padding)}function du(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var i=t.charCodeAt(n);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[n]}return e}function I_(t){if(ns(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var l=Math.random().toString(35);return e[r][l]=[n,!!i],l},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var l in e[r]){var d=e[r][l];try{d[0].apply(t,n)}catch(u){Vr.console&&hs.error("jsPDF PubSub Error",u.message,u)}d[1]&&i.push(l)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Qm(t){if(!(this instanceof Qm))return new Qm(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function SC(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Yc(t,e,r,n,i){if(!(this instanceof Yc))return new Yc(t,e,r,n,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,SC.call(this,n,i)}function mu(t,e,r,n,i){if(!(this instanceof mu))return new mu(t,e,r,n,i);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,SC.call(this,n,i)}function Sr(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],l=arguments[3],d=[],u=1,h=16,m="S",g=null;ns(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,i=t.format||i,l=t.compress||t.compressPdf||l,(g=t.encryption||null)!==null&&(g.userPassword=g.userPassword||"",g.ownerPassword=g.ownerPassword||"",g.userPermissions=g.userPermissions||[]),u=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(h=t.floatPrecision),m=t.defaultPathOperation||"S"),d=t.filters||(l===!0?["FlateEncode"]:d),n=n||"mm",r=(""+(r||"P")).toLowerCase();var b=t.putOnlyUsedFonts||!1,B={},w={internal:{},__private__:{}};w.__private__.PubSub=I_;var S="1.3",U=w.__private__.getPdfVersion=function(){return S};w.__private__.setPdfVersion=function(j){S=j};var k={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};w.__private__.getPageFormats=function(){return k};var C=w.__private__.getPageFormat=function(j){return k[j]};i=i||"a4";var O="compat",D="advanced",H=O;function re(){this.saveGraphicsState(),fe(new It(er,0,0,-er,0,yo()*er).toString()+" cm"),this.setFontSize(this.getFontSize()/er),m="n",H=D}function q(){this.restoreGraphicsState(),m="S",H=O}var ne=w.__private__.combineFontStyleAndFontWeight=function(j,J){if(j=="bold"&&J=="normal"||j=="bold"&&J==400||j=="normal"&&J=="italic"||j=="bold"&&J=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return J&&(j=J==400||J==="normal"?j==="italic"?"italic":"normal":J!=700&&J!=="bold"||j!=="normal"?(J==700?"bold":J)+""+j:"bold"),j};w.advancedAPI=function(j){var J=H===O;return J&&re.call(this),typeof j!="function"||(j(this),J&&q.call(this)),this},w.compatAPI=function(j){var J=H===D;return J&&q.call(this),typeof j!="function"||(j(this),J&&re.call(this)),this},w.isAdvancedAPI=function(){return H===D};var te,G=function(j){if(H!==D)throw new Error(j+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},de=w.roundToPrecision=w.__private__.roundToPrecision=function(j,J){var ye=e||J;if(isNaN(j)||isNaN(ye))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return j.toFixed(ye).replace(/0+$/,"")};te=w.hpf=w.__private__.hpf=typeof h=="number"?function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.hpf");return de(j,h)}:h==="smart"?function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.hpf");return de(j,j>-1&&j<1?16:5)}:function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.hpf");return de(j,16)};var K=w.f2=w.__private__.f2=function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.f2");return de(j,2)},W=w.__private__.f3=function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.f3");return de(j,3)},ie=w.scale=w.__private__.scale=function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.scale");return H===O?j*er:H===D?j:void 0},z=function(j){return ie((function(J){return H===O?yo()-J:H===D?J:void 0})(j))};w.__private__.setPrecision=w.setPrecision=function(j){typeof parseInt(j,10)=="number"&&(e=parseInt(j,10))};var he,V="00000000000000000000000000000000",me=w.__private__.getFileId=function(){return V},ee=w.__private__.setFileId=function(j){return V=j!==void 0&&/^[a-fA-F0-9]{32}$/.test(j)?j.toUpperCase():V.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),g!==null&&(Qn=new cu(g.userPermissions,g.userPassword,g.ownerPassword,V)),V};w.setFileId=function(j){return ee(j),this},w.getFileId=function(){return me()};var Ce=w.__private__.convertDateToPDFDate=function(j){var J=j.getTimezoneOffset(),ye=J<0?"+":"-",Ie=Math.floor(Math.abs(J/60)),Pe=Math.abs(J%60),ct=[ye,X(Ie),"'",X(Pe),"'"].join("");return["D:",j.getFullYear(),X(j.getMonth()+1),X(j.getDate()),X(j.getHours()),X(j.getMinutes()),X(j.getSeconds()),ct].join("")},Ne=w.__private__.convertPDFDateToDate=function(j){var J=parseInt(j.substr(2,4),10),ye=parseInt(j.substr(6,2),10)-1,Ie=parseInt(j.substr(8,2),10),Pe=parseInt(j.substr(10,2),10),ct=parseInt(j.substr(12,2),10),Ct=parseInt(j.substr(14,2),10);return new Date(J,ye,Ie,Pe,ct,Ct,0)},M=w.__private__.setCreationDate=function(j){var J;if(j===void 0&&(j=new Date),j instanceof Date)J=Ce(j);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(j))throw new Error("Invalid argument passed to jsPDF.setCreationDate");J=j}return he=J},T=w.__private__.getCreationDate=function(j){var J=he;return j==="jsDate"&&(J=Ne(he)),J};w.setCreationDate=function(j){return M(j),this},w.getCreationDate=function(j){return T(j)};var $,X=w.__private__.padd2=function(j){return("0"+parseInt(j)).slice(-2)},Ae=w.__private__.padd2Hex=function(j){return("00"+(j=j.toString())).substr(j.length)},xe=0,Be=[],ke=[],ge=0,je=[],Qe=[],Re=!1,lt=ke;w.__private__.setCustomOutputDestination=function(j){Re=!0,lt=j};var Lt=function(j){Re||(lt=j)};w.__private__.resetCustomOutputDestination=function(){Re=!1,lt=ke};var fe=w.__private__.out=function(j){return j=j.toString(),ge+=j.length+1,lt.push(j),lt},ft=w.__private__.write=function(j){return fe(arguments.length===1?j.toString():Array.prototype.join.call(arguments," "))},St=w.__private__.getArrayBuffer=function(j){for(var J=j.length,ye=new ArrayBuffer(J),Ie=new Uint8Array(ye);J--;)Ie[J]=j.charCodeAt(J);return ye},st=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];w.__private__.getStandardFonts=function(){return st};var ue=t.fontSize||16;w.__private__.setFontSize=w.setFontSize=function(j){return ue=H===D?j/er:j,this};var Ze,Ve=w.__private__.getFontSize=w.getFontSize=function(){return H===O?ue:ue*er},gt=t.R2L||!1;w.__private__.setR2L=w.setR2L=function(j){return gt=j,this},w.__private__.getR2L=w.getR2L=function(){return gt};var bt,nr=w.__private__.setZoomMode=function(j){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(j))Ze=j;else if(isNaN(j)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(j)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+j+'" is not recognized.');Ze=j}else Ze=parseInt(j,10)};w.__private__.getZoomMode=function(){return Ze};var Jt,Wt=w.__private__.setPageMode=function(j){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(j)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+j+'" is not recognized.');bt=j};w.__private__.getPageMode=function(){return bt};var yr=w.__private__.setLayoutMode=function(j){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(j)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+j+'" is not recognized.');Jt=j};w.__private__.getLayoutMode=function(){return Jt},w.__private__.setDisplayMode=w.setDisplayMode=function(j,J,ye){return nr(j),yr(J),Wt(ye),this};var sr={title:"",subject:"",author:"",keywords:"",creator:""};w.__private__.getDocumentProperty=function(j){if(Object.keys(sr).indexOf(j)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return sr[j]},w.__private__.getDocumentProperties=function(){return sr},w.__private__.setDocumentProperties=w.setProperties=w.setDocumentProperties=function(j){for(var J in sr)sr.hasOwnProperty(J)&&j[J]&&(sr[J]=j[J]);return this},w.__private__.setDocumentProperty=function(j,J){if(Object.keys(sr).indexOf(j)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return sr[j]=J};var Dt,er,Zt,Hr,cr,Yt={},Xt={},ar=[],Vt={},Nr={},Pt={},tr={},Ue=null,Ke=0,ot=[],ut=new I_(w),rr=t.hotfixes||[],or={},qr={},dn=[],It=function j(J,ye,Ie,Pe,ct,Ct){if(!(this instanceof j))return new j(J,ye,Ie,Pe,ct,Ct);isNaN(J)&&(J=1),isNaN(ye)&&(ye=0),isNaN(Ie)&&(Ie=0),isNaN(Pe)&&(Pe=1),isNaN(ct)&&(ct=0),isNaN(Ct)&&(Ct=0),this._matrix=[J,ye,Ie,Pe,ct,Ct]};Object.defineProperty(It.prototype,"sx",{get:function(){return this._matrix[0]},set:function(j){this._matrix[0]=j}}),Object.defineProperty(It.prototype,"shy",{get:function(){return this._matrix[1]},set:function(j){this._matrix[1]=j}}),Object.defineProperty(It.prototype,"shx",{get:function(){return this._matrix[2]},set:function(j){this._matrix[2]=j}}),Object.defineProperty(It.prototype,"sy",{get:function(){return this._matrix[3]},set:function(j){this._matrix[3]=j}}),Object.defineProperty(It.prototype,"tx",{get:function(){return this._matrix[4]},set:function(j){this._matrix[4]=j}}),Object.defineProperty(It.prototype,"ty",{get:function(){return this._matrix[5]},set:function(j){this._matrix[5]=j}}),Object.defineProperty(It.prototype,"a",{get:function(){return this._matrix[0]},set:function(j){this._matrix[0]=j}}),Object.defineProperty(It.prototype,"b",{get:function(){return this._matrix[1]},set:function(j){this._matrix[1]=j}}),Object.defineProperty(It.prototype,"c",{get:function(){return this._matrix[2]},set:function(j){this._matrix[2]=j}}),Object.defineProperty(It.prototype,"d",{get:function(){return this._matrix[3]},set:function(j){this._matrix[3]=j}}),Object.defineProperty(It.prototype,"e",{get:function(){return this._matrix[4]},set:function(j){this._matrix[4]=j}}),Object.defineProperty(It.prototype,"f",{get:function(){return this._matrix[5]},set:function(j){this._matrix[5]=j}}),Object.defineProperty(It.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(It.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(It.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(It.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),It.prototype.join=function(j){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(te).join(j)},It.prototype.multiply=function(j){var J=j.sx*this.sx+j.shy*this.shx,ye=j.sx*this.shy+j.shy*this.sy,Ie=j.shx*this.sx+j.sy*this.shx,Pe=j.shx*this.shy+j.sy*this.sy,ct=j.tx*this.sx+j.ty*this.shx+this.tx,Ct=j.tx*this.shy+j.ty*this.sy+this.ty;return new It(J,ye,Ie,Pe,ct,Ct)},It.prototype.decompose=function(){var j=this.sx,J=this.shy,ye=this.shx,Ie=this.sy,Pe=this.tx,ct=this.ty,Ct=Math.sqrt(j*j+J*J),fr=(j/=Ct)*ye+(J/=Ct)*Ie;ye-=j*fr,Ie-=J*fr;var xr=Math.sqrt(ye*ye+Ie*Ie);return fr/=xr,j*(Ie/=xr)<J*(ye/=xr)&&(j=-j,J=-J,fr=-fr,Ct=-Ct),{scale:new It(Ct,0,0,xr,0,0),translate:new It(1,0,0,1,Pe,ct),rotate:new It(j,J,-J,j,0,0),skew:new It(1,0,fr,1,0,0)}},It.prototype.toString=function(j){return this.join(" ")},It.prototype.inversed=function(){var j=this.sx,J=this.shy,ye=this.shx,Ie=this.sy,Pe=this.tx,ct=this.ty,Ct=1/(j*Ie-J*ye),fr=Ie*Ct,xr=-J*Ct,Tr=-ye*Ct,zr=j*Ct;return new It(fr,xr,Tr,zr,-fr*Pe-Tr*ct,-xr*Pe-zr*ct)},It.prototype.applyToPoint=function(j){var J=j.x*this.sx+j.y*this.shx+this.tx,ye=j.x*this.shy+j.y*this.sy+this.ty;return new gi(J,ye)},It.prototype.applyToRectangle=function(j){var J=this.applyToPoint(j),ye=this.applyToPoint(new gi(j.x+j.w,j.y+j.h));return new Vi(J.x,J.y,ye.x-J.x,ye.y-J.y)},It.prototype.clone=function(){var j=this.sx,J=this.shy,ye=this.shx,Ie=this.sy,Pe=this.tx,ct=this.ty;return new It(j,J,ye,Ie,Pe,ct)},w.Matrix=It;var An=w.matrixMult=function(j,J){return J.multiply(j)},wn=new It(1,0,0,1,0,0);w.unitMatrix=w.identityMatrix=wn;var pn=function(j,J){if(!Nr[j]){var ye=(J instanceof Yc?"Sh":"P")+(Object.keys(Vt).length+1).toString(10);J.id=ye,Nr[j]=ye,Vt[ye]=J,ut.publish("addPattern",J)}};w.ShadingPattern=Yc,w.TilingPattern=mu,w.addShadingPattern=function(j,J){return G("addShadingPattern()"),pn(j,J),this},w.beginTilingPattern=function(j){G("beginTilingPattern()"),cl(j.boundingBox[0],j.boundingBox[1],j.boundingBox[2]-j.boundingBox[0],j.boundingBox[3]-j.boundingBox[1],j.matrix)},w.endTilingPattern=function(j,J){G("endTilingPattern()"),J.stream=Qe[$].join(`
`),pn(j,J),ut.publish("endTilingPattern",J),dn.pop().restore()};var sn,Pr=w.__private__.newObject=function(){var j=Ft();return Fn(j,!0),j},Ft=w.__private__.newObjectDeferred=function(){return xe++,Be[xe]=function(){return ge},xe},Fn=function(j,J){return J=typeof J=="boolean"&&J,Be[j]=ge,J&&fe(j+" 0 obj"),j},Ms=w.__private__.newAdditionalObject=function(){var j={objId:Ft(),content:""};return je.push(j),j},_n=Ft(),tn=Ft(),Te=w.__private__.decodeColorString=function(j){var J=j.split(" ");if(J.length!==2||J[1]!=="g"&&J[1]!=="G")J.length!==5||J[4]!=="k"&&J[4]!=="K"||(J=[(1-J[0])*(1-J[3]),(1-J[1])*(1-J[3]),(1-J[2])*(1-J[3]),"r"]);else{var ye=parseFloat(J[0]);J=[ye,ye,ye,"r"]}for(var Ie="#",Pe=0;Pe<3;Pe++)Ie+=("0"+Math.floor(255*parseFloat(J[Pe])).toString(16)).slice(-2);return Ie},wt=w.__private__.encodeColorString=function(j){var J;typeof j=="string"&&(j={ch1:j});var ye=j.ch1,Ie=j.ch2,Pe=j.ch3,ct=j.ch4,Ct=j.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ye=="string"&&ye.charAt(0)!=="#"){var fr=new CC(ye);if(fr.ok)ye=fr.toHex();else if(!/^\d*\.?\d*$/.test(ye))throw new Error('Invalid color "'+ye+'" passed to jsPDF.encodeColorString.')}if(typeof ye=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ye)&&(ye="#"+ye[1]+ye[1]+ye[2]+ye[2]+ye[3]+ye[3]),typeof ye=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ye)){var xr=parseInt(ye.substr(1),16);ye=xr>>16&255,Ie=xr>>8&255,Pe=255&xr}if(Ie===void 0||ct===void 0&&ye===Ie&&Ie===Pe)J=typeof ye=="string"?ye+" "+Ct[0]:j.precision===2?K(ye/255)+" "+Ct[0]:W(ye/255)+" "+Ct[0];else if(ct===void 0||ns(ct)==="object"){if(ct&&!isNaN(ct.a)&&ct.a===0)return["1.","1.","1.",Ct[1]].join(" ");J=typeof ye=="string"?[ye,Ie,Pe,Ct[1]].join(" "):j.precision===2?[K(ye/255),K(Ie/255),K(Pe/255),Ct[1]].join(" "):[W(ye/255),W(Ie/255),W(Pe/255),Ct[1]].join(" ")}else J=typeof ye=="string"?[ye,Ie,Pe,ct,Ct[2]].join(" "):j.precision===2?[K(ye),K(Ie),K(Pe),K(ct),Ct[2]].join(" "):[W(ye),W(Ie),W(Pe),W(ct),Ct[2]].join(" ");return J},qt=w.__private__.getFilters=function(){return d},mr=w.__private__.putStream=function(j){var J=(j=j||{}).data||"",ye=j.filters||qt(),Ie=j.alreadyAppliedFilters||[],Pe=j.addLength1||!1,ct=J.length,Ct=j.objectId,fr=function(Ks){return Ks};if(g!==null&&Ct===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");g!==null&&(fr=Qn.encryptor(Ct,0));var xr={};ye===!0&&(ye=["FlateEncode"]);var Tr=j.additionalKeyValues||[],zr=(xr=Sr.API.processDataByFilters!==void 0?Sr.API.processDataByFilters(J,ye):{data:J,reverseChain:[]}).reverseChain+(Array.isArray(Ie)?Ie.join(" "):Ie.toString());if(xr.data.length!==0&&(Tr.push({key:"Length",value:xr.data.length}),Pe===!0&&Tr.push({key:"Length1",value:ct})),zr.length!=0)if(zr.split("/").length-1==1)Tr.push({key:"Filter",value:zr});else{Tr.push({key:"Filter",value:"["+zr+"]"});for(var un=0;un<Tr.length;un+=1)if(Tr[un].key==="DecodeParms"){for(var cs=[],vs=0;vs<xr.reverseChain.split("/").length-1;vs+=1)cs.push("null");cs.push(Tr[un].value),Tr[un].value="["+cs.join(" ")+"]"}}fe("<<");for(var Rn=0;Rn<Tr.length;Rn++)fe("/"+Tr[Rn].key+" "+Tr[Rn].value);fe(">>"),xr.data.length!==0&&(fe("stream"),fe(fr(xr.data)),fe("endstream"))},Qr=w.__private__.putPage=function(j){var J=j.number,ye=j.data,Ie=j.objId,Pe=j.contentsObjId;Fn(Ie,!0),fe("<</Type /Page"),fe("/Parent "+j.rootDictionaryObjId+" 0 R"),fe("/Resources "+j.resourceDictionaryObjId+" 0 R"),fe("/MediaBox ["+parseFloat(te(j.mediaBox.bottomLeftX))+" "+parseFloat(te(j.mediaBox.bottomLeftY))+" "+te(j.mediaBox.topRightX)+" "+te(j.mediaBox.topRightY)+"]"),j.cropBox!==null&&fe("/CropBox ["+te(j.cropBox.bottomLeftX)+" "+te(j.cropBox.bottomLeftY)+" "+te(j.cropBox.topRightX)+" "+te(j.cropBox.topRightY)+"]"),j.bleedBox!==null&&fe("/BleedBox ["+te(j.bleedBox.bottomLeftX)+" "+te(j.bleedBox.bottomLeftY)+" "+te(j.bleedBox.topRightX)+" "+te(j.bleedBox.topRightY)+"]"),j.trimBox!==null&&fe("/TrimBox ["+te(j.trimBox.bottomLeftX)+" "+te(j.trimBox.bottomLeftY)+" "+te(j.trimBox.topRightX)+" "+te(j.trimBox.topRightY)+"]"),j.artBox!==null&&fe("/ArtBox ["+te(j.artBox.bottomLeftX)+" "+te(j.artBox.bottomLeftY)+" "+te(j.artBox.topRightX)+" "+te(j.artBox.topRightY)+"]"),typeof j.userUnit=="number"&&j.userUnit!==1&&fe("/UserUnit "+j.userUnit),ut.publish("putPage",{objId:Ie,pageContext:ot[J],pageNumber:J,page:ye}),fe("/Contents "+Pe+" 0 R"),fe(">>"),fe("endobj");var ct=ye.join(`
`);return H===D&&(ct+=`
Q`),Fn(Pe,!0),mr({data:ct,filters:qt(),objectId:Pe}),fe("endobj"),Ie},Cn=w.__private__.putPages=function(){var j,J,ye=[];for(j=1;j<=Ke;j++)ot[j].objId=Ft(),ot[j].contentsObjId=Ft();for(j=1;j<=Ke;j++)ye.push(Qr({number:j,data:Qe[j],objId:ot[j].objId,contentsObjId:ot[j].contentsObjId,mediaBox:ot[j].mediaBox,cropBox:ot[j].cropBox,bleedBox:ot[j].bleedBox,trimBox:ot[j].trimBox,artBox:ot[j].artBox,userUnit:ot[j].userUnit,rootDictionaryObjId:_n,resourceDictionaryObjId:tn}));Fn(_n,!0),fe("<</Type /Pages");var Ie="/Kids [";for(J=0;J<Ke;J++)Ie+=ye[J]+" 0 R ";fe(Ie+"]"),fe("/Count "+Ke),fe(">>"),fe("endobj"),ut.publish("postPutPages")},Gn=function(j){ut.publish("putFont",{font:j,out:fe,newObject:Pr,putStream:mr}),j.isAlreadyPutted!==!0&&(j.objectNumber=Pr(),fe("<<"),fe("/Type /Font"),fe("/BaseFont /"+du(j.postScriptName)),fe("/Subtype /Type1"),typeof j.encoding=="string"&&fe("/Encoding /"+j.encoding),fe("/FirstChar 32"),fe("/LastChar 255"),fe(">>"),fe("endobj"))},Ps=function(j){j.objectNumber=Pr();var J=[];J.push({key:"Type",value:"/XObject"}),J.push({key:"Subtype",value:"/Form"}),J.push({key:"BBox",value:"["+[te(j.x),te(j.y),te(j.x+j.width),te(j.y+j.height)].join(" ")+"]"}),J.push({key:"Matrix",value:"["+j.matrix.toString()+"]"});var ye=j.pages[1].join(`
`);mr({data:ye,additionalKeyValues:J,objectId:j.objectNumber}),fe("endobj")},On=function(j,J){J||(J=21);var ye=Pr(),Ie=(function(Ct,fr){var xr,Tr=[],zr=1/(fr-1);for(xr=0;xr<1;xr+=zr)Tr.push(xr);if(Tr.push(1),Ct[0].offset!=0){var un={offset:0,color:Ct[0].color};Ct.unshift(un)}if(Ct[Ct.length-1].offset!=1){var cs={offset:1,color:Ct[Ct.length-1].color};Ct.push(cs)}for(var vs="",Rn=0,Ks=0;Ks<Tr.length;Ks++){for(xr=Tr[Ks];xr>Ct[Rn+1].offset;)Rn++;var ys=Ct[Rn].offset,Xs=(xr-ys)/(Ct[Rn+1].offset-ys),xi=Ct[Rn].color,ca=Ct[Rn+1].color;vs+=Ae(Math.round((1-Xs)*xi[0]+Xs*ca[0]).toString(16))+Ae(Math.round((1-Xs)*xi[1]+Xs*ca[1]).toString(16))+Ae(Math.round((1-Xs)*xi[2]+Xs*ca[2]).toString(16))}return vs.trim()})(j.colors,J),Pe=[];Pe.push({key:"FunctionType",value:"0"}),Pe.push({key:"Domain",value:"[0.0 1.0]"}),Pe.push({key:"Size",value:"["+J+"]"}),Pe.push({key:"BitsPerSample",value:"8"}),Pe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Pe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),mr({data:Ie,additionalKeyValues:Pe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ye}),fe("endobj"),j.objectNumber=Pr(),fe("<< /ShadingType "+j.type),fe("/ColorSpace /DeviceRGB");var ct="/Coords ["+te(parseFloat(j.coords[0]))+" "+te(parseFloat(j.coords[1]))+" ";j.type===2?ct+=te(parseFloat(j.coords[2]))+" "+te(parseFloat(j.coords[3])):ct+=te(parseFloat(j.coords[2]))+" "+te(parseFloat(j.coords[3]))+" "+te(parseFloat(j.coords[4]))+" "+te(parseFloat(j.coords[5])),fe(ct+="]"),j.matrix&&fe("/Matrix ["+j.matrix.toString()+"]"),fe("/Function "+ye+" 0 R"),fe("/Extend [true true]"),fe(">>"),fe("endobj")},As=function(j,J){var ye=Ft(),Ie=Pr();J.push({resourcesOid:ye,objectOid:Ie}),j.objectNumber=Ie;var Pe=[];Pe.push({key:"Type",value:"/Pattern"}),Pe.push({key:"PatternType",value:"1"}),Pe.push({key:"PaintType",value:"1"}),Pe.push({key:"TilingType",value:"1"}),Pe.push({key:"BBox",value:"["+j.boundingBox.map(te).join(" ")+"]"}),Pe.push({key:"XStep",value:te(j.xStep)}),Pe.push({key:"YStep",value:te(j.yStep)}),Pe.push({key:"Resources",value:ye+" 0 R"}),j.matrix&&Pe.push({key:"Matrix",value:"["+j.matrix.toString()+"]"}),mr({data:j.stream,additionalKeyValues:Pe,objectId:j.objectNumber}),fe("endobj")},le=function(j){for(var J in j.objectNumber=Pr(),fe("<<"),j)switch(J){case"opacity":fe("/ca "+K(j[J]));break;case"stroke-opacity":fe("/CA "+K(j[J]))}fe(">>"),fe("endobj")},Me=function(j){Fn(j.resourcesOid,!0),fe("<<"),fe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var J in fe("/Font <<"),Yt)Yt.hasOwnProperty(J)&&(b===!1||b===!0&&B.hasOwnProperty(J))&&fe("/"+J+" "+Yt[J].objectNumber+" 0 R");fe(">>")})(),(function(){if(Object.keys(Vt).length>0){for(var J in fe("/Shading <<"),Vt)Vt.hasOwnProperty(J)&&Vt[J]instanceof Yc&&Vt[J].objectNumber>=0&&fe("/"+J+" "+Vt[J].objectNumber+" 0 R");ut.publish("putShadingPatternDict"),fe(">>")}})(),(function(J){if(Object.keys(Vt).length>0){for(var ye in fe("/Pattern <<"),Vt)Vt.hasOwnProperty(ye)&&Vt[ye]instanceof w.TilingPattern&&Vt[ye].objectNumber>=0&&Vt[ye].objectNumber<J&&fe("/"+ye+" "+Vt[ye].objectNumber+" 0 R");ut.publish("putTilingPatternDict"),fe(">>")}})(j.objectOid),(function(){if(Object.keys(Pt).length>0){var J;for(J in fe("/ExtGState <<"),Pt)Pt.hasOwnProperty(J)&&Pt[J].objectNumber>=0&&fe("/"+J+" "+Pt[J].objectNumber+" 0 R");ut.publish("putGStateDict"),fe(">>")}})(),(function(){for(var J in fe("/XObject <<"),or)or.hasOwnProperty(J)&&or[J].objectNumber>=0&&fe("/"+J+" "+or[J].objectNumber+" 0 R");ut.publish("putXobjectDict"),fe(">>")})(),fe(">>"),fe("endobj")},$e=function(j){Xt[j.fontName]=Xt[j.fontName]||{},Xt[j.fontName][j.fontStyle]=j.id},At=function(j,J,ye,Ie,Pe){var ct={id:"F"+(Object.keys(Yt).length+1).toString(10),postScriptName:j,fontName:J,fontStyle:ye,encoding:Ie,isStandardFont:Pe||!1,metadata:{}};return ut.publish("addFont",{font:ct,instance:this}),Yt[ct.id]=ct,$e(ct),ct.id},jt=w.__private__.pdfEscape=w.pdfEscape=function(j,J){return(function(ye,Ie){var Pe,ct,Ct,fr,xr,Tr,zr,un,cs;if(Ct=(Ie=Ie||{}).sourceEncoding||"Unicode",xr=Ie.outputEncoding,(Ie.autoencode||xr)&&Yt[Dt].metadata&&Yt[Dt].metadata[Ct]&&Yt[Dt].metadata[Ct].encoding&&(fr=Yt[Dt].metadata[Ct].encoding,!xr&&Yt[Dt].encoding&&(xr=Yt[Dt].encoding),!xr&&fr.codePages&&(xr=fr.codePages[0]),typeof xr=="string"&&(xr=fr[xr]),xr)){for(zr=!1,Tr=[],Pe=0,ct=ye.length;Pe<ct;Pe++)(un=xr[ye.charCodeAt(Pe)])?Tr.push(String.fromCharCode(un)):Tr.push(ye[Pe]),Tr[Pe].charCodeAt(0)>>8&&(zr=!0);ye=Tr.join("")}for(Pe=ye.length;zr===void 0&&Pe!==0;)ye.charCodeAt(Pe-1)>>8&&(zr=!0),Pe--;if(!zr)return ye;for(Tr=Ie.noBOM?[]:[254,255],Pe=0,ct=ye.length;Pe<ct;Pe++){if((cs=(un=ye.charCodeAt(Pe))>>8)>>8)throw new Error("Character at position "+Pe+" of string '"+ye+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Tr.push(cs),Tr.push(un-(cs<<8))}return String.fromCharCode.apply(void 0,Tr)})(j,J).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Mt=w.__private__.beginPage=function(j){Qe[++Ke]=[],ot[Ke]={objId:0,contentsObjId:0,userUnit:Number(u),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(j[0]),topRightY:Number(j[1])}},mt(Ke),Lt(Qe[$])},Z=function(j,J){var ye,Ie,Pe;switch(r=J||r,typeof j=="string"&&(ye=C(j.toLowerCase()),Array.isArray(ye)&&(Ie=ye[0],Pe=ye[1])),Array.isArray(j)&&(Ie=j[0]*er,Pe=j[1]*er),isNaN(Ie)&&(Ie=i[0],Pe=i[1]),(Ie>14400||Pe>14400)&&(hs.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ie=Math.min(14400,Ie),Pe=Math.min(14400,Pe)),i=[Ie,Pe],r.substr(0,1)){case"l":Pe>Ie&&(i=[Pe,Ie]);break;case"p":Ie>Pe&&(i=[Pe,Ie])}Mt(i),Ut(Zs),fe(Ua),Fl!==0&&fe(Fl+" J"),qs!==0&&fe(qs+" j"),ut.publish("addPage",{pageNumber:Ke})},Je=function(j){j>0&&j<=Ke&&(Qe.splice(j,1),ot.splice(j,1),Ke--,$>Ke&&($=Ke),this.setPage($))},mt=function(j){j>0&&j<=Ke&&($=j)},nt=w.__private__.getNumberOfPages=w.getNumberOfPages=function(){return Qe.length-1},Ot=function(j,J,ye){var Ie,Pe=void 0;return ye=ye||{},j=j!==void 0?j:Yt[Dt].fontName,J=J!==void 0?J:Yt[Dt].fontStyle,Ie=j.toLowerCase(),Xt[Ie]!==void 0&&Xt[Ie][J]!==void 0?Pe=Xt[Ie][J]:Xt[j]!==void 0&&Xt[j][J]!==void 0?Pe=Xt[j][J]:ye.disableWarning===!1&&hs.warn("Unable to look up font label for font '"+j+"', '"+J+"'. Refer to getFontList() for available fonts."),Pe||ye.noFallback||(Pe=Xt.times[J])==null&&(Pe=Xt.times.normal),Pe},_t=w.__private__.putInfo=function(){var j=Pr(),J=function(Ie){return Ie};for(var ye in g!==null&&(J=Qn.encryptor(j,0)),fe("<<"),fe("/Producer ("+jt(J("jsPDF "+Sr.version))+")"),sr)sr.hasOwnProperty(ye)&&sr[ye]&&fe("/"+ye.substr(0,1).toUpperCase()+ye.substr(1)+" ("+jt(J(sr[ye]))+")");fe("/CreationDate ("+jt(J(he))+")"),fe(">>"),fe("endobj")},Gt=w.__private__.putCatalog=function(j){var J=(j=j||{}).rootDictionaryObjId||_n;switch(Pr(),fe("<<"),fe("/Type /Catalog"),fe("/Pages "+J+" 0 R"),Ze||(Ze="fullwidth"),Ze){case"fullwidth":fe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":fe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":fe("/OpenAction [3 0 R /Fit]");break;case"original":fe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ye=""+Ze;ye.substr(ye.length-1)==="%"&&(Ze=parseInt(Ze)/100),typeof Ze=="number"&&fe("/OpenAction [3 0 R /XYZ null null "+K(Ze)+"]")}switch(Jt||(Jt="continuous"),Jt){case"continuous":fe("/PageLayout /OneColumn");break;case"single":fe("/PageLayout /SinglePage");break;case"two":case"twoleft":fe("/PageLayout /TwoColumnLeft");break;case"tworight":fe("/PageLayout /TwoColumnRight")}bt&&fe("/PageMode /"+bt),ut.publish("putCatalog"),fe(">>"),fe("endobj")},gr=w.__private__.putTrailer=function(){fe("trailer"),fe("<<"),fe("/Size "+(xe+1)),fe("/Root "+xe+" 0 R"),fe("/Info "+(xe-1)+" 0 R"),g!==null&&fe("/Encrypt "+Qn.oid+" 0 R"),fe("/ID [ <"+V+"> <"+V+"> ]"),fe(">>")},zt=w.__private__.putHeader=function(){fe("%PDF-"+S),fe("%")},In=w.__private__.putXRef=function(){var j="0000000000";fe("xref"),fe("0 "+(xe+1)),fe("0000000000 65535 f ");for(var J=1;J<=xe;J++)typeof Be[J]=="function"?fe((j+Be[J]()).slice(-10)+" 00000 n "):Be[J]!==void 0?fe((j+Be[J]).slice(-10)+" 00000 n "):fe("0000000000 00000 n ")},fs=w.__private__.buildDocument=function(){var j;xe=0,ge=0,ke=[],Be=[],je=[],_n=Ft(),tn=Ft(),Lt(ke),ut.publish("buildDocument"),zt(),Cn(),(function(){ut.publish("putAdditionalObjects");for(var ye=0;ye<je.length;ye++){var Ie=je[ye];Fn(Ie.objId,!0),fe(Ie.content),fe("endobj")}ut.publish("postPutAdditionalObjects")})(),j=[],(function(){for(var ye in Yt)Yt.hasOwnProperty(ye)&&(b===!1||b===!0&&B.hasOwnProperty(ye))&&Gn(Yt[ye])})(),(function(){var ye;for(ye in Pt)Pt.hasOwnProperty(ye)&&le(Pt[ye])})(),(function(){for(var ye in or)or.hasOwnProperty(ye)&&Ps(or[ye])})(),(function(ye){var Ie;for(Ie in Vt)Vt.hasOwnProperty(Ie)&&(Vt[Ie]instanceof Yc?On(Vt[Ie]):Vt[Ie]instanceof mu&&As(Vt[Ie],ye))})(j),ut.publish("putResources"),j.forEach(Me),Me({resourcesOid:tn,objectOid:Number.MAX_SAFE_INTEGER}),ut.publish("postPutResources"),g!==null&&(Qn.oid=Pr(),fe("<<"),fe("/Filter /Standard"),fe("/V "+Qn.v),fe("/R "+Qn.r),fe("/U <"+Qn.toHexString(Qn.U)+">"),fe("/O <"+Qn.toHexString(Qn.O)+">"),fe("/P "+Qn.P),fe(">>"),fe("endobj")),_t(),Gt();var J=ge;return In(),gr(),fe("startxref"),fe(""+J),fe("%%EOF"),Lt(Qe[$]),ke.join(`
`)},Br=w.__private__.getBlob=function(j){return new Blob([St(j)],{type:"application/pdf"})},rn=w.output=w.__private__.output=(sn=function(j,J){switch(typeof(J=J||{})=="string"?J={filename:J}:J.filename=J.filename||"generated.pdf",j){case void 0:return fs();case"save":w.save(J.filename);break;case"arraybuffer":return St(fs());case"blob":return Br(fs());case"bloburi":case"bloburl":if(Vr.URL!==void 0&&typeof Vr.URL.createObjectURL=="function")return Vr.URL&&Vr.URL.createObjectURL(Br(fs()))||void 0;hs.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ye="",Ie=fs();try{ye=j_(Ie)}catch{ye=j_(unescape(encodeURIComponent(Ie)))}return"data:application/pdf;filename="+J.filename+";base64,"+ye;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Vr)==="[object Window]"){var Pe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ct=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';J.pdfObjectUrl&&(Pe=J.pdfObjectUrl,ct="");var Ct='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Pe+'"'+ct+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(J)+");<\/script></body></html>",fr=Vr.open();return fr!==null&&fr.document.write(Ct),fr}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Vr)==="[object Window]"){var xr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(J.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+J.filename+'" width="500px" height="400px" /></body></html>',Tr=Vr.open();if(Tr!==null){Tr.document.write(xr);var zr=this;Tr.document.documentElement.querySelector("#pdfViewer").onload=function(){Tr.document.title=J.filename,Tr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(zr.output("bloburl"))}}return Tr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Vr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var un='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",J)+'"></iframe></body></html>',cs=Vr.open();if(cs!==null&&(cs.document.write(un),cs.document.title=J.filename),cs||typeof safari>"u")return cs;break;case"datauri":case"dataurl":return Vr.document.location.href=this.output("datauristring",J);default:return null}},sn.foo=function(){try{return sn.apply(this,arguments)}catch(ye){var j=ye.stack||"";~j.indexOf(" at ")&&(j=j.split(" at ")[1]);var J="Error in function "+j.split(`
`)[0].split("<")[0]+": "+ye.message;if(!Vr.console)throw new Error(J);Vr.console.error(J,ye),Vr.alert&&alert(J)}},sn.foo.bar=sn,sn.foo),$n=function(j){return Array.isArray(rr)===!0&&rr.indexOf(j)>-1};switch(n){case"pt":er=1;break;case"mm":er=72/25.4;break;case"cm":er=72/2.54;break;case"in":er=72;break;case"px":er=$n("px_scaling")==1?.75:96/72;break;case"pc":case"em":er=12;break;case"ex":er=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);er=n}var Qn=null;M(),ee();var on=w.__private__.getPageInfo=w.getPageInfo=function(j){if(isNaN(j)||j%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ot[j].objId,pageNumber:j,pageContext:ot[j]}},pi=w.__private__.getPageInfoByObjId=function(j){if(isNaN(j)||j%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var J in ot)if(ot[J].objId===j)break;return on(J)},Ja=w.__private__.getCurrentPageInfo=w.getCurrentPageInfo=function(){return{objId:ot[$].objId,pageNumber:$,pageContext:ot[$]}};w.addPage=function(){return Z.apply(this,arguments),this},w.setPage=function(){return mt.apply(this,arguments),Lt.call(this,Qe[$]),this},w.insertPage=function(j){return this.addPage(),this.movePage($,j),this},w.movePage=function(j,J){var ye,Ie;if(j>J){ye=Qe[j],Ie=ot[j];for(var Pe=j;Pe>J;Pe--)Qe[Pe]=Qe[Pe-1],ot[Pe]=ot[Pe-1];Qe[J]=ye,ot[J]=Ie,this.setPage(J)}else if(j<J){ye=Qe[j],Ie=ot[j];for(var ct=j;ct<J;ct++)Qe[ct]=Qe[ct+1],ot[ct]=ot[ct+1];Qe[J]=ye,ot[J]=Ie,this.setPage(J)}return this},w.deletePage=function(){return Je.apply(this,arguments),this},w.__private__.text=w.text=function(j,J,ye,Ie,Pe){var ct,Ct,fr,xr,Tr,zr,un,cs,vs,Rn=(Ie=Ie||{}).scope||this;if(typeof j=="number"&&typeof J=="number"&&(typeof ye=="string"||Array.isArray(ye))){var Ks=ye;ye=J,J=j,j=Ks}if(arguments[3]instanceof It==0?(fr=arguments[4],xr=arguments[5],ns(un=arguments[3])==="object"&&un!==null||(typeof fr=="string"&&(xr=fr,fr=null),typeof un=="string"&&(xr=un,un=null),typeof un=="number"&&(fr=un,un=null),Ie={flags:un,angle:fr,align:xr})):(G("The transform parameter of text() with a Matrix value"),vs=Pe),isNaN(J)||isNaN(ye)||j==null)throw new Error("Invalid arguments passed to jsPDF.text");if(j.length===0)return Rn;var ys,Xs="",xi=typeof Ie.lineHeightFactor=="number"?Ie.lineHeightFactor:js,ca=Rn.internal.scaleFactor;function wo(Bn){return Bn=Bn.split("	").join(Array(Ie.TabLen||9).join(" ")),jt(Bn,un)}function _o(Bn){for(var hn,Xn=Bn.concat(),ms=[],Wi=Xn.length;Wi--;)typeof(hn=Xn.shift())=="string"?ms.push(hn):Array.isArray(Bn)&&(hn.length===1||hn[1]===void 0&&hn[2]===void 0)?ms.push(hn[0]):ms.push([hn[0],hn[1],hn[2]]);return ms}function da(Bn,hn){var Xn;if(typeof Bn=="string")Xn=hn(Bn)[0];else if(Array.isArray(Bn)){for(var ms,Wi,Is=Bn.concat(),eo=[],fA=Is.length;fA--;)typeof(ms=Is.shift())=="string"?eo.push(hn(ms)[0]):Array.isArray(ms)&&typeof ms[0]=="string"&&(Wi=hn(ms[0],ms[1],ms[2]),eo.push([Wi[0],Wi[1],Wi[2]]));Xn=eo}return Xn}var Ri=!1,bi=!0;if(typeof j=="string")Ri=!0;else if(Array.isArray(j)){var dl=j.concat();Ct=[];for(var Di,Ls=dl.length;Ls--;)(typeof(Di=dl.shift())!="string"||Array.isArray(Di)&&typeof Di[0]!="string")&&(bi=!1);Ri=bi}if(Ri===!1)throw new Error('Type of text must be string or Array. "'+j+'" is not recognized.');typeof j=="string"&&(j=j.match(/[\r?\n]/)?j.split(/\r\n|\r|\n/g):[j]);var qo=ue/Rn.internal.scaleFactor,zo=qo*(xi-1);switch(Ie.baseline){case"bottom":ye-=zo;break;case"top":ye+=qo-zo;break;case"hanging":ye+=qo-2*zo;break;case"middle":ye+=qo/2-zo}if((zr=Ie.maxWidth||0)>0&&(typeof j=="string"?j=Rn.splitTextToSize(j,zr):Object.prototype.toString.call(j)==="[object Array]"&&(j=j.reduce(function(Bn,hn){return Bn.concat(Rn.splitTextToSize(hn,zr))},[]))),ct={text:j,x:J,y:ye,options:Ie,mutex:{pdfEscape:jt,activeFontKey:Dt,fonts:Yt,activeFontSize:ue}},ut.publish("preProcessText",ct),j=ct.text,fr=(Ie=ct.options).angle,vs instanceof It==0&&fr&&typeof fr=="number"){fr*=Math.PI/180,Ie.rotationDirection===0&&(fr=-fr),H===D&&(fr=-fr);var ul=Math.cos(fr),Gi=Math.sin(fr);vs=new It(ul,Gi,-Gi,ul,0,0)}else fr&&fr instanceof It&&(vs=fr);H!==D||vs||(vs=wn),(Tr=Ie.charSpace||Wa)!==void 0&&(Xs+=te(ie(Tr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(cs=Ie.horizontalScale)!==void 0&&(Xs+=te(100*cs)+` Tz
`),Ie.lang;var Yn=-1,Ha=Ie.renderingMode!==void 0?Ie.renderingMode:Ie.stroke,Ol=Rn.internal.getCurrentPageInfo().pageContext;switch(Ha){case 0:case!1:case"fill":Yn=0;break;case 1:case!0:case"stroke":Yn=1;break;case 2:case"fillThenStroke":Yn=2;break;case 3:case"invisible":Yn=3;break;case 4:case"fillAndAddForClipping":Yn=4;break;case 5:case"strokeAndAddPathForClipping":Yn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Yn=6;break;case 7:case"addToPathForClipping":Yn=7}var ti=Ol.usedRenderingMode!==void 0?Ol.usedRenderingMode:-1;Yn!==-1?Xs+=Yn+` Tr
`:ti!==-1&&(Xs+=`0 Tr
`),Yn!==-1&&(Ol.usedRenderingMode=Yn),xr=Ie.align||"left";var ri,_a=ue*xi,Bo=Rn.internal.pageSize.getWidth(),No=Yt[Dt];Tr=Ie.charSpace||Wa,zr=Ie.maxWidth||0,un=Object.assign({autoencode:!0,noBOM:!0},Ie.flags);var vi=[],Mi=function(Bn){return Rn.getStringUnitWidth(Bn,{font:No,charSpace:Tr,fontSize:ue,doKerning:!1})*ue/ca};if(Object.prototype.toString.call(j)==="[object Array]"){var qa;Ct=_o(j),xr!=="left"&&(ri=Ct.map(Mi));var ps,ni=0;if(xr==="right"){J-=ri[0],j=[],Ls=Ct.length;for(var $i=0;$i<Ls;$i++)$i===0?(ps=Aa(J),qa=Hs(ye)):(ps=ie(ni-ri[$i]),qa=-_a),j.push([Ct[$i],ps,qa]),ni=ri[$i]}else if(xr==="center"){J-=ri[0]/2,j=[],Ls=Ct.length;for(var Pi=0;Pi<Ls;Pi++)Pi===0?(ps=Aa(J),qa=Hs(ye)):(ps=ie((ni-ri[Pi])/2),qa=-_a),j.push([Ct[Pi],ps,qa]),ni=ri[Pi]}else if(xr==="left"){j=[],Ls=Ct.length;for(var Ql=0;Ql<Ls;Ql++)j.push(Ct[Ql])}else if(xr==="justify"&&No.encoding==="Identity-H"){j=[],Ls=Ct.length,zr=zr!==0?zr:Bo;for(var za=0,ws=0;ws<Ls;ws++)if(qa=ws===0?Hs(ye):-_a,ps=ws===0?Aa(J):za,ws<Ls-1){var Co=ie((zr-ri[ws])/(Ct[ws].split(" ").length-1)),Zi=Ct[ws].split(" ");j.push([Zi[0]+" ",ps,qa]),za=0;for(var Js=1;Js<Zi.length;Js++){var Us=(Mi(Zi[Js-1]+" "+Zi[Js])-Mi(Zi[Js]))*ca+Co;Js==Zi.length-1?j.push([Zi[Js],Us,0]):j.push([Zi[Js]+" ",Us,0]),za-=Us}}else j.push([Ct[ws],ps,qa]);j.push(["",za,0])}else{if(xr!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(j=[],Ls=Ct.length,zr=zr!==0?zr:Bo,ws=0;ws<Ls;ws++){qa=ws===0?Hs(ye):-_a,ps=ws===0?Aa(J):0;var Xi=Ct[ws].split(" ").length-1,Ko=Xi>0?(zr-ri[ws])/Xi:0;ws<Ls-1?vi.push(te(ie(Ko))):vi.push(0),j.push([Ct[ws],ps,qa])}}}(typeof Ie.R2L=="boolean"?Ie.R2L:gt)===!0&&(j=da(j,function(Bn,hn,Xn){return[Bn.split("").reverse().join(""),hn,Xn]})),ct={text:j,x:J,y:ye,options:Ie,mutex:{pdfEscape:jt,activeFontKey:Dt,fonts:Yt,activeFontSize:ue}},ut.publish("postProcessText",ct),j=ct.text,ys=ct.mutex.isHex||!1;var Eo=Yt[Dt].encoding;Eo!=="WinAnsiEncoding"&&Eo!=="StandardEncoding"||(j=da(j,function(Bn,hn,Xn){return[wo(Bn),hn,Xn]})),Ct=_o(j),j=[];for(var Hi,yi,Ia,Ji=Array.isArray(Ct[0])?1:0,ka="",Yi=function(Bn,hn,Xn){var ms="";return Xn instanceof It?(Xn=typeof Ie.angle=="number"?An(Xn,new It(1,0,0,1,Bn,hn)):An(new It(1,0,0,1,Bn,hn),Xn),H===D&&(Xn=An(new It(1,0,0,-1,0,0),Xn)),ms=Xn.join(" ")+` Tm
`):ms=te(Bn)+" "+te(hn)+` Td
`,ms},Ba=0;Ba<Ct.length;Ba++){switch(ka="",Ji){case 1:Ia=(ys?"<":"(")+Ct[Ba][0]+(ys?">":")"),Hi=parseFloat(Ct[Ba][1]),yi=parseFloat(Ct[Ba][2]);break;case 0:Ia=(ys?"<":"(")+Ct[Ba]+(ys?">":")"),Hi=Aa(J),yi=Hs(ye)}vi!==void 0&&vi[Ba]!==void 0&&(ka=vi[Ba]+` Tw
`),Ba===0?j.push(ka+Yi(Hi,yi,vs)+Ia):Ji===0?j.push(ka+Ia):Ji===1&&j.push(ka+Yi(Hi,yi,vs)+Ia)}j=Ji===0?j.join(` Tj
T* `):j.join(` Tj
`),j+=` Tj
`;var Ta=`BT
/`;return Ta+=Dt+" "+ue+` Tf
`,Ta+=te(ue*xi)+` TL
`,Ta+=Zn+`
`,Ta+=Xs,Ta+=j,fe(Ta+="ET"),B[Dt]=!0,Rn};var ve=w.__private__.clip=w.clip=function(j){return fe(j==="evenodd"?"W*":"W"),this};w.clipEvenOdd=function(){return ve("evenodd")},w.__private__.discardPath=w.discardPath=function(){return fe("n"),this};var He=w.__private__.isValidStyle=function(j){var J=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(j)!==-1&&(J=!0),J};w.__private__.setDefaultPathOperation=w.setDefaultPathOperation=function(j){return He(j)&&(m=j),this};var Qt=w.__private__.getStyle=w.getStyle=function(j){var J=m;switch(j){case"D":case"S":J="S";break;case"F":J="f";break;case"FD":case"DF":J="B";break;case"f":case"f*":case"B":case"B*":J=j}return J},Tt=w.close=function(){return fe("h"),this};w.stroke=function(){return fe("S"),this},w.fill=function(j){return dr("f",j),this},w.fillEvenOdd=function(j){return dr("f*",j),this},w.fillStroke=function(j){return dr("B",j),this},w.fillStrokeEvenOdd=function(j){return dr("B*",j),this};var dr=function(j,J){ns(J)==="object"?Lr(J,j):fe(j)},hr=function(j){j===null||H===D&&j===void 0||(j=Qt(j),fe(j))};function Rt(j,J,ye,Ie,Pe){var ct=new mu(J||this.boundingBox,ye||this.xStep,Ie||this.yStep,this.gState,Pe||this.matrix);ct.stream=this.stream;var Ct=j+"$$"+this.cloneIndex+++"$$";return pn(Ct,ct),ct}var Lr=function(j,J){var ye=Nr[j.key],Ie=Vt[ye];if(Ie instanceof Yc)fe("q"),fe(Mr(J)),Ie.gState&&w.setGState(Ie.gState),fe(j.matrix.toString()+" cm"),fe("/"+ye+" sh"),fe("Q");else if(Ie instanceof mu){var Pe=new It(1,0,0,-1,0,yo());j.matrix&&(Pe=Pe.multiply(j.matrix||wn),ye=Rt.call(Ie,j.key,j.boundingBox,j.xStep,j.yStep,Pe).id),fe("q"),fe("/Pattern cs"),fe("/"+ye+" scn"),Ie.gState&&w.setGState(Ie.gState),fe(J),fe("Q")}},Mr=function(j){switch(j){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},kn=w.moveTo=function(j,J){return fe(te(ie(j))+" "+te(z(J))+" m"),this},wa=w.lineTo=function(j,J){return fe(te(ie(j))+" "+te(z(J))+" l"),this},Hn=w.curveTo=function(j,J,ye,Ie,Pe,ct){return fe([te(ie(j)),te(z(J)),te(ie(ye)),te(z(Ie)),te(ie(Pe)),te(z(ct)),"c"].join(" ")),this};w.__private__.line=w.line=function(j,J,ye,Ie,Pe){if(isNaN(j)||isNaN(J)||isNaN(ye)||isNaN(Ie)||!He(Pe))throw new Error("Invalid arguments passed to jsPDF.line");return H===O?this.lines([[ye-j,Ie-J]],j,J,[1,1],Pe||"S"):this.lines([[ye-j,Ie-J]],j,J,[1,1]).stroke()},w.__private__.lines=w.lines=function(j,J,ye,Ie,Pe,ct){var Ct,fr,xr,Tr,zr,un,cs,vs,Rn,Ks,ys,Xs;if(typeof j=="number"&&(Xs=ye,ye=J,J=j,j=Xs),Ie=Ie||[1,1],ct=ct||!1,isNaN(J)||isNaN(ye)||!Array.isArray(j)||!Array.isArray(Ie)||!He(Pe)||typeof ct!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(kn(J,ye),Ct=Ie[0],fr=Ie[1],Tr=j.length,Ks=J,ys=ye,xr=0;xr<Tr;xr++)(zr=j[xr]).length===2?(Ks=zr[0]*Ct+Ks,ys=zr[1]*fr+ys,wa(Ks,ys)):(un=zr[0]*Ct+Ks,cs=zr[1]*fr+ys,vs=zr[2]*Ct+Ks,Rn=zr[3]*fr+ys,Ks=zr[4]*Ct+Ks,ys=zr[5]*fr+ys,Hn(un,cs,vs,Rn,Ks,ys));return ct&&Tt(),hr(Pe),this},w.path=function(j){for(var J=0;J<j.length;J++){var ye=j[J],Ie=ye.c;switch(ye.op){case"m":kn(Ie[0],Ie[1]);break;case"l":wa(Ie[0],Ie[1]);break;case"c":Hn.apply(this,Ie);break;case"h":Tt()}}return this},w.__private__.rect=w.rect=function(j,J,ye,Ie,Pe){if(isNaN(j)||isNaN(J)||isNaN(ye)||isNaN(Ie)||!He(Pe))throw new Error("Invalid arguments passed to jsPDF.rect");return H===O&&(Ie=-Ie),fe([te(ie(j)),te(z(J)),te(ie(ye)),te(ie(Ie)),"re"].join(" ")),hr(Pe),this},w.__private__.triangle=w.triangle=function(j,J,ye,Ie,Pe,ct,Ct){if(isNaN(j)||isNaN(J)||isNaN(ye)||isNaN(Ie)||isNaN(Pe)||isNaN(ct)||!He(Ct))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ye-j,Ie-J],[Pe-ye,ct-Ie],[j-Pe,J-ct]],j,J,[1,1],Ct,!0),this},w.__private__.roundedRect=w.roundedRect=function(j,J,ye,Ie,Pe,ct,Ct){if(isNaN(j)||isNaN(J)||isNaN(ye)||isNaN(Ie)||isNaN(Pe)||isNaN(ct)||!He(Ct))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var fr=4/3*(Math.SQRT2-1);return Pe=Math.min(Pe,.5*ye),ct=Math.min(ct,.5*Ie),this.lines([[ye-2*Pe,0],[Pe*fr,0,Pe,ct-ct*fr,Pe,ct],[0,Ie-2*ct],[0,ct*fr,-Pe*fr,ct,-Pe,ct],[2*Pe-ye,0],[-Pe*fr,0,-Pe,-ct*fr,-Pe,-ct],[0,2*ct-Ie],[0,-ct*fr,Pe*fr,-ct,Pe,-ct]],j+Pe,J,[1,1],Ct,!0),this},w.__private__.ellipse=w.ellipse=function(j,J,ye,Ie,Pe){if(isNaN(j)||isNaN(J)||isNaN(ye)||isNaN(Ie)||!He(Pe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ct=4/3*(Math.SQRT2-1)*ye,Ct=4/3*(Math.SQRT2-1)*Ie;return kn(j+ye,J),Hn(j+ye,J-Ct,j+ct,J-Ie,j,J-Ie),Hn(j-ct,J-Ie,j-ye,J-Ct,j-ye,J),Hn(j-ye,J+Ct,j-ct,J+Ie,j,J+Ie),Hn(j+ct,J+Ie,j+ye,J+Ct,j+ye,J),hr(Pe),this},w.__private__.circle=w.circle=function(j,J,ye,Ie){if(isNaN(j)||isNaN(J)||isNaN(ye)||!He(Ie))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(j,J,ye,ye,Ie)},w.setFont=function(j,J,ye){return ye&&(J=ne(J,ye)),Dt=Ot(j,J,{disableWarning:!1}),this};var Jr=w.__private__.getFont=w.getFont=function(){return Yt[Ot.apply(w,arguments)]};w.__private__.getFontList=w.getFontList=function(){var j,J,ye={};for(j in Xt)if(Xt.hasOwnProperty(j))for(J in ye[j]=[],Xt[j])Xt[j].hasOwnProperty(J)&&ye[j].push(J);return ye},w.addFont=function(j,J,ye,Ie,Pe){var ct=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ct.indexOf(arguments[3])!==-1?Pe=arguments[3]:arguments[3]&&ct.indexOf(arguments[3])==-1&&(ye=ne(ye,Ie)),At.call(this,j,J,ye,Pe=Pe||"Identity-H")};var js,Zs=t.lineWidth||.200025,Fi=w.__private__.getLineWidth=w.getLineWidth=function(){return Zs},Ut=w.__private__.setLineWidth=w.setLineWidth=function(j){return Zs=j,fe(te(ie(j))+" w"),this};w.__private__.setLineDash=Sr.API.setLineDash=Sr.API.setLineDashPattern=function(j,J){if(j=j||[],J=J||0,isNaN(J)||!Array.isArray(j))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return j=j.map(function(ye){return te(ie(ye))}).join(" "),J=te(ie(J)),fe("["+j+"] "+J+" d"),this};var La=w.__private__.getLineHeight=w.getLineHeight=function(){return ue*js};w.__private__.getLineHeight=w.getLineHeight=function(){return ue*js};var mn=w.__private__.setLineHeightFactor=w.setLineHeightFactor=function(j){return typeof(j=j||1.15)=="number"&&(js=j),this},bo=w.__private__.getLineHeightFactor=w.getLineHeightFactor=function(){return js};mn(t.lineHeight);var Aa=w.__private__.getHorizontalCoordinate=function(j){return ie(j)},Hs=w.__private__.getVerticalCoordinate=function(j){return H===D?j:ot[$].mediaBox.topRightY-ot[$].mediaBox.bottomLeftY-ie(j)},ll=w.__private__.getHorizontalCoordinateString=w.getHorizontalCoordinateString=function(j){return te(Aa(j))},Ya=w.__private__.getVerticalCoordinateString=w.getVerticalCoordinateString=function(j){return te(Hs(j))},Ua=t.strokeColor||"0 G";w.__private__.getStrokeColor=w.getDrawColor=function(){return Te(Ua)},w.__private__.setStrokeColor=w.setDrawColor=function(j,J,ye,Ie){return Ua=wt({ch1:j,ch2:J,ch3:ye,ch4:Ie,pdfColorType:"draw",precision:2}),fe(Ua),this};var Oi=t.fillColor||"0 g";w.__private__.getFillColor=w.getFillColor=function(){return Te(Oi)},w.__private__.setFillColor=w.setFillColor=function(j,J,ye,Ie){return Oi=wt({ch1:j,ch2:J,ch3:ye,ch4:Ie,pdfColorType:"fill",precision:2}),fe(Oi),this};var Zn=t.textColor||"0 g",Ki=w.__private__.getTextColor=w.getTextColor=function(){return Te(Zn)};w.__private__.setTextColor=w.setTextColor=function(j,J,ye,Ie){return Zn=wt({ch1:j,ch2:J,ch3:ye,ch4:Ie,pdfColorType:"text",precision:3}),this};var Wa=t.charSpace,Al=w.__private__.getCharSpace=w.getCharSpace=function(){return parseFloat(Wa||0)};w.__private__.setCharSpace=w.setCharSpace=function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Wa=j,this};var Fl=0;w.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},w.__private__.setLineCap=w.setLineCap=function(j){var J=w.CapJoinStyles[j];if(J===void 0)throw new Error("Line cap style of '"+j+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Fl=J,fe(J+" J"),this};var qs=0;w.__private__.setLineJoin=w.setLineJoin=function(j){var J=w.CapJoinStyles[j];if(J===void 0)throw new Error("Line join style of '"+j+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return qs=J,fe(J+" j"),this},w.__private__.setLineMiterLimit=w.__private__.setMiterLimit=w.setLineMiterLimit=w.setMiterLimit=function(j){if(j=j||0,isNaN(j))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return fe(te(ie(j))+" M"),this},w.GState=Qm,w.setGState=function(j){(j=typeof j=="string"?Pt[tr[j]]:mi(null,j)).equals(Ue)||(fe("/"+j.id+" gs"),Ue=j)};var mi=function(j,J){if(!j||!tr[j]){var ye=!1;for(var Ie in Pt)if(Pt.hasOwnProperty(Ie)&&Pt[Ie].equals(J)){ye=!0;break}if(ye)J=Pt[Ie];else{var Pe="GS"+(Object.keys(Pt).length+1).toString(10);Pt[Pe]=J,J.id=Pe}return j&&(tr[j]=J.id),ut.publish("addGState",J),J}};w.addGState=function(j,J){return mi(j,J),this},w.saveGraphicsState=function(){return fe("q"),ar.push({key:Dt,size:ue,color:Zn}),this},w.restoreGraphicsState=function(){fe("Q");var j=ar.pop();return Dt=j.key,ue=j.size,Zn=j.color,Ue=null,this},w.setCurrentTransformationMatrix=function(j){return fe(j.toString()+" cm"),this},w.comment=function(j){return fe("#"+j),this};var gi=function(j,J){var ye=j||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ye},set:function(ct){isNaN(ct)||(ye=parseFloat(ct))}});var Ie=J||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ie},set:function(ct){isNaN(ct)||(Ie=parseFloat(ct))}});var Pe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Pe},set:function(ct){Pe=ct.toString()}}),this},Vi=function(j,J,ye,Ie){gi.call(this,j,J),this.type="rect";var Pe=ye||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Pe},set:function(Ct){isNaN(Ct)||(Pe=parseFloat(Ct))}});var ct=Ie||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ct},set:function(Ct){isNaN(Ct)||(ct=parseFloat(Ct))}}),this},Yr=function(){this.page=Ke,this.currentPage=$,this.pages=Qe.slice(0),this.pagesContext=ot.slice(0),this.x=Zt,this.y=Hr,this.matrix=cr,this.width=ei($),this.height=uA($),this.outputDestination=lt,this.id="",this.objectNumber=-1};Yr.prototype.restore=function(){Ke=this.page,$=this.currentPage,ot=this.pagesContext,Qe=this.pages,Zt=this.x,Hr=this.y,cr=this.matrix,Ho($,this.width),Qi($,this.height),lt=this.outputDestination};var cl=function(j,J,ye,Ie,Pe){dn.push(new Yr),Ke=$=0,Qe=[],Zt=j,Hr=J,cr=Pe,Mt([ye,Ie])};for(var zs in w.beginFormObject=function(j,J,ye,Ie,Pe){return cl(j,J,ye,Ie,Pe),this},w.endFormObject=function(j){return(function(J){if(qr[J])dn.pop().restore();else{var ye=new Yr,Ie="Xo"+(Object.keys(or).length+1).toString(10);ye.id=Ie,qr[J]=Ie,or[Ie]=ye,ut.publish("addFormObject",ye),dn.pop().restore()}})(j),this},w.doFormObject=function(j,J){var ye=or[qr[j]];return fe("q"),fe(J.toString()+" cm"),fe("/"+ye.id+" Do"),fe("Q"),this},w.getFormObject=function(j){var J=or[qr[j]];return{x:J.x,y:J.y,width:J.width,height:J.height,matrix:J.matrix}},w.save=function(j,J){return j=j||"generated.pdf",(J=J||{}).returnPromise=J.returnPromise||!1,J.returnPromise===!1?(Zc(Br(fs()),j),typeof Zc.unload=="function"&&Vr.setTimeout&&setTimeout(Zc.unload,911),this):new Promise(function(ye,Ie){try{var Pe=Zc(Br(fs()),j);typeof Zc.unload=="function"&&Vr.setTimeout&&setTimeout(Zc.unload,911),ye(Pe)}catch(ct){Ie(ct.message)}})},Sr.API)Sr.API.hasOwnProperty(zs)&&(zs==="events"&&Sr.API.events.length?(function(j,J){var ye,Ie,Pe;for(Pe=J.length-1;Pe!==-1;Pe--)ye=J[Pe][0],Ie=J[Pe][1],j.subscribe.apply(j,[ye].concat(typeof Ie=="function"?[Ie]:Ie))})(ut,Sr.API.events):w[zs]=Sr.API[zs]);function ei(j){return ot[j].mediaBox.topRightX-ot[j].mediaBox.bottomLeftX}function Ho(j,J){ot[j].mediaBox.topRightX=J+ot[j].mediaBox.bottomLeftX}function uA(j){return ot[j].mediaBox.topRightY-ot[j].mediaBox.bottomLeftY}function Qi(j,J){ot[j].mediaBox.topRightY=J+ot[j].mediaBox.bottomLeftY}var vo=w.getPageWidth=function(j){return ei(j=j||$)/er},hA=w.setPageWidth=function(j,J){Ho(j,J*er)},yo=w.getPageHeight=function(j){return uA(j=j||$)/er},KA=w.setPageHeight=function(j,J){Qi(j,J*er)};return w.internal={pdfEscape:jt,getStyle:Qt,getFont:Jr,getFontSize:Ve,getCharSpace:Al,getTextColor:Ki,getLineHeight:La,getLineHeightFactor:bo,getLineWidth:Fi,write:ft,getHorizontalCoordinate:Aa,getVerticalCoordinate:Hs,getCoordinateString:ll,getVerticalCoordinateString:Ya,collections:{},newObject:Pr,newAdditionalObject:Ms,newObjectDeferred:Ft,newObjectDeferredBegin:Fn,getFilters:qt,putStream:mr,events:ut,scaleFactor:er,pageSize:{getWidth:function(){return vo($)},setWidth:function(j){hA($,j)},getHeight:function(){return yo($)},setHeight:function(j){KA($,j)}},encryptionOptions:g,encryption:Qn,getEncryptor:function(j){return g!==null?Qn.encryptor(j,0):function(J){return J}},output:rn,getNumberOfPages:nt,get pages(){return Qe},out:fe,f2:K,f3:W,getPageInfo:on,getPageInfoByObjId:pi,getCurrentPageInfo:Ja,getPDFVersion:U,Point:gi,Rectangle:Vi,Matrix:It,hasHotfix:$n},Object.defineProperty(w.internal.pageSize,"width",{get:function(){return vo($)},set:function(j){hA($,j)},enumerable:!0,configurable:!0}),Object.defineProperty(w.internal.pageSize,"height",{get:function(){return yo($)},set:function(j){KA($,j)},enumerable:!0,configurable:!0}),(function(j){for(var J=0,ye=st.length;J<ye;J++){var Ie=At.call(this,j[J][0],j[J][1],j[J][2],st[J][3],!0);b===!1&&(B[Ie]=!0);var Pe=j[J][0].split("-");$e({id:Ie,fontName:Pe[0],fontStyle:Pe[1]||""})}ut.publish("addFonts",{fonts:Yt,dictionary:Xt})}).call(w,st),Dt="F1",Z(i,r),ut.publish("initialized"),w}cu.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},cu.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},cu.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},cu.prototype.processOwnerPassword=function(t,e){return qb(Hb(e).substr(0,5),t)},cu.prototype.encryptor=function(t,e){var r=Hb(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return qb(r,n)}},Qm.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||ns(t)!==ns(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},Sr.API={events:[]},Sr.version="3.0.4";var aa=Sr.API,Ov=1,gd=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Jd=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Zr=function(t){return t.toFixed(2)},pc=function(t){return t.toFixed(5)};aa.__acroform__={};var xo=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},k_=function(t){return t*Ov},aA=function(t){var e=new LC,r=_r.internal.getHeight(t)||0,n=_r.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Zr(n)),Number(Zr(r))],e},rQ=aa.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},nQ=aa.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},sQ=aa.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},ba=aa.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return sQ(t,e-1)},va=aa.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return rQ(t,e-1)},ya=aa.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return nQ(t,e-1)},aQ=aa.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=t[0],l=t[1],d=t[2],u=t[3],h={};return h.lowerLeft_X=r(i)||0,h.lowerLeft_Y=n(l+u)||0,h.upperRight_X=r(i+d)||0,h.upperRight_Y=n(l)||0,[Number(Zr(h.lowerLeft_X)),Number(Zr(h.lowerLeft_Y)),Number(Zr(h.upperRight_X)),Number(Zr(h.upperRight_Y))]},iQ=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=zb(t,r),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+Zr(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var l=aA(t);return l.scope=t.scope,l.stream=e.join(`
`),l}},zb=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(K){return K.split(`
`)}):i.map(function(K){return[K]});var l=r,d=_r.internal.getHeight(t)||0;d=d<0?-d:d;var u=_r.internal.getWidth(t)||0;u=u<0?-u:u;var h=function(K,W,ie){if(K+1<i.length){var z=W+" "+i[K+1][0];return Mp(z,t,ie).width<=u-4}return!1};l++;e:for(;l>0;){e="",l--;var m,g,b=Mp("3",t,l).height,B=t.multiline?d-l:(d-b)/2,w=B+=2,S=0,U=0,k=0;if(l<=0){e=`(...) Tj
`,e+="% Width of Text: "+Mp(e,t,l=12).width+", FieldWidth:"+u+`
`;break}for(var C="",O=0,D=0;D<i.length;D++)if(i.hasOwnProperty(D)){var H=!1;if(i[D].length!==1&&k!==i[D].length-1){if((b+2)*(O+2)+2>d)continue e;C+=i[D][k],H=!0,U=D,D--}else{C=(C+=i[D][k]+" ").substr(C.length-1)==" "?C.substr(0,C.length-1):C;var re=parseInt(D),q=h(re,C,l),ne=D>=i.length-1;if(q&&!ne){C+=" ",k=0;continue}if(q||ne){if(ne)U=re;else if(t.multiline&&(b+2)*(O+2)+2>d)continue e}else{if(!t.multiline||(b+2)*(O+2)+2>d)continue e;U=re}}for(var te="",G=S;G<=U;G++){var de=i[G];if(t.multiline){if(G===U){te+=de[k]+" ",k=(k+1)%de.length;continue}if(G===S){te+=de[de.length-1]+" ";continue}}te+=de[0]+" "}switch(te=te.substr(te.length-1)==" "?te.substr(0,te.length-1):te,g=Mp(te,t,l).width,t.textAlign){case"right":m=u-g-2;break;case"center":m=(u-g)/2;break;default:m=2}e+=Zr(m)+" "+Zr(w)+` Td
`,e+="("+gd(te)+`) Tj
`,e+=-Zr(m)+` 0 Td
`,w=-(l+2),g=0,S=H?U:U+1,O++,C=""}break}return n.text=e,n.fontSize=l,n},Mp=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},oQ={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},lQ=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},AQ=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Il.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(oQ)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Ov=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new UC,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var l=n[i];l.objId=void 0,l.hasAnnotation&&lQ(l,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,i){var l=!n;for(var d in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(d)){var u=n[d],h=[],m=u.Rect;if(u.Rect&&(u.Rect=aQ(u.Rect,i)),i.internal.newObjectDeferredBegin(u.objId,!0),u.DA=_r.createDefaultAppearanceStream(u),ns(u)==="object"&&typeof u.getKeyValueListForStream=="function"&&(h=u.getKeyValueListForStream()),u.Rect=m,u.hasAppearanceStream&&!u.appearanceStreamContent){var g=iQ(u);h.push({key:"AP",value:"<</N "+g+">>"}),i.internal.acroformPlugin.xForms.push(g)}if(u.appearanceStreamContent){var b="";for(var B in u.appearanceStreamContent)if(u.appearanceStreamContent.hasOwnProperty(B)){var w=u.appearanceStreamContent[B];if(b+="/"+B+" ",b+="<<",Object.keys(w).length>=1||Array.isArray(w)){for(var d in w)if(w.hasOwnProperty(d)){var S=w[d];typeof S=="function"&&(S=S.call(i,u)),b+="/"+d+" "+S+" ",i.internal.acroformPlugin.xForms.indexOf(S)>=0||i.internal.acroformPlugin.xForms.push(S)}}else typeof(S=w)=="function"&&(S=S.call(i,u)),b+="/"+d+" "+S,i.internal.acroformPlugin.xForms.indexOf(S)>=0||i.internal.acroformPlugin.xForms.push(S);b+=">>"}h.push({key:"AP",value:`<<
`+b+">>"})}i.internal.putStream({additionalKeyValues:h,objectId:u.objId}),i.internal.out("endobj")}l&&(function(U,k){for(var C in U)if(U.hasOwnProperty(C)){var O=C,D=U[C];k.internal.newObjectDeferredBegin(D.objId,!0),ns(D)==="object"&&typeof D.putStream=="function"&&D.putStream(),delete U[O]}})(i.internal.acroformPlugin.xForms,i)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},jC=aa.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(d){return d};if(Array.isArray(t)){for(var i="[",l=0;l<t.length;l++)switch(l!==0&&(i+=" "),ns(t[l])){case"boolean":case"number":case"object":i+=t[l].toString();break;case"string":t[l].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),i+="("+gd(n(t[l].toString()))+")"):i+=t[l].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Nx=function(t,e,r){var n=function(i){return i};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),"("+gd(n(t))+")"},iA=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};iA.prototype.toString=function(){return this.objId+" 0 R"},iA.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},iA.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(l){return l!="content"&&l!="appearanceStreamContent"&&l!="scope"&&l!="objId"&&l.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],i=this[n];i&&(Array.isArray(i)?t.push({key:n,value:jC(i,this.objId,this.scope)}):i instanceof iA?(i.scope=this.scope,t.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:n,value:i}))}return t};var LC=function(){iA.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};xo(LC,iA);var UC=function(){iA.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+gd(r(t))+")"}},set:function(r){t=r}})};xo(UC,iA);var Il=function t(){iA.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(C){if(isNaN(C))throw new Error('Invalid value "'+C+'" for attribute F supplied.');e=C}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ba(e,3)},set:function(C){C?this.F=va(e,3):this.F=ya(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(C){if(isNaN(C))throw new Error('Invalid value "'+C+'" for attribute Ff supplied.');r=C}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(C){n=C!==void 0?C:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(C){n[0]=C}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(C){n[1]=C}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(C){n[2]=C}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(C){n[3]=C}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(C){switch(C){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=C;break;default:throw new Error('Invalid value "'+C+'" for attribute FT supplied.')}}});var l=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!l||l.length<1){if(this instanceof Rm)return;l="FieldObject"+t.FieldNum++}var C=function(O){return O};return this.scope&&(C=this.scope.internal.getEncryptor(this.objId)),"("+gd(C(l))+")"},set:function(C){l=C.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return l},set:function(C){l=C}});var d="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return d},set:function(C){d=C}});var u="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return u},set:function(C){u=C}});var h=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return h},set:function(C){h=C}});var m=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return m===void 0?50/Ov:m},set:function(C){m=C}});var g="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return g},set:function(C){g=C}});var b="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!b||this instanceof Rm||this instanceof cd))return Nx(b,this.objId,this.scope)},set:function(C){C=C.toString(),b=C}});var B=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(B)return this instanceof Za==0?Nx(B,this.objId,this.scope):B},set:function(C){C=C.toString(),B=this instanceof Za==0?C.substr(0,1)==="("?Jd(C.substr(1,C.length-2)):Jd(C):C}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Za==1?Jd(B.substr(1,B.length-1)):B},set:function(C){C=C.toString(),B=this instanceof Za==1?"/"+C:C}});var w=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(w)return w},set:function(C){this.V=C}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(w)return this instanceof Za==0?Nx(w,this.objId,this.scope):w},set:function(C){C=C.toString(),w=this instanceof Za==0?C.substr(0,1)==="("?Jd(C.substr(1,C.length-2)):Jd(C):C}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Za==1?Jd(w.substr(1,w.length-1)):w},set:function(C){C=C.toString(),w=this instanceof Za==1?"/"+C:C}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var S,U=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return U},set:function(C){C=!!C,U=C}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(S)return S},set:function(C){S=C}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ba(this.Ff,1)},set:function(C){C?this.Ff=va(this.Ff,1):this.Ff=ya(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ba(this.Ff,2)},set:function(C){C?this.Ff=va(this.Ff,2):this.Ff=ya(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ba(this.Ff,3)},set:function(C){C?this.Ff=va(this.Ff,3):this.Ff=ya(this.Ff,3)}});var k=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(k!==null)return k},set:function(C){if([0,1,2].indexOf(C)===-1)throw new Error('Invalid value "'+C+'" for attribute Q supplied.');k=C}}),Object.defineProperty(this,"textAlign",{get:function(){var C;switch(k){case 0:default:C="left";break;case 1:C="center";break;case 2:C="right"}return C},configurable:!0,enumerable:!0,set:function(C){switch(C){case"right":case 2:k=2;break;case"center":case 1:k=1;break;default:k=0}}})};xo(Il,iA);var bu=function(){Il.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return jC(e,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=(function(l,d,u){u||(u=1);for(var h,m=[];h=d.exec(l);)m.push(h[u]);return m})(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ba(this.Ff,18)},set:function(r){r?this.Ff=va(this.Ff,18):this.Ff=ya(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ba(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=va(this.Ff,19):this.Ff=ya(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ba(this.Ff,20)},set:function(r){r?(this.Ff=va(this.Ff,20),e.sort()):this.Ff=ya(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ba(this.Ff,22)},set:function(r){r?this.Ff=va(this.Ff,22):this.Ff=ya(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ba(this.Ff,23)},set:function(r){r?this.Ff=va(this.Ff,23):this.Ff=ya(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ba(this.Ff,27)},set:function(r){r?this.Ff=va(this.Ff,27):this.Ff=ya(this.Ff,27)}}),this.hasAppearanceStream=!1};xo(bu,Il);var vu=function(){bu.call(this),this.fontName="helvetica",this.combo=!1};xo(vu,bu);var yu=function(){vu.call(this),this.combo=!0};xo(yu,vu);var dm=function(){yu.call(this),this.edit=!0};xo(dm,yu);var Za=function(){Il.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ba(this.Ff,15)},set:function(r){r?this.Ff=va(this.Ff,15):this.Ff=ya(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ba(this.Ff,16)},set:function(r){r?this.Ff=va(this.Ff,16):this.Ff=ya(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ba(this.Ff,17)},set:function(r){r?this.Ff=va(this.Ff,17):this.Ff=ya(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ba(this.Ff,26)},set:function(r){r?this.Ff=va(this.Ff,26):this.Ff=ya(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(l){return l};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+gd(r(e[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){ns(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};xo(Za,Il);var um=function(){Za.call(this),this.pushButton=!0};xo(um,Za);var wu=function(){Za.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};xo(wu,Za);var Rm=function(){var t,e;Il.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(u){return u};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var l,d=[];for(l in d.push("<<"),n)d.push("/"+l+" ("+gd(i(n[l]))+")");return d.push(">>"),d.join(`
`)},set:function(i){ns(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=_r.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};xo(Rm,Il),wu.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},wu.prototype.createOption=function(t){var e=new Rm;return e.Parent=this,e.optionName=t,this.Kids.push(e),cQ.call(this.scope,e),e};var hm=function(){Za.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=_r.CheckBox.createAppearanceStream()};xo(hm,Za);var cd=function(){Il.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ba(this.Ff,13)},set:function(e){e?this.Ff=va(this.Ff,13):this.Ff=ya(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ba(this.Ff,21)},set:function(e){e?this.Ff=va(this.Ff,21):this.Ff=ya(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ba(this.Ff,23)},set:function(e){e?this.Ff=va(this.Ff,23):this.Ff=ya(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ba(this.Ff,24)},set:function(e){e?this.Ff=va(this.Ff,24):this.Ff=ya(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ba(this.Ff,25)},set:function(e){e?this.Ff=va(this.Ff,25):this.Ff=ya(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ba(this.Ff,26)},set:function(e){e?this.Ff=va(this.Ff,26):this.Ff=ya(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};xo(cd,Il);var fm=function(){cd.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ba(this.Ff,14)},set:function(t){t?this.Ff=va(this.Ff,14):this.Ff=ya(this.Ff,14)}}),this.password=!0};xo(fm,cd);var _r={CheckBox:{createAppearanceStream:function(){return{N:{On:_r.CheckBox.YesNormal},D:{On:_r.CheckBox.YesPushDown,Off:_r.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=aA(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),l=zb(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+Zr(_r.internal.getWidth(t))+" "+Zr(_r.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Zr(l.fontSize)+" Tf "+i),r.push("BT"),r.push(l.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=aA(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),i=[],l=_r.internal.getHeight(t),d=_r.internal.getWidth(t),u=zb(t,t.caption);return i.push("1 g"),i.push("0 0 "+Zr(d)+" "+Zr(l)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Zr(d-1)+" "+Zr(l-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+Zr(u.fontSize)+" Tf "+n),i.push(u.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=aA(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Zr(_r.internal.getWidth(t))+" "+Zr(_r.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:_r.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=_r.RadioButton.Circle.YesNormal,e.D[t]=_r.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=aA(t);e.scope=t.scope;var r=[],n=_r.internal.getWidth(t)<=_r.internal.getHeight(t)?_r.internal.getWidth(t)/4:_r.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=_r.internal.Bezier_C,l=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+pc(_r.internal.getWidth(t)/2)+" "+pc(_r.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+l+" "+l+" "+n+" 0 "+n+" c"),r.push("-"+l+" "+n+" -"+n+" "+l+" -"+n+" 0 c"),r.push("-"+n+" -"+l+" -"+l+" -"+n+" 0 -"+n+" c"),r.push(l+" -"+n+" "+n+" -"+l+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=aA(t);e.scope=t.scope;var r=[],n=_r.internal.getWidth(t)<=_r.internal.getHeight(t)?_r.internal.getWidth(t)/4:_r.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),l=Number((i*_r.internal.Bezier_C).toFixed(5)),d=Number((n*_r.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+pc(_r.internal.getWidth(t)/2)+" "+pc(_r.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+l+" "+l+" "+i+" 0 "+i+" c"),r.push("-"+l+" "+i+" -"+i+" "+l+" -"+i+" 0 c"),r.push("-"+i+" -"+l+" -"+l+" -"+i+" 0 -"+i+" c"),r.push(l+" -"+i+" "+i+" -"+l+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+pc(_r.internal.getWidth(t)/2)+" "+pc(_r.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+d+" "+d+" "+n+" 0 "+n+" c"),r.push("-"+d+" "+n+" -"+n+" "+d+" -"+n+" 0 c"),r.push("-"+n+" -"+d+" -"+d+" -"+n+" 0 -"+n+" c"),r.push(d+" -"+n+" "+n+" -"+d+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=aA(t);e.scope=t.scope;var r=[],n=_r.internal.getWidth(t)<=_r.internal.getHeight(t)?_r.internal.getWidth(t)/4:_r.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),l=Number((i*_r.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+pc(_r.internal.getWidth(t)/2)+" "+pc(_r.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+l+" "+l+" "+i+" 0 "+i+" c"),r.push("-"+l+" "+i+" -"+i+" "+l+" -"+i+" 0 c"),r.push("-"+i+" -"+l+" -"+l+" -"+i+" 0 -"+i+" c"),r.push(l+" -"+i+" "+i+" -"+l+" "+i+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:_r.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=_r.RadioButton.Cross.YesNormal,e.D[t]=_r.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=aA(t);e.scope=t.scope;var r=[],n=_r.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+Zr(_r.internal.getWidth(t)-2)+" "+Zr(_r.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Zr(n.x1.x)+" "+Zr(n.x1.y)+" m"),r.push(Zr(n.x2.x)+" "+Zr(n.x2.y)+" l"),r.push(Zr(n.x4.x)+" "+Zr(n.x4.y)+" m"),r.push(Zr(n.x3.x)+" "+Zr(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=aA(t);e.scope=t.scope;var r=_r.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+Zr(_r.internal.getWidth(t))+" "+Zr(_r.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Zr(_r.internal.getWidth(t)-2)+" "+Zr(_r.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Zr(r.x1.x)+" "+Zr(r.x1.y)+" m"),n.push(Zr(r.x2.x)+" "+Zr(r.x2.y)+" l"),n.push(Zr(r.x4.x)+" "+Zr(r.x4.y)+" m"),n.push(Zr(r.x3.x)+" "+Zr(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=aA(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Zr(_r.internal.getWidth(t))+" "+Zr(_r.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};_r.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=_r.internal.getWidth(t),r=_r.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},_r.internal.getWidth=function(t){var e=0;return ns(t)==="object"&&(e=k_(t.Rect[2])),e},_r.internal.getHeight=function(t){var e=0;return ns(t)==="object"&&(e=k_(t.Rect[3])),e};var cQ=aa.addField=function(t){if(AQ(this,t),!(t instanceof Il))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};aa.AcroFormChoiceField=bu,aa.AcroFormListBox=vu,aa.AcroFormComboBox=yu,aa.AcroFormEditBox=dm,aa.AcroFormButton=Za,aa.AcroFormPushButton=um,aa.AcroFormRadioButton=wu,aa.AcroFormCheckBox=hm,aa.AcroFormTextField=cd,aa.AcroFormPasswordField=fm,aa.AcroFormAppearance=_r,aa.AcroForm={ChoiceField:bu,ListBox:vu,ComboBox:yu,EditBox:dm,Button:Za,PushButton:um,RadioButton:wu,CheckBox:hm,TextField:cd,PasswordField:fm,Appearance:_r},Sr.AcroForm={ChoiceField:bu,ListBox:vu,ComboBox:yu,EditBox:dm,Button:Za,PushButton:um,RadioButton:wu,CheckBox:hm,TextField:cd,PasswordField:fm,Appearance:_r};Sr.AcroForm;function IC(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){var e="addImage_";t.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(K,W){var ie,z,he,V,me,ee=r;if((W=W||r)==="RGBA"||K.data!==void 0&&K.data instanceof Uint8ClampedArray&&"height"in K&&"width"in K)return"RGBA";if(q(K))for(me in n)for(he=n[me],ie=0;ie<he.length;ie+=1){for(V=!0,z=0;z<he[ie].length;z+=1)if(he[ie][z]!==void 0&&he[ie][z]!==K[z]){V=!1;break}if(V===!0){ee=me;break}}else for(me in n)for(he=n[me],ie=0;ie<he.length;ie+=1){for(V=!0,z=0;z<he[ie].length;z+=1)if(he[ie][z]!==void 0&&he[ie][z]!==K.charCodeAt(z)){V=!1;break}if(V===!0){ee=me;break}}return ee===r&&W!==r&&(ee=W),ee},l=function K(W){for(var ie=this.internal.write,z=this.internal.putStream,he=(0,this.internal.getFilters)();he.indexOf("FlateEncode")!==-1;)he.splice(he.indexOf("FlateEncode"),1);W.objectId=this.internal.newObject();var V=[];if(V.push({key:"Type",value:"/XObject"}),V.push({key:"Subtype",value:"/Image"}),V.push({key:"Width",value:W.width}),V.push({key:"Height",value:W.height}),W.colorSpace===C.INDEXED?V.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(W.palette.length/3-1)+" "+("sMask"in W&&W.sMask!==void 0?W.objectId+2:W.objectId+1)+" 0 R]"}):(V.push({key:"ColorSpace",value:"/"+W.colorSpace}),W.colorSpace===C.DEVICE_CMYK&&V.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),V.push({key:"BitsPerComponent",value:W.bitsPerComponent}),"decodeParameters"in W&&W.decodeParameters!==void 0&&V.push({key:"DecodeParms",value:"<<"+W.decodeParameters+">>"}),"transparency"in W&&Array.isArray(W.transparency)&&W.transparency.length>0){for(var me="",ee=0,Ce=W.transparency.length;ee<Ce;ee++)me+=W.transparency[ee]+" "+W.transparency[ee]+" ";V.push({key:"Mask",value:"["+me+"]"})}W.sMask!==void 0&&V.push({key:"SMask",value:W.objectId+1+" 0 R"});var Ne=W.filter!==void 0?["/"+W.filter]:void 0;if(z({data:W.data,additionalKeyValues:V,alreadyAppliedFilters:Ne,objectId:W.objectId}),ie("endobj"),"sMask"in W&&W.sMask!==void 0){var M,T=(M=W.sMaskBitsPerComponent)!==null&&M!==void 0?M:W.bitsPerComponent,$={width:W.width,height:W.height,colorSpace:"DeviceGray",bitsPerComponent:T,data:W.sMask};"filter"in W&&($.decodeParameters="/Predictor ".concat(W.predictor," /Colors 1 /BitsPerComponent ").concat(T," /Columns ").concat(W.width),$.filter=W.filter),K.call(this,$)}if(W.colorSpace===C.INDEXED){var X=this.internal.newObject();z({data:te(new Uint8Array(W.palette)),objectId:X}),ie("endobj")}},d=function(){var K=this.internal.collections[e+"images"];for(var W in K)l.call(this,K[W])},u=function(){var K,W=this.internal.collections[e+"images"],ie=this.internal.write;for(var z in W)ie("/I"+(K=W[z]).index,K.objectId,"0","R")},h=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",d),this.internal.events.subscribe("putXobjectDict",u))},m=function(){var K=this.internal.collections[e+"images"];return h.call(this),K},g=function(){return Object.keys(this.internal.collections[e+"images"]).length},b=function(K){return typeof t["process"+K.toUpperCase()]=="function"},B=function(K){return ns(K)==="object"&&K.nodeType===1},w=function(K,W){if(K.nodeName==="IMG"&&K.hasAttribute("src")){var ie=""+K.getAttribute("src");if(ie.indexOf("data:image/")===0)return cm(unescape(ie).split("base64,").pop());var z=t.loadFile(ie,!0);if(z!==void 0)return z}if(K.nodeName==="CANVAS"){if(K.width===0||K.height===0)throw new Error("Given canvas must have data. Canvas width: "+K.width+", height: "+K.height);var he;switch(W){case"PNG":he="image/png";break;case"WEBP":he="image/webp";break;default:he="image/jpeg"}return cm(K.toDataURL(he,1).split("base64,").pop())}},S=function(K){var W=this.internal.collections[e+"images"];if(W){for(var ie in W)if(K===W[ie].alias)return W[ie]}},U=function(K,W,ie){return K||W||(K=-96,W=-96),K<0&&(K=-1*ie.width*72/K/this.internal.scaleFactor),W<0&&(W=-1*ie.height*72/W/this.internal.scaleFactor),K===0&&(K=W*ie.width/ie.height),W===0&&(W=K*ie.height/ie.width),[K,W]},k=function(K,W,ie,z,he,V){var me=U.call(this,ie,z,he),ee=this.internal.getCoordinateString,Ce=this.internal.getVerticalCoordinateString,Ne=m.call(this);if(ie=me[0],z=me[1],Ne[he.index]=he,V){V*=Math.PI/180;var M=Math.cos(V),T=Math.sin(V),$=function(Ae){return Ae.toFixed(4)},X=[$(M),$(T),$(-1*T),$(M),0,0,"cm"]}this.internal.write("q"),V?(this.internal.write([1,"0","0",1,ee(K),Ce(W+z),"cm"].join(" ")),this.internal.write(X.join(" ")),this.internal.write([ee(ie),"0","0",ee(z),"0","0","cm"].join(" "))):this.internal.write([ee(ie),"0","0",ee(z),ee(K),Ce(W+z),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+he.index+" Do"),this.internal.write("Q")},C=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var O=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},D=t.__addimage__.sHashCode=function(K){var W,ie,z=0;if(typeof K=="string")for(ie=K.length,W=0;W<ie;W++)z=(z<<5)-z+K.charCodeAt(W),z|=0;else if(q(K))for(ie=K.byteLength/2,W=0;W<ie;W++)z=(z<<5)-z+K[W],z|=0;return z},H=t.__addimage__.validateStringAsBase64=function(K){(K=K||"").toString().trim();var W=!0;return K.length===0&&(W=!1),K.length%4!=0&&(W=!1),/^[A-Za-z0-9+/]+$/.test(K.substr(0,K.length-2))===!1&&(W=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(K.substr(-2))===!1&&(W=!1),W},re=t.__addimage__.extractImageFromDataUrl=function(K){if(K==null||!(K=K.trim()).startsWith("data:"))return null;var W=K.indexOf(",");return W<0?null:K.substring(0,W).trim().endsWith("base64")?K.substring(W+1):null};t.__addimage__.isArrayBuffer=function(K){return K instanceof ArrayBuffer};var q=t.__addimage__.isArrayBufferView=function(K){return K instanceof Int8Array||K instanceof Uint8Array||K instanceof Uint8ClampedArray||K instanceof Int16Array||K instanceof Uint16Array||K instanceof Int32Array||K instanceof Uint32Array||K instanceof Float32Array||K instanceof Float64Array},ne=t.__addimage__.binaryStringToUint8Array=function(K){for(var W=K.length,ie=new Uint8Array(W),z=0;z<W;z++)ie[z]=K.charCodeAt(z);return ie},te=t.__addimage__.arrayBufferToBinaryString=function(K){for(var W="",ie=q(K)?K:new Uint8Array(K),z=0;z<ie.length;z+=8192)W+=String.fromCharCode.apply(null,ie.subarray(z,z+8192));return W};t.addImage=function(){var K,W,ie,z,he,V,me,ee,Ce;if(typeof arguments[1]=="number"?(W=r,ie=arguments[1],z=arguments[2],he=arguments[3],V=arguments[4],me=arguments[5],ee=arguments[6],Ce=arguments[7]):(W=arguments[1],ie=arguments[2],z=arguments[3],he=arguments[4],V=arguments[5],me=arguments[6],ee=arguments[7],Ce=arguments[8]),ns(K=arguments[0])==="object"&&!B(K)&&"imageData"in K){var Ne=K;K=Ne.imageData,W=Ne.format||W||r,ie=Ne.x||ie||0,z=Ne.y||z||0,he=Ne.w||Ne.width||he,V=Ne.h||Ne.height||V,me=Ne.alias||me,ee=Ne.compression||ee,Ce=Ne.rotation||Ne.angle||Ce}var M=this.internal.getFilters();if(ee===void 0&&M.indexOf("FlateEncode")!==-1&&(ee="SLOW"),isNaN(ie)||isNaN(z))throw new Error("Invalid coordinates passed to jsPDF.addImage");h.call(this);var T=G.call(this,K,W,me,ee);return k.call(this,ie,z,he,V,T,Ce),this};var G=function(K,W,ie,z){var he,V,me;if(typeof K=="string"&&i(K)===r){K=unescape(K);var ee=de(K,!1);(ee!==""||(ee=t.loadFile(K,!0))!==void 0)&&(K=ee)}if(B(K)&&(K=w(K,W)),W=i(K,W),!b(W))throw new Error("addImage does not support files of type '"+W+"', please ensure that a plugin for '"+W+"' support is added.");if(((me=ie)==null||me.length===0)&&(ie=(function(Ce){return typeof Ce=="string"||q(Ce)?D(Ce):q(Ce.data)?D(Ce.data):null})(K)),(he=S.call(this,ie))||(K instanceof Uint8Array||W==="RGBA"||(V=K,K=ne(K)),he=this["process"+W.toUpperCase()](K,g.call(this),ie,(function(Ce){return Ce&&typeof Ce=="string"&&(Ce=Ce.toUpperCase()),Ce in t.image_compression?Ce:O.NONE})(z),V)),!he)throw new Error("An unknown error occurred whilst processing the image.");return he},de=t.__addimage__.convertBase64ToBinaryString=function(K,W){W=typeof W!="boolean"||W;var ie,z="";if(typeof K=="string"){var he;ie=(he=re(K))!==null&&he!==void 0?he:K;try{z=cm(ie)}catch(V){if(W)throw H(ie)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+V.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return z};t.getImageProperties=function(K){var W,ie,z="";if(B(K)&&(K=w(K)),typeof K=="string"&&i(K)===r&&((z=de(K,!1))===""&&(z=t.loadFile(K)||""),K=z),ie=i(K),!b(ie))throw new Error("addImage does not support files of type '"+ie+"', please ensure that a plugin for '"+ie+"' support is added.");if(K instanceof Uint8Array||(K=ne(K)),!(W=this["process"+ie.toUpperCase()](K)))throw new Error("An unknown error occurred whilst processing the image");return W.fileType=ie,W}})(Sr.API),(function(t){var e=function(r){if(r!==void 0&&r!="")return!0};Sr.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,i,l,d=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString,h=this.internal.getPageInfoByObjId(r.objId),m=r.pageContext.annotations,g=!1,b=0;b<m.length&&!g;b++)switch((n=m[b]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(g=!0);break;case"reference":case"text":case"freetext":g=!0}if(g!=0){this.internal.write("/Annots [");for(var B=0;B<m.length;B++){n=m[B];var w=this.internal.pdfEscape,S=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var U=this.internal.newAdditionalObject(),k=this.internal.newAdditionalObject(),C=this.internal.getEncryptor(U.objId),O=n.title||"Note";l="<</Type /Annot /Subtype /Text "+(i="/Rect ["+d(n.bounds.x)+" "+u(n.bounds.y+n.bounds.h)+" "+d(n.bounds.x+n.bounds.w)+" "+u(n.bounds.y)+"] ")+"/Contents ("+w(C(n.contents))+")",l+=" /Popup "+k.objId+" 0 R",l+=" /P "+h.objId+" 0 R",l+=" /T ("+w(C(O))+") >>",U.content=l;var D=U.objId+" 0 R";l="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+d(n.bounds.x+30)+" "+u(n.bounds.y+n.bounds.h)+" "+d(n.bounds.x+n.bounds.w+30)+" "+u(n.bounds.y)+"] ")+" /Parent "+D,n.open&&(l+=" /Open true"),l+=" >>",k.content=l,this.internal.write(U.objId,"0 R",k.objId,"0 R");break;case"freetext":i="/Rect ["+d(n.bounds.x)+" "+u(n.bounds.y)+" "+d(n.bounds.x+n.bounds.w)+" "+u(n.bounds.y+n.bounds.h)+"] ";var H=n.color||"#000000";l="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+w(S(n.contents))+")",l+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+H+")",l+=" /Border [0 0 0]",l+=" >>",this.internal.write(l);break;case"link":if(n.options.name){var re=this.annotations._nameMap[n.options.name];n.options.pageNumber=re.page,n.options.top=re.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",l="",n.options.url)l="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+w(S(n.options.url))+") >>";else if(n.options.pageNumber)switch(l="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":l+=" /Fit]";break;case"FitH":l+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,l+=" /FitV "+n.options.left+"]";break;default:var q=u(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),l+=" /XYZ "+n.options.left+" "+q+" "+n.options.zoom+"]"}l!=""&&(l+=" >>",this.internal.write(l))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,i,l,d){var u=this.internal.getCurrentPageInfo(),h=this.internal.getCoordinateString,m=this.internal.getVerticalCoordinateString;u.pageContext.annotations.push({finalBounds:{x:h(r),y:m(n),w:h(r+i),h:m(n+l)},options:d,type:"link"})},t.textWithLink=function(r,n,i,l){var d,u,h=this.getTextWidth(r),m=this.internal.getLineHeight()/this.internal.scaleFactor;if(l.maxWidth!==void 0){u=l.maxWidth;var g=this.splitTextToSize(r,u).length;d=Math.ceil(m*g)}else u=h,d=m;return this.text(r,n,i,l),i+=.2*m,l.align==="center"&&(n-=h/2),l.align==="right"&&(n-=h),this.link(n,i-m,u,d,l),h},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}})(Sr.API),(function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var l=t.__arabicParser__.isInArabicSubstitutionA=function(U){return e[U.charCodeAt(0)]!==void 0},d=t.__arabicParser__.isArabicLetter=function(U){return typeof U=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(U)},u=t.__arabicParser__.isArabicEndLetter=function(U){return d(U)&&l(U)&&e[U.charCodeAt(0)].length<=2},h=t.__arabicParser__.isArabicAlfLetter=function(U){return d(U)&&i.indexOf(U.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(U){return d(U)&&l(U)&&e[U.charCodeAt(0)].length>=1};var m=t.__arabicParser__.arabicLetterHasFinalForm=function(U){return d(U)&&l(U)&&e[U.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(U){return d(U)&&l(U)&&e[U.charCodeAt(0)].length>=3};var g=t.__arabicParser__.arabicLetterHasMedialForm=function(U){return d(U)&&l(U)&&e[U.charCodeAt(0)].length==4},b=t.__arabicParser__.resolveLigatures=function(U){var k=0,C=r,O="",D=0;for(k=0;k<U.length;k+=1)C[U.charCodeAt(k)]!==void 0?(D++,typeof(C=C[U.charCodeAt(k)])=="number"&&(O+=String.fromCharCode(C),C=r,D=0),k===U.length-1&&(C=r,O+=U.charAt(k-(D-1)),k-=D-1,D=0)):(C=r,O+=U.charAt(k-D),k-=D,D=0);return O};t.__arabicParser__.isArabicDiacritic=function(U){return U!==void 0&&n[U.charCodeAt(0)]!==void 0};var B=t.__arabicParser__.getCorrectForm=function(U,k,C){return d(U)?l(U)===!1?-1:!m(U)||!d(k)&&!d(C)||!d(C)&&u(k)||u(U)&&!d(k)||u(U)&&h(k)||u(U)&&u(k)?0:g(U)&&d(k)&&!u(k)&&d(C)&&m(C)?3:u(U)||!d(C)?1:2:-1},w=function(U){var k=0,C=0,O=0,D="",H="",re="",q=(U=U||"").split("\\s+"),ne=[];for(k=0;k<q.length;k+=1){for(ne.push(""),C=0;C<q[k].length;C+=1)D=q[k][C],H=q[k][C-1],re=q[k][C+1],d(D)?(O=B(D,H,re),ne[k]+=O!==-1?String.fromCharCode(e[D.charCodeAt(0)][O]):D):ne[k]+=D;ne[k]=b(ne[k])}return ne.join(" ")},S=t.__arabicParser__.processArabic=t.processArabic=function(){var U,k=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,C=[];if(Array.isArray(k)){var O=0;for(C=[],O=0;O<k.length;O+=1)Array.isArray(k[O])?C.push([w(k[O][0]),k[O][1],k[O][2]]):C.push([w(k[O])]);U=C}else U=w(k);return typeof arguments[0]=="string"?U:(arguments[0].text=U,arguments[0])};t.events.push(["preProcessText",S])})(Sr.API),Sr.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(u){r=u}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(u){n=isNaN(u)||Number.isInteger(u)===!1||u<0?150:u,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(u){i=isNaN(u)||Number.isInteger(u)===!1||u<0?300:u,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var l=[];Object.defineProperty(this,"childNodes",{get:function(){return l},set:function(u){l=u}});var d={};Object.defineProperty(this,"style",{get:function(){return d},set:function(u){d=u}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Sr.API),(function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new l,this.internal.__cell__.pages=1},l=function(){var h=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return h},set:function(U){h=U}});var m=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return m},set:function(U){m=U}});var g=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return g},set:function(U){g=U}});var b=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return b},set:function(U){b=U}});var B=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return B},set:function(U){B=U}});var w=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return w},set:function(U){w=U}});var S=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return S},set:function(U){S=U}}),this};l.prototype.clone=function(){return new l(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},l.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(h){return n.call(this),this.internal.__cell__.headerFunction=typeof h=="function"?h:void 0,this},t.getTextDimensions=function(h,m){n.call(this);var g=(m=m||{}).fontSize||this.getFontSize(),b=m.font||this.getFont(),B=m.scaleFactor||this.internal.scaleFactor,w=0,S=0,U=0,k=this;if(!Array.isArray(h)&&typeof h!="string"){if(typeof h!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");h=String(h)}var C=m.maxWidth;C>0?typeof h=="string"?h=this.splitTextToSize(h,C):Object.prototype.toString.call(h)==="[object Array]"&&(h=h.reduce(function(D,H){return D.concat(k.splitTextToSize(H,C))},[])):h=Array.isArray(h)?h:[h];for(var O=0;O<h.length;O++)w<(U=this.getStringUnitWidth(h[O],{font:b})*g)&&(w=U);return w!==0&&(S=h.length),{w:w/=B,h:Math.max((S*g*this.getLineHeightFactor()-g*(this.getLineHeightFactor()-1))/B,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var h=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new l(h.left,h.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var d=t.cell=function(){var h;h=arguments[0]instanceof l?arguments[0]:new l(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var m=this.internal.__cell__.lastCell,g=this.internal.__cell__.padding,b=this.internal.__cell__.margins||e,B=this.internal.__cell__.tableHeaderRow,w=this.internal.__cell__.printHeaders;return m.lineNumber!==void 0&&(m.lineNumber===h.lineNumber?(h.x=(m.x||0)+(m.width||0),h.y=m.y||0):m.y+m.height+h.height+b.bottom>this.getPageHeight()?(this.cellAddPage(),h.y=b.top,w&&B&&(this.printHeaderRow(h.lineNumber,!0),h.y+=B[0].height)):h.y=m.y+m.height||h.y),h.text[0]!==void 0&&(this.rect(h.x,h.y,h.width,h.height,r===!0?"FD":void 0),h.align==="right"?this.text(h.text,h.x+h.width-g,h.y+g,{align:"right",baseline:"top"}):h.align==="center"?this.text(h.text,h.x+h.width/2,h.y+g,{align:"center",baseline:"top",maxWidth:h.width-g-g}):this.text(h.text,h.x+g,h.y+g,{align:"left",baseline:"top",maxWidth:h.width-g-g})),this.internal.__cell__.lastCell=h,this};t.table=function(h,m,g,b,B){if(n.call(this),!g)throw new Error("No data for PDF table.");var w,S,U,k,C=[],O=[],D=[],H={},re={},q=[],ne=[],te=(B=B||{}).autoSize||!1,G=B.printHeaders!==!1,de=B.css&&B.css["font-size"]!==void 0?16*B.css["font-size"]:B.fontSize||12,K=B.margins||Object.assign({width:this.getPageWidth()},e),W=typeof B.padding=="number"?B.padding:3,ie=B.headerBackgroundColor||"#c8c8c8",z=B.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=G,this.internal.__cell__.margins=K,this.internal.__cell__.table_font_size=de,this.internal.__cell__.padding=W,this.internal.__cell__.headerBackgroundColor=ie,this.internal.__cell__.headerTextColor=z,this.setFontSize(de),b==null)O=C=Object.keys(g[0]),D=C.map(function(){return"left"});else if(Array.isArray(b)&&ns(b[0])==="object")for(C=b.map(function(Ne){return Ne.name}),O=b.map(function(Ne){return Ne.prompt||Ne.name||""}),D=b.map(function(Ne){return Ne.align||"left"}),w=0;w<b.length;w+=1)re[b[w].name]=.7499990551181103*b[w].width;else Array.isArray(b)&&typeof b[0]=="string"&&(O=C=b,D=C.map(function(){return"left"}));if(te||Array.isArray(b)&&typeof b[0]=="string")for(w=0;w<C.length;w+=1){for(H[k=C[w]]=g.map(function(Ne){return Ne[k]}),this.setFont(void 0,"bold"),q.push(this.getTextDimensions(O[w],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),S=H[k],this.setFont(void 0,"normal"),U=0;U<S.length;U+=1)q.push(this.getTextDimensions(S[U],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);re[k]=Math.max.apply(null,q)+W+W,q=[]}if(G){var he={};for(w=0;w<C.length;w+=1)he[C[w]]={},he[C[w]].text=O[w],he[C[w]].align=D[w];var V=u.call(this,he,re);ne=C.map(function(Ne){return new l(h,m,re[Ne],V,he[Ne].text,void 0,he[Ne].align)}),this.setTableHeaderRow(ne),this.printHeaderRow(1,!1)}var me=b.reduce(function(Ne,M){return Ne[M.name]=M.align,Ne},{});for(w=0;w<g.length;w+=1){"rowStart"in B&&B.rowStart instanceof Function&&B.rowStart({row:w,data:g[w]},this);var ee=u.call(this,g[w],re);for(U=0;U<C.length;U+=1){var Ce=g[w][C[U]];"cellStart"in B&&B.cellStart instanceof Function&&B.cellStart({row:w,col:U,data:Ce},this),d.call(this,new l(h,m,re[C[U]],ee,Ce,w+2,me[C[U]]))}}return this.internal.__cell__.table_x=h,this.internal.__cell__.table_y=m,this};var u=function(h,m){var g=this.internal.__cell__.padding,b=this.internal.__cell__.table_font_size,B=this.internal.scaleFactor;return Object.keys(h).map(function(w){var S=h[w];return this.splitTextToSize(S.hasOwnProperty("text")?S.text:S,m[w]-g-g)},this).map(function(w){return this.getLineHeightFactor()*w.length*b/B+g+g},this).reduce(function(w,S){return Math.max(w,S)},0)};t.setTableHeaderRow=function(h){n.call(this),this.internal.__cell__.tableHeaderRow=h},t.printHeaderRow=function(h,m){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var g;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var b=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new l(b[0],b[1],b[2],b[3],void 0,-1)}this.setFont(void 0,"bold");for(var B=[],w=0;w<this.internal.__cell__.tableHeaderRow.length;w+=1){g=this.internal.__cell__.tableHeaderRow[w].clone(),m&&(g.y=this.internal.__cell__.margins.top||0,B.push(g)),g.lineNumber=h;var S=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),d.call(this,g),this.setTextColor(S)}B.length>0&&this.setTableHeaderRow(B),this.setFont(void 0,"normal"),r=!1}})(Sr.API);var kC={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},TC=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Kb=IC(TC),FC=[100,200,300,400,500,600,700,800,900],dQ=IC(FC);function Cx(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=(function(l){return kC[l=l||"normal"]?l:"normal"})(t.style),n=(function(l){return l?typeof l=="number"?l>=100&&l<=900&&l%100==0?l:400:/^\d00$/.test(l)?parseInt(l):l==="bold"?700:400:400})(t.weight),i=(function(l){return typeof Kb[l=l||"normal"]=="number"?l:"normal"})(t.stretch);return{family:e,style:r,weight:n,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,r,n].join(" ")}}}function T_(t,e,r,n){var i;for(i=r;i>=0&&i<e.length;i+=n)if(t[e[i]])return t[e[i]];for(i=r;i>=0&&i<e.length;i-=n)if(t[e[i]])return t[e[i]]}var uQ={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},F_={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function O_(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function Q_(t){return t.trimLeft()}function hQ(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function fQ(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Pp,R_,D_,Yd,Hp,M_,P_,H_,Ex=["times"];function q_(t,e,r,n,i){var l=4,d=K_;switch(i){case Sr.API.image_compression.FAST:l=1,d=z_;break;case Sr.API.image_compression.MEDIUM:l=6,d=V_;break;case Sr.API.image_compression.SLOW:l=9,d=G_}t=(function(h,m,g,b){for(var B,w=h.length/m,S=new Uint8Array(h.length+w),U=[pQ,z_,K_,V_,G_],k=0;k<w;k+=1){var C=k*m,O=h.subarray(C,C+m);if(b)S.set(b(O,g,B),C+k);else{for(var D=U.length,H=[],re=0;re<D;re+=1)H[re]=U[re](O,g,B);var q=gQ(H.concat());S.set(H[q],C+k)}B=O}return S})(t,e,Math.ceil(r*n/8),d);var u=Rb(t,{level:l});return Sr.API.__addimage__.arrayBufferToBinaryString(u)}function pQ(t){var e=Array.apply([],t);return e.unshift(0),e}function z_(t,e){var r=t.length,n=[];n[0]=1;for(var i=0;i<r;i+=1){var l=t[i-e]||0;n[i+1]=t[i]-l+256&255}return n}function K_(t,e,r){var n=t.length,i=[];i[0]=2;for(var l=0;l<n;l+=1){var d=r&&r[l]||0;i[l+1]=t[l]-d+256&255}return i}function V_(t,e,r){var n=t.length,i=[];i[0]=3;for(var l=0;l<n;l+=1){var d=t[l-e]||0,u=r&&r[l]||0;i[l+1]=t[l]+256-(d+u>>>1)&255}return i}function G_(t,e,r){var n=t.length,i=[];i[0]=4;for(var l=0;l<n;l+=1){var d=mQ(t[l-e]||0,r&&r[l]||0,r&&r[l-e]||0);i[l+1]=t[l]-d+256&255}return i}function mQ(t,e,r){if(t===e&&e===r)return t;var n=Math.abs(e-r),i=Math.abs(t-r),l=Math.abs(t+e-r-r);return n<=i&&n<=l?t:i<=l?e:r}function gQ(t){var e=t.map(function(r){return r.reduce(function(n,i){return n+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function Sx(t,e,r){var n=e*r,i=Math.floor(n/8),l=16-(n-8*i+r),d=(1<<r)-1;return OC(t,i)>>l&d}function $_(t,e,r,n){var i=r*n,l=Math.floor(i/8),d=16-(i-8*l+n),u=(1<<n)-1,h=(e&u)<<d;(function(m,g,b){if(g+1<m.byteLength)m.setUint16(g,b,!1);else{var B=b>>8&255;m.setUint8(g,B)}})(t,l,OC(t,l)&~(u<<d)&65535|h)}function OC(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function xQ(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,i=t[e++],l=i>>7,d=1<<1+(7&i);t[e++],t[e++];var u=null,h=null;l&&(u=e,h=d,e+=3*d);var m=!0,g=[],b=0,B=null,w=0,S=null;for(this.width=r,this.height=n;m&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,S=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((K=t[e++])>=0))throw Error("Invalid block size");if(K===0)break;e+=K}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var U=t[e++];b=t[e++]|t[e++]<<8,B=t[e++],1&U||(B=null),w=U>>2&7,e++;break;case 254:for(;;){if(!((K=t[e++])>=0))throw Error("Invalid block size");if(K===0)break;e+=K}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var k=t[e++]|t[e++]<<8,C=t[e++]|t[e++]<<8,O=t[e++]|t[e++]<<8,D=t[e++]|t[e++]<<8,H=t[e++],re=H>>6&1,q=1<<1+(7&H),ne=u,te=h,G=!1;H>>7&&(G=!0,ne=e,te=q,e+=3*q);var de=e;for(e++;;){var K;if(!((K=t[e++])>=0))throw Error("Invalid block size");if(K===0)break;e+=K}g.push({x:k,y:C,width:O,height:D,has_local_palette:G,palette_offset:ne,palette_size:te,data_offset:de,data_length:e-de,transparent_index:B,interlaced:!!re,delay:b,disposal:w});break;case 59:m=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return g.length},this.loopCount=function(){return S},this.frameInfo=function(W){if(W<0||W>=g.length)throw new Error("Frame index out of range.");return g[W]},this.decodeAndBlitFrameBGRA=function(W,ie){var z=this.frameInfo(W),he=z.width*z.height,V=new Uint8Array(he);Z_(t,z.data_offset,V,he);var me=z.palette_offset,ee=z.transparent_index;ee===null&&(ee=256);var Ce=z.width,Ne=r-Ce,M=Ce,T=4*(z.y*r+z.x),$=4*((z.y+z.height)*r+z.x),X=T,Ae=4*Ne;z.interlaced===!0&&(Ae+=4*r*7);for(var xe=8,Be=0,ke=V.length;Be<ke;++Be){var ge=V[Be];if(M===0&&(M=Ce,(X+=Ae)>=$&&(Ae=4*Ne+4*r*(xe-1),X=T+(Ce+Ne)*(xe<<1),xe>>=1)),ge===ee)X+=4;else{var je=t[me+3*ge],Qe=t[me+3*ge+1],Re=t[me+3*ge+2];ie[X++]=Re,ie[X++]=Qe,ie[X++]=je,ie[X++]=255}--M}},this.decodeAndBlitFrameRGBA=function(W,ie){var z=this.frameInfo(W),he=z.width*z.height,V=new Uint8Array(he);Z_(t,z.data_offset,V,he);var me=z.palette_offset,ee=z.transparent_index;ee===null&&(ee=256);var Ce=z.width,Ne=r-Ce,M=Ce,T=4*(z.y*r+z.x),$=4*((z.y+z.height)*r+z.x),X=T,Ae=4*Ne;z.interlaced===!0&&(Ae+=4*r*7);for(var xe=8,Be=0,ke=V.length;Be<ke;++Be){var ge=V[Be];if(M===0&&(M=Ce,(X+=Ae)>=$&&(Ae=4*Ne+4*r*(xe-1),X=T+(Ce+Ne)*(xe<<1),xe>>=1)),ge===ee)X+=4;else{var je=t[me+3*ge],Qe=t[me+3*ge+1],Re=t[me+3*ge+2];ie[X++]=je,ie[X++]=Qe,ie[X++]=Re,ie[X++]=255}--M}}}function Z_(t,e,r,n){for(var i=t[e++],l=1<<i,d=l+1,u=d+1,h=i+1,m=(1<<h)-1,g=0,b=0,B=0,w=t[e++],S=new Int32Array(4096),U=null;;){for(;g<16&&w!==0;)b|=t[e++]<<g,g+=8,w===1?w=t[e++]:--w;if(g<h)break;var k=b&m;if(b>>=h,g-=h,k!==l){if(k===d)break;for(var C=k<u?k:U,O=0,D=C;D>l;)D=S[D]>>8,++O;var H=D;if(B+O+(C!==k?1:0)>n)return void hs.log("Warning, gif stream longer than expected.");r[B++]=H;var re=B+=O;for(C!==k&&(r[B++]=H),D=C;O--;)D=S[D],r[--re]=255&D,D>>=8;U!==null&&u<4096&&(S[u++]=U<<8|H,u>=m+1&&h<12&&(++h,m=m<<1|1)),U=k}else u=d+1,m=(1<<(h=i+1))-1,U=null}return B!==n&&hs.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function jx(t){var e,r,n,i,l,d=Math.floor,u=new Array(64),h=new Array(64),m=new Array(64),g=new Array(64),b=new Array(65535),B=new Array(65535),w=new Array(64),S=new Array(64),U=[],k=0,C=7,O=new Array(64),D=new Array(64),H=new Array(64),re=new Array(256),q=new Array(2048),ne=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],te=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],G=[0,1,2,3,4,5,6,7,8,9,10,11],de=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],K=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],W=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],ie=[0,1,2,3,4,5,6,7,8,9,10,11],z=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],he=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function V(T,$){for(var X=0,Ae=0,xe=new Array,Be=1;Be<=16;Be++){for(var ke=1;ke<=T[Be];ke++)xe[$[Ae]]=[],xe[$[Ae]][0]=X,xe[$[Ae]][1]=Be,Ae++,X++;X*=2}return xe}function me(T){for(var $=T[0],X=T[1]-1;X>=0;)$&1<<X&&(k|=1<<C),X--,--C<0&&(k==255?(ee(255),ee(0)):ee(k),C=7,k=0)}function ee(T){U.push(T)}function Ce(T){ee(T>>8&255),ee(255&T)}function Ne(T,$,X,Ae,xe){for(var Be,ke=xe[0],ge=xe[240],je=(function(ue,Ze){var Ve,gt,bt,nr,Jt,Wt,yr,sr,Dt,er,Zt=0;for(Dt=0;Dt<8;++Dt){Ve=ue[Zt],gt=ue[Zt+1],bt=ue[Zt+2],nr=ue[Zt+3],Jt=ue[Zt+4],Wt=ue[Zt+5],yr=ue[Zt+6];var Hr=Ve+(sr=ue[Zt+7]),cr=Ve-sr,Yt=gt+yr,Xt=gt-yr,ar=bt+Wt,Vt=bt-Wt,Nr=nr+Jt,Pt=nr-Jt,tr=Hr+Nr,Ue=Hr-Nr,Ke=Yt+ar,ot=Yt-ar;ue[Zt]=tr+Ke,ue[Zt+4]=tr-Ke;var ut=.707106781*(ot+Ue);ue[Zt+2]=Ue+ut,ue[Zt+6]=Ue-ut;var rr=.382683433*((tr=Pt+Vt)-(ot=Xt+cr)),or=.5411961*tr+rr,qr=1.306562965*ot+rr,dn=.707106781*(Ke=Vt+Xt),It=cr+dn,An=cr-dn;ue[Zt+5]=An+or,ue[Zt+3]=An-or,ue[Zt+1]=It+qr,ue[Zt+7]=It-qr,Zt+=8}for(Zt=0,Dt=0;Dt<8;++Dt){Ve=ue[Zt],gt=ue[Zt+8],bt=ue[Zt+16],nr=ue[Zt+24],Jt=ue[Zt+32],Wt=ue[Zt+40],yr=ue[Zt+48];var wn=Ve+(sr=ue[Zt+56]),pn=Ve-sr,sn=gt+yr,Pr=gt-yr,Ft=bt+Wt,Fn=bt-Wt,Ms=nr+Jt,_n=nr-Jt,tn=wn+Ms,Te=wn-Ms,wt=sn+Ft,qt=sn-Ft;ue[Zt]=tn+wt,ue[Zt+32]=tn-wt;var mr=.707106781*(qt+Te);ue[Zt+16]=Te+mr,ue[Zt+48]=Te-mr;var Qr=.382683433*((tn=_n+Fn)-(qt=Pr+pn)),Cn=.5411961*tn+Qr,Gn=1.306562965*qt+Qr,Ps=.707106781*(wt=Fn+Pr),On=pn+Ps,As=pn-Ps;ue[Zt+40]=As+Cn,ue[Zt+24]=As-Cn,ue[Zt+8]=On+Gn,ue[Zt+56]=On-Gn,Zt++}for(Dt=0;Dt<64;++Dt)er=ue[Dt]*Ze[Dt],w[Dt]=er>0?er+.5|0:er-.5|0;return w})(T,$),Qe=0;Qe<64;++Qe)S[ne[Qe]]=je[Qe];var Re=S[0]-X;X=S[0],Re==0?me(Ae[0]):(me(Ae[B[Be=32767+Re]]),me(b[Be]));for(var lt=63;lt>0&&S[lt]==0;)lt--;if(lt==0)return me(ke),X;for(var Lt,fe=1;fe<=lt;){for(var ft=fe;S[fe]==0&&fe<=lt;)++fe;var St=fe-ft;if(St>=16){Lt=St>>4;for(var st=1;st<=Lt;++st)me(ge);St&=15}Be=32767+S[fe],me(xe[(St<<4)+B[Be]]),me(b[Be]),fe++}return lt!=63&&me(ke),X}function M(T){T=Math.min(Math.max(T,1),100),l!=T&&((function($){for(var X=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Ae=0;Ae<64;Ae++){var xe=d((X[Ae]*$+50)/100);xe=Math.min(Math.max(xe,1),255),u[ne[Ae]]=xe}for(var Be=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ke=0;ke<64;ke++){var ge=d((Be[ke]*$+50)/100);ge=Math.min(Math.max(ge,1),255),h[ne[ke]]=ge}for(var je=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Qe=0,Re=0;Re<8;Re++)for(var lt=0;lt<8;lt++)m[Qe]=1/(u[ne[Qe]]*je[Re]*je[lt]*8),g[Qe]=1/(h[ne[Qe]]*je[Re]*je[lt]*8),Qe++})(T<50?Math.floor(5e3/T):Math.floor(200-2*T)),l=T)}this.encode=function(T,$){$&&M($),U=new Array,k=0,C=7,Ce(65496),Ce(65504),Ce(16),ee(74),ee(70),ee(73),ee(70),ee(0),ee(1),ee(1),ee(0),Ce(1),Ce(1),ee(0),ee(0),(function(){Ce(65499),Ce(132),ee(0);for(var gt=0;gt<64;gt++)ee(u[gt]);ee(1);for(var bt=0;bt<64;bt++)ee(h[bt])})(),(function(gt,bt){Ce(65472),Ce(17),ee(8),Ce(bt),Ce(gt),ee(3),ee(1),ee(17),ee(0),ee(2),ee(17),ee(1),ee(3),ee(17),ee(1)})(T.width,T.height),(function(){Ce(65476),Ce(418),ee(0);for(var gt=0;gt<16;gt++)ee(te[gt+1]);for(var bt=0;bt<=11;bt++)ee(G[bt]);ee(16);for(var nr=0;nr<16;nr++)ee(de[nr+1]);for(var Jt=0;Jt<=161;Jt++)ee(K[Jt]);ee(1);for(var Wt=0;Wt<16;Wt++)ee(W[Wt+1]);for(var yr=0;yr<=11;yr++)ee(ie[yr]);ee(17);for(var sr=0;sr<16;sr++)ee(z[sr+1]);for(var Dt=0;Dt<=161;Dt++)ee(he[Dt])})(),Ce(65498),Ce(12),ee(3),ee(1),ee(0),ee(2),ee(17),ee(3),ee(17),ee(0),ee(63),ee(0);var X=0,Ae=0,xe=0;k=0,C=7,this.encode.displayName="_encode_";for(var Be,ke,ge,je,Qe,Re,lt,Lt,fe,ft=T.data,St=T.width,st=T.height,ue=4*St,Ze=0;Ze<st;){for(Be=0;Be<ue;){for(Qe=ue*Ze+Be,lt=-1,Lt=0,fe=0;fe<64;fe++)Re=Qe+(Lt=fe>>3)*ue+(lt=4*(7&fe)),Ze+Lt>=st&&(Re-=ue*(Ze+1+Lt-st)),Be+lt>=ue&&(Re-=Be+lt-ue+4),ke=ft[Re++],ge=ft[Re++],je=ft[Re++],O[fe]=(q[ke]+q[ge+256|0]+q[je+512|0]>>16)-128,D[fe]=(q[ke+768|0]+q[ge+1024|0]+q[je+1280|0]>>16)-128,H[fe]=(q[ke+1280|0]+q[ge+1536|0]+q[je+1792|0]>>16)-128;X=Ne(O,m,X,e,n),Ae=Ne(D,g,Ae,r,i),xe=Ne(H,g,xe,r,i),Be+=32}Ze+=8}if(C>=0){var Ve=[];Ve[1]=C+1,Ve[0]=(1<<C+1)-1,me(Ve)}return Ce(65497),new Uint8Array(U)},t=t||50,(function(){for(var T=String.fromCharCode,$=0;$<256;$++)re[$]=T($)})(),e=V(te,G),r=V(W,ie),n=V(de,K),i=V(z,he),(function(){for(var T=1,$=2,X=1;X<=15;X++){for(var Ae=T;Ae<$;Ae++)B[32767+Ae]=X,b[32767+Ae]=[],b[32767+Ae][1]=X,b[32767+Ae][0]=Ae;for(var xe=-($-1);xe<=-T;xe++)B[32767+xe]=X,b[32767+xe]=[],b[32767+xe][1]=X,b[32767+xe][0]=$-1+xe;T<<=1,$<<=1}})(),(function(){for(var T=0;T<256;T++)q[T]=19595*T,q[T+256|0]=38470*T,q[T+512|0]=7471*T+32768,q[T+768|0]=-11059*T,q[T+1024|0]=-21709*T,q[T+1280|0]=32768*T+8421375,q[T+1536|0]=-27439*T,q[T+1792|0]=-5329*T})(),M(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function wl(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function X_(t){function e(G){if(!G)throw Error("assert :P")}function r(G,de,K){for(var W=0;4>W;W++)if(G[de+W]!=K.charCodeAt(W))return!0;return!1}function n(G,de,K,W,ie){for(var z=0;z<ie;z++)G[de+z]=K[W+z]}function i(G,de,K,W){for(var ie=0;ie<W;ie++)G[de+ie]=K}function l(G){return new Int32Array(G)}function d(G,de){for(var K=[],W=0;W<G;W++)K.push(new de);return K}function u(G,de){var K=[];return(function W(ie,z,he){for(var V=he[z],me=0;me<V&&(ie.push(he.length>z+1?[]:new de),!(he.length<z+1));me++)W(ie[me],z+1,he)})(K,0,G),K}var h=function(){var G=this;function de(x,_){for(var I=1<<_-1>>>0;x&I;)I>>>=1;return I?(x&I-1)+I:x}function K(x,_,I,Q,Y){e(!(Q%I));do x[_+(Q-=I)]=Y;while(0<Q)}function W(x,_,I,Q,Y){if(e(2328>=Y),512>=Y)var se=l(512);else if((se=l(Y))==null)return 0;return(function(oe,pe,be,_e,Fe,Ye){var we,De,Ge=pe,ht=1<<be,Xe=l(16),dt=l(16);for(e(Fe!=0),e(_e!=null),e(oe!=null),e(0<be),De=0;De<Fe;++De){if(15<_e[De])return 0;++Xe[_e[De]]}if(Xe[0]==Fe)return 0;for(dt[1]=0,we=1;15>we;++we){if(Xe[we]>1<<we)return 0;dt[we+1]=dt[we]+Xe[we]}for(De=0;De<Fe;++De)we=_e[De],0<_e[De]&&(Ye[dt[we]++]=De);if(dt[15]==1)return(_e=new ie).g=0,_e.value=Ye[0],K(oe,Ge,1,ht,_e),ht;var xt,kt=-1,Nt=ht-1,wr=0,lr=1,Kr=1,pr=1<<be;for(De=0,we=1,Fe=2;we<=be;++we,Fe<<=1){if(lr+=Kr<<=1,0>(Kr-=Xe[we]))return 0;for(;0<Xe[we];--Xe[we])(_e=new ie).g=we,_e.value=Ye[De++],K(oe,Ge+wr,Fe,pr,_e),wr=de(wr,we)}for(we=be+1,Fe=2;15>=we;++we,Fe<<=1){if(lr+=Kr<<=1,0>(Kr-=Xe[we]))return 0;for(;0<Xe[we];--Xe[we]){if(_e=new ie,(wr&Nt)!=kt){for(Ge+=pr,xt=1<<(kt=we)-be;15>kt&&!(0>=(xt-=Xe[kt]));)++kt,xt<<=1;ht+=pr=1<<(xt=kt-be),oe[pe+(kt=wr&Nt)].g=xt+be,oe[pe+kt].value=Ge-pe-kt}_e.g=we-be,_e.value=Ye[De++],K(oe,Ge+(wr>>be),Fe,pr,_e),wr=de(wr,we)}}return lr!=2*dt[15]-1?0:ht})(x,_,I,Q,Y,se)}function ie(){this.value=this.g=0}function z(){this.value=this.g=0}function he(){this.G=d(5,ie),this.H=l(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=d(Mi,z)}function V(x,_,I,Q){e(x!=null),e(_!=null),e(2147483648>Q),x.Ca=254,x.I=0,x.b=-8,x.Ka=0,x.oa=_,x.pa=I,x.Jd=_,x.Yc=I+Q,x.Zc=4<=Q?I+Q-4+1:I,ke(x)}function me(x,_){for(var I=0;0<_--;)I|=je(x,128)<<_;return I}function ee(x,_){var I=me(x,_);return ge(x)?-I:I}function Ce(x,_,I,Q){var Y,se=0;for(e(x!=null),e(_!=null),e(4294967288>Q),x.Sb=Q,x.Ra=0,x.u=0,x.h=0,4<Q&&(Q=4),Y=0;Y<Q;++Y)se+=_[I+Y]<<8*Y;x.Ra=se,x.bb=Q,x.oa=_,x.pa=I}function Ne(x){for(;8<=x.u&&x.bb<x.Sb;)x.Ra>>>=8,x.Ra+=x.oa[x.pa+x.bb]<<ni-8>>>0,++x.bb,x.u-=8;Ae(x)&&(x.h=1,x.u=0)}function M(x,_){if(e(0<=_),!x.h&&_<=ps){var I=X(x)&qa[_];return x.u+=_,Ne(x),I}return x.h=1,x.u=0}function T(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function $(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function X(x){return x.Ra>>>(x.u&ni-1)>>>0}function Ae(x){return e(x.bb<=x.Sb),x.h||x.bb==x.Sb&&x.u>ni}function xe(x,_){x.u=_,x.h=Ae(x)}function Be(x){x.u>=$i&&(e(x.u>=$i),Ne(x))}function ke(x){e(x!=null&&x.oa!=null),x.pa<x.Zc?(x.I=(x.oa[x.pa++]|x.I<<8)>>>0,x.b+=8):(e(x!=null&&x.oa!=null),x.pa<x.Yc?(x.b+=8,x.I=x.oa[x.pa++]|x.I<<8):x.Ka?x.b=0:(x.I<<=8,x.b+=8,x.Ka=1))}function ge(x){return me(x,1)}function je(x,_){var I=x.Ca;0>x.b&&ke(x);var Q=x.b,Y=I*_>>>8,se=(x.I>>>Q>Y)+0;for(se?(I-=Y,x.I-=Y+1<<Q>>>0):I=Y+1,Q=I,Y=0;256<=Q;)Y+=8,Q>>=8;return Q=7^Y+Pi[Q],x.b-=Q,x.Ca=(I<<Q)-1,se}function Qe(x,_,I){x[_+0]=I>>24&255,x[_+1]=I>>16&255,x[_+2]=I>>8&255,x[_+3]=255&I}function Re(x,_){return x[_+0]|x[_+1]<<8}function lt(x,_){return Re(x,_)|x[_+2]<<16}function Lt(x,_){return Re(x,_)|Re(x,_+2)<<16}function fe(x,_){var I=1<<_;return e(x!=null),e(0<_),x.X=l(I),x.X==null?0:(x.Mb=32-_,x.Xa=_,1)}function ft(x,_){e(x!=null),e(_!=null),e(x.Xa==_.Xa),n(_.X,0,x.X,0,1<<_.Xa)}function St(){this.X=[],this.Xa=this.Mb=0}function st(x,_,I,Q){e(I!=null),e(Q!=null);var Y=I[0],se=Q[0];return Y==0&&(Y=(x*se+_/2)/_),se==0&&(se=(_*Y+x/2)/x),0>=Y||0>=se?0:(I[0]=Y,Q[0]=se,1)}function ue(x,_){return x+(1<<_)-1>>>_}function Ze(x,_){return((4278255360&x)+(4278255360&_)>>>0&4278255360)+((16711935&x)+(16711935&_)>>>0&16711935)>>>0}function Ve(x,_){G[_]=function(I,Q,Y,se,oe,pe,be){var _e;for(_e=0;_e<oe;++_e){var Fe=G[x](pe[be+_e-1],Y,se+_e);pe[be+_e]=Ze(I[Q+_e],Fe)}}}function gt(){this.ud=this.hd=this.jd=0}function bt(x,_){return((4278124286&(x^_))>>>1)+(x&_)>>>0}function nr(x){return 0<=x&&256>x?x:0>x?0:255<x?255:void 0}function Jt(x,_){return nr(x+(x-_+.5>>1))}function Wt(x,_,I){return Math.abs(_-I)-Math.abs(x-I)}function yr(x,_,I,Q,Y,se,oe){for(Q=se[oe-1],I=0;I<Y;++I)se[oe+I]=Q=Ze(x[_+I],Q)}function sr(x,_,I,Q,Y){var se;for(se=0;se<I;++se){var oe=x[_+se],pe=oe>>8&255,be=16711935&(be=(be=16711935&oe)+((pe<<16)+pe));Q[Y+se]=(4278255360&oe)+be>>>0}}function Dt(x,_){_.jd=255&x,_.hd=x>>8&255,_.ud=x>>16&255}function er(x,_,I,Q,Y,se){var oe;for(oe=0;oe<Q;++oe){var pe=_[I+oe],be=pe>>>8,_e=pe,Fe=255&(Fe=(Fe=pe>>>16)+((x.jd<<24>>24)*(be<<24>>24)>>>5));_e=255&(_e=(_e+=(x.hd<<24>>24)*(be<<24>>24)>>>5)+((x.ud<<24>>24)*(Fe<<24>>24)>>>5)),Y[se+oe]=(4278255360&pe)+(Fe<<16)+_e}}function Zt(x,_,I,Q,Y){G[_]=function(se,oe,pe,be,_e,Fe,Ye,we,De){for(be=Ye;be<we;++be)for(Ye=0;Ye<De;++Ye)_e[Fe++]=Y(pe[Q(se[oe++])])},G[x]=function(se,oe,pe,be,_e,Fe,Ye){var we=8>>se.b,De=se.Ea,Ge=se.K[0],ht=se.w;if(8>we)for(se=(1<<se.b)-1,ht=(1<<we)-1;oe<pe;++oe){var Xe,dt=0;for(Xe=0;Xe<De;++Xe)Xe&se||(dt=Q(be[_e++])),Fe[Ye++]=Y(Ge[dt&ht]),dt>>=we}else G["VP8LMapColor"+I](be,_e,Ge,ht,Fe,Ye,oe,pe,De)}}function Hr(x,_,I,Q,Y){for(I=_+I;_<I;){var se=x[_++];Q[Y++]=se>>16&255,Q[Y++]=se>>8&255,Q[Y++]=255&se}}function cr(x,_,I,Q,Y){for(I=_+I;_<I;){var se=x[_++];Q[Y++]=se>>16&255,Q[Y++]=se>>8&255,Q[Y++]=255&se,Q[Y++]=se>>24&255}}function Yt(x,_,I,Q,Y){for(I=_+I;_<I;){var se=(oe=x[_++])>>16&240|oe>>12&15,oe=240&oe|oe>>28&15;Q[Y++]=se,Q[Y++]=oe}}function Xt(x,_,I,Q,Y){for(I=_+I;_<I;){var se=(oe=x[_++])>>16&248|oe>>13&7,oe=oe>>5&224|oe>>3&31;Q[Y++]=se,Q[Y++]=oe}}function ar(x,_,I,Q,Y){for(I=_+I;_<I;){var se=x[_++];Q[Y++]=255&se,Q[Y++]=se>>8&255,Q[Y++]=se>>16&255}}function Vt(x,_,I,Q,Y,se){if(se==0)for(I=_+I;_<I;)Qe(Q,((se=x[_++])[0]>>24|se[1]>>8&65280|se[2]<<8&16711680|se[3]<<24)>>>0),Y+=32;else n(Q,Y,x,_,I)}function Nr(x,_){G[_][0]=G[x+"0"],G[_][1]=G[x+"1"],G[_][2]=G[x+"2"],G[_][3]=G[x+"3"],G[_][4]=G[x+"4"],G[_][5]=G[x+"5"],G[_][6]=G[x+"6"],G[_][7]=G[x+"7"],G[_][8]=G[x+"8"],G[_][9]=G[x+"9"],G[_][10]=G[x+"10"],G[_][11]=G[x+"11"],G[_][12]=G[x+"12"],G[_][13]=G[x+"13"],G[_][14]=G[x+"0"],G[_][15]=G[x+"0"]}function Pt(x){return x==Hl||x==gA||x==ql||x==A}function tr(){this.eb=[],this.size=this.A=this.fb=0}function Ue(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ke(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new tr,this.f.kb=new Ue,this.sd=null}function ot(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ut(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function rr(x){return alert("todo:WebPSamplerProcessPlane"),x.T}function or(x,_){var I=x.T,Q=_.ba.f.RGBA,Y=Q.eb,se=Q.fb+x.ka*Q.A,oe=ks[_.ba.S],pe=x.y,be=x.O,_e=x.f,Fe=x.N,Ye=x.ea,we=x.W,De=_.cc,Ge=_.dc,ht=_.Mc,Xe=_.Nc,dt=x.ka,xt=x.ka+x.T,kt=x.U,Nt=kt+1>>1;for(dt==0?oe(pe,be,null,null,_e,Fe,Ye,we,_e,Fe,Ye,we,Y,se,null,null,kt):(oe(_.ec,_.fc,pe,be,De,Ge,ht,Xe,_e,Fe,Ye,we,Y,se-Q.A,Y,se,kt),++I);dt+2<xt;dt+=2)De=_e,Ge=Fe,ht=Ye,Xe=we,Fe+=x.Rc,we+=x.Rc,se+=2*Q.A,oe(pe,(be+=2*x.fa)-x.fa,pe,be,De,Ge,ht,Xe,_e,Fe,Ye,we,Y,se-Q.A,Y,se,kt);return be+=x.fa,x.j+xt<x.o?(n(_.ec,_.fc,pe,be,kt),n(_.cc,_.dc,_e,Fe,Nt),n(_.Mc,_.Nc,Ye,we,Nt),I--):1&xt||oe(pe,be,null,null,_e,Fe,Ye,we,_e,Fe,Ye,we,Y,se+Q.A,null,null,kt),I}function qr(x,_,I){var Q=x.F,Y=[x.J];if(Q!=null){var se=x.U,oe=_.ba.S,pe=oe==Pl||oe==ql;_=_.ba.f.RGBA;var be=[0],_e=x.ka;be[0]=x.T,x.Kb&&(_e==0?--be[0]:(--_e,Y[0]-=x.width),x.j+x.ka+x.T==x.o&&(be[0]=x.o-x.j-_e));var Fe=_.eb;_e=_.fb+_e*_.A,x=Dl(Q,Y[0],x.width,se,be,Fe,_e+(pe?0:3),_.A),e(I==be),x&&Pt(oe)&&wi(Fe,_e,pe,se,be,_.A)}return 0}function dn(x){var _=x.ma,I=_.ba.S,Q=11>I,Y=I==ha||I==ii||I==Pl||I==fl||I==12||Pt(I);if(_.memory=null,_.Ib=null,_.Jb=null,_.Nd=null,!Bo(_.Oa,x,Y?11:12))return 0;if(Y&&Pt(I)&&_o(),x.da)alert("todo:use_scaling");else{if(Q){if(_.Ib=rr,x.Kb){if(I=x.U+1>>1,_.memory=l(x.U+2*I),_.memory==null)return 0;_.ec=_.memory,_.fc=0,_.cc=_.ec,_.dc=_.fc+x.U,_.Mc=_.cc,_.Nc=_.dc+I,_.Ib=or,_o()}}else alert("todo:EmitYUV");Y&&(_.Jb=qr,Q&&ca())}if(Q&&!$l){for(x=0;256>x;++x)Qa[x]=89858*(x-128)+ZA>>ro,wg[x]=-22014*(x-128)+ZA,Bf[x]=-45773*(x-128),yd[x]=113618*(x-128)+ZA>>ro;for(x=xA;x<Gl;++x)_=76283*(x-16)+ZA>>ro,_g[x-xA]=_t(_,255),Bg[x-xA]=_t(_+8>>4,15);$l=1}return 1}function It(x){var _=x.ma,I=x.U,Q=x.T;return e(!(1&x.ka)),0>=I||0>=Q?0:(I=_.Ib(x,_),_.Jb!=null&&_.Jb(x,_,I),_.Dc+=I,1)}function An(x){x.ma.memory=null}function wn(x,_,I,Q){return M(x,8)!=47?0:(_[0]=M(x,14)+1,I[0]=M(x,14)+1,Q[0]=M(x,1),M(x,3)!=0?0:!x.h)}function pn(x,_){if(4>x)return x+1;var I=x-2>>1;return(2+(1&x)<<I)+M(_,I)+1}function sn(x,_){return 120<_?_-120:1<=(I=((I=Ee[_-1])>>4)*x+(8-(15&I)))?I:1;var I}function Pr(x,_,I){var Q=X(I),Y=x[_+=255&Q].g-8;return 0<Y&&(xe(I,I.u+8),Q=X(I),_+=x[_].value,_+=Q&(1<<Y)-1),xe(I,I.u+x[_].g),x[_].value}function Ft(x,_,I){return I.g+=x.g,I.value+=x.value<<_>>>0,e(8>=I.g),x.g}function Fn(x,_,I){var Q=x.xc;return e((_=Q==0?0:x.vc[x.md*(I>>Q)+(_>>Q)])<x.Wb),x.Ya[_]}function Ms(x,_,I,Q){var Y=x.ab,se=x.c*_,oe=x.C;_=oe+_;var pe=I,be=Q;for(Q=x.Ta,I=x.Ua;0<Y--;){var _e=x.gc[Y],Fe=oe,Ye=_,we=pe,De=be,Ge=(be=Q,pe=I,_e.Ea);switch(e(Fe<Ye),e(Ye<=_e.nc),_e.hc){case 2:ws(we,De,(Ye-Fe)*Ge,be,pe);break;case 0:var ht=Fe,Xe=Ye,dt=be,xt=pe,kt=(pr=_e).Ea;ht==0&&(Ql(we,De,null,null,1,dt,xt),yr(we,De+1,0,0,kt-1,dt,xt+1),De+=kt,xt+=kt,++ht);for(var Nt=1<<pr.b,wr=Nt-1,lr=ue(kt,pr.b),Kr=pr.K,pr=pr.w+(ht>>pr.b)*lr;ht<Xe;){var fn=Kr,ds=pr,Gr=1;for(za(we,De,dt,xt-kt,1,dt,xt);Gr<kt;){var Ar=(Gr&~wr)+Nt;Ar>kt&&(Ar=kt),(0,Xi[fn[ds++]>>8&15])(we,De+ +Gr,dt,xt+Gr-kt,Ar-Gr,dt,xt+Gr),Gr=Ar}De+=kt,xt+=kt,++ht&wr||(pr+=lr)}Ye!=_e.nc&&n(be,pe-Ge,be,pe+(Ye-Fe-1)*Ge,Ge);break;case 1:for(Ge=we,Xe=De,kt=(we=_e.Ea)-(xt=we&~(dt=(De=1<<_e.b)-1)),ht=ue(we,_e.b),Nt=_e.K,_e=_e.w+(Fe>>_e.b)*ht;Fe<Ye;){for(wr=Nt,lr=_e,Kr=new gt,pr=Xe+xt,fn=Xe+we;Xe<pr;)Dt(wr[lr++],Kr),Ko(Kr,Ge,Xe,De,be,pe),Xe+=De,pe+=De;Xe<fn&&(Dt(wr[lr++],Kr),Ko(Kr,Ge,Xe,kt,be,pe),Xe+=kt,pe+=kt),++Fe&dt||(_e+=ht)}break;case 3:if(we==be&&De==pe&&0<_e.b){for(Xe=be,we=Ge=pe+(Ye-Fe)*Ge-(xt=(Ye-Fe)*ue(_e.Ea,_e.b)),De=be,dt=pe,ht=[],xt=(kt=xt)-1;0<=xt;--xt)ht[xt]=De[dt+xt];for(xt=kt-1;0<=xt;--xt)Xe[we+xt]=ht[xt];Co(_e,Fe,Ye,be,Ge,be,pe)}else Co(_e,Fe,Ye,we,De,be,pe)}pe=Q,be=I}be!=I&&n(Q,I,pe,be,se)}function _n(x,_){var I=x.V,Q=x.Ba+x.c*x.C,Y=_-x.C;if(e(_<=x.l.o),e(16>=Y),0<Y){var se=x.l,oe=x.Ta,pe=x.Ua,be=se.width;if(Ms(x,Y,I,Q),Y=pe=[pe],e((I=x.C)<(Q=_)),e(se.v<se.va),Q>se.o&&(Q=se.o),I<se.j){var _e=se.j-I;I=se.j,Y[0]+=_e*be}if(I>=Q?I=0:(Y[0]+=4*se.v,se.ka=I-se.j,se.U=se.va-se.v,se.T=Q-I,I=1),I){if(pe=pe[0],11>(I=x.ca).S){var Fe=I.f.RGBA,Ye=(Q=I.S,Y=se.U,se=se.T,_e=Fe.eb,Fe.A),we=se;for(Fe=Fe.fb+x.Ma*Fe.A;0<we--;){var De=oe,Ge=pe,ht=Y,Xe=_e,dt=Fe;switch(Q){case GA:Eo(De,Ge,ht,Xe,dt);break;case ha:Hi(De,Ge,ht,Xe,dt);break;case Hl:Hi(De,Ge,ht,Xe,dt),wi(Xe,dt,0,ht,1,0);break;case mA:Ji(De,Ge,ht,Xe,dt);break;case ii:Vt(De,Ge,ht,Xe,dt,1);break;case gA:Vt(De,Ge,ht,Xe,dt,1),wi(Xe,dt,0,ht,1,0);break;case Pl:Vt(De,Ge,ht,Xe,dt,0);break;case ql:Vt(De,Ge,ht,Xe,dt,0),wi(Xe,dt,1,ht,1,0);break;case fl:yi(De,Ge,ht,Xe,dt);break;case A:yi(De,Ge,ht,Xe,dt),si(Xe,dt,ht,1,0);break;case Vo:Ia(De,Ge,ht,Xe,dt);break;default:e(0)}pe+=be,Fe+=Ye}x.Ma+=se}else alert("todo:EmitRescaledRowsYUVA");e(x.Ma<=I.height)}}x.C=_,e(x.C<=x.i)}function tn(x){var _;if(0<x.ua)return 0;for(_=0;_<x.Wb;++_){var I=x.Ya[_].G,Q=x.Ya[_].H;if(0<I[1][Q[1]+0].g||0<I[2][Q[2]+0].g||0<I[3][Q[3]+0].g)return 0}return 1}function Te(x,_,I,Q,Y,se){if(x.Z!=0){var oe=x.qd,pe=x.rd;for(e(Dn[x.Z]!=null);_<I;++_)Dn[x.Z](oe,pe,Q,Y,Q,Y,se),oe=Q,pe=Y,Y+=se;x.qd=oe,x.rd=pe}}function wt(x,_){var I=x.l.ma,Q=I.Z==0||I.Z==1?x.l.j:x.C;if(Q=x.C<Q?Q:x.C,e(_<=x.l.o),_>Q){var Y=x.l.width,se=I.ca,oe=I.tb+Y*Q,pe=x.V,be=x.Ba+x.c*Q,_e=x.gc;e(x.ab==1),e(_e[0].hc==3),Js(_e[0],Q,_,pe,be,se,oe),Te(I,Q,_,se,oe,Y)}x.C=x.Ma=_}function qt(x,_,I,Q,Y,se,oe){var pe=x.$/Q,be=x.$%Q,_e=x.m,Fe=x.s,Ye=I+x.$,we=Ye;Y=I+Q*Y;var De=I+Q*se,Ge=280+Fe.ua,ht=x.Pb?pe:16777216,Xe=0<Fe.ua?Fe.Wa:null,dt=Fe.wc,xt=Ye<De?Fn(Fe,be,pe):null;e(x.C<se),e(De<=Y);var kt=!1;e:for(;;){for(;kt||Ye<De;){var Nt=0;if(pe>=ht){var wr=Ye-I;e((ht=x).Pb),ht.wd=ht.m,ht.xd=wr,0<ht.s.ua&&ft(ht.s.Wa,ht.s.vb),ht=pe+tt}if(be&dt||(xt=Fn(Fe,be,pe)),e(xt!=null),xt.Qb&&(_[Ye]=xt.qb,kt=!0),!kt)if(Be(_e),xt.jc){Nt=_e,wr=_;var lr=Ye,Kr=xt.pd[X(Nt)&Mi-1];e(xt.jc),256>Kr.g?(xe(Nt,Nt.u+Kr.g),wr[lr]=Kr.value,Nt=0):(xe(Nt,Nt.u+Kr.g-256),e(256<=Kr.value),Nt=Kr.value),Nt==0&&(kt=!0)}else Nt=Pr(xt.G[0],xt.H[0],_e);if(_e.h)break;if(kt||256>Nt){if(!kt)if(xt.nd)_[Ye]=(xt.qb|Nt<<8)>>>0;else{if(Be(_e),kt=Pr(xt.G[1],xt.H[1],_e),Be(_e),wr=Pr(xt.G[2],xt.H[2],_e),lr=Pr(xt.G[3],xt.H[3],_e),_e.h)break;_[Ye]=(lr<<24|kt<<16|Nt<<8|wr)>>>0}if(kt=!1,++Ye,++be>=Q&&(be=0,++pe,oe!=null&&pe<=se&&!(pe%16)&&oe(x,pe),Xe!=null))for(;we<Ye;)Nt=_[we++],Xe.X[(506832829*Nt&4294967295)>>>Xe.Mb]=Nt}else if(280>Nt){if(Nt=pn(Nt-256,_e),wr=Pr(xt.G[4],xt.H[4],_e),Be(_e),wr=sn(Q,wr=pn(wr,_e)),_e.h)break;if(Ye-I<wr||Y-Ye<Nt)break e;for(lr=0;lr<Nt;++lr)_[Ye+lr]=_[Ye+lr-wr];for(Ye+=Nt,be+=Nt;be>=Q;)be-=Q,++pe,oe!=null&&pe<=se&&!(pe%16)&&oe(x,pe);if(e(Ye<=Y),be&dt&&(xt=Fn(Fe,be,pe)),Xe!=null)for(;we<Ye;)Nt=_[we++],Xe.X[(506832829*Nt&4294967295)>>>Xe.Mb]=Nt}else{if(!(Nt<Ge))break e;for(kt=Nt-280,e(Xe!=null);we<Ye;)Nt=_[we++],Xe.X[(506832829*Nt&4294967295)>>>Xe.Mb]=Nt;Nt=Ye,e(!(kt>>>(wr=Xe).Xa)),_[Nt]=wr.X[kt],kt=!0}kt||e(_e.h==Ae(_e))}if(x.Pb&&_e.h&&Ye<Y)e(x.m.h),x.a=5,x.m=x.wd,x.$=x.xd,0<x.s.ua&&ft(x.s.vb,x.s.Wa);else{if(_e.h)break e;oe!=null&&oe(x,pe>se?se:pe),x.a=0,x.$=Ye-I}return 1}return x.a=3,0}function mr(x){e(x!=null),x.vc=null,x.yc=null,x.Ya=null;var _=x.Wa;_!=null&&(_.X=null),x.vb=null,e(x!=null)}function Qr(){var x=new Tr;return x==null?null:(x.a=0,x.xb=$A,Nr("Predictor","VP8LPredictors"),Nr("Predictor","VP8LPredictors_C"),Nr("PredictorAdd","VP8LPredictorsAdd"),Nr("PredictorAdd","VP8LPredictorsAdd_C"),ws=sr,Ko=er,Eo=Hr,Hi=cr,yi=Yt,Ia=Xt,Ji=ar,G.VP8LMapColor32b=Zi,G.VP8LMapColor8b=Us,x)}function Cn(x,_,I,Q,Y){var se=1,oe=[x],pe=[_],be=Q.m,_e=Q.s,Fe=null,Ye=0;e:for(;;){if(I)for(;se&&M(be,1);){var we=oe,De=pe,Ge=Q,ht=1,Xe=Ge.m,dt=Ge.gc[Ge.ab],xt=M(Xe,2);if(Ge.Oc&1<<xt)se=0;else{switch(Ge.Oc|=1<<xt,dt.hc=xt,dt.Ea=we[0],dt.nc=De[0],dt.K=[null],++Ge.ab,e(4>=Ge.ab),xt){case 0:case 1:dt.b=M(Xe,3)+2,ht=Cn(ue(dt.Ea,dt.b),ue(dt.nc,dt.b),0,Ge,dt.K),dt.K=dt.K[0];break;case 3:var kt,Nt=M(Xe,8)+1,wr=16<Nt?0:4<Nt?1:2<Nt?2:3;if(we[0]=ue(dt.Ea,wr),dt.b=wr,kt=ht=Cn(Nt,1,0,Ge,dt.K)){var lr,Kr=Nt,pr=dt,fn=1<<(8>>pr.b),ds=l(fn);if(ds==null)kt=0;else{var Gr=pr.K[0],Ar=pr.w;for(ds[0]=pr.K[0][0],lr=1;lr<1*Kr;++lr)ds[lr]=Ze(Gr[Ar+lr],ds[lr-1]);for(;lr<4*fn;++lr)ds[lr]=0;pr.K[0]=null,pr.K[0]=ds,kt=1}}ht=kt;break;case 2:break;default:e(0)}se=ht}}if(oe=oe[0],pe=pe[0],se&&M(be,1)&&!(se=1<=(Ye=M(be,4))&&11>=Ye)){Q.a=3;break e}var $t;if($t=se)t:{var Bs,Fr,en,qn=Q,pa=oe,Ra=pe,ss=Ye,Ws=I,Ka=qn.m,ea=qn.s,ln=[null],jn=1,Ns=0,Tn=qe[ss];r:for(;;){if(Ws&&M(Ka,1)){var ma=M(Ka,3)+2,Cs=ue(pa,ma),Ln=ue(Ra,ma),Gs=Cs*Ln;if(!Cn(Cs,Ln,0,qn,ln))break r;for(ln=ln[0],ea.xc=ma,Bs=0;Bs<Gs;++Bs){var zn=ln[Bs]>>8&65535;ln[Bs]=zn,zn>=jn&&(jn=zn+1)}}if(Ka.h)break r;for(Fr=0;5>Fr;++Fr){var ta=E[Fr];!Fr&&0<ss&&(ta+=1<<ss),Ns<ta&&(Ns=ta)}var ra=d(jn*Tn,ie),Wn=jn,Nn=d(Wn,he);if(Nn==null)var Va=null;else e(65536>=Wn),Va=Nn;var Ts=l(Ns);if(Va==null||Ts==null||ra==null){qn.a=1;break r}var Ur=ra;for(Bs=en=0;Bs<jn;++Bs){var Ir=Va[Bs],Un=Ir.G,Ni=Ir.H,no=0,li=1,na=0;for(Fr=0;5>Fr;++Fr){ta=E[Fr],Un[Fr]=Ur,Ni[Fr]=en,!Fr&&0<ss&&(ta+=1<<ss);s:{var Zl,Xl=ta,_d=qn,as=Ts,Qu=Ur,Ru=en,Bd=0,ml=_d.m,Ng=M(ml,1);if(i(as,0,0,Xl),Ng){var Du=M(ml,1)+1,Mu=M(ml,1),Nd=M(ml,Mu==0?1:8);as[Nd]=1,Du==2&&(as[Nd=M(ml,8)]=1);var Na=1}else{var Fs=l(19),Qc=M(ml,4)+4;if(19<Qc){_d.a=3;var Jl=0;break s}for(Zl=0;Zl<Qc;++Zl)Fs[ae[Zl]]=M(ml,3);var JA=void 0,bA=void 0,$o=_d,Cd=Fs,YA=Xl,Ed=as,Sd=0,gl=$o.m,Pu=8,Hu=d(128,ie);n:for(;W(Hu,0,7,Cd,19);){if(M(gl,1)){var Nf=2+2*M(gl,3);if((JA=2+M(gl,Nf))>YA)break n}else JA=YA;for(bA=0;bA<YA&&JA--;){Be(gl);var qu=Hu[0+(127&X(gl))];xe(gl,gl.u+qu.g);var Yl=qu.value;if(16>Yl)Ed[bA++]=Yl,Yl!=0&&(Pu=Yl);else{var Cf=Yl==16,Ef=Yl-16,Sf=v[Ef],zu=M(gl,f[Ef])+Sf;if(bA+zu>YA)break n;for(var jf=Cf?Pu:0;0<zu--;)Ed[bA++]=jf}}Sd=1;break n}Sd||($o.a=3),Na=Sd}(Na=Na&&!ml.h)&&(Bd=W(Qu,Ru,8,as,Xl)),Na&&Bd!=0?Jl=Bd:(_d.a=3,Jl=0)}if(Jl==0)break r;if(li&&R[Fr]==1&&(li=Ur[en].g==0),no+=Ur[en].g,en+=Jl,3>=Fr){var vA,jd=Ts[0];for(vA=1;vA<ta;++vA)Ts[vA]>jd&&(jd=Ts[vA]);na+=jd}}if(Ir.nd=li,Ir.Qb=0,li&&(Ir.qb=(Un[3][Ni[3]+0].value<<24|Un[1][Ni[1]+0].value<<16|Un[2][Ni[2]+0].value)>>>0,no==0&&256>Un[0][Ni[0]+0].value&&(Ir.Qb=1,Ir.qb+=Un[0][Ni[0]+0].value<<8)),Ir.jc=!Ir.Qb&&6>na,Ir.jc){var Rc,Zo=Ir;for(Rc=0;Rc<Mi;++Rc){var xl=Rc,bl=Zo.pd[xl],Ld=Zo.G[0][Zo.H[0]+xl];256<=Ld.value?(bl.g=Ld.g+256,bl.value=Ld.value):(bl.g=0,bl.value=0,xl>>=Ft(Ld,8,bl),xl>>=Ft(Zo.G[1][Zo.H[1]+xl],16,bl),xl>>=Ft(Zo.G[2][Zo.H[2]+xl],0,bl),Ft(Zo.G[3][Zo.H[3]+xl],24,bl))}}}ea.vc=ln,ea.Wb=jn,ea.Ya=Va,ea.yc=ra,$t=1;break t}$t=0}if(!(se=$t)){Q.a=3;break e}if(0<Ye){if(_e.ua=1<<Ye,!fe(_e.Wa,Ye)){Q.a=1,se=0;break e}}else _e.ua=0;var Ud=Q,yA=oe,Lf=pe,WA=Ud.s,ec=WA.xc;if(Ud.c=yA,Ud.i=Lf,WA.md=ue(yA,ec),WA.wc=ec==0?-1:(1<<ec)-1,I){Q.xb=Go;break e}if((Fe=l(oe*pe))==null){Q.a=1,se=0;break e}se=(se=qt(Q,Fe,0,oe,pe,pe,null))&&!be.h;break e}return se?(Y!=null?Y[0]=Fe:(e(Fe==null),e(I)),Q.$=0,I||mr(_e)):mr(_e),se}function Gn(x,_){var I=x.c*x.i,Q=I+_+16*_;return e(x.c<=_),x.V=l(Q),x.V==null?(x.Ta=null,x.Ua=0,x.a=1,0):(x.Ta=x.V,x.Ua=x.Ba+I+_,1)}function Ps(x,_){var I=x.C,Q=_-I,Y=x.V,se=x.Ba+x.c*I;for(e(_<=x.l.o);0<Q;){var oe=16<Q?16:Q,pe=x.l.ma,be=x.l.width,_e=be*oe,Fe=pe.ca,Ye=pe.tb+be*I,we=x.Ta,De=x.Ua;Ms(x,oe,Y,se),ai(we,De,Fe,Ye,_e),Te(pe,I,I+oe,Fe,Ye,be),Q-=oe,Y+=oe*x.c,I+=oe}e(I==_),x.C=x.Ma=_}function On(){this.ub=this.yd=this.td=this.Rb=0}function As(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function le(){this.Fb=this.Bb=this.Cb=0,this.Zb=l(4),this.Lb=l(4)}function Me(){this.Yb=(function(){var x=[];return(function _(I,Q,Y){for(var se=Y[Q],oe=0;oe<se&&(I.push(Y.length>Q+1?[]:0),!(Y.length<Q+1));oe++)_(I[oe],Q+1,Y)})(x,0,[3,11]),x})()}function $e(){this.jb=l(3),this.Wc=u([4,8],Me),this.Xc=u([4,17],Me)}function At(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new l(4),this.od=new l(4)}function jt(){this.ld=this.La=this.dd=this.tc=0}function Mt(){this.Na=this.la=0}function Z(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Je(){this.ad=l(384),this.Za=0,this.Ob=l(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function mt(){this.uc=this.M=this.Nb=0,this.wa=Array(new jt),this.Y=0,this.ya=Array(new Je),this.aa=0,this.l=new Gt}function nt(){this.y=l(16),this.f=l(8),this.ea=l(8)}function Ot(){this.cb=this.a=0,this.sc="",this.m=new T,this.Od=new On,this.Kc=new As,this.ed=new At,this.Qa=new le,this.Ic=this.$c=this.Aa=0,this.D=new mt,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=d(8,T),this.ia=0,this.pb=d(4,Z),this.Pa=new $e,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new nt),this.Hd=0,this.rb=Array(new Mt),this.sb=0,this.wa=Array(new jt),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Je),this.L=this.aa=0,this.gd=u([4,2],jt),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function _t(x,_){return 0>x?0:x>_?_:x}function Gt(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function gr(){var x=new Ot;return x!=null&&(x.a=0,x.sc="OK",x.cb=0,x.Xb=0,br||(br=Br)),x}function zt(x,_,I){return x.a==0&&(x.a=_,x.sc=I,x.cb=0),0}function In(x,_,I){return 3<=I&&x[_+0]==157&&x[_+1]==1&&x[_+2]==42}function fs(x,_){if(x==null)return 0;if(x.a=0,x.sc="OK",_==null)return zt(x,2,"null VP8Io passed to VP8GetHeaders()");var I=_.data,Q=_.w,Y=_.ha;if(4>Y)return zt(x,7,"Truncated header.");var se=I[Q+0]|I[Q+1]<<8|I[Q+2]<<16,oe=x.Od;if(oe.Rb=!(1&se),oe.td=se>>1&7,oe.yd=se>>4&1,oe.ub=se>>5,3<oe.td)return zt(x,3,"Incorrect keyframe parameters.");if(!oe.yd)return zt(x,4,"Frame not displayable.");Q+=3,Y-=3;var pe=x.Kc;if(oe.Rb){if(7>Y)return zt(x,7,"cannot parse picture header");if(!In(I,Q,Y))return zt(x,3,"Bad code word");pe.c=16383&(I[Q+4]<<8|I[Q+3]),pe.Td=I[Q+4]>>6,pe.i=16383&(I[Q+6]<<8|I[Q+5]),pe.Ud=I[Q+6]>>6,Q+=7,Y-=7,x.za=pe.c+15>>4,x.Ub=pe.i+15>>4,_.width=pe.c,_.height=pe.i,_.Da=0,_.j=0,_.v=0,_.va=_.width,_.o=_.height,_.da=0,_.ib=_.width,_.hb=_.height,_.U=_.width,_.T=_.height,i((se=x.Pa).jb,0,255,se.jb.length),e((se=x.Qa)!=null),se.Cb=0,se.Bb=0,se.Fb=1,i(se.Zb,0,0,se.Zb.length),i(se.Lb,0,0,se.Lb)}if(oe.ub>Y)return zt(x,7,"bad partition length");V(se=x.m,I,Q,oe.ub),Q+=oe.ub,Y-=oe.ub,oe.Rb&&(pe.Ld=ge(se),pe.Kd=ge(se)),pe=x.Qa;var be,_e=x.Pa;if(e(se!=null),e(pe!=null),pe.Cb=ge(se),pe.Cb){if(pe.Bb=ge(se),ge(se)){for(pe.Fb=ge(se),be=0;4>be;++be)pe.Zb[be]=ge(se)?ee(se,7):0;for(be=0;4>be;++be)pe.Lb[be]=ge(se)?ee(se,6):0}if(pe.Bb)for(be=0;3>be;++be)_e.jb[be]=ge(se)?me(se,8):255}else pe.Bb=0;if(se.Ka)return zt(x,3,"cannot parse segment header");if((pe=x.ed).zd=ge(se),pe.Tb=me(se,6),pe.wb=me(se,3),pe.Pc=ge(se),pe.Pc&&ge(se)){for(_e=0;4>_e;++_e)ge(se)&&(pe.vd[_e]=ee(se,6));for(_e=0;4>_e;++_e)ge(se)&&(pe.od[_e]=ee(se,6))}if(x.L=pe.Tb==0?0:pe.zd?1:2,se.Ka)return zt(x,3,"cannot parse filter header");var Fe=Y;if(Y=be=Q,Q=be+Fe,pe=Fe,x.Xb=(1<<me(x.m,2))-1,Fe<3*(_e=x.Xb))I=7;else{for(be+=3*_e,pe-=3*_e,Fe=0;Fe<_e;++Fe){var Ye=I[Y+0]|I[Y+1]<<8|I[Y+2]<<16;Ye>pe&&(Ye=pe),V(x.Jc[+Fe],I,be,Ye),be+=Ye,pe-=Ye,Y+=3}V(x.Jc[+_e],I,be,pe),I=be<Q?0:5}if(I!=0)return zt(x,I,"cannot parse partitions");for(I=me(be=x.m,7),Y=ge(be)?ee(be,4):0,Q=ge(be)?ee(be,4):0,pe=ge(be)?ee(be,4):0,_e=ge(be)?ee(be,4):0,be=ge(be)?ee(be,4):0,Fe=x.Qa,Ye=0;4>Ye;++Ye){if(Fe.Cb){var we=Fe.Zb[Ye];Fe.Fb||(we+=I)}else{if(0<Ye){x.pb[Ye]=x.pb[0];continue}we=I}var De=x.pb[Ye];De.Sc[0]=vt[_t(we+Y,127)],De.Sc[1]=Kt[_t(we+0,127)],De.Eb[0]=2*vt[_t(we+Q,127)],De.Eb[1]=101581*Kt[_t(we+pe,127)]>>16,8>De.Eb[1]&&(De.Eb[1]=8),De.Qc[0]=vt[_t(we+_e,117)],De.Qc[1]=Kt[_t(we+be,127)],De.lc=we+be}if(!oe.Rb)return zt(x,4,"Not a key frame.");for(ge(se),oe=x.Pa,I=0;4>I;++I){for(Y=0;8>Y;++Y)for(Q=0;3>Q;++Q)for(pe=0;11>pe;++pe)_e=je(se,Sn[I][Y][Q][pe])?me(se,8):oi[I][Y][Q][pe],oe.Wc[I][Y].Yb[Q][pe]=_e;for(Y=0;17>Y;++Y)oe.Xc[I][Y]=oe.Wc[I][cn[Y]]}return x.kc=ge(se),x.kc&&(x.Bd=me(se,8)),x.cb=1}function Br(x,_,I,Q,Y,se,oe){var pe=_[Y].Yb[I];for(I=0;16>Y;++Y){if(!je(x,pe[I+0]))return Y;for(;!je(x,pe[I+1]);)if(pe=_[++Y].Yb[0],I=0,Y==16)return 16;var be=_[Y+1].Yb;if(je(x,pe[I+2])){var _e=x,Fe=0;if(je(_e,(we=pe)[(Ye=I)+3]))if(je(_e,we[Ye+6])){for(pe=0,Ye=2*(Fe=je(_e,we[Ye+8]))+(we=je(_e,we[Ye+9+Fe])),Fe=0,we=Wr[Ye];we[pe];++pe)Fe+=Fe+je(_e,we[pe]);Fe+=3+(8<<Ye)}else je(_e,we[Ye+7])?(Fe=7+2*je(_e,165),Fe+=je(_e,145)):Fe=5+je(_e,159);else Fe=je(_e,we[Ye+4])?3+je(_e,we[Ye+5]):2;pe=be[2]}else Fe=1,pe=be[1];be=oe+fa[Y],0>(_e=x).b&&ke(_e);var Ye,we=_e.b,De=(Ye=_e.Ca>>1)-(_e.I>>we)>>31;--_e.b,_e.Ca+=De,_e.Ca|=1,_e.I-=(Ye+1&De)<<we,se[be]=((Fe^De)-De)*Q[(0<Y)+0]}return 16}function rn(x){var _=x.rb[x.sb-1];_.la=0,_.Na=0,i(x.zc,0,0,x.zc.length),x.ja=0}function $n(x,_,I,Q,Y){Y=x[_+I+32*Q]+(Y>>3),x[_+I+32*Q]=-256&Y?0>Y?0:255:Y}function Qn(x,_,I,Q,Y,se){$n(x,_,0,I,Q+Y),$n(x,_,1,I,Q+se),$n(x,_,2,I,Q-se),$n(x,_,3,I,Q-Y)}function on(x){return(20091*x>>16)+x}function pi(x,_,I,Q){var Y,se=0,oe=l(16);for(Y=0;4>Y;++Y){var pe=x[_+0]+x[_+8],be=x[_+0]-x[_+8],_e=(35468*x[_+4]>>16)-on(x[_+12]),Fe=on(x[_+4])+(35468*x[_+12]>>16);oe[se+0]=pe+Fe,oe[se+1]=be+_e,oe[se+2]=be-_e,oe[se+3]=pe-Fe,se+=4,_++}for(Y=se=0;4>Y;++Y)pe=(x=oe[se+0]+4)+oe[se+8],be=x-oe[se+8],_e=(35468*oe[se+4]>>16)-on(oe[se+12]),$n(I,Q,0,0,pe+(Fe=on(oe[se+4])+(35468*oe[se+12]>>16))),$n(I,Q,1,0,be+_e),$n(I,Q,2,0,be-_e),$n(I,Q,3,0,pe-Fe),se++,Q+=32}function Ja(x,_,I,Q){var Y=x[_+0]+4,se=35468*x[_+4]>>16,oe=on(x[_+4]),pe=35468*x[_+1]>>16;Qn(I,Q,0,Y+oe,x=on(x[_+1]),pe),Qn(I,Q,1,Y+se,x,pe),Qn(I,Q,2,Y-se,x,pe),Qn(I,Q,3,Y-oe,x,pe)}function ve(x,_,I,Q,Y){pi(x,_,I,Q),Y&&pi(x,_+16,I,Q+4)}function He(x,_,I,Q){Yi(x,_+0,I,Q,1),Yi(x,_+32,I,Q+128,1)}function Qt(x,_,I,Q){var Y;for(x=x[_+0]+4,Y=0;4>Y;++Y)for(_=0;4>_;++_)$n(I,Q,_,Y,x)}function Tt(x,_,I,Q){x[_+0]&&Bn(x,_+0,I,Q),x[_+16]&&Bn(x,_+16,I,Q+4),x[_+32]&&Bn(x,_+32,I,Q+128),x[_+48]&&Bn(x,_+48,I,Q+128+4)}function dr(x,_,I,Q){var Y,se=l(16);for(Y=0;4>Y;++Y){var oe=x[_+0+Y]+x[_+12+Y],pe=x[_+4+Y]+x[_+8+Y],be=x[_+4+Y]-x[_+8+Y],_e=x[_+0+Y]-x[_+12+Y];se[0+Y]=oe+pe,se[8+Y]=oe-pe,se[4+Y]=_e+be,se[12+Y]=_e-be}for(Y=0;4>Y;++Y)oe=(x=se[0+4*Y]+3)+se[3+4*Y],pe=se[1+4*Y]+se[2+4*Y],be=se[1+4*Y]-se[2+4*Y],_e=x-se[3+4*Y],I[Q+0]=oe+pe>>3,I[Q+16]=_e+be>>3,I[Q+32]=oe-pe>>3,I[Q+48]=_e-be>>3,Q+=64}function hr(x,_,I){var Q,Y=_-32,se=ua,oe=255-x[Y-1];for(Q=0;Q<I;++Q){var pe,be=se,_e=oe+x[_-1];for(pe=0;pe<I;++pe)x[_+pe]=be[_e+x[Y+pe]];_+=32}}function Rt(x,_){hr(x,_,4)}function Lr(x,_){hr(x,_,8)}function Mr(x,_){hr(x,_,16)}function kn(x,_){var I;for(I=0;16>I;++I)n(x,_+32*I,x,_-32,16)}function wa(x,_){var I;for(I=16;0<I;--I)i(x,_,x[_-1],16),_+=32}function Hn(x,_,I){var Q;for(Q=0;16>Q;++Q)i(_,I+32*Q,x,16)}function Jr(x,_){var I,Q=16;for(I=0;16>I;++I)Q+=x[_-1+32*I]+x[_+I-32];Hn(Q>>5,x,_)}function js(x,_){var I,Q=8;for(I=0;16>I;++I)Q+=x[_-1+32*I];Hn(Q>>4,x,_)}function Zs(x,_){var I,Q=8;for(I=0;16>I;++I)Q+=x[_+I-32];Hn(Q>>4,x,_)}function Fi(x,_){Hn(128,x,_)}function Ut(x,_,I){return x+2*_+I+2>>2}function La(x,_){var I,Q=_-32;for(Q=new Uint8Array([Ut(x[Q-1],x[Q+0],x[Q+1]),Ut(x[Q+0],x[Q+1],x[Q+2]),Ut(x[Q+1],x[Q+2],x[Q+3]),Ut(x[Q+2],x[Q+3],x[Q+4])]),I=0;4>I;++I)n(x,_+32*I,Q,0,Q.length)}function mn(x,_){var I=x[_-1],Q=x[_-1+32],Y=x[_-1+64],se=x[_-1+96];Qe(x,_+0,16843009*Ut(x[_-1-32],I,Q)),Qe(x,_+32,16843009*Ut(I,Q,Y)),Qe(x,_+64,16843009*Ut(Q,Y,se)),Qe(x,_+96,16843009*Ut(Y,se,se))}function bo(x,_){var I,Q=4;for(I=0;4>I;++I)Q+=x[_+I-32]+x[_-1+32*I];for(Q>>=3,I=0;4>I;++I)i(x,_+32*I,Q,4)}function Aa(x,_){var I=x[_-1+0],Q=x[_-1+32],Y=x[_-1+64],se=x[_-1-32],oe=x[_+0-32],pe=x[_+1-32],be=x[_+2-32],_e=x[_+3-32];x[_+0+96]=Ut(Q,Y,x[_-1+96]),x[_+1+96]=x[_+0+64]=Ut(I,Q,Y),x[_+2+96]=x[_+1+64]=x[_+0+32]=Ut(se,I,Q),x[_+3+96]=x[_+2+64]=x[_+1+32]=x[_+0+0]=Ut(oe,se,I),x[_+3+64]=x[_+2+32]=x[_+1+0]=Ut(pe,oe,se),x[_+3+32]=x[_+2+0]=Ut(be,pe,oe),x[_+3+0]=Ut(_e,be,pe)}function Hs(x,_){var I=x[_+1-32],Q=x[_+2-32],Y=x[_+3-32],se=x[_+4-32],oe=x[_+5-32],pe=x[_+6-32],be=x[_+7-32];x[_+0+0]=Ut(x[_+0-32],I,Q),x[_+1+0]=x[_+0+32]=Ut(I,Q,Y),x[_+2+0]=x[_+1+32]=x[_+0+64]=Ut(Q,Y,se),x[_+3+0]=x[_+2+32]=x[_+1+64]=x[_+0+96]=Ut(Y,se,oe),x[_+3+32]=x[_+2+64]=x[_+1+96]=Ut(se,oe,pe),x[_+3+64]=x[_+2+96]=Ut(oe,pe,be),x[_+3+96]=Ut(pe,be,be)}function ll(x,_){var I=x[_-1+0],Q=x[_-1+32],Y=x[_-1+64],se=x[_-1-32],oe=x[_+0-32],pe=x[_+1-32],be=x[_+2-32],_e=x[_+3-32];x[_+0+0]=x[_+1+64]=se+oe+1>>1,x[_+1+0]=x[_+2+64]=oe+pe+1>>1,x[_+2+0]=x[_+3+64]=pe+be+1>>1,x[_+3+0]=be+_e+1>>1,x[_+0+96]=Ut(Y,Q,I),x[_+0+64]=Ut(Q,I,se),x[_+0+32]=x[_+1+96]=Ut(I,se,oe),x[_+1+32]=x[_+2+96]=Ut(se,oe,pe),x[_+2+32]=x[_+3+96]=Ut(oe,pe,be),x[_+3+32]=Ut(pe,be,_e)}function Ya(x,_){var I=x[_+0-32],Q=x[_+1-32],Y=x[_+2-32],se=x[_+3-32],oe=x[_+4-32],pe=x[_+5-32],be=x[_+6-32],_e=x[_+7-32];x[_+0+0]=I+Q+1>>1,x[_+1+0]=x[_+0+64]=Q+Y+1>>1,x[_+2+0]=x[_+1+64]=Y+se+1>>1,x[_+3+0]=x[_+2+64]=se+oe+1>>1,x[_+0+32]=Ut(I,Q,Y),x[_+1+32]=x[_+0+96]=Ut(Q,Y,se),x[_+2+32]=x[_+1+96]=Ut(Y,se,oe),x[_+3+32]=x[_+2+96]=Ut(se,oe,pe),x[_+3+64]=Ut(oe,pe,be),x[_+3+96]=Ut(pe,be,_e)}function Ua(x,_){var I=x[_-1+0],Q=x[_-1+32],Y=x[_-1+64],se=x[_-1+96];x[_+0+0]=I+Q+1>>1,x[_+2+0]=x[_+0+32]=Q+Y+1>>1,x[_+2+32]=x[_+0+64]=Y+se+1>>1,x[_+1+0]=Ut(I,Q,Y),x[_+3+0]=x[_+1+32]=Ut(Q,Y,se),x[_+3+32]=x[_+1+64]=Ut(Y,se,se),x[_+3+64]=x[_+2+64]=x[_+0+96]=x[_+1+96]=x[_+2+96]=x[_+3+96]=se}function Oi(x,_){var I=x[_-1+0],Q=x[_-1+32],Y=x[_-1+64],se=x[_-1+96],oe=x[_-1-32],pe=x[_+0-32],be=x[_+1-32],_e=x[_+2-32];x[_+0+0]=x[_+2+32]=I+oe+1>>1,x[_+0+32]=x[_+2+64]=Q+I+1>>1,x[_+0+64]=x[_+2+96]=Y+Q+1>>1,x[_+0+96]=se+Y+1>>1,x[_+3+0]=Ut(pe,be,_e),x[_+2+0]=Ut(oe,pe,be),x[_+1+0]=x[_+3+32]=Ut(I,oe,pe),x[_+1+32]=x[_+3+64]=Ut(Q,I,oe),x[_+1+64]=x[_+3+96]=Ut(Y,Q,I),x[_+1+96]=Ut(se,Y,Q)}function Zn(x,_){var I;for(I=0;8>I;++I)n(x,_+32*I,x,_-32,8)}function Ki(x,_){var I;for(I=0;8>I;++I)i(x,_,x[_-1],8),_+=32}function Wa(x,_,I){var Q;for(Q=0;8>Q;++Q)i(_,I+32*Q,x,8)}function Al(x,_){var I,Q=8;for(I=0;8>I;++I)Q+=x[_+I-32]+x[_-1+32*I];Wa(Q>>4,x,_)}function Fl(x,_){var I,Q=4;for(I=0;8>I;++I)Q+=x[_+I-32];Wa(Q>>3,x,_)}function qs(x,_){var I,Q=4;for(I=0;8>I;++I)Q+=x[_-1+32*I];Wa(Q>>3,x,_)}function mi(x,_){Wa(128,x,_)}function gi(x,_,I){var Q=x[_-I],Y=x[_+0],se=3*(Y-Q)+_i[1020+x[_-2*I]-x[_+I]],oe=jo[112+(se+4>>3)];x[_-I]=ua[255+Q+jo[112+(se+3>>3)]],x[_+0]=ua[255+Y-oe]}function Vi(x,_,I,Q){var Y=x[_+0],se=x[_+I];return Ys[255+x[_-2*I]-x[_-I]]>Q||Ys[255+se-Y]>Q}function Yr(x,_,I,Q){return 4*Ys[255+x[_-I]-x[_+0]]+Ys[255+x[_-2*I]-x[_+I]]<=Q}function cl(x,_,I,Q,Y){var se=x[_-3*I],oe=x[_-2*I],pe=x[_-I],be=x[_+0],_e=x[_+I],Fe=x[_+2*I],Ye=x[_+3*I];return 4*Ys[255+pe-be]+Ys[255+oe-_e]>Q?0:Ys[255+x[_-4*I]-se]<=Y&&Ys[255+se-oe]<=Y&&Ys[255+oe-pe]<=Y&&Ys[255+Ye-Fe]<=Y&&Ys[255+Fe-_e]<=Y&&Ys[255+_e-be]<=Y}function zs(x,_,I,Q){var Y=2*Q+1;for(Q=0;16>Q;++Q)Yr(x,_+Q,I,Y)&&gi(x,_+Q,I)}function ei(x,_,I,Q){var Y=2*Q+1;for(Q=0;16>Q;++Q)Yr(x,_+Q*I,1,Y)&&gi(x,_+Q*I,1)}function Ho(x,_,I,Q){var Y;for(Y=3;0<Y;--Y)zs(x,_+=4*I,I,Q)}function uA(x,_,I,Q){var Y;for(Y=3;0<Y;--Y)ei(x,_+=4,I,Q)}function Qi(x,_,I,Q,Y,se,oe,pe){for(se=2*se+1;0<Y--;){if(cl(x,_,I,se,oe))if(Vi(x,_,I,pe))gi(x,_,I);else{var be=x,_e=_,Fe=I,Ye=be[_e-2*Fe],we=be[_e-Fe],De=be[_e+0],Ge=be[_e+Fe],ht=be[_e+2*Fe],Xe=27*(xt=_i[1020+3*(De-we)+_i[1020+Ye-Ge]])+63>>7,dt=18*xt+63>>7,xt=9*xt+63>>7;be[_e-3*Fe]=ua[255+be[_e-3*Fe]+xt],be[_e-2*Fe]=ua[255+Ye+dt],be[_e-Fe]=ua[255+we+Xe],be[_e+0]=ua[255+De-Xe],be[_e+Fe]=ua[255+Ge-dt],be[_e+2*Fe]=ua[255+ht-xt]}_+=Q}}function vo(x,_,I,Q,Y,se,oe,pe){for(se=2*se+1;0<Y--;){if(cl(x,_,I,se,oe))if(Vi(x,_,I,pe))gi(x,_,I);else{var be=x,_e=_,Fe=I,Ye=be[_e-Fe],we=be[_e+0],De=be[_e+Fe],Ge=jo[112+(4+(ht=3*(we-Ye))>>3)],ht=jo[112+(ht+3>>3)],Xe=Ge+1>>1;be[_e-2*Fe]=ua[255+be[_e-2*Fe]+Xe],be[_e-Fe]=ua[255+Ye+ht],be[_e+0]=ua[255+we-Ge],be[_e+Fe]=ua[255+De-Xe]}_+=Q}}function hA(x,_,I,Q,Y,se){Qi(x,_,I,1,16,Q,Y,se)}function yo(x,_,I,Q,Y,se){Qi(x,_,1,I,16,Q,Y,se)}function KA(x,_,I,Q,Y,se){var oe;for(oe=3;0<oe;--oe)vo(x,_+=4*I,I,1,16,Q,Y,se)}function j(x,_,I,Q,Y,se){var oe;for(oe=3;0<oe;--oe)vo(x,_+=4,1,I,16,Q,Y,se)}function J(x,_,I,Q,Y,se,oe,pe){Qi(x,_,Y,1,8,se,oe,pe),Qi(I,Q,Y,1,8,se,oe,pe)}function ye(x,_,I,Q,Y,se,oe,pe){Qi(x,_,1,Y,8,se,oe,pe),Qi(I,Q,1,Y,8,se,oe,pe)}function Ie(x,_,I,Q,Y,se,oe,pe){vo(x,_+4*Y,Y,1,8,se,oe,pe),vo(I,Q+4*Y,Y,1,8,se,oe,pe)}function Pe(x,_,I,Q,Y,se,oe,pe){vo(x,_+4,1,Y,8,se,oe,pe),vo(I,Q+4,1,Y,8,se,oe,pe)}function ct(){this.ba=new Ke,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ut,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ct(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function fr(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function xr(){this.ua=0,this.Wa=new St,this.vb=new St,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new he,this.yc=new ie}function Tr(){this.xb=this.a=0,this.l=new Gt,this.ca=new Ke,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new $,this.Pb=0,this.wd=new $,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new xr,this.ab=0,this.gc=d(4,fr),this.Oc=0}function zr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Gt,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function un(x,_,I,Q,Y,se,oe){for(x=x==null?0:x[_+0],_=0;_<oe;++_)Y[se+_]=x+I[Q+_]&255,x=Y[se+_]}function cs(x,_,I,Q,Y,se,oe){var pe;if(x==null)un(null,null,I,Q,Y,se,oe);else for(pe=0;pe<oe;++pe)Y[se+pe]=x[_+pe]+I[Q+pe]&255}function vs(x,_,I,Q,Y,se,oe){if(x==null)un(null,null,I,Q,Y,se,oe);else{var pe,be=x[_+0],_e=be,Fe=be;for(pe=0;pe<oe;++pe)_e=Fe+(be=x[_+pe])-_e,Fe=I[Q+pe]+(-256&_e?0>_e?0:255:_e)&255,_e=be,Y[se+pe]=Fe}}function Rn(x,_,I,Q){var Y=_.width,se=_.o;if(e(x!=null&&_!=null),0>I||0>=Q||I+Q>se)return null;if(!x.Cc){if(x.ga==null){var oe;if(x.ga=new zr,(oe=x.ga==null)||(oe=_.width*_.o,e(x.Gb.length==0),x.Gb=l(oe),x.Uc=0,x.Gb==null?oe=0:(x.mb=x.Gb,x.nb=x.Uc,x.rc=null,oe=1),oe=!oe),!oe){oe=x.ga;var pe=x.Fa,be=x.P,_e=x.qc,Fe=x.mb,Ye=x.nb,we=be+1,De=_e-1,Ge=oe.l;if(e(pe!=null&&Fe!=null&&_!=null),Dn[0]=null,Dn[1]=un,Dn[2]=cs,Dn[3]=vs,oe.ca=Fe,oe.tb=Ye,oe.c=_.width,oe.i=_.height,e(0<oe.c&&0<oe.i),1>=_e)_=0;else if(oe.$a=3&pe[be+0],oe.Z=pe[be+0]>>2&3,oe.Lc=pe[be+0]>>4&3,be=pe[be+0]>>6&3,0>oe.$a||1<oe.$a||4<=oe.Z||1<oe.Lc||be)_=0;else if(Ge.put=It,Ge.ac=dn,Ge.bc=An,Ge.ma=oe,Ge.width=_.width,Ge.height=_.height,Ge.Da=_.Da,Ge.v=_.v,Ge.va=_.va,Ge.j=_.j,Ge.o=_.o,oe.$a)e:{e(oe.$a==1),_=Qr();t:for(;;){if(_==null){_=0;break e}if(e(oe!=null),oe.mc=_,_.c=oe.c,_.i=oe.i,_.l=oe.l,_.l.ma=oe,_.l.width=oe.c,_.l.height=oe.i,_.a=0,Ce(_.m,pe,we,De),!Cn(oe.c,oe.i,1,_,null)||(_.ab==1&&_.gc[0].hc==3&&tn(_.s)?(oe.ic=1,pe=_.c*_.i,_.Ta=null,_.Ua=0,_.V=l(pe),_.Ba=0,_.V==null?(_.a=1,_=0):_=1):(oe.ic=0,_=Gn(_,oe.c)),!_))break t;_=1;break e}oe.mc=null,_=0}else _=De>=oe.c*oe.i;oe=!_}if(oe)return null;x.ga.Lc!=1?x.Ga=0:Q=se-I}e(x.ga!=null),e(I+Q<=se);e:{if(_=(pe=x.ga).c,se=pe.l.o,pe.$a==0){if(we=x.rc,De=x.Vc,Ge=x.Fa,be=x.P+1+I*_,_e=x.mb,Fe=x.nb+I*_,e(be<=x.P+x.qc),pe.Z!=0)for(e(Dn[pe.Z]!=null),oe=0;oe<Q;++oe)Dn[pe.Z](we,De,Ge,be,_e,Fe,_),we=_e,De=Fe,Fe+=_,be+=_;else for(oe=0;oe<Q;++oe)n(_e,Fe,Ge,be,_),we=_e,De=Fe,Fe+=_,be+=_;x.rc=we,x.Vc=De}else{if(e(pe.mc!=null),_=I+Q,e((oe=pe.mc)!=null),e(_<=oe.i),oe.C>=_)_=1;else if(pe.ic||ca(),pe.ic){pe=oe.V,we=oe.Ba,De=oe.c;var ht=oe.i,Xe=(Ge=1,be=oe.$/De,_e=oe.$%De,Fe=oe.m,Ye=oe.s,oe.$),dt=De*ht,xt=De*_,kt=Ye.wc,Nt=Xe<xt?Fn(Ye,_e,be):null;e(Xe<=dt),e(_<=ht),e(tn(Ye));t:for(;;){for(;!Fe.h&&Xe<xt;){if(_e&kt||(Nt=Fn(Ye,_e,be)),e(Nt!=null),Be(Fe),256>(ht=Pr(Nt.G[0],Nt.H[0],Fe)))pe[we+Xe]=ht,++Xe,++_e>=De&&(_e=0,++be<=_&&!(be%16)&&wt(oe,be));else{if(!(280>ht)){Ge=0;break t}ht=pn(ht-256,Fe);var wr,lr=Pr(Nt.G[4],Nt.H[4],Fe);if(Be(Fe),!(Xe>=(lr=sn(De,lr=pn(lr,Fe)))&&dt-Xe>=ht)){Ge=0;break t}for(wr=0;wr<ht;++wr)pe[we+Xe+wr]=pe[we+Xe+wr-lr];for(Xe+=ht,_e+=ht;_e>=De;)_e-=De,++be<=_&&!(be%16)&&wt(oe,be);Xe<xt&&_e&kt&&(Nt=Fn(Ye,_e,be))}e(Fe.h==Ae(Fe))}wt(oe,be>_?_:be);break t}!Ge||Fe.h&&Xe<dt?(Ge=0,oe.a=Fe.h?5:3):oe.$=Xe,_=Ge}else _=qt(oe,oe.V,oe.Ba,oe.c,oe.i,_,Ps);if(!_){Q=0;break e}}I+Q>=se&&(x.Cc=1),Q=1}if(!Q)return null;if(x.Cc&&((Q=x.ga)!=null&&(Q.mc=null),x.ga=null,0<x.Ga))return alert("todo:WebPDequantizeLevels"),null}return x.nb+I*Y}function Ks(x,_,I,Q,Y,se){for(;0<Y--;){var oe,pe=x,be=_+(I?1:0),_e=x,Fe=_+(I?0:3);for(oe=0;oe<Q;++oe){var Ye=_e[Fe+4*oe];Ye!=255&&(Ye*=32897,pe[be+4*oe+0]=pe[be+4*oe+0]*Ye>>23,pe[be+4*oe+1]=pe[be+4*oe+1]*Ye>>23,pe[be+4*oe+2]=pe[be+4*oe+2]*Ye>>23)}_+=se}}function ys(x,_,I,Q,Y){for(;0<Q--;){var se;for(se=0;se<I;++se){var oe=x[_+2*se+0],pe=15&(_e=x[_+2*se+1]),be=4369*pe,_e=(240&_e|_e>>4)*be>>16;x[_+2*se+0]=(240&oe|oe>>4)*be>>16&240|(15&oe|oe<<4)*be>>16>>4&15,x[_+2*se+1]=240&_e|pe}_+=Y}}function Xs(x,_,I,Q,Y,se,oe,pe){var be,_e,Fe=255;for(_e=0;_e<Y;++_e){for(be=0;be<Q;++be){var Ye=x[_+be];se[oe+4*be]=Ye,Fe&=Ye}_+=I,oe+=pe}return Fe!=255}function xi(x,_,I,Q,Y){var se;for(se=0;se<Y;++se)I[Q+se]=x[_+se]>>8}function ca(){wi=Ks,si=ys,Dl=Xs,ai=xi}function wo(x,_,I){G[x]=function(Q,Y,se,oe,pe,be,_e,Fe,Ye,we,De,Ge,ht,Xe,dt,xt,kt){var Nt,wr=kt-1>>1,lr=pe[be+0]|_e[Fe+0]<<16,Kr=Ye[we+0]|De[Ge+0]<<16;e(Q!=null);var pr=3*lr+Kr+131074>>2;for(_(Q[Y+0],255&pr,pr>>16,ht,Xe),se!=null&&(pr=3*Kr+lr+131074>>2,_(se[oe+0],255&pr,pr>>16,dt,xt)),Nt=1;Nt<=wr;++Nt){var fn=pe[be+Nt]|_e[Fe+Nt]<<16,ds=Ye[we+Nt]|De[Ge+Nt]<<16,Gr=lr+fn+Kr+ds+524296,Ar=Gr+2*(fn+Kr)>>3;pr=Ar+lr>>1,lr=(Gr=Gr+2*(lr+ds)>>3)+fn>>1,_(Q[Y+2*Nt-1],255&pr,pr>>16,ht,Xe+(2*Nt-1)*I),_(Q[Y+2*Nt-0],255&lr,lr>>16,ht,Xe+(2*Nt-0)*I),se!=null&&(pr=Gr+Kr>>1,lr=Ar+ds>>1,_(se[oe+2*Nt-1],255&pr,pr>>16,dt,xt+(2*Nt-1)*I),_(se[oe+2*Nt+0],255&lr,lr>>16,dt,xt+(2*Nt+0)*I)),lr=fn,Kr=ds}1&kt||(pr=3*lr+Kr+131074>>2,_(Q[Y+kt-1],255&pr,pr>>16,ht,Xe+(kt-1)*I),se!=null&&(pr=3*Kr+lr+131074>>2,_(se[oe+kt-1],255&pr,pr>>16,dt,xt+(kt-1)*I)))}}function _o(){ks[GA]=pl,ks[ha]=zl,ks[mA]=Tc,ks[ii]=Kl,ks[Pl]=Lo,ks[fl]=to,ks[Vo]=Vl,ks[Hl]=zl,ks[gA]=Kl,ks[ql]=Lo,ks[A]=to}function da(x){return x&-16384?0>x?0:255:x>>vd}function Ri(x,_){return da((19077*x>>8)+(26149*_>>8)-14234)}function bi(x,_,I){return da((19077*x>>8)-(6419*_>>8)-(13320*I>>8)+8708)}function dl(x,_){return da((19077*x>>8)+(33050*_>>8)-17685)}function Di(x,_,I,Q,Y){Q[Y+0]=Ri(x,I),Q[Y+1]=bi(x,_,I),Q[Y+2]=dl(x,_)}function Ls(x,_,I,Q,Y){Q[Y+0]=dl(x,_),Q[Y+1]=bi(x,_,I),Q[Y+2]=Ri(x,I)}function qo(x,_,I,Q,Y){var se=bi(x,_,I);_=se<<3&224|dl(x,_)>>3,Q[Y+0]=248&Ri(x,I)|se>>5,Q[Y+1]=_}function zo(x,_,I,Q,Y){var se=240&dl(x,_)|15;Q[Y+0]=240&Ri(x,I)|bi(x,_,I)>>4,Q[Y+1]=se}function ul(x,_,I,Q,Y){Q[Y+0]=255,Di(x,_,I,Q,Y+1)}function Gi(x,_,I,Q,Y){Ls(x,_,I,Q,Y),Q[Y+3]=255}function Yn(x,_,I,Q,Y){Di(x,_,I,Q,Y),Q[Y+3]=255}function Ha(x,_,I){G[x]=function(Q,Y,se,oe,pe,be,_e,Fe,Ye){for(var we=Fe+(-2&Ye)*I;Fe!=we;)_(Q[Y+0],se[oe+0],pe[be+0],_e,Fe),_(Q[Y+1],se[oe+0],pe[be+0],_e,Fe+I),Y+=2,++oe,++be,Fe+=2*I;1&Ye&&_(Q[Y+0],se[oe+0],pe[be+0],_e,Fe)}}function Ol(x,_,I){return I==0?x==0?_==0?6:5:_==0?4:0:I}function ti(x,_,I,Q,Y){switch(x>>>30){case 3:Yi(_,I,Q,Y,0);break;case 2:Ba(_,I,Q,Y);break;case 1:Bn(_,I,Q,Y)}}function ri(x,_){var I,Q,Y=_.M,se=_.Nb,oe=x.oc,pe=x.pc+40,be=x.oc,_e=x.pc+584,Fe=x.oc,Ye=x.pc+600;for(I=0;16>I;++I)oe[pe+32*I-1]=129;for(I=0;8>I;++I)be[_e+32*I-1]=129,Fe[Ye+32*I-1]=129;for(0<Y?oe[pe-1-32]=be[_e-1-32]=Fe[Ye-1-32]=129:(i(oe,pe-32-1,127,21),i(be,_e-32-1,127,9),i(Fe,Ye-32-1,127,9)),Q=0;Q<x.za;++Q){var we=_.ya[_.aa+Q];if(0<Q){for(I=-1;16>I;++I)n(oe,pe+32*I-4,oe,pe+32*I+12,4);for(I=-1;8>I;++I)n(be,_e+32*I-4,be,_e+32*I+4,4),n(Fe,Ye+32*I-4,Fe,Ye+32*I+4,4)}var De=x.Gd,Ge=x.Hd+Q,ht=we.ad,Xe=we.Hc;if(0<Y&&(n(oe,pe-32,De[Ge].y,0,16),n(be,_e-32,De[Ge].f,0,8),n(Fe,Ye-32,De[Ge].ea,0,8)),we.Za){var dt=oe,xt=pe-32+16;for(0<Y&&(Q>=x.za-1?i(dt,xt,De[Ge].y[15],4):n(dt,xt,De[Ge+1].y,0,4)),I=0;4>I;I++)dt[xt+128+I]=dt[xt+256+I]=dt[xt+384+I]=dt[xt+0+I];for(I=0;16>I;++I,Xe<<=2)dt=oe,xt=pe+Vs[I],gs[we.Ob[I]](dt,xt),ti(Xe,ht,16*+I,dt,xt)}else if(dt=Ol(Q,Y,we.Ob[0]),Oa[dt](oe,pe),Xe!=0)for(I=0;16>I;++I,Xe<<=2)ti(Xe,ht,16*+I,oe,pe+Vs[I]);for(I=we.Gc,dt=Ol(Q,Y,we.Dd),Bi[dt](be,_e),Bi[dt](Fe,Ye),Xe=ht,dt=be,xt=_e,255&(we=0|I)&&(170&we?Ta(Xe,256,dt,xt):hn(Xe,256,dt,xt)),we=Fe,Xe=Ye,255&(I>>=8)&&(170&I?Ta(ht,320,we,Xe):hn(ht,320,we,Xe)),Y<x.Ub-1&&(n(De[Ge].y,0,oe,pe+480,16),n(De[Ge].f,0,be,_e+224,8),n(De[Ge].ea,0,Fe,Ye+224,8)),I=8*se*x.B,De=x.sa,Ge=x.ta+16*Q+16*se*x.R,ht=x.qa,we=x.ra+8*Q+I,Xe=x.Ha,dt=x.Ia+8*Q+I,I=0;16>I;++I)n(De,Ge+I*x.R,oe,pe+32*I,16);for(I=0;8>I;++I)n(ht,we+I*x.B,be,_e+32*I,8),n(Xe,dt+I*x.B,Fe,Ye+32*I,8)}}function _a(x,_,I,Q,Y,se,oe,pe,be){var _e=[0],Fe=[0],Ye=0,we=be!=null?be.kd:0,De=be??new Ct;if(x==null||12>I)return 7;De.data=x,De.w=_,De.ha=I,_=[_],I=[I],De.gb=[De.gb];e:{var Ge=_,ht=I,Xe=De.gb;if(e(x!=null),e(ht!=null),e(Xe!=null),Xe[0]=0,12<=ht[0]&&!r(x,Ge[0],"RIFF")){if(r(x,Ge[0]+8,"WEBP")){Xe=3;break e}var dt=Lt(x,Ge[0]+4);if(12>dt||4294967286<dt){Xe=3;break e}if(we&&dt>ht[0]-8){Xe=7;break e}Xe[0]=dt,Ge[0]+=12,ht[0]-=12}Xe=0}if(Xe!=0)return Xe;for(dt=0<De.gb[0],I=I[0];;){e:{var xt=x;ht=_,Xe=I;var kt=_e,Nt=Fe,wr=Ge=[0];if((pr=Ye=[Ye])[0]=0,8>Xe[0])Xe=7;else{if(!r(xt,ht[0],"VP8X")){if(Lt(xt,ht[0]+4)!=10){Xe=3;break e}if(18>Xe[0]){Xe=7;break e}var lr=Lt(xt,ht[0]+8),Kr=1+lt(xt,ht[0]+12);if(2147483648<=Kr*(xt=1+lt(xt,ht[0]+15))){Xe=3;break e}wr!=null&&(wr[0]=lr),kt!=null&&(kt[0]=Kr),Nt!=null&&(Nt[0]=xt),ht[0]+=18,Xe[0]-=18,pr[0]=1}Xe=0}}if(Ye=Ye[0],Ge=Ge[0],Xe!=0)return Xe;if(ht=!!(2&Ge),!dt&&Ye)return 3;if(se!=null&&(se[0]=!!(16&Ge)),oe!=null&&(oe[0]=ht),pe!=null&&(pe[0]=0),oe=_e[0],Ge=Fe[0],Ye&&ht&&be==null){Xe=0;break}if(4>I){Xe=7;break}if(dt&&Ye||!dt&&!Ye&&!r(x,_[0],"ALPH")){I=[I],De.na=[De.na],De.P=[De.P],De.Sa=[De.Sa];e:{lr=x,Xe=_,dt=I;var pr=De.gb;kt=De.na,Nt=De.P,wr=De.Sa,Kr=22,e(lr!=null),e(dt!=null),xt=Xe[0];var fn=dt[0];for(e(kt!=null),e(wr!=null),kt[0]=null,Nt[0]=null,wr[0]=0;;){if(Xe[0]=xt,dt[0]=fn,8>fn){Xe=7;break e}var ds=Lt(lr,xt+4);if(4294967286<ds){Xe=3;break e}var Gr=8+ds+1&-2;if(Kr+=Gr,0<pr&&Kr>pr){Xe=3;break e}if(!r(lr,xt,"VP8 ")||!r(lr,xt,"VP8L")){Xe=0;break e}if(fn[0]<Gr){Xe=7;break e}r(lr,xt,"ALPH")||(kt[0]=lr,Nt[0]=xt+8,wr[0]=ds),xt+=Gr,fn-=Gr}}if(I=I[0],De.na=De.na[0],De.P=De.P[0],De.Sa=De.Sa[0],Xe!=0)break}I=[I],De.Ja=[De.Ja],De.xa=[De.xa];e:if(pr=x,Xe=_,dt=I,kt=De.gb[0],Nt=De.Ja,wr=De.xa,lr=Xe[0],xt=!r(pr,lr,"VP8 "),Kr=!r(pr,lr,"VP8L"),e(pr!=null),e(dt!=null),e(Nt!=null),e(wr!=null),8>dt[0])Xe=7;else{if(xt||Kr){if(pr=Lt(pr,lr+4),12<=kt&&pr>kt-12){Xe=3;break e}if(we&&pr>dt[0]-8){Xe=7;break e}Nt[0]=pr,Xe[0]+=8,dt[0]-=8,wr[0]=Kr}else wr[0]=5<=dt[0]&&pr[lr+0]==47&&!(pr[lr+4]>>5),Nt[0]=dt[0];Xe=0}if(I=I[0],De.Ja=De.Ja[0],De.xa=De.xa[0],_=_[0],Xe!=0)break;if(4294967286<De.Ja)return 3;if(pe==null||ht||(pe[0]=De.xa?2:1),oe=[oe],Ge=[Ge],De.xa){if(5>I){Xe=7;break}pe=oe,we=Ge,ht=se,x==null||5>I?x=0:5<=I&&x[_+0]==47&&!(x[_+4]>>5)?(dt=[0],pr=[0],kt=[0],Ce(Nt=new $,x,_,I),wn(Nt,dt,pr,kt)?(pe!=null&&(pe[0]=dt[0]),we!=null&&(we[0]=pr[0]),ht!=null&&(ht[0]=kt[0]),x=1):x=0):x=0}else{if(10>I){Xe=7;break}pe=Ge,x==null||10>I||!In(x,_+3,I-3)?x=0:(we=x[_+0]|x[_+1]<<8|x[_+2]<<16,ht=16383&(x[_+7]<<8|x[_+6]),x=16383&(x[_+9]<<8|x[_+8]),1&we||3<(we>>1&7)||!(we>>4&1)||we>>5>=De.Ja||!ht||!x?x=0:(oe&&(oe[0]=ht),pe&&(pe[0]=x),x=1))}if(!x||(oe=oe[0],Ge=Ge[0],Ye&&(_e[0]!=oe||Fe[0]!=Ge)))return 3;be!=null&&(be[0]=De,be.offset=_-be.w,e(4294967286>_-be.w),e(be.offset==be.ha-I));break}return Xe==0||Xe==7&&Ye&&be==null?(se!=null&&(se[0]|=De.na!=null&&0<De.na.length),Q!=null&&(Q[0]=oe),Y!=null&&(Y[0]=Ge),0):Xe}function Bo(x,_,I){var Q=_.width,Y=_.height,se=0,oe=0,pe=Q,be=Y;if(_.Da=x!=null&&0<x.Da,_.Da&&(pe=x.cd,be=x.bd,se=x.v,oe=x.j,11>I||(se&=-2,oe&=-2),0>se||0>oe||0>=pe||0>=be||se+pe>Q||oe+be>Y))return 0;if(_.v=se,_.j=oe,_.va=se+pe,_.o=oe+be,_.U=pe,_.T=be,_.da=x!=null&&0<x.da,_.da){if(!st(pe,be,I=[x.ib],se=[x.hb]))return 0;_.ib=I[0],_.hb=se[0]}return _.ob=x!=null&&x.ob,_.Kb=x==null||!x.Sd,_.da&&(_.ob=_.ib<3*Q/4&&_.hb<3*Y/4,_.Kb=0),1}function No(x){if(x==null)return 2;if(11>x.S){var _=x.f.RGBA;_.fb+=(x.height-1)*_.A,_.A=-_.A}else _=x.f.kb,x=x.height,_.O+=(x-1)*_.fa,_.fa=-_.fa,_.N+=(x-1>>1)*_.Ab,_.Ab=-_.Ab,_.W+=(x-1>>1)*_.Db,_.Db=-_.Db,_.F!=null&&(_.J+=(x-1)*_.lb,_.lb=-_.lb);return 0}function vi(x,_,I,Q){if(Q==null||0>=x||0>=_)return 2;if(I!=null){if(I.Da){var Y=I.cd,se=I.bd,oe=-2&I.v,pe=-2&I.j;if(0>oe||0>pe||0>=Y||0>=se||oe+Y>x||pe+se>_)return 2;x=Y,_=se}if(I.da){if(!st(x,_,Y=[I.ib],se=[I.hb]))return 2;x=Y[0],_=se[0]}}Q.width=x,Q.height=_;e:{var be=Q.width,_e=Q.height;if(x=Q.S,0>=be||0>=_e||!(x>=GA&&13>x))x=2;else{if(0>=Q.Rd&&Q.sd==null){oe=se=Y=_=0;var Fe=(pe=be*wd[x])*_e;if(11>x||(se=(_e+1)/2*(_=(be+1)/2),x==12&&(oe=(Y=be)*_e)),(_e=l(Fe+2*se+oe))==null){x=1;break e}Q.sd=_e,11>x?((be=Q.f.RGBA).eb=_e,be.fb=0,be.A=pe,be.size=Fe):((be=Q.f.kb).y=_e,be.O=0,be.fa=pe,be.Fd=Fe,be.f=_e,be.N=0+Fe,be.Ab=_,be.Cd=se,be.ea=_e,be.W=0+Fe+se,be.Db=_,be.Ed=se,x==12&&(be.F=_e,be.J=0+Fe+2*se),be.Tc=oe,be.lb=Y)}if(_=1,Y=Q.S,se=Q.width,oe=Q.height,Y>=GA&&13>Y)if(11>Y)x=Q.f.RGBA,_&=(pe=Math.abs(x.A))*(oe-1)+se<=x.size,_&=pe>=se*wd[Y],_&=x.eb!=null;else{x=Q.f.kb,pe=(se+1)/2,Fe=(oe+1)/2,be=Math.abs(x.fa),_e=Math.abs(x.Ab);var Ye=Math.abs(x.Db),we=Math.abs(x.lb),De=we*(oe-1)+se;_&=be*(oe-1)+se<=x.Fd,_&=_e*(Fe-1)+pe<=x.Cd,_=(_&=Ye*(Fe-1)+pe<=x.Ed)&be>=se&_e>=pe&Ye>=pe,_&=x.y!=null,_&=x.f!=null,_&=x.ea!=null,Y==12&&(_&=we>=se,_&=De<=x.Tc,_&=x.F!=null)}else _=0;x=_?0:2}}return x!=0||I!=null&&I.fd&&(x=No(Q)),x}var Mi=64,qa=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ps=24,ni=32,$i=8,Pi=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ve("Predictor0","PredictorAdd0"),G.Predictor0=function(){return 4278190080},G.Predictor1=function(x){return x},G.Predictor2=function(x,_,I){return _[I+0]},G.Predictor3=function(x,_,I){return _[I+1]},G.Predictor4=function(x,_,I){return _[I-1]},G.Predictor5=function(x,_,I){return bt(bt(x,_[I+1]),_[I+0])},G.Predictor6=function(x,_,I){return bt(x,_[I-1])},G.Predictor7=function(x,_,I){return bt(x,_[I+0])},G.Predictor8=function(x,_,I){return bt(_[I-1],_[I+0])},G.Predictor9=function(x,_,I){return bt(_[I+0],_[I+1])},G.Predictor10=function(x,_,I){return bt(bt(x,_[I-1]),bt(_[I+0],_[I+1]))},G.Predictor11=function(x,_,I){var Q=_[I+0];return 0>=Wt(Q>>24&255,x>>24&255,(_=_[I-1])>>24&255)+Wt(Q>>16&255,x>>16&255,_>>16&255)+Wt(Q>>8&255,x>>8&255,_>>8&255)+Wt(255&Q,255&x,255&_)?Q:x},G.Predictor12=function(x,_,I){var Q=_[I+0];return(nr((x>>24&255)+(Q>>24&255)-((_=_[I-1])>>24&255))<<24|nr((x>>16&255)+(Q>>16&255)-(_>>16&255))<<16|nr((x>>8&255)+(Q>>8&255)-(_>>8&255))<<8|nr((255&x)+(255&Q)-(255&_)))>>>0},G.Predictor13=function(x,_,I){var Q=_[I-1];return(Jt((x=bt(x,_[I+0]))>>24&255,Q>>24&255)<<24|Jt(x>>16&255,Q>>16&255)<<16|Jt(x>>8&255,Q>>8&255)<<8|Jt(255&x,255&Q))>>>0};var Ql=G.PredictorAdd0;G.PredictorAdd1=yr,Ve("Predictor2","PredictorAdd2"),Ve("Predictor3","PredictorAdd3"),Ve("Predictor4","PredictorAdd4"),Ve("Predictor5","PredictorAdd5"),Ve("Predictor6","PredictorAdd6"),Ve("Predictor7","PredictorAdd7"),Ve("Predictor8","PredictorAdd8"),Ve("Predictor9","PredictorAdd9"),Ve("Predictor10","PredictorAdd10"),Ve("Predictor11","PredictorAdd11"),Ve("Predictor12","PredictorAdd12"),Ve("Predictor13","PredictorAdd13");var za=G.PredictorAdd2;Zt("ColorIndexInverseTransform","MapARGB","32b",function(x){return x>>8&255},function(x){return x}),Zt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(x){return x},function(x){return x>>8&255});var ws,Co=G.ColorIndexInverseTransform,Zi=G.MapARGB,Js=G.VP8LColorIndexInverseTransformAlpha,Us=G.MapAlpha,Xi=G.VP8LPredictorsAdd=[];Xi.length=16,(G.VP8LPredictors=[]).length=16,(G.VP8LPredictorsAdd_C=[]).length=16,(G.VP8LPredictors_C=[]).length=16;var Ko,Eo,Hi,yi,Ia,Ji,ka,Yi,Ba,Ta,Bn,hn,Xn,ms,Wi,Is,eo,fA,Rl,xd,Ic,bd,hl,kc,wi,si,Dl,ai,Fa=l(511),pA=l(2041),Ml=l(225),So=l(767),VA=0,_i=pA,jo=Ml,ua=So,Ys=Fa,GA=0,ha=1,mA=2,ii=3,Pl=4,fl=5,Vo=6,Hl=7,gA=8,ql=9,A=10,f=[2,3,7],v=[3,3,11],E=[280,256,256,256,40],R=[0,1,1,1,0],ae=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Ee=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],qe=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],tt=8,vt=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Kt=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],br=null,Wr=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],fa=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],_s=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],oi=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],En=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Sn=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],cn=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Oa=[],gs=[],Bi=[],Go=1,$A=2,Dn=[],ks=[];wo("UpsampleRgbLinePair",Di,3),wo("UpsampleBgrLinePair",Ls,3),wo("UpsampleRgbaLinePair",Yn,4),wo("UpsampleBgraLinePair",Gi,4),wo("UpsampleArgbLinePair",ul,4),wo("UpsampleRgba4444LinePair",zo,2),wo("UpsampleRgb565LinePair",qo,2);var pl=G.UpsampleRgbLinePair,Tc=G.UpsampleBgrLinePair,zl=G.UpsampleRgbaLinePair,Kl=G.UpsampleBgraLinePair,Lo=G.UpsampleArgbLinePair,to=G.UpsampleRgba4444LinePair,Vl=G.UpsampleRgb565LinePair,ro=16,ZA=1<<ro-1,xA=-227,Gl=482,vd=6,$l=0,Qa=l(256),yd=l(256),Bf=l(256),wg=l(256),_g=l(Gl-xA),Bg=l(Gl-xA);Ha("YuvToRgbRow",Di,3),Ha("YuvToBgrRow",Ls,3),Ha("YuvToRgbaRow",Yn,4),Ha("YuvToBgraRow",Gi,4),Ha("YuvToArgbRow",ul,4),Ha("YuvToRgba4444Row",zo,2),Ha("YuvToRgb565Row",qo,2);var Vs=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],XA=[0,2,8],Fc=[8,7,6,4,4,2,2,2,1,1,1,1],Oc=1;this.WebPDecodeRGBA=function(x,_,I,Q,Y){var se=ha,oe=new ct,pe=new Ke;oe.ba=pe,pe.S=se,pe.width=[pe.width],pe.height=[pe.height];var be=pe.width,_e=pe.height,Fe=new ot;if(Fe==null||x==null)var Ye=2;else e(Fe!=null),Ye=_a(x,_,I,Fe.width,Fe.height,Fe.Pd,Fe.Qd,Fe.format,null);if(Ye!=0?be=0:(be!=null&&(be[0]=Fe.width[0]),_e!=null&&(_e[0]=Fe.height[0]),be=1),be){pe.width=pe.width[0],pe.height=pe.height[0],Q!=null&&(Q[0]=pe.width),Y!=null&&(Y[0]=pe.height);e:{if(Q=new Gt,(Y=new Ct).data=x,Y.w=_,Y.ha=I,Y.kd=1,_=[0],e(Y!=null),((x=_a(Y.data,Y.w,Y.ha,null,null,null,_,null,Y))==0||x==7)&&_[0]&&(x=4),(_=x)==0){if(e(oe!=null),Q.data=Y.data,Q.w=Y.w+Y.offset,Q.ha=Y.ha-Y.offset,Q.put=It,Q.ac=dn,Q.bc=An,Q.ma=oe,Y.xa){if((x=Qr())==null){oe=1;break e}if((function(we,De){var Ge=[0],ht=[0],Xe=[0];t:for(;;){if(we==null)return 0;if(De==null)return we.a=2,0;if(we.l=De,we.a=0,Ce(we.m,De.data,De.w,De.ha),!wn(we.m,Ge,ht,Xe)){we.a=3;break t}if(we.xb=$A,De.width=Ge[0],De.height=ht[0],!Cn(Ge[0],ht[0],1,we,null))break t;return 1}return e(we.a!=0),0})(x,Q)){if(Q=(_=vi(Q.width,Q.height,oe.Oa,oe.ba))==0){t:{Q=x;r:for(;;){if(Q==null){Q=0;break t}if(e(Q.s.yc!=null),e(Q.s.Ya!=null),e(0<Q.s.Wb),e((I=Q.l)!=null),e((Y=I.ma)!=null),Q.xb!=0){if(Q.ca=Y.ba,Q.tb=Y.tb,e(Q.ca!=null),!Bo(Y.Oa,I,ii)){Q.a=2;break r}if(!Gn(Q,I.width)||I.da)break r;if((I.da||Pt(Q.ca.S))&&ca(),11>Q.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),Q.ca.f.kb.F!=null&&ca()),Q.Pb&&0<Q.s.ua&&Q.s.vb.X==null&&!fe(Q.s.vb,Q.s.Wa.Xa)){Q.a=1;break r}Q.xb=0}if(!qt(Q,Q.V,Q.Ba,Q.c,Q.i,I.o,_n))break r;Y.Dc=Q.Ma,Q=1;break t}e(Q.a!=0),Q=0}Q=!Q}Q&&(_=x.a)}else _=x.a}else{if((x=new gr)==null){oe=1;break e}if(x.Fa=Y.na,x.P=Y.P,x.qc=Y.Sa,fs(x,Q)){if((_=vi(Q.width,Q.height,oe.Oa,oe.ba))==0){if(x.Aa=0,I=oe.Oa,e((Y=x)!=null),I!=null){if(0<(be=0>(be=I.Md)?0:100<be?255:255*be/100)){for(_e=Fe=0;4>_e;++_e)12>(Ye=Y.pb[_e]).lc&&(Ye.ia=be*Fc[0>Ye.lc?0:Ye.lc]>>3),Fe|=Ye.ia;Fe&&(alert("todo:VP8InitRandom"),Y.ia=1)}Y.Ga=I.Id,100<Y.Ga?Y.Ga=100:0>Y.Ga&&(Y.Ga=0)}(function(we,De){if(we==null)return 0;if(De==null)return zt(we,2,"NULL VP8Io parameter in VP8Decode().");if(!we.cb&&!fs(we,De))return 0;if(e(we.cb),De.ac==null||De.ac(De)){De.ob&&(we.L=0);var Ge=XA[we.L];if(we.L==2?(we.yb=0,we.zb=0):(we.yb=De.v-Ge>>4,we.zb=De.j-Ge>>4,0>we.yb&&(we.yb=0),0>we.zb&&(we.zb=0)),we.Va=De.o+15+Ge>>4,we.Hb=De.va+15+Ge>>4,we.Hb>we.za&&(we.Hb=we.za),we.Va>we.Ub&&(we.Va=we.Ub),0<we.L){var ht=we.ed;for(Ge=0;4>Ge;++Ge){var Xe;if(we.Qa.Cb){var dt=we.Qa.Lb[Ge];we.Qa.Fb||(dt+=ht.Tb)}else dt=ht.Tb;for(Xe=0;1>=Xe;++Xe){var xt=we.gd[Ge][Xe],kt=dt;if(ht.Pc&&(kt+=ht.vd[0],Xe&&(kt+=ht.od[0])),0<(kt=0>kt?0:63<kt?63:kt)){var Nt=kt;0<ht.wb&&(Nt=4<ht.wb?Nt>>2:Nt>>1)>9-ht.wb&&(Nt=9-ht.wb),1>Nt&&(Nt=1),xt.dd=Nt,xt.tc=2*kt+Nt,xt.ld=40<=kt?2:15<=kt?1:0}else xt.tc=0;xt.La=Xe}}}Ge=0}else zt(we,6,"Frame setup failed"),Ge=we.a;if(Ge=Ge==0){if(Ge){we.$c=0,0<we.Aa||(we.Ic=Oc);t:{Ge=we.Ic,ht=4*(Nt=we.za);var wr=32*Nt,lr=Nt+1,Kr=0<we.L?Nt*(0<we.Aa?2:1):0,pr=(we.Aa==2?2:1)*Nt;if((xt=ht+832+(Xe=3*(16*Ge+XA[we.L])/2*wr)+(dt=we.Fa!=null&&0<we.Fa.length?we.Kc.c*we.Kc.i:0))!=xt)Ge=0;else{if(xt>we.Vb){if(we.Vb=0,we.Ec=l(xt),we.Fc=0,we.Ec==null){Ge=zt(we,1,"no memory during frame initialization.");break t}we.Vb=xt}xt=we.Ec,kt=we.Fc,we.Ac=xt,we.Bc=kt,kt+=ht,we.Gd=d(wr,nt),we.Hd=0,we.rb=d(lr+1,Mt),we.sb=1,we.wa=Kr?d(Kr,jt):null,we.Y=0,we.D.Nb=0,we.D.wa=we.wa,we.D.Y=we.Y,0<we.Aa&&(we.D.Y+=Nt),e(!0),we.oc=xt,we.pc=kt,kt+=832,we.ya=d(pr,Je),we.aa=0,we.D.ya=we.ya,we.D.aa=we.aa,we.Aa==2&&(we.D.aa+=Nt),we.R=16*Nt,we.B=8*Nt,Nt=(wr=XA[we.L])*we.R,wr=wr/2*we.B,we.sa=xt,we.ta=kt+Nt,we.qa=we.sa,we.ra=we.ta+16*Ge*we.R+wr,we.Ha=we.qa,we.Ia=we.ra+8*Ge*we.B+wr,we.$c=0,kt+=Xe,we.mb=dt?xt:null,we.nb=dt?kt:null,e(kt+dt<=we.Fc+we.Vb),rn(we),i(we.Ac,we.Bc,0,ht),Ge=1}}if(Ge){if(De.ka=0,De.y=we.sa,De.O=we.ta,De.f=we.qa,De.N=we.ra,De.ea=we.Ha,De.Vd=we.Ia,De.fa=we.R,De.Rc=we.B,De.F=null,De.J=0,!VA){for(Ge=-255;255>=Ge;++Ge)Fa[255+Ge]=0>Ge?-Ge:Ge;for(Ge=-1020;1020>=Ge;++Ge)pA[1020+Ge]=-128>Ge?-128:127<Ge?127:Ge;for(Ge=-112;112>=Ge;++Ge)Ml[112+Ge]=-16>Ge?-16:15<Ge?15:Ge;for(Ge=-255;510>=Ge;++Ge)So[255+Ge]=0>Ge?0:255<Ge?255:Ge;VA=1}ka=dr,Yi=ve,Ta=He,Bn=Qt,hn=Tt,Ba=Ja,Xn=hA,ms=yo,Wi=J,Is=ye,eo=KA,fA=j,Rl=Ie,xd=Pe,Ic=zs,bd=ei,hl=Ho,kc=uA,gs[0]=bo,gs[1]=Rt,gs[2]=La,gs[3]=mn,gs[4]=Aa,gs[5]=ll,gs[6]=Hs,gs[7]=Ya,gs[8]=Oi,gs[9]=Ua,Oa[0]=Jr,Oa[1]=Mr,Oa[2]=kn,Oa[3]=wa,Oa[4]=js,Oa[5]=Zs,Oa[6]=Fi,Bi[0]=Al,Bi[1]=Lr,Bi[2]=Zn,Bi[3]=Ki,Bi[4]=qs,Bi[5]=Fl,Bi[6]=mi,Ge=1}else Ge=0}Ge&&(Ge=(function(fn,ds){for(fn.M=0;fn.M<fn.Va;++fn.M){var Gr,Ar=fn.Jc[fn.M&fn.Xb],$t=fn.m,Bs=fn;for(Gr=0;Gr<Bs.za;++Gr){var Fr=$t,en=Bs,qn=en.Ac,pa=en.Bc+4*Gr,Ra=en.zc,ss=en.ya[en.aa+Gr];if(en.Qa.Bb?ss.$b=je(Fr,en.Pa.jb[0])?2+je(Fr,en.Pa.jb[2]):je(Fr,en.Pa.jb[1]):ss.$b=0,en.kc&&(ss.Ad=je(Fr,en.Bd)),ss.Za=!je(Fr,145)+0,ss.Za){var Ws=ss.Ob,Ka=0;for(en=0;4>en;++en){var ea,ln=Ra[0+en];for(ea=0;4>ea;++ea){ln=En[qn[pa+ea]][ln];for(var jn=_s[je(Fr,ln[0])];0<jn;)jn=_s[2*jn+je(Fr,ln[jn])];ln=-jn,qn[pa+ea]=ln}n(Ws,Ka,qn,pa,4),Ka+=4,Ra[0+en]=ln}}else ln=je(Fr,156)?je(Fr,128)?1:3:je(Fr,163)?2:0,ss.Ob[0]=ln,i(qn,pa,ln,4),i(Ra,0,ln,4);ss.Dd=je(Fr,142)?je(Fr,114)?je(Fr,183)?1:3:2:0}if(Bs.m.Ka)return zt(fn,7,"Premature end-of-partition0 encountered.");for(;fn.ja<fn.za;++fn.ja){if(Bs=Ar,Fr=($t=fn).rb[$t.sb-1],qn=$t.rb[$t.sb+$t.ja],Gr=$t.ya[$t.aa+$t.ja],pa=$t.kc?Gr.Ad:0)Fr.la=qn.la=0,Gr.Za||(Fr.Na=qn.Na=0),Gr.Hc=0,Gr.Gc=0,Gr.ia=0;else{var Ns,Tn;if(Fr=qn,qn=Bs,pa=$t.Pa.Xc,Ra=$t.ya[$t.aa+$t.ja],ss=$t.pb[Ra.$b],en=Ra.ad,Ws=0,Ka=$t.rb[$t.sb-1],ln=ea=0,i(en,Ws,0,384),Ra.Za)var ma=0,Cs=pa[3];else{jn=l(16);var Ln=Fr.Na+Ka.Na;if(Ln=br(qn,pa[1],Ln,ss.Eb,0,jn,0),Fr.Na=Ka.Na=(0<Ln)+0,1<Ln)ka(jn,0,en,Ws);else{var Gs=jn[0]+3>>3;for(jn=0;256>jn;jn+=16)en[Ws+jn]=Gs}ma=1,Cs=pa[0]}var zn=15&Fr.la,ta=15&Ka.la;for(jn=0;4>jn;++jn){var ra=1&ta;for(Gs=Tn=0;4>Gs;++Gs)zn=zn>>1|(ra=(Ln=br(qn,Cs,Ln=ra+(1&zn),ss.Sc,ma,en,Ws))>ma)<<7,Tn=Tn<<2|(3<Ln?3:1<Ln?2:en[Ws+0]!=0),Ws+=16;zn>>=4,ta=ta>>1|ra<<7,ea=(ea<<8|Tn)>>>0}for(Cs=zn,ma=ta>>4,Ns=0;4>Ns;Ns+=2){for(Tn=0,zn=Fr.la>>4+Ns,ta=Ka.la>>4+Ns,jn=0;2>jn;++jn){for(ra=1&ta,Gs=0;2>Gs;++Gs)Ln=ra+(1&zn),zn=zn>>1|(ra=0<(Ln=br(qn,pa[2],Ln,ss.Qc,0,en,Ws)))<<3,Tn=Tn<<2|(3<Ln?3:1<Ln?2:en[Ws+0]!=0),Ws+=16;zn>>=2,ta=ta>>1|ra<<5}ln|=Tn<<4*Ns,Cs|=zn<<4<<Ns,ma|=(240&ta)<<Ns}Fr.la=Cs,Ka.la=ma,Ra.Hc=ea,Ra.Gc=ln,Ra.ia=43690&ln?0:ss.ia,pa=!(ea|ln)}if(0<$t.L&&($t.wa[$t.Y+$t.ja]=$t.gd[Gr.$b][Gr.Za],$t.wa[$t.Y+$t.ja].La|=!pa),Bs.Ka)return zt(fn,7,"Premature end-of-file encountered.")}if(rn(fn),$t=ds,Bs=1,Gr=(Ar=fn).D,Fr=0<Ar.L&&Ar.M>=Ar.zb&&Ar.M<=Ar.Va,Ar.Aa==0)t:{if(Gr.M=Ar.M,Gr.uc=Fr,ri(Ar,Gr),Bs=1,Gr=(Tn=Ar.D).Nb,Fr=(ln=XA[Ar.L])*Ar.R,qn=ln/2*Ar.B,jn=16*Gr*Ar.R,Gs=8*Gr*Ar.B,pa=Ar.sa,Ra=Ar.ta-Fr+jn,ss=Ar.qa,en=Ar.ra-qn+Gs,Ws=Ar.Ha,Ka=Ar.Ia-qn+Gs,ta=(zn=Tn.M)==0,ea=zn>=Ar.Va-1,Ar.Aa==2&&ri(Ar,Tn),Tn.uc)for(ra=(Ln=Ar).D.M,e(Ln.D.uc),Tn=Ln.yb;Tn<Ln.Hb;++Tn){ma=Tn,Cs=ra;var Wn=(Nn=(na=Ln).D).Nb;Ns=na.R;var Nn=Nn.wa[Nn.Y+ma],Va=na.sa,Ts=na.ta+16*Wn*Ns+16*ma,Ur=Nn.dd,Ir=Nn.tc;if(Ir!=0)if(e(3<=Ir),na.L==1)0<ma&&bd(Va,Ts,Ns,Ir+4),Nn.La&&kc(Va,Ts,Ns,Ir),0<Cs&&Ic(Va,Ts,Ns,Ir+4),Nn.La&&hl(Va,Ts,Ns,Ir);else{var Un=na.B,Ni=na.qa,no=na.ra+8*Wn*Un+8*ma,li=na.Ha,na=na.Ia+8*Wn*Un+8*ma;Wn=Nn.ld,0<ma&&(ms(Va,Ts,Ns,Ir+4,Ur,Wn),Is(Ni,no,li,na,Un,Ir+4,Ur,Wn)),Nn.La&&(fA(Va,Ts,Ns,Ir,Ur,Wn),xd(Ni,no,li,na,Un,Ir,Ur,Wn)),0<Cs&&(Xn(Va,Ts,Ns,Ir+4,Ur,Wn),Wi(Ni,no,li,na,Un,Ir+4,Ur,Wn)),Nn.La&&(eo(Va,Ts,Ns,Ir,Ur,Wn),Rl(Ni,no,li,na,Un,Ir,Ur,Wn))}}if(Ar.ia&&alert("todo:DitherRow"),$t.put!=null){if(Tn=16*zn,zn=16*(zn+1),ta?($t.y=Ar.sa,$t.O=Ar.ta+jn,$t.f=Ar.qa,$t.N=Ar.ra+Gs,$t.ea=Ar.Ha,$t.W=Ar.Ia+Gs):(Tn-=ln,$t.y=pa,$t.O=Ra,$t.f=ss,$t.N=en,$t.ea=Ws,$t.W=Ka),ea||(zn-=ln),zn>$t.o&&(zn=$t.o),$t.F=null,$t.J=null,Ar.Fa!=null&&0<Ar.Fa.length&&Tn<zn&&($t.J=Rn(Ar,$t,Tn,zn-Tn),$t.F=Ar.mb,$t.F==null&&$t.F.length==0)){Bs=zt(Ar,3,"Could not decode alpha data.");break t}Tn<$t.j&&(ln=$t.j-Tn,Tn=$t.j,e(!(1&ln)),$t.O+=Ar.R*ln,$t.N+=Ar.B*(ln>>1),$t.W+=Ar.B*(ln>>1),$t.F!=null&&($t.J+=$t.width*ln)),Tn<zn&&($t.O+=$t.v,$t.N+=$t.v>>1,$t.W+=$t.v>>1,$t.F!=null&&($t.J+=$t.v),$t.ka=Tn-$t.j,$t.U=$t.va-$t.v,$t.T=zn-Tn,Bs=$t.put($t))}Gr+1!=Ar.Ic||ea||(n(Ar.sa,Ar.ta-Fr,pa,Ra+16*Ar.R,Fr),n(Ar.qa,Ar.ra-qn,ss,en+8*Ar.B,qn),n(Ar.Ha,Ar.Ia-qn,Ws,Ka+8*Ar.B,qn))}if(!Bs)return zt(fn,6,"Output aborted.")}return 1})(we,De)),De.bc!=null&&De.bc(De),Ge&=1}return Ge?(we.cb=0,Ge):0})(x,Q)||(_=x.a)}}else _=x.a}_==0&&oe.Oa!=null&&oe.Oa.fd&&(_=No(oe.ba))}oe=_}se=oe!=0?null:11>se?pe.f.RGBA.eb:pe.f.kb.y}else se=null;return se};var wd=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function m(G,de){for(var K="",W=0;W<4;W++)K+=String.fromCharCode(G[de++]);return K}function g(G,de){return G[de+0]|G[de+1]<<8}function b(G,de){return(G[de+0]|G[de+1]<<8|G[de+2]<<16)>>>0}function B(G,de){return(G[de+0]|G[de+1]<<8|G[de+2]<<16|G[de+3]<<24)>>>0}new h;var w=[0],S=[0],U=[],k=new h,C=t,O=(function(G,de){var K={},W=0,ie=!1,z=0,he=0;if(K.frames=[],!(function(T,$){for(var X=0;X<4;X++)if(T[$+X]!="RIFF".charCodeAt(X))return!0;return!1})(G,de)){for(B(G,de+=4),de+=8;de<G.length;){var V=m(G,de),me=B(G,de+=4);de+=4;var ee=me+(1&me);switch(V){case"VP8 ":case"VP8L":K.frames[W]===void 0&&(K.frames[W]={}),(M=K.frames[W]).src_off=ie?he:de-8,M.src_size=z+me+8,W++,ie&&(ie=!1,z=0,he=0);break;case"VP8X":(M=K.header={}).feature_flags=G[de];var Ce=de+4;M.canvas_width=1+b(G,Ce),Ce+=3,M.canvas_height=1+b(G,Ce),Ce+=3;break;case"ALPH":ie=!0,z=ee+8,he=de-8;break;case"ANIM":(M=K.header).bgcolor=B(G,de),Ce=de+4,M.loop_count=g(G,Ce),Ce+=2;break;case"ANMF":var Ne,M;(M=K.frames[W]={}).offset_x=2*b(G,de),de+=3,M.offset_y=2*b(G,de),de+=3,M.width=1+b(G,de),de+=3,M.height=1+b(G,de),de+=3,M.duration=b(G,de),de+=3,Ne=G[de++],M.dispose=1&Ne,M.blend=Ne>>1&1}V!="ANMF"&&(de+=ee)}return K}})(C,0);O.response=C,O.rgbaoutput=!0,O.dataurl=!1;var D=O.header?O.header:null,H=O.frames?O.frames:null;if(D){D.loop_counter=D.loop_count,w=[D.canvas_height],S=[D.canvas_width];for(var re=0;re<H.length&&H[re].blend!=0;re++);}var q=H[0],ne=k.WebPDecodeRGBA(C,q.src_off,q.src_size,S,w);q.rgba=ne,q.imgwidth=S[0],q.imgheight=w[0];for(var te=0;te<S[0]*w[0]*4;te++)U[te]=ne[te];return this.width=S,this.height=w,this.data=U,this}(function(t){var e,r,n,i,l,d,u,h,m,g=function(T){return T=T||{},this.isStrokeTransparent=T.isStrokeTransparent||!1,this.strokeOpacity=T.strokeOpacity||1,this.strokeStyle=T.strokeStyle||"#000000",this.fillStyle=T.fillStyle||"#000000",this.isFillTransparent=T.isFillTransparent||!1,this.fillOpacity=T.fillOpacity||1,this.font=T.font||"10px sans-serif",this.textBaseline=T.textBaseline||"alphabetic",this.textAlign=T.textAlign||"left",this.lineWidth=T.lineWidth||1,this.lineJoin=T.lineJoin||"miter",this.lineCap=T.lineCap||"butt",this.path=T.path||[],this.transform=T.transform!==void 0?T.transform.clone():new h,this.globalCompositeOperation=T.globalCompositeOperation||"normal",this.globalAlpha=T.globalAlpha||1,this.clip_path=T.clip_path||[],this.currentPoint=T.currentPoint||new d,this.miterLimit=T.miterLimit||10,this.lastPoint=T.lastPoint||new d,this.lineDashOffset=T.lineDashOffset||0,this.lineDash=T.lineDash||[],this.margin=T.margin||[0,0,0,0],this.prevPageLastElemOffset=T.prevPageLastElemOffset||0,this.ignoreClearRect=typeof T.ignoreClearRect!="boolean"||T.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new b(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,l=this.internal.getVerticalCoordinate,d=this.internal.Point,u=this.internal.Rectangle,h=this.internal.Matrix,m=new g}]);var b=function(T){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var $=T;Object.defineProperty(this,"pdf",{get:function(){return $}});var X=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return X},set:function(fe){X=!!fe}});var Ae=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Ae},set:function(fe){Ae=!!fe}});var xe=0;Object.defineProperty(this,"posX",{get:function(){return xe},set:function(fe){isNaN(fe)||(xe=fe)}});var Be=0;Object.defineProperty(this,"posY",{get:function(){return Be},set:function(fe){isNaN(fe)||(Be=fe)}}),Object.defineProperty(this,"margin",{get:function(){return m.margin},set:function(fe){var ft;typeof fe=="number"?ft=[fe,fe,fe,fe]:((ft=new Array(4))[0]=fe[0],ft[1]=fe.length>=2?fe[1]:ft[0],ft[2]=fe.length>=3?fe[2]:ft[0],ft[3]=fe.length>=4?fe[3]:ft[1]),m.margin=ft}});var ke=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ke},set:function(fe){ke=fe}});var ge=0;Object.defineProperty(this,"lastBreak",{get:function(){return ge},set:function(fe){ge=fe}});var je=[];Object.defineProperty(this,"pageBreaks",{get:function(){return je},set:function(fe){je=fe}}),Object.defineProperty(this,"ctx",{get:function(){return m},set:function(fe){fe instanceof g&&(m=fe)}}),Object.defineProperty(this,"path",{get:function(){return m.path},set:function(fe){m.path=fe}});var Qe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Qe},set:function(fe){Qe=fe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(fe){var ft;ft=B(fe),this.ctx.fillStyle=ft.style,this.ctx.isFillTransparent=ft.a===0,this.ctx.fillOpacity=ft.a,this.pdf.setFillColor(ft.r,ft.g,ft.b,{a:ft.a}),this.pdf.setTextColor(ft.r,ft.g,ft.b,{a:ft.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(fe){var ft=B(fe);this.ctx.strokeStyle=ft.style,this.ctx.isStrokeTransparent=ft.a===0,this.ctx.strokeOpacity=ft.a,ft.a===0?this.pdf.setDrawColor(255,255,255):(ft.a,this.pdf.setDrawColor(ft.r,ft.g,ft.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(fe){["butt","round","square"].indexOf(fe)!==-1&&(this.ctx.lineCap=fe,this.pdf.setLineCap(fe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(fe){isNaN(fe)||(this.ctx.lineWidth=fe,this.pdf.setLineWidth(fe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(fe){["bevel","round","miter"].indexOf(fe)!==-1&&(this.ctx.lineJoin=fe,this.pdf.setLineJoin(fe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(fe){isNaN(fe)||(this.ctx.miterLimit=fe,this.pdf.setMiterLimit(fe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(fe){this.ctx.textBaseline=fe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(fe){["right","end","center","left","start"].indexOf(fe)!==-1&&(this.ctx.textAlign=fe)}});var Re=null,lt=null,Lt=null;Object.defineProperty(this,"fontFaces",{get:function(){return Lt},set:function(fe){Re=null,lt=null,Lt=fe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(fe){var ft;if(this.ctx.font=fe,(ft=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(fe))!==null){var St=ft[1];ft[2];var st=ft[3],ue=ft[4];ft[5];var Ze=ft[6],Ve=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ue)[2];ue=Math.floor(Ve==="px"?parseFloat(ue)*this.pdf.internal.scaleFactor:Ve==="em"?parseFloat(ue)*this.pdf.getFontSize():parseFloat(ue)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ue);var gt=(function(Zt){var Hr,cr,Yt=[],Xt=Zt.trim();if(Xt==="")return Ex;if(Xt in F_)return[F_[Xt]];for(;Xt!=="";){switch(cr=null,Hr=(Xt=Q_(Xt)).charAt(0)){case'"':case"'":cr=hQ(Xt.substring(1),Hr);break;default:cr=fQ(Xt)}if(cr===null||(Yt.push(cr[0]),(Xt=Q_(cr[1]))!==""&&Xt.charAt(0)!==","))return Ex;Xt=Xt.replace(/^,/,"")}return Yt})(Ze);if(this.fontFaces){var bt=(function(Zt,Hr){var cr=Zt.getFontList(),Yt=JSON.stringify(cr);if(Re===null||lt!==Yt){var Xt=(function(ar){var Vt=[];return Object.keys(ar).forEach(function(Nr){ar[Nr].forEach(function(Pt){var tr=null;switch(Pt){case"bold":tr={family:Nr,weight:"bold"};break;case"italic":tr={family:Nr,style:"italic"};break;case"bolditalic":tr={family:Nr,weight:"bold",style:"italic"};break;case"":case"normal":tr={family:Nr}}tr!==null&&(tr.ref={name:Nr,style:Pt},Vt.push(tr))})}),Vt})(cr);Re=(function(ar){for(var Vt={},Nr=0;Nr<ar.length;++Nr){var Pt=Cx(ar[Nr]),tr=Pt.family,Ue=Pt.stretch,Ke=Pt.style,ot=Pt.weight;Vt[tr]=Vt[tr]||{},Vt[tr][Ue]=Vt[tr][Ue]||{},Vt[tr][Ue][Ke]=Vt[tr][Ue][Ke]||{},Vt[tr][Ue][Ke][ot]=Pt}return Vt})(Xt.concat(Hr)),lt=Yt}return Re})(this.pdf,this.fontFaces),nr=gt.map(function(Zt){return{family:Zt,stretch:"normal",weight:st,style:St}}),Jt=(function(Zt,Hr,cr){for(var Yt=(cr=cr||{}).defaultFontFamily||"times",Xt=Object.assign({},uQ,cr.genericFontFamilies||{}),ar=null,Vt=null,Nr=0;Nr<Hr.length;++Nr)if(Xt[(ar=Cx(Hr[Nr])).family]&&(ar.family=Xt[ar.family]),Zt.hasOwnProperty(ar.family)){Vt=Zt[ar.family];break}if(!(Vt=Vt||Zt[Yt]))throw new Error("Could not find a font-family for the rule '"+O_(ar)+"' and default family '"+Yt+"'.");if(Vt=(function(Pt,tr){if(tr[Pt])return tr[Pt];var Ue=Kb[Pt],Ke=Ue<=Kb.normal?-1:1,ot=T_(tr,TC,Ue,Ke);if(!ot)throw new Error("Could not find a matching font-stretch value for "+Pt);return ot})(ar.stretch,Vt),Vt=(function(Pt,tr){if(tr[Pt])return tr[Pt];for(var Ue=kC[Pt],Ke=0;Ke<Ue.length;++Ke)if(tr[Ue[Ke]])return tr[Ue[Ke]];throw new Error("Could not find a matching font-style for "+Pt)})(ar.style,Vt),!(Vt=(function(Pt,tr){if(tr[Pt])return tr[Pt];if(Pt===400&&tr[500])return tr[500];if(Pt===500&&tr[400])return tr[400];var Ue=dQ[Pt],Ke=T_(tr,FC,Ue,Pt<400?-1:1);if(!Ke)throw new Error("Could not find a matching font-weight for value "+Pt);return Ke})(ar.weight,Vt)))throw new Error("Failed to resolve a font for the rule '"+O_(ar)+"'.");return Vt})(bt,nr);this.pdf.setFont(Jt.ref.name,Jt.ref.style)}else{var Wt="";(st==="bold"||parseInt(st,10)>=700||St==="bold")&&(Wt="bold"),St==="italic"&&(Wt+="italic"),Wt.length===0&&(Wt="normal");for(var yr="",sr={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Dt=0;Dt<gt.length;Dt++){if(this.pdf.internal.getFont(gt[Dt],Wt,{noFallback:!0,disableWarning:!0})!==void 0){yr=gt[Dt];break}if(Wt==="bolditalic"&&this.pdf.internal.getFont(gt[Dt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)yr=gt[Dt],Wt="bold";else if(this.pdf.internal.getFont(gt[Dt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){yr=gt[Dt],Wt="normal";break}}if(yr===""){for(var er=0;er<gt.length;er++)if(sr[gt[er]]){yr=sr[gt[er]];break}}yr=yr===""?"Times":yr,this.pdf.setFont(yr,Wt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(fe){this.ctx.globalCompositeOperation=fe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(fe){this.ctx.globalAlpha=fe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(fe){this.ctx.lineDashOffset=fe,M.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(fe){this.ctx.lineDash=fe,M.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(fe){this.ctx.ignoreClearRect=!!fe}})};b.prototype.setLineDash=function(T){this.lineDash=T},b.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},b.prototype.fill=function(){H.call(this,"fill",!1)},b.prototype.stroke=function(){H.call(this,"stroke",!1)},b.prototype.beginPath=function(){this.path=[{type:"begin"}]},b.prototype.moveTo=function(T,$){if(isNaN(T)||isNaN($))throw hs.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var X=this.ctx.transform.applyToPoint(new d(T,$));this.path.push({type:"mt",x:X.x,y:X.y}),this.ctx.lastPoint=new d(T,$)},b.prototype.closePath=function(){var T=new d(0,0),$=0;for($=this.path.length-1;$!==-1;$--)if(this.path[$].type==="begin"&&ns(this.path[$+1])==="object"&&typeof this.path[$+1].x=="number"){T=new d(this.path[$+1].x,this.path[$+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new d(T.x,T.y)},b.prototype.lineTo=function(T,$){if(isNaN(T)||isNaN($))throw hs.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var X=this.ctx.transform.applyToPoint(new d(T,$));this.path.push({type:"lt",x:X.x,y:X.y}),this.ctx.lastPoint=new d(X.x,X.y)},b.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),H.call(this,null,!0)},b.prototype.quadraticCurveTo=function(T,$,X,Ae){if(isNaN(X)||isNaN(Ae)||isNaN(T)||isNaN($))throw hs.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var xe=this.ctx.transform.applyToPoint(new d(X,Ae)),Be=this.ctx.transform.applyToPoint(new d(T,$));this.path.push({type:"qct",x1:Be.x,y1:Be.y,x:xe.x,y:xe.y}),this.ctx.lastPoint=new d(xe.x,xe.y)},b.prototype.bezierCurveTo=function(T,$,X,Ae,xe,Be){if(isNaN(xe)||isNaN(Be)||isNaN(T)||isNaN($)||isNaN(X)||isNaN(Ae))throw hs.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ke=this.ctx.transform.applyToPoint(new d(xe,Be)),ge=this.ctx.transform.applyToPoint(new d(T,$)),je=this.ctx.transform.applyToPoint(new d(X,Ae));this.path.push({type:"bct",x1:ge.x,y1:ge.y,x2:je.x,y2:je.y,x:ke.x,y:ke.y}),this.ctx.lastPoint=new d(ke.x,ke.y)},b.prototype.arc=function(T,$,X,Ae,xe,Be){if(isNaN(T)||isNaN($)||isNaN(X)||isNaN(Ae)||isNaN(xe))throw hs.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Be=!!Be,!this.ctx.transform.isIdentity){var ke=this.ctx.transform.applyToPoint(new d(T,$));T=ke.x,$=ke.y;var ge=this.ctx.transform.applyToPoint(new d(0,X)),je=this.ctx.transform.applyToPoint(new d(0,0));X=Math.sqrt(Math.pow(ge.x-je.x,2)+Math.pow(ge.y-je.y,2))}Math.abs(xe-Ae)>=2*Math.PI&&(Ae=0,xe=2*Math.PI),this.path.push({type:"arc",x:T,y:$,radius:X,startAngle:Ae,endAngle:xe,counterclockwise:Be})},b.prototype.arcTo=function(T,$,X,Ae,xe){throw new Error("arcTo not implemented.")},b.prototype.rect=function(T,$,X,Ae){if(isNaN(T)||isNaN($)||isNaN(X)||isNaN(Ae))throw hs.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(T,$),this.lineTo(T+X,$),this.lineTo(T+X,$+Ae),this.lineTo(T,$+Ae),this.lineTo(T,$),this.lineTo(T+X,$),this.lineTo(T,$)},b.prototype.fillRect=function(T,$,X,Ae){if(isNaN(T)||isNaN($)||isNaN(X)||isNaN(Ae))throw hs.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!w.call(this)){var xe={};this.lineCap!=="butt"&&(xe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(xe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(T,$,X,Ae),this.fill(),xe.hasOwnProperty("lineCap")&&(this.lineCap=xe.lineCap),xe.hasOwnProperty("lineJoin")&&(this.lineJoin=xe.lineJoin)}},b.prototype.strokeRect=function(T,$,X,Ae){if(isNaN(T)||isNaN($)||isNaN(X)||isNaN(Ae))throw hs.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");S.call(this)||(this.beginPath(),this.rect(T,$,X,Ae),this.stroke())},b.prototype.clearRect=function(T,$,X,Ae){if(isNaN(T)||isNaN($)||isNaN(X)||isNaN(Ae))throw hs.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(T,$,X,Ae))},b.prototype.save=function(T){T=typeof T!="boolean"||T;for(var $=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("q");if(this.pdf.setPage($),T){this.ctx.fontSize=this.pdf.internal.getFontSize();var Ae=new g(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Ae}},b.prototype.restore=function(T){T=typeof T!="boolean"||T;for(var $=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("Q");this.pdf.setPage($),T&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},b.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var B=function(T){var $,X,Ae,xe;if(T.isCanvasGradient===!0&&(T=T.getColor()),!T)return{r:0,g:0,b:0,a:0,style:T};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(T))$=0,X=0,Ae=0,xe=0;else{var Be=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(T);if(Be!==null)$=parseInt(Be[1]),X=parseInt(Be[2]),Ae=parseInt(Be[3]),xe=1;else if((Be=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(T))!==null)$=parseInt(Be[1]),X=parseInt(Be[2]),Ae=parseInt(Be[3]),xe=parseFloat(Be[4]);else{if(xe=1,typeof T=="string"&&T.charAt(0)!=="#"){var ke=new CC(T);T=ke.ok?ke.toHex():"#000000"}T.length===4?($=T.substring(1,2),$+=$,X=T.substring(2,3),X+=X,Ae=T.substring(3,4),Ae+=Ae):($=T.substring(1,3),X=T.substring(3,5),Ae=T.substring(5,7)),$=parseInt($,16),X=parseInt(X,16),Ae=parseInt(Ae,16)}}return{r:$,g:X,b:Ae,a:xe,style:T}},w=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},S=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};b.prototype.fillText=function(T,$,X,Ae){if(isNaN($)||isNaN(X)||typeof T!="string")throw hs.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Ae=isNaN(Ae)?void 0:Ae,!w.call(this)){var xe=ee(this.ctx.transform.rotation),Be=this.ctx.transform.scaleX;W.call(this,{text:T,x:$,y:X,scale:Be,angle:xe,align:this.textAlign,maxWidth:Ae})}},b.prototype.strokeText=function(T,$,X,Ae){if(isNaN($)||isNaN(X)||typeof T!="string")throw hs.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!S.call(this)){Ae=isNaN(Ae)?void 0:Ae;var xe=ee(this.ctx.transform.rotation),Be=this.ctx.transform.scaleX;W.call(this,{text:T,x:$,y:X,scale:Be,renderingMode:"stroke",angle:xe,align:this.textAlign,maxWidth:Ae})}},b.prototype.measureText=function(T){if(typeof T!="string")throw hs.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var $=this.pdf,X=this.pdf.internal.scaleFactor,Ae=$.internal.getFontSize(),xe=$.getStringUnitWidth(T)*Ae/$.internal.scaleFactor;return new function(Be){var ke=(Be=Be||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ke}}),this}({width:xe*=Math.round(96*X/72*1e4)/1e4})},b.prototype.scale=function(T,$){if(isNaN(T)||isNaN($))throw hs.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var X=new h(T,0,0,$,0,0);this.ctx.transform=this.ctx.transform.multiply(X)},b.prototype.rotate=function(T){if(isNaN(T))throw hs.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var $=new h(Math.cos(T),Math.sin(T),-Math.sin(T),Math.cos(T),0,0);this.ctx.transform=this.ctx.transform.multiply($)},b.prototype.translate=function(T,$){if(isNaN(T)||isNaN($))throw hs.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var X=new h(1,0,0,1,T,$);this.ctx.transform=this.ctx.transform.multiply(X)},b.prototype.transform=function(T,$,X,Ae,xe,Be){if(isNaN(T)||isNaN($)||isNaN(X)||isNaN(Ae)||isNaN(xe)||isNaN(Be))throw hs.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ke=new h(T,$,X,Ae,xe,Be);this.ctx.transform=this.ctx.transform.multiply(ke)},b.prototype.setTransform=function(T,$,X,Ae,xe,Be){T=isNaN(T)?1:T,$=isNaN($)?0:$,X=isNaN(X)?0:X,Ae=isNaN(Ae)?1:Ae,xe=isNaN(xe)?0:xe,Be=isNaN(Be)?0:Be,this.ctx.transform=new h(T,$,X,Ae,xe,Be)};var U=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};b.prototype.drawImage=function(T,$,X,Ae,xe,Be,ke,ge,je){var Qe=this.pdf.getImageProperties(T),Re=1,lt=1,Lt=1,fe=1;Ae!==void 0&&ge!==void 0&&(Lt=ge/Ae,fe=je/xe,Re=Qe.width/Ae*ge/Ae,lt=Qe.height/xe*je/xe),Be===void 0&&(Be=$,ke=X,$=0,X=0),Ae!==void 0&&ge===void 0&&(ge=Ae,je=xe),Ae===void 0&&ge===void 0&&(ge=Qe.width,je=Qe.height);var ft=this.ctx.transform.decompose(),St=ee(ft.rotate.shx),st=new h,ue=(st=(st=(st=st.multiply(ft.translate)).multiply(ft.skew)).multiply(ft.scale)).applyToRectangle(new u(Be-$*Lt,ke-X*fe,Ae*Re,xe*lt));if(this.autoPaging){for(var Ze,Ve=k.call(this,ue),gt=[],bt=0;bt<Ve.length;bt+=1)gt.indexOf(Ve[bt])===-1&&gt.push(Ve[bt]);D(gt);for(var nr=gt[0],Jt=gt[gt.length-1],Wt=nr;Wt<Jt+1;Wt++){this.pdf.setPage(Wt);var yr=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],sr=Wt===1?this.posY+this.margin[0]:this.margin[0],Dt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],er=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Zt=Wt===1?0:Dt+(Wt-2)*er;if(this.ctx.clip_path.length!==0){var Hr=this.path;Ze=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=O(Ze,this.posX+this.margin[3],-Zt+sr+this.ctx.prevPageLastElemOffset),re.call(this,"fill",!0),this.path=Hr}var cr=JSON.parse(JSON.stringify(ue));cr=O([cr],this.posX+this.margin[3],-Zt+sr+this.ctx.prevPageLastElemOffset)[0];var Yt=(Wt>nr||Wt<Jt)&&U.call(this);Yt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],yr,er,null).clip().discardPath()),this.pdf.addImage(T,"JPEG",cr.x,cr.y,cr.w,cr.h,null,null,St),Yt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(T,"JPEG",ue.x,ue.y,ue.w,ue.h,null,null,St)};var k=function(T,$,X){var Ae=[];$=$||this.pdf.internal.pageSize.width,X=X||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var xe=this.posY+this.ctx.prevPageLastElemOffset;switch(T.type){default:case"mt":case"lt":Ae.push(Math.floor((T.y+xe)/X)+1);break;case"arc":Ae.push(Math.floor((T.y+xe-T.radius)/X)+1),Ae.push(Math.floor((T.y+xe+T.radius)/X)+1);break;case"qct":var Be=Ce(this.ctx.lastPoint.x,this.ctx.lastPoint.y,T.x1,T.y1,T.x,T.y);Ae.push(Math.floor((Be.y+xe)/X)+1),Ae.push(Math.floor((Be.y+Be.h+xe)/X)+1);break;case"bct":var ke=Ne(this.ctx.lastPoint.x,this.ctx.lastPoint.y,T.x1,T.y1,T.x2,T.y2,T.x,T.y);Ae.push(Math.floor((ke.y+xe)/X)+1),Ae.push(Math.floor((ke.y+ke.h+xe)/X)+1);break;case"rect":Ae.push(Math.floor((T.y+xe)/X)+1),Ae.push(Math.floor((T.y+T.h+xe)/X)+1)}for(var ge=0;ge<Ae.length;ge+=1)for(;this.pdf.internal.getNumberOfPages()<Ae[ge];)C.call(this);return Ae},C=function(){var T=this.fillStyle,$=this.strokeStyle,X=this.font,Ae=this.lineCap,xe=this.lineWidth,Be=this.lineJoin;this.pdf.addPage(),this.fillStyle=T,this.strokeStyle=$,this.font=X,this.lineCap=Ae,this.lineWidth=xe,this.lineJoin=Be},O=function(T,$,X){for(var Ae=0;Ae<T.length;Ae++)switch(T[Ae].type){case"bct":T[Ae].x2+=$,T[Ae].y2+=X;case"qct":T[Ae].x1+=$,T[Ae].y1+=X;default:T[Ae].x+=$,T[Ae].y+=X}return T},D=function(T){return T.sort(function($,X){return $-X})},H=function(T,$){var X=this.fillStyle,Ae=this.strokeStyle,xe=this.lineCap,Be=this.lineWidth,ke=Math.abs(Be*this.ctx.transform.scaleX),ge=this.lineJoin;if(this.autoPaging){for(var je,Qe,Re=JSON.parse(JSON.stringify(this.path)),lt=JSON.parse(JSON.stringify(this.path)),Lt=[],fe=0;fe<lt.length;fe++)if(lt[fe].x!==void 0)for(var ft=k.call(this,lt[fe]),St=0;St<ft.length;St+=1)Lt.indexOf(ft[St])===-1&&Lt.push(ft[St]);for(var st=0;st<Lt.length;st++)for(;this.pdf.internal.getNumberOfPages()<Lt[st];)C.call(this);D(Lt);for(var ue=Lt[0],Ze=Lt[Lt.length-1],Ve=ue;Ve<Ze+1;Ve++){this.pdf.setPage(Ve),this.fillStyle=X,this.strokeStyle=Ae,this.lineCap=xe,this.lineWidth=ke,this.lineJoin=ge;var gt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],bt=Ve===1?this.posY+this.margin[0]:this.margin[0],nr=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Jt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Wt=Ve===1?0:nr+(Ve-2)*Jt;if(this.ctx.clip_path.length!==0){var yr=this.path;je=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=O(je,this.posX+this.margin[3],-Wt+bt+this.ctx.prevPageLastElemOffset),re.call(this,T,!0),this.path=yr}if(Qe=JSON.parse(JSON.stringify(Re)),this.path=O(Qe,this.posX+this.margin[3],-Wt+bt+this.ctx.prevPageLastElemOffset),$===!1||Ve===0){var sr=(Ve>ue||Ve<Ze)&&U.call(this);sr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],gt,Jt,null).clip().discardPath()),re.call(this,T,$),sr&&this.pdf.restoreGraphicsState()}this.lineWidth=Be}this.path=Re}else this.lineWidth=ke,re.call(this,T,$),this.lineWidth=Be},re=function(T,$){if((T!=="stroke"||$||!S.call(this))&&(T==="stroke"||$||!w.call(this))){for(var X,Ae,xe=[],Be=this.path,ke=0;ke<Be.length;ke++){var ge=Be[ke];switch(ge.type){case"begin":xe.push({begin:!0});break;case"close":xe.push({close:!0});break;case"mt":xe.push({start:ge,deltas:[],abs:[]});break;case"lt":var je=xe.length;if(Be[ke-1]&&!isNaN(Be[ke-1].x)&&(X=[ge.x-Be[ke-1].x,ge.y-Be[ke-1].y],je>0)){for(;je>=0;je--)if(xe[je-1].close!==!0&&xe[je-1].begin!==!0){xe[je-1].deltas.push(X),xe[je-1].abs.push(ge);break}}break;case"bct":X=[ge.x1-Be[ke-1].x,ge.y1-Be[ke-1].y,ge.x2-Be[ke-1].x,ge.y2-Be[ke-1].y,ge.x-Be[ke-1].x,ge.y-Be[ke-1].y],xe[xe.length-1].deltas.push(X);break;case"qct":var Qe=Be[ke-1].x+2/3*(ge.x1-Be[ke-1].x),Re=Be[ke-1].y+2/3*(ge.y1-Be[ke-1].y),lt=ge.x+2/3*(ge.x1-ge.x),Lt=ge.y+2/3*(ge.y1-ge.y),fe=ge.x,ft=ge.y;X=[Qe-Be[ke-1].x,Re-Be[ke-1].y,lt-Be[ke-1].x,Lt-Be[ke-1].y,fe-Be[ke-1].x,ft-Be[ke-1].y],xe[xe.length-1].deltas.push(X);break;case"arc":xe.push({deltas:[],abs:[],arc:!0}),Array.isArray(xe[xe.length-1].abs)&&xe[xe.length-1].abs.push(ge)}}Ae=$?null:T==="stroke"?"stroke":"fill";for(var St=!1,st=0;st<xe.length;st++)if(xe[st].arc)for(var ue=xe[st].abs,Ze=0;Ze<ue.length;Ze++){var Ve=ue[Ze];Ve.type==="arc"?te.call(this,Ve.x,Ve.y,Ve.radius,Ve.startAngle,Ve.endAngle,Ve.counterclockwise,void 0,$,!St):ie.call(this,Ve.x,Ve.y),St=!0}else if(xe[st].close===!0)this.pdf.internal.out("h"),St=!1;else if(xe[st].begin!==!0){var gt=xe[st].start.x,bt=xe[st].start.y;z.call(this,xe[st].deltas,gt,bt),St=!0}Ae&&G.call(this,Ae),$&&de.call(this)}},q=function(T){var $=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,X=$*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return T-X;case"top":return T+$-X;case"hanging":return T+$-2*X;case"middle":return T+$/2-X;default:return T}},ne=function(T){return T+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};b.prototype.createLinearGradient=function(){var T=function(){};return T.colorStops=[],T.addColorStop=function($,X){this.colorStops.push([$,X])},T.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},T.isCanvasGradient=!0,T},b.prototype.createPattern=function(){return this.createLinearGradient()},b.prototype.createRadialGradient=function(){return this.createLinearGradient()};var te=function(T,$,X,Ae,xe,Be,ke,ge,je){for(var Qe=V.call(this,X,Ae,xe,Be),Re=0;Re<Qe.length;Re++){var lt=Qe[Re];Re===0&&(je?K.call(this,lt.x1+T,lt.y1+$):ie.call(this,lt.x1+T,lt.y1+$)),he.call(this,T,$,lt.x2,lt.y2,lt.x3,lt.y3,lt.x4,lt.y4)}ge?de.call(this):G.call(this,ke)},G=function(T){switch(T){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},de=function(){this.pdf.clip(),this.pdf.discardPath()},K=function(T,$){this.pdf.internal.out(r(T)+" "+n($)+" m")},W=function(T){var $;switch(T.align){case"right":case"end":$="right";break;case"center":$="center";break;default:$="left"}var X,Ae,xe,Be=this.pdf.getTextDimensions(T.text),ke=q.call(this,T.y),ge=ne.call(this,ke)-Be.h,je=this.ctx.transform.applyToPoint(new d(T.x,ke));if(this.autoPaging){var Qe=this.ctx.transform.decompose(),Re=new h;Re=(Re=(Re=Re.multiply(Qe.translate)).multiply(Qe.skew)).multiply(Qe.scale);for(var lt=this.ctx.transform.applyToRectangle(new u(T.x,ke,Be.w,Be.h)),Lt=Re.applyToRectangle(new u(T.x,ge,Be.w,Be.h)),fe=k.call(this,Lt),ft=[],St=0;St<fe.length;St+=1)ft.indexOf(fe[St])===-1&&ft.push(fe[St]);D(ft);for(var st=ft[0],ue=ft[ft.length-1],Ze=st;Ze<ue+1;Ze++){this.pdf.setPage(Ze);var Ve=Ze===1?this.posY+this.margin[0]:this.margin[0],gt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],bt=this.pdf.internal.pageSize.height-this.margin[2],nr=bt-this.margin[0],Jt=this.pdf.internal.pageSize.width-this.margin[1],Wt=Jt-this.margin[3],yr=Ze===1?0:gt+(Ze-2)*nr;if(this.ctx.clip_path.length!==0){var sr=this.path;X=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=O(X,this.posX+this.margin[3],-1*yr+Ve),re.call(this,"fill",!0),this.path=sr}var Dt=O([JSON.parse(JSON.stringify(Lt))],this.posX+this.margin[3],-yr+Ve+this.ctx.prevPageLastElemOffset)[0];T.scale>=.01&&(Ae=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ae*T.scale),xe=this.lineWidth,this.lineWidth=xe*T.scale);var er=this.autoPaging!=="text";if(er||Dt.y+Dt.h<=bt){if(er||Dt.y>=Ve&&Dt.x<=Jt){var Zt=er?T.text:this.pdf.splitTextToSize(T.text,T.maxWidth||Jt-Dt.x)[0],Hr=O([JSON.parse(JSON.stringify(lt))],this.posX+this.margin[3],-yr+Ve+this.ctx.prevPageLastElemOffset)[0],cr=er&&(Ze>st||Ze<ue)&&U.call(this);cr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Wt,nr,null).clip().discardPath()),this.pdf.text(Zt,Hr.x,Hr.y,{angle:T.angle,align:$,renderingMode:T.renderingMode}),cr&&this.pdf.restoreGraphicsState()}}else Dt.y<bt&&(this.ctx.prevPageLastElemOffset+=bt-Dt.y);T.scale>=.01&&(this.pdf.setFontSize(Ae),this.lineWidth=xe)}}else T.scale>=.01&&(Ae=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ae*T.scale),xe=this.lineWidth,this.lineWidth=xe*T.scale),this.pdf.text(T.text,je.x+this.posX,je.y+this.posY,{angle:T.angle,align:$,renderingMode:T.renderingMode,maxWidth:T.maxWidth}),T.scale>=.01&&(this.pdf.setFontSize(Ae),this.lineWidth=xe)},ie=function(T,$,X,Ae){X=X||0,Ae=Ae||0,this.pdf.internal.out(r(T+X)+" "+n($+Ae)+" l")},z=function(T,$,X){return this.pdf.lines(T,$,X,null,null)},he=function(T,$,X,Ae,xe,Be,ke,ge){this.pdf.internal.out([e(i(X+T)),e(l(Ae+$)),e(i(xe+T)),e(l(Be+$)),e(i(ke+T)),e(l(ge+$)),"c"].join(" "))},V=function(T,$,X,Ae){for(var xe=2*Math.PI,Be=Math.PI/2;$>X;)$-=xe;var ke=Math.abs(X-$);ke<xe&&Ae&&(ke=xe-ke);for(var ge=[],je=Ae?-1:1,Qe=$;ke>1e-5;){var Re=Qe+je*Math.min(ke,Be);ge.push(me.call(this,T,Qe,Re)),ke-=Math.abs(Re-Qe),Qe=Re}return ge},me=function(T,$,X){var Ae=(X-$)/2,xe=T*Math.cos(Ae),Be=T*Math.sin(Ae),ke=xe,ge=-Be,je=ke*ke+ge*ge,Qe=je+ke*xe+ge*Be,Re=4/3*(Math.sqrt(2*je*Qe)-Qe)/(ke*Be-ge*xe),lt=ke-Re*ge,Lt=ge+Re*ke,fe=lt,ft=-Lt,St=Ae+$,st=Math.cos(St),ue=Math.sin(St);return{x1:T*Math.cos($),y1:T*Math.sin($),x2:lt*st-Lt*ue,y2:lt*ue+Lt*st,x3:fe*st-ft*ue,y3:fe*ue+ft*st,x4:T*Math.cos(X),y4:T*Math.sin(X)}},ee=function(T){return 180*T/Math.PI},Ce=function(T,$,X,Ae,xe,Be){var ke=T+.5*(X-T),ge=$+.5*(Ae-$),je=xe+.5*(X-xe),Qe=Be+.5*(Ae-Be),Re=Math.min(T,xe,ke,je),lt=Math.max(T,xe,ke,je),Lt=Math.min($,Be,ge,Qe),fe=Math.max($,Be,ge,Qe);return new u(Re,Lt,lt-Re,fe-Lt)},Ne=function(T,$,X,Ae,xe,Be,ke,ge){var je,Qe,Re,lt,Lt,fe,ft,St,st,ue,Ze,Ve,gt,bt,nr=X-T,Jt=Ae-$,Wt=xe-X,yr=Be-Ae,sr=ke-xe,Dt=ge-Be;for(Qe=0;Qe<41;Qe++)st=(ft=(Re=T+(je=Qe/40)*nr)+je*((Lt=X+je*Wt)-Re))+je*(Lt+je*(xe+je*sr-Lt)-ft),ue=(St=(lt=$+je*Jt)+je*((fe=Ae+je*yr)-lt))+je*(fe+je*(Be+je*Dt-fe)-St),Qe==0?(Ze=st,Ve=ue,gt=st,bt=ue):(Ze=Math.min(Ze,st),Ve=Math.min(Ve,ue),gt=Math.max(gt,st),bt=Math.max(bt,ue));return new u(Math.round(Ze),Math.round(Ve),Math.round(gt-Ze),Math.round(bt-Ve))},M=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var T,$,X=(T=this.ctx.lineDash,$=this.ctx.lineDashOffset,JSON.stringify({lineDash:T,lineDashOffset:$}));this.prevLineDash!==X&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=X)}}})(Sr.API),(function(t){var e=function(d){var u,h,m,g,b,B,w,S,U,k;for(h=[],m=0,g=(d+=u="\0\0\0\0".slice(d.length%4||4)).length;g>m;m+=4)(b=(d.charCodeAt(m)<<24)+(d.charCodeAt(m+1)<<16)+(d.charCodeAt(m+2)<<8)+d.charCodeAt(m+3))!==0?(B=(b=((b=((b=((b=(b-(k=b%85))/85)-(U=b%85))/85)-(S=b%85))/85)-(w=b%85))/85)%85,h.push(B+33,w+33,S+33,U+33,k+33)):h.push(122);return(function(C,O){for(var D=O;D>0;D--)C.pop()})(h,u.length),String.fromCharCode.apply(String,h)+"~>"},r=function(d){var u,h,m,g,b,B=String,w="length",S=255,U="charCodeAt",k="slice",C="replace";for(d[k](-2),d=d[k](0,-2)[C](/\s/g,"")[C]("z","!!!!!"),m=[],g=0,b=(d+=u="uuuuu"[k](d[w]%5||5))[w];b>g;g+=5)h=52200625*(d[U](g)-33)+614125*(d[U](g+1)-33)+7225*(d[U](g+2)-33)+85*(d[U](g+3)-33)+(d[U](g+4)-33),m.push(S&h>>24,S&h>>16,S&h>>8,S&h);return(function(O,D){for(var H=D;H>0;H--)O.pop()})(m,u[w]),B.fromCharCode.apply(B,m)},n=function(d){return d.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(d){var u=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((d=d.replace(/\s/g,"")).indexOf(">")!==-1&&(d=d.substr(0,d.indexOf(">"))),d.length%2&&(d+="0"),u.test(d)===!1)return"";for(var h="",m=0;m<d.length;m+=2)h+=String.fromCharCode("0x"+(d[m]+d[m+1]));return h},l=function(d){for(var u=new Uint8Array(d.length),h=d.length;h--;)u[h]=d.charCodeAt(h);return(u=Rb(u)).reduce(function(m,g){return m+String.fromCharCode(g)},"")};t.processDataByFilters=function(d,u){var h=0,m=d||"",g=[];for(typeof(u=u||[])=="string"&&(u=[u]),h=0;h<u.length;h+=1)switch(u[h]){case"ASCII85Decode":case"/ASCII85Decode":m=r(m),g.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":m=e(m),g.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":m=i(m),g.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":m=n(m),g.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":m=l(m),g.push("/FlateDecode");break;default:throw new Error('The filter: "'+u[h]+'" is not implemented')}return{data:m,reverseChain:g.reverse().join(" ")}}})(Sr.API),(function(t){t.loadFile=function(e,r,n){return(function(i,l,d){l=l!==!1,d=typeof d=="function"?d:function(){};var u=void 0;try{u=(function(h,m,g){var b=new XMLHttpRequest,B=0,w=function(S){var U=S.length,k=[],C=String.fromCharCode;for(B=0;B<U;B+=1)k.push(C(255&S.charCodeAt(B)));return k.join("")};if(b.open("GET",h,!m),b.overrideMimeType("text/plain; charset=x-user-defined"),m===!1&&(b.onload=function(){b.status===200?g(w(this.responseText)):g(void 0)}),b.send(null),m&&b.status===200)return w(b.responseText)})(i,l,d)}catch{}return u})(e,r,n)},t.loadImageFile=t.loadFile})(Sr.API),(function(t){function e(){return(Vr.html2canvas?Promise.resolve(Vr.html2canvas):Ad(()=>Promise.resolve().then(()=>qT),void 0)).catch(function(u){return Promise.reject(new Error("Could not load html2canvas: "+u))}).then(function(u){return u.default?u.default:u})}function r(){return(Vr.DOMPurify?Promise.resolve(Vr.DOMPurify):Ad(()=>import("./purify.es-B9ZVCkUG.js"),[])).catch(function(u){return Promise.reject(new Error("Could not load dompurify: "+u))}).then(function(u){return u.default?u.default:u})}var n=function(u){var h=ns(u);return h==="undefined"?"undefined":h==="string"||u instanceof String?"string":h==="number"||u instanceof Number?"number":h==="function"||u instanceof Function?"function":u&&u.constructor===Array?"array":u&&u.nodeType===1?"element":h==="object"?"object":"unknown"},i=function(u,h){var m=document.createElement(u);for(var g in h.className&&(m.className=h.className),h.innerHTML&&h.dompurify&&(m.innerHTML=h.dompurify.sanitize(h.innerHTML)),h.style)m.style[g]=h.style[g];return m},l=function u(h,m){for(var g=h.nodeType===3?document.createTextNode(h.nodeValue):h.cloneNode(!1),b=h.firstChild;b;b=b.nextSibling)m!==!0&&b.nodeType===1&&b.nodeName==="SCRIPT"||g.appendChild(u(b,m));return h.nodeType===1&&(h.nodeName==="CANVAS"?(g.width=h.width,g.height=h.height,g.getContext("2d").drawImage(h,0,0)):h.nodeName!=="TEXTAREA"&&h.nodeName!=="SELECT"||(g.value=h.value),g.addEventListener("load",function(){g.scrollTop=h.scrollTop,g.scrollLeft=h.scrollLeft},!0)),g},d=function u(h){var m=Object.assign(u.convert(Promise.resolve()),JSON.parse(JSON.stringify(u.template))),g=u.convert(Promise.resolve(),m);return(g=g.setProgress(1,u,1,[u])).set(h)};(d.prototype=Object.create(Promise.prototype)).constructor=d,d.convert=function(u,h){return u.__proto__=h||d.prototype,u},d.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},d.prototype.from=function(u,h){return this.then(function(){switch(h=h||(function(m){switch(n(m)){case"string":return"string";case"element":return m.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(u),h){case"string":return this.then(r).then(function(m){return this.set({src:i("div",{innerHTML:u,dompurify:m})})});case"element":return this.set({src:u});case"canvas":return this.set({canvas:u});case"img":return this.set({img:u});default:return this.error("Unknown source type.")}})},d.prototype.to=function(u){switch(u){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},d.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var u={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},h=l(this.prop.src,this.opt.html2canvas.javascriptEnabled);h.tagName==="BODY"&&(u.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:u}),this.prop.container.appendChild(h),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},d.prototype.toCanvas=function(){var u=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(u).then(e).then(function(h){var m=Object.assign({},this.opt.html2canvas);return delete m.onrendered,h(this.prop.container,m)}).then(function(h){(this.opt.html2canvas.onrendered||function(){})(h),this.prop.canvas=h,document.body.removeChild(this.prop.overlay)})},d.prototype.toContext2d=function(){var u=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(u).then(e).then(function(h){var m=this.opt.jsPDF,g=this.opt.fontFaces,b=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,B=Object.assign({async:!0,allowTaint:!0,scale:b,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete B.onrendered,m.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,m.context2d.posX=this.opt.x,m.context2d.posY=this.opt.y,m.context2d.margin=this.opt.margin,m.context2d.fontFaces=g,g)for(var w=0;w<g.length;++w){var S=g[w],U=S.src.find(function(k){return k.format==="truetype"});U&&m.addFont(U.url,S.ref.name,S.ref.style)}return B.windowHeight=B.windowHeight||0,B.windowHeight=B.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):B.windowHeight,m.context2d.save(!0),h(this.prop.container,B)}).then(function(h){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(h),this.prop.canvas=h,document.body.removeChild(this.prop.overlay)})},d.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var u=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=u})},d.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},d.prototype.output=function(u,h,m){return(m=m||"pdf").toLowerCase()==="img"||m.toLowerCase()==="image"?this.outputImg(u,h):this.outputPdf(u,h)},d.prototype.outputPdf=function(u,h){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(u,h)})},d.prototype.outputImg=function(u){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(u){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+u+'" is not supported.'}})},d.prototype.save=function(u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(u?{filename:u}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},d.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},d.prototype.set=function(u){if(n(u)!=="object")return this;var h=Object.keys(u||{}).map(function(m){if(m in d.template.prop)return function(){this.prop[m]=u[m]};switch(m){case"margin":return this.setMargin.bind(this,u.margin);case"jsPDF":return function(){return this.opt.jsPDF=u.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,u.pageSize);default:return function(){this.opt[m]=u[m]}}},this);return this.then(function(){return this.thenList(h)})},d.prototype.get=function(u,h){return this.then(function(){var m=u in d.template.prop?this.prop[u]:this.opt[u];return h?h(m):m})},d.prototype.setMargin=function(u){return this.then(function(){switch(n(u)){case"number":u=[u,u,u,u];case"array":if(u.length===2&&(u=[u[0],u[1],u[0],u[1]]),u.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=u}).then(this.setPageSize)},d.prototype.setPageSize=function(u){function h(m,g){return Math.floor(m*g/72*96)}return this.then(function(){(u=u||Sr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(u.inner={width:u.width-this.opt.margin[1]-this.opt.margin[3],height:u.height-this.opt.margin[0]-this.opt.margin[2]},u.inner.px={width:h(u.inner.width,u.k),height:h(u.inner.height,u.k)},u.inner.ratio=u.inner.height/u.inner.width),this.prop.pageSize=u})},d.prototype.setProgress=function(u,h,m,g){return u!=null&&(this.progress.val=u),h!=null&&(this.progress.state=h),m!=null&&(this.progress.n=m),g!=null&&(this.progress.stack=g),this.progress.ratio=this.progress.val/this.progress.state,this},d.prototype.updateProgress=function(u,h,m,g){return this.setProgress(u?this.progress.val+u:null,h||null,m?this.progress.n+m:null,g?this.progress.stack.concat(g):null)},d.prototype.then=function(u,h){var m=this;return this.thenCore(u,h,function(g,b){return m.updateProgress(null,null,1,[g]),Promise.prototype.then.call(this,function(B){return m.updateProgress(null,g),B}).then(g,b).then(function(B){return m.updateProgress(1),B})})},d.prototype.thenCore=function(u,h,m){m=m||Promise.prototype.then;var g=this;u&&(u=u.bind(g)),h&&(h=h.bind(g));var b=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?g:d.convert(Object.assign({},g),Promise.prototype),B=m.call(b,u,h);return d.convert(B,g.__proto__)},d.prototype.thenExternal=function(u,h){return Promise.prototype.then.call(this,u,h)},d.prototype.thenList=function(u){var h=this;return u.forEach(function(m){h=h.thenCore(m)}),h},d.prototype.catch=function(u){u&&(u=u.bind(this));var h=Promise.prototype.catch.call(this,u);return d.convert(h,this)},d.prototype.catchExternal=function(u){return Promise.prototype.catch.call(this,u)},d.prototype.error=function(u){return this.then(function(){throw new Error(u)})},d.prototype.using=d.prototype.set,d.prototype.saveAs=d.prototype.save,d.prototype.export=d.prototype.output,d.prototype.run=d.prototype.then,Sr.getPageSize=function(u,h,m){if(ns(u)==="object"){var g=u;u=g.orientation,h=g.unit||h,m=g.format||m}h=h||"mm",m=m||"a4",u=(""+(u||"P")).toLowerCase();var b,B=(""+m).toLowerCase(),w={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(h){case"pt":b=1;break;case"mm":b=72/25.4;break;case"cm":b=72/2.54;break;case"in":b=72;break;case"px":b=.75;break;case"pc":case"em":b=12;break;case"ex":b=6;break;default:throw"Invalid unit: "+h}var S,U=0,k=0;if(w.hasOwnProperty(B))U=w[B][1]/b,k=w[B][0]/b;else try{U=m[1],k=m[0]}catch{throw new Error("Invalid format: "+m)}if(u==="p"||u==="portrait")u="p",k>U&&(S=k,k=U,U=S);else{if(u!=="l"&&u!=="landscape")throw"Invalid orientation: "+u;u="l",U>k&&(S=k,k=U,U=S)}return{width:k,height:U,unit:h,k:b,orientation:u}},t.html=function(u,h){(h=h||{}).callback=h.callback||function(){},h.html2canvas=h.html2canvas||{},h.html2canvas.canvas=h.html2canvas.canvas||this.canvas,h.jsPDF=h.jsPDF||this,h.fontFaces=h.fontFaces?h.fontFaces.map(Cx):null;var m=new d(h);return h.worker?m:m.from(u).doCallback()}})(Sr.API),Sr.API.addJS=function(t){return D_=t,this.internal.events.subscribe("postPutResources",function(){Pp=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Pp+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),R_=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+D_+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Pp!==void 0&&R_!==void 0&&this.internal.out("/Names <</JavaScript "+Pp+" 0 R>>")}),this},(function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),l=0;l<i.length;l++){var d=i[l],u=n.exec(d);if(u!=null){var h=u[1];r.internal.newObjectDeferredBegin(h,!1)}r.internal.write(d)}if(this.outline.createNamedDestinations){var m=this.internal.pages.length,g=[];for(l=0;l<m;l++){var b=r.internal.newObject();g.push(b);var B=r.internal.getPageInfo(l+1);r.internal.write("<< /D["+B.objId+" 0 R /XYZ null null null]>> endobj")}var w=r.internal.newObject();for(r.internal.write("<< /Names [ "),l=0;l<g.length;l++)r.internal.write("(page_"+(l+1)+")"+g[l]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+w+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,l){var d={title:i,options:l,children:[]};return n==null&&(n=this.root),n.children.push(d),d},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,l=0;l<n.children.length;l++){var d=n.children[l];this.objStart(d),this.line("/Title "+this.makeString(d.title)),this.line("/Parent "+this.makeRef(n)),l>0&&this.line("/Prev "+this.makeRef(n.children[l-1])),l<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[l+1])),d.children.length>0&&(this.line("/First "+this.makeRef(d.children[0])),this.line("/Last "+this.makeRef(d.children[d.children.length-1])));var u=this.count=this.count_r({count:0},d);if(u>0&&this.line("/Count "+u),d.options&&d.options.pageNumber){var h=r.internal.getPageInfo(d.options.pageNumber);this.line("/Dest ["+h.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var m=0;m<n.children.length;m++)this.renderItems(n.children[m])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var l=0;l<i.children.length;l++)n.count++,this.count_r(n,i.children[l]);return n.count}}])})(Sr.API),(function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,i,l,d,u){var h,m=this.decode.DCT_DECODE,g=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=d||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,h=(function(b){for(var B,w=256*b.charCodeAt(4)+b.charCodeAt(5),S=b.length,U={width:0,height:0,numcomponents:1},k=4;k<S;k+=2){if(k+=w,e.indexOf(b.charCodeAt(k+1))!==-1){B=256*b.charCodeAt(k+5)+b.charCodeAt(k+6),U={width:256*b.charCodeAt(k+7)+b.charCodeAt(k+8),height:B,numcomponents:b.charCodeAt(k+9)};break}w=256*b.charCodeAt(k+2)+b.charCodeAt(k+3)}return U})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),h.numcomponents){case 1:u=this.color_spaces.DEVICE_GRAY;break;case 4:u=this.color_spaces.DEVICE_CMYK;break;case 3:u=this.color_spaces.DEVICE_RGB}g={data:r,width:h.width,height:h.height,colorSpace:u,bitsPerComponent:8,filter:m,index:n,alias:i}}return g}})(Sr.API),Sr.API.processPNG=function(t,e,r,n){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,l=JO(t,{checkCrc:!0}),d=l.width,u=l.height,h=l.channels,m=l.palette,g=l.depth;i=m&&h===1?(function(te){for(var G=te.width,de=te.height,K=te.data,W=te.palette,ie=te.depth,z=!1,he=[],V=[],me=void 0,ee=!1,Ce=0,Ne=0;Ne<W.length;Ne++){var M=q2(W[Ne],4),T=M[0],$=M[1],X=M[2],Ae=M[3];he.push(T,$,X),Ae!=null&&(Ae===0?(Ce++,V.length<1&&V.push(Ne)):Ae<255&&(ee=!0))}if(ee||Ce>1){z=!0,V=void 0;var xe=G*de;me=new Uint8Array(xe);for(var Be=new DataView(K.buffer),ke=0;ke<xe;ke++){var ge=Sx(Be,ke,ie),je=q2(W[ge],4)[3];me[ke]=je}}else Ce===0&&(V=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:z?8:void 0,colorBytes:K,alphaBytes:me,needSMask:z,palette:he,mask:V}})(l):h===2||h===4?(function(te){for(var G=te.data,de=te.width,K=te.height,W=te.channels,ie=te.depth,z=W===2?"DeviceGray":"DeviceRGB",he=W-1,V=de*K,me=he,ee=V*me,Ce=1*V,Ne=Math.ceil(ee*ie/8),M=Math.ceil(Ce*ie/8),T=new Uint8Array(Ne),$=new Uint8Array(M),X=new DataView(G.buffer),Ae=new DataView(T.buffer),xe=new DataView($.buffer),Be=!1,ke=0;ke<V;ke++){for(var ge=ke*W,je=0;je<me;je++)$_(Ae,Sx(X,ge+je,ie),ke*me+je,ie);var Qe=Sx(X,ge+me,ie);Qe<(1<<ie)-1&&(Be=!0),$_(xe,Qe,1*ke,ie)}return{colorSpace:z,colorsPerPixel:he,sMaskBitsPerComponent:Be?ie:void 0,colorBytes:T,alphaBytes:$,needSMask:Be}})(l):(function(te){var G=te.data,de=te.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:de,colorsPerPixel:de==="DeviceGray"?1:3,colorBytes:G instanceof Uint16Array?(function(K){for(var W=K.length,ie=new Uint8Array(2*W),z=new DataView(ie.buffer,ie.byteOffset,ie.byteLength),he=0;he<W;he++)z.setUint16(2*he,K[he],!1);return ie})(G):G,needSMask:!1}})(l);var b,B,w,S=i,U=S.colorSpace,k=S.colorsPerPixel,C=S.sMaskBitsPerComponent,O=S.colorBytes,D=S.alphaBytes,H=S.needSMask,re=S.palette,q=S.mask,ne=null;return n!==Sr.API.image_compression.NONE&&typeof Rb=="function"?(ne=(function(te){var G;switch(te){case Sr.API.image_compression.FAST:G=11;break;case Sr.API.image_compression.MEDIUM:G=13;break;case Sr.API.image_compression.SLOW:G=14;break;default:G=12}return G})(n),b=this.decode.FLATE_DECODE,B="/Predictor ".concat(ne," /Colors ").concat(k," /BitsPerComponent ").concat(g," /Columns ").concat(d),t=q_(O,Math.ceil(d*k*g/8),k,g,n),H&&(w=q_(D,Math.ceil(d*C/8),1,C,n))):(b=void 0,B=void 0,t=O,H&&(w=D)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(w&&this.__addimage__.isArrayBuffer(w)||this.__addimage__.isArrayBufferView(w))&&(w=this.__addimage__.arrayBufferToBinaryString(w)),{alias:r,data:t,index:e,filter:b,decodeParameters:B,transparency:q,palette:re,sMask:w,predictor:ne,width:d,height:u,bitsPerComponent:g,sMaskBitsPerComponent:C,colorSpace:U}}},(function(t){t.processGIF89A=function(e,r,n,i){var l=new xQ(e),d=l.width,u=l.height,h=[];l.decodeAndBlitFrameRGBA(0,h);var m={data:h,width:d,height:u},g=new jx(100).encode(m,100);return t.processJPEG.call(this,g,r,n,i)},t.processGIF87A=t.processGIF89A})(Sr.API),wl.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:r,quad:l}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},wl.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){hs.log("bit decode error:"+r)}},wl.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var l=this.datav.getUint8(this.pos++,!0),d=n*this.width*4+8*i*4,u=0;u<8&&8*i+u<this.width;u++){var h=this.palette[l>>7-u&1];this.data[d+4*u]=h.blue,this.data[d+4*u+1]=h.green,this.data[d+4*u+2]=h.red,this.data[d+4*u+3]=255}r!==0&&(this.pos+=4-r)}},wl.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<t;i++){var l=this.datav.getUint8(this.pos++,!0),d=n*this.width*4+2*i*4,u=l>>4,h=15&l,m=this.palette[u];if(this.data[d]=m.blue,this.data[d+1]=m.green,this.data[d+2]=m.red,this.data[d+3]=255,2*i+1>=this.width)break;m=this.palette[h],this.data[d+4]=m.blue,this.data[d+4+1]=m.green,this.data[d+4+2]=m.red,this.data[d+4+3]=255}e!==0&&(this.pos+=4-e)}},wl.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),l=r*this.width*4+4*n;if(i<this.palette.length){var d=this.palette[i];this.data[l]=d.red,this.data[l+1]=d.green,this.data[l+2]=d.blue,this.data[l+3]=255}else this.data[l]=255,this.data[l+1]=255,this.data[l+2]=255,this.data[l+3]=255}t!==0&&(this.pos+=4-t)}},wl.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var d=(l&e)/e*255|0,u=(l>>5&e)/e*255|0,h=(l>>10&e)/e*255|0,m=l>>15?255:0,g=n*this.width*4+4*i;this.data[g]=h,this.data[g+1]=u,this.data[g+2]=d,this.data[g+3]=m}this.pos+=t}},wl.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,l=0;l<this.width;l++){var d=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(d&e)/e*255|0,h=(d>>5&r)/r*255|0,m=(d>>11)/e*255|0,g=i*this.width*4+4*l;this.data[g]=m,this.data[g+1]=h,this.data[g+2]=u,this.data[g+3]=255}this.pos+=t}},wl.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),d=e*this.width*4+4*r;this.data[d]=l,this.data[d+1]=i,this.data[d+2]=n,this.data[d+3]=255}this.pos+=this.width%4}},wl.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),d=this.datav.getUint8(this.pos++,!0),u=e*this.width*4+4*r;this.data[u]=l,this.data[u+1]=i,this.data[u+2]=n,this.data[u+3]=d}},wl.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(e,r,n,i){var l=new wl(e,!1),d=l.width,u=l.height,h={data:l.getData(),width:d,height:u},m=new jx(100).encode(h,100);return t.processJPEG.call(this,m,r,n,i)}})(Sr.API),X_.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(e,r,n,i){var l=new X_(e),d=l.width,u=l.height,h={data:l.getData(),width:d,height:u},m=new jx(100).encode(h,100);return t.processJPEG.call(this,m,r,n,i)}})(Sr.API),Sr.API.processRGBA=function(t,e,r){for(var n=t.data,i=n.length,l=new Uint8Array(i/4*3),d=new Uint8Array(i/4),u=0,h=0,m=0;m<i;m+=4){var g=n[m],b=n[m+1],B=n[m+2],w=n[m+3];l[u++]=g,l[u++]=b,l[u++]=B,d[h++]=w}var S=this.__addimage__.arrayBufferToBinaryString(l);return{alpha:this.__addimage__.arrayBufferToBinaryString(d),data:S,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Sr.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Yd=Sr.API,Hp=Yd.getCharWidthsArray=function(t,e){var r,n,i=(e=e||{}).font||this.internal.getFont(),l=e.fontSize||this.internal.getFontSize(),d=e.charSpace||this.internal.getCharSpace(),u=e.widths?e.widths:i.metadata.Unicode.widths,h=u.fof?u.fof:1,m=e.kerning?e.kerning:i.metadata.Unicode.kerning,g=m.fof?m.fof:1,b=e.doKerning!==!1,B=0,w=t.length,S=0,U=u[0]||h,k=[];for(r=0;r<w;r++)n=t.charCodeAt(r),typeof i.metadata.widthOfString=="function"?k.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+d*(1e3/l)||0)/1e3):(B=b&&ns(m[n])==="object"&&!isNaN(parseInt(m[n][S],10))?m[n][S]/g:0,k.push((u[n]||U)/h+B)),S=n;return k},M_=Yd.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Yd.processArabic&&(t=Yd.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,i)/r:Hp.apply(this,arguments).reduce(function(l,d){return l+d},0)},P_=function(t,e,r,n){for(var i=[],l=0,d=t.length,u=0;l!==d&&u+e[l]<r;)u+=e[l],l++;i.push(t.slice(0,l));var h=l;for(u=0;l!==d;)u+e[l]>n&&(i.push(t.slice(h,l)),u=0,h=l),u+=e[l],l++;return h!==l&&i.push(t.slice(h,l)),i},H_=function(t,e,r){r||(r={});var n,i,l,d,u,h,m,g=[],b=[g],B=r.textIndent||0,w=0,S=0,U=t.split(" "),k=Hp.apply(this,[" ",r])[0];if(h=r.lineIndent===-1?U[0].length+2:r.lineIndent||0){var C=Array(h).join(" "),O=[];U.map(function(H){(H=H.split(/\s*\n/)).length>1?O=O.concat(H.map(function(re,q){return(q&&re.length?`
`:"")+re})):O.push(H[0])}),U=O,h=M_.apply(this,[C,r])}for(l=0,d=U.length;l<d;l++){var D=0;if(n=U[l],h&&n[0]==`
`&&(n=n.substr(1),D=1),B+w+(S=(i=Hp.apply(this,[n,r])).reduce(function(H,re){return H+re},0))>e||D){if(S>e){for(u=P_.apply(this,[n,i,e-(B+w),e]),g.push(u.shift()),g=[u.pop()];u.length;)b.push([u.shift()]);S=i.slice(n.length-(g[0]?g[0].length:0)).reduce(function(H,re){return H+re},0)}else g=[n];b.push(g),B=S+h,w=k}else g.push(n),B+=w+S,w=k}return m=h?function(H,re){return(re?C:"")+H.join(" ")}:function(H){return H.join(" ")},b.map(m)},Yd.splitTextToSize=function(t,e,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),l=(function(g){if(g.widths&&g.kerning)return{widths:g.widths,kerning:g.kerning};var b=this.internal.getFont(g.fontName,g.fontStyle),B="Unicode";return b.metadata[B]?{widths:b.metadata[B].widths||{0:1},kerning:b.metadata[B].kerning||{}}:{font:b.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var d=1*this.internal.scaleFactor*e/i;l.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,l.lineIndent=r.lineIndent;var u,h,m=[];for(u=0,h=n.length;u<h;u++)m=m.concat(H_.apply(this,[n[u],d,l]));return m},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",r="klmnopqrstuvwxyz",n={},i={},l=0;l<16;l++)n[r[l]]=e[l],i[e[l]]=r[l];var d=function(B){return"0x"+parseInt(B,10).toString(16)},u=t.__fontmetrics__.compress=function(B){var w,S,U,k,C=["{"];for(var O in B){if(w=B[O],isNaN(parseInt(O,10))?S="'"+O+"'":(O=parseInt(O,10),S=(S=d(O).slice(2)).slice(0,-1)+i[S.slice(-1)]),typeof w=="number")w<0?(U=d(w).slice(3),k="-"):(U=d(w).slice(2),k=""),U=k+U.slice(0,-1)+i[U.slice(-1)];else{if(ns(w)!=="object")throw new Error("Don't know what to do with value type "+ns(w)+".");U=u(w)}C.push(S+U)}return C.push("}"),C.join("")},h=t.__fontmetrics__.uncompress=function(B){if(typeof B!="string")throw new Error("Invalid argument passed to uncompress.");for(var w,S,U,k,C={},O=1,D=C,H=[],re="",q="",ne=B.length-1,te=1;te<ne;te+=1)(k=B[te])=="'"?w?(U=w.join(""),w=void 0):w=[]:w?w.push(k):k=="{"?(H.push([D,U]),D={},U=void 0):k=="}"?((S=H.pop())[0][S[1]]=D,U=void 0,D=S[0]):k=="-"?O=-1:U===void 0?n.hasOwnProperty(k)?(re+=n[k],U=parseInt(re,16)*O,O=1,re=""):re+=k:n.hasOwnProperty(k)?(q+=n[k],D[U]=parseInt(q,16)*O,O=1,U=void 0,q=""):q+=k;return C},m={codePages:["WinAnsiEncoding"],WinAnsiEncoding:h("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},g={Unicode:{Courier:m,"Courier-Bold":m,"Courier-BoldOblique":m,"Courier-Oblique":m,Helvetica:m,"Helvetica-Bold":m,"Helvetica-BoldOblique":m,"Helvetica-Oblique":m,"Times-Roman":m,"Times-Bold":m,"Times-BoldItalic":m,"Times-Italic":m}},b={Unicode:{"Courier-Oblique":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":h("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":h("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":h("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:h("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:h("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":h("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:h("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":h("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":h("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":h("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(B){var w=B.font,S=b.Unicode[w.postScriptName];S&&(w.metadata.Unicode={},w.metadata.Unicode.widths=S.widths,w.metadata.Unicode.kerning=S.kerning);var U=g.Unicode[w.postScriptName];U&&(w.metadata.Unicode.encoding=U,w.encoding=U.codePages[0])}])})(Sr.API),(function(t){var e=function(r){for(var n=r.length,i=new Uint8Array(n),l=0;l<n;l++)i[l]=r.charCodeAt(l);return i};t.API.events.push(["addFont",function(r){var n=void 0,i=r.font,l=r.instance;if(!i.isStandardFont){if(l===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=l.existsFileInVFS(i.postScriptName)===!1?l.loadFile(i.postScriptName):l.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(d,u){u=/^\x00\x01\x00\x00/.test(u)?e(u):e(cm(u)),d.metadata=t.API.TTFFont.open(u),d.metadata.Unicode=d.metadata.Unicode||{encoding:{},kerning:{},widths:[]},d.metadata.glyIdsUsed=[0]})(i,n)}}])})(Sr),Sr.API.addSvgAsImage=function(t,e,r,n,i,l,d,u){if(isNaN(e)||isNaN(r))throw hs.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw hs.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var h=document.createElement("canvas");h.width=n,h.height=i;var m=h.getContext("2d");m.fillStyle="#fff",m.fillRect(0,0,h.width,h.height);var g={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},b=this;return(Vr.canvg?Promise.resolve(Vr.canvg):Ad(()=>import("./index.es-BwGh6oea.js"),[])).catch(function(B){return Promise.reject(new Error("Could not load canvg: "+B))}).then(function(B){return B.default?B.default:B}).then(function(B){return B.fromString(m,t,g)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(B){return B.render(g)}).then(function(){b.addImage(h.toDataURL("image/jpeg",1),e,r,n,i,d,u)})},Sr.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,r);return this},Sr.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,i,l,d={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},u=Object.keys(d),h=[],m=0,g=0,b=0;function B(S,U){var k,C=!1;for(k=0;k<S.length;k+=1)S[k]===U&&(C=!0);return C}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(d)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var w=u.length;for(b=0;b<w;b+=1)r[u[b]].value=r[u[b]].defaultValue,r[u[b]].explicitSet=!1}if(ns(t)==="object"){for(i in t)if(l=t[i],B(u,i)&&l!==void 0){if(r[i].type==="boolean"&&typeof l=="boolean")r[i].value=l;else if(r[i].type==="name"&&B(r[i].valueSet,l))r[i].value=l;else if(r[i].type==="integer"&&Number.isInteger(l))r[i].value=l;else if(r[i].type==="array"){for(m=0;m<l.length;m+=1)if(n=!0,l[m].length===1&&typeof l[m][0]=="number")h.push(String(l[m]-1));else if(l[m].length>1){for(g=0;g<l[m].length;g+=1)typeof l[m][g]!="number"&&(n=!1);n===!0&&h.push([l[m][0]-1,l[m][1]-1].join(" "))}r[i].value="["+h.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var S,U=[];for(S in r)r[S].explicitSet===!0&&(r[S].type==="name"?U.push("/"+S+" /"+r[S].value):U.push("/"+S+" "+r[S].value));U.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+U.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},(function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),l=unescape(encodeURIComponent(n)),d=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),u=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),h=unescape(encodeURIComponent("</x:xmpmeta>")),m=l.length+d.length+u.length+i.length+h.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+m+" >>"),this.internal.write("stream"),this.internal.write(i+l+d+u+h),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}})(Sr.API),(function(t){var e=t.API,r=e.pdfEscape16=function(l,d){for(var u,h=d.metadata.Unicode.widths,m=["","0","00","000","0000"],g=[""],b=0,B=l.length;b<B;++b){if(u=d.metadata.characterToGlyph(l.charCodeAt(b)),d.metadata.glyIdsUsed.push(u),d.metadata.toUnicode[u]=l.charCodeAt(b),h.indexOf(u)==-1&&(h.push(u),h.push([parseInt(d.metadata.widthOfGlyph(u),10)])),u=="0")return g.join("");u=u.toString(16),g.push(m[4-u.length],u)}return g.join("")},n=function(l){var d,u,h,m,g,b,B;for(g=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,h=[],b=0,B=(u=Object.keys(l).sort(function(w,S){return w-S})).length;b<B;b++)d=u[b],h.length>=100&&(g+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar`,h=[]),l[d]!==void 0&&l[d]!==null&&typeof l[d].toString=="function"&&(m=("0000"+l[d].toString(16)).slice(-4),d=("0000"+(+d).toString(16)).slice(-4),h.push("<"+d+"><"+m+">"));return h.length&&(g+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar
`),g+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(l){(function(d){var u=d.font,h=d.out,m=d.newObject,g=d.putStream;if(u.metadata instanceof t.API.TTFFont&&u.encoding==="Identity-H"){for(var b=u.metadata.Unicode.widths,B=u.metadata.subset.encode(u.metadata.glyIdsUsed,1),w="",S=0;S<B.length;S++)w+=String.fromCharCode(B[S]);var U=m();g({data:w,addLength1:!0,objectId:U}),h("endobj");var k=m();g({data:n(u.metadata.toUnicode),addLength1:!0,objectId:k}),h("endobj");var C=m();h("<<"),h("/Type /FontDescriptor"),h("/FontName /"+du(u.fontName)),h("/FontFile2 "+U+" 0 R"),h("/FontBBox "+t.API.PDFObject.convert(u.metadata.bbox)),h("/Flags "+u.metadata.flags),h("/StemV "+u.metadata.stemV),h("/ItalicAngle "+u.metadata.italicAngle),h("/Ascent "+u.metadata.ascender),h("/Descent "+u.metadata.decender),h("/CapHeight "+u.metadata.capHeight),h(">>"),h("endobj");var O=m();h("<<"),h("/Type /Font"),h("/BaseFont /"+du(u.fontName)),h("/FontDescriptor "+C+" 0 R"),h("/W "+t.API.PDFObject.convert(b)),h("/CIDToGIDMap /Identity"),h("/DW 1000"),h("/Subtype /CIDFontType2"),h("/CIDSystemInfo"),h("<<"),h("/Supplement 0"),h("/Registry (Adobe)"),h("/Ordering ("+u.encoding+")"),h(">>"),h(">>"),h("endobj"),u.objectNumber=m(),h("<<"),h("/Type /Font"),h("/Subtype /Type0"),h("/ToUnicode "+k+" 0 R"),h("/BaseFont /"+du(u.fontName)),h("/Encoding /"+u.encoding),h("/DescendantFonts ["+O+" 0 R]"),h(">>"),h("endobj"),u.isAlreadyPutted=!0}})(l)}]),e.events.push(["putFont",function(l){(function(d){var u=d.font,h=d.out,m=d.newObject,g=d.putStream;if(u.metadata instanceof t.API.TTFFont&&u.encoding==="WinAnsiEncoding"){for(var b=u.metadata.rawData,B="",w=0;w<b.length;w++)B+=String.fromCharCode(b[w]);var S=m();g({data:B,addLength1:!0,objectId:S}),h("endobj");var U=m();g({data:n(u.metadata.toUnicode),addLength1:!0,objectId:U}),h("endobj");var k=m();h("<<"),h("/Descent "+u.metadata.decender),h("/CapHeight "+u.metadata.capHeight),h("/StemV "+u.metadata.stemV),h("/Type /FontDescriptor"),h("/FontFile2 "+S+" 0 R"),h("/Flags 96"),h("/FontBBox "+t.API.PDFObject.convert(u.metadata.bbox)),h("/FontName /"+du(u.fontName)),h("/ItalicAngle "+u.metadata.italicAngle),h("/Ascent "+u.metadata.ascender),h(">>"),h("endobj"),u.objectNumber=m();for(var C=0;C<u.metadata.hmtx.widths.length;C++)u.metadata.hmtx.widths[C]=parseInt(u.metadata.hmtx.widths[C]*(1e3/u.metadata.head.unitsPerEm));h("<</Subtype/TrueType/Type/Font/ToUnicode "+U+" 0 R/BaseFont/"+du(u.fontName)+"/FontDescriptor "+k+" 0 R/Encoding/"+u.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(u.metadata.hmtx.widths)+">>"),h("endobj"),u.isAlreadyPutted=!0}})(l)}]);var i=function(l){var d,u=l.text||"",h=l.x,m=l.y,g=l.options||{},b=l.mutex||{},B=b.pdfEscape,w=b.activeFontKey,S=b.fonts,U=w,k="",C=0,O="",D=S[U].encoding;if(S[U].encoding!=="Identity-H")return{text:u,x:h,y:m,options:g,mutex:b};for(O=u,U=w,Array.isArray(u)&&(O=u[0]),C=0;C<O.length;C+=1)S[U].metadata.hasOwnProperty("cmap")&&(d=S[U].metadata.cmap.unicode.codeMap[O[C].charCodeAt(0)]),d||O[C].charCodeAt(0)<256&&S[U].metadata.hasOwnProperty("Unicode")?k+=O[C]:k+="";var H="";return parseInt(U.slice(1))<14||D==="WinAnsiEncoding"?H=B(k,U).split("").map(function(re){return re.charCodeAt(0).toString(16)}).join(""):D==="Identity-H"&&(H=r(k,S[U])),b.isHex=!0,{text:H,x:h,y:m,options:g,mutex:b}};e.events.push(["postProcessText",function(l){var d=l.text||"",u=[],h={text:d,x:l.x,y:l.y,options:l.options,mutex:l.mutex};if(Array.isArray(d)){var m=0;for(m=0;m<d.length;m+=1)Array.isArray(d[m])&&d[m].length===3?u.push([i(Object.assign({},h,{text:d[m][0]})).text,d[m][1],d[m][2]]):u.push(i(Object.assign({},h,{text:d[m]})).text);l.text=u}else l.text=i(Object.assign({},h,{text:d})).text}])})(Sr),(function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})(Sr.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var i,l,d,u,h,m,g,b=e,B=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],w=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],S={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},U={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},k=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],C=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),O=!1,D=0;this.__bidiEngine__={};var H=function(K){var W=K.charCodeAt(),ie=W>>8,z=U[ie];return z!==void 0?b[256*z+(255&W)]:ie===252||ie===253?"AL":C.test(ie)?"L":ie===8?"R":"N"},re=function(K){for(var W,ie=0;ie<K.length;ie++){if((W=H(K.charAt(ie)))==="L")return!1;if(W==="R")return!0}return!1},q=function(K,W,ie,z){var he,V,me,ee,Ce=W[z];switch(Ce){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":O=!1;break;case"N":case"AN":break;case"EN":O&&(Ce="AN");break;case"AL":O=!0,Ce="R";break;case"WS":case"BN":Ce="N";break;case"CS":z<1||z+1>=W.length||(he=ie[z-1])!=="EN"&&he!=="AN"||(V=W[z+1])!=="EN"&&V!=="AN"?Ce="N":O&&(V="AN"),Ce=V===he?V:"N";break;case"ES":Ce=(he=z>0?ie[z-1]:"B")==="EN"&&z+1<W.length&&W[z+1]==="EN"?"EN":"N";break;case"ET":if(z>0&&ie[z-1]==="EN"){Ce="EN";break}if(O){Ce="N";break}for(me=z+1,ee=W.length;me<ee&&W[me]==="ET";)me++;Ce=me<ee&&W[me]==="EN"?"EN":"N";break;case"NSM":if(d&&!u){for(ee=W.length,me=z+1;me<ee&&W[me]==="NSM";)me++;if(me<ee){var Ne=K[z],M=Ne>=1425&&Ne<=2303||Ne===64286;if(he=W[me],M&&(he==="R"||he==="AL")){Ce="R";break}}}Ce=z<1||(he=W[z-1])==="B"?"N":ie[z-1];break;case"B":O=!1,i=!0,Ce=D;break;case"S":l=!0,Ce="N"}return Ce},ne=function(K,W,ie){var z=K.split("");return ie&&te(z,ie,{hiLevel:D}),z.reverse(),W&&W.reverse(),z.join("")},te=function(K,W,ie){var z,he,V,me,ee,Ce=-1,Ne=K.length,M=0,T=[],$=D?w:B,X=[];for(O=!1,i=!1,l=!1,he=0;he<Ne;he++)X[he]=H(K[he]);for(V=0;V<Ne;V++){if(ee=M,T[V]=q(K,X,T,V),z=240&(M=$[ee][S[T[V]]]),M&=15,W[V]=me=$[M][5],z>0)if(z===16){for(he=Ce;he<V;he++)W[he]=1;Ce=-1}else Ce=-1;if($[M][6])Ce===-1&&(Ce=V);else if(Ce>-1){for(he=Ce;he<V;he++)W[he]=me;Ce=-1}X[V]==="B"&&(W[V]=0),ie.hiLevel|=me}l&&(function(Ae,xe,Be){for(var ke=0;ke<Be;ke++)if(Ae[ke]==="S"){xe[ke]=D;for(var ge=ke-1;ge>=0&&Ae[ge]==="WS";ge--)xe[ge]=D}})(X,W,Ne)},G=function(K,W,ie,z,he){if(!(he.hiLevel<K)){if(K===1&&D===1&&!i)return W.reverse(),void(ie&&ie.reverse());for(var V,me,ee,Ce,Ne=W.length,M=0;M<Ne;){if(z[M]>=K){for(ee=M+1;ee<Ne&&z[ee]>=K;)ee++;for(Ce=M,me=ee-1;Ce<me;Ce++,me--)V=W[Ce],W[Ce]=W[me],W[me]=V,ie&&(V=ie[Ce],ie[Ce]=ie[me],ie[me]=V);M=ee}M++}}},de=function(K,W,ie){var z=K.split(""),he={hiLevel:D};return ie||(ie=[]),te(z,ie,he),(function(V,me,ee){if(ee.hiLevel!==0&&g)for(var Ce,Ne=0;Ne<V.length;Ne++)me[Ne]===1&&(Ce=k.indexOf(V[Ne]))>=0&&(V[Ne]=k[Ce+1])})(z,ie,he),G(2,z,W,ie,he),G(1,z,W,ie,he),z.join("")};return this.__bidiEngine__.doBidiReorder=function(K,W,ie){if((function(he,V){if(V)for(var me=0;me<he.length;me++)V[me]=me;u===void 0&&(u=re(he)),m===void 0&&(m=re(he))})(K,W),d||!h||m)if(d&&h&&u^m)D=u?1:0,K=ne(K,W,ie);else if(!d&&h&&m)D=u?1:0,K=de(K,W,ie),K=ne(K,W);else if(!d||u||h||m){if(d&&!h&&u^m)K=ne(K,W),u?(D=0,K=de(K,W,ie)):(D=1,K=de(K,W,ie),K=ne(K,W));else if(d&&u&&!h&&m)D=1,K=de(K,W,ie),K=ne(K,W);else if(!d&&!h&&u^m){var z=g;u?(D=1,K=de(K,W,ie),D=0,g=!1,K=de(K,W,ie),g=z):(D=0,K=de(K,W,ie),K=ne(K,W),D=1,g=!1,K=de(K,W,ie),g=z,K=ne(K,W))}}else D=0,K=de(K,W,ie);else D=u?1:0,K=de(K,W,ie);return K},this.__bidiEngine__.setOptions=function(K){K&&(d=K.isInputVisual,h=K.isOutputVisual,u=K.isInputRtl,m=K.isOutputRtl,g=K.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var l=n.options||{};n.mutex,l.lang;var d=[];if(l.isInputVisual=typeof l.isInputVisual!="boolean"||l.isInputVisual,r.setOptions(l),Object.prototype.toString.call(i)==="[object Array]"){var u=0;for(d=[],u=0;u<i.length;u+=1)Object.prototype.toString.call(i[u])==="[object Array]"?d.push([r.doBidiReorder(i[u][0]),i[u][1],i[u][2]]):d.push([r.doBidiReorder(i[u])]);n.text=d}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])})(Sr),Sr.API.TTFFont=(function(){function t(e){var r;if(this.rawData=e,r=this.contents=new jc(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new kQ(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new bQ(this.contents),this.head=new yQ(this),this.name=new CQ(this),this.cmap=new QC(this),this.toUnicode={},this.hhea=new wQ(this),this.maxp=new EQ(this),this.hmtx=new SQ(this),this.post=new BQ(this),this.os2=new _Q(this),this.loca=new IQ(this),this.glyf=new jQ(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,i,l;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var d,u,h,m;for(m=[],d=0,u=(h=this.bbox).length;d<u;d++)e=h[d],m.push(Math.round(e*this.scaleFactor));return m}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(l=this.familyClass)===1||l===2||l===3||l===4||l===5||l===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var i,l,d,u;for(d=0,l=0,u=(e=""+e).length;0<=u?l<u:l>u;l=0<=u?++l:--l)i=e.charCodeAt(l),d+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return d*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t})();var kl,jc=(function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,i;for(i=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(e.charCodeAt(r)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,i,l,d,u,h;return e=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),l=this.readByte(),d=this.readByte(),u=this.readByte(),h=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^l)+65536*(255^d)+256*(255^u)+(255^h)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*i+16777216*l+65536*d+256*u+h},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,i,l;for(l=[],n=0,i=e.length;n<i;n++)r=e[n],l.push(this.writeByte(r));return l},t})(),bQ=(function(){var t;function e(r){var n,i,l;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,l=this.tableCount;0<=l?i<l:i>l;i=0<=l?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,i,l,d,u,h,m,g,b,B,w,S,U;for(U in w=Object.keys(r).length,h=Math.log(2),b=16*Math.floor(Math.log(w)/h),d=Math.floor(b/h),g=16*w-b,(i=new jc).writeInt(this.scalarType),i.writeShort(w),i.writeShort(b),i.writeShort(d),i.writeShort(g),l=16*w,m=i.pos+l,u=null,S=[],r)for(B=r[U],i.writeString(U),i.writeInt(t(B)),i.writeInt(m),i.writeInt(B.length),S=S.concat(B),U==="head"&&(u=m),m+=B.length;m%4;)S.push(0),m++;return i.write(S),n=2981146554-t(i.data),i.pos=u+8,i.writeUInt32(n),i.data},t=function(r){var n,i,l,d;for(r=RC.call(r);r.length%4;)r.push(0);for(l=new jc(r),i=0,n=0,d=r.length;n<d;n=n+=4)i+=l.readUInt32();return 4294967295&i},e})(),vQ={}.hasOwnProperty,dA=function(t,e){for(var r in e)vQ.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};kl=(function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var yQ=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return dA(t,kl),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var r;return(r=new jc).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(e),r.writeShort(this.glyphDataFormat),r.data},t})(),J_=(function(){function t(e,r){var n,i,l,d,u,h,m,g,b,B,w,S,U,k,C,O,D;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),b=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(h=0;h<256;++h)this.codeMap[h]=e.readByte();break;case 4:for(w=e.readUInt16(),B=w/2,e.pos+=6,l=(function(){var H,re;for(re=[],h=H=0;0<=B?H<B:H>B;h=0<=B?++H:--H)re.push(e.readUInt16());return re})(),e.pos+=2,U=(function(){var H,re;for(re=[],h=H=0;0<=B?H<B:H>B;h=0<=B?++H:--H)re.push(e.readUInt16());return re})(),m=(function(){var H,re;for(re=[],h=H=0;0<=B?H<B:H>B;h=0<=B?++H:--H)re.push(e.readUInt16());return re})(),g=(function(){var H,re;for(re=[],h=H=0;0<=B?H<B:H>B;h=0<=B?++H:--H)re.push(e.readUInt16());return re})(),i=(this.length-e.pos+this.offset)/2,u=(function(){var H,re;for(re=[],h=H=0;0<=i?H<i:H>i;h=0<=i?++H:--H)re.push(e.readUInt16());return re})(),h=C=0,D=l.length;C<D;h=++C)for(k=l[h],n=O=S=U[h];S<=k?O<=k:O>=k;n=S<=k?++O:--O)g[h]===0?d=n+m[h]:(d=u[g[h]/2+(n-S)-(B-h)]||0)!==0&&(d+=m[h]),this.codeMap[n]=65535&d}e.pos=b}return t.encode=function(e,r){var n,i,l,d,u,h,m,g,b,B,w,S,U,k,C,O,D,H,re,q,ne,te,G,de,K,W,ie,z,he,V,me,ee,Ce,Ne,M,T,$,X,Ae,xe,Be,ke,ge,je,Qe,Re;switch(z=new jc,d=Object.keys(e).sort(function(lt,Lt){return lt-Lt}),r){case"macroman":for(U=0,k=(function(){var lt=[];for(S=0;S<256;++S)lt.push(0);return lt})(),O={0:0},l={},he=0,Ce=d.length;he<Ce;he++)O[ge=e[i=d[he]]]==null&&(O[ge]=++U),l[i]={old:e[i],new:O[e[i]]},k[i]=O[e[i]];return z.writeUInt16(1),z.writeUInt16(0),z.writeUInt32(12),z.writeUInt16(0),z.writeUInt16(262),z.writeUInt16(0),z.write(k),{charMap:l,subtable:z.data,maxGlyphID:U+1};case"unicode":for(W=[],b=[],D=0,O={},n={},C=m=null,V=0,Ne=d.length;V<Ne;V++)O[re=e[i=d[V]]]==null&&(O[re]=++D),n[i]={old:re,new:O[re]},u=O[re]-i,C!=null&&u===m||(C&&b.push(C),W.push(i),m=u),C=i;for(C&&b.push(C),b.push(65535),W.push(65535),de=2*(G=W.length),te=2*Math.pow(Math.log(G)/Math.LN2,2),B=Math.log(te/2)/Math.LN2,ne=2*G-te,h=[],q=[],w=[],S=me=0,M=W.length;me<M;S=++me){if(K=W[S],g=b[S],K===65535){h.push(0),q.push(0);break}if(K-(ie=n[K].new)>=32768)for(h.push(0),q.push(2*(w.length+G-S)),i=ee=K;K<=g?ee<=g:ee>=g;i=K<=g?++ee:--ee)w.push(n[i].new);else h.push(ie-K),q.push(0)}for(z.writeUInt16(3),z.writeUInt16(1),z.writeUInt32(12),z.writeUInt16(4),z.writeUInt16(16+8*G+2*w.length),z.writeUInt16(0),z.writeUInt16(de),z.writeUInt16(te),z.writeUInt16(B),z.writeUInt16(ne),Be=0,T=b.length;Be<T;Be++)i=b[Be],z.writeUInt16(i);for(z.writeUInt16(0),ke=0,$=W.length;ke<$;ke++)i=W[ke],z.writeUInt16(i);for(je=0,X=h.length;je<X;je++)u=h[je],z.writeUInt16(u);for(Qe=0,Ae=q.length;Qe<Ae;Qe++)H=q[Qe],z.writeUInt16(H);for(Re=0,xe=w.length;Re<xe;Re++)U=w[Re],z.writeUInt16(U);return{charMap:n,subtable:z.data,maxGlyphID:D+1}}},t})(),QC=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return dA(t,kl),t.prototype.tag="cmap",t.prototype.parse=function(e){var r,n,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)r=new J_(e,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(e,r){var n,i;return r==null&&(r="macroman"),n=J_.encode(e,r),(i=new jc).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},t})(),wQ=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return dA(t,kl),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t})(),_Q=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return dA(t,kl),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var r,n;for(n=[],r=0;r<10;++r)n.push(e.readByte());return n})(),this.charRange=(function(){var r,n;for(n=[],r=0;r<4;++r)n.push(e.readInt());return n})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(e.readInt());return n})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t})(),BQ=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return dA(t,kl),t.prototype.tag="post",t.prototype.parse=function(e){var r,n,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var l;for(n=e.readUInt16(),this.glyphNameIndex=[],l=0;0<=n?l<n:l>n;l=0<=n?++l:--l)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)r=e.readByte(),i.push(this.names.push(e.readString(r)));return i;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var d,u,h;for(h=[],l=d=0,u=this.file.maxp.numGlyphs;0<=u?d<u:d>u;l=0<=u?++d:--d)h.push(e.readUInt32());return h}).call(this)}},t})(),NQ=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},CQ=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return dA(t,kl),t.prototype.tag="name",t.prototype.parse=function(e){var r,n,i,l,d,u,h,m,g,b,B;for(e.pos=this.offset,e.readShort(),r=e.readShort(),u=e.readShort(),n=[],l=0;0<=r?l<r:l>r;l=0<=r?++l:--l)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+u+e.readShort()});for(h={},l=g=0,b=n.length;g<b;l=++g)i=n[l],e.pos=i.offset,m=e.readString(i.length),d=new NQ(m,i),h[B=i.nameID]==null&&(h[B]=[]),h[i.nameID].push(d);this.strings=h,this.copyright=h[0],this.fontFamily=h[1],this.fontSubfamily=h[2],this.uniqueSubfamily=h[3],this.fontName=h[4],this.version=h[5];try{this.postscriptName=h[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=h[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=h[7],this.manufacturer=h[8],this.designer=h[9],this.description=h[10],this.vendorUrl=h[11],this.designerUrl=h[12],this.license=h[13],this.licenseUrl=h[14],this.preferredFamily=h[15],this.preferredSubfamily=h[17],this.compatibleFull=h[18],this.sampleText=h[19]},t})(),EQ=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return dA(t,kl),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t})(),SQ=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return dA(t,kl),t.prototype.tag="hmtx",t.prototype.parse=function(e){var r,n,i,l,d,u,h;for(e.pos=this.offset,this.metrics=[],r=0,u=this.file.hhea.numberOfMetrics;0<=u?r<u:r>u;r=0<=u?++r:--r)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var m,g;for(g=[],r=m=0;0<=i?m<i:m>i;r=0<=i?++m:--m)g.push(e.readInt16());return g})(),this.widths=(function(){var m,g,b,B;for(B=[],m=0,g=(b=this.metrics).length;m<g;m++)l=b[m],B.push(l.advance);return B}).call(this),n=this.widths[this.widths.length-1],h=[],r=d=0;0<=i?d<i:d>i;r=0<=i?++d:--d)h.push(this.widths.push(n));return h},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t})(),RC=[].slice,jQ=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return dA(t,kl),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var r,n,i,l,d,u,h,m,g,b;return e in this.cache?this.cache[e]:(l=this.file.loca,r=this.file.contents,n=l.indexOf(e),(i=l.lengthOf(e))===0?this.cache[e]=null:(r.pos=this.offset+n,d=(u=new jc(r.read(i))).readShort(),m=u.readShort(),b=u.readShort(),h=u.readShort(),g=u.readShort(),this.cache[e]=d===-1?new UQ(u,m,b,h,g):new LQ(u,d,m,b,h,g),this.cache[e]))},t.prototype.encode=function(e,r,n){var i,l,d,u,h;for(d=[],l=[],u=0,h=r.length;u<h;u++)i=e[r[u]],l.push(d.length),i&&(d=d.concat(i.encode(n)));return l.push(d.length),{table:d,offsets:l}},t})(),LQ=(function(){function t(e,r,n,i,l,d){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=l,this.yMax=d,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),UQ=(function(){function t(e,r,n,i,l){var d,u;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=l,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],d=this.raw;u=d.readShort(),this.glyphOffsets.push(d.pos),this.glyphIDs.push(d.readUInt16()),32&u;)d.pos+=1&u?4:2,128&u?d.pos+=8:64&u?d.pos+=4:8&u&&(d.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new jc(RC.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t})(),IQ=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return dA(t,kl),t.prototype.tag="loca",t.prototype.parse=function(e){var r,n;return e.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,l;for(l=[],n=0,i=this.length;n<i;n+=2)l.push(2*e.readUInt16());return l}).call(this):(function(){var i,l;for(l=[],n=0,i=this.length;n<i;n+=4)l.push(e.readUInt32());return l}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,r){for(var n=new Uint32Array(this.offsets.length),i=0,l=0,d=0;d<n.length;++d)if(n[d]=i,l<r.length&&r[l]==d){++l,n[d]=i;var u=this.offsets[d],h=this.offsets[d+1]-u;h>0&&(i+=h)}for(var m=new Array(4*n.length),g=0;g<n.length;++g)m[4*g+3]=255&n[g],m[4*g+2]=(65280&n[g])>>8,m[4*g+1]=(16711680&n[g])>>16,m[4*g]=(4278190080&n[g])>>24;return m},t})(),kQ=(function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,i,l;for(r in i=this.font.cmap.tables[0].codeMap,e={},l=this.subset)n=l[r],e[r]=i[n];return e},t.prototype.glyphsFor=function(e){var r,n,i,l,d,u,h;for(i={},d=0,u=e.length;d<u;d++)i[l=e[d]]=this.font.glyf.glyphFor(l);for(l in r=[],i)(n=i[l])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(l in h=this.glyphsFor(r))n=h[l],i[l]=n;return i},t.prototype.encode=function(e,r){var n,i,l,d,u,h,m,g,b,B,w,S,U,k,C;for(i in n=QC.encode(this.generateCmap(),"unicode"),d=this.glyphsFor(e),w={0:0},C=n.charMap)w[(h=C[i]).old]=h.new;for(S in B=n.maxGlyphID,d)S in w||(w[S]=B++);return g=(function(O){var D,H;for(D in H={},O)H[O[D]]=D;return H})(w),b=Object.keys(g).sort(function(O,D){return O-D}),U=(function(){var O,D,H;for(H=[],O=0,D=b.length;O<D;O++)u=b[O],H.push(g[u]);return H})(),l=this.font.glyf.encode(d,U,w),m=this.font.loca.encode(l.offsets,U),k={cmap:this.font.cmap.raw(),glyf:l.table,loca:m,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(k["OS/2"]=this.font.os2.raw()),this.font.directory.encode(k)},t})();Sr.API.PDFObject=(function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,i,l,d;if(Array.isArray(r))return"["+(function(){var u,h,m;for(m=[],u=0,h=r.length;u<h;u++)n=r[u],m.push(e.convert(n));return m})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in l=["<<"],r)d=r[i],l.push("/"+i+" "+e.convert(d));return l.push(">>"),l.join(`
`)}return""+r},e})();function TQ(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}const FQ=t=>{switch(t){case"success":return RQ;case"info":return MQ;case"warning":return DQ;case"error":return PQ;default:return null}},OQ=Array(12).fill(0),QQ=({visible:t,className:e})=>Ht.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},Ht.createElement("div",{className:"sonner-spinner"},OQ.map((r,n)=>Ht.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),RQ=Ht.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ht.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),DQ=Ht.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Ht.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),MQ=Ht.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ht.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),PQ=Ht.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ht.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),HQ=Ht.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Ht.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Ht.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),qQ=()=>{const[t,e]=Ht.useState(document.hidden);return Ht.useEffect(()=>{const r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t};let Vb=1;class zQ{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const r=this.subscribers.indexOf(e);this.subscribers.splice(r,1)}),this.publish=e=>{this.subscribers.forEach(r=>r(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var r;const{message:n,...i}=e,l=typeof(e==null?void 0:e.id)=="number"||((r=e.id)==null?void 0:r.length)>0?e.id:Vb++,d=this.toasts.find(h=>h.id===l),u=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(l)&&this.dismissedToasts.delete(l),d?this.toasts=this.toasts.map(h=>h.id===l?(this.publish({...h,...e,id:l,title:n}),{...h,...e,id:l,dismissible:u,title:n}):h):this.addToast({title:n,...i,dismissible:u,id:l}),l},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:e,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),e),this.message=(e,r)=>this.create({...r,message:e}),this.error=(e,r)=>this.create({...r,message:e,type:"error"}),this.success=(e,r)=>this.create({...r,type:"success",message:e}),this.info=(e,r)=>this.create({...r,type:"info",message:e}),this.warning=(e,r)=>this.create({...r,type:"warning",message:e}),this.loading=(e,r)=>this.create({...r,type:"loading",message:e}),this.promise=(e,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:e,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let l=n!==void 0,d;const u=i.then(async m=>{if(d=["resolve",m],Ht.isValidElement(m))l=!1,this.create({id:n,type:"default",message:m});else if(VQ(m)&&!m.ok){l=!1;const b=typeof r.error=="function"?await r.error(`HTTP error! status: ${m.status}`):r.error,B=typeof r.description=="function"?await r.description(`HTTP error! status: ${m.status}`):r.description,S=typeof b=="object"&&!Ht.isValidElement(b)?b:{message:b};this.create({id:n,type:"error",description:B,...S})}else if(m instanceof Error){l=!1;const b=typeof r.error=="function"?await r.error(m):r.error,B=typeof r.description=="function"?await r.description(m):r.description,S=typeof b=="object"&&!Ht.isValidElement(b)?b:{message:b};this.create({id:n,type:"error",description:B,...S})}else if(r.success!==void 0){l=!1;const b=typeof r.success=="function"?await r.success(m):r.success,B=typeof r.description=="function"?await r.description(m):r.description,S=typeof b=="object"&&!Ht.isValidElement(b)?b:{message:b};this.create({id:n,type:"success",description:B,...S})}}).catch(async m=>{if(d=["reject",m],r.error!==void 0){l=!1;const g=typeof r.error=="function"?await r.error(m):r.error,b=typeof r.description=="function"?await r.description(m):r.description,w=typeof g=="object"&&!Ht.isValidElement(g)?g:{message:g};this.create({id:n,type:"error",description:b,...w})}}).finally(()=>{l&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),h=()=>new Promise((m,g)=>u.then(()=>d[0]==="reject"?g(d[1]):m(d[1])).catch(g));return typeof n!="string"&&typeof n!="number"?{unwrap:h}:Object.assign(n,{unwrap:h})},this.custom=(e,r)=>{const n=(r==null?void 0:r.id)||Vb++;return this.create({jsx:e(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const co=new zQ,KQ=(t,e)=>{const r=(e==null?void 0:e.id)||Vb++;return co.addToast({title:t,...e,id:r}),r},VQ=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",GQ=KQ,$Q=()=>co.toasts,ZQ=()=>co.getActiveToasts(),jr=Object.assign(GQ,{success:co.success,info:co.info,warning:co.warning,error:co.error,custom:co.custom,message:co.message,promise:co.promise,dismiss:co.dismiss,loading:co.loading},{getHistory:$Q,getToasts:ZQ});TQ("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function qp(t){return t.label!==void 0}const XQ=3,JQ="24px",YQ="16px",Y_=4e3,WQ=356,eR=14,tR=45,rR=200;function nA(...t){return t.filter(Boolean).join(" ")}function nR(t){const[e,r]=t.split("-"),n=[];return e&&n.push(e),r&&n.push(r),n}const sR=t=>{var e,r,n,i,l,d,u,h,m;const{invert:g,toast:b,unstyled:B,interacting:w,setHeights:S,visibleToasts:U,heights:k,index:C,toasts:O,expanded:D,removeToast:H,defaultRichColors:re,closeButton:q,style:ne,cancelButtonStyle:te,actionButtonStyle:G,className:de="",descriptionClassName:K="",duration:W,position:ie,gap:z,expandByDefault:he,classNames:V,icons:me,closeButtonAriaLabel:ee="Close toast"}=t,[Ce,Ne]=Ht.useState(null),[M,T]=Ht.useState(null),[$,X]=Ht.useState(!1),[Ae,xe]=Ht.useState(!1),[Be,ke]=Ht.useState(!1),[ge,je]=Ht.useState(!1),[Qe,Re]=Ht.useState(!1),[lt,Lt]=Ht.useState(0),[fe,ft]=Ht.useState(0),St=Ht.useRef(b.duration||W||Y_),st=Ht.useRef(null),ue=Ht.useRef(null),Ze=C===0,Ve=C+1<=U,gt=b.type,bt=b.dismissible!==!1,nr=b.className||"",Jt=b.descriptionClassName||"",Wt=Ht.useMemo(()=>k.findIndex(ut=>ut.toastId===b.id)||0,[k,b.id]),yr=Ht.useMemo(()=>{var ut;return(ut=b.closeButton)!=null?ut:q},[b.closeButton,q]),sr=Ht.useMemo(()=>b.duration||W||Y_,[b.duration,W]),Dt=Ht.useRef(0),er=Ht.useRef(0),Zt=Ht.useRef(0),Hr=Ht.useRef(null),[cr,Yt]=ie.split("-"),Xt=Ht.useMemo(()=>k.reduce((ut,rr,or)=>or>=Wt?ut:ut+rr.height,0),[k,Wt]),ar=qQ(),Vt=b.invert||g,Nr=gt==="loading";er.current=Ht.useMemo(()=>Wt*z+Xt,[Wt,Xt]),Ht.useEffect(()=>{St.current=sr},[sr]),Ht.useEffect(()=>{X(!0)},[]),Ht.useEffect(()=>{const ut=ue.current;if(ut){const rr=ut.getBoundingClientRect().height;return ft(rr),S(or=>[{toastId:b.id,height:rr,position:b.position},...or]),()=>S(or=>or.filter(qr=>qr.toastId!==b.id))}},[S,b.id]),Ht.useLayoutEffect(()=>{if(!$)return;const ut=ue.current,rr=ut.style.height;ut.style.height="auto";const or=ut.getBoundingClientRect().height;ut.style.height=rr,ft(or),S(qr=>qr.find(It=>It.toastId===b.id)?qr.map(It=>It.toastId===b.id?{...It,height:or}:It):[{toastId:b.id,height:or,position:b.position},...qr])},[$,b.title,b.description,S,b.id,b.jsx,b.action,b.cancel]);const Pt=Ht.useCallback(()=>{xe(!0),Lt(er.current),S(ut=>ut.filter(rr=>rr.toastId!==b.id)),setTimeout(()=>{H(b)},rR)},[b,H,S,er]);Ht.useEffect(()=>{if(b.promise&&gt==="loading"||b.duration===1/0||b.type==="loading")return;let ut;return D||w||ar?(()=>{if(Zt.current<Dt.current){const qr=new Date().getTime()-Dt.current;St.current=St.current-qr}Zt.current=new Date().getTime()})():(()=>{St.current!==1/0&&(Dt.current=new Date().getTime(),ut=setTimeout(()=>{b.onAutoClose==null||b.onAutoClose.call(b,b),Pt()},St.current))})(),()=>clearTimeout(ut)},[D,w,b,gt,ar,Pt]),Ht.useEffect(()=>{b.delete&&(Pt(),b.onDismiss==null||b.onDismiss.call(b,b))},[Pt,b.delete]);function tr(){var ut;if(me!=null&&me.loading){var rr;return Ht.createElement("div",{className:nA(V==null?void 0:V.loader,b==null||(rr=b.classNames)==null?void 0:rr.loader,"sonner-loader"),"data-visible":gt==="loading"},me.loading)}return Ht.createElement(QQ,{className:nA(V==null?void 0:V.loader,b==null||(ut=b.classNames)==null?void 0:ut.loader),visible:gt==="loading"})}const Ue=b.icon||(me==null?void 0:me[gt])||FQ(gt);var Ke,ot;return Ht.createElement("li",{tabIndex:0,ref:ue,className:nA(de,nr,V==null?void 0:V.toast,b==null||(e=b.classNames)==null?void 0:e.toast,V==null?void 0:V.default,V==null?void 0:V[gt],b==null||(r=b.classNames)==null?void 0:r[gt]),"data-sonner-toast":"","data-rich-colors":(Ke=b.richColors)!=null?Ke:re,"data-styled":!(b.jsx||b.unstyled||B),"data-mounted":$,"data-promise":!!b.promise,"data-swiped":Qe,"data-removed":Ae,"data-visible":Ve,"data-y-position":cr,"data-x-position":Yt,"data-index":C,"data-front":Ze,"data-swiping":Be,"data-dismissible":bt,"data-type":gt,"data-invert":Vt,"data-swipe-out":ge,"data-swipe-direction":M,"data-expanded":!!(D||he&&$),"data-testid":b.testId,style:{"--index":C,"--toasts-before":C,"--z-index":O.length-C,"--offset":`${Ae?lt:er.current}px`,"--initial-height":he?"auto":`${fe}px`,...ne,...b.style},onDragEnd:()=>{ke(!1),Ne(null),Hr.current=null},onPointerDown:ut=>{ut.button!==2&&(Nr||!bt||(st.current=new Date,Lt(er.current),ut.target.setPointerCapture(ut.pointerId),ut.target.tagName!=="BUTTON"&&(ke(!0),Hr.current={x:ut.clientX,y:ut.clientY})))},onPointerUp:()=>{var ut,rr,or;if(ge||!bt)return;Hr.current=null;const qr=Number(((ut=ue.current)==null?void 0:ut.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),dn=Number(((rr=ue.current)==null?void 0:rr.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),It=new Date().getTime()-((or=st.current)==null?void 0:or.getTime()),An=Ce==="x"?qr:dn,wn=Math.abs(An)/It;if(Math.abs(An)>=tR||wn>.11){Lt(er.current),b.onDismiss==null||b.onDismiss.call(b,b),T(Ce==="x"?qr>0?"right":"left":dn>0?"down":"up"),Pt(),je(!0);return}else{var pn,sn;(pn=ue.current)==null||pn.style.setProperty("--swipe-amount-x","0px"),(sn=ue.current)==null||sn.style.setProperty("--swipe-amount-y","0px")}Re(!1),ke(!1),Ne(null)},onPointerMove:ut=>{var rr,or,qr;if(!Hr.current||!bt||((rr=window.getSelection())==null?void 0:rr.toString().length)>0)return;const It=ut.clientY-Hr.current.y,An=ut.clientX-Hr.current.x;var wn;const pn=(wn=t.swipeDirections)!=null?wn:nR(ie);!Ce&&(Math.abs(An)>1||Math.abs(It)>1)&&Ne(Math.abs(An)>Math.abs(It)?"x":"y");let sn={x:0,y:0};const Pr=Ft=>1/(1.5+Math.abs(Ft)/20);if(Ce==="y"){if(pn.includes("top")||pn.includes("bottom"))if(pn.includes("top")&&It<0||pn.includes("bottom")&&It>0)sn.y=It;else{const Ft=It*Pr(It);sn.y=Math.abs(Ft)<Math.abs(It)?Ft:It}}else if(Ce==="x"&&(pn.includes("left")||pn.includes("right")))if(pn.includes("left")&&An<0||pn.includes("right")&&An>0)sn.x=An;else{const Ft=An*Pr(An);sn.x=Math.abs(Ft)<Math.abs(An)?Ft:An}(Math.abs(sn.x)>0||Math.abs(sn.y)>0)&&Re(!0),(or=ue.current)==null||or.style.setProperty("--swipe-amount-x",`${sn.x}px`),(qr=ue.current)==null||qr.style.setProperty("--swipe-amount-y",`${sn.y}px`)}},yr&&!b.jsx&&gt!=="loading"?Ht.createElement("button",{"aria-label":ee,"data-disabled":Nr,"data-close-button":!0,onClick:Nr||!bt?()=>{}:()=>{Pt(),b.onDismiss==null||b.onDismiss.call(b,b)},className:nA(V==null?void 0:V.closeButton,b==null||(n=b.classNames)==null?void 0:n.closeButton)},(ot=me==null?void 0:me.close)!=null?ot:HQ):null,(gt||b.icon||b.promise)&&b.icon!==null&&((me==null?void 0:me[gt])!==null||b.icon)?Ht.createElement("div",{"data-icon":"",className:nA(V==null?void 0:V.icon,b==null||(i=b.classNames)==null?void 0:i.icon)},b.promise||b.type==="loading"&&!b.icon?b.icon||tr():null,b.type!=="loading"?Ue:null):null,Ht.createElement("div",{"data-content":"",className:nA(V==null?void 0:V.content,b==null||(l=b.classNames)==null?void 0:l.content)},Ht.createElement("div",{"data-title":"",className:nA(V==null?void 0:V.title,b==null||(d=b.classNames)==null?void 0:d.title)},b.jsx?b.jsx:typeof b.title=="function"?b.title():b.title),b.description?Ht.createElement("div",{"data-description":"",className:nA(K,Jt,V==null?void 0:V.description,b==null||(u=b.classNames)==null?void 0:u.description)},typeof b.description=="function"?b.description():b.description):null),Ht.isValidElement(b.cancel)?b.cancel:b.cancel&&qp(b.cancel)?Ht.createElement("button",{"data-button":!0,"data-cancel":!0,style:b.cancelButtonStyle||te,onClick:ut=>{qp(b.cancel)&&bt&&(b.cancel.onClick==null||b.cancel.onClick.call(b.cancel,ut),Pt())},className:nA(V==null?void 0:V.cancelButton,b==null||(h=b.classNames)==null?void 0:h.cancelButton)},b.cancel.label):null,Ht.isValidElement(b.action)?b.action:b.action&&qp(b.action)?Ht.createElement("button",{"data-button":!0,"data-action":!0,style:b.actionButtonStyle||G,onClick:ut=>{qp(b.action)&&(b.action.onClick==null||b.action.onClick.call(b.action,ut),!ut.defaultPrevented&&Pt())},className:nA(V==null?void 0:V.actionButton,b==null||(m=b.classNames)==null?void 0:m.actionButton)},b.action.label):null)};function W_(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function aR(t,e){const r={};return[t,e].forEach((n,i)=>{const l=i===1,d=l?"--mobile-offset":"--offset",u=l?YQ:JQ;function h(m){["top","right","bottom","left"].forEach(g=>{r[`${d}-${g}`]=typeof m=="number"?`${m}px`:m})}typeof n=="number"||typeof n=="string"?h(n):typeof n=="object"?["top","right","bottom","left"].forEach(m=>{n[m]===void 0?r[`${d}-${m}`]=u:r[`${d}-${m}`]=typeof n[m]=="number"?`${n[m]}px`:n[m]}):h(u)}),r}const iR=Ht.forwardRef(function(e,r){const{id:n,invert:i,position:l="bottom-right",hotkey:d=["altKey","KeyT"],expand:u,closeButton:h,className:m,offset:g,mobileOffset:b,theme:B="light",richColors:w,duration:S,style:U,visibleToasts:k=XQ,toastOptions:C,dir:O=W_(),gap:D=eR,icons:H,containerAriaLabel:re="Notifications"}=e,[q,ne]=Ht.useState([]),te=Ht.useMemo(()=>n?q.filter($=>$.toasterId===n):q.filter($=>!$.toasterId),[q,n]),G=Ht.useMemo(()=>Array.from(new Set([l].concat(te.filter($=>$.position).map($=>$.position)))),[te,l]),[de,K]=Ht.useState([]),[W,ie]=Ht.useState(!1),[z,he]=Ht.useState(!1),[V,me]=Ht.useState(B!=="system"?B:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ee=Ht.useRef(null),Ce=d.join("+").replace(/Key/g,"").replace(/Digit/g,""),Ne=Ht.useRef(null),M=Ht.useRef(!1),T=Ht.useCallback($=>{ne(X=>{var Ae;return(Ae=X.find(xe=>xe.id===$.id))!=null&&Ae.delete||co.dismiss($.id),X.filter(({id:xe})=>xe!==$.id)})},[]);return Ht.useEffect(()=>co.subscribe($=>{if($.dismiss){requestAnimationFrame(()=>{ne(X=>X.map(Ae=>Ae.id===$.id?{...Ae,delete:!0}:Ae))});return}setTimeout(()=>{eL.flushSync(()=>{ne(X=>{const Ae=X.findIndex(xe=>xe.id===$.id);return Ae!==-1?[...X.slice(0,Ae),{...X[Ae],...$},...X.slice(Ae+1)]:[$,...X]})})})}),[q]),Ht.useEffect(()=>{if(B!=="system"){me(B);return}if(B==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?me("dark"):me("light")),typeof window>"u")return;const $=window.matchMedia("(prefers-color-scheme: dark)");try{$.addEventListener("change",({matches:X})=>{me(X?"dark":"light")})}catch{$.addListener(({matches:Ae})=>{try{me(Ae?"dark":"light")}catch(xe){console.error(xe)}})}},[B]),Ht.useEffect(()=>{q.length<=1&&ie(!1)},[q]),Ht.useEffect(()=>{const $=X=>{var Ae;if(d.every(ke=>X[ke]||X.code===ke)){var Be;ie(!0),(Be=ee.current)==null||Be.focus()}X.code==="Escape"&&(document.activeElement===ee.current||(Ae=ee.current)!=null&&Ae.contains(document.activeElement))&&ie(!1)};return document.addEventListener("keydown",$),()=>document.removeEventListener("keydown",$)},[d]),Ht.useEffect(()=>{if(ee.current)return()=>{Ne.current&&(Ne.current.focus({preventScroll:!0}),Ne.current=null,M.current=!1)}},[ee.current]),Ht.createElement("section",{ref:r,"aria-label":`${re} ${Ce}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},G.map(($,X)=>{var Ae;const[xe,Be]=$.split("-");return te.length?Ht.createElement("ol",{key:$,dir:O==="auto"?W_():O,tabIndex:-1,ref:ee,className:m,"data-sonner-toaster":!0,"data-sonner-theme":V,"data-y-position":xe,"data-x-position":Be,style:{"--front-toast-height":`${((Ae=de[0])==null?void 0:Ae.height)||0}px`,"--width":`${WQ}px`,"--gap":`${D}px`,...U,...aR(g,b)},onBlur:ke=>{M.current&&!ke.currentTarget.contains(ke.relatedTarget)&&(M.current=!1,Ne.current&&(Ne.current.focus({preventScroll:!0}),Ne.current=null))},onFocus:ke=>{ke.target instanceof HTMLElement&&ke.target.dataset.dismissible==="false"||M.current||(M.current=!0,Ne.current=ke.relatedTarget)},onMouseEnter:()=>ie(!0),onMouseMove:()=>ie(!0),onMouseLeave:()=>{z||ie(!1)},onDragEnd:()=>ie(!1),onPointerDown:ke=>{ke.target instanceof HTMLElement&&ke.target.dataset.dismissible==="false"||he(!0)},onPointerUp:()=>he(!1)},te.filter(ke=>!ke.position&&X===0||ke.position===$).map((ke,ge)=>{var je,Qe;return Ht.createElement(sR,{key:ke.id,icons:H,index:ge,toast:ke,defaultRichColors:w,duration:(je=C==null?void 0:C.duration)!=null?je:S,className:C==null?void 0:C.className,descriptionClassName:C==null?void 0:C.descriptionClassName,invert:i,visibleToasts:k,closeButton:(Qe=C==null?void 0:C.closeButton)!=null?Qe:h,interacting:z,position:$,style:C==null?void 0:C.style,unstyled:C==null?void 0:C.unstyled,classNames:C==null?void 0:C.classNames,cancelButtonStyle:C==null?void 0:C.cancelButtonStyle,actionButtonStyle:C==null?void 0:C.actionButtonStyle,closeButtonAriaLabel:C==null?void 0:C.closeButtonAriaLabel,removeToast:T,toasts:te.filter(Re=>Re.position==ke.position),heights:de.filter(Re=>Re.position==ke.position),setHeights:K,expandByDefault:u,gap:D,expanded:W,swipeDirections:e.swipeDirections})})):null}))});function Ag(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function oR(t,e,r,n){function i(l){return l instanceof r?l:new r(function(d){d(l)})}return new(r||(r=Promise))(function(l,d){function u(g){try{m(n.next(g))}catch(b){d(b)}}function h(g){try{m(n.throw(g))}catch(b){d(b)}}function m(g){g.done?l(g.value):i(g.value).then(u,h)}m((n=n.apply(t,e||[])).next())})}const lR=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Qv extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class AR extends Qv{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class e5 extends Qv{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class t5 extends Qv{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Gb;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Gb||(Gb={}));class cR{constructor(e,{headers:r={},customFetch:n,region:i=Gb.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=lR(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return oR(this,arguments,void 0,function*(r,n={}){var i;let l,d;try{const{headers:u,method:h,body:m,signal:g,timeout:b}=n;let B={},{region:w}=n;w||(w=this.region);const S=new URL(`${this.url}/${r}`);w&&w!=="any"&&(B["x-region"]=w,S.searchParams.set("forceFunctionRegion",w));let U;m&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)?typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(B["Content-Type"]="application/octet-stream",U=m):typeof m=="string"?(B["Content-Type"]="text/plain",U=m):typeof FormData<"u"&&m instanceof FormData?U=m:(B["Content-Type"]="application/json",U=JSON.stringify(m)):U=m;let k=g;b&&(d=new AbortController,l=setTimeout(()=>d.abort(),b),g?(k=d.signal,g.addEventListener("abort",()=>d.abort())):k=d.signal);const C=yield this.fetch(S.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},B),this.headers),u),body:U,signal:k}).catch(re=>{throw new AR(re)}),O=C.headers.get("x-relay-error");if(O&&O==="true")throw new e5(C);if(!C.ok)throw new t5(C);let D=((i=C.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),H;return D==="application/json"?H=yield C.json():D==="application/octet-stream"||D==="application/pdf"?H=yield C.blob():D==="text/event-stream"?H=C:D==="multipart/form-data"?H=yield C.formData():H=yield C.text(),{data:H,error:null,response:C}}catch(u){return{data:null,error:u,response:u instanceof t5||u instanceof e5?u.context:void 0}}finally{l&&clearTimeout(l)}})}}var dR=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},uR=class{constructor(t){var e,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{let d=null,u=null,h=null,m=l.status,g=l.statusText;if(l.ok){var b,B;if(r.method!=="HEAD"){var w;const C=await l.text();C===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((w=r.headers.get("Accept"))===null||w===void 0)&&w.includes("application/vnd.pgrst.plan+text"))?u=C:u=JSON.parse(C))}const U=(b=r.headers.get("Prefer"))===null||b===void 0?void 0:b.match(/count=(exact|planned|estimated)/),k=(B=l.headers.get("content-range"))===null||B===void 0?void 0:B.split("/");U&&k&&k.length>1&&(h=parseInt(k[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(u)&&(u.length>1?(d={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,h=null,m=406,g="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{var S;const U=await l.text();try{d=JSON.parse(U),Array.isArray(d)&&l.status===404&&(u=[],d=null,m=200,g="OK")}catch{l.status===404&&U===""?(m=204,g="No Content"):d={message:U}}if(d&&r.isMaybeSingle&&(!(d==null||(S=d.details)===null||S===void 0)&&S.includes("0 rows"))&&(d=null,m=200,g="OK"),d&&r.shouldThrowOnError)throw new dR(d)}return{error:d,data:u,count:h,status:m,statusText:g}});return this.shouldThrowOnError||(i=i.catch(l=>{var d;let u="";const h=l==null?void 0:l.cause;if(h){var m,g,b,B;const S=(m=h==null?void 0:h.message)!==null&&m!==void 0?m:"",U=(g=h==null?void 0:h.code)!==null&&g!==void 0?g:"";u=`${(b=l==null?void 0:l.name)!==null&&b!==void 0?b:"FetchError"}: ${l==null?void 0:l.message}`,u+=`

Caused by: ${(B=h==null?void 0:h.name)!==null&&B!==void 0?B:"Error"}: ${S}`,U&&(u+=` (${U})`),h!=null&&h.stack&&(u+=`
${h.stack}`)}else{var w;u=(w=l==null?void 0:l.stack)!==null&&w!==void 0?w:""}return{error:{message:`${(d=l==null?void 0:l.name)!==null&&d!==void 0?d:"FetchError"}: ${l==null?void 0:l.message}`,details:u,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(t,e)}returns(){return this}overrideTypes(){return this}},hR=class extends uR{select(t){let e=!1;const r=(t??"*").split("").map(n=>/\s/.test(n)&&!e?"":(n==='"'&&(e=!e),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:n,referencedTable:i=n}={}){const l=i?`${i}.order`:"order",d=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${d?`${d},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"offset":`${n}.offset`,l=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(l,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:n=!1,wal:i=!1,format:l="text"}={}){var d;const u=[t?"analyze":null,e?"verbose":null,r?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),h=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${l}; for="${h}"; options=${u};`),l==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const r5=new RegExp("[,()]");var uu=class extends hR{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&r5.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}notIn(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&r5.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`not.in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const l=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${l}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}},fR=class{constructor(t,{headers:e={},schema:r,fetch:n}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=n}select(t,e){const{head:r=!1,count:n}=e??{},i=r?"HEAD":"GET";let l=!1;const d=(t??"*").split("").map(u=>/\s/.test(u)&&!l?"":(u==='"'&&(l=!l),u)).join("");return this.url.searchParams.set("select",d),n&&this.headers.append("Prefer",`count=${n}`),new uu({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:r=!0}={}){var n;const i="POST";if(e&&this.headers.append("Prefer",`count=${e}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const l=t.reduce((d,u)=>d.concat(Object.keys(u)),[]);if(l.length>0){const d=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",d.join(","))}}return new uu({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:n,defaultToNull:i=!0}={}){var l;const d="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),n&&this.headers.append("Prefer",`count=${n}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const u=t.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(u.length>0){const h=[...new Set(u)].map(m=>`"${m}"`);this.url.searchParams.set("columns",h.join(","))}}return new uu({method:d,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}update(t,{count:e}={}){var r;const n="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new uu({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var e;const r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new uu({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},pR=class DC{constructor(e,{headers:r={},schema:n,fetch:i}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=i}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new fR(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new DC(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:i=!1,count:l}={}){var d;let u;const h=new URL(`${this.url}/rpc/${e}`);let m;n||i?(u=n?"HEAD":"GET",Object.entries(r).filter(([b,B])=>B!==void 0).map(([b,B])=>[b,Array.isArray(B)?`{${B.join(",")}}`:`${B}`]).forEach(([b,B])=>{h.searchParams.append(b,B)})):(u="POST",m=r);const g=new Headers(this.headers);return l&&g.set("Prefer",`count=${l}`),new uu({method:u,url:h,headers:g,schema:this.schemaName,body:m,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}};class mR{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const gR="2.89.0",xR=`realtime-js/${gR}`,MC="1.0.0",bR="2.0.0",n5=MC,$b=1e4,vR=1e3,yR=100;var bc;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(bc||(bc={}));var Ma;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Ma||(Ma={}));var Sl;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Sl||(Sl={}));var Zb;(function(t){t.websocket="websocket"})(Zb||(Zb={}));var Wc;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Wc||(Wc={}));class wR{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const i=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var r,n;const i=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},d=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,d)}_encodeUserBroadcastPush(e,r,n){var i,l;const d=e.topic,u=(i=e.ref)!==null&&i!==void 0?i:"",h=(l=e.join_ref)!==null&&l!==void 0?l:"",m=e.payload.event,g=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},b=Object.keys(g).length===0?"":JSON.stringify(g);if(h.length>255)throw new Error(`joinRef length ${h.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`ref length ${u.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`topic length ${d.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`userEvent length ${m.length} exceeds maximum of 255`);if(b.length>255)throw new Error(`metadata length ${b.length} exceeds maximum of 255`);const B=this.USER_BROADCAST_PUSH_META_LENGTH+h.length+u.length+d.length+m.length+b.length,w=new ArrayBuffer(this.HEADER_LENGTH+B);let S=new DataView(w),U=0;S.setUint8(U++,this.KINDS.userBroadcastPush),S.setUint8(U++,h.length),S.setUint8(U++,u.length),S.setUint8(U++,d.length),S.setUint8(U++,m.length),S.setUint8(U++,b.length),S.setUint8(U++,r),Array.from(h,C=>S.setUint8(U++,C.charCodeAt(0))),Array.from(u,C=>S.setUint8(U++,C.charCodeAt(0))),Array.from(d,C=>S.setUint8(U++,C.charCodeAt(0))),Array.from(m,C=>S.setUint8(U++,C.charCodeAt(0))),Array.from(b,C=>S.setUint8(U++,C.charCodeAt(0)));var k=new Uint8Array(w.byteLength+n.byteLength);return k.set(new Uint8Array(w),0),k.set(new Uint8Array(n),w.byteLength),k.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[i,l,d,u,h]=n;return r({join_ref:i,ref:l,topic:d,event:u,payload:h})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,i)}}_decodeUserBroadcast(e,r,n){const i=r.getUint8(1),l=r.getUint8(2),d=r.getUint8(3),u=r.getUint8(4);let h=this.HEADER_LENGTH+4;const m=n.decode(e.slice(h,h+i));h=h+i;const g=n.decode(e.slice(h,h+l));h=h+l;const b=n.decode(e.slice(h,h+d));h=h+d;const B=e.slice(h,e.byteLength),w=u===this.JSON_ENCODING?JSON.parse(n.decode(B)):B,S={type:this.BROADCAST_EVENT,event:g,payload:w};return d>0&&(S.meta=JSON.parse(b)),{join_ref:null,ref:null,topic:m,event:this.BROADCAST_EVENT,payload:S}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}class PC{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var xs;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(xs||(xs={}));const s5=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((l,d)=>(l[d]=_R(d,t,e,i),l),{}):{}},_R=(t,e,r,n)=>{const i=e.find(u=>u.name===t),l=i==null?void 0:i.type,d=r[t];return l&&!n.includes(l)?HC(l,d):Xb(d)},HC=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return ER(e,r)}switch(t){case xs.bool:return BR(e);case xs.float4:case xs.float8:case xs.int2:case xs.int4:case xs.int8:case xs.numeric:case xs.oid:return NR(e);case xs.json:case xs.jsonb:return CR(e);case xs.timestamp:return SR(e);case xs.abstime:case xs.date:case xs.daterange:case xs.int4range:case xs.int8range:case xs.money:case xs.reltime:case xs.text:case xs.time:case xs.timestamptz:case xs.timetz:case xs.tsrange:case xs.tstzrange:return Xb(e);default:return Xb(e)}},Xb=t=>t,BR=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},NR=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},CR=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},ER=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let l;const d=t.slice(1,r);try{l=JSON.parse("["+d+"]")}catch{l=d?d.split(","):[]}return l.map(u=>HC(e,u))}return t},SR=t=>typeof t=="string"?t.replace(" ","T"):t,qC=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Lx{constructor(e,r,n={},i=$b){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var a5;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(a5||(a5={}));class zh{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:l,onLeave:d,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=zh.syncState(this.state,i,l,d),this.pendingDiffs.forEach(h=>{this.state=zh.syncDiff(this.state,h,l,d)}),this.pendingDiffs=[],u()}),this.channel._on(n.diff,{},i=>{const{onJoin:l,onLeave:d,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=zh.syncDiff(this.state,i,l,d),u())}),this.onJoin((i,l,d)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:l,newPresences:d})}),this.onLeave((i,l,d)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:l,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const l=this.cloneDeep(e),d=this.transformState(r),u={},h={};return this.map(l,(m,g)=>{d[m]||(h[m]=g)}),this.map(d,(m,g)=>{const b=l[m];if(b){const B=g.map(k=>k.presence_ref),w=b.map(k=>k.presence_ref),S=g.filter(k=>w.indexOf(k.presence_ref)<0),U=b.filter(k=>B.indexOf(k.presence_ref)<0);S.length>0&&(u[m]=S),U.length>0&&(h[m]=U)}else u[m]=g}),this.syncDiff(l,{joins:u,leaves:h},n,i)}static syncDiff(e,r,n,i){const{joins:l,leaves:d}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(l,(u,h)=>{var m;const g=(m=e[u])!==null&&m!==void 0?m:[];if(e[u]=this.cloneDeep(h),g.length>0){const b=e[u].map(w=>w.presence_ref),B=g.filter(w=>b.indexOf(w.presence_ref)<0);e[u].unshift(...B)}n(u,g,h)}),this.map(d,(u,h)=>{let m=e[u];if(!m)return;const g=h.map(b=>b.presence_ref);m=m.filter(b=>g.indexOf(b.presence_ref)<0),e[u]=m,i(u,m,h),m.length===0&&delete e[u]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var i5;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(i5||(i5={}));var Kh;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Kh||(Kh={}));var OA;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(OA||(OA={}));class gu{constructor(e,r={config:{}},n){var i,l;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Ma.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Lx(this,Sl.join,this.params,this.timeout),this.rejoinTimer=new PC(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ma.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(d=>d.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ma.closed,this.socket._remove(this)}),this._onError(d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=Ma.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ma.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=Ma.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Sl.reply,{},(d,u)=>{this._trigger(this._replyEventName(u),d)}),this.presence=new zh(this),this.broadcastEndpointURL=qC(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,i,l;if(this.socket.isConnected()||this.socket.connect(),this.state==Ma.closed){const{config:{broadcast:d,presence:u,private:h}}=this.params,m=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(w=>w.filter))!==null&&i!==void 0?i:[],g=!!this.bindings[Kh.PRESENCE]&&this.bindings[Kh.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,b={},B={broadcast:d,presence:Object.assign(Object.assign({},u),{enabled:g}),postgres_changes:m,private:h};this.socket.accessTokenValue&&(b.access_token=this.socket.accessTokenValue),this._onError(w=>e==null?void 0:e(OA.CHANNEL_ERROR,w)),this._onClose(()=>e==null?void 0:e(OA.CLOSED)),this.updateJoinPayload(Object.assign({config:B},b)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:w})=>{var S;if(this.socket._isManualToken()||this.socket.setAuth(),w===void 0){e==null||e(OA.SUBSCRIBED);return}else{const U=this.bindings.postgres_changes,k=(S=U==null?void 0:U.length)!==null&&S!==void 0?S:0,C=[];for(let O=0;O<k;O++){const D=U[O],{filter:{event:H,schema:re,table:q,filter:ne}}=D,te=w&&w[O];if(te&&te.event===H&&gu.isFilterValueEqual(te.schema,re)&&gu.isFilterValueEqual(te.table,q)&&gu.isFilterValueEqual(te.filter,ne))C.push(Object.assign(Object.assign({},D),{id:te.id}));else{this.unsubscribe(),this.state=Ma.errored,e==null||e(OA.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,e&&e(OA.SUBSCRIBED);return}}).receive("error",w=>{this.state=Ma.errored,e==null||e(OA.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(OA.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===Ma.joined&&e===Kh.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var i;if(r==null)return Promise.reject("Payload is required for httpSend()");const l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},u=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(u.status===202)return{success:!0};let h=u.statusText;try{const m=await u.json();h=m.error||m.message||h}catch{}return Promise.reject(new Error(h))}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:d}=e,u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const h={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:d,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=m.body)===null||i===void 0?void 0:i.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var d,u,h;const m=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((h=(u=(d=this.params)===null||d===void 0?void 0:d.config)===null||u===void 0?void 0:u.broadcast)===null||h===void 0)&&h.ack)&&l("ok"),m.receive("ok",()=>l("ok")),m.receive("error",()=>l("error")),m.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ma.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Sl.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Lx(this,Sl.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ma.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const i=new AbortController,l=setTimeout(()=>i.abort(),n),d=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(l),d}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Lx(this,e,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>yR){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,l;const d=e.toLocaleLowerCase(),{close:u,error:h,leave:m,join:g}=Sl;if(n&&[u,h,m,g].indexOf(d)>=0&&n!==this._joinRef())return;let B=this._onMessage(d,r,n);if(r&&!B)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(w=>{var S,U,k;return((S=w.filter)===null||S===void 0?void 0:S.event)==="*"||((k=(U=w.filter)===null||U===void 0?void 0:U.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===d}).map(w=>w.callback(B,n)):(l=this.bindings[d])===null||l===void 0||l.filter(w=>{var S,U,k,C,O,D;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in w){const H=w.id,re=(S=w.filter)===null||S===void 0?void 0:S.event;return H&&((U=r.ids)===null||U===void 0?void 0:U.includes(H))&&(re==="*"||(re==null?void 0:re.toLocaleLowerCase())===((k=r.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const H=(O=(C=w==null?void 0:w.filter)===null||C===void 0?void 0:C.event)===null||O===void 0?void 0:O.toLocaleLowerCase();return H==="*"||H===((D=r==null?void 0:r.event)===null||D===void 0?void 0:D.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===d}).map(w=>{if(typeof B=="object"&&"ids"in B){const S=B.data,{schema:U,table:k,commit_timestamp:C,type:O,errors:D}=S;B=Object.assign(Object.assign({},{schema:U,table:k,commit_timestamp:C,eventType:O,new:{},old:{},errors:D}),this._getPayloadRecords(S))}w.callback(B,n)})}_isClosed(){return this.state===Ma.closed}_isJoined(){return this.state===Ma.joined}_isJoining(){return this.state===Ma.joining}_isLeaving(){return this.state===Ma.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),l={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(l):this.bindings[i]=[l],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var l;return!(((l=i.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===n&&gu.isEqual(i.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Sl.close,{},e)}_onError(e){this._on(Sl.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ma.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=s5(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=s5(e.columns,e.old_record)),r}}const Ux=()=>{},zp={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},jR=[1e3,2e3,5e3,1e4],LR=1e4,UR=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class IR{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=$b,this.transport=null,this.heartbeatIntervalMs=zp.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ux,this.ref=0,this.reconnectTimer=null,this.vsn=n5,this.logger=Ux,this.conn=null,this.sendBuffer=[],this.serializer=new wR,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...l)=>i(...l):(...l)=>fetch(...l),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Zb.websocket}`,this.httpEndpoint=qC(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=mR.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case bc.connecting:return Wc.Connecting;case bc.open:return Wc.Open;case bc.closing:return Wc.Closing;default:return Wc.Closed}}isConnected(){return this.connectionState()===Wc.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(l=>l.topic===n);if(i)return i;{const l=new gu(`realtime:${e}`,r,this);return this.channels.push(l),l}}push(e){const{topic:r,event:n,payload:i,ref:l}=e,d=()=>{this.encode(e,u=>{var h;(h=this.conn)===null||h===void 0||h.send(u)})};this.log("push",`${r} ${n} (${l})`,i),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(vR,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},zp.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:l,ref:d}=r,u=d?`(${d})`:"",h=l.status||"";this.log("receive",`${h} ${n} ${i} ${u}`.trim(),l),this.channels.filter(m=>m._isMember(n)).forEach(m=>m._trigger(i,l,d)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===bc.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===bc.open||this.conn.readyState===bc.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Sl.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([UR],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,n=!1;if(e)r=e,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const l={access_token:r,version:xR};r&&i.updateJoinPayload(l),i.joinedOnce&&i._isJoined()&&i._push(Sl.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new PC(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},zp.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,i,l,d,u,h,m,g,b,B,w;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:$b,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:zp.HEARTBEAT_INTERVAL,this.worker=(l=e==null?void 0:e.worker)!==null&&l!==void 0?l:!1,this.accessToken=(d=e==null?void 0:e.accessToken)!==null&&d!==void 0?d:null,this.heartbeatCallback=(u=e==null?void 0:e.heartbeatCallback)!==null&&u!==void 0?u:Ux,this.vsn=(h=e==null?void 0:e.vsn)!==null&&h!==void 0?h:n5,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=e==null?void 0:e.reconnectAfterMs)!==null&&m!==void 0?m:(S=>jR[S-1]||LR),this.vsn){case MC:this.encode=(g=e==null?void 0:e.encode)!==null&&g!==void 0?g:((S,U)=>U(JSON.stringify(S))),this.decode=(b=e==null?void 0:e.decode)!==null&&b!==void 0?b:((S,U)=>U(JSON.parse(S)));break;case bR:this.encode=(B=e==null?void 0:e.encode)!==null&&B!==void 0?B:this.serializer.encode.bind(this.serializer),this.decode=(w=e==null?void 0:e.decode)!==null&&w!==void 0?w:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var sf=class extends Error{constructor(t,e){var r;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((r=e.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function kR(t,e,r){const n=new URL(e,t);if(r)for(const[i,l]of Object.entries(r))l!==void 0&&n.searchParams.set(i,l);return n.toString()}async function TR(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function FR(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:i,body:l,headers:d}){const u=kR(t.baseUrl,n,i),h=await TR(t.auth),m=await e(u,{method:r,headers:{...l?{"Content-Type":"application/json"}:{},...h,...d},body:l?JSON.stringify(l):void 0}),g=await m.text(),b=(m.headers.get("content-type")||"").includes("application/json"),B=b&&g?JSON.parse(g):g;if(!m.ok){const w=b?B:void 0,S=w==null?void 0:w.error;throw new sf((S==null?void 0:S.message)??`Request failed with status ${m.status}`,{status:m.status,icebergType:S==null?void 0:S.type,icebergCode:S==null?void 0:S.code,details:w})}return{status:m.status,headers:m.headers,data:B}}}}function Kp(t){return t.join("")}var OR=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Kp(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Kp(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Kp(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Kp(t.namespace)}`}),!0}catch(e){if(e instanceof sf&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof sf&&r.status===409)return;throw r}}};function Wd(t){return t.join("")}var QR=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Wd(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Wd(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Wd(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Wd(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Wd(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Wd(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof sf&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof sf&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},RR=class{constructor(t){var n;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=FR({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(n=t.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new OR(this.client,e),this.tableOps=new QR(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},cg=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function $s(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var DR=class extends cg{constructor(t,e,r){super(t),this.name="StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Jb=class extends cg{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const Rv=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),MR=()=>Response,Yb=t=>{if(Array.isArray(t))return t.map(r=>Yb(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[i]=Yb(n)}),e},PR=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},HR=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function af(t){"@babel/helpers - typeof";return af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},af(t)}function qR(t,e){if(af(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(af(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zR(t){var e=qR(t,"string");return af(e)=="symbol"?e:e+""}function KR(t,e,r){return(e=zR(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function o5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Dr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?o5(Object(r),!0).forEach(function(n){KR(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const Ix=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},VR=async(t,e,r)=>{t instanceof await MR()&&!(r!=null&&r.noResolveJson)?t.json().then(n=>{const i=t.status||500,l=(n==null?void 0:n.statusCode)||i+"";e(new DR(Ix(n),i,l))}).catch(n=>{e(new Jb(Ix(n),n))}):e(new Jb(Ix(t),t))},GR=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?i:(PR(n)?(i.headers=Dr({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,e!=null&&e.duplex&&(i.duplex=e.duplex),Dr(Dr({},i),r))};async function xf(t,e,r,n,i,l){return new Promise((d,u)=>{t(r,GR(e,n,i,l)).then(h=>{if(!h.ok)throw h;return n!=null&&n.noResolveJson?h:h.json()}).then(h=>d(h)).catch(h=>VR(h,u,n))})}async function of(t,e,r,n){return xf(t,"GET",e,r,n)}async function El(t,e,r,n,i){return xf(t,"POST",e,n,i,r)}async function Wb(t,e,r,n,i){return xf(t,"PUT",e,n,i,r)}async function $R(t,e,r,n){return xf(t,"HEAD",e,Dr(Dr({},r),{},{noResolveJson:!0}),n)}async function Dv(t,e,r,n,i){return xf(t,"DELETE",e,n,i,r)}var ZR=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if($s(e))return{data:null,error:e};throw e}}};let zC;zC=Symbol.toStringTag;var XR=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[zC]="BlobDownloadBuilder",this.promise=null}asStream(){return new ZR(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if($s(e))return{data:null,error:e};throw e}}};const JR={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},l5={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var YR=class{constructor(t,e={},r,n){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=r,this.fetch=Rv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,r,n){var i=this;try{let l;const d=Dr(Dr({},l5),n);let u=Dr(Dr({},i.headers),t==="POST"&&{"x-upsert":String(d.upsert)});const h=d.metadata;typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",d.cacheControl),h&&l.append("metadata",i.encodeMetadata(h)),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.has("cacheControl")||l.append("cacheControl",d.cacheControl),h&&!l.has("metadata")&&l.append("metadata",i.encodeMetadata(h))):(l=r,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType,h&&(u["x-metadata"]=i.toBase64(i.encodeMetadata(h))),(typeof ReadableStream<"u"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!d.duplex&&(d.duplex="half")),n!=null&&n.headers&&(u=Dr(Dr({},u),n.headers));const m=i._removeEmptyFolders(e),g=i._getFinalPath(m),b=await(t=="PUT"?Wb:El)(i.fetch,`${i.url}/object/${g}`,l,Dr({headers:u},d!=null&&d.duplex?{duplex:d.duplex}:{}));return{data:{path:m,id:b.Id,fullPath:b.Key},error:null}}catch(l){if(i.shouldThrowOnError)throw l;if($s(l))return{data:null,error:l};throw l}}async upload(t,e,r){return this.uploadOrUpdate("POST",t,e,r)}async uploadToSignedUrl(t,e,r,n){var i=this;const l=i._removeEmptyFolders(t),d=i._getFinalPath(l),u=new URL(i.url+`/object/upload/sign/${d}`);u.searchParams.set("token",e);try{let h;const m=Dr({upsert:l5.upsert},n),g=Dr(Dr({},i.headers),{"x-upsert":String(m.upsert)});return typeof Blob<"u"&&r instanceof Blob?(h=new FormData,h.append("cacheControl",m.cacheControl),h.append("",r)):typeof FormData<"u"&&r instanceof FormData?(h=r,h.append("cacheControl",m.cacheControl)):(h=r,g["cache-control"]=`max-age=${m.cacheControl}`,g["content-type"]=m.contentType),{data:{path:l,fullPath:(await Wb(i.fetch,u.toString(),h,{headers:g})).Key},error:null}}catch(h){if(i.shouldThrowOnError)throw h;if($s(h))return{data:null,error:h};throw h}}async createSignedUploadUrl(t,e){var r=this;try{let n=r._getFinalPath(t);const i=Dr({},r.headers);e!=null&&e.upsert&&(i["x-upsert"]="true");const l=await El(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:i}),d=new URL(r.url+l.url),u=d.searchParams.get("token");if(!u)throw new cg("No token returned by API");return{data:{signedUrl:d.toString(),path:t,token:u},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if($s(n))return{data:null,error:n};throw n}}async update(t,e,r){return this.uploadOrUpdate("PUT",t,e,r)}async move(t,e,r){var n=this;try{return{data:await El(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if($s(i))return{data:null,error:i};throw i}}async copy(t,e,r){var n=this;try{return{data:{path:(await El(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if($s(i))return{data:null,error:i};throw i}}async createSignedUrl(t,e,r){var n=this;try{let i=n._getFinalPath(t),l=await El(n.fetch,`${n.url}/object/sign/${i}`,Dr({expiresIn:e},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const d=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return l={signedUrl:encodeURI(`${n.url}${l.signedURL}${d}`)},{data:l,error:null}}catch(i){if(n.shouldThrowOnError)throw i;if($s(i))return{data:null,error:i};throw i}}async createSignedUrls(t,e,r){var n=this;try{const i=await El(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:e,paths:t},{headers:n.headers}),l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(d=>Dr(Dr({},d),{},{signedUrl:d.signedURL?encodeURI(`${n.url}${d.signedURL}${l}`):null})),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if($s(i))return{data:null,error:i};throw i}}download(t,e){const r=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),i=n?`?${n}`:"",l=this._getFinalPath(t),d=()=>of(this.fetch,`${this.url}/${r}/${l}${i}`,{headers:this.headers,noResolveJson:!0});return new XR(d,this.shouldThrowOnError)}async info(t){var e=this;const r=e._getFinalPath(t);try{return{data:Yb(await of(e.fetch,`${e.url}/object/info/${r}`,{headers:e.headers})),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if($s(n))return{data:null,error:n};throw n}}async exists(t){var e=this;const r=e._getFinalPath(t);try{return await $R(e.fetch,`${e.url}/object/${r}`,{headers:e.headers}),{data:!0,error:null}}catch(n){if(e.shouldThrowOnError)throw n;if($s(n)&&n instanceof Jb){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}}getPublicUrl(t,e){const r=this._getFinalPath(t),n=[],i=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";i!==""&&n.push(i);const l=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",d=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});d!==""&&n.push(d);let u=n.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}async remove(t){var e=this;try{return{data:await Dv(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if($s(r))return{data:null,error:r};throw r}}async list(t,e,r){var n=this;try{const i=Dr(Dr(Dr({},JR),e),{},{prefix:t||""});return{data:await El(n.fetch,`${n.url}/object/list/${n.bucketId}`,i,{headers:n.headers},r),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if($s(i))return{data:null,error:i};throw i}}async listV2(t,e){var r=this;try{const n=Dr({},t);return{data:await El(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},e),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if($s(n))return{data:null,error:n};throw n}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const KC="2.89.0",VC={"X-Client-Info":`storage-js/${KC}`};var WR=class{constructor(t,e={},r,n){this.shouldThrowOnError=!1;const i=new URL(t);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Dr(Dr({},VC),e),this.fetch=Rv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const r=e.listBucketOptionsToQueryString(t);return{data:await of(e.fetch,`${e.url}/bucket${r}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if($s(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await of(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if($s(r))return{data:null,error:r};throw r}}async createBucket(t,e={public:!1}){var r=this;try{return{data:await El(r.fetch,`${r.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if($s(n))return{data:null,error:n};throw n}}async updateBucket(t,e){var r=this;try{return{data:await Wb(r.fetch,`${r.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if($s(n))return{data:null,error:n};throw n}}async emptyBucket(t){var e=this;try{return{data:await El(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if($s(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await Dv(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if($s(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},eD=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Dr(Dr({},VC),e),this.fetch=Rv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await El(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if($s(r))return{data:null,error:r};throw r}}async listBuckets(t){var e=this;try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),i=n?`${e.url}/bucket?${n}`:`${e.url}/bucket`;return{data:await of(e.fetch,i,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if($s(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await Dv(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if($s(r))return{data:null,error:r};throw r}}from(t){var e=this;if(!HR(t))throw new cg("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new RR({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(i,l){const d=i[l];return typeof d!="function"?d:async(...u)=>{try{return{data:await d.apply(i,u),error:null}}catch(h){if(n)throw h;return{data:null,error:h}}}}})}};const Mv={"X-Client-Info":`storage-js/${KC}`,"Content-Type":"application/json"};var GC=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Ro(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var kx=class extends GC{constructor(t,e,r){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},tD=class extends GC{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const Pv=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),rD=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},A5=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),nD=async(t,e,r)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const n=t.status||500,i=t;if(typeof i.json=="function")i.json().then(l=>{const d=(l==null?void 0:l.statusCode)||(l==null?void 0:l.code)||n+"";e(new kx(A5(l),n,d))}).catch(()=>{const l=n+"";e(new kx(i.statusText||`HTTP ${n} error`,n,l))});else{const l=n+"";e(new kx(i.statusText||`HTTP ${n} error`,n,l))}}else e(new tD(A5(t),t))},sD=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return n?(rD(n)?(i.headers=Dr({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,Dr(Dr({},i),r)):i};async function aD(t,e,r,n,i,l){return new Promise((d,u)=>{t(r,sD(e,n,i,l)).then(h=>{if(!h.ok)throw h;if(n!=null&&n.noResolveJson)return h;const m=h.headers.get("content-type");return!m||!m.includes("application/json")?{}:h.json()}).then(h=>d(h)).catch(h=>nD(h,u,n))})}async function Do(t,e,r,n,i){return aD(t,"POST",e,n,i,r)}var iD=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Dr(Dr({},Mv),e),this.fetch=Pv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await Do(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ro(r))return{data:null,error:r};throw r}}async getIndex(t,e){var r=this;try{return{data:await Do(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ro(n))return{data:null,error:n};throw n}}async listIndexes(t){var e=this;try{return{data:await Do(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ro(r))return{data:null,error:r};throw r}}async deleteIndex(t,e){var r=this;try{return{data:await Do(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ro(n))return{data:null,error:n};throw n}}},oD=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Dr(Dr({},Mv),e),this.fetch=Pv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Do(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ro(r))return{data:null,error:r};throw r}}async getVectors(t){var e=this;try{return{data:await Do(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ro(r))return{data:null,error:r};throw r}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await Do(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ro(r))return{data:null,error:r};throw r}}async queryVectors(t){var e=this;try{return{data:await Do(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ro(r))return{data:null,error:r};throw r}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Do(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ro(r))return{data:null,error:r};throw r}}},lD=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Dr(Dr({},Mv),e),this.fetch=Pv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Do(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ro(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await Do(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ro(r))return{data:null,error:r};throw r}}async listBuckets(t={}){var e=this;try{return{data:await Do(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ro(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await Do(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ro(r))return{data:null,error:r};throw r}}},AD=class extends lD{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new cD(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,r=this;return e().call(r,t)}async getBucket(t){var e=()=>super.getBucket,r=this;return e().call(r,t)}async listBuckets(t={}){var e=()=>super.listBuckets,r=this;return e().call(r,t)}async deleteBucket(t){var e=()=>super.deleteBucket,r=this;return e().call(r,t)}},cD=class extends iD{constructor(t,e,r,n){super(t,e,n),this.vectorBucketName=r}async createIndex(t){var e=()=>super.createIndex,r=this;return e().call(r,Dr(Dr({},t),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,r=this;return e().call(r,Dr(Dr({},t),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,r=this;return e().call(r,r.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,r=this;return e().call(r,r.vectorBucketName,t)}index(t){return new dD(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},dD=class extends oD{constructor(t,e,r,n,i){super(t,e,i),this.vectorBucketName=r,this.indexName=n}async putVectors(t){var e=()=>super.putVectors,r=this;return e().call(r,Dr(Dr({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(t){var e=()=>super.getVectors,r=this;return e().call(r,Dr(Dr({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,r=this;return e().call(r,Dr(Dr({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,r=this;return e().call(r,Dr(Dr({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,r=this;return e().call(r,Dr(Dr({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},uD=class extends WR{constructor(t,e={},r,n){super(t,e,r,n)}from(t){return new YR(this.url,this.headers,t,this.fetch)}get vectors(){return new AD(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new eD(this.url+"/iceberg",this.headers,this.fetch)}};const $C="2.89.0",hu=30*1e3,ev=3,Tx=ev*hu,hD="http://localhost:9999",fD="supabase.auth.token",pD={"X-Client-Info":`gotrue-js/${$C}`},tv="X-Supabase-Api-Version",ZC={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},mD=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,gD=600*1e3;class lf extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Er(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class xD extends lf{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function bD(t){return Er(t)&&t.name==="AuthApiError"}class ed extends lf{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class zA extends lf{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class Qo extends zA{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function vD(t){return Er(t)&&t.name==="AuthSessionMissingError"}class eu extends zA{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Vp extends zA{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Gp extends zA{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function yD(t){return Er(t)&&t.name==="AuthImplicitGrantRedirectError"}class c5 extends zA{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class wD extends zA{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class rv extends zA{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Fx(t){return Er(t)&&t.name==="AuthRetryableFetchError"}class d5 extends zA{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class nv extends zA{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Dm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),u5=` 	
\r=`.split(""),_D=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<u5.length;e+=1)t[u5[e].charCodeAt(0)]=-2;for(let e=0;e<Dm.length;e+=1)t[Dm[e].charCodeAt(0)]=e;return t})();function h5(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Dm[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Dm[n]),e.queuedBits-=6}}function XC(t,e,r){const n=_D[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function f5(t){const e=[],r=d=>{e.push(String.fromCodePoint(d))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},l=d=>{CD(d,n,r)};for(let d=0;d<t.length;d+=1)XC(t.charCodeAt(d),i,l);return e.join("")}function BD(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function ND(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}BD(n,e)}}function CD(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function _u(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)XC(t.charCodeAt(i),r,n);return new Uint8Array(e)}function ED(t){const e=[];return ND(t,r=>e.push(r)),new Uint8Array(e)}function ad(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>h5(i,r,n)),h5(null,r,n),e.join("")}function SD(t){return Math.round(Date.now()/1e3)+t}function jD(){return Symbol("auth-callback")}const ui=()=>typeof window<"u"&&typeof document<"u",qc={tested:!1,writable:!1},JC=()=>{if(!ui())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(qc.tested)return qc.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),qc.tested=!0,qc.writable=!0}catch{qc.tested=!0,qc.writable=!1}return qc.writable};function LD(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,l)=>{e[l]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const YC=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),UD=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",fu=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},zc=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},di=async(t,e)=>{await t.removeItem(e)};class dg{constructor(){this.promise=new dg.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}dg.promiseConstructor=Promise;function Ox(t){const e=t.split(".");if(e.length!==3)throw new nv("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!mD.test(e[n]))throw new nv("JWT not in base64url format");return{header:JSON.parse(f5(e[0])),payload:JSON.parse(f5(e[1])),signature:_u(e[2]),raw:{header:e[0],payload:e[1]}}}async function ID(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function kD(t,e){return new Promise((n,i)=>{(async()=>{for(let l=0;l<1/0;l++)try{const d=await t(l);if(!e(l,null,d)){n(d);return}}catch(d){if(!e(l,d)){i(d);return}}})()})}function TD(t){return("0"+t.toString(16)).substr(-2)}function FD(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let l=0;l<56;l++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,TD).join("")}async function OD(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(l=>String.fromCharCode(l)).join("")}async function QD(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await OD(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function tu(t,e,r=!1){const n=FD();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await fu(t,`${e}-code-verifier`,i);const l=await QD(n);return[l,n===l?"plain":"s256"]}const RD=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function DD(t){const e=t.headers.get(tv);if(!e||!e.match(RD))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function MD(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function PD(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const HD=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ru(t){if(!HD.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Qx(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function qD(t,e){return new Proxy(t,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const l=n.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,i)}})}function p5(t){return JSON.parse(JSON.stringify(t))}const Xc=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),zD=[502,503,504];async function m5(t){var e;if(!UD(t))throw new rv(Xc(t),0);if(zD.includes(t.status))throw new rv(Xc(t),t.status);let r;try{r=await t.json()}catch(l){throw new ed(Xc(l),l)}let n;const i=DD(t);if(i&&i.getTime()>=ZC["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new d5(Xc(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Qo}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((l,d)=>l&&typeof d=="string",!0))throw new d5(Xc(r),t.status,r.weak_password.reasons);throw new xD(Xc(r),t.status||500,n)}const KD=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function Rr(t,e,r,n){var i;const l=Object.assign({},n==null?void 0:n.headers);l[tv]||(l[tv]=ZC["2024-01-01"].name),n!=null&&n.jwt&&(l.Authorization=`Bearer ${n.jwt}`);const d=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(d.redirect_to=n.redirectTo);const u=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",h=await VD(t,e,r+u,{headers:l,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(h):{data:Object.assign({},h),error:null}}async function VD(t,e,r,n,i,l){const d=KD(e,n,i,l);let u;try{u=await t(r,Object.assign({},d))}catch(h){throw console.error(h),new rv(Xc(h),0)}if(u.ok||await m5(u),n!=null&&n.noResolveJson)return u;try{return await u.json()}catch(h){await m5(h)}}function Nl(t){var e;let r=null;ZD(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=SD(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function g5(t){const e=Nl(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function yc(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function GD(t){return{data:t,error:null}}function $D(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:l}=t,d=Ag(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:l},h=Object.assign({},d);return{data:{properties:u,user:h},error:null}}function x5(t){return t}function ZD(t){return t.access_token&&t.refresh_token&&t.expires_in}const Rx=["global","local","others"];class XD{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=YC(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Rx[0]){if(Rx.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Rx.join(", ")}`);try{return await Rr(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Er(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await Rr(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:yc})}catch(n){if(Er(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=Ag(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await Rr(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:$D,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Er(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Rr(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:yc})}catch(r){if(Er(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,l,d,u,h;try{const m={nextPage:null,lastPage:0,total:0},g=await Rr(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(l=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:""},xform:x5});if(g.error)throw g.error;const b=await g.json(),B=(d=g.headers.get("x-total-count"))!==null&&d!==void 0?d:0,w=(h=(u=g.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&h!==void 0?h:[];return w.length>0&&(w.forEach(S=>{const U=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(S.split(";")[1].split("=")[1]);m[`${k}Page`]=U}),m.total=parseInt(B)),{data:Object.assign(Object.assign({},b),m),error:null}}catch(m){if(Er(m))return{data:{users:[]},error:m};throw m}}async getUserById(e){ru(e);try{return await Rr(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:yc})}catch(r){if(Er(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){ru(e);try{return await Rr(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:yc})}catch(n){if(Er(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){ru(e);try{return await Rr(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:yc})}catch(n){if(Er(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){ru(e.userId);try{const{data:r,error:n}=await Rr(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(Er(r))return{data:null,error:r};throw r}}async _deleteFactor(e){ru(e.userId),ru(e.id);try{return{data:await Rr(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Er(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,i,l,d,u,h;try{const m={nextPage:null,lastPage:0,total:0},g=await Rr(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(l=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:""},xform:x5});if(g.error)throw g.error;const b=await g.json(),B=(d=g.headers.get("x-total-count"))!==null&&d!==void 0?d:0,w=(h=(u=g.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&h!==void 0?h:[];return w.length>0&&(w.forEach(S=>{const U=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(S.split(";")[1].split("=")[1]);m[`${k}Page`]=U}),m.total=parseInt(B)),{data:Object.assign(Object.assign({},b),m),error:null}}catch(m){if(Er(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(e){try{return await Rr(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Er(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await Rr(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Er(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await Rr(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Er(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await Rr(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Er(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await Rr(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Er(r))return{data:null,error:r};throw r}}}function b5(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const nu={debug:!!(globalThis&&JC()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class WC extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class JD extends WC{}async function YD(t,e,r){nu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),nu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){nu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{nu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw nu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new JD(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(nu.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function WD(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function eE(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function e8(t){return parseInt(t,16)}function t8(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function r8(t){var e;const{chainId:r,domain:n,expirationTime:i,issuedAt:l=new Date,nonce:d,notBefore:u,requestId:h,resources:m,scheme:g,uri:b,version:B}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(d&&d.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${d}`);if(!b)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(B!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${B}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const w=eE(t.address),S=g?`${g}://${n}`:n,U=t.statement?`${t.statement}
`:"",k=`${S} wants you to sign in with your Ethereum account:
${w}

${U}`;let C=`URI: ${b}
Version: ${B}
Chain ID: ${r}${d?`
Nonce: ${d}`:""}
Issued At: ${l.toISOString()}`;if(i&&(C+=`
Expiration Time: ${i.toISOString()}`),u&&(C+=`
Not Before: ${u.toISOString()}`),h&&(C+=`
Request ID: ${h}`),m){let O=`
Resources:`;for(const D of m){if(!D||typeof D!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${D}`);O+=`
- ${D}`}C+=O}return`${k}
${C}`}class Sa extends Error{constructor({message:e,code:r,cause:n,name:i}){var l;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(l=i??(n instanceof Error?n.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=r}}class Mm extends Sa{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function n8({error:t,options:e}){var r,n,i;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Sa({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=l.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Sa({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=l.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Sa({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=l.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Sa({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Sa({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Sa({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return l.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new Sa({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Sa({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const d=window.location.hostname;if(tE(d)){if(l.rp.id!==d)return new Sa({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Sa({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new Sa({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Sa({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Sa({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function s8({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Sa({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Sa({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(tE(n)){if(r.rpId!==n)return new Sa({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Sa({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Sa({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Sa({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class a8{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const i8=new a8;function o8(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,i=Ag(t,["challenge","user","excludeCredentials"]),l=_u(e).buffer,d=Object.assign(Object.assign({},r),{id:_u(r.id).buffer}),u=Object.assign(Object.assign({},i),{challenge:l,user:d});if(n&&n.length>0){u.excludeCredentials=new Array(n.length);for(let h=0;h<n.length;h++){const m=n[h];u.excludeCredentials[h]=Object.assign(Object.assign({},m),{id:_u(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return u}function l8(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=Ag(t,["challenge","allowCredentials"]),i=_u(e).buffer,l=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){l.allowCredentials=new Array(r.length);for(let d=0;d<r.length;d++){const u=r[d];l.allowCredentials[d]=Object.assign(Object.assign({},u),{id:_u(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function A8(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:ad(new Uint8Array(t.response.attestationObject)),clientDataJSON:ad(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function c8(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:ad(new Uint8Array(i.authenticatorData)),clientDataJSON:ad(new Uint8Array(i.clientDataJSON)),signature:ad(new Uint8Array(i.signature)),userHandle:i.userHandle?ad(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function tE(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function v5(){var t,e;return!!(ui()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function d8(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Mm("Browser returned unexpected credential type",e)}:{data:null,error:new Mm("Empty credential response",e)}}catch(e){return{data:null,error:n8({error:e,options:t})}}}async function u8(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Mm("Browser returned unexpected credential type",e)}:{data:null,error:new Mm("Empty credential response",e)}}catch(e){return{data:null,error:s8({error:e,options:t})}}}const h8={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},f8={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Pm(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of t)if(i)for(const l in i){const d=i[l];if(d!==void 0)if(Array.isArray(d))n[l]=d;else if(r(d))n[l]=d;else if(e(d)){const u=n[l];e(u)?n[l]=Pm(u,d):n[l]=Pm(d)}else n[l]=d}return n}function p8(t,e){return Pm(h8,t,e||{})}function m8(t,e){return Pm(f8,t,e||{})}class g8{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:i},l){try{const{data:d,error:u}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!d)return{data:null,error:u};const h=i??i8.createNewAbortSignal();if(d.webauthn.type==="create"){const{user:m}=d.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${n}`),m.displayName||(m.displayName=m.name)}switch(d.webauthn.type){case"create":{const m=p8(d.webauthn.credential_options.publicKey,l==null?void 0:l.create),{data:g,error:b}=await d8({publicKey:m,signal:h});return g?{data:{factorId:e,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:g}},error:null}:{data:null,error:b}}case"request":{const m=m8(d.webauthn.credential_options.publicKey,l==null?void 0:l.request),{data:g,error:b}=await u8(Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:m,signal:h}));return g?{data:{factorId:e,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:g}},error:null}:{data:null,error:b}}}}catch(d){return Er(d)?{data:null,error:d}:{data:null,error:new ed("Unexpected error in challenge",d)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},l){if(!r)return{data:null,error:new lf("rpId is required for WebAuthn authentication")};try{if(!v5())return{data:null,error:new ed("Browser does not support WebAuthn",null)};const{data:d,error:u}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:l});if(!d)return{data:null,error:u};const{webauthn:h}=d;return this._verify({factorId:e,challengeId:d.challengeId,webauthn:{type:h.type,rpId:r,rpOrigins:n,credential_response:h.credential_response}})}catch(d){return Er(d)?{data:null,error:d}:{data:null,error:new ed("Unexpected error in authenticate",d)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},l){if(!r)return{data:null,error:new lf("rpId is required for WebAuthn registration")};try{if(!v5())return{data:null,error:new ed("Browser does not support WebAuthn",null)};const{data:d,error:u}=await this._enroll({friendlyName:e});if(!d)return await this.client.mfa.listFactors().then(g=>{var b;return(b=g.data)===null||b===void 0?void 0:b.all.find(B=>B.factor_type==="webauthn"&&B.friendly_name===e&&B.status!=="unverified")}).then(g=>g?this.client.mfa.unenroll({factorId:g==null?void 0:g.id}):void 0),{data:null,error:u};const{data:h,error:m}=await this._challenge({factorId:d.id,friendlyName:d.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:l});return h?this._verify({factorId:d.id,challengeId:h.challengeId,webauthn:{rpId:r,rpOrigins:n,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:m}}catch(d){return Er(d)?{data:null,error:d}:{data:null,error:new ed("Unexpected error in register",d)}}}}WD();const x8={url:hD,storageKey:fD,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:pD,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function y5(t,e,r){return await r()}const su={};class Af{get jwks(){var e,r;return(r=(e=su[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){su[this.storageKey]=Object.assign(Object.assign({},su[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=su[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){su[this.storageKey]=Object.assign(Object.assign({},su[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},x8),e);if(this.storageKey=l.storageKey,this.instanceID=(r=Af.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Af.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&ui()){const d=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(d),this.logDebugMessages&&console.trace(d)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new XD({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=YC(l.fetch),this.lock=l.lock||y5,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,l.lock?this.lock=l.lock:this.persistSession&&ui()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=YD:this.lock=y5,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new g8(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:JC()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=b5(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=b5(this.memoryStorage)),ui()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d),await this._notifyAllSubscribers(d.data.event,d.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${$C}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(ui()&&(r=LD(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),ui()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:l}=await this._getSessionFromURL(r,n);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),yD(l)){const h=(e=l.details)===null||e===void 0?void 0:e.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:d,redirectType:u}=i;return this._debug("#_initialize()","detected session in URL",d,"redirect type",u),await this._saveSession(d),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Er(r)?this._returnResult({error:r}):this._returnResult({error:new ed("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const l=await Rr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Nl}),{data:d,error:u}=l;if(u||!d)return this._returnResult({data:{user:null,session:null},error:u});const h=d.session,m=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:m,session:h},error:null})}catch(l){if(Er(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signUp(e){var r,n,i;try{let l;if("email"in e){const{email:g,password:b,options:B}=e;let w=null,S=null;this.flowType==="pkce"&&([w,S]=await tu(this.storage,this.storageKey)),l=await Rr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:B==null?void 0:B.emailRedirectTo,body:{email:g,password:b,data:(r=B==null?void 0:B.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:B==null?void 0:B.captchaToken},code_challenge:w,code_challenge_method:S},xform:Nl})}else if("phone"in e){const{phone:g,password:b,options:B}=e;l=await Rr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:b,data:(n=B==null?void 0:B.data)!==null&&n!==void 0?n:{},channel:(i=B==null?void 0:B.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:B==null?void 0:B.captchaToken}},xform:Nl})}else throw new Vp("You must provide either an email or phone number and a password");const{data:d,error:u}=l;if(u||!d)return await di(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:u});const h=d.session,m=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:m,session:h},error:null})}catch(l){if(await di(this.storage,`${this.storageKey}-code-verifier`),Er(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithPassword(e){try{let r;if("email"in e){const{email:l,password:d,options:u}=e;r=await Rr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:d,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:g5})}else if("phone"in e){const{phone:l,password:d,options:u}=e;r=await Rr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:d,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:g5})}else throw new Vp("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const l=new eu;return this._returnResult({data:{user:null,session:null},error:l})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(Er(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,i,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,i,l,d,u,h,m,g,b,B;let w,S;if("message"in e)w=e.message,S=e.signature;else{const{chain:U,wallet:k,statement:C,options:O}=e;let D;if(ui())if(typeof k=="object")D=k;else{const G=window;if("ethereum"in G&&typeof G.ethereum=="object"&&"request"in G.ethereum&&typeof G.ethereum.request=="function")D=G.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!(O!=null&&O.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=k}const H=new URL((r=O==null?void 0:O.url)!==null&&r!==void 0?r:window.location.href),re=await D.request({method:"eth_requestAccounts"}).then(G=>G).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!re||re.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const q=eE(re[0]);let ne=(n=O==null?void 0:O.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!ne){const G=await D.request({method:"eth_chainId"});ne=e8(G)}const te={domain:H.host,address:q,statement:C,uri:H.href,version:"1",chainId:ne,nonce:(i=O==null?void 0:O.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(d=(l=O==null?void 0:O.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&d!==void 0?d:new Date,expirationTime:(u=O==null?void 0:O.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(h=O==null?void 0:O.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(m=O==null?void 0:O.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(g=O==null?void 0:O.signInWithEthereum)===null||g===void 0?void 0:g.resources};w=r8(te),S=await D.request({method:"personal_sign",params:[t8(w),q]})}try{const{data:U,error:k}=await Rr(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:w,signature:S},!((b=e.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(B=e.options)===null||B===void 0?void 0:B.captchaToken}}:null),xform:Nl});if(k)throw k;if(!U||!U.session||!U.user){const C=new eu;return this._returnResult({data:{user:null,session:null},error:C})}return U.session&&(await this._saveSession(U.session),await this._notifyAllSubscribers("SIGNED_IN",U.session)),this._returnResult({data:Object.assign({},U),error:k})}catch(U){if(Er(U))return this._returnResult({data:{user:null,session:null},error:U});throw U}}async signInWithSolana(e){var r,n,i,l,d,u,h,m,g,b,B,w;let S,U;if("message"in e)S=e.message,U=e.signature;else{const{chain:k,wallet:C,statement:O,options:D}=e;let H;if(ui())if(typeof C=="object")H=C;else{const q=window;if("solana"in q&&typeof q.solana=="object"&&("signIn"in q.solana&&typeof q.solana.signIn=="function"||"signMessage"in q.solana&&typeof q.solana.signMessage=="function"))H=q.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!(D!=null&&D.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");H=C}const re=new URL((r=D==null?void 0:D.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in H&&H.signIn){const q=await H.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},D==null?void 0:D.signInWithSolana),{version:"1",domain:re.host,uri:re.href}),O?{statement:O}:null));let ne;if(Array.isArray(q)&&q[0]&&typeof q[0]=="object")ne=q[0];else if(q&&typeof q=="object"&&"signedMessage"in q&&"signature"in q)ne=q;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ne&&"signature"in ne&&(typeof ne.signedMessage=="string"||ne.signedMessage instanceof Uint8Array)&&ne.signature instanceof Uint8Array)S=typeof ne.signedMessage=="string"?ne.signedMessage:new TextDecoder().decode(ne.signedMessage),U=ne.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in H)||typeof H.signMessage!="function"||!("publicKey"in H)||typeof H!="object"||!H.publicKey||!("toBase58"in H.publicKey)||typeof H.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${re.host} wants you to sign in with your Solana account:`,H.publicKey.toBase58(),...O?["",O,""]:[""],"Version: 1",`URI: ${re.href}`,`Issued At: ${(i=(n=D==null?void 0:D.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((l=D==null?void 0:D.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${D.signInWithSolana.notBefore}`]:[],...!((d=D==null?void 0:D.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${D.signInWithSolana.expirationTime}`]:[],...!((u=D==null?void 0:D.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${D.signInWithSolana.chainId}`]:[],...!((h=D==null?void 0:D.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${D.signInWithSolana.nonce}`]:[],...!((m=D==null?void 0:D.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${D.signInWithSolana.requestId}`]:[],...!((b=(g=D==null?void 0:D.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||b===void 0)&&b.length?["Resources",...D.signInWithSolana.resources.map(ne=>`- ${ne}`)]:[]].join(`
`);const q=await H.signMessage(new TextEncoder().encode(S),"utf8");if(!q||!(q instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");U=q}}try{const{data:k,error:C}=await Rr(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:ad(U)},!((B=e.options)===null||B===void 0)&&B.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:Nl});if(C)throw C;if(!k||!k.session||!k.user){const O=new eu;return this._returnResult({data:{user:null,session:null},error:O})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:C})}catch(k){if(Er(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async _exchangeCodeForSession(e){const r=await zc(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new wD;const{data:l,error:d}=await Rr(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Nl});if(await di(this.storage,`${this.storageKey}-code-verifier`),d)throw d;if(!l||!l.session||!l.user){const u=new eu;return this._returnResult({data:{user:null,session:null,redirectType:null},error:u})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:i??null}),error:d})}catch(l){if(await di(this.storage,`${this.storageKey}-code-verifier`),Er(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:l,nonce:d}=e,u=await Rr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:l,nonce:d,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Nl}),{data:h,error:m}=u;if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!h||!h.session||!h.user){const g=new eu;return this._returnResult({data:{user:null,session:null},error:g})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:h,error:m})}catch(r){if(Er(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,i,l,d;try{if("email"in e){const{email:u,options:h}=e;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await tu(this.storage,this.storageKey));const{error:b}=await Rr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},create_user:(n=h==null?void 0:h.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:g},redirectTo:h==null?void 0:h.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:b})}if("phone"in e){const{phone:u,options:h}=e,{data:m,error:g}=await Rr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(i=h==null?void 0:h.data)!==null&&i!==void 0?i:{},create_user:(l=h==null?void 0:h.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},channel:(d=h==null?void 0:h.channel)!==null&&d!==void 0?d:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:m==null?void 0:m.message_id},error:g})}throw new Vp("You must provide either an email or phone number.")}catch(u){if(await di(this.storage,`${this.storageKey}-code-verifier`),Er(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async verifyOtp(e){var r,n;try{let i,l;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,l=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:d,error:u}=await Rr(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:i,xform:Nl});if(u)throw u;if(!d)throw new Error("An error occurred on token verification.");const h=d.session,m=d.user;return h!=null&&h.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),this._returnResult({data:{user:m,session:h},error:null})}catch(i){if(Er(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var r,n,i,l,d;try{let u=null,h=null;this.flowType==="pkce"&&([u,h]=await tu(this.storage,this.storageKey));const m=await Rr(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:h}),headers:this.headers,xform:GD});return!((l=m.data)===null||l===void 0)&&l.url&&ui()&&!(!((d=e.options)===null||d===void 0)&&d.skipBrowserRedirect)&&window.location.assign(m.data.url),this._returnResult(m)}catch(u){if(await di(this.storage,`${this.storageKey}-code-verifier`),Er(u))return this._returnResult({data:null,error:u});throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Qo;const{error:i}=await Rr(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(Er(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:l}=e,{error:d}=await Rr(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}else if("phone"in e){const{phone:n,type:i,options:l}=e,{data:d,error:u}=await Rr(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u})}throw new Vp("You must provide either an email or phone number and a type")}catch(r){if(Er(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await zc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Tx:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const d=await zc(this.userStorage,this.storageKey+"-user");d!=null&&d.user?e.user=d.user:e.user=Qx()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const d={value:this.suppressGetSessionWarning};e.user=qD(e.user,d),d.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await Rr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:yc}):await this._useSession(async r=>{var n,i,l;const{data:d,error:u}=r;if(u)throw u;return!(!((n=d.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Qo}:await Rr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(i=d.session)===null||i===void 0?void 0:i.access_token)!==null&&l!==void 0?l:void 0,xform:yc})})}catch(r){if(Er(r))return vD(r)&&(await this._removeSession(),await di(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:l}=n;if(l)throw l;if(!i.session)throw new Qo;const d=i.session;let u=null,h=null;this.flowType==="pkce"&&e.email!=null&&([u,h]=await tu(this.storage,this.storageKey));const{data:m,error:g}=await Rr(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:u,code_challenge_method:h}),jwt:d.access_token,xform:yc});if(g)throw g;return d.user=m.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),this._returnResult({data:{user:d.user},error:null})})}catch(n){if(await di(this.storage,`${this.storageKey}-code-verifier`),Er(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Qo;const r=Date.now()/1e3;let n=r,i=!0,l=null;const{payload:d}=Ox(e.access_token);if(d.exp&&(n=d.exp,i=n<=r),i){const{data:u,error:h}=await this._callRefreshToken(e.refresh_token);if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!u)return{data:{user:null,session:null},error:null};l=u}else{const{data:u,error:h}=await this._getUser(e.access_token);if(h)throw h;l={access_token:e.access_token,refresh_token:e.refresh_token,user:u.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(r){if(Er(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:d,error:u}=r;if(u)throw u;e=(n=d.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Qo;const{data:i,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Er(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!ui())throw new Gp("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Gp(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new c5("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Gp("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new c5("No code detected.");const{data:O,error:D}=await this._exchangeCodeForSession(e.code);if(D)throw D;const H=new URL(window.location.href);return H.searchParams.delete("code"),window.history.replaceState(window.history.state,"",H.toString()),{data:{session:O.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:l,refresh_token:d,expires_in:u,expires_at:h,token_type:m}=e;if(!l||!u||!d||!m)throw new Gp("No session defined in URL");const g=Math.round(Date.now()/1e3),b=parseInt(u);let B=g+b;h&&(B=parseInt(h));const w=B-g;w*1e3<=hu&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${b}s`);const S=B-b;g-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,B,g):g-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,B,g);const{data:U,error:k}=await this._getUser(l);if(k)throw k;const C={provider_token:n,provider_refresh_token:i,access_token:l,expires_in:b,expires_at:B,refresh_token:d,token_type:m,user:U.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:C,redirectType:e.type},error:null})}catch(n){if(Er(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await zc(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:l}=r;if(l)return this._returnResult({error:l});const d=(n=i.session)===null||n===void 0?void 0:n.access_token;if(d){const{error:u}=await this.admin.signOut(d,e);if(u&&!(bD(u)&&(u.status===404||u.status===401||u.status===403)))return this._returnResult({error:u})}return e!=="others"&&(await this._removeSession(),await di(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=jD(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:l},error:d}=r;if(d)throw d;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await tu(this.storage,this.storageKey,!0));try{return await Rr(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(l){if(await di(this.storage,`${this.storageKey}-code-verifier`),Er(l))return this._returnResult({data:null,error:l});throw l}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(Er(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:i}=await this._useSession(async l=>{var d,u,h,m,g;const{data:b,error:B}=l;if(B)throw B;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(d=e.options)===null||d===void 0?void 0:d.redirectTo,scopes:(u=e.options)===null||u===void 0?void 0:u.scopes,queryParams:(h=e.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await Rr(this.fetch,"GET",w,{headers:this.headers,jwt:(g=(m=b.session)===null||m===void 0?void 0:m.access_token)!==null&&g!==void 0?g:void 0})});if(i)throw i;return ui()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(Er(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:l}}=r;if(i)throw i;const{options:d,provider:u,token:h,access_token:m,nonce:g}=e,b=await Rr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=l==null?void 0:l.access_token)!==null&&n!==void 0?n:void 0,body:{provider:u,id_token:h,access_token:m,nonce:g,link_identity:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:Nl}),{data:B,error:w}=b;return w?this._returnResult({data:{user:null,session:null},error:w}):!B||!B.session||!B.user?this._returnResult({data:{user:null,session:null},error:new eu}):(B.session&&(await this._saveSession(B.session),await this._notifyAllSubscribers("USER_UPDATED",B.session)),this._returnResult({data:B,error:w}))}catch(i){if(await di(this.storage,`${this.storageKey}-code-verifier`),Er(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:l,error:d}=r;if(d)throw d;return await Rr(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=l.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(Er(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await kD(async i=>(i>0&&await ID(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await Rr(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Nl})),(i,l)=>{const d=200*Math.pow(2,i);return l&&Fx(l)&&Date.now()+d-n<hu})}catch(n){if(this._debug(r,"error",n),Er(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),ui()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await zc(this.storage,this.storageKey);if(i&&this.userStorage){let d=await zc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!d&&(d={user:i.user},await fu(this.userStorage,this.storageKey+"-user",d)),i.user=(e=d==null?void 0:d.user)!==null&&e!==void 0?e:Qx()}else if(i&&!i.user&&!i.user){const d=await zc(this.storage,this.storageKey+"-user");d&&(d!=null&&d.user)?(i.user=d.user,await di(this.storage,this.storageKey+"-user"),await fu(this.storage,this.storageKey,i)):i.user=Qx()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const l=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Tx;if(this._debug(n,`session has${l?"":" not"} expired with margin of ${Tx}s`),l){if(this.autoRefreshToken&&i.refresh_token){const{error:d}=await this._callRefreshToken(i.refresh_token);d&&(console.error(d),Fx(d)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:d,error:u}=await this._getUser(i.access_token);!u&&(d!=null&&d.user)?(i.user=d.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(d){console.error("Error getting user data:",d),this._debug(n,"error getting user data, skipping SIGNED_IN notification",d)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Qo;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new dg;const{data:l,error:d}=await this._refreshAccessToken(e);if(d)throw d;if(!l.session)throw new Qo;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const u={data:l.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(l){if(this._debug(i,"error",l),Er(l)){const d={data:null,error:l};return Fx(l)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(d),d}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(l),l}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const l=[],d=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(e,r)}catch(h){l.push(h)}});if(await Promise.all(d),l.length>0){for(let u=0;u<l.length;u+=1)console.error(l[u]);throw l[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await di(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await fu(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const l=p5(i);await fu(this.storage,this.storageKey,l)}else{const i=p5(r);await fu(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await di(this.storage,this.storageKey),await di(this.storage,this.storageKey+"-code-verifier"),await di(this.storage,this.storageKey+"-user"),this.userStorage&&await di(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ui()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),hu);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/hu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${hu}ms, refresh threshold is ${ev} ticks`),i<=ev&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof WC)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ui()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[l,d]=await tu(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(d)}`});i.push(u.toString())}if(n!=null&&n.queryParams){const l=new URLSearchParams(n.queryParams);i.push(l.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:l}=r;return l?this._returnResult({data:null,error:l}):await Rr(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Er(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:l,error:d}=r;if(d)return this._returnResult({data:null,error:d});const u=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:h,error:m}=await Rr(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(n=l==null?void 0:l.session)===null||n===void 0?void 0:n.access_token});return m?this._returnResult({data:null,error:m}):(e.factorType==="totp"&&h.type==="totp"&&(!((i=h==null?void 0:h.totp)===null||i===void 0)&&i.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),this._returnResult({data:h,error:null}))})}catch(r){if(Er(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:l}=r;if(l)return this._returnResult({data:null,error:l});const d=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?A8(e.webauthn.credential_response):c8(e.webauthn.credential_response)})}:{code:e.code}),{data:u,error:h}=await Rr(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:d,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return h?this._returnResult({data:null,error:h}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),this._returnResult({data:u,error:h}))})}catch(r){if(Er(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:l}=r;if(l)return this._returnResult({data:null,error:l});const d=await Rr(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(d.error)return d;const{data:u}=d;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:o8(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:l8(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Er(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])i.all.push(l),l.status==="verified"&&i[l.factor_type].push(l);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Ox(n.access_token);let d=null;l.aal&&(d=l.aal);let u=d;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(g=>g.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(u="aal2");const m=l.amr||[];return{data:{currentLevel:d,nextLevel:u,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await Rr(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new Qo})})}catch(r){if(Er(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:l}=n;if(l)return this._returnResult({data:null,error:l});if(!i)return this._returnResult({data:null,error:new Qo});const d=await Rr(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:u=>({data:u,error:null})});return d.data&&d.data.redirect_url&&ui()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(d.data.redirect_url),d})}catch(n){if(Er(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:l}=n;if(l)return this._returnResult({data:null,error:l});if(!i)return this._returnResult({data:null,error:new Qo});const d=await Rr(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:u=>({data:u,error:null})});return d.data&&d.data.redirect_url&&ui()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(d.data.redirect_url),d})}catch(n){if(Er(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await Rr(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Qo})})}catch(e){if(Er(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?(await Rr(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Qo})})}catch(r){if(Er(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(u=>u.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(u=>u.kid===e),n&&this.jwks_cached_at+gD>i)return n;const{data:l,error:d}=await Rr(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(d)throw d;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=i,n=l.keys.find(u=>u.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:w,error:S}=await this.getSession();if(S||!w.session)return this._returnResult({data:null,error:S});n=w.session.access_token}const{header:i,payload:l,signature:d,raw:{header:u,payload:h}}=Ox(n);r!=null&&r.allowExpired||MD(l.exp);const m=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!m){const{error:w}=await this.getUser(n);if(w)throw w;return{data:{claims:l,header:i,signature:d},error:null}}const g=PD(i.alg),b=await crypto.subtle.importKey("jwk",m,g,!0,["verify"]);if(!await crypto.subtle.verify(g,b,d,ED(`${u}.${h}`)))throw new nv("Invalid JWT signature");return{data:{claims:l,header:i,signature:d},error:null}}catch(n){if(Er(n))return this._returnResult({data:null,error:n});throw n}}}Af.nextInstanceID={};const b8=Af,v8="2.89.0";let Fh="";typeof Deno<"u"?Fh="deno":typeof document<"u"?Fh="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Fh="react-native":Fh="node";const y8={"X-Client-Info":`supabase-js-${Fh}/${v8}`},w8={headers:y8},_8={schema:"public"},B8={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},N8={};function cf(t){"@babel/helpers - typeof";return cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cf(t)}function C8(t,e){if(cf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function E8(t){var e=C8(t,"string");return cf(e)=="symbol"?e:e+""}function S8(t,e,r){return(e=E8(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function w5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ia(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?w5(Object(r),!0).forEach(function(n){S8(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):w5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const j8=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),L8=()=>Headers,U8=(t,e,r)=>{const n=j8(r),i=L8();return async(l,d)=>{var u;const h=(u=await e())!==null&&u!==void 0?u:t;let m=new i(d==null?void 0:d.headers);return m.has("apikey")||m.set("apikey",t),m.has("Authorization")||m.set("Authorization",`Bearer ${h}`),n(l,ia(ia({},d),{},{headers:m}))}};function I8(t){return t.endsWith("/")?t:t+"/"}function k8(t,e){var r,n;const{db:i,auth:l,realtime:d,global:u}=t,{db:h,auth:m,realtime:g,global:b}=e,B={db:ia(ia({},h),i),auth:ia(ia({},m),l),realtime:ia(ia({},g),d),storage:{},global:ia(ia(ia({},b),u),{},{headers:ia(ia({},(r=b==null?void 0:b.headers)!==null&&r!==void 0?r:{}),(n=u==null?void 0:u.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?B.accessToken=t.accessToken:delete B.accessToken,B}function T8(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(I8(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var F8=class extends b8{constructor(t){super(t)}},O8=class{constructor(t,e,r){var n,i;this.supabaseUrl=t,this.supabaseKey=e;const l=T8(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const d=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:_8,realtime:N8,auth:ia(ia({},B8),{},{storageKey:d}),global:w8},h=k8(r??{},u);if(this.storageKey=(n=h.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken)this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(g,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}});else{var m;this.auth=this._initSupabaseAuthClient((m=h.auth)!==null&&m!==void 0?m:{},this.headers,h.global.fetch)}this.fetch=U8(e,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(ia({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.accessToken&&this.accessToken().then(g=>this.realtime.setAuth(g)).catch(g=>console.warn("Failed to set initial Realtime auth token:",g)),this.rest=new pR(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new uD(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new cR(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,r;if(t.accessToken)return await t.accessToken();const{data:n}=await t.auth.getSession();return(e=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:i,storageKey:l,flowType:d,lock:u,debug:h,throwOnError:m},g,b){const B={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new F8({url:this.authUrl.href,headers:ia(ia({},B),g),storageKey:l,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:i,flowType:d,lock:u,debug:h,throwOnError:m,fetch:b,hasCustomAuthorizationHeader:Object.keys(this.headers).some(w=>w.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new IR(this.realtimeUrl.href,ia(ia({},t),{},{params:ia(ia({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Hv=(t,e,r)=>new O8(t,e,r);function Q8(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Q8()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const R8="https://ecvfhrbwytwizxikqsyy.supabase.co",D8="sb_publishable_lJUcZH_D8m9u57L00a4PlQ_UnbwK6UJ",Le=Hv(R8,D8,{global:{headers:{"Cache-Control":"no-store"}}}),Lc={async getAll(){const{data:t,error:e}=await Le.from("deposits").select("id, name, address, color, is_active, active").or("active.eq.true,is_active.eq.true").order("name");if(e)throw e;return t||[]},async getById(t){const{data:e,error:r}=await Le.from("deposits").select("*").eq("id",t).maybeSingle();if(r){if(r.code==="PGRST116")return null;throw r}return e},async create(t){const{data:e,error:r}=await Le.from("deposits").insert(t).select().single();if(r)throw r;return e},async update(t,e){const{data:r,error:n}=await Le.from("deposits").update(e).eq("id",t).select().maybeSingle();if(n)throw n;return r},async deactivate(t){const{error:e}=await Le.from("deposits").update({active:!1}).eq("id",t);if(e)throw e},async delete(t){const{error:e}=await Le.from("deposits").delete().eq("id",t);if(e)throw e},async hasStock(t){const{data:e,error:r}=await Le.from("stock_balance").select("id").eq("deposit_id",t).gt("quantity",0).limit(1);if(r)throw r;return((e==null?void 0:e.length)||0)>0},async hasSales(t){const{data:e,error:r}=await Le.from("service_orders").select("id").eq("deposit_id",t).limit(1);if(r)throw r;return((e==null?void 0:e.length)||0)>0}},Bu=t=>{if(t==null)return null;const e=String(t).trim().toUpperCase();return e?e==="VASILHAME_VAZIO"||e==="EMPTY_CONTAINER"?"EMPTY_CONTAINER":e==="GAS_CHEIO"||e==="FILLED_GAS"?"FILLED_GAS":e==="AGUA"||e==="WATER"?"WATER":e==="OUTROS"||e==="OTHER"||e==="OTHERS"?"OTHER":e==="SERVICE"||e==="SERVICO"?"SERVICE":e:null},df=t=>{if(t==null)return null;const e=String(t).trim().toUpperCase();return e?e==="EMPTY_CONTAINER"||e==="VASILHAME_VAZIO"?"VASILHAME_VAZIO":e==="FILLED_GAS"||e==="GAS_CHEIO"?"GAS_CHEIO":e==="WATER"||e==="AGUA"?"AGUA":e==="OTHER"||e==="OTHERS"||e==="OUTROS"?"OUTROS":e==="SERVICE"?"SERVICE":e:null},Vh=t=>{const e=String(t??"").toUpperCase();return e==="TROCA"||e==="EXCHANGE"?"TROCA":e==="COMPLETA"||e==="FULL"?"COMPLETA":"SIMPLES"},pm=t=>{if(t==null)return null;const e=Number(t);return Number.isFinite(e)?e:null},_5=t=>t.product_id??t.productId??null,M8=t=>t.deposit_id??t.depositoId??t.depositId??null,B5=(t,e)=>{const r=Vh(e);return pm(r==="TROCA"?t.exchange_price:r==="COMPLETA"?t.full_price:t.price??t.sale_price)},rE=(t,e)=>{const r=t.mode??null;return(t.exchange_price!==null&&t.exchange_price!==void 0||t.full_price!==null&&t.full_price!==void 0)&&(r==null||String(r).trim()===""||Vh(r)==="SIMPLES")?B5(t,e):r!=null&&String(r).trim()!==""?Vh(r)!==Vh(e)?null:pm(t.price):B5(t,e)},N5=(t,e)=>{for(const r of t){const n=rE(r,e);if(n!==null)return n}return null},C5=(t,e)=>{let r=null;for(const n of t){const i=rE(n,e);i!==null&&(r===null||i<r)&&(r=i)}return r};function uo(t){const{productId:e,depositId:r,mode:n,rows:i}=t;if(!e||!i||i.length===0)return 0;const l=r??null,d=Vh(n);if(l){const m=i.filter(b=>_5(b)===e&&(M8(b)??null)===l),g=N5(m,d);if(g!==null)return g;if(d!=="SIMPLES"){const b=N5(m,"SIMPLES");if(b!==null)return b}}const u=i.filter(m=>_5(m)===e);let h=C5(u,d);return h===null&&d!=="SIMPLES"&&(h=C5(u,"SIMPLES")),h??0}let Dx=!1,jl=null;const P8=t=>{const e=String(t??"").toUpperCase();return e==="TROCA"||e==="EXCHANGE"?"TROCA":e==="COMPLETA"||e==="FULL"?"COMPLETA":"SIMPLES"},Mx=(t,e,r)=>`${t}::${e}::${r}`,H8=t=>!!t&&Object.prototype.hasOwnProperty.call(t,"mode"),qv=t=>(!t||t.length===0||(jl=H8(t[0])),jl),q8=async()=>{if(jl!==null)return jl;try{const{error:t}=await Le.from("product_pricing").select("mode").limit(1);if(!t)return jl=!0,!0;const e=String((t==null?void 0:t.message)??"").toLowerCase();return e.includes("column")&&e.includes("mode")?(jl=!1,!1):(console.warn("Nao foi possivel verificar suporte a modalidade de preco:",t),jl=!1,!1)}catch(t){return console.warn("Nao foi possivel verificar suporte a modalidade de preco:",t),jl=!1,!1}},mm=async()=>{if(Dx)return jl??!1;if(!await q8())return Dx=!0,!1;try{const{error:e}=await Le.from("product_pricing").update({mode:"SIMPLES"}).is("mode",null);if(e)throw e;let r=[];const{data:n,error:i}=await Le.from("product_pricing").select("id, product_id, deposit_id, mode, price, exchange_price, full_price");if(i){const l=await Le.from("product_pricing").select("id, product_id, deposit_id, mode, price");if(l.error)throw l.error;r=l.data||[]}else r=n||[];if(qv(r),r.length>0){const l=new Set;r.forEach(u=>{const h=u.product_id,m=u.deposit_id;if(!h||!m)return;const g=P8(u.mode??"SIMPLES");l.add(Mx(h,m,g))});const d=[];if(r.forEach(u=>{const h=u.product_id,m=u.deposit_id;if(!h||!m)return;const g=Number(u.exchange_price);if(Number.isFinite(g)&&g>0){const B=Mx(h,m,"TROCA");l.has(B)||(l.add(B),d.push({product_id:h,deposit_id:m,mode:"TROCA",price:g}))}const b=Number(u.full_price);if(Number.isFinite(b)&&b>0){const B=Mx(h,m,"COMPLETA");l.has(B)||(l.add(B),d.push({product_id:h,deposit_id:m,mode:"COMPLETA",price:b}))}}),d.length>0){const{error:u}=await Le.from("product_pricing").upsert(d,{onConflict:"product_id,deposit_id,mode"});if(u)throw u}}}catch(e){console.warn("Nao foi possivel migrar precos por modalidade:",e)}finally{Dx=!0}return jl??!1},E5=t=>!t||typeof t!="object"?!1:"price"in t||"sale_price"in t||"exchange_price"in t||"full_price"in t,Kc=t=>{const e=String(t??"").toUpperCase();return e==="SIMPLE"||e==="SIMPLES"?"SIMPLES":e==="EXCHANGE"||e==="TROCA"?"TROCA":e==="FULL"||e==="COMPLETA"?"COMPLETA":"SIMPLES"},z8=t=>!!t&&Object.prototype.hasOwnProperty.call(t,"mode"),Yo=t=>({...t,tipo:df(t.type??t.tipo??null),type:df(t.type??t.tipo??null)}),S5=t=>({id:t.id,code:t.code??t.codigo??null,name:t.name??t.nome??"",description:t.description??t.descricao??null,type:Bu(t.type??t.tipo??null),unit:t.unit??t.unidade??"un",cost_price:t.cost_price??t.preco_custo??null,movement_type:t.movement_type??null,return_product_id:t.return_product_id??t.returnableId??t.linkedProductId??null,track_stock:t.track_stock??t.trackStock??t.controls_stock??null,is_active:t.is_active??t.ativo??!0,deposit_id:t.deposit_id??t.depositId??null,product_group:t.product_group??t.productGroup??null,image_url:t.image_url??t.imageUrl??null}),j5=t=>{const e={};return"id"in t&&(e.id=t.id),("code"in t||"codigo"in t)&&(e.code=t.code??t.codigo??null),("name"in t||"nome"in t)&&(e.name=t.name??t.nome??null),("description"in t||"descricao"in t)&&(e.description=t.description??t.descricao??null),("type"in t||"tipo"in t)&&(e.type=Bu(t.type??t.tipo??null)),("unit"in t||"unidade"in t)&&(e.unit=t.unit??t.unidade??null),("cost_price"in t||"preco_custo"in t)&&(e.cost_price=t.cost_price??t.preco_custo??null),"movement_type"in t&&(e.movement_type=t.movement_type),("return_product_id"in t||"returnableId"in t||"linkedProductId"in t)&&(e.return_product_id=t.return_product_id??t.returnableId??t.linkedProductId??null),("track_stock"in t||"trackStock"in t||"controls_stock"in t)&&(e.track_stock=t.track_stock??t.trackStock??t.controls_stock??null),("is_active"in t||"ativo"in t)&&(e.is_active=t.is_active??t.ativo??null),("deposit_id"in t||"depositId"in t)&&(e.deposit_id=t.deposit_id??t.depositId??null),("product_group"in t||"productGroup"in t)&&(e.product_group=t.product_group??t.productGroup??null),("image_url"in t||"imageUrl"in t)&&(e.image_url=t.image_url??t.imageUrl??null),e},Ii={async getAll(t){const e=(t==null?void 0:t.includeInactive)===!0;let r=Le.from("products").select("*").order("name");e||(r=r.eq("is_active",!0));const{data:n,error:i}=await r;if(i)throw new Error(`Erro ao listar produtos: ${i.message}`);const l=new Set;return(n||[]).filter(d=>l.has(d.id)?!1:(l.add(d.id),!0)).map(Yo)},async getByDeposit(t,e){const r=(e==null?void 0:e.includeInactive)===!0;let n=Le.from("products").select("*").eq("deposit_id",t).order("name");r||(n=n.eq("is_active",!0));const{data:i,error:l}=await n;if(l)throw new Error(`Erro ao listar produtos do depsito: ${l.message}`);return(i||[]).map(Yo)},async getById(t){const{data:e,error:r}=await Le.from("products").select("*").eq("id",t).order("deposit_id",{nullsFirst:!0}).limit(1).maybeSingle();if(r){if(r.code==="PGRST116")return null;throw new Error(`Erro ao buscar produto: ${r.message}`)}return e?Yo(e):null},async create(t){const e=S5(t);if(console.log("[productService.create] payload:",e),e.movement_type==="EXCHANGE"&&!e.return_product_id)throw new Error("Produtos com movimento EXCHANGE devem ter produto de retorno vinculado");const{data:r,error:n}=await Le.from("products").insert([e]).select().single();if(n)throw n.code==="23503"&&n.message.includes("return_product_id")?new Error("Produto de retorno (vazio) no existe. Crie-o primeiro."):new Error(`Erro ao criar produto: ${n.message}`);return Yo(r)},async update(t,e){const r=j5(e),{data:n,error:i}=await Le.from("products").update(r).eq("id",t).select().single();if(i)throw new Error(`Erro ao atualizar produto: ${i.message}`);return Yo(n)},async deactivate(t){const{error:e}=await Le.from("products").update({is_active:!1}).eq("id",t);if(e)throw new Error(`Erro ao desativar produto: ${e.message}`)},async getReturnProduct(t){const e=await this.getById(t);return e!=null&&e.return_product_id?await this.getById(e.return_product_id):null},async getProductsUsingAsReturn(t){const{data:e,error:r}=await Le.from("products").select("*").eq("return_product_id",t).eq("is_active",!0);if(r)throw new Error(`Erro ao buscar produtos vinculados: ${r.message}`);return(e||[]).map(Yo)},async getPricing(t,e,r="SIMPLES"){const n=Kc(r),i=await this.listPricingByProduct(t);if(!i||i.length===0)return null;const l=uo({productId:t,depositId:e,mode:"SIMPLES",rows:i}),d=uo({productId:t,depositId:e,mode:"TROCA",rows:i}),u=uo({productId:t,depositId:e,mode:"COMPLETA",rows:i}),h=uo({productId:t,depositId:e,mode:n,rows:i});return{product_id:t,deposit_id:e,mode:n,price:h,sale_price:l,exchange_price:d,full_price:u}},async setPricing(t,e,r,n){const i=await mm(),l=E5(r)?r:n;if(!l)throw new Error("Payload de precificao obrigatrio");const d=E5(r)?"SIMPLES":Kc(r),u=l.price??l.sale_price??0;if(!e){const w=d==="TROCA"?"exchange_price":d==="COMPLETA"?"full_price":"sale_price",{data:S,error:U}=await Le.from("products").update({[w]:u}).eq("id",t).select("sale_price,exchange_price,full_price").maybeSingle();if(U)throw new Error(`Erro ao gravar precificacao no produto: ${U.message}`);const k=(S==null?void 0:S.sale_price)??0,C=(S==null?void 0:S.exchange_price)??0,O=(S==null?void 0:S.full_price)??0;return{product_id:t,deposit_id:null,mode:d,price:(d==="TROCA"?C:d==="COMPLETA"?O:k)??u,sale_price:k,exchange_price:C,full_price:O}}if(i){const w={product_id:t,deposit_id:e,mode:d,price:u},{error:S}=await Le.from("product_pricing").upsert(w,{onConflict:"product_id,deposit_id,mode"});if(S)throw new Error(`Erro ao gravar precificacao no deposito: ${S.message}`);const U=await this.getPricing(t,e,d);if(U)return U;const k=d==="SIMPLES"?u:0,C=d==="TROCA"?u:0,O=d==="COMPLETA"?u:0;return{product_id:t,deposit_id:e,mode:d,price:d==="TROCA"?C:d==="COMPLETA"?O:k,sale_price:k,exchange_price:C,full_price:O}}const h=d==="TROCA"?"exchange_price":d==="COMPLETA"?"full_price":"price",{data:m,error:g}=await Le.from("product_pricing").update({[h]:u}).eq("product_id",t).eq("deposit_id",e).select("product_id, deposit_id, price, exchange_price, full_price"),b=Number((row==null?void 0:row.full_price)??0),B=d==="TROCA"?exchange:d==="COMPLETA"?b:sale;return{product_id:t,deposit_id:e,mode:d,price:B,sale_price:sale,exchange_price:exchange,full_price:b}},async getFinalPrice(t,e,r){const n=await this.listPricingByProduct(t),i=Kc(r);return uo({productId:t,depositId:e,mode:i,rows:n})},async listPricingByProduct(t){const e=await mm(),{data:r,error:n}=await Le.from("product_pricing").select("*").eq("product_id",t);if(n)throw new Error(`Erro ao listar precos do produto: ${n.message}`);return qv(r),r&&r.length>0&&z8(r[0])||e?(r||[]).map(l=>({product_id:l.product_id,deposit_id:l.deposit_id,mode:Kc(l.mode??"SIMPLES"),price:l.price??0,sale_price:l.price??null,exchange_price:null,full_price:null})):(r||[]).map(l=>({product_id:l.product_id,deposit_id:l.deposit_id,mode:null,price:l.price??0,sale_price:l.price??null,exchange_price:l.exchange_price??null,full_price:l.full_price??null}))},async removePricing(t,e,r){if(await mm()){let d=Le.from("product_pricing").delete().eq("product_id",t).eq("deposit_id",e);r&&(d=d.eq("mode",Kc(r)));const{error:u}=await d;if(u)throw new Error(`Erro ao remover precificacao do deposito: ${u.message}`);return}if(!r){const{error:d}=await Le.from("product_pricing").delete().eq("product_id",t).eq("deposit_id",e);if(d)throw new Error(`Erro ao remover precificacao do deposito: ${d.message}`);return}const i=Kc(r)==="TROCA"?"exchange_price":Kc(r)==="COMPLETA"?"full_price":"price",{error:l}=await Le.from("product_pricing").update({[i]:0}).eq("product_id",t).eq("deposit_id",e);if(l)throw new Error(`Erro ao remover precificacao do deposito: ${l.message}`)},async getByType(t){const e=Bu(t),{data:r,error:n}=await Le.from("products").select("*").eq("type",e??t).eq("is_active",!0).order("name");if(n)throw new Error(`Erro ao buscar produtos por tipo: ${n.message}`);return(r||[]).map(Yo)},async getStockTracked(){const{data:t,error:e}=await Le.from("products").select("*").eq("track_stock",!0).eq("is_active",!0).order("name");if(e)throw new Error(`Erro ao buscar produtos rastreados: ${e.message}`);return(t||[]).map(Yo)},async getExchangeProducts(){const{data:t,error:e}=await Le.from("products").select("*").eq("movement_type","EXCHANGE").eq("is_active",!0).order("name");if(e)throw new Error(`Erro ao buscar produtos EXCHANGE: ${e.message}`);return(t||[]).map(Yo)},async createProduct(t){const e=S5(t);console.log("[productService.createProduct] payload:",e);const{data:r,error:n}=await Le.from("products").insert([e]);if(n)throw n;return Array.isArray(r)?r.map(Yo):r},async updateProduct(t,e){const r=j5(e),{data:n,error:i}=await Le.from("products").update(r).eq("id",t);if(i)throw i;return Array.isArray(n)?n.map(Yo):n},async deactivateProduct(t){const{data:e,error:r}=await Le.from("products").update({is_active:!1}).eq("id",t);if(r)throw r;return Array.isArray(e)?e.map(Yo):e},async upsertProductPricing(t){const e=t.mode??"SIMPLES";return await this.setPricing(t.product_id,t.deposit_id,e,{price:t.price})}},Oh={async getBalance(t,e){const{data:r,error:n}=await Le.from("stock_movements").select("quantity, type").eq("product_id",t).eq("deposit_id",e);if(n)throw new Error(`Erro ao calcular saldo: ${n.message}`);const i=["IN","ENTRY","CARGA_INICIAL","TRADE_IN","AJUSTE_POSITIVO"],l=["OUT","SALE","LOSS","TRANSFER_OUT","AJUSTE_NEGATIVO"];return(r||[]).reduce((d,u)=>{const h=Number(u.quantity||0),m=u.type,g=m?i.includes(m):h>=0,B=(m?l.includes(m):h<0)?-Math.abs(h):Math.abs(h);return d+(g?Math.abs(h):B)},0)},async getBalancesByDeposit(t){const{data:e,error:r}=await Le.from("stock_movements").select("product_id, quantity, type").eq("deposit_id",t);if(r)throw new Error(`Erro ao buscar saldos: ${r.message}`);const n=new Map,i=["IN","ENTRY","CARGA_INICIAL","TRADE_IN","AJUSTE_POSITIVO"],l=["OUT","SALE","LOSS","TRANSFER_OUT","AJUSTE_NEGATIVO"];return(e||[]).forEach(d=>{const u=Number(d.quantity||0),h=d.type,m=h?i.includes(h):u>=0,b=(h?l.includes(h):u<0)?-Math.abs(u):Math.abs(u),B=n.get(d.product_id)||0;n.set(d.product_id,B+(m?Math.abs(u):b))}),n},async addMovement(t){const{data:e,error:r}=await Le.from("stock_movements").insert(t).select().single();if(r)throw new Error(`Erro ao registrar movimento: ${r.message}`);return e},async addMovements(t){const{data:e,error:r}=await Le.from("stock_movements").insert(t).select();if(r)throw new Error(`Erro ao registrar movimentos: ${r.message}`);return e||[]},async getMovements(t,e,r=100){const{data:n,error:i}=await Le.from("stock_movements").select("*").eq("product_id",t).eq("deposit_id",e).order("created_at",{ascending:!1}).limit(r);if(i)throw new Error(`Erro ao listar movimentos: ${i.message}`);return n||[]},async loadInitialStock(t,e,r,n="Carga inicial do sistema"){return await this.addMovement({product_id:t,deposit_id:e,quantity:r,type:r>=0?"IN":"OUT",origin:"CARGA_INICIAL",reason:n})},async adjustStock(t,e,r,n){const i=await this.getBalance(t,e),l=r-i;if(l===0)throw new Error("Saldo j est correto, nenhum ajuste necessrio");return await this.addMovement({product_id:t,deposit_id:e,quantity:l,type:l>0?"IN":"OUT",origin:"ADJUSTMENT",reason:n})},async transfer(t,e,r,n,i){const l=await this.getBalance(t,e);if(l<n)throw new Error(`Saldo insuficiente no depsito de origem (disponvel: ${l})`);const[d,u]=await this.addMovements([{product_id:t,deposit_id:e,quantity:-n,type:"OUT",origin:"TRANSFER_OUT",reason:i||"Transferncia para outro depsito"},{product_id:t,deposit_id:r,quantity:n,type:"IN",origin:"TRANSFER_IN",reason:i||"Transferncia de outro depsito"}]);return{from:d,to:u}},async createStockCount(t,e){const{data:r,error:n}=await Le.from("stock_counts").insert({deposit_id:t,status:"ABERTA",created_by:e}).select("id").single();if(n)throw new Error(`Erro ao criar contagem: ${n.message}`);return r.id},async addCountItem(t,e,r,n){const{error:i}=await Le.from("stock_count_items").insert({count_id:t,product_id:e,system_quantity:r,counted_quantity:n,difference:n-r});if(i)throw new Error(`Erro ao adicionar item: ${i.message}`)},async finalizeStockCount(t){const{data:e,error:r}=await Le.from("stock_count_items").select("*, stock_counts(deposit_id)").eq("count_id",t);if(r)throw new Error(`Erro ao buscar itens: ${r.message}`);const n=[];for(const l of e||[])l.difference!==0&&n.push({product_id:l.product_id,deposit_id:l.stock_counts.deposit_id,quantity:l.difference,type:l.difference>0?"IN":"OUT",origin:"ADJUSTMENT",reason:`Ajuste por contagem (ID: ${t})`,reference_id:t});n.length>0&&await this.addMovements(n);const{error:i}=await Le.from("stock_counts").update({status:"CONCLUIDA",completed_at:new Date().toISOString()}).eq("id",t);if(i)throw new Error(`Erro ao finalizar contagem: ${i.message}`)},async getLowStockProducts(t,e=5){const r=await this.getBalancesByDeposit(t);return Array.from(r.entries()).filter(([n,i])=>i<=e).map(([n,i])=>({product_id:n,balance:i}))},async getMovementsByPeriod(t,e,r){const{data:n,error:i}=await Le.from("stock_movements").select("*").eq("deposit_id",t).gte("created_at",e).lte("created_at",r).order("created_at",{ascending:!1});if(i)throw new Error(`Erro ao buscar movimentos: ${i.message}`);return n||[]}},Nu={async upsertRecord(t){const{error:e}=await Le.from("service_orders").upsert(t);if(e)throw new Error(`Erro ao salvar O.S.: ${e.message}`)},async upsertWithDetails(t){const{order:e,items:r,payments:n}=t,i=e.id;if(!i)throw new Error("O.S. sem id para salvar itens/pagamentos.");const{error:l}=await Le.from("service_orders").upsert(e);if(l)throw new Error(`Erro ao salvar O.S.: ${l.message}`);const{error:d}=await Le.from("service_order_items").delete().eq("order_id",i);if(d)throw new Error(`Erro ao limpar itens da O.S.: ${d.message}`);if(r.length>0){const h=r.map(g=>({...g,order_id:i})),{error:m}=await Le.from("service_order_items").insert(h);if(m)throw new Error(`Erro ao salvar itens da O.S.: ${m.message}`)}const{error:u}=await Le.from("service_order_payments").delete().eq("order_id",i);if(u)throw new Error(`Erro ao limpar pagamentos da O.S.: ${u.message}`);if(n.length>0){const h=n.map(g=>({...g,order_id:i})),{error:m}=await Le.from("service_order_payments").insert(h);if(m)throw new Error(`Erro ao salvar pagamentos da O.S.: ${m.message}`)}},async updateStatus(t,e){const r={status:e,updated_at:new Date().toISOString()};e==="CONCLUIDA"&&(r.completed_at=new Date().toISOString());const{data:n,error:i}=await Le.from("service_orders").update(r).eq("id",t).select().single();if(i)throw new Error(`Erro ao atualizar status: ${i.message}`);return n},async complete(t){const e=await this.getById(t);if(!e)throw new Error("O.S. nao encontrada");const{count:r,error:n}=await Le.from("stock_movements").select("id",{count:"exact",head:!0}).eq("reference_id",t);if(n)throw new Error(`Erro ao validar movimentos de estoque: ${n.message}`);const i=(r??0)>0,l=e.status==="CONCLUIDA"?e:await this.updateStatus(t,"CONCLUIDA");return i||await this._createStockMovements(l,e.items),l},async create(t){const{data:e,error:r}=await Le.from("service_orders").insert(t.order).select().single();if(r)throw new Error(`Erro ao criar O.S.: ${r.message}`);try{const n=t.items.map(m=>({...m,service_order_id:e.id})),{data:i,error:l}=await Le.from("service_order_items").insert(n).select();if(l)throw l;const d=t.payments.map(m=>({...m,service_order_id:e.id})),{data:u,error:h}=await Le.from("service_order_payments").insert(d).select();if(h)throw h;return await this._createStockMovements(e,i||[]),e.service_type==="DELIVERY"&&await this._createDeliveryJob(e.id),{...e,items:i||[],payments:u||[]}}catch(n){throw await Le.from("service_orders").delete().eq("id",e.id),new Error(`Erro ao processar venda: ${n.message}`)}},async getById(t){const{data:e,error:r}=await Le.from("service_orders").select(`
        *,
        items:service_order_items(*),
        payments:service_order_payments(*)
      `).eq("id",t).single();if(r){if(r.code==="PGRST116")return null;throw new Error(`Erro ao buscar O.S.: ${r.message}`)}return e},async getByDeposit(t,e){let r=Le.from("service_orders").select("*").eq("deposit_id",t).order("created_at",{ascending:!1});e!=null&&e.status&&(r=r.eq("status",e.status)),e!=null&&e.startDate&&(r=r.gte("created_at",e.startDate)),e!=null&&e.endDate&&(r=r.lte("created_at",e.endDate)),e!=null&&e.limit&&(r=r.limit(e.limit)),e!=null&&e.offset&&(r=r.range(e.offset,e.offset+(e.limit||10)-1));const{data:n,error:i}=await r;if(i)throw new Error(`Erro ao listar O.S.: ${i.message}`);return n||[]},async cancel(t,e){const r=await this.getById(t);if(!r)throw new Error("O.S. nao encontrada");if(r.status==="CANCELADA")throw new Error("O.S. ja cancelada");const{count:n,error:i}=await Le.from("stock_movements").select("id",{count:"exact",head:!0}).eq("reference_id",t);if(i)throw new Error(`Erro ao validar movimentos de estoque: ${i.message}`);(n??0)>0&&await this._reverseStockMovements(r,r.items);const{error:l}=await Le.from("accounts_receivable").delete().eq("order_id",t);if(l)throw new Error(`Erro ao estornar recebiveis: ${l.message}`);const{error:d}=await Le.from("service_order_payments").delete().eq("order_id",t);if(d)throw new Error(`Erro ao estornar pagamentos: ${d.message}`);const{error:u}=await Le.from("cash_flow_entries").delete().eq("reference_id",t);if(u)throw new Error(`Erro ao estornar caixa: ${u.message}`);const{error:h}=await Le.from("delivery_jobs").delete().eq("service_order_id",t);if(h)throw new Error(`Erro ao remover delivery job: ${h.message}`);const{data:m,error:g}=await Le.from("service_orders").update({status:"CANCELADA",updated_at:new Date().toISOString()}).eq("id",t).select().single();if(g)throw new Error(`Erro ao cancelar O.S.: ${g.message}`);return m},async updateDeliveryStatus(t,e){const{data:r,error:n}=await Le.from("service_orders").update({delivery_status:e,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(n)throw new Error(`Erro ao atualizar status: ${n.message}`);return r},async assignDriver(t,e){const{data:r,error:n}=await Le.from("service_orders").update({driver_id:e,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(n)throw new Error(`Erro ao atribuir entregador: ${n.message}`);return r},async getTodaySales(t){const e=new Date;e.setHours(0,0,0,0);const r=e.toISOString(),n=await this.getByDeposit(t,{status:"CONCLUIDA",startDate:r});return{count:n.length,total:n.reduce((i,l)=>i+l.total,0),orders:n}},async getSalesByPeriod(t,e,r){const n=await this.getByDeposit(t,{status:"CONCLUIDA",startDate:e,endDate:r});return{count:n.length,total:n.reduce((i,l)=>i+l.total,0),orders:n}},async getTopProducts(t,e,r,n=10){const{data:i,error:l}=await Le.from("service_order_items").select(`
        product_id,
        quantity,
        unit_price,
        service_orders!inner(deposit_id, created_at, status)
      `).eq("service_orders.deposit_id",t).eq("service_orders.status","CONCLUIDA").gte("service_orders.created_at",e).lte("service_orders.created_at",r);if(l)throw new Error(`Erro ao buscar produtos: ${l.message}`);const d=new Map;return(i||[]).forEach(u=>{const h=d.get(u.product_id)||{quantity:0,revenue:0};d.set(u.product_id,{quantity:h.quantity+u.quantity,revenue:h.revenue+u.quantity*u.unit_price})}),Array.from(d.entries()).map(([u,h])=>({product_id:u,...h})).sort((u,h)=>h.quantity-u.quantity).slice(0,n)},async _createStockMovements(t,e){for(const r of e){const{data:n}=await Le.from("products").select("movement_type, return_product_id, track_stock").eq("id",r.product_id).single();if(!(n!=null&&n.track_stock))continue;const i=r.sale_movement_type||n.movement_type;await Oh.addMovement({product_id:r.product_id,deposit_id:t.deposit_id,quantity:-r.quantity,type:"OUT",origin:"SALE",reference_id:t.id,reason:`Venda O.S. ${t.order_number}`}),i==="EXCHANGE"&&n.return_product_id&&await Oh.addMovement({product_id:n.return_product_id,deposit_id:t.deposit_id,quantity:r.quantity,type:"IN",origin:"TRADE_IN",reference_id:t.id,reason:`Troca de casco - O.S. ${t.order_number}`})}},async _reverseStockMovements(t,e){for(const r of e){const{data:n}=await Le.from("products").select("movement_type, return_product_id, track_stock").eq("id",r.product_id).single();if(!(n!=null&&n.track_stock))continue;const i=r.sale_movement_type||n.movement_type;await Oh.addMovement({product_id:r.product_id,deposit_id:t.deposit_id,quantity:r.quantity,type:"IN",origin:"ADJUSTMENT",reference_id:t.id,reason:`Cancelamento O.S. ${t.order_number}`}),i==="EXCHANGE"&&n.return_product_id&&await Oh.addMovement({product_id:n.return_product_id,deposit_id:t.deposit_id,quantity:-r.quantity,type:"OUT",origin:"ADJUSTMENT",reference_id:t.id,reason:`Cancelamento troca - O.S. ${t.order_number}`})}},async _createDeliveryJob(t){const{error:e}=await Le.from("delivery_jobs").insert({service_order_id:t,status:"CRIADA"});if(e)throw e}},Gh=t=>{const e=t==null?void 0:t.trim();return e||null},K8=t=>{const e=t==null?void 0:t.trim();return e||null},V8=(t,e,r)=>{const n=[Gh(t),Gh(e)].filter(Boolean);return n.length>0?n.join(" - "):Gh(r)},L5=t=>{const e=Gh(t.street_address),r=Gh(t.neighborhood),n=V8(e,r,t.address??null);return{...t,street_address:e,neighborhood:r,delivery_sector_id:K8(t.delivery_sector_id),address:n}},Uc={async getAll(t){let e=Le.from("clients").select("*");t!=null&&t.includeInactive||(e=e.eq("is_active",!0));const{data:r,error:n}=await e.order("name");if(n)throw new Error(`Erro ao listar clientes: ${n.message}`);return r||[]},async getById(t){const{data:e,error:r}=await Le.from("clients").select("*").eq("id",t).maybeSingle();if(r){if(r.code==="PGRST116")return null;throw new Error(`Erro ao buscar cliente: ${r.message}`)}return e},async getByPhone(t){const{data:e,error:r}=await Le.from("clients").select("*").eq("phone",t).eq("is_active",!0).maybeSingle();if(r){if(r.code==="PGRST116")return null;throw new Error(`Erro ao buscar cliente: ${r.message}`)}return e},async create(t){const e=L5(t),{data:r,error:n}=await Le.from("clients").insert(e).select().single();if(n)throw new Error(`Erro ao criar cliente: ${n.message}`);return r},async update(t,e){const r=L5(e),{data:n,error:i}=await Le.from("clients").update(r).eq("id",t).select().single();if(i)throw new Error(`Erro ao atualizar cliente: ${i.message}`);return n},async deactivate(t){const{error:e}=await Le.from("clients").update({is_active:!1}).eq("id",t);if(e)throw new Error(`Erro ao desativar cliente: ${e.message}`)},async remove(t){const{error:e}=await Le.from("clients").delete().eq("id",t);if(e)throw new Error(`Erro ao remover cliente: ${e.message}`)},async getBySector(t){const{data:e,error:r}=await Le.from("clients").select("*").eq("delivery_sector_id",t).eq("is_active",!0).order("name");if(r)throw new Error(`Erro ao buscar clientes: ${r.message}`);return e||[]},async getWithDebt(){const{data:t,error:e}=await Le.from("clients").select(`
        *,
        accounts_receivable!inner(remaining_amount, original_amount)
      `).eq("is_active",!0).eq("accounts_receivable.status","PENDENTE");if(e)throw new Error(`Erro ao buscar clientes: ${e.message}`);const r=new Map;return(t||[]).forEach(n=>{var d,u;r.has(n.id)||r.set(n.id,{...n,debt:0});const i=r.get(n.id),l=Number(((d=n.accounts_receivable)==null?void 0:d.remaining_amount)??((u=n.accounts_receivable)==null?void 0:u.original_amount)??0);i.debt+=Number.isFinite(l)?l:0}),Array.from(r.values())}},nE="id,client_id,deposit_id,benefit_type,discount_value,discount_percent,status,used_in_order_id,used_at,expires_at,created_at";async function G8(t){let e=Le.from("client_one_time_benefits").select(nE);const{data:r,error:n}=await e;if(n)throw new Error(`Erro ao listar descontos pendentes: ${n.message}`);return r||[]}async function $8(t){const{data:e,error:r}=await Le.from("client_one_time_benefits").upsert(t).select(nE).single();if(r)throw new Error(`Erro ao salvar desconto pendente: ${r.message}`);return e}async function Z8(t){const{error:e}=await Le.from("client_one_time_benefits").delete().eq("id",t);if(e)throw new Error(`Erro ao remover desconto pendente: ${e.message}`)}const gm="id,client_id,product_id,deposit_id,modality,special_price,is_active,created_at",X8=t=>{const e=String(t??"").trim();if(!e)return"SIMPLE";const r=e.toUpperCase();return r==="SIMPLES"?"SIMPLE":r==="TROCA"?"EXCHANGE":r==="COMPLETA"?"FULL":r},J8=t=>{const e=String(t??"").trim();return e||null};async function sE(t){let e=Le.from("client_price_overrides").select(gm);t&&(e=e.eq("client_id",t));const{data:r,error:n}=await e;if(n)throw new Error(`Erro ao listar precos especiais: ${n.message}`);return r||[]}async function Y8(t){const e=t.client_id,r=t.product_id,n=J8(t.deposit_id??null),i=X8(t.modality??null),l=t.special_price===void 0?null:t.special_price,d=t.is_active??!0;if(t.id){const{data:B,error:w}=await Le.from("client_price_overrides").update({...t,deposit_id:n,modality:i,special_price:l,is_active:d}).eq("id",t.id).select(gm).single();if(w)throw new Error(`Erro ao salvar preco especial: ${w.message}`);return B}let u=Le.from("client_price_overrides").select("id").eq("client_id",e).eq("product_id",r).eq("modality",i).limit(1);u=n?u.eq("deposit_id",n):u.is("deposit_id",null);const{data:h,error:m}=await u.maybeSingle();if(m)throw new Error(`Erro ao salvar preco especial: ${m.message}`);if(h!=null&&h.id){const{data:B,error:w}=await Le.from("client_price_overrides").update({...t,deposit_id:n,modality:i,special_price:l,is_active:d}).eq("id",h.id).select(gm).single();if(w)throw new Error(`Erro ao salvar preco especial: ${w.message}`);return B}const{data:g,error:b}=await Le.from("client_price_overrides").insert({...t,deposit_id:n,modality:i,special_price:l,is_active:d}).select(gm).single();if(b)throw new Error(`Erro ao salvar preco especial: ${b.message}`);return g}async function W8(t){const{error:e}=await Le.from("client_price_overrides").delete().eq("id",t);if(e)throw new Error(`Erro ao remover preco especial: ${e.message}`)}const eM=t=>{const e=String(t??"").trim().toUpperCase();return e==="SIMPLES"?"SIMPLE":e==="TROCA"?"EXCHANGE":e==="COMPLETA"?"FULL":e||"SIMPLE"},tM=t=>{const e=t.special_price??t.override_price;if(e==null)return null;const r=Number(e);return Number.isFinite(r)?r:null},rM=(t,e,r)=>`${t}:${e}:${r??"GLOBAL"}`;async function nM(t){const e=await sE(t),r={};return e.forEach(n=>{if(n.is_active===!1)return;const i=tM(n);if(i===null)return;const l=eM(n.modality),d=rM(n.product_id,l,n.deposit_id);r[d]=i}),r}const au="id,order_id,deposit_id,client_id,client_name,original_amount,paid_amount,remaining_amount,status,due_date,notes,created_at,updated_at",U5=t=>t?typeof t=="number"?new Date(t).toISOString().split("T")[0]:t:null,Ao={async getPendingReceivables(t){let e=Le.from("accounts_receivable").select(au).eq("status","PENDENTE").order("due_date");t&&(e=e.eq("deposit_id",t));const{data:r,error:n}=await e;if(n)throw new Error(`Erro ao listar recebveis: ${n.message}`);return r||[]},async listReceivables(t){let e=Le.from("accounts_receivable").select(au).order("due_date");t!=null&&t.depositId&&(e=e.eq("deposit_id",t.depositId)),t!=null&&t.status&&(e=Array.isArray(t.status)?e.in("status",t.status):e.eq("status",t.status)),t!=null&&t.fromDueDate&&(e=e.gte("due_date",t.fromDueDate)),t!=null&&t.toDueDate&&(e=e.lte("due_date",t.toDueDate));const{data:r,error:n}=await e;if(n)throw new Error(`Erro ao listar recebeis: ${n.message}`);return r||[]},async createReceivable(t){const{data:e,error:r}=await Le.from("accounts_receivable").insert(t).select(au).maybeSingle();if(r)throw new Error(`Erro ao criar recebvel: ${r.message}`);return e},async markReceivableAsPaid(t,e,r){try{const{data:n,error:i}=await Le.from("accounts_receivable").select("original_amount, paid_amount, remaining_amount, status").eq("id",t).maybeSingle();if(i)throw i;if(!n)throw new Error("Conta a receber nao encontrada.");const l=Number(n.original_amount||0),u=Number(n.paid_amount||0)+Number(e||0),h=Math.max(0,l-u),m=h<=0?"PAGO":n.status||"PENDENTE",g={paid_amount:u,remaining_amount:h,status:m,updated_at:new Date().toISOString()};r&&(g.updated_at=typeof r=="number"?new Date(r).toISOString():new Date(r).toISOString());const{error:b}=await Le.from("accounts_receivable").update(g).eq("id",t);if(b)throw b}catch(n){throw new Error(`Erro ao registrar pagamento: ${n.message}`)}},async getOverdueReceivables(t){const e=new Date().toISOString().split("T")[0];let r=Le.from("accounts_receivable").select(au).eq("status","PENDENTE").lt("due_date",e).order("due_date");t&&(r=r.eq("deposit_id",t));const{data:n,error:i}=await r;if(i)throw new Error(`Erro ao listar vencidos: ${i.message}`);if(n&&n.length>0){const l=n.map(d=>d.id);await Le.from("accounts_receivable").update({status:"ATRASADO"}).in("id",l)}return n||[]},async updateReceivable(t,e){const r={};if(e.valor_total!==void 0&&(r.original_amount=e.valor_total),e.valor_pago!==void 0&&(r.paid_amount=e.valor_pago),e.remaining_amount!==void 0&&(r.remaining_amount=e.remaining_amount),e.vencimento_em!==void 0&&(r.due_date=U5(e.vencimento_em)),e.due_date!==void 0&&(r.due_date=U5(e.due_date)??void 0),e.status!==void 0&&(r.status=e.status),e.client_name!==void 0&&(r.client_name=e.client_name),e.notes!==void 0&&(r.notes=e.notes),e.original_amount!==void 0&&(r.original_amount=e.original_amount),e.paid_amount!==void 0&&(r.paid_amount=e.paid_amount),e.order_id!==void 0&&(r.order_id=e.order_id),e.deposit_id!==void 0&&(r.deposit_id=e.deposit_id),e.client_id!==void 0&&(r.client_id=e.client_id),Object.keys(r).length===0)return null;r.updated_at=new Date().toISOString();const{data:n,error:i}=await Le.from("accounts_receivable").update(r).eq("id",t).select(au).maybeSingle();if(i)throw new Error(`Erro ao atualizar recebvel: ${i.message}`);return n||null},async listReceivablesByDeposit(t){return this.listReceivables({depositId:t})},async deleteReceivable(t){const{error:e}=await Le.from("accounts_receivable").delete().eq("id",t);if(e)throw new Error(`Erro ao remover recebel: ${e.message}`)},async applyReceivablePayment(t){try{const e=Number(t.amount||0);if(!Number.isFinite(e)||e<=0)throw new Error("Valor de pagamento invalido");const{data:r,error:n}=await Le.from("accounts_receivable").select("original_amount, paid_amount, remaining_amount, status").eq("id",t.receivableId).maybeSingle();if(n)throw n;if(!r)throw new Error("Conta a receber nao encontrada.");const i=Number(r.original_amount||0),d=Number(r.paid_amount||0)+e,u=Math.max(0,i-d),h=u<=0?"PAGO":r.status||"PENDENTE",m={paid_amount:d,remaining_amount:u,status:h,updated_at:new Date().toISOString()};t.paidAt&&(m.updated_at=typeof t.paidAt=="number"?new Date(t.paidAt).toISOString():new Date(t.paidAt).toISOString());const{data:g,error:b}=await Le.from("accounts_receivable").update(m).eq("id",t.receivableId).select(au).maybeSingle();if(b)throw b;if(!g)throw new Error("Pagamento nao aplicado.");return g}catch(e){throw new Error(`Erro ao aplicar pagamento: ${e.message}`)}},async registerCashFlow(t){if(!t.depositId)throw new Error("Deposito obrigatorio");const e={amount:t.amount,category:t.category,direction:t.direction,payment_method:t.paymentType??null,description:t.notes??null,deposit_id:t.depositId,user_id:t.userId??null,shift_id:t.shiftId??null,created_at:new Date().toISOString()},{data:r,error:n}=await Le.from("cash_flow_entries").insert(e).select().maybeSingle();if(n)throw new Error(`Erro ao registrar caixa: ${n.message}`);return r},async getPendingExpenses(t){let e=Le.from("expenses").select("*").eq("status","PENDENTE").order("due_date");t&&(e=e.eq("deposit_id",t));const{data:r,error:n}=await e;if(n)throw new Error(`Erro ao listar despesas: ${n.message}`);return r||[]},async createExpense(t){const{data:e,error:r}=await Le.from("expenses").insert(t).select().maybeSingle();if(r)throw new Error(`Erro ao criar despesa: ${r.message}`);return e},async markExpenseAsPaid(t){const{error:e}=await Le.from("expenses").update({status:"PAGO",paid_date:new Date().toISOString()}).eq("id",t);if(e)throw new Error(`Erro ao marcar como paga: ${e.message}`)},async getExpensesDueSoon(t=7,e){const r=new Date,n=new Date(r);n.setDate(r.getDate()+t);let i=Le.from("expenses").select("*").eq("status","PENDENTE").gte("due_date",r.toISOString().split("T")[0]).lte("due_date",n.toISOString().split("T")[0]).order("due_date");e&&(i=i.eq("deposit_id",e));const{data:l,error:d}=await i;if(d)throw new Error(`Erro ao listar despesas: ${d.message}`);return l||[]},async hasOpenShift(t,e){const{data:r,error:n}=await Le.from("work_shifts").select("*").eq("user_id",t).eq("deposit_id",e).eq("status","OPEN").maybeSingle();if(n&&n.code!=="PGRST116")throw new Error(`Erro ao verificar turno: ${n.message}`);return r||null},async openShift(t,e,r){if(await this.hasOpenShift(t,e))throw new Error("Usurio j possui turno aberto neste depsito");const{data:i,error:l}=await Le.from("work_shifts").insert({user_id:t,deposit_id:e,opening_balance:r,opened_at:new Date().toISOString(),status:"OPEN"}).select().maybeSingle();if(l)throw new Error(`Erro ao abrir turno: ${l.message}`);return i},async closeShift(t,e){const{data:r,error:n}=await Le.from("work_shifts").select("*").eq("id",t).maybeSingle();if(n)throw new Error(`Erro ao buscar turno: ${n.message}`);if(r.status!=="OPEN")throw new Error("Turno j est fechado");const{data:i}=await Le.from("service_orders").select(`
        *,
        payments:service_order_payments(*)
      `).eq("deposit_id",r.deposit_id).gte("created_at",r.opened_at);let l=0,d=0,u=0;(i||[]).forEach(b=>{b.payments.forEach(B=>{const w=B.payment_method;w==="cash"&&(l+=B.amount),w==="card"&&(d+=B.amount),w==="pix"&&(u+=B.amount)})});const h=e.cash!==l||e.card!==d||e.pix!==u,{data:m,error:g}=await Le.from("work_shifts").update({status:h?"DISCREPANCY":"CLOSED",closed_at:new Date().toISOString(),closing_balance:r.opening_balance+e.cash+e.card+e.pix,declared_cash:e.cash,declared_card:e.card,declared_pix:e.pix,system_cash:l,system_card:d,system_pix:u}).eq("id",t).select().maybeSingle();if(g)throw new Error(`Erro ao fechar turno: ${g.message}`);return m},async getDailySummary(t){const e=new Date().toISOString().split("T")[0],{data:r}=await Le.from("service_orders").select("total").eq("deposit_id",t).eq("status","CONCLUIDA").gte("created_at",e),n=(r||[]).reduce((h,m)=>h+m.total,0),{data:i}=await Le.from("expenses").select("amount").eq("deposit_id",t).eq("paid_date",e),l=(i||[]).reduce((h,m)=>h+m.amount,0),{data:d}=await Le.from("accounts_receivable").select("remaining_amount, original_amount").eq("deposit_id",t).eq("status","PENDENTE").eq("due_date",e),u=(d||[]).reduce((h,m)=>{const g=Number(m.remaining_amount??m.original_amount??0);return h+(Number.isFinite(g)?g:0)},0);return{revenue:n,expenses:l,balance:n-l,receivables_due:u}},async getAuditDashboardStats(t){try{const{data:e,error:r}=await Le.rpc("get_audit_dashboard_stats",{target_deposit_id:t??null});if(r)throw r;return Array.isArray(e)?e[0]:e}catch(e){return console.warn("financialService.getAuditDashboardStats failed",e),null}}},I5=async()=>{const{data:t,error:e}=await Le.from("delivery_sectors").select("id, name, zone_id, is_active").eq("is_active",!0).order("name");if(e)throw new Error(`Erro ao listar setores: ${e.message}`);return t||[]},sv={async listDeliveryZones(){const{data:t,error:e}=await Le.from("delivery_zones").select("*").order("name");if(e)throw new Error(`Erro ao listar zonas: ${e.message}`);const{data:r,error:n}=await Le.from("zone_pricing").select("*");if(n)throw new Error(`Erro ao listar precificao de zonas: ${n.message}`);return{zones:t||[],pricing:r||[]}},async upsertDeliveryZone(t){const{data:e,error:r}=await Le.from("delivery_zones").upsert(t).select().single();if(r)throw new Error(`Erro ao salvar zona: ${r.message}`);return e},async upsertZonePricing(t){const{data:e,error:r}=await Le.from("zone_pricing").upsert(t).select().single();if(r)throw new Error(`Erro ao salvar precificao da zona: ${r.message}`);return e},async deleteDeliveryZone(t){const{error:e}=await Le.from("delivery_zones").delete().eq("id",t);if(e)throw new Error(`Erro ao deletar zona: ${e.message}`)},async getZones(){const{data:t,error:e}=await Le.from("delivery_zones").select("*").eq("is_active",!0).order("name");if(e)throw new Error(`Erro ao listar zonas: ${e.message}`);return t||[]},async getSectors(){return I5()},async listSectors(){return I5()},async getSectorsByZone(t){const{data:e,error:r}=await Le.from("delivery_sectors").select("*").eq("zone_id",t).eq("is_active",!0).order("name");if(r)throw new Error(`Erro ao listar setores: ${r.message}`);return e||[]},async getDeliveryFee(t,e){const{data:r,error:n}=await Le.from("zone_pricing").select("delivery_fee").eq("zone_id",t).eq("deposit_id",e).eq("is_active",!0).single();if(n){if(n.code==="PGRST116")return 0;throw new Error(`Erro ao buscar taxa: ${n.message}`)}return r.delivery_fee},async setDeliveryFee(t,e,r){const{data:n,error:i}=await Le.from("zone_pricing").upsert({zone_id:t,deposit_id:e,delivery_fee:r,is_active:!0}).select().single();if(i)throw new Error(`Erro ao definir taxa: ${i.message}`);return n},async getPendingJobs(t){const{data:e,error:r}=await Le.from("delivery_jobs").select(`
        *,
        service_orders!inner(
          deposit_id,
          order_number,
          client_name,
          delivery_address,
          total
        )
      `).eq("service_orders.deposit_id",t).in("status",["CRIADA","PENDENTE_ENTREGA"]).order("created_at");if(r)throw new Error(`Erro ao listar entregas: ${r.message}`);return e||[]},async assignDriver(t,e){const{data:r,error:n}=await Le.from("delivery_jobs").update({driver_id:e,status:"PENDENTE_ENTREGA",updated_at:new Date().toISOString()}).eq("id",t).select().single();if(n)throw new Error(`Erro ao atribuir entregador: ${n.message}`);return r},async startDelivery(t){const{data:e,error:r}=await Le.from("delivery_jobs").update({status:"EM_ROTA",started_at:new Date().toISOString(),updated_at:new Date().toISOString()}).eq("id",t).select().single();if(r)throw new Error(`Erro ao iniciar entrega: ${r.message}`);return e},async completeDelivery(t){const{data:e,error:r}=await Le.from("delivery_jobs").update({status:"CONCLUIDA",completed_at:new Date().toISOString(),updated_at:new Date().toISOString()}).eq("id",t).select().single();if(r)throw new Error(`Erro ao concluir entrega: ${r.message}`);return e},async markAsReturned(t,e){const{data:r,error:n}=await Le.from("delivery_jobs").update({status:"DEVOLVIDA",completed_at:new Date().toISOString(),updated_at:new Date().toISOString()}).eq("id",t).select().single();if(n)throw new Error(`Erro ao marcar como devolvida: ${n.message}`);return r},async getAvailableDrivers(t){const{data:e,error:r}=await Le.from("driver_presence").select(`
        *,
        employees!inner(name, active)
      `).eq("deposit_id",t).eq("status","DISPONIVEL").eq("employees.active",!0);if(r)throw new Error(`Erro ao listar entregadores: ${r.message}`);return e||[]},async updateDriverStatus(t,e,r){const{data:n,error:i}=await Le.from("driver_presence").upsert({driver_id:t,deposit_id:e,status:r,last_seen:new Date().toISOString()}).select().single();if(i)throw new Error(`Erro ao atualizar status: ${i.message}`);return n},async updateDriverLocation(t,e,r,n){const{error:i}=await Le.from("driver_presence").update({latitude:r,longitude:n,last_seen:new Date().toISOString()}).eq("driver_id",t).eq("deposit_id",e);if(i)throw new Error(`Erro ao atualizar localizao: ${i.message}`)},async getDriverActiveJobs(t){const{data:e,error:r}=await Le.from("delivery_jobs").select(`
        *,
        service_orders(
          order_number,
          client_name,
          delivery_address,
          total
        )
      `).eq("driver_id",t).in("status",["PENDENTE_ENTREGA","EM_ROTA"]).order("created_at");if(r)throw new Error(`Erro ao listar entregas: ${r.message}`);return e||[]},async getTodayCompletedDeliveries(t){const e=new Date().toISOString().split("T")[0],{data:r,error:n}=await Le.from("delivery_jobs").select("id",{count:"exact",head:!0}).eq("status","CONCLUIDA").gte("completed_at",e).like("service_orders.deposit_id",t);if(n)throw new Error(`Erro ao contar entregas: ${n.message}`);return r||0},async getDeliverySuccessRate(t,e,r){const{data:n,error:i}=await Le.from("delivery_jobs").select(`
        id,
        status,
        service_orders!inner(deposit_id)
      `).eq("service_orders.deposit_id",t).gte("created_at",e).lte("created_at",r).in("status",["CONCLUIDA","DEVOLVIDA"]);if(i)throw new Error(`Erro ao calcular taxa: ${i.message}`);const l=(n==null?void 0:n.length)||0,d=(n==null?void 0:n.filter(h=>h.status==="CONCLUIDA").length)||0,u=l>0?d/l*100:0;return{total:l,success:d,rate:u}}},zi={async getAll(){const{data:t,error:e}=await Le.from("employees").select("*").eq("active",!0).order("name");if(e)throw e;return t||[]},async getById(t){const{data:e,error:r}=await Le.from("employees").select("*").eq("id",t).maybeSingle();if(r){if(r.code==="PGRST116")return null;throw r}return e},async getByUsername(t){const{data:e,error:r}=await Le.from("employees").select("*").eq("username",t.toLowerCase()).eq("active",!0).maybeSingle();if(r){if(r.code==="PGRST116")return null;throw r}return e},async getByDeposit(t){const{data:e,error:r}=await Le.from("employees").select("*").eq("deposit_id",t).eq("active",!0).order("name");if(r)throw r;return e||[]},async getByRole(t){const{data:e,error:r}=await Le.from("employees").select("*").eq("role",t).eq("active",!0).order("name");if(r)throw r;return e||[]},async create(t){var l;if(!(t.role==="GERENTE"||t.role==="ENTREGADOR")&&!t.deposit_id)throw new Error(`Cargo ${t.role} requer depsito vinculado. Apenas GERENTE e ENTREGADOR tm acesso global.`);const r={...t,username:(l=t.username)==null?void 0:l.toLowerCase()},{data:n,error:i}=await Le.from("employees").insert(r).select().single();if(i)throw i.code==="23505"&&i.message.includes("username")?new Error(`Username "${t.username}" j existe. Escolha outro.`):i;return n},async update(t,e){const r=e.username?{...e,username:e.username.toLowerCase()}:e,{data:n,error:i}=await Le.from("employees").update(r).eq("id",t).select().single();if(i)throw i.code==="23505"&&i.message.includes("username")?new Error(`Username "${e.username}" j existe. Escolha outro.`):i;return n},async deactivate(t){const{error:e}=await Le.from("employees").update({active:!1}).eq("id",t);if(e)throw e},async hasHistory(t){const[{count:e},{count:r}]=await Promise.all([Le.from("service_orders").select("*",{count:"exact",head:!0}).eq("driver_id",t),Le.from("cash_flow_entries").select("*",{count:"exact",head:!0}).eq("created_by",t)]);return(e||0)>0||(r||0)>0},async delete(t){const{error:e}=await Le.from("employees").delete().eq("id",t);if(e)throw e},async validateCredentials(t,e){const r=await this.getByUsername(t);return!r||r.password!==e?null:r}},zv="id,name,method_kind,receipt_type,generates_receivable,is_active,created_at,updated_at",aE="payment_method_id,deposit_id,is_active,due_days,created_at,updated_at",iE=t=>{const e=String(t??"").toUpperCase();return e==="CASH"||e==="DINHEIRO"?"CASH":e==="PIX"?"PIX":e==="CARD"||e==="CARTAO"||e==="CREDITO"||e==="DEBITO"?"CARD":e==="FIADO"?"FIADO":e==="BOLETO"?"BOLETO":e==="VALE"?"VALE":"OTHER"},sM=(t,e)=>{const r=String(t??"").toUpperCase();if(r==="IMMEDIATE"||r==="DEFERRED")return r;if(r==="CASH"||r==="PIX")return"IMMEDIATE";if(r==="FIADO"||r==="BOLETO"||r==="VALE")return"DEFERRED";const n=iE(e);return n==="CASH"||n==="PIX"?"IMMEDIATE":n==="FIADO"||n==="BOLETO"||n==="VALE"?"DEFERRED":"IMMEDIATE"},Kv=t=>({id:t.id,name:t.name??"",method_kind:iE(t.method_kind),receipt_type:sM(t.receipt_type,t.method_kind),generates_receivable:t.generates_receivable??!1,is_active:t.is_active??!0,created_at:t.created_at??null,updated_at:t.updated_at??null}),oE=t=>({payment_method_id:t.payment_method_id,deposit_id:t.deposit_id,is_active:t.is_active,due_days:t.due_days,created_at:t.created_at??null,updated_at:t.updated_at??null}),uf=async()=>{const{data:t,error:e}=await Le.from("payment_methods").select(zv).order("name");if(e)throw e;return(t||[]).map(Kv)},aM=async t=>{const{data:e,error:r}=await Le.from("payment_methods").insert(t).select(zv).single();if(r)throw r;return Kv(e)},iM=async(t,e)=>{const{data:r,error:n}=await Le.from("payment_methods").update(e).eq("id",t).select(zv).single();if(n)throw n;return Kv(r)},av=async t=>{let e=Le.from("payment_method_deposit_config").select(aE);const{data:r,error:n}=await e;if(n)throw n;return(r||[]).map(oE)},oM=async(t,e,r)=>{const n={deposit_id:t,payment_method_id:e,is_active:r.is_active,due_days:r.due_days},{data:i,error:l}=await Le.from("payment_method_deposit_config").upsert(n,{onConflict:"payment_method_id,deposit_id"}).select(aE).single();if(l)throw l;return oE(i)},lM=async t=>{if(!(await Le.from("payment_methods").delete().eq("id",t)).error)return;const r=await Le.from("payment_methods").update({is_active:!1}).eq("id",t);if(r.error)throw r.error},AM="https://ecvfhrbwytwizxikqsyy.supabase.co",cM="sb_publishable_lJUcZH_D8m9u57L00a4PlQ_UnbwK6UJ";Hv(AM,cM);const lE=["OUTROS / NO DEFINIDO","REA ANEXA AO DMER","BAIRRO ANHANGUERA","BAIRRO CESAR BASTOS","BAIRRO CEU AZUL","BAIRRO DAS ACACIAS","BAIRRO DE LOURDES","BAIRRO ELDORADO","BAIRRO ELDORADO PROL","BAIRRO GAMELEIRA","BAIRRO LIBERDADE","BAIRRO LINDOLFINA","BAIRRO MARIA ROCHA VILLAGE","BAIRRO MARISTELA","BAIRRO MARTINS","BAIRRO MARTINS PROL","BAIRRO MEDEIROS","BAIRRO ODILIA","BAIRRO PARAGUASSU","BAIRRO POPULAR","BAIRRO PRIMAVERA","BAIRRO PROMISSO","BAIRRO SANTA LUZIA","BAIRRO SANTO AGOSTINHO","BAIRRO SO FELIPE","BAIRRO SO JOO","BAIRRO SO JOAQUIM","BAIRRO SO TOMAZ","BAIRRO SO TOMAZ II","BAIRRO VITRIA RGIA","CIDADE EMPRESARIAL NOVA ALIANA","CIDADE EMPRESARIAL NOVA ALIANA 2","COND NOVA ALIANA PREMIUM","COND RES. VILLA CAPRI","COND VALE DOS BURITIS","COND. GREEN LIFE RESIDENSE","COND. RES. PARQUE DO CERRADO","COND. RES. SAINT MARTIN","COND. SOLAR DO BOSQUE","COND. VALE DAS ARARAS","CONJUNTO MAURICIO ARANTES","CONJUNTO MORADA DO SOL","CONJUNTO VALDECI PIRES","CONJUNTO VILAVERDE","DARV II","DESMEMBRAMENTO REGINA","DIMPE","JARDIM ADRIANA","JARDIM AMRICA",'JARDIM AMERICA PROL"A"',"JARDIM BELA VISTA","JARDIM BRASILIA","JARDIM CRUVINEL","JARDIM DAS MARGARIDAS","JARDIM DINIZ","JARDIM ELEONORA","JARDIM ESPERANZA","JARDIM FLORESTA","JARDIM GOIS","JARDIM MARCONAL","JARDIM MONDALE","JARDIM NEVES","JARDIM PRESIDENTE","LOT RESERVA DO PARQUE","LOT. PARQUE DO DIAMANTE","LOTEAMENTO SERRA DOURADA","NOVA VILA MARIA","PARQUE BANDEIRANTE","PARQUE BANDEIRANTE PROL","PARQUE BETEL","PARQUE BOUGAINVILLE","PARQUE DAS LARANJEIRAS","PARQUE DAS LARANJEIRAS PROL","PARQUE DAS PAINEIRAS","PARQUE DOM MIGUEL","PARQUE DOS BURITIS","PARQUE DOS BURITIS II","PARQUE DOS GIRASSIS","PARQUE DOS JATOBAS",'PARQUE SOLAR DO AGRESTE "A"','PARQUE SOLAR DO AGRESTE "B"',"RES. CANA II","RES. ESTORIL","RES. JARDIM EUROPA","RES. PORTAL DO SOL","RES. PORTAL DOS IPS","RES. PORTAL DOS IPS II","RES. PORTAL RIO VERDE I","RES. PORTAL RIO VERDE II","RES. RECANTO DAS EMAS","RES. RECANTO DOS IPS","RES. RES. BOA VISTA","RES. RIO VERDO","RES. SANTA CLARA","RES. VILA ROMANA","RESID GUA SANTA","RESID ARAGUAIA","RESID ARCO IRIS","RESID ATALAIA","RESID BELA VISTA","RESID CANA","RESID DONA GERCINA","RESID DONA ILZA","RESID DOS BURITIS","RESID GAMELEIRA","RESID GREEN PARK","RESID INTERLAGOS","RESID JARDIM CAMPESTRE","RESID JARDIM HELENA","RESID LAUSSANE","RESID MARANATA","RESID MORADAS DE RIO VERDE I","RESID NILSON VELOSO","RESID PARQUE DOS IPS","RESID POR DO SOL","RESID PORTO SEGURO","RESID RECANTO DO BOSQUE","RESID RESIDENCIAL CAMPOS ELISEOS","RESID SOLAR DOS ATAIDES","RESID SOLAR DOS ATADES 2 ETAPA","RESID SOLAR MONTE SIO","RESID TOCANTINS","RESID VENEZA","RESID VILLAGIO TERRA COTA","SETOR ALVORADA","SETOR ALVORADA PROL","SETOR CAMPESTRE","SETOR CENTRAL","SETOR DOS FUNCIONRIOS","SETOR EMPRESARIAL","SETOR INDUSTRIAL","SETOR INDUSTRIAL II","SETOR MORADA DO SOL","SETOR OESTE","SETOR PAUZANES","SETOR STO ANTONIO DE LISBOA","SETOR UNIVERSITRIO","VILA AMALIA","VILA ANDR LUIZ","VILA BAYLO","VILA BAYLO PROL","VILA BORGES","VILA BORGES PROL",'VILA BORGES PROL "A"',"VILA CAROLINA","VILA DINARA","VILA DONA AUTA","VILA GOMES","VILA MARIA","VILA MARIANA","VILA MARIANA PROL","VILA MARIANA PROL II","VILA MENEZES","VILA MIAFIORI","VILA MODELO","VILA MORAES",'VILA MORAES PROL "A"',"VILA MOREIRA ATAIDES","VILA MUTIRO","VILA OLINDA","VILA RENOVAO","VILA ROCHA","VILA ROSALINA","VILA SANTA BARBARA","VILA SANTA CRUZ","VILA SANTA CRUZ II","VILA SANTO ANDR","VILA SANTO ANTONIO","VILA SER-PR"],Vv=t=>{if(t==null)return null;if(typeof t=="number")try{const n=new Date(t);return isNaN(n.getTime())?null:n.toISOString().slice(0,10)}catch{return null}if(t instanceof Date)return isNaN(t.getTime())?null:t.toISOString().slice(0,10);const e=String(t).trim();if(e===""||e.toLowerCase()==="null")return null;if(/^\d{4}-\d{2}-\d{2}$/.test(e))return e;const r=new Date(e);return isNaN(r.getTime())?null:r.toISOString().slice(0,10)},dM=({onClose:t,onSave:e})=>{const[r,n]=F.useState({name:"",phone:"",cpf:"",birthDate:"",reference:"",streetAddress:"",neighborhood:"",deliveryZoneId:"",deliverySectorId:""}),[i,l]=F.useState(!1),[d,u]=F.useState([]),[h,m]=F.useState([]),[g,b]=F.useState(""),[B,w]=F.useState(!1),S=F.useRef(null);F.useEffect(()=>{let q=!0;return(async()=>{try{const[ne,te]=await Promise.all([sv.getZones(),sv.listSectors()]);if(!q)return;u(ne||[]),m(te||[])}catch(ne){console.error("Erro ao carregar zonas/setores:",ne),jr.error("Erro ao carregar zonas de entrega")}})(),()=>{q=!1}},[]),F.useEffect(()=>{var q;B&&((q=S.current)==null||q.focus())},[B]);const U=q=>q.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),k=q=>{const ne=U(q||"");if(!ne)return null;const te=h.map(de=>({sector:de,key:U((de==null?void 0:de.name)||"")})).filter(de=>de.key.length>2&&ne.includes(de.key)).sort((de,K)=>K.key.length-de.key.length)[0];if(te!=null&&te.sector){const de=d.find(K=>K.id===te.sector.zone_id)??null;if(de)return{zoneId:de.id,zoneName:de.name??"",source:"setor"}}const G=d.map(de=>({zone:de,key:U((de==null?void 0:de.name)||"")})).filter(de=>de.key.length>2&&ne.includes(de.key)).sort((de,K)=>K.key.length-de.key.length)[0];return G!=null&&G.zone?{zoneId:G.zone.id,zoneName:G.zone.name??"",source:"zona"}:null},C=F.useMemo(()=>lE.filter(q=>q.toLowerCase().includes(g.toLowerCase())),[g]),O=F.useMemo(()=>k([r.streetAddress,r.neighborhood].filter(Boolean).join(" ")),[r.streetAddress,r.neighborhood,d,h]),D=q=>{const{name:ne,value:te}=q.target;n({...r,[ne]:te}),(ne==="streetAddress"||ne==="neighborhood")&&l(!1)},H=q=>{n({...r,deliveryZoneId:q.target.value}),l(!0)};F.useEffect(()=>{if(i)return;const q=(O==null?void 0:O.zoneId)??"";r.deliveryZoneId!==q&&n(ne=>({...ne,deliveryZoneId:q}))},[O,i,r.deliveryZoneId]);const re=q=>{q.preventDefault();const ne=r.streetAddress.trim(),te=r.neighborhood.trim();if(!r.name||!ne||!te){alert("Nome, Logradouro e Bairro/Setor sao obrigatorios.");return}const G=[ne,te].filter(Boolean).join(" - "),de=r.deliveryZoneId||null,K=r.deliverySectorId||null,W={nome:r.name.trim(),name:r.name.trim(),streetAddress:ne,neighborhood:te,deliverySectorId:K,street_address:ne||null,delivery_sector_id:K,endereco:G,address:G,referencia:r.reference.trim(),referencia_pt:r.reference.trim(),reference:r.reference.trim(),telefone:r.phone.trim(),phone:r.phone.trim(),cpf:r.cpf.trim(),dataNascimento:Vv(r.birthDate),deliveryZoneId:de,delivery_zone_id:de};console.log("Saving from Modal:",W),e&&e(W),t()};return a.jsxs("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",children:[a.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",onClick:t}),a.jsxs("div",{className:"bg-surface w-full max-w-md rounded-2xl shadow-2xl overflow-hidden relative z-10 animate-in zoom-in-95 fade-in duration-200 border border-bdr transition-colors duration-300 flex flex-col max-h-[90vh]",children:[a.jsxs("div",{className:"bg-app border-b border-bdr px-6 py-4 flex justify-between items-center shrink-0",children:[a.jsxs("h3",{className:"text-txt-main font-bold text-lg flex items-center gap-2",children:[a.jsx(Bm,{className:"w-5 h-5 text-primary"}),"Novo Cliente"]}),a.jsx("button",{onClick:t,className:"text-txt-muted hover:text-txt-main hover:bg-bdr p-1.5 rounded-full transition-colors",children:a.jsx(Vn,{className:"w-5 h-5"})})]}),a.jsxs("form",{onSubmit:re,className:"p-6 space-y-5 overflow-y-auto",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-txt-muted uppercase ml-1",children:"Nome Completo *"}),a.jsxs("div",{className:"relative",children:[a.jsx(Bm,{className:"w-4 h-4 text-txt-muted absolute left-3 top-3"}),a.jsx("input",{type:"text",name:"name",value:r.name,onChange:D,placeholder:"Ex: Joo da Silva",className:"w-full pl-10 pr-4 py-2.5 border border-bdr bg-app rounded-xl focus:ring-2 focus:ring-primary focus:border-primary outline-none text-txt-main text-sm font-medium transition-all",autoFocus:!0})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-txt-muted uppercase ml-1",children:"Logradouro / numero *"}),a.jsxs("div",{className:"relative",children:[a.jsx(HA,{className:"w-4 h-4 text-txt-muted absolute left-3 top-3"}),a.jsx("input",{type:"text",name:"streetAddress",value:r.streetAddress,onChange:D,placeholder:"Ex: Rua das Flores, 123",className:"w-full pl-10 pr-4 py-2.5 border border-bdr bg-app rounded-xl focus:ring-2 focus:ring-primary focus:border-primary outline-none text-txt-main text-sm font-medium transition-all"})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-txt-muted uppercase ml-1",children:"Bairro / setor *"}),a.jsxs("div",{className:"relative",children:[a.jsx("button",{type:"button",onClick:()=>w(q=>!q),className:"w-full px-4 py-2.5 border border-bdr bg-app rounded-xl focus:ring-2 focus:ring-primary focus:border-primary outline-none text-left text-sm font-medium transition-all",children:a.jsx("span",{className:r.neighborhood?"text-txt-main":"text-txt-muted",children:r.neighborhood||"Selecione o bairro / setor"})}),B&&a.jsxs("div",{className:"absolute z-20 mt-2 w-full rounded-xl border border-bdr bg-app shadow-lg",children:[a.jsx("div",{className:"p-2 border-b border-bdr",children:a.jsx("input",{ref:S,type:"text",value:g,onChange:q=>b(q.target.value),placeholder:"Buscar bairro...",className:"w-full px-3 py-2 border border-bdr bg-surface rounded-lg outline-none text-sm text-txt-main"})}),a.jsx("div",{className:"max-h-48 overflow-y-auto",children:C.length===0?a.jsx("div",{className:"px-3 py-2 text-xs text-txt-muted",children:"Nenhum bairro encontrado"}):C.map(q=>a.jsx("button",{type:"button",onClick:()=>{n(ne=>({...ne,neighborhood:q})),l(!1),w(!1),b("")},className:"w-full text-left px-3 py-2 text-sm text-txt-main hover:bg-bdr transition-colors",children:q},q))})]})]})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-txt-muted uppercase ml-1",children:"Ponto de Referncia"}),a.jsxs("div",{className:"relative",children:[a.jsx(fv,{className:"w-4 h-4 text-txt-muted absolute left-3 top-3"}),a.jsx("input",{type:"text",name:"reference",value:r.reference,onChange:D,placeholder:"Ex: Prximo ao mercado X",className:"w-full pl-10 pr-4 py-2.5 border border-bdr bg-app rounded-xl focus:ring-2 focus:ring-primary focus:border-primary outline-none text-txt-main text-sm font-medium transition-all"})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-txt-muted uppercase ml-1",children:"Zona de entrega"}),a.jsxs("select",{value:r.deliveryZoneId,onChange:H,className:"w-full px-4 py-2.5 border border-bdr bg-app rounded-xl focus:ring-2 focus:ring-primary focus:border-primary outline-none text-txt-main text-sm font-medium transition-all",children:[a.jsx("option",{value:"",children:"Sem zona definida"}),d.map(q=>a.jsx("option",{value:q.id,children:q.name??q.id},q.id))]}),O&&O.zoneId===r.deliveryZoneId&&a.jsxs("div",{className:"text-[11px] text-emerald-600",children:["Zona detectada automaticamente: ",O.zoneName||"Zona encontrada","."]}),O&&O.zoneId!==r.deliveryZoneId&&a.jsxs("div",{className:"text-[11px] text-amber-600",children:["Zona sugerida pelo endereco: ",O.zoneName||"Zona encontrada","."]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-5",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-txt-muted uppercase ml-1",children:"Telefone / Whats"}),a.jsxs("div",{className:"relative",children:[a.jsx(mv,{className:"w-4 h-4 text-txt-muted absolute left-3 top-3"}),a.jsx("input",{type:"tel",name:"phone",value:r.phone,onChange:D,placeholder:"(00) 00000-0000",className:"w-full pl-10 pr-4 py-2.5 border border-bdr bg-app rounded-xl focus:ring-2 focus:ring-primary focus:border-primary outline-none text-txt-main text-sm font-medium transition-all"})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-txt-muted uppercase ml-1",children:"Nascimento"}),a.jsxs("div",{className:"relative",children:[a.jsx(Vm,{className:"w-4 h-4 text-txt-muted absolute left-3 top-3"}),a.jsx("input",{type:"date",name:"birthDate",value:r.birthDate,onChange:D,className:"w-full pl-10 pr-4 py-2.5 border border-bdr bg-app rounded-xl focus:ring-2 focus:ring-primary focus:border-primary outline-none text-txt-main text-sm font-medium transition-all"})]})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-txt-muted uppercase ml-1",children:"CPF"}),a.jsxs("div",{className:"relative",children:[a.jsx(EB,{className:"w-4 h-4 text-txt-muted absolute left-3 top-3"}),a.jsx("input",{type:"text",name:"cpf",value:r.cpf,onChange:D,placeholder:"000.000.000-00",className:"w-full pl-10 pr-4 py-2.5 border border-bdr bg-app rounded-xl focus:ring-2 focus:ring-primary focus:border-primary outline-none text-txt-main text-sm font-medium transition-all"})]})]}),a.jsxs("div",{className:"pt-2 flex items-center gap-3",children:[a.jsx("button",{type:"button",onClick:t,className:"flex-1 py-3 text-sm font-bold text-txt-muted hover:bg-app rounded-xl transition-colors",children:"Cancelar"}),a.jsxs("button",{type:"submit",className:"flex-[2] py-3 bg-primary hover:bg-primary/90 text-white text-sm font-bold rounded-xl shadow-lg shadow-primary/20 transition-all active:scale-[0.98] flex items-center justify-center gap-2",children:[a.jsx(il,{className:"w-4 h-4"}),"Cadastrar Cliente"]})]})]})]})]})},td="00000000-0000-0000-0000-000000000000",Xa=(t,e)=>{const[r,n]=F.useState(void 0);return F.useEffect(()=>{(async()=>{if(typeof t!="function"){n([]);return}try{const l=t();if(l&&typeof l.then=="function"){const d=await l;n(d??[])}else n(l??[])}catch(l){console.error("useLiveQuery fallback error:",l),n([])}})()},e||[]),r},Xr={deposits:{toArray:async()=>{const{data:t}=await Le.from("deposits").select("*");return(t||[]).map(e=>({id:e.id,nome:e.name,endereco:e.address,ativo:e.active??e.is_active,cor:e.color,require_stock_audit:e.require_stock_audit,free_shipping_min_value:e.free_shipping_min_value,created_at:e.created_at}))},filter:()=>({toArray:async()=>[]}),get:async t=>{const{data:e}=await Le.from("deposits").select("*").eq("id",t).single();return e?{id:e.id,nome:e.name,endereco:e.address,ativo:e.active??e.is_active,cor:e.color,require_stock_audit:e.require_stock_audit,free_shipping_min_value:e.free_shipping_min_value,created_at:e.created_at}:null},put:async t=>{const{error:e}=await Le.from("deposits").upsert(t);if(e)throw e},delete:async t=>{const{error:e}=await Le.from("deposits").delete().eq("id",t);if(e)throw e},bulkAdd:async()=>{}},financial_settings:{toCollection:()=>({first:async()=>{try{const{data:t,error:e}=await Le.from("financial_settings").select("*").limit(1);if(e)throw e;return(t==null?void 0:t[0])??null}catch(t){return console.warn("financial_settings fetch fallback (ignored):",t),null}}})},products:{toArray:async()=>{const{data:t}=await Le.from("products").select("*");return(t||[]).map(r=>{const n=df(r.type??r.tipo??null);return{id:r.id,codigo:r.code||r.codigo||"",nome:r.name||r.nome||"",descricao:r.description,tipo:n,type:n,unidade:r.unit,preco_custo:r.cost_price,movement_type:r.movement_type,return_product_id:r.return_product_id,track_stock:r.track_stock,ativo:r.is_active??r.active,depositoId:r.deposit_id,product_group:r.product_group,image_url:r.image_url,is_delivery_fee:r.is_delivery_fee}})},filter:t=>({toArray:async()=>{const e=await Xr.products.toArray();return typeof t=="function"?e.filter(t):e}}),get:async t=>{const{data:e}=await Le.from("products").select("*").eq("id",t).single();if(!e)return null;const r=df(e.type??e.tipo??null);return{id:e.id,codigo:e.code||e.codigo||"",nome:e.name||e.nome||"",descricao:e.description,tipo:r,type:r,unidade:e.unit,preco_custo:e.cost_price,movement_type:e.movement_type,return_product_id:e.return_product_id,track_stock:e.track_stock,ativo:e.is_active??e.active,depositoId:e.deposit_id,product_group:e.product_group,image_url:e.image_url,is_delivery_fee:e.is_delivery_fee}},put:async t=>{const e=Bu(t.tipo??t.type??null),r={id:t.id,code:t.codigo||t.code,name:t.nome||t.name,description:t.descricao||t.description,type:e,unit:t.unidade||t.unit,cost_price:t.preco_custo??t.cost_price,movement_type:t.movement_type,return_product_id:t.return_product_id,track_stock:t.track_stock,is_active:t.ativo??t.is_active,deposit_id:t.depositoId??t.deposit_id,product_group:t.product_group,image_url:t.image_url},{error:n}=await Le.from("products").upsert(r);if(n)throw n},update:async(t,e)=>{const r={};"codigo"in e&&(r.code=e.codigo),"code"in e&&(r.code=e.code),"nome"in e&&(r.name=e.nome),"name"in e&&(r.name=e.name),"tipo"in e&&(r.type=Bu(e.tipo)),"type"in e&&(r.type=Bu(e.type)),"unidade"in e&&(r.unit=e.unidade),"unit"in e&&(r.unit=e.unit),"preco_custo"in e&&(r.cost_price=e.preco_custo),"cost_price"in e&&(r.cost_price=e.cost_price),"ativo"in e&&(r.is_active=e.ativo),"is_active"in e&&(r.is_active=e.is_active),"depositoId"in e&&(r.deposit_id=e.depositoId),"deposit_id"in e&&(r.deposit_id=e.deposit_id),"movement_type"in e&&(r.movement_type=e.movement_type),"return_product_id"in e&&(r.return_product_id=e.return_product_id),"track_stock"in e&&(r.track_stock=e.track_stock),"product_group"in e&&(r.product_group=e.product_group),"image_url"in e&&(r.image_url=e.image_url);const{error:n}=await Le.from("products").update(r).eq("id",t);if(n)throw n},delete:async t=>{const{error:e}=await Le.from("products").delete().eq("id",t);if(e)throw e}},employees:{toArray:async()=>{const{data:t}=await Le.from("employees").select("*");return t||[]},filter:()=>({toArray:async()=>[]}),put:async t=>{const{error:e}=await Le.from("employees").upsert(t);if(e)throw e},update:async(t,e)=>{const r={};"nome"in e&&(r.name=e.nome),"name"in e&&(r.name=e.name),"cargo"in e&&(r.role=e.cargo),"role"in e&&(r.role=e.role),"depositoId"in e&&(r.deposit_id=e.depositoId),"deposit_id"in e&&(r.deposit_id=e.deposit_id),"ativo"in e&&(r.is_active=e.ativo),"is_active"in e&&(r.is_active=e.is_active),"username"in e&&(r.username=e.username),"password"in e&&(r.password=e.password),"permissoes"in e&&(r.permissions=e.permissoes),"permissions"in e&&(r.permissions=e.permissions);const{error:n}=await Le.from("employees").update(r).eq("id",t);if(n)throw n}},clients:{toArray:async()=>{const{data:t}=await Le.from("clients").select("*");return t||[]},add:async t=>{const{error:e}=await Le.from("clients").insert(t);if(e)throw e}},service_orders:{toArray:async()=>{const{data:t}=await Le.from("service_orders").select("*");return t||[]},get:async t=>{const{data:e}=await Le.from("service_orders").select("*").eq("id",t).single();return e},put:async t=>{const{error:e}=await Le.from("service_orders").upsert(t);if(e)throw e},update:async(t,e)=>{const r={};"numeroOs"in e&&(r.order_number=e.numeroOs),"order_number"in e&&(r.order_number=e.order_number),"depositoId"in e&&(r.deposit_id=e.depositoId),"deposit_id"in e&&(r.deposit_id=e.deposit_id),"clienteId"in e&&(r.client_id=e.clienteId),"client_id"in e&&(r.client_id=e.client_id),"clienteNome"in e&&(r.client_name=e.clienteNome),"client_name"in e&&(r.client_name=e.client_name),"clienteTelefone"in e&&(r.client_phone=e.clienteTelefone),"client_phone"in e&&(r.client_phone=e.client_phone),"enderecoEntrega"in e&&(r.delivery_address=e.enderecoEntrega),"delivery_address"in e&&(r.delivery_address=e.delivery_address),"tipoAtendimento"in e&&(r.service_type=e.tipoAtendimento),"service_type"in e&&(r.service_type=e.service_type),"status"in e&&(r.status=e.status),"statusEntrega"in e&&(r.delivery_status=e.statusEntrega),"delivery_status"in e&&(r.delivery_status=e.delivery_status),"total"in e&&(r.total=e.total),"delivery_fee"in e&&(r.delivery_fee=e.delivery_fee),"historico"in e&&(r.history=e.historico),"history"in e&&(r.history=e.history);const{error:n}=await Le.from("service_orders").update(r).eq("id",t);if(n)throw n},where:t=>({equals:e=>({count:async()=>{const{count:r}=await Le.from("service_orders").select("*",{count:"exact",head:!0}).eq(t,e);return r||0}})})},service_order_items:{bulkPut:async t=>{const{error:e}=await Le.from("service_order_items").upsert(t);if(e)throw e}},payment_methods:{toArray:async()=>{const{data:t}=await Le.from("payment_methods").select("id,name,method_kind,receipt_type,generates_receivable,is_active,created_at,updated_at");return(t||[]).map(mM)},filter:()=>({toArray:async()=>[]})},delivery_zones:{toArray:async()=>{const{data:t}=await Le.from("delivery_zones").select("*");return t||[]},bulkDelete:async()=>{},put:async t=>{const{error:e}=await Le.from("delivery_zones").upsert(t);if(e)throw e}},zone_pricing:{toArray:async()=>{const{data:t}=await Le.from("zone_pricing").select("*");return t||[]},bulkDelete:async()=>{},put:async t=>{const{error:e}=await Le.from("zone_pricing").upsert(t);if(e)throw e}},delivery_sectors:{bulkDelete:async()=>{}},stock_movements:{toArray:async()=>{const{data:t}=await Le.from("stock_movements").select("*");return t||[]},put:async t=>{const{error:e}=await Le.from("stock_movements").insert(t);if(e)throw e},bulkAdd:async t=>{const{error:e}=await Le.from("stock_movements").insert(t);if(e)throw e},where:t=>({equals:e=>({count:async()=>{const{count:r}=await Le.from("stock_movements").select("*",{count:"exact",head:!0}).eq(t,e);return r||0},delete:async()=>{const{error:r}=await Le.from("stock_movements").delete().eq(t,e);if(r)throw r}})})},stock_balance:{toArray:async()=>{const{data:t,error:e}=await Le.from("stock_movements").select("deposit_id, product_id, quantity, type");if(e)throw e;const r=["IN","ENTRY","CARGA_INICIAL","TRADE_IN","AJUSTE_POSITIVO"],n=["OUT","SALE","LOSS","TRANSFER_OUT","AJUSTE_NEGATIVO"],i=new Map;return(t||[]).forEach(l=>{var w;const d=`${l.deposit_id}__${l.product_id}`,u=Number(l.quantity||0),h=l.type,m=h?r.includes(h):u>=0,b=(h?n.includes(h):u<0)?-Math.abs(u):Math.abs(u),B=((w=i.get(d))==null?void 0:w.quantidade_atual)||0;i.set(d,{deposit_id:l.deposit_id,product_id:l.product_id,quantidade_atual:B+(m?Math.abs(u):b)})}),Array.from(i.values()).map((l,d)=>({id:`${d}`,...l}))},filter:t=>({toArray:async()=>{const e=await Xr.stock_balance.toArray();return typeof t=="function"?e.filter(t):e}}),put:async t=>{const{error:e}=await Le.from("stock_balance").upsert(t);if(e)throw e},delete:async t=>{const{error:e}=await Le.from("stock_balance").delete().eq("id",t);if(e)throw e},where:t=>({equals:e=>({delete:async()=>{const{error:r}=await Le.from("stock_balance").delete().eq(t,e);if(r)throw r}})})},product_pricing:{toArray:async()=>{await mm();const{data:t,error:e}=await Le.from("product_pricing").select("*");if(e)throw e;return qv(t),(t||[]).map(r=>({...r,mode:r.mode??"SIMPLES"}))},filter:()=>({toArray:async()=>[]}),delete:async t=>{const{error:e}=await Le.from("product_pricing").delete().eq("id",t);if(e)throw e},where:t=>({delete:async()=>{const{error:e}=await Le.from("product_pricing").delete().eq(t,t);if(e)throw e}})},accounts_receivable:{toArray:async()=>{const{data:t}=await Le.from("accounts_receivable").select("id,order_id,deposit_id,client_id,client_name,original_amount,paid_amount,remaining_amount,status,due_date,notes,created_at,updated_at");return t||[]}},receivable_payments:{toArray:async()=>(console.warn("legacyHelpers.receivable_payments is deprecated. Use financialService methods instead."),[])},cash_flow_entries:{where:t=>({equals:e=>({toArray:async()=>{const{data:r}=await Le.from("cash_flow_entries").select("*").eq(t,e);return r||[]},count:async()=>{const{count:r}=await Le.from("cash_flow_entries").select("*",{count:"exact",head:!0}).eq(t,e);return r||0}})})},outbox_events:{put:async()=>{}},transaction:async(t,e,r)=>{await r()}},ug=async()=>{const{data:t,error:e}=await Le.from("deposits").select("*").eq("active",!0);if(e)throw e;return(t||[]).map(r=>({id:r.id,nome:r.name,endereco:r.address,ativo:r.active,cor:r.color,require_stock_audit:r.require_stock_audit,free_shipping_min_value:r.free_shipping_min_value}))},AE=async t=>{const e={id:t.id,name:t.nome,address:t.endereco,active:t.ativo??!0,color:t.cor,require_stock_audit:t.require_stock_audit??!1,free_shipping_min_value:t.free_shipping_min_value??null},{error:r}=await Le.from("deposits").upsert(e);if(r)throw r},uM=async t=>{const{error:e}=await Le.from("deposits").delete().eq("id",t);if(e)throw e},hM=async t=>{const e=(t==null?void 0:t.includeInactive)===!0;let r=Le.from("products").select("*");e||(r=r.eq("is_active",!0));const{data:n,error:i}=await r;if(i)throw i;return(n||[]).map(l=>{const d=df(l.type??l.tipo??null);return{id:l.id,codigo:l.code||l.codigo||"Sem cdigo",nome:l.name||l.nome||"Sem nome",descricao:l.description,tipo:d,type:d,unidade:l.unit,preco_venda:l.sale_price,preco_custo:l.cost_price,preco_troca:l.exchange_price,preco_completa:l.full_price,movement_type:l.movement_type,return_product_id:l.return_product_id,track_stock:l.track_stock,ativo:l.is_active,depositoId:l.deposit_id,product_group:l.product_group,image_url:l.image_url}})},fM=hM,cE=t=>{const e=String(t??"").toUpperCase();return e==="CASH"||e==="DINHEIRO"?"CASH":e==="PIX"?"PIX":e==="CARD"||e==="CARTAO"||e==="CREDITO"||e==="DEBITO"?"CARD":e==="FIADO"?"FIADO":e==="BOLETO"?"BOLETO":e==="VALE"?"VALE":"OTHER"},pM=(t,e)=>{const r=String(t??"").toUpperCase();if(r==="IMMEDIATE"||r==="DEFERRED")return r;if(r==="CASH"||r==="PIX")return"IMMEDIATE";if(r==="FIADO"||r==="BOLETO"||r==="VALE")return"DEFERRED";const n=cE(e);return n==="CASH"||n==="PIX"?"IMMEDIATE":n==="FIADO"||n==="BOLETO"||n==="VALE"?"DEFERRED":"IMMEDIATE"},mM=t=>({id:t.id,name:t.name??"",method_kind:cE(t.method_kind),receipt_type:pM(t.receipt_type,t.method_kind),generates_receivable:t.generates_receivable??!1,is_active:t.is_active??!0,created_at:t.created_at??null,updated_at:t.updated_at??null}),hg=async(t,e)=>{try{const{data:r,error:n,status:i}=await Le.from("kv").select("*").eq("key",t).maybeSingle();if(n){if(!(n.code==="PGRST116"||i===406||i===404))throw n;return e}return(r==null?void 0:r.value)??e}catch(r){return console.warn(`KV fetch fallback for ${t}:`,r),e}},bf=async(t,e)=>{const{error:r}=await Le.from("kv").upsert({key:t,value:e});if(r)throw r},$h=async()=>{const t=await hg("machines",[]);return Array.isArray(t)?t:[]},gM=async t=>{const e=await $h(),n=e.findIndex(i=>i.id===t.id)>=0?e.map(i=>i.id===t.id?t:i):[...e,t];await bf("machines",n)},xM=async t=>{const r=(await $h()).filter(n=>n.id!==t);await bf("machines",r)},bM=async()=>hg("sales_modalities",[]),k5=async t=>bf("sales_modalities",t||[]),vM=async()=>hg("modality_labels",[]),yM=async t=>bf("modality_labels",t||[]),wM=async()=>hg("stock_rules",[]),Px=async t=>bf("stock_rules",t||[]),_M=async()=>{const{data:t,error:e}=await Le.from("employees").select("*").eq("is_active",!0);if(e)throw e;return(t||[]).map(r=>({id:r.id,nome:r.name,cargo:r.role,depositoId:r.deposit_id,ativo:r.is_active,username:r.username,permissoes:r.permissions||[],telefone:r.phone,cpf:r.cpf}))},BM="id,order_number,deposit_id,client_id,client_name,client_phone,delivery_address,service_type,status,delivery_status,total,delivery_fee,created_at,completed_at",NM="id,product_id,quantity,unit_price,modality,sale_movement_type",Hm=async()=>{const{data:t,error:e}=await Le.from("service_orders").select(`${BM},items:service_order_items(${NM})`);if(e)throw e;return(t||[]).map(r=>({id:r.id,numeroOs:r.order_number,depositoId:r.deposit_id,clienteId:r.client_id,clienteNome:r.client_name,clienteTelefone:r.client_phone,enderecoEntrega:r.delivery_address,tipoAtendimento:r.service_type,status:r.status,statusEntrega:r.delivery_status,total:r.total,delivery_fee:r.delivery_fee,dataHoraCriacao:r.created_at?new Date(r.created_at).getTime():Date.now(),dataHoraConclusao:r.completed_at?new Date(r.completed_at).getTime():void 0,itens:(r.items||[]).map(n=>({id:n.id,produtoId:n.product_id,quantidade:n.quantity,precoUnitario:n.unit_price,modalidade:n.modality??"VENDA",sale_movement_type:n.sale_movement_type??null})),pagamentos:[],historico:[]}))},CM=Hm,EM=async()=>{const{data:t,error:e}=await Le.from("delivery_jobs").select("*");if(e)throw e;return t||[]},SM=async()=>{const{data:t,error:e}=await Le.from("driver_presence").select("*");if(e)throw e;return t||[]},jM=async t=>{const{error:e}=await Le.from("delivery_jobs").update({status:"EM_ROTA",started_at:new Date().toISOString()}).eq("id",t);if(e)throw e},LM=async t=>{const{error:e}=await Le.from("delivery_jobs").update({status:"CONCLUIDA",completed_at:new Date().toISOString()}).eq("id",t);if(e)throw e},UM=async t=>{const{error:e}=await Le.from("delivery_jobs").update({status:"DEVOLVIDA"}).eq("id",t);if(e)throw e},IM=async t=>{const{error:e}=await Le.from("delivery_jobs").update({status:"CANCELADA"}).eq("id",t);if(e)throw e},kM=async t=>{const e={id:t.id,name:t.name,color:t.color,map_polygon:t.map_polygon},{error:r}=await Le.from("delivery_zones").upsert(e);if(r)throw r},TM=async t=>{const{error:e}=await Le.from("delivery_zones").delete().eq("id",t);if(e)throw e},T5=async t=>{const e={id:t.id,zone_id:t.zone_id||t.zoneId,deposit_id:t.deposit_id||t.depositoId,fee:t.fee||t.taxa},{error:r}=await Le.from("zone_pricing").upsert(e);if(r)throw r},FM=async t=>{const e={id:t.id,zone_id:t.zone_id||t.zoneId,name:t.name||t.nome,map_polygon:t.map_polygon},{error:r}=await Le.from("delivery_sectors").upsert(e);if(r)throw r},OM=async t=>{const{error:e}=await Le.from("delivery_sectors").delete().eq("id",t);if(e)throw e},QM=async()=>{const{data:t,error:e}=await Le.from("driver_presence").select("*");if(e)throw e;return t||[]},vh=async t=>{const e=(t.type||t.tipo||"").toString().toUpperCase(),r=Number(t.quantity??t.quantidade??0),i=["OUT","SAIDA","SALE","TRANSFER_OUT","LOSS","AJUSTE_NEGATIVO","CONSUMO"].includes(e),l=i?-Math.abs(r):Math.abs(r),d=i?"OUT":"IN",u={id:t.id||crypto.randomUUID(),product_id:t.productId||t.produtoId,deposit_id:t.depositId||t.depositoId,quantity:l,type:d,origin:t.origin||t.origem||e||t.motivo,reason:t.reason||t.motivo,reference_id:t.reference_id||t.referenciaId,created_at:new Date().toISOString()},{error:h}=await Le.from("stock_movements").insert(u);if(h)throw h},RA=t=>t?String(t):null,F5=async t=>{if(!t)return;const e={entity_type:t.entidade??t.entity_type??"UNKNOWN",entity_id:t.entidade_id??t.entity_id??"",action:String(t.acao??t.action??"UPDATE").toUpperCase(),user_id:t.usuario_id??t.user_id??td,changes:{before:t.antes_json??t.before_json??null,after:t.depois_json??t.after_json??null,deposit_id:t.deposit_id??t.deposito_id??null}};try{const{error:r}=await Le.from("audit_logs").insert(e);r&&console.warn("recordAudit failed:",r)}catch(r){console.warn("recordAudit fallback error:",r)}},RM=async()=>{if(!window.confirm(`ATENO: Isso ir apagar TODOS os dados do sistema!

Esta ao  IRREVERSVEL.

Voc tem certeza absoluta?`))return;if(window.prompt('Digite "APAGAR TUDO" para confirmar:')!=="APAGAR TUDO"){alert("Operao cancelada.");return}const r=["service_orders","service_order_items","service_order_payments","stock_movements","clients","products","delivery_jobs"];for(const n of r){const{error:i}=await Le.from(n).delete().neq("id","00000000-0000-0000-0000-000000000000");i&&console.error(`Erro ao limpar ${n}:`,i)}alert("Sistema resetado. Recarregue a pgina."),window.location.reload()},DM={},Hx={EXCHANGE:{label:"TROCA",emoji:"",color:"green",bgClass:"bg-green-50 border-green-500 hover:bg-green-100",textClass:"text-green-700",badgeClass:"bg-green-100 text-green-700",description:"Cliente devolve vasilhame vazio",detail:"O cliente entrega um casco vazio e leva o produto cheio. Preo de TROCA aplicado.",stockEffect:" Sai: 1 cheio |  Entra: 1 vazio"},FULL:{label:"COMPLETA",emoji:"",color:"blue",bgClass:"bg-blue-50 border-blue-500 hover:bg-blue-100",textClass:"text-blue-700",badgeClass:"bg-blue-100 text-blue-700",description:"Cliente leva o casco (novo)",detail:"Cliente novo ou sem casco para devolver. Preo COMPLETO inclui valor do vasilhame.",stockEffect:" Sai: 1 cheio (casco incluso)"},SIMPLE:{label:"SIMPLES",emoji:"",color:"gray",bgClass:"bg-gray-50 border-gray-400 hover:bg-gray-100",textClass:"text-gray-700",badgeClass:"bg-gray-100 text-gray-700",description:"Venda normal",detail:"Venda padro sem troca de vasilhame. Preo de venda normal.",stockEffect:" Sai: quantidade vendida"}};function MM({selectedDepositId:t,items:e,setItems:r,includeProductIds:n,lockedProductIds:i,onRemoveItem:l,clientSpecialPrices:d}){const[u,h]=F.useState(""),[m,g]=F.useState("1"),[b,B]=F.useState("EXCHANGE"),[w,S]=F.useState(!1),[U,k]=F.useState(null),[C,O]=F.useState(!1),[D,H]=F.useState([]),re=t??null,q=d??DM,ne=ge=>ge.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}),te=ge=>{if(!ge)return 0;const je=ge.trim();if(!je)return 0;const Re=je.includes(",")?je.replace(/\./g,"").replace(",","."):je.replace(",","."),lt=Number(Re);return Number.isFinite(lt)?lt:0},G=async()=>{var ge,je;try{const Qe=await((je=(ge=Xr.product_pricing)==null?void 0:ge.toArray)==null?void 0:je.call(ge));H(Array.isArray(Qe)?Qe:[])}catch(Qe){console.error("Erro ao carregar precos por deposito",Qe),H([])}};F.useEffect(()=>{G()},[]),F.useEffect(()=>{G()},[re]);const de=(n||[]).join("|"),K=ge=>((ge==null?void 0:ge.is_delivery_fee)??(ge==null?void 0:ge.isDeliveryFee))===!0||String((ge==null?void 0:ge.product_group)??(ge==null?void 0:ge.codigo)??"").toLowerCase()==="delivery_fee"?!0:String((ge==null?void 0:ge.nome)??(ge==null?void 0:ge.name)??"").toLowerCase()==="taxa de entrega",W=ge=>K(ge)||((ge==null?void 0:ge.track_stock)??(ge==null?void 0:ge.trackStock))===!1?!0:(ge==null?void 0:ge.type)==="SERVICE",ie=Xa(async()=>!t&&!(n||[]).length?[]:(await Xr.products.toArray()).filter(je=>{if(!((je.ativo??je.is_active??!0)!==!1))return!1;const Re=je.deposit_id??je.depositoId??je.depositId??je.deposito_id??null;return!!(W(je)||(n||[]).includes(je.id)||Re===null||Re===""||t&&Re===t)}),[t,de])||[],z=F.useMemo(()=>{const ge=new Map;return ie.forEach(je=>ge.set(je.id,je)),ge},[ie]),he=ge=>{const je=String((ge==null?void 0:ge.movement_type)??(ge==null?void 0:ge.movementType)??"").toUpperCase();return je==="EXCHANGE"||je==="TROCA"?"EXCHANGE":je==="FULL"||je==="COMPLETA"?"FULL":"SIMPLE"},V=ge=>{if(String((ge==null?void 0:ge.movement_type)??(ge==null?void 0:ge.movementType)??"").toUpperCase()==="EXCHANGE")return!0;const Qe=String((ge==null?void 0:ge.tipo)??(ge==null?void 0:ge.type)??"").toUpperCase();return Qe==="VASILHAME_VAZIO"||Qe==="EMPTY_CONTAINER"},me=ge=>ge==="EXCHANGE"?"TROCA":ge==="FULL"?"COMPLETA":"SIMPLES",ee=(ge,je)=>uo({productId:ge,depositId:re,mode:me(je),rows:D}),Ce=(ge,je,Qe,Re,lt)=>{const Lt=(je??"SIMPLE").toUpperCase(),ft=`${ge}:${Lt}:${Qe||"GLOBAL"}`,St=`${ge}:${Lt}:GLOBAL`;return ft in lt?{unitPrice:lt[ft],priceSource:"CLIENT_SPECIAL"}:St in lt?{unitPrice:lt[St],priceSource:"CLIENT_SPECIAL"}:{unitPrice:Re,priceSource:"AUTO"}},Ne=async()=>{const ge=z.get(u);if(!ge||!t)return;if(V(ge)){k(ge),S(!0);return}const je=he(ge)??"SIMPLE";await M(ge,je)},M=async(ge,je)=>{const Qe=Math.max(1,Number(m)||1),Re=ge.nome??ge.name??"",lt=W(ge)?"SERVICO":ge.tipo??ge.type??"",Lt=ee(ge.id,je),fe=Ce(ge.id,je,re,Lt,q),ft=e.find(St=>St.produtoId===ge.id&&St.sale_movement_type===je);if(ft){const St=ft.priceSource??(ft.isManualPrice?"MANUAL":fe.priceSource),st=St==="MANUAL"?ft.precoUnitario:fe.unitPrice,ue=St==="MANUAL"?"MANUAL":fe.priceSource,Ze=e.map(Ve=>Ve.id===ft.id?{...Ve,precoUnitario:st,quantidade:Ve.quantidade+Qe,priceSource:ue,isManualPrice:ue==="MANUAL"}:Ve);r(Ze),jr.success(`Quantidade de ${Re} atualizada para ${ft.quantidade+Qe}`)}else{const St=Hx[je],st={id:crypto.randomUUID(),produtoId:ge.id,nome:Re,tipo:lt,precoUnitario:fe.unitPrice,quantidade:Qe,sale_movement_type:je,priceSource:fe.priceSource,isManualPrice:!1};r([...e,st]),jr.success(`${St.emoji} ${Re} adicionado (${St.label})`)}g("1"),h(""),S(!1),k(null)};F.useEffect(()=>{const ge=Object.keys(q).length>0;if(e.length===0||!ge&&D.length===0)return;let je=!1;const Qe=e.map(Re=>{const lt=Re.priceSource??(Re.isManualPrice?"MANUAL":"AUTO");if(lt==="MANUAL")return Re;const Lt=z.get(Re.produtoId),fe=Re.sale_movement_type??he(Lt),ft=ee(Re.produtoId,fe),St=Ce(Re.produtoId,fe,re,ft,q);return St.unitPrice!==Re.precoUnitario||St.priceSource!==lt?(je=!0,{...Re,precoUnitario:St.unitPrice,priceSource:St.priceSource,isManualPrice:St.priceSource==="MANUAL"}):Re});je&&r(Qe)},[re,q,e,D,z,he,ee,r]);const T=(ge,je)=>{const Qe=te(je),Re=e.map(lt=>lt.id===ge?{...lt,precoUnitario:Qe,priceSource:"MANUAL",isManualPrice:!0}:lt);r(Re)},$=ge=>{const je=e.find(ft=>ft.id===ge);if(!je)return;const Qe=z.get(je.produtoId),Re=je.sale_movement_type??he(Qe),lt=ee(je.produtoId,Re),Lt=Ce(je.produtoId,Re,re,lt,q),fe=e.map(ft=>ft.id===ge?{...ft,precoUnitario:Lt.unitPrice,priceSource:Lt.priceSource,isManualPrice:!1}:ft);r(fe)},X=async ge=>{U&&await M(U,ge)},Ae=()=>{k(null),S(!1)},xe=(ge,je)=>{const Qe=Math.max(1,Number(je)||1),Re=e.map(lt=>lt.id===ge?{...lt,quantidade:Qe}:lt);r(Re)},Be=ge=>{const je=e.find(Qe=>Qe.id===ge);je&&l&&l(je),r(e.filter(Qe=>Qe.id!==ge))},ke=ge=>{ge.key==="Enter"&&(ge.preventDefault(),Ne())};return t?a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xs font-semibold text-gray-600",children:"Adicionar Produtos"}),a.jsx("button",{type:"button",onClick:()=>O(!0),className:"text-blue-500 hover:text-blue-700",title:"Entenda as modalidades de venda",children:a.jsx(Sw,{className:"w-4 h-4"})})]})}),a.jsxs("div",{className:"flex flex-wrap items-end gap-2",children:[a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("label",{className:"text-xs text-gray-500",children:"Produto"}),a.jsxs("select",{value:u,onChange:ge=>h(ge.target.value),className:"h-8 px-2 border border-gray-300 rounded text-sm bg-white",children:[a.jsx("option",{value:"",children:"Selecionar produto"}),ie.filter(ge=>!(i!=null&&i.includes(ge.id))).map(ge=>{const je=V(ge);return a.jsxs("option",{value:ge.id,children:[ge.nome??ge.name," ",je?"":""]},ge.id)})]})]}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("label",{className:"text-xs text-gray-500",children:"Qtd"}),a.jsx("input",{type:"number",min:"1",value:m,onChange:ge=>g(ge.target.value),onKeyDown:ke,className:"h-8 w-24 px-2 border border-gray-300 rounded text-sm"})]}),a.jsx("button",{type:"button",onClick:Ne,className:"h-8 px-3 rounded bg-blue-600 text-white text-sm",children:"Adicionar"})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm text-gray-700 border border-gray-200",children:[a.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-2 py-2 text-left",children:"Produto"}),a.jsx("th",{className:"px-2 py-2 text-left",children:"Modalidade"}),a.jsx("th",{className:"px-2 py-2 text-left",children:"Preo Unit."}),a.jsx("th",{className:"px-2 py-2 text-left",children:"Qtd"}),a.jsx("th",{className:"px-2 py-2 text-left",children:"Total"}),a.jsx("th",{className:"px-2 py-2 text-left",children:"Aes"})]})}),a.jsx("tbody",{children:e.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"px-3 py-6 text-center text-gray-400",children:"Nenhum item adicionado. Selecione um produto acima."})}):e.map(ge=>{const je=i==null?void 0:i.includes(ge.produtoId),Qe=z.get(ge.produtoId),Re=ge.sale_movement_type??he(Qe),Lt=Hx[Re||"SIMPLE"]||Hx.SIMPLE,fe=ee(ge.produtoId,Re),ft=Ce(ge.produtoId,Re,re,fe,q),St=ge.priceSource??(ge.isManualPrice?"MANUAL":ft.priceSource),st=St==="MANUAL"?ge.precoUnitario:ge.precoUnitario??ft.unitPrice;return a.jsxs("tr",{className:"border-t border-gray-200",children:[a.jsx("td",{className:"px-2 py-2",children:a.jsxs("div",{className:"flex flex-col gap-0.5",children:[a.jsx("span",{className:"font-medium",children:ge.nome}),a.jsx("span",{className:"text-xs text-gray-500",children:ge.tipo})]})}),a.jsx("td",{className:"px-2 py-2",children:a.jsxs("span",{className:`inline-flex items-center gap-1 text-xs px-2 py-1 rounded font-medium ${Lt.badgeClass}`,title:Lt.detail,children:[Lt.emoji," ",Lt.label]})}),a.jsx("td",{className:"px-2 py-2 font-medium",children:a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("input",{type:"text",inputMode:"decimal",value:ne(st),onChange:ue=>T(ge.id,ue.target.value),disabled:je,className:`w-28 h-7 px-2 border border-gray-300 rounded text-sm ${je?"bg-gray-100 text-gray-400 cursor-not-allowed":""}`}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-[10px] font-semibold",children:[St==="CLIENT_SPECIAL"&&a.jsx("span",{className:"px-2 py-0.5 rounded bg-amber-100 text-amber-700",children:"Preo especial"}),St==="MANUAL"&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"px-2 py-0.5 rounded bg-gray-100 text-gray-700",children:"Manual"}),!je&&a.jsx("button",{type:"button",onClick:()=>$(ge.id),className:"text-blue-600 hover:text-blue-700",children:"Reverter para automtico"})]})]})]})}),a.jsx("td",{className:"px-2 py-2",children:a.jsx("input",{type:"number",min:"1",value:ge.quantidade,onChange:ue=>xe(ge.id,ue.target.value),disabled:je,className:`w-20 h-7 px-2 border border-gray-300 rounded ${je?"bg-gray-100 text-gray-400 cursor-not-allowed":""}`})}),a.jsxs("td",{className:"px-2 py-2 font-bold text-green-700",children:["R$ ",(st*ge.quantidade).toFixed(2)]}),a.jsx("td",{className:"px-2 py-2",children:a.jsx("button",{type:"button",onClick:()=>Be(ge.id),className:"text-red-600 hover:text-red-700 p-1","aria-label":"Remover item",title:"Remover este item",children:a.jsx(oa,{className:"w-4 h-4"})})})]},ge.id)})})]})}),w&&U&&(()=>{const ge=ee(U.id,"EXCHANGE"),je=ee(U.id,"FULL"),Qe=Ce(U.id,"EXCHANGE",re,ge,q),Re=Ce(U.id,"FULL",re,je,q);return a.jsx("div",{className:"fixed inset-0 z-[80] bg-black/60 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-lg overflow-hidden",children:[a.jsxs("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 text-white px-5 py-4 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(fo,{className:"w-6 h-6"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-lg",children:"Escolha a Modalidade de Venda"}),a.jsx("p",{className:"text-orange-100 text-sm",children:"Como ser vendido este produto?"})]})]}),a.jsx("button",{onClick:Ae,className:"p-1 hover:bg-white/20 rounded",children:a.jsx(Vn,{className:"w-5 h-5"})})]}),a.jsx("div",{className:"px-5 py-4 bg-gray-50 border-b",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center",children:a.jsx(fo,{className:"w-6 h-6 text-orange-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-gray-800",children:U.nome??U.name}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Quantidade: ",m," unidade(s)"]})]})]})}),a.jsxs("div",{className:"p-5 space-y-3",children:[a.jsx("button",{onClick:()=>X("EXCHANGE"),className:"w-full p-4 rounded-xl border-2 border-green-400 bg-green-50 hover:bg-green-100 hover:border-green-500 transition-all text-left group",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-green-200 rounded-full flex items-center justify-center group-hover:scale-110 transition-transform",children:a.jsx(Yh,{className:"w-6 h-6 text-green-700"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-bold text-green-800 text-lg flex items-center gap-2",children:" TROCA"}),a.jsxs("p",{className:"text-green-700 text-sm mt-1",children:["Cliente ",a.jsx("strong",{children:"devolve"})," vasilhame vazio"]}),a.jsx("div",{className:"mt-2 text-xs text-green-600 bg-green-100 px-2 py-1 rounded inline-block",children:" Sai: cheio |  Entra: vazio"})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-2xl font-black text-green-700",children:["R$ ",Qe.unitPrice.toFixed(2)]}),a.jsx("div",{className:"text-xs text-green-600",children:"por unidade"})]})]})}),a.jsx("button",{onClick:()=>X("FULL"),className:"w-full p-4 rounded-xl border-2 border-blue-400 bg-blue-50 hover:bg-blue-100 hover:border-blue-500 transition-all text-left group",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-blue-200 rounded-full flex items-center justify-center group-hover:scale-110 transition-transform",children:a.jsx(fo,{className:"w-6 h-6 text-blue-700"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-bold text-blue-800 text-lg flex items-center gap-2",children:" COMPLETA"}),a.jsxs("p",{className:"text-blue-700 text-sm mt-1",children:["Cliente ",a.jsx("strong",{children:"leva o casco"})," (novo/sem troca)"]}),a.jsx("div",{className:"mt-2 text-xs text-blue-600 bg-blue-100 px-2 py-1 rounded inline-block",children:" Sai: cheio + casco"})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-2xl font-black text-blue-700",children:["R$ ",Re.unitPrice.toFixed(2)]}),a.jsx("div",{className:"text-xs text-blue-600",children:"por unidade"})]})]})}),a.jsx("div",{className:"mt-4 p-3 bg-amber-50 border border-amber-200 rounded-lg",children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(jw,{className:"w-4 h-4 text-amber-600 mt-0.5 flex-shrink-0"}),a.jsxs("div",{className:"text-xs text-amber-700",children:[a.jsx("strong",{children:"Dica:"})," Escolha TROCA quando o cliente j possui vasilhame e ir devolver. Escolha COMPLETA para clientes novos ou que precisam de um casco adicional."]})]})})]}),a.jsx("div",{className:"bg-gray-50 px-5 py-3 flex justify-end border-t",children:a.jsx("button",{onClick:Ae,className:"px-4 py-2 rounded-lg border border-gray-300 text-gray-600 hover:bg-gray-100 font-medium",children:"Cancelar"})})]})})})(),C&&a.jsx("div",{className:"fixed inset-0 z-[80] bg-black/60 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl overflow-hidden max-h-[90vh] flex flex-col",children:[a.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white px-5 py-4 flex items-center justify-between flex-shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Sw,{className:"w-6 h-6"}),a.jsx("h3",{className:"font-bold text-lg",children:"Guia de Modalidades de Venda"})]}),a.jsx("button",{onClick:()=>O(!1),className:"p-1 hover:bg-white/20 rounded",children:a.jsx(Vn,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"p-5 space-y-4 overflow-y-auto",children:[a.jsxs("p",{className:"text-gray-600",children:["As modalidades de venda determinam ",a.jsx("strong",{children:"como o estoque ser movimentado"})," e",a.jsx("strong",{children:" qual preo ser aplicado"})," ao produto."]}),a.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("div",{className:"w-10 h-10 bg-green-200 rounded-full flex items-center justify-center",children:a.jsx(Yh,{className:"w-5 h-5 text-green-700"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-green-800",children:" TROCA (EXCHANGE)"}),a.jsx("p",{className:"text-sm text-green-600",children:"Cliente devolve vasilhame vazio"})]})]}),a.jsxs("ul",{className:"text-sm text-green-700 space-y-1 ml-13 list-disc list-inside",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Preo:"})," Preo de TROCA (geralmente mais barato)"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Estoque:"})," SADA do cheio + ENTRADA do vazio"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Quando usar:"})," Cliente que j tem vasilhame e vai trocar"]})]})]}),a.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-200 rounded-full flex items-center justify-center",children:a.jsx(fo,{className:"w-5 h-5 text-blue-700"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-blue-800",children:" COMPLETA (FULL)"}),a.jsx("p",{className:"text-sm text-blue-600",children:"Cliente leva o casco (cliente novo)"})]})]}),a.jsxs("ul",{className:"text-sm text-blue-700 space-y-1 ml-13 list-disc list-inside",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Preo:"})," Preo COMPLETO (inclui valor do casco)"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Estoque:"})," Apenas SADA do cheio"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Quando usar:"})," Cliente novo ou que precisa de casco adicional"]})]})]}),a.jsxs("div",{className:"p-4 bg-gray-50 border border-gray-200 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:a.jsx(TB,{className:"w-5 h-5 text-gray-700"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-gray-800",children:" SIMPLES (SIMPLE)"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Venda normal sem troca"})]})]}),a.jsxs("ul",{className:"text-sm text-gray-700 space-y-1 ml-13 list-disc list-inside",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Preo:"})," Preo de venda padro"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Estoque:"})," Apenas SADA da quantidade"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Quando usar:"})," Produtos que no envolvem troca (gua, acessrios)"]})]})]}),a.jsx("div",{className:"p-3 bg-amber-50 border border-amber-200 rounded-lg",children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(jw,{className:"w-4 h-4 text-amber-600 mt-0.5 flex-shrink-0"}),a.jsxs("div",{className:"text-sm text-amber-700",children:[a.jsx("strong",{children:"Identificao na lista:"})," Produtos com o cone  no dropdown permitem escolher entre TROCA e COMPLETA ao adicionar."]})]})})]}),a.jsx("div",{className:"bg-gray-50 px-5 py-3 flex justify-end border-t flex-shrink-0",children:a.jsx("button",{onClick:()=>O(!1),className:"px-4 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700 font-medium",children:"Entendi"})})]})})]}):a.jsx("div",{className:"text-sm text-gray-600",children:"Selecione um deposito primeiro"})}const yh={delivery_zones:{toArray:async()=>[]},zone_pricing:{toArray:async()=>[]},service_orders:{get:async()=>null,update:async()=>{}}},qx=(t,e)=>{const[r,n]=F.useState(void 0);return F.useEffect(()=>{t().then(i=>n(i||[])).catch(()=>n([]))},e||[]),r},$p=async()=>await Hm(),PM=t=>{const e=String(t??"").toUpperCase();return e==="CASH"||e==="DINHEIRO"?"CASH":e==="PIX"?"PIX":e==="CARD"||e==="CARTAO"||e==="CREDITO"||e==="DEBITO"?"CARD":e==="FIADO"?"FIADO":e==="BOLETO"?"BOLETO":e==="VALE"?"VALE":"OTHER"},fg=(t,e,r)=>{const n=[t==null?void 0:t.trim(),e==null?void 0:e.trim()].filter(Boolean);return n.length>0?n.join(" - "):(r??"").trim()},iu=t=>{if(!t)return"";const e=t.streetAddress??"",r=t.neighborhood??"";return e.trim()||r.trim()?fg(e,r,""):(t.endereco??"").trim()},O5=async()=>(await Uc.getAll()||[]).map(e=>{const r=fg(e.street_address,e.neighborhood,e.address);return{id:e.id,nome:e.name,endereco:r,streetAddress:e.street_address??e.address??"",neighborhood:e.neighborhood??"",deliverySectorId:e.delivery_sector_id??null,telefone:e.phone??void 0,cpf:e.cpf??void 0,referencia:e.reference??void 0,dataNascimento:e.birth_date??void 0,deliveryZoneId:e.delivery_zone_id??null,ativo:e.is_active??e.active??!0}}),HM=async t=>{var l,d;const e=new Date().toISOString(),r=Vv(t.dataNascimento),n=fg(t.streetAddress,t.neighborhood,t.endereco),i={name:t.nome||"",address:n||null,street_address:((l=t.streetAddress)==null?void 0:l.trim())||null,neighborhood:((d=t.neighborhood)==null?void 0:d.trim())||null,delivery_sector_id:t.deliverySectorId??null,phone:t.telefone||null,cpf:t.cpf||null,reference:t.referencia||null,birth_date:r,delivery_zone_id:t.deliveryZoneId??null,is_active:t.ativo??!0,updated_at:e};if(t.id){await Uc.update(t.id,i);return}await Uc.create({...i,created_at:e})},qM=async t=>{t&&typeof t=="object"&&(delete t.current_stock,delete t.min_stock,delete t.markup,delete t.tracks_empties,delete t.is_delivery_fee);const{data:e,error:r}=await Le.from("products").insert(t).select().single();if(r)throw r;return pg(e)},zM=async(t,e)=>{e&&typeof e=="object"&&(delete e.current_stock,delete e.min_stock,delete e.markup,delete e.tracks_empties,delete e.is_delivery_fee);const{data:r,error:n}=await Le.from("products").update(e).eq("id",t).select().single();if(n)throw n;return pg(r)},KM=async(t,e,r)=>{await Nu.upsertWithDetails({order:t,items:e,payments:r})},VM=async(t,e,r)=>{if(e==="CONCLUIDA"){await Nu.complete(t);return}if(e==="CANCELADA"){await Nu.cancel(t,r??"Cancelamento manual");return}await Nu.updateStatus(t,e)},zx=t=>{if(!t)return{depositoId:null};if(typeof t=="string")return{depositoId:t};if(typeof t=="object"){if("depositoId"in t)return{depositoId:t.depositoId??null};if("deposit_id"in t)return{depositoId:t.deposit_id??null};if("depositId"in t)return{depositoId:t.depositId??null}}return{depositoId:String(t)}},pg=t=>({id:t.id,codigo:t.code,nome:t.name,descricao:t.description,tipo:t.type,unidade:t.unit,preco_venda:t.sale_price,preco_custo:t.cost_price,preco_troca:t.exchange_price,preco_completa:t.full_price,movement_type:t.movement_type,return_product_id:t.return_product_id,track_stock:t.track_stock,ativo:t.is_active,depositoId:t.deposit_id,product_group:t.product_group,image_url:t.image_url}),GM=t=>({id:t.id,numeroOs:t.order_number,depositoId:t.deposit_id,clienteId:t.client_id??"",clienteNome:t.client_name??"",clienteTelefone:t.client_phone??void 0,enderecoEntrega:t.delivery_address??"",tipoAtendimento:t.service_type??"DELIVERY",status:t.status??"PENDENTE",statusEntrega:t.delivery_status??void 0,entregadorId:t.driver_id??null,observacoes:"",itens:(t.items||[]).map(e=>({id:e.id,produtoId:e.product_id,quantidade:e.quantity,precoUnitario:e.unit_price,modalidade:e.modality??"VENDA",sale_movement_type:e.sale_movement_type??null})),pagamentos:(t.payments||[]).map(e=>({payment_method_id:e.payment_method_id,payment_method_name:e.payment_method_name??null,machine_id:e.machine_id??null,machine_name:e.machine_name??null,amount:e.amount})),total:t.total??0,delivery_fee:t.delivery_fee??0,dataHoraCriacao:t.created_at?new Date(t.created_at).getTime():Date.now(),dataHoraConclusao:t.completed_at?new Date(t.completed_at).getTime():void 0,historico:[]}),Q5=async()=>{const{data:t,error:e}=await Le.from("products").select("*").or(`product_group.eq.${tl},code.eq.${tl},name.ilike.%${Cl}%`).order("updated_at",{ascending:!1}).limit(1);if(e)throw e;const r=t==null?void 0:t[0];return r?pg(r):null},$M=async t=>{console.log("TODO: Criar delivery job para OS",t.id)},ZM=()=>{if(typeof localStorage>"u")return null;const t=localStorage.getItem("gp_session");if(!t)return null;try{const e=JSON.parse(t);return(e==null?void 0:e.nome)||(e==null?void 0:e.username)||(e==null?void 0:e.id)||null}catch{return null}},tl="delivery_fee",Cl="Taxa de entrega",dE=t=>String((t==null?void 0:t.product_group)??(t==null?void 0:t.codigo)??"").toLowerCase()===tl?!0:String((t==null?void 0:t.nome)??"").toLowerCase()===Cl.toLowerCase(),R5=t=>!!(dE(t)||((t==null?void 0:t.track_stock)??(t==null?void 0:t.trackStock))===!1),D5={lat:-17.7915,lng:-50.9197},Cu=t=>t.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),Kx=t=>{if(!t)return null;if(Array.isArray(t)&&t.length>=2){const e=Number(t[0]),r=Number(t[1]);return Number.isFinite(e)&&Number.isFinite(r)?[e,r]:null}if(typeof t=="object"){const e=Number(t.lat??t.latitude),r=Number(t.lng??t.lon??t.longitude);if(Number.isFinite(e)&&Number.isFinite(r))return[e,r]}return null},XM=t=>{if(!t)return null;let e=t;if(typeof e=="string")try{e=JSON.parse(e)}catch{return null}if(!Array.isArray(e)||e.length===0)return null;if(Kx(e[0])){const i=e.map(Kx).filter(Boolean);return i.length?[i]:null}const n=[];for(const i of e){if(!Array.isArray(i))continue;const l=i.map(Kx).filter(Boolean);l.length&&n.push(l)}return n.length?n:null},Vx=(t,e,r)=>{const n=Cu(t||"");if(!n)return null;const i=r.map(d=>({sector:d,key:Cu((d==null?void 0:d.nome)||"")})).filter(d=>d.key.length>2&&n.includes(d.key)).sort((d,u)=>u.key.length-d.key.length)[0];if(i!=null&&i.sector){const d=e.find(u=>u.id===i.sector.zone_id)??null;if(d)return{zone:d,sector:i.sector,source:"setor"}}const l=e.map(d=>({zone:d,key:Cu((d==null?void 0:d.nome)||"")})).filter(d=>d.key.length>2&&n.includes(d.key)).sort((d,u)=>u.key.length-d.key.length)[0];return l!=null&&l.zone?{zone:l.zone,sector:null,source:"zona"}:null},JM=({polygons:t,activePolygon:e})=>{const r=Iu();return F.useEffect(()=>{const n=Ds.latLngBounds([]);let i=!1;[...t,...e?[e]:[]].forEach(d=>{if(!d||!d.length)return;const u=Ds.polygon(d);n.extend(u.getBounds()),i=!0}),i&&r.fitBounds(n,{padding:[12,12]})},[t,e,r]),null},YM=()=>{const t=Iu();return F.useEffect(()=>{const e=()=>{var h;const u=(h=t.getContainer)==null?void 0:h.call(t);!u||!u.isConnected||t._loaded&&t.invalidateSize()};t.whenReady(()=>e()),requestAnimationFrame(e);const r=setTimeout(e,120),n=setTimeout(e,360),i=()=>e();window.addEventListener("resize",i);let l=null;const d=t.getContainer();return typeof ResizeObserver<"u"&&d&&(l=new ResizeObserver(()=>e()),l.observe(d)),()=>{clearTimeout(r),clearTimeout(n),window.removeEventListener("resize",i),l&&l.disconnect()}},[t]),null},WM=({logs:t})=>!t||t.length===0?a.jsx("div",{className:"text-xs text-txt-muted italic",children:"Sem histrico"}):a.jsxs("div",{className:"space-y-4 relative pl-2",children:[a.jsx("div",{className:"absolute left-[11px] top-2 bottom-2 w-px bg-bdr"}),t.map((e,r)=>a.jsxs("div",{className:"relative flex gap-3 items-start group",children:[a.jsx("div",{className:"w-6 h-6 rounded-full bg-surface border-2 border-bdr flex items-center justify-center shrink-0 z-10 group-hover:border-primary transition-colors",children:a.jsx("div",{className:"w-2 h-2 rounded-full bg-txt-muted group-hover:bg-primary transition-colors"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-bold text-txt-main",children:e.acao}),a.jsx("p",{className:"text-[10px] text-txt-muted",children:e.detalhe}),a.jsxs("div",{className:"flex gap-2 mt-1",children:[a.jsx("span",{className:"text-[9px] bg-app px-1.5 py-0.5 rounded border border-bdr text-txt-muted uppercase font-bold",children:e.usuario}),a.jsx("span",{className:"text-[9px] text-txt-muted",children:new Date(e.data).toLocaleString()})]})]})]},r))]}),eP=({createdAt:t,status:e})=>{const[r,n]=F.useState(""),[i,l]=F.useState("text-green-600");return F.useEffect(()=>{if(e==="CONCLUIDA"||e==="CANCELADA"){n("--:--");return}const d=()=>{const m=Date.now()-t,g=Math.floor(m/36e5),b=Math.floor(m%36e5/6e4),B=Math.floor(m%6e4/1e3),w=`${g.toString().padStart(2,"0")}:${b.toString().padStart(2,"0")}:${B.toString().padStart(2,"0")}`;n(w),b>=30?l("text-red-600 animate-pulse"):b>=15?l("text-amber-500"):l("text-green-600")};d();const u=setInterval(d,1e3);return()=>clearInterval(u)},[t,e]),a.jsxs("div",{className:`font-mono font-bold text-sm flex items-center gap-1 ${i} bg-surface px-2 py-1 rounded border border-bdr`,children:[a.jsx(Su,{className:"w-3 h-3"}),r]})},tP=({onCancel:t,onSuccess:e,initialData:r,currentUser:n})=>{var pi,Ja;const[i,l]=F.useState([]),[d,u]=F.useState([]),[h,m]=F.useState([]),[g,b]=F.useState([]),[B,w]=F.useState([]),[S,U]=F.useState([]);F.useEffect(()=>{let ve=!0;return(async()=>{const[He,Qt,Tt,dr]=await Promise.all([Ii.getAll().catch(()=>[]),uf().catch(()=>[]),O5(),av().catch(()=>[])]);let hr=Array.isArray(He)?He:[],Rt=hr.find(Lr=>(Lr.product_group??"")===tl)||hr.find(Lr=>(Lr.codigo??"")===tl)||hr.find(Lr=>(Lr.nome??"").toLowerCase()===Cl.toLowerCase())||null;if(!Rt)try{Rt=await Q5(),Rt&&(hr=[...hr,Rt])}catch(Lr){console.error("Erro ao buscar produto de taxa de entrega:",Lr)}if(Rt&&dE(Rt)){const Lr=zx(Rt);if(!R5(Rt)||Lr.depositoId!==null||Rt.product_group!==tl||Rt.codigo!==tl||Rt.preco_venda!==0||Rt.preco_custo!==0)try{const kn=await zM(Rt.id,{name:Cl,type:"OUTROS",unit:"serv",product_group:tl,code:tl,deposit_id:null,cost_price:0,sale_price:0,is_active:!0,track_stock:!1});Rt=kn,hr=hr.map(wa=>wa.id===kn.id?kn:wa)}catch(kn){console.error("Erro ao atualizar servico de taxa de entrega:",kn)}}if(!Rt)try{Rt=await qM({name:Cl,type:"OUTROS",unit:"serv",product_group:tl,code:tl,deposit_id:null,sale_price:0,cost_price:0,is_active:!0,track_stock:!1}),hr=[...hr,Rt]}catch(Lr){console.error("Erro ao criar produto de taxa de entrega:",Lr);try{const Mr=await Q5();Mr&&(Rt=Mr,hr=hr.some(wa=>wa.id===Mr.id)?hr:[...hr,Mr])}catch(Mr){console.error("Erro ao recuperar produto de taxa apos falha de criacao:",Mr)}}ve&&(l(hr),u(Qt),m(dr),b(Tt),Re((Rt==null?void 0:Rt.id)??null))})(),()=>{ve=!1}},[]),F.useEffect(()=>{let ve=!0;return(async()=>{try{const[He,Qt]=await Promise.all([Lc.getAll(),zi.getAll()]);if(!ve)return;const Tt=(He||[]).map(Rt=>({id:Rt.id,nome:Rt.name,ativo:Rt.active??Rt.is_active??!1,endereco:Rt.address,cor:Rt.color})).filter(Rt=>n!=null&&n.depositoId?Rt.id===n.depositoId:Rt.ativo!==!1),hr=(Qt||[]).map(Rt=>({id:Rt.id,nome:Rt.name,cargo:Rt.role,depositoId:Rt.deposit_id??null,ativo:Rt.active??!1,username:Rt.username??void 0,permissoes:Rt.permissions||[]})).filter(Rt=>{const Lr=String(Rt.cargo??"").toUpperCase();return Lr.includes("ENTREG")||Lr.includes("MOTOR")?n!=null&&n.depositoId?Rt.depositoId===n.depositoId||Rt.depositoId===null:!0:!1});w(Tt),U(hr)}catch(He){console.error("Erro ao carregar depsitos/entregadores",He),jr.error("Erro ao carregar depsitos"),ve&&(w([]),U([]))}})(),()=>{ve=!1}},[n==null?void 0:n.depositoId]);const k=qx(()=>{var ve;return(ve=yh.delivery_zones)==null?void 0:ve.toArray()},[])||[],C=qx(()=>{var ve;return(ve=yh.delivery_zones)==null?void 0:ve.toArray()},[])||[],O=qx(()=>{var ve;return(ve=yh.zone_pricing)==null?void 0:ve.toArray()},[])||[],D=F.useMemo(()=>{const ve=new Map;return k.forEach(He=>{He!=null&&He.id&&ve.set(He.id,He)}),ve},[k]),[H,re]=F.useState("DELIVERY"),[q,ne]=F.useState(""),[te,G]=F.useState(()=>new Date().toISOString().slice(0,16)),[de,K]=F.useState("Pendente"),[W,ie]=F.useState(""),[z,he]=F.useState(""),V=z||(r==null?void 0:r.depositoId)||"",me=F.useMemo(()=>{const ve=new Map;return V&&h.forEach(He=>{He.deposit_id===V&&ve.set(He.payment_method_id,He)}),ve},[h,V]),ee=F.useMemo(()=>V?d.filter(ve=>{if(ve.is_active===!1)return!1;const He=me.get(ve.id);return He?He.is_active!==!1:!0}):d.filter(ve=>ve.is_active!==!1),[d,me,V]),[Ce,Ne]=F.useState(""),[M,T]=F.useState(null),[$,X]=F.useState(""),[Ae,xe]=F.useState(!1),[Be,ke]=F.useState(0),[ge,je]=F.useState(null),[Qe,Re]=F.useState(null),[lt,Lt]=F.useState(!1),[fe,ft]=F.useState(!1),[St,st]=F.useState(""),[ue,Ze]=F.useState(null),[Ve,gt]=F.useState(!1),[bt,nr]=F.useState({}),[Jt,Wt]=F.useState([]),[yr,sr]=F.useState(""),[Dt,er]=F.useState(!1),[Zt,Hr]=F.useState(null),[cr,Yt]=F.useState([]),[Xt,ar]=F.useState(""),[Vt,Nr]=F.useState(""),[Pt,tr]=F.useState(""),[Ue,Ke]=F.useState(null),[ot,ut]=F.useState(""),[rr,or]=F.useState("");F.useEffect(()=>{(!z||z==="")&&B.length===1&&he(B[0].id),H==="DELIVERY"&&(!W||W==="")&&S.length===1&&ie(S[0].id)},[B,S,z,W,H]);const qr=F.useMemo(()=>{const ve=new Map;return z&&O.forEach(He=>{zx(He).depositoId===z&&ve.set(He.zone_id,He)}),ve},[O,z]),dn=F.useMemo(()=>Vx(Ce,k,C),[Ce,k,C]),It=F.useMemo(()=>Vx($,k,C),[$,k,C]),An=F.useMemo(()=>M?D.get(M)??null:(dn==null?void 0:dn.zone)??(It==null?void 0:It.zone)??null,[M,D,dn,It]),wn=(An==null?void 0:An.id)??null,pn=(An==null?void 0:An.nome)??"",sn=F.useMemo(()=>k.map(ve=>({id:ve.id,nome:ve.nome??"",cor:ve.cor||"#f97316",polygon:XM(ve.map_polygon)})).filter(ve=>ve.polygon),[k]),Pr=F.useMemo(()=>{if(!wn)return null;const ve=sn.find(He=>He.id===wn);return(ve==null?void 0:ve.polygon)??null},[sn,wn]),Ft=ue?ue.deliveryZoneId??ue.delivery_zone_id??null:null,Fn=Ft?((pi=D.get(Ft))==null?void 0:pi.nome)??"":"",Ms=F.useMemo(()=>{if(!ue)return null;const ve=Cu(iu(ue)),He=Cu($||"");return!ve&&!He?null:ve===He},[ue,$]);F.useEffect(()=>{if(r){re(r.tipoAtendimento),ne(r.observacoes||""),he(r.depositoId||""),ie(r.entregadorId||""),st(""),gt(!1);const He=g.find(Rt=>Rt.id===r.clienteId)??{id:r.clienteId,nome:r.clienteNome,endereco:r.enderecoEntrega||"",telefone:r.clienteTelefone,ativo:!0,criado_em:0,atualizado_em:0};Ze(He),X(r.enderecoEntrega||iu(He)||""),xe(!1);const Qt=He.deliveryZoneId??He.delivery_zone_id??null;if(Qt){const Rt=D.get(Qt),Lr=(Rt==null?void 0:Rt.nome)??"";T(Qt),Lr&&Ne(Lr)}else T(null),Ne("");const Tt=(r.itens??[]).map(Rt=>{const Lr=i.find(kn=>kn.id===Rt.produtoId),Mr=Qe&&Rt.produtoId===Qe||Lr&&(Lr.product_group??"")===tl;return{id:Rt.id,produtoId:Rt.produtoId,nome:(Lr==null?void 0:Lr.nome)||(Mr?Cl:"Item removido"),quantidade:Rt.quantidade,precoUnitario:Rt.precoUnitario,tipo:Lr&&R5(Lr)?"SERVICO":(Lr==null?void 0:Lr.tipo)||"OUTRO",sale_movement_type:Rt.sale_movement_type??null,priceSource:"AUTO",isManualPrice:!1}});Wt(Tt);const dr=(r.pagamentos??[]).map((Rt,Lr)=>{const Mr=d.find(kn=>kn.id===Rt.payment_method_id||Rt.formaPagamentoId);return{id:`pay-${Lr}`,methodId:Rt.payment_method_id||Rt.formaPagamentoId,methodName:(Mr==null?void 0:Mr.name)??(Mr==null?void 0:Mr.nome)??"Pagamento",value:Rt.amount??Rt.valor,methodKind:PM((Mr==null?void 0:Mr.method_kind)??null)}});Yt(dr);const hr=r.delivery_fee??r.deliveryFee??r.deliveryFeeValue??0;ke(Number(hr)||0),Lt(!1)}},[r,g,i,d,Qe,D]),F.useEffect(()=>{n&&!(Qt=>Qt==="ENTREGADOR"||Qt==="GERENTE")(n.cargo)&&n.depositoId&&z!==n.depositoId&&he(n.depositoId)},[n==null?void 0:n.depositoId,n==null?void 0:n.cargo,z]),F.useEffect(()=>{if(Ae)return;const ve=(It==null?void 0:It.zone)??null;if(!ve)return;const He=ve.nome??"";ve.id!==M&&T(ve.id),He&&He!==Ce&&Ne(He)},[Ae,It,M,Ce]);const _n=H!=="DELIVERY";F.useEffect(()=>{_n&&W&&ie("")},[_n,W]);const tn=ve=>!!Qe&&ve.produtoId===Qe||ve.nome===Cl,Te=Jt.reduce((ve,He)=>tn(He)?ve:ve+He.quantidade*He.precoUnitario,0),wt=lt?0:Be,qt=Te+wt,mr=cr.reduce((ve,He)=>ve+He.value,0),Qr=Math.max(0,qt-mr),Cn=d.find(ve=>ve.id===Xt),Gn=(Cn==null?void 0:Cn.method_kind)==="CASH",Ps=Gn?parseFloat(Pt||"0"):0,On=Ps>0?Math.max(0,Ps-qt):Math.max(0,mr-qt);cr.some(ve=>ve.methodKind==="CASH"),F.useEffect(()=>{if(H!=="DELIVERY"){Be!==0&&ke(0),ge&&je(null),lt&&Lt(!1);return}if(lt){Be!==0&&ke(0),ge&&je(null);return}if(!Cu(Ce)&&!M&&!(It!=null&&It.zone)){const Mr=(r==null?void 0:r.delivery_fee)??(r==null?void 0:r.deliveryFee)??(r==null?void 0:r.deliveryFeeValue)??0,kn=Number(Mr)||0;Be!==kn&&ke(kn),ge&&je(null);return}const He=(M?D.get(M)??null:null)??(dn==null?void 0:dn.zone)??(It==null?void 0:It.zone)??null,Qt=z||(r==null?void 0:r.depositoId)||"",Tt=B.find(Mr=>Mr.id===Qt),dr=(Tt==null?void 0:Tt.free_shipping_min_value)??(Tt==null?void 0:Tt.freeShippingMinValue)??(Tt==null?void 0:Tt.freeShippingMin)??0,hr=Number(dr)||0,Rt=He&&Qt?O.find(Mr=>{const kn=zx(Mr);return Mr.zone_id===He.id&&kn.depositoId===Qt}):null;let Lr=Rt?Number(Rt.price??0):0;je(He&&Qt&&!Rt?"Este deposito nao possui preco para esta zona.":null),hr>0&&Te>=hr&&(Lr=0),Be!==Lr&&ke(Lr)},[H,Ce,M,Be,D,Te,z,B,O,r,ge,lt,dn,It]),F.useEffect(()=>{Qe&&Wt(ve=>{const He=ve.find(Tt=>Tt.produtoId===Qe);return H!=="DELIVERY"||lt?He?ve.filter(Tt=>Tt.produtoId!==Qe):ve:He?He.precoUnitario!==wt||He.quantidade!==1?ve.map(Tt=>Tt.produtoId===Qe?{...Tt,precoUnitario:wt,quantidade:1}:Tt):ve:[...ve,{id:crypto.randomUUID(),produtoId:Qe,nome:Cl,quantidade:1,precoUnitario:wt,tipo:"OUTROS",priceSource:"AUTO",isManualPrice:!1}]})},[Qe,wt,lt,H]),F.useEffect(()=>{if(!Qe||!lt)return;Jt.some(He=>He.produtoId===Qe||He.nome===Cl)&&Lt(!1)},[Jt,Qe,lt]);const As=ve=>{(Qe&&ve.produtoId===Qe||ve.nome===Cl)&&(Lt(!0),Be!==0&&ke(0))},le=ve=>{Ze(ve),st(""),gt(!1),Lt(!1),X(iu(ve)||""),xe(!1);const He=ve.deliveryZoneId??ve.delivery_zone_id??null;if(He){const Qt=D.get(He),Tt=(Qt==null?void 0:Qt.nome)??"";T(He),Tt&&Ne(Tt)}else T(null),Ne("");console.log("Client selected:",ve)};F.useEffect(()=>{let ve=!0;return ue?((async()=>{try{const He=await nM(ue.id);if(!ve)return;nr(He)}catch(He){if(console.error("Erro ao carregar precos especiais do cliente:",He),!ve)return;nr({}),jr.error("Nao foi possivel carregar precos especiais do cliente.")}})(),()=>{ve=!1}):(nr({}),()=>{ve=!1})},[ue==null?void 0:ue.id]);const Me=()=>{gt(!0)},[$e,At]=F.useState(!1);F.useEffect(()=>{const ve="receipt-print-style";if(document.getElementById(ve))return;const He=document.createElement("style");return He.id=ve,He.textContent=`
@media print {
  body * { visibility: hidden; }
  #receipt-print-area, #receipt-print-area * { visibility: visible; }
  #receipt-print-area {
    position: absolute;
    left: 0;
    top: 0;
    width: 100%;
    margin: 0;
    padding: 0;
    background: white;
    color: black;
  }
}`,document.head.appendChild(He),()=>{He.remove()}},[]);const jt=()=>{window.print()},Mt=async()=>{const ve=document.getElementById("receipt-print-area");if(!ve)return;const He=await GN(ve,{scale:2,backgroundColor:"#ffffff"}),Qt=He.toDataURL("image/png"),Tt=new Sr({orientation:"portrait",unit:"pt",format:[He.width,He.height]});Tt.addImage(Qt,"PNG",0,0,He.width,He.height),Tt.save(`nota-${Date.now()}.pdf`)},Z=ve=>ve.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}),Je=(ve,He,Qt=40)=>{const Tt=ve.length>Qt?ve.slice(0,Qt):ve,dr=Math.max(1,Qt-Tt.length-He.length);return`${Tt}${".".repeat(dr)}${He}`},mt=()=>{const ve=new Date().toLocaleString("pt-BR"),He=(ue==null?void 0:ue.nome)||"Nao informado",Qt=$.trim()||iu(ue)||"Nao informado",Tt=(ue==null?void 0:ue.telefone)||"Nao informado",dr=Te,hr=wt,Rt=0,Lr=dr+hr-Rt,Mr=Jt.length===0?["(Sem itens)"]:Jt.map(Hn=>{const Jr=Hn.quantidade*Hn.precoUnitario,js=Hn.sale_movement_type==="EXCHANGE"?" (TROCA)":Hn.sale_movement_type==="FULL"?" (COMPLETA)":"",Zs=`${Hn.quantidade}x ${Hn.nome}${js}`,Fi=`R$ ${Z(Jr)}`;return Je(Zs,Fi,36)}),kn=cr.length===0?["Pagamento: Nao informado"]:cr.map(Hn=>`- ${Hn.methodName}: R$ ${Z(Hn.value)}`),wa=On>0?`Troco: R$ ${Z(On)}`:null;return["GAS REAL",ve,"--------------------------------",`Cliente: ${He}`,`Endereco: ${Qt}`,`Telefone: ${Tt}`,"--------------------------------",...Mr,"--------------------------------",`Subtotal: R$ ${Z(dr)}`,`Entrega: R$ ${Z(hr)}`,`Descontos: R$ ${Z(Rt)}`,`TOTAL A PAGAR: R$ ${Z(Lr)}`,"--------------------------------",...kn,...wa?[wa]:[],"--------------------------------","Obrigado pela preferencia!"].join(`
`)},nt=ve=>{(async()=>{const He=(ve.streetAddress??ve.street_address??ve.endereco??ve.address??"").trim(),Qt=(ve.neighborhood??"").trim(),Tt=ve.deliverySectorId??ve.delivery_sector_id??null,dr=fg(He,Qt,ve.endereco??ve.address??""),hr=ve.nome??ve.name??"";await HM({nome:hr,endereco:dr,streetAddress:He,neighborhood:Qt,deliverySectorId:Tt,referencia:ve.referencia??ve.reference??"",cpf:ve.cpf,telefone:ve.telefone??ve.phone??"",dataNascimento:ve.dataNascimento,deliveryZoneId:ve.deliveryZoneId??ve.delivery_zone_id??null,ativo:!0});const Rt=await O5();b(Rt);const Lr=Rt.find(Mr=>Mr.nome===hr&&(Mr.cpf===ve.cpf||!ve.cpf));Lr&&le(Lr)})()},Ot=(ve,He)=>{const Qt=Jt.find(hr=>hr.produtoId===ve.id&&hr.sale_movement_type===He);if(Qt){gr(Qt.id,Qt.quantidade+1);return}let Tt=ve.preco_padrao;He==="EXCHANGE"?Tt=ve.preco_troca??ve.preco_padrao:He==="FULL"&&(Tt=ve.preco_completa??ve.preco_padrao);const dr={id:crypto.randomUUID(),produtoId:ve.id,nome:ve.nome,quantidade:1,precoUnitario:Tt,tipo:ve.tipo,sale_movement_type:He,priceSource:"AUTO",isManualPrice:!1};Wt([...Jt,dr])},_t=ve=>{Zt&&(Ot(Zt,ve),Hr(null),er(!1))},Gt=()=>{Hr(null),er(!1)},gr=(ve,He)=>{const Qt=typeof He=="string"?parseInt(He):He;typeof Qt=="number"&&!isNaN(Qt)&&Qt>0&&Wt(Jt.map(Tt=>Tt.id===ve?{...Tt,quantidade:Qt}:Tt))},zt=()=>{if(!Xt)return;const ve=d.find(hr=>hr.id===Xt);if(!ve)return;const Qt=ve.method_kind==="CASH"?Pt?parseFloat(Pt):0:Vt?parseFloat(Vt):Qr,Tt=Qt>0?Qt:Qr;if(Tt<=0)return;const dr={id:crypto.randomUUID(),methodId:ve.id,methodName:ve.name,methodKind:ve.method_kind,value:Tt};Yt([...cr,dr]),Nr(""),tr(""),Tt>=Qr&&ar(""),r!=null&&r.id&&$n("PAGAMENTO_ADICIONADO",`Adicionado ${ve.name}: R$ ${Tt.toFixed(2)}`)},In=ve=>{Ke(ve),ut(ve.methodId),or(ve.value.toFixed(2))},fs=()=>{if(!Ue||!ot)return;const ve=parseFloat(rr);if(isNaN(ve)||ve<=0)return;const He=d.find(dr=>dr.id===ot);if(!He)return;const Qt=Ue,Tt={...Qt,methodId:He.id,methodName:He.name,methodKind:He.method_kind,value:ve};if(Yt(cr.map(dr=>dr.id===Qt.id?Tt:dr)),r!=null&&r.id){const dr=[];Qt.methodName!==He.name&&dr.push(`Forma: ${Qt.methodName}  ${He.name}`),Qt.value!==ve&&dr.push(`Valor: R$ ${Qt.value.toFixed(2)}  R$ ${ve.toFixed(2)}`),dr.length>0&&$n("PAGAMENTO_EDITADO",dr.join(", "))}Ke(null),ut(""),or("")},Br=()=>{Ke(null),ut(""),or("")},rn=ve=>{Yt(cr.filter(He=>He.id!==ve.id)),r!=null&&r.id&&$n("PAGAMENTO_REMOVIDO",`Removido ${ve.methodName}: R$ ${ve.value.toFixed(2)}`)},$n=async(ve,He)=>{if(!(r!=null&&r.id))return;const Qt={id:crypto.randomUUID(),data:Date.now(),usuario:(n==null?void 0:n.nome)||"Sistema",usuarioId:(n==null?void 0:n.id)||td,acao:ve,detalhe:He},Tt=await yh.service_orders.get(r.id);if(Tt){const dr=[...Tt.historico||[]];dr.unshift(Qt),await yh.service_orders.update(r.id,{historico:dr})}};F.useEffect(()=>{Xt&&Qr>0&&!Vt&&Nr(Qr.toFixed(2))},[Xt,Qr,Vt]);const Qn=F.useMemo(()=>{if(!Ve)return[];const ve=St.trim().toLowerCase();return g.filter(He=>{var dr;if(!ve)return!0;const Qt=(He.nome??"").toLowerCase(),Tt=(He.endereco??"").toLowerCase();return Qt.includes(ve)||((dr=He.telefone)==null?void 0:dr.includes(ve))||Tt.includes(ve)})},[St,g,Ve]),on=async()=>{if(!(!ue||Jt.length===0)){if(!z&&!(r!=null&&r.depositoId)){alert("Selecione um deposito para a O.S.");return}if(H==="DELIVERY"&&!W){alert("Selecione um entregador para entrega.");return}try{const ve=Jt.map(Jr=>{const js=Qe&&Jr.produtoId===Qe||Jr.nome===Cl;return{id:Jr.id,produtoId:Jr.produtoId,quantidade:Jr.quantidade,precoUnitario:Jr.precoUnitario,modalidade:js?"SERVICO":"VENDA",sale_movement_type:Jr.sale_movement_type??null}}),He=cr.map(Jr=>({payment_method_id:Jr.methodId,amount:Jr.value}));let Qt="PENDENTE";H==="DELIVERY"&&(Qt="PENDENTE_ENTREGA");const Tt=z||(r==null?void 0:r.depositoId)||"DEP1",dr={id:(r==null?void 0:r.id)||crypto.randomUUID(),numeroOs:(r==null?void 0:r.numeroOs)||Date.now().toString().slice(-6),depositoId:Tt,clienteId:ue.id,clienteNome:ue.nome,clienteTelefone:ue.telefone,enderecoEntrega:$.trim()||iu(ue),status:Qt,tipoAtendimento:H,entregadorId:W||null,observacoes:q,itens:ve,pagamentos:He,total:qt,delivery_fee:wt,dataHoraCriacao:(r==null?void 0:r.dataHoraCriacao)||Date.now(),updated_at:Date.now(),historico:(r==null?void 0:r.historico)||[]},hr={data:Date.now(),usuario:ZM()||"Operador",acao:r?"Edio Manual":"Criao",detalhe:r?"Alterou dados da O.S.":`Nova O.S. tipo ${H}`},Rt=new Date(dr.dataHoraCriacao||Date.now()).toISOString(),Lr=new Date().toISOString(),Mr={id:dr.id,order_number:dr.numeroOs,deposit_id:Tt,client_id:ue.id,client_name:ue.nome??null,client_phone:ue.telefone??null,delivery_address:dr.enderecoEntrega??null,service_type:H,status:Qt,subtotal:Te,total:qt,delivery_fee:wt,driver_id:W||null,delivery_zone_id:M||null,delivery_sector_id:ue.deliverySectorId??null,created_at:Rt,updated_at:Lr},kn=ve.map(Jr=>({order_id:dr.id,product_id:Jr.produtoId,quantity:Jr.quantidade,unit_price:Jr.precoUnitario,modality:Jr.modalidade??"VENDA",sale_movement_type:Jr.sale_movement_type??null})),wa=cr.map(Jr=>({order_id:dr.id,payment_method_id:Jr.methodId??null,payment_method_name:Jr.methodName??null,amount:Jr.value}));if([...dr.historico||[]].unshift(hr),await KM(Mr,kn,wa),!(r!=null&&r.id)){const Jr=cr.filter(js=>js.value>0);for(const js of Jr){const Zs=d.find(Aa=>Aa.id===js.methodId);if(!Zs||Zs.receipt_type==="IMMEDIATE"||!Zs.generates_receivable)continue;const Ut=me.get(Zs.id),La=(Ut==null?void 0:Ut.is_active)??!0,mn=Number((Ut==null?void 0:Ut.due_days)??0);if(!La||mn<=0)continue;const bo=new Date;bo.setDate(bo.getDate()+mn),await Ao.createReceivable({order_id:dr.id,deposit_id:Tt,client_id:ue.id,client_name:ue.nome,original_amount:js.value,paid_amount:0,remaining_amount:js.value,status:"PENDENTE",due_date:bo.toISOString().split("T")[0],notes:`OS ${dr.numeroOs} - ${Zs.name??Zs.id}`})}}H==="BALCAO"&&await Nu.complete(dr.id),H==="DELIVERY"&&!r&&await $M(dr),e()}catch(ve){console.error("Erro ao salvar O.S.:",ve),jr.error("Nao foi possivel salvar a O.S.")}}};return a.jsxs("div",{className:"w-full h-full flex flex-col bg-transparent text-gray-900",children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[minmax(0,1fr)_360px] gap-4",children:[a.jsxs("div",{className:"space-y-4 min-w-0",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("span",{className:"inline-block text-xs font-bold text-blue-700 bg-white px-2 py-0.5 rounded shadow-sm",children:"Dados Gerais"}),a.jsxs("div",{className:"border border-gray-300 rounded bg-white p-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 text-sm",children:[a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("label",{className:"font-semibold text-gray-700",children:"Data/Hora:"}),a.jsx("input",{type:"datetime-local",value:te,onChange:ve=>G(ve.target.value),className:"h-8 px-2 rounded border border-gray-300 bg-white"})]}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("label",{className:"font-semibold text-gray-700",children:"Status:"}),a.jsxs("select",{value:de,onChange:ve=>K(ve.target.value),className:"h-8 px-2 rounded border border-gray-300 bg-white",children:[a.jsx("option",{children:"Pendente"}),a.jsx("option",{children:"Em Andamento"}),a.jsx("option",{children:"Concluda"})]})]}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("label",{className:"font-semibold text-gray-700",children:"Tipo de atendimento:"}),a.jsxs("select",{value:H,onChange:ve=>re(ve.target.value),className:"h-8 px-2 rounded border border-gray-300 bg-white",children:[a.jsx("option",{value:"DELIVERY",children:"Delivery"}),a.jsx("option",{value:"BALCAO",children:"Balco"})]})]}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("label",{className:"font-semibold text-gray-700",children:"Entregador:"}),a.jsxs("select",{value:W||"",onChange:ve=>ie(ve.target.value),disabled:_n,className:"w-full h-9 px-2 border border-gray-300 rounded focus:border-blue-500 outline-none text-sm bg-white disabled:bg-gray-100 disabled:text-gray-400",children:[a.jsx("option",{value:"",children:_n?"Nao se aplica (Balcao)":"Selecione o Entregador..."}),S.map(ve=>a.jsx("option",{value:ve.id,children:ve.nome||ve.username},ve.id))]})]}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("label",{className:"font-semibold text-gray-700",children:"Depsito:"}),(()=>{var Qt;return n&&!(Tt=>Tt==="ENTREGADOR"||Tt==="GERENTE")(n.cargo)&&n.depositoId?a.jsxs("div",{className:"px-2 py-2 rounded border border-gray-300 bg-gray-100 text-gray-700 font-semibold text-sm",children:[" ",((Qt=B.find(Tt=>Tt.id===z))==null?void 0:Qt.nome)||"Carregando..."]}):a.jsxs("select",{value:z||"",onChange:Tt=>he(Tt.target.value),className:"w-full h-9 px-2 border border-gray-300 rounded focus:border-blue-500 outline-none text-sm bg-white",children:[a.jsx("option",{value:"",children:"Selecione o Depsito..."}),B.map(Tt=>a.jsx("option",{value:Tt.id,children:Tt.nome},Tt.id))]})})()]}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("label",{className:"font-semibold text-gray-700",children:"Bairro/Zona:"}),a.jsx("input",{type:"text",value:Ce,onChange:ve=>{var Tt;const He=ve.target.value;Ne(He),xe(!0);const Qt=Vx(He,k,C);T(((Tt=Qt==null?void 0:Qt.zone)==null?void 0:Tt.id)??null),lt&&Lt(!1)},className:"h-8 px-2 rounded border border-gray-300 bg-white"}),ge&&a.jsx("div",{className:"text-[10px] text-amber-600",children:ge})]})]}),a.jsx("div",{className:"mt-3 grid grid-cols-1 gap-3 text-sm",children:a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("label",{className:"font-semibold text-gray-700",children:"Endereco para entrega:"}),a.jsx("input",{type:"text",value:$,onChange:ve=>{X(ve.target.value),xe(!1)},placeholder:"Rua, numero, bairro",className:"h-8 px-2 rounded border border-gray-300 bg-white"}),Ms===!0&&a.jsx("div",{className:"text-[10px] text-emerald-600",children:"Endereco igual ao cadastro do cliente."}),Ms===!1&&a.jsx("div",{className:"text-[10px] text-amber-600",children:"Endereco da entrega diferente do cadastro do cliente."})]})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("span",{className:"inline-block text-xs font-bold text-blue-700 bg-white px-2 py-0.5 rounded shadow-sm",children:"Cliente"}),a.jsxs("div",{className:"border border-gray-300 rounded bg-white p-4 space-y-3 text-sm",children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-6 gap-3 items-end",children:[a.jsxs("div",{className:"flex flex-col gap-1 lg:col-span-3",children:[a.jsx("label",{className:"font-semibold text-gray-700",children:"Cliente selecionado:"}),a.jsx("input",{type:"text",value:(ue==null?void 0:ue.nome)||"",readOnly:!0,placeholder:"Nenhum cliente selecionado",className:"h-8 px-2 rounded border border-gray-300 bg-white text-gray-700"})]}),a.jsxs("div",{className:"flex flex-col gap-1 lg:col-span-3",children:[a.jsx("label",{className:"font-semibold text-gray-700",children:"Buscar cliente:"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx("input",{type:"text",value:St,onChange:ve=>{st(ve.target.value),gt(!0)},placeholder:"Digite para buscar",className:"h-8 px-2 rounded border border-gray-300 bg-white w-full"}),Ve&&a.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded shadow-lg z-50 max-h-40 overflow-y-auto",children:Qn.length===0?a.jsx("div",{className:"px-2 py-2 text-xs text-gray-500",children:"Nenhum cliente encontrado."}):Qn.map(ve=>a.jsxs("button",{onClick:()=>le(ve),className:"w-full text-left px-2 py-1.5 hover:bg-gray-50",children:[a.jsx("div",{className:"font-semibold",children:ve.nome}),a.jsx("div",{className:"text-xs text-gray-500",children:ve.endereco})]},ve.id))})]}),a.jsx("button",{onClick:Me,className:"h-8 w-8 flex items-center justify-center rounded border border-gray-300 text-gray-600 hover:text-blue-700 hover:border-blue-400",title:"Buscar cliente",children:a.jsx(lA,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>ft(!0),className:"h-8 px-3 rounded border border-gray-300 text-blue-700 font-semibold hover:border-blue-400",children:"+ Novo"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-3",children:[a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("label",{className:"font-semibold text-gray-700",children:"Telefone:"}),a.jsx("input",{type:"text",value:(ue==null?void 0:ue.telefone)||"",readOnly:!0,placeholder:"(00) 00000-0000",className:"h-8 px-2 rounded border border-gray-300 bg-white text-gray-500"})]}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("label",{className:"font-semibold text-gray-700",children:"Endereo:"}),a.jsx("input",{type:"text",value:iu(ue)||"",readOnly:!0,placeholder:"Endereo completo",className:"h-8 px-2 rounded border border-gray-300 bg-white text-gray-500"})]}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("label",{className:"font-semibold text-gray-700",children:"CPF:"}),a.jsx("input",{type:"text",value:(ue==null?void 0:ue.cpf)||"",readOnly:!0,placeholder:"CPF (opcional)",className:"h-8 px-2 rounded border border-gray-300 bg-white text-gray-500"})]})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("span",{className:"inline-block text-xs font-bold text-blue-700 bg-white px-2 py-0.5 rounded shadow-sm",children:"Itens da Ordem"}),a.jsx("div",{className:"border border-gray-300 rounded bg-white p-4 space-y-3",children:a.jsx(MM,{selectedDepositId:z||null,items:Jt,setItems:Wt,clientSpecialPrices:bt,includeProductIds:Qe?[Qe]:[],lockedProductIds:Qe?[Qe]:[],onRemoveItem:As})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("span",{className:"inline-block text-xs font-bold text-blue-700 bg-white px-2 py-0.5 rounded shadow-sm",children:"Pagamentos"}),a.jsxs("div",{className:"border border-gray-300 rounded bg-white p-4 space-y-3",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm text-gray-700 border border-gray-200",children:[a.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-2 py-2 text-left",children:"Forma"}),a.jsx("th",{className:"px-2 py-2 text-left",children:"Valor"}),a.jsx("th",{className:"px-2 py-2 text-left",children:"Parcelas"}),a.jsx("th",{className:"px-2 py-2 text-left",children:"1 Venc."}),a.jsx("th",{className:"px-2 py-2 text-left",children:"Mquina"}),a.jsx("th",{className:"px-2 py-2 text-left",children:"Observao"}),a.jsx("th",{className:"px-2 py-2 text-left",children:"Aes"})]})}),a.jsx("tbody",{children:cr.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:7,className:"px-3 py-8 text-center text-gray-400",children:"Nenhum pagamento adicionado."})}):cr.map(ve=>a.jsxs("tr",{className:"border-t border-gray-200",children:[a.jsx("td",{className:"px-2 py-2",children:ve.methodName}),a.jsxs("td",{className:"px-2 py-2",children:["R$ ",ve.value.toFixed(2)]}),a.jsx("td",{className:"px-2 py-2",children:"1"}),a.jsx("td",{className:"px-2 py-2",children:"-"}),a.jsx("td",{className:"px-2 py-2",children:"-"}),a.jsx("td",{className:"px-2 py-2",children:"-"}),a.jsx("td",{className:"px-2 py-2",children:a.jsxs("div",{className:"flex gap-1",children:[a.jsx("button",{onClick:()=>In(ve),className:"text-orange-600 hover:text-orange-800 p-1",title:"Editar pagamento",children:a.jsx(hf,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>rn(ve),className:"text-red-600 hover:text-red-800 p-1",title:"Remover pagamento",children:a.jsx(oa,{className:"w-4 h-4"})})]})})]},ve.id))})]})}),Ue&&a.jsxs("div",{className:"border border-orange-400 rounded bg-orange-50 p-3 space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-bold text-orange-800",children:"Editando Pagamento"}),a.jsx("button",{onClick:Br,className:"text-gray-500 hover:text-gray-700",children:a.jsx(Vn,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[a.jsxs("select",{value:ot,onChange:ve=>ut(ve.target.value),className:"h-8 px-2 border border-gray-300 rounded text-gray-700 bg-white",children:[a.jsx("option",{value:"",children:"Forma"}),ee.map(ve=>a.jsx("option",{value:ve.id,children:ve.name??ve.nome},ve.id))]}),a.jsx("input",{type:"number",value:rr,onChange:ve=>or(ve.target.value),placeholder:"Valor",className:"h-8 w-28 px-2 border border-gray-300 rounded text-gray-700 bg-white"}),a.jsxs("button",{onClick:fs,className:"flex items-center gap-1 text-green-600 hover:text-green-800 font-semibold",children:[a.jsx(il,{className:"w-4 h-4"})," Salvar"]}),a.jsx("button",{onClick:Br,className:"flex items-center gap-1 text-gray-600 hover:text-gray-800",children:"Cancelar"})]})]}),!Ue&&a.jsxs("div",{className:"flex flex-wrap gap-3 items-center text-sm text-blue-700 font-semibold",children:[a.jsxs("select",{value:Xt,onChange:ve=>ar(ve.target.value),className:"h-8 px-2 border border-gray-300 rounded text-gray-700 bg-white",children:[a.jsx("option",{value:"",children:"Forma"}),ee.map(ve=>a.jsx("option",{value:ve.id,children:ve.name??ve.nome},ve.id))]}),a.jsx("input",{type:"number",value:Vt,onChange:ve=>Nr(ve.target.value),placeholder:"Valor",className:"h-8 w-28 px-2 border border-gray-300 rounded text-gray-700 bg-white"}),a.jsx("button",{onClick:zt,className:"flex items-center gap-1",children:"+ Adicionar Pagamento"})]}),(Cn==null?void 0:Cn.method_kind)==="CASH"&&a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[a.jsx("label",{className:"font-semibold",children:"Valor Recebido (Dinheiro):"}),a.jsx("input",{type:"number",value:Pt,onChange:ve=>tr(ve.target.value),className:"h-8 w-32 px-2 border border-gray-300 rounded"}),On>0&&a.jsxs("span",{className:"text-green-600 font-semibold",children:["Troco: R$ ",On.toFixed(2)]})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("span",{className:"inline-block text-xs font-bold text-blue-700 bg-white px-2 py-0.5 rounded shadow-sm",children:"Resumo Financeiro"}),a.jsxs("div",{className:"border border-gray-300 rounded bg-white p-4 space-y-3 text-sm",children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3",children:[a.jsxs("div",{className:"flex flex-col gap-1 lg:col-span-1",children:[a.jsx("label",{className:"font-semibold text-gray-700",children:"Subtotal:"}),a.jsx("input",{className:"h-8 px-2 border border-gray-300 rounded bg-white",value:`R$ ${Te.toFixed(2)}`,readOnly:!0})]}),a.jsxs("div",{className:"flex flex-col gap-1 lg:col-span-1",children:[a.jsx("label",{className:"font-semibold text-gray-700",children:"Taxa de entrega:"}),a.jsx("input",{className:"h-8 px-2 border border-gray-300 rounded bg-white",value:`R$ ${wt.toFixed(2)}`,readOnly:!0}),lt&&a.jsx("div",{className:"text-[10px] text-amber-600",children:"Taxa removida manualmente."})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-3",children:[a.jsxs("div",{className:"flex flex-col gap-1 lg:col-span-1",children:[a.jsx("label",{className:"font-semibold text-gray-700",children:"Valor Total:"}),a.jsx("input",{className:"h-8 px-2 border border-gray-300 rounded bg-white",value:`R$ ${qt.toFixed(2)}`,readOnly:!0})]}),a.jsxs("div",{className:"flex flex-col gap-1 lg:col-span-1",children:[a.jsx("label",{className:"font-semibold text-gray-700",children:"Total Pago:"}),a.jsx("input",{className:"h-8 px-2 border border-gray-300 rounded bg-white",value:`R$ ${mr.toFixed(2)}`,readOnly:!0})]}),a.jsxs("div",{className:"flex flex-col gap-1 lg:col-span-1",children:[a.jsx("label",{className:"font-semibold text-green-700",children:"Restante:"}),a.jsx("input",{className:"h-8 px-2 border border-gray-300 rounded bg-white text-green-700 font-semibold",value:`R$ ${Qr.toFixed(2)}`,readOnly:!0})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3",children:[a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("label",{className:"font-semibold text-gray-700",children:"Observaes:"}),a.jsx("textarea",{value:q,onChange:ve=>ne(ve.target.value),className:"min-h-[90px] px-2 py-2 border border-gray-300 rounded"})]}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("label",{className:"font-semibold text-gray-700",children:"Resumo Nota:"}),a.jsx("div",{id:"receipt-print-area",className:"bg-yellow-50 border border-gray-300 p-4 h-full overflow-y-auto font-mono text-xs text-black shadow-inner leading-tight",children:a.jsx("pre",{className:"whitespace-pre-wrap",children:mt()})})]})]})]})]})]}),a.jsx("div",{className:"space-y-4 min-w-0 self-start",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx("span",{className:"inline-block text-xs font-bold text-blue-700 bg-white px-2 py-0.5 rounded shadow-sm",children:"Zonas e mapa"}),a.jsxs("div",{className:"border border-gray-300 rounded bg-white p-4 space-y-3 text-sm",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-[11px] font-bold text-gray-600 uppercase",children:"Orientacao de zona"}),a.jsxs("span",{className:"text-[11px] text-gray-500",children:["Deposito: ",((Ja=B.find(ve=>ve.id===(z||(r==null?void 0:r.depositoId))))==null?void 0:Ja.nome)||"Nao selecionado"]})]}),Ft&&wn&&Ft!==wn&&a.jsxs("div",{className:"text-[11px] text-amber-600",children:["Zona do cadastro: ",Fn||"Nao definida"," / Zona detectada: ",pn||"Nao definida"]}),!wn&&Ce&&a.jsxs("div",{className:"text-[11px] text-amber-600",children:['Zona nao encontrada para "',Ce,'".']}),a.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[a.jsx("div",{className:"relative z-0 h-48 rounded border border-gray-200 overflow-hidden",children:a.jsxs(yv,{center:[D5.lat,D5.lng],zoom:12,className:"w-full h-full",children:[a.jsx(_v,{attribution:" OSM contributors",url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),a.jsx(YM,{}),a.jsx(JM,{polygons:sn.map(ve=>ve.polygon),activePolygon:Pr}),sn.map(ve=>{const He=ve.id===wn;return a.jsx(wv,{positions:ve.polygon,pathOptions:{color:He?ve.cor:"#94a3b8",fillColor:ve.cor,fillOpacity:He?.35:.12,weight:He?2:1},children:a.jsx(Bv,{sticky:!0,children:ve.nome})},ve.id)})]})}),a.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto pr-1",children:k.length===0?a.jsx("div",{className:"text-xs text-gray-500",children:"Nenhuma zona cadastrada."}):k.map(ve=>{const He=qr.get(ve.id),Qt=z?He?`R$ ${Number(He.price||0).toFixed(2)}`:"Sem preco":"Selecione deposito",Tt=ve.id===wn;return a.jsxs("div",{className:`flex items-center justify-between gap-2 rounded border px-2 py-1 ${Tt?"border-blue-400 bg-blue-50":"border-gray-200"}`,children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:ve.cor||"#f97316"}}),a.jsx("span",{className:"text-xs font-semibold text-gray-800",children:ve.nome})]}),a.jsx("span",{className:`text-[11px] font-bold ${Tt?"text-blue-700":"text-gray-600"}`,children:Qt})]},ve.id)})})]})]})]})})]}),a.jsxs("div",{className:"flex flex-col gap-3 mt-6 text-sm lg:flex-row lg:items-center",children:[Qr>0&&a.jsxs("div",{className:"flex items-center gap-2 text-amber-700 bg-amber-50 border border-amber-200 px-3 py-2 rounded",children:[a.jsx(Su,{className:"w-4 h-4"}),a.jsxs("span",{className:"font-semibold",children:["Pagamento pendente: R$ ",Z(Qr)]})]}),a.jsxs("div",{className:"flex justify-end gap-3 lg:ml-auto",children:[a.jsx("button",{onClick:Mt,className:"px-4 py-2 rounded border border-gray-300 text-purple-700 font-semibold",children:"Salvar Nota"}),a.jsx("button",{onClick:jt,className:"px-4 py-2 rounded border border-gray-300 text-purple-700 font-semibold",children:"Imprimir Nota"}),a.jsx("button",{onClick:()=>At(!0),className:"px-4 py-2 rounded border border-gray-300 text-purple-700 font-semibold",children:"Pre-visualizar Nota"}),a.jsx("button",{onClick:t,className:"px-4 py-2 rounded border border-gray-300 text-gray-700 font-semibold",children:"Cancelar"}),a.jsx("button",{onClick:on,disabled:Jt.length===0||!ue,className:"px-4 py-2 rounded bg-blue-700 hover:bg-blue-800 text-white font-bold disabled:bg-gray-300 disabled:cursor-not-allowed",children:"Salvar O.S"})]})]}),Dt&&Zt&&(()=>{const ve=Zt.preco_troca??Zt.preco_padrao,He=Zt.preco_completa??Zt.preco_padrao;return a.jsx("div",{className:"fixed inset-0 z-[80] bg-black/60 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md overflow-hidden",children:[a.jsxs("div",{className:"bg-orange-600 text-white px-4 py-3 flex items-center gap-2",children:[a.jsx("span",{className:"text-xl",children:""}),a.jsx("span",{className:"font-bold",children:"Tipo de Venda"})]}),a.jsxs("div",{className:"p-6",children:[a.jsxs("p",{className:"text-gray-700 mb-2",children:["Voc est vendendo: ",a.jsx("strong",{children:Zt.nome})]}),a.jsx("p",{className:"text-gray-600 text-sm mb-6",children:"Como ser a venda deste produto?"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("button",{onClick:()=>_t("EXCHANGE"),className:"w-full p-4 rounded-lg border-2 border-green-500 bg-green-50 hover:bg-green-100 transition-colors text-left",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-2xl",children:""}),a.jsxs("div",{children:[a.jsx("div",{className:"font-bold text-green-800",children:"TROCA"}),a.jsx("div",{className:"text-sm text-green-700",children:"Cliente devolve casco vazio"})]})]}),a.jsx("div",{className:"text-right",children:a.jsxs("div",{className:"text-xl font-black text-green-700",children:["R$ ",ve.toFixed(2)]})})]})}),a.jsx("button",{onClick:()=>_t("FULL"),className:"w-full p-4 rounded-lg border-2 border-blue-500 bg-blue-50 hover:bg-blue-100 transition-colors text-left",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-2xl",children:""}),a.jsxs("div",{children:[a.jsx("div",{className:"font-bold text-blue-800",children:"COMPLETA"}),a.jsx("div",{className:"text-sm text-blue-700",children:"Cliente leva o casco (cliente novo)"})]})]}),a.jsx("div",{className:"text-right",children:a.jsxs("div",{className:"text-xl font-black text-blue-700",children:["R$ ",He.toFixed(2)]})})]})})]})]}),a.jsx("div",{className:"bg-gray-50 px-4 py-3 flex justify-end",children:a.jsx("button",{onClick:Gt,className:"px-4 py-2 rounded border border-gray-300 text-gray-600 hover:bg-gray-100",children:"Cancelar"})})]})})})(),fe&&a.jsx(dM,{onClose:()=>ft(!1),onSave:nt}),$e&&a.jsx("div",{className:"fixed inset-0 z-[70] bg-black/70 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-2xl h-[90vh] rounded shadow-2xl border border-gray-300 flex flex-col overflow-hidden",children:[a.jsxs("div",{className:"bg-gray-800 px-4 py-3 flex items-center justify-between text-white",children:[a.jsx("span",{className:"text-sm font-bold uppercase tracking-wide",children:"Pre-visualizacao da Nota"}),a.jsx("button",{onClick:()=>At(!1),className:"p-1.5 hover:text-gray-200",children:a.jsx(Vn,{size:18})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4 bg-gray-100",children:a.jsx("div",{className:"bg-yellow-50 border border-gray-300 p-4 h-full font-mono text-xs text-black shadow-inner leading-tight",children:a.jsx("pre",{className:"whitespace-pre-wrap",children:mt()})})}),a.jsx("div",{className:"bg-white border-t border-gray-300 px-4 py-3 flex justify-end gap-2",children:a.jsx("button",{onClick:()=>At(!1),className:"px-4 py-2 rounded border border-gray-300 text-gray-700 font-semibold",children:"Fechar"})})]})})]})},rP=({onClose:t,currentUser:e})=>{const[r,n]=F.useState("list"),[i,l]=F.useState("PENDENTE"),[d,u]=F.useState([]),[h,m]=F.useState([]),[g,b]=F.useState([]),[B,w]=F.useState([]),[S,U]=F.useState([]),[k,C]=F.useState([]),[O,D]=F.useState(null),[H,re]=F.useState(null),q=()=>{n("list"),D(null),re(null)},ne=z=>Number(z||0).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),te=z=>{if(!z)return null;const he=B.find(V=>V.id===z);return(he==null?void 0:he.nome)||(he==null?void 0:he.username)||z},G=async()=>{u(await $p()),n("list"),D(null),re(null)};F.useEffect(()=>{let z=!0;return(async()=>{let he=[],V=[],me=[],ee=[],Ce=[];try{[he,V,me,ee,Ce]=await Promise.all([$p(),Ii.getAll(),uf(),zi.getAll(),Lc.getAll()])}catch(X){console.error("Erro ao carregar dados iniciais (produtos/depsitos/funcionrios)",X),jr.error("Erro ao carregar depsitos"),he=await $p().catch(()=>[]),V=[],me=await uf().catch(()=>[]),ee=[],Ce=[]}if(!z)return;const Ne=(V||[]).map(pg),M=(ee||[]).map(X=>({id:X.id,nome:X.name,cargo:X.role,depositoId:X.deposit_id,ativo:X.active,username:X.username,permissoes:X.permissions||[]})),T=(Ce||[]).map(X=>({id:X.id,nome:X.name,ativo:X.active,endereco:X.address,cor:X.color})).filter(X=>e!=null&&e.depositoId?X.id===e.depositoId:X.ativo!==!1),$=M.filter(X=>{const Ae=String(X.cargo??"").toUpperCase();return Ae.includes("ENTREG")||Ae.includes("MOTOR")?e!=null&&e.depositoId?X.depositoId===e.depositoId||X.depositoId===null:!0:!1});u(he),m(Ne),b(me),w(M),U(T),C($)})(),()=>{z=!1}},[r,e==null?void 0:e.depositoId,e==null?void 0:e.id]);const de=F.useMemo(()=>d.filter(z=>i==="TODOS"?!0:i==="PENDENTE"?z.status==="PENDENTE"||z.status==="PENDENTE_ENTREGA":z.status===i).sort((z,he)=>he.dataHoraCriacao-z.dataHoraCriacao),[d,i]),K=async(z,he,V)=>{if(!(he==="CANCELADA"&&!confirm("Deseja realmente cancelar esta O.S?")))try{await VM(z,he,V),u(await $p())}catch(me){console.error(me),jr.error("Nao foi possivel atualizar o status da O.S. Verifique os dados e tente novamente.")}},W=async z=>{try{const he=await Nu.getById(z.id),V=he?GM(he):z;D(V),n("create")}catch(he){console.error("Erro ao carregar O.S. para edicao:",he),jr.error("Nao foi possivel carregar a O.S. para edicao.")}},ie=()=>{D(null),n("create")};return r==="create"?a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:a.jsxs("div",{className:"w-full max-w-[1200px] h-[90vh] bg-white rounded shadow-2xl border border-gray-300 flex flex-col overflow-hidden",style:{"--app-bg":"#f7f7f7","--surface-bg":"#ffffff","--text-main":"#1f2937","--text-muted":"#4b5563","--border-color":"#cbd5e1","--primary":"#0b3a64"},children:[a.jsxs("div",{className:"bg-gray-800 px-5 py-3 border-b border-gray-300 flex justify-between items-center shrink-0 text-white",children:[a.jsxs("h2",{className:"text-lg font-bold uppercase tracking-wide flex items-center gap-2",children:[a.jsx(po,{className:"w-5 h-5 text-green-300"})," Nova Ordem de Servio"]}),a.jsx("button",{onClick:q,className:"text-gray-200 hover:text-white p-2 rounded",children:a.jsx(Vn,{size:20})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4 bg-[#f2f2f2]",children:a.jsx("div",{className:"bg-white border border-gray-300 rounded-md h-full overflow-y-auto px-3 py-4 shadow-sm text-black",children:a.jsx(tP,{onCancel:q,onSuccess:G,initialData:O,currentUser:e})})})]})}):a.jsxs("div",{className:"fixed inset-0 bg-app z-50 flex flex-col animate-in slide-in-from-bottom-4 duration-300",children:[a.jsxs("div",{className:"bg-surface border-b border-bdr px-6 py-4 flex flex-col sm:flex-row justify-between items-center shadow-sm shrink-0 gap-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"bg-purple-500/10 p-2.5 rounded-xl border border-purple-500/20",children:a.jsx(_m,{className:"w-6 h-6 text-purple-600"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-black text-txt-main tracking-tight",children:"Gesto de Ordens de Servio"}),a.jsx("p",{className:"text-xs text-txt-muted font-bold uppercase tracking-widest",children:"Acompanhamento Operacional"})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("button",{onClick:ie,className:"bg-purple-600 hover:bg-purple-700 text-white px-5 py-2.5 rounded-xl font-black text-sm shadow-lg shadow-purple-500/20 flex items-center gap-2 transition-transform active:scale-95",children:[a.jsx(po,{className:"w-5 h-5"})," NOVA O.S"]}),a.jsx("div",{className:"h-8 w-px bg-bdr mx-2 hidden sm:block"}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-red-500/10 text-txt-muted hover:text-red-500 rounded-full transition-colors",children:a.jsx(Vn,{className:"w-6 h-6"})})]})]}),a.jsx("div",{className:"bg-surface border-b border-bdr px-6",children:a.jsx("div",{className:"flex gap-6 overflow-x-auto",children:[{id:"PENDENTE",label:"Pendentes (Geral)",cor:"text-amber-500 border-amber-500",icon:Su},{id:"PENDENTE_ENTREGA",label:"Aguardando Entrega",cor:"text-orange-500 border-orange-500",icon:wm},{id:"EM_ANDAMENTO",label:"Em Trnsito/Andamento",cor:"text-blue-500 border-blue-500",icon:Po},{id:"CONCLUIDA",label:"Concludas",cor:"text-green-500 border-green-500",icon:oA},{id:"CANCELADA",label:"Canceladas",cor:"text-red-500 border-red-500",icon:Xh},{id:"TODOS",label:"Todas",cor:"text-txt-main border-txt-main",icon:x3}].map(z=>{const he=z.icon,V=i===z.id;return a.jsxs("button",{onClick:()=>l(z.id),className:`pb-4 pt-4 text-sm font-bold border-b-4 transition-all flex items-center gap-2 whitespace-nowrap ${V?z.cor:"border-transparent text-txt-muted hover:text-txt-main"}`,children:[a.jsx(he,{className:"w-4 h-4"}),z.label]},z.id)})})}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-app",children:a.jsx("div",{className:"max-w-7xl mx-auto space-y-4",children:de.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-txt-muted opacity-50",children:[a.jsx(_m,{className:"w-16 h-16 mb-4"}),a.jsx("p",{className:"font-bold text-lg",children:"Nenhuma O.S encontrada nesta categoria."})]}):de.map(z=>a.jsxs("div",{className:"bg-surface rounded-2xl p-5 border border-bdr shadow-sm hover:shadow-md transition-all flex flex-col md:flex-row items-start md:items-center justify-between gap-6 group relative",children:[a.jsxs("div",{className:"absolute top-5 right-5 md:static md:order-last flex flex-col items-end gap-2",children:[a.jsx(eP,{createdAt:z.dataHoraCriacao,status:z.status}),a.jsxs("button",{onClick:()=>re(z),className:"text-[10px] font-bold text-primary hover:underline flex items-center gap-1",children:[a.jsx(B3,{className:"w-3 h-3"})," Ver Histrico"]})]}),a.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[a.jsxs("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center text-lg font-black shrink-0 ${z.status==="PENDENTE"?"bg-amber-100 text-amber-600":z.status==="PENDENTE_ENTREGA"?"bg-orange-100 text-orange-600":z.status==="EM_ANDAMENTO"?"bg-blue-100 text-blue-600":z.status==="CONCLUIDA"?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:[z.status==="PENDENTE"&&a.jsx(Su,{className:"w-6 h-6"}),z.status==="PENDENTE_ENTREGA"&&a.jsx(wm,{className:"w-6 h-6"}),z.status==="EM_ANDAMENTO"&&a.jsx(Po,{className:"w-6 h-6"}),z.status==="CONCLUIDA"&&a.jsx(oA,{className:"w-6 h-6"}),z.status==="CANCELADA"&&a.jsx(Xh,{className:"w-6 h-6"})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsxs("span",{className:"font-mono text-xs font-bold text-txt-muted bg-app px-2 py-0.5 rounded",children:["#",z.numeroOs]}),a.jsx("span",{className:"text-[10px] font-black uppercase text-txt-muted",children:new Date(z.dataHoraCriacao).toLocaleTimeString().slice(0,5)}),z.tipoAtendimento&&a.jsx("span",{className:"text-[9px] font-bold uppercase bg-primary/10 text-primary px-1.5 py-0.5 rounded",children:z.tipoAtendimento})]}),a.jsx("h3",{className:"font-black text-lg text-txt-main",children:z.clienteNome}),a.jsxs("div",{className:"flex items-center gap-1 text-xs text-txt-muted mb-2",children:[a.jsx(HA,{className:"w-3 h-3"}),a.jsx("span",{className:"truncate max-w-md",children:z.enderecoEntrega||"Endereo no informado"})]}),a.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:(z.itens??[]).length===0?a.jsx("span",{className:"text-xs font-bold text-txt-muted bg-app px-2 py-1 rounded border border-bdr",children:"Itens indisponiveis"}):(z.itens??[]).map((he,V)=>{var me;return a.jsxs("span",{className:"text-xs font-bold text-txt-muted bg-app px-2 py-1 rounded border border-bdr",children:[he.quantidade,"x ",(me=h.find(ee=>ee.id===he.produtoId))==null?void 0:me.nome]},V)})})]})]}),a.jsxs("div",{className:"flex flex-col items-end gap-3 min-w-[150px] mt-4 md:mt-0",children:[a.jsxs("span",{className:"text-xl font-black text-primary",children:["R$ ",z.total.toFixed(2)]}),a.jsx("div",{className:"flex items-center gap-2 opacity-100 transition-opacity",children:z.status!=="CANCELADA"&&z.status!=="CONCLUIDA"&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>W(z),className:"px-3 py-1.5 bg-surface border border-bdr hover:bg-app text-txt-main rounded-lg text-xs font-bold shadow-sm flex items-center gap-1",title:"Editar O.S",children:[a.jsx(hf,{className:"w-3 h-3"})," Editar"]}),a.jsxs("button",{onClick:()=>K(z.id,"CONCLUIDA","Conclusao manual"),className:"px-3 py-1.5 bg-green-500 hover:bg-green-600 text-white rounded-lg text-xs font-bold flex items-center gap-1 shadow-sm",title:"Concluir e lancar financeiro/estoque",children:["Concluir ",a.jsx(oA,{className:"w-3 h-3"})]}),a.jsx("button",{onClick:()=>K(z.id,"CANCELADA","Cancelamento Manual"),className:"px-3 py-1.5 bg-app border border-bdr hover:bg-red-50 hover:text-red-500 text-txt-muted rounded-lg text-xs font-bold shadow-sm",children:"Cancelar"})]})})]})]},z.id))})}),H&&a.jsx("div",{className:"fixed inset-0 bg-black/60 z-[60] flex items-center justify-center p-4 backdrop-blur-sm animate-in fade-in",children:a.jsxs("div",{className:"bg-surface w-full max-w-3xl rounded-2xl shadow-2xl border border-bdr p-6 space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center border-b border-bdr pb-4",children:[a.jsxs("h3",{className:"text-lg font-black text-txt-main flex items-center gap-2",children:[a.jsx(Km,{className:"w-5 h-5 text-primary"})," Detalhes da O.S #",H.numeroOs]}),a.jsx("button",{onClick:()=>re(null),className:"p-1 hover:bg-app rounded-full",children:a.jsx(Vn,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"rounded-xl border border-bdr bg-app px-4 py-3 space-y-2",children:[a.jsx("p",{className:"text-xs font-bold text-txt-muted uppercase",children:"Cliente"}),a.jsx("p",{className:"text-sm font-black text-txt-main",children:H.clienteNome}),a.jsx("p",{className:"text-xs text-txt-muted",children:H.enderecoEntrega||"Endereco nao informado"}),a.jsxs("div",{className:"flex gap-2 text-[10px] text-txt-muted uppercase font-bold",children:[a.jsx("span",{className:"bg-primary/10 text-primary px-2 py-1 rounded",children:H.tipoAtendimento}),H.entregadorId&&a.jsxs("span",{className:"bg-blue-500/10 text-blue-400 px-2 py-1 rounded",children:["Entregador: ",te(H.entregadorId)]})]})]}),a.jsxs("div",{className:"rounded-xl border border-bdr bg-app px-4 py-3 space-y-2",children:[a.jsx("p",{className:"text-xs font-bold text-txt-muted uppercase",children:"Resumo financeiro"}),a.jsxs("div",{className:"flex items-center justify-between text-sm font-black",children:[a.jsx("span",{className:"text-txt-muted",children:"Total"}),a.jsx("span",{className:"text-primary",children:ne(H.total)})]}),a.jsx("div",{className:"space-y-1",children:(H.pagamentos||[]).length===0?a.jsxs("div",{className:"flex items-center justify-between text-xs font-bold text-txt-muted bg-surface px-3 py-2 rounded border border-bdr",children:[a.jsx("span",{children:"Pagamento nao informado"}),a.jsx("span",{className:"text-txt-main",children:ne(0)})]}):(H.pagamentos||[]).map((z,he)=>{const V=z.formaPagamentoId??z.payment_method_id??z.paymentMethodId,me=z.valor??z.amount??z.value??0,ee=g.find(Ce=>Ce.id===V);return a.jsxs("div",{className:"flex items-center justify-between text-xs font-bold text-txt-muted bg-surface px-3 py-2 rounded border border-bdr",children:[a.jsx("span",{children:(ee==null?void 0:ee.name)??(ee==null?void 0:ee.nome)??(V||"Pagamento")}),a.jsx("span",{className:"text-txt-main",children:ne(me)})]},he)})}),a.jsxs("div",{className:"text-[10px] text-txt-muted",children:["Status: ",H.status]})]})]}),a.jsxs("div",{className:"rounded-xl border border-bdr bg-app px-4 py-3 space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"text-xs font-bold text-txt-muted uppercase",children:"Itens"}),a.jsxs("span",{className:"text-[11px] font-bold text-primary",children:[(H.itens||[]).length," itens"]})]}),a.jsx("div",{className:"divide-y divide-bdr",children:(H.itens||[]).map((z,he)=>{const V=h.find(ee=>ee.id===z.produtoId),me=z.quantidade*z.precoUnitario;return a.jsxs("div",{className:"py-2 flex items-center justify-between text-sm",children:[a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"font-bold text-txt-main",children:(V==null?void 0:V.nome)||z.produtoId}),a.jsxs("span",{className:"text-[11px] text-txt-muted uppercase",children:["Qtd ",z.quantidade," - ",ne(z.precoUnitario)]})]}),a.jsx("span",{className:"font-black text-primary",children:ne(me)})]},he)})})]}),a.jsxs("div",{className:"max-h-[45vh] overflow-y-auto",children:[a.jsx("p",{className:"text-xs font-bold text-txt-muted uppercase mb-2",children:"Linha do tempo"}),a.jsx(WM,{logs:H.historico||[]})]})]})})]})},nP=({onClose:t,onNavigate:e})=>{const[r,n]=F.useState(!1),[i,l]=F.useState(""),[d,u]=F.useState(!1),h=b=>{e&&e(b)},m=()=>{i!=="RESETAR TUDO"||!d||(RM(),window.location.reload())},g=({icon:b,title:B,desc:w,onClick:S,colorClass:U="text-primary"})=>a.jsxs("button",{onClick:S,className:"relative group w-full flex items-center justify-between p-6 bg-surface border border-bdr rounded-2xl hover:border-primary/50 hover:shadow-xl transition-all duration-300 overflow-hidden text-left",children:[a.jsxs("div",{className:"z-10 flex flex-col gap-3 max-w-[75%]",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`p-2.5 rounded-xl bg-app border border-bdr ${U} group-hover:scale-110 transition-transform duration-300`,children:a.jsx(b,{className:"w-5 h-5"})}),a.jsx("h3",{className:"font-black text-txt-main text-sm uppercase tracking-wide group-hover:text-primary transition-colors",children:B})]}),a.jsx("p",{className:"text-xs text-txt-muted font-medium leading-relaxed pl-1",children:w})]}),a.jsx("div",{className:`absolute -right-6 top-1/2 -translate-y-1/2 opacity-5 group-hover:opacity-20 transition-opacity transform group-hover:scale-110 group-hover:-rotate-12 duration-500 ${U}`,children:a.jsx(b,{className:"w-32 h-32"})}),a.jsx("div",{className:"absolute right-6 top-1/2 -translate-y-1/2 z-20 opacity-0 group-hover:opacity-100 transition-all duration-300 transform translate-x-4 group-hover:translate-x-0",children:a.jsx("div",{className:"bg-app p-2 rounded-full border border-bdr shadow-sm",children:a.jsx(uv,{className:`w-5 h-5 ${U}`})})})]});return a.jsxs("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md z-50 flex items-center justify-center p-4 sm:p-8 animate-in fade-in duration-300",children:[a.jsxs("div",{className:"bg-app w-full h-full max-w-[1400px] rounded-[2rem] shadow-2xl flex flex-col overflow-hidden relative border border-bdr",children:[a.jsxs("div",{className:"bg-surface border-b border-bdr px-8 py-6 flex justify-between items-center shrink-0",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-2xl font-black text-txt-main tracking-tight flex items-center gap-3",children:[a.jsx(Uu,{className:"w-8 h-8 text-primary animate-spin-slow"}),"Painel de Controle"]}),a.jsx("p",{className:"text-sm text-txt-muted font-bold mt-1",children:"Central Administrativa & Configuraes do Sistema"})]}),a.jsxs("button",{onClick:t,className:"group flex items-center gap-2 px-5 py-2.5 rounded-full border border-bdr hover:bg-red-50 hover:border-red-200 hover:text-red-500 transition-all text-txt-muted font-bold text-xs uppercase tracking-widest",children:[a.jsx("span",{children:"Fechar Painel"}),a.jsx("div",{className:"bg-txt-muted group-hover:bg-red-500 w-5 h-5 rounded-full flex items-center justify-center text-white transition-colors",children:a.jsx(Vn,{className:"w-3 h-3"})})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-8 bg-app",children:a.jsxs("div",{className:"max-w-7xl mx-auto space-y-12",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-xs font-black text-primary uppercase tracking-[0.2em] flex items-center gap-2 border-b border-bdr pb-2",children:[a.jsx(gj,{className:"w-4 h-4"}),"Estrutura & Acessos"]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.jsx(g,{icon:MA,title:"Colaboradores",desc:"Gerencie acessos, logins e permisses de usurios por depsito.",onClick:()=>h("colaboradores"),colorClass:"text-blue-500"})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-xs font-black text-primary uppercase tracking-[0.2em] flex items-center gap-2 border-b border-bdr pb-2",children:[a.jsx(cb,{className:"w-4 h-4"}),"Financeiro & Regras de Venda"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx(g,{icon:EB,title:"Formas de Pagamento & Mquinas",desc:"Cadastre taxas de maquininhas, prazos de recebimento e mtodos aceitos.",onClick:()=>h("sales-modalities"),colorClass:"text-emerald-500"}),a.jsx(g,{icon:Jh,title:"Modalidades de Venda",desc:"Configure regras para Venda, Troca, Casco e como movimentam o estoque.",onClick:()=>h("transaction-modalities"),colorClass:"text-teal-500"}),a.jsx(g,{icon:Po,title:"Taxas de Entrega",desc:"Defina zonas, bairros e valores de taxa de entrega por deposito.",onClick:()=>h("delivery-settings"),colorClass:"text-orange-500"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-xs font-black text-primary uppercase tracking-[0.2em] flex items-center gap-2 border-b border-bdr pb-2",children:[a.jsx(IB,{className:"w-4 h-4"}),"Segurana & Logs"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[a.jsx(g,{icon:gv,title:"Centro de Alertas",desc:"Ative ou desative notificaes financeiras e operacionais.",onClick:()=>h("alertas"),colorClass:"text-orange-500"}),a.jsx(g,{icon:UB,title:"Auditoria Completa",desc:"Visualize o log detalhado de todas as aes realizadas no sistema.",onClick:()=>h("auditoria"),colorClass:"text-amber-500"}),a.jsxs("button",{onClick:()=>n(!0),className:"group relative flex flex-col items-center justify-center p-6 bg-red-50 border-2 border-red-100 rounded-2xl hover:bg-red-600 hover:border-red-600 transition-all duration-300 text-center overflow-hidden",children:[a.jsx("div",{className:"absolute right-0 top-0 opacity-5 group-hover:opacity-20 text-white transition-opacity transform translate-x-4 -translate-y-4",children:a.jsx(sm,{className:"w-32 h-32"})}),a.jsx("div",{className:"bg-red-200 text-red-600 group-hover:bg-white group-hover:text-red-600 p-4 rounded-full mb-3 transition-colors z-10 shadow-sm",children:a.jsx(sm,{className:"w-8 h-8"})}),a.jsx("h3",{className:"font-black text-red-700 group-hover:text-white text-sm uppercase tracking-widest mb-1 z-10 transition-colors",children:"Reset Geral"}),a.jsx("p",{className:"text-xs text-red-500 group-hover:text-red-100 leading-tight px-4 z-10 font-medium transition-colors",children:"Apagar todos os dados e reiniciar o sistema"})]})]})]})]})}),a.jsx("div",{className:"bg-app border-t border-bdr p-4 text-center",children:a.jsx("p",{className:"text-[10px] text-txt-muted font-bold uppercase tracking-widest opacity-60",children:"Sistema Verso 2.5.0  Acesso Administrativo Concedido"})})]}),r&&a.jsx("div",{className:"fixed inset-0 bg-red-950/80 backdrop-blur-sm z-[60] flex items-center justify-center p-4 animate-in fade-in duration-200",children:a.jsxs("div",{className:"bg-white w-full max-w-lg rounded-3xl shadow-2xl p-8 border-4 border-red-600 text-center space-y-6",children:[a.jsx("div",{className:"mx-auto w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mb-2 animate-bounce",children:a.jsx(sm,{className:"w-10 h-10 text-red-600"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-black text-red-700 mb-2",children:"PERIGO!"}),a.jsxs("p",{className:"text-gray-600 font-medium",children:["Esta ao ir ",a.jsx("strong",{children:"APAGAR TODOS OS DADOS"})," do sistema: Estoque, Vendas, Clientes, Colaboradores e Configuraes."]}),a.jsx("p",{className:"text-red-600 font-bold text-sm mt-2 uppercase bg-red-50 inline-block px-3 py-1 rounded",children:"Esta ao  irreversvel."})]}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl text-left space-y-3 border border-gray-200 shadow-inner",children:[a.jsxs("label",{className:"block text-xs font-bold text-gray-500 uppercase",children:["Digite ",a.jsx("span",{className:"text-red-600",children:"RESETAR TUDO"})," para confirmar:"]}),a.jsx("input",{type:"text",value:i,onChange:b=>l(b.target.value),className:"w-full border-2 border-gray-300 rounded-lg p-3 font-black text-red-600 focus:border-red-600 outline-none uppercase placeholder:text-gray-300",placeholder:"RESETAR TUDO"}),a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer mt-2 select-none",children:[a.jsx("input",{type:"checkbox",checked:d,onChange:b=>u(b.target.checked),className:"w-5 h-5 accent-red-600"}),a.jsx("span",{className:"text-sm font-bold text-gray-700",children:"Entendo que perderei todos os dados."})]})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{onClick:()=>n(!1),className:"flex-1 py-4 font-bold text-gray-500 hover:bg-gray-100 rounded-xl transition-colors",children:"Cancelar"}),a.jsxs("button",{onClick:m,disabled:i!=="RESETAR TUDO"||!d,className:"flex-1 py-4 bg-red-600 hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed text-white font-black rounded-xl shadow-lg shadow-red-500/30 transition-all flex items-center justify-center gap-2",children:[a.jsx(oa,{className:"w-5 h-5"})," APAGAR TUDO"]})]})]})})]})},_l=t=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(t||0),Zp=({label:t,value:e,trend:r,trendValue:n,icon:i,color:l})=>a.jsxs("div",{className:"bg-surface p-5 rounded-xl shadow-sm border border-bdr relative overflow-hidden group transition-colors duration-300",children:[a.jsx("div",{className:`absolute right-0 top-0 p-4 opacity-5 group-hover:opacity-10 transition-opacity ${l}`,children:a.jsx(i,{className:"w-16 h-16"})}),a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("div",{className:`p-2 rounded-lg ${l.replace("text-","bg-").replace("600","100")} ${l} bg-opacity-10`,children:a.jsx(i,{className:"w-5 h-5"})}),a.jsx("span",{className:"text-txt-muted text-sm font-medium",children:t})]}),a.jsx("div",{className:"text-2xl font-bold text-txt-main mb-1",children:e}),r&&a.jsxs("div",{className:`flex items-center text-xs font-medium ${r==="up"?"text-green-500":"text-red-500"}`,children:[r==="up"?a.jsx(rm,{className:"w-3 h-3 mr-1"}):a.jsx(NB,{className:"w-3 h-3 mr-1"}),n," vs. ontem"]})]}),sP=({onClose:t})=>{const[e,r]=F.useState("deposito"),[n,i]=F.useState([]),[l,d]=F.useState([]),[u,h]=F.useState([]),[m,g]=F.useState(!1),[b,B]=F.useState(null),[w,S]=F.useState(()=>new Date().toISOString().slice(0,10)),[U,k]=F.useState(()=>new Date().toISOString().slice(0,10)),C=q=>new Date(`${q}T00:00:00`).getTime(),O=q=>{if(!q)return 0;if(typeof q=="number")return q;if(typeof q=="string"){const te=q.trim();if(te&&!Number.isNaN(Number(te)))return Number(te)}const ne=new Date(q).getTime();return Number.isNaN(ne)?0:ne},D=q=>{const ne=q.historico_json??q.historico??q.history??[],te=O(q.data_hora_criacao??q.dataHoraCriacao??q.created_at_ms??q.created_at??q.createdAt??0),G=O(q.data_hora_conclusao??q.dataHoraConclusao??q.completed_at??q.completedAt??0),de=RA(q);return{id:String(q.id??""),numeroOs:String(q.numero_os??q.numeroOs??q.order_number??q.orderNumber??q.number??q.id??""),depositoId:de.depositoId,clienteId:q.cliente_id??q.clienteId??q.client_id??q.clientId??null,clienteNome:q.cliente_nome??q.clienteNome??q.client_name??q.clientName??"",entregadorId:q.entregador_id??q.entregadorId??q.driver_id??q.driverId??null,status:q.status??q.order_status??"PENDENTE",statusEntrega:q.status_entrega??q.statusEntrega??q.delivery_status??null,tipoAtendimento:q.tipo_atendimento??q.tipoAtendimento??q.service_type??"BALCAO",total:Number(q.total??q.total_amount??q.amount??0)||0,historico:Array.isArray(ne)?ne:[],createdAtMs:te,concludedAtMs:G}};F.useEffect(()=>{(async()=>{g(!0);try{const[ne,te,G]=await Promise.all([CM(),ug(),_M()]),de=C(w),K=C(U)+1440*60*1e3-1,ie=ne.map(D).filter(z=>z.createdAtMs>=de&&z.createdAtMs<=K);i(ie),d(te),h(G)}catch(ne){console.error("Erro ao buscar dados do resumo:",ne),B(ne.message)}finally{g(!1)}})()},[w,U]);const H=F.useMemo(()=>{const q=new Map;l.forEach(ee=>{const Ce=ee.nome??ee.name??ee.id??"";ee.id&&q.set(String(ee.id),String(Ce))});const ne=new Map;u.forEach(ee=>{const Ce=ee.nome??ee.name??ee.username??ee.id??"";ee.id&&ne.set(String(ee.id),String(Ce))});const te=n.reduce((ee,Ce)=>ee+(Ce.total||0),0),G=n.filter(ee=>ee.status==="CONCLUIDA").length,de=new Set(n.map(ee=>ee.clienteId||ee.clienteNome||"")).size,K=n.filter(ee=>ee.statusEntrega==="CONCLUIDA").length,W=n.length?Math.round(K/n.length*100):0,ie=n.reduce((ee,Ce)=>{const M=RA(Ce).depositoId||"SEM_DEP",T=q.get(String(M))||String(M);return ee[M]||(ee[M]={depositoId:String(M),depositoNome:T,count:0,deliveries:0,pickups:0,gross:0,discounts:0}),ee[M].count+=1,ee[M].gross+=Ce.total||0,ee[M].deliveries+=Ce.tipoAtendimento==="DELIVERY"?1:0,ee[M].pickups+=Ce.tipoAtendimento==="BALCAO"?1:0,ee},{}),z=ee=>{const Ne=(Array.isArray(ee.historico)?ee.historico:[]).find(T=>String(T.acao??T.action??"").toLowerCase().includes("cri"));return((Ne==null?void 0:Ne.usuario)??(Ne==null?void 0:Ne.user)??(Ne==null?void 0:Ne.username)??(Ne==null?void 0:Ne.usuarioNome)??null)||"Sistema"},he=n.reduce((ee,Ce)=>{const Ne=z(Ce);return ee[Ne]||(ee[Ne]={name:Ne,count:0,gross:0}),ee[Ne].count+=1,ee[Ne].gross+=Ce.total||0,ee},{}),V=n.reduce((ee,Ce)=>{const Ne=Ce.entregadorId?String(Ce.entregadorId):"";if(!Ne)return ee;const M=ne.get(Ne)||Ne;return ee[Ne]||(ee[Ne]={id:Ne,name:M,count:0,gross:0}),ee[Ne].count+=1,ee[Ne].gross+=Ce.total||0,ee},{}),me=Object.values(ie).reduce((ee,Ce)=>(ee.count+=Ce.count,ee.deliveries+=Ce.deliveries,ee.pickups+=Ce.pickups,ee.gross+=Ce.gross,ee.discounts+=Ce.discounts,ee),{count:0,deliveries:0,pickups:0,gross:0,discounts:0});return{totalSales:te,concluded:G,uniqueClients:de,deliveryRate:W,byDeposit:Object.values(ie),bySeller:Object.values(he),byDriver:Object.values(V),consolidated:me}},[n,l,u]),re=F.useMemo(()=>{const q=[];n.forEach(te=>{te.historico&&te.historico.forEach(G=>{q.push({osNum:te.numeroOs,log:G})})});const ne=te=>{if(typeof te=="number")return te;const G=new Date(te).getTime();return Number.isNaN(G)?0:G};return q.sort((te,G)=>ne(G.log.data)-ne(te.log.data)),q.slice(0,50)},[n]);return a.jsxs("div",{className:"fixed inset-0 bg-app z-50 flex flex-col animate-in slide-in-from-bottom-4 duration-300 transition-colors",children:[a.jsxs("div",{className:"bg-surface border-b border-bdr px-6 py-4 flex flex-col sm:flex-row justify-between items-start sm:items-center shadow-sm shrink-0 gap-4 transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"bg-indigo-600 p-2.5 rounded-xl shadow-md shadow-indigo-500/20",children:a.jsx(Ch,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-txt-main tracking-tight",children:"Resumo Gerencial"}),a.jsx("p",{className:"text-sm text-txt-muted",children:"Viso geral de desempenho e estoque"})]})]}),a.jsxs("div",{className:"flex items-center gap-4 w-full sm:w-auto",children:[a.jsxs("div",{className:"flex items-center bg-app border border-bdr rounded-xl p-1 shadow-sm w-full sm:w-auto transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-2 px-3 border-r border-bdr",children:[a.jsx(Vm,{className:"w-4 h-4 text-txt-muted"}),a.jsx("input",{type:"date",className:"bg-transparent border-none text-xs font-bold text-txt-main focus:ring-0 p-0 w-28 appearance-none outline-none",value:w,onChange:q=>S(q.target.value)})]}),a.jsxs("div",{className:"flex items-center gap-2 px-3",children:[a.jsx("span",{className:"text-[10px] font-black text-txt-muted uppercase tracking-tighter",children:"at"}),a.jsx("input",{type:"date",className:"bg-transparent border-none text-xs font-bold text-txt-main focus:ring-0 p-0 w-28 appearance-none outline-none",value:U,onChange:q=>k(q.target.value)})]}),a.jsx("button",{className:"bg-indigo-600 hover:bg-indigo-700 text-white px-5 py-2 rounded-lg text-xs font-bold transition-all active:scale-95 shadow-sm ml-1",children:"Atualizar"})]}),a.jsx("button",{onClick:t,className:"p-2 bg-app hover:bg-red-50 text-txt-muted hover:text-red-500 rounded-full transition-colors shrink-0 border border-bdr",title:"Fechar",children:a.jsx(Vn,{className:"w-6 h-6"})})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-8 bg-app transition-colors",children:a.jsxs("div",{className:"max-w-[1600px] mx-auto space-y-8",children:[m&&a.jsx("div",{className:"text-xs font-bold text-txt-muted",children:"Carregando dados do resumo..."}),!m&&b&&a.jsxs("div",{className:"text-xs font-bold text-red-500",children:["Erro ao carregar resumo: ",b]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xs font-bold text-txt-muted uppercase tracking-wider mb-4 px-1",children:"Indicadores do Perodo"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsx(Zp,{label:"Vendas Totais",value:_l(H.totalSales),trend:null,icon:jB,color:"text-emerald-600"}),a.jsx(Zp,{label:"Pedidos Concludos",value:H.concluded,trend:null,icon:fo,color:"text-blue-600"}),a.jsx(Zp,{label:"Novos Clientes",value:H.uniqueClients,trend:null,icon:MA,color:"text-violet-600"}),a.jsx(Zp,{label:"Entregas Realizadas",value:`${H.deliveryRate}%`,trend:null,icon:Po,color:"text-orange-500"})]})]}),a.jsxs("div",{className:"bg-surface rounded-xl shadow-sm border border-bdr overflow-hidden transition-colors",children:[a.jsx("div",{className:"border-b border-bdr px-6 pt-4 bg-app/30",children:a.jsx("div",{className:"flex gap-8",children:[{id:"deposito",label:"Por Depsito"},{id:"vendedor",label:"Por Vendedor"},{id:"entregador",label:"Por Entregador"},{id:"logs",label:"Rastreio & Logs"}].map(q=>a.jsxs("button",{onClick:()=>r(q.id),className:`pb-4 text-sm font-bold transition-all relative ${e===q.id?"text-indigo-600":"text-txt-muted hover:text-txt-main"}`,children:[q.label,e===q.id&&a.jsx("div",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-indigo-600 rounded-t-full"})]},q.id))})}),a.jsx("div",{className:"p-6",children:e==="logs"?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-sm font-black text-txt-main uppercase flex items-center gap-2",children:[a.jsx(Km,{className:"w-4 h-4 text-orange-500"}),"ltimas Atividades do Sistema"]}),a.jsx("div",{className:"border border-bdr rounded-xl overflow-hidden",children:a.jsxs("table",{className:"w-full text-sm text-left",children:[a.jsx("thead",{className:"bg-app text-xs font-bold text-txt-muted uppercase border-b border-bdr",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3",children:"Data / Hora"}),a.jsx("th",{className:"px-6 py-3",children:"O.S #"}),a.jsx("th",{className:"px-6 py-3",children:"Usurio"}),a.jsx("th",{className:"px-6 py-3",children:"Ao"}),a.jsx("th",{className:"px-6 py-3",children:"Detalhes"})]})}),a.jsxs("tbody",{className:"divide-y divide-bdr",children:[re.map((q,ne)=>a.jsxs("tr",{className:"hover:bg-app transition-colors",children:[a.jsx("td",{className:"px-6 py-3 font-mono text-xs text-txt-muted",children:new Date(q.log.data).toLocaleString()}),a.jsx("td",{className:"px-6 py-3 font-bold text-indigo-600",children:q.osNum}),a.jsx("td",{className:"px-6 py-3 font-medium text-txt-main",children:q.log.usuario}),a.jsx("td",{className:"px-6 py-3",children:a.jsx("span",{className:`px-2 py-1 rounded text-[10px] font-black uppercase ${q.log.acao.includes("Edio")?"bg-amber-100 text-amber-700":q.log.acao.includes("Criao")?"bg-green-100 text-green-700":"bg-blue-100 text-blue-700"}`,children:q.log.acao})}),a.jsx("td",{className:"px-6 py-3 text-txt-muted italic",children:q.log.detalhe})]},ne)),re.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"p-8 text-center text-txt-muted",children:"Nenhum registro recente encontrado."})})]})]})})]}):e==="deposito"?a.jsxs("table",{className:"w-full text-sm text-left",children:[a.jsx("thead",{className:"bg-app text-xs uppercase font-bold text-txt-muted border-b border-bdr",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 rounded-l-lg",children:"Depsito"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"Qtd. O.S"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"Entregas"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"Balco"}),a.jsx("th",{className:"px-4 py-3 text-right",children:"Valor Bruto"}),a.jsx("th",{className:"px-4 py-3 text-right",children:"Descontos"}),a.jsx("th",{className:"px-4 py-3 rounded-r-lg text-right",children:"Valor Lquido"})]})}),a.jsxs("tbody",{className:"divide-y divide-bdr",children:[H.byDeposit.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:7,className:"px-4 py-6 text-center text-txt-muted font-medium",children:"Nenhum dado encontrado para o perodo."})}),H.byDeposit.map(q=>a.jsxs("tr",{className:"hover:bg-app transition-colors",children:[a.jsx("td",{className:"px-4 py-4 font-bold text-txt-main",children:q.depositoNome}),a.jsx("td",{className:"px-4 py-4 text-center font-medium text-txt-main",children:q.count}),a.jsx("td",{className:"px-4 py-4 text-center font-medium text-txt-main",children:q.deliveries}),a.jsx("td",{className:"px-4 py-4 text-center font-medium text-txt-main",children:q.pickups}),a.jsx("td",{className:"px-4 py-4 text-right font-medium text-txt-main",children:_l(q.gross)}),a.jsx("td",{className:"px-4 py-4 text-right text-red-500 font-bold",children:q.discounts?`-${_l(q.discounts)}`:_l(0)}),a.jsx("td",{className:"px-4 py-4 font-black text-txt-main text-right",children:_l(q.gross-q.discounts)})]},q.depositoId))]}),H.byDeposit.length>0&&a.jsx("tfoot",{className:"border-t-2 border-bdr bg-app/50",children:a.jsxs("tr",{className:"font-black text-txt-main",children:[a.jsx("td",{className:"px-4 py-5 text-indigo-600 uppercase text-xs",children:"Total Consolidado"}),a.jsx("td",{className:"px-4 py-5 text-center",children:H.consolidated.count}),a.jsx("td",{className:"px-4 py-5 text-center",children:H.consolidated.deliveries}),a.jsx("td",{className:"px-4 py-5 text-center",children:H.consolidated.pickups}),a.jsx("td",{className:"px-4 py-5 text-right text-txt-muted",children:_l(H.consolidated.gross)}),a.jsx("td",{className:"px-4 py-5 text-right text-red-600",children:H.consolidated.discounts?`-${_l(H.consolidated.discounts)}`:_l(0)}),a.jsx("td",{className:"px-4 py-5 text-indigo-600 text-lg text-right",children:_l(H.consolidated.gross-H.consolidated.discounts)})]})})]}):e==="vendedor"?a.jsxs("table",{className:"w-full text-sm text-left",children:[a.jsx("thead",{className:"bg-app text-xs uppercase font-bold text-txt-muted border-b border-bdr",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 rounded-l-lg",children:"Vendedor"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"Qtd. O.S"}),a.jsx("th",{className:"px-4 py-3 text-right rounded-r-lg",children:"Valor Bruto"})]})}),a.jsxs("tbody",{className:"divide-y divide-bdr",children:[H.bySeller.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:3,className:"px-4 py-6 text-center text-txt-muted font-medium",children:"Nenhum dado encontrado para o periodo."})}),H.bySeller.map(q=>a.jsxs("tr",{className:"hover:bg-app transition-colors",children:[a.jsx("td",{className:"px-4 py-4 font-bold text-txt-main",children:q.name}),a.jsx("td",{className:"px-4 py-4 text-center font-medium text-txt-main",children:q.count}),a.jsx("td",{className:"px-4 py-4 text-right font-medium text-txt-main",children:_l(q.gross)})]},q.name))]})]}):e==="entregador"?a.jsxs("table",{className:"w-full text-sm text-left",children:[a.jsx("thead",{className:"bg-app text-xs uppercase font-bold text-txt-muted border-b border-bdr",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 rounded-l-lg",children:"Entregador"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"Qtd. O.S"}),a.jsx("th",{className:"px-4 py-3 text-right rounded-r-lg",children:"Valor Bruto"})]})}),a.jsxs("tbody",{className:"divide-y divide-bdr",children:[H.byDriver.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:3,className:"px-4 py-6 text-center text-txt-muted font-medium",children:"Nenhum dado encontrado para o periodo."})}),H.byDriver.map(q=>a.jsxs("tr",{className:"hover:bg-app transition-colors",children:[a.jsx("td",{className:"px-4 py-4 font-bold text-txt-main",children:q.name}),a.jsx("td",{className:"px-4 py-4 text-center font-medium text-txt-main",children:q.count}),a.jsx("td",{className:"px-4 py-4 text-right font-medium text-txt-main",children:_l(q.gross)})]},q.id))]})]}):a.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-txt-muted bg-app/50 rounded-2xl border border-dashed border-bdr",children:[a.jsx("div",{className:"bg-surface p-6 rounded-full mb-4 shadow-sm border border-bdr",children:a.jsx(lA,{className:"w-10 h-10 text-txt-muted"})}),a.jsx("p",{className:"font-bold text-txt-muted",children:"Nenhum dado encontrado"}),a.jsx("p",{className:"text-xs mt-1",children:"Selecione um filtro ou altere a data para visualizar os detalhes desta aba."})]})})]})]})})]})};function aP(){return crypto.randomUUID()}function iP({isOpen:t,onClose:e}){const[r,n]=F.useState(""),[i,l]=F.useState(""),[d,u]=F.useState(""),[h,m]=F.useState("FIXA"),[g,b]=F.useState(0),[B,w]=F.useState(!1),[S,U]=F.useState(!1);if(!t)return null;const k=async()=>{if(!r||!i||!d){alert("Preencha os campos obrigatrios.");return}try{U(!0);const C=new Date().toISOString(),O={id:aP(),description:r,amount:parseFloat(i),due_date:d,status:B?"PAGO":"PENDENTE",paid_date:B?C:null,category:h,is_fixed:h==="FIXA"||h==="SALARIO",deposit_id:null,alert_days_before:Number(g),created_at:C,updated_at:C};await db.expenses.put(O),await enqueueOutboxEvent({entity:"expenses",action:"UPSERT",entity_id:O.id,payload_json:O}),alert("Despesa salva com sucesso!"),e()}catch(C){console.error("Erro ao salvar despesa:",C),alert("Erro ao salvar.")}finally{U(!1)}};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg w-full max-w-md text-white",children:[a.jsx("h2",{className:"text-xl font-bold mb-4",children:"Nova Despesa"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1",children:"Descrio"}),a.jsx("input",{className:"w-full p-2 rounded bg-gray-700 border border-gray-600",value:r,onChange:C=>n(C.target.value),placeholder:"Ex: Conta de Luz"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1",children:"Valor (R$)"}),a.jsx("input",{type:"number",className:"w-full p-2 rounded bg-gray-700 border border-gray-600",value:i,onChange:C=>l(C.target.value),placeholder:"0.00"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1",children:"Vencimento"}),a.jsx("input",{type:"date",className:"w-full p-2 rounded bg-gray-700 border border-gray-600",value:d,onChange:C=>u(C.target.value)})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1",children:"Categoria"}),a.jsxs("select",{className:"w-full p-2 rounded bg-gray-700 border border-gray-600",value:h,onChange:C=>m(C.target.value),children:[a.jsx("option",{value:"FIXA",children:"Despesa Fixa"}),a.jsx("option",{value:"VARIAVEL",children:"Despesa Varivel"}),a.jsx("option",{value:"SALARIO",children:"Salrio / Pessoal"}),a.jsx("option",{value:"IMPOSTO",children:"Imposto"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1",children:"Alerta Vencimento"}),a.jsxs("select",{className:"w-full p-2 rounded bg-gray-700 border border-gray-600",value:g,onChange:C=>b(Number(C.target.value)),children:[a.jsx("option",{value:0,children:"Sem alerta"}),a.jsx("option",{value:1,children:"1 dia antes"}),a.jsx("option",{value:2,children:"2 dias antes"}),a.jsx("option",{value:3,children:"3 dias antes"})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[a.jsx("input",{type:"checkbox",id:"paidCheck",checked:B,onChange:C=>w(C.target.checked),className:"w-4 h-4"}),a.jsx("label",{htmlFor:"paidCheck",className:"text-sm cursor-pointer select-none",children:"J est pago? (Baixa automtica)"})]})]}),a.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[a.jsx("button",{onClick:e,className:"px-4 py-2 rounded bg-gray-600 hover:bg-gray-500",children:"Cancelar"}),a.jsx("button",{onClick:k,disabled:S,className:"px-4 py-2 rounded bg-orange-500 hover:bg-orange-600 disabled:opacity-50",children:S?"Salvando...":"Salvar Despesa"})]})]})})}function oP({isOpen:t,onClose:e,onSaved:r}){const[n,i]=F.useState(""),[l,d]=F.useState(""),[u,h]=F.useState(""),[m,g]=F.useState(""),[b,B]=F.useState([]),[w,S]=F.useState(!1);if(F.useEffect(()=>{if(!t)return;let k=!0;return(async()=>{try{const O=await Uc.getAll();k&&B(O||[])}catch(O){console.error("Erro ao carregar clientes",O),k&&B([])}})(),()=>{k=!1}},[t]),!t)return null;const U=async()=>{if(!n||!l||!u){alert("Preencha descricao, valor e vencimento.");return}try{S(!0);const k=parseFloat(l);if(Number.isNaN(k)||k<=0){alert("Informe um valor valido.");return}const C=new Date(`${u}T00:00:00`).getTime();if(!Number.isFinite(C)){alert("Data de vencimento invalida.");return}const O=m&&b.find(D=>D.id===m)||null;await Ao.createReceivable({order_id:null,deposit_id:null,client_id:m||null,client_name:(O==null?void 0:O.name)||n,original_amount:k,paid_amount:0,remaining_amount:k,status:"PENDENTE",due_date:new Date(C).toISOString().split("T")[0],notes:n,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}),alert("Conta a receber criada com sucesso!"),r==null||r(),e(),i(""),d(""),h(""),g("")}catch(k){console.error(k),alert("Erro ao salvar.")}finally{S(!1)}};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg w-full max-w-md text-white",children:[a.jsx("h2",{className:"text-xl font-bold mb-4 text-green-400",children:"Nova Conta a Receber"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1",children:"Descricao"}),a.jsx("input",{className:"w-full p-2 rounded bg-gray-700 border border-gray-600",value:n,onChange:k=>i(k.target.value),placeholder:"Ex: Emprestimo, Venda sem nota..."})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1",children:"Valor (R$)"}),a.jsx("input",{type:"number",className:"w-full p-2 rounded bg-gray-700 border border-gray-600",value:l,onChange:k=>d(k.target.value),placeholder:"0.00"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1",children:"Vencimento"}),a.jsx("input",{type:"date",className:"w-full p-2 rounded bg-gray-700 border border-gray-600",value:u,onChange:k=>h(k.target.value)})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1",children:"Cliente (Opcional)"}),a.jsxs("select",{className:"w-full p-2 rounded bg-gray-700 border border-gray-600",value:m,onChange:k=>g(k.target.value),children:[a.jsx("option",{value:"",children:"Selecione um cliente..."}),b.map(k=>a.jsx("option",{value:k.id,children:k.name},k.id))]})]})]}),a.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[a.jsx("button",{onClick:e,className:"px-4 py-2 rounded bg-gray-600 hover:bg-gray-500",children:"Cancelar"}),a.jsx("button",{onClick:U,disabled:w,className:"px-4 py-2 rounded bg-green-600 hover:bg-green-700 disabled:opacity-50",children:w?"Salvando...":"Criar Conta"})]})]})})}const M5=2e4,Gx="00000000-0000-0000-0000-000000000001";function lP({isOpen:t,onClose:e,defaultGoal:r}){const[n,i]=F.useState(""),[l,d]=F.useState(""),[u,h]=F.useState(!1);if(F.useEffect(()=>{if(!t)return;(async()=>{const b=db.financial_settings,S=await b.get(Gx)??await b.toCollection().first()??null,U=(S==null?void 0:S.id)??Gx;d(U),(S==null?void 0:S.monthly_goal)!=null?i(String(S.monthly_goal)):r!=null?i(String(r)):i(String(M5))})()},[t,r]),!t)return null;const m=async()=>{const g=Number(n);if(Number.isNaN(g)||g<0){alert("Informe um valor vlido para a meta mensal.");return}try{h(!0);const b=Gx,B={id:b,monthly_goal:g,updated_at:new Date().toISOString()};await db.financial_settings.put(B),await enqueueOutboxEvent({entity:"financial_settings",action:"UPSERT",entity_id:b,payload_json:B}),e()}catch(b){console.error("Erro ao salvar meta mensal",b),alert("No foi possvel salvar a meta.")}finally{h(!1)}};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:a.jsxs("div",{className:"w-full max-w-md rounded-xl bg-surface border border-bdr shadow-2xl p-6 space-y-6 animate-in zoom-in-95 duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-black uppercase tracking-widest text-txt-muted",children:"Configurao"}),a.jsx("h2",{className:"text-xl font-black text-txt-main",children:"Meta Mensal de Faturamento"})]}),a.jsx("button",{onClick:e,className:"text-txt-muted hover:text-txt-main transition-colors","aria-label":"Fechar",children:""})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-bold text-txt-muted uppercase tracking-wide",children:"Valor da Meta (R$)"}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-txt-muted font-bold",children:"R$"}),a.jsx("input",{type:"number",min:"0",step:"100",className:"w-full bg-app border border-bdr rounded-xl p-3 pl-10 text-lg font-black text-txt-main focus:ring-2 focus:ring-yellow-500 outline-none",value:n,onChange:g=>i(g.target.value),placeholder:String(M5)})]}),a.jsx("p",{className:"text-[11px] text-txt-muted font-medium",children:'Defina o alvo mensal que aparecer no carto de "Meta Mensal" e ser sincronizado com o servidor.'})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[a.jsx("button",{onClick:e,className:"px-4 py-2 rounded-lg border border-bdr text-txt-muted hover:text-txt-main hover:border-txt-main/40 transition-colors",type:"button",children:"Cancelar"}),a.jsx("button",{onClick:m,disabled:u,className:"px-5 py-2 rounded-lg bg-yellow-500 hover:bg-yellow-600 text-white font-black uppercase tracking-wide shadow-lg shadow-yellow-500/20 disabled:opacity-60",type:"button",children:u?"Salvando...":"Salvar"})]})]})})}const $x="id,receivable_id,amount,bank_name,barcode,digitable_line,pdf_url,status,due_date,issue_date,created_at,updated_at",AP=t=>t?typeof t=="number"?new Date(t).toISOString().split("T")[0]:t:null,xm={async getByReceivableId(t){const{data:e,error:r}=await Le.from("boletos").select($x).eq("receivable_id",t).order("created_at",{ascending:!1}).limit(1).maybeSingle();if(r&&r.code!=="PGRST116")throw new Error(`Erro ao buscar boleto: ${r.message}`);return e||null},async upsert(t){const e=new Date().toISOString(),r={...t,due_date:AP(t.due_date)??null,issue_date:t.issue_date??e,updated_at:e},{data:n,error:i}=await Le.from("boletos").upsert(r).select($x).maybeSingle();if(i)throw new Error(`Erro ao salvar boleto: ${i.message}`);if(!n)throw new Error("Boleto nao retornou apos salvar");return n},async updateStatus(t,e){const{data:r,error:n}=await Le.from("boletos").update({status:e,updated_at:new Date().toISOString()}).eq("id",t).select($x).maybeSingle();if(n)throw new Error(`Erro ao atualizar boleto: ${n.message}`);if(!r)throw new Error("Boleto nao retornou apos atualizar");return r}},P5={bank_name:"",barcode:"",digitable_line:"",pdf_url:"",status:"PENDENTE",due_date:""},cP={PENDENTE:{label:"Pendente",badge:"bg-amber-500/10 text-amber-500 border-amber-500/30"},GERADO:{label:"Gerado",badge:"bg-yellow-500/10 text-yellow-500 border-yellow-500/30"},ENVIADO:{label:"Enviado",badge:"bg-blue-500/10 text-blue-400 border-blue-500/30"},PAGO:{label:"Pago",badge:"bg-green-500/10 text-green-500 border-green-500/30"},CANCELADO:{label:"Cancelado",badge:"bg-red-500/10 text-red-500 border-red-500/30"}},Zx=t=>t?t.slice(0,10):"",H5=t=>t.toLocaleString("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:2}),dP=({receivable:t,onClose:e,onSaved:r})=>{const[n,i]=F.useState(!0),[l,d]=F.useState(!1),[u,h]=F.useState(!1),[m,g]=F.useState(null),[b,B]=F.useState(null),[w,S]=F.useState({...P5}),[U,k]=F.useState(!1),[C,O]=F.useState(!1),D=Number(t.remaining_amount??t.original_amount??0);F.useEffect(()=>{let G=!0;return(async()=>{i(!0),g(null);try{const K=await xm.getByReceivableId(t.id);if(!G)return;B(K),K?(S({bank_name:K.bank_name??"",barcode:K.barcode??"",digitable_line:K.digitable_line??"",pdf_url:K.pdf_url??"",status:K.status??"PENDENTE",due_date:Zx(K.due_date)||Zx(t.due_date)}),k(!1)):(S({...P5,due_date:Zx(t.due_date)}),k(!0))}catch{if(!G)return;g("Nao foi possivel carregar o boleto."),B(null),k(!0)}finally{G&&i(!1)}})(),()=>{G=!1}},[t.id,t.due_date]);const H=F.useMemo(()=>{const G=(b==null?void 0:b.status)??"PENDENTE";return cP[G]},[b==null?void 0:b.status]),re=(G,de)=>{S(K=>({...K,[G]:de}))},q=async()=>{if(g(null),!w.bank_name||!w.digitable_line){g("Preencha banco e linha digitavel.");return}if(!Number.isFinite(D)||D<=0){g("Valor do boleto invalido.");return}try{d(!0);const G={id:b==null?void 0:b.id,receivable_id:t.id,amount:D,bank_name:w.bank_name.trim()||null,barcode:w.barcode.trim()||null,digitable_line:w.digitable_line.trim(),pdf_url:w.pdf_url.trim()||null,status:w.status||"PENDENTE",due_date:w.due_date||t.due_date||null,issue_date:(b==null?void 0:b.issue_date)??null},de=await xm.upsert(G);B(de),k(!1),r==null||r(de)}catch(G){console.error(G),g("Nao foi possivel salvar o boleto.")}finally{d(!1)}},ne=async()=>{var G;if(b!=null&&b.digitable_line)try{await((G=navigator.clipboard)==null?void 0:G.writeText(b.digitable_line)),O(!0),setTimeout(()=>O(!1),1500)}catch{g("Falha ao copiar a linha digitavel.")}},te=async()=>{if(b!=null&&b.id){g(null);try{h(!0);const G=await xm.updateStatus(b.id,"PAGO");await Ao.markReceivableAsPaid(t.id,null,Number(D||0)),B(G),r==null||r(G)}catch(G){console.error(G),g("Nao foi possivel marcar como pago.")}finally{h(!1)}}};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:a.jsxs("div",{className:"w-full max-w-3xl rounded-2xl border border-bdr bg-surface shadow-2xl",children:[a.jsxs("div",{className:"flex items-center justify-between border-b border-bdr px-6 py-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"rounded-lg bg-yellow-500/10 p-2 border border-yellow-500/20",children:a.jsx(ib,{className:"h-5 w-5 text-yellow-500"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[11px] font-black uppercase tracking-widest text-txt-muted",children:"Gestao de Boleto"}),a.jsx("h3",{className:"text-lg font-black text-txt-main",children:U||!b?"Cadastrar boleto":"Resumo do boleto"}),a.jsxs("p",{className:"text-xs text-txt-muted font-semibold",children:["Conta: ",t.notes||t.client_name||"Conta"]}),a.jsxs("p",{className:"text-[11px] text-txt-muted",children:["Valor ",H5(Number(D||0))," | Venc."," ",t.due_date?new Date(t.due_date).toLocaleDateString("pt-BR"):"-"]})]})]}),a.jsx("button",{onClick:e,className:"rounded-full p-2 text-txt-muted hover:bg-app hover:text-txt-main transition-colors",title:"Fechar",children:a.jsx(Vn,{className:"h-5 w-5"})})]}),n?a.jsxs("div",{className:"px-6 py-6 space-y-4 animate-pulse",children:[a.jsx("div",{className:"h-5 w-40 rounded bg-app"}),a.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[a.jsx("div",{className:"h-20 rounded bg-app"}),a.jsx("div",{className:"h-20 rounded bg-app"})]}),a.jsx("div",{className:"h-24 rounded bg-app"})]}):a.jsxs("div",{className:"px-6 py-4 space-y-4",children:[m&&a.jsx("div",{className:"rounded-lg border border-red-500/40 bg-red-500/10 px-4 py-3 text-sm text-red-200",children:m}),U||!b?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-bold uppercase tracking-wide text-txt-muted",children:"Banco"}),a.jsx("input",{className:"w-full rounded-lg border border-bdr bg-app px-3 py-2 text-sm text-txt-main focus:border-yellow-600 focus:outline-none",value:w.bank_name,onChange:G=>re("bank_name",G.target.value),placeholder:"Banco do Brasil"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-bold uppercase tracking-wide text-txt-muted",children:"Codigo de barras"}),a.jsx("input",{className:"w-full rounded-lg border border-bdr bg-app px-3 py-2 text-sm text-txt-main focus:border-yellow-600 focus:outline-none",value:w.barcode,onChange:G=>re("barcode",G.target.value),placeholder:"Opcional"})]})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-bold uppercase tracking-wide text-txt-muted",children:"Linha digitavel"}),a.jsx("input",{className:"w-full rounded-lg border border-bdr bg-app px-3 py-2 text-sm text-txt-main focus:border-yellow-600 focus:outline-none",value:w.digitable_line,onChange:G=>re("digitable_line",G.target.value),placeholder:"00000.00000 00000.000000 00000.000000 0 00000000000000"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-bold uppercase tracking-wide text-txt-muted",children:"Link PDF"}),a.jsx("input",{className:"w-full rounded-lg border border-bdr bg-app px-3 py-2 text-sm text-txt-main focus:border-yellow-600 focus:outline-none",value:w.pdf_url,onChange:G=>re("pdf_url",G.target.value),placeholder:"https://..."})]})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-bold uppercase tracking-wide text-txt-muted",children:"Vencimento"}),a.jsx("input",{type:"date",className:"w-full rounded-lg border border-bdr bg-app px-3 py-2 text-sm text-txt-main focus:border-yellow-600 focus:outline-none",value:w.due_date,onChange:G=>re("due_date",G.target.value)})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-bold uppercase tracking-wide text-txt-muted",children:"Status"}),a.jsxs("select",{className:"w-full rounded-lg border border-bdr bg-app px-3 py-2 text-sm text-txt-main focus:border-yellow-600 focus:outline-none",value:w.status,onChange:G=>re("status",G.target.value),children:[a.jsx("option",{value:"PENDENTE",children:"Pendente"}),a.jsx("option",{value:"GERADO",children:"Gerado"}),a.jsx("option",{value:"ENVIADO",children:"Enviado"}),a.jsx("option",{value:"PAGO",children:"Pago"}),a.jsx("option",{value:"CANCELADO",children:"Cancelado"})]})]})]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{className:"rounded-xl border border-bdr bg-app p-4",children:[a.jsx("div",{className:"text-xs font-bold uppercase tracking-wide text-txt-muted",children:"Banco"}),a.jsx("div",{className:"text-sm font-black text-txt-main",children:b.bank_name||"-"}),a.jsx("div",{className:"mt-3 text-xs font-bold uppercase tracking-wide text-txt-muted",children:"Codigo de barras"}),a.jsx("div",{className:"text-sm font-semibold text-txt-main",children:b.barcode||"-"})]}),a.jsxs("div",{className:"rounded-xl border border-bdr bg-app p-4",children:[a.jsx("div",{className:"text-xs font-bold uppercase tracking-wide text-txt-muted",children:"Status"}),a.jsx("div",{className:`inline-flex items-center rounded border px-2 py-1 text-[10px] font-black uppercase ${H.badge}`,children:H.label}),a.jsx("div",{className:"mt-3 text-xs font-bold uppercase tracking-wide text-txt-muted",children:"Valor"}),a.jsx("div",{className:"text-lg font-black text-txt-main",children:H5(Number(b.amount||0))})]})]}),a.jsxs("div",{className:"rounded-xl border border-bdr bg-app p-4 space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between gap-3",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-xs font-bold uppercase tracking-wide text-txt-muted",children:"Linha digitavel"}),a.jsx("div",{className:"font-mono text-xs text-txt-main break-all",children:b.digitable_line||"-"})]}),a.jsxs("button",{onClick:ne,className:"inline-flex items-center gap-2 rounded-lg border border-bdr bg-surface px-3 py-2 text-xs font-bold text-txt-muted hover:text-txt-main",disabled:!b.digitable_line,children:[C?a.jsx(vc,{className:"h-4 w-4"}):a.jsx(YS,{className:"h-4 w-4"}),C?"Copiado":"Copiar"]})]}),a.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-xs font-bold uppercase tracking-wide text-txt-muted",children:"Vencimento"}),a.jsx("div",{className:"text-sm text-txt-main",children:b.due_date?new Date(b.due_date).toLocaleDateString("pt-BR"):"-"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs font-bold uppercase tracking-wide text-txt-muted",children:"Emissao"}),a.jsx("div",{className:"text-sm text-txt-main",children:b.issue_date?new Date(b.issue_date).toLocaleDateString("pt-BR"):"-"})]})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[b.pdf_url&&a.jsxs("a",{href:b.pdf_url,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 rounded-lg border border-bdr bg-app px-3 py-2 text-xs font-bold text-txt-muted hover:text-txt-main",children:[a.jsx(o3,{className:"h-4 w-4"}),"Ver PDF"]}),a.jsxs("button",{onClick:()=>k(!0),className:"inline-flex items-center gap-2 rounded-lg border border-bdr bg-app px-3 py-2 text-xs font-bold text-txt-muted hover:text-txt-main",children:[a.jsx(pv,{className:"h-4 w-4"}),"Editar"]}),a.jsxs("button",{onClick:te,className:"inline-flex items-center gap-2 rounded-lg bg-green-600 px-3 py-2 text-xs font-black uppercase tracking-wide text-white hover:bg-green-700 disabled:opacity-60",disabled:u||(b==null?void 0:b.status)==="PAGO",children:[u?a.jsx(rl,{className:"h-4 w-4 animate-spin"}):a.jsx(vc,{className:"h-4 w-4"}),"Marcar como pago"]})]})]})]}),a.jsxs("div",{className:"flex items-center justify-end gap-3 border-t border-bdr px-6 py-4",children:[a.jsx("button",{onClick:e,className:"rounded-lg border border-bdr px-4 py-2 text-sm font-bold text-txt-muted hover:bg-app transition-colors",disabled:l||u,children:"Fechar"}),(U||!b)&&a.jsxs("button",{onClick:q,disabled:l,className:"inline-flex items-center gap-2 rounded-lg bg-yellow-500 px-4 py-2 text-sm font-black uppercase tracking-wide text-black transition-colors hover:bg-yellow-600 disabled:opacity-50",children:[l?a.jsx(rl,{className:"h-4 w-4 animate-spin"}):a.jsx(ib,{className:"h-4 w-4"}),"Salvar dados do boleto"]})]})]})})},uP="https://ecvfhrbwytwizxikqsyy.supabase.co",hP="sb_publishable_lJUcZH_D8m9u57L00a4PlQ_UnbwK6UJ",Xx=Hv(uP,hP,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0},realtime:{params:{eventsPerSecond:10}}}),uE=F.createContext(void 0),fP=({currentUser:t,children:e})=>{const[r,n]=F.useState(null),[i,l]=F.useState(!0),d=F.useCallback(async()=>{if(!(t!=null&&t.id)||!(t!=null&&t.depositoId)){n(null),l(!1);return}l(!0);const{data:g,error:b}=await Xx.from("work_shifts").select("*").eq("user_id",t.id).eq("deposit_id",t.depositoId).eq("status","OPEN").maybeSingle();b&&console.error("Erro ao buscar turno:",b);const B=g,w=B?{id:B.id,depositoId:B.deposit_id,user_id:B.user_id,status:B.status,opened_at:Date.parse(B.opened_at),closed_at:B.closed_at?Date.parse(B.closed_at):null,opening_balance:B.opening_balance,closing_balance:B.closing_balance,declared_cash:B.declared_cash,declared_card:B.declared_card,declared_pix:B.declared_pix,system_cash:B.system_cash,system_card:B.system_card,system_pix:B.system_pix,notes:null,user_name:void 0}:null;n(w),l(!1)},[t==null?void 0:t.id,t==null?void 0:t.depositoId]);F.useEffect(()=>{d()},[d]);const u=F.useCallback(async g=>{if(!(t!=null&&t.id)||!(t!=null&&t.depositoId))return null;const b=new Date().toISOString(),{data:B,error:w}=await Xx.from("work_shifts").insert({user_id:t.id,deposit_id:t.depositoId,status:"OPEN",opened_at:b,opening_balance:g.openingBalance}).select().single();if(w)return console.error("Erro ao abrir turno:",w),null;const S=B,U={id:S.id,depositoId:S.deposit_id,user_id:S.user_id,status:S.status,opened_at:Date.parse(S.opened_at),opening_balance:S.opening_balance,closing_balance:S.closing_balance,declared_cash:S.declared_cash,declared_card:S.declared_card,declared_pix:S.declared_pix,system_cash:S.system_cash,system_card:S.system_card,system_pix:S.system_pix,closed_at:S.closed_at?Date.parse(S.closed_at):null,notes:null,user_name:void 0};return n(U),U},[t==null?void 0:t.id,t==null?void 0:t.depositoId,t==null?void 0:t.nome]),h=F.useCallback(async g=>{if(!r)return null;const{data:b,error:B}=await Xx.from("work_shifts").update({status:g.status,closed_at:new Date().toISOString(),declared_cash:g.declared.cash,declared_card:g.declared.card,declared_pix:g.declared.pix,system_cash:g.system.cash,system_card:g.system.card,system_pix:g.system.pix,closing_balance:g.declared.cash+g.declared.card+g.declared.pix}).eq("id",r.id).select().single();if(B)return console.error("Erro ao fechar turno:",B),null;n(null);const w=b;return{id:w.id,depositoId:w.deposit_id,user_id:w.user_id,status:w.status,opened_at:Date.parse(w.opened_at),opening_balance:w.opening_balance,closing_balance:w.closing_balance,declared_cash:w.declared_cash,declared_card:w.declared_card,declared_pix:w.declared_pix,system_cash:w.system_cash,system_card:w.system_card,system_pix:w.system_pix,closed_at:w.closed_at?Date.parse(w.closed_at):null,notes:null,user_name:void 0}},[r]),m=F.useMemo(()=>({activeShift:r,loading:i,refresh:d,openShift:u,closeShift:h}),[r,i,d,u,h]);return a.jsx(uE.Provider,{value:m,children:e})},mg=()=>{const t=F.useContext(uE);if(!t)throw new Error("useShift must be used within ShiftProvider");return t},pP=({onClose:t,onNavigate:e})=>{const[r,n]=F.useState("overview"),[i,l]=F.useState(!1),[d,u]=F.useState(!1),[h,m]=F.useState(!1),[g,b]=F.useState("all"),[B,w]=F.useState(null),[S,U]=F.useState(null),[k,C]=F.useState(""),[O,D]=F.useState(""),[H,re]=F.useState(()=>new Date().toISOString().slice(0,10)),[q,ne]=F.useState(""),[te,G]=F.useState(""),[de,K]=F.useState(()=>new Date().toISOString().slice(0,10)),[W,ie]=F.useState(!1),[z,he]=F.useState(null),[V,me]=F.useState({}),[ee,Ce]=F.useState(()=>new Date().toISOString().slice(0,10)),[Ne,M]=F.useState(()=>{const Z=new Date;return Z.setDate(Z.getDate()+30),Z.toISOString().slice(0,10)}),[T,$]=F.useState([]),[X,Ae]=F.useState([]),xe=Xa(()=>{var Z;return(Z=Xr.financial_settings)==null?void 0:Z.toCollection().first()},[]),Be=Xa(()=>{var Z;return(Z=Xr.payment_methods)==null?void 0:Z.toArray()},[]),ke=Xa(()=>{var Z;return(Z=Xr.service_orders)==null?void 0:Z.toArray()},[]),ge=Xa(()=>{var Z;return(Z=Xr.employees)==null?void 0:Z.toArray()},[]),je=Xa(()=>{var Z;return(Z=Xr.deposits)==null?void 0:Z.toArray()},[]),Qe=Xa(()=>{var Z;return(Z=Xr.clients)==null?void 0:Z.toArray()},[]),{activeShift:Re}=mg(),lt=Xa(()=>{var Z;return Re!=null&&Re.id?(Z=Xr.cash_flow_entries)==null?void 0:Z.where("shift_id").equals(Re.id).toArray():[]},[Re==null?void 0:Re.id]),Lt=Xa(()=>{var Z;return(Z=Xr.stock_movements)==null?void 0:Z.toArray()},[]),[fe,ft]=F.useState({monthlyGoal:2e4,minCashAlert:500,showCents:!0}),St=(xe==null?void 0:xe.monthly_goal)??fe.monthlyGoal;F.useEffect(()=>{const Z=localStorage.getItem("gp_fin_config");Z&&ft(JSON.parse(Z))},[]);const st=async()=>{try{const Z=await Ao.listReceivables();$(Z||[])}catch(Z){console.error("Erro ao carregar recebiveis",Z),$([])}},ue=async Z=>{if(!Z){Ae([]);return}try{const Je=await Ao.listReceivablePayments(Z);Ae(Je||[])}catch(Je){console.error("Erro ao carregar pagamentos",Je),Ae([])}};F.useEffect(()=>{let Z=!0;return Z&&(async()=>{await st()})(),()=>{Z=!1}},[]),F.useEffect(()=>{let Z=!0;return Z&&(async()=>{await ue(B)})(),()=>{Z=!1}},[B]);const Ze=({id:Z,label:Je,icon:mt})=>a.jsxs("button",{onClick:()=>n(Z),className:`flex items-center gap-2 px-4 py-3 text-sm font-medium transition-all relative ${r===Z?"text-yellow-600 bg-yellow-500/10":"text-txt-muted hover:text-txt-main hover:bg-surface"}`,children:[a.jsx(mt,{className:`w-4 h-4 ${r===Z?"text-yellow-600":"text-txt-muted"}`}),Je,r===Z&&a.jsx("div",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-yellow-500"})]}),Ve=Z=>Z.toLocaleString("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:fe.showCents?2:0}),gt=Z=>new Date(`${Z}T00:00:00`).getTime(),bt=Z=>{if(!Z)return 0;if(typeof Z=="number")return Z;if(typeof Z=="string"){const mt=Z.trim();if(mt&&!Number.isNaN(Number(mt)))return Number(mt)}const Je=new Date(Z).getTime();return Number.isNaN(Je)?0:Je},nr=Z=>{if(!Number.isFinite(Z))return;const Je=gt(ee),mt=gt(Ne)+1440*60*1e3-1,nt=new Date(Z).toISOString().slice(0,10);Z<Je&&Ce(nt),Z>mt&&M(nt)},Jt=Z=>{const Je=Z.historico_json??Z.historico??Z.history??[],mt=Z.pagamentos_json??Z.pagamentos??Z.payments??[],nt=bt(Z.data_hora_criacao??Z.dataHoraCriacao??Z.created_at_ms??Z.created_at??Z.createdAt??0),Ot=bt(Z.data_hora_conclusao??Z.dataHoraConclusao??Z.completed_at??Z.completedAt??0),_t=RA(Z);return{id:String(Z.id??""),numeroOs:String(Z.numero_os??Z.numeroOs??Z.order_number??Z.orderNumber??Z.number??Z.id??""),depositoId:_t.depositoId,clienteId:Z.cliente_id??Z.clienteId??Z.client_id??Z.clientId??null,clienteNome:Z.cliente_nome??Z.clienteNome??Z.client_name??Z.clientName??"",entregadorId:Z.entregador_id??Z.entregadorId??Z.driver_id??Z.driverId??null,status:Z.status??Z.order_status??"PENDENTE",statusEntrega:Z.status_entrega??Z.statusEntrega??Z.delivery_status??null,tipoAtendimento:Z.tipo_atendimento??Z.tipoAtendimento??Z.service_type??"BALCAO",total:Number(Z.total??Z.total_amount??Z.amount??0)||0,createdAtMs:nt,concludedAtMs:Ot,historico:Array.isArray(Je)?Je:[],pagamentos:Array.isArray(mt)?mt:[]}},Wt=Z=>{const Je=String(Z.status??"").toUpperCase(),mt=String(Z.statusEntrega??"").toUpperCase();return Je==="ABERTO"||Je==="OPEN"||Je==="PENDENTE"||Je==="EM_ANDAMENTO"||Je==="PENDENTE_ENTREGA"||mt==="EM_ROTA"},yr=gt(ee),sr=gt(Ne),Dt=sr+1440*60*1e3-1,er=r==="audit"&&(ke===void 0||ge===void 0||je===void 0||Qe===void 0),Zt=null,Hr=F.useMemo(()=>(ke??[]).map(Jt).filter(Z=>Z.createdAtMs?Z.createdAtMs>=yr&&Z.createdAtMs<=Dt:!1).sort((Z,Je)=>Je.createdAtMs-Z.createdAtMs),[ke,yr,Dt]),cr=ge??[],Yt=je??[],Xt=Qe??[],ar=Z=>Number(Z.original_amount??0),Vt=Z=>Number(Z.paid_amount??0),Nr=Z=>Number(Z.remaining_amount??Math.max(0,ar(Z)-Vt(Z))),Pt=Z=>{if(!Z.due_date)return NaN;const Je=new Date(`${Z.due_date}T00:00:00`).getTime();return Number.isNaN(Je)?NaN:Je},tr=(T||[]).map(Z=>{const Je=ar(Z),mt=Vt(Z),nt=Nr(Z),Ot=Pt(Z),_t=Number.isFinite(Ot)&&Ot<Date.now()&&nt>0,Gt=_t?"ATRASADO":Z.status??"PENDENTE";return{...Z,total:Je,paid:mt,remaining:nt,dueMs:Ot,overdue:_t,status:Gt}}),Ue=new Map((Be||[]).map(Z=>[Z.id,Z.name??Z.nome])),Ke=B&&tr.find(Z=>Z.id===B)||null,ot=z&&tr.find(Z=>Z.id===z)||null,ut=tr.filter(Z=>!(!Number.isFinite(Z.dueMs)||yr&&Z.dueMs<yr||sr&&Z.dueMs>sr+1440*60*1e3||g==="personal"&&Z.client_id||g==="with-client"&&!Z.client_id));tr.filter(Z=>Z.status!=="PAGO").reduce((Z,Je)=>Z+Je.remaining,0);const rr=ut.filter(Z=>Z.status!=="PAGO").reduce((Z,Je)=>Z+Je.remaining,0);F.useEffect(()=>{if(r!=="receivable")return;let Z=!0;return(async()=>{const mt=ut.map(Ot=>Ot.id).filter(Ot=>!Object.prototype.hasOwnProperty.call(V,Ot));if(!mt.length)return;const nt=await Promise.all(mt.map(async Ot=>{try{const _t=await xm.getByReceivableId(Ot);return{id:Ot,boleto:_t,ok:!0}}catch{return{id:Ot,boleto:null,ok:!1}}}));Z&&me(Ot=>{const _t={...Ot};for(const Gt of nt)Gt.ok&&(Object.prototype.hasOwnProperty.call(_t,Gt.id)||(_t[Gt.id]=Gt.boleto));return _t})})(),()=>{Z=!1}},[r,ut,V]);const or=Z=>Z?Z.status==="PAGO"?"bg-green-500/10 text-green-500 border-green-500/30 hover:bg-green-500/20":Z.status==="CANCELADO"?"bg-red-500/10 text-red-500 border-red-500/30 hover:bg-red-500/20":"bg-amber-500/10 text-amber-500 border-amber-500/30 hover:bg-amber-500/20":"bg-app text-txt-muted border-bdr hover:text-txt-main",qr=Z=>Z?"Ver boleto":"Emitir",dn=Z=>{he(Z),ie(!0)},It=Z=>{Z.receivable_id&&me(Je=>({...Je,[Z.receivable_id]:Z}))},An=()=>{ie(!1),he(null)},wn=async(Z,Je,mt)=>{const nt=tr.find(Gt=>Gt.id===Z);if(!nt)return;const Ot=nt.remaining;if(Ot<=0)return alert("Nada pendente para quitar.");const _t=mt?new Date(`${mt}T00:00:00`).getTime():void 0;await Ao.addReceivablePayment({receivableId:Z,amount:Ot,paymentMethod:Je||null,paidAt:_t,userId:(Re==null?void 0:Re.user_id)??null}),await st(),B===Z&&await ue(Z)},pn=async(Z,Je,mt,nt)=>{const Ot=tr.find(zt=>zt.id===Z);if(!Ot)return;const _t=Ot.remaining,Gt=Number(Je.replace(",","."));if(!Number.isFinite(Gt)||Gt<=0)return alert("Valor invlido.");if(Gt>_t)return alert("Valor maior que o pendente.");await Ao.addReceivablePayment({receivableId:Z,amount:Gt,paymentMethod:null,paidAt:void 0,userId:(Re==null?void 0:Re.user_id)??null}),await st(),B===Z&&await ue(Z)},sn=async(Z,Je)=>{const mt=new Date(Je+"T00:00:00").getTime();if(!Number.isFinite(mt))return alert("Data invlida.");await Ao.updateReceivable(Z,{due_date:Je}),await st(),ne(""),nr(mt)},Pr=async(Z,Je,mt)=>{if(!Z)return alert("Selecione uma conta.");const nt=Number(Je.replace(",",".")),Ot=new Date(mt+"T00:00:00").getTime();if(!Number.isFinite(nt)||nt<=0)return alert("Valor invlido.");if(!Number.isFinite(Ot))return alert("Data invlida.");const _t=await Ao.createReceivable({order_id:Z.order_id??null,deposit_id:Z.deposit_id??RA(Z).depositoId,client_id:Z.client_id??null,client_name:Z.client_name??"Cliente",original_amount:nt,paid_amount:0,remaining_amount:nt,status:"PENDENTE",due_date:new Date(Ot).toISOString().split("T")[0],notes:Z.notes??null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()});await st(),G(""),nr(Ot),_t!=null&&_t.id&&w(_t.id)},Ft=async()=>{if(!Ke)return;const Z=k||`${Ke.remaining}`,Je=Number(Z.replace(",","."));if(!Number.isFinite(Je)||Je<=0)return alert("Valor invlido.");const mt=H?new Date(`${H}T00:00:00`).getTime():void 0;S?await Ao.updateReceivablePayment(S,{amount:Je,paymentMethod:O||null,paidAt:mt??null,userId:(Re==null?void 0:Re.user_id)??null}):await Ao.addReceivablePayment({receivableId:Ke.id,amount:Je,paymentMethod:O||null,paidAt:mt,userId:(Re==null?void 0:Re.user_id)??null}),await st(),await ue(Ke.id),C(""),D(""),U(null)},Fn=async Z=>{confirm("Excluir esta conta a receber?")&&(await Ao.deleteReceivable(Z),await st(),B===Z&&(w(null),Ae([])))},Ms=async Z=>{if(!(Re!=null&&Re.id))return alert("Nenhum turno aberto para registrar movimentacao.");const mt=prompt(`Valor da ${Z==="SANGRIA"?"sangria":"suprimento"}?`);if(!mt)return;const nt=Number(mt.replace(",","."));if(!Number.isFinite(nt)||nt<=0)return alert("Valor invalido.");const Ot=prompt("Observacao (opcional)")||null;await Ao.registerCashFlow({category:Z,amount:nt,direction:Z==="SANGRIA"?"OUT":"IN",paymentType:"cash",notes:Ot,depositId:RA(Re).depositoId,userId:(Re==null?void 0:Re.user_id)??null,shiftId:(Re==null?void 0:Re.id)??null})},_n=rr,tn=0,Te=[],wt=[],qt=F.useMemo(()=>{const Z=(lt??[]).filter(mt=>{const nt=Number(mt.created_at??0)||0;return nt>=yr&&nt<=Dt}).sort((mt,nt)=>(mt.created_at??0)-(nt.created_at??0));let Je=0;return Z.map(mt=>{const nt=Number(mt.created_at??0)||0,Ot=Number(mt.amount??0)||0,_t=mt.direction==="OUT"?-1:1;Je+=_t*Ot;const Gt=String(mt.category??"MOVIMENTO").toUpperCase(),gr=_t>0?"green":_t<0?"red":"neutral";return{id:mt.id,time:nt?new Date(nt).toLocaleString("pt-BR"):"-",description:mt.notes??mt.reference_type??"Movimento",category:Gt,categoryTone:gr,user:mt.user_name??mt.user_id??"-",value:_t*Ot,status:mt.status??"POSTED",balance:Je,direction:mt.direction??"IN"}})},[lt,yr,Dt]),mr=F.useMemo(()=>{const Z=RA(Re||{});if(!(Re!=null&&Re.opened_at)||!Z.depositoId)return!1;const Je=Re.opened_at,mt=Re.closed_at??Date.now();return(ke??[]).map(Jt).filter(nt=>{const Ot=nt.createdAtMs??0;return!Ot||nt.depositoId&&nt.depositoId!==Z.depositoId?!1:Ot>=Je&&Ot<=mt}).some(nt=>Wt(nt))},[Re,ke]),Qr=F.useMemo(()=>{const Z=new Map;return cr.forEach(Je=>{const mt=Je.nome??Je.name??Je.username??Je.id??"";Je.id&&Z.set(String(Je.id),String(mt))}),Z},[cr]),Cn=F.useMemo(()=>{if(!(Re!=null&&Re.opened_at))return[];const Z=RA(Re),Je=Re.opened_at,mt=Re.closed_at??Date.now();return(ke??[]).map(Jt).filter(nt=>{const Ot=nt.createdAtMs??0;return!Ot||Z.depositoId&&nt.depositoId&&nt.depositoId!==Z.depositoId?!1:Ot>=Je&&Ot<=mt}).map(nt=>{var Br;const Ot=Array.isArray(nt.historico)?nt.historico:[],_t=Ot.find(rn=>String((rn==null?void 0:rn.acao)??"").toLowerCase().includes("cri")),Gt=(_t==null?void 0:_t.usuario)??((Br=Ot[0])==null?void 0:Br.usuario)??"-",gr=nt.entregadorId&&Qr.get(String(nt.entregadorId))||nt.entregadorId||"-",zt=nt.createdAtMs??0,In=zt?new Date(zt).toLocaleString("pt-BR"):"-",fs=[nt.status,nt.statusEntrega].filter(Boolean).map(rn=>String(rn));return{id:nt.id,osNumber:nt.numeroOs||nt.id,openedAt:In,openedAtMs:zt,operador:Gt,entregador:gr,status:fs.length?fs.join(" / "):"-",isOpen:Wt(nt)}}).sort((nt,Ot)=>(Ot.openedAtMs||0)-(nt.openedAtMs||0))},[Re,ke,Qr]),Gn=F.useMemo(()=>{if(!(Re!=null&&Re.opened_at))return[];const Z=RA(Re),Je=Re.opened_at,mt=Re.closed_at??Date.now();return(Lt??[]).map(nt=>{const Ot=new Date(nt.dataHora).getTime();return{...nt,whenMs:Ot}}).filter(nt=>!nt.whenMs||Z.depositoId&&nt.depositoId&&nt.depositoId!==Z.depositoId?!1:nt.whenMs>=Je&&nt.whenMs<=mt).map(nt=>({id:nt.id,when:nt.whenMs?new Date(nt.whenMs).toLocaleString("pt-BR"):"-",produto:nt.produtoNome??"-",tipo:nt.tipo??"-",quantidade:Number(nt.quantidade??0)||0,operador:nt.usuarioNome??nt.usuarioId??"-",motivo:nt.motivo??nt.origem??"-",whenMs:nt.whenMs??0})).sort((nt,Ot)=>(Ot.whenMs||0)-(nt.whenMs||0))},[Re,Lt]),Ps=F.useMemo(()=>{const Z=new Map;return Yt.forEach(Je=>{const mt=Je.nome??Je.name??Je.id??"";Je.id&&Z.set(String(Je.id),String(mt))}),Z},[Yt]),On=F.useMemo(()=>{const Z=new Map;return Xt.forEach(Je=>{const mt=Je.nome??Je.name??Je.id??"";Je.id&&Z.set(String(Je.id),String(mt))}),Z},[Xt]),As=F.useMemo(()=>Hr.map(Z=>{const Je=Z.entregadorId&&Qr.get(String(Z.entregadorId))||Z.entregadorId||"-",mt=Z.clienteNome||Z.clienteId&&On.get(String(Z.clienteId))||Z.clienteId||"-",nt=Z.createdAtMs?new Date(Z.createdAtMs).toLocaleString("pt-BR"):"-",Ot=Z.concludedAtMs?new Date(Z.concludedAtMs).toLocaleString("pt-BR"):"-",_t=Z.createdAtMs&&Z.concludedAtMs&&Z.concludedAtMs>=Z.createdAtMs?Math.round((Z.concludedAtMs-Z.createdAtMs)/6e4):0,Gt=String(Z.status??"").toUpperCase(),gr=Gt==="CONCLUIDA"||Gt==="CONCLUIDO"?"CONCLUIDO":Gt==="CANCELADA"||Gt==="CANCELADO"?"CANCELADO":"PENDENTE";return{osNumber:Z.numeroOs||Z.id,client:mt,driver:Je,openedAt:nt,closedAt:Ot,durationMinutes:_t,status:gr}}),[Hr,On,Qr]),le=F.useMemo(()=>{const Z=ve=>String(ve??"").toLowerCase().normalize("NFD").replace(new RegExp("\\p{Diacritic}","gu"),""),Je={},mt={},nt={},Ot={},_t={},Gt={};Hr.forEach(ve=>{const He=String(ve.status??"").toUpperCase()==="CONCLUIDA",Qt=String(ve.tipoAtendimento??"").toUpperCase()==="DELIVERY";if(He&&Qt&&ve.entregadorId){const hr=String(ve.entregadorId);if(Je[hr]=(Je[hr]||0)+1,ve.createdAtMs&&ve.concludedAtMs&&ve.concludedAtMs>=ve.createdAtMs){const Rt=(ve.concludedAtMs-ve.createdAtMs)/6e4;mt[hr]||(mt[hr]={total:0,count:0}),mt[hr].total+=Rt,mt[hr].count+=1}}if(He&&ve.depositoId){const hr=String(ve.depositoId);nt[hr]=(nt[hr]||0)+Number(ve.total??0)}const Tt=String(ve.clienteId??ve.clienteNome??"");Tt&&(String(ve.status??"").toUpperCase()!=="CANCELADA"&&(Ot[Tt]=(Ot[Tt]||0)+1),He&&(_t[Tt]=(_t[Tt]||0)+Number(ve.total??0))),(Array.isArray(ve.historico)?ve.historico:[]).forEach(hr=>{const Rt=hr.usuario??hr.user??hr.username??hr.usuarioNome??hr.user_name??"Sistema",Lr=Z(hr.acao??hr.action??""),Mr=Z(hr.detalhe??hr.detail??"");Gt[Rt]||(Gt[Rt]={open:0,close:0}),Lr.includes("cri")&&(Gt[Rt].open+=1),(Lr.includes("conclu")||Lr.includes("mudan")&&Mr.includes("conclu")||Lr.includes("status")&&Mr.includes("conclu"))&&(Gt[Rt].close+=1)})});const gr=ve=>{let He="",Qt=0;return Object.entries(ve).forEach(([Tt,dr])=>{dr>Qt&&(He=Tt,Qt=dr)}),{key:He,value:Qt}},zt=gr(Je);let In="",fs=0;Object.entries(mt).forEach(([ve,He])=>{if(!He.count)return;const Qt=He.total/He.count;(!In||Qt<fs)&&(In=ve,fs=Qt)});const Br=gr(nt),rn=gr(Ot),$n=gr(_t);let Qn="",on=0,pi=0,Ja=0;return Object.entries(Gt).forEach(([ve,He])=>{const Qt=He.open+He.close;Qt>on&&(Qn=ve,on=Qt,pi=He.open,Ja=He.close)}),{topDriver:{name:zt.key?Qr.get(zt.key)||zt.key:"-",count:zt.value},fastestDriver:{name:In?Qr.get(In)||In:"-",avgMinutes:fs?Math.round(fs):0},topDeposit:{name:Br.key?Ps.get(Br.key)||Br.key:"-",total:Br.value},topCashier:{name:Qn||"-",open:pi,close:Ja},topClientByValue:{name:$n.key?On.get($n.key)||$n.key:"-",total:$n.value},topClientByOrders:{name:rn.key?On.get(rn.key)||rn.key:"-",count:rn.value}}},[Hr,On,Ps,Qr]),Me=St>0?Math.min(100,Math.round(_n/St*100)):0,$e=Math.max(0,St-_n),At=qt.reduce((Z,Je)=>Je.value>0?Z+Je.value:Z,0),jt=qt.reduce((Z,Je)=>Je.value<0?Z+Math.abs(Je.value):Z,0),Mt=qt.length?qt[qt.length-1].balance:_n-tn;return a.jsxs("div",{className:"fixed inset-0 bg-app z-50 flex flex-col animate-in slide-in-from-bottom-4 duration-300",children:[a.jsxs("div",{className:"bg-surface border-b border-bdr px-6 py-3 shadow-sm shrink-0 z-20 transition-colors",children:[a.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"bg-yellow-500/10 p-2 rounded-lg border border-yellow-500/20",children:a.jsx(jB,{className:"w-6 h-6 text-yellow-600"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-black text-txt-main tracking-tight",children:"Mdulo Financeiro"}),a.jsx("p",{className:"text-xs text-txt-muted font-bold uppercase tracking-widest",children:"Gesto completa de fluxo e resultados"})]})]}),a.jsxs("div",{className:"flex items-center gap-3 bg-app p-1.5 rounded-lg border border-bdr",children:[a.jsxs("div",{className:"flex items-center gap-2 px-2 border-r border-bdr",children:[a.jsx(Vm,{className:"w-4 h-4 text-txt-muted"}),a.jsx("input",{type:"date",className:"bg-transparent border-none text-xs font-bold text-txt-main focus:ring-0 w-24 outline-none",value:ee,onChange:Z=>Ce(Z.target.value)})]}),a.jsxs("div",{className:"flex items-center gap-2 px-2",children:[a.jsx("span",{className:"text-xs text-txt-muted font-bold uppercase",children:"at"}),a.jsx("input",{type:"date",className:"bg-transparent border-none text-xs font-bold text-txt-main focus:ring-0 w-24 outline-none",value:Ne,onChange:Z=>M(Z.target.value)})]}),a.jsx("button",{className:"bg-yellow-600 hover:bg-yellow-700 text-white px-3 py-1.5 rounded text-xs font-black uppercase tracking-wide transition-colors shadow-sm",children:"Filtrar"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{className:"flex items-center gap-2 px-3 py-2 text-txt-muted hover:text-txt-main hover:bg-app rounded-lg text-sm font-bold transition-colors border border-transparent hover:border-bdr",children:[a.jsx(nj,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Imprimir"})]}),e&&a.jsxs("button",{onClick:()=>e("delivery-settings"),className:"flex items-center gap-2 px-3 py-2 text-txt-muted hover:text-txt-main hover:bg-app rounded-lg text-sm font-bold transition-colors border border-transparent hover:border-bdr",children:[a.jsx(Po,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Taxas de Entrega"})]}),a.jsxs("button",{onClick:()=>l(!0),className:"flex items-center gap-2 px-3 py-2 text-txt-muted hover:text-txt-main hover:bg-app rounded-lg text-sm font-bold transition-colors border border-transparent hover:border-bdr",children:[a.jsx(Uu,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Configurar"})]}),a.jsx("button",{onClick:t,className:"ml-2 p-2 hover:bg-red-500/10 text-txt-muted hover:text-red-500 rounded-full transition-colors",children:a.jsx(Vn,{className:"w-6 h-6"})})]})]}),a.jsxs("div",{className:"flex items-center gap-1 mt-6 border-b border-bdr overflow-x-auto no-scrollbar",children:[a.jsx(Ze,{id:"overview",label:"Viso Geral",icon:Ew}),a.jsx(Ze,{id:"cashflow",label:"Fluxo de Caixa",icon:Ch}),a.jsx(Ze,{id:"audit",label:"Auditoria de O.S.",icon:Su}),a.jsx(Ze,{id:"receivable",label:"Contas a Receber",icon:NB}),a.jsx(Ze,{id:"payable",label:"Contas a Pagar",icon:rm})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto bg-app p-6 transition-colors",children:a.jsxs("div",{className:"max-w-[1600px] mx-auto space-y-6",children:[r==="overview"&&a.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"bg-surface p-6 rounded-xl shadow-sm border border-bdr flex flex-col relative overflow-hidden transition-colors",children:[a.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5 text-green-600",children:a.jsx(Ch,{className:"w-24 h-24"})}),a.jsx("span",{className:"text-xs font-black text-txt-muted uppercase tracking-widest mb-2",children:"Contas a Receber (perodo)"}),a.jsx("div",{className:"text-3xl font-black text-txt-main mb-2",children:Ve(_n)}),a.jsxs("div",{className:"flex items-center text-xs font-bold w-fit px-2 py-1 rounded border border-bdr text-txt-muted bg-app",children:[a.jsx(rm,{className:"w-3 h-3 mr-1"})," Previsto para o perodo selecionado"]})]}),a.jsxs("div",{className:"bg-surface p-6 rounded-xl shadow-sm border border-bdr flex flex-col relative overflow-hidden transition-colors",children:[a.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5 text-red-600",children:a.jsx(Ab,{className:"w-24 h-24"})}),a.jsx("span",{className:"text-xs font-black text-txt-muted uppercase tracking-widest mb-2",children:"Custos & Despesas"}),a.jsx("div",{className:"text-3xl font-black text-txt-main mb-2",children:Ve(tn)}),a.jsxs("div",{className:"flex items-center text-xs font-bold w-fit px-2 py-1 rounded border border-bdr text-txt-muted bg-app",children:[a.jsx(rm,{className:"w-3 h-3 mr-1"})," Previsto para o perodo selecionado"]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-yellow-500 to-amber-600 p-6 rounded-xl shadow-lg flex flex-col text-white relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 text-white",children:a.jsx(kj,{className:"w-24 h-24"})}),a.jsxs("div",{className:"flex justify-between items-start z-10",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-xs font-black text-yellow-100 uppercase tracking-widest mb-1 block",children:"Meta Mensal"}),a.jsxs("div",{className:"text-3xl font-black text-white mb-1",children:[Me,"%"]}),a.jsx("span",{className:"text-[10px] text-yellow-100 font-bold uppercase tracking-wide",children:"Atingida"})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("span",{className:"text-xs font-bold text-yellow-100 block",children:["Alvo: R$ ",St.toLocaleString("pt-BR")]}),a.jsxs("span",{className:"text-xs font-bold text-white block mt-1",children:["Falta: R$ ",$e.toLocaleString("pt-BR")]})]})]}),a.jsx("div",{className:"w-full bg-black/20 rounded-full h-3 mt-4 overflow-hidden border border-white/10 z-10",children:a.jsx("div",{className:"bg-white rounded-full h-full shadow-[0_0_15px_rgba(255,255,255,0.6)] transition-all duration-1000",style:{width:`${Me}%`}})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-surface p-6 rounded-xl shadow-sm border border-bdr transition-colors",children:[a.jsxs("h3",{className:"font-black text-txt-main mb-6 flex items-center gap-2 text-sm uppercase tracking-wide",children:[a.jsx(Ew,{className:"w-4 h-4 text-txt-muted"}),"Formas de Pagamento"]}),Te.length===0?a.jsxs("div",{className:"p-6 text-center text-sm text-txt-muted border border-dashed border-bdr rounded-xl bg-app",children:[a.jsx("p",{className:"font-bold",children:"Nenhum dado financeiro disponvel."}),a.jsx("p",{className:"text-xs mt-1",children:"Conecte s fontes reais para ver formas de pagamento."})]}):a.jsx("div",{className:"space-y-5",children:Te.map((Z,Je)=>a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between text-xs font-bold mb-2",children:[a.jsx("span",{className:"text-txt-muted uppercase tracking-wide",children:Z.label}),a.jsxs("span",{className:"text-txt-main",children:[Ve(Z.val)," (",Z.pct,"%)"]})]}),a.jsx("div",{className:"w-full bg-app rounded-full h-2.5 border border-bdr",children:a.jsx("div",{className:`h-full rounded-full ${Z.color}`,style:{width:`${Z.pct}%`}})})]},Je))})]}),a.jsxs("div",{className:"bg-surface p-6 rounded-xl shadow-sm border border-bdr transition-colors",children:[a.jsxs("h3",{className:"font-black text-txt-main mb-4 flex items-center gap-2 text-sm uppercase tracking-wide",children:[a.jsx(Ch,{className:"w-4 h-4 text-txt-muted"}),"Top Produtos (Rentabilidade)"]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm text-left",children:[a.jsx("thead",{className:"text-[10px] text-txt-muted uppercase font-black border-b border-bdr tracking-wider",children:a.jsxs("tr",{children:[a.jsx("th",{className:"pb-3 pl-2",children:"Produto"}),a.jsx("th",{className:"pb-3 text-right",children:"Vendas"}),a.jsx("th",{className:"pb-3 text-right",children:"Lucro Un."}),a.jsx("th",{className:"pb-3 text-right pr-2",children:"Total"})]})}),a.jsx("tbody",{className:"divide-y divide-bdr",children:wt.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:4,className:"py-6 text-center text-txt-muted font-bold",children:"Nenhum produto com dados de rentabilidade no perodo."})}):wt.map((Z,Je)=>a.jsxs("tr",{className:"group hover:bg-app transition-colors",children:[a.jsx("td",{className:"py-3 pl-2 font-bold text-txt-main",children:Z.nome}),a.jsxs("td",{className:"py-3 text-right font-medium text-txt-muted",children:[Z.sales," un"]}),a.jsx("td",{className:"py-3 text-right text-green-600 font-bold",children:Ve(Z.unitProfit)}),a.jsx("td",{className:"py-3 pr-2 text-right font-black text-txt-main",children:Ve(Z.total)})]},Je))})]})})]})]})]}),r==="cashflow"&&a.jsxs("div",{className:"bg-surface rounded-xl shadow-sm border border-bdr flex flex-col min-h-[600px] animate-in fade-in slide-in-from-bottom-2 duration-300 transition-colors",children:[a.jsxs("div",{className:"p-6 border-b border-bdr flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"font-black text-txt-main flex items-center gap-2 text-sm uppercase tracking-wide",children:[a.jsx(Ch,{className:"w-5 h-5 text-blue-500"}),"Movimentacao do Caixa"]}),(Re==null?void 0:Re.opened_at)&&a.jsxs("p",{className:"text-[11px] font-bold text-txt-muted mt-1",children:["Turno aberto em ",new Date(Re.opened_at).toLocaleString("pt-BR")]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{onClick:()=>Ms("SANGRIA"),className:"flex items-center gap-2 px-4 py-2 bg-red-500/10 text-red-600 hover:bg-red-500/20 rounded-lg text-xs font-black uppercase tracking-wide transition-colors border border-red-500/20",children:[a.jsx(M3,{className:"w-4 h-4"}),"Sangria"]}),a.jsxs("button",{onClick:()=>Ms("SUPRIMENTO"),className:"flex items-center gap-2 px-4 py-2 bg-green-500/10 text-green-600 hover:bg-green-500/20 rounded-lg text-xs font-black uppercase tracking-wide transition-colors border border-green-500/20",children:[a.jsx(po,{className:"w-4 h-4"}),"Suprimento"]})]})]}),mr&&a.jsx("div",{className:"px-6 py-3 bg-red-500/10 border-b border-red-500/20 text-red-500 text-xs font-bold",children:"Ha O.S em aberto ou em rota vinculadas a este turno. Finalize antes de fechar o caixa."}),a.jsx("div",{className:"px-6 py-4 border-b border-bdr bg-app/30",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[a.jsxs("div",{className:"bg-surface border border-bdr rounded-lg px-4 py-3",children:[a.jsx("div",{className:"text-[10px] uppercase font-black text-txt-muted",children:"Entradas"}),a.jsx("div",{className:"text-sm font-black text-green-600",children:Ve(At)})]}),a.jsxs("div",{className:"bg-surface border border-bdr rounded-lg px-4 py-3",children:[a.jsx("div",{className:"text-[10px] uppercase font-black text-txt-muted",children:"Saidas"}),a.jsx("div",{className:"text-sm font-black text-red-500",children:Ve(jt)})]}),a.jsxs("div",{className:"bg-surface border border-bdr rounded-lg px-4 py-3",children:[a.jsx("div",{className:"text-[10px] uppercase font-black text-txt-muted",children:"Saldo"}),a.jsx("div",{className:"text-sm font-black text-txt-main",children:Ve(Mt)})]})]})}),a.jsxs("div",{className:"flex-1 overflow-y-auto",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm text-left",children:[a.jsx("thead",{className:"bg-app text-[10px] text-txt-muted uppercase font-black tracking-wider border-b border-bdr",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4",children:"Data/Hora"}),a.jsx("th",{className:"px-6 py-4",children:"Operador"}),a.jsx("th",{className:"px-6 py-4",children:"Tipo"}),a.jsx("th",{className:"px-6 py-4 text-right",children:"Valor"}),a.jsx("th",{className:"px-6 py-4",children:"Status"})]})}),a.jsx("tbody",{className:"divide-y divide-bdr",children:qt.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"px-6 py-10 text-center text-txt-muted font-bold",children:"Nenhuma movimentacao no periodo selecionado."})}):qt.map(Z=>a.jsxs("tr",{className:"hover:bg-app transition-colors",children:[a.jsx("td",{className:"px-6 py-3 font-mono text-txt-muted text-xs",children:Z.time}),a.jsx("td",{className:"px-6 py-3 font-medium text-txt-muted",children:Z.user}),a.jsx("td",{className:"px-6 py-3",children:a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("span",{className:`px-2 py-1 rounded-md text-[10px] font-black uppercase border ${Z.categoryTone==="green"?"bg-green-500/10 text-green-600 border-green-500/20":Z.categoryTone==="red"?"bg-red-500/10 text-red-600 border-red-500/20":"bg-surface text-txt-muted border-bdr"}`,children:Z.category}),Z.description&&a.jsx("span",{className:"text-xs text-txt-muted",children:Z.description})]})}),a.jsx("td",{className:`px-6 py-3 text-right font-black ${Z.value<0?"text-red-500":"text-green-600"}`,children:Ve(Z.value)}),a.jsx("td",{className:"px-6 py-3",children:a.jsx("span",{className:"px-2 py-1 rounded text-[10px] font-black uppercase border border-bdr bg-app text-txt-muted",children:Z.status})})]},Z.id))})]})}),a.jsx("div",{className:"border-t border-bdr bg-app/30 px-6 py-4",children:a.jsx("h4",{className:"text-xs font-black text-txt-main uppercase tracking-widest",children:"O.S. do Turno"})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm text-left",children:[a.jsx("thead",{className:"bg-app text-[10px] text-txt-muted uppercase font-black tracking-wider border-b border-bdr",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4",children:"O.S."}),a.jsx("th",{className:"px-6 py-4",children:"Abertura"}),a.jsx("th",{className:"px-6 py-4",children:"Operador"}),a.jsx("th",{className:"px-6 py-4",children:"Entregador"}),a.jsx("th",{className:"px-6 py-4",children:"Status"})]})}),a.jsx("tbody",{className:"divide-y divide-bdr",children:Cn.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-txt-muted font-bold",children:"Nenhuma O.S. registrada neste turno."})}):Cn.map(Z=>a.jsxs("tr",{className:`hover:bg-app transition-colors ${Z.isOpen?"bg-red-500/5":""}`,children:[a.jsx("td",{className:"px-6 py-3 font-black text-txt-main",children:Z.osNumber}),a.jsx("td",{className:"px-6 py-3 text-xs text-txt-muted",children:Z.openedAt}),a.jsx("td",{className:"px-6 py-3 text-txt-muted",children:Z.operador}),a.jsx("td",{className:"px-6 py-3 text-txt-muted",children:Z.entregador}),a.jsx("td",{className:"px-6 py-3",children:a.jsx("span",{className:`px-2 py-1 rounded text-[10px] font-black uppercase border ${Z.isOpen?"bg-red-500/10 text-red-500 border-red-500/20":"bg-green-500/10 text-green-600 border-green-500/20"}`,children:Z.status})})]},Z.id))})]})}),a.jsx("div",{className:"border-t border-bdr bg-app/30 px-6 py-4",children:a.jsx("h4",{className:"text-xs font-black text-txt-main uppercase tracking-widest",children:"Movimentos de Estoque"})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm text-left",children:[a.jsx("thead",{className:"bg-app text-[10px] text-txt-muted uppercase font-black tracking-wider border-b border-bdr",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4",children:"Data/Hora"}),a.jsx("th",{className:"px-6 py-4",children:"Produto"}),a.jsx("th",{className:"px-6 py-4",children:"Tipo"}),a.jsx("th",{className:"px-6 py-4 text-right",children:"Qtd."}),a.jsx("th",{className:"px-6 py-4",children:"Operador"}),a.jsx("th",{className:"px-6 py-4",children:"Motivo"})]})}),a.jsx("tbody",{className:"divide-y divide-bdr",children:Gn.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-txt-muted font-bold",children:"Nenhum movimento de estoque neste turno."})}):Gn.map(Z=>a.jsxs("tr",{className:"hover:bg-app transition-colors",children:[a.jsx("td",{className:"px-6 py-3 text-xs text-txt-muted",children:Z.when}),a.jsx("td",{className:"px-6 py-3 font-medium text-txt-main",children:Z.produto}),a.jsx("td",{className:"px-6 py-3",children:a.jsx("span",{className:"px-2 py-1 rounded text-[10px] font-black uppercase border border-bdr bg-app text-txt-muted",children:Z.tipo})}),a.jsx("td",{className:"px-6 py-3 text-right font-black text-txt-main",children:Z.quantidade}),a.jsx("td",{className:"px-6 py-3 text-txt-muted",children:Z.operador}),a.jsx("td",{className:"px-6 py-3 text-xs text-txt-muted",children:Z.motivo})]},Z.id))})]})})]})]}),r==="audit"&&a.jsxs("div",{className:"bg-surface rounded-xl shadow-sm border border-bdr flex flex-col min-h-[600px] animate-in fade-in slide-in-from-bottom-2 duration-300 transition-colors",children:[a.jsx("div",{className:"p-6 border-b border-bdr bg-app/30",children:a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("h3",{className:"font-black text-txt-main flex items-center gap-2 text-sm uppercase tracking-wide",children:[a.jsx(Su,{className:"w-5 h-5 text-orange-500"}),"Tempo de Ciclo de Pedidos (Timeline)"]}),a.jsxs("div",{className:"flex gap-2 text-[10px] font-bold uppercase tracking-wide",children:[a.jsx("span",{className:"px-2 py-1 rounded bg-green-500/10 text-green-600 border border-green-500/20",children:"Rpido (< 30min)"}),a.jsx("span",{className:"px-2 py-1 rounded bg-yellow-500/10 text-yellow-600 border border-yellow-500/20",children:"Mdio (30-60min)"}),a.jsx("span",{className:"px-2 py-1 rounded bg-red-500/10 text-red-600 border border-red-500/20",children:"Crtico (> 60min)"})]})]})}),a.jsxs("div",{className:"px-6 py-4 border-b border-bdr bg-app/10",children:[er&&a.jsx("p",{className:"text-xs font-bold text-txt-muted mb-3",children:"Carregando dados da auditoria..."}),!er&&Zt,a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-3",children:[a.jsxs("div",{className:"bg-surface border border-bdr rounded-xl p-4",children:[a.jsx("p",{className:"text-[10px] uppercase font-black text-txt-muted",children:"Entregador com mais entregas"}),a.jsx("p",{className:"text-sm font-black text-txt-main mt-2",children:le.topDriver.nome}),a.jsxs("p",{className:"text-xs text-txt-muted",children:[le.topDriver.count," entregas"]})]}),a.jsxs("div",{className:"bg-surface border border-bdr rounded-xl p-4",children:[a.jsx("p",{className:"text-[10px] uppercase font-black text-txt-muted",children:"Entregador mais rapido"}),a.jsx("p",{className:"text-sm font-black text-txt-main mt-2",children:le.fastestDriver.nome}),a.jsxs("p",{className:"text-xs text-txt-muted",children:[le.fastestDriver.avgMinutes," min medio"]})]}),a.jsxs("div",{className:"bg-surface border border-bdr rounded-xl p-4",children:[a.jsx("p",{className:"text-[10px] uppercase font-black text-txt-muted",children:"Deposito que mais vendeu"}),a.jsx("p",{className:"text-sm font-black text-txt-main mt-2",children:le.topDeposit.nome}),a.jsx("p",{className:"text-xs text-txt-muted",children:Ve(le.topDeposit.total)})]}),a.jsxs("div",{className:"bg-surface border border-bdr rounded-xl p-4",children:[a.jsx("p",{className:"text-[10px] uppercase font-black text-txt-muted",children:"Caixa com mais abertura/fechamento"}),a.jsx("p",{className:"text-sm font-black text-txt-main mt-2",children:le.topCashier.nome}),a.jsxs("p",{className:"text-xs text-txt-muted",children:[le.topCashier.open," aberturas | ",le.topCashier.close," fechamentos"]})]}),a.jsxs("div",{className:"bg-surface border border-bdr rounded-xl p-4",children:[a.jsx("p",{className:"text-[10px] uppercase font-black text-txt-muted",children:"Cliente com maior valor"}),a.jsx("p",{className:"text-sm font-black text-txt-main mt-2",children:le.topClientByValue.nome}),a.jsx("p",{className:"text-xs text-txt-muted",children:Ve(le.topClientByValue.total)})]}),a.jsxs("div",{className:"bg-surface border border-bdr rounded-xl p-4",children:[a.jsx("p",{className:"text-[10px] uppercase font-black text-txt-muted",children:"Cliente com mais pedidos"}),a.jsx("p",{className:"text-sm font-black text-txt-main mt-2",children:le.topClientByOrders.nome}),a.jsxs("p",{className:"text-xs text-txt-muted",children:[le.topClientByOrders.count," pedidos"]})]})]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm text-left",children:[a.jsx("thead",{className:"bg-surface text-[10px] text-txt-muted uppercase font-black border-b border-bdr tracking-wider",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4",children:"N O.S."}),a.jsx("th",{className:"px-6 py-4",children:"Cliente"}),a.jsx("th",{className:"px-6 py-4",children:"Entregador"}),a.jsx("th",{className:"px-6 py-4",children:"Abertura"}),a.jsx("th",{className:"px-6 py-4",children:"Concluso"}),a.jsx("th",{className:"px-6 py-4 text-center",children:"Durao Total"}),a.jsx("th",{className:"px-6 py-4 text-center",children:"Status"})]})}),a.jsx("tbody",{className:"divide-y divide-bdr",children:As.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:7,className:"px-6 py-10 text-center text-txt-muted font-bold",children:"Nenhum registro de O.S. no perodo selecionado."})}):As.map((Z,Je)=>a.jsxs("tr",{className:"hover:bg-app transition-colors",children:[a.jsx("td",{className:"px-6 py-4 font-mono font-bold text-txt-main",children:Z.osNumber}),a.jsx("td",{className:"px-6 py-4 font-medium text-txt-muted",children:Z.client}),a.jsx("td",{className:"px-6 py-4 font-medium text-txt-muted",children:Z.driver}),a.jsx("td",{className:"px-6 py-4 text-txt-muted text-xs",children:Z.openedAt}),a.jsx("td",{className:"px-6 py-4 text-txt-muted text-xs",children:Z.closedAt}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsxs("span",{className:"font-black text-green-600",children:[Z.durationMinutes," min"]})}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsx("span",{className:`px-2 py-1 rounded-md text-[10px] font-black uppercase border ${Z.status==="CONCLUIDO"?"bg-green-500/10 text-green-600 border-green-500/20":Z.status==="PENDENTE"?"bg-yellow-500/10 text-yellow-600 border-yellow-500/20":"bg-red-500/10 text-red-600 border-red-500/20"}`,children:Z.status==="CONCLUIDO"?"CONCLUDO":Z.status==="PENDENTE"?"PENDENTE":"CANCELADO"})})]},Je))})]})})]}),r==="receivable"&&a.jsxs("div",{className:"bg-surface rounded-xl shadow-sm border border-bdr flex flex-col min-h-[600px] animate-in fade-in slide-in-from-bottom-2 duration-300 transition-colors",children:[a.jsxs("div",{className:"p-6 border-b border-bdr flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"font-black text-txt-main flex items-center gap-2 text-sm uppercase tracking-wide",children:[a.jsx(Jh,{className:"w-5 h-5 text-green-500"}),"Contas a Receber"]}),a.jsx("p",{className:"text-xs text-txt-muted font-bold",children:"Prximas no perodo filtrado"})]}),a.jsxs("button",{onClick:()=>m(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg text-xs font-black uppercase tracking-wide text-white shadow-sm transition-transform active:scale-95 bg-green-600 hover:bg-green-700",children:[a.jsx(po,{className:"w-4 h-4"}),"Nova Conta"]})]}),a.jsxs("div",{className:"px-6 py-4 border-b border-bdr flex flex-wrap items-center justify-between gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm font-semibold text-txt-muted uppercase",children:"Total previsto"}),a.jsx("span",{className:"text-2xl font-black text-green-500",children:Ve(rr)})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-[11px] font-bold text-txt-muted uppercase",children:"Filtro"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>b("all"),className:`px-3 py-1.5 rounded text-xs font-black border ${g==="all"?"bg-green-600 text-white border-green-500":"bg-app text-txt-muted border-bdr"}`,children:"Todos"}),a.jsx("button",{onClick:()=>b("personal"),className:`px-3 py-1.5 rounded text-xs font-black border ${g==="personal"?"bg-purple-600 text-white border-purple-500":"bg-app text-txt-muted border-bdr"}`,children:"Pessoais"}),a.jsx("button",{onClick:()=>b("with-client"),className:`px-3 py-1.5 rounded text-xs font-black border ${g==="with-client"?"bg-blue-600 text-white border-blue-500":"bg-app text-txt-muted border-bdr"}`,children:"Com cliente"})]})]})]}),a.jsx("div",{className:"flex-1 overflow-x-auto",children:ut.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center text-txt-muted p-12",children:[a.jsx(ob,{className:"w-16 h-16 mb-4 opacity-20"}),a.jsx("p",{className:"text-lg font-bold mb-2 text-txt-main",children:"Nenhum registro encontrado neste perodo"}),a.jsx("p",{className:"text-sm font-medium opacity-70",children:"Use o filtro de datas ou adicione novas contas."})]}):a.jsxs("table",{className:"w-full text-sm text-left",children:[a.jsx("thead",{className:"bg-app text-[10px] text-txt-muted uppercase font-black tracking-wider border-b border-bdr",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3",children:"Descrio / Cliente"}),a.jsx("th",{className:"px-4 py-3",children:"Vencimento"}),a.jsx("th",{className:"px-4 py-3 text-right",children:"Valor"}),a.jsx("th",{className:"px-4 py-3 text-right",children:"Pago"}),a.jsx("th",{className:"px-4 py-3 text-right",children:"Pendente"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"Status"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"Tipo"}),a.jsx("th",{className:"px-4 py-3 text-right",children:"Aes"})]})}),a.jsx("tbody",{className:"divide-y divide-bdr",children:ut.sort((Z,Je)=>(Z.dueMs||0)-(Je.dueMs||0)).map(Z=>{const Je=V[Z.id];return a.jsxs("tr",{className:"hover:bg-app transition-colors",children:[a.jsxs("td",{className:"px-4 py-3",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx("span",{className:"font-bold text-txt-main",children:Z.notes||Z.client_name||"Conta"}),Je&&a.jsx("span",{className:"px-2 py-0.5 rounded border border-amber-500/30 bg-amber-500/10 text-[10px] font-black uppercase tracking-wide text-amber-400",children:"Boleto"})]}),Z.client_name&&a.jsx("div",{className:"text-xs text-txt-muted",children:Z.client_name})]}),a.jsx("td",{className:"px-4 py-3 text-txt-muted",children:Number.isFinite(Z.dueMs)?new Date(Z.dueMs).toLocaleDateString("pt-BR"):"-"}),a.jsx("td",{className:"px-4 py-3 text-right font-semibold",children:Ve(Z.total)}),a.jsx("td",{className:"px-4 py-3 text-right text-txt-muted",children:Ve(Z.paid)}),a.jsx("td",{className:"px-4 py-3 text-right font-black text-green-500",children:Ve(Z.remaining)}),a.jsx("td",{className:"px-4 py-3 text-center",children:a.jsx("span",{className:`px-2 py-1 rounded-md text-[10px] font-black uppercase border ${Z.overdue?"bg-red-500/10 text-red-600 border-red-500/20":"bg-amber-500/10 text-amber-600 border-amber-500/20"}`,children:Z.overdue?"Vencido":Z.status})}),a.jsx("td",{className:"px-4 py-3 text-center",children:Z.client_id?a.jsx("span",{className:"px-2 py-1 rounded bg-green-500/10 text-green-600 text-[10px] font-black uppercase border border-green-500/20",children:"Comrcio"}):a.jsx("span",{className:"px-2 py-1 rounded bg-purple-500/10 text-purple-500 text-[10px] font-black uppercase border border-purple-500/20",children:"Pessoal"})}),a.jsx("td",{className:"px-4 py-3 text-right",children:a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsxs("button",{title:Je?"Ver boleto":"Emitir boleto",onClick:()=>dn(Z.id),className:`flex items-center gap-1 px-2 py-1 rounded text-xs font-bold border ${or(Je)}`,children:[a.jsx(ib,{className:"w-4 h-4"}),qr(Je)]}),a.jsx("button",{title:"Detalhes",onClick:()=>{w(Z.id),ne(Number.isFinite(Z.dueMs)?new Date(Z.dueMs).toISOString().slice(0,10):""),C(""),D(""),re(new Date().toISOString().slice(0,10))},className:"px-2 py-1 rounded text-xs font-bold bg-app border border-bdr text-txt-muted",children:"Detalhes"}),a.jsx("button",{title:"Registrar pagamento parcial",onClick:()=>{const mt=prompt("Valor a registrar?",Z.remaining.toFixed(2));mt&&pn(Z.id,mt)},className:"p-2 rounded border border-bdr hover:bg-app text-txt-muted",children:a.jsx(cb,{className:"w-4 h-4"})}),a.jsx("button",{title:"Quitar",onClick:()=>wn(Z.id,"",void 0),className:"px-2 py-1 rounded text-xs font-bold bg-green-600 text-white",children:"Baixar"}),a.jsx("button",{title:"Excluir",onClick:()=>Fn(Z.id),className:"p-2 rounded border border-red-500/40 text-red-500 hover:bg-red-500/10",children:a.jsx(oa,{className:"w-4 h-4"})})]})})]},Z.id)})})]})})]}),r==="payable"&&a.jsxs("div",{className:"bg-surface rounded-xl shadow-sm border border-bdr flex flex-col min-h-[600px] animate-in fade-in slide-in-from-bottom-2 duration-300 transition-colors",children:[a.jsxs("div",{className:"p-6 border-b border-bdr flex justify-between items-center",children:[a.jsxs("h3",{className:"font-black text-txt-main flex items-center gap-2 text-sm uppercase tracking-wide",children:[a.jsx(Jh,{className:"w-5 h-5 text-red-500"}),"Contas a Pagar"]}),a.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg text-xs font-black uppercase tracking-wide text-white shadow-sm transition-transform active:scale-95 bg-red-600 hover:bg-red-700",children:[a.jsx(po,{className:"w-4 h-4"}),"Nova Despesa"]})]}),a.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-txt-muted p-12",children:[a.jsx(ob,{className:"w-16 h-16 mb-4 opacity-20"}),a.jsx("p",{className:"text-lg font-bold mb-2 text-txt-main",children:"Nenhum registro encontrado neste perodo"}),a.jsx("p",{className:"text-sm font-medium opacity-70",children:"Utilize o boto acima para adicionar novos registros manualmente ou altere o filtro de datas."})]})]})]})}),B&&Ke&&a.jsx("div",{className:"fixed inset-0 bg-black/70 z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-surface w-full max-w-3xl rounded-xl border border-bdr shadow-xl text-white flex flex-col max-h-[90vh]",children:[a.jsxs("div",{className:"flex items-center justify-between px-5 py-4 border-b border-bdr",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-black",children:"Detalhes da Conta"}),a.jsxs("p",{className:"text-xs text-txt-muted",children:[Ke.notes||Ke.client_name||"Conta","  Vence em ",Number.isFinite(Ke.dueMs)?new Date(Ke.dueMs).toLocaleDateString("pt-BR"):"-"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>window.print(),className:"px-3 py-2 rounded bg-app border border-bdr text-sm font-bold",children:"Imprimir"}),a.jsx("button",{onClick:()=>w(null),className:"p-2 rounded hover:bg-red-500/10 text-txt-muted hover:text-red-400",children:"Fechar"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 px-5 py-4 border-b border-bdr text-sm",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-txt-muted text-xs uppercase font-bold",children:"Valor"}),a.jsx("div",{className:"text-xl font-black",children:Ve(Ke.total)})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-txt-muted text-xs uppercase font-bold",children:"Pago"}),a.jsx("div",{className:"text-lg font-semibold text-green-400",children:Ve(Ke.paid)})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-txt-muted text-xs uppercase font-bold",children:"Pendente"}),a.jsx("div",{className:"text-lg font-black text-amber-400",children:Ve(Ke.remaining)})]})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto px-5 py-4 space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"p-4 rounded border border-bdr bg-app/60",children:[a.jsxs("h4",{className:"text-sm font-black mb-3 flex items-center gap-2",children:[a.jsx(cb,{className:"w-4 h-4"})," Registrar pagamento"]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("input",{value:k,onChange:Z=>C(Z.target.value),placeholder:"Valor",className:"w-full p-2 rounded bg-app border border-bdr text-white"}),a.jsx("input",{type:"date",value:H,onChange:Z=>re(Z.target.value),className:"w-full p-2 rounded bg-app border border-bdr text-white"}),a.jsxs("select",{value:O,onChange:Z=>D(Z.target.value),className:"w-full p-2 rounded bg-app border border-bdr text-white",children:[a.jsx("option",{value:"",children:"Forma de pagamento"}),(Be||[]).map(Z=>a.jsx("option",{value:Z.id,children:Z.name??Z.nome},Z.id))]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:Ft,className:"flex-1 bg-amber-500 text-black font-black py-2 rounded disabled:opacity-60",children:S?"Atualizar":"Salvar pagamento"}),a.jsx("button",{onClick:()=>wn(Ke.id,O,H),className:"flex-1 bg-green-600 text-white font-black py-2 rounded",children:"Quitar pendente"})]}),S&&a.jsx("button",{onClick:()=>{U(null),C("")},className:"text-xs text-txt-muted underline",children:"Cancelar edio"})]})]}),a.jsxs("div",{className:"p-4 rounded border border-bdr bg-app/60",children:[a.jsx("h4",{className:"text-sm font-black mb-3",children:"Ajustar vencimento"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("input",{type:"date",value:q||(Number.isFinite(Ke.dueMs)?new Date(Ke.dueMs).toISOString().slice(0,10):""),onChange:Z=>ne(Z.target.value),className:"w-full p-2 rounded bg-app border border-bdr text-white"}),a.jsx("button",{onClick:()=>sn(Ke.id,q||(Number.isFinite(Ke.dueMs)?new Date(Ke.dueMs).toISOString().slice(0,10):"")),className:"w-full bg-blue-600 text-white font-black py-2 rounded",children:"Salvar nova data"})]})]})]}),a.jsxs("div",{className:"p-4 rounded border border-bdr bg-app/60",children:[a.jsx("h4",{className:"text-sm font-black mb-3",children:"Histrico de pagamentos"}),X&&X.length>0?a.jsx("div",{className:"space-y-2",children:X.sort((Z,Je)=>{const mt=Z.paid_at?new Date(Z.paid_at).getTime():0;return(Je.paid_at?new Date(Je.paid_at).getTime():0)-mt}).map(Z=>a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between text-sm bg-app rounded px-3 py-2 border border-bdr gap-2",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold",children:Ve(Z.amount)}),a.jsxs("div",{className:"text-xs text-txt-muted",children:[Z.paid_at?new Date(Z.paid_at).toLocaleString("pt-BR"):"-",Z.payment_method?`  Forma: ${Ue.get(Z.payment_method)||Z.payment_method}`:""]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"text-xs text-txt-muted",children:["Usuario: ",Z.user_id]}),a.jsx("button",{className:"px-2 py-1 rounded text-xs font-bold bg-app border border-bdr text-txt-muted",onClick:()=>{U(Z.id),C(String(Z.amount)),D(Z.payment_method||""),re(Z.paid_at?new Date(Z.paid_at).toISOString().slice(0,10):new Date().toISOString().slice(0,10))},children:"Editar"})]})]},Z.id))}):a.jsx("p",{className:"text-sm text-txt-muted",children:"Nenhum pagamento registrado."})]}),a.jsxs("div",{className:"p-4 rounded border border-bdr bg-app/60",children:[a.jsx("h4",{className:"text-sm font-black mb-3",children:"Nova parcela"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:[a.jsx("input",{value:te,onChange:Z=>G(Z.target.value),placeholder:"Valor da parcela",className:"p-2 rounded bg-app border border-bdr text-white"}),a.jsx("input",{type:"date",value:de,onChange:Z=>K(Z.target.value),className:"p-2 rounded bg-app border border-bdr text-white"}),a.jsx("button",{onClick:()=>Pr(Ke,te,de),className:"bg-amber-500 text-black font-black py-2 rounded disabled:opacity-60",disabled:!te,children:"Gerar parcela"})]})]})]})]})}),a.jsx(lP,{isOpen:i,onClose:()=>l(!1),defaultGoal:St}),a.jsx(iP,{isOpen:d,onClose:()=>u(!1)}),a.jsx(oP,{isOpen:h,onClose:()=>m(!1),onSaved:st}),W&&ot&&a.jsx(dP,{receivable:ot,onClose:An,onSaved:It})]})};function mP({isOpen:t,onClose:e,deposits:r,configs:n,initialMethod:i,onSaved:l}){const[d,u]=F.useState(""),[h,m]=F.useState("CASH"),[g,b]=F.useState("IMMEDIATE"),[B,w]=F.useState(!1),[S,U]=F.useState(!0),[k,C]=F.useState([]),[O,D]=F.useState(!1),H=g==="IMMEDIATE";F.useEffect(()=>{if(!t)return;u((i==null?void 0:i.name)??""),m((i==null?void 0:i.method_kind)??"CASH");const te=(i==null?void 0:i.receipt_type)??"IMMEDIATE";b(te),w((i==null?void 0:i.generates_receivable)??!1),U((i==null?void 0:i.is_active)??!0);const G=(i==null?void 0:i.id)??"",de=r.map(K=>{const W=n.find(ie=>ie.payment_method_id===G&&ie.deposit_id===K.id);return{deposit_id:K.id,is_active:(W==null?void 0:W.is_active)??!0,due_days:String((W==null?void 0:W.due_days)??0)}});C(de)},[t,i,r,n]),F.useEffect(()=>{H&&w(!1)},[H]);const re=F.useMemo(()=>d.trim().length>0&&!!h&&!!g,[d,h,g]);if(!t)return null;const q=(te,G)=>{C(de=>de.map(K=>K.deposit_id===te?{...K,...G}:K))},ne=async()=>{if(!re){jr.error("Preencha o nome e selecione um tipo.");return}const te=H?!1:B,G=k.map(de=>({...de,due_days:de.due_days===""?Number.NaN:Number(de.due_days)}));if(g==="DEFERRED"&&G.filter(K=>K.is_active&&(!Number.isInteger(K.due_days)||K.due_days<=0)).length>0){jr.error("Informe um prazo em dias maior que zero para pagamentos a prazo.");return}try{D(!0);const de={name:d.trim(),method_kind:h,receipt_type:g,generates_receivable:te,is_active:S},K=i!=null&&i.id?await iM(i.id,{...de,updated_at:new Date().toISOString()}):await aM(de),W=K.id;G.length>0&&await Promise.all(G.map(z=>oM(z.deposit_id,W,{is_active:z.is_active,due_days:g==="DEFERRED"&&z.is_active?z.due_days:0})));const ie={id:K.id,name:K.name??de.name,method_kind:K.method_kind??de.method_kind,receipt_type:K.receipt_type??de.receipt_type,generates_receivable:K.generates_receivable??de.generates_receivable,is_active:K.is_active??de.is_active,created_at:K.created_at??null,updated_at:K.updated_at??null};l==null||l(ie),e()}catch(de){console.error(de),jr.error("Erro ao salvar forma de pagamento.")}finally{D(!1)}};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:a.jsxs("div",{className:"w-full max-w-2xl bg-surface border border-bdr rounded-2xl shadow-2xl p-6 space-y-6 animate-in zoom-in-95 duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-black uppercase tracking-widest text-txt-muted",children:"Cadastro"}),a.jsx("h2",{className:"text-xl font-black text-txt-main",children:"Forma de Pagamento"})]}),a.jsx("button",{onClick:e,className:"text-txt-muted hover:text-txt-main transition-colors","aria-label":"Fechar",children:a.jsx(Vn,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-black uppercase tracking-widest text-txt-muted",children:"Nome"}),a.jsx("input",{className:"w-full bg-app border border-bdr rounded-lg px-3 py-2 text-sm font-bold text-txt-main focus:ring-2 focus:ring-emerald-500 outline-none",value:d,onChange:te=>u(te.target.value),placeholder:"Ex.: Dinheiro, Cartao Credito"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-black uppercase tracking-widest text-txt-muted",children:"Categoria"}),a.jsxs("select",{className:"w-full bg-app border border-bdr rounded-lg px-3 py-2 text-sm font-bold text-txt-main focus:ring-2 focus:ring-emerald-500 outline-none",value:h,onChange:te=>m(te.target.value),children:[a.jsx("option",{value:"CASH",children:"Dinheiro"}),a.jsx("option",{value:"PIX",children:"Pix"}),a.jsx("option",{value:"CARD",children:"Cartao"}),a.jsx("option",{value:"FIADO",children:"Fiado"}),a.jsx("option",{value:"BOLETO",children:"Boleto"}),a.jsx("option",{value:"VALE",children:"Vale"}),a.jsx("option",{value:"OTHER",children:"Outro"})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-black uppercase tracking-widest text-txt-muted",children:"Recebimento"}),a.jsxs("select",{className:"w-full bg-app border border-bdr rounded-lg px-3 py-2 text-sm font-bold text-txt-main focus:ring-2 focus:ring-emerald-500 outline-none",value:g,onChange:te=>b(te.target.value),children:[a.jsx("option",{value:"IMMEDIATE",children:"Imediato"}),a.jsx("option",{value:"DEFERRED",children:"A prazo"})]})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[a.jsxs("label",{className:"flex items-center gap-2 text-sm font-bold text-txt-main",children:[a.jsx("input",{type:"checkbox",className:"w-4 h-4",checked:S,onChange:te=>U(te.target.checked)}),"Ativo (global)"]}),a.jsxs("label",{className:"flex items-center gap-2 text-sm font-bold text-txt-main",children:[a.jsx("input",{type:"checkbox",className:"w-4 h-4",checked:H?!1:B,onChange:te=>w(te.target.checked),disabled:H}),"Gera Conta a Receber?"]})]}),a.jsx("span",{className:"text-xs text-txt-muted",children:H?"Recebimento imediato usa prazo 0 e nao gera contas.":"Para pagamento a prazo, configure o prazo por deposito."}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"text-xs font-black uppercase tracking-widest text-txt-muted",children:"Config por deposito"}),a.jsxs("span",{className:"text-[10px] text-txt-muted",children:[r.length," deposito(s)"]})]}),a.jsx("div",{className:"space-y-2",children:r.map(te=>{const G=k.find(K=>K.deposit_id===te.id)||{deposit_id:te.id,is_active:!0,due_days:"0"},de=H||!G.is_active;return a.jsxs("div",{className:"border border-bdr rounded-xl p-3 bg-app/40 space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-bold text-txt-main",children:te.nome}),a.jsxs("label",{className:"flex items-center gap-2 text-xs font-black text-txt-muted uppercase",children:[a.jsx("input",{type:"checkbox",className:"w-4 h-4",checked:G.is_active,onChange:K=>q(te.id,{is_active:K.target.checked})}),"Ativo"]})]}),g==="DEFERRED"?a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-txt-muted",children:"Prazo (dias)"}),a.jsx("input",{type:"number",min:1,className:"w-full bg-app border border-bdr rounded-lg px-3 py-2 text-sm font-bold text-txt-main focus:ring-2 focus:ring-emerald-500 outline-none",value:G.due_days,onChange:K=>{const W=K.target.value;(W===""||/^\d*$/.test(W))&&q(te.id,{due_days:W})},disabled:de})]}):a.jsx("div",{className:"text-[10px] font-black uppercase tracking-widest text-txt-muted",children:"Prazo: 0 dias (imediato)"})]},te.id)})})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[a.jsx("button",{onClick:e,className:"px-4 py-2 rounded-lg border border-bdr text-txt-muted hover:text-txt-main hover:border-txt-main/40 transition-colors",type:"button",children:"Cancelar"}),a.jsx("button",{onClick:ne,disabled:!re||O,className:"px-5 py-2 rounded-lg bg-emerald-600 hover:bg-emerald-700 text-white font-black uppercase tracking-wide shadow-lg shadow-emerald-600/20 disabled:opacity-60",type:"button",children:O?"Salvando...":"Salvar"})]})]})})}const gP={CASH:"Dinheiro",PIX:"Pix",CARD:"Cartao",FIADO:"Fiado",BOLETO:"Boleto",VALE:"Vale",OTHER:"Outros"},xP={IMMEDIATE:"Imediato",DEFERRED:"A prazo"};function bP({methods:t,configs:e,deposits:r,onEdit:n,onDelete:i}){if(!t.length)return a.jsx("div",{className:"p-6 text-center text-txt-muted border border-dashed border-bdr rounded-xl bg-app/30",children:"Nenhuma forma de pagamento cadastrada."});const l=r.length;return a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:t.map(d=>{const h=e.filter(w=>w.payment_method_id===d.id).filter(w=>w.is_active),m=h.length,g=h.map(w=>w.due_days).filter(w=>w>0),b=(()=>{if(d.receipt_type==="IMMEDIATE"||g.length===0)return"0d";const w=Math.min(...g),S=Math.max(...g);return w===S?`${w}d`:`${w}-${S}d`})(),B=l>0?`${m}/${l} dep.`:"Sem depositos";return a.jsxs("div",{className:"bg-surface border border-bdr rounded-xl p-4 shadow-sm flex flex-col gap-3",children:[a.jsxs("div",{className:"flex justify-between items-start gap-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-black uppercase tracking-widest text-txt-muted",children:"Nome"}),a.jsx("h4",{className:"text-lg font-black text-txt-main",children:d.name})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>n(d),className:"p-2 rounded-lg hover:bg-app text-txt-muted hover:text-txt-main transition-colors",title:"Editar",children:a.jsx(pv,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>i(d.id),className:"p-2 rounded-lg hover:bg-red-500/10 text-red-500 transition-colors",title:"Excluir",children:a.jsx(oa,{className:"w-4 h-4"})})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-2 text-[11px] font-black uppercase tracking-wide",children:[a.jsx("span",{className:"px-2 py-1 rounded-full bg-emerald-500/10 text-emerald-600 border border-emerald-500/20",children:gP[d.method_kind]??"Metodo"}),a.jsx("span",{className:"px-2 py-1 rounded-full bg-sky-500/10 text-sky-600 border border-sky-500/20",children:xP[d.receipt_type]??"Recebimento"}),a.jsx("span",{className:`px-2 py-1 rounded-full border ${d.generates_receivable?"bg-yellow-500/10 text-yellow-600 border-yellow-500/20":"bg-gray-500/10 text-gray-400 border-gray-500/20"}`,children:d.generates_receivable?"Gera conta":"Nao gera"}),a.jsxs("span",{className:"px-2 py-1 rounded-full bg-indigo-500/10 text-indigo-600 border border-indigo-500/20 flex items-center gap-1",children:[a.jsx(GS,{className:"w-3 h-3"})," ",b]}),a.jsx("span",{className:"px-2 py-1 rounded-full bg-blue-500/10 text-blue-600 border border-blue-500/20",children:B})]}),a.jsx("div",{className:"flex items-center gap-2 text-sm font-black",children:d.is_active?a.jsxs("span",{className:"flex items-center gap-1 text-emerald-600",children:[a.jsx(oA,{className:"w-4 h-4"})," ATIVO"]}):a.jsxs("span",{className:"flex items-center gap-1 text-red-500",children:[a.jsx(Xh,{className:"w-4 h-4"})," INATIVO"]})})]},d.id)})})}const vP=({onClose:t})=>{const[e,r]=F.useState("methods"),[n,i]=F.useState([]),[l,d]=F.useState([]),[u,h]=F.useState([]),[m,g]=F.useState([]),[b,B]=F.useState(!1),[w,S]=F.useState(!1),[U,k]=F.useState(""),[C,O]=F.useState(null),[D,H]=F.useState({}),[re,q]=F.useState(null),ne=F.useCallback(async()=>{const z=await uf();i(z)},[]),te=F.useCallback(async()=>{const z=await av();d(z)},[]);F.useEffect(()=>{let z=!0;return(async()=>{const[he,V,me,ee]=await Promise.all([uf(),$h(),ug(),av()]);z&&(i(he),h(V),g(me),d(ee))})(),()=>{z=!1}},[]),F.useEffect(()=>{Le.auth.getUser().then(({data:z})=>{var he;q(((he=z==null?void 0:z.user)==null?void 0:he.id)??null)})},[]);const G=async z=>{confirm("Tem certeza? Isso pode afetar relatrios antigos.")&&(await lM(z),await ne(),await te())},de=async()=>{if(!D.nome)return alert("Nome da maquininha  obrigatrio");const z={id:D.id||crypto.randomUUID(),nome:D.nome,taxaDebito:Number(D.taxaDebito)||0,taxaCreditoVista:Number(D.taxaCreditoVista)||0,taxaCreditoParcelado:Number(D.taxaCreditoParcelado)||0,depositosPermitidos:D.depositosPermitidos||[],ativo:D.ativo??!0};await gM(z);const he=await $h();h(he),S(!1),await F5({usuario_id:re,deposit_id:void 0,entidade:"PAGAMENTO",entidade_id:z.id,acao:"UPDATE",depois_json:z,antes_json:D.id?u.find(V=>V.id===D.id):void 0})},K=async z=>{if(!confirm("Excluir maquininha?"))return;await xM(z);const he=await $h();h(he)},W=n.filter(z=>(z.name??"").toLowerCase().includes(U.toLowerCase())),ie=u.filter(z=>z.nome.toLowerCase().includes(U.toLowerCase()));return a.jsxs("div",{className:"fixed inset-0 bg-app/90 backdrop-blur-sm z-50 flex flex-col animate-in fade-in duration-300",children:[a.jsxs("div",{className:"bg-surface border-b border-bdr px-6 py-4 flex justify-between items-center shadow-sm shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"bg-emerald-500/10 p-2 rounded-xl border border-emerald-500/20",children:a.jsx(Uu,{className:"w-6 h-6 text-emerald-600"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-black text-txt-main tracking-tight",children:"Formas de Pagamento & Mquinas"}),a.jsx("p",{className:"text-xs text-txt-muted font-bold uppercase tracking-widest",children:"Configurao Financeira"})]})]}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-red-500/10 hover:text-red-500 text-txt-muted rounded-full transition-colors",children:a.jsx(Vn,{className:"w-6 h-6"})})]}),a.jsx("div",{className:"bg-surface border-b border-bdr px-6",children:a.jsxs("div",{className:"flex gap-8",children:[a.jsxs("button",{onClick:()=>r("methods"),className:`pb-4 pt-4 text-sm font-black uppercase tracking-widest border-b-4 transition-all flex items-center gap-2 ${e==="methods"?"border-emerald-500 text-emerald-600":"border-transparent text-txt-muted hover:text-txt-main"}`,children:[a.jsx(CB,{className:"w-4 h-4"})," Formas de Pagamento"]}),a.jsxs("button",{onClick:()=>r("machines"),className:`pb-4 pt-4 text-sm font-black uppercase tracking-widest border-b-4 transition-all flex items-center gap-2 ${e==="machines"?"border-emerald-500 text-emerald-600":"border-transparent text-txt-muted hover:text-txt-main"}`,children:[a.jsx(P0,{className:"w-4 h-4"})," Mquinas de Carto"]})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-app",children:a.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[a.jsxs("div",{className:"bg-surface p-4 rounded-xl shadow-sm border border-bdr flex flex-col md:flex-row justify-between items-center gap-4",children:[a.jsxs("div",{className:"relative w-full md:w-96",children:[a.jsx(lA,{className:"w-4 h-4 text-txt-muted absolute left-3 top-3"}),a.jsx("input",{type:"text",placeholder:e==="methods"?"Buscar forma de pagamento...":"Buscar maquininha...",value:U,onChange:z=>k(z.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-app border border-bdr rounded-xl text-sm focus:ring-2 focus:ring-emerald-500 outline-none text-txt-main font-bold"})]}),a.jsxs("button",{onClick:()=>{e==="methods"?(O(null),B(!0)):(H({ativo:!0,depositosPermitidos:[]}),S(!0))},className:"w-full md:w-auto bg-emerald-500 hover:bg-emerald-600 text-white px-6 py-2.5 rounded-xl font-black text-sm shadow-lg shadow-emerald-500/20 flex items-center justify-center gap-2 transition-transform active:scale-95",children:[a.jsx(po,{className:"w-4 h-4"}),e==="methods"?"NOVA FORMA PAGTO":"NOVA MAQUININHA"]})]}),e==="methods"&&a.jsx("div",{className:"bg-surface rounded-2xl shadow-sm border border-bdr p-4 overflow-hidden animate-in fade-in",children:a.jsx(bP,{methods:W,configs:l,deposits:m,onEdit:z=>{O(z),B(!0)},onDelete:G})}),e==="machines"&&a.jsx("div",{className:"bg-surface rounded-2xl shadow-sm border border-bdr overflow-hidden animate-in fade-in",children:a.jsxs("table",{className:"w-full text-left text-sm",children:[a.jsx("thead",{className:"bg-app border-b border-bdr text-xs font-black text-txt-muted uppercase tracking-widest",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4",children:"Nome da Maquininha"}),a.jsx("th",{className:"px-6 py-4 text-center",children:"Taxa Dbito"}),a.jsx("th",{className:"px-6 py-4 text-center",children:"Taxa Crdito Vista"}),a.jsx("th",{className:"px-6 py-4 text-center",children:"Taxa Crdito Parc."}),a.jsx("th",{className:"px-6 py-4",children:"Depsitos Permitidos"}),a.jsx("th",{className:"px-6 py-4 text-right",children:"Aes"})]})}),a.jsx("tbody",{className:"divide-y divide-bdr",children:ie.map(z=>a.jsxs("tr",{className:"hover:bg-app transition-colors group",children:[a.jsxs("td",{className:"px-6 py-4 font-bold text-txt-main flex items-center gap-2",children:[a.jsx(P0,{className:"w-4 h-4 text-txt-muted"}),z.nome]}),a.jsxs("td",{className:"px-6 py-4 text-center font-mono text-txt-main",children:[z.taxaDebito,"%"]}),a.jsxs("td",{className:"px-6 py-4 text-center font-mono text-txt-main",children:[z.taxaCreditoVista,"%"]}),a.jsxs("td",{className:"px-6 py-4 text-center font-mono text-txt-main",children:[z.taxaCreditoParcelado,"%"]}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"flex gap-1 flex-wrap",children:z.depositosPermitidos.map(he=>a.jsx("span",{className:"px-2 py-0.5 bg-app border border-bdr rounded text-[10px] font-bold text-txt-muted uppercase",children:he},he))})}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsxs("div",{className:"flex items-center justify-end gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[a.jsx("button",{onClick:()=>{H(z),S(!0)},className:"p-2 hover:bg-blue-50 text-blue-500 rounded-lg",children:a.jsx(pv,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>K(z.id),className:"p-2 hover:bg-red-50 text-red-500 rounded-lg",children:a.jsx(oa,{className:"w-4 h-4"})})]})})]},z.id))})]})})]})}),a.jsx(mP,{isOpen:b,onClose:()=>B(!1),deposits:m,configs:l,initialMethod:C,onSaved:async z=>{if(!z||!z.id){console.error("Erro: Mtodo de pagamento salvo  invlido.",z);return}await ne(),await te(),await F5({usuario_id:re,deposit_id:void 0,entidade:"PAGAMENTO",entidade_id:z.id,acao:"UPDATE",depois_json:z,antes_json:C})}}),w&&a.jsx("div",{className:"fixed inset-0 bg-black/60 z-[60] flex items-center justify-center p-4 backdrop-blur-sm",children:a.jsxs("div",{className:"bg-surface w-full max-w-lg rounded-2xl shadow-2xl border border-bdr overflow-hidden animate-in zoom-in-95 duration-200",children:[a.jsxs("div",{className:"bg-app px-6 py-4 border-b border-bdr flex justify-between items-center",children:[a.jsxs("h3",{className:"font-black text-lg text-txt-main flex items-center gap-2",children:[a.jsx(P0,{className:"w-5 h-5 text-emerald-500"}),D.id?"Editar Maquininha":"Nova Maquininha"]}),a.jsx("button",{onClick:()=>S(!1),className:"hover:bg-bdr p-1 rounded-full",children:a.jsx(Vn,{className:"w-5 h-5 text-txt-muted"})})]}),a.jsxs("div",{className:"p-6 space-y-5",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-txt-muted uppercase mb-1.5",children:"Nome da Maquininha"}),a.jsx("input",{type:"text",value:D.nome||"",onChange:z=>H({...D,nome:z.target.value}),className:"w-full bg-app border border-bdr rounded-xl p-3 text-sm font-bold text-txt-main focus:ring-2 focus:ring-emerald-500 outline-none",placeholder:"Ex: Stone - Loja 1"})]}),a.jsx("div",{className:"grid grid-cols-3 gap-4",children:[{label:"Taxa Dbito",key:"taxaDebito"},{label:"Crdito Vista",key:"taxaCreditoVista"},{label:"Crdito Parc.",key:"taxaCreditoParcelado"}].map(z=>a.jsxs("div",{children:[a.jsx("label",{className:"block text-[10px] font-bold text-txt-muted uppercase mb-1.5 truncate",children:z.label}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"number",value:D[z.key]||"",onChange:he=>H({...D,[z.key]:he.target.value}),className:"w-full bg-app border border-bdr rounded-xl p-3 text-sm font-bold text-txt-main focus:ring-2 focus:ring-emerald-500 outline-none pr-8",placeholder:"0.00"}),a.jsx("span",{className:"absolute right-3 top-3 text-xs font-bold text-txt-muted",children:"%"})]})]},z.key))}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-txt-muted uppercase mb-2",children:"Depsitos Autorizados"}),a.jsx("div",{className:"space-y-2 bg-app p-4 rounded-xl border border-bdr",children:m.map(z=>{var he,V,me;return a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-2 hover:bg-surface rounded-lg transition-colors",children:[a.jsx("div",{className:`w-5 h-5 border-2 rounded flex items-center justify-center transition-colors ${(he=D.depositosPermitidos)!=null&&he.includes(z.id)?"bg-emerald-500 border-emerald-500":"border-txt-muted bg-surface"}`,children:((V=D.depositosPermitidos)==null?void 0:V.includes(z.id))&&a.jsx(oA,{className:"w-3.5 h-3.5 text-white"})}),a.jsx("input",{type:"checkbox",className:"hidden",checked:(me=D.depositosPermitidos)==null?void 0:me.includes(z.id),onChange:()=>{const ee=D.depositosPermitidos||[];ee.includes(z.id)?H({...D,depositosPermitidos:ee.filter(Ce=>Ce!==z.id)}):H({...D,depositosPermitidos:[...ee,z.id]})}}),a.jsx("span",{className:"text-sm font-bold text-txt-main",children:z.nome})]},z.id)})})]})]}),a.jsxs("div",{className:"p-6 border-t border-bdr bg-app flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>S(!1),className:"px-4 py-2 text-txt-muted font-bold hover:bg-bdr rounded-lg transition-colors",children:"Cancelar"}),a.jsx("button",{onClick:de,className:"px-6 py-2 bg-emerald-500 hover:bg-emerald-600 text-white font-bold rounded-lg shadow-lg shadow-emerald-500/20 transition-all active:scale-95",children:"Salvar"})]})]})})]})},yP=({onClose:t})=>{const[e,r]=F.useState("modalities"),[n,i]=F.useState(!0),[l,d]=F.useState([]),[u,h]=F.useState([]),[m,g]=F.useState([]),[b,B]=F.useState([]),[w,S]=F.useState([]),[U,k]=F.useState({}),[C,O]=F.useState(!1),[D,H]=F.useState("DEP1"),[re,q]=F.useState("");F.useEffect(()=>{(async()=>{const[he,V,me,ee,Ce]=await Promise.all([Promise.resolve(bM()),Promise.resolve(vM()),Promise.resolve(wM()),Promise.resolve(fM()),ug()]);d(he),h(V),g(me),B(ee),S(Ce),Ce.length>0&&H(Ce[0].id),i(!1)})()},[]),F.useEffect(()=>{l.length>0&&!re&&q(l[0].id)},[l]);const ne=()=>{if(!U.nomePadrao||!U.codigo)return alert("Nome e Cdigo so obrigatrios.");const he={id:U.id||crypto.randomUUID(),codigo:U.codigo.toUpperCase(),nomePadrao:U.nomePadrao,ordem:U.ordem||l.length+1,ativo:U.ativo??!0};let V;U.id?V=l.map(me=>me.id===he.id?he:me):V=[...l,he],V.sort((me,ee)=>me.ordem-ee.ordem),k5(V),d(V),O(!1)},te=he=>{if(!confirm("Excluir modalidade? Regras associadas podem quebrar."))return;const V=l.filter(me=>me.id!==he);k5(V),d(V)},G=(he,V)=>{var me;return((me=u.find(ee=>ee.modalidadeId===he&&ee.depositoId===V))==null?void 0:me.nomeExibicao)||""},de=(he,V)=>{const me=u.findIndex(Ce=>Ce.modalidadeId===he&&Ce.depositoId===D);let ee=[...u];me>=0?V.trim()===""?ee.splice(me,1):ee[me]={...ee[me],nomeExibicao:V}:V.trim()!==""&&ee.push({id:crypto.randomUUID(),modalidadeId:he,depositoId:D,nomeExibicao:V}),h(ee),yM(ee)},K=F.useMemo(()=>m.filter(he=>he.modalidadeId===re),[m,re]),W=()=>{var me;const he={id:crypto.randomUUID(),modalidadeId:re,produtoPrincipalId:((me=b[0])==null?void 0:me.id)||"",produtoSaidaId:null,fatorSaida:1,produtoEntradaId:null,fatorEntrada:1},V=[...m,he];g(V),Px(V)},ie=(he,V,me)=>{const ee=m.map(Ce=>Ce.id===he?{...Ce,[V]:me}:Ce);g(ee),Px(ee)},z=he=>{const V=m.filter(me=>me.id!==he);g(V),Px(V)};return a.jsxs("div",{className:"fixed inset-0 bg-app z-50 flex flex-col animate-in fade-in duration-300",children:[a.jsxs("div",{className:"bg-surface border-b border-bdr px-6 py-4 flex justify-between items-center shadow-sm shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"bg-teal-500/10 p-2 rounded-xl border border-teal-500/20",children:a.jsx(Uu,{className:"w-6 h-6 text-teal-600"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-black text-txt-main tracking-tight",children:"Modalidades de Venda"}),a.jsx("p",{className:"text-xs text-txt-muted font-bold uppercase tracking-widest",children:"Configurao de Regras de Negcio"})]})]}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-red-500/10 hover:text-red-500 text-txt-muted rounded-full transition-colors",children:a.jsx(Vn,{className:"w-6 h-6"})})]}),a.jsx("div",{className:"bg-surface border-b border-bdr px-6",children:a.jsxs("div",{className:"flex gap-8",children:[a.jsxs("button",{onClick:()=>r("modalities"),className:`pb-4 pt-4 text-sm font-black uppercase tracking-widest border-b-4 transition-all flex items-center gap-2 ${e==="modalities"?"border-teal-500 text-teal-600":"border-transparent text-txt-muted hover:text-txt-main"}`,children:[a.jsx(Lw,{className:"w-4 h-4"})," Cadastro de Modalidades"]}),a.jsxs("button",{onClick:()=>r("labels"),className:`pb-4 pt-4 text-sm font-black uppercase tracking-widest border-b-4 transition-all flex items-center gap-2 ${e==="labels"?"border-teal-500 text-teal-600":"border-transparent text-txt-muted hover:text-txt-main"}`,children:[a.jsx(lb,{className:"w-4 h-4"})," Rtulos por Depsito"]}),a.jsxs("button",{onClick:()=>r("rules"),className:`pb-4 pt-4 text-sm font-black uppercase tracking-widest border-b-4 transition-all flex items-center gap-2 ${e==="rules"?"border-teal-500 text-teal-600":"border-transparent text-txt-muted hover:text-txt-main"}`,children:[a.jsx(nm,{className:"w-4 h-4"})," Regras de Estoque"]})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-app",children:a.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[e==="modalities"&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"flex justify-end",children:a.jsxs("button",{onClick:()=>{k({ativo:!0,ordem:l.length+1}),O(!0)},className:"bg-teal-500 hover:bg-teal-600 text-white px-6 py-2.5 rounded-xl font-black text-sm shadow-lg shadow-teal-500/20 flex items-center gap-2 transition-transform active:scale-95",children:[a.jsx(po,{className:"w-4 h-4"})," NOVA MODALIDADE"]})}),a.jsx("div",{className:"bg-surface rounded-2xl shadow-sm border border-bdr overflow-hidden",children:a.jsxs("table",{className:"w-full text-left text-sm",children:[a.jsx("thead",{className:"bg-app border-b border-bdr text-xs font-black text-txt-muted uppercase tracking-widest",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 w-20 text-center",children:"Ordem"}),a.jsx("th",{className:"px-6 py-4",children:"Cdigo"}),a.jsx("th",{className:"px-6 py-4",children:"Nome Padro"}),a.jsx("th",{className:"px-6 py-4 text-center",children:"Status"}),a.jsx("th",{className:"px-6 py-4 text-right",children:"Aes"})]})}),a.jsx("tbody",{className:"divide-y divide-bdr",children:l.map(he=>a.jsxs("tr",{className:"hover:bg-app transition-colors group",children:[a.jsx("td",{className:"px-6 py-4 text-center font-bold text-txt-muted",children:he.ordem}),a.jsx("td",{className:"px-6 py-4 font-mono font-bold text-teal-600",children:he.codigo}),a.jsx("td",{className:"px-6 py-4 font-medium text-txt-main",children:he.nomePadrao}),a.jsx("td",{className:"px-6 py-4 text-center",children:he.ativo?a.jsx("span",{className:"inline-flex items-center gap-1 text-[10px] bg-green-100 text-green-700 px-2 py-0.5 rounded font-black uppercase",children:"Ativo"}):a.jsx("span",{className:"inline-flex items-center gap-1 text-[10px] bg-red-100 text-red-700 px-2 py-0.5 rounded font-black uppercase",children:"Inativo"})}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsxs("div",{className:"flex items-center justify-end gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[a.jsx("button",{onClick:()=>{k(he),O(!0)},className:"p-2 hover:bg-blue-50 text-blue-500 rounded-lg",children:a.jsx(hf,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>te(he.id),className:"p-2 hover:bg-red-50 text-red-500 rounded-lg",children:a.jsx(oa,{className:"w-4 h-4"})})]})})]},he.id))})]})})]}),e==="labels"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-surface p-4 rounded-xl border border-bdr flex items-center gap-4",children:[a.jsx("label",{className:"text-xs font-black text-txt-muted uppercase",children:"Selecione o Depsito:"}),a.jsx("select",{value:D,onChange:he=>H(he.target.value),className:"bg-app border border-bdr rounded-lg p-2 text-sm font-bold text-txt-main outline-none focus:ring-2 focus:ring-teal-500",children:w.map(he=>a.jsx("option",{value:he.id,children:he.name},he.id))})]}),a.jsx("div",{className:"bg-surface rounded-2xl shadow-sm border border-bdr overflow-hidden",children:a.jsxs("table",{className:"w-full text-left text-sm",children:[a.jsx("thead",{className:"bg-app border-b border-bdr text-xs font-black text-txt-muted uppercase tracking-widest",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 w-32",children:"Cdigo"}),a.jsx("th",{className:"px-6 py-4 w-1/3",children:"Nome Padro (Sistema)"}),a.jsx("th",{className:"px-6 py-4",children:"Rtulo no Depsito Selecionado"})]})}),a.jsx("tbody",{className:"divide-y divide-bdr",children:l.map(he=>{const V=G(he.id,D);return a.jsxs("tr",{className:"hover:bg-app transition-colors",children:[a.jsx("td",{className:"px-6 py-4 font-mono font-bold text-teal-600",children:he.codigo}),a.jsx("td",{className:"px-6 py-4 text-txt-muted",children:he.nomePadrao}),a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("input",{type:"text",value:V,placeholder:he.nomePadrao,onChange:me=>de(he.id,me.target.value),className:`w-full bg-app border border-bdr rounded-lg p-2 text-sm font-bold focus:ring-2 focus:ring-teal-500 outline-none ${V?"text-teal-700 border-teal-200 bg-teal-50":"text-txt-main"}`}),V&&a.jsx("span",{className:"text-[10px] text-teal-600 font-medium mt-1 block",children:"Personalizado"})]})]},he.id)})})]})})]}),e==="rules"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-surface p-4 rounded-xl border border-bdr flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("label",{className:"text-xs font-black text-txt-muted uppercase",children:"Configurar Regras para:"}),a.jsx("select",{value:re,onChange:he=>q(he.target.value),className:"bg-app border border-bdr rounded-lg p-2 text-sm font-bold text-txt-main outline-none focus:ring-2 focus:ring-teal-500 min-w-[200px]",children:l.map(he=>a.jsx("option",{value:he.id,children:he.nomePadrao},he.id))})]}),a.jsxs("button",{onClick:W,className:"bg-teal-500 hover:bg-teal-600 text-white px-4 py-2 rounded-lg font-black text-xs shadow-lg shadow-teal-500/20 flex items-center gap-2 transition-transform active:scale-95",children:[a.jsx(po,{className:"w-3 h-3"})," NOVA REGRA"]})]}),a.jsx("div",{className:"bg-surface rounded-2xl shadow-sm border border-bdr overflow-hidden",children:a.jsxs("table",{className:"w-full text-left text-sm",children:[a.jsx("thead",{className:"bg-app border-b border-bdr text-xs font-black text-txt-muted uppercase tracking-widest",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 w-1/4",children:"Quando vender... (Produto Principal)"}),a.jsx("th",{className:"px-4 py-3 w-1/4 border-l border-bdr/50",children:"Deve sair do Estoque..."}),a.jsx("th",{className:"px-4 py-3 w-20 text-center",children:"Fator"}),a.jsx("th",{className:"px-4 py-3 w-1/4 border-l border-bdr/50",children:"Deve entrar no Estoque..."}),a.jsx("th",{className:"px-4 py-3 w-20 text-center",children:"Fator"}),a.jsx("th",{className:"px-4 py-3 text-right",children:"Ao"})]})}),a.jsx("tbody",{className:"divide-y divide-bdr",children:K.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"p-8 text-center text-txt-muted italic",children:"Nenhuma regra configurada para esta modalidade. O estoque no ser movimentado automaticamente."})}):K.map(he=>a.jsxs("tr",{className:"hover:bg-app transition-colors",children:[a.jsx("td",{className:"px-4 py-3",children:a.jsx("select",{value:he.produtoPrincipalId,onChange:V=>ie(he.id,"produtoPrincipalId",V.target.value),className:"w-full bg-app border border-bdr rounded-lg p-2 text-xs font-bold text-txt-main focus:ring-teal-500 outline-none",children:b.map(V=>a.jsx("option",{value:V.id,children:V.nome},V.id))})}),a.jsx("td",{className:"px-4 py-3 border-l border-bdr/50 bg-red-50/10",children:a.jsxs("select",{value:he.produtoSaidaId||"",onChange:V=>ie(he.id,"produtoSaidaId",V.target.value||null),className:"w-full bg-surface border border-bdr rounded-lg p-2 text-xs text-txt-main outline-none focus:ring-red-500",children:[a.jsx("option",{value:"",children:"(Nada)"}),b.map(V=>a.jsx("option",{value:V.id,children:V.nome},V.id))]})}),a.jsx("td",{className:"px-4 py-3 text-center",children:a.jsx("input",{type:"number",value:he.fatorSaida,onChange:V=>ie(he.id,"fatorSaida",parseFloat(V.target.value)),className:"w-16 text-center bg-surface border border-bdr rounded p-1 text-xs font-mono"})}),a.jsx("td",{className:"px-4 py-3 border-l border-bdr/50 bg-green-50/10",children:a.jsxs("select",{value:he.produtoEntradaId||"",onChange:V=>ie(he.id,"produtoEntradaId",V.target.value||null),className:"w-full bg-surface border border-bdr rounded-lg p-2 text-xs text-txt-main outline-none focus:ring-green-500",children:[a.jsx("option",{value:"",children:"(Nada)"}),b.map(V=>a.jsx("option",{value:V.id,children:V.nome},V.id))]})}),a.jsx("td",{className:"px-4 py-3 text-center",children:a.jsx("input",{type:"number",value:he.fatorEntrada,onChange:V=>ie(he.id,"fatorEntrada",parseFloat(V.target.value)),className:"w-16 text-center bg-surface border border-bdr rounded p-1 text-xs font-mono"})}),a.jsx("td",{className:"px-4 py-3 text-right",children:a.jsx("button",{onClick:()=>z(he.id),className:"text-txt-muted hover:text-red-500 p-2",children:a.jsx(oa,{className:"w-4 h-4"})})})]},he.id))})]})})]})]})}),C&&a.jsx("div",{className:"fixed inset-0 bg-black/60 z-[60] flex items-center justify-center p-4 backdrop-blur-sm",children:a.jsxs("div",{className:"bg-surface w-full max-w-md rounded-2xl shadow-2xl border border-bdr overflow-hidden animate-in zoom-in-95 duration-200",children:[a.jsxs("div",{className:"bg-app px-6 py-4 border-b border-bdr flex justify-between items-center",children:[a.jsxs("h3",{className:"font-black text-lg text-txt-main flex items-center gap-2",children:[a.jsx(Lw,{className:"w-5 h-5 text-teal-500"}),U.id?"Editar Modalidade":"Nova Modalidade"]}),a.jsx("button",{onClick:()=>O(!1),className:"hover:bg-bdr p-1 rounded-full",children:a.jsx(Vn,{className:"w-5 h-5 text-txt-muted"})})]}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-txt-muted uppercase mb-1",children:"Nome Padro"}),a.jsx("input",{type:"text",value:U.nomePadrao||"",onChange:he=>k({...U,nomePadrao:he.target.value}),className:"w-full bg-app border border-bdr rounded-xl p-3 text-sm font-bold text-txt-main outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Ex: Venda Direta",autoFocus:!0})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-txt-muted uppercase mb-1",children:"Cdigo (Sistema)"}),a.jsx("input",{type:"text",value:U.codigo||"",onChange:he=>k({...U,codigo:he.target.value.toUpperCase()}),className:"w-full bg-app border border-bdr rounded-xl p-3 text-sm font-mono font-bold text-teal-600 outline-none focus:ring-2 focus:ring-teal-500 uppercase",placeholder:"VENDA"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-txt-muted uppercase mb-1",children:"Ordem"}),a.jsx("input",{type:"number",value:U.ordem||0,onChange:he=>k({...U,ordem:parseInt(he.target.value)}),className:"w-full bg-app border border-bdr rounded-xl p-3 text-sm font-bold text-txt-main outline-none focus:ring-2 focus:ring-teal-500"})]})]}),a.jsxs("div",{className:"flex items-center gap-3 p-3 bg-app rounded-xl border border-bdr",children:[a.jsx("input",{type:"checkbox",id:"modActive",checked:U.ativo??!0,onChange:he=>k({...U,ativo:he.target.checked}),className:"w-5 h-5 text-teal-500 rounded focus:ring-teal-500"}),a.jsx("label",{htmlFor:"modActive",className:"text-sm font-bold text-txt-main cursor-pointer select-none",children:"Modalidade Ativa"})]})]}),a.jsxs("div",{className:"p-6 border-t border-bdr bg-app flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>O(!1),className:"px-4 py-2 text-txt-muted font-bold hover:bg-bdr rounded-lg transition-colors",children:"Cancelar"}),a.jsx("button",{onClick:ne,className:"px-6 py-2 bg-teal-500 hover:bg-teal-600 text-white font-bold rounded-lg shadow-lg shadow-teal-500/20 transition-all active:scale-95",children:"Salvar"})]})]})})]})},Jx=t=>{const e=Number(t.replace(",","."));return Number.isFinite(e)?e:0},wP=({onClose:t})=>{const{activeShift:e,closeShift:r}=mg(),[n,i]=F.useState({cash:"",card:"",pix:""}),[l,d]=F.useState({}),[u,h]=F.useState([]),[m,g]=F.useState({}),[b,B]=F.useState(!1),[w,S]=F.useState(!1),[U,k]=F.useState(null),[C,O]=F.useState(null),D=Xa(()=>e!=null&&e.depositoId?Xr.deposits.get(e.depositoId):void 0,[e==null?void 0:e.depositoId]),H=!!((D==null?void 0:D.require_stock_audit)??(D==null?void 0:D.requireStockAudit)),re=Xa(()=>e!=null&&e.id?Xr.cash_flow_entries.where("shift_id").equals(e.id).toArray():[],[e==null?void 0:e.id]),q=ie=>ie.depositoId??null,ne=ie=>(ie.is_delivery_fee??ie.isDeliveryFee)===!0||String(ie.product_group??ie.codigo??"").toLowerCase()==="delivery_fee"?!0:String(ie.nome??"").toLowerCase()==="taxa de entrega",te=ie=>ne(ie)||(ie.track_stock??ie.trackStock)===!1?!0:ie.type==="SERVICE";F.useEffect(()=>{let ie=!0;return(async()=>{if(!(e!=null&&e.depositoId))return;const V=(await Xr.products.toArray()).filter(ee=>{if(te(ee))return!1;const Ce=q(ee);return Ce===null||Ce===e.depositoId}),me=await getStockMapForDeposit(e.depositoId);ie&&(h(V),g(me))})(),()=>{ie=!1}},[e==null?void 0:e.depositoId]);const G=F.useMemo(()=>{const ie={cash:0,card:0,pix:0};return(re||[]).forEach(z=>{const he=Number(z.amount??0)||0,V=z.direction==="OUT"?-he:he,me=z.payment_type??(z.category==="SALE"?"other":"cash");me==="cash"&&(ie.cash+=V),me==="card"&&(ie.card+=V),me==="pix"&&(ie.pix+=V)}),ie},[re]),de=F.useMemo(()=>!H||!u.length?!1:u.some(ie=>l[ie.id]===""||l[ie.id]===void 0),[H,u,l]),K=(ie,z)=>{const he=parseInt(z);d(V=>({...V,[ie]:Number.isNaN(he)?"":Math.max(0,he)}))},W=async()=>{if(!e)return;O(null);const ie=Jx(n.cash),z=Jx(n.card),he=Jx(n.pix);if(ie<0||z<0||he<0){O("Valores declarados invalidos.");return}if(de){O("Preencha a contagem de estoque antes de fechar.");return}const V=ie-G.cash,me=z-G.card,ee=he-G.pix,Ce=Math.abs(V)>.009||Math.abs(me)>.009||Math.abs(ee)>.009,Ne=[];H&&u.forEach(T=>{const $=l[T.id];if($===""||$===void 0)return;const X=Number(m[T.id]??0)||0,Ae=Number($)-X;Ae!==0&&Ne.push({id:crypto.randomUUID(),shift_id:e.id,depositoId:e.depositoId,product_id:T.id,counted_qty:Number($),system_qty:X,diff_qty:Ae,created_at:Date.now(),user_id:e.user_id})});const M=Ce||Ne.length>0?"DISCREPANCY":"CLOSED";S(!0);try{Ne.length>0&&await saveShiftStockAudits(Ne),await r({declared:{cash:ie,card:z,pix:he},system:G,status:M,notes:M==="DISCREPANCY"?"Discrepancia detectada no fechamento.":null}),k(M)}catch{O("Falha ao fechar o turno.")}finally{S(!1)}};return!e&&!U?a.jsx("div",{className:"fixed inset-0 bg-app z-50 flex items-center justify-center text-txt-muted",children:"Nenhum turno aberto para fechamento."}):U?a.jsx("div",{className:"fixed inset-0 bg-black/70 z-50 flex items-center justify-center p-6",children:a.jsxs("div",{className:"bg-surface border border-bdr rounded-2xl p-6 max-w-md w-full text-center space-y-4",children:[a.jsx("div",{className:`mx-auto w-12 h-12 rounded-full flex items-center justify-center ${U==="DISCREPANCY"?"bg-red-500/10":"bg-emerald-500/10"}`,children:a.jsx(rd,{className:`w-6 h-6 ${U==="DISCREPANCY"?"text-red-500":"text-emerald-500"}`})}),a.jsx("h3",{className:"text-base font-black text-txt-main",children:"Turno Finalizado"}),a.jsx("p",{className:"text-sm text-txt-muted",children:U==="DISCREPANCY"?"Diferenca identificada. O gerente sera notificado.":"Fechamento concluido sem divergencias."}),a.jsx("button",{onClick:t,className:"w-full bg-primary text-white py-2 rounded-lg font-black",children:"Voltar"})]})}):a.jsxs("div",{className:"fixed inset-0 bg-app z-50 flex flex-col animate-in slide-in-from-bottom-4 duration-300 transition-colors",children:[a.jsxs("div",{className:"bg-surface border-b border-bdr px-6 py-3 shadow-sm shrink-0 z-20 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"bg-emerald-600 p-2 rounded-lg shadow-sm",children:a.jsx(hv,{className:"w-5 h-5 text-white"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-black text-txt-main",children:"Fechamento de Caixa"}),a.jsxs("p",{className:"text-xs text-txt-muted",children:["Turno #",e==null?void 0:e.id.slice(-6)]})]})]}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-red-500/10 rounded-full text-txt-muted hover:text-red-500",children:a.jsx(Vn,{className:"w-5 h-5"})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto bg-app p-6",children:a.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[a.jsxs("div",{className:"bg-surface rounded-xl border border-bdr overflow-hidden",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-bdr bg-app/50 flex items-center justify-between",children:[a.jsxs("h3",{className:"text-sm font-black text-txt-main uppercase tracking-wide flex items-center gap-2",children:[a.jsx(FB,{className:"w-4 h-4 text-emerald-500"}),"Conferencia Cega"]}),!b&&a.jsx("button",{onClick:()=>B(!0),className:"text-xs font-black text-txt-main bg-app border border-bdr px-3 py-1 rounded",children:"Mostrar valores do sistema"})]}),a.jsx("div",{className:"p-6 grid grid-cols-1 md:grid-cols-3 gap-6",children:[{key:"cash",label:"Dinheiro"},{key:"card",label:"Cartao"},{key:"pix",label:"Pix"}].map(ie=>a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-xs font-bold text-txt-muted uppercase",children:ie.label}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute left-3 top-2.5 text-txt-muted font-medium",children:"R$"}),a.jsx("input",{type:"number",value:n[ie.key],onChange:z=>i(he=>({...he,[ie.key]:z.target.value})),className:"w-full pl-10 pr-4 py-2 bg-app border border-bdr rounded-lg focus:ring-2 focus:ring-primary/20 outline-none font-bold text-txt-main",placeholder:"0.00"})]}),b&&a.jsxs("div",{className:"text-[11px] text-txt-muted",children:["Sistema: R$ ",G[ie.key].toFixed(2)]})]},ie.key))})]}),H&&u.length>0&&a.jsxs("div",{className:"bg-surface rounded-xl border border-bdr overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 border-b border-bdr bg-app/50",children:a.jsx("h3",{className:"text-sm font-black text-txt-main uppercase tracking-wide",children:"Auditoria de Estoque"})}),a.jsxs("table",{className:"w-full text-sm text-left",children:[a.jsx("thead",{className:"bg-surface text-[10px] text-txt-muted uppercase font-black border-b border-bdr",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3",children:"Produto"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"Sistema"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"Contado"})]})}),a.jsx("tbody",{className:"divide-y divide-bdr",children:u.map(ie=>a.jsxs("tr",{className:"hover:bg-app/60 transition-colors",children:[a.jsx("td",{className:"px-4 py-3 font-medium text-txt-main",children:ie.nome}),a.jsx("td",{className:"px-4 py-3 text-center font-mono text-txt-muted",children:m[ie.id]??0}),a.jsx("td",{className:"px-4 py-3 text-center",children:a.jsx("input",{type:"number",min:"0",value:l[ie.id]??"",onChange:z=>K(ie.id,z.target.value),className:"w-24 text-center font-black bg-surface border border-bdr rounded-lg py-1 text-txt-main focus:ring-2 focus:ring-primary/20 outline-none",placeholder:"-"})})]},ie.id))})]})]}),C&&a.jsx("div",{className:"text-xs font-bold text-red-500 bg-red-500/10 border border-red-500/20 px-3 py-2 rounded",children:C}),a.jsx("div",{className:"flex justify-end",children:a.jsxs("button",{onClick:W,disabled:w,className:"bg-emerald-600 hover:bg-emerald-700 text-white px-6 py-3 rounded-xl font-black shadow-lg disabled:opacity-60 flex items-center gap-2",children:[a.jsx(il,{className:"w-4 h-4"}),w?"Fechando...":"Fechar Turno"]})})]})})]})},Gv=(t,e,r)=>{const n=[t==null?void 0:t.trim(),e==null?void 0:e.trim()].filter(Boolean);return n.length>0?n.join(" - "):(r??"").trim()},q5=async()=>(await Uc.getAll({includeInactive:!0})||[]).map(e=>{const r=Gv(e.street_address,e.neighborhood,e.address);return{id:e.id,nome:e.name,endereco:r,streetAddress:e.street_address??e.address??"",neighborhood:e.neighborhood??"",deliverySectorId:e.delivery_sector_id??null,telefone:e.phone??void 0,cpf:e.cpf??void 0,referencia:e.reference??void 0,dataNascimento:e.birth_date??void 0,deliveryZoneId:e.delivery_zone_id??null,ativo:e.is_active??e.active??!0,criado_em:e.created_at?new Date(e.created_at).getTime():Date.now(),atualizado_em:e.updated_at?new Date(e.updated_at).getTime():Date.now()}}),Yx=async t=>{var d,u;const e=new Date().toISOString(),r=Vv(t.dataNascimento),n=Gv(t.streetAddress,t.neighborhood,t.endereco),i={name:t.nome||"",address:n||null,street_address:((d=t.streetAddress)==null?void 0:d.trim())||null,neighborhood:((u=t.neighborhood)==null?void 0:u.trim())||null,delivery_sector_id:t.deliverySectorId??null,phone:t.telefone||null,cpf:t.cpf||null,reference:t.referencia||null,birth_date:r,delivery_zone_id:t.deliveryZoneId??null,is_active:t.ativo??!0,updated_at:e};if(t.id){const h=i;await Uc.update(t.id,h);return}const l={...i,created_at:e};await Uc.create(l)},_P=async t=>{await Uc.remove(t)},hE=t=>{const e=String(t??"").trim().toUpperCase();return e==="SIMPLES"?"SIMPLE":e==="TROCA"?"EXCHANGE":e==="COMPLETA"?"FULL":e||"SIMPLE"},fE=t=>{const e=t.special_price,r=e==null?null:Number(e);return{id:t.id,clienteId:t.client_id,produtoId:t.product_id,depositoId:t.deposit_id,modalidade:hE(t.modality),precoEspecial:r,ativo:t.is_active??!0,atualizado_em:t.updated_at?new Date(t.updated_at).getTime():t.created_at?new Date(t.created_at).getTime():Date.now()}},z5=(t,e,r,n)=>`${t}:${e}:${r}:${n??"GLOBAL"}`,K5=async()=>(await sE()||[]).map(fE),BP=async t=>{const e=await Y8(t);return fE(e)},NP=async t=>{await W8(t)},pE=t=>{const e=t.discount_percent,r=t.discount_value,n=e==null?null:Number(e),i=r==null?null:Number(r),l=n!==null&&Number.isFinite(n)&&n>0?"PERCENTUAL":"VALOR",d=l==="PERCENTUAL"?Number.isFinite(n??NaN)?Number(n):0:Number.isFinite(i??NaN)?Number(i):0,u=String(t.status??"").trim().toUpperCase(),h=!!t.used_at||!!t.used_in_order_id||u!==""&&u!=="PENDING";return{id:t.id,clienteId:t.client_id,depositoId:t.deposit_id??null,tipoDesconto:l,valorDesconto:d,usado:h,usadoEmOsId:t.used_in_order_id??null,criado_em:t.created_at?new Date(t.created_at).getTime():Date.now(),usado_em:t.used_at?new Date(t.used_at).getTime():null}},V5=async()=>(await G8()||[]).map(pE),CP=async t=>{const e=Number(t.valorDesconto??0),r=Number.isFinite(e)?e:0,n=t.tipoDesconto==="PERCENTUAL",i={id:t.id,client_id:t.clienteId,deposit_id:null,benefit_type:"DISCOUNT",discount_value:n?null:r,discount_percent:n?r:null,status:"PENDING",used_in_order_id:t.usadoEmOsId??null,used_at:t.usado_em?new Date(t.usado_em).toISOString():null},l=await $8(i);return pE(l)},EP=async t=>{await Z8(t)},SP=async()=>(await Lc.getAll()||[]).map(e=>({id:e.id,nome:e.name??e.id})),G5=["SIMPLE","EXCHANGE","FULL"],$5={SIMPLE:"Simples",EXCHANGE:"Troca",FULL:"Completa"},Wx={nome:"",endereco:"",streetAddress:"",neighborhood:"",deliverySectorId:null,telefone:"",cpf:"",referencia:"",dataNascimento:"",deliveryZoneId:null},jP=({onClose:t,userRole:e})=>{const r=e==="ADMIN",[n,i]=F.useState([]),[l,d]=F.useState([]),[u,h]=F.useState([]),[m,g]=F.useState(""),[b,B]=F.useState(null),[w,S]=F.useState("dados"),[U,k]=F.useState(!1),[C,O]=F.useState(Wx),[D,H]=F.useState(""),[re,q]=F.useState(!1),ne=F.useRef(null),[te,G]=F.useState({produtoId:"",depositoId:"",depositoScope:"GLOBAL",modalidade:G5[0],preco:""}),[de,K]=F.useState([]),[W,ie]=F.useState([]),[z,he]=F.useState([]),[V,me]=F.useState({tipoDesconto:"VALOR",valorDesconto:0,modalidadeAlvo:null,produtoIdAlvo:null});F.useEffect(()=>{let ue=!0;return(async()=>{try{const[Ze,Ve,gt]=await Promise.all([q5(),K5(),V5()]);if(!ue)return;i(Ze),d(Ve),h(gt)}catch(Ze){console.error("Erro ao carregar dados de clientes:",Ze),jr.error("Nao foi possivel carregar dados de clientes.")}})(),()=>{ue=!1}},[]),F.useEffect(()=>{let ue=!0;return(async()=>{try{const Ze=await Ii.getAll();if(!ue)return;K(Ze||[])}catch(Ze){console.error("Erro ao carregar produtos:",Ze),jr.error("Nao foi possivel carregar produtos.")}})(),()=>{ue=!1}},[]),F.useEffect(()=>{let ue=!0;return(async()=>{try{const Ze=await SP();if(!ue)return;ie(Ze.map(Ve=>({id:Ve.id,nome:Ve.nome})))}catch(Ze){console.error("Erro ao carregar depsitos:",Ze),jr.error("Nao foi possivel carregar depositos.")}})(),()=>{ue=!1}},[]),F.useEffect(()=>{let ue=!0;return(async()=>{try{const Ze=await sv.getZones();if(!ue)return;he(Ze||[])}catch(Ze){console.error("Erro ao carregar zonas:",Ze),jr.error("Nao foi possivel carregar zonas de entrega.")}})(),()=>{ue=!1}},[]),F.useEffect(()=>{var ue;re&&((ue=ne.current)==null||ue.focus())},[re]);const ee=async()=>{const[ue,Ze,Ve]=await Promise.all([q5(),K5(),V5()]);i(ue),d(Ze),h(Ve)},Ce=n.filter(ue=>{const Ze=(ue.nome||"").toString().toLowerCase(),Ve=(ue.endereco||"").toString().toLowerCase(),gt=(ue.telefone||"").toString(),bt=(m||"").toString().toLowerCase();return Ze.includes(bt)||gt.includes(m)||Ve.includes(bt)}),Ne=F.useMemo(()=>lE.filter(ue=>ue.toLowerCase().includes(D.toLowerCase())),[D]),M=F.useMemo(()=>n.find(ue=>ue.id===b),[b,n]),T=F.useMemo(()=>l.filter(ue=>ue.clienteId===b),[b,l]),$=F.useMemo(()=>u.find(ue=>ue.clienteId===b&&!ue.usado),[b,u]),X=F.useMemo(()=>W.reduce((ue,Ze)=>(ue[Ze.id]=Ze.nome,ue),{}),[W]),Ae=ue=>ue?X[ue]??ue:"GLOBAL",xe=ue=>{const Ze=(ue.code??"").trim().toUpperCase(),Ve=(ue.name??"").trim();return Ze==="P13"?"Gs P13":Ze==="P45"?"Gs P45":Ze==="AGUA20"||Ze==="GUA20"?"gua 20L":Ze||Ve||ue.id},Be=ue=>{const Ze=(ue.code??"").toUpperCase(),Ve=(ue.name??"").toUpperCase();return Ze.includes("P13")||Ve.includes("P13")||Ze.includes("P45")||Ve.includes("P45")||Ze.includes("AGUA20")||Ve.includes("AGUA 20")||Ve.includes("GUA 20")},ke=F.useMemo(()=>{const ue=de.filter(Be);return[...ue.length>0?ue:de].sort((Ve,gt)=>xe(Ve).localeCompare(xe(gt),"pt-BR"))},[de]),ge=F.useMemo(()=>{const ue=new Map;return de.forEach(Ze=>{ue.set(Ze.id,xe(Ze))}),ue},[de]);F.useEffect(()=>{ke.length!==0&&G(ue=>ke.some(Ve=>Ve.id===ue.produtoId)?ue:{...ue,produtoId:ke[0].id})},[ke]);const je=()=>{B(null),O(Wx),k(!0),S("dados")},Qe=ue=>{B(ue);const Ze=n.find(Ve=>Ve.id===ue);Ze&&(O(Ze),k(!1))},Re=async()=>{var bt;const ue=(C.streetAddress||"").trim(),Ze=(C.neighborhood||"").trim();if(!C.nome||!ue||!Ze){jr.error("Preencha Nome, Logradouro e Bairro/Setor.");return}const Ve=Gv(ue,Ze,C.endereco),gt=Date.now();try{b?await Yx({id:b,nome:C.nome,endereco:Ve,streetAddress:ue,neighborhood:Ze,deliverySectorId:C.deliverySectorId??null,telefone:C.telefone,cpf:C.cpf,referencia:C.referencia,dataNascimento:C.dataNascimento,deliveryZoneId:C.deliveryZoneId??null,ativo:C.ativo??!0,criado_em:((bt=n.find(nr=>nr.id===b))==null?void 0:bt.criado_em)??gt,atualizado_em:gt}):await Yx({nome:C.nome,endereco:Ve,streetAddress:ue,neighborhood:Ze,deliverySectorId:C.deliverySectorId??null,telefone:C.telefone,cpf:C.cpf,referencia:C.referencia,dataNascimento:C.dataNascimento,deliveryZoneId:C.deliveryZoneId??null,ativo:!0,criado_em:gt,atualizado_em:gt}),await ee(),k(!1)}catch(nr){console.error("Erro ao salvar cliente:",nr),jr.error("Nao foi possivel salvar o cliente.")}},lt=async()=>{if(!b)return;const ue=n.find(Ze=>Ze.id===b);if(ue)try{await Yx({...ue,ativo:!ue.ativo,atualizado_em:Date.now()}),await ee()}catch(Ze){console.error("Erro ao atualizar status do cliente:",Ze),jr.error("Nao foi possivel atualizar o status do cliente.")}},Lt=async()=>{if(!b)return;const ue=n.find(gt=>gt.id===b),Ze=(ue==null?void 0:ue.nome)||"cliente";if(window.confirm(`Excluir permanentemente ${Ze}? Essa ao no pode ser desfeita.`))try{await _P(b),await ee(),B(null),O(Wx),k(!1),S("dados")}catch(gt){console.error("Erro ao remover cliente:",gt),jr.error("Nao foi possivel remover o cliente.")}},fe=async()=>{if(!b)return;if(!te.produtoId){jr.error("Selecione um produto base.");return}if(te.preco===""){jr.error("Informe um valor vlido para o preo especial.");return}const ue=Number(te.preco);if(!Number.isFinite(ue)){jr.error("Informe um valor vlido para o preo especial.");return}const Ze=te.depositoScope==="GLOBAL",Ve=Ze?null:te.depositoId||null;if(!Ze&&!Ve){jr.error("Selecione um depsito especfico.");return}const gt={client_id:b,product_id:te.produtoId,deposit_id:Ze?null:Ve,modality:hE(te.modalidade),special_price:ue,is_active:!0};try{const bt=await BP(gt),nr=z5(bt.clienteId,bt.produtoId,bt.modalidade,bt.depositoId);d(Jt=>{const Wt=Jt.findIndex(sr=>z5(sr.clienteId,sr.produtoId,sr.modalidade,sr.depositoId)===nr);if(Wt===-1)return[...Jt,bt];const yr=[...Jt];return yr[Wt]=bt,yr}),G(Jt=>({...Jt,preco:""}))}catch(bt){console.error("Erro ao salvar preo especial:",bt),jr.error("No foi possvel salvar o preo especial.")}},ft=async ue=>{try{await NP(ue),d(Ze=>Ze.filter(Ve=>Ve.id!==ue))}catch(Ze){console.error("Erro ao remover preo especial:",Ze),jr.error("No foi possvel remover o preo especial.")}},St=async()=>{if(!b)return;const ue={id:crypto.randomUUID(),clienteId:b,depositoId:null,tipoDesconto:V.tipoDesconto,valorDesconto:V.valorDesconto||0,usado:!1,criado_em:Date.now()};try{await CP(ue),await ee(),jr.success("Desconto pendente salvo com sucesso!")}catch(Ze){console.error("Erro ao salvar desconto pendente:",Ze),jr.error("Nao foi possivel salvar o desconto pendente.")}},st=async()=>{if(!(!$||!window.confirm("Remover o bnus pendente deste cliente?")))try{await EP($.id),await ee(),jr.success("Bonus desativado com sucesso.")}catch(Ze){console.error("Erro ao remover bonus pendente:",Ze),jr.error("Nao foi possivel desativar o bonus pendente.")}};return a.jsxs("div",{className:"fixed inset-0 bg-app z-50 flex flex-col animate-in slide-in-from-bottom-4 duration-300",children:[a.jsxs("div",{className:"bg-surface border-b border-bdr px-6 py-4 flex justify-between items-center shadow-sm z-10 transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"bg-primary/10 p-3 rounded-2xl shadow-sm border border-primary/20",children:a.jsx(MA,{className:"w-6 h-6 text-primary"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-txt-main tracking-tighter",children:"Clientes & Precificao"}),a.jsx("p",{className:"text-xs text-primary font-bold uppercase tracking-widest",children:"Painel Administrativo Pro"})]})]}),a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsxs("div",{className:"relative group",children:[a.jsx(lA,{className:"w-4 h-4 text-primary absolute left-3 top-3 group-focus-within:scale-110 transition-transform"}),a.jsx("input",{type:"text",placeholder:"Localizar cliente...",value:m,onChange:ue=>g(ue.target.value),className:"pl-10 pr-4 py-2.5 bg-app border border-bdr rounded-xl text-sm text-txt-main font-bold placeholder:text-txt-muted focus:ring-2 focus:ring-primary focus:border-primary outline-none w-72 transition-all"})]}),a.jsxs("button",{onClick:je,className:"bg-primary hover:bg-primary/90 text-white px-6 py-2.5 rounded-xl text-sm font-black flex items-center gap-2 transition-all active:scale-95 shadow-lg shadow-primary/20",children:[a.jsx(po,{className:"w-5 h-5"})," NOVO CLIENTE"]}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-red-500/10 hover:text-red-500 rounded-full text-txt-muted transition-all active:rotate-90",children:a.jsx(Vn,{className:"w-7 h-7"})})]})]}),a.jsxs("div",{className:"flex-1 overflow-hidden flex p-6 gap-6",children:[a.jsxs("div",{className:"w-1/3 bg-surface rounded-3xl shadow-lg border border-bdr flex flex-col overflow-hidden transition-colors",children:[a.jsxs("div",{className:"p-5 bg-app/50 border-b border-bdr flex items-center justify-between",children:[a.jsx("span",{className:"text-[10px] font-black text-txt-muted uppercase tracking-[0.2em]",children:"Registros Ativos"}),a.jsx("span",{className:"bg-primary/10 text-primary text-xs font-black px-2 py-0.5 rounded-full",children:Ce.length})]}),a.jsx("div",{className:"flex-1 overflow-y-auto divide-y divide-bdr no-scrollbar",children:Ce.length===0?a.jsxs("div",{className:"p-12 text-center flex flex-col items-center justify-center h-full opacity-40",children:[a.jsx(MA,{className:"w-16 h-16 text-txt-muted mb-4"}),a.jsx("p",{className:"text-txt-muted font-black italic text-sm",children:"Nenhum cliente disponvel"})]}):Ce.map(ue=>a.jsxs("button",{onClick:()=>Qe(ue.id),className:`w-full text-left p-6 hover:bg-app transition-all flex justify-between items-center group relative ${b===ue.id?"bg-primary/5 border-r-4 border-primary":""}`,children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs("h4",{className:`font-black text-lg transition-colors ${b===ue.id?"text-primary":"text-txt-main"}`,children:[ue.nome," ",!ue.ativo&&a.jsx("span",{className:"text-[10px] text-white font-black ml-2 uppercase px-2 py-0.5 bg-red-600 rounded-md",children:"Inativo"})]}),a.jsx("p",{className:"text-xs text-txt-muted font-bold truncate w-64 uppercase tracking-tight",children:ue.endereco}),a.jsxs("div",{className:"flex gap-2",children:[l.some(Ze=>Ze.clienteId===ue.id)&&a.jsx("span",{className:"text-[9px] font-black bg-amber-500 text-white px-2.5 py-1 rounded shadow-md uppercase tracking-widest",children:"Precificado"}),u.some(Ze=>Ze.clienteId===ue.id&&!Ze.usado)&&a.jsx("span",{className:"text-[9px] font-black bg-emerald-500 text-white px-2.5 py-1 rounded shadow-md uppercase tracking-widest",children:"Bonus"})]})]}),a.jsx(uv,{className:`w-6 h-6 transition-all ${b===ue.id?"translate-x-2 text-primary opacity-100 scale-125":"text-txt-muted opacity-0 group-hover:opacity-100 group-hover:translate-x-1"}`})]},ue.id))})]}),a.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:!b&&!U?a.jsxs("div",{className:"flex-1 bg-surface rounded-3xl border-4 border-dashed border-bdr flex flex-col items-center justify-center text-txt-muted p-12 text-center shadow-inner group transition-colors",children:[a.jsx("div",{className:"bg-app p-10 rounded-[2.5rem] mb-8 border-2 border-bdr group-hover:scale-110 transition-transform duration-500",children:a.jsx(MA,{className:"w-20 h-20 text-primary/30"})}),a.jsx("p",{className:"font-black text-2xl text-txt-main tracking-tight",children:"Nenhum Registro Selecionado"}),a.jsx("p",{className:"text-sm mt-3 max-w-xs font-bold text-txt-muted leading-relaxed",children:"Clique em um cliente da lista ou inicie um novo cadastro para gerenciar suas condies especiais."})]}):a.jsxs("div",{className:"bg-surface rounded-[2.5rem] shadow-2xl border-2 border-bdr flex flex-col h-full overflow-hidden animate-in fade-in slide-in-from-right-10 duration-500 transition-colors",children:[a.jsxs("div",{className:"px-10 py-6 border-b-2 border-bdr bg-app/50 flex items-center justify-between",children:[a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("button",{onClick:()=>S("dados"),className:`flex items-center gap-3 px-6 py-3 rounded-2xl text-xs font-black uppercase tracking-widest transition-all duration-300 ${w==="dados"?"bg-primary text-white shadow-xl shadow-primary/20 scale-105":"bg-surface text-txt-muted border border-bdr hover:border-primary/50 hover:text-primary"}`,children:[a.jsx(Jh,{className:"w-4 h-4"})," Ficha Cadastral"]}),r&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{disabled:!b,onClick:()=>S("precos"),className:`flex items-center gap-3 px-6 py-3 rounded-2xl text-xs font-black uppercase tracking-widest transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed ${w==="precos"?"bg-amber-500 text-white shadow-xl shadow-amber-200 scale-105":"bg-surface text-txt-muted border border-bdr hover:border-amber-400 hover:text-amber-600"}`,children:[a.jsx(aj,{className:"w-4 h-4"})," Precificao Especial"]}),a.jsxs("button",{disabled:!b,onClick:()=>S("desconto"),className:`flex items-center gap-3 px-6 py-3 rounded-2xl text-xs font-black uppercase tracking-widest transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed ${w==="desconto"?"bg-emerald-600 text-white shadow-xl shadow-emerald-200 scale-105":"bg-surface text-txt-muted border border-bdr hover:border-emerald-400 hover:text-emerald-600"}`,children:[a.jsx(lb,{className:"w-4 h-4"})," Bonificaes"]})]})]}),b&&a.jsxs("div",{className:"bg-surface px-4 py-2 rounded-xl border border-bdr flex items-center gap-3 shadow-sm",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse"}),a.jsxs("span",{className:"text-[10px] font-black text-txt-muted uppercase tracking-widest",children:["ID: ",b.split("-")[0]]})]})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-12 no-scrollbar",children:[w==="dados"&&a.jsxs("div",{className:"space-y-12 max-w-4xl animate-in fade-in duration-500",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-10",children:[a.jsxs("div",{className:"col-span-2 group",children:[a.jsx("label",{className:"block text-[11px] font-black text-primary uppercase mb-3 tracking-[0.2em] ml-1",children:"Nome Completo / Razo Social *"}),a.jsxs("div",{className:"relative",children:[a.jsx(Bm,{className:"absolute left-5 top-1/2 -translate-y-1/2 w-5 h-5 text-txt-muted group-focus-within:text-primary transition-colors"}),a.jsx("input",{type:"text",value:C.nome,onChange:ue=>O({...C,nome:ue.target.value}),placeholder:"NOME DO CLIENTE",className:"w-full bg-app border-2 border-bdr rounded-[1.25rem] p-5 pl-14 text-base text-txt-main font-black focus:ring-4 focus:ring-primary/10 focus:bg-surface focus:border-primary outline-none shadow-sm transition-all placeholder:text-txt-muted/50 uppercase"})]})]}),a.jsxs("div",{className:"col-span-2 grid grid-cols-1 md:grid-cols-2 gap-10",children:[a.jsxs("div",{className:"group",children:[a.jsx("label",{className:"block text-[11px] font-black text-primary uppercase mb-3 tracking-[0.2em] ml-1",children:"Logradouro / numero *"}),a.jsxs("div",{className:"relative",children:[a.jsx(HA,{className:"absolute left-5 top-1/2 -translate-y-1/2 w-5 h-5 text-txt-muted group-focus-within:text-primary transition-colors"}),a.jsx("input",{type:"text",value:C.streetAddress??"",onChange:ue=>O({...C,streetAddress:ue.target.value}),placeholder:"Ex: Rua das Flores, 123",className:"w-full bg-app border-2 border-bdr rounded-[1.25rem] p-5 pl-14 text-base text-txt-main font-black focus:ring-4 focus:ring-primary/10 focus:bg-surface focus:border-primary outline-none shadow-sm transition-all placeholder:text-txt-muted/50"})]})]}),a.jsxs("div",{className:"group",children:[a.jsx("label",{className:"block text-[11px] font-black text-primary uppercase mb-3 tracking-[0.2em] ml-1",children:"Bairro / setor *"}),a.jsxs("div",{className:"relative",children:[a.jsx("button",{type:"button",onClick:()=>q(ue=>!ue),className:"w-full bg-app border-2 border-bdr rounded-[1.25rem] p-5 text-base font-black focus:ring-4 focus:ring-primary/10 focus:bg-surface focus:border-primary outline-none shadow-sm transition-all text-left",children:a.jsx("span",{className:C.neighborhood?"text-txt-main":"text-txt-muted/50",children:C.neighborhood||"Selecione o bairro / setor"})}),re&&a.jsxs("div",{className:"absolute z-20 mt-2 w-full rounded-[1.25rem] border-2 border-bdr bg-app shadow-lg",children:[a.jsx("div",{className:"p-3 border-b border-bdr",children:a.jsx("input",{ref:ne,type:"text",value:D,onChange:ue=>H(ue.target.value),placeholder:"Buscar bairro...",className:"w-full bg-surface border-2 border-bdr rounded-xl p-3 text-sm text-txt-main font-black outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary transition-all"})}),a.jsx("div",{className:"max-h-64 overflow-y-auto",children:Ne.length===0?a.jsx("div",{className:"px-4 py-3 text-xs text-txt-muted",children:"Nenhum bairro encontrado"}):Ne.map(ue=>a.jsx("button",{type:"button",onClick:()=>{O(Ze=>({...Ze,neighborhood:ue})),q(!1),H("")},className:"w-full text-left px-4 py-3 text-sm text-txt-main font-black hover:bg-bdr transition-colors",children:ue},ue))})]})]})]})]}),a.jsxs("div",{className:"col-span-2 group",children:[a.jsx("label",{className:"block text-[11px] font-black text-primary uppercase mb-3 tracking-[0.2em] ml-1",children:"Zona de entrega"}),a.jsxs("select",{value:C.deliveryZoneId??"",onChange:ue=>O({...C,deliveryZoneId:ue.target.value||null}),className:"w-full bg-app border-2 border-bdr rounded-[1.25rem] p-5 text-base text-txt-main font-black focus:ring-4 focus:ring-primary/10 focus:bg-surface focus:border-primary outline-none shadow-sm transition-all",children:[a.jsx("option",{value:"",children:"Sem zona definida"}),z.map(ue=>a.jsx("option",{value:ue.id,children:ue.name??ue.id},ue.id))]})]}),a.jsxs("div",{className:"group",children:[a.jsx("label",{className:"block text-[11px] font-black text-primary uppercase mb-3 tracking-[0.2em] ml-1",children:"Telefone Principal"}),a.jsxs("div",{className:"relative",children:[a.jsx(mv,{className:"absolute left-5 top-1/2 -translate-y-1/2 w-5 h-5 text-txt-muted group-focus-within:text-primary transition-colors"}),a.jsx("input",{type:"text",value:C.telefone,onChange:ue=>O({...C,telefone:ue.target.value}),placeholder:"(00) 00000-0000",className:"w-full bg-app border-2 border-bdr rounded-[1.25rem] p-5 pl-14 text-base text-txt-main font-black focus:ring-4 focus:ring-primary/10 focus:bg-surface focus:border-primary outline-none shadow-sm transition-all placeholder:text-txt-muted/50"})]})]}),a.jsxs("div",{className:"group",children:[a.jsx("label",{className:"block text-[11px] font-black text-primary uppercase mb-3 tracking-[0.2em] ml-1",children:"Identificao (CPF/CNPJ)"}),a.jsxs("div",{className:"relative",children:[a.jsx(Jh,{className:"absolute left-5 top-1/2 -translate-y-1/2 w-5 h-5 text-txt-muted group-focus-within:text-primary transition-colors"}),a.jsx("input",{type:"text",value:C.cpf,onChange:ue=>O({...C,cpf:ue.target.value}),placeholder:"DOCUMENTO",className:"w-full bg-app border-2 border-bdr rounded-[1.25rem] p-5 pl-14 text-base text-txt-main font-black focus:ring-4 focus:ring-primary/10 focus:bg-surface focus:border-primary outline-none shadow-sm transition-all placeholder:text-txt-muted/50"})]})]}),a.jsxs("div",{className:"group",children:[a.jsx("label",{className:"block text-[11px] font-black text-primary uppercase mb-3 tracking-[0.2em] ml-1",children:"Ponto de Referncia"}),a.jsx("input",{type:"text",value:C.referencia,onChange:ue=>O({...C,referencia:ue.target.value}),placeholder:"EX: PRXIMO  PADARIA",className:"w-full bg-app border-2 border-bdr rounded-[1.25rem] p-5 text-base text-txt-main font-black focus:ring-4 focus:ring-primary/10 focus:bg-surface focus:border-primary outline-none shadow-sm transition-all placeholder:text-txt-muted/50 uppercase"})]}),a.jsxs("div",{className:"group",children:[a.jsx("label",{className:"block text-[11px] font-black text-primary uppercase mb-3 tracking-[0.2em] ml-1",children:"Data Comemorativa"}),a.jsx("input",{type:"date",value:C.dataNascimento,onChange:ue=>O({...C,dataNascimento:ue.target.value}),className:"w-full bg-app border-2 border-bdr rounded-[1.25rem] p-5 text-base text-txt-main font-black focus:ring-4 focus:ring-primary/10 focus:bg-surface focus:border-primary outline-none shadow-sm transition-all"})]})]}),a.jsxs("div",{className:"flex gap-6 pt-12 border-t-2 border-bdr items-center justify-between",children:[a.jsxs("div",{className:"flex gap-6",children:[a.jsxs("button",{onClick:Re,className:"bg-primary hover:bg-primary/90 text-white px-12 py-5 rounded-[1.5rem] font-black text-sm shadow-2xl shadow-primary/20 flex items-center gap-3 transition-all active:scale-95",children:[a.jsx(il,{className:"w-6 h-6"})," CONFIRMAR CADASTRO"]}),r&&b&&a.jsxs("button",{onClick:lt,className:`px-10 py-5 rounded-[1.5rem] font-black text-sm border-2 transition-all active:scale-95 flex items-center gap-3 ${M!=null&&M.ativo?"text-red-500 border-red-200 bg-red-500/10 hover:bg-red-500/20":"text-emerald-500 border-emerald-200 bg-emerald-500/10 hover:bg-emerald-500/20"}`,children:[M!=null&&M.ativo?a.jsx(Xh,{className:"w-5 h-5"}):a.jsx(oA,{className:"w-5 h-5"}),M!=null&&M.ativo?"DESATIVAR REGISTRO":"REATIVAR REGISTRO"]}),r&&b&&a.jsxs("button",{onClick:Lt,className:"px-10 py-5 rounded-[1.5rem] font-black text-sm border-2 border-red-300 text-red-500 bg-red-500/10 hover:bg-red-500/20 transition-all active:scale-95 flex items-center gap-3",children:[a.jsx(oa,{className:"w-5 h-5"})," EXCLUIR PERMANENTEMENTE"]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-[10px] font-black text-txt-muted uppercase tracking-widest mb-1",children:"Status do Registro"}),a.jsx("p",{className:"text-xs font-black text-primary uppercase",children:b?"CLIENTE CADASTRADO":"AGUARDANDO NOVO REGISTRO"})]})]})]}),w==="precos"&&r&&a.jsxs("div",{className:"space-y-12 animate-in fade-in duration-500",children:[a.jsxs("div",{className:"bg-app/50 p-10 rounded-[2.5rem] border-2 border-amber-100/50 grid grid-cols-4 gap-8 items-end shadow-inner",children:[a.jsxs("div",{className:"group",children:[a.jsx("label",{className:"block text-[11px] font-black text-amber-600 uppercase mb-3 tracking-widest ml-1",children:"Produto Base"}),a.jsx("select",{value:te.produtoId,onChange:ue=>G({...te,produtoId:ue.target.value}),className:"w-full bg-surface border-2 border-amber-200 rounded-2xl p-4 text-sm text-txt-main font-black focus:ring-4 focus:ring-amber-500/10 focus:border-amber-500 outline-none shadow-sm transition-all",children:ke.length===0?a.jsx("option",{value:"",children:"Carregando produtos..."}):ke.map(ue=>a.jsx("option",{value:ue.id,children:xe(ue)},ue.id))})]}),a.jsxs("div",{className:"group",children:[a.jsx("label",{className:"block text-[11px] font-black text-amber-600 uppercase mb-3 tracking-widest ml-1",children:"Alvo de Estoque"}),a.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-3",children:[a.jsxs("label",{className:"flex items-center gap-2 text-[10px] font-black text-amber-600 uppercase tracking-widest",children:[a.jsx("input",{type:"radio",name:"priceScope",className:"accent-amber-600",checked:te.depositoScope==="GLOBAL",onChange:()=>G(ue=>({...ue,depositoScope:"GLOBAL"}))}),"Todos os depsitos"]}),a.jsxs("label",{className:"flex items-center gap-2 text-[10px] font-black text-amber-600 uppercase tracking-widest",children:[a.jsx("input",{type:"radio",name:"priceScope",className:"accent-amber-600",checked:te.depositoScope==="DEPOSIT",onChange:()=>G(ue=>{var Ze;return{...ue,depositoScope:"DEPOSIT",depositoId:ue.depositoId||((Ze=W[0])==null?void 0:Ze.id)||""}})}),"Depsito especfico"]})]}),a.jsxs("select",{value:te.depositoId,onChange:ue=>G({...te,depositoId:ue.target.value}),disabled:te.depositoScope==="GLOBAL",className:"w-full bg-surface border-2 border-amber-200 rounded-2xl p-4 text-sm text-txt-main font-black focus:ring-4 focus:ring-amber-500/10 focus:border-amber-500 outline-none shadow-sm transition-all disabled:opacity-60 disabled:cursor-not-allowed",children:[a.jsx("option",{value:"",children:"Selecione um depsito"}),W.map(ue=>a.jsx("option",{value:ue.id,children:ue.nome},ue.id))]})]}),a.jsxs("div",{className:"group",children:[a.jsx("label",{className:"block text-[11px] font-black text-amber-600 uppercase mb-3 tracking-widest ml-1",children:"Tipo de Venda"}),a.jsx("select",{value:te.modalidade,onChange:ue=>G({...te,modalidade:ue.target.value}),className:"w-full bg-surface border-2 border-amber-200 rounded-2xl p-4 text-sm text-txt-main font-black focus:ring-4 focus:ring-amber-500/10 focus:border-amber-500 outline-none shadow-sm transition-all",children:G5.map(ue=>a.jsx("option",{value:ue,children:$5[ue]??ue},ue))})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("div",{className:"flex-1 group",children:[a.jsx("label",{className:"block text-[11px] font-black text-amber-600 uppercase mb-3 tracking-widest ml-1",children:"Valor Unitrio"}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-amber-600 font-black text-sm",children:"R$"}),a.jsx("input",{type:"number",value:te.preco,onChange:ue=>G({...te,preco:ue.target.value}),placeholder:"0,00",className:"w-full border-2 border-amber-200 rounded-2xl p-4 pl-10 text-sm text-txt-main font-black focus:ring-4 focus:ring-amber-500/10 focus:border-amber-500 outline-none shadow-sm transition-all"})]})]}),a.jsx("button",{onClick:fe,className:"bg-amber-500 hover:bg-amber-600 text-white p-4 rounded-2xl shadow-xl shadow-amber-200 flex items-center justify-center active:scale-90 transition-all",children:a.jsx(po,{className:"w-7 h-7",strokeWidth:3})})]})]}),a.jsx("div",{className:"bg-surface border-2 border-bdr rounded-[2.5rem] overflow-hidden shadow-2xl",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-txt-main text-[10px] font-black text-surface uppercase tracking-[0.3em]",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-10 py-6",children:"Item Base"}),a.jsx("th",{className:"px-10 py-6",children:"Depsito Alvo"}),a.jsx("th",{className:"px-10 py-6",children:"Modalidade"}),a.jsx("th",{className:"px-10 py-6 text-right",children:"Valor Lquido"}),a.jsx("th",{className:"px-10 py-6 text-center",children:"Ao"})]})}),a.jsx("tbody",{className:"divide-y-2 divide-bdr",children:T.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"px-10 py-24 text-center text-txt-muted font-black italic text-sm",children:"NENHUMA CONDIO ESPECIAL DEFINIDA"})}):T.map(ue=>{var Ze;return a.jsxs("tr",{className:"hover:bg-app transition-all group",children:[a.jsx("td",{className:"px-10 py-6 font-black text-txt-main text-base",children:ge.get(ue.produtoId)??ue.produtoId}),a.jsx("td",{className:"px-10 py-6 text-txt-muted font-black text-xs uppercase tracking-widest",children:Ae(ue.depositoId)}),a.jsx("td",{className:"px-10 py-6",children:a.jsx("span",{className:"px-3 py-1.5 bg-amber-500/10 text-amber-600 text-[10px] font-black rounded-lg border-2 border-amber-500/20 uppercase tracking-widest",children:$5[ue.modalidade]??ue.modalidade})}),a.jsxs("td",{className:"px-10 py-6 text-right font-black text-amber-500 text-xl tracking-tighter",children:["R$ ",(Ze=ue.precoEspecial)==null?void 0:Ze.toFixed(2)]}),a.jsx("td",{className:"px-10 py-6 text-center",children:a.jsx("button",{onClick:()=>ft(ue.id),className:"text-red-400 hover:text-red-600 hover:bg-red-50 p-3 rounded-xl transition-all",children:a.jsx(oa,{className:"w-6 h-6"})})})]},ue.id)})})]})})]}),w==="desconto"&&r&&a.jsx("div",{className:"space-y-12 animate-in fade-in duration-500 flex flex-col items-center",children:a.jsxs("div",{className:"bg-gradient-to-br from-emerald-600 to-emerald-900 p-12 rounded-[3.5rem] w-full max-w-3xl shadow-2xl shadow-emerald-200/50 relative overflow-hidden group",children:[a.jsx("div",{className:"absolute -right-20 -top-20 w-80 h-80 bg-white/5 rounded-full group-hover:scale-125 transition-transform duration-700"}),a.jsx("div",{className:"absolute -left-20 -bottom-20 w-60 h-60 bg-black/10 rounded-full"}),a.jsxs("div",{className:"flex items-center gap-8 mb-12 relative z-10",children:[a.jsx("div",{className:"bg-white p-5 rounded-[1.75rem] shadow-2xl",children:a.jsx(lb,{className:"w-10 h-10 text-emerald-700",strokeWidth:3})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-3xl font-black text-white tracking-tighter",children:"Benefcio de Bonificao"}),a.jsx("p",{className:"text-emerald-100 font-bold opacity-80 uppercase text-[10px] tracking-[0.2em] mt-1",children:"Aplicao nica na prxima O.S."})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-10 mb-12 relative z-10",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"block text-[11px] font-black text-emerald-200 uppercase tracking-widest ml-1",children:"Modalidade do Cupom"}),a.jsxs("select",{value:V.tipoDesconto,onChange:ue=>me({...V,tipoDesconto:ue.target.value}),className:"w-full bg-white/10 border-2 border-white/20 rounded-3xl p-5 text-base text-white font-black focus:ring-8 focus:ring-white/5 focus:bg-white focus:text-emerald-900 outline-none shadow-inner transition-all backdrop-blur-md",children:[a.jsx("option",{value:"VALOR",children:"VALOR FIXO (R$)"}),a.jsx("option",{value:"PERCENTUAL",children:"PERCENTUAL (%)"})]})]}),a.jsxs("div",{className:"mb-8 bg-white/5 border-2 border-white/10 rounded-3xl p-6 text-white flex items-center justify-between gap-4 shadow-inner relative z-10",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] uppercase tracking-[0.2em] font-black text-white/70",children:"Status do bnus"}),$?a.jsxs("p",{className:"text-sm font-black text-white mt-1",children:["Bnus pendente de ",$.tipoDesconto==="VALOR"?`R$ ${$.valorDesconto.toFixed(2)}`:`${$.valorDesconto}%`," para a prxima O.S."]}):a.jsx("p",{className:"text-sm font-black text-white mt-1",children:"Nenhum bnus pendente para este cliente."})]}),$&&a.jsx("button",{onClick:st,className:"px-5 py-3 rounded-2xl font-black text-sm bg-red-500/90 hover:bg-red-500 text-white shadow-lg shadow-red-500/30 transition-all active:scale-95",children:"DESABILITAR BNUS"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"block text-[11px] font-black text-emerald-200 uppercase tracking-widest ml-1",children:"Carga do Benefcio"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"number",value:Number.isFinite(V.valorDesconto)?V.valorDesconto:"",onChange:ue=>{const Ze=ue.target.value,Ve=Number(Ze);me({...V,valorDesconto:Ze===""||!Number.isFinite(Ve)?void 0:Ve})},className:"w-full bg-white/10 border-2 border-white/20 rounded-3xl p-5 text-2xl text-white font-black focus:ring-8 focus:ring-white/5 focus:bg-white focus:text-emerald-900 outline-none shadow-inner transition-all backdrop-blur-md"}),a.jsx("span",{className:"absolute right-6 top-1/2 -translate-y-1/2 font-black text-white/50 text-xl group-focus-within:text-emerald-500",children:V.tipoDesconto==="VALOR"?"R$":"%"})]})]})]}),a.jsxs("button",{onClick:St,className:"w-full bg-white hover:bg-emerald-50 text-emerald-900 font-black py-6 rounded-3xl shadow-2xl transition-all active:scale-[0.98] flex items-center justify-center gap-4 text-lg relative z-10 group",children:[a.jsx(Mj,{className:"w-7 h-7 scale-110",strokeWidth:3}),"ATIVAR BENEFCIO AGORA"]})]})})]})]})})]})]})},LP=t=>Number(t||0).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),Vc=t=>{if(typeof t=="number"&&Number.isFinite(t))return t;if(typeof t=="string"){const e=t.trim();if(!e||e==="-"||e==="--")return 0;const r=e.replace(",","."),n=Number(r);return Number.isFinite(n)?n:0}return 0},Gc=t=>{if(t==null)return"-";const e=String(t).trim();return e||"-"},UP=t=>{var r,n,i,l,d,u,h,m,g,b,B,w,S,U,k,C,O,D,H;const e=(t==null?void 0:t.top_product_sold)??(t==null?void 0:t.top_product)??(t==null?void 0:t.top_sold_product)??(t==null?void 0:t.top_product_by_qty)??{};return{top_driver:{name:Gc((r=t==null?void 0:t.top_driver)==null?void 0:r.name),count:Vc(((n=t==null?void 0:t.top_driver)==null?void 0:n.count)??((i=t==null?void 0:t.top_driver)==null?void 0:i.deliveries))},fastest_driver:{name:Gc((l=t==null?void 0:t.fastest_driver)==null?void 0:l.name),avg_minutes:Vc(((d=t==null?void 0:t.fastest_driver)==null?void 0:d.avg_minutes)??((u=t==null?void 0:t.fastest_driver)==null?void 0:u.avg_min)??((h=t==null?void 0:t.fastest_driver)==null?void 0:h.avg_time))},top_deposit:{name:Gc((m=t==null?void 0:t.top_deposit)==null?void 0:m.name),total:Vc(((g=t==null?void 0:t.top_deposit)==null?void 0:g.total)??((b=t==null?void 0:t.top_deposit)==null?void 0:b.value))},top_cashier:{name:Gc((B=t==null?void 0:t.top_cashier)==null?void 0:B.name),count:Vc(((w=t==null?void 0:t.top_cashier)==null?void 0:w.count)??((S=t==null?void 0:t.top_cashier)==null?void 0:S.orders))},top_client_value:{name:Gc((U=t==null?void 0:t.top_client_value)==null?void 0:U.name),total:Vc(((k=t==null?void 0:t.top_client_value)==null?void 0:k.total)??((C=t==null?void 0:t.top_client_value)==null?void 0:C.value))},top_client_orders:{name:Gc((O=t==null?void 0:t.top_client_orders)==null?void 0:O.name),count:Vc(((D=t==null?void 0:t.top_client_orders)==null?void 0:D.count)??((H=t==null?void 0:t.top_client_orders)==null?void 0:H.orders))},top_product_sold:{name:Gc((e==null?void 0:e.name)??(e==null?void 0:e.product_name)??(e==null?void 0:e.produto_nome)),count:Vc((e==null?void 0:e.count)??(e==null?void 0:e.qty)??(e==null?void 0:e.quantity)??(e==null?void 0:e.total))}}},eb={top_driver:{name:"-",count:0},fastest_driver:{name:"-",avg_minutes:0},top_deposit:{name:"-",total:0},top_cashier:{name:"-",count:0},top_client_value:{name:"-",total:0},top_client_orders:{name:"-",count:0},top_product_sold:{name:"-",count:0}},IP=()=>{const[t,e]=F.useState(eb),[r,n]=F.useState(!0),[i,l]=F.useState(null),[d,u]=F.useState([]);F.useEffect(()=>{let m=!0;return(async()=>{try{const g=await Lc.getAll();if(!m)return;const b=(g||[]).filter(B=>B.active!==!1).map(B=>({...B,nome:B.name}));b.sort((B,w)=>String(B.nome??"").localeCompare(String(w.nome??""))),u(b)}catch(g){console.error("Erro ao carregar depsitos:",g),jr.error("Erro ao carregar depsitos")}})(),()=>{m=!1}},[]),F.useEffect(()=>{let m=!0;return(async()=>{n(!0);try{const b=await Ao.getAuditDashboardStats(i??void 0);if(!m)return;if(!b){e(eb);return}const B=typeof b=="string"?JSON.parse(b):b,w=UP(B||{});if(!m)return;e(w)}catch(b){if(!m)return;console.error("AUDIT_DASHBOARD_LOAD_FAIL",b),e(eb)}finally{m&&n(!1)}})(),()=>{m=!1}},[i]);const h=F.useMemo(()=>{const m=(w,S)=>w>0?`${w} ${S}`:"--",g=w=>w>0?`${w} min medio`:"--",b=w=>w>0?LP(w):"--",B=w=>!w||w==="-"||w==="--";return[{key:"top_driver",title:"Entregador + Produtivo",icon:wm,name:t.top_driver.name,value:m(t.top_driver.count,"entregas"),isEmpty:B(t.top_driver.name)||t.top_driver.count===0},{key:"fastest_driver",title:"The Flash (Mais Rapido)",icon:Xj,name:t.fastest_driver.name,value:g(t.fastest_driver.avg_minutes),isEmpty:B(t.fastest_driver.name)||t.fastest_driver.avg_minutes===0},{key:"top_deposit",title:"Deposito Lider",icon:Lj,name:t.top_deposit.name,value:b(t.top_deposit.total),isEmpty:B(t.top_deposit.name)||t.top_deposit.total===0},{key:"top_cashier",title:"Caixa Mais Ativo",icon:H3,name:t.top_cashier.name,value:m(t.top_cashier.count,"ordens"),isEmpty:B(t.top_cashier.name)||t.top_cashier.count===0},{key:"top_client_value",title:"Cliente VIP (Valor)",icon:t3,name:t.top_client_value.name,value:b(t.top_client_value.total),isEmpty:B(t.top_client_value.name)||t.top_client_value.total===0},{key:"top_client_orders",title:"Cliente Fiel (Pedidos)",icon:w3,name:t.top_client_orders.name,value:m(t.top_client_orders.count,"pedidos"),isEmpty:B(t.top_client_orders.name)||t.top_client_orders.count===0},{key:"top_product_sold",title:"Produto + Vendido",icon:fo,name:t.top_product_sold.name,value:m(t.top_product_sold.count,"un"),isEmpty:B(t.top_product_sold.name)||t.top_product_sold.count===0}]},[t]);return a.jsxs("div",{className:"bg-surface rounded-2xl border border-bdr p-5",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-black text-txt-muted uppercase tracking-widest",children:"Visao Geral"}),a.jsx("h3",{className:"text-sm font-black text-txt-main uppercase tracking-wide",children:"Campeoes Globais"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-[10px] font-black text-txt-muted uppercase",children:"Filtro"}),a.jsxs("select",{value:i??"",onChange:m=>l(m.target.value||null),className:"bg-app border border-bdr rounded-lg px-2 py-1 text-xs font-bold text-txt-main focus:ring-2 focus:ring-primary/20 outline-none",children:[a.jsx("option",{value:"",children:"Visao Global"}),d.length>0&&a.jsx("optgroup",{label:"Filtrar por Deposito",children:d.map(m=>a.jsx("option",{value:m.id,children:m.nome},m.id))})]})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:r?Array.from({length:h.length}).map((m,g)=>a.jsxs("div",{className:"bg-app border border-bdr rounded-xl p-4 animate-pulse",children:[a.jsx("div",{className:"h-4 w-24 bg-bdr/50 rounded mb-3"}),a.jsx("div",{className:"h-5 w-40 bg-bdr/50 rounded mb-2"}),a.jsx("div",{className:"h-4 w-20 bg-bdr/50 rounded"})]},g)):h.map(m=>{const g=m.icon,b=m.isEmpty?"opacity-60":"",B=m.isEmpty?"text-orange-500/50":"text-orange-500";return a.jsxs("div",{className:`bg-app border border-bdr rounded-xl p-4 flex items-start justify-between ${b}`,children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] uppercase font-black text-txt-muted",children:m.title}),a.jsx("p",{className:"text-sm font-black text-txt-main mt-2",children:m.name||"--"}),m.isEmpty?a.jsx("p",{className:"text-xs text-txt-muted",children:"Sem dados suficientes"}):a.jsx("p",{className:"text-xs text-txt-muted",children:m.value})]}),a.jsx("div",{className:"bg-surface border border-bdr rounded-lg p-2",children:a.jsx(g,{className:`w-5 h-5 ${B}`})})]},m.key)})}),a.jsx("p",{className:"text-[10px] text-txt-muted mt-4",children:"*Metricas baseadas apenas em vendas finalizadas."})]})},kP=({onClose:t})=>{const[e,r]=F.useState([]),[n,i]=F.useState(""),[l,d]=F.useState(!1),[u,h]=F.useState(null);F.useEffect(()=>{let b=!0;const B=U=>{if(!U)return 0;if(typeof U=="number")return U;if(typeof U=="string"){const C=U.trim();if(C&&!Number.isNaN(Number(C)))return Number(C)}const k=new Date(U).getTime();return Number.isNaN(k)?0:k},w=U=>{const k=U.data_hora??U.dataHora??U.created_at??U.createdAt??new Date().toISOString(),C=RA(U);return{id:String(U.id??""),dataHora:k,depositoId:C.depositoId??"",produtoId:U.produto_id??U.produtoId??U.product_id??U.productId??"",produtoNome:U.produto_nome??U.produtoNome??U.product_name??U.productName??"",tipo:U.tipo??U.type??"AJUSTE",quantidade:Number(U.quantidade??U.qty??U.quantity??0)||0,origem:U.origem??U.source??"",referenciaId:U.referencia_id??U.referenciaId??U.reference_id??U.referenceId??null,usuarioId:U.usuario_id??U.usuarioId??U.user_id??U.userId??"SISTEMA",usuarioNome:U.usuario_nome??U.usuarioNome??U.user_name??U.userName??U.usuario??"Sistema",motivo:U.motivo??U.reason??""}};return(async()=>{d(!0),h(null);try{const{data:U,error:k}=await Le.from("stock_movements").select("*");if(k)throw k;const C=Date.now(),O=C-720*60*60*1e3,D=(U??[]).map(w).filter(H=>{const re=B(H.dataHora);return re>=O&&re<=C}).sort((H,re)=>B(re.dataHora)-B(H.dataHora));if(!b)return;r(D)}catch(U){if(!b)return;h((U==null?void 0:U.message)||"Falha ao carregar auditoria."),r([])}finally{b&&d(!1)}})(),()=>{b=!1}},[]);const m=n.toLowerCase(),g=e.filter(b=>{const B=String(b.produtoNome??"").toLowerCase(),w=String(b.usuarioNome??"").toLowerCase(),S=String(b.tipo??"").toLowerCase(),U=String(b.motivo??"").toLowerCase();return B.includes(m)||w.includes(m)||S.includes(m)||U.includes(m)});return a.jsxs("div",{className:"fixed inset-0 bg-app z-[60] flex flex-col animate-in slide-in-from-bottom-4 duration-300 transition-colors",children:[a.jsxs("div",{className:"bg-surface border-b border-bdr px-6 py-4 flex justify-between items-center shadow-sm shrink-0 transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"bg-orange-500/10 p-2.5 rounded-xl border border-orange-500/20",children:a.jsx(UB,{className:"w-6 h-6 text-orange-600"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-black text-txt-main tracking-tight",children:"Auditoria e Logs"}),a.jsx("p",{className:"text-xs text-txt-muted font-bold uppercase tracking-widest",children:"Rastreabilidade total de operaes"})]})]}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-red-500/10 text-txt-muted hover:text-red-500 rounded-full transition-colors",children:a.jsx(Vn,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"bg-app px-6 py-4 flex flex-col md:flex-row gap-4 items-center shrink-0 border-b border-bdr transition-colors",children:[a.jsxs("div",{className:"relative w-full md:w-96",children:[a.jsx(lA,{className:"w-4 h-4 text-txt-muted absolute left-3 top-3"}),a.jsx("input",{type:"text",placeholder:"Buscar por produto, usurio ou motivo...",value:n,onChange:b=>i(b.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-surface border border-bdr rounded-xl text-sm font-bold text-txt-main focus:ring-2 focus:ring-orange-500 outline-none shadow-sm transition-colors"})]}),a.jsxs("div",{className:"flex items-center gap-2 px-4 py-2.5 bg-surface border border-bdr rounded-xl text-sm font-bold text-txt-muted shadow-sm transition-colors",children:[a.jsx(Vm,{className:"w-4 h-4"}),a.jsx("span",{children:"ltimos 30 dias"})]}),a.jsxs("div",{className:"flex-1 text-right text-xs font-bold text-txt-muted uppercase tracking-wider",children:[l&&a.jsx("span",{className:"text-txt-muted",children:"Carregando..."}),!l&&u&&a.jsx("span",{className:"text-red-500",children:u}),!l&&!u&&a.jsxs("span",{children:["Total de registros: ",a.jsx("span",{className:"text-txt-main",children:g.length})]})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-app transition-colors",children:a.jsxs("div",{className:"max-w-[1600px] mx-auto space-y-6",children:[a.jsx(IP,{}),a.jsx("div",{className:"bg-surface rounded-2xl shadow-sm border border-bdr overflow-hidden transition-colors",children:a.jsxs("table",{className:"w-full text-left text-sm",children:[a.jsx("thead",{className:"bg-app text-[10px] font-black text-txt-muted uppercase tracking-widest border-b border-bdr transition-colors",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4",children:"Data / Hora"}),a.jsx("th",{className:"px-6 py-4",children:"Usurio"}),a.jsx("th",{className:"px-6 py-4",children:"Tipo de Ao"}),a.jsx("th",{className:"px-6 py-4",children:"Depsito / Origem"}),a.jsx("th",{className:"px-6 py-4",children:"Item Afetado"}),a.jsx("th",{className:"px-6 py-4 text-right",children:"Qtd."}),a.jsx("th",{className:"px-6 py-4",children:"Detalhes / Motivo"})]})}),a.jsx("tbody",{className:"divide-y divide-bdr transition-colors",children:g.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:7,className:"px-6 py-16 text-center text-txt-muted opacity-50",children:a.jsxs("div",{className:"flex flex-col items-center gap-3",children:[a.jsx(ob,{className:"w-10 h-10"}),a.jsx("p",{className:"font-bold text-sm",children:"Nenhum registro de auditoria encontrado."})]})})}):g.map(b=>a.jsxs("tr",{className:"hover:bg-app transition-colors group",children:[a.jsx("td",{className:"px-6 py-4 font-mono text-xs font-bold text-txt-muted",children:new Date(b.dataHora).toLocaleString("pt-BR")}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:"font-black text-txt-main text-xs bg-app px-2 py-1 rounded border border-bdr",children:b.usuarioNome})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-2 py-1 rounded text-[10px] font-black uppercase border ${b.tipo.includes("ENTRADA")?"bg-green-500/10 text-green-600 border-green-500/20":b.tipo.includes("SAIDA")?"bg-red-500/10 text-red-600 border-red-500/20":"bg-blue-500/10 text-blue-600 border-blue-500/20"}`,children:b.tipo.replace("_"," ")})}),a.jsx("td",{className:"px-6 py-4 text-txt-muted text-xs font-bold uppercase tracking-wide",children:b.depositoId}),a.jsx("td",{className:"px-6 py-4 font-bold text-txt-main",children:b.produtoNome}),a.jsxs("td",{className:`px-6 py-4 text-right font-black ${b.quantidade>0?"text-emerald-600":"text-txt-main"}`,children:[b.quantidade>0?"+":"",b.quantidade]}),a.jsx("td",{className:"px-6 py-4 text-txt-muted text-xs font-medium italic truncate max-w-xs group-hover:text-txt-main transition-colors",title:b.motivo,children:b.motivo||b.origem})]},b.id))})]})})]})})]})},Zh=[{id:"light",label:"Padro (Claro)",description:"Visual clssico e limpo",colors:{appBg:"#f8fafc",surfaceBg:"#ffffff",textMain:"#0f172a",textMuted:"#64748b",border:"#e2e8f0",primary:"#4f46e5"}},{id:"oled",label:"OLED (Preto Profundo)",description:"Economia mxima de energia",colors:{appBg:"#000000",surfaceBg:"#000000",textMain:"#f8fafc",textMuted:"#cbd5e1",border:"#333333",primary:"#22d3ee"}},{id:"dracula",label:"Dracula (Roxo)",description:"Tema escuro com contraste suave",colors:{appBg:"#0f172a",surfaceBg:"#1e293b",textMain:"#f1f5f9",textMuted:"#cbd5e1",border:"#334155",primary:"#a78bfa"}},{id:"ocean",label:"Oceano Profundo",description:"Azuis profundos com brilho frio",colors:{appBg:"#082f49",surfaceBg:"#0c4a6e",textMain:"#f0f9ff",textMuted:"#e0f2fe",border:"#075985",primary:"#38bdf8"}},{id:"forest",label:"Floresta Noturna",description:"Verdes escuros com atmosfera natural",colors:{appBg:"#022c22",surfaceBg:"#064e3b",textMain:"#ecfdf5",textMuted:"#d1fae5",border:"#065f46",primary:"#34d399"}},{id:"ember",label:"Brasa (Preto & Laranja)",description:"Preto intenso com brilho quente",colors:{appBg:"#0c0a09",surfaceBg:"#1c1917",textMain:"#ffedd5",textMuted:"#d6d3d1",border:"#44403c",primary:"#f97316"}},{id:"sunset",label:"Pr do Sol",description:"Gradiente quente com tons de rosa e laranja",pattern:"radial-gradient(circle at 20% 20%, rgba(251, 146, 60, 0.35), transparent 55%), radial-gradient(circle at 80% 30%, rgba(244, 114, 182, 0.25), transparent 60%), radial-gradient(circle at 50% 80%, rgba(253, 186, 116, 0.2), transparent 65%)",colors:{appBg:"#1b0b14",surfaceBg:"#2a141f",textMain:"#fff1f2",textMuted:"#fecdd3",border:"#3f1c2b",primary:"#fb7185"}},{id:"aurora",label:"Aurora Boreal",description:"Neblinas frias com tons de ciano e verde",pattern:"radial-gradient(circle at 20% 20%, rgba(34, 211, 238, 0.35), transparent 55%), radial-gradient(circle at 80% 30%, rgba(16, 185, 129, 0.3), transparent 60%), radial-gradient(circle at 50% 80%, rgba(139, 92, 246, 0.25), transparent 65%)",colors:{appBg:"#0b1020",surfaceBg:"#131a2d",textMain:"#e2e8f0",textMuted:"#94a3b8",border:"#1f2937",primary:"#22d3ee"}},{id:"nebula",label:"Nebulosa Roxa",description:"Brilhos roxos com contraste espacial",pattern:"radial-gradient(circle at 15% 25%, rgba(217, 70, 239, 0.28), transparent 55%), radial-gradient(circle at 75% 70%, rgba(99, 102, 241, 0.3), transparent 60%), radial-gradient(circle at 50% 40%, rgba(14, 165, 233, 0.2), transparent 65%)",colors:{appBg:"#120b24",surfaceBg:"#1c1236",textMain:"#f5f3ff",textMuted:"#d8b4fe",border:"#312e81",primary:"#c084fc"}}],TP=({onClose:t,currentTheme:e,onThemeChange:r,backgroundImage:n,backgroundOpacity:i,onBackgroundImageChange:l,onBackgroundOpacityChange:d})=>{const m=F.useRef(null),[g,b]=F.useState(null),B=F.useMemo(()=>Zh.find(k=>k.id===e)||Zh[0],[e]),w=()=>{var k;(k=m.current)==null||k.click()},S=k=>{var D;const C=(D=k.target.files)==null?void 0:D[0];if(!C)return;if(b(null),C.size>10485760){b("Imagem muito grande. Use at 10 MB."),k.target.value="";return}const O=new FileReader;O.onload=async()=>{const H=typeof O.result=="string"?O.result:null;if(H)try{await l(H)}catch(re){b("Imagem grande demais para salvar. Use uma imagem menor."),console.error("Erro ao aplicar imagem de fundo",re)}},O.onerror=()=>{b("Falha ao ler a imagem. Tente outro arquivo.")},O.readAsDataURL(C),k.target.value=""},U=k=>{const C=Number(k.target.value),O=Number.isFinite(C)?Math.min(1,Math.max(0,C)):.35;d(O)};return a.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-in fade-in duration-300",children:a.jsxs("div",{className:"bg-surface w-full max-w-3xl rounded-3xl shadow-2xl overflow-hidden border border-bdr transform transition-all",children:[a.jsxs("div",{className:"bg-app border-b border-bdr px-8 py-6 flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"bg-pink-100 p-3 rounded-2xl",children:a.jsx(Gm,{className:"w-6 h-6 text-pink-600"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-txt-main tracking-tight",children:"Personalizao"}),a.jsx("p",{className:"text-sm text-txt-muted font-medium",children:"Escolha o visual que mais lhe agrada"})]})]}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-black/5 rounded-full text-txt-muted transition-colors",children:a.jsx(Vn,{className:"w-6 h-6"})})]}),a.jsx("div",{className:"p-8 grid grid-cols-1 sm:grid-cols-2 gap-6 bg-app",children:Zh.map(k=>{const C=e===k.id;return a.jsxs("button",{onClick:()=>r(k.id),className:`relative group flex items-center gap-4 p-4 rounded-2xl border-2 transition-all duration-300 text-left ${C?"border-pink-500 bg-surface shadow-lg scale-[1.02]":"border-bdr bg-surface hover:border-pink-300 hover:shadow-md"}`,children:[a.jsx("div",{className:"w-16 h-16 rounded-xl shadow-inner flex items-center justify-center text-xs font-bold shrink-0 border border-white/10",style:{backgroundColor:k.colors.appBg,backgroundImage:k.pattern??"none",color:k.colors.textMain},children:a.jsx("div",{className:"w-8 h-8 rounded-lg shadow-sm",style:{backgroundColor:k.colors.surfaceBg}})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-bold text-lg text-txt-main mb-1",children:k.label}),a.jsx("p",{className:"text-xs text-txt-muted opacity-80",children:k.description})]}),C&&a.jsx("div",{className:"absolute top-4 right-4 bg-pink-500 text-white p-1 rounded-full shadow-sm animate-in zoom-in",children:a.jsx(vc,{className:"w-4 h-4",strokeWidth:3})})]},k.id)})}),a.jsxs("div",{className:"px-8 pb-8 bg-app space-y-4",children:[a.jsxs("div",{className:"bg-surface border border-bdr rounded-2xl p-5 space-y-4",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-pink-100 flex items-center justify-center",children:a.jsx(C3,{className:"w-5 h-5 text-pink-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-black text-txt-main",children:"Imagem de fundo"}),a.jsx("p",{className:"text-[11px] text-txt-muted",children:"Envie uma imagem e ajuste a transparncia"})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{type:"button",onClick:w,className:"px-4 py-2 text-xs font-black uppercase rounded-xl bg-pink-600 text-white shadow-sm hover:bg-pink-700 transition",children:"Upload"}),a.jsx("button",{type:"button",onClick:()=>{b(null),l(null)},className:"px-3 py-2 text-xs font-black uppercase rounded-xl border border-bdr text-txt-muted hover:text-red-500 hover:border-red-300 transition",children:a.jsx(oa,{className:"w-4 h-4"})})]})]}),g&&a.jsx("div",{className:"text-xs text-red-500 font-bold",children:g}),n?a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsx("div",{className:"w-full sm:w-40 h-28 rounded-xl overflow-hidden border border-bdr",children:a.jsx("img",{src:n,alt:"Preview",className:"w-full h-full object-cover",style:{opacity:i}})}),a.jsxs("div",{className:"flex-1 space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-txt-muted",children:[a.jsx(Bj,{className:"w-4 h-4"}),"Transparncia da imagem"]}),a.jsx("input",{type:"range",min:"0",max:"1",step:"0.05",value:i,onChange:U,className:"w-full accent-pink-500"}),a.jsxs("p",{className:"text-[11px] text-txt-muted",children:[Math.round(i*100),"% visvel"]})]})]}):a.jsxs("div",{className:"text-xs text-txt-muted",children:["Nenhuma imagem aplicada. O fundo usa o tema ",B.label,"."]})]}),a.jsx("input",{ref:m,type:"file",accept:"image/*",onChange:S,className:"hidden"})]}),a.jsx("div",{className:"bg-surface border-t border-bdr p-6 flex justify-end",children:a.jsx("button",{onClick:t,className:"px-8 py-3 bg-pink-600 hover:bg-pink-700 text-white font-bold rounded-xl shadow-lg shadow-pink-200 transition-all active:scale-95",children:"Concludo"})})]})})};function mE(t,e){return function(){return t.apply(e,arguments)}}const{toString:FP}=Object.prototype,{getPrototypeOf:$v}=Object,{iterator:gg,toStringTag:gE}=Symbol,xg=(t=>e=>{const r=FP.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Tl=t=>(t=t.toLowerCase(),e=>xg(e)===t),bg=t=>e=>typeof e===t,{isArray:Fu}=Array,Lu=bg("undefined");function vf(t){return t!==null&&!Lu(t)&&t.constructor!==null&&!Lu(t.constructor)&&mo(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const xE=Tl("ArrayBuffer");function OP(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&xE(t.buffer),e}const QP=bg("string"),mo=bg("function"),bE=bg("number"),yf=t=>t!==null&&typeof t=="object",RP=t=>t===!0||t===!1,bm=t=>{if(xg(t)!=="object")return!1;const e=$v(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(gE in t)&&!(gg in t)},DP=t=>{if(!yf(t)||vf(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},MP=Tl("Date"),PP=Tl("File"),HP=Tl("Blob"),qP=Tl("FileList"),zP=t=>yf(t)&&mo(t.pipe),KP=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||mo(t.append)&&((e=xg(t))==="formdata"||e==="object"&&mo(t.toString)&&t.toString()==="[object FormData]"))},VP=Tl("URLSearchParams"),[GP,$P,ZP,XP]=["ReadableStream","Request","Response","Headers"].map(Tl),JP=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function wf(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,i;if(typeof t!="object"&&(t=[t]),Fu(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{if(vf(t))return;const l=r?Object.getOwnPropertyNames(t):Object.keys(t),d=l.length;let u;for(n=0;n<d;n++)u=l[n],e.call(null,t[u],u,t)}}function vE(t,e){if(vf(t))return null;e=e.toLowerCase();const r=Object.keys(t);let n=r.length,i;for(;n-- >0;)if(i=r[n],e===i.toLowerCase())return i;return null}const id=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,yE=t=>!Lu(t)&&t!==id;function iv(){const{caseless:t,skipUndefined:e}=yE(this)&&this||{},r={},n=(i,l)=>{const d=t&&vE(r,l)||l;bm(r[d])&&bm(i)?r[d]=iv(r[d],i):bm(i)?r[d]=iv({},i):Fu(i)?r[d]=i.slice():(!e||!Lu(i))&&(r[d]=i)};for(let i=0,l=arguments.length;i<l;i++)arguments[i]&&wf(arguments[i],n);return r}const YP=(t,e,r,{allOwnKeys:n}={})=>(wf(e,(i,l)=>{r&&mo(i)?t[l]=mE(i,r):t[l]=i},{allOwnKeys:n}),t),WP=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),e7=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},t7=(t,e,r,n)=>{let i,l,d;const u={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),l=i.length;l-- >0;)d=i[l],(!n||n(d,t,e))&&!u[d]&&(e[d]=t[d],u[d]=!0);t=r!==!1&&$v(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},r7=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},n7=t=>{if(!t)return null;if(Fu(t))return t;let e=t.length;if(!bE(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},s7=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&$v(Uint8Array)),a7=(t,e)=>{const n=(t&&t[gg]).call(t);let i;for(;(i=n.next())&&!i.done;){const l=i.value;e.call(t,l[0],l[1])}},i7=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},o7=Tl("HTMLFormElement"),l7=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),Z5=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),A7=Tl("RegExp"),wE=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};wf(r,(i,l)=>{let d;(d=e(i,l,t))!==!1&&(n[l]=d||i)}),Object.defineProperties(t,n)},c7=t=>{wE(t,(e,r)=>{if(mo(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(mo(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},d7=(t,e)=>{const r={},n=i=>{i.forEach(l=>{r[l]=!0})};return Fu(t)?n(t):n(String(t).split(e)),r},u7=()=>{},h7=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function f7(t){return!!(t&&mo(t.append)&&t[gE]==="FormData"&&t[gg])}const p7=t=>{const e=new Array(10),r=(n,i)=>{if(yf(n)){if(e.indexOf(n)>=0)return;if(vf(n))return n;if(!("toJSON"in n)){e[i]=n;const l=Fu(n)?[]:{};return wf(n,(d,u)=>{const h=r(d,i+1);!Lu(h)&&(l[u]=h)}),e[i]=void 0,l}}return n};return r(t,0)},m7=Tl("AsyncFunction"),g7=t=>t&&(yf(t)||mo(t))&&mo(t.then)&&mo(t.catch),_E=((t,e)=>t?setImmediate:e?((r,n)=>(id.addEventListener("message",({source:i,data:l})=>{i===id&&l===r&&n.length&&n.shift()()},!1),i=>{n.push(i),id.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",mo(id.postMessage)),x7=typeof queueMicrotask<"u"?queueMicrotask.bind(id):typeof process<"u"&&process.nextTick||_E,b7=t=>t!=null&&mo(t[gg]),at={isArray:Fu,isArrayBuffer:xE,isBuffer:vf,isFormData:KP,isArrayBufferView:OP,isString:QP,isNumber:bE,isBoolean:RP,isObject:yf,isPlainObject:bm,isEmptyObject:DP,isReadableStream:GP,isRequest:$P,isResponse:ZP,isHeaders:XP,isUndefined:Lu,isDate:MP,isFile:PP,isBlob:HP,isRegExp:A7,isFunction:mo,isStream:zP,isURLSearchParams:VP,isTypedArray:s7,isFileList:qP,forEach:wf,merge:iv,extend:YP,trim:JP,stripBOM:WP,inherits:e7,toFlatObject:t7,kindOf:xg,kindOfTest:Tl,endsWith:r7,toArray:n7,forEachEntry:a7,matchAll:i7,isHTMLForm:o7,hasOwnProperty:Z5,hasOwnProp:Z5,reduceDescriptors:wE,freezeMethods:c7,toObjectSet:d7,toCamelCase:l7,noop:u7,toFiniteNumber:h7,findKey:vE,global:id,isContextDefined:yE,isSpecCompliantForm:f7,toJSONObject:p7,isAsyncFn:m7,isThenable:g7,setImmediate:_E,asap:x7,isIterable:b7};function nn(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}at.inherits(nn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:at.toJSONObject(this.config),code:this.code,status:this.status}}});const BE=nn.prototype,NE={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{NE[t]={value:t}});Object.defineProperties(nn,NE);Object.defineProperty(BE,"isAxiosError",{value:!0});nn.from=(t,e,r,n,i,l)=>{const d=Object.create(BE);at.toFlatObject(t,d,function(g){return g!==Error.prototype},m=>m!=="isAxiosError");const u=t&&t.message?t.message:"Error",h=e==null&&t?t.code:e;return nn.call(d,u,h,r,n,i),t&&d.cause==null&&Object.defineProperty(d,"cause",{value:t,configurable:!0}),d.name=t&&t.name||"Error",l&&Object.assign(d,l),d};const v7=null;function ov(t){return at.isPlainObject(t)||at.isArray(t)}function CE(t){return at.endsWith(t,"[]")?t.slice(0,-2):t}function X5(t,e,r){return t?t.concat(e).map(function(i,l){return i=CE(i),!r&&l?"["+i+"]":i}).join(r?".":""):e}function y7(t){return at.isArray(t)&&!t.some(ov)}const w7=at.toFlatObject(at,{},null,function(e){return/^is[A-Z]/.test(e)});function vg(t,e,r){if(!at.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=at.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(U,k){return!at.isUndefined(k[U])});const n=r.metaTokens,i=r.visitor||g,l=r.dots,d=r.indexes,h=(r.Blob||typeof Blob<"u"&&Blob)&&at.isSpecCompliantForm(e);if(!at.isFunction(i))throw new TypeError("visitor must be a function");function m(S){if(S===null)return"";if(at.isDate(S))return S.toISOString();if(at.isBoolean(S))return S.toString();if(!h&&at.isBlob(S))throw new nn("Blob is not supported. Use a Buffer instead.");return at.isArrayBuffer(S)||at.isTypedArray(S)?h&&typeof Blob=="function"?new Blob([S]):Buffer.from(S):S}function g(S,U,k){let C=S;if(S&&!k&&typeof S=="object"){if(at.endsWith(U,"{}"))U=n?U:U.slice(0,-2),S=JSON.stringify(S);else if(at.isArray(S)&&y7(S)||(at.isFileList(S)||at.endsWith(U,"[]"))&&(C=at.toArray(S)))return U=CE(U),C.forEach(function(D,H){!(at.isUndefined(D)||D===null)&&e.append(d===!0?X5([U],H,l):d===null?U:U+"[]",m(D))}),!1}return ov(S)?!0:(e.append(X5(k,U,l),m(S)),!1)}const b=[],B=Object.assign(w7,{defaultVisitor:g,convertValue:m,isVisitable:ov});function w(S,U){if(!at.isUndefined(S)){if(b.indexOf(S)!==-1)throw Error("Circular reference detected in "+U.join("."));b.push(S),at.forEach(S,function(C,O){(!(at.isUndefined(C)||C===null)&&i.call(e,C,at.isString(O)?O.trim():O,U,B))===!0&&w(C,U?U.concat(O):[O])}),b.pop()}}if(!at.isObject(t))throw new TypeError("data must be an object");return w(t),e}function J5(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function Zv(t,e){this._pairs=[],t&&vg(t,this,e)}const EE=Zv.prototype;EE.append=function(e,r){this._pairs.push([e,r])};EE.toString=function(e){const r=e?function(n){return e.call(this,n,J5)}:J5;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function _7(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function SE(t,e,r){if(!e)return t;const n=r&&r.encode||_7;at.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let l;if(i?l=i(e,r):l=at.isURLSearchParams(e)?e.toString():new Zv(e,r).toString(n),l){const d=t.indexOf("#");d!==-1&&(t=t.slice(0,d)),t+=(t.indexOf("?")===-1?"?":"&")+l}return t}class Y5{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){at.forEach(this.handlers,function(n){n!==null&&e(n)})}}const jE={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},B7=typeof URLSearchParams<"u"?URLSearchParams:Zv,N7=typeof FormData<"u"?FormData:null,C7=typeof Blob<"u"?Blob:null,E7={isBrowser:!0,classes:{URLSearchParams:B7,FormData:N7,Blob:C7},protocols:["http","https","file","blob","url","data"]},Xv=typeof window<"u"&&typeof document<"u",lv=typeof navigator=="object"&&navigator||void 0,S7=Xv&&(!lv||["ReactNative","NativeScript","NS"].indexOf(lv.product)<0),j7=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",L7=Xv&&window.location.href||"http://localhost",U7=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Xv,hasStandardBrowserEnv:S7,hasStandardBrowserWebWorkerEnv:j7,navigator:lv,origin:L7},Symbol.toStringTag,{value:"Module"})),Ti={...U7,...E7};function I7(t,e){return vg(t,new Ti.classes.URLSearchParams,{visitor:function(r,n,i,l){return Ti.isNode&&at.isBuffer(r)?(this.append(n,r.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)},...e})}function k7(t){return at.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function T7(t){const e={},r=Object.keys(t);let n;const i=r.length;let l;for(n=0;n<i;n++)l=r[n],e[l]=t[l];return e}function LE(t){function e(r,n,i,l){let d=r[l++];if(d==="__proto__")return!0;const u=Number.isFinite(+d),h=l>=r.length;return d=!d&&at.isArray(i)?i.length:d,h?(at.hasOwnProp(i,d)?i[d]=[i[d],n]:i[d]=n,!u):((!i[d]||!at.isObject(i[d]))&&(i[d]=[]),e(r,n,i[d],l)&&at.isArray(i[d])&&(i[d]=T7(i[d])),!u)}if(at.isFormData(t)&&at.isFunction(t.entries)){const r={};return at.forEachEntry(t,(n,i)=>{e(k7(n),i,r,0)}),r}return null}function F7(t,e,r){if(at.isString(t))try{return(e||JSON.parse)(t),at.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const _f={transitional:jE,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,l=at.isObject(e);if(l&&at.isHTMLForm(e)&&(e=new FormData(e)),at.isFormData(e))return i?JSON.stringify(LE(e)):e;if(at.isArrayBuffer(e)||at.isBuffer(e)||at.isStream(e)||at.isFile(e)||at.isBlob(e)||at.isReadableStream(e))return e;if(at.isArrayBufferView(e))return e.buffer;if(at.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(l){if(n.indexOf("application/x-www-form-urlencoded")>-1)return I7(e,this.formSerializer).toString();if((u=at.isFileList(e))||n.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return vg(u?{"files[]":e}:e,h&&new h,this.formSerializer)}}return l||i?(r.setContentType("application/json",!1),F7(e)):e}],transformResponse:[function(e){const r=this.transitional||_f.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(at.isResponse(e)||at.isReadableStream(e))return e;if(e&&at.isString(e)&&(n&&!this.responseType||i)){const d=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(u){if(d)throw u.name==="SyntaxError"?nn.from(u,nn.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ti.classes.FormData,Blob:Ti.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};at.forEach(["delete","get","head","post","put","patch"],t=>{_f.headers[t]={}});const O7=at.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Q7=t=>{const e={};let r,n,i;return t&&t.split(`
`).forEach(function(d){i=d.indexOf(":"),r=d.substring(0,i).trim().toLowerCase(),n=d.substring(i+1).trim(),!(!r||e[r]&&O7[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},W5=Symbol("internals");function wh(t){return t&&String(t).trim().toLowerCase()}function vm(t){return t===!1||t==null?t:at.isArray(t)?t.map(vm):String(t)}function R7(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const D7=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function tb(t,e,r,n,i){if(at.isFunction(n))return n.call(this,e,r);if(i&&(e=r),!!at.isString(e)){if(at.isString(n))return e.indexOf(n)!==-1;if(at.isRegExp(n))return n.test(e)}}function M7(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function P7(t,e){const r=at.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(i,l,d){return this[n].call(this,e,i,l,d)},configurable:!0})})}let go=class{constructor(e){e&&this.set(e)}set(e,r,n){const i=this;function l(u,h,m){const g=wh(h);if(!g)throw new Error("header name must be a non-empty string");const b=at.findKey(i,g);(!b||i[b]===void 0||m===!0||m===void 0&&i[b]!==!1)&&(i[b||h]=vm(u))}const d=(u,h)=>at.forEach(u,(m,g)=>l(m,g,h));if(at.isPlainObject(e)||e instanceof this.constructor)d(e,r);else if(at.isString(e)&&(e=e.trim())&&!D7(e))d(Q7(e),r);else if(at.isObject(e)&&at.isIterable(e)){let u={},h,m;for(const g of e){if(!at.isArray(g))throw TypeError("Object iterator must return a key-value pair");u[m=g[0]]=(h=u[m])?at.isArray(h)?[...h,g[1]]:[h,g[1]]:g[1]}d(u,r)}else e!=null&&l(r,e,n);return this}get(e,r){if(e=wh(e),e){const n=at.findKey(this,e);if(n){const i=this[n];if(!r)return i;if(r===!0)return R7(i);if(at.isFunction(r))return r.call(this,i,n);if(at.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=wh(e),e){const n=at.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||tb(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let i=!1;function l(d){if(d=wh(d),d){const u=at.findKey(n,d);u&&(!r||tb(n,n[u],u,r))&&(delete n[u],i=!0)}}return at.isArray(e)?e.forEach(l):l(e),i}clear(e){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const l=r[n];(!e||tb(this,this[l],l,e,!0))&&(delete this[l],i=!0)}return i}normalize(e){const r=this,n={};return at.forEach(this,(i,l)=>{const d=at.findKey(n,l);if(d){r[d]=vm(i),delete r[l];return}const u=e?M7(l):String(l).trim();u!==l&&delete r[l],r[u]=vm(i),n[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return at.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=e&&at.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[W5]=this[W5]={accessors:{}}).accessors,i=this.prototype;function l(d){const u=wh(d);n[u]||(P7(i,d),n[u]=!0)}return at.isArray(e)?e.forEach(l):l(e),this}};go.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);at.reduceDescriptors(go.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});at.freezeMethods(go);function rb(t,e){const r=this||_f,n=e||r,i=go.from(n.headers);let l=n.data;return at.forEach(t,function(u){l=u.call(r,l,i.normalize(),e?e.status:void 0)}),i.normalize(),l}function UE(t){return!!(t&&t.__CANCEL__)}function Ou(t,e,r){nn.call(this,t??"canceled",nn.ERR_CANCELED,e,r),this.name="CanceledError"}at.inherits(Ou,nn,{__CANCEL__:!0});function IE(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new nn("Request failed with status code "+r.status,[nn.ERR_BAD_REQUEST,nn.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function H7(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function q7(t,e){t=t||10;const r=new Array(t),n=new Array(t);let i=0,l=0,d;return e=e!==void 0?e:1e3,function(h){const m=Date.now(),g=n[l];d||(d=m),r[i]=h,n[i]=m;let b=l,B=0;for(;b!==i;)B+=r[b++],b=b%t;if(i=(i+1)%t,i===l&&(l=(l+1)%t),m-d<e)return;const w=g&&m-g;return w?Math.round(B*1e3/w):void 0}}function z7(t,e){let r=0,n=1e3/e,i,l;const d=(m,g=Date.now())=>{r=g,i=null,l&&(clearTimeout(l),l=null),t(...m)};return[(...m)=>{const g=Date.now(),b=g-r;b>=n?d(m,g):(i=m,l||(l=setTimeout(()=>{l=null,d(i)},n-b)))},()=>i&&d(i)]}const qm=(t,e,r=3)=>{let n=0;const i=q7(50,250);return z7(l=>{const d=l.loaded,u=l.lengthComputable?l.total:void 0,h=d-n,m=i(h),g=d<=u;n=d;const b={loaded:d,total:u,progress:u?d/u:void 0,bytes:h,rate:m||void 0,estimated:m&&u&&g?(u-d)/m:void 0,event:l,lengthComputable:u!=null,[e?"download":"upload"]:!0};t(b)},r)},eB=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},tB=t=>(...e)=>at.asap(()=>t(...e)),K7=Ti.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,Ti.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(Ti.origin),Ti.navigator&&/(msie|trident)/i.test(Ti.navigator.userAgent)):()=>!0,V7=Ti.hasStandardBrowserEnv?{write(t,e,r,n,i,l,d){if(typeof document>"u")return;const u=[`${t}=${encodeURIComponent(e)}`];at.isNumber(r)&&u.push(`expires=${new Date(r).toUTCString()}`),at.isString(n)&&u.push(`path=${n}`),at.isString(i)&&u.push(`domain=${i}`),l===!0&&u.push("secure"),at.isString(d)&&u.push(`SameSite=${d}`),document.cookie=u.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function G7(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function $7(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function kE(t,e,r){let n=!G7(e);return t&&(n||r==!1)?$7(t,e):e}const rB=t=>t instanceof go?{...t}:t;function fd(t,e){e=e||{};const r={};function n(m,g,b,B){return at.isPlainObject(m)&&at.isPlainObject(g)?at.merge.call({caseless:B},m,g):at.isPlainObject(g)?at.merge({},g):at.isArray(g)?g.slice():g}function i(m,g,b,B){if(at.isUndefined(g)){if(!at.isUndefined(m))return n(void 0,m,b,B)}else return n(m,g,b,B)}function l(m,g){if(!at.isUndefined(g))return n(void 0,g)}function d(m,g){if(at.isUndefined(g)){if(!at.isUndefined(m))return n(void 0,m)}else return n(void 0,g)}function u(m,g,b){if(b in e)return n(m,g);if(b in t)return n(void 0,m)}const h={url:l,method:l,data:l,baseURL:d,transformRequest:d,transformResponse:d,paramsSerializer:d,timeout:d,timeoutMessage:d,withCredentials:d,withXSRFToken:d,adapter:d,responseType:d,xsrfCookieName:d,xsrfHeaderName:d,onUploadProgress:d,onDownloadProgress:d,decompress:d,maxContentLength:d,maxBodyLength:d,beforeRedirect:d,transport:d,httpAgent:d,httpsAgent:d,cancelToken:d,socketPath:d,responseEncoding:d,validateStatus:u,headers:(m,g,b)=>i(rB(m),rB(g),b,!0)};return at.forEach(Object.keys({...t,...e}),function(g){const b=h[g]||i,B=b(t[g],e[g],g);at.isUndefined(B)&&b!==u||(r[g]=B)}),r}const TE=t=>{const e=fd({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:l,headers:d,auth:u}=e;if(e.headers=d=go.from(d),e.url=SE(kE(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),u&&d.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):""))),at.isFormData(r)){if(Ti.hasStandardBrowserEnv||Ti.hasStandardBrowserWebWorkerEnv)d.setContentType(void 0);else if(at.isFunction(r.getHeaders)){const h=r.getHeaders(),m=["content-type","content-length"];Object.entries(h).forEach(([g,b])=>{m.includes(g.toLowerCase())&&d.set(g,b)})}}if(Ti.hasStandardBrowserEnv&&(n&&at.isFunction(n)&&(n=n(e)),n||n!==!1&&K7(e.url))){const h=i&&l&&V7.read(l);h&&d.set(i,h)}return e},Z7=typeof XMLHttpRequest<"u",X7=Z7&&function(t){return new Promise(function(r,n){const i=TE(t);let l=i.data;const d=go.from(i.headers).normalize();let{responseType:u,onUploadProgress:h,onDownloadProgress:m}=i,g,b,B,w,S;function U(){w&&w(),S&&S(),i.cancelToken&&i.cancelToken.unsubscribe(g),i.signal&&i.signal.removeEventListener("abort",g)}let k=new XMLHttpRequest;k.open(i.method.toUpperCase(),i.url,!0),k.timeout=i.timeout;function C(){if(!k)return;const D=go.from("getAllResponseHeaders"in k&&k.getAllResponseHeaders()),re={data:!u||u==="text"||u==="json"?k.responseText:k.response,status:k.status,statusText:k.statusText,headers:D,config:t,request:k};IE(function(ne){r(ne),U()},function(ne){n(ne),U()},re),k=null}"onloadend"in k?k.onloadend=C:k.onreadystatechange=function(){!k||k.readyState!==4||k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0)||setTimeout(C)},k.onabort=function(){k&&(n(new nn("Request aborted",nn.ECONNABORTED,t,k)),k=null)},k.onerror=function(H){const re=H&&H.message?H.message:"Network Error",q=new nn(re,nn.ERR_NETWORK,t,k);q.event=H||null,n(q),k=null},k.ontimeout=function(){let H=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const re=i.transitional||jE;i.timeoutErrorMessage&&(H=i.timeoutErrorMessage),n(new nn(H,re.clarifyTimeoutError?nn.ETIMEDOUT:nn.ECONNABORTED,t,k)),k=null},l===void 0&&d.setContentType(null),"setRequestHeader"in k&&at.forEach(d.toJSON(),function(H,re){k.setRequestHeader(re,H)}),at.isUndefined(i.withCredentials)||(k.withCredentials=!!i.withCredentials),u&&u!=="json"&&(k.responseType=i.responseType),m&&([B,S]=qm(m,!0),k.addEventListener("progress",B)),h&&k.upload&&([b,w]=qm(h),k.upload.addEventListener("progress",b),k.upload.addEventListener("loadend",w)),(i.cancelToken||i.signal)&&(g=D=>{k&&(n(!D||D.type?new Ou(null,t,k):D),k.abort(),k=null)},i.cancelToken&&i.cancelToken.subscribe(g),i.signal&&(i.signal.aborted?g():i.signal.addEventListener("abort",g)));const O=H7(i.url);if(O&&Ti.protocols.indexOf(O)===-1){n(new nn("Unsupported protocol "+O+":",nn.ERR_BAD_REQUEST,t));return}k.send(l||null)})},J7=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,i;const l=function(m){if(!i){i=!0,u();const g=m instanceof Error?m:this.reason;n.abort(g instanceof nn?g:new Ou(g instanceof Error?g.message:g))}};let d=e&&setTimeout(()=>{d=null,l(new nn(`timeout ${e} of ms exceeded`,nn.ETIMEDOUT))},e);const u=()=>{t&&(d&&clearTimeout(d),d=null,t.forEach(m=>{m.unsubscribe?m.unsubscribe(l):m.removeEventListener("abort",l)}),t=null)};t.forEach(m=>m.addEventListener("abort",l));const{signal:h}=n;return h.unsubscribe=()=>at.asap(u),h}},Y7=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,i;for(;n<r;)i=n+e,yield t.slice(n,i),n=i},W7=async function*(t,e){for await(const r of eH(t))yield*Y7(r,e)},eH=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},nB=(t,e,r,n)=>{const i=W7(t,e);let l=0,d,u=h=>{d||(d=!0,n&&n(h))};return new ReadableStream({async pull(h){try{const{done:m,value:g}=await i.next();if(m){u(),h.close();return}let b=g.byteLength;if(r){let B=l+=b;r(B)}h.enqueue(new Uint8Array(g))}catch(m){throw u(m),m}},cancel(h){return u(h),i.return()}},{highWaterMark:2})},sB=64*1024,{isFunction:Xp}=at,tH=(({Request:t,Response:e})=>({Request:t,Response:e}))(at.global),{ReadableStream:aB,TextEncoder:iB}=at.global,oB=(t,...e)=>{try{return!!t(...e)}catch{return!1}},rH=t=>{t=at.merge.call({skipUndefined:!0},tH,t);const{fetch:e,Request:r,Response:n}=t,i=e?Xp(e):typeof fetch=="function",l=Xp(r),d=Xp(n);if(!i)return!1;const u=i&&Xp(aB),h=i&&(typeof iB=="function"?(S=>U=>S.encode(U))(new iB):async S=>new Uint8Array(await new r(S).arrayBuffer())),m=l&&u&&oB(()=>{let S=!1;const U=new r(Ti.origin,{body:new aB,method:"POST",get duplex(){return S=!0,"half"}}).headers.has("Content-Type");return S&&!U}),g=d&&u&&oB(()=>at.isReadableStream(new n("").body)),b={stream:g&&(S=>S.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(S=>{!b[S]&&(b[S]=(U,k)=>{let C=U&&U[S];if(C)return C.call(U);throw new nn(`Response type '${S}' is not supported`,nn.ERR_NOT_SUPPORT,k)})});const B=async S=>{if(S==null)return 0;if(at.isBlob(S))return S.size;if(at.isSpecCompliantForm(S))return(await new r(Ti.origin,{method:"POST",body:S}).arrayBuffer()).byteLength;if(at.isArrayBufferView(S)||at.isArrayBuffer(S))return S.byteLength;if(at.isURLSearchParams(S)&&(S=S+""),at.isString(S))return(await h(S)).byteLength},w=async(S,U)=>{const k=at.toFiniteNumber(S.getContentLength());return k??B(U)};return async S=>{let{url:U,method:k,data:C,signal:O,cancelToken:D,timeout:H,onDownloadProgress:re,onUploadProgress:q,responseType:ne,headers:te,withCredentials:G="same-origin",fetchOptions:de}=TE(S),K=e||fetch;ne=ne?(ne+"").toLowerCase():"text";let W=J7([O,D&&D.toAbortSignal()],H),ie=null;const z=W&&W.unsubscribe&&(()=>{W.unsubscribe()});let he;try{if(q&&m&&k!=="get"&&k!=="head"&&(he=await w(te,C))!==0){let M=new r(U,{method:"POST",body:C,duplex:"half"}),T;if(at.isFormData(C)&&(T=M.headers.get("content-type"))&&te.setContentType(T),M.body){const[$,X]=eB(he,qm(tB(q)));C=nB(M.body,sB,$,X)}}at.isString(G)||(G=G?"include":"omit");const V=l&&"credentials"in r.prototype,me={...de,signal:W,method:k.toUpperCase(),headers:te.normalize().toJSON(),body:C,duplex:"half",credentials:V?G:void 0};ie=l&&new r(U,me);let ee=await(l?K(ie,de):K(U,me));const Ce=g&&(ne==="stream"||ne==="response");if(g&&(re||Ce&&z)){const M={};["status","statusText","headers"].forEach(Ae=>{M[Ae]=ee[Ae]});const T=at.toFiniteNumber(ee.headers.get("content-length")),[$,X]=re&&eB(T,qm(tB(re),!0))||[];ee=new n(nB(ee.body,sB,$,()=>{X&&X(),z&&z()}),M)}ne=ne||"text";let Ne=await b[at.findKey(b,ne)||"text"](ee,S);return!Ce&&z&&z(),await new Promise((M,T)=>{IE(M,T,{data:Ne,headers:go.from(ee.headers),status:ee.status,statusText:ee.statusText,config:S,request:ie})})}catch(V){throw z&&z(),V&&V.name==="TypeError"&&/Load failed|fetch/i.test(V.message)?Object.assign(new nn("Network Error",nn.ERR_NETWORK,S,ie),{cause:V.cause||V}):nn.from(V,V&&V.code,S,ie)}}},nH=new Map,FE=t=>{let e=t&&t.env||{};const{fetch:r,Request:n,Response:i}=e,l=[n,i,r];let d=l.length,u=d,h,m,g=nH;for(;u--;)h=l[u],m=g.get(h),m===void 0&&g.set(h,m=u?new Map:rH(e)),g=m;return m};FE();const Jv={http:v7,xhr:X7,fetch:{get:FE}};at.forEach(Jv,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const lB=t=>`- ${t}`,sH=t=>at.isFunction(t)||t===null||t===!1;function aH(t,e){t=at.isArray(t)?t:[t];const{length:r}=t;let n,i;const l={};for(let d=0;d<r;d++){n=t[d];let u;if(i=n,!sH(n)&&(i=Jv[(u=String(n)).toLowerCase()],i===void 0))throw new nn(`Unknown adapter '${u}'`);if(i&&(at.isFunction(i)||(i=i.get(e))))break;l[u||"#"+d]=i}if(!i){const d=Object.entries(l).map(([h,m])=>`adapter ${h} `+(m===!1?"is not supported by the environment":"is not available in the build"));let u=r?d.length>1?`since :
`+d.map(lB).join(`
`):" "+lB(d[0]):"as no adapter specified";throw new nn("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return i}const OE={getAdapter:aH,adapters:Jv};function nb(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Ou(null,t)}function AB(t){return nb(t),t.headers=go.from(t.headers),t.data=rb.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),OE.getAdapter(t.adapter||_f.adapter,t)(t).then(function(n){return nb(t),n.data=rb.call(t,t.transformResponse,n),n.headers=go.from(n.headers),n},function(n){return UE(n)||(nb(t),n&&n.response&&(n.response.data=rb.call(t,t.transformResponse,n.response),n.response.headers=go.from(n.response.headers))),Promise.reject(n)})}const QE="1.13.2",yg={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{yg[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const cB={};yg.transitional=function(e,r,n){function i(l,d){return"[Axios v"+QE+"] Transitional option '"+l+"'"+d+(n?". "+n:"")}return(l,d,u)=>{if(e===!1)throw new nn(i(d," has been removed"+(r?" in "+r:"")),nn.ERR_DEPRECATED);return r&&!cB[d]&&(cB[d]=!0,console.warn(i(d," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(l,d,u):!0}};yg.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function iH(t,e,r){if(typeof t!="object")throw new nn("options must be an object",nn.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let i=n.length;for(;i-- >0;){const l=n[i],d=e[l];if(d){const u=t[l],h=u===void 0||d(u,l,t);if(h!==!0)throw new nn("option "+l+" must be "+h,nn.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new nn("Unknown option "+l,nn.ERR_BAD_OPTION)}}const ym={assertOptions:iH,validators:yg},sA=ym.validators;let dd=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Y5,response:new Y5}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const l=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?l&&!String(n.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+l):n.stack=l}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=fd(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:l}=r;n!==void 0&&ym.assertOptions(n,{silentJSONParsing:sA.transitional(sA.boolean),forcedJSONParsing:sA.transitional(sA.boolean),clarifyTimeoutError:sA.transitional(sA.boolean)},!1),i!=null&&(at.isFunction(i)?r.paramsSerializer={serialize:i}:ym.assertOptions(i,{encode:sA.function,serialize:sA.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),ym.assertOptions(r,{baseUrl:sA.spelling("baseURL"),withXsrfToken:sA.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let d=l&&at.merge(l.common,l[r.method]);l&&at.forEach(["delete","get","head","post","put","patch","common"],S=>{delete l[S]}),r.headers=go.concat(d,l);const u=[];let h=!0;this.interceptors.request.forEach(function(U){typeof U.runWhen=="function"&&U.runWhen(r)===!1||(h=h&&U.synchronous,u.unshift(U.fulfilled,U.rejected))});const m=[];this.interceptors.response.forEach(function(U){m.push(U.fulfilled,U.rejected)});let g,b=0,B;if(!h){const S=[AB.bind(this),void 0];for(S.unshift(...u),S.push(...m),B=S.length,g=Promise.resolve(r);b<B;)g=g.then(S[b++],S[b++]);return g}B=u.length;let w=r;for(;b<B;){const S=u[b++],U=u[b++];try{w=S(w)}catch(k){U.call(this,k);break}}try{g=AB.call(this,w)}catch(S){return Promise.reject(S)}for(b=0,B=m.length;b<B;)g=g.then(m[b++],m[b++]);return g}getUri(e){e=fd(this.defaults,e);const r=kE(e.baseURL,e.url,e.allowAbsoluteUrls);return SE(r,e.params,e.paramsSerializer)}};at.forEach(["delete","get","head","options"],function(e){dd.prototype[e]=function(r,n){return this.request(fd(n||{},{method:e,url:r,data:(n||{}).data}))}});at.forEach(["post","put","patch"],function(e){function r(n){return function(l,d,u){return this.request(fd(u||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:l,data:d}))}}dd.prototype[e]=r(),dd.prototype[e+"Form"]=r(!0)});let oH=class RE{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(l){r=l});const n=this;this.promise.then(i=>{if(!n._listeners)return;let l=n._listeners.length;for(;l-- >0;)n._listeners[l](i);n._listeners=null}),this.promise.then=i=>{let l;const d=new Promise(u=>{n.subscribe(u),l=u}).then(i);return d.cancel=function(){n.unsubscribe(l)},d},e(function(l,d,u){n.reason||(n.reason=new Ou(l,d,u),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new RE(function(i){e=i}),cancel:e}}};function lH(t){return function(r){return t.apply(null,r)}}function AH(t){return at.isObject(t)&&t.isAxiosError===!0}const Av={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Av).forEach(([t,e])=>{Av[e]=t});function DE(t){const e=new dd(t),r=mE(dd.prototype.request,e);return at.extend(r,dd.prototype,e,{allOwnKeys:!0}),at.extend(r,e,null,{allOwnKeys:!0}),r.create=function(i){return DE(fd(t,i))},r}const la=DE(_f);la.Axios=dd;la.CanceledError=Ou;la.CancelToken=oH;la.isCancel=UE;la.VERSION=QE;la.toFormData=vg;la.AxiosError=nn;la.Cancel=la.CanceledError;la.all=function(e){return Promise.all(e)};la.spread=lH;la.isAxiosError=AH;la.mergeConfig=fd;la.AxiosHeaders=go;la.formToJSON=t=>LE(at.isHTMLForm(t)?new FormData(t):t);la.getAdapter=OE.getAdapter;la.HttpStatusCode=Av;la.default=la;const{Axios:n9,AxiosError:s9,CanceledError:a9,isCancel:i9,CancelToken:o9,VERSION:l9,all:A9,Cancel:c9,isAxiosError:d9,spread:u9,toFormData:h9,AxiosHeaders:f9,HttpStatusCode:p9,formToJSON:m9,getAdapter:g9,mergeConfig:x9}=la;(function(){function t(e){return this instanceof t?(this._canvas=e=typeof e=="string"?document.getElementById(e):e,this._ctx=e.getContext("2d"),this._width=e.width,this._height=e.height,this._max=1,void this.clear()):new t(e)}t.prototype={defaultRadius:25,defaultGradient:{.4:"blue",.6:"cyan",.7:"lime",.8:"yellow",1:"red"},data:function(e,r){return this._data=e,this},max:function(e){return this._max=e,this},add:function(e){return this._data.push(e),this},clear:function(){return this._data=[],this},radius:function(e,r){r=r||15;var n=this._circle=document.createElement("canvas"),i=n.getContext("2d"),l=this._r=e+r;return n.width=n.height=2*l,i.shadowOffsetX=i.shadowOffsetY=200,i.shadowBlur=r,i.shadowColor="black",i.beginPath(),i.arc(l-200,l-200,e,0,2*Math.PI,!0),i.closePath(),i.fill(),this},gradient:function(e){var r=document.createElement("canvas"),n=r.getContext("2d"),i=n.createLinearGradient(0,0,0,256);r.width=1,r.height=256;for(var l in e)i.addColorStop(l,e[l]);return n.fillStyle=i,n.fillRect(0,0,1,256),this._grad=n.getImageData(0,0,1,256).data,this},draw:function(e){this._circle||this.radius(this.defaultRadius),this._grad||this.gradient(this.defaultGradient);var r=this._ctx;r.clearRect(0,0,this._width,this._height);for(var n,i=0,l=this._data.length;l>i;i++)n=this._data[i],r.globalAlpha=Math.max(n[2]/this._max,e||.05),r.drawImage(this._circle,n[0]-this._r,n[1]-this._r);var d=r.getImageData(0,0,this._width,this._height);return this._colorize(d.data,this._grad),r.putImageData(d,0,0),this},_colorize:function(e,r){for(var n,i=3,l=e.length;l>i;i+=4)n=4*e[i],n&&(e[i-3]=r[n],e[i-2]=r[n+1],e[i-1]=r[n+2])}},window.simpleheat=t})(),L.HeatLayer=(L.Layer?L.Layer:L.Class).extend({initialize:function(t,e){this._latlngs=t,L.setOptions(this,e)},setLatLngs:function(t){return this._latlngs=t,this.redraw()},addLatLng:function(t){return this._latlngs.push(t),this.redraw()},setOptions:function(t){return L.setOptions(this,t),this._heat&&this._updateOptions(),this.redraw()},redraw:function(){return!this._heat||this._frame||this._map._animating||(this._frame=L.Util.requestAnimFrame(this._redraw,this)),this},onAdd:function(t){this._map=t,this._canvas||this._initCanvas(),t._panes.overlayPane.appendChild(this._canvas),t.on("moveend",this._reset,this),t.options.zoomAnimation&&L.Browser.any3d&&t.on("zoomanim",this._animateZoom,this),this._reset()},onRemove:function(t){t.getPanes().overlayPane.removeChild(this._canvas),t.off("moveend",this._reset,this),t.options.zoomAnimation&&t.off("zoomanim",this._animateZoom,this)},addTo:function(t){return t.addLayer(this),this},_initCanvas:function(){var t=this._canvas=L.DomUtil.create("canvas","leaflet-heatmap-layer leaflet-layer"),e=L.DomUtil.testProp(["transformOrigin","WebkitTransformOrigin","msTransformOrigin"]);t.style[e]="50% 50%";var r=this._map.getSize();t.width=r.x,t.height=r.y;var n=this._map.options.zoomAnimation&&L.Browser.any3d;L.DomUtil.addClass(t,"leaflet-zoom-"+(n?"animated":"hide")),this._heat=simpleheat(t),this._updateOptions()},_updateOptions:function(){this._heat.radius(this.options.radius||this._heat.defaultRadius,this.options.blur),this.options.gradient&&this._heat.gradient(this.options.gradient),this.options.max&&this._heat.max(this.options.max)},_reset:function(){var t=this._map.containerPointToLayerPoint([0,0]);L.DomUtil.setPosition(this._canvas,t);var e=this._map.getSize();this._heat._width!==e.x&&(this._canvas.width=this._heat._width=e.x),this._heat._height!==e.y&&(this._canvas.height=this._heat._height=e.y),this._redraw()},_redraw:function(){var t,e,r,n,i,l,d,u,h,m=[],g=this._heat._r,b=this._map.getSize(),B=new L.Bounds(L.point([-g,-g]),b.add([g,g])),w=this.options.max===void 0?1:this.options.max,S=this.options.maxZoom===void 0?this._map.getMaxZoom():this.options.maxZoom,U=1/Math.pow(2,Math.max(0,Math.min(S-this._map.getZoom(),12))),k=g/2,C=[],O=this._map._getMapPanePos(),D=O.x%k,H=O.y%k;for(t=0,e=this._latlngs.length;e>t;t++)if(r=this._map.latLngToContainerPoint(this._latlngs[t]),B.contains(r)){i=Math.floor((r.x-D)/k)+2,l=Math.floor((r.y-H)/k)+2;var re=this._latlngs[t].alt!==void 0?this._latlngs[t].alt:this._latlngs[t][2]!==void 0?+this._latlngs[t][2]:1;h=re*U,C[l]=C[l]||[],n=C[l][i],n?(n[0]=(n[0]*n[2]+r.x*h)/(n[2]+h),n[1]=(n[1]*n[2]+r.y*h)/(n[2]+h),n[2]+=h):C[l][i]=[r.x,r.y,h]}for(t=0,e=C.length;e>t;t++)if(C[t])for(d=0,u=C[t].length;u>d;d++)n=C[t][d],n&&m.push([Math.round(n[0]),Math.round(n[1]),Math.min(n[2],w)]);this._heat.data(m).draw(this.options.minOpacity),this._frame=null},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),r=this._map._getCenterOffset(t.center)._multiplyBy(-e).subtract(this._map._getMapPanePos());L.DomUtil.setTransform?L.DomUtil.setTransform(this._canvas,r,e):this._canvas.style[L.DomUtil.TRANSFORM]=L.DomUtil.getTranslateString(r)+" scale("+e+")"}}),L.heatLayer=function(t,e){return new L.HeatLayer(t,e)};const dB={lat:-17.7915,lng:-50.9197},uB="Rio Verde, GO",Wo={error:t=>alert(t),success:t=>alert(t)},cH=()=>{const t=Ds.GeometryUtil;if(!t||t._gpReadableAreaPatched)return;t._gpReadableAreaPatched=!0;const e={km:2,ha:2,m:0,mi:2,ac:2,yd:0,ft:0,nm:2};t.readableArea=(r,n,i)=>{const l=Ds.Util.extend({},e,i);let d=["ha","m"];const u=typeof n;if(n)return u==="string"?d=[n]:u!=="boolean"&&(d=n),r>=1e6&&d.indexOf("km")!==-1?`${t.formattedNumber(r/1e6,l.km)} km2`:r>=1e4&&d.indexOf("ha")!==-1?`${t.formattedNumber(r/1e4,l.ha)} ha`:`${t.formattedNumber(r,l.m)} m2`;const h=r/.836127;return h>=3097600?`${t.formattedNumber(h/3097600,l.mi)} mi2`:h>=4840?`${t.formattedNumber(h/4840,l.ac)} acres`:`${t.formattedNumber(h,l.yd)} yd2`}},hB=t=>{if(!t)return null;if(Array.isArray(t)&&t.length>=2){const e=Number(t[0]),r=Number(t[1]);return Number.isFinite(e)&&Number.isFinite(r)?[e,r]:null}if(typeof t=="object"){const e=Number(t.lat??t.latitude),r=Number(t.lng??t.lon??t.longitude);if(Number.isFinite(e)&&Number.isFinite(r))return[e,r]}return null},ou=t=>{if(!t)return null;let e=t;if(typeof e=="string")try{e=JSON.parse(e)}catch{return null}if(e&&typeof e=="object"&&!Array.isArray(e)){const n=e,i=n.type==="Feature"?n.geometry:n,l=i==null?void 0:i.coordinates,d=i==null?void 0:i.type;if(d==="Polygon"&&Array.isArray(l))return l.map(u=>Array.isArray(u)?u.map(h=>[Number(h==null?void 0:h[1]),Number(h==null?void 0:h[0])]).filter(h=>Number.isFinite(h[0])&&Number.isFinite(h[1])):[]).filter(u=>u.length>2);if(d==="MultiPolygon"&&Array.isArray(l)&&Array.isArray(l[0]))return l[0].map(h=>Array.isArray(h)?h.map(m=>[Number(m==null?void 0:m[1]),Number(m==null?void 0:m[0])]).filter(m=>Number.isFinite(m[0])&&Number.isFinite(m[1])):[]).filter(h=>h.length>2)}if(!Array.isArray(e)||e.length===0)return null;if(Array.isArray(e[0])&&Array.isArray(e[0][0])){const n=e[0][0];if(Array.isArray(n)&&n.length===2&&!Array.isArray(n[0]))return e.map(l=>l.map(d=>hB([d[1],d[0]])).filter(Boolean)).filter(l=>l.length>2)}const r=e.map(n=>Array.isArray(n)?n.map(i=>hB(i)).filter(i=>!!i):[]).filter(n=>n.length>2);return r.length?r:null},dH=t=>!t||!t.length?null:{type:"Polygon",coordinates:t.map(r=>r.map(([n,i])=>[i,n]))},uH=()=>{const t=Iu();return F.useEffect(()=>{const e=()=>t.invalidateSize(),r=t.getContainer(),n=()=>e();window.addEventListener("resize",n);let i=null;typeof ResizeObserver<"u"&&(i=new ResizeObserver(()=>e()),i.observe(r));const l=setTimeout(e,50),d=setTimeout(e,250),u=setTimeout(e,800);return()=>{clearTimeout(l),clearTimeout(d),clearTimeout(u),window.removeEventListener("resize",n),i&&i.disconnect()}},[t]),null},hH=({onClose:t})=>{const[e,r]=F.useState([]),[n,i]=F.useState([]),[l,d]=F.useState("realtime"),[u,h]=F.useState("map"),[m,g]=F.useState(null),[b,B]=F.useState(!1),[w,S]=F.useState(""),[U,k]=F.useState("#f97316"),[C,O]=F.useState(null),[D,H]=F.useState(!1),[re,q]=F.useState(null),[ne,te]=F.useState(""),[G,de]=F.useState({}),[K,W]=F.useState("0"),[ie,z]=F.useState(""),[he,V]=F.useState(uB),[me,ee]=F.useState(!1),[Ce,Ne]=F.useState(null),[M,T]=F.useState(null),[$,X]=F.useState(""),[Ae,xe]=F.useState([]),[Be,ke]=F.useState([]),[ge,je]=F.useState([]),[Qe,Re]=F.useState([]),[lt,Lt]=F.useState([]);F.useEffect(()=>{let Ue=!0;return(async()=>{try{const[Ke,ot]=await Promise.all([Hm(),ug()]);if(!Ue)return;xe(Ke||[]),Re(ot||[])}catch(Ke){console.error("Erro ao carregar dados:",Ke)}})(),()=>{Ue=!1}},[]);const fe=F.useRef(null),ft=F.useRef(null),St=F.useRef([]),st=F.useRef([]),ue=F.useRef(()=>{}),Ze=F.useRef(null),[Ve,gt]=F.useState(!1),[bt,nr]=F.useState(null),Jt=F.useMemo(()=>{const Ue=new Map;return(ge??[]).forEach(Ke=>{var ot;Ue.has(Ke.deposit_id)||Ue.set(Ke.deposit_id,new Map),(ot=Ue.get(Ke.deposit_id))==null||ot.set(Ke.zone_id,Number(Ke.price??0))}),Ue},[ge]),Wt=F.useCallback(()=>{g(null),S(""),k("#f97316"),te(""),O(null),Ze.current&&Ze.current.clearLayers()},[]);F.useEffect(()=>{let Ue=!0;return(async()=>{var Ke;try{await Ad(()=>import("./leaflet-draw-default-yoD6TSFD.js"),[]);const ot=!!((Ke=Ds==null?void 0:Ds.Draw)!=null&&Ke.Event);if(!Ue)return;if(ot){const ut=await Ad(()=>import("./index-Cphd5O5K.js"),[]);nr(()=>ut.EditControl),gt(!0),cH()}else console.warn("leaflet-draw no exps L.Draw.Event (report)"),gt(!1)}catch(ot){console.error("Erro ao carregar ferramentas de desenho (report)",ot),Ue&&gt(!1)}})(),()=>{Ue=!1}},[]);const yr=F.useCallback(async()=>{const Ue=w.trim();if(!Ue){alert("Informe o nome da zona");return}if(!C||C.length===0){alert("Desenhe a rea da zona no mapa antes de salvar.");return}H(!0);try{const Ke={id:m??void 0,name:Ue,color:U,deposit_id:null,fee:0,map_polygon:dH(C)??C},ot=await kM(Ke);if(re&&ne.trim()!==""){const ut=Number(ne);await T5({id:`${re}:${ot.id}`,deposit_id:re,zone_id:ot.id,price:Number.isFinite(ut)?ut:0})}g(ot.id),alert("Zona salva com sucesso")}catch(Ke){alert((Ke==null?void 0:Ke.message)||"Falha ao salvar zona")}finally{H(!1)}},[w,C,m,U,re,ne]),sr=F.useCallback(Ue=>{if(!Ue||!Ue.length||!fe.current)return;const Ke=Ds.polygon(Ue);fe.current.fitBounds(Ke.getBounds(),{padding:[24,24]})},[]),Dt=F.useCallback(()=>{if(!fe.current||!Be||Be.length===0)return;const Ue=[];if(Be.forEach(ot=>{const ut=ou(ot.map_polygon);ut&&ut.forEach(rr=>{rr.forEach(or=>Ue.push(or))})}),Ue.length===0)return;const Ke=Ds.latLngBounds(Ue);fe.current.fitBounds(Ke,{padding:[32,32],maxZoom:17})},[Be]),er=async()=>{const Ue=ie.trim();if(!(!Ue||!fe.current)){ee(!0),Ne(null),T(null);try{const Ke=he.trim()||uB,{data:ot}=await la.get("https://nominatim.openstreetmap.org/search",{params:{format:"jsonv2",q:`${Ue}, ${Ke}`,polygon_geojson:1,addressdetails:1,limit:5,countrycodes:"br"},headers:{"Accept-Language":"pt-BR"}}),ut=Array.isArray(ot)?ot:[];if(!ut.length){T("Nenhum resultado encontrado. Desenhe manualmente.");return}const rr=ut[0],or=Number(rr==null?void 0:rr.lat),qr=Number(rr==null?void 0:rr.lon);if(!Number.isFinite(or)||!Number.isFinite(qr)){Ne("Localizao invlida.");return}!m&&!b&&(B(!0),w||S(Ue)),fe.current.flyTo([or,qr],15),T("Endereo encontrado. Desenhe a rea manualmente no mapa.")}catch{Ne("Falha ao buscar endereo.")}finally{ee(!1)}}},Zt=async Ue=>{if(confirm("Excluir esta zona?"))try{await TM(Ue),m===Ue&&(g(null),O(null)),Wo.success("Zona excluda")}catch(Ke){Wo.error((Ke==null?void 0:Ke.message)||"Erro ao excluir zona")}},Hr=async Ue=>{if(!re){Wo.error("Selecione um depsito para salvar preo.");return}const Ke=G[Ue]??"",ot=Number(String(Ke).replace(",","."));if(!Number.isFinite(ot)){Wo.error("Preo invlido.");return}try{await T5({id:`${re}:${Ue}`,zone_id:Ue,deposit_id:re,price:ot}),Wo.success("Preo salvo")}catch{Wo.error("Erro ao salvar preo")}},cr=async()=>{if(!re||!Qe)return;const Ue=Qe.find(ot=>ot.id===re);if(!Ue)return;const Ke=Number(K||0)||0;try{await AE({...Ue,free_shipping_min_value:Ke}),Wo.success("Frete grtis atualizado")}catch{Wo.error("Erro ao salvar frete grtis")}},Yt=async()=>{if(!(!m||!$.trim()))try{await FM({id:crypto.randomUUID(),zone_id:m,name:$.trim()}),X(""),Wo.success("Setor adicionado")}catch{Wo.error("Erro ao adicionar setor")}},Xt=async Ue=>{if(confirm("Excluir este setor?"))try{await OM(Ue),Wo.success("Setor excludo")}catch{Wo.error("Erro ao excluir setor")}},ar=F.useMemo(()=>Qe==null?void 0:Qe.find(Ue=>Ue.id===re),[Qe,re]),Vt=F.useMemo(()=>(lt??[]).filter(Ue=>Ue.zone_id===m),[lt,m]),Nr=F.useMemo(()=>{const Ue=new Map;if(!re)return Ue;for(const Ke of ge??[])Ke.deposit_id===re&&Ue.set(Ke.zone_id,Ke);return Ue},[ge,re]);F.useMemo(()=>(Be??[]).filter(Ue=>Ue.id!==m).map(Ue=>({id:Ue.id,name:Ue.name,color:Ue.color||"#f97316",polygon:ou(Ue.map_polygon)})).filter(Ue=>Ue.polygon),[Be,m]),F.useMemo(()=>{if(!m||!Be)return null;const Ue=Be.find(Ke=>Ke.id===m);return Ue?ou(Ue.map_polygon):null},[m,Be]),F.useEffect(()=>{const Ue=requestAnimationFrame(()=>ue.current()),Ke=setTimeout(()=>ue.current(),200),ot=setTimeout(()=>ue.current(),800),ut=setTimeout(()=>Dt(),1e3);return()=>{cancelAnimationFrame(Ue),clearTimeout(Ke),clearTimeout(ot),clearTimeout(ut)}},[Dt]),F.useEffect(()=>{const Ue=()=>{try{const ot=QM();i(Array.isArray(ot)?ot:[])}catch(ot){console.error("Erro ao carregar entregadores",ot),i([])}};Ue();const Ke=setInterval(Ue,5e3);return()=>clearInterval(Ke)},[]),F.useEffect(()=>{let Ue=!0;return(async()=>{try{if(Ae&&Array.isArray(Ae)&&Ae.length>0){Ue&&r(Ae);return}const ot=await Hm();Ue&&r(Array.isArray(ot)?ot:[])}catch(ot){console.error("Erro ao carregar entregas",ot),Ue&&r([])}})(),()=>{Ue=!1}},[Ae]),F.useEffect(()=>{re||!Qe||Qe.length===0||q(Qe[0].id)},[Qe,re]),F.useEffect(()=>{if(!Be)return;const Ue=m?Be.find(Ke=>Ke.id===m):null;if(!Ue){S(""),k("#f97316"),O(null),Dt();return}S(Ue.name??""),k(Ue.color??"#f97316"),O(ou(Ue.map_polygon))},[m,Be,Dt]),F.useEffect(()=>{if(!re||!m||!ge){te("");return}const Ue=ge.find(Ke=>Ke.zone_id===m&&Ke.deposit_id===re);te(Ue?String(Ue.price??""):"")},[re,m,ge]),F.useEffect(()=>{if(!re||!Be){de({});return}const Ue={};for(const Ke of Be){const ot=Nr.get(Ke.id);Ue[Ke.id]=ot?String(ot.price??0):""}de(Ue)},[re,Be,Nr]),F.useEffect(()=>{if(!ar)return;const Ue=ar.free_shipping_min_value??ar.freeShippingMinValue??0;W(String(Number(Ue)||0))},[ar]),F.useEffect(()=>{if(!Ze.current||(Ze.current.clearLayers(),!C||C.length===0))return;const Ue=Ds.polygon(C,{color:U,fillColor:U,fillOpacity:.25,weight:2});Ze.current.addLayer(Ue),fe.current&&fe.current.fitBounds(Ue.getBounds(),{padding:[24,24]})},[C,U]),F.useEffect(()=>{if(fe.current){if(ft.current&&(fe.current.removeLayer(ft.current),ft.current=null),St.current.forEach(Ue=>Ue.remove()),St.current=[],st.current.forEach(Ue=>Ue.remove()),st.current=[],l==="heatmap"){const Ke=(Array.isArray(e)?e:[]).filter(ot=>ot.latitude&&ot.longitude).map(ot=>[ot.latitude,ot.longitude,.8]);Ds.heatLayer&&(ft.current=Ds.heatLayer(Ke,{radius:25,blur:15,maxZoom:17}).addTo(fe.current))}l==="realtime"&&((Array.isArray(n)?n:[]).forEach(Ke=>{const ut=Ds.divIcon({html:`
          <div style="background-color:#ef4444; width:32px; height:32px; border-radius:50%; border:2px solid white; box-shadow:0 0 10px rgba(239,68,68,0.5); display:flex; align-items:center; justify-content:center; color:white;">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="1" y="3" width="15" height="13"></rect><polygon points="16 8 20 8 23 11 23 16 16 16 16 8"></polygon><circle cx="5.5" cy="18.5" r="2.5"></circle><circle cx="18.5" cy="18.5" r="2.5"></circle></svg>
          </div>
        `,className:"driver-icon",iconSize:[32,32],iconAnchor:[16,16]}),rr=Ds.marker([Ke.coords.lat,Ke.coords.lng],{icon:ut,zIndexOffset:900}).addTo(fe.current).bindPopup(`<b>${Ke.nome}</b><br>Status: ${Ke.status}<br>Atualizado: ${new Date(Ke.ultimoUpdate).toLocaleTimeString()}`);St.current.push(rr)}),e.filter(Ke=>(Ke.status==="PENDENTE"||Ke.status==="EM_ANDAMENTO")&&Ke.latitude).forEach(Ke=>{const rr=`
             <div style="background-color:${Ke.status==="PENDENTE"?"#f59e0b":"#3b82f6"}; width:24px; height:24px; border-radius:50%; border:2px solid white; display:flex; align-items:center; justify-content:center; box-shadow: 0 2px 5px rgba(0,0,0,0.2);">
                <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><line x1="16.5" y1="9.4" x2="7.5" y2="4.21"></line><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line></svg>
             </div>
           `,or=Ds.divIcon({html:rr,className:"dot-icon",iconSize:[24,24],iconAnchor:[12,12]}),qr=Ds.marker([Ke.latitude,Ke.longitude],{icon:or}).addTo(fe.current).bindPopup(`<b>${Ke.clienteNome}</b><br>O.S #${Ke.numeroOs}<br>Status: ${Ke.status}`);st.current.push(qr)})),requestAnimationFrame(()=>ue.current())}},[l,e,n]);const Pt=Ue=>Number(Ue||0).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),tr=F.useMemo(()=>{const Ue=e.filter(rr=>rr.status==="CONCLUIDA"||rr.statusEntrega==="CONCLUIDA");let Ke=0,ot=0,ut=0;return Ue.forEach(rr=>{const or=Number(rr.total??0)||0,qr=Number(rr.delivery_fee??rr.deliveryFee??0)||0,dn=Math.max(0,or-qr);Ke+=dn,ot+=qr,ut+=or}),{productRevenue:Ke,deliveryFees:ot,totalRevenue:ut,count:Ue.length}},[e]);return a.jsxs("div",{className:"fixed inset-0 bg-app z-50 flex flex-col animate-in slide-in-from-bottom-4 duration-300",children:[a.jsxs("div",{className:"bg-surface border-b border-bdr px-6 py-4 flex flex-col sm:flex-row justify-between items-start sm:items-center shadow-sm shrink-0 gap-4 transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"bg-orange-500/10 p-2.5 rounded-xl border border-orange-500/20",children:a.jsx(Po,{className:"w-6 h-6 text-orange-600"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-black text-txt-main tracking-tight",children:"Monitoramento Logstico"}),a.jsx("p",{className:"text-xs text-txt-muted font-bold uppercase tracking-widest",children:"Rastreamento e Zonas de Calor"})]})]}),a.jsx("div",{className:"flex items-center gap-3",children:a.jsx("button",{onClick:t,className:"p-2 hover:bg-red-500/10 text-txt-muted hover:text-red-500 rounded-full transition-colors",children:a.jsx(Vn,{className:"w-6 h-6"})})})]}),a.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col md:flex-row",children:[a.jsxs("div",{className:"w-full md:w-96 overflow-y-auto p-4 space-y-4 border-r border-bdr bg-app/20",children:[a.jsx("div",{className:"bg-surface border border-bdr rounded-xl overflow-hidden shadow-sm",children:a.jsxs("div",{className:"grid grid-cols-2",children:[a.jsx("button",{onClick:()=>h("map"),className:`py-3 text-xs font-black uppercase transition-colors ${u==="map"?"bg-emerald-500 text-white":"bg-app text-txt-muted hover:bg-surface"}`,children:"Modo Mapa/Global"}),a.jsx("button",{onClick:()=>h("pricing"),className:`py-3 text-xs font-black uppercase transition-colors ${u==="pricing"?"bg-blue-500 text-white":"bg-app text-txt-muted hover:bg-surface"}`,children:"Modo Precificao"})]})}),u==="map"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"bg-surface p-4 rounded-xl border border-bdr shadow-sm",children:[a.jsx("h4",{className:"text-xs font-black text-txt-muted uppercase mb-3",children:"Visualizao"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:()=>d("realtime"),className:`flex-1 py-2 rounded-lg text-xs font-bold uppercase flex flex-col items-center gap-1 transition-all ${l==="realtime"?"bg-orange-500 text-white shadow-md":"bg-app text-txt-muted hover:bg-surface border border-bdr"}`,children:[a.jsx(Km,{className:"w-4 h-4"})," Tempo Real"]}),a.jsxs("button",{onClick:()=>d("heatmap"),className:`flex-1 py-2 rounded-lg text-xs font-bold uppercase flex flex-col items-center gap-1 transition-all ${l==="heatmap"?"bg-red-600 text-white shadow-md":"bg-app text-txt-muted hover:bg-surface border border-bdr"}`,children:[a.jsx(m3,{className:"w-4 h-4"})," Mapa de Calor"]})]})]}),a.jsxs("div",{className:"bg-surface p-4 rounded-xl border border-bdr shadow-sm space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(lA,{className:"w-4 h-4 text-blue-500"}),a.jsx("h4",{className:"text-xs font-black text-txt-muted uppercase",children:"Buscar Local"})]}),a.jsx("input",{type:"text",value:ie,onChange:Ue=>z(Ue.target.value),onKeyDown:Ue=>Ue.key==="Enter"&&er(),placeholder:"Ex: Centro, Vila Aurora...",className:"w-full h-9 rounded-lg border border-bdr bg-app px-3 text-sm text-txt-main"}),a.jsx("button",{onClick:er,disabled:me,className:"w-full h-9 rounded-lg bg-blue-500 hover:bg-blue-600 text-white text-xs font-black uppercase disabled:opacity-60",children:me?"Buscando...":"Buscar"}),Ce&&a.jsx("p",{className:"text-xs text-red-500",children:Ce}),M&&a.jsx("p",{className:"text-xs text-amber-500",children:M})]}),a.jsxs("div",{className:"bg-surface p-4 rounded-xl border border-bdr shadow-sm space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(HA,{className:"w-4 h-4 text-emerald-500"}),a.jsx("h4",{className:"text-xs font-black text-txt-muted uppercase",children:"Zonas"})]}),a.jsx("button",{onClick:Wt,className:"text-[11px] font-black uppercase px-3 py-1.5 rounded-lg bg-app border border-bdr hover:bg-surface text-txt-main",children:"Nova zona"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[11px] font-bold text-txt-muted uppercase",children:"Depsito (opcional p/ preo)"}),a.jsxs("select",{value:re??"",onChange:Ue=>q(Ue.target.value||null),className:"w-full h-9 rounded-lg border border-bdr bg-app px-3 text-sm text-txt-main",children:[a.jsx("option",{value:"",children:"Selecione um depsito..."}),(Qe??[]).map(Ue=>a.jsx("option",{value:Ue.id,children:Ue.nome},Ue.id))]}),a.jsx("p",{className:"text-[11px] text-txt-muted",children:"Zonas so globais; preos so por depsito."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between text-[11px] font-bold text-txt-muted uppercase",children:[a.jsx("span",{children:"Zonas cadastradas"}),a.jsx("span",{className:"text-xs text-txt-main",children:(Be==null?void 0:Be.length)??0})]}),a.jsxs("div",{className:"max-h-48 overflow-y-auto space-y-2",children:[(Be??[]).length===0&&a.jsx("div",{className:"text-xs text-txt-muted italic",children:"Nenhuma zona cadastrada."}),(Be??[]).slice().sort((Ue,Ke)=>Ue.name.localeCompare(Ke.name)).map(Ue=>{var rr;const Ke=(rr=Jt.get(re||""))==null?void 0:rr.get(Ue.id),ot=Ke!==void 0?`R$ ${Number(Ke||0).toFixed(2)}`:"Sem preo",ut=m===Ue.id;return a.jsxs("button",{onClick:()=>{g(Ue.id===m?null:Ue.id);const or=ou(Ue.map_polygon);O(or),Ue.id!==m&&sr(or)},className:`w-full flex items-center gap-2 px-3 py-2 rounded-lg border text-left transition-colors ${ut?"border-emerald-500 bg-emerald-500/10":"border-bdr bg-app hover:bg-surface"}`,children:[a.jsx("span",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:Ue.color||"#f97316"}}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-bold text-txt-main leading-tight",children:Ue.name}),a.jsx("p",{className:"text-[11px] text-txt-muted",children:ot})]})]},Ue.id)})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[11px] font-bold text-txt-muted uppercase",children:"Nome da zona"}),a.jsx("input",{value:w,onChange:Ue=>S(Ue.target.value),className:"w-full h-9 rounded-lg border border-bdr bg-app px-3 text-sm text-txt-main",placeholder:"Ex: Centro 1"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[11px] font-bold text-txt-muted uppercase",children:"Cor"}),a.jsx("input",{type:"color",value:U,onChange:Ue=>k(Ue.target.value),className:"w-full h-9 rounded-lg border border-bdr bg-app px-2"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[11px] font-bold text-txt-muted uppercase",children:"Preo para o depsito selecionado"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{value:ne,onChange:Ue=>te(Ue.target.value),disabled:!re,className:"flex-1 h-9 rounded-lg border border-bdr bg-app px-3 text-sm text-txt-main disabled:opacity-50",placeholder:"R$ 0,00"}),a.jsx("button",{onClick:()=>te(""),className:"px-3 h-9 text-[11px] font-black uppercase rounded-lg border border-bdr bg-app hover:bg-surface",children:"Limpar"})]}),a.jsx("p",{className:"text-[11px] text-txt-muted",children:'Desenhe/edite a rea no mapa  direita. Clique em "Salvar zona" para gravar rea e preo.'})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:yr,disabled:D,className:"flex-1 h-10 rounded-lg bg-emerald-500 hover:bg-emerald-600 text-white font-black uppercase text-xs tracking-widest disabled:opacity-60",children:D?"Salvando...":"Salvar zona"}),a.jsx("button",{onClick:Wt,className:"flex-1 h-10 rounded-lg border border-bdr bg-app hover:bg-surface text-txt-main font-black uppercase text-xs tracking-widest",children:"Cancelar"})]})]}),m&&a.jsxs("div",{className:"bg-surface p-4 rounded-xl border border-bdr shadow-sm space-y-3",children:[a.jsx("h4",{className:"text-xs font-black text-txt-muted uppercase",children:"Setores"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{value:$,onChange:Ue=>X(Ue.target.value),onKeyDown:Ue=>Ue.key==="Enter"&&Yt(),placeholder:"Nome do setor",className:"flex-1 h-9 rounded-lg border border-bdr bg-app px-3 text-sm text-txt-main"}),a.jsx("button",{onClick:Yt,disabled:!$.trim(),className:"px-3 h-9 rounded-lg bg-blue-500 hover:bg-blue-600 text-white disabled:opacity-50",children:a.jsx(po,{className:"w-4 h-4"})})]}),Vt.length===0?a.jsx("p",{className:"text-xs text-txt-muted italic",children:"Nenhum setor"}):a.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:Vt.map(Ue=>a.jsxs("div",{className:"flex items-center justify-between px-3 py-2 rounded-lg bg-app border border-bdr",children:[a.jsx("span",{className:"text-sm text-txt-main",children:Ue.name}),a.jsx("button",{onClick:()=>Xt(Ue.id),className:"p-1 hover:bg-red-500/10 text-txt-muted hover:text-red-500 rounded transition-colors",children:a.jsx(oa,{className:"w-3.5 h-3.5"})})]},Ue.id))})]}),re&&a.jsxs("div",{className:"bg-surface p-4 rounded-xl border border-bdr shadow-sm space-y-3",children:[a.jsx("h4",{className:"text-xs font-black text-txt-muted uppercase",children:"Frete Grtis"}),a.jsxs("p",{className:"text-xs text-txt-muted",children:["Valor mnimo para frete grtis em ",a.jsx("b",{children:(ar==null?void 0:ar.nome)??"depsito"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:K,onChange:Ue=>W(Ue.target.value),placeholder:"R$ 0,00",className:"flex-1 h-9 rounded-lg border border-bdr bg-app px-3 text-sm text-txt-main"}),a.jsx("button",{onClick:cr,className:"px-4 h-9 rounded-lg bg-emerald-500 hover:bg-emerald-600 text-white text-xs font-black uppercase",children:"Salvar"})]})]}),a.jsxs("div",{className:"bg-surface p-4 rounded-xl border border-bdr shadow-sm",children:[a.jsx("h4",{className:"text-xs font-black text-txt-muted uppercase mb-3",children:"Relatorio Financeiro"}),a.jsxs("div",{className:"space-y-2 text-xs",children:[a.jsxs("div",{className:"flex items-center justify-between text-txt-muted",children:[a.jsx("span",{children:"Produtos"}),a.jsx("span",{className:"font-bold text-txt-main",children:Pt(tr.productRevenue)})]}),a.jsxs("div",{className:"flex items-center justify-between text-txt-muted",children:[a.jsx("span",{children:"Taxas de entrega"}),a.jsx("span",{className:"font-bold text-orange-500",children:Pt(tr.deliveryFees)})]}),a.jsxs("div",{className:"flex items-center justify-between text-txt-muted",children:[a.jsx("span",{children:"Total"}),a.jsx("span",{className:"font-black text-emerald-600",children:Pt(tr.totalRevenue)})]})]}),a.jsxs("p",{className:"text-[10px] text-txt-muted mt-3",children:["Baseado em O.S finalizadas/entregues (",tr.count,")."]})]}),a.jsxs("div",{className:"bg-surface p-4 rounded-xl border border-bdr shadow-sm",children:[a.jsx("h4",{className:"text-xs font-black text-txt-muted uppercase mb-3",children:"Entregadores Ativos"}),a.jsx("div",{className:"space-y-2",children:n.length===0?a.jsx("p",{className:"text-xs text-txt-muted italic text-center py-4",children:"Nenhum entregador online"}):n.map(Ue=>a.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg bg-app border border-bdr",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-bold text-txt-main leading-tight",children:Ue.nome}),a.jsxs("p",{className:"text-[10px] text-txt-muted",children:["ltimo sinal: ",new Date(Ue.ultimoUpdate).toLocaleTimeString()]})]})]},Ue.driverId))})]})]}),u==="pricing"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"bg-surface p-4 rounded-xl border border-bdr shadow-sm space-y-3",children:[a.jsx("h4",{className:"text-sm font-black text-txt-main uppercase",children:"Precificao por Zona"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-xs font-bold text-txt-muted uppercase",children:"Selecione o Depsito"}),a.jsxs("select",{value:re??"",onChange:Ue=>q(Ue.target.value||null),className:"w-full h-9 rounded-lg border border-bdr bg-app px-3 text-sm text-txt-main",children:[a.jsx("option",{value:"",children:"-- Selecione --"}),(Qe??[]).map(Ue=>a.jsx("option",{value:Ue.id,children:Ue.nome},Ue.id))]})]}),!re&&a.jsx("div",{className:"text-xs text-amber-500 bg-amber-500/10 p-2 rounded border border-amber-500/20",children:" Selecione um depsito para editar preos."}),re&&Be&&Be.length>0&&a.jsx("div",{className:"space-y-2",children:Be.map(Ue=>{var Ke;return a.jsxs("div",{className:"flex flex-col gap-3 bg-app border border-bdr rounded-xl px-3 py-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"w-3 h-3 rounded-full border border-bdr",style:{backgroundColor:Ue.color||"#f97316"}}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"text-sm font-black text-txt-main",children:Ue.name}),a.jsxs("div",{className:"text-[11px] text-txt-muted",children:["Atual:"," ",Nr.get(Ue.id)?`R$ ${Number(((Ke=Nr.get(Ue.id))==null?void 0:Ke.price)||0).toFixed(2)}`:"Sem preo"]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"text-xs text-txt-muted font-bold",children:"R$"}),a.jsx("input",{type:"text",value:G[Ue.id]??"",onChange:ot=>de({...G,[Ue.id]:ot.target.value}),placeholder:"0,00",className:"w-20 h-8 rounded-lg border border-bdr bg-app px-2 text-sm text-txt-main"})]}),a.jsx("button",{onClick:()=>Hr(Ue.id),className:"flex-1 h-8 rounded-lg bg-emerald-500 hover:bg-emerald-600 text-white text-xs font-black uppercase",children:"Salvar"}),a.jsx("button",{onClick:()=>Zt(Ue.id),className:"h-8 px-2 rounded-lg border border-red-500/30 bg-red-500/10 hover:bg-red-500/20 text-red-500",children:a.jsx(oa,{className:"w-4 h-4"})})]})]},Ue.id)})})]}),re&&a.jsxs("div",{className:"bg-surface p-4 rounded-xl border border-bdr shadow-sm space-y-3",children:[a.jsx("h4",{className:"text-xs font-black text-txt-muted uppercase",children:"Frete Grtis"}),a.jsxs("p",{className:"text-xs text-txt-muted",children:["Valor mnimo para frete grtis em ",a.jsx("b",{children:(ar==null?void 0:ar.nome)??"depsito"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:K,onChange:Ue=>W(Ue.target.value),placeholder:"R$ 0,00",className:"flex-1 h-9 rounded-lg border border-bdr bg-app px-3 text-sm text-txt-main"}),a.jsx("button",{onClick:cr,className:"px-4 h-9 rounded-lg bg-emerald-500 hover:bg-emerald-600 text-white text-xs font-black uppercase",children:"Salvar"})]})]})]})]}),a.jsxs("div",{className:"flex-1 bg-surface border-l border-bdr relative overflow-hidden",children:[a.jsxs(yv,{center:[dB.lat,dB.lng],zoom:12,minZoom:3,maxZoom:19,className:"w-full h-full z-0",whenCreated:Ue=>{fe.current=Ue,ue.current=()=>Ue.invalidateSize(),requestAnimationFrame(()=>Ue.invalidateSize())},children:[a.jsx(uH,{}),a.jsx(_v,{attribution:" OSM contributors",url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",crossOrigin:!0}),a.jsx(qB,{name:"all-zones",style:{zIndex:300},children:(Be??[]).map(Ue=>{const Ke=ou(Ue.map_polygon);if(!Ke)return null;const ot=Ue.color||"#f97316",ut=Ue.id===m;return a.jsx(wv,{positions:Ke,pathOptions:{color:ot,fillColor:ot,fillOpacity:ut?.25:.12,weight:ut?3:1,dashArray:ut?void 0:"4 6",className:"cursor-pointer"},eventHandlers:{click:()=>{g(Ue.id===m?null:Ue.id),O(Ke),Ue.id!==m&&sr(Ke)}},children:a.jsx(Bv,{sticky:!0,children:Ue.name})},Ue.id)})}),Ve&&bt&&a.jsx(HB,{ref:Ze,children:a.jsx(bt,{position:"topright",onCreated:Ue=>{const ut=Ue.layer.getLatLngs().map(rr=>rr.map(or=>[or.lat,or.lng])).filter(rr=>rr.length>2);O(ut),g(null),sr(ut)},onEdited:Ue=>{const Ke=Ue.layers;let ot=null;Ke.eachLayer(ut=>{ot=ut.getLatLngs().map(or=>or.map(qr=>[qr.lat,qr.lng])).filter(or=>or.length>2)}),O(ot),sr(ot)},onDeleted:()=>{O(null)},draw:{polygon:{shapeOptions:{color:U,fillColor:U,fillOpacity:.3,weight:2}},rectangle:{shapeOptions:{color:U,fillColor:U,fillOpacity:.3,weight:2}},polyline:!1,circle:!1,marker:!1,circlemarker:!1},edit:{edit:{selectedPathOptions:{color:U,fillColor:U,fillOpacity:.25,weight:2}},remove:{}}})})]}),a.jsxs("div",{className:"absolute bottom-6 right-6 bg-white/90 backdrop-blur px-4 py-3 rounded-xl border border-bdr shadow-xl text-xs font-medium text-txt-muted max-w-xs text-right z-[1000] pointer-events-none",children:[a.jsxs("p",{className:"font-black text-txt-main flex items-center justify-end gap-2 mb-1",children:[a.jsx(fv,{className:"w-3 h-3 text-emerald-500"}),"OpenStreetMap"]}),a.jsx("p",{className:"opacity-80",children:l==="realtime"?"Mostrando frota em tempo real":"Densidade de entregas histricas"})]})]})]})]})},Jp={lat:-17.7915,lng:-50.9197},_h="Rio Verde, GO",Yp={south:-18.347,north:-17.0898436,west:-51.7307464,east:-50.3568883},FA={error:t=>alert(t),success:t=>alert(t)},fH=()=>{const t=Ds.GeometryUtil;if(!t||t._gpReadableAreaPatched)return;t._gpReadableAreaPatched=!0;const e={km:2,ha:2,m:0,mi:2,ac:2,yd:0,ft:0,nm:2};t.readableArea=(r,n,i)=>{const l=Ds.Util.extend({},e,i);let d=["ha","m"];const u=typeof n;if(n)return u==="string"?d=[n]:u!=="boolean"&&(d=n),r>=1e6&&d.indexOf("km")!==-1?`${t.formattedNumber(r/1e6,l.km)} km2`:r>=1e4&&d.indexOf("ha")!==-1?`${t.formattedNumber(r/1e4,l.ha)} ha`:`${t.formattedNumber(r,l.m)} m2`;const h=r/.836127;return h>=3097600?`${t.formattedNumber(h/3097600,l.mi)} mi2`:h>=4840?`${t.formattedNumber(h/4840,l.ac)} acres`:`${t.formattedNumber(h,l.yd)} yd2`}},Eu=t=>{if(!t)return null;if(Array.isArray(t)&&t.length>=2){const e=Number(t[0]),r=Number(t[1]);return Number.isFinite(e)&&Number.isFinite(r)?[e,r]:null}if(typeof t=="object"){const e=Number(t.lat??t.latitude),r=Number(t.lng??t.lon??t.longitude);if(Number.isFinite(e)&&Number.isFinite(r))return[e,r]}return null},sb=t=>{if(!t)return null;let e=t;if(typeof e=="string")try{e=JSON.parse(e)}catch{return null}if(e&&typeof e=="object"&&!Array.isArray(e)){const i=e,l=i.type==="Feature"?i.geometry:i,d=Yv(l);return d&&d.length?d:null}if(!Array.isArray(e)||e.length===0)return null;if(Eu(e[0])){const i=e.map(Eu).filter(Boolean);return i.length?[i]:null}const n=[];for(const i of e){if(!Array.isArray(i))continue;const l=i.map(Eu).filter(Boolean);l.length&&n.push(l)}return n.length?n:null},fB=t=>{if(!Array.isArray(t)||t.length===0)return[];if(Eu(t[0])){const n=t.map(Eu).filter(Boolean);return n.length?[n]:[]}const r=[];for(const n of t){if(!Array.isArray(n))continue;const i=n.map(Eu).filter(Boolean);i.length&&r.push(i)}return r},Yv=t=>{if(!t||typeof t!="object")return null;const e=t.coordinates;if(!Array.isArray(e)||e.length===0)return null;if(t.type==="Polygon")return e.map(r=>Array.isArray(r)?r.map(n=>[Number(n[1]),Number(n[0])]):[]).filter(r=>r.length>0);if(t.type==="MultiPolygon"){const r=e[0];return Array.isArray(r)?r.map(n=>Array.isArray(n)?n.map(i=>[Number(i[1]),Number(i[0])]):[]).filter(n=>n.length>0):null}return null},pB=t=>{if(!t||!t.length)return[];const e=t[0]||[];return e.length?e:[]},mB=t=>{if(t.length<2)return t;const e=t[0],r=t[t.length-1];return e[0]===r[0]&&e[1]===r[1]?t:[...t,e]},gB=t=>{let e=1/0,r=-1/0,n=1/0,i=-1/0;for(const[l,d]of t)e=Math.min(e,l),r=Math.max(r,l),n=Math.min(n,d),i=Math.max(i,d);return{minLat:e,maxLat:r,minLng:n,maxLng:i}},pH=(t,e)=>t.minLat<=e.maxLat&&t.maxLat>=e.minLat&&t.minLng<=e.maxLng&&t.maxLng>=e.minLng,Wp=(t,e,r)=>{const n=(e[0]-t[0])*(r[1]-e[1])-(e[1]-t[1])*(r[0]-e[0]);return n===0?0:n>0?1:2},em=(t,e,r)=>e[1]<=Math.max(t[1],r[1])&&e[1]>=Math.min(t[1],r[1])&&e[0]<=Math.max(t[0],r[0])&&e[0]>=Math.min(t[0],r[0]),mH=(t,e,r,n)=>{const i=Wp(t,e,r),l=Wp(t,e,n),d=Wp(r,n,t),u=Wp(r,n,e);return!!(i!==l&&d!==u||i===0&&em(t,r,e)||l===0&&em(t,n,e)||d===0&&em(r,t,n)||u===0&&em(r,e,n))},xB=(t,e)=>{let r=!1;const n=t[1],i=t[0];for(let l=0,d=e.length-1;l<e.length;d=l++){const u=e[l][1],h=e[l][0],m=e[d][1],g=e[d][0];h>i!=g>i&&n<(m-u)*(i-h)/(g-h)+u&&(r=!r)}return r},gH=(t,e)=>{const r=mB(pB(t)),n=mB(pB(e));if(r.length<3||n.length<3)return!1;const i=gB(r),l=gB(n);if(!pH(i,l))return!1;for(let d=0;d<r.length-1;d++){const u=r[d],h=r[d+1];for(let m=0;m<n.length-1;m++){const g=n[m],b=n[m+1];if(mH(u,h,g,b))return!0}}return!!(xB(r[0],n)||xB(n[0],r))},cv=new Set(["neighbourhood","suburb","quarter","city_district","borough"]),xH=new Set(["amenity","tourism","shop","building","highway","leisure","natural"]),bH=new Set(["bairro","setor","zona","distrito","regiao","vila","jardim","loteamento","condominio"]),vH=new Set(["bairro","setor","zona","distrito","regiao","rua","avenida","av","praca","praa","vila","jardim","jd","loteamento","condominio","condominio","cidade","municipio","municipio"]),DA=t=>t.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),ME=t=>{const e=(t==null?void 0:t.address)??{};return e.city??e.town??e.village??e.hamlet??e.locality??e.municipality??e.county??""},bB=t=>{var r;const e=((r=String(t||"").split(",")[0])==null?void 0:r.trim())||"";return DA(e)},yH=t=>DA(t).split(/[^a-z0-9]+/g).map(r=>r.trim()).filter(r=>r.length>2&&!vH.has(r)),wH=t=>{const e=DA(t);for(const r of bH)if(e.includes(r))return!0;return!1},_H=(t,e)=>{if(!e.length)return!0;const r=(t==null?void 0:t.address)??{},n=DA([t==null?void 0:t.name,t==null?void 0:t.display_name,r.neighbourhood,r.suburb,r.quarter,r.city_district,r.borough,r.locality].filter(Boolean).join(" "));return e.every(i=>n.includes(i))},BH=(t,e)=>e?DA(String(ME(t)||"")).includes(e):!0,NH=(t,e,r)=>{var h;if(!Array.isArray(t)||t.length===0)return null;const n=DA(e),i=((h=DA(r).split(",")[0])==null?void 0:h.trim())||"",l=t.map(m=>{const g=!!Yv(m==null?void 0:m.geojson),b=(m==null?void 0:m.class)==="boundary"||(m==null?void 0:m.type)==="administrative",B=(m==null?void 0:m.class)==="place"&&cv.has(m==null?void 0:m.type),w=xH.has(m==null?void 0:m.class),S=Number((m==null?void 0:m.importance)??(m==null?void 0:m.place_rank)??0)||0,U=DA(String(ME(m)||""));let k=S;return g&&(k+=5),b&&(k+=6),B&&(k+=4),(m==null?void 0:m.class)==="place"&&(m==null?void 0:m.type)==="neighbourhood"&&(k+=2),w&&(k-=4),i&&U&&(U.includes(i)?k+=2:k-=2),n&&DA(String((m==null?void 0:m.display_name)||"")).includes(n)&&(k+=1),{item:m,score:k,hasPolygon:g,isBoundary:b,isPlace:B}}),d=l.filter(m=>m.hasPolygon&&(m.isBoundary||m.isPlace));if(d.length)return d.sort((m,g)=>g.score-m.score),d[0].item;const u=l.filter(m=>m.hasPolygon);return u.length?(u.sort((m,g)=>g.score-m.score),u[0].item):(l.sort((m,g)=>g.score-m.score),l[0].item)},CH=({enabled:t,points:e})=>{const r=Iu(),n=F.useRef(null);return F.useEffect(()=>{const i=Ds.heatLayer;if(!t||!i){n.current&&(r.removeLayer(n.current),n.current=null);return}if(n.current&&(r.removeLayer(n.current),n.current=null),!!e.length)return n.current=i(e,{radius:22,blur:16,maxZoom:17}).addTo(r),()=>{n.current&&(r.removeLayer(n.current),n.current=null)}},[t,e,r]),null},EH=()=>{const t=Iu();return F.useEffect(()=>{const e=()=>{var h;const u=(h=t.getContainer)==null?void 0:h.call(t);!u||!u.isConnected||t._loaded&&t.invalidateSize()};t.whenReady(()=>e()),requestAnimationFrame(e);const r=setTimeout(e,200),n=setTimeout(e,800),i=()=>e();window.addEventListener("resize",i);let l=null;const d=t.getContainer();return typeof ResizeObserver<"u"&&d&&(l=new ResizeObserver(()=>e()),l.observe(d)),()=>{clearTimeout(r),clearTimeout(n),window.removeEventListener("resize",i),l&&l.disconnect()}},[t]),null},SH=({mapRef:t})=>{const e=Iu();return F.useEffect(()=>{t.current=e},[e,t]),null},Fo={delivery_zones:{bulkDelete:async t=>{},bulkAdd:async t=>{},put:async t=>{},toArray:async()=>[]},zone_pricing:{bulkDelete:async t=>{},bulkAdd:async t=>{},put:async t=>{},toArray:async()=>[]},delivery_sectors:{bulkDelete:async t=>{},bulkAdd:async t=>{},toArray:async()=>[]},deposits:{bulkAdd:async t=>{},put:async t=>{},toArray:async()=>[]},service_orders:{bulkAdd:async t=>{},put:async t=>{},toArray:async()=>[]},outbox_events:{put:async t=>{},toArray:async()=>[]},transaction:async(t,...e)=>{const r=e[e.length-1];return typeof r=="function"?await r():null}},Bh=(t,e)=>{const[r,n]=F.useState(void 0);return F.useEffect(()=>{t().then(i=>n(i||[])).catch(()=>n([]))},e),r},jH=({onClose:t})=>{var tn;const e=Bh(()=>{var Te;return(Te=Fo.delivery_zones)==null?void 0:Te.toArray()},[]),r=Bh(()=>{var Te;return(Te=Fo.delivery_zones)==null?void 0:Te.toArray()},[]),n=Bh(()=>{var Te;return(Te=Fo.deposits)==null?void 0:Te.toArray()},[]),[i,l]=F.useState([]),d=Bh(()=>{var Te;return(Te=Fo.zone_pricing)==null?void 0:Te.toArray()},[]),u=e??[],h=r??[],m=(i.length?i:n)??[],g=d??[],b=e===void 0||r===void 0||n===void 0||d===void 0,[B,w]=F.useState("map"),[S,U]=F.useState(""),[k,C]=F.useState("0"),[O,D]=F.useState(""),[H,re]=F.useState(!1),[q,ne]=F.useState({name:"",color:"#f97316"}),[te,G]=F.useState(""),[de,K]=F.useState({}),[W,ie]=F.useState(""),[z,he]=F.useState(null),[V,me]=F.useState(null),[ee,Ce]=F.useState(!1),[Ne,M]=F.useState(""),[T,$]=F.useState(_h),[X,Ae]=F.useState(null),[xe,Be]=F.useState(null),[ke,ge]=F.useState(!1),[je,Qe]=F.useState(null),[Re,lt]=F.useState(!1),[Lt,fe]=F.useState(!1),[ft,St]=F.useState(!1),[st,ue]=F.useState(null),Ze=Bh(()=>{var Te;return(Te=Fo.service_orders)==null?void 0:Te.toArray()},[]),Ve=F.useRef(null),gt=F.useRef(null);F.useEffect(()=>{let Te=!0;return Lc.getAll().then(wt=>{if(!Te)return;const qt=wt.map(mr=>({id:mr.id,nome:mr.name,ativo:mr.active,endereco:mr.address,cor:mr.color,require_stock_audit:mr.require_stock_audit}));l(qt)}).catch(wt=>{console.error("Erro ao carregar depsitos",wt)}),()=>{Te=!1}},[]),F.useEffect(()=>{let Te=!0;return(async()=>{var wt;try{await Ad(()=>import("./leaflet.draw-BrRGfJeu.js"),[]);const qt=!!((wt=Ds==null?void 0:Ds.Draw)!=null&&wt.Event);if(!Te)return;if(qt){const mr=await Ad(()=>import("./index-Cphd5O5K.js"),[]);ue(()=>mr.EditControl),St(!0),fH()}else console.warn("leaflet-draw no exps L.Draw.Event; ferramentas de desenho desativadas"),St(!1)}catch(qt){console.error("Erro ao carregar ferramentas de desenho",qt),Te&&St(!1)}})(),()=>{Te=!1}},[]),F.useEffect(()=>{!O&&u.length>0&&!H&&D(u[0].id)},[u,O,H]),F.useEffect(()=>{const Te=m.find(qt=>qt.id===S);if(!Te)return;const wt=Te.free_shipping_min_value??Te.freeShippingMinValue??Te.freeShippingMin??0;C(String(Number(wt)||0))},[m,S]),F.useEffect(()=>{const Te=u.find(qt=>qt.id===O);if(!Te){H||(Qe(null),lt(!1),gt.current&&gt.current.clearLayers());return}ne({id:Te.id,name:Te.name,color:Te.color??"#f97316",depositoId:Te.depositoId??null});const wt=sb(Te.map_polygon);Qe(wt),lt(!1),rr(wt,!0,Te.color??"#f97316")},[u,O,H]);const bt=u.find(Te=>Te.id===O)||null,nr=m.find(Te=>Te.id===S)||null,Jt=F.useMemo(()=>h.filter(Te=>Te.zone_id===O),[h,O]),Wt=F.useMemo(()=>u.filter(Te=>Te.id!==O),[u,O]),yr=F.useMemo(()=>sb(bt==null?void 0:bt.map_polygon),[bt]),sr=((tn=q.name)==null?void 0:tn.trim())??"",Dt=q.color||"#f97316",er=!H&&!!bt,Zt=er?bt:{},Hr=er&&Number((bt==null?void 0:bt.fee)??0)||0,cr=er?yr??(bt==null?void 0:bt.map_polygon)??null:null,Yt={fee:Hr,...Zt,...q,map_polygon:cr};q.id&&String(de[q.id]??"").replace(",",".");const Xt=F.useMemo(()=>{const Te=Date.now()-2592e6;return(Ze??[]).filter(wt=>Number((wt==null?void 0:wt.dataHoraCriacao)??0)>=Te).map(wt=>[Number(wt.latitude),Number(wt.longitude),.8]).filter(wt=>Number.isFinite(wt[0])&&Number.isFinite(wt[1]))},[Ze]),ar=F.useMemo(()=>{const Te=new Map;if(!S)return Te;for(const wt of g)wt.depositoId===S&&Te.set(wt.zone_id,wt);return Te},[g,S]),Vt=O&&S?ar.get(O):null;Vt==null||Vt.price,F.useEffect(()=>{if(!S){K({});return}const Te={};for(const wt of u){const qt=ar.get(wt.id);Te[wt.id]=qt?String(qt.price??0):""}K(Te),he(null)},[S,u,ar]);const Nr=(bt==null?void 0:bt.name)||(H?"Nova zona":"Nenhuma zona selecionada"),Pt=q.color||(bt==null?void 0:bt.color)||"#f97316",tr=F.useMemo(()=>({color:Pt,fillColor:Pt,fillOpacity:.3,weight:2}),[Pt]),Ue=je?Re?"definida (nao salva)":"definida":"nao definida",Ke=S?Vt?`R$ ${Number(Vt.price||0).toFixed(2)}`:"Sem preco definido":"Selecione um deposito",ot=F.useMemo(()=>u.filter(Te=>Te.id!==O).map(Te=>({id:Te.id,name:Te.name,color:Te.color||"#f97316",polygon:sb(Te.map_polygon)})).filter(Te=>Te.polygon),[u,O]),ut=F.useMemo(()=>{const Te=je??yr??null;return Te?ot.filter(wt=>gH(Te,wt.polygon)).map(wt=>wt.name):[]},[je,yr,ot]),rr=(Te,wt,qt)=>{if(!gt.current||(gt.current.clearLayers(),!Te||Te.length===0))return;const mr=qt||Pt,Qr=Ds.polygon(Te,{color:mr,fillColor:mr,fillOpacity:.3});gt.current.addLayer(Qr),wt&&Ve.current&&Ve.current.fitBounds(Qr.getBounds(),{padding:[24,24]})},or=async()=>{const Te=Ne.trim();if(!(!Te||!Ve.current)){ge(!0),Ae(null),Be(null);try{const wt=T.trim()||_h,qt=bB(wt),mr=bB(_h),{data:Qr}=await la.get("https://nominatim.openstreetmap.org/search",{params:{format:"jsonv2",q:`${Te}, ${wt}`,polygon_geojson:1,addressdetails:1,limit:8,dedupe:1,countrycodes:"br",...qt===mr?{viewbox:`${Yp.west},${Yp.north},${Yp.east},${Yp.south}`,bounded:1}:{}},headers:{"Accept-Language":"pt-BR"}}),Cn=Array.isArray(Qr)?Qr:[],Gn=qt?Cn.filter(nt=>BH(nt,qt)):Cn,Ps=yH(Te),On=wH(Te),As=Gn.filter(nt=>{const Ot=(nt==null?void 0:nt.class)==="boundary"||(nt==null?void 0:nt.type)==="administrative",_t=(nt==null?void 0:nt.class)==="place"&&cv.has(nt==null?void 0:nt.type);return Ot||_t}),le=Ps.length?As.filter(nt=>_H(nt,Ps)):As,Me=On?le.length?le:As:Gn;if(!Me.length){Be("Sem limites oficiais do bairro no alcance. Desenhe a area manualmente."),Ve.current.flyTo([Jp.lat,Jp.lng],12);return}const $e=NH(Me,Te,wt);if(!$e){Ae("Nenhum resultado dentro do alcance.");return}const At=Number($e==null?void 0:$e.lat),jt=Number($e==null?void 0:$e.lon);if(!Number.isFinite(At)||!Number.isFinite(jt)){Ae("Localizacao nao encontrada.");return}const Mt=($e==null?void 0:$e.class)==="boundary"||($e==null?void 0:$e.type)==="administrative",Z=($e==null?void 0:$e.class)==="place"&&cv.has($e==null?void 0:$e.type),Je=Mt||Z;let mt=Je?Yv($e==null?void 0:$e.geojson):null;if(!mt&&Je&&Array.isArray($e==null?void 0:$e.boundingbox)&&$e.boundingbox.length===4){const nt=Number($e.boundingbox[0]),Ot=Number($e.boundingbox[1]),_t=Number($e.boundingbox[2]),Gt=Number($e.boundingbox[3]);[nt,Ot,_t,Gt].every(Number.isFinite)&&(mt=[[[nt,_t],[nt,Gt],[Ot,Gt],[Ot,_t],[nt,_t]]])}!O&&!H&&(re(!0),q.name||ne({...q,name:Te})),mt?(Qe(mt),lt(!0),rr(mt,!0,Pt)):(Ve.current.flyTo([At,jt],15),Be("Endereco encontrado, mas sem limite do bairro. Desenhe a area manualmente."))}catch{Ae("Falha ao buscar local.")}finally{ge(!1)}}},qr=Te=>{const wt=Te.layer;gt.current&&(gt.current.clearLayers(),gt.current.addLayer(wt));const qt=fB(wt.getLatLngs());if(Qe(qt.length?qt:null),lt(!0),qt.length&&Ve.current){const mr=Ds.polygon(qt).getBounds();Ve.current.fitBounds(mr,{padding:[24,24]})}},dn=Te=>{let wt=null;Te.layers.eachLayer(qt=>{const mr=fB(qt.getLatLngs());mr.length&&(wt=mr)}),wt&&(Qe(wt),lt(!0))},It=()=>{Qe(null),lt(!0)};F.useEffect(()=>{gt.current&&gt.current.eachLayer(Te=>{Te!=null&&Te.setStyle&&Te.setStyle({color:Pt,fillColor:Pt,fillOpacity:.3})})},[Pt]),F.useEffect(()=>{Ve.current&&rr(je??yr??null,!1)},[je,yr]);const An=async()=>{const Te=m.find(qt=>qt.id===S);if(!Te){FA.error("Selecione um depsito para salvar o frete grtis.");return}const wt=Number(String(k).replace(",","."))||0;try{await Lc.update(Te.id,{free_shipping_min_value:wt}),l(qt=>qt.length?qt.map(mr=>mr.id===Te.id?{...mr,free_shipping_min_value:wt}:mr):[{...Te,free_shipping_min_value:wt}]),FA.success("Frete grtis atualizado com sucesso.")}catch(qt){console.error("Erro ao salvar frete grtis:",qt),FA.error("Erro ao salvar frete grtis.")}},wn=async()=>{if(!sr)return FA.error("Nome da zona  obrigatrio");const Te=je||cr;if(!Te)return FA.error("Desenhe a rea da zona no mapa antes de salvar");Ce(!0);try{const wt=Yt.id||crypto.randomUUID(),qt={id:wt,name:sr,color:Dt,depositoId:null,map_polygon:Te};let mr=null;if(S){const Cn=!Yt.id?String(W||"").replace(",",".").trim():String(de[wt]??"").replace(",",".").trim(),Gn=Number(Cn)||0;Gn>0&&(mr={id:`${S}:${wt}`,zone_id:wt,depositoId:S,price:Gn})}await Fo.transaction("rw",Fo.delivery_zones,Fo.zone_pricing,Fo.outbox_events,async()=>{await Fo.delivery_zones.put(qt),await Fo.outbox_events.put({id:crypto.randomUUID(),entity:"delivery_zones",action:"UPSERT",entity_id:qt.id,payload_json:qt,status:"PENDING",tries:0,created_at:new Date().toISOString()}),mr&&(await Fo.zone_pricing.put(mr),await Fo.outbox_events.put({id:crypto.randomUUID(),entity:"zone_pricing",action:"UPSERT",entity_id:mr.id,payload_json:mr,status:"PENDING",tries:0,created_at:new Date().toISOString()}))}),console.log(" Zona e pricing salvos no Dexie:",wt),mr&&(console.log(" Pricing Object (deve ter apenas depositoId):",mr),("deposit_id"in mr||"deposito_id"in mr)&&console.error(" CONTAMINAO: Objeto contm campos legados!",mr)),mr?FA.success(`Zona "${sr}" e taxa R$ ${mr.price.toFixed(2)} salvas!`):S?FA.success(`Zona "${sr}" salva! Configure a taxa depois.`):FA.success(`Zona "${sr}" salva! Atribua taxa via 'Precificao por zona'.`),ne({name:"",color:"#f97316"}),ie(""),re(!1),Qe(null),lt(!1),gt.current&&gt.current.clearLayers()}catch(wt){console.error(" Erro ao salvar zona:",wt),FA.error(`Falha ao salvar: ${wt.message||"Erro desconhecido"}`)}finally{Ce(!1)}},pn=async Te=>{if(confirm("Excluir esta zona?")&&(await deleteDeliveryZone(Te),O===Te)){const wt=u.find(qt=>qt.id!==Te);D((wt==null?void 0:wt.id)||"")}},sn=Te=>{D(Te),re(!1),Qe(null),lt(!1),ie(""),gt.current&&gt.current.clearLayers()},Pr=async Te=>{if(!S){he("Selecione um deposito para salvar o preco.");return}const wt=de[Te]??"",qt=Number(String(wt).replace(",",".")),mr=Number.isFinite(qt)?qt:0;me(Te);try{const Qr={id:`${S}:${Te}`,zone_id:Te,depositoId:S,price:mr};console.log(" Salvando Pricing (deve ter apenas depositoId):",Qr),("deposit_id"in Qr||"deposito_id"in Qr)&&console.error(" CONTAMINAO: Objeto contm campos legados!",Qr),await upsertZonePricing(Qr),he(null)}catch(Qr){console.error(Qr),he("Nao foi possivel salvar o preco.")}finally{me(null)}},Ft=async()=>{if(!O||!te.trim())return;const Te={id:crypto.randomUUID(),zone_id:O,name:te.trim()};await upsertDeliverySector(Te),G("")},Fn=async(Te,wt)=>{wt&&await moveDeliverySector(Te,wt)},Ms=async Te=>{await deleteDeliverySector(Te)},_n=a.jsxs("div",{className:"bg-surface border border-bdr rounded-2xl p-4 shadow-sm space-y-4",children:[a.jsxs("div",{className:"flex flex-col gap-3",children:[a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("h4",{className:"text-sm font-black text-txt-main uppercase",children:"Precificacao por zona"}),a.jsxs("span",{className:"text-xs text-txt-muted",children:["Deposito: ",(nr==null?void 0:nr.nome)||"Nao selecionado"]})]}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("label",{className:"text-xs font-bold text-txt-muted uppercase",children:"Selecione o Depsito"}),a.jsxs("select",{value:S,onChange:Te=>U(Te.target.value),className:"h-9 px-3 rounded-lg border border-bdr bg-app text-txt-main text-sm font-bold",children:[a.jsx("option",{value:"",children:"-- Selecione um depsito --"}),m.map(Te=>a.jsx("option",{value:Te.id,children:Te.nome},Te.id))]})]})]}),!S&&a.jsx("div",{className:"text-xs text-amber-500 bg-amber-500/10 p-2 rounded border border-amber-500/20",children:" Selecione um deposito para editar os precos."}),z&&a.jsx("div",{className:"text-xs text-red-500",children:z}),b?a.jsx("div",{className:"text-xs text-txt-muted",children:"Carregando..."}):u.length===0?a.jsx("div",{className:"text-xs text-txt-muted italic",children:"Nenhuma zona cadastrada."}):a.jsx("div",{className:"space-y-2",children:u.map(Te=>{var wt;return a.jsxs("div",{className:"flex flex-col gap-3 bg-app border border-bdr rounded-xl px-3 py-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"w-3 h-3 rounded-full border border-bdr",style:{backgroundColor:Te.color||"#f97316"}}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"text-sm font-black text-txt-main",children:Te.name}),a.jsxs("div",{className:"text-[11px] text-txt-muted",children:["Atual:"," ",ar.get(Te.id)?`R$ ${Number(((wt=ar.get(Te.id))==null?void 0:wt.price)||0).toFixed(2)}`:"Sem preco"]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"text-xs text-txt-muted font-bold",children:"R$"}),a.jsx("input",{type:"text",inputMode:"decimal",value:de[Te.id]??"",onChange:qt=>{const mr=qt.target.value;K(Qr=>({...Qr,[Te.id]:mr})),z&&he(null)},disabled:!S,className:"h-9 w-24 px-2 rounded-lg border border-bdr bg-surface text-txt-main text-sm font-bold disabled:opacity-50",placeholder:"0,00"})]}),a.jsx("button",{onClick:()=>Pr(Te.id),disabled:!S||V===Te.id,className:"h-9 px-4 bg-orange-500 hover:bg-orange-600 text-white rounded-lg text-xs font-black uppercase tracking-widest disabled:opacity-50",children:V===Te.id?"Salvando...":"Salvar"})]})]},Te.id)})})]});return a.jsxs("div",{className:"fixed inset-0 bg-app z-50 flex flex-col animate-in fade-in duration-300",children:[a.jsxs("div",{className:"bg-surface border-b border-bdr px-6 py-4 flex justify-between items-center shadow-sm shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"bg-orange-500/10 p-2 rounded-xl border border-orange-500/20",children:a.jsx(Po,{className:"w-6 h-6 text-orange-600"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-black text-txt-main tracking-tight",children:"Configuracao de Entregas"}),a.jsx("p",{className:"text-xs text-txt-muted font-bold uppercase tracking-widest",children:"Zonas, setores e taxas"})]})]}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-red-500/10 hover:text-red-500 text-txt-muted rounded-full transition-colors",children:a.jsx(Vn,{className:"w-6 h-6"})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto bg-app p-6",children:a.jsxs("div",{className:"max-w-[1600px] w-full mx-auto space-y-6",children:[a.jsxs("div",{className:"bg-surface border border-bdr rounded-2xl p-5 flex flex-col lg:flex-row gap-6 shadow-sm",children:[a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsx("p",{className:"text-xs font-black text-txt-muted uppercase tracking-widest",children:"Regra global"}),a.jsx("h3",{className:"text-lg font-black text-txt-main",children:"Frete gratis a partir de"}),a.jsx("p",{className:"text-xs text-txt-muted",children:"Pedidos acima do valor minimo terao taxa zero automaticamente."})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-end",children:[a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("label",{className:"text-xs font-bold text-txt-muted uppercase",children:"Deposito"}),a.jsxs("select",{value:S,onChange:Te=>U(Te.target.value),className:"h-9 px-3 rounded-lg border border-bdr bg-app text-txt-main text-sm font-bold",children:[a.jsx("option",{value:"",children:"Selecione..."}),m.map(Te=>a.jsx("option",{value:Te.id,children:Te.nome},Te.id))]})]}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("label",{className:"text-xs font-bold text-txt-muted uppercase",children:"Valor minimo"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"number",value:k,onChange:Te=>C(Te.target.value),className:"h-9 w-32 px-3 rounded-lg border border-bdr bg-app text-txt-main font-bold text-sm"}),a.jsx("button",{onClick:An,className:"h-9 px-4 bg-orange-500 hover:bg-orange-600 text-white rounded-lg text-xs font-black uppercase tracking-widest shadow-sm",children:"Salvar"})]})]})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx("button",{type:"button",onClick:()=>w("map"),className:`px-4 py-2 rounded-lg text-xs font-black uppercase tracking-widest border transition-all ${B==="map"?"bg-emerald-500 text-white border-emerald-500":"bg-surface text-txt-muted border-bdr hover:text-txt-main"}`,children:"Modo mapa/global"}),a.jsx("button",{type:"button",onClick:()=>w("pricing"),className:`px-4 py-2 rounded-lg text-xs font-black uppercase tracking-widest border transition-all ${B==="pricing"?"bg-orange-500 text-white border-orange-500":"bg-surface text-txt-muted border-bdr hover:text-txt-main"}`,children:"Modo precificacao"}),a.jsxs("span",{className:"text-xs text-txt-muted",children:["Deposito atual: ",(nr==null?void 0:nr.nome)||"Nao selecionado"]})]}),B==="map"?a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[340px_1fr] gap-6",children:[a.jsxs("div",{className:"bg-surface border border-bdr rounded-2xl p-4 shadow-sm space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h4",{className:"text-sm font-black text-txt-main uppercase",children:"Zonas cadastradas"}),a.jsx("button",{onClick:()=>{ne({name:"",color:"#f97316"}),D(""),re(!0),Qe(null),lt(!1),ie(""),gt.current&&gt.current.clearLayers()},className:"px-3 py-1.5 bg-app border border-bdr rounded-lg text-xs font-bold text-txt-muted hover:text-txt-main",children:"Nova zona"})]}),b?a.jsx("div",{className:"text-xs text-txt-muted",children:"Carregando..."}):u.length===0?a.jsx("div",{className:"text-xs text-txt-muted italic",children:"Nenhuma zona cadastrada."}):a.jsx("div",{className:"space-y-2",children:u.map(Te=>{var wt;return a.jsx("div",{className:`w-full rounded-xl border transition-all ${O===Te.id?"border-orange-500 bg-orange-500/10":"border-bdr hover:bg-app"}`,children:a.jsxs("div",{className:"flex items-center justify-between gap-2 p-3",children:[a.jsxs("button",{type:"button",onClick:()=>sn(Te.id),className:"flex-1 text-left",children:[a.jsx("div",{className:"text-sm font-black text-txt-main",children:Te.name}),a.jsx("div",{className:"text-xs text-txt-muted",children:S?`R$ ${Number(((wt=ar.get(Te.id))==null?void 0:wt.price)||0).toFixed(2)}`:"Selecione um deposito"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"w-4 h-4 rounded-full border border-bdr",style:{backgroundColor:Te.color||"#f97316"}}),a.jsx("button",{type:"button",onClick:()=>pn(Te.id),className:"p-1 rounded hover:bg-red-500/10 text-txt-muted hover:text-red-500","aria-label":`Excluir zona ${Te.name}`,children:a.jsx(oa,{className:"w-4 h-4"})})]})]})},Te.id)})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-surface border border-bdr rounded-2xl p-4 shadow-sm space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Gm,{className:"w-4 h-4 text-orange-500"}),a.jsx("h4",{className:"text-sm font-black text-txt-main uppercase",children:"Detalhes da zona"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("label",{className:"text-xs font-bold text-txt-muted uppercase",children:"Nome"}),a.jsx("input",{value:q.name||"",onChange:Te=>ne({...q,name:Te.target.value}),className:"h-9 px-3 rounded-lg border border-bdr bg-app text-txt-main font-bold text-sm",placeholder:"Zona 1"})]}),a.jsxs("div",{className:"flex items-end gap-3",children:[a.jsxs("div",{className:"flex flex-col gap-1 flex-1",children:[a.jsx("label",{className:"text-xs font-bold text-txt-muted uppercase",children:"Cor (hex)"}),a.jsx("input",{value:q.color||"",onChange:Te=>ne({...q,color:Te.target.value}),className:"h-9 px-3 rounded-lg border border-bdr bg-app text-txt-main font-bold text-sm",placeholder:"#f97316"})]}),a.jsx("input",{type:"color",value:q.color||"#f97316",onChange:Te=>ne({...q,color:Te.target.value}),className:"h-9 w-12 border border-bdr rounded-lg bg-app"})]}),H&&a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("label",{className:"text-xs font-bold text-txt-muted uppercase",children:"Taxa de Entrega (R$)"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xs text-txt-muted font-bold",children:"R$"}),a.jsx("input",{type:"text",inputMode:"decimal",value:W,onChange:Te=>ie(Te.target.value),className:"flex-1 h-9 px-3 rounded-lg border border-bdr bg-app text-txt-main font-bold text-sm",placeholder:"0,00"})]}),a.jsx("div",{className:"text-[10px] text-txt-muted",children:'Taxa padro para entregas nesta zona. Pode editar depois em "Precificao".'})]}),a.jsx("button",{onClick:wn,disabled:ee,className:"w-full py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg text-xs font-black uppercase tracking-widest disabled:opacity-50",children:ee?"Salvando...":q.id?"Salvar zona":"Criar zona"}),a.jsx("div",{className:"text-[11px] text-txt-muted",children:"Salva nome, taxa, cor e area desenhada no mapa."})]})]}),a.jsxs("div",{className:"bg-surface border border-bdr rounded-2xl p-4 shadow-sm space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h4",{className:"text-sm font-black text-txt-main uppercase",children:"Setores da zona"}),bt&&a.jsxs("span",{className:"text-xs text-txt-muted",children:["Zona: ",bt.name]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{value:te,onChange:Te=>G(Te.target.value),placeholder:"Adicionar bairro",className:"flex-1 h-9 px-3 rounded-lg border border-bdr bg-app text-txt-main text-sm"}),a.jsx("button",{onClick:Ft,disabled:!O,className:"h-9 px-3 bg-orange-500 hover:bg-orange-600 text-white rounded-lg text-xs font-black uppercase tracking-widest disabled:opacity-50",children:a.jsx(po,{className:"w-4 h-4"})})]}),a.jsx("div",{className:"space-y-2",children:Jt.length===0?a.jsx("div",{className:"text-xs text-txt-muted italic",children:"Nenhum setor vinculado."}):Jt.map(Te=>a.jsxs("div",{className:"flex items-center justify-between gap-2 bg-app border border-bdr rounded-lg px-3 py-2",children:[a.jsx("span",{className:"text-sm font-bold text-txt-main",children:Te.name}),a.jsxs("div",{className:"flex items-center gap-2",children:[Wt.length>0&&a.jsxs("select",{value:"",onChange:wt=>Fn(Te.id,wt.target.value),className:"h-7 px-2 rounded border border-bdr bg-surface text-xs text-txt-muted",children:[a.jsx("option",{value:"",children:"Mover..."}),Wt.map(wt=>a.jsx("option",{value:wt.id,children:wt.name},wt.id))]}),a.jsx("button",{onClick:()=>Ms(Te.id),className:"p-1 rounded hover:bg-red-500/10 text-txt-muted hover:text-red-500",children:a.jsx(oa,{className:"w-4 h-4"})})]})]},Te.id))})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[1fr_320px] gap-6",children:[a.jsxs("div",{className:"bg-surface border border-bdr rounded-2xl p-4 shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(fv,{className:"w-4 h-4 text-emerald-500"}),a.jsx("h4",{className:"text-sm font-black text-txt-main uppercase",children:"Mapa (visual)"})]}),bt&&a.jsxs("div",{className:"flex items-center gap-2 text-xs text-txt-muted",children:[a.jsx("span",{className:"w-3 h-3 rounded-full border border-bdr",style:{backgroundColor:bt.color||"#f97316"}}),bt.name]})]}),a.jsxs("div",{className:"mb-3 rounded-lg border border-bdr bg-app px-3 py-2 text-xs text-txt-muted",children:[a.jsx("div",{className:"font-black text-txt-main",children:"Como usar a marcacao"}),a.jsx("div",{children:'1) Selecione uma zona ou clique "Nova zona".'}),a.jsx("div",{children:"2) Pesquise um bairro/rua para gerar a area automaticamente (quando disponivel)."}),a.jsx("div",{children:"3) Ajuste o alcance se quiser buscar outra cidade."}),a.jsx("div",{children:"4) Ajuste/desenhe no mapa (ferramentas a direita)."}),a.jsx("div",{children:'5) Clique "Salvar zona" para gravar area, taxa e cor.'}),a.jsx("div",{children:"Dica: use o lapis para editar e a lixeira para apagar."}),a.jsx("div",{children:"Dica: clique em uma zona no mapa para selecionar."}),ut.length>0&&a.jsxs("div",{className:"mt-1 text-[11px] font-semibold text-red-500",children:["Aviso: area atual invade ",ut.length>1?"zonas":"zona"," ",ut.join(", "),". Ajuste antes de salvar."]}),a.jsxs("div",{className:"mt-1 text-txt-main",children:["Zona ativa: ",Nr,"  Preco deposito: ",Ke,"  Area: ",Ue]})]}),a.jsxs("div",{className:"flex flex-col gap-2 mb-3",children:[a.jsx("label",{className:"text-xs font-bold text-txt-muted uppercase",children:"Pesquisar Bairro/Rua"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{value:Ne,onChange:Te=>{M(Te.target.value),X&&Ae(null),xe&&Be(null)},onKeyDown:Te=>{Te.key==="Enter"&&or()},className:"flex-1 h-9 px-3 rounded-lg border border-bdr bg-app text-txt-main text-sm",placeholder:"Ex: Bairro Popular"}),a.jsx("button",{onClick:or,disabled:!Ne.trim()||ke,className:"h-9 px-4 bg-emerald-500 hover:bg-emerald-600 text-white rounded-lg text-xs font-black uppercase tracking-widest disabled:opacity-50",children:ke?"Buscando...":"Buscar"})]}),a.jsx("label",{className:"text-xs font-bold text-txt-muted uppercase",children:"Alcance (cidade/UF)"}),a.jsx("input",{value:T,onChange:Te=>$(Te.target.value),className:"h-9 px-3 rounded-lg border border-bdr bg-app text-txt-main text-sm",placeholder:_h}),a.jsxs("div",{className:"text-[11px] text-txt-muted",children:["Padrao: ",_h,". Para estender, edite o alcance."]}),X&&a.jsx("div",{className:"text-xs text-red-500",children:X}),xe&&a.jsx("div",{className:"text-xs text-amber-500",children:xe})]}),a.jsxs("div",{className:"relative",children:[a.jsxs(yv,{center:[Jp.lat,Jp.lng],zoom:12,className:"w-full h-[360px] md:h-[480px] lg:h-[560px] xl:h-[640px] rounded-xl overflow-hidden border border-bdr",children:[a.jsx(_v,{attribution:" OSM contributors",url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),a.jsx(SH,{mapRef:Ve}),a.jsx(EH,{}),ot.length>0&&a.jsx(qB,{name:"other-zones",style:{zIndex:300},children:ot.map(Te=>a.jsx(wv,{positions:Te.polygon,pathOptions:{color:Te.color,fillColor:Te.color,fillOpacity:.12,weight:1,dashArray:"4 6",className:"cursor-pointer"},eventHandlers:{click:()=>sn(Te.id)},children:a.jsx(Bv,{sticky:!0,children:Te.name})},Te.id))}),ft&&st&&a.jsx(HB,{ref:gt,children:a.jsx(st,{position:"topright",onCreated:qr,onEdited:dn,onDeleted:It,draw:{polygon:{shapeOptions:tr},rectangle:{shapeOptions:tr},polyline:!1,circle:!1,circlemarker:!1,marker:!1},edit:{edit:{selectedPathOptions:tr},remove:{}}})}),a.jsx(CH,{enabled:Lt,points:Xt})]}),a.jsx("button",{onClick:()=>fe(Te=>!Te),className:"absolute top-3 right-3 px-3 py-1.5 bg-white/90 border border-bdr rounded-lg text-[11px] font-black uppercase tracking-widest text-txt-main shadow-sm",children:Lt?"Ocultar Mapa de Calor":"Ver Mapa de Calor"})]})]}),_n]})]})]}):a.jsx("div",{className:"max-w-[820px]",children:_n})]})})]})},LH=({onClose:t})=>{const[e,r]=F.useState([]),[n,i]=F.useState([]),[l,d]=F.useState(!0),[u,h]=F.useState(null),[m,g]=F.useState("PENDENTE");F.useEffect(()=>{let C=!0;const O=async()=>{const[H,re]=await Promise.all([EM(),SM()]);C&&(r(H),i(re),d(!1))};O();const D=setInterval(O,3e3);return()=>{C=!1,clearInterval(D)}},[]);const b=e.filter(C=>m==="PENDENTE"?C.status==="PENDENTE_ENTREGA"||C.status==="DEVOLVIDA":m==="EM_ROTA"?C.status==="EM_ROTA":m==="FINALIZADO"?C.status==="CONCLUIDA"||C.status==="CANCELADA":!0).sort((C,O)=>(C.assignedAt||0)-(O.assignedAt||0)),B=n.filter(C=>C.status==="DISPONIVEL"&&Date.now()-C.lastSeenAt<45e3),w=async(C,O)=>{confirm("Iniciar entrega com este entregador?")&&(await jM(C),h(null))},S=async C=>{confirm("Confirmar entrega realizada?")&&(await LM(C),h(null))},U=async(C,O)=>{confirm("Confirmar devoluo da entrega?")&&(await UM(C),h(null))},k=async C=>{confirm("Cancelar esta entrega? Esta ao no pode ser desfeita.")&&(await IM(C),h(null))};return a.jsxs("div",{className:"fixed inset-0 bg-app z-50 flex flex-col animate-in slide-in-from-bottom-4 duration-300",children:[a.jsxs("div",{className:"bg-surface border-b border-bdr px-6 py-4 flex justify-between items-center shadow-sm shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"bg-indigo-500/10 p-2.5 rounded-xl border border-indigo-500/20",children:a.jsx(Po,{className:"w-6 h-6 text-indigo-600"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-black text-txt-main tracking-tight",children:"Despacho de Entregas"}),a.jsx("p",{className:"text-xs text-txt-muted font-bold uppercase tracking-widest",children:"Controle de Frota em Tempo Real"})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"text-xs font-mono text-txt-muted flex items-center gap-2 bg-app px-3 py-1 rounded-lg border border-bdr",children:[l?a.jsx(Yh,{className:"w-3 h-3 text-amber-500 animate-spin"}):a.jsx(Km,{className:"w-3 h-3 text-green-500 animate-pulse"}),l?"Sincronizando...":"Ao Vivo"]}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-red-500/10 text-txt-muted hover:text-red-500 rounded-full transition-colors",children:a.jsx(Vn,{className:"w-6 h-6"})})]})]}),a.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[a.jsxs("div",{className:"flex-1 flex flex-col border-r border-bdr bg-app/50",children:[a.jsx("div",{className:"p-4 flex gap-2 border-b border-bdr bg-surface",children:["PENDENTE","EM_ROTA","FINALIZADO"].map(C=>a.jsx("button",{onClick:()=>{g(C),h(null)},className:`flex-1 py-2 text-xs font-black uppercase rounded-lg border transition-all ${m===C?"bg-indigo-500 text-white border-indigo-600":"bg-app text-txt-muted border-bdr hover:bg-white"}`,children:C==="PENDENTE"?"PENDENTE":C==="EM_ROTA"?"EM ROTA":"FINALIZADO"},C))}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:[b.length===0&&a.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-txt-muted opacity-50",children:[a.jsx(Po,{className:"w-12 h-12 mb-2"}),a.jsx("p",{className:"font-bold text-sm",children:"Nenhuma entrega nesta fila"})]}),b.map(C=>a.jsxs("div",{onClick:()=>h(C.id),className:`bg-surface p-4 rounded-xl border-2 transition-all cursor-pointer relative group ${u===C.id?"border-indigo-500 ring-2 ring-indigo-500/20 shadow-md":"border-bdr hover:border-indigo-300"}`,children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsxs("span",{className:"font-black text-sm text-txt-main",children:["#",C.osId.slice(0,8),"..."]}),a.jsx("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded uppercase ${C.status==="PENDENTE_ENTREGA"?"bg-amber-100 text-amber-700":C.status==="EM_ROTA"?"bg-blue-100 text-blue-700":C.status==="DEVOLVIDA"?"bg-red-100 text-red-700":C.status==="CONCLUIDA"?"bg-green-100 text-green-700":C.status==="CANCELADA"?"bg-gray-100 text-gray-700":"bg-purple-100 text-purple-700"}`,children:C.status==="PENDENTE_ENTREGA"?"PENDENTE":C.status.replace("_"," ")})]}),a.jsx("h3",{className:"font-bold text-base text-txt-main leading-tight mb-1",children:C.customerName}),a.jsxs("p",{className:"text-xs text-txt-muted flex items-center gap-1",children:[a.jsx(HA,{className:"w-3 h-3"})," ",C.address.full]}),a.jsxs("div",{className:"mt-3 flex justify-between items-end border-t border-bdr pt-2",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] text-txt-muted uppercase font-bold",children:"Itens"}),a.jsx("p",{className:"text-xs font-medium max-w-[150px] truncate",children:C.itemsSummary})]}),a.jsx("div",{className:"text-right",children:a.jsxs("p",{className:"text-lg font-black text-emerald-600",children:["R$ ",C.totalValue.toFixed(2)]})})]}),C.refusalReason&&a.jsxs("div",{className:"mt-2 bg-red-50 text-red-600 text-[10px] font-bold p-2 rounded border border-red-100",children:["Recusada: ",C.refusalReason]})]},C.id))]})]}),a.jsxs("div",{className:"w-96 bg-surface flex flex-col",children:[a.jsxs("div",{className:"p-4 border-b border-bdr bg-indigo-50/50",children:[a.jsx("h3",{className:"font-black text-sm text-indigo-900 uppercase tracking-widest mb-1",children:"Aes de Entrega"}),a.jsx("p",{className:"text-xs text-indigo-700",children:"Selecione uma entrega  esquerda para gerenciar."})]}),u&&(()=>{const C=e.find(O=>O.id===u);return C?a.jsxs("div",{className:"p-4 space-y-4",children:[a.jsxs("div",{className:"bg-app p-4 rounded-xl border border-bdr",children:[a.jsx("h4",{className:"font-bold text-txt-main mb-2",children:C.customerName}),a.jsx("p",{className:"text-xs text-txt-muted mb-2",children:C.address.full}),a.jsxs("p",{className:"text-lg font-black text-emerald-600",children:["R$ ",C.totalValue.toFixed(2)]})]}),C.status==="PENDENTE_ENTREGA"&&a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-xs font-bold text-txt-muted uppercase",children:"Selecione um entregador:"}),a.jsxs("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:[B.map(O=>a.jsxs("button",{onClick:()=>w(u,O.driverId),className:"w-full flex items-center justify-between p-3 rounded-lg border border-bdr bg-app hover:bg-emerald-50 hover:border-emerald-200 transition-colors",children:[a.jsx("span",{className:"font-bold text-sm",children:O.driverName}),a.jsxs("span",{className:"flex items-center gap-1 text-emerald-600 text-xs font-bold",children:["Iniciar Rota ",a.jsx(kw,{className:"w-3 h-3"})]})]},O.driverId)),B.length===0&&a.jsx("p",{className:"text-xs text-txt-muted text-center py-4",children:"Nenhum entregador disponvel"})]}),a.jsxs("button",{onClick:()=>k(u),className:"w-full py-2 bg-red-50 text-red-600 border border-red-200 rounded-lg text-xs font-bold hover:bg-red-100 transition-colors flex items-center justify-center gap-2",children:[a.jsx(M0,{className:"w-4 h-4"})," Cancelar Entrega"]})]}),C.status==="EM_ROTA"&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("p",{className:"text-xs font-bold text-txt-muted uppercase mb-2",children:["Entregador: ",C.driverName||"No atribudo"]}),a.jsxs("button",{onClick:()=>S(u),className:"w-full py-3 bg-emerald-500 text-white rounded-lg text-sm font-bold hover:bg-emerald-600 transition-colors flex items-center justify-center gap-2",children:[a.jsx(FS,{className:"w-5 h-5"})," Confirmar Entrega"]}),a.jsxs("button",{onClick:()=>{prompt("Motivo da devoluo:")&&U(u)},className:"w-full py-2 bg-orange-50 text-orange-600 border border-orange-200 rounded-lg text-xs font-bold hover:bg-orange-100 transition-colors flex items-center justify-center gap-2",children:[a.jsx(cj,{className:"w-4 h-4"})," Devolver (Falha na Entrega)"]}),a.jsxs("button",{onClick:()=>k(u),className:"w-full py-2 bg-red-50 text-red-600 border border-red-200 rounded-lg text-xs font-bold hover:bg-red-100 transition-colors flex items-center justify-center gap-2",children:[a.jsx(M0,{className:"w-4 h-4"})," Cancelar"]})]}),C.status==="DEVOLVIDA"&&a.jsxs("div",{className:"space-y-3",children:[C.refusalReason&&a.jsxs("div",{className:"bg-red-50 text-red-600 text-xs font-bold p-3 rounded-lg border border-red-100",children:["Motivo: ",C.refusalReason]}),a.jsx("p",{className:"text-xs font-bold text-txt-muted uppercase",children:"Reenviar para entrega:"}),a.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:B.map(O=>a.jsxs("button",{onClick:()=>w(u,O.driverId),className:"w-full flex items-center justify-between p-3 rounded-lg border border-bdr bg-app hover:bg-emerald-50 hover:border-emerald-200 transition-colors",children:[a.jsx("span",{className:"font-bold text-sm",children:O.driverName}),a.jsxs("span",{className:"flex items-center gap-1 text-emerald-600 text-xs font-bold",children:["Reenviar ",a.jsx(kw,{className:"w-3 h-3"})]})]},O.driverId))}),a.jsxs("button",{onClick:()=>k(u),className:"w-full py-2 bg-red-50 text-red-600 border border-red-200 rounded-lg text-xs font-bold hover:bg-red-100 transition-colors flex items-center justify-center gap-2",children:[a.jsx(M0,{className:"w-4 h-4"})," Cancelar Definitivamente"]})]}),(C.status==="CONCLUIDA"||C.status==="CANCELADA")&&a.jsxs("div",{className:"text-center py-8 text-txt-muted",children:[a.jsx(oA,{className:"w-12 h-12 mx-auto mb-2 opacity-30"}),a.jsx("p",{className:"text-sm font-bold",children:"Esta entrega j foi finalizada"})]})]}):null})(),!u&&a.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-txt-muted p-8",children:[a.jsx(Po,{className:"w-16 h-16 mb-4 opacity-20"}),a.jsx("p",{className:"text-sm font-bold text-center",children:"Selecione uma entrega na lista para ver as opes"})]}),a.jsxs("div",{className:"mt-auto border-t border-bdr p-4 bg-app",children:[a.jsx("p",{className:"text-xs font-bold text-txt-muted uppercase mb-2",children:"Entregadores Online"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.filter(C=>Date.now()-C.lastSeenAt<45e3).map(C=>a.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-bold ${C.status==="DISPONIVEL"?"bg-emerald-100 text-emerald-700":"bg-blue-100 text-blue-700"}`,children:C.driverName},C.driverId)),n.filter(C=>Date.now()-C.lastSeenAt<45e3).length===0&&a.jsx("span",{className:"text-xs text-txt-muted",children:"Nenhum online"})]})]})]})]})]})},tm={nome:"",endereco:"",numero:"",cor:"#6366f1",ativo:!0,require_stock_audit:!1},Nh={codigo:"",nome:"",tipo:"OUTROS",movement_type:"SIMPLE",return_product_id:null,preco_venda:0,preco_custo:0,preco_troca:null,preco_completa:null,track_stock:!0,ativo:!0},vB=[{value:"GAS_CHEIO",label:"Gs Cheio",icon:""},{value:"VASILHAME_VAZIO",label:"Vasilhame Vazio",icon:""},{value:"AGUA",label:"gua",icon:""},{value:"OUTROS",label:"Outros",icon:""}],yB=[{value:"SIMPLE",label:"Simples",desc:"Venda normal sem retorno de vasilhame",icon:TB},{value:"EXCHANGE",label:"Troca",desc:"Cliente devolve vazio e leva cheio",icon:lj},{value:"FULL",label:"Completa",desc:"Vende produto + casco (cliente novo)",icon:fo}],UH=["#6366f1","#8b5cf6","#ec4899","#ef4444","#f97316","#eab308","#22c55e","#14b8a6","#3b82f6","#64748b"],IH=({onClose:t,currentUser:e})=>{var On,As;const[r,n]=F.useState("cadastro"),[i,l]=F.useState(tm),[d,u]=F.useState(!1),[h,m]=F.useState(!1),[g,b]=F.useState(""),[B,w]=F.useState(Nh),[S,U]=F.useState(!1),[k,C]=F.useState(!1),[O,D]=F.useState(""),[H,re]=F.useState(!1),[q,ne]=F.useState(null),[te,G]=F.useState({}),[de,K]=F.useState(new Set),[W,ie]=F.useState(!1),[z,he]=F.useState(0),[V,me]=F.useState({originId:"",destId:"",productId:"",quantidade:1}),[ee,Ce]=F.useState(!1),[Ne,M]=F.useState({depositId:"",counts:{}}),[T,$]=F.useState(!1),[X,Ae]=F.useState(0),[xe,Be]=F.useState(null),[ke,ge]=F.useState([]),[je,Qe]=F.useState(""),[Re,lt]=F.useState(null),[Lt,fe]=F.useState(!1),[ft,St]=F.useState(!1),[st,ue]=F.useState(null),Ze=Xa(()=>Xr.deposits.toArray())??[],Ve=F.useMemo(()=>Ze.filter(le=>le.ativo!==!1),[Ze]),gt=Xa(()=>Xr.employees.toArray())??[];F.useEffect(()=>{let le=!0;return zi.getAll().then(Me=>{if(!le)return;const $e=Me.map(At=>({id:At.id,nome:At.name,cargo:At.role,depositoId:At.deposit_id,ativo:At.active,username:At.username,password:At.password,permissoes:At.permissions||[]}));ge($e)}).catch(Me=>{console.error("Erro ao carregar colaboradores do Supabase",Me),jr.error("Erro ao carregar colaboradores (online)")}),()=>{le=!1}},[]);const[bt,nr]=Ht.useState([]),[Jt,Wt]=Ht.useState([]),yr=Xa(()=>Xr.service_orders.toArray())??[],sr=Xa(()=>Xr.stock_balance.toArray(),[X])??[],Dt=Xa(()=>{var le;return((le=Xr.product_pricing)==null?void 0:le.toArray())??[]},[z])??[],er=(e==null?void 0:e.cargo)==="GERENTE",Zt=ke.length>0?ke:gt,Hr=F.useMemo(()=>{if(!g)return Ze;const le=g.toLowerCase();return Ze.filter(Me=>{var $e,At;return(($e=Me.nome)==null?void 0:$e.toLowerCase().includes(le))||((At=Me.endereco)==null?void 0:At.toLowerCase().includes(le))})},[Ze,g]),cr=F.useMemo(()=>{if(!O)return Jt;const le=O.toLowerCase();return Jt.filter(Me=>{var $e,At;return(($e=Me.nome)==null?void 0:$e.toLowerCase().includes(le))||((At=Me.codigo)==null?void 0:At.toLowerCase().includes(le))})},[Jt,O]),Yt=F.useMemo(()=>{const le=Jt.filter(Me=>{const $e=Me.tipo||Me.type||"";return($e==="VASILHAME_VAZIO"||$e==="EMPTY_CONTAINER")&&Me.ativo!==!1});return console.log("[emptyProducts] Produtos vazios encontrados:",le.length,le.map(Me=>({id:Me.id,nome:Me.nome,tipo:Me.tipo}))),le},[Jt]),Xt=F.useMemo(()=>{const le={};return sr.forEach(Me=>{const $e=Me.deposit_id,At=Me.product_id;le[$e]||(le[$e]={}),le[$e][At]=Number(Me.quantidade_atual??0)}),le},[sr]),ar=F.useMemo(()=>{var le;return Ne.depositId?Ne.depositId:((le=Ve[0])==null?void 0:le.id)??null},[Ne.depositId,Ve]),Vt=F.useCallback(le=>{const Me=String(le.movement_type??le.movementType??"").toUpperCase();return Me==="EXCHANGE"?"TROCA":Me==="FULL"?"COMPLETA":"SIMPLES"},[]);F.useCallback(le=>uo({productId:le.id,depositId:ar,mode:Vt(le),rows:Dt}),[ar,Dt,Vt]),F.useCallback((le,Me)=>uo({productId:le.id,depositId:ar,mode:Me,rows:Dt}),[ar,Dt]);const Nr=F.useCallback(le=>{if(le===""||le===null||le===void 0)return 0;const Me=Number(le);return Number.isFinite(Me)?Me:0},[]),Pt=F.useCallback(le=>({simple:"",troca:"",completa:""}),[]),tr=F.useCallback(le=>B.movement_type==="EXCHANGE"?le.troca:B.movement_type==="FULL"?le.completa:le.simple,[B.movement_type]),Ue=F.useCallback(le=>{const Me=String(le??"").toUpperCase();return Me==="TROCA"||Me==="EXCHANGE"?"TROCA":Me==="COMPLETA"||Me==="FULL"?"COMPLETA":"SIMPLES"},[]),Ke=F.useCallback((le,Me)=>{const $e=Pt(Me),At=new Set,jt={};Ve.forEach(Mt=>{const Z=(le==null?void 0:le.filter(zt=>zt.deposit_id===Mt.id))??[],Je=Z.find(zt=>Ue(zt.mode)==="SIMPLES"),mt=Z.find(zt=>Ue(zt.mode)==="TROCA"),nt=Z.find(zt=>Ue(zt.mode)==="COMPLETA"),Ot=Z.find(zt=>{const In=zt.mode;return In==null||String(In).trim()===""}),_t=Ot?Nr(Ot.price??Ot.sale_price??0):null,Gt=Ot?Nr(Ot.exchange_price??0):null,gr=Ot?Nr(Ot.full_price??0):null;(Je||_t!==null&&_t>0)&&At.add(`${Mt.id}::SIMPLES`),(mt||Gt!==null&&Gt>0)&&At.add(`${Mt.id}::TROCA`),(nt||gr!==null&&gr>0)&&At.add(`${Mt.id}::COMPLETA`),jt[Mt.id]={simple:Je?Nr(Je.price??0):_t!==null?_t:$e.simple,troca:mt?Nr(mt.price??0):Gt!==null?Gt:$e.troca,completa:nt?Nr(nt.price??0):gr!==null?gr:$e.completa}}),K(At),G(jt)},[Ve,Pt,Nr,Ue]),ot=F.useCallback(async(le,Me)=>{ie(!0);try{const $e=await Ii.listPricingByProduct(le);Ke($e,Me)}catch($e){console.error("Erro ao carregar precificao por depsito",$e),jr.error("No foi possvel carregar preos por depsito"),Ke(void 0,Me)}finally{ie(!1)}},[Ke]),ut=F.useCallback(async le=>{try{let Me=[];le?Me=await Ii.getByDeposit(le,{includeInactive:H}):Me=await Ii.getAll({includeInactive:H}),Wt(Me.map(At=>({...At,nome:At.name??At.nome??"",ativo:At.is_active??At.ativo??!0,preco_venda:uo({productId:At.id,depositId:At.deposit_id,mode:"SIMPLES",rows:Dt}),preco_troca:uo({productId:At.id,depositId:At.deposit_id,mode:"TROCA",rows:Dt}),preco_completa:uo({productId:At.id,depositId:At.deposit_id,mode:"COMPLETA",rows:Dt})})));const $e=await Ii.getStockTracked();nr($e.map(At=>({...At,nome:At.name??At.nome??"",ativo:At.is_active??At.ativo??!0,preco_venda:uo({productId:At.id,depositId:At.deposit_id,mode:"SIMPLES",rows:Dt}),preco_troca:uo({productId:At.id,depositId:At.deposit_id,mode:"TROCA",rows:Dt}),preco_completa:uo({productId:At.id,depositId:At.deposit_id,mode:"COMPLETA",rows:Dt})})))}catch(Me){console.error("Erro ao carregar produtos do servio:",Me),jr.error("Erro ao carregar produtos (online)")}},[H]);F.useEffect(()=>{ut()},[X,ut]);const rr=F.useCallback(async le=>{try{await Ii.update(le,{is_active:!0}),jr.success("Produto reativado com sucesso!"),await ut()}catch(Me){console.error("Erro ao reativar produto:",Me),jr.error("No foi possvel reativar o produto")}},[ut]),or=F.useCallback((le,Me,$e)=>{G(At=>{const jt=At[le]||Pt(),Mt=$e===""?"":Nr($e.replace(",","."));return{...At,[le]:{...jt,[Me]:Mt}}})},[Pt,Nr]),qr=F.useCallback(async(le,Me)=>{const $e=async(jt,Mt,Z)=>{const Je=Nr(Z),mt=`${jt}::${Mt}`;if(!Je||Number.isNaN(Je)){de.has(mt)&&await Ii.removePricing(le,jt,Mt);return}await Ii.setPricing(le,jt,Mt,{price:Je})},At=Ve.map(async jt=>{const Mt=te[jt.id];return Mt?Me==="EXCHANGE"?(await $e(jt.id,"TROCA",Mt.troca),await $e(jt.id,"COMPLETA",Mt.completa),!0):Me==="FULL"?(await $e(jt.id,"COMPLETA",Mt.completa),!0):(await $e(jt.id,"SIMPLES",Mt.simple),!0):null});await Promise.all(At),he(jt=>jt+1)},[Ve,de,Nr,te]);F.useEffect(()=>{},[S,B.movement_type]),F.useEffect(()=>{S&&Ve.length&&(Object.keys(te).length>0||Ke(void 0,B))},[Ve,Ke,S,te,B]);const dn=()=>{l(tm),u(!0)},It=le=>{l({id:le.id,nome:le.nome||"",endereco:le.endereco||"",numero:le.numero||"",cor:le.cor||"#6366f1",ativo:le.ativo??!0,require_stock_audit:le.require_stock_audit??!1}),u(!0)},An=()=>{l(tm),u(!1)},wn=async()=>{var le,Me;if(!i.nome.trim()){alert("O nome do depsito  obrigatrio!");return}m(!0);try{const $e={id:i.id||crypto.randomUUID(),nome:i.nome.trim(),endereco:((le=i.endereco)==null?void 0:le.trim())||void 0,cor:i.cor||"#6366f1",ativo:i.ativo,require_stock_audit:i.require_stock_audit};(Me=i.numero)!=null&&Me.trim()&&($e.endereco=$e.endereco?`${$e.endereco}, ${i.numero.trim()}`:i.numero.trim()),await AE($e),l(tm),u(!1)}catch($e){console.error("Erro ao salvar depsito:",$e),alert("Erro ao salvar depsito. Tente novamente.")}finally{m(!1)}},pn=async le=>{const Me=gt.filter(Mt=>Mt.depositoId===le.id),$e=Xt[le.id]||{},At=Object.values($e).some(Mt=>Mt>0),jt=yr.filter(Mt=>Mt.depositoId===le.id&&(Mt.status==="PENDENTE"||Mt.statusEntrega==="PENDENTE_ENTREGA"||Mt.statusEntrega==="EM_ROTA"));Be({deposit:le,hasEmployees:Me.length>0,hasStock:At,hasPendingOS:jt.length>0,employees:Me}),Qe(""),lt(null)},sn=async()=>{var Mt;if(!xe)return;const{deposit:le,hasEmployees:Me,hasStock:$e,hasPendingOS:At,employees:jt}=xe;if(At){alert("No  possvel excluir: existem O.S. pendentes neste depsito.");return}if(Me&&!je){alert("Selecione um depsito para migrar os colaboradores ou cancele.");return}if($e&&!Re){alert("Selecione o que fazer com o estoque.");return}m(!0);try{if(Me&&je)for(const Z of jt)await Xr.employees.update(Z.id,{depositoId:je});if($e&&Re==="migrate"&&je){const Z=sr.filter(Je=>Je.deposit_id===le.id);for(const Je of Z)Je.quantidade_atual>0&&await vh({id:crypto.randomUUID(),dataHora:new Date().toISOString(),depositoId:je,produtoId:Je.product_id,produtoNome:((Mt=bt.find(mt=>mt.id===Je.product_id))==null?void 0:Mt.nome)||"Produto",tipo:"ENTRADA",quantidade:Je.quantidade_atual,origem:"TRANSFERENCIA",usuarioId:(e==null?void 0:e.id)||td,usuarioNome:(e==null?void 0:e.nome)||"Sistema",motivo:`Migrao de estoque do depsito ${le.nome} (excludo)`});await Xr.stock_balance.where("deposit_id").equals(le.id).delete(),Ae(Je=>Je+1)}else $e&&Re==="ignore"&&(await Xr.stock_balance.where("deposit_id").equals(le.id).delete(),Ae(Z=>Z+1));await uM(le.id),Be(null)}catch(Z){console.error("Erro ao excluir depsito:",Z),alert("Erro ao excluir depsito. Tente novamente.")}finally{m(!1)}},Pr=()=>{w(Nh),U(!0),K(new Set),Ke(void 0,Nh)},Ft=le=>{const Me={id:le.id,codigo:le.codigo||le.code||"",nome:le.nome??le.name??"",tipo:le.tipo||le.type||"OUTROS",movement_type:le.movement_type||le.movementType||"SIMPLE",return_product_id:le.return_product_id??le.returnProductId??null,preco_venda:Number(le.preco_venda??le.sale_price??0)||0,preco_custo:Number(le.preco_custo??le.cost_price??0)||0,preco_troca:le.preco_troca!=null?Number(le.preco_troca):le.exchange_price!=null?Number(le.exchange_price):null,preco_completa:le.preco_completa!=null?Number(le.preco_completa):le.full_price!=null?Number(le.full_price):null,track_stock:le.track_stock??le.trackStock??!0,ativo:le.ativo??le.is_active??!0};w(Me),U(!0),ot(le.id,Me)},Fn=()=>{w(Nh),U(!1),G({}),K(new Set)},Ms=async()=>{if(!B.nome.trim()){alert("O nome do produto  obrigatrio!");return}if(B.movement_type==="EXCHANGE"&&!B.return_product_id){alert("Para movimento tipo TROCA,  obrigatrio vincular um vasilhame vazio!");return}C(!0);try{const le=Nr(B.preco_venda),Me=Nr(B.preco_custo);console.log("[handleSaveProduct] Salvando produto:",{id:B.id,nome:B.nome,movement_type:B.movement_type,return_product_id:B.return_product_id,baseSalePrice:le});const $e={id:B.id||crypto.randomUUID(),codigo:B.codigo.trim()||null,nome:B.nome.trim(),tipo:B.tipo,movement_type:B.movement_type,return_product_id:B.movement_type==="EXCHANGE"?B.return_product_id:null,preco_venda:le,preco_custo:Me,preco_padrao:le,track_stock:B.track_stock,ativo:B.ativo,descricao:null,unidade:"un",product_group:null,imagem_url:null,deposit_id:null,marcacao:Me>0?(le-Me)/Me*100:0,tracks_empties:B.tipo==="GAS_CHEIO"||B.movement_type==="EXCHANGE",created_at:B.id?void 0:new Date().toISOString(),updated_at:new Date().toISOString()};let At=null;const jt={...$e};if(delete jt.preco_venda,delete jt.preco_troca,delete jt.preco_completa,delete jt.preco_padrao,delete jt.default_price,delete jt.base_price,delete jt.sale_price,delete jt.exchange_price,delete jt.full_price,console.log("[handleSaveProduct] Enviando produto online",$e.id?"update":"create",$e.nome),B.id?At=await Ii.update($e.id,jt):At=await Ii.create(jt),B.track_stock!==!1&&await qr(At.id,At.movement_type),!B.id&&B.tipo==="GAS_CHEIO"&&B.movement_type==="EXCHANGE"&&!B.return_product_id){const Mt={nome:`Vasilhame ${B.nome.trim()} (Vazio)`,codigo:`${$e.codigo||""}_VAZIO`,tipo:"VASILHAME_VAZIO",movement_type:"SIMPLE",preco_custo:0,track_stock:!0,ativo:!0},Z=await Ii.create(Mt);await Ii.update(At.id,{return_product_id:Z.id})}await ut(),w(Nh),U(!1),G({}),K(new Set),jr.success("Produto salvo com sucesso!")}catch(le){console.error("Erro ao salvar produto:",le),jr.error("Erro ao salvar produto. Tente novamente.")}finally{C(!1)}};async function _n(){var Me,$e,At,jt;const le=q==null?void 0:q.id;if(le){C(!0);try{const{count:Mt,error:Z}=await supabase.from("stock_movements").select("id",{count:"exact",head:!0}).eq("product_id",le);if(Z)throw Z;if((Mt??0)>0){alert("Este produto no pode ser excludo: existem movimentaes de estoque vinculadas."),ne(null);return}await Xr.products.delete(le);const Je=await((Me=Xr.stock_balance)==null?void 0:Me.filter(nt=>nt.product_id===le).toArray())??[];for(const nt of Je)await(($e=Xr.stock_balance)==null?void 0:$e.delete(nt.id));const mt=await((At=Xr.product_pricing)==null?void 0:At.filter(nt=>nt.product_id===le||nt.productId===le).toArray())??[];for(const nt of mt)await((jt=Xr.product_pricing)==null?void 0:jt.delete(nt.id));ne(null),alert("Produto excludo com sucesso!")}catch(Mt){console.error("Erro ao excluir produto:",Mt),jr.error("Erro ao excluir produto. Tente novamente.")}finally{C(!1)}}}const tn=async()=>{var Mt,Z,Je;const{originId:le,destId:Me,productId:$e,quantidade:At}=V;if(!le||!Me||!$e||At<=0){alert("Preencha todos os campos corretamente.");return}if(le===Me){alert("Origem e destino devem ser diferentes.");return}const jt=((Mt=Xt[le])==null?void 0:Mt[$e])??0;if(jt<At){alert(`Estoque insuficiente. Disponvel: ${jt}`);return}Ce(!0);try{const mt=bt.find(_t=>_t.id===$e),nt=(mt==null?void 0:mt.nome)||"Produto",Ot=new Date().toISOString();await vh({id:crypto.randomUUID(),dataHora:Ot,depositoId:le,produtoId:$e,produtoNome:nt,tipo:"SAIDA",quantidade:At,origem:"TRANSFERENCIA",usuarioId:(e==null?void 0:e.id)||td,usuarioNome:(e==null?void 0:e.nome)||"Sistema",motivo:`Transferncia para ${(Z=Ve.find(_t=>_t.id===Me))==null?void 0:Z.nome}`}),await vh({id:crypto.randomUUID(),dataHora:Ot,depositoId:Me,produtoId:$e,produtoNome:nt,tipo:"ENTRADA",quantidade:At,origem:"TRANSFERENCIA",usuarioId:(e==null?void 0:e.id)||td,usuarioNome:(e==null?void 0:e.nome)||"Sistema",motivo:`Transferncia de ${(Je=Ve.find(_t=>_t.id===le))==null?void 0:Je.nome}`}),me({originId:"",destId:"",productId:"",quantidade:1}),alert("Transferncia realizada com sucesso!"),Ae(_t=>_t+1)}catch(mt){console.error("Erro na transferncia:",mt),alert("Erro ao realizar transferncia.")}finally{Ce(!1)}},Te=(le,Me)=>{const $e=Me===""?"":parseInt(Me);M(At=>({...At,counts:{...At.counts,[le]:$e}}))},wt=async()=>{var Me;if(!Ne.depositId){alert("Selecione um depsito.");return}const le=Object.entries(Ne.counts).filter(([$e,At])=>At!==""&&At!==void 0);if(le.length===0){alert("Preencha a contagem de pelo menos um produto.");return}$(!0);try{let $e=0,At=0;for(const[Mt,Z]of le){if(Z===""||Z===void 0)continue;const Je=((Me=Xt[Ne.depositId])==null?void 0:Me[Mt])??0,mt=Number(Z),nt=mt-Je;if(nt===0)continue;const Ot=bt.find(Gt=>Gt.id===Mt);if(Je===0&&mt>0)await vh({id:crypto.randomUUID(),dataHora:new Date().toISOString(),depositoId:Ne.depositId,produtoId:Mt,produtoNome:(Ot==null?void 0:Ot.nome)||"Produto",tipo:"CARGA_INICIAL",quantidade:mt,origem:"TELA_CONTAGEM_MOVIMENTACAO",usuarioId:(e==null?void 0:e.id)||td,usuarioNome:(e==null?void 0:e.nome)||"Sistema",motivo:"Carga inicial de estoque",meta:{beforeQty:0,afterQty:mt,isInitialLoad:!0}}),$e++;else{const Gt=nt>0?"AJUSTE_POSITIVO":"AJUSTE_NEGATIVO";await vh({id:crypto.randomUUID(),dataHora:new Date().toISOString(),depositoId:Ne.depositId,produtoId:Mt,produtoNome:(Ot==null?void 0:Ot.nome)||"Produto",tipo:Gt,quantidade:Math.abs(nt),origem:"TELA_CONTAGEM_MOVIMENTACAO",usuarioId:(e==null?void 0:e.id)||td,usuarioNome:(e==null?void 0:e.nome)||"Sistema",motivo:nt>0?"Sobra identificada na contagem":"Falta identificada na contagem",meta:{beforeQty:Je,afterQty:mt,diff:nt}}),At++}}M({depositId:Ne.depositId,counts:{}});const jt=[];$e>0&&jt.push(`${$e} produto(s) com carga inicial`),At>0&&jt.push(`${At} produto(s) ajustado(s)`),alert(`Registrado com sucesso!
${jt.join(`
`)}`),Ae(Mt=>Mt+1)}catch($e){console.error("Erro ao salvar contagem:",$e),alert("Erro ao salvar contagem.")}finally{$(!1)}},qt=F.useCallback(async()=>{var le;St(!0);try{const Me=await Xr.products.toArray(),$e=await Xr.deposits.toArray(),At=await Xr.stock_balance.toArray(),jt=await((le=Xr.product_pricing)==null?void 0:le.toArray())??[],Mt=new Set($e.map(gr=>gr.id)),Z=new Set(Me.map(gr=>gr.id)),Je={};Me.forEach(gr=>{const zt=(gr.nome||gr.name||"").toLowerCase().trim();Je[zt]||(Je[zt]=[]),Je[zt].push(gr)});const mt=Object.entries(Je).filter(([gr,zt])=>zt.length>1).map(([gr,zt])=>({id:zt[0].id,nome:zt[0].nome||zt[0].name||"Sem nome",count:zt.length,allIds:zt.map(In=>In.id)})),nt=At.filter(gr=>!Mt.has(gr.deposit_id)||!Z.has(gr.product_id)),Ot=gr=>gr.deposit_id??gr.depositoId??gr.depositId??null,_t=gr=>gr.product_id??gr.productId??null,Gt=jt.filter(gr=>{const zt=Ot(gr),In=_t(gr);return!zt||!In||!Mt.has(zt)||!Z.has(In)}).map(gr=>({product_id:_t(gr),deposit_id:Ot(gr)}));ue({duplicateProducts:mt,orphanStock:nt,orphanPricing:Gt})}catch(Me){console.error("Erro ao analisar dados:",Me),alert("Erro ao analisar dados rfos.")}finally{St(!1)}},[]),mr=async()=>{fe(!0),await qt()},Qr=async()=>{var Me,$e,At,jt;if(!(!(st!=null&&st.duplicateProducts.length)||!confirm(`Isso ir manter apenas 1 produto de cada nome duplicado e remover os outros.

Produtos afetados: ${st.duplicateProducts.map(Mt=>`${Mt.nome} (${Mt.count}x)`).join(", ")}

Deseja continuar?`))){St(!0);try{const Mt=await Xr.products.toArray(),Z={};Mt.forEach(mt=>{const nt=(mt.nome||mt.name||"").toLowerCase().trim();Z[nt]||(Z[nt]=[]),Z[nt].push(mt)});let Je=0;for(const[mt,nt]of Object.entries(Z))if(nt.length>1){const Ot=nt.slice(1).map(_t=>_t.id);for(const _t of Ot){await Xr.products.delete(_t);const Gt=await((Me=Xr.stock_balance)==null?void 0:Me.filter(zt=>zt.product_id===_t).toArray())??[];for(const zt of Gt)await(($e=Xr.stock_balance)==null?void 0:$e.delete(zt.id));const gr=await((At=Xr.product_pricing)==null?void 0:At.filter(zt=>zt.product_id===_t).toArray())??[];for(const zt of gr)await((jt=Xr.product_pricing)==null?void 0:jt.delete(zt.id));Je++}}alert(`${Je} produto(s) duplicado(s) removido(s) com sucesso!`),await qt()}catch(Mt){console.error("Erro ao limpar duplicados:",Mt),alert("Erro ao limpar produtos duplicados.")}finally{St(!1)}}},Cn=async()=>{var Me,$e;if(!(!(st!=null&&st.orphanStock.length)||!confirm(`Isso ir remover ${st.orphanStock.length} registro(s) de estoque rfo.

Deseja continuar?`))){St(!0);try{const At=await((Me=Xr.stock_balance)==null?void 0:Me.toArray())??[];for(const jt of st.orphanStock){const Mt=At.find(Z=>Z.deposit_id===jt.deposit_id&&Z.product_id===jt.product_id);Mt!=null&&Mt.id&&await(($e=Xr.stock_balance)==null?void 0:$e.delete(Mt.id))}alert("Estoque rfo removido com sucesso!"),await qt()}catch(At){console.error("Erro ao limpar estoque rfo:",At),alert("Erro ao limpar estoque rfo.")}finally{St(!1)}}},Gn=async()=>{var Me,$e;if(!(!(st!=null&&st.orphanPricing.length)||!confirm(`Isso ir remover ${st.orphanPricing.length} registro(s) de preo rfo.

Deseja continuar?`))){St(!0);try{const At=await((Me=Xr.product_pricing)==null?void 0:Me.toArray())??[];for(const jt of st.orphanPricing){const Mt=At.filter(Z=>(Z.product_id??Z.productId)===jt.product_id&&(Z.deposit_id??Z.depositoId??Z.depositId)===jt.deposit_id);for(const Z of Mt)Z!=null&&Z.id&&await(($e=Xr.product_pricing)==null?void 0:$e.delete(Z.id))}alert("Preos rfos removidos com sucesso!"),await qt()}catch(At){console.error("Erro ao limpar preos rfos:",At),alert("Erro ao limpar preos rfos.")}finally{St(!1)}}},Ps=async()=>{if(((st==null?void 0:st.duplicateProducts.length)||0)+((st==null?void 0:st.orphanStock.length)||0)+((st==null?void 0:st.orphanPricing.length)||0)===0){alert("Nenhum dado rfo encontrado!");return}if(confirm(`Isso ir limpar TODOS os dados rfos:

 ${(st==null?void 0:st.duplicateProducts.length)||0} produto(s) duplicado(s)
 ${(st==null?void 0:st.orphanStock.length)||0} registro(s) de estoque rfo
 ${(st==null?void 0:st.orphanPricing.length)||0} registro(s) de preo rfo

Deseja continuar?`)){St(!0);try{st!=null&&st.duplicateProducts.length&&await Qr(),st!=null&&st.orphanStock.length&&await Cn(),st!=null&&st.orphanPricing.length&&await Gn(),alert("Todos os dados rfos foram limpos!")}catch($e){console.error("Erro ao limpar dados:",$e)}finally{St(!1)}}};return a.jsxs("div",{className:"fixed inset-0 bg-app z-50 flex flex-col animate-in slide-in-from-bottom-4 duration-300",children:[a.jsxs("header",{className:"bg-surface border-b border-bdr px-6 py-4 flex justify-between items-center shadow-sm shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"bg-purple-500/10 p-3 rounded-2xl border border-purple-500/20",children:a.jsx($c,{className:"w-6 h-6 text-purple-600"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-black text-txt-main tracking-tight",children:"Depsitos & Estoque"}),a.jsx("p",{className:"text-xs text-txt-muted font-bold uppercase tracking-widest",children:"Gesto Central"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[er&&a.jsx("button",{onClick:mr,className:"p-2 hover:bg-orange-500/10 hover:text-orange-500 rounded-full text-txt-muted transition-colors",title:"Manuteno de Dados",children:a.jsx(Uu,{className:"w-5 h-5"})}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-red-500/10 hover:text-red-500 rounded-full text-txt-muted transition-colors",children:a.jsx(Vn,{className:"w-6 h-6"})})]})]}),a.jsx("nav",{className:"bg-surface border-b border-bdr px-6",children:a.jsx("div",{className:"flex gap-8 overflow-x-auto",children:[{id:"cadastro",label:"Depsitos",icon:$c},{id:"produtos",label:"Produtos",icon:nm},{id:"estoque",label:"Estoque",icon:fo},{id:"transferencia",label:"Transferncia",icon:D0},{id:"contagem",label:"Contagem",icon:hv}].map(le=>a.jsxs("button",{onClick:()=>n(le.id),className:`pb-4 pt-4 text-sm font-black uppercase tracking-widest border-b-4 transition-all flex items-center gap-2 ${r===le.id?"border-purple-500 text-purple-600":"border-transparent text-txt-muted hover:text-txt-main"}`,children:[a.jsx(le.icon,{className:"w-4 h-4"}),le.label]},le.id))})}),a.jsx("main",{className:"flex-1 overflow-y-auto p-6 bg-app",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[r==="cadastro"&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[400px_1fr] gap-6",children:[a.jsxs("div",{className:"bg-surface rounded-2xl border border-bdr overflow-hidden",children:[a.jsxs("div",{className:"p-4 border-b border-bdr bg-app/50 flex items-center justify-between",children:[a.jsxs("h3",{className:"text-sm font-black text-txt-main uppercase tracking-wide",children:["Depsitos (",Ze.length,")"]}),er&&a.jsxs("button",{onClick:dn,className:"bg-purple-500 hover:bg-purple-600 text-white px-3 py-1.5 rounded-lg text-xs font-black flex items-center gap-1.5 transition-colors",children:[a.jsx(po,{className:"w-3.5 h-3.5"}),"Novo"]})]}),a.jsx("div",{className:"p-3 border-b border-bdr",children:a.jsxs("div",{className:"relative",children:[a.jsx(lA,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-txt-muted"}),a.jsx("input",{type:"text",placeholder:"Buscar depsito...",value:g,onChange:le=>b(le.target.value),className:"w-full pl-9 pr-4 py-2 bg-app border border-bdr rounded-lg text-sm focus:ring-2 focus:ring-purple-500/20 outline-none"})]})}),a.jsx("div",{className:"divide-y divide-bdr max-h-[500px] overflow-y-auto",children:Hr.length===0?a.jsxs("div",{className:"p-8 text-center text-txt-muted",children:[a.jsx($c,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),a.jsx("p",{className:"font-bold",children:"Nenhum depsito encontrado"})]}):Hr.map(le=>{const Me=Zt.filter(At=>At.depositoId===le.id).length,$e=Object.values(Xt[le.id]||{}).reduce((At,jt)=>At+jt,0);return a.jsx("div",{className:`p-4 hover:bg-app/50 transition-colors ${le.ativo===!1?"opacity-50":""}`,children:a.jsxs("div",{className:"flex items-start justify-between gap-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center border-2",style:{backgroundColor:`${le.cor||"#6366f1"}20`,borderColor:le.cor||"#6366f1"},children:a.jsx($c,{className:"w-5 h-5",style:{color:le.cor||"#6366f1"}})}),a.jsxs("div",{children:[a.jsxs("h4",{className:"font-bold text-txt-main flex items-center gap-2",children:[le.nome,le.ativo===!1&&a.jsx("span",{className:"text-[10px] bg-red-500/10 text-red-500 px-1.5 py-0.5 rounded font-black uppercase",children:"Inativo"})]}),le.endereco&&a.jsxs("p",{className:"text-xs text-txt-muted flex items-center gap-1 mt-0.5",children:[a.jsx(HA,{className:"w-3 h-3"}),le.endereco]}),a.jsxs("div",{className:"flex gap-3 mt-1.5",children:[a.jsxs("span",{className:"text-[10px] font-bold text-txt-muted bg-app px-1.5 py-0.5 rounded",children:[Me," colaborador",Me!==1?"es":""]}),a.jsxs("span",{className:"text-[10px] font-bold text-txt-muted bg-app px-1.5 py-0.5 rounded",children:[$e," itens estoque"]})]})]})]}),er&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("button",{onClick:()=>It(le),className:"p-2 hover:bg-blue-500/10 text-blue-500 rounded-lg transition-colors",title:"Editar",children:a.jsx(hf,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>pn(le),className:"p-2 hover:bg-red-500/10 text-red-500 rounded-lg transition-colors",title:"Excluir",children:a.jsx(oa,{className:"w-4 h-4"})})]})]})},le.id)})})]}),a.jsxs("div",{className:"bg-surface rounded-2xl border border-bdr overflow-hidden",children:[a.jsx("div",{className:"p-4 border-b border-bdr bg-app/50",children:a.jsx("h3",{className:"text-sm font-black text-txt-main uppercase tracking-wide",children:d?i.id?"Editar Depsito":"Novo Depsito":"Detalhes do Depsito"})}),er?d?a.jsxs("div",{className:"p-6 space-y-5",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-black text-txt-muted uppercase mb-2",children:"Nome do Depsito *"}),a.jsx("input",{type:"text",value:i.nome,onChange:le=>l({...i,nome:le.target.value}),placeholder:"Ex: Matriz, Filial Centro...",className:"w-full bg-app border border-bdr rounded-xl p-3 text-sm font-bold focus:ring-2 focus:ring-purple-500/20 outline-none"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"col-span-2",children:[a.jsx("label",{className:"block text-xs font-black text-txt-muted uppercase mb-2",children:"Endereo"}),a.jsxs("div",{className:"relative",children:[a.jsx(HA,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-txt-muted"}),a.jsx("input",{type:"text",value:i.endereco||"",onChange:le=>l({...i,endereco:le.target.value}),placeholder:"Rua, Bairro...",className:"w-full pl-10 bg-app border border-bdr rounded-xl p-3 text-sm font-bold focus:ring-2 focus:ring-purple-500/20 outline-none"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-black text-txt-muted uppercase mb-2",children:"Nmero"}),a.jsxs("div",{className:"relative",children:[a.jsx(v3,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-txt-muted"}),a.jsx("input",{type:"text",value:i.numero||"",onChange:le=>l({...i,numero:le.target.value}),placeholder:"123",className:"w-full pl-10 bg-app border border-bdr rounded-xl p-3 text-sm font-bold focus:ring-2 focus:ring-purple-500/20 outline-none"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-black text-txt-muted uppercase mb-2",children:"Cor de Identificao"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex gap-2",children:UH.map(le=>a.jsx("button",{onClick:()=>l({...i,cor:le}),className:`w-8 h-8 rounded-lg transition-transform ${i.cor===le?"scale-110 ring-2 ring-offset-2 ring-purple-500":"hover:scale-105"}`,style:{backgroundColor:le}},le))}),a.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[a.jsx(Gm,{className:"w-4 h-4 text-txt-muted"}),a.jsx("input",{type:"color",value:i.cor||"#6366f1",onChange:le=>l({...i,cor:le.target.value}),className:"w-10 h-8 rounded cursor-pointer"})]})]})]}),a.jsxs("div",{className:"space-y-3 pt-2",children:[a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 bg-app rounded-xl border border-bdr hover:border-purple-500/30 transition-colors",children:[a.jsx("input",{type:"checkbox",checked:i.ativo,onChange:le=>l({...i,ativo:le.target.checked}),className:"w-5 h-5 rounded text-purple-500 focus:ring-purple-500"}),a.jsxs("div",{children:[a.jsx("span",{className:"font-bold text-sm text-txt-main",children:"Depsito Ativo"}),a.jsx("p",{className:"text-xs text-txt-muted",children:"Desmarque para desativar temporariamente"})]})]}),a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 bg-app rounded-xl border border-bdr hover:border-purple-500/30 transition-colors",children:[a.jsx("input",{type:"checkbox",checked:i.require_stock_audit||!1,onChange:le=>l({...i,require_stock_audit:le.target.checked}),className:"w-5 h-5 rounded text-purple-500 focus:ring-purple-500"}),a.jsxs("div",{children:[a.jsx("span",{className:"font-bold text-sm text-txt-main",children:"Exigir Contagem no Fechamento"}),a.jsx("p",{className:"text-xs text-txt-muted",children:"Operadores precisam contar estoque ao fechar caixa"})]})]})]}),a.jsxs("div",{className:"flex gap-3 pt-4 border-t border-bdr",children:[a.jsx("button",{onClick:An,className:"flex-1 px-4 py-3 border border-bdr rounded-xl font-bold text-txt-muted hover:bg-app transition-colors",children:"Cancelar"}),a.jsx("button",{onClick:wn,disabled:h||!i.nome.trim(),className:"flex-1 bg-purple-500 hover:bg-purple-600 disabled:opacity-50 text-white px-4 py-3 rounded-xl font-black flex items-center justify-center gap-2 transition-colors",children:h?a.jsx(rl,{className:"w-5 h-5 animate-spin"}):a.jsxs(a.Fragment,{children:[a.jsx(il,{className:"w-5 h-5"}),"Salvar"]})})]})]}):a.jsxs("div",{className:"p-8 text-center",children:[a.jsx($c,{className:"w-12 h-12 mx-auto mb-3 text-txt-muted opacity-30"}),a.jsx("p",{className:"font-bold text-txt-main",children:"Nenhum Depsito Selecionado"}),a.jsx("p",{className:"text-sm text-txt-muted mt-1",children:'Clique em "Novo" ou selecione um depsito para editar.'})]}):a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(rd,{className:"w-12 h-12 mx-auto mb-3 text-amber-500"}),a.jsx("p",{className:"font-bold text-txt-main",children:"Acesso Restrito"}),a.jsx("p",{className:"text-sm text-txt-muted mt-1",children:"Apenas gerentes podem criar ou editar depsitos."})]})]})]}),r==="produtos"&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[400px_1fr] gap-6",children:[a.jsxs("div",{className:"bg-surface rounded-2xl border border-bdr overflow-hidden",children:[a.jsxs("div",{className:"p-4 border-b border-bdr bg-app/50 flex items-center justify-between",children:[a.jsxs("h3",{className:"text-sm font-black text-txt-main uppercase tracking-wide",children:["Produtos (",Jt.length,")"]}),er&&a.jsxs("button",{onClick:Pr,className:"bg-purple-500 hover:bg-purple-600 text-white px-3 py-1.5 rounded-lg text-xs font-black flex items-center gap-1.5 transition-colors",children:[a.jsx(po,{className:"w-3.5 h-3.5"}),"Novo"]})]}),a.jsx("div",{className:"p-3 border-b border-bdr",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(lA,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-txt-muted"}),a.jsx("input",{type:"text",placeholder:"Buscar produto...",value:O,onChange:le=>D(le.target.value),className:"w-full pl-9 pr-4 py-2 bg-app border border-bdr rounded-lg text-sm focus:ring-2 focus:ring-purple-500/20 outline-none"})]}),a.jsxs("label",{className:"flex items-center gap-2 text-[11px] font-bold text-txt-muted uppercase tracking-wide",children:[a.jsx("input",{type:"checkbox",checked:H,onChange:le=>re(le.target.checked),className:"w-4 h-4 rounded text-purple-500 focus:ring-purple-500"}),"Mostrar desativados"]})]})}),a.jsx("div",{className:"max-h-[500px] overflow-y-auto",children:cr.length===0?a.jsxs("div",{className:"p-8 text-center text-txt-muted",children:[a.jsx(nm,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),a.jsx("p",{className:"text-sm",children:"Nenhum produto encontrado"})]}):cr.map(le=>{var $e,At;const Me=le.is_active===!1||le.ativo===!1;return a.jsx("div",{className:`p-4 border-b border-bdr hover:bg-app/50 cursor-pointer transition-colors ${B.id===le.id?"bg-purple-500/10 border-l-4 border-l-purple-500":""} ${Me?"opacity-50":""}`,onClick:()=>Ft(le),children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-xl",children:(($e=vB.find(jt=>jt.value===le.tipo))==null?void 0:$e.icon)||"??"}),a.jsxs("div",{children:[a.jsxs("div",{className:"font-bold text-txt-main flex items-center gap-2",children:[le.nome,Me&&a.jsx("span",{className:"text-[10px] bg-red-500/20 text-red-400 px-1.5 py-0.5 rounded font-bold",children:"INATIVO"})]}),a.jsxs("div",{className:"text-xs text-txt-muted flex items-center gap-2 mt-0.5",children:[a.jsx("span",{children:le.codigo||"Sem cdigo"}),a.jsx("span",{className:"flex items-center gap-1",children:((At=yB.find(jt=>jt.value===le.movement_type))==null?void 0:At.label)||"Simples"})]})]})]}),a.jsxs("div",{className:"text-right",children:[le.movement_type==="EXCHANGE"?a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"flex items-center justify-end",children:a.jsx("span",{className:"text-[10px] text-yellow-400 font-bold bg-yellow-500/10 px-1.5 py-0.5 rounded",children:"TROCA"})}),a.jsx("div",{className:"flex items-center justify-end",children:a.jsx("span",{className:"text-[10px] text-blue-400 font-bold bg-blue-500/10 px-1.5 py-0.5 rounded",children:"COMPLETA"})})]}):a.jsx("div",{className:"flex items-center justify-end",children:a.jsx("span",{className:"text-[10px] text-emerald-400 font-bold bg-emerald-500/10 px-1.5 py-0.5 rounded",children:le.movement_type==="FULL"?"COMPLETA":"SIMPLES"})}),le.track_stock&&a.jsx("div",{className:"text-[10px] text-txt-muted",children:"Controla estoque"}),Me&&a.jsx("button",{type:"button",onClick:jt=>{jt.stopPropagation(),rr(le.id)},className:"mt-1 text-[10px] font-black text-emerald-500 bg-emerald-500/10 px-2 py-1 rounded hover:bg-emerald-500/20 transition-colors",children:"Reativar"})]})]})},le.id)})})]}),a.jsx("div",{className:"bg-surface rounded-2xl border border-bdr overflow-hidden",children:S?a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsxs("div",{className:"p-4 border-b border-bdr bg-app/50 flex items-center justify-between",children:[a.jsx("h3",{className:"text-sm font-black text-txt-main uppercase tracking-wide",children:B.id?"Editar Produto":"Novo Produto"}),a.jsx("button",{onClick:Fn,className:"text-txt-muted hover:text-red-500 transition-colors",children:a.jsx(Vn,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"p-6 space-y-5 flex-1 overflow-y-auto",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-txt-muted uppercase tracking-wide mb-2",children:"Nome *"}),a.jsx("input",{type:"text",value:B.nome,onChange:le=>w(Me=>({...Me,nome:le.target.value})),className:"w-full px-4 py-3 bg-app border border-bdr rounded-xl focus:ring-2 focus:ring-purple-500/20 outline-none",placeholder:"Ex: Gs P13"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-txt-muted uppercase tracking-wide mb-2",children:"Cdigo/SKU"}),a.jsx("input",{type:"text",value:B.codigo,onChange:le=>w(Me=>({...Me,codigo:le.target.value})),className:"w-full px-4 py-3 bg-app border border-bdr rounded-xl focus:ring-2 focus:ring-purple-500/20 outline-none",placeholder:"Ex: GAS-P13"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-txt-muted uppercase tracking-wide mb-2",children:"Tipo do Produto"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:vB.map(le=>a.jsxs("button",{type:"button",onClick:()=>w(Me=>({...Me,tipo:le.value,movement_type:le.value==="GAS_CHEIO"?"EXCHANGE":Me.movement_type})),className:`p-3 rounded-xl border-2 transition-all text-center ${B.tipo===le.value?"border-purple-500 bg-purple-500/10":"border-bdr hover:border-purple-500/50"}`,children:[a.jsx("span",{className:"text-2xl block mb-1",children:le.icon}),a.jsx("span",{className:"text-xs font-bold",children:le.label})]},le.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-txt-muted uppercase tracking-wide mb-2",children:"Tipo de Movimento (Regra de Estoque)"}),a.jsx("div",{className:"space-y-2",children:yB.map(le=>a.jsxs("button",{type:"button",onClick:()=>w(Me=>({...Me,movement_type:le.value,return_product_id:le.value==="EXCHANGE"?Me.return_product_id:null})),className:`w-full p-4 rounded-xl border-2 transition-all text-left flex items-center gap-4 ${B.movement_type===le.value?"border-purple-500 bg-purple-500/10":"border-bdr hover:border-purple-500/50"}`,children:[a.jsx(le.icon,{className:`w-6 h-6 ${B.movement_type===le.value?"text-purple-500":"text-txt-muted"}`}),a.jsxs("div",{children:[a.jsx("div",{className:"font-bold text-sm",children:le.label}),a.jsx("div",{className:"text-xs text-txt-muted",children:le.desc})]}),B.movement_type===le.value&&a.jsx(vc,{className:"w-5 h-5 text-purple-500 ml-auto"})]},le.value))})]}),B.movement_type==="EXCHANGE"&&a.jsxs("div",{children:[a.jsxs("label",{className:"block text-xs font-bold text-txt-muted uppercase tracking-wide mb-2",children:[a.jsx(rd,{className:"w-3 h-3 inline mr-1 text-yellow-500"}),"Vasilhame Vazio Vinculado *"]}),a.jsxs("select",{value:B.return_product_id||"",onChange:le=>w(Me=>({...Me,return_product_id:le.target.value||null})),className:"w-full px-4 py-3 bg-app border border-bdr rounded-xl focus:ring-2 focus:ring-purple-500/20 outline-none",children:[a.jsx("option",{value:"",children:"-- Selecione o vasilhame vazio --"}),Yt.map(le=>a.jsx("option",{value:le.id,children:le.nome},le.id))]}),Yt.length===0&&a.jsx("p",{className:"text-xs text-yellow-500 mt-2",children:' Nenhum vasilhame vazio cadastrado. Crie primeiro um produto do tipo "Vasilhame Vazio".'})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-txt-muted uppercase tracking-wide mb-2",children:"Preo de Custo (R$)"}),a.jsx("input",{type:"text",inputMode:"decimal",value:B.preco_custo||"",onChange:le=>{const Me=le.target.value.replace(",",".");(Me===""||/^\d*\.?\d*$/.test(Me))&&w($e=>({...$e,preco_custo:Me===""?0:parseFloat(Me)||0}))},placeholder:"0.00",className:"w-full px-4 py-3 bg-app border border-bdr rounded-xl focus:ring-2 focus:ring-purple-500/20 outline-none"}),a.jsx("p",{className:"text-[10px] text-txt-muted mt-1",children:"Custo de aquisio do produto (valor global)"})]}),B.preco_custo>0&&Object.values(te).some(le=>{const Me=tr(le);return typeof Me=="number"&&Me>0})&&a.jsxs("div",{className:"bg-app rounded-xl p-4 border border-bdr",children:[a.jsx("div",{className:"text-xs text-txt-muted uppercase tracking-wide mb-1",children:"Margem de Lucro (estimada)"}),a.jsxs("div",{className:"text-2xl font-black text-green-500",children:[((Object.values(te).map(Me=>tr(Me)).find(Me=>typeof Me=="number"&&Me>0)-B.preco_custo)/B.preco_custo*100).toFixed(1),"%"]}),a.jsx("p",{className:"text-[10px] text-txt-muted mt-1",children:"Baseado no primeiro depsito com preo"})]}),a.jsxs("div",{className:"space-y-3 border-t border-bdr pt-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-txt-muted uppercase",children:"Preos por Depsito"}),a.jsx("p",{className:"text-xs text-txt-muted",children:"Cada depsito pode ter um preo diferente."})]}),W&&a.jsx(rl,{className:"w-4 h-4 text-purple-500 animate-spin"})]}),Ve.length===0?a.jsx("p",{className:"text-xs text-txt-muted",children:"Cadastre ao menos um depsito para definir preos."}):a.jsx("div",{className:"space-y-3",children:Ve.map(le=>{const Me=te[le.id]||Pt();return a.jsx("div",{className:"p-4 rounded-xl border border-bdr bg-app",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2 min-w-[140px]",children:[a.jsx("span",{className:"inline-block w-3 h-3 rounded-full",style:{backgroundColor:le.cor||"#8b5cf6"}}),a.jsx("p",{className:"font-bold text-txt-main text-sm",children:le.nome})]}),a.jsx("div",{className:"flex-1",children:B.movement_type==="EXCHANGE"?a.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-[10px] font-black text-yellow-500 uppercase mb-1",children:"TROCA"}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500 text-sm font-bold",children:"R$"}),a.jsx("input",{type:"number",step:"0.01",value:Me.troca===""?"":Me.troca,onChange:$e=>or(le.id,"troca",$e.target.value),className:"w-full bg-white text-slate-900 border-2 border-yellow-200 rounded-xl p-3 pl-10 text-sm font-bold outline-none",placeholder:"0.00"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-[10px] font-black text-blue-500 uppercase mb-1",children:"COMPLETA"}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500 text-sm font-bold",children:"R$"}),a.jsx("input",{type:"number",step:"0.01",value:Me.completa===""?"":Me.completa,onChange:$e=>or(le.id,"completa",$e.target.value),className:"w-full bg-white text-slate-900 border-2 border-blue-200 rounded-xl p-3 pl-10 text-sm font-bold outline-none",placeholder:"0.00"})]})]})]}):a.jsxs("div",{children:[a.jsx("label",{className:"block text-[10px] font-black text-emerald-600 uppercase mb-1",children:B.movement_type==="FULL"?"COMPLETA":"SIMPLES"}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500 text-sm font-bold",children:"R$"}),a.jsx("input",{type:"number",step:"0.01",value:B.movement_type==="FULL"?Me.completa===""?"":Me.completa:Me.simple===""?"":Me.simple,onChange:$e=>or(le.id,B.movement_type==="FULL"?"completa":"simple",$e.target.value),className:"w-full bg-white text-slate-900 border-2 border-emerald-200 rounded-xl p-3 pl-10 text-sm font-bold outline-none",placeholder:"0.00"})]})]})})]})},le.id)})})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:B.track_stock,onChange:le=>w(Me=>({...Me,track_stock:le.target.checked})),className:"w-5 h-5 rounded border-bdr text-purple-500 focus:ring-purple-500"}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-txt-main",children:"Controlar Estoque"}),a.jsx("p",{className:"text-xs text-txt-muted",children:"Movimentaes afetam o saldo de estoque"})]})]}),a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:B.ativo,onChange:le=>w(Me=>({...Me,ativo:le.target.checked})),className:"w-5 h-5 rounded border-bdr text-purple-500 focus:ring-purple-500"}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-txt-main",children:"Produto Ativo"}),a.jsx("p",{className:"text-xs text-txt-muted",children:"Disponvel para vendas"})]})]})]})]}),a.jsxs("div",{className:"p-4 border-t border-bdr bg-app/50 flex justify-between items-center",children:[B.id&&er?a.jsxs("button",{onClick:()=>ne(Jt.find(le=>le.id===B.id)||null),className:"px-4 py-2 text-red-500 hover:bg-red-500/10 rounded-lg font-bold text-sm flex items-center gap-2",children:[a.jsx(oa,{className:"w-4 h-4"}),"Excluir"]}):a.jsx("div",{}),a.jsxs("button",{onClick:Ms,disabled:k,className:"px-6 py-2 bg-purple-500 hover:bg-purple-600 disabled:opacity-50 text-white font-black rounded-lg flex items-center gap-2 transition-colors",children:[k?a.jsx(rl,{className:"w-4 h-4 animate-spin"}):a.jsx(il,{className:"w-4 h-4"}),"Salvar Produto"]})]})]}):a.jsxs("div",{className:"p-12 text-center text-txt-muted",children:[a.jsx(nm,{className:"w-16 h-16 mx-auto mb-4 opacity-20"}),a.jsx("p",{className:"text-sm font-medium",children:"Selecione um produto para editar"}),a.jsx("p",{className:"text-xs mt-1",children:'ou clique em "Novo" para criar'})]})})]}),r==="estoque"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Ve.map(le=>{const Me=Xt[le.id]||{},$e=Object.values(Me).reduce((jt,Mt)=>jt+Mt,0),At=Object.keys(Me).filter(jt=>Me[jt]>0).length;return a.jsxs("div",{className:"bg-surface p-4 rounded-xl border border-bdr",style:{borderLeftColor:le.cor,borderLeftWidth:4},children:[a.jsx("h4",{className:"font-bold text-txt-main text-sm",children:le.nome}),a.jsxs("div",{className:"mt-2 space-y-1",children:[a.jsx("p",{className:"text-2xl font-black text-txt-main",children:$e}),a.jsxs("p",{className:"text-xs text-txt-muted",children:[At," produto(s) em estoque"]})]})]},le.id)})}),a.jsxs("div",{className:"bg-surface rounded-2xl border border-bdr overflow-hidden",children:[a.jsx("div",{className:"p-4 border-b border-bdr bg-app/50",children:a.jsx("h3",{className:"text-sm font-black text-txt-main uppercase tracking-wide",children:"Estoque por Produto"})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"bg-app border-b border-bdr",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left px-4 py-3 font-black text-txt-muted uppercase text-xs",children:"Produto"}),Ve.map(le=>a.jsx("th",{className:"text-center px-4 py-3 font-black text-txt-muted uppercase text-xs",style:{color:le.cor},children:le.nome},le.id)),a.jsx("th",{className:"text-center px-4 py-3 font-black text-txt-muted uppercase text-xs bg-purple-500/10",children:"Total"})]})}),a.jsx("tbody",{className:"divide-y divide-bdr",children:bt.map(le=>{const Me=Ve.reduce(($e,At)=>{var jt;return $e+(((jt=Xt[At.id])==null?void 0:jt[le.id])??0)},0);return a.jsxs("tr",{className:"hover:bg-app/30",children:[a.jsx("td",{className:"px-4 py-3 font-bold text-txt-main",children:le.nome}),Ve.map($e=>{var jt;const At=((jt=Xt[$e.id])==null?void 0:jt[le.id])??0;return a.jsx("td",{className:`text-center px-4 py-3 font-mono ${At===0?"text-txt-muted":At<=5?"text-red-500 font-bold":"text-txt-main"}`,children:At},$e.id)}),a.jsx("td",{className:"text-center px-4 py-3 font-black text-purple-600 bg-purple-500/5",children:Me})]},le.id)})})]})})]})]}),r==="transferencia"&&a.jsx("div",{className:"max-w-2xl mx-auto",children:a.jsxs("div",{className:"bg-surface rounded-2xl border border-bdr overflow-hidden",children:[a.jsxs("div",{className:"p-4 border-b border-bdr bg-app/50 flex items-center gap-3",children:[a.jsx(D0,{className:"w-5 h-5 text-purple-500"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-black text-txt-main uppercase tracking-wide",children:"Transferncia entre Depsitos"}),a.jsx("p",{className:"text-xs text-txt-muted",children:"Move estoque de um depsito para outro"})]})]}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-[1fr_auto_1fr] gap-4 items-end",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-black text-txt-muted uppercase mb-2",children:"Origem (Sai)"}),a.jsxs("select",{value:V.originId,onChange:le=>me({...V,originId:le.target.value}),className:"w-full bg-app border border-bdr rounded-xl p-3 text-sm font-bold focus:ring-2 focus:ring-purple-500/20 outline-none",children:[a.jsx("option",{value:"",children:"Selecione..."}),Ve.map(le=>a.jsx("option",{value:le.id,children:le.nome},le.id))]})]}),a.jsx("div",{className:"flex items-center justify-center pb-3",children:a.jsx(uv,{className:"w-6 h-6 text-txt-muted"})}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-black text-txt-muted uppercase mb-2",children:"Destino (Entra)"}),a.jsxs("select",{value:V.destId,onChange:le=>me({...V,destId:le.target.value}),className:"w-full bg-app border border-bdr rounded-xl p-3 text-sm font-bold focus:ring-2 focus:ring-purple-500/20 outline-none",children:[a.jsx("option",{value:"",children:"Selecione..."}),Ve.filter(le=>le.id!==V.originId).map(le=>a.jsx("option",{value:le.id,children:le.nome},le.id))]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-black text-txt-muted uppercase mb-2",children:"Produto"}),a.jsxs("select",{value:V.productId,onChange:le=>me({...V,productId:le.target.value}),className:"w-full bg-app border border-bdr rounded-xl p-3 text-sm font-bold focus:ring-2 focus:ring-purple-500/20 outline-none",children:[a.jsx("option",{value:"",children:"Selecione o produto..."}),bt.map(le=>{var $e;const Me=(($e=Xt[V.originId])==null?void 0:$e[le.id])??0;return a.jsxs("option",{value:le.id,disabled:Me===0,children:[le.nome," ",V.originId?`(Disp: ${Me})`:""]},le.id)})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-black text-txt-muted uppercase mb-2",children:"Quantidade"}),a.jsx("input",{type:"number",min:"1",max:((On=Xt[V.originId])==null?void 0:On[V.productId])??999,value:V.quantidade,onChange:le=>me({...V,quantidade:parseInt(le.target.value)||0}),className:"w-full bg-app border border-bdr rounded-xl p-3 text-sm font-bold focus:ring-2 focus:ring-purple-500/20 outline-none"}),V.originId&&V.productId&&a.jsxs("p",{className:"text-xs text-txt-muted mt-1",children:["Disponvel na origem: ",a.jsx("strong",{children:((As=Xt[V.originId])==null?void 0:As[V.productId])??0})]})]}),a.jsx("button",{onClick:tn,disabled:ee||!V.originId||!V.destId||!V.productId||V.quantidade<=0,className:"w-full bg-purple-500 hover:bg-purple-600 disabled:opacity-50 text-white px-4 py-3 rounded-xl font-black flex items-center justify-center gap-2 transition-colors",children:ee?a.jsx(rl,{className:"w-5 h-5 animate-spin"}):a.jsxs(a.Fragment,{children:[a.jsx(D0,{className:"w-5 h-5"}),"Confirmar Transferncia"]})})]})]})}),r==="contagem"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-surface rounded-xl border border-bdr p-4 flex items-center gap-4",children:[a.jsx("label",{className:"text-sm font-black text-txt-muted uppercase",children:"Depsito:"}),a.jsxs("select",{value:Ne.depositId,onChange:le=>M({depositId:le.target.value,counts:{}}),className:"flex-1 max-w-xs bg-app border border-bdr rounded-lg p-2 text-sm font-bold focus:ring-2 focus:ring-purple-500/20 outline-none",children:[a.jsx("option",{value:"",children:"Selecione um depsito..."}),Ve.map(le=>a.jsx("option",{value:le.id,children:le.nome},le.id))]}),Ne.depositId&&a.jsxs("button",{onClick:()=>M({depositId:Ne.depositId,counts:{}}),className:"text-sm font-bold text-txt-muted hover:text-txt-main flex items-center gap-1",children:[a.jsx(Yh,{className:"w-4 h-4"}),"Limpar"]})]}),a.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-xl p-4 flex items-start gap-3",children:[a.jsx(fo,{className:"w-5 h-5 text-blue-500 shrink-0 mt-0.5"}),a.jsxs("div",{className:"text-sm text-txt-main",children:[a.jsx("p",{className:"font-bold text-blue-600 mb-1",children:"Contagem de Estoque"}),a.jsxs("ul",{className:"text-txt-muted space-y-1 text-xs",children:[a.jsxs("li",{children:[" ",a.jsx("strong",{className:"text-purple-400",children:"Carga Inicial"}),": Quando o sistema est zerado, voc est cadastrando seu estoque pela primeira vez"]}),a.jsxs("li",{children:[" ",a.jsx("strong",{className:"text-emerald-400",children:"Ajuste"}),": Quando j existe saldo, a diferena ser registrada como sobra ou falta"]})]})]})]}),Ne.depositId&&a.jsxs("div",{className:"bg-surface rounded-2xl border border-bdr overflow-hidden",children:[a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"bg-app border-b border-bdr",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left px-4 py-3 font-black text-txt-muted uppercase text-xs",children:"Produto"}),a.jsx("th",{className:"text-center px-4 py-3 font-black text-txt-muted uppercase text-xs w-32",children:"Sistema"}),a.jsx("th",{className:"text-center px-4 py-3 font-black text-purple-600 uppercase text-xs w-40 bg-purple-500/5",children:"Contagem"}),a.jsx("th",{className:"text-center px-4 py-3 font-black text-txt-muted uppercase text-xs w-32",children:"Diferena"}),a.jsx("th",{className:"text-center px-4 py-3 font-black text-txt-muted uppercase text-xs w-24",children:"Status"})]})}),a.jsx("tbody",{className:"divide-y divide-bdr",children:bt.map(le=>{var Je;const Me=((Je=Xt[Ne.depositId])==null?void 0:Je[le.id])??0,$e=Ne.counts[le.id],At=$e===""||$e===void 0?null:Number($e),jt=At!==null?At-Me:null,Mt=At!==null,Z=Me===0&&At!==null&&At>0;return a.jsxs("tr",{className:Mt?Z?"bg-purple-500/10":"bg-purple-500/5":"hover:bg-app/30",children:[a.jsx("td",{className:"px-4 py-3 font-bold text-txt-main",children:le.nome}),a.jsx("td",{className:"px-4 py-3 text-center font-mono text-txt-muted",children:Me}),a.jsx("td",{className:"px-4 py-3 text-center",children:a.jsx("input",{type:"number",min:"0",value:Ne.counts[le.id]??"",onChange:mt=>Te(le.id,mt.target.value),placeholder:"-",className:"w-24 text-center font-black text-lg bg-surface border-2 border-bdr rounded-lg py-1 focus:border-purple-500 focus:ring-4 focus:ring-purple-500/10 outline-none"})}),a.jsx("td",{className:"px-4 py-3 text-center",children:Mt&&jt!==null&&(Z?a.jsxs("span",{className:"font-black text-lg text-purple-500",children:["+",At]}):a.jsxs("span",{className:`font-black text-lg ${jt>0?"text-emerald-500":jt<0?"text-red-500":"text-txt-muted"}`,children:[jt>0?"+":"",jt]}))}),a.jsx("td",{className:"px-4 py-3 text-center",children:Mt&&jt!==null&&(Z?a.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md bg-purple-500/20 text-purple-400 text-[10px] font-black uppercase",children:[a.jsx(fo,{className:"w-3 h-3"})," Inicial"]}):jt===0?a.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md bg-emerald-500/10 text-emerald-600 text-[10px] font-black uppercase",children:[a.jsx(vc,{className:"w-3 h-3"})," OK"]}):jt>0?a.jsx("span",{className:"inline-flex px-2 py-1 rounded-md bg-blue-500/10 text-blue-600 text-[10px] font-black uppercase",children:"Sobra"}):a.jsx("span",{className:"inline-flex px-2 py-1 rounded-md bg-red-500/10 text-red-600 text-[10px] font-black uppercase",children:"Falta"}))})]},le.id)})})]}),a.jsxs("div",{className:"p-4 border-t border-bdr bg-app/50 flex justify-between items-center",children:[a.jsxs("div",{className:"text-sm text-txt-muted",children:["Itens contados: ",a.jsx("strong",{className:"text-txt-main",children:Object.values(Ne.counts).filter(le=>le!==""&&le!==void 0).length})," de ",bt.length]}),a.jsx("button",{onClick:wt,disabled:T||Object.values(Ne.counts).filter(le=>le!==""&&le!==void 0).length===0,className:"bg-purple-500 hover:bg-purple-600 disabled:opacity-50 text-white px-6 py-2.5 rounded-xl font-black flex items-center gap-2 transition-colors",children:T?a.jsx(rl,{className:"w-5 h-5 animate-spin"}):a.jsxs(a.Fragment,{children:[a.jsx(il,{className:"w-5 h-5"}),"Registrar Contagem"]})})]})]})]})]})}),xe&&a.jsx("div",{className:"fixed inset-0 bg-black/60 z-[60] flex items-center justify-center p-4 backdrop-blur-sm",children:a.jsxs("div",{className:"bg-surface w-full max-w-lg rounded-2xl shadow-2xl border border-bdr overflow-hidden animate-in zoom-in-95 duration-200",children:[a.jsxs("div",{className:"bg-red-500/10 px-6 py-4 border-b border-red-500/20 flex items-center gap-3",children:[a.jsx(rd,{className:"w-6 h-6 text-red-500"}),a.jsx("h3",{className:"font-black text-lg text-red-600",children:"Excluir Depsito"})]}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("p",{className:"text-sm text-txt-main",children:["Voc est prestes a excluir o depsito ",a.jsx("strong",{children:xe.deposit.nome}),"."]}),xe.hasPendingOS&&a.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 rounded-xl p-4 flex items-start gap-3",children:[a.jsx(Tw,{className:"w-5 h-5 text-red-500 shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-red-600 text-sm",children:"Excluso Bloqueada"}),a.jsx("p",{className:"text-xs text-txt-muted mt-1",children:"Existem O.S. pendentes ou em rota neste depsito. Finalize ou cancele todas as O.S. antes de excluir."})]})]}),xe.hasEmployees&&!xe.hasPendingOS&&a.jsxs("div",{className:"bg-amber-500/10 border border-amber-500/20 rounded-xl p-4 space-y-3",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(MA,{className:"w-5 h-5 text-amber-500 shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsxs("p",{className:"font-bold text-amber-600 text-sm",children:[xe.employees.length," colaborador(es) vinculado(s)"]}),a.jsx("p",{className:"text-xs text-txt-muted mt-1",children:"Selecione um depsito para migrar os colaboradores:"})]})]}),a.jsxs("select",{value:je,onChange:le=>Qe(le.target.value),className:"w-full bg-app border border-bdr rounded-lg p-2 text-sm font-bold",children:[a.jsx("option",{value:"",children:"Selecione o destino..."}),Ve.filter(le=>le.id!==xe.deposit.id).map(le=>a.jsx("option",{value:le.id,children:le.nome},le.id))]})]}),xe.hasStock&&!xe.hasPendingOS&&a.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-xl p-4 space-y-3",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(fo,{className:"w-5 h-5 text-blue-500 shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-blue-600 text-sm",children:"Estoque existente"}),a.jsx("p",{className:"text-xs text-txt-muted mt-1",children:"O que fazer com o estoque?"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-2 rounded-lg hover:bg-app",children:[a.jsx("input",{type:"radio",name:"stockAction",checked:Re==="migrate",onChange:()=>lt("migrate"),className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-bold text-txt-main",children:"Transferir para outro depsito"})]}),a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-2 rounded-lg hover:bg-app",children:[a.jsx("input",{type:"radio",name:"stockAction",checked:Re==="ignore",onChange:()=>lt("ignore"),className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-bold text-txt-main",children:"Ignorar e zerar estoque"})]})]}),Re==="migrate"&&a.jsxs("select",{value:je,onChange:le=>Qe(le.target.value),className:"w-full bg-app border border-bdr rounded-lg p-2 text-sm font-bold mt-2",children:[a.jsx("option",{value:"",children:"Selecione o destino..."}),Ve.filter(le=>le.id!==xe.deposit.id).map(le=>a.jsx("option",{value:le.id,children:le.nome},le.id))]})]})]}),a.jsxs("div",{className:"p-6 border-t border-bdr bg-app flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>Be(null),className:"px-4 py-2 font-bold text-txt-muted hover:text-txt-main rounded-lg transition-colors",children:"Cancelar"}),a.jsxs("button",{onClick:sn,disabled:h||xe.hasPendingOS,className:"px-6 py-2 bg-red-500 hover:bg-red-600 disabled:opacity-50 text-white font-black rounded-lg flex items-center gap-2 transition-colors",children:[h?a.jsx(rl,{className:"w-4 h-4 animate-spin"}):a.jsx(oa,{className:"w-4 h-4"}),"Confirmar Excluso"]})]})]})}),Lt&&a.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-[60] p-4",children:a.jsxs("div",{className:"bg-surface rounded-2xl border border-bdr shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"p-6 border-b border-bdr flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"bg-orange-500/10 p-2 rounded-xl border border-orange-500/20",children:a.jsx(s3,{className:"w-5 h-5 text-orange-500"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-black text-txt-main",children:"Manuteno de Dados"}),a.jsx("p",{className:"text-xs text-txt-muted",children:"Limpar dados rfos e duplicados"})]})]}),a.jsx("button",{onClick:()=>fe(!1),className:"p-2 hover:bg-red-500/10 hover:text-red-500 rounded-full text-txt-muted",children:a.jsx(Vn,{className:"w-5 h-5"})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:ft?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 gap-3",children:[a.jsx(rl,{className:"w-8 h-8 animate-spin text-purple-500"}),a.jsx("p",{className:"text-txt-muted",children:"Analisando dados..."})]}):st?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"bg-app rounded-xl border border-bdr p-4",children:[a.jsxs("div",{className:"flex justify-between items-start mb-3",children:[a.jsxs("div",{children:[a.jsxs("h4",{className:"font-bold text-txt-main flex items-center gap-2",children:[a.jsx(fo,{className:"w-4 h-4 text-yellow-500"}),"Produtos Duplicados"]}),a.jsx("p",{className:"text-xs text-txt-muted mt-1",children:"Produtos com o mesmo nome cadastrados mais de uma vez"})]}),st.duplicateProducts.length>0&&a.jsxs("span",{className:"bg-yellow-500/20 text-yellow-400 text-xs font-bold px-2 py-1 rounded-full",children:[st.duplicateProducts.length," encontrado(s)"]})]}),st.duplicateProducts.length>0?a.jsxs(a.Fragment,{children:[a.jsx("ul",{className:"text-sm text-txt-muted space-y-1 mb-3",children:st.duplicateProducts.map((le,Me)=>a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-yellow-500",children:""}),a.jsx("span",{className:"font-medium text-txt-main",children:le.nome}),a.jsxs("span",{className:"text-xs",children:["(",le.count,"x duplicados)"]})]},Me))}),a.jsx("button",{onClick:Qr,disabled:ft,className:"text-xs bg-yellow-500/20 hover:bg-yellow-500/30 text-yellow-400 px-3 py-1.5 rounded-lg font-bold transition-colors",children:"Remover Duplicados"})]}):a.jsxs("p",{className:"text-sm text-green-400 flex items-center gap-2",children:[a.jsx(vc,{className:"w-4 h-4"}),"Nenhum produto duplicado encontrado"]})]}),a.jsxs("div",{className:"bg-app rounded-xl border border-bdr p-4",children:[a.jsxs("div",{className:"flex justify-between items-start mb-3",children:[a.jsxs("div",{children:[a.jsxs("h4",{className:"font-bold text-txt-main flex items-center gap-2",children:[a.jsx($c,{className:"w-4 h-4 text-blue-500"}),"Estoque rfo"]}),a.jsx("p",{className:"text-xs text-txt-muted mt-1",children:"Registros de estoque para depsitos ou produtos que no existem mais"})]}),st.orphanStock.length>0&&a.jsxs("span",{className:"bg-blue-500/20 text-blue-400 text-xs font-bold px-2 py-1 rounded-full",children:[st.orphanStock.length," registro(s)"]})]}),st.orphanStock.length>0?a.jsx("button",{onClick:Cn,disabled:ft,className:"text-xs bg-blue-500/20 hover:bg-blue-500/30 text-blue-400 px-3 py-1.5 rounded-lg font-bold transition-colors",children:"Limpar Estoque rfo"}):a.jsxs("p",{className:"text-sm text-green-400 flex items-center gap-2",children:[a.jsx(vc,{className:"w-4 h-4"}),"Nenhum estoque rfo encontrado"]})]}),a.jsxs("div",{className:"bg-app rounded-xl border border-bdr p-4",children:[a.jsxs("div",{className:"flex justify-between items-start mb-3",children:[a.jsxs("div",{children:[a.jsxs("h4",{className:"font-bold text-txt-main flex items-center gap-2",children:[a.jsx(Tw,{className:"w-4 h-4 text-purple-500"}),"Preos rfos"]}),a.jsx("p",{className:"text-xs text-txt-muted mt-1",children:"Tabelas de preo para produtos ou depsitos inexistentes"})]}),st.orphanPricing.length>0&&a.jsxs("span",{className:"bg-purple-500/20 text-purple-400 text-xs font-bold px-2 py-1 rounded-full",children:[st.orphanPricing.length," registro(s)"]})]}),st.orphanPricing.length>0?a.jsx("button",{onClick:Gn,disabled:ft,className:"text-xs bg-purple-500/20 hover:bg-purple-500/30 text-purple-400 px-3 py-1.5 rounded-lg font-bold transition-colors",children:"Limpar Preos rfos"}):a.jsxs("p",{className:"text-sm text-green-400 flex items-center gap-2",children:[a.jsx(vc,{className:"w-4 h-4"}),"Nenhum preo rfo encontrado"]})]})]}):a.jsxs("div",{className:"text-center py-12 text-txt-muted",children:[a.jsx(rd,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),a.jsx("p",{children:'Clique em "Analisar" para verificar dados rfos'})]})}),a.jsxs("div",{className:"p-4 border-t border-bdr flex justify-between items-center gap-3",children:[a.jsxs("button",{onClick:qt,disabled:ft,className:"px-4 py-2 bg-app hover:bg-bdr text-txt-muted font-bold rounded-lg flex items-center gap-2 transition-colors",children:[a.jsx(Yh,{className:`w-4 h-4 ${ft?"animate-spin":""}`}),"Analisar Novamente"]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>fe(!1),className:"px-4 py-2 bg-app hover:bg-bdr text-txt-muted font-bold rounded-lg transition-colors",children:"Fechar"}),st&&(st.duplicateProducts.length>0||st.orphanStock.length>0||st.orphanPricing.length>0)&&a.jsxs("button",{onClick:Ps,disabled:ft,className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white font-bold rounded-lg flex items-center gap-2 transition-colors",children:[a.jsx(oa,{className:"w-4 h-4"}),"Limpar Tudo"]})]})]})]})}),q&&a.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-[60] p-4",children:a.jsx("div",{className:"bg-surface rounded-2xl border border-bdr shadow-2xl w-full max-w-md",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[a.jsx("div",{className:"bg-red-500/10 p-3 rounded-xl border border-red-500/20",children:a.jsx(oa,{className:"w-6 h-6 text-red-500"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-black text-txt-main",children:"Excluir Produto"}),a.jsx("p",{className:"text-sm text-txt-muted",children:"Esta ao no pode ser desfeita"})]})]}),a.jsxs("div",{className:"bg-app rounded-xl p-4 mb-6",children:[a.jsxs("p",{className:"text-sm text-txt-main",children:["Tem certeza que deseja excluir o produto ",a.jsxs("strong",{children:['"',q.nome,'"']}),"?"]}),a.jsx("p",{className:"text-xs text-txt-muted mt-2",children:"Todos os dados de estoque e preos relacionados tambm sero removidos."})]}),a.jsxs("div",{className:"flex gap-3 justify-end",children:[a.jsx("button",{onClick:()=>ne(null),className:"px-4 py-2 bg-app hover:bg-bdr text-txt-muted font-bold rounded-lg transition-colors",children:"Cancelar"}),a.jsxs("button",{onClick:_n,disabled:k,className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white font-bold rounded-lg flex items-center gap-2 transition-colors",children:[k?a.jsx(rl,{className:"w-4 h-4 animate-spin"}):a.jsx(oa,{className:"w-4 h-4"}),"Excluir"]})]})]})})})]})},PE=F.createContext(void 0),HE="gp_app_settings",wB={showGasRobot:!0},kH=()=>{try{const t=localStorage.getItem(HE);if(t)return{...wB,...JSON.parse(t)}}catch(t){console.error("Failed to load settings from localStorage",t)}return wB},TH=({children:t})=>{const[e,r]=F.useState(kH),n=d=>{r(u=>{const h={...u,...d};try{localStorage.setItem(HE,JSON.stringify(h))}catch(m){console.error("Failed to save settings to localStorage",m)}return h})},i=d=>{n({showGasRobot:d})},l=F.useMemo(()=>({...e,setShowGasRobot:i,saveSettings:n}),[e]);return a.jsx(PE.Provider,{value:l,children:t})},qE=()=>{const t=F.useContext(PE);if(t===void 0)throw new Error("useSettings must be used within a SettingsProvider");return t},ab={minStock:{},financialDaysNotice:3,minMarginPercent:15,enabledStock:!0,enabledFinancial:!0,enabledMargin:!0},FH=t=>((t==null?void 0:t.is_delivery_fee)??(t==null?void 0:t.isDeliveryFee))===!0||String((t==null?void 0:t.product_group)??(t==null?void 0:t.codigo)??"").toLowerCase()==="delivery_fee"?!0:String((t==null?void 0:t.nome)??"").toLowerCase()==="taxa de entrega",OH=t=>FH(t)||((t==null?void 0:t.track_stock)??(t==null?void 0:t.trackStock))===!1?!0:(t==null?void 0:t.type)==="SERVICE",QH=({onClose:t})=>{const[e,r]=F.useState("monitor"),{showGasRobot:n,setShowGasRobot:i}=qE(),[l,d]=F.useState([]),[u,h]=F.useState(ab),[m,g]=F.useState([]),[b,B]=F.useState("");F.useEffect(()=>{let O=!0;return(async()=>{try{const D=await Ii.getAll();if(!O)return;g(D),h(ab),d([])}catch(D){console.error("Erro ao carregar dados da Central de Alertas:",D),O&&(d([]),g([]),h(ab),jr.error("Erro ao carregar produtos para alertas"))}})(),()=>{O=!1}},[]);const w=()=>{d([])},S=async()=>{w(),jr.success("Configuraes aplicadas (sesso atual)")},U=async O=>{const D={...u,[O]:!u[O]};h(D),w()},k=(O,D)=>{const H=parseInt(D);h(re=>({...re,minStock:{...re.minStock,[O]:isNaN(H)?0:H}}))},C=m.filter(O=>{const D=(O.nome??O.name??"").toString().toLowerCase(),H=(O.tipo??O.type??"").toString(),re=b.toLowerCase();return!D.includes(re)||H==="OUTROS"?!1:!OH(O)});return a.jsxs("div",{className:"fixed inset-0 bg-app z-50 flex flex-col animate-in slide-in-from-bottom-4 duration-300",children:[a.jsxs("div",{className:"bg-surface border-b border-bdr px-6 py-4 flex justify-between items-center shadow-sm shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"bg-red-500/10 p-2.5 rounded-xl border border-red-500/20",children:a.jsx(gv,{className:"w-6 h-6 text-red-600 animate-pulse"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-black text-txt-main tracking-tight",children:"Central de Alertas"}),a.jsx("p",{className:"text-xs text-txt-muted font-bold uppercase tracking-widest",children:"Monitoramento Inteligente"})]})]}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-red-500/10 text-txt-muted hover:text-red-500 rounded-full transition-colors",children:a.jsx(Vn,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[a.jsxs("div",{className:"w-72 bg-surface border-r border-bdr flex flex-col p-4 gap-2",children:[a.jsxs("button",{onClick:()=>r("monitor"),className:`p-4 rounded-xl flex items-center gap-3 transition-all text-left ${e==="monitor"?"bg-red-500 text-white shadow-lg shadow-red-500/20":"hover:bg-app text-txt-muted"}`,children:[a.jsx(pj,{className:"w-5 h-5"}),a.jsxs("div",{children:[a.jsx("span",{className:"block text-sm font-black uppercase",children:"Monitoramento"}),a.jsxs("span",{className:`text-[10px] font-bold ${e==="monitor"?"text-red-100":"text-txt-muted"}`,children:[l.length," alertas ativos"]})]})]}),a.jsx("div",{className:"h-px bg-bdr my-2"}),a.jsx("p",{className:"px-2 text-[10px] font-black text-txt-muted uppercase tracking-widest mb-1",children:"Configurao"}),a.jsxs("button",{onClick:()=>r("config-stock"),className:`p-3 rounded-xl flex items-center gap-3 transition-all text-left ${e==="config-stock"?"bg-app border-2 border-primary text-txt-main":"hover:bg-app border-2 border-transparent text-txt-muted"}`,children:[a.jsx(fo,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-bold",children:"Estoque Mnimo"})]}),a.jsxs("button",{onClick:()=>r("config-fin"),className:`p-3 rounded-xl flex items-center gap-3 transition-all text-left ${e==="config-fin"?"bg-app border-2 border-primary text-txt-main":"hover:bg-app border-2 border-transparent text-txt-muted"}`,children:[a.jsx(Uu,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-bold",children:"Regras Gerais"})]})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto bg-app p-8",children:[e==="monitor"&&a.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[a.jsxs("div",{className:`p-6 rounded-2xl border-2 flex items-center gap-6 shadow-sm ${l.length>0?"bg-red-50 border-red-100":"bg-emerald-50 border-emerald-100"}`,children:[a.jsx("div",{className:`p-4 rounded-full ${l.length>0?"bg-red-100 text-red-600":"bg-emerald-100 text-emerald-600"}`,children:l.length>0?a.jsx(sm,{className:"w-10 h-10"}):a.jsx(oA,{className:"w-10 h-10"})}),a.jsxs("div",{children:[a.jsx("h3",{className:`text-2xl font-black ${l.length>0?"text-red-700":"text-emerald-700"}`,children:l.length>0?"Ateno Necessria":"Sistema Estvel"}),a.jsx("p",{className:"text-sm font-bold opacity-70 text-txt-main",children:l.length>0?`Foram detectados ${l.length} pontos de ateno que requerem sua interveno.`:"Todos os indicadores operacionais esto dentro dos conformes."})]})]}),a.jsx("div",{className:"space-y-4",children:l.map(O=>a.jsxs("div",{className:"bg-surface p-5 rounded-xl border border-bdr shadow-sm hover:shadow-md transition-shadow flex items-start gap-4 group",children:[a.jsxs("div",{className:`mt-1 p-2 rounded-lg shrink-0 ${O.severity==="CRITICAL"?"bg-red-500 text-white":"bg-amber-100 text-amber-600"}`,children:[O.type==="STOCK"&&a.jsx(fo,{className:"w-5 h-5"}),O.type==="FINANCIAL"&&a.jsx(Cw,{className:"w-5 h-5"}),O.type==="MARGIN"&&a.jsx(Ab,{className:"w-5 h-5"})]}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsx("h4",{className:"text-sm font-black text-txt-main uppercase tracking-wide",children:O.title}),a.jsx("span",{className:`text-[10px] font-black px-2 py-1 rounded border uppercase ${O.severity==="CRITICAL"?"bg-red-50 text-red-600 border-red-100":"bg-amber-50 text-amber-600 border-amber-100"}`,children:O.severity==="CRITICAL"?"Crtico":"Aviso"})]}),a.jsx("p",{className:"text-sm text-txt-muted mt-1 font-medium",children:O.message}),a.jsx("div",{className:"mt-3 flex items-center gap-2 text-xs font-bold text-primary",children:a.jsx("span",{className:"bg-app px-2 py-1 rounded border border-bdr text-txt-muted uppercase",children:O.location})})]})]},O.id))})]}),e==="config-stock"&&a.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[a.jsxs("div",{className:"bg-surface p-6 rounded-2xl border border-bdr shadow-sm flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-black text-txt-main",children:"Alertas de Estoque Mnimo"}),a.jsx("p",{className:"text-xs text-txt-muted font-bold",children:"Defina a quantidade mnima para disparar avisos"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-xs font-bold uppercase text-txt-muted",children:u.enabledStock?"Ativado":"Desativado"}),a.jsx("button",{onClick:()=>U("enabledStock"),className:`w-12 h-6 rounded-full p-1 transition-colors ${u.enabledStock?"bg-emerald-500":"bg-gray-300"}`,children:a.jsx("div",{className:`w-4 h-4 bg-white rounded-full shadow-sm transition-transform ${u.enabledStock?"translate-x-6":""}`})})]})]}),a.jsxs("div",{className:"bg-surface rounded-2xl border border-bdr overflow-hidden shadow-sm",children:[a.jsxs("div",{className:"p-4 border-b border-bdr flex gap-4",children:[a.jsx(lA,{className:"w-5 h-5 text-txt-muted"}),a.jsx("input",{type:"text",placeholder:"Filtrar produtos...",value:b,onChange:O=>B(O.target.value),className:"flex-1 bg-transparent outline-none text-sm font-bold text-txt-main"})]}),a.jsxs("table",{className:"w-full text-left text-sm",children:[a.jsx("thead",{className:"bg-app text-[10px] font-black text-txt-muted uppercase tracking-widest",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4",children:"Produto"}),a.jsx("th",{className:"px-6 py-4 w-40 text-center",children:"Estoque Mnimo"})]})}),a.jsx("tbody",{className:"divide-y divide-bdr",children:C.map(O=>a.jsxs("tr",{className:"hover:bg-app transition-colors",children:[a.jsx("td",{className:"px-6 py-4 font-bold text-txt-main",children:O.nome}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsx("input",{type:"number",value:u.minStock[O.id]||0,onChange:D=>k(O.id,D.target.value),className:"w-20 text-center bg-app border border-bdr rounded-lg p-2 font-bold text-txt-main focus:ring-2 focus:ring-primary outline-none"})})]},O.id))})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsxs("button",{onClick:S,className:"bg-primary text-white px-8 py-3 rounded-xl font-black shadow-lg shadow-primary/20 flex items-center gap-2 active:scale-95 transition-transform",children:[a.jsx(il,{className:"w-5 h-5"})," SALVAR ALTERAES"]})})]}),e==="config-fin"&&a.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[a.jsxs("div",{className:"bg-surface p-8 rounded-2xl border border-bdr shadow-sm space-y-6",children:[a.jsx("div",{className:"flex justify-between items-start",children:a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-black text-txt-main flex items-center gap-2",children:[a.jsx(ES,{className:"w-5 h-5 text-purple-500"})," Interface"]}),a.jsx("p",{className:"text-xs text-txt-muted font-bold mt-1",children:"Controles de interface e automao"})]})}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-txt-main",children:"Gas-Rob"}),a.jsx("p",{className:"text-xs text-txt-muted",children:"Exibir o mascote de alertas flutuante."})]}),a.jsx("button",{onClick:()=>i(!n),className:`w-12 h-6 rounded-full p-1 transition-colors ${n?"bg-emerald-500":"bg-gray-300"}`,children:a.jsx("div",{className:`w-4 h-4 bg-white rounded-full shadow-sm transition-transform ${n?"translate-x-6":""}`})})]})]}),a.jsxs("div",{className:"bg-surface p-8 rounded-2xl border border-bdr shadow-sm space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-black text-txt-main flex items-center gap-2",children:[a.jsx(Cw,{className:"w-5 h-5 text-blue-500"})," Alertas Financeiros"]}),a.jsx("p",{className:"text-xs text-txt-muted font-bold mt-1",children:"Avisos sobre contas a pagar e receber"})]}),a.jsx("button",{onClick:()=>U("enabledFinancial"),className:`w-12 h-6 rounded-full p-1 transition-colors ${u.enabledFinancial?"bg-emerald-500":"bg-gray-300"}`,children:a.jsx("div",{className:`w-4 h-4 bg-white rounded-full shadow-sm transition-transform ${u.enabledFinancial?"translate-x-6":""}`})})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 opacity-100 transition-opacity",children:a.jsxs("div",{className:`space-y-2 ${!u.enabledFinancial&&"opacity-50 pointer-events-none"}`,children:[a.jsx("label",{className:"text-xs font-black text-txt-muted uppercase",children:"Antecedncia do Aviso (Dias)"}),a.jsx("input",{type:"number",value:u.financialDaysNotice,onChange:O=>h({...u,financialDaysNotice:parseInt(O.target.value)}),className:"w-full bg-app border border-bdr rounded-xl p-3 font-bold text-txt-main outline-none focus:ring-2 focus:ring-blue-500"}),a.jsx("p",{className:"text-[10px] text-txt-muted",children:"Dias antes do vencimento para comear a alertar."})]})})]}),a.jsxs("div",{className:"bg-surface p-8 rounded-2xl border border-bdr shadow-sm space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-black text-txt-main flex items-center gap-2",children:[a.jsx(Ab,{className:"w-5 h-5 text-amber-500"})," Proteo de Margem"]}),a.jsx("p",{className:"text-xs text-txt-muted font-bold mt-1",children:"Alerta se o preo de venda estiver prximo do custo"})]}),a.jsx("button",{onClick:()=>U("enabledMargin"),className:`w-12 h-6 rounded-full p-1 transition-colors ${u.enabledMargin?"bg-emerald-500":"bg-gray-300"}`,children:a.jsx("div",{className:`w-4 h-4 bg-white rounded-full shadow-sm transition-transform ${u.enabledMargin?"translate-x-6":""}`})})]}),a.jsxs("div",{className:`space-y-2 ${!u.enabledMargin&&"opacity-50 pointer-events-none"}`,children:[a.jsx("label",{className:"text-xs font-black text-txt-muted uppercase",children:"Margem de Lucro Mnima (%)"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"number",value:u.minMarginPercent,onChange:O=>h({...u,minMarginPercent:parseFloat(O.target.value)}),className:"w-full bg-app border border-bdr rounded-xl p-3 font-bold text-txt-main outline-none focus:ring-2 focus:ring-amber-500"}),a.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 font-black text-txt-muted",children:"%"})]}),a.jsx("p",{className:"text-[10px] text-txt-muted",children:"Se a margem (Markup) cair abaixo deste valor, um alerta ser gerado."})]})]}),a.jsx("div",{className:"flex justify-end pt-4",children:a.jsxs("button",{onClick:S,className:"bg-primary text-white px-8 py-3 rounded-xl font-black shadow-lg shadow-primary/20 flex items-center gap-2 active:scale-95 transition-transform",children:[a.jsx(il,{className:"w-5 h-5"})," SALVAR REGRAS"]})})]})]})]})]})},RH=t=>({id:t.id,nome:t.name,cargo:t.role,depositoId:t.deposit_id,ativo:t.active,telefone:void 0,username:t.username,password:t.password,permissoes:t.permissions||[]}),DH=t=>({id:t.id,nome:t.name,endereco:t.address||void 0,ativo:t.active,cor:t.color||void 0,require_stock_audit:t.require_stock_audit,free_shipping_min_value:t.free_shipping_min_value||void 0}),MH=({onClose:t})=>{var Ne;const[e,r]=F.useState([]),[n,i]=F.useState([]),[l,d]=F.useState(!1),u=async()=>{d(!0);try{const[M,T]=await Promise.all([zi.getAll(),Lc.getAll()]);r(M.map(RH)),i(T.map(DH))}catch(M){console.error("Erro ao carregar colaboradores/depositos",M),jr.error("Erro ao carregar colaboradores ou depsitos")}finally{d(!1)}};F.useEffect(()=>{u()},[]);const[h,m]=F.useState(""),[g,b]=F.useState("ALL"),[B,w]=F.useState("ACTIVE"),[S,U]=F.useState(!1),[k,C]=F.useState(!1),[O,D]=F.useState(null),[H,re]=F.useState(null),[q,ne]=F.useState({permissoes:[]}),te=M=>M==="ENTREGADOR"||M==="GERENTE",G=(M,T)=>{var $;return!M&&te(T)?" Acesso Global (todos os depsitos)":M?(($=n.find(X=>X.id===M))==null?void 0:$.nome)||"Depsito no encontrado":" SEM DEPSITO (ERRO)"},de=M=>{const T=M.length;return{deliveriesToday:12+T%5,deliveriesMonth:140+T*10,avgTime:20+T%15,rating:4+T%10/10,recentOs:[{id:"20251001",time:"10:30",address:"Rua das Flores, 123",status:"DONE"},{id:"20251005",time:"11:15",address:"Av. Brasil, 500",status:"DONE"},{id:"20251009",time:"12:00",address:"Centro, Rua 1",status:"LATE"}]}},K=async M=>{if(M.cargo==="ENTREGADOR"){D(M);try{const T=await zi.hasHistory(M.id);re(T?de(M.id):null)}catch(T){console.error("Erro ao verificar histrico do entregador",T),re(null)}}},W=async()=>{var Ae,xe;if(!((Ae=q.nome)!=null&&Ae.trim()))return jr.error("O campo Nome  obrigatrio.");if(!q.cargo)return jr.error("O campo Cargo  obrigatrio.");if(!((xe=q.username)!=null&&xe.trim()))return jr.error("O campo Nome de Usurio  obrigatrio.");const M=te(q.cargo);if(!M&&!q.depositoId)return jr.error("Selecione um depsito para este colaborador! Apenas ENTREGADOR e GERENTE tm acesso global.");const T=q.username.trim().toLowerCase();if(e.some(Be=>{var ke;return Be.id!==q.id&&((ke=Be.username)==null?void 0:ke.trim().toLowerCase())===T}))return jr.error(`O nome de usurio "${q.username}" j existe!`);const X={name:q.nome.trim(),role:q.cargo,deposit_id:M?null:q.depositoId,active:q.ativo??!0,username:T,password:q.password||"",permissions:q.permissoes||[]};try{q.id?(await zi.update(q.id,X),jr.success("Colaborador atualizado com sucesso")):(await zi.create(X),jr.success("Colaborador criado com sucesso")),U(!1),ne({permissoes:[]}),u()}catch(Be){console.error("Erro ao salvar colaborador:",Be),jr.error((Be==null?void 0:Be.message)||"Erro ao salvar colaborador")}},ie=async M=>{try{const T=await zi.hasHistory(M),$=e.find(X=>X.id===M);if(T){const X=$!=null&&$.nome?`(${$.nome})`:"";if(!confirm(`Este colaborador ${X} possui histrico de movimentaes e no pode ser excludo.

Deseja DESATIVAR o acesso?`))return;await zi.deactivate(M),jr.success("Colaborador desativado")}else{if(!confirm("Este colaborador no possui histrico. Deseja EXCLUIR permanentemente o registro?"))return;await zi.delete(M),(O==null?void 0:O.id)===M&&D(null),jr.success("Colaborador excludo")}u()}catch(T){console.error("Erro ao excluir/desativar colaborador",T),jr.error((T==null?void 0:T.message)||"Erro ao excluir colaborador")}},z=async M=>{if(confirm("Reativar acesso deste colaborador?"))try{await zi.update(M,{active:!0}),jr.success("Colaborador reativado"),u()}catch(T){console.error("Erro ao reativar colaborador",T),jr.error((T==null?void 0:T.message)||"Erro ao reativar colaborador")}},he=async()=>{const M=e.filter(X=>!(X.cargo==="GERENTE"||X.cargo==="ENTREGADOR")&&!X.depositoId);if(console.log(" Verificando usurios sem depsito:",{total:e.length,problemUsers:M.map(X=>({nome:X.nome,cargo:X.cargo,depositoId:X.depositoId}))}),M.length===0){alert(" Nenhum usurio precisa de correo!");return}if(n.length===0){alert(" Nenhum depsito disponvel! Crie depsitos primeiro.");return}const T=n[0],$=`Encontrados ${M.length} usurio(s) sem depsito:

${M.map(X=>`- ${X.nome} (${X.cargo})`).join(`
`)}

Deseja vincular todos ao depsito "${T.nome}"?`;if(confirm($))try{for(const X of M)await zi.update(X.id,{deposit_id:T.id});jr.success(`${M.length} usurio(s) corrigido(s) com sucesso!`),u()}catch(X){console.error("Erro ao corrigir usurios sem depsito",X),jr.error((X==null?void 0:X.message)||"Erro ao corrigir usurios")}},V=M=>{ne({...M,permissoes:M.permissoes||[]}),U(!0)},me=M=>{const T=q.permissoes||[];T.includes(M)?ne({...q,permissoes:T.filter($=>$!==M)}):ne({...q,permissoes:[...T,M]})},ee=()=>{var M;((M=q.permissoes)==null?void 0:M.length)===nd.length?ne({...q,permissoes:[]}):ne({...q,permissoes:nd.map(T=>T.id)})},Ce=e.filter(M=>{const T=M.nome.toLowerCase().includes(h.toLowerCase()),$=g==="ALL"?!0:M.cargo===g,X=B==="ALL"?!0:B==="ACTIVE"?M.ativo:!M.ativo;return T&&$&&X});return a.jsxs("div",{className:"fixed inset-0 bg-app z-50 flex flex-col animate-in slide-in-from-bottom-4 duration-300",children:[a.jsxs("div",{className:"bg-surface border-b border-bdr px-6 py-4 flex justify-between items-center shadow-sm shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"bg-indigo-500/10 p-2.5 rounded-xl border border-indigo-500/20",children:a.jsx(MA,{className:"w-6 h-6 text-indigo-600"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-black text-txt-main tracking-tight",children:"Gesto de Colaboradores"}),a.jsx("p",{className:"text-xs text-txt-muted font-bold uppercase tracking-widest",children:"Equipe & Performance"})]})]}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-red-500/10 text-txt-muted hover:text-red-500 rounded-full transition-colors",children:a.jsx(Vn,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[a.jsxs("div",{className:"flex-1 flex flex-col bg-app overflow-hidden relative",children:[a.jsxs("div",{className:"p-6 pb-2 flex flex-col md:flex-row gap-4 justify-between items-center",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 w-full md:w-auto",children:[a.jsx("div",{className:"flex gap-2 bg-surface p-1 rounded-xl border border-bdr shadow-sm overflow-x-auto",children:["ALL","GERENTE","ENTREGADOR","ATENDENTE","CAIXA"].map(M=>a.jsx("button",{onClick:()=>b(M),className:`px-4 py-2 rounded-lg text-xs font-black uppercase transition-all whitespace-nowrap ${g===M?"bg-indigo-600 text-white shadow-md":"text-txt-muted hover:bg-app hover:text-txt-main"}`,children:M==="ALL"?"Todos":M},M))}),a.jsxs("div",{className:"flex gap-2 bg-surface p-1 rounded-xl border border-bdr shadow-sm",children:[a.jsx("button",{onClick:()=>w("ACTIVE"),className:`px-3 py-2 rounded-lg text-xs font-bold ${B==="ACTIVE"?"bg-emerald-100 text-emerald-700":"text-txt-muted"}`,children:"Ativos"}),a.jsx("button",{onClick:()=>w("INACTIVE"),className:`px-3 py-2 rounded-lg text-xs font-bold ${B==="INACTIVE"?"bg-red-100 text-red-700":"text-txt-muted"}`,children:"Inativos"}),a.jsx("button",{onClick:()=>w("ALL"),className:`px-3 py-2 rounded-lg text-xs font-bold ${B==="ALL"?"bg-gray-100 text-gray-700":"text-txt-muted"}`,children:"Todos"})]})]}),a.jsxs("div",{className:"flex gap-3 w-full md:w-auto",children:[a.jsxs("div",{className:"relative flex-1 md:w-64",children:[a.jsx(lA,{className:"w-4 h-4 text-txt-muted absolute left-3 top-3"}),a.jsx("input",{type:"text",placeholder:"Buscar por nome...",value:h,onChange:M=>m(M.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-surface border border-bdr rounded-xl text-sm font-bold text-txt-main focus:ring-2 focus:ring-indigo-500 outline-none shadow-sm"})]}),a.jsxs("button",{onClick:he,className:"bg-amber-600 hover:bg-amber-700 text-white px-4 py-2 rounded-xl font-black text-xs flex items-center gap-2 shadow-lg shadow-amber-500/20 transition-transform active:scale-95",title:"Corrigir usurios sem depsito vinculado",children:[a.jsx(Nw,{className:"w-4 h-4"})," CORRIGIR"]}),a.jsxs("button",{onClick:()=>{ne({ativo:!0,cargo:"ENTREGADOR",depositoId:void 0,permissoes:[]}),U(!0)},className:"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-xl font-black text-xs flex items-center gap-2 shadow-lg shadow-indigo-500/20 transition-transform active:scale-95",children:[a.jsx(Fw,{className:"w-4 h-4"})," NOVO"]})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6 pt-2",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:[Ce.map(M=>{var T;return a.jsxs("div",{onClick:()=>K(M),className:`bg-surface border border-bdr rounded-2xl p-5 hover:shadow-lg transition-all group relative cursor-pointer ${(O==null?void 0:O.id)===M.id?"ring-2 ring-indigo-500 bg-indigo-50/10":""} ${M.ativo?"":"opacity-70"}`,children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center text-sm font-black border-2 shadow-sm ${M.ativo?M.cargo==="ENTREGADOR"?"bg-orange-100 text-orange-600 border-orange-200":M.cargo==="GERENTE"?"bg-purple-100 text-purple-600 border-purple-200":"bg-blue-100 text-blue-600 border-blue-200":"bg-gray-100 border-gray-200 text-gray-400"}`,children:M.nome.substring(0,2).toUpperCase()}),a.jsxs("div",{children:[a.jsxs("h3",{className:"font-bold text-txt-main leading-tight flex items-center gap-2",children:[M.nome,!M.ativo&&a.jsx("span",{className:"bg-red-500 text-white text-[9px] px-1.5 py-0.5 rounded uppercase",children:"Inativo"})]}),a.jsx("span",{className:`text-[10px] font-black px-2 py-0.5 rounded uppercase mt-1 inline-block ${M.ativo?M.cargo==="ENTREGADOR"?"bg-orange-500 text-white":"bg-app text-txt-muted border border-bdr":"bg-gray-100 text-gray-500"}`,children:M.cargo})]})]}),a.jsx("div",{children:M.ativo?a.jsx(oA,{className:"w-5 h-5 text-emerald-500"}):a.jsx(Xh,{className:"w-5 h-5 text-red-500"})})]}),a.jsxs("div",{className:"space-y-2 mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs text-txt-muted",children:[a.jsx(HA,{className:"w-3.5 h-3.5"}),a.jsx("span",{className:"font-medium truncate",children:G(M.depositoId,M.cargo)})]}),M.username&&a.jsxs("div",{className:"flex items-center gap-2 text-xs text-txt-muted",children:[a.jsx(bj,{className:"w-3.5 h-3.5"}),a.jsx("span",{className:"font-mono bg-app px-1.5 rounded",children:M.username})]})]}),a.jsxs("div",{className:"flex items-center gap-1 text-[10px] font-bold text-txt-muted bg-app/50 p-2 rounded-lg",children:[a.jsx(Uw,{className:"w-3 h-3"}),a.jsxs("span",{children:[((T=M.permissoes)==null?void 0:T.length)||0," mdulos permitidos"]})]}),a.jsx("div",{className:"flex gap-2 border-t border-bdr pt-3 mt-3 opacity-0 group-hover:opacity-100 transition-opacity",children:M.ativo?a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:$=>{$.stopPropagation(),V(M)},className:"flex-1 py-2 rounded-lg bg-app hover:bg-indigo-50 text-indigo-600 text-xs font-bold transition-colors",children:"Editar"}),a.jsx("button",{onClick:$=>{$.stopPropagation(),ie(M.id)},className:"p-2 rounded-lg bg-app hover:bg-red-50 text-red-500 transition-colors",title:"Desativar ou Excluir",children:a.jsx(oa,{className:"w-4 h-4"})})]}):a.jsx("button",{onClick:$=>{$.stopPropagation(),z(M.id)},className:"w-full py-2 rounded-lg bg-emerald-50 text-emerald-600 text-xs font-bold hover:bg-emerald-100 transition-colors",children:"Reativar Acesso"})}),M.cargo==="ENTREGADOR"&&a.jsx("div",{className:"absolute top-5 right-5 text-indigo-500 opacity-20 group-hover:opacity-100 transition-opacity",children:a.jsx(Nw,{className:"w-5 h-5"})})]},M.id)}),Ce.length===0&&a.jsx("div",{className:"col-span-full py-12 text-center text-txt-muted",children:a.jsx("p",{className:"font-bold",children:"Nenhum colaborador encontrado com os filtros atuais."})})]})})]}),O&&O.cargo==="ENTREGADOR"&&H&&O.ativo&&a.jsxs("div",{className:"w-96 bg-surface border-l border-bdr flex flex-col shadow-2xl animate-in slide-in-from-right duration-300 relative z-10",children:[a.jsxs("div",{className:"p-6 bg-indigo-600 text-white shrink-0 relative overflow-hidden",children:[a.jsx("button",{onClick:()=>D(null),className:"absolute top-4 right-4 p-1 hover:bg-white/20 rounded-full transition-colors",children:a.jsx(Vn,{className:"w-5 h-5"})}),a.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[a.jsx("div",{className:"w-16 h-16 rounded-full bg-white text-indigo-600 flex items-center justify-center font-black text-xl border-4 border-indigo-400",children:O.nome.substring(0,2).toUpperCase()}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-lg leading-tight",children:O.nome}),a.jsxs("div",{className:"flex items-center gap-1 text-xs font-medium text-indigo-200 mt-1",children:[a.jsx(Po,{className:"w-3 h-3"})," Motorista Oficial"]})]})]}),a.jsx(Po,{className:"absolute -right-6 -bottom-6 w-32 h-32 text-black/10 rotate-12"})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-8",children:a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-app p-4 rounded-xl border border-bdr text-center",children:[a.jsx("span",{className:"text-xs font-bold text-txt-muted uppercase",children:"Hoje"}),a.jsx("p",{className:"text-3xl font-black text-indigo-600",children:H.deliveriesToday}),a.jsx("span",{className:"text-[10px] text-txt-muted",children:"entregas"})]}),a.jsxs("div",{className:"bg-app p-4 rounded-xl border border-bdr text-center",children:[a.jsx("span",{className:"text-xs font-bold text-txt-muted uppercase",children:"Ms"}),a.jsx("p",{className:"text-3xl font-black text-txt-main",children:H.deliveriesMonth}),a.jsx("span",{className:"text-[10px] text-txt-muted",children:"acumulado"})]})]})})]})]}),S&&a.jsx("div",{className:"fixed inset-0 bg-black/60 z-[60] flex items-center justify-center p-4 backdrop-blur-sm animate-in fade-in",children:a.jsxs("div",{className:"bg-surface w-full max-w-2xl rounded-2xl shadow-2xl border border-bdr overflow-hidden flex flex-col max-h-[90vh]",children:[a.jsxs("div",{className:"bg-app px-6 py-4 border-b border-bdr flex justify-between items-center shrink-0",children:[a.jsxs("h3",{className:"text-lg font-black text-txt-main flex items-center gap-2",children:[q.id?a.jsx(hf,{className:"w-5 h-5 text-indigo-500"}):a.jsx(Fw,{className:"w-5 h-5 text-indigo-500"}),q.id?"Editar Colaborador":"Novo Colaborador"]}),a.jsx("button",{onClick:()=>U(!1),className:"hover:bg-bdr p-1 rounded-full",children:a.jsx(Vn,{className:"w-5 h-5 text-txt-muted"})})]}),a.jsx("div",{className:"p-6 space-y-6 flex-1 overflow-y-auto",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-black text-txt-muted uppercase ml-1",children:"Nome Completo *"}),a.jsx("input",{type:"text",value:q.nome||"",onChange:M=>ne({...q,nome:M.target.value}),className:"w-full bg-app border border-bdr rounded-xl p-3 text-sm font-bold text-txt-main outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Ex: Joo da Silva"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-black text-txt-muted uppercase ml-1",children:"Cargo *"}),a.jsxs("select",{value:q.cargo||"ENTREGADOR",onChange:M=>ne({...q,cargo:M.target.value}),className:"w-full bg-app border border-bdr rounded-xl p-3 text-sm font-bold text-txt-main outline-none focus:ring-2 focus:ring-indigo-500 cursor-pointer",children:[a.jsx("option",{value:"GERENTE",children:"Gerente"}),a.jsx("option",{value:"ENTREGADOR",children:"Entregador"}),a.jsx("option",{value:"ATENDENTE",children:"Atendente"}),a.jsx("option",{value:"CAIXA",children:"Caixa"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-black text-txt-muted uppercase ml-1",children:"Telefone"}),a.jsx("input",{type:"text",value:q.telefone||"",onChange:M=>ne({...q,telefone:M.target.value}),className:"w-full bg-app border border-bdr rounded-xl p-3 text-sm font-bold text-txt-main outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"(00) 00000-0000"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"text-xs font-black text-txt-muted uppercase ml-1",children:["Vnculo de Depsito ",te(q.cargo)?"":"* (OBRIGATRIO)"]}),te(q.cargo)?a.jsx("div",{className:"w-full bg-indigo-50 border border-indigo-200 rounded-xl p-3 text-sm font-bold text-indigo-600",children:" Acesso Global (todos os depsitos). Este usurio pode operar em qualquer depsito."}):a.jsxs(a.Fragment,{children:[a.jsxs("select",{value:q.depositoId||"",onChange:M=>{const T=M.target.value;console.log(" Depsito selecionado:",T),ne({...q,depositoId:T})},className:`w-full bg-app border ${q.depositoId?"border-bdr":"border-red-500"} rounded-xl p-3 text-sm font-bold outline-none focus:ring-2 focus:ring-indigo-500 text-txt-main`,required:!0,children:[a.jsx("option",{value:"",children:" Selecione o depsito..."}),n.map(M=>a.jsx("option",{value:M.id,children:M.nome},M.id))]}),!q.depositoId&&a.jsxs("p",{className:"text-xs text-red-500 mt-1",children:[" Cargo ",q.cargo," DEVE ter depsito vinculado!"]})]})]}),a.jsxs("div",{className:"bg-surface border border-bdr rounded-xl p-4 space-y-4 shadow-sm",children:[a.jsxs("h4",{className:"text-xs font-black text-txt-main uppercase flex items-center gap-2",children:[a.jsx(j3,{className:"w-4 h-4 text-orange-500"})," Acesso ao Sistema"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-bold text-txt-muted uppercase ml-1",children:"Login"}),a.jsx("input",{type:"text",value:q.username||"",onChange:M=>ne({...q,username:M.target.value}),className:"w-full bg-app border border-bdr rounded-lg p-2 text-sm font-bold text-txt-main outline-none focus:ring-2 focus:ring-orange-500",placeholder:"usuario",autoComplete:"new-password"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-bold text-txt-muted uppercase ml-1",children:"Senha"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:k?"text":"password",value:q.password||"",onChange:M=>ne({...q,password:M.target.value}),className:"w-full bg-app border border-bdr rounded-lg p-2 pr-8 text-sm font-bold text-txt-main outline-none focus:ring-2 focus:ring-orange-500",placeholder:"",autoComplete:"new-password"}),a.jsx("button",{type:"button",onClick:()=>C(!k),className:"absolute right-2 top-2.5 text-txt-muted hover:text-txt-main",children:k?a.jsx(A3,{className:"w-3.5 h-3.5"}):a.jsx(d3,{className:"w-3.5 h-3.5"})})]})]})]})]})]}),a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("label",{className:"text-xs font-black text-txt-muted uppercase ml-1 flex items-center gap-2",children:[a.jsx(Uw,{className:"w-4 h-4"})," Permisses de Acesso"]}),a.jsx("button",{type:"button",onClick:ee,className:"text-[10px] font-bold text-indigo-600 hover:underline",children:((Ne=q.permissoes)==null?void 0:Ne.length)===nd.length?"Desmarcar Todos":"Marcar Todos"})]}),a.jsx("div",{className:"flex-1 bg-app border border-bdr rounded-xl p-2 overflow-y-auto max-h-[400px]",children:a.jsx("div",{className:"grid grid-cols-2 gap-2",children:nd.map(M=>{var X;const T=(X=q.permissoes)==null?void 0:X.includes(M.id),$=M.icon;return a.jsxs("div",{onClick:()=>me(M.id),className:`cursor-pointer flex items-center gap-2 p-2 rounded-lg border transition-all ${T?"bg-white border-indigo-200 shadow-sm":"bg-transparent border-transparent hover:bg-surface hover:border-bdr opacity-60"}`,children:[a.jsx("div",{className:`transition-colors ${T?"text-indigo-600":"text-txt-muted"}`,children:T?a.jsx(FB,{className:"w-4 h-4"}):a.jsx(Sj,{className:"w-4 h-4"})}),a.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[a.jsx("div",{className:`p-1 rounded ${M.bgColor}`,children:a.jsx($,{className:`w-3 h-3 ${M.color}`})}),a.jsx("span",{className:`text-[10px] font-bold truncate ${T?"text-txt-main":"text-txt-muted"}`,children:M.label})]})]},M.id)})})}),a.jsx("p",{className:"text-[10px] text-txt-muted mt-2 ml-1",children:"Defina quais mdulos aparecero no menu principal para este usurio."})]})]})}),a.jsxs("div",{className:"p-4 bg-app border-t border-bdr flex justify-end gap-3 shrink-0",children:[a.jsx("button",{onClick:()=>U(!1),className:"px-4 py-2 text-txt-muted font-bold hover:bg-surface rounded-lg transition-colors",children:"Cancelar"}),a.jsxs("button",{onClick:W,className:"px-6 py-2 bg-indigo-600 hover:bg-indigo-700 text-white font-black rounded-lg shadow-lg shadow-indigo-500/20 flex items-center gap-2",children:[a.jsx(il,{className:"w-4 h-4"})," SALVAR DADOS"]})]})]})})]})},PH=({onLoginSuccess:t})=>{const[e,r]=F.useState(null),[n,i]=F.useState(navigator.onLine),[l,d]=F.useState(""),[u,h]=F.useState(""),[m,g]=F.useState(""),[b,B]=F.useState(!1),[w,S]=F.useState("Administrador Principal"),[U,k]=F.useState("admin"),[C,O]=F.useState(""),[D,H]=F.useState("");F.useEffect(()=>{let te=!0;const G=()=>i(!0),de=()=>i(!1);return window.addEventListener("online",G),window.addEventListener("offline",de),zi.getAll().then(K=>te&&r(!K||K.length===0)).catch(()=>te&&r(!1)),()=>{te=!1,window.removeEventListener("online",G),window.removeEventListener("offline",de)}},[]);const re=async te=>{try{const G=await zi.getByUsername(te.toLowerCase());return G?{id:G.id,nome:G.name,cargo:G.role,depositoId:G.deposit_id,ativo:G.active,username:G.username,password:G.password,permissoes:G.permissions||[]}:null}catch(G){return console.error("Erro ao buscar usurio da nuvem:",G),null}},q=async te=>{te.preventDefault(),g(""),B(!0);try{const G=l.trim().toLowerCase(),de=u.trim();let K;if(!n){g("Sem conexo com a internet. Conecte-se e tente novamente."),B(!1);return}const W=await re(G);if(W)K=W;else{g("Usurio no encontrado!"),B(!1);return}if(!K.ativo){g("Usurio inativo!"),B(!1);return}if(!(K.cargo==="GERENTE"||K.cargo==="ENTREGADOR")&&!K.depositoId){g(`Usurio sem depsito vinculado! Cargo ${K.cargo} deve ter depsito definido. Contate o administrador.`),B(!1);return}const z=(K.password||"").trim();if(!z||z!==de){g("Senha incorreta!"),B(!1);return}t(K)}catch(G){console.error("Erro ao autenticar:",G),g("Erro ao conectar ao banco de dados."),B(!1)}},ne=async te=>{if(te.preventDefault(),!w||!U||!C||!D){g("Todos os campos so obrigatrios.");return}B(!0);try{const G=await Lc.create({name:D,address:"Endereo Principal",active:!0,color:"blue"}),de=await zi.create({name:w,role:"GERENTE",deposit_id:G.id,active:!0,username:U.trim().toLowerCase(),password:C.trim(),permissions:nd.map(K=>K.id)});t({id:de.id,nome:de.name,cargo:de.role,depositoId:de.deposit_id,ativo:de.active,username:de.username,password:de.password,permissoes:de.permissions||[]})}catch(G){console.error("Erro ao configurar sistema:",G),g("Erro ao configurar sistema. Tente novamente."),B(!1)}};return e===null?null:a.jsxs("div",{className:"min-h-screen w-full bg-slate-900 flex items-center justify-center p-4 relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-4 right-4 z-20",children:a.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-full text-xs font-bold ${n?"bg-green-500/20 text-green-400 border border-green-500/30":"bg-amber-500/20 text-amber-400 border border-amber-500/30"}`,children:[n?a.jsx(QB,{className:"w-3 h-3"}):a.jsx(OB,{className:"w-3 h-3"}),n?"Online":"Offline"]})}),a.jsx("div",{className:"absolute -top-24 -left-24 w-96 h-96 bg-red-600/20 rounded-full blur-[100px] animate-pulse"}),a.jsx("div",{className:"absolute bottom-0 right-0 w-[500px] h-[500px] bg-red-600/10 rounded-full blur-[120px]"}),a.jsxs("div",{className:"w-full max-w-md bg-white/10 backdrop-blur-xl border border-white/10 p-8 rounded-3xl shadow-2xl relative z-10 animate-in fade-in zoom-in-95 duration-500",children:[a.jsxs("div",{className:"text-center mb-10",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-red-600 to-red-800 rounded-2xl shadow-lg mb-6 transform rotate-3 hover:rotate-6 transition-transform",children:a.jsx(SB,{className:"w-10 h-10 text-white"})}),a.jsxs("h1",{className:"text-3xl font-black text-white tracking-tight",children:["Gs ",a.jsx("span",{className:"text-red-500",children:"Real"})]}),a.jsx("p",{className:"text-slate-400 text-sm font-medium mt-2",children:"Sistema Integrado de Gesto"})]}),e?a.jsxs("form",{onSubmit:ne,className:"space-y-5",children:[a.jsx("div",{className:"bg-blue-500/20 border border-blue-500/30 p-4 rounded-xl text-blue-200 text-xs font-medium text-center",children:"Bem-vindo! Vamos configurar seu acesso administrativo e o primeiro depsito."}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-xs font-black text-slate-400 uppercase ml-1",children:"Nome do Administrador"}),a.jsx("input",{type:"text",value:w,onChange:te=>S(te.target.value),className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-700 rounded-xl text-white outline-none focus:border-red-500 transition-all",placeholder:"Ex: Seu Nome"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-xs font-black text-slate-400 uppercase ml-1",children:"Nome do Depsito Principal"}),a.jsxs("div",{className:"relative",children:[a.jsx(LB,{className:"absolute left-3 top-3.5 w-4 h-4 text-slate-500"}),a.jsx("input",{type:"text",value:D,onChange:te=>H(te.target.value),className:"w-full pl-10 px-4 py-3 bg-slate-800/50 border border-slate-700 rounded-xl text-white outline-none focus:border-red-500 transition-all",placeholder:"Ex: Nome do Depsito"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-xs font-black text-slate-400 uppercase ml-1",children:"Usurio"}),a.jsx("input",{type:"text",value:U,onChange:te=>k(te.target.value),className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-700 rounded-xl text-white outline-none focus:border-red-500 transition-all",autoCapitalize:"none",autoCorrect:"off"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-xs font-black text-slate-400 uppercase ml-1",children:"Senha"}),a.jsx("input",{type:"password",value:C,onChange:te=>O(te.target.value),className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-700 rounded-xl text-white outline-none focus:border-red-500 transition-all",placeholder:"****"})]})]}),m&&a.jsx("p",{className:"text-red-400 text-xs font-bold text-center",children:m}),a.jsx("button",{type:"submit",disabled:b,className:"w-full py-4 bg-emerald-600 hover:bg-emerald-700 text-white font-black rounded-xl shadow-lg transition-all active:scale-95 flex items-center justify-center gap-2",children:b?a.jsx(rl,{className:"w-5 h-5 animate-spin"}):a.jsxs(a.Fragment,{children:[a.jsx(il,{className:"w-5 h-5"})," INICIAR SISTEMA"]})})]}):a.jsxs("form",{onSubmit:q,className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-xs font-black text-slate-400 uppercase ml-1",children:"Usurio"}),a.jsxs("div",{className:"relative group",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:a.jsx(Bm,{className:"h-5 w-5 text-slate-500 group-focus-within:text-red-500 transition-colors"})}),a.jsx("input",{type:"text",value:l,onChange:te=>d(te.target.value),className:"w-full pl-12 pr-4 py-4 bg-slate-800/50 border border-slate-700 rounded-xl text-white placeholder-slate-500 focus:ring-2 focus:ring-red-500 focus:border-transparent outline-none transition-all font-medium",placeholder:"Seu usurio de acesso",autoComplete:"username",autoCapitalize:"none",autoCorrect:"off",spellCheck:!1,autoFocus:!0})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-xs font-black text-slate-400 uppercase ml-1",children:"Senha"}),a.jsxs("div",{className:"relative group",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:a.jsx(IB,{className:"h-5 w-5 text-slate-500 group-focus-within:text-red-500 transition-colors"})}),a.jsx("input",{type:"password",value:u,onChange:te=>h(te.target.value),className:"w-full pl-12 pr-4 py-4 bg-slate-800/50 border border-slate-700 rounded-xl text-white placeholder-slate-500 focus:ring-2 focus:ring-red-500 focus:border-transparent outline-none transition-all font-medium tracking-wide",placeholder:"",autoComplete:"current-password"})]})]}),m&&a.jsx("div",{className:"p-3 rounded-lg bg-red-500/10 border border-red-500/20 text-red-400 text-sm font-bold text-center animate-in shake",children:m}),a.jsx("button",{type:"submit",disabled:b,className:"w-full py-4 bg-gradient-to-r from-red-600 to-red-800 hover:from-red-500 hover:to-red-700 text-white font-black rounded-xl shadow-lg shadow-red-900/25 flex items-center justify-center gap-2 transition-all active:scale-95 disabled:opacity-70 disabled:cursor-not-allowed group",children:b?a.jsx(rl,{className:"w-5 h-5 animate-spin"}):a.jsxs(a.Fragment,{children:["ACESSAR SISTEMA",a.jsx(bS,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})})]})]}),a.jsx("div",{className:"absolute bottom-4 text-slate-600 text-[10px] font-mono",children:"v2.5.0  Build 2025"})]})},HH="data:audio/mp3;base64,//uQxAAAAANIAAAAAExBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq//uQxAAAAANIAAAAAExBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq//uQxAAAAANIAAAAAExBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq//uQxAAAAANIAAAAAExBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq//uQxAAAAANIAAAAAExBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq",qH=({currentUser:t,onJobStart:e})=>{const[r,n]=F.useState(!1),[i,l]=F.useState(Date.now()),d=F.useRef(null);F.useEffect(()=>{d.current=new Audio(HH),d.current.loop=!1,d.current.volume=1},[]),F.useEffect(()=>{if(!r)return;const h=async()=>{await updateDriverHeartbeat(t,void 0,void 0,"DISPONIVEL"),l(Date.now()),(await listDeliveryJobs()).find(B=>B.assignedDriverId===t.id&&B.status==="EM_ROTA")&&(d.current&&d.current.play().catch(B=>console.log("udio bloqueado pelo navegador",B)),navigator.vibrate&&navigator.vibrate([500,200,500]),e())},m=setInterval(()=>{h()},3e3);return h(),()=>{clearInterval(m),d.current&&(d.current.pause(),d.current.currentTime=0)}},[r,t,e]);const u=()=>{r?updateDriverHeartbeat(t,void 0,void 0,"OFFLINE").finally(()=>n(!1)):(d.current&&d.current.play().then(()=>{var h;(h=d.current)==null||h.pause(),d.current.currentTime=0}).catch(h=>console.log("Erro ao desbloquear udio:",h)),n(!0))};return a.jsxs("div",{className:"h-full bg-slate-950 flex flex-col text-slate-200",children:[a.jsxs("div",{className:"px-6 py-8 flex flex-col items-center justify-center border-b border-slate-900 bg-slate-900/50",children:[a.jsx("div",{className:`w-24 h-24 rounded-full flex items-center justify-center mb-4 transition-all duration-500 ${r?"bg-emerald-500/10 shadow-[0_0_40px_rgba(16,185,129,0.2)]":"bg-slate-800"}`,children:r?a.jsxs("div",{className:"relative",children:[a.jsx(QB,{className:"w-10 h-10 text-emerald-500 animate-pulse"}),a.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-emerald-500/30 animate-ping"})]}):a.jsx(OB,{className:"w-10 h-10 text-slate-500"})}),a.jsx("h2",{className:"text-xl font-bold text-white mb-1",children:r?"Aguardando Chamados...":"Voc est Offline"}),a.jsx("p",{className:"text-xs text-slate-500 font-medium",children:r?"O operador enviar entregas para voc":"Ative para receber entregas"})]}),a.jsx("div",{className:"flex-1 flex flex-col items-center justify-center p-8 relative overflow-hidden",children:r?a.jsxs("div",{className:"relative w-64 h-64",children:[a.jsx("div",{className:"absolute inset-0 border border-emerald-500/20 rounded-full animate-[ping_3s_linear_infinite]"}),a.jsx("div",{className:"absolute inset-4 border border-emerald-500/30 rounded-full animate-[ping_3s_linear_infinite_1s]"}),a.jsx("div",{className:"absolute inset-12 border border-emerald-500/10 rounded-full"}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsx(wm,{className:"w-16 h-16 text-slate-600 opacity-50"})}),a.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-t from-emerald-500/20 to-transparent w-full h-1/2 top-1/2 origin-top animate-spin-slow opacity-30 pointer-events-none"})]}):a.jsxs("div",{className:"flex flex-col items-center text-slate-600 gap-4",children:[a.jsx(XS,{className:"w-20 h-20 opacity-20"}),a.jsx("p",{className:"font-medium text-sm",children:"Modo Pausa Ativo"})]})}),a.jsxs("div",{className:"p-6 bg-slate-900 border-t border-slate-800",children:[a.jsxs("button",{onClick:u,className:`w-full py-4 rounded-xl font-black text-lg shadow-lg flex items-center justify-center gap-3 transition-all active:scale-95 ${r?"bg-red-500/10 text-red-500 border border-red-500/50 hover:bg-red-500 hover:text-white":"bg-emerald-600 text-white hover:bg-emerald-500"}`,children:[a.jsx(tj,{className:"w-6 h-6"}),r?"FICAR OFFLINE":"INICIAR TURNO"]}),a.jsxs("p",{className:"text-center text-[10px] text-slate-600 mt-4 font-mono",children:["ltima conexo: ",new Date(i).toLocaleTimeString()]})]})]})},zH=({currentUser:t,onJobFinished:e})=>{const[r,n]=F.useState(null);if(F.useEffect(()=>{let u=!0;const h=async()=>{const b=(await listDeliveryJobsByDriver(t.id)).find(B=>B.status==="EM_ROTA");u&&(b?(n(b),await updateDriverHeartbeat(t,void 0,void 0,"OCUPADO")):e())};h();const m=setInterval(()=>{h()},5e3);return()=>{u=!1,clearInterval(m)}},[t,e]),!r)return a.jsx("div",{className:"p-10 text-center text-white",children:"Carregando dados da entrega..."});const i=()=>{confirm("Confirmar entrega realizada e recebimento do valor?")&&completeJob(r.id).then(()=>e())},l=()=>{const u=prompt("Motivo da devoluo/falha:");u&&returnJob(r.id,u).then(()=>e())},d=()=>{const u=encodeURIComponent(r.address.full+", Rio Verde - GO");window.open(`https://www.google.com/maps/search/?api=1&query=${u}`,"_blank")};return a.jsxs("div",{className:"flex flex-col h-full bg-slate-950 text-white overflow-hidden relative",children:[a.jsxs("div",{className:"h-1/3 bg-slate-800 relative w-full overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 opacity-30 bg-[url('https://upload.wikimedia.org/wikipedia/commons/e/ec/OpenStreetMap_Logo.png')] bg-cover bg-center grayscale mix-blend-overlay"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent to-slate-950"}),a.jsxs("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 px-4 py-1.5 rounded-full bg-slate-900/80 backdrop-blur border border-slate-700 text-xs font-bold uppercase tracking-widest flex items-center gap-2",children:[a.jsx(Iw,{className:"w-4 h-4 text-blue-500 animate-pulse"}),"Em Deslocamento"]})]}),a.jsxs("div",{className:"flex-1 bg-slate-900 rounded-t-[2rem] -mt-10 relative z-10 flex flex-col p-6 shadow-[0_-10px_40px_rgba(0,0,0,0.5)] border-t border-slate-800",children:[a.jsx("div",{className:"w-12 h-1.5 bg-slate-700 rounded-full mx-auto mb-6 opacity-50"}),a.jsxs("div",{className:"space-y-6 flex-1 overflow-y-auto pb-4",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black leading-tight mb-1",children:r.customerName}),a.jsxs("div",{className:"flex items-center gap-2 text-indigo-400 font-bold text-sm",onClick:()=>window.open(`tel:${r.customerPhone}`),children:[a.jsx(mv,{className:"w-4 h-4"})," ",r.customerPhone||"Sem telefone"]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-xs text-slate-500 font-bold uppercase",children:"Total a Receber"}),a.jsxs("div",{className:"text-2xl font-black text-emerald-400",children:["R$ ",r.totalValue.toFixed(2)]})]})]}),a.jsxs("div",{className:"bg-slate-800 p-4 rounded-2xl border border-slate-700 flex gap-4",children:[a.jsx(HA,{className:"w-6 h-6 text-indigo-500 shrink-0 mt-1"}),a.jsx("div",{children:a.jsx("p",{className:"text-sm font-medium text-slate-200 leading-snug",children:r.address.full})})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between text-sm border-b border-slate-800 pb-2",children:[a.jsx("span",{className:"text-slate-500",children:"Pagamento"}),a.jsx("span",{className:"font-bold",children:r.paymentMethod})]}),a.jsxs("div",{className:"flex justify-between text-sm border-b border-slate-800 pb-2",children:[a.jsx("span",{className:"text-slate-500",children:"Itens"}),a.jsx("span",{className:"font-bold text-right max-w-[200px] truncate",children:r.itemsSummary})]}),r.observation&&a.jsxs("div",{className:"bg-amber-500/10 border border-amber-500/20 p-3 rounded-xl text-xs text-amber-200",children:[a.jsx("span",{className:"font-bold block mb-1",children:"Observao:"}),r.observation]})]})]}),a.jsxs("div",{className:"mt-4 space-y-3",children:[a.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[a.jsx("button",{onClick:d,className:"col-span-1 bg-slate-800 hover:bg-slate-700 text-white rounded-xl flex items-center justify-center py-4",children:a.jsx(Iw,{className:"w-6 h-6"})}),a.jsxs("button",{onClick:i,className:"col-span-3 py-4 bg-emerald-600 hover:bg-emerald-700 text-white rounded-xl font-black text-base shadow-lg shadow-emerald-500/20 flex items-center justify-center gap-2",children:[a.jsx(oA,{className:"w-5 h-5"})," FINALIZAR"]})]}),a.jsx("button",{onClick:l,className:"w-full py-3 text-xs font-bold text-slate-500 hover:text-red-500 transition-colors",children:"Relatar Problema / Devolver"})]})]})]})},KH=({currentUser:t,onLogout:e})=>{const[r,n]=F.useState("WAITING");return F.useEffect(()=>{(async()=>{(await listDeliveryJobsByDriver(t.id)).find(u=>u.status==="EM_ROTA")&&n("ACTIVE")})()},[t]),a.jsxs("div",{className:"h-screen w-full overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"bg-slate-950 p-4 flex justify-between items-center border-b border-slate-800 shrink-0 z-50",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-800 border border-slate-700 flex items-center justify-center text-xs font-bold text-slate-300",children:t.nome.substring(0,2).toUpperCase()}),a.jsx("span",{className:"font-bold text-slate-200 text-sm",children:t.nome})]}),a.jsx("button",{onClick:e,className:"p-2 text-slate-500 hover:text-red-500 transition-colors",children:a.jsx(kB,{className:"w-5 h-5"})})]}),a.jsx("div",{className:"flex-1 relative",children:r==="WAITING"?a.jsx(qH,{currentUser:t,onJobStart:()=>n("ACTIVE")}):a.jsx(zH,{currentUser:t,onJobFinished:()=>n("WAITING")})})]})},VH=t=>{typeof window>"u"||window.dispatchEvent(new CustomEvent("gp:navigate",{detail:t}))},GH=()=>{const[t,e]=F.useState({x:window.innerWidth-150,y:window.innerHeight-150}),[r,n]=F.useState(!1),[i,l]=F.useState({x:0,y:0}),[d,u]=F.useState({x:0,y:0}),[h,m]=F.useState(0),[g,b]=F.useState(!1),[B,w]=F.useState(null),[S,U]=F.useState(!1),k=[],C=k.length,O=C>0?k[h%C]:null,D=F.useMemo(()=>k.some(de=>de.type==="critical"),[k]),H=D?"critical":C>0?"worried":"happy",re=F.useRef(null);F.useEffect(()=>{if(C<=1)return;const de=setInterval(()=>{m(K=>(K+1)%C)},5e3);return()=>clearInterval(de)},[C]),F.useEffect(()=>{h>=C&&m(0)},[h,C]),F.useEffect(()=>{const de=W=>{if(r&&(e({x:W.clientX-i.x,y:W.clientY-i.y}),B)){const ie=Math.abs(W.clientX-B.x),z=Math.abs(W.clientY-B.y);(ie>4||z>4)&&U(!0)}if(re.current){const ie=re.current.getBoundingClientRect(),z=ie.left+ie.width/2,he=ie.top+ie.height/2,V=Math.atan2(W.clientY-he,W.clientX-z),me=Math.min(3,Math.hypot(W.clientX-z,W.clientY-he)/20);u({x:Math.cos(V)*me,y:Math.sin(V)*me})}},K=()=>{n(!1),B&&(S||b(W=>!W),U(!1),w(null))};return window.addEventListener("mousemove",de),window.addEventListener("mouseup",K),()=>{window.removeEventListener("mousemove",de),window.removeEventListener("mouseup",K)}},[r,i,B,S]);const q=de=>{n(!0),l({x:de.clientX-t.x,y:de.clientY-t.y}),w({x:de.clientX,y:de.clientY}),U(!1)},ne=()=>H==="critical"?"bg-red-500 shadow-[0_0_15px_rgba(239,68,68,0.9)]":H==="worried"?"bg-amber-400 shadow-[0_0_10px_rgba(251,191,36,0.8)]":"bg-cyan-400 shadow-[0_0_10px_rgba(34,211,238,0.8)]",te=()=>H==="critical"?"bg-red-950/80 border-red-800":H==="worried"?"bg-amber-950/80 border-amber-800":"bg-slate-800 border-slate-600",G=de=>{VH(de),b(!1)};return a.jsxs("div",{ref:re,className:`fixed z-[9999] touch-none select-none cursor-move group transition-shadow duration-300 ${r?"scale-105":""}`,style:{left:t.x,top:t.y,filter:r?"drop-shadow(0 20px 20px rgba(0,0,0,0.3))":"drop-shadow(0 10px 10px rgba(0,0,0,0.2))"},onMouseDown:q,children:[O&&a.jsx("div",{className:"absolute -top-24 left-1/2 -translate-x-1/2",children:a.jsxs("div",{className:`relative bg-white text-gray-900 border rounded-2xl shadow-xl px-4 py-3 text-xs w-64 animate-in fade-in duration-300 ${D?"border-red-500":"border-gray-200"}`,children:[a.jsx("div",{className:`text-[10px] font-black uppercase ${O.type==="critical"?"text-red-600":"text-amber-600"}`,children:O.type==="critical"?"Critico":"Aviso"}),a.jsx("div",{className:"text-xs font-semibold text-gray-900",children:O.message}),a.jsx("div",{className:`absolute -bottom-3 left-8 w-3 h-3 rounded-full bg-white border ${D?"border-red-500":"border-gray-200"}`}),a.jsx("div",{className:`absolute -bottom-8 left-14 w-2 h-2 rounded-full bg-white border ${D?"border-red-500":"border-gray-200"}`}),a.jsx("div",{className:`absolute -bottom-16 left-20 w-1.5 h-1.5 rounded-full bg-white border ${D?"border-red-500":"border-gray-200"}`})]})}),C>0&&a.jsx("div",{className:"absolute -top-2 -right-2 bg-red-600 text-white text-[10px] font-black w-6 h-6 flex items-center justify-center rounded-full border-2 border-white z-20 animate-bounce",children:C}),a.jsx("div",{className:`relative ${r?"":"animate-float"}`,children:a.jsxs("div",{className:"relative w-20 h-24",children:[a.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-10 h-3 bg-slate-300 rounded-full border border-slate-400 z-10"}),a.jsx("div",{className:"absolute top-1 left-1/2 -translate-x-1/2 w-5 h-5 bg-slate-300 z-0 rounded-sm"}),a.jsxs("div",{className:"absolute top-5 w-full h-full bg-gradient-to-br from-slate-200 via-slate-300 to-slate-400 rounded-3xl border border-slate-400 shadow-inner flex flex-col items-center justify-center overflow-hidden",children:[a.jsx("div",{className:"absolute top-3 left-3 w-4 h-10 bg-white/40 rounded-full blur-[2px]"}),a.jsxs("div",{className:`w-14 h-9 rounded-xl mt-3 flex items-center justify-center gap-2 shadow-[inset_0_2px_4px_rgba(0,0,0,0.5)] border relative overflow-hidden transition-colors duration-500 ${te()}`,children:[a.jsxs("div",{className:"flex gap-2 transition-transform duration-100",style:{transform:`translate(${d.x}px, ${d.y}px)`},children:[a.jsx("div",{className:`w-3 h-3 rounded-full transition-colors duration-500 ${ne()} ${H==="worried"?"rounded-t-sm":""} ${H==="critical"?"animate-pulse":""}`}),a.jsx("div",{className:`w-3 h-3 rounded-full transition-colors duration-500 ${ne()} ${H==="worried"?"rounded-t-sm":""} ${H==="critical"?"animate-pulse":""}`})]}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-white/5 to-transparent animate-scan"})]}),a.jsxs("div",{className:"mt-3 flex flex-col gap-1 items-center",children:[a.jsx("div",{className:`w-8 h-0.5 rounded-full transition-colors ${H==="critical"?"bg-red-400":"bg-slate-500"}`}),a.jsx("div",{className:`w-6 h-0.5 rounded-full transition-colors ${H==="critical"?"bg-red-400":"bg-slate-500"}`})]}),a.jsx("div",{className:"absolute bottom-4 w-full border-t border-slate-400/30"})]}),a.jsx("div",{className:`absolute top-12 -left-3 w-4 h-4 bg-slate-400 rounded-full shadow-sm border border-slate-500 transition-transform ${r?"-rotate-12":"animate-wiggle-left"}`}),a.jsx("div",{className:`absolute top-12 -right-3 w-4 h-4 bg-slate-400 rounded-full shadow-sm border border-slate-500 transition-transform ${r?"rotate-12":"animate-wiggle-right"}`}),a.jsxs("div",{className:"absolute -top-6 left-1/2 -translate-x-1/2 opacity-0 group-hover:opacity-100 transition-opacity bg-slate-800 text-white text-[10px] px-2 py-1 rounded-full whitespace-nowrap pointer-events-none flex items-center gap-1",children:[a.jsx(z3,{className:"w-3 h-3"})," Arraste-me"]})]})}),g&&a.jsxs("div",{className:"absolute left-full top-0 ml-4 w-72 bg-white text-gray-900 border border-gray-200 rounded-xl shadow-xl overflow-hidden animate-in fade-in duration-200",onMouseDown:de=>de.stopPropagation(),onClick:de=>de.stopPropagation(),children:[a.jsxs("div",{className:"px-4 py-3 border-b border-gray-200 text-[10px] font-black uppercase text-gray-500",children:["Alertas do sistema (",C,")"]}),a.jsx("div",{className:"max-h-64 overflow-y-auto",children:k.length===0?a.jsx("div",{className:"px-4 py-4 text-xs text-gray-500",children:"Nenhum alerta ativo."}):k.map(de=>a.jsxs("button",{type:"button",onClick:()=>G(de.link),className:"w-full text-left px-4 py-3 border-b border-gray-100 last:border-b-0 hover:bg-gray-50",children:[a.jsx("div",{className:`text-[10px] font-black uppercase ${de.type==="critical"?"text-red-600":"text-amber-600"}`,children:de.type==="critical"?"Critico":"Aviso"}),a.jsx("div",{className:"text-xs text-gray-800",children:de.message})]},de.id))})]}),a.jsx("style",{children:`

        @keyframes float {

          0%, 100% { transform: translateY(0); }

          50% { transform: translateY(-8px); }

        }

        .animate-float {

          animation: float 3s infinite ease-in-out;

        }

        @keyframes scan {

          0% { transform: translateY(-100%); }

          100% { transform: translateY(100%); }

        }

        .animate-scan {

          animation: scan 2s linear infinite;

        }

      `})]})},$H=({user:t})=>{const{openShift:e}=mg(),[r,n]=F.useState(""),[i,l]=F.useState({}),[d,u]=F.useState([]),[h,m]=F.useState({}),[g,b]=F.useState(!1),[B,w]=F.useState(null),[S,U]=F.useState(t.depositoId||""),k=Xa(()=>{var ne;return(ne=Xr.deposits)==null?void 0:ne.toArray()},[])??[],C=Xa(()=>S?Xr.deposits.get(S):void 0,[S]),O=!!((C==null?void 0:C.require_stock_audit)??(C==null?void 0:C.requireStockAudit)),D=ne=>ne.deposit_id??ne.depositId??ne.depositoId??null;F.useEffect(()=>{let ne=!0;return(async()=>{if(S)try{const de=(await Ii.getAll()).filter(ie=>{if(ie.track_stock===!1||ie.type==="SERVICE")return!1;const z=D(ie);return z===null||z===S}),K=await Oh.getBalancesByDeposit(S),W={};if(K.forEach((ie,z)=>{W[z]=ie}),!ne)return;u(de),m(W)}catch(G){console.error("Erro ao carregar produtos/estoque",G),jr.error("Erro ao carregar produtos ou estoque para auditoria")}})(),()=>{ne=!1}},[S]);const H=F.useMemo(()=>!O||!d.length?!1:d.some(ne=>i[ne.id]===""||i[ne.id]===void 0),[O,d,i]),re=(ne,te)=>{const G=parseInt(te);l(de=>({...de,[ne]:Number.isNaN(G)?"":Math.max(0,G)}))},q=async()=>{if(w(null),!S){w("Erro: Usurio sem depsito vinculado.");return}const ne=Number(r.replace(",","."));if(!Number.isFinite(ne)||ne<0){w("Informe um valor valido para o fundo de troco.");return}if(H){w("Preencha a contagem inicial de estoque.");return}b(!0);try{await e({openingBalance:ne})}catch{w("Falha ao abrir o turno.")}finally{b(!1)}};return a.jsx("div",{className:"fixed inset-0 z-[70] bg-black/70 flex items-center justify-center p-6",children:a.jsxs("div",{className:"w-full max-w-3xl bg-surface border border-bdr rounded-2xl shadow-xl overflow-hidden",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-bdr flex items-center gap-3",children:[a.jsx("div",{className:"bg-primary/10 p-2 rounded-lg border border-primary/20",children:a.jsx(hv,{className:"w-5 h-5 text-primary"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-base font-black text-txt-main",children:"Abertura de Caixa"}),a.jsx("p",{className:"text-xs text-txt-muted",children:"Turno obrigatorio para acesso ao sistema."})]})]}),a.jsxs("div",{className:"p-6 space-y-6",children:[!t.depositoId&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-bold text-txt-main",children:"Selecione o Depsito *"}),a.jsxs("select",{value:S,onChange:ne=>U(ne.target.value),className:"w-full px-4 py-3 border border-bdr rounded-lg bg-app text-txt-main focus:ring-2 focus:ring-primary",required:!0,children:[a.jsx("option",{value:"",children:"-- Selecione um depsito --"}),k.map(ne=>a.jsx("option",{value:ne.id,children:ne.nome},ne.id))]}),a.jsx("p",{className:"text-xs text-txt-muted",children:"Selecione o depsito onde deseja abrir turno."})]}),B&&a.jsx("div",{className:"bg-red-500/10 border border-red-500/30 rounded-xl p-4",children:a.jsxs("div",{className:"flex items-center gap-2 text-red-500 font-bold text-sm",children:[a.jsx(rd,{className:"w-4 h-4"}),B]})}),a.jsxs("div",{className:"bg-app border border-bdr rounded-xl p-4 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-app rounded-full border border-bdr",children:a.jsx(LB,{className:"w-5 h-5 text-txt-muted"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-txt-muted uppercase font-bold",children:"Deposito"}),a.jsx("div",{className:"text-sm font-black text-txt-main",children:(C==null?void 0:C.nome)||"Selecione um depsito"})]})]}),O&&a.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-amber-500 bg-amber-500/10 border border-amber-500/20 px-2 py-1 rounded",children:[a.jsx(rd,{className:"w-4 h-4"}),"Auditoria de estoque obrigatoria"]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 items-end",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-xs font-bold text-txt-muted uppercase ml-1",children:"Fundo de Troco / Suprimento Inicial"}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute left-3 top-2.5 text-txt-muted font-medium",children:"R$"}),a.jsx("input",{type:"number",min:"0",value:r,onChange:ne=>n(ne.target.value),className:"w-full pl-10 pr-4 py-2 bg-app border border-bdr rounded-lg focus:ring-2 focus:ring-primary/20 outline-none font-bold text-txt-main",placeholder:"0.00"})]})]})}),O&&d.length>0&&a.jsxs("div",{className:"bg-app border border-bdr rounded-xl overflow-hidden",children:[a.jsx("div",{className:"px-4 py-3 border-b border-bdr",children:a.jsx("h4",{className:"text-xs font-black text-txt-muted uppercase tracking-widest",children:"Contagem Inicial de Estoque"})}),a.jsxs("table",{className:"w-full text-sm text-left",children:[a.jsx("thead",{className:"bg-surface text-[10px] text-txt-muted uppercase font-black border-b border-bdr",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3",children:"Produto"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"Estoque Sistema"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"Contado"})]})}),a.jsx("tbody",{className:"divide-y divide-bdr",children:d.map(ne=>a.jsxs("tr",{className:"hover:bg-app/60 transition-colors",children:[a.jsx("td",{className:"px-4 py-3 font-medium text-txt-main",children:ne.nome}),a.jsx("td",{className:"px-4 py-3 text-center font-mono text-txt-muted",children:h[ne.id]??0}),a.jsx("td",{className:"px-4 py-3 text-center",children:a.jsx("input",{type:"number",min:"0",value:i[ne.id]??"",onChange:te=>re(ne.id,te.target.value),className:"w-24 text-center font-black bg-surface border border-bdr rounded-lg py-1 text-txt-main focus:ring-2 focus:ring-primary/20 outline-none",placeholder:"-"})})]},ne.id))})]})]}),B&&a.jsx("div",{className:"text-xs font-bold text-red-500 bg-red-500/10 border border-red-500/20 px-3 py-2 rounded",children:B})]}),a.jsx("div",{className:"px-6 py-4 border-t border-bdr bg-app flex justify-end",children:a.jsxs("button",{onClick:q,disabled:g,className:"bg-primary hover:bg-primary/90 text-white px-6 py-2 rounded-lg font-black text-sm flex items-center gap-2 disabled:opacity-60",children:[a.jsx(il,{className:"w-4 h-4"}),g?"Abrindo...":"Abrir Turno"]})})]})})},ZH=({currentUser:t,children:e})=>{const{activeShift:r,loading:n}=mg();return t.cargo==="ENTREGADOR"||t.cargo==="GERENTE"?a.jsx(a.Fragment,{children:e}):a.jsxs(a.Fragment,{children:[e,n&&a.jsx("div",{className:"fixed inset-0 z-[70] bg-black/70 flex items-center justify-center text-white text-sm font-bold",children:"Carregando turno..."}),!n&&!r&&a.jsx($H,{user:t})]})},XH=()=>{const{showGasRobot:t}=qE(),[e,r]=F.useState(null),[n,i]=F.useState(null),[l,d]=F.useState(""),[u,h]=F.useState([]),[m,g]=F.useState(()=>localStorage.getItem("gp_theme")||"light"),b=null,B=.1;F.useEffect(()=>{(async()=>{console.log("Iniciando o sistema...");const H=localStorage.getItem("gp_session");if(H)try{const re=JSON.parse(H);r(re)}catch(re){console.error("Session parse error",re),localStorage.removeItem("gp_session")}})()},[]),F.useEffect(()=>{},[]),F.useEffect(()=>{const D=Zh.find(re=>re.id===m)||Zh[0],H=document.documentElement;H.style.setProperty("--app-bg",D.colors.appBg),H.style.setProperty("--surface-bg",D.colors.surfaceBg),H.style.setProperty("--text-main",D.colors.textMain),H.style.setProperty("--text-muted",D.colors.textMuted),H.style.setProperty("--border-color",D.colors.border),H.style.setProperty("--primary",D.colors.primary),H.style.setProperty("--app-pattern",D.pattern??"none"),H.style.setProperty("--bg-image","none"),H.style.setProperty("--bg-opacity",String(B)),localStorage.setItem("gp_theme",m),localStorage.removeItem("gp_bg_image"),localStorage.removeItem("gp_bg_opacity")},[m,b,B]);const w=F.useMemo(()=>e?e.cargo==="GERENTE"||e.username==="admin"?nd:nd.filter(D=>{var H;return(H=e.permissoes)==null?void 0:H.includes(D.id)}):[],[e]),S=()=>{const D=l.trim().toLowerCase();if(!D){h([]);return}const H=w.filter(re=>re.label.toLowerCase().includes(D)||re.id.toLowerCase().includes(D)).map(re=>re.id);h(H)},U=D=>{D.key==="Enter"&&(D.preventDefault(),S())},k=()=>{localStorage.removeItem("gp_session"),r(null),i(null)},C=D=>{switch(D){case"/stock":return"estoque";case"/finance":return"financeiro";case"/orders":return"nova-os";default:return null}};if(F.useEffect(()=>{const D=H=>{const re=H.detail;if(!re)return;const q=C(re);q&&i(q)};return window.addEventListener("gp:navigate",D),()=>window.removeEventListener("gp:navigate",D)},[]),!e)return a.jsx(PH,{onLoginSuccess:D=>{r(D),localStorage.setItem("gp_session",JSON.stringify(D))}});if(e.cargo==="ENTREGADOR")return a.jsx(KH,{currentUser:e,onLogout:k});const O=()=>{const H=["dispatch","sales-modalities","transaction-modalities","delivery-settings"].includes(n||"")||w.some(re=>re.id===n);if(n&&!H)return null;switch(n){case"dispatch":return a.jsx(LH,{onClose:()=>i(null)});case"nova-os":return a.jsx(rP,{onClose:()=>i(null),currentUser:e});case"clientes":return a.jsx(jP,{onClose:()=>i(null),userRole:e.cargo==="GERENTE"?"ADMIN":"COLABORADOR"});case"painel":return a.jsx(nP,{onClose:()=>i(null),onNavigate:re=>i(re)});case"resumo":return a.jsx(sP,{onClose:()=>i(null)});case"financeiro":return a.jsx(pP,{onClose:()=>i(null),onNavigate:re=>i(re)});case"sales-modalities":return a.jsx(vP,{onClose:()=>i(null)});case"transaction-modalities":return a.jsx(yP,{onClose:()=>i(null)});case"fechar-caixa":return a.jsx(wP,{onClose:()=>i(null)});case"auditoria":return a.jsx(kP,{onClose:()=>i(null)});case"rel-entregas":return a.jsx(hH,{onClose:()=>i(null)});case"delivery-settings":return a.jsx(jH,{onClose:()=>i(null)});case"alertas":return a.jsx(QH,{onClose:()=>i(null)});case"colaboradores":return a.jsx(MH,{onClose:()=>i(null)});case"depositos-estoque":return a.jsx(IH,{onClose:()=>i(null),currentUser:e});case"temas":return a.jsx(TP,{onClose:()=>i(null),currentTheme:m,onThemeChange:g,backgroundImage:b,backgroundOpacity:B,onBackgroundImageChange:async re=>{console.warn("Background customizado desabilitado na v3.0")},onBackgroundOpacityChange:re=>{console.warn("Opacidade desabilitada na v3.0")}});default:return null}};return a.jsxs(fP,{currentUser:e,children:[a.jsx(ZH,{currentUser:e,children:a.jsxs("div",{className:"min-h-screen text-txt-main flex flex-col transition-colors duration-300",children:[a.jsxs("header",{className:"bg-surface border-b border-bdr p-6 shadow-sm flex justify-between items-center transition-colors duration-300",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-black tracking-tighter flex items-center gap-2 text-red-600",children:[a.jsx(SB,{className:"w-8 h-8 text-red-600"}),"GS REAL"]}),a.jsx("p",{className:"text-txt-muted text-xs font-medium mt-1",children:"SISTEMA INTEGRADO DE GESTO"})]}),a.jsxs("div",{className:"flex items-center gap-6",children:[(e.cargo==="GERENTE"||e.cargo==="ATENDENTE")&&a.jsx("button",{onClick:()=>i("dispatch"),className:"hidden md:flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-bold text-xs uppercase tracking-wide transition-transform active:scale-95 shadow-md",children:"Despacho de Entregas"}),a.jsxs("div",{className:"text-right hidden sm:block",children:[a.jsx("p",{className:"text-sm font-bold text-txt-main",children:e.nome}),a.jsxs("p",{className:"text-[10px] text-primary font-bold uppercase tracking-widest",children:[e.cargo,"  ",e.depositoId]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-primary border-2 border-surface flex items-center justify-center font-bold text-white shadow-lg",children:e.nome.substring(0,2).toUpperCase()}),a.jsx("button",{onClick:k,className:"p-2 text-txt-muted hover:text-red-500 hover:bg-red-50 rounded-full transition-colors",title:"Sair",children:a.jsx(kB,{className:"w-5 h-5"})})]})]})]}),a.jsx("main",{className:"flex-1 p-6 md:p-12",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-10 flex flex-col md:flex-row md:items-end justify-between gap-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-4xl font-black text-txt-main tracking-tight mb-2",children:"Painel Operacional"}),a.jsx("p",{className:"text-txt-muted font-medium",children:"Selecione uma funcionalidade para iniciar o trabalho"})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full md:w-auto md:min-w-[360px]",children:[a.jsx("div",{className:"relative flex-1",children:a.jsx("input",{type:"text",value:l,onChange:D=>d(D.target.value),onKeyDown:U,placeholder:"Buscar funo do sistema e pressionar Enter",className:"w-full bg-surface border-2 border-bdr rounded-xl px-4 py-3 text-sm font-bold text-txt-main placeholder:text-txt-muted focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none"})}),a.jsx("button",{onClick:S,className:"px-4 py-3 bg-primary text-white font-black text-xs uppercase tracking-widest rounded-xl shadow-md hover:bg-primary/90 active:scale-95 transition-all",children:"Buscar"}),u.length>0&&a.jsx("button",{onClick:()=>{h([]),d("")},className:"px-3 py-3 bg-surface border border-bdr text-txt-muted hover:text-red-500 hover:border-red-300 rounded-xl text-xs font-black uppercase tracking-widest transition-all",children:"Limpar"})]})]}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6",children:w.map(D=>a.jsx(Jj,{item:D,onClick:i,highlight:u.includes(D.id)},D.id))})]})}),a.jsx("footer",{className:"bg-surface border-t border-bdr p-4 text-center text-txt-muted text-xs font-medium transition-colors duration-300",children:" 2025 Gs Real - Sistema de Gesto Inteligente"}),O(),t&&a.jsx(GH,{})]})}),a.jsx(iR,{richColors:!0,closeButton:!0,position:"top-right"})]})},JH=()=>a.jsx(TH,{children:a.jsx(XH,{})}),zE=document.getElementById("root");if(!zE)throw new Error("Could not find root element to mount to");const YH=AS.createRoot(zE);YH.render(a.jsx(Ht.StrictMode,{children:a.jsx(JH,{})}));export{Ht as R,ns as _,pd as a,e9 as c,zm as g,Ds as l,F as r,ff as u};
