var iE=Object.defineProperty;var oE=(t,e,r)=>e in t?iE(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Jn=(t,e,r)=>oE(t,typeof e!="symbol"?e+"":e,r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function r(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(i){if(i.ep)return;i.ep=!0;const l=r(i);fetch(i.href,l)}})();var Q7=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Bm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var d0={exports:{}},th={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dy;function lE(){if(Dy)return th;Dy=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(n,i,l){var u=null;if(l!==void 0&&(u=""+l),i.key!==void 0&&(u=""+i.key),"key"in i){l={};for(var d in i)d!=="key"&&(l[d]=i[d])}else l=i;return i=l.ref,{$$typeof:t,type:n,key:u,ref:i!==void 0?i:null,props:l}}return th.Fragment=e,th.jsx=r,th.jsxs=r,th}var My;function AE(){return My||(My=1,d0.exports=lE()),d0.exports}var a=AE(),h0={exports:{}},Yr={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Py;function cE(){if(Py)return Yr;Py=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),N=Symbol.iterator;function w(q){return q===null||typeof q!="object"?null:(q=N&&q[N]||q["@@iterator"],typeof q=="function"?q:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,T={};function S(q,F,G){this.props=q,this.context=F,this.refs=T,this.updater=G||C}S.prototype.isReactComponent={},S.prototype.setState=function(q,F){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,F,"setState")},S.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function I(){}I.prototype=S.prototype;function O(q,F,G){this.props=q,this.context=F,this.refs=T,this.updater=G||C}var M=O.prototype=new I;M.constructor=O,U(M,S.prototype),M.isPureReactComponent=!0;var ne=Array.isArray;function z(){}var oe={H:null,A:null,T:null,S:null},te=Object.prototype.hasOwnProperty;function X(q,F,G){var $=G.ref;return{$$typeof:t,type:q,key:F,ref:$!==void 0?$:null,props:G}}function ge(q,F){return X(q.type,F,q.props)}function Z(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function W(q){var F={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(G){return F[G]})}var ae=/\/+/g;function K(q,F){return typeof q=="object"&&q!==null&&q.key!=null?W(""+q.key):F.toString(36)}function ue(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(z,z):(q.status="pending",q.then(function(F){q.status==="pending"&&(q.status="fulfilled",q.value=F)},function(F){q.status==="pending"&&(q.status="rejected",q.reason=F)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function Q(q,F,G,$,V){var he=typeof q;(he==="undefined"||he==="boolean")&&(q=null);var ve=!1;if(q===null)ve=!0;else switch(he){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(q.$$typeof){case t:case e:ve=!0;break;case g:return ve=q._init,Q(ve(q._payload),F,G,$,V)}}if(ve)return V=V(q),ve=$===""?"."+K(q,0):$,ne(V)?(G="",ve!=null&&(G=ve.replace(ae,"$&/")+"/"),Q(V,F,G,"",function(Je){return Je})):V!=null&&(Z(V)&&(V=ge(V,G+(V.key==null||q&&q.key===V.key?"":(""+V.key).replace(ae,"$&/")+"/")+ve)),F.push(V)),1;ve=0;var je=$===""?".":$+":";if(ne(q))for(var Te=0;Te<q.length;Te++)$=q[Te],he=je+K($,Te),ve+=Q($,F,G,he,V);else if(Te=w(q),typeof Te=="function")for(q=Te.call(q),Te=0;!($=q.next()).done;)$=$.value,he=je+K($,Te++),ve+=Q($,F,G,he,V);else if(he==="object"){if(typeof q.then=="function")return Q(ue(q),F,G,$,V);throw F=String(q),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return ve}function Ae(q,F,G){if(q==null)return q;var $=[],V=0;return Q(q,$,"","",function(he){return F.call(G,he,V++)}),$}function ee(q){if(q._status===-1){var F=q._result;F=F(),F.then(function(G){(q._status===0||q._status===-1)&&(q._status=1,q._result=G)},function(G){(q._status===0||q._status===-1)&&(q._status=2,q._result=G)}),q._status===-1&&(q._status=0,q._result=F)}if(q._status===1)return q._result.default;throw q._result}var _e=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)},Ne={map:Ae,forEach:function(q,F,G){Ae(q,function(){F.apply(this,arguments)},G)},count:function(q){var F=0;return Ae(q,function(){F++}),F},toArray:function(q){return Ae(q,function(F){return F})||[]},only:function(q){if(!Z(q))throw Error("React.Children.only expected to receive a single React element child.");return q}};return Yr.Activity=b,Yr.Children=Ne,Yr.Component=S,Yr.Fragment=r,Yr.Profiler=i,Yr.PureComponent=O,Yr.StrictMode=n,Yr.Suspense=h,Yr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=oe,Yr.__COMPILER_RUNTIME={__proto__:null,c:function(q){return oe.H.useMemoCache(q)}},Yr.cache=function(q){return function(){return q.apply(null,arguments)}},Yr.cacheSignal=function(){return null},Yr.cloneElement=function(q,F,G){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var $=U({},q.props),V=q.key;if(F!=null)for(he in F.key!==void 0&&(V=""+F.key),F)!te.call(F,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&F.ref===void 0||($[he]=F[he]);var he=arguments.length-2;if(he===1)$.children=G;else if(1<he){for(var ve=Array(he),je=0;je<he;je++)ve[je]=arguments[je+2];$.children=ve}return X(q.type,V,$)},Yr.createContext=function(q){return q={$$typeof:u,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:l,_context:q},q},Yr.createElement=function(q,F,G){var $,V={},he=null;if(F!=null)for($ in F.key!==void 0&&(he=""+F.key),F)te.call(F,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(V[$]=F[$]);var ve=arguments.length-2;if(ve===1)V.children=G;else if(1<ve){for(var je=Array(ve),Te=0;Te<ve;Te++)je[Te]=arguments[Te+2];V.children=je}if(q&&q.defaultProps)for($ in ve=q.defaultProps,ve)V[$]===void 0&&(V[$]=ve[$]);return X(q,he,V)},Yr.createRef=function(){return{current:null}},Yr.forwardRef=function(q){return{$$typeof:d,render:q}},Yr.isValidElement=Z,Yr.lazy=function(q){return{$$typeof:g,_payload:{_status:-1,_result:q},_init:ee}},Yr.memo=function(q,F){return{$$typeof:m,type:q,compare:F===void 0?null:F}},Yr.startTransition=function(q){var F=oe.T,G={};oe.T=G;try{var $=q(),V=oe.S;V!==null&&V(G,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(z,_e)}catch(he){_e(he)}finally{F!==null&&G.types!==null&&(F.types=G.types),oe.T=F}},Yr.unstable_useCacheRefresh=function(){return oe.H.useCacheRefresh()},Yr.use=function(q){return oe.H.use(q)},Yr.useActionState=function(q,F,G){return oe.H.useActionState(q,F,G)},Yr.useCallback=function(q,F){return oe.H.useCallback(q,F)},Yr.useContext=function(q){return oe.H.useContext(q)},Yr.useDebugValue=function(){},Yr.useDeferredValue=function(q,F){return oe.H.useDeferredValue(q,F)},Yr.useEffect=function(q,F){return oe.H.useEffect(q,F)},Yr.useEffectEvent=function(q){return oe.H.useEffectEvent(q)},Yr.useId=function(){return oe.H.useId()},Yr.useImperativeHandle=function(q,F,G){return oe.H.useImperativeHandle(q,F,G)},Yr.useInsertionEffect=function(q,F){return oe.H.useInsertionEffect(q,F)},Yr.useLayoutEffect=function(q,F){return oe.H.useLayoutEffect(q,F)},Yr.useMemo=function(q,F){return oe.H.useMemo(q,F)},Yr.useOptimistic=function(q,F){return oe.H.useOptimistic(q,F)},Yr.useReducer=function(q,F,G){return oe.H.useReducer(q,F,G)},Yr.useRef=function(q){return oe.H.useRef(q)},Yr.useState=function(q){return oe.H.useState(q)},Yr.useSyncExternalStore=function(q,F,G){return oe.H.useSyncExternalStore(q,F,G)},Yr.useTransition=function(){return oe.H.useTransition()},Yr.version="19.2.3",Yr}var Hy;function Pb(){return Hy||(Hy=1,h0.exports=cE()),h0.exports}var P=Pb();const Dt=Bm(P);var f0={exports:{}},rh={},p0={exports:{}},m0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qy;function uE(){return qy||(qy=1,(function(t){function e(Q,Ae){var ee=Q.length;Q.push(Ae);e:for(;0<ee;){var _e=ee-1>>>1,Ne=Q[_e];if(0<i(Ne,Ae))Q[_e]=Ae,Q[ee]=Ne,ee=_e;else break e}}function r(Q){return Q.length===0?null:Q[0]}function n(Q){if(Q.length===0)return null;var Ae=Q[0],ee=Q.pop();if(ee!==Ae){Q[0]=ee;e:for(var _e=0,Ne=Q.length,q=Ne>>>1;_e<q;){var F=2*(_e+1)-1,G=Q[F],$=F+1,V=Q[$];if(0>i(G,ee))$<Ne&&0>i(V,G)?(Q[_e]=V,Q[$]=ee,_e=$):(Q[_e]=G,Q[F]=ee,_e=F);else if($<Ne&&0>i(V,ee))Q[_e]=V,Q[$]=ee,_e=$;else break e}}return Ae}function i(Q,Ae){var ee=Q.sortIndex-Ae.sortIndex;return ee!==0?ee:Q.id-Ae.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var h=[],m=[],g=1,b=null,N=3,w=!1,C=!1,U=!1,T=!1,S=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function M(Q){for(var Ae=r(m);Ae!==null;){if(Ae.callback===null)n(m);else if(Ae.startTime<=Q)n(m),Ae.sortIndex=Ae.expirationTime,e(h,Ae);else break;Ae=r(m)}}function ne(Q){if(U=!1,M(Q),!C)if(r(h)!==null)C=!0,z||(z=!0,W());else{var Ae=r(m);Ae!==null&&ue(ne,Ae.startTime-Q)}}var z=!1,oe=-1,te=5,X=-1;function ge(){return T?!0:!(t.unstable_now()-X<te)}function Z(){if(T=!1,z){var Q=t.unstable_now();X=Q;var Ae=!0;try{e:{C=!1,U&&(U=!1,I(oe),oe=-1),w=!0;var ee=N;try{t:{for(M(Q),b=r(h);b!==null&&!(b.expirationTime>Q&&ge());){var _e=b.callback;if(typeof _e=="function"){b.callback=null,N=b.priorityLevel;var Ne=_e(b.expirationTime<=Q);if(Q=t.unstable_now(),typeof Ne=="function"){b.callback=Ne,M(Q),Ae=!0;break t}b===r(h)&&n(h),M(Q)}else n(h);b=r(h)}if(b!==null)Ae=!0;else{var q=r(m);q!==null&&ue(ne,q.startTime-Q),Ae=!1}}break e}finally{b=null,N=ee,w=!1}Ae=void 0}}finally{Ae?W():z=!1}}}var W;if(typeof O=="function")W=function(){O(Z)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,K=ae.port2;ae.port1.onmessage=Z,W=function(){K.postMessage(null)}}else W=function(){S(Z,0)};function ue(Q,Ae){oe=S(function(){Q(t.unstable_now())},Ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):te=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_next=function(Q){switch(N){case 1:case 2:case 3:var Ae=3;break;default:Ae=N}var ee=N;N=Ae;try{return Q()}finally{N=ee}},t.unstable_requestPaint=function(){T=!0},t.unstable_runWithPriority=function(Q,Ae){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ee=N;N=Q;try{return Ae()}finally{N=ee}},t.unstable_scheduleCallback=function(Q,Ae,ee){var _e=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?_e+ee:_e):ee=_e,Q){case 1:var Ne=-1;break;case 2:Ne=250;break;case 5:Ne=1073741823;break;case 4:Ne=1e4;break;default:Ne=5e3}return Ne=ee+Ne,Q={id:g++,callback:Ae,priorityLevel:Q,startTime:ee,expirationTime:Ne,sortIndex:-1},ee>_e?(Q.sortIndex=ee,e(m,Q),r(h)===null&&Q===r(m)&&(U?(I(oe),oe=-1):U=!0,ue(ne,ee-_e))):(Q.sortIndex=Ne,e(h,Q),C||w||(C=!0,z||(z=!0,W()))),Q},t.unstable_shouldYield=ge,t.unstable_wrapCallback=function(Q){var Ae=N;return function(){var ee=N;N=Ae;try{return Q.apply(this,arguments)}finally{N=ee}}}})(m0)),m0}var zy;function dE(){return zy||(zy=1,p0.exports=uE()),p0.exports}var g0={exports:{}},_i={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ky;function hE(){if(Ky)return _i;Ky=1;var t=Pb();function e(h){var m="https://react.dev/errors/"+h;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},i=Symbol.for("react.portal");function l(h,m,g){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:b==null?null:""+b,children:h,containerInfo:m,implementation:g}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(h,m){if(h==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return _i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,_i.createPortal=function(h,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(h,m,null,g)},_i.flushSync=function(h){var m=u.T,g=n.p;try{if(u.T=null,n.p=2,h)return h()}finally{u.T=m,n.p=g,n.d.f()}},_i.preconnect=function(h,m){typeof h=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,n.d.C(h,m))},_i.prefetchDNS=function(h){typeof h=="string"&&n.d.D(h)},_i.preinit=function(h,m){if(typeof h=="string"&&m&&typeof m.as=="string"){var g=m.as,b=d(g,m.crossOrigin),N=typeof m.integrity=="string"?m.integrity:void 0,w=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?n.d.S(h,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:b,integrity:N,fetchPriority:w}):g==="script"&&n.d.X(h,{crossOrigin:b,integrity:N,fetchPriority:w,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},_i.preinitModule=function(h,m){if(typeof h=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=d(m.as,m.crossOrigin);n.d.M(h,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&n.d.M(h)},_i.preload=function(h,m){if(typeof h=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,b=d(g,m.crossOrigin);n.d.L(h,g,{crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},_i.preloadModule=function(h,m){if(typeof h=="string")if(m){var g=d(m.as,m.crossOrigin);n.d.m(h,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else n.d.m(h)},_i.requestFormReset=function(h){n.d.r(h)},_i.unstable_batchedUpdates=function(h,m){return h(m)},_i.useFormState=function(h,m,g){return u.H.useFormState(h,m,g)},_i.useFormStatus=function(){return u.H.useHostTransitionStatus()},_i.version="19.2.3",_i}var Gy;function O5(){if(Gy)return g0.exports;Gy=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),g0.exports=hE(),g0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vy;function fE(){if(Vy)return rh;Vy=1;var t=dE(),e=Pb(),r=O5();function n(s){var o="https://react.dev/errors/"+s;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function l(s){var o=s,c=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(c=o.return),s=o.return;while(s)}return o.tag===3?c:null}function u(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function d(s){if(s.tag===31){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function h(s){if(l(s)!==s)throw Error(n(188))}function m(s){var o=s.alternate;if(!o){if(o=l(s),o===null)throw Error(n(188));return o!==s?null:s}for(var c=s,p=o;;){var y=c.return;if(y===null)break;var B=y.alternate;if(B===null){if(p=y.return,p!==null){c=p;continue}break}if(y.child===B.child){for(B=y.child;B;){if(B===c)return h(y),s;if(B===p)return h(y),o;B=B.sibling}throw Error(n(188))}if(c.return!==p.return)c=y,p=B;else{for(var H=!1,ce=y.child;ce;){if(ce===c){H=!0,c=y,p=B;break}if(ce===p){H=!0,p=y,c=B;break}ce=ce.sibling}if(!H){for(ce=B.child;ce;){if(ce===c){H=!0,c=B,p=y;break}if(ce===p){H=!0,p=B,c=y;break}ce=ce.sibling}if(!H)throw Error(n(189))}}if(c.alternate!==p)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?s:o}function g(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s;for(s=s.child;s!==null;){if(o=g(s),o!==null)return o;s=s.sibling}return null}var b=Object.assign,N=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),I=Symbol.for("react.consumer"),O=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),oe=Symbol.for("react.memo"),te=Symbol.for("react.lazy"),X=Symbol.for("react.activity"),ge=Symbol.for("react.memo_cache_sentinel"),Z=Symbol.iterator;function W(s){return s===null||typeof s!="object"?null:(s=Z&&s[Z]||s["@@iterator"],typeof s=="function"?s:null)}var ae=Symbol.for("react.client.reference");function K(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===ae?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case U:return"Fragment";case S:return"Profiler";case T:return"StrictMode";case ne:return"Suspense";case z:return"SuspenseList";case X:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case C:return"Portal";case O:return s.displayName||"Context";case I:return(s._context.displayName||"Context")+".Consumer";case M:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case oe:return o=s.displayName||null,o!==null?o:K(s.type)||"Memo";case te:o=s._payload,s=s._init;try{return K(s(o))}catch{}}return null}var ue=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ae=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},_e=[],Ne=-1;function q(s){return{current:s}}function F(s){0>Ne||(s.current=_e[Ne],_e[Ne]=null,Ne--)}function G(s,o){Ne++,_e[Ne]=s.current,s.current=o}var $=q(null),V=q(null),he=q(null),ve=q(null);function je(s,o){switch(G(he,o),G(V,s),G($,null),o.nodeType){case 9:case 11:s=(s=o.documentElement)&&(s=s.namespaceURI)?ly(s):0;break;default:if(s=o.tagName,o=o.namespaceURI)o=ly(o),s=Ay(o,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}F($),G($,s)}function Te(){F($),F(V),F(he)}function Je(s){s.memoizedState!==null&&G(ve,s);var o=$.current,c=Ay(o,s.type);o!==c&&(G(V,s),G($,c))}function Ke(s){V.current===s&&(F($),F(V)),ve.current===s&&(F(ve),Yd._currentValue=ee)}var nt,ft;function tt(s){if(nt===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);nt=o&&o[1]||"",ft=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+nt+s+ft}var pe=!1;function Ct(s,o){if(!s||pe)return"";pe=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(o){var xt=function(){throw Error()};if(Object.defineProperty(xt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(xt,[])}catch(rt){var Ye=rt}Reflect.construct(s,[],xt)}else{try{xt.call()}catch(rt){Ye=rt}s.call(xt.prototype)}}else{try{throw Error()}catch(rt){Ye=rt}(xt=s())&&typeof xt.catch=="function"&&xt.catch(function(){})}}catch(rt){if(rt&&Ye&&typeof rt.stack=="string")return[rt.stack,Ye.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var B=p.DetermineComponentFrameRoot(),H=B[0],ce=B[1];if(H&&ce){var Ee=H.split(`
`),Ve=ce.split(`
`);for(y=p=0;p<Ee.length&&!Ee[p].includes("DetermineComponentFrameRoot");)p++;for(;y<Ve.length&&!Ve[y].includes("DetermineComponentFrameRoot");)y++;if(p===Ee.length||y===Ve.length)for(p=Ee.length-1,y=Ve.length-1;1<=p&&0<=y&&Ee[p]!==Ve[y];)y--;for(;1<=p&&0<=y;p--,y--)if(Ee[p]!==Ve[y]){if(p!==1||y!==1)do if(p--,y--,0>y||Ee[p]!==Ve[y]){var ct=`
`+Ee[p].replace(" at new "," at ");return s.displayName&&ct.includes("<anonymous>")&&(ct=ct.replace("<anonymous>",s.displayName)),ct}while(1<=p&&0<=y);break}}}finally{pe=!1,Error.prepareStackTrace=c}return(c=s?s.displayName||s.name:"")?tt(c):""}function It(s,o){switch(s.tag){case 26:case 27:case 5:return tt(s.type);case 16:return tt("Lazy");case 13:return s.child!==o&&o!==null?tt("Suspense Fallback"):tt("Suspense");case 19:return tt("SuspenseList");case 0:case 15:return Ct(s.type,!1);case 11:return Ct(s.type.render,!1);case 1:return Ct(s.type,!0);case 31:return tt("Activity");default:return""}}function zt(s){try{var o="",c=null;do o+=It(s,c),c=s,s=s.return;while(s);return o}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var Ie=Object.prototype.hasOwnProperty,Rt=t.unstable_scheduleCallback,Lt=t.unstable_cancelCallback,Bt=t.unstable_shouldYield,gt=t.unstable_requestPaint,ir=t.unstable_now,_r=t.unstable_getCurrentPriorityLevel,nr=t.unstable_ImmediatePriority,xr=t.unstable_UserBlockingPriority,$t=t.unstable_NormalPriority,St=t.unstable_LowPriority,Zt=t.unstable_IdlePriority,Tt=t.log,Vr=t.unstable_setDisableYieldValue,gr=null,Vt=null;function or(s){if(typeof Tt=="function"&&Vr(s),Vt&&typeof Vt.setStrictMode=="function")try{Vt.setStrictMode(gr,s)}catch{}}var Ht=Math.clz32?Math.clz32:Mt,Kt=Math.log,kr=Math.LN2;function Mt(s){return s>>>=0,s===0?32:31-(Kt(s)/kr|0)|0}var er=256,Ue=262144,Xe=4194304;function at(s){var o=s&42;if(o!==0)return o;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function dt(s,o,c){var p=s.pendingLanes;if(p===0)return 0;var y=0,B=s.suspendedLanes,H=s.pingedLanes;s=s.warmLanes;var ce=p&134217727;return ce!==0?(p=ce&~B,p!==0?y=at(p):(H&=ce,H!==0?y=at(H):c||(c=ce&~s,c!==0&&(y=at(c))))):(ce=p&~B,ce!==0?y=at(ce):H!==0?y=at(H):c||(c=p&~s,c!==0&&(y=at(c)))),y===0?0:o!==0&&o!==y&&(o&B)===0&&(B=y&-y,c=o&-o,B>=c||B===32&&(c&4194048)!==0)?o:y}function Yt(s,o){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&o)===0}function Jt(s,o){switch(s){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function br(){var s=Xe;return Xe<<=1,(Xe&62914560)===0&&(Xe=4194304),s}function yn(s){for(var o=[],c=0;31>c;c++)o.push(s);return o}function kt(s,o){s.pendingLanes|=o,o!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function En(s,o,c,p,y,B){var H=s.pendingLanes;s.pendingLanes=c,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=c,s.entangledLanes&=c,s.errorRecoveryDisabledLanes&=c,s.shellSuspendCounter=0;var ce=s.entanglements,Ee=s.expirationTimes,Ve=s.hiddenUpdates;for(c=H&~c;0<c;){var ct=31-Ht(c),xt=1<<ct;ce[ct]=0,Ee[ct]=-1;var Ye=Ve[ct];if(Ye!==null)for(Ve[ct]=null,ct=0;ct<Ye.length;ct++){var rt=Ye[ct];rt!==null&&(rt.lane&=-536870913)}c&=~xt}p!==0&&In(s,p,0),B!==0&&y===0&&s.tag!==0&&(s.suspendedLanes|=B&~(H&~o))}function In(s,o,c){s.pendingLanes|=o,s.suspendedLanes&=~o;var p=31-Ht(o);s.entangledLanes|=o,s.entanglements[p]=s.entanglements[p]|1073741824|c&261930}function an(s,o){var c=s.entangledLanes|=o;for(s=s.entanglements;c;){var p=31-Ht(c),y=1<<p;y&o|s[p]&o&&(s[p]|=o),c&=~y}}function Wr(s,o){var c=o&-o;return c=(c&42)!==0?1:Pr(c),(c&(s.suspendedLanes|o))!==0?0:c}function Pr(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Ut(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function nn(){var s=Ae.p;return s!==0?s:(s=window.event,s===void 0?32:Ly(s.type))}function fe(s,o){var c=Ae.p;try{return Ae.p=s,o()}finally{Ae.p=c}}var De=Math.random().toString(36).slice(2),$e="__reactFiber$"+De,xe="__reactProps$"+De,Me="__reactContainer$"+De,We="__reactEvents$"+De,yt="__reactListeners$"+De,Gt="__reactHandles$"+De,Cr="__reactResources$"+De,Hr="__reactMarker$"+De;function dn(s){delete s[$e],delete s[xe],delete s[We],delete s[yt],delete s[Gt]}function Ar(s){var o=s[$e];if(o)return o;for(var c=s.parentNode;c;){if(o=c[Me]||c[$e]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(s=my(s);s!==null;){if(c=s[$e])return c;s=my(s)}return o}s=c,c=s.parentNode}return null}function on(s){if(s=s[$e]||s[Me]){var o=s.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return s}return null}function re(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s.stateNode;throw Error(n(33))}function ut(s){var o=s[Cr];return o||(o=s[Cr]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function it(s){s[Hr]=!0}var wt=new Set,Xt={};function yr(s,o){qr(s,o),qr(s+"Capture",o)}function qr(s,o){for(Xt[s]=o,s=0;s<o.length;s++)wt.add(o[s])}var fn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vn={},Zr={};function es(s){return Ie.call(Zr,s)?!0:Ie.call(Vn,s)?!1:fn.test(s)?Zr[s]=!0:(Vn[s]=!0,!1)}function ur(s,o,c){if(es(o))if(c===null)s.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":s.removeAttribute(o);return;case"boolean":var p=o.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){s.removeAttribute(o);return}}s.setAttribute(o,""+c)}}function Lr(s,o,c){if(c===null)s.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttribute(o,""+c)}}function xs(s,o,c,p){if(p===null)s.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttributeNS(o,c,""+p)}}function $r(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ca(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Rs(s,o,c){var p=Object.getOwnPropertyDescriptor(s.constructor.prototype,o);if(!s.hasOwnProperty(o)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var y=p.get,B=p.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return y.call(this)},set:function(H){c=""+H,B.call(this,H)}}),Object.defineProperty(s,o,{enumerable:p.enumerable}),{getValue:function(){return c},setValue:function(H){c=""+H},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function Er(s){if(!s._valueTracker){var o=Ca(s)?"checked":"value";s._valueTracker=Rs(s,o,""+s[o])}}function wr(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var c=o.getValue(),p="";return s&&(p=Ca(s)?s.checked?"true":"false":s.value),s=p,s!==c?(o.setValue(s),!0):!1}function cn(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var ln=/[\n"\\]/g;function Be(s){return s.replace(ln,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function st(s,o,c,p,y,B,H,ce){s.name="",H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"?s.type=H:s.removeAttribute("type"),o!=null?H==="number"?(o===0&&s.value===""||s.value!=o)&&(s.value=""+$r(o)):s.value!==""+$r(o)&&(s.value=""+$r(o)):H!=="submit"&&H!=="reset"||s.removeAttribute("value"),o!=null?Nt(s,H,$r(o)):c!=null?Nt(s,H,$r(c)):p!=null&&s.removeAttribute("value"),y==null&&B!=null&&(s.defaultChecked=!!B),y!=null&&(s.checked=y&&typeof y!="function"&&typeof y!="symbol"),ce!=null&&typeof ce!="function"&&typeof ce!="symbol"&&typeof ce!="boolean"?s.name=""+$r(ce):s.removeAttribute("name")}function Et(s,o,c,p,y,B,H,ce){if(B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"&&(s.type=B),o!=null||c!=null){if(!(B!=="submit"&&B!=="reset"||o!=null)){Er(s);return}c=c!=null?""+$r(c):"",o=o!=null?""+$r(o):c,ce||o===s.value||(s.value=o),s.defaultValue=o}p=p??y,p=typeof p!="function"&&typeof p!="symbol"&&!!p,s.checked=ce?s.checked:!!p,s.defaultChecked=!!p,H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"&&(s.name=H),Er(s)}function Nt(s,o,c){o==="number"&&cn(s.ownerDocument)===s||s.defaultValue===""+c||(s.defaultValue=""+c)}function Ot(s,o,c,p){if(s=s.options,o){o={};for(var y=0;y<c.length;y++)o["$"+c[y]]=!0;for(c=0;c<s.length;c++)y=o.hasOwnProperty("$"+s[c].value),s[c].selected!==y&&(s[c].selected=y),y&&p&&(s[c].defaultSelected=!0)}else{for(c=""+$r(c),o=null,y=0;y<s.length;y++){if(s[y].value===c){s[y].selected=!0,p&&(s[y].defaultSelected=!0);return}o!==null||s[y].disabled||(o=s[y])}o!==null&&(o.selected=!0)}}function Rr(s,o,c){if(o!=null&&(o=""+$r(o),o!==s.value&&(s.value=o),c==null)){s.defaultValue!==o&&(s.defaultValue=o);return}s.defaultValue=c!=null?""+$r(c):""}function Qt(s,o,c,p){if(o==null){if(p!=null){if(c!=null)throw Error(n(92));if(ue(p)){if(1<p.length)throw Error(n(93));p=p[0]}c=p}c==null&&(c=""),o=c}c=$r(o),s.defaultValue=c,p=s.textContent,p===c&&p!==""&&p!==null&&(s.value=p),Er(s)}function sr(s,o){if(o){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=o;return}}s.textContent=o}var Ir=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function pn(s,o,c){var p=o.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?p?s.setProperty(o,""):o==="float"?s.cssFloat="":s[o]="":p?s.setProperty(o,c):typeof c!="number"||c===0||Ir.has(o)?o==="float"?s.cssFloat=c:s[o]=(""+c).trim():s[o]=c+"px"}function Ea(s,o,c){if(o!=null&&typeof o!="object")throw Error(n(62));if(s=s.style,c!=null){for(var p in c)!c.hasOwnProperty(p)||o!=null&&o.hasOwnProperty(p)||(p.indexOf("--")===0?s.setProperty(p,""):p==="float"?s.cssFloat="":s[p]="");for(var y in o)p=o[y],o.hasOwnProperty(y)&&c[y]!==p&&pn(s,y,p)}else for(var B in o)o.hasOwnProperty(B)&&pn(s,B,o[B])}function ts(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var di=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ki=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function us(s){return ki.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Gs(){}var Pi=null;function fo(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Oo=null,Ft=null;function $a(s){var o=on(s);if(o&&(s=o.stateNode)){var c=s[xe]||null;e:switch(s=o.stateNode,o.type){case"input":if(st(s,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),o=c.name,c.type==="radio"&&o!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Be(""+o)+'"][type="radio"]'),o=0;o<c.length;o++){var p=c[o];if(p!==s&&p.form===s.form){var y=p[xe]||null;if(!y)throw Error(n(90));st(p,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(o=0;o<c.length;o++)p=c[o],p.form===s.form&&wr(p)}break e;case"textarea":Rr(s,c.value,c.defaultValue);break e;case"select":o=c.value,o!=null&&Ot(s,!!c.multiple,o,!1)}}}var Sn=!1;function iA(s,o,c){if(Sn)return s(o,c);Sn=!0;try{var p=s(o);return p}finally{if(Sn=!1,(Oo!==null||Ft!==null)&&(Sf(),Oo&&(o=Oo,s=Ft,Ft=Oo=null,$a(o),s)))for(o=0;o<s.length;o++)$a(s[o])}}function Sa(s,o){var c=s.stateNode;if(c===null)return null;var p=c[xe]||null;if(p===null)return null;c=p[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(s=s.type,p=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!p;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(n(231,o,typeof c));return c}var Ds=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nl=!1;if(Ds)try{var Za={};Object.defineProperty(Za,"passive",{get:function(){nl=!0}}),window.addEventListener("test",Za,Za),window.removeEventListener("test",Za,Za)}catch{nl=!1}var ja=null,Li=null,zn=null;function Hi(){if(zn)return zn;var s,o=Li,c=o.length,p,y="value"in ja?ja.value:ja.textContent,B=y.length;for(s=0;s<c&&o[s]===y[s];s++);var H=c-s;for(p=1;p<=H&&o[c-p]===y[B-p];p++);return zn=y.slice(s,1<p?1-p:void 0)}function Xa(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function sl(){return!0}function jl(){return!1}function Ms(s){function o(c,p,y,B,H){this._reactName=c,this._targetInst=y,this.type=p,this.nativeEvent=B,this.target=H,this.currentTarget=null;for(var ce in s)s.hasOwnProperty(ce)&&(c=s[ce],this[ce]=c?c(B):B[ce]);return this.isDefaultPrevented=(B.defaultPrevented!=null?B.defaultPrevented:B.returnValue===!1)?sl:jl,this.isPropagationStopped=jl,this}return b(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=sl)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=sl)},persist:function(){},isPersistent:sl}),o}var hi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fi=Ms(hi),qi=b({},hi,{view:0,detail:0}),en=Ms(qi),al,Ps,Ya,Ro=b({},qi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ya&&(Ya&&s.type==="mousemove"?(al=s.screenX-Ya.screenX,Ps=s.screenY-Ya.screenY):Ps=al=0,Ya=s),al)},movementY:function(s){return"movementY"in s?s.movementY:Ps}}),oA=Ms(Ro),Fi=b({},Ro,{dataTransfer:0}),po=Ms(Fi),lA=b({},qi,{relatedTarget:0}),mo=Ms(lA),RA=b({},hi,{animationName:0,elapsedTime:0,pseudoElement:0}),j=Ms(RA),Y=b({},hi,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),be=Ms(Y),Se=b({},hi,{data:0}),Qe=Ms(Se),ot={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dr(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=lr[s])?!!o[s]:!1}function Fr(){return dr}var zr=b({},qi,{key:function(s){if(s.key){var o=ot[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=Xa(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?vt[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fr,charCode:function(s){return s.type==="keypress"?Xa(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Xa(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),mn=Ms(zr),os=b({},Ro,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bs=Ms(os),Qn=b({},qi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fr}),Hs=Ms(Qn),vs=b({},hi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vs=Ms(vs),pi=b({},Ro,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),oa=Ms(pi),go=b({},hi,{newState:0,oldState:0}),xo=Ms(go),la=[9,13,27,32],Ti=Ds&&"CompositionEvent"in window,mi=null;Ds&&"documentMode"in document&&(mi=document.documentMode);var il=Ds&&"TextEvent"in window&&!mi,Ii=Ds&&(!Ti||mi&&8<mi&&11>=mi),Ss=" ",Do=!1;function Mo(s,o){switch(s){case"keyup":return la.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ol(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var zi=!1;function $n(s,o){switch(s){case"compositionend":return ol(o);case"keypress":return o.which!==32?null:(Do=!0,Ss);case"textInput":return s=o.data,s===Ss&&Do?null:s;default:return null}}function Ma(s,o){if(zi)return s==="compositionend"||!Ti&&Mo(s,o)?(s=Hi(),zn=Li=ja=null,zi=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Ii&&o.locale!=="ko"?null:o.data;default:return null}}var Ul={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ja(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!Ul[s.type]:o==="textarea"}function Wa(s,o,c,p){Oo?Ft?Ft.push(p):Ft=[p]:Oo=p,o=If(o,"onChange"),0<o.length&&(c=new fi("onChange","change",null,c,p),s.push({event:c,listeners:o}))}var ba=null,bo=null;function vo(s){ry(s,0)}function gi(s){var o=re(s);if(wr(o))return s}function Qi(s,o){if(s==="change")return o}var Pa=!1;if(Ds){var ds;if(Ds){var ei="oninput"in document;if(!ei){var Ki=document.createElement("div");Ki.setAttribute("oninput","return;"),ei=typeof Ki.oninput=="function"}ds=ei}else ds=!1;Pa=ds&&(!document.documentMode||9<document.documentMode)}function Oi(){ba&&(ba.detachEvent("onpropertychange",kl),bo=ba=null)}function kl(s){if(s.propertyName==="value"&&gi(bo)){var o=[];Wa(o,bo,s,fo(s)),iA(vo,o)}}function Ha(s,o,c){s==="focusin"?(Oi(),ba=o,bo=c,ba.attachEvent("onpropertychange",kl)):s==="focusout"&&Oi()}function ys(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return gi(bo)}function yo(s,o){if(s==="click")return gi(o)}function Gi(s,o){if(s==="input"||s==="change")return gi(o)}function $s(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var js=typeof Object.is=="function"?Object.is:$s;function Vi(s,o){if(js(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var c=Object.keys(s),p=Object.keys(o);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var y=c[p];if(!Ie.call(o,y)||!js(s[y],o[y]))return!1}return!0}function Po(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function wo(s,o){var c=Po(s);s=0;for(var p;c;){if(c.nodeType===3){if(p=s+c.textContent.length,s<=o&&p>=o)return{node:c,offset:o-s};s=p}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Po(c)}}function Ri(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?Ri(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function xi(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var o=cn(s.document);o instanceof s.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)s=o.contentWindow;else break;o=cn(s.document)}return o}function Ua(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}var $i=Ds&&"documentMode"in document&&11>=document.documentMode,ka=null,Zi=null,va=null,La=!1;function Nn(s,o,c){var p=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;La||ka==null||ka!==cn(p)||(p=ka,"selectionStart"in p&&Ua(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),va&&Vi(va,p)||(va=p,p=If(Zi,"onSelect"),0<p.length&&(o=new fi("onSelect","select",null,o,c),s.push({event:o,listeners:p}),o.target=ka)))}function gn(s,o){var c={};return c[s.toLowerCase()]=o.toLowerCase(),c["Webkit"+s]="webkit"+o,c["Moz"+s]="moz"+o,c}var Kn={animationend:gn("Animation","AnimationEnd"),animationiteration:gn("Animation","AnimationIteration"),animationstart:gn("Animation","AnimationStart"),transitionrun:gn("Transition","TransitionRun"),transitionstart:gn("Transition","TransitionStart"),transitioncancel:gn("Transition","TransitionCancel"),transitionend:gn("Transition","TransitionEnd")},hs={},Xi={};Ds&&(Xi=document.createElement("div").style,"AnimationEvent"in window||(delete Kn.animationend.animation,delete Kn.animationiteration.animation,delete Kn.animationstart.animation),"TransitionEvent"in window||delete Kn.transitionend.transition);function Us(s){if(hs[s])return hs[s];if(!Kn[s])return s;var o=Kn[s],c;for(c in o)if(o.hasOwnProperty(c)&&c in Xi)return hs[s]=o[c];return s}var Yi=Us("animationend"),AA=Us("animationiteration"),Ll=Us("animationstart"),cu=Us("transitionrun"),Bc=Us("transitionstart"),uu=Us("transitioncancel"),ll=Us("transitionend"),Nc=new Map,bi="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");bi.push("scrollEnd");function ti(s,o){Nc.set(s,o),yr(o,[s])}var Fl=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},ri=[],Fa=0,cA=0;function Tl(){for(var s=Fa,o=cA=Fa=0;o<s;){var c=ri[o];ri[o++]=null;var p=ri[o];ri[o++]=null;var y=ri[o];ri[o++]=null;var B=ri[o];if(ri[o++]=null,p!==null&&y!==null){var H=p.pending;H===null?y.next=y:(y.next=H.next,H.next=y),p.pending=y}B!==0&&Bo(c,y,B)}}function _o(s,o,c,p){ri[Fa++]=s,ri[Fa++]=o,ri[Fa++]=c,ri[Fa++]=p,cA|=p,s.lanes|=p,s=s.alternate,s!==null&&(s.lanes|=p)}function DA(s,o,c,p){return _o(s,o,c,p),Aa(s)}function vi(s,o){return _o(s,null,null,o),Aa(s)}function Bo(s,o,c){s.lanes|=c;var p=s.alternate;p!==null&&(p.lanes|=c);for(var y=!1,B=s.return;B!==null;)B.childLanes|=c,p=B.alternate,p!==null&&(p.childLanes|=c),B.tag===22&&(s=B.stateNode,s===null||s._visibility&1||(y=!0)),s=B,B=B.return;return s.tag===3?(B=s.stateNode,y&&o!==null&&(y=31-Ht(c),s=B.hiddenUpdates,p=s[y],p===null?s[y]=[o]:p.push(o),o.lane=c|536870912),B):null}function Aa(s){if(50<zd)throw zd=0,Qg=null,Error(n(185));for(var o=s.return;o!==null;)s=o,o=s.return;return s.tag===3?s.stateNode:null}var Zs={};function MA(s,o,c,p){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ca(s,o,c,p){return new MA(s,o,c,p)}function uA(s){return s=s.prototype,!(!s||!s.isReactComponent)}function ni(s,o){var c=s.alternate;return c===null?(c=ca(s.tag,o,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=o,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&65011712,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,o=s.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c.refCleanup=s.refCleanup,c}function Il(s,o){s.flags&=65011714;var c=s.alternate;return c===null?(s.childLanes=0,s.lanes=o,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,o=c.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),s}function Al(s,o,c,p,y,B){var H=0;if(p=s,typeof s=="function")uA(s)&&(H=1);else if(typeof s=="string")H=$4(s,c,$.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case X:return s=ca(31,c,o,y),s.elementType=X,s.lanes=B,s;case U:return Ho(c.children,y,B,o);case T:H=8,y|=24;break;case S:return s=ca(12,c,o,y|2),s.elementType=S,s.lanes=B,s;case ne:return s=ca(13,c,o,y),s.elementType=ne,s.lanes=B,s;case z:return s=ca(19,c,o,y),s.elementType=z,s.lanes=B,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case O:H=10;break e;case I:H=9;break e;case M:H=11;break e;case oe:H=14;break e;case te:H=16,p=null;break e}H=29,c=Error(n(130,s===null?"null":typeof s,"")),p=null}return o=ca(H,c,o,y),o.elementType=s,o.type=p,o.lanes=B,o}function Ho(s,o,c,p){return s=ca(7,s,p,o),s.lanes=c,s}function Ql(s,o,c){return s=ca(6,s,null,o),s.lanes=c,s}function dA(s){var o=ca(18,null,null,0);return o.stateNode=s,o}function Ol(s,o,c){return o=ca(4,s.children!==null?s.children:[],s.key,o),o.lanes=c,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}var A=new WeakMap;function f(s,o){if(typeof s=="object"&&s!==null){var c=A.get(s);return c!==void 0?c:(o={value:s,source:o,stack:zt(o)},A.set(s,o),o)}return{value:s,source:o,stack:zt(o)}}var v=[],E=0,D=null,ie=0,Ce=[],Oe=0,Ze=null,pt=1,Pt="";function hr(s,o){v[E++]=ie,v[E++]=D,D=s,ie=o}function tn(s,o,c){Ce[Oe++]=pt,Ce[Oe++]=Pt,Ce[Oe++]=Ze,Ze=s;var p=pt;s=Pt;var y=32-Ht(p)-1;p&=~(1<<y),c+=1;var B=32-Ht(o)+y;if(30<B){var H=y-y%5;B=(p&(1<<H)-1).toString(32),p>>=H,y-=H,pt=1<<32-Ht(o)+y|c<<y|p,Pt=B+s}else pt=1<<B|c<<y|p,Pt=s}function ua(s){s.return!==null&&(hr(s,1),tn(s,1,0))}function ws(s){for(;s===D;)D=v[--E],v[E]=null,ie=v[--E],v[E]=null;for(;s===Ze;)Ze=Ce[--Oe],Ce[Oe]=null,Pt=Ce[--Oe],Ce[Oe]=null,pt=Ce[--Oe],Ce[Oe]=null}function si(s,o){Ce[Oe++]=pt,Ce[Oe++]=Pt,Ce[Oe++]=Ze,pt=o.id,Pt=o.overflow,Ze=s}var jn=null,Un=null,hn=!1,Ta=null,fs=!1,yi=Error(n(519));function qo(s){var o=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Rl(f(o,s)),yi}function PA(s){var o=s.stateNode,c=s.type,p=s.memoizedProps;switch(o[$e]=s,o[xe]=p,c){case"dialog":vn("cancel",o),vn("close",o);break;case"iframe":case"object":case"embed":vn("load",o);break;case"video":case"audio":for(c=0;c<Gd.length;c++)vn(Gd[c],o);break;case"source":vn("error",o);break;case"img":case"image":case"link":vn("error",o),vn("load",o);break;case"details":vn("toggle",o);break;case"input":vn("invalid",o),Et(o,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":vn("invalid",o);break;case"textarea":vn("invalid",o),Qt(o,p.value,p.defaultValue,p.children)}c=p.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||o.textContent===""+c||p.suppressHydrationWarning===!0||iy(o.textContent,c)?(p.popover!=null&&(vn("beforetoggle",o),vn("toggle",o)),p.onScroll!=null&&vn("scroll",o),p.onScrollEnd!=null&&vn("scrollend",o),p.onClick!=null&&(o.onclick=Gs),o=!0):o=!1,o||qo(s,!0)}function On(s){for(jn=s.return;jn;)switch(jn.tag){case 5:case 31:case 13:fs=!1;return;case 27:case 3:fs=!0;return;default:jn=jn.return}}function ks(s){if(s!==jn)return!1;if(!hn)return On(s),hn=!0,!1;var o=s.tag,c;if((c=o!==3&&o!==27)&&((c=o===5)&&(c=s.type,c=!(c!=="form"&&c!=="button")||Yg(s.type,s.memoizedProps)),c=!c),c&&Un&&qo(s),On(s),o===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));Un=py(s)}else if(o===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));Un=py(s)}else o===27?(o=Un,tc(s.type)?(s=r0,r0=null,Un=s):Un=o):Un=jn?Go(s.stateNode.nextSibling):null;return!0}function cl(){Un=jn=null,hn=!1}function Cc(){var s=Ta;return s!==null&&(so===null?so=s:so.push.apply(so,s),Ta=null),s}function Rl(s){Ta===null?Ta=[s]:Ta.push(s)}var Dl=q(null),No=null,Ji=null;function Ml(s,o,c){G(Dl,o._currentValue),o._currentValue=c}function Wi(s){s._currentValue=Dl.current,F(Dl)}function HA(s,o,c){for(;s!==null;){var p=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),s===c)break;s=s.return}}function hA(s,o,c,p){var y=s.child;for(y!==null&&(y.return=s);y!==null;){var B=y.dependencies;if(B!==null){var H=y.child;B=B.firstContext;e:for(;B!==null;){var ce=B;B=y;for(var Ee=0;Ee<o.length;Ee++)if(ce.context===o[Ee]){B.lanes|=c,ce=B.alternate,ce!==null&&(ce.lanes|=c),HA(B.return,c,s),p||(H=null);break e}B=ce.next}}else if(y.tag===18){if(H=y.return,H===null)throw Error(n(341));H.lanes|=c,B=H.alternate,B!==null&&(B.lanes|=c),HA(H,c,s),H=null}else H=y.child;if(H!==null)H.return=y;else for(H=y;H!==null;){if(H===s){H=null;break}if(y=H.sibling,y!==null){y.return=H.return,H=y;break}H=H.return}y=H}}function Pl(s,o,c,p){s=null;for(var y=o,B=!1;y!==null;){if(!B){if((y.flags&524288)!==0)B=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var H=y.alternate;if(H===null)throw Error(n(387));if(H=H.memoizedProps,H!==null){var ce=y.type;js(y.pendingProps.value,H.value)||(s!==null?s.push(ce):s=[ce])}}else if(y===ve.current){if(H=y.alternate,H===null)throw Error(n(387));H.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(s!==null?s.push(Yd):s=[Yd])}y=y.return}s!==null&&hA(o,s,c,p),o.flags|=262144}function du(s){for(s=s.firstContext;s!==null;){if(!js(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Hl(s){No=s,Ji=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Ia(s){return Af(No,s)}function hu(s,o){return No===null&&Hl(s),Af(s,o)}function Af(s,o){var c=o._currentValue;if(o={context:o,memoizedValue:c,next:null},Ji===null){if(s===null)throw Error(n(308));Ji=o,s.dependencies={lanes:0,firstContext:o},s.flags|=524288}else Ji=Ji.next=o;return c}var tg=typeof AbortController<"u"?AbortController:function(){var s=[],o=this.signal={aborted:!1,addEventListener:function(c,p){s.push(p)}};this.abort=function(){o.aborted=!0,s.forEach(function(c){return c()})}},rg=t.unstable_scheduleCallback,ng=t.unstable_NormalPriority,qs={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qA(){return{controller:new tg,data:new Map,refCount:0}}function Ec(s){s.refCount--,s.refCount===0&&rg(ng,function(){s.controller.abort()})}var Sc=null,fu=0,x=0,_=null;function k(s,o){if(Sc===null){var c=Sc=[];fu=0,x=Hg(),_={status:"pending",value:void 0,then:function(p){c.push(p)}}}return fu++,o.then(R,R),o}function R(){if(--fu===0&&Sc!==null){_!==null&&(_.status="fulfilled");var s=Sc;Sc=null,x=0,_=null;for(var o=0;o<s.length;o++)(0,s[o])()}}function J(s,o){var c=[],p={status:"pending",value:null,reason:null,then:function(y){c.push(y)}};return s.then(function(){p.status="fulfilled",p.value=o;for(var y=0;y<c.length;y++)(0,c[y])(o)},function(y){for(p.status="rejected",p.reason=y,y=0;y<c.length;y++)(0,c[y])(void 0)}),p}var se=Q.S;Q.S=function(s,o){U1=ir(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&k(s,o),se!==null&&se(s,o)};var le=q(null);function de(){var s=le.current;return s!==null?s:As.pooledCache}function me(s,o){o===null?G(le,le.current):G(le,o.pool)}function we(){var s=de();return s===null?null:{parent:qs._currentValue,pool:s}}var ke=Error(n(460)),ze=Error(n(474)),ye=Error(n(542)),Fe={then:function(){}};function Pe(s){return s=s.status,s==="fulfilled"||s==="rejected"}function At(s,o,c){switch(c=s[c],c===void 0?s.push(o):c!==o&&(o.then(Gs,Gs),o=c),o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,jt(s),s;default:if(typeof o.status=="string")o.then(Gs,Gs);else{if(s=As,s!==null&&100<s.shellSuspendCounter)throw Error(n(482));s=o,s.status="pending",s.then(function(p){if(o.status==="pending"){var y=o;y.status="fulfilled",y.value=p}},function(p){if(o.status==="pending"){var y=o;y.status="rejected",y.reason=p}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,jt(s),s}throw lt=o,ke}}function He(s){try{var o=s._init;return o(s._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(lt=c,ke):c}}var lt=null;function ht(){if(lt===null)throw Error(n(459));var s=lt;return lt=null,s}function jt(s){if(s===ke||s===ye)throw Error(n(483))}var bt=null,pr=0;function tr(s){var o=pr;return pr+=1,bt===null&&(bt=[]),At(bt,s,o)}function Kr(s,o){o=o.props.ref,s.ref=o!==void 0?o:null}function cr(s,o){throw o.$$typeof===N?Error(n(525)):(s=Object.prototype.toString.call(o),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s)))}function xn(s){function o(Re,Le){if(s){var Ge=Re.deletions;Ge===null?(Re.deletions=[Le],Re.flags|=16):Ge.push(Le)}}function c(Re,Le){if(!s)return null;for(;Le!==null;)o(Re,Le),Le=Le.sibling;return null}function p(Re){for(var Le=new Map;Re!==null;)Re.key!==null?Le.set(Re.key,Re):Le.set(Re.index,Re),Re=Re.sibling;return Le}function y(Re,Le){return Re=ni(Re,Le),Re.index=0,Re.sibling=null,Re}function B(Re,Le,Ge){return Re.index=Ge,s?(Ge=Re.alternate,Ge!==null?(Ge=Ge.index,Ge<Le?(Re.flags|=67108866,Le):Ge):(Re.flags|=67108866,Le)):(Re.flags|=1048576,Le)}function H(Re){return s&&Re.alternate===null&&(Re.flags|=67108866),Re}function ce(Re,Le,Ge,mt){return Le===null||Le.tag!==6?(Le=Ql(Ge,Re.mode,mt),Le.return=Re,Le):(Le=y(Le,Ge),Le.return=Re,Le)}function Ee(Re,Le,Ge,mt){var Ur=Ge.type;return Ur===U?ct(Re,Le,Ge.props.children,mt,Ge.key):Le!==null&&(Le.elementType===Ur||typeof Ur=="object"&&Ur!==null&&Ur.$$typeof===te&&He(Ur)===Le.type)?(Le=y(Le,Ge.props),Kr(Le,Ge),Le.return=Re,Le):(Le=Al(Ge.type,Ge.key,Ge.props,null,Re.mode,mt),Kr(Le,Ge),Le.return=Re,Le)}function Ve(Re,Le,Ge,mt){return Le===null||Le.tag!==4||Le.stateNode.containerInfo!==Ge.containerInfo||Le.stateNode.implementation!==Ge.implementation?(Le=Ol(Ge,Re.mode,mt),Le.return=Re,Le):(Le=y(Le,Ge.children||[]),Le.return=Re,Le)}function ct(Re,Le,Ge,mt,Ur){return Le===null||Le.tag!==7?(Le=Ho(Ge,Re.mode,mt,Ur),Le.return=Re,Le):(Le=y(Le,Ge),Le.return=Re,Le)}function xt(Re,Le,Ge){if(typeof Le=="string"&&Le!==""||typeof Le=="number"||typeof Le=="bigint")return Le=Ql(""+Le,Re.mode,Ge),Le.return=Re,Le;if(typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case w:return Ge=Al(Le.type,Le.key,Le.props,null,Re.mode,Ge),Kr(Ge,Le),Ge.return=Re,Ge;case C:return Le=Ol(Le,Re.mode,Ge),Le.return=Re,Le;case te:return Le=He(Le),xt(Re,Le,Ge)}if(ue(Le)||W(Le))return Le=Ho(Le,Re.mode,Ge,null),Le.return=Re,Le;if(typeof Le.then=="function")return xt(Re,tr(Le),Ge);if(Le.$$typeof===O)return xt(Re,hu(Re,Le),Ge);cr(Re,Le)}return null}function Ye(Re,Le,Ge,mt){var Ur=Le!==null?Le.key:null;if(typeof Ge=="string"&&Ge!==""||typeof Ge=="number"||typeof Ge=="bigint")return Ur!==null?null:ce(Re,Le,""+Ge,mt);if(typeof Ge=="object"&&Ge!==null){switch(Ge.$$typeof){case w:return Ge.key===Ur?Ee(Re,Le,Ge,mt):null;case C:return Ge.key===Ur?Ve(Re,Le,Ge,mt):null;case te:return Ge=He(Ge),Ye(Re,Le,Ge,mt)}if(ue(Ge)||W(Ge))return Ur!==null?null:ct(Re,Le,Ge,mt,null);if(typeof Ge.then=="function")return Ye(Re,Le,tr(Ge),mt);if(Ge.$$typeof===O)return Ye(Re,Le,hu(Re,Ge),mt);cr(Re,Ge)}return null}function rt(Re,Le,Ge,mt,Ur){if(typeof mt=="string"&&mt!==""||typeof mt=="number"||typeof mt=="bigint")return Re=Re.get(Ge)||null,ce(Le,Re,""+mt,Ur);if(typeof mt=="object"&&mt!==null){switch(mt.$$typeof){case w:return Re=Re.get(mt.key===null?Ge:mt.key)||null,Ee(Le,Re,mt,Ur);case C:return Re=Re.get(mt.key===null?Ge:mt.key)||null,Ve(Le,Re,mt,Ur);case te:return mt=He(mt),rt(Re,Le,Ge,mt,Ur)}if(ue(mt)||W(mt))return Re=Re.get(Ge)||null,ct(Le,Re,mt,Ur,null);if(typeof mt.then=="function")return rt(Re,Le,Ge,tr(mt),Ur);if(mt.$$typeof===O)return rt(Re,Le,Ge,hu(Le,mt),Ur);cr(Le,mt)}return null}function fr(Re,Le,Ge,mt){for(var Ur=null,Rn=null,vr=Le,An=Le=0,_n=null;vr!==null&&An<Ge.length;An++){vr.index>An?(_n=vr,vr=null):_n=vr.sibling;var Dn=Ye(Re,vr,Ge[An],mt);if(Dn===null){vr===null&&(vr=_n);break}s&&vr&&Dn.alternate===null&&o(Re,vr),Le=B(Dn,Le,An),Rn===null?Ur=Dn:Rn.sibling=Dn,Rn=Dn,vr=_n}if(An===Ge.length)return c(Re,vr),hn&&hr(Re,An),Ur;if(vr===null){for(;An<Ge.length;An++)vr=xt(Re,Ge[An],mt),vr!==null&&(Le=B(vr,Le,An),Rn===null?Ur=vr:Rn.sibling=vr,Rn=vr);return hn&&hr(Re,An),Ur}for(vr=p(vr);An<Ge.length;An++)_n=rt(vr,Re,An,Ge[An],mt),_n!==null&&(s&&_n.alternate!==null&&vr.delete(_n.key===null?An:_n.key),Le=B(_n,Le,An),Rn===null?Ur=_n:Rn.sibling=_n,Rn=_n);return s&&vr.forEach(function(ic){return o(Re,ic)}),hn&&hr(Re,An),Ur}function Qr(Re,Le,Ge,mt){if(Ge==null)throw Error(n(151));for(var Ur=null,Rn=null,vr=Le,An=Le=0,_n=null,Dn=Ge.next();vr!==null&&!Dn.done;An++,Dn=Ge.next()){vr.index>An?(_n=vr,vr=null):_n=vr.sibling;var ic=Ye(Re,vr,Dn.value,mt);if(ic===null){vr===null&&(vr=_n);break}s&&vr&&ic.alternate===null&&o(Re,vr),Le=B(ic,Le,An),Rn===null?Ur=ic:Rn.sibling=ic,Rn=ic,vr=_n}if(Dn.done)return c(Re,vr),hn&&hr(Re,An),Ur;if(vr===null){for(;!Dn.done;An++,Dn=Ge.next())Dn=xt(Re,Dn.value,mt),Dn!==null&&(Le=B(Dn,Le,An),Rn===null?Ur=Dn:Rn.sibling=Dn,Rn=Dn);return hn&&hr(Re,An),Ur}for(vr=p(vr);!Dn.done;An++,Dn=Ge.next())Dn=rt(vr,Re,An,Dn.value,mt),Dn!==null&&(s&&Dn.alternate!==null&&vr.delete(Dn.key===null?An:Dn.key),Le=B(Dn,Le,An),Rn===null?Ur=Dn:Rn.sibling=Dn,Rn=Dn);return s&&vr.forEach(function(aE){return o(Re,aE)}),hn&&hr(Re,An),Ur}function as(Re,Le,Ge,mt){if(typeof Ge=="object"&&Ge!==null&&Ge.type===U&&Ge.key===null&&(Ge=Ge.props.children),typeof Ge=="object"&&Ge!==null){switch(Ge.$$typeof){case w:e:{for(var Ur=Ge.key;Le!==null;){if(Le.key===Ur){if(Ur=Ge.type,Ur===U){if(Le.tag===7){c(Re,Le.sibling),mt=y(Le,Ge.props.children),mt.return=Re,Re=mt;break e}}else if(Le.elementType===Ur||typeof Ur=="object"&&Ur!==null&&Ur.$$typeof===te&&He(Ur)===Le.type){c(Re,Le.sibling),mt=y(Le,Ge.props),Kr(mt,Ge),mt.return=Re,Re=mt;break e}c(Re,Le);break}else o(Re,Le);Le=Le.sibling}Ge.type===U?(mt=Ho(Ge.props.children,Re.mode,mt,Ge.key),mt.return=Re,Re=mt):(mt=Al(Ge.type,Ge.key,Ge.props,null,Re.mode,mt),Kr(mt,Ge),mt.return=Re,Re=mt)}return H(Re);case C:e:{for(Ur=Ge.key;Le!==null;){if(Le.key===Ur)if(Le.tag===4&&Le.stateNode.containerInfo===Ge.containerInfo&&Le.stateNode.implementation===Ge.implementation){c(Re,Le.sibling),mt=y(Le,Ge.children||[]),mt.return=Re,Re=mt;break e}else{c(Re,Le);break}else o(Re,Le);Le=Le.sibling}mt=Ol(Ge,Re.mode,mt),mt.return=Re,Re=mt}return H(Re);case te:return Ge=He(Ge),as(Re,Le,Ge,mt)}if(ue(Ge))return fr(Re,Le,Ge,mt);if(W(Ge)){if(Ur=W(Ge),typeof Ur!="function")throw Error(n(150));return Ge=Ur.call(Ge),Qr(Re,Le,Ge,mt)}if(typeof Ge.then=="function")return as(Re,Le,tr(Ge),mt);if(Ge.$$typeof===O)return as(Re,Le,hu(Re,Ge),mt);cr(Re,Ge)}return typeof Ge=="string"&&Ge!==""||typeof Ge=="number"||typeof Ge=="bigint"?(Ge=""+Ge,Le!==null&&Le.tag===6?(c(Re,Le.sibling),mt=y(Le,Ge),mt.return=Re,Re=mt):(c(Re,Le),mt=Ql(Ge,Re.mode,mt),mt.return=Re,Re=mt),H(Re)):c(Re,Le)}return function(Re,Le,Ge,mt){try{pr=0;var Ur=as(Re,Le,Ge,mt);return bt=null,Ur}catch(vr){if(vr===ke||vr===ye)throw vr;var Rn=ca(29,vr,null,Re.mode);return Rn.lanes=mt,Rn.return=Re,Rn}finally{}}}var ls=xn(!0),Xr=xn(!1),rr=!1;function qt(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _s(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Tr(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function rn(s,o,c){var p=s.updateQueue;if(p===null)return null;if(p=p.shared,(Hn&2)!==0){var y=p.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),p.pending=o,o=Aa(s),Bo(s,null,c),o}return _o(s,p,o,c),Aa(s)}function Mn(s,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194048)!==0)){var p=o.lanes;p&=s.pendingLanes,c|=p,o.lanes=c,an(s,c)}}function da(s,o){var c=s.updateQueue,p=s.alternate;if(p!==null&&(p=p.updateQueue,c===p)){var y=null,B=null;if(c=c.firstBaseUpdate,c!==null){do{var H={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};B===null?y=B=H:B=B.next=H,c=c.next}while(c!==null);B===null?y=B=o:B=B.next=o}else y=B=o;c={baseState:p.baseState,firstBaseUpdate:y,lastBaseUpdate:B,shared:p.shared,callbacks:p.callbacks},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=o:s.next=o,c.lastBaseUpdate=o}var Qa=!1;function rs(){if(Qa){var s=_;if(s!==null)throw s}}function Xs(s,o,c,p){Qa=!1;var y=s.updateQueue;rr=!1;var B=y.firstBaseUpdate,H=y.lastBaseUpdate,ce=y.shared.pending;if(ce!==null){y.shared.pending=null;var Ee=ce,Ve=Ee.next;Ee.next=null,H===null?B=Ve:H.next=Ve,H=Ee;var ct=s.alternate;ct!==null&&(ct=ct.updateQueue,ce=ct.lastBaseUpdate,ce!==H&&(ce===null?ct.firstBaseUpdate=Ve:ce.next=Ve,ct.lastBaseUpdate=Ee))}if(B!==null){var xt=y.baseState;H=0,ct=Ve=Ee=null,ce=B;do{var Ye=ce.lane&-536870913,rt=Ye!==ce.lane;if(rt?(wn&Ye)===Ye:(p&Ye)===Ye){Ye!==0&&Ye===x&&(Qa=!0),ct!==null&&(ct=ct.next={lane:0,tag:ce.tag,payload:ce.payload,callback:null,next:null});e:{var fr=s,Qr=ce;Ye=o;var as=c;switch(Qr.tag){case 1:if(fr=Qr.payload,typeof fr=="function"){xt=fr.call(as,xt,Ye);break e}xt=fr;break e;case 3:fr.flags=fr.flags&-65537|128;case 0:if(fr=Qr.payload,Ye=typeof fr=="function"?fr.call(as,xt,Ye):fr,Ye==null)break e;xt=b({},xt,Ye);break e;case 2:rr=!0}}Ye=ce.callback,Ye!==null&&(s.flags|=64,rt&&(s.flags|=8192),rt=y.callbacks,rt===null?y.callbacks=[Ye]:rt.push(Ye))}else rt={lane:Ye,tag:ce.tag,payload:ce.payload,callback:ce.callback,next:null},ct===null?(Ve=ct=rt,Ee=xt):ct=ct.next=rt,H|=Ye;if(ce=ce.next,ce===null){if(ce=y.shared.pending,ce===null)break;rt=ce,ce=rt.next,rt.next=null,y.lastBaseUpdate=rt,y.shared.pending=null}}while(!0);ct===null&&(Ee=xt),y.baseState=Ee,y.firstBaseUpdate=Ve,y.lastBaseUpdate=ct,B===null&&(y.shared.lanes=0),XA|=H,s.lanes=H,s.memoizedState=xt}}function qa(s,o){if(typeof s!="function")throw Error(n(191,s));s.call(o)}function Ys(s,o){var c=s.callbacks;if(c!==null)for(s.callbacks=null,s=0;s<c.length;s++)qa(c[s],o)}var un=q(null),kn=q(0);function Bs(s,o){s=_A,G(kn,s),G(un,o),_A=s|o.baseLanes}function Tn(){G(kn,_A),G(un,un.current)}function ha(){_A=kn.current,F(un),F(kn)}var Ns=q(null),Ln=null;function zs(s){var o=s.alternate;G(Cn,Cn.current&1),G(Ns,s),Ln===null&&(o===null||un.current!==null||o.memoizedState!==null)&&(Ln=s)}function Pn(s){G(Cn,Cn.current),G(Ns,s),Ln===null&&(Ln=s)}function Js(s){s.tag===22?(G(Cn,Cn.current),G(Ns,s),Ln===null&&(Ln=s)):Ws()}function Ws(){G(Cn,Cn.current),G(Ns,Ns.current)}function Zn(s){F(Ns),Ln===s&&(Ln=null),F(Cn)}var Cn=q(0);function za(s){for(var o=s;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||e0(c)||t0(c)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Ls=0,Sr=null,jr=null,Fn=null,wi=!1,eo=!1,ai=!1,ea=0,ql=0,zl=null,pu=0;function ns(){throw Error(n(321))}function Cd(s,o){if(o===null)return!1;for(var c=0;c<o.length&&c<s.length;c++)if(!js(s[c],o[c]))return!1;return!0}function Ed(s,o,c,p,y,B){return Ls=B,Sr=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Q.H=s===null||s.memoizedState===null?Pv:ug,ai=!1,B=c(p,y),ai=!1,eo&&(B=ul(o,c,p,y)),mu(s),B}function mu(s){Q.H=Id;var o=jr!==null&&jr.next!==null;if(Ls=0,Fn=jr=Sr=null,wi=!1,ql=0,zl=null,o)throw Error(n(300));s===null||wa||(s=s.dependencies,s!==null&&du(s)&&(wa=!0))}function ul(s,o,c,p){Sr=s;var y=0;do{if(eo&&(zl=null),ql=0,eo=!1,25<=y)throw Error(n(301));if(y+=1,Fn=jr=null,s.updateQueue!=null){var B=s.updateQueue;B.lastEffect=null,B.events=null,B.stores=null,B.memoCache!=null&&(B.memoCache.index=0)}Q.H=Hv,B=o(c,p)}while(eo);return B}function sg(){var s=Q.H,o=s.useState()[0];return o=typeof o.then=="function"?Kl(o):o,s=s.useState()[0],(jr!==null?jr.memoizedState:null)!==s&&(Sr.flags|=1024),o}function Sd(){var s=ea!==0;return ea=0,s}function jd(s,o,c){o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~c}function gu(s){if(wi){for(s=s.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}wi=!1}Ls=0,Fn=jr=Sr=null,eo=!1,ql=ea=0,zl=null}function ya(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fn===null?Sr.memoizedState=Fn=s:Fn=Fn.next=s,Fn}function Fs(){if(jr===null){var s=Sr.alternate;s=s!==null?s.memoizedState:null}else s=jr.next;var o=Fn===null?Sr.memoizedState:Fn.next;if(o!==null)Fn=o,jr=s;else{if(s===null)throw Sr.alternate===null?Error(n(467)):Error(n(310));jr=s,s={memoizedState:jr.memoizedState,baseState:jr.baseState,baseQueue:jr.baseQueue,queue:jr.queue,next:null},Fn===null?Sr.memoizedState=Fn=s:Fn=Fn.next=s}return Fn}function jc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Kl(s){var o=ql;return ql+=1,zl===null&&(zl=[]),s=At(zl,s,o),o=Sr,(Fn===null?o.memoizedState:Fn.next)===null&&(o=o.alternate,Q.H=o===null||o.memoizedState===null?Pv:ug),s}function zA(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Kl(s);if(s.$$typeof===O)return Ia(s)}throw Error(n(438,String(s)))}function fA(s){var o=null,c=Sr.updateQueue;if(c!==null&&(o=c.memoCache),o==null){var p=Sr.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(o={data:p.data.map(function(y){return y.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),c===null&&(c=jc(),Sr.updateQueue=c),c.memoCache=o,c=o.data[o.index],c===void 0)for(c=o.data[o.index]=Array(s),p=0;p<s;p++)c[p]=ge;return o.index++,c}function zo(s,o){return typeof o=="function"?o(s):o}function xu(s){var o=Fs();return KA(o,jr,s)}function KA(s,o,c){var p=s.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=c;var y=s.baseQueue,B=p.pending;if(B!==null){if(y!==null){var H=y.next;y.next=B.next,B.next=H}o.baseQueue=y=B,p.pending=null}if(B=s.baseState,y===null)s.memoizedState=B;else{o=y.next;var ce=H=null,Ee=null,Ve=o,ct=!1;do{var xt=Ve.lane&-536870913;if(xt!==Ve.lane?(wn&xt)===xt:(Ls&xt)===xt){var Ye=Ve.revertLane;if(Ye===0)Ee!==null&&(Ee=Ee.next={lane:0,revertLane:0,gesture:null,action:Ve.action,hasEagerState:Ve.hasEagerState,eagerState:Ve.eagerState,next:null}),xt===x&&(ct=!0);else if((Ls&Ye)===Ye){Ve=Ve.next,Ye===x&&(ct=!0);continue}else xt={lane:0,revertLane:Ve.revertLane,gesture:null,action:Ve.action,hasEagerState:Ve.hasEagerState,eagerState:Ve.eagerState,next:null},Ee===null?(ce=Ee=xt,H=B):Ee=Ee.next=xt,Sr.lanes|=Ye,XA|=Ye;xt=Ve.action,ai&&c(B,xt),B=Ve.hasEagerState?Ve.eagerState:c(B,xt)}else Ye={lane:xt,revertLane:Ve.revertLane,gesture:Ve.gesture,action:Ve.action,hasEagerState:Ve.hasEagerState,eagerState:Ve.eagerState,next:null},Ee===null?(ce=Ee=Ye,H=B):Ee=Ee.next=Ye,Sr.lanes|=xt,XA|=xt;Ve=Ve.next}while(Ve!==null&&Ve!==o);if(Ee===null?H=B:Ee.next=ce,!js(B,s.memoizedState)&&(wa=!0,ct&&(c=_,c!==null)))throw c;s.memoizedState=B,s.baseState=H,s.baseQueue=Ee,p.lastRenderedState=B}return y===null&&(p.lanes=0),[s.memoizedState,p.dispatch]}function bu(s){var o=Fs(),c=o.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=s;var p=c.dispatch,y=c.pending,B=o.memoizedState;if(y!==null){c.pending=null;var H=y=y.next;do B=s(B,H.action),H=H.next;while(H!==y);js(B,o.memoizedState)||(wa=!0),o.memoizedState=B,o.baseQueue===null&&(o.baseState=B),c.lastRenderedState=B}return[B,p]}function vu(s,o,c){var p=Sr,y=Fs(),B=hn;if(B){if(c===void 0)throw Error(n(407));c=c()}else c=o();var H=!js((jr||y).memoizedState,c);if(H&&(y.memoizedState=c,wa=!0),y=y.queue,ag(kd.bind(null,p,y,s),[s]),y.getSnapshot!==o||H||Fn!==null&&Fn.memoizedState.tag&1){if(p.flags|=2048,mA(9,{destroy:void 0},Ud.bind(null,p,y,c,o),null),As===null)throw Error(n(349));B||(Ls&127)!==0||dl(p,o,c)}return c}function dl(s,o,c){s.flags|=16384,s={getSnapshot:o,value:c},o=Sr.updateQueue,o===null?(o=jc(),Sr.updateQueue=o,o.stores=[s]):(c=o.stores,c===null?o.stores=[s]:c.push(s))}function Ud(s,o,c,p){o.value=c,o.getSnapshot=p,cf(o)&&Ld(s)}function kd(s,o,c){return c(function(){cf(o)&&Ld(s)})}function cf(s){var o=s.getSnapshot;s=s.value;try{var c=o();return!js(s,c)}catch{return!0}}function Ld(s){var o=vi(s,2);o!==null&&ao(o,s,2)}function Gl(s){var o=ya();if(typeof s=="function"){var c=s;if(s=c(),ai){or(!0);try{c()}finally{or(!1)}}}return o.memoizedState=o.baseState=s,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zo,lastRenderedState:s},o}function uf(s,o,c,p){return s.baseState=c,KA(s,jr,typeof p=="function"?p:zo)}function df(s,o,c,p,y){if(mf(s))throw Error(n(485));if(s=o.action,s!==null){var B={payload:y,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(H){B.listeners.push(H)}};Q.T!==null?c(!0):B.isTransition=!1,p(B),c=o.pending,c===null?(B.next=o.pending=B,hf(o,B)):(B.next=c.next,o.pending=c.next=B)}}function hf(s,o){var c=o.action,p=o.payload,y=s.state;if(o.isTransition){var B=Q.T,H={};Q.T=H;try{var ce=c(y,p),Ee=Q.S;Ee!==null&&Ee(H,ce),Fd(s,o,ce)}catch(Ve){pA(s,o,Ve)}finally{B!==null&&H.types!==null&&(B.types=H.types),Q.T=B}}else try{B=c(y,p),Fd(s,o,B)}catch(Ve){pA(s,o,Ve)}}function Fd(s,o,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(p){ff(s,o,p)},function(p){return pA(s,o,p)}):ff(s,o,c)}function ff(s,o,c){o.status="fulfilled",o.value=c,yu(o),s.state=c,o=s.pending,o!==null&&(c=o.next,c===o?s.pending=null:(c=c.next,o.next=c,hf(s,c)))}function pA(s,o,c){var p=s.pending;if(s.pending=null,p!==null){p=p.next;do o.status="rejected",o.reason=c,yu(o),o=o.next;while(o!==p)}s.action=null}function yu(s){s=s.listeners;for(var o=0;o<s.length;o++)(0,s[o])()}function Uc(s,o){return o}function Ko(s,o){if(hn){var c=As.formState;if(c!==null){e:{var p=Sr;if(hn){if(Un){t:{for(var y=Un,B=fs;y.nodeType!==8;){if(!B){y=null;break t}if(y=Go(y.nextSibling),y===null){y=null;break t}}B=y.data,y=B==="F!"||B==="F"?y:null}if(y){Un=Go(y.nextSibling),p=y.data==="F!";break e}}qo(p)}p=!1}p&&(o=c[0])}}return c=ya(),c.memoizedState=c.baseState=o,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Uc,lastRenderedState:o},c.queue=p,c=Rv.bind(null,Sr,p),p.dispatch=c,p=Gl(!1),B=cg.bind(null,Sr,!1,p.queue),p=ya(),y={state:o,dispatch:null,action:s,pending:null},p.queue=y,c=df.bind(null,Sr,y,B,c),y.dispatch=c,p.memoizedState=s,[o,c,!1]}function hl(s){var o=Fs();return fl(o,jr,s)}function fl(s,o,c){if(o=KA(s,o,Uc)[0],s=xu(zo)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var p=Kl(o)}catch(H){throw H===ke?ye:H}else p=o;o=Fs();var y=o.queue,B=y.dispatch;return c!==o.memoizedState&&(Sr.flags|=2048,mA(9,{destroy:void 0},wu.bind(null,y,c),null)),[p,B,s]}function wu(s,o){s.action=o}function _u(s){var o=Fs(),c=jr;if(c!==null)return fl(o,c,s);Fs(),o=o.memoizedState,c=Fs();var p=c.queue.dispatch;return c.memoizedState=s,[o,p,!1]}function mA(s,o,c,p){return s={tag:s,create:c,deps:p,inst:o,next:null},o=Sr.updateQueue,o===null&&(o=jc(),Sr.updateQueue=o),c=o.lastEffect,c===null?o.lastEffect=s.next=s:(p=c.next,c.next=s,s.next=p,o.lastEffect=s),s}function pf(){return Fs().memoizedState}function GA(s,o,c,p){var y=ya();Sr.flags|=s,y.memoizedState=mA(1|o,{destroy:void 0},c,p===void 0?null:p)}function VA(s,o,c,p){var y=Fs();p=p===void 0?null:p;var B=y.memoizedState.inst;jr!==null&&p!==null&&Cd(p,jr.memoizedState.deps)?y.memoizedState=mA(o,B,c,p):(Sr.flags|=s,y.memoizedState=mA(1|o,B,c,p))}function Bv(s,o){GA(8390656,8,s,o)}function ag(s,o){VA(2048,8,s,o)}function WC(s){Sr.flags|=4;var o=Sr.updateQueue;if(o===null)o=jc(),Sr.updateQueue=o,o.events=[s];else{var c=o.events;c===null?o.events=[s]:c.push(s)}}function Nv(s){var o=Fs().memoizedState;return WC({ref:o,nextImpl:s}),function(){if((Hn&2)!==0)throw Error(n(440));return o.impl.apply(void 0,arguments)}}function Cv(s,o){return VA(4,2,s,o)}function Ev(s,o){return VA(4,4,s,o)}function Sv(s,o){if(typeof o=="function"){s=s();var c=o(s);return function(){typeof c=="function"?c():o(null)}}if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function jv(s,o,c){c=c!=null?c.concat([s]):null,VA(4,4,Sv.bind(null,o,s),c)}function ig(){}function Uv(s,o){var c=Fs();o=o===void 0?null:o;var p=c.memoizedState;return o!==null&&Cd(o,p[1])?p[0]:(c.memoizedState=[s,o],s)}function kv(s,o){var c=Fs();o=o===void 0?null:o;var p=c.memoizedState;if(o!==null&&Cd(o,p[1]))return p[0];if(p=s(),ai){or(!0);try{s()}finally{or(!1)}}return c.memoizedState=[p,o],p}function og(s,o,c){return c===void 0||(Ls&1073741824)!==0&&(wn&261930)===0?s.memoizedState=o:(s.memoizedState=c,s=L1(),Sr.lanes|=s,XA|=s,c)}function Lv(s,o,c,p){return js(c,o)?c:un.current!==null?(s=og(s,c,p),js(s,o)||(wa=!0),s):(Ls&42)===0||(Ls&1073741824)!==0&&(wn&261930)===0?(wa=!0,s.memoizedState=c):(s=L1(),Sr.lanes|=s,XA|=s,o)}function Fv(s,o,c,p,y){var B=Ae.p;Ae.p=B!==0&&8>B?B:8;var H=Q.T,ce={};Q.T=ce,cg(s,!1,o,c);try{var Ee=y(),Ve=Q.S;if(Ve!==null&&Ve(ce,Ee),Ee!==null&&typeof Ee=="object"&&typeof Ee.then=="function"){var ct=J(Ee,p);Td(s,o,ct,So(s))}else Td(s,o,p,So(s))}catch(xt){Td(s,o,{then:function(){},status:"rejected",reason:xt},So())}finally{Ae.p=B,H!==null&&ce.types!==null&&(H.types=ce.types),Q.T=H}}function e4(){}function lg(s,o,c,p){if(s.tag!==5)throw Error(n(476));var y=Tv(s).queue;Fv(s,y,o,ee,c===null?e4:function(){return Iv(s),c(p)})}function Tv(s){var o=s.memoizedState;if(o!==null)return o;o={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zo,lastRenderedState:ee},next:null};var c={};return o.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zo,lastRenderedState:c},next:null},s.memoizedState=o,s=s.alternate,s!==null&&(s.memoizedState=o),o}function Iv(s){var o=Tv(s);o.next===null&&(o=s.alternate.memoizedState),Td(s,o.next.queue,{},So())}function Ag(){return Ia(Yd)}function Qv(){return Fs().memoizedState}function Ov(){return Fs().memoizedState}function t4(s){for(var o=s.return;o!==null;){switch(o.tag){case 24:case 3:var c=So();s=Tr(c);var p=rn(o,s,c);p!==null&&(ao(p,o,c),Mn(p,o,c)),o={cache:qA()},s.payload=o;return}o=o.return}}function r4(s,o,c){var p=So();c={lane:p,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},mf(s)?Dv(o,c):(c=DA(s,o,c,p),c!==null&&(ao(c,s,p),Mv(c,o,p)))}function Rv(s,o,c){var p=So();Td(s,o,c,p)}function Td(s,o,c,p){var y={lane:p,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(mf(s))Dv(o,y);else{var B=s.alternate;if(s.lanes===0&&(B===null||B.lanes===0)&&(B=o.lastRenderedReducer,B!==null))try{var H=o.lastRenderedState,ce=B(H,c);if(y.hasEagerState=!0,y.eagerState=ce,js(ce,H))return _o(s,o,y,0),As===null&&Tl(),!1}catch{}finally{}if(c=DA(s,o,y,p),c!==null)return ao(c,s,p),Mv(c,o,p),!0}return!1}function cg(s,o,c,p){if(p={lane:2,revertLane:Hg(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},mf(s)){if(o)throw Error(n(479))}else o=DA(s,c,p,2),o!==null&&ao(o,s,2)}function mf(s){var o=s.alternate;return s===Sr||o!==null&&o===Sr}function Dv(s,o){eo=wi=!0;var c=s.pending;c===null?o.next=o:(o.next=c.next,c.next=o),s.pending=o}function Mv(s,o,c){if((c&4194048)!==0){var p=o.lanes;p&=s.pendingLanes,c|=p,o.lanes=c,an(s,c)}}var Id={readContext:Ia,use:zA,useCallback:ns,useContext:ns,useEffect:ns,useImperativeHandle:ns,useLayoutEffect:ns,useInsertionEffect:ns,useMemo:ns,useReducer:ns,useRef:ns,useState:ns,useDebugValue:ns,useDeferredValue:ns,useTransition:ns,useSyncExternalStore:ns,useId:ns,useHostTransitionStatus:ns,useFormState:ns,useActionState:ns,useOptimistic:ns,useMemoCache:ns,useCacheRefresh:ns};Id.useEffectEvent=ns;var Pv={readContext:Ia,use:zA,useCallback:function(s,o){return ya().memoizedState=[s,o===void 0?null:o],s},useContext:Ia,useEffect:Bv,useImperativeHandle:function(s,o,c){c=c!=null?c.concat([s]):null,GA(4194308,4,Sv.bind(null,o,s),c)},useLayoutEffect:function(s,o){return GA(4194308,4,s,o)},useInsertionEffect:function(s,o){GA(4,2,s,o)},useMemo:function(s,o){var c=ya();o=o===void 0?null:o;var p=s();if(ai){or(!0);try{s()}finally{or(!1)}}return c.memoizedState=[p,o],p},useReducer:function(s,o,c){var p=ya();if(c!==void 0){var y=c(o);if(ai){or(!0);try{c(o)}finally{or(!1)}}}else y=o;return p.memoizedState=p.baseState=y,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:y},p.queue=s,s=s.dispatch=r4.bind(null,Sr,s),[p.memoizedState,s]},useRef:function(s){var o=ya();return s={current:s},o.memoizedState=s},useState:function(s){s=Gl(s);var o=s.queue,c=Rv.bind(null,Sr,o);return o.dispatch=c,[s.memoizedState,c]},useDebugValue:ig,useDeferredValue:function(s,o){var c=ya();return og(c,s,o)},useTransition:function(){var s=Gl(!1);return s=Fv.bind(null,Sr,s.queue,!0,!1),ya().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,o,c){var p=Sr,y=ya();if(hn){if(c===void 0)throw Error(n(407));c=c()}else{if(c=o(),As===null)throw Error(n(349));(wn&127)!==0||dl(p,o,c)}y.memoizedState=c;var B={value:c,getSnapshot:o};return y.queue=B,Bv(kd.bind(null,p,B,s),[s]),p.flags|=2048,mA(9,{destroy:void 0},Ud.bind(null,p,B,c,o),null),c},useId:function(){var s=ya(),o=As.identifierPrefix;if(hn){var c=Pt,p=pt;c=(p&~(1<<32-Ht(p)-1)).toString(32)+c,o="_"+o+"R_"+c,c=ea++,0<c&&(o+="H"+c.toString(32)),o+="_"}else c=pu++,o="_"+o+"r_"+c.toString(32)+"_";return s.memoizedState=o},useHostTransitionStatus:Ag,useFormState:Ko,useActionState:Ko,useOptimistic:function(s){var o=ya();o.memoizedState=o.baseState=s;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=c,o=cg.bind(null,Sr,!0,c),c.dispatch=o,[s,o]},useMemoCache:fA,useCacheRefresh:function(){return ya().memoizedState=t4.bind(null,Sr)},useEffectEvent:function(s){var o=ya(),c={impl:s};return o.memoizedState=c,function(){if((Hn&2)!==0)throw Error(n(440));return c.impl.apply(void 0,arguments)}}},ug={readContext:Ia,use:zA,useCallback:Uv,useContext:Ia,useEffect:ag,useImperativeHandle:jv,useInsertionEffect:Cv,useLayoutEffect:Ev,useMemo:kv,useReducer:xu,useRef:pf,useState:function(){return xu(zo)},useDebugValue:ig,useDeferredValue:function(s,o){var c=Fs();return Lv(c,jr.memoizedState,s,o)},useTransition:function(){var s=xu(zo)[0],o=Fs().memoizedState;return[typeof s=="boolean"?s:Kl(s),o]},useSyncExternalStore:vu,useId:Qv,useHostTransitionStatus:Ag,useFormState:hl,useActionState:hl,useOptimistic:function(s,o){var c=Fs();return uf(c,jr,s,o)},useMemoCache:fA,useCacheRefresh:Ov};ug.useEffectEvent=Nv;var Hv={readContext:Ia,use:zA,useCallback:Uv,useContext:Ia,useEffect:ag,useImperativeHandle:jv,useInsertionEffect:Cv,useLayoutEffect:Ev,useMemo:kv,useReducer:bu,useRef:pf,useState:function(){return bu(zo)},useDebugValue:ig,useDeferredValue:function(s,o){var c=Fs();return jr===null?og(c,s,o):Lv(c,jr.memoizedState,s,o)},useTransition:function(){var s=bu(zo)[0],o=Fs().memoizedState;return[typeof s=="boolean"?s:Kl(s),o]},useSyncExternalStore:vu,useId:Qv,useHostTransitionStatus:Ag,useFormState:_u,useActionState:_u,useOptimistic:function(s,o){var c=Fs();return jr!==null?uf(c,jr,s,o):(c.baseState=s,[s,c.queue.dispatch])},useMemoCache:fA,useCacheRefresh:Ov};Hv.useEffectEvent=Nv;function dg(s,o,c,p){o=s.memoizedState,c=c(p,o),c=c==null?o:b({},o,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var hg={enqueueSetState:function(s,o,c){s=s._reactInternals;var p=So(),y=Tr(p);y.payload=o,c!=null&&(y.callback=c),o=rn(s,y,p),o!==null&&(ao(o,s,p),Mn(o,s,p))},enqueueReplaceState:function(s,o,c){s=s._reactInternals;var p=So(),y=Tr(p);y.tag=1,y.payload=o,c!=null&&(y.callback=c),o=rn(s,y,p),o!==null&&(ao(o,s,p),Mn(o,s,p))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var c=So(),p=Tr(c);p.tag=2,o!=null&&(p.callback=o),o=rn(s,p,c),o!==null&&(ao(o,s,c),Mn(o,s,c))}};function qv(s,o,c,p,y,B,H){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(p,B,H):o.prototype&&o.prototype.isPureReactComponent?!Vi(c,p)||!Vi(y,B):!0}function zv(s,o,c,p){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,p),o.state!==s&&hg.enqueueReplaceState(o,o.state,null)}function kc(s,o){var c=o;if("ref"in o){c={};for(var p in o)p!=="ref"&&(c[p]=o[p])}if(s=s.defaultProps){c===o&&(c=b({},c));for(var y in s)c[y]===void 0&&(c[y]=s[y])}return c}function Kv(s){Fl(s)}function Gv(s){console.error(s)}function Vv(s){Fl(s)}function gf(s,o){try{var c=s.onUncaughtError;c(o.value,{componentStack:o.stack})}catch(p){setTimeout(function(){throw p})}}function $v(s,o,c){try{var p=s.onCaughtError;p(c.value,{componentStack:c.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function fg(s,o,c){return c=Tr(c),c.tag=3,c.payload={element:null},c.callback=function(){gf(s,o)},c}function Zv(s){return s=Tr(s),s.tag=3,s}function Xv(s,o,c,p){var y=c.type.getDerivedStateFromError;if(typeof y=="function"){var B=p.value;s.payload=function(){return y(B)},s.callback=function(){$v(o,c,p)}}var H=c.stateNode;H!==null&&typeof H.componentDidCatch=="function"&&(s.callback=function(){$v(o,c,p),typeof y!="function"&&(YA===null?YA=new Set([this]):YA.add(this));var ce=p.stack;this.componentDidCatch(p.value,{componentStack:ce!==null?ce:""})})}function n4(s,o,c,p,y){if(c.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(o=c.alternate,o!==null&&Pl(o,c,y,!0),c=Ns.current,c!==null){switch(c.tag){case 31:case 13:return Ln===null?jf():c.alternate===null&&ta===0&&(ta=3),c.flags&=-257,c.flags|=65536,c.lanes=y,p===Fe?c.flags|=16384:(o=c.updateQueue,o===null?c.updateQueue=new Set([p]):o.add(p),Dg(s,p,y)),!1;case 22:return c.flags|=65536,p===Fe?c.flags|=16384:(o=c.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([p])},c.updateQueue=o):(c=o.retryQueue,c===null?o.retryQueue=new Set([p]):c.add(p)),Dg(s,p,y)),!1}throw Error(n(435,c.tag))}return Dg(s,p,y),jf(),!1}if(hn)return o=Ns.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=y,p!==yi&&(s=Error(n(422),{cause:p}),Rl(f(s,c)))):(p!==yi&&(o=Error(n(423),{cause:p}),Rl(f(o,c))),s=s.current.alternate,s.flags|=65536,y&=-y,s.lanes|=y,p=f(p,c),y=fg(s.stateNode,p,y),da(s,y),ta!==4&&(ta=2)),!1;var B=Error(n(520),{cause:p});if(B=f(B,c),qd===null?qd=[B]:qd.push(B),ta!==4&&(ta=2),o===null)return!0;p=f(p,c),c=o;do{switch(c.tag){case 3:return c.flags|=65536,s=y&-y,c.lanes|=s,s=fg(c.stateNode,p,s),da(c,s),!1;case 1:if(o=c.type,B=c.stateNode,(c.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(YA===null||!YA.has(B))))return c.flags|=65536,y&=-y,c.lanes|=y,y=Zv(y),Xv(y,s,c,p),da(c,y),!1}c=c.return}while(c!==null);return!1}var pg=Error(n(461)),wa=!1;function ii(s,o,c,p){o.child=s===null?Xr(o,null,c,p):ls(o,s.child,c,p)}function Yv(s,o,c,p,y){c=c.render;var B=o.ref;if("ref"in p){var H={};for(var ce in p)ce!=="ref"&&(H[ce]=p[ce])}else H=p;return Hl(o),p=Ed(s,o,c,H,B,y),ce=Sd(),s!==null&&!wa?(jd(s,o,y),gA(s,o,y)):(hn&&ce&&ua(o),o.flags|=1,ii(s,o,p,y),o.child)}function Jv(s,o,c,p,y){if(s===null){var B=c.type;return typeof B=="function"&&!uA(B)&&B.defaultProps===void 0&&c.compare===null?(o.tag=15,o.type=B,Wv(s,o,B,p,y)):(s=Al(c.type,null,p,o,o.mode,y),s.ref=o.ref,s.return=o,o.child=s)}if(B=s.child,!_g(s,y)){var H=B.memoizedProps;if(c=c.compare,c=c!==null?c:Vi,c(H,p)&&s.ref===o.ref)return gA(s,o,y)}return o.flags|=1,s=ni(B,p),s.ref=o.ref,s.return=o,o.child=s}function Wv(s,o,c,p,y){if(s!==null){var B=s.memoizedProps;if(Vi(B,p)&&s.ref===o.ref)if(wa=!1,o.pendingProps=p=B,_g(s,y))(s.flags&131072)!==0&&(wa=!0);else return o.lanes=s.lanes,gA(s,o,y)}return mg(s,o,c,p,y)}function e1(s,o,c,p){var y=p.children,B=s!==null?s.memoizedState:null;if(s===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((o.flags&128)!==0){if(B=B!==null?B.baseLanes|c:c,s!==null){for(p=o.child=s.child,y=0;p!==null;)y=y|p.lanes|p.childLanes,p=p.sibling;p=y&~B}else p=0,o.child=null;return t1(s,o,B,c,p)}if((c&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},s!==null&&me(o,B!==null?B.cachePool:null),B!==null?Bs(o,B):Tn(),Js(o);else return p=o.lanes=536870912,t1(s,o,B!==null?B.baseLanes|c:c,c,p)}else B!==null?(me(o,B.cachePool),Bs(o,B),Ws(),o.memoizedState=null):(s!==null&&me(o,null),Tn(),Ws());return ii(s,o,y,c),o.child}function Qd(s,o){return s!==null&&s.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function t1(s,o,c,p,y){var B=de();return B=B===null?null:{parent:qs._currentValue,pool:B},o.memoizedState={baseLanes:c,cachePool:B},s!==null&&me(o,null),Tn(),Js(o),s!==null&&Pl(s,o,p,!0),o.childLanes=y,null}function xf(s,o){return o=vf({mode:o.mode,children:o.children},s.mode),o.ref=s.ref,s.child=o,o.return=s,o}function r1(s,o,c){return ls(o,s.child,null,c),s=xf(o,o.pendingProps),s.flags|=2,Zn(o),o.memoizedState=null,s}function s4(s,o,c){var p=o.pendingProps,y=(o.flags&128)!==0;if(o.flags&=-129,s===null){if(hn){if(p.mode==="hidden")return s=xf(o,p),o.lanes=536870912,Qd(null,s);if(Pn(o),(s=Un)?(s=fy(s,fs),s=s!==null&&s.data==="&"?s:null,s!==null&&(o.memoizedState={dehydrated:s,treeContext:Ze!==null?{id:pt,overflow:Pt}:null,retryLane:536870912,hydrationErrors:null},c=dA(s),c.return=o,o.child=c,jn=o,Un=null)):s=null,s===null)throw qo(o);return o.lanes=536870912,null}return xf(o,p)}var B=s.memoizedState;if(B!==null){var H=B.dehydrated;if(Pn(o),y)if(o.flags&256)o.flags&=-257,o=r1(s,o,c);else if(o.memoizedState!==null)o.child=s.child,o.flags|=128,o=null;else throw Error(n(558));else if(wa||Pl(s,o,c,!1),y=(c&s.childLanes)!==0,wa||y){if(p=As,p!==null&&(H=Wr(p,c),H!==0&&H!==B.retryLane))throw B.retryLane=H,vi(s,H),ao(p,s,H),pg;jf(),o=r1(s,o,c)}else s=B.treeContext,Un=Go(H.nextSibling),jn=o,hn=!0,Ta=null,fs=!1,s!==null&&si(o,s),o=xf(o,p),o.flags|=4096;return o}return s=ni(s.child,{mode:p.mode,children:p.children}),s.ref=o.ref,o.child=s,s.return=o,s}function bf(s,o){var c=o.ref;if(c===null)s!==null&&s.ref!==null&&(o.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(n(284));(s===null||s.ref!==c)&&(o.flags|=4194816)}}function mg(s,o,c,p,y){return Hl(o),c=Ed(s,o,c,p,void 0,y),p=Sd(),s!==null&&!wa?(jd(s,o,y),gA(s,o,y)):(hn&&p&&ua(o),o.flags|=1,ii(s,o,c,y),o.child)}function n1(s,o,c,p,y,B){return Hl(o),o.updateQueue=null,c=ul(o,p,c,y),mu(s),p=Sd(),s!==null&&!wa?(jd(s,o,B),gA(s,o,B)):(hn&&p&&ua(o),o.flags|=1,ii(s,o,c,B),o.child)}function s1(s,o,c,p,y){if(Hl(o),o.stateNode===null){var B=Zs,H=c.contextType;typeof H=="object"&&H!==null&&(B=Ia(H)),B=new c(p,B),o.memoizedState=B.state!==null&&B.state!==void 0?B.state:null,B.updater=hg,o.stateNode=B,B._reactInternals=o,B=o.stateNode,B.props=p,B.state=o.memoizedState,B.refs={},qt(o),H=c.contextType,B.context=typeof H=="object"&&H!==null?Ia(H):Zs,B.state=o.memoizedState,H=c.getDerivedStateFromProps,typeof H=="function"&&(dg(o,c,H,p),B.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof B.getSnapshotBeforeUpdate=="function"||typeof B.UNSAFE_componentWillMount!="function"&&typeof B.componentWillMount!="function"||(H=B.state,typeof B.componentWillMount=="function"&&B.componentWillMount(),typeof B.UNSAFE_componentWillMount=="function"&&B.UNSAFE_componentWillMount(),H!==B.state&&hg.enqueueReplaceState(B,B.state,null),Xs(o,p,B,y),rs(),B.state=o.memoizedState),typeof B.componentDidMount=="function"&&(o.flags|=4194308),p=!0}else if(s===null){B=o.stateNode;var ce=o.memoizedProps,Ee=kc(c,ce);B.props=Ee;var Ve=B.context,ct=c.contextType;H=Zs,typeof ct=="object"&&ct!==null&&(H=Ia(ct));var xt=c.getDerivedStateFromProps;ct=typeof xt=="function"||typeof B.getSnapshotBeforeUpdate=="function",ce=o.pendingProps!==ce,ct||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(ce||Ve!==H)&&zv(o,B,p,H),rr=!1;var Ye=o.memoizedState;B.state=Ye,Xs(o,p,B,y),rs(),Ve=o.memoizedState,ce||Ye!==Ve||rr?(typeof xt=="function"&&(dg(o,c,xt,p),Ve=o.memoizedState),(Ee=rr||qv(o,c,Ee,p,Ye,Ve,H))?(ct||typeof B.UNSAFE_componentWillMount!="function"&&typeof B.componentWillMount!="function"||(typeof B.componentWillMount=="function"&&B.componentWillMount(),typeof B.UNSAFE_componentWillMount=="function"&&B.UNSAFE_componentWillMount()),typeof B.componentDidMount=="function"&&(o.flags|=4194308)):(typeof B.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=Ve),B.props=p,B.state=Ve,B.context=H,p=Ee):(typeof B.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{B=o.stateNode,_s(s,o),H=o.memoizedProps,ct=kc(c,H),B.props=ct,xt=o.pendingProps,Ye=B.context,Ve=c.contextType,Ee=Zs,typeof Ve=="object"&&Ve!==null&&(Ee=Ia(Ve)),ce=c.getDerivedStateFromProps,(Ve=typeof ce=="function"||typeof B.getSnapshotBeforeUpdate=="function")||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(H!==xt||Ye!==Ee)&&zv(o,B,p,Ee),rr=!1,Ye=o.memoizedState,B.state=Ye,Xs(o,p,B,y),rs();var rt=o.memoizedState;H!==xt||Ye!==rt||rr||s!==null&&s.dependencies!==null&&du(s.dependencies)?(typeof ce=="function"&&(dg(o,c,ce,p),rt=o.memoizedState),(ct=rr||qv(o,c,ct,p,Ye,rt,Ee)||s!==null&&s.dependencies!==null&&du(s.dependencies))?(Ve||typeof B.UNSAFE_componentWillUpdate!="function"&&typeof B.componentWillUpdate!="function"||(typeof B.componentWillUpdate=="function"&&B.componentWillUpdate(p,rt,Ee),typeof B.UNSAFE_componentWillUpdate=="function"&&B.UNSAFE_componentWillUpdate(p,rt,Ee)),typeof B.componentDidUpdate=="function"&&(o.flags|=4),typeof B.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof B.componentDidUpdate!="function"||H===s.memoizedProps&&Ye===s.memoizedState||(o.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||H===s.memoizedProps&&Ye===s.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=rt),B.props=p,B.state=rt,B.context=Ee,p=ct):(typeof B.componentDidUpdate!="function"||H===s.memoizedProps&&Ye===s.memoizedState||(o.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||H===s.memoizedProps&&Ye===s.memoizedState||(o.flags|=1024),p=!1)}return B=p,bf(s,o),p=(o.flags&128)!==0,B||p?(B=o.stateNode,c=p&&typeof c.getDerivedStateFromError!="function"?null:B.render(),o.flags|=1,s!==null&&p?(o.child=ls(o,s.child,null,y),o.child=ls(o,null,c,y)):ii(s,o,c,y),o.memoizedState=B.state,s=o.child):s=gA(s,o,y),s}function a1(s,o,c,p){return cl(),o.flags|=256,ii(s,o,c,p),o.child}var gg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xg(s){return{baseLanes:s,cachePool:we()}}function bg(s,o,c){return s=s!==null?s.childLanes&~c:0,o&&(s|=Eo),s}function i1(s,o,c){var p=o.pendingProps,y=!1,B=(o.flags&128)!==0,H;if((H=B)||(H=s!==null&&s.memoizedState===null?!1:(Cn.current&2)!==0),H&&(y=!0,o.flags&=-129),H=(o.flags&32)!==0,o.flags&=-33,s===null){if(hn){if(y?zs(o):Ws(),(s=Un)?(s=fy(s,fs),s=s!==null&&s.data!=="&"?s:null,s!==null&&(o.memoizedState={dehydrated:s,treeContext:Ze!==null?{id:pt,overflow:Pt}:null,retryLane:536870912,hydrationErrors:null},c=dA(s),c.return=o,o.child=c,jn=o,Un=null)):s=null,s===null)throw qo(o);return t0(s)?o.lanes=32:o.lanes=536870912,null}var ce=p.children;return p=p.fallback,y?(Ws(),y=o.mode,ce=vf({mode:"hidden",children:ce},y),p=Ho(p,y,c,null),ce.return=o,p.return=o,ce.sibling=p,o.child=ce,p=o.child,p.memoizedState=xg(c),p.childLanes=bg(s,H,c),o.memoizedState=gg,Qd(null,p)):(zs(o),vg(o,ce))}var Ee=s.memoizedState;if(Ee!==null&&(ce=Ee.dehydrated,ce!==null)){if(B)o.flags&256?(zs(o),o.flags&=-257,o=yg(s,o,c)):o.memoizedState!==null?(Ws(),o.child=s.child,o.flags|=128,o=null):(Ws(),ce=p.fallback,y=o.mode,p=vf({mode:"visible",children:p.children},y),ce=Ho(ce,y,c,null),ce.flags|=2,p.return=o,ce.return=o,p.sibling=ce,o.child=p,ls(o,s.child,null,c),p=o.child,p.memoizedState=xg(c),p.childLanes=bg(s,H,c),o.memoizedState=gg,o=Qd(null,p));else if(zs(o),t0(ce)){if(H=ce.nextSibling&&ce.nextSibling.dataset,H)var Ve=H.dgst;H=Ve,p=Error(n(419)),p.stack="",p.digest=H,Rl({value:p,source:null,stack:null}),o=yg(s,o,c)}else if(wa||Pl(s,o,c,!1),H=(c&s.childLanes)!==0,wa||H){if(H=As,H!==null&&(p=Wr(H,c),p!==0&&p!==Ee.retryLane))throw Ee.retryLane=p,vi(s,p),ao(H,s,p),pg;e0(ce)||jf(),o=yg(s,o,c)}else e0(ce)?(o.flags|=192,o.child=s.child,o=null):(s=Ee.treeContext,Un=Go(ce.nextSibling),jn=o,hn=!0,Ta=null,fs=!1,s!==null&&si(o,s),o=vg(o,p.children),o.flags|=4096);return o}return y?(Ws(),ce=p.fallback,y=o.mode,Ee=s.child,Ve=Ee.sibling,p=ni(Ee,{mode:"hidden",children:p.children}),p.subtreeFlags=Ee.subtreeFlags&65011712,Ve!==null?ce=ni(Ve,ce):(ce=Ho(ce,y,c,null),ce.flags|=2),ce.return=o,p.return=o,p.sibling=ce,o.child=p,Qd(null,p),p=o.child,ce=s.child.memoizedState,ce===null?ce=xg(c):(y=ce.cachePool,y!==null?(Ee=qs._currentValue,y=y.parent!==Ee?{parent:Ee,pool:Ee}:y):y=we(),ce={baseLanes:ce.baseLanes|c,cachePool:y}),p.memoizedState=ce,p.childLanes=bg(s,H,c),o.memoizedState=gg,Qd(s.child,p)):(zs(o),c=s.child,s=c.sibling,c=ni(c,{mode:"visible",children:p.children}),c.return=o,c.sibling=null,s!==null&&(H=o.deletions,H===null?(o.deletions=[s],o.flags|=16):H.push(s)),o.child=c,o.memoizedState=null,c)}function vg(s,o){return o=vf({mode:"visible",children:o},s.mode),o.return=s,s.child=o}function vf(s,o){return s=ca(22,s,null,o),s.lanes=0,s}function yg(s,o,c){return ls(o,s.child,null,c),s=vg(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function o1(s,o,c){s.lanes|=o;var p=s.alternate;p!==null&&(p.lanes|=o),HA(s.return,o,c)}function wg(s,o,c,p,y,B){var H=s.memoizedState;H===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:y,treeForkCount:B}:(H.isBackwards=o,H.rendering=null,H.renderingStartTime=0,H.last=p,H.tail=c,H.tailMode=y,H.treeForkCount=B)}function l1(s,o,c){var p=o.pendingProps,y=p.revealOrder,B=p.tail;p=p.children;var H=Cn.current,ce=(H&2)!==0;if(ce?(H=H&1|2,o.flags|=128):H&=1,G(Cn,H),ii(s,o,p,c),p=hn?ie:0,!ce&&s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&o1(s,c,o);else if(s.tag===19)o1(s,c,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(y){case"forwards":for(c=o.child,y=null;c!==null;)s=c.alternate,s!==null&&za(s)===null&&(y=c),c=c.sibling;c=y,c===null?(y=o.child,o.child=null):(y=c.sibling,c.sibling=null),wg(o,!1,y,c,B,p);break;case"backwards":case"unstable_legacy-backwards":for(c=null,y=o.child,o.child=null;y!==null;){if(s=y.alternate,s!==null&&za(s)===null){o.child=y;break}s=y.sibling,y.sibling=c,c=y,y=s}wg(o,!0,c,null,B,p);break;case"together":wg(o,!1,null,null,void 0,p);break;default:o.memoizedState=null}return o.child}function gA(s,o,c){if(s!==null&&(o.dependencies=s.dependencies),XA|=o.lanes,(c&o.childLanes)===0)if(s!==null){if(Pl(s,o,c,!1),(c&o.childLanes)===0)return null}else return null;if(s!==null&&o.child!==s.child)throw Error(n(153));if(o.child!==null){for(s=o.child,c=ni(s,s.pendingProps),o.child=c,c.return=o;s.sibling!==null;)s=s.sibling,c=c.sibling=ni(s,s.pendingProps),c.return=o;c.sibling=null}return o.child}function _g(s,o){return(s.lanes&o)!==0?!0:(s=s.dependencies,!!(s!==null&&du(s)))}function a4(s,o,c){switch(o.tag){case 3:je(o,o.stateNode.containerInfo),Ml(o,qs,s.memoizedState.cache),cl();break;case 27:case 5:Je(o);break;case 4:je(o,o.stateNode.containerInfo);break;case 10:Ml(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,Pn(o),null;break;case 13:var p=o.memoizedState;if(p!==null)return p.dehydrated!==null?(zs(o),o.flags|=128,null):(c&o.child.childLanes)!==0?i1(s,o,c):(zs(o),s=gA(s,o,c),s!==null?s.sibling:null);zs(o);break;case 19:var y=(s.flags&128)!==0;if(p=(c&o.childLanes)!==0,p||(Pl(s,o,c,!1),p=(c&o.childLanes)!==0),y){if(p)return l1(s,o,c);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),G(Cn,Cn.current),p)break;return null;case 22:return o.lanes=0,e1(s,o,c,o.pendingProps);case 24:Ml(o,qs,s.memoizedState.cache)}return gA(s,o,c)}function A1(s,o,c){if(s!==null)if(s.memoizedProps!==o.pendingProps)wa=!0;else{if(!_g(s,c)&&(o.flags&128)===0)return wa=!1,a4(s,o,c);wa=(s.flags&131072)!==0}else wa=!1,hn&&(o.flags&1048576)!==0&&tn(o,ie,o.index);switch(o.lanes=0,o.tag){case 16:e:{var p=o.pendingProps;if(s=He(o.elementType),o.type=s,typeof s=="function")uA(s)?(p=kc(s,p),o.tag=1,o=s1(null,o,s,p,c)):(o.tag=0,o=mg(null,o,s,p,c));else{if(s!=null){var y=s.$$typeof;if(y===M){o.tag=11,o=Yv(null,o,s,p,c);break e}else if(y===oe){o.tag=14,o=Jv(null,o,s,p,c);break e}}throw o=K(s)||s,Error(n(306,o,""))}}return o;case 0:return mg(s,o,o.type,o.pendingProps,c);case 1:return p=o.type,y=kc(p,o.pendingProps),s1(s,o,p,y,c);case 3:e:{if(je(o,o.stateNode.containerInfo),s===null)throw Error(n(387));p=o.pendingProps;var B=o.memoizedState;y=B.element,_s(s,o),Xs(o,p,null,c);var H=o.memoizedState;if(p=H.cache,Ml(o,qs,p),p!==B.cache&&hA(o,[qs],c,!0),rs(),p=H.element,B.isDehydrated)if(B={element:p,isDehydrated:!1,cache:H.cache},o.updateQueue.baseState=B,o.memoizedState=B,o.flags&256){o=a1(s,o,p,c);break e}else if(p!==y){y=f(Error(n(424)),o),Rl(y),o=a1(s,o,p,c);break e}else{switch(s=o.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Un=Go(s.firstChild),jn=o,hn=!0,Ta=null,fs=!0,c=Xr(o,null,p,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(cl(),p===y){o=gA(s,o,c);break e}ii(s,o,p,c)}o=o.child}return o;case 26:return bf(s,o),s===null?(c=vy(o.type,null,o.pendingProps,null))?o.memoizedState=c:hn||(c=o.type,s=o.pendingProps,p=Qf(he.current).createElement(c),p[$e]=o,p[xe]=s,oi(p,c,s),it(p),o.stateNode=p):o.memoizedState=vy(o.type,s.memoizedProps,o.pendingProps,s.memoizedState),null;case 27:return Je(o),s===null&&hn&&(p=o.stateNode=gy(o.type,o.pendingProps,he.current),jn=o,fs=!0,y=Un,tc(o.type)?(r0=y,Un=Go(p.firstChild)):Un=y),ii(s,o,o.pendingProps.children,c),bf(s,o),s===null&&(o.flags|=4194304),o.child;case 5:return s===null&&hn&&((y=p=Un)&&(p=I4(p,o.type,o.pendingProps,fs),p!==null?(o.stateNode=p,jn=o,Un=Go(p.firstChild),fs=!1,y=!0):y=!1),y||qo(o)),Je(o),y=o.type,B=o.pendingProps,H=s!==null?s.memoizedProps:null,p=B.children,Yg(y,B)?p=null:H!==null&&Yg(y,H)&&(o.flags|=32),o.memoizedState!==null&&(y=Ed(s,o,sg,null,null,c),Yd._currentValue=y),bf(s,o),ii(s,o,p,c),o.child;case 6:return s===null&&hn&&((s=c=Un)&&(c=Q4(c,o.pendingProps,fs),c!==null?(o.stateNode=c,jn=o,Un=null,s=!0):s=!1),s||qo(o)),null;case 13:return i1(s,o,c);case 4:return je(o,o.stateNode.containerInfo),p=o.pendingProps,s===null?o.child=ls(o,null,p,c):ii(s,o,p,c),o.child;case 11:return Yv(s,o,o.type,o.pendingProps,c);case 7:return ii(s,o,o.pendingProps,c),o.child;case 8:return ii(s,o,o.pendingProps.children,c),o.child;case 12:return ii(s,o,o.pendingProps.children,c),o.child;case 10:return p=o.pendingProps,Ml(o,o.type,p.value),ii(s,o,p.children,c),o.child;case 9:return y=o.type._context,p=o.pendingProps.children,Hl(o),y=Ia(y),p=p(y),o.flags|=1,ii(s,o,p,c),o.child;case 14:return Jv(s,o,o.type,o.pendingProps,c);case 15:return Wv(s,o,o.type,o.pendingProps,c);case 19:return l1(s,o,c);case 31:return s4(s,o,c);case 22:return e1(s,o,c,o.pendingProps);case 24:return Hl(o),p=Ia(qs),s===null?(y=de(),y===null&&(y=As,B=qA(),y.pooledCache=B,B.refCount++,B!==null&&(y.pooledCacheLanes|=c),y=B),o.memoizedState={parent:p,cache:y},qt(o),Ml(o,qs,y)):((s.lanes&c)!==0&&(_s(s,o),Xs(o,null,null,c),rs()),y=s.memoizedState,B=o.memoizedState,y.parent!==p?(y={parent:p,cache:p},o.memoizedState=y,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=y),Ml(o,qs,p)):(p=B.cache,Ml(o,qs,p),p!==y.cache&&hA(o,[qs],c,!0))),ii(s,o,o.pendingProps.children,c),o.child;case 29:throw o.pendingProps}throw Error(n(156,o.tag))}function xA(s){s.flags|=4}function Bg(s,o,c,p,y){if((o=(s.mode&32)!==0)&&(o=!1),o){if(s.flags|=16777216,(y&335544128)===y)if(s.stateNode.complete)s.flags|=8192;else if(Q1())s.flags|=8192;else throw lt=Fe,ze}else s.flags&=-16777217}function c1(s,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!Ny(o))if(Q1())s.flags|=8192;else throw lt=Fe,ze}function yf(s,o){o!==null&&(s.flags|=4),s.flags&16384&&(o=s.tag!==22?br():536870912,s.lanes|=o,Eu|=o)}function Od(s,o){if(!hn)switch(s.tailMode){case"hidden":o=s.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:p.sibling=null}}function Cs(s){var o=s.alternate!==null&&s.alternate.child===s.child,c=0,p=0;if(o)for(var y=s.child;y!==null;)c|=y.lanes|y.childLanes,p|=y.subtreeFlags&65011712,p|=y.flags&65011712,y.return=s,y=y.sibling;else for(y=s.child;y!==null;)c|=y.lanes|y.childLanes,p|=y.subtreeFlags,p|=y.flags,y.return=s,y=y.sibling;return s.subtreeFlags|=p,s.childLanes=c,o}function i4(s,o,c){var p=o.pendingProps;switch(ws(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Cs(o),null;case 1:return Cs(o),null;case 3:return c=o.stateNode,p=null,s!==null&&(p=s.memoizedState.cache),o.memoizedState.cache!==p&&(o.flags|=2048),Wi(qs),Te(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(s===null||s.child===null)&&(ks(o)?xA(o):s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Cc())),Cs(o),null;case 26:var y=o.type,B=o.memoizedState;return s===null?(xA(o),B!==null?(Cs(o),c1(o,B)):(Cs(o),Bg(o,y,null,p,c))):B?B!==s.memoizedState?(xA(o),Cs(o),c1(o,B)):(Cs(o),o.flags&=-16777217):(s=s.memoizedProps,s!==p&&xA(o),Cs(o),Bg(o,y,s,p,c)),null;case 27:if(Ke(o),c=he.current,y=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==p&&xA(o);else{if(!p){if(o.stateNode===null)throw Error(n(166));return Cs(o),null}s=$.current,ks(o)?PA(o):(s=gy(y,p,c),o.stateNode=s,xA(o))}return Cs(o),null;case 5:if(Ke(o),y=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==p&&xA(o);else{if(!p){if(o.stateNode===null)throw Error(n(166));return Cs(o),null}if(B=$.current,ks(o))PA(o);else{var H=Qf(he.current);switch(B){case 1:B=H.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:B=H.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":B=H.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":B=H.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":B=H.createElement("div"),B.innerHTML="<script><\/script>",B=B.removeChild(B.firstChild);break;case"select":B=typeof p.is=="string"?H.createElement("select",{is:p.is}):H.createElement("select"),p.multiple?B.multiple=!0:p.size&&(B.size=p.size);break;default:B=typeof p.is=="string"?H.createElement(y,{is:p.is}):H.createElement(y)}}B[$e]=o,B[xe]=p;e:for(H=o.child;H!==null;){if(H.tag===5||H.tag===6)B.appendChild(H.stateNode);else if(H.tag!==4&&H.tag!==27&&H.child!==null){H.child.return=H,H=H.child;continue}if(H===o)break e;for(;H.sibling===null;){if(H.return===null||H.return===o)break e;H=H.return}H.sibling.return=H.return,H=H.sibling}o.stateNode=B;e:switch(oi(B,y,p),y){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&xA(o)}}return Cs(o),Bg(o,o.type,s===null?null:s.memoizedProps,o.pendingProps,c),null;case 6:if(s&&o.stateNode!=null)s.memoizedProps!==p&&xA(o);else{if(typeof p!="string"&&o.stateNode===null)throw Error(n(166));if(s=he.current,ks(o)){if(s=o.stateNode,c=o.memoizedProps,p=null,y=jn,y!==null)switch(y.tag){case 27:case 5:p=y.memoizedProps}s[$e]=o,s=!!(s.nodeValue===c||p!==null&&p.suppressHydrationWarning===!0||iy(s.nodeValue,c)),s||qo(o,!0)}else s=Qf(s).createTextNode(p),s[$e]=o,o.stateNode=s}return Cs(o),null;case 31:if(c=o.memoizedState,s===null||s.memoizedState!==null){if(p=ks(o),c!==null){if(s===null){if(!p)throw Error(n(318));if(s=o.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(557));s[$e]=o}else cl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Cs(o),s=!1}else c=Cc(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=c),s=!0;if(!s)return o.flags&256?(Zn(o),o):(Zn(o),null);if((o.flags&128)!==0)throw Error(n(558))}return Cs(o),null;case 13:if(p=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(y=ks(o),p!==null&&p.dehydrated!==null){if(s===null){if(!y)throw Error(n(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(n(317));y[$e]=o}else cl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Cs(o),y=!1}else y=Cc(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=y),y=!0;if(!y)return o.flags&256?(Zn(o),o):(Zn(o),null)}return Zn(o),(o.flags&128)!==0?(o.lanes=c,o):(c=p!==null,s=s!==null&&s.memoizedState!==null,c&&(p=o.child,y=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(y=p.alternate.memoizedState.cachePool.pool),B=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(B=p.memoizedState.cachePool.pool),B!==y&&(p.flags|=2048)),c!==s&&c&&(o.child.flags|=8192),yf(o,o.updateQueue),Cs(o),null);case 4:return Te(),s===null&&Gg(o.stateNode.containerInfo),Cs(o),null;case 10:return Wi(o.type),Cs(o),null;case 19:if(F(Cn),p=o.memoizedState,p===null)return Cs(o),null;if(y=(o.flags&128)!==0,B=p.rendering,B===null)if(y)Od(p,!1);else{if(ta!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(B=za(s),B!==null){for(o.flags|=128,Od(p,!1),s=B.updateQueue,o.updateQueue=s,yf(o,s),o.subtreeFlags=0,s=c,c=o.child;c!==null;)Il(c,s),c=c.sibling;return G(Cn,Cn.current&1|2),hn&&hr(o,p.treeForkCount),o.child}s=s.sibling}p.tail!==null&&ir()>Cf&&(o.flags|=128,y=!0,Od(p,!1),o.lanes=4194304)}else{if(!y)if(s=za(B),s!==null){if(o.flags|=128,y=!0,s=s.updateQueue,o.updateQueue=s,yf(o,s),Od(p,!0),p.tail===null&&p.tailMode==="hidden"&&!B.alternate&&!hn)return Cs(o),null}else 2*ir()-p.renderingStartTime>Cf&&c!==536870912&&(o.flags|=128,y=!0,Od(p,!1),o.lanes=4194304);p.isBackwards?(B.sibling=o.child,o.child=B):(s=p.last,s!==null?s.sibling=B:o.child=B,p.last=B)}return p.tail!==null?(s=p.tail,p.rendering=s,p.tail=s.sibling,p.renderingStartTime=ir(),s.sibling=null,c=Cn.current,G(Cn,y?c&1|2:c&1),hn&&hr(o,p.treeForkCount),s):(Cs(o),null);case 22:case 23:return Zn(o),ha(),p=o.memoizedState!==null,s!==null?s.memoizedState!==null!==p&&(o.flags|=8192):p&&(o.flags|=8192),p?(c&536870912)!==0&&(o.flags&128)===0&&(Cs(o),o.subtreeFlags&6&&(o.flags|=8192)):Cs(o),c=o.updateQueue,c!==null&&yf(o,c.retryQueue),c=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),p=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),p!==c&&(o.flags|=2048),s!==null&&F(le),null;case 24:return c=null,s!==null&&(c=s.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),Wi(qs),Cs(o),null;case 25:return null;case 30:return null}throw Error(n(156,o.tag))}function o4(s,o){switch(ws(o),o.tag){case 1:return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return Wi(qs),Te(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 26:case 27:case 5:return Ke(o),null;case 31:if(o.memoizedState!==null){if(Zn(o),o.alternate===null)throw Error(n(340));cl()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 13:if(Zn(o),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(n(340));cl()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return F(Cn),null;case 4:return Te(),null;case 10:return Wi(o.type),null;case 22:case 23:return Zn(o),ha(),s!==null&&F(le),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 24:return Wi(qs),null;case 25:return null;default:return null}}function u1(s,o){switch(ws(o),o.tag){case 3:Wi(qs),Te();break;case 26:case 27:case 5:Ke(o);break;case 4:Te();break;case 31:o.memoizedState!==null&&Zn(o);break;case 13:Zn(o);break;case 19:F(Cn);break;case 10:Wi(o.type);break;case 22:case 23:Zn(o),ha(),s!==null&&F(le);break;case 24:Wi(qs)}}function Rd(s,o){try{var c=o.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var y=p.next;c=y;do{if((c.tag&s)===s){p=void 0;var B=c.create,H=c.inst;p=B(),H.destroy=p}c=c.next}while(c!==y)}}catch(ce){Yn(o,o.return,ce)}}function $A(s,o,c){try{var p=o.updateQueue,y=p!==null?p.lastEffect:null;if(y!==null){var B=y.next;p=B;do{if((p.tag&s)===s){var H=p.inst,ce=H.destroy;if(ce!==void 0){H.destroy=void 0,y=o;var Ee=c,Ve=ce;try{Ve()}catch(ct){Yn(y,Ee,ct)}}}p=p.next}while(p!==B)}}catch(ct){Yn(o,o.return,ct)}}function d1(s){var o=s.updateQueue;if(o!==null){var c=s.stateNode;try{Ys(o,c)}catch(p){Yn(s,s.return,p)}}}function h1(s,o,c){c.props=kc(s.type,s.memoizedProps),c.state=s.memoizedState;try{c.componentWillUnmount()}catch(p){Yn(s,o,p)}}function Dd(s,o){try{var c=s.ref;if(c!==null){switch(s.tag){case 26:case 27:case 5:var p=s.stateNode;break;case 30:p=s.stateNode;break;default:p=s.stateNode}typeof c=="function"?s.refCleanup=c(p):c.current=p}}catch(y){Yn(s,o,y)}}function Vl(s,o){var c=s.ref,p=s.refCleanup;if(c!==null)if(typeof p=="function")try{p()}catch(y){Yn(s,o,y)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(y){Yn(s,o,y)}else c.current=null}function f1(s){var o=s.type,c=s.memoizedProps,p=s.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":c.autoFocus&&p.focus();break e;case"img":c.src?p.src=c.src:c.srcSet&&(p.srcset=c.srcSet)}}catch(y){Yn(s,s.return,y)}}function Ng(s,o,c){try{var p=s.stateNode;j4(p,s.type,c,o),p[xe]=o}catch(y){Yn(s,s.return,y)}}function p1(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&tc(s.type)||s.tag===4}function Cg(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||p1(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&tc(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Eg(s,o,c){var p=s.tag;if(p===5||p===6)s=s.stateNode,o?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(s,o):(o=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,o.appendChild(s),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=Gs));else if(p!==4&&(p===27&&tc(s.type)&&(c=s.stateNode,o=null),s=s.child,s!==null))for(Eg(s,o,c),s=s.sibling;s!==null;)Eg(s,o,c),s=s.sibling}function wf(s,o,c){var p=s.tag;if(p===5||p===6)s=s.stateNode,o?c.insertBefore(s,o):c.appendChild(s);else if(p!==4&&(p===27&&tc(s.type)&&(c=s.stateNode),s=s.child,s!==null))for(wf(s,o,c),s=s.sibling;s!==null;)wf(s,o,c),s=s.sibling}function m1(s){var o=s.stateNode,c=s.memoizedProps;try{for(var p=s.type,y=o.attributes;y.length;)o.removeAttributeNode(y[0]);oi(o,p,c),o[$e]=s,o[xe]=c}catch(B){Yn(s,s.return,B)}}var bA=!1,_a=!1,Sg=!1,g1=typeof WeakSet=="function"?WeakSet:Set,Ka=null;function l4(s,o){if(s=s.containerInfo,Zg=qf,s=xi(s),Ua(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var y=p.anchorOffset,B=p.focusNode;p=p.focusOffset;try{c.nodeType,B.nodeType}catch{c=null;break e}var H=0,ce=-1,Ee=-1,Ve=0,ct=0,xt=s,Ye=null;t:for(;;){for(var rt;xt!==c||y!==0&&xt.nodeType!==3||(ce=H+y),xt!==B||p!==0&&xt.nodeType!==3||(Ee=H+p),xt.nodeType===3&&(H+=xt.nodeValue.length),(rt=xt.firstChild)!==null;)Ye=xt,xt=rt;for(;;){if(xt===s)break t;if(Ye===c&&++Ve===y&&(ce=H),Ye===B&&++ct===p&&(Ee=H),(rt=xt.nextSibling)!==null)break;xt=Ye,Ye=xt.parentNode}xt=rt}c=ce===-1||Ee===-1?null:{start:ce,end:Ee}}else c=null}c=c||{start:0,end:0}}else c=null;for(Xg={focusedElem:s,selectionRange:c},qf=!1,Ka=o;Ka!==null;)if(o=Ka,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,Ka=s;else for(;Ka!==null;){switch(o=Ka,B=o.alternate,s=o.flags,o.tag){case 0:if((s&4)!==0&&(s=o.updateQueue,s=s!==null?s.events:null,s!==null))for(c=0;c<s.length;c++)y=s[c],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&B!==null){s=void 0,c=o,y=B.memoizedProps,B=B.memoizedState,p=c.stateNode;try{var fr=kc(c.type,y);s=p.getSnapshotBeforeUpdate(fr,B),p.__reactInternalSnapshotBeforeUpdate=s}catch(Qr){Yn(c,c.return,Qr)}}break;case 3:if((s&1024)!==0){if(s=o.stateNode.containerInfo,c=s.nodeType,c===9)Wg(s);else if(c===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Wg(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(n(163))}if(s=o.sibling,s!==null){s.return=o.return,Ka=s;break}Ka=o.return}}function x1(s,o,c){var p=c.flags;switch(c.tag){case 0:case 11:case 15:yA(s,c),p&4&&Rd(5,c);break;case 1:if(yA(s,c),p&4)if(s=c.stateNode,o===null)try{s.componentDidMount()}catch(H){Yn(c,c.return,H)}else{var y=kc(c.type,o.memoizedProps);o=o.memoizedState;try{s.componentDidUpdate(y,o,s.__reactInternalSnapshotBeforeUpdate)}catch(H){Yn(c,c.return,H)}}p&64&&d1(c),p&512&&Dd(c,c.return);break;case 3:if(yA(s,c),p&64&&(s=c.updateQueue,s!==null)){if(o=null,c.child!==null)switch(c.child.tag){case 27:case 5:o=c.child.stateNode;break;case 1:o=c.child.stateNode}try{Ys(s,o)}catch(H){Yn(c,c.return,H)}}break;case 27:o===null&&p&4&&m1(c);case 26:case 5:yA(s,c),o===null&&p&4&&f1(c),p&512&&Dd(c,c.return);break;case 12:yA(s,c);break;case 31:yA(s,c),p&4&&y1(s,c);break;case 13:yA(s,c),p&4&&w1(s,c),p&64&&(s=c.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(c=g4.bind(null,c),O4(s,c))));break;case 22:if(p=c.memoizedState!==null||bA,!p){o=o!==null&&o.memoizedState!==null||_a,y=bA;var B=_a;bA=p,(_a=o)&&!B?wA(s,c,(c.subtreeFlags&8772)!==0):yA(s,c),bA=y,_a=B}break;case 30:break;default:yA(s,c)}}function b1(s){var o=s.alternate;o!==null&&(s.alternate=null,b1(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&dn(o)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Ts=null,to=!1;function vA(s,o,c){for(c=c.child;c!==null;)v1(s,o,c),c=c.sibling}function v1(s,o,c){if(Vt&&typeof Vt.onCommitFiberUnmount=="function")try{Vt.onCommitFiberUnmount(gr,c)}catch{}switch(c.tag){case 26:_a||Vl(c,o),vA(s,o,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:_a||Vl(c,o);var p=Ts,y=to;tc(c.type)&&(Ts=c.stateNode,to=!1),vA(s,o,c),$d(c.stateNode),Ts=p,to=y;break;case 5:_a||Vl(c,o);case 6:if(p=Ts,y=to,Ts=null,vA(s,o,c),Ts=p,to=y,Ts!==null)if(to)try{(Ts.nodeType===9?Ts.body:Ts.nodeName==="HTML"?Ts.ownerDocument.body:Ts).removeChild(c.stateNode)}catch(B){Yn(c,o,B)}else try{Ts.removeChild(c.stateNode)}catch(B){Yn(c,o,B)}break;case 18:Ts!==null&&(to?(s=Ts,dy(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,c.stateNode),Iu(s)):dy(Ts,c.stateNode));break;case 4:p=Ts,y=to,Ts=c.stateNode.containerInfo,to=!0,vA(s,o,c),Ts=p,to=y;break;case 0:case 11:case 14:case 15:$A(2,c,o),_a||$A(4,c,o),vA(s,o,c);break;case 1:_a||(Vl(c,o),p=c.stateNode,typeof p.componentWillUnmount=="function"&&h1(c,o,p)),vA(s,o,c);break;case 21:vA(s,o,c);break;case 22:_a=(p=_a)||c.memoizedState!==null,vA(s,o,c),_a=p;break;default:vA(s,o,c)}}function y1(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Iu(s)}catch(c){Yn(o,o.return,c)}}}function w1(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Iu(s)}catch(c){Yn(o,o.return,c)}}function A4(s){switch(s.tag){case 31:case 13:case 19:var o=s.stateNode;return o===null&&(o=s.stateNode=new g1),o;case 22:return s=s.stateNode,o=s._retryCache,o===null&&(o=s._retryCache=new g1),o;default:throw Error(n(435,s.tag))}}function _f(s,o){var c=A4(s);o.forEach(function(p){if(!c.has(p)){c.add(p);var y=x4.bind(null,s,p);p.then(y,y)}})}function ro(s,o){var c=o.deletions;if(c!==null)for(var p=0;p<c.length;p++){var y=c[p],B=s,H=o,ce=H;e:for(;ce!==null;){switch(ce.tag){case 27:if(tc(ce.type)){Ts=ce.stateNode,to=!1;break e}break;case 5:Ts=ce.stateNode,to=!1;break e;case 3:case 4:Ts=ce.stateNode.containerInfo,to=!0;break e}ce=ce.return}if(Ts===null)throw Error(n(160));v1(B,H,y),Ts=null,to=!1,B=y.alternate,B!==null&&(B.return=null),y.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)_1(o,s),o=o.sibling}var pl=null;function _1(s,o){var c=s.alternate,p=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:ro(o,s),no(s),p&4&&($A(3,s,s.return),Rd(3,s),$A(5,s,s.return));break;case 1:ro(o,s),no(s),p&512&&(_a||c===null||Vl(c,c.return)),p&64&&bA&&(s=s.updateQueue,s!==null&&(p=s.callbacks,p!==null&&(c=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=c===null?p:c.concat(p))));break;case 26:var y=pl;if(ro(o,s),no(s),p&512&&(_a||c===null||Vl(c,c.return)),p&4){var B=c!==null?c.memoizedState:null;if(p=s.memoizedState,c===null)if(p===null)if(s.stateNode===null){e:{p=s.type,c=s.memoizedProps,y=y.ownerDocument||y;t:switch(p){case"title":B=y.getElementsByTagName("title")[0],(!B||B[Hr]||B[$e]||B.namespaceURI==="http://www.w3.org/2000/svg"||B.hasAttribute("itemprop"))&&(B=y.createElement(p),y.head.insertBefore(B,y.querySelector("head > title"))),oi(B,p,c),B[$e]=s,it(B),p=B;break e;case"link":var H=_y("link","href",y).get(p+(c.href||""));if(H){for(var ce=0;ce<H.length;ce++)if(B=H[ce],B.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&B.getAttribute("rel")===(c.rel==null?null:c.rel)&&B.getAttribute("title")===(c.title==null?null:c.title)&&B.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){H.splice(ce,1);break t}}B=y.createElement(p),oi(B,p,c),y.head.appendChild(B);break;case"meta":if(H=_y("meta","content",y).get(p+(c.content||""))){for(ce=0;ce<H.length;ce++)if(B=H[ce],B.getAttribute("content")===(c.content==null?null:""+c.content)&&B.getAttribute("name")===(c.name==null?null:c.name)&&B.getAttribute("property")===(c.property==null?null:c.property)&&B.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&B.getAttribute("charset")===(c.charSet==null?null:c.charSet)){H.splice(ce,1);break t}}B=y.createElement(p),oi(B,p,c),y.head.appendChild(B);break;default:throw Error(n(468,p))}B[$e]=s,it(B),p=B}s.stateNode=p}else By(y,s.type,s.stateNode);else s.stateNode=wy(y,p,s.memoizedProps);else B!==p?(B===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):B.count--,p===null?By(y,s.type,s.stateNode):wy(y,p,s.memoizedProps)):p===null&&s.stateNode!==null&&Ng(s,s.memoizedProps,c.memoizedProps)}break;case 27:ro(o,s),no(s),p&512&&(_a||c===null||Vl(c,c.return)),c!==null&&p&4&&Ng(s,s.memoizedProps,c.memoizedProps);break;case 5:if(ro(o,s),no(s),p&512&&(_a||c===null||Vl(c,c.return)),s.flags&32){y=s.stateNode;try{sr(y,"")}catch(fr){Yn(s,s.return,fr)}}p&4&&s.stateNode!=null&&(y=s.memoizedProps,Ng(s,y,c!==null?c.memoizedProps:y)),p&1024&&(Sg=!0);break;case 6:if(ro(o,s),no(s),p&4){if(s.stateNode===null)throw Error(n(162));p=s.memoizedProps,c=s.stateNode;try{c.nodeValue=p}catch(fr){Yn(s,s.return,fr)}}break;case 3:if(Df=null,y=pl,pl=Of(o.containerInfo),ro(o,s),pl=y,no(s),p&4&&c!==null&&c.memoizedState.isDehydrated)try{Iu(o.containerInfo)}catch(fr){Yn(s,s.return,fr)}Sg&&(Sg=!1,B1(s));break;case 4:p=pl,pl=Of(s.stateNode.containerInfo),ro(o,s),no(s),pl=p;break;case 12:ro(o,s),no(s);break;case 31:ro(o,s),no(s),p&4&&(p=s.updateQueue,p!==null&&(s.updateQueue=null,_f(s,p)));break;case 13:ro(o,s),no(s),s.child.flags&8192&&s.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Nf=ir()),p&4&&(p=s.updateQueue,p!==null&&(s.updateQueue=null,_f(s,p)));break;case 22:y=s.memoizedState!==null;var Ee=c!==null&&c.memoizedState!==null,Ve=bA,ct=_a;if(bA=Ve||y,_a=ct||Ee,ro(o,s),_a=ct,bA=Ve,no(s),p&8192)e:for(o=s.stateNode,o._visibility=y?o._visibility&-2:o._visibility|1,y&&(c===null||Ee||bA||_a||Lc(s)),c=null,o=s;;){if(o.tag===5||o.tag===26){if(c===null){Ee=c=o;try{if(B=Ee.stateNode,y)H=B.style,typeof H.setProperty=="function"?H.setProperty("display","none","important"):H.display="none";else{ce=Ee.stateNode;var xt=Ee.memoizedProps.style,Ye=xt!=null&&xt.hasOwnProperty("display")?xt.display:null;ce.style.display=Ye==null||typeof Ye=="boolean"?"":(""+Ye).trim()}}catch(fr){Yn(Ee,Ee.return,fr)}}}else if(o.tag===6){if(c===null){Ee=o;try{Ee.stateNode.nodeValue=y?"":Ee.memoizedProps}catch(fr){Yn(Ee,Ee.return,fr)}}}else if(o.tag===18){if(c===null){Ee=o;try{var rt=Ee.stateNode;y?hy(rt,!0):hy(Ee.stateNode,!1)}catch(fr){Yn(Ee,Ee.return,fr)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===s)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}p&4&&(p=s.updateQueue,p!==null&&(c=p.retryQueue,c!==null&&(p.retryQueue=null,_f(s,c))));break;case 19:ro(o,s),no(s),p&4&&(p=s.updateQueue,p!==null&&(s.updateQueue=null,_f(s,p)));break;case 30:break;case 21:break;default:ro(o,s),no(s)}}function no(s){var o=s.flags;if(o&2){try{for(var c,p=s.return;p!==null;){if(p1(p)){c=p;break}p=p.return}if(c==null)throw Error(n(160));switch(c.tag){case 27:var y=c.stateNode,B=Cg(s);wf(s,B,y);break;case 5:var H=c.stateNode;c.flags&32&&(sr(H,""),c.flags&=-33);var ce=Cg(s);wf(s,ce,H);break;case 3:case 4:var Ee=c.stateNode.containerInfo,Ve=Cg(s);Eg(s,Ve,Ee);break;default:throw Error(n(161))}}catch(ct){Yn(s,s.return,ct)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function B1(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var o=s;B1(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),s=s.sibling}}function yA(s,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)x1(s,o.alternate,o),o=o.sibling}function Lc(s){for(s=s.child;s!==null;){var o=s;switch(o.tag){case 0:case 11:case 14:case 15:$A(4,o,o.return),Lc(o);break;case 1:Vl(o,o.return);var c=o.stateNode;typeof c.componentWillUnmount=="function"&&h1(o,o.return,c),Lc(o);break;case 27:$d(o.stateNode);case 26:case 5:Vl(o,o.return),Lc(o);break;case 22:o.memoizedState===null&&Lc(o);break;case 30:Lc(o);break;default:Lc(o)}s=s.sibling}}function wA(s,o,c){for(c=c&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var p=o.alternate,y=s,B=o,H=B.flags;switch(B.tag){case 0:case 11:case 15:wA(y,B,c),Rd(4,B);break;case 1:if(wA(y,B,c),p=B,y=p.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(Ve){Yn(p,p.return,Ve)}if(p=B,y=p.updateQueue,y!==null){var ce=p.stateNode;try{var Ee=y.shared.hiddenCallbacks;if(Ee!==null)for(y.shared.hiddenCallbacks=null,y=0;y<Ee.length;y++)qa(Ee[y],ce)}catch(Ve){Yn(p,p.return,Ve)}}c&&H&64&&d1(B),Dd(B,B.return);break;case 27:m1(B);case 26:case 5:wA(y,B,c),c&&p===null&&H&4&&f1(B),Dd(B,B.return);break;case 12:wA(y,B,c);break;case 31:wA(y,B,c),c&&H&4&&y1(y,B);break;case 13:wA(y,B,c),c&&H&4&&w1(y,B);break;case 22:B.memoizedState===null&&wA(y,B,c),Dd(B,B.return);break;case 30:break;default:wA(y,B,c)}o=o.sibling}}function jg(s,o){var c=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),s=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(s=o.memoizedState.cachePool.pool),s!==c&&(s!=null&&s.refCount++,c!=null&&Ec(c))}function Ug(s,o){s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&Ec(s))}function ml(s,o,c,p){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)N1(s,o,c,p),o=o.sibling}function N1(s,o,c,p){var y=o.flags;switch(o.tag){case 0:case 11:case 15:ml(s,o,c,p),y&2048&&Rd(9,o);break;case 1:ml(s,o,c,p);break;case 3:ml(s,o,c,p),y&2048&&(s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&Ec(s)));break;case 12:if(y&2048){ml(s,o,c,p),s=o.stateNode;try{var B=o.memoizedProps,H=B.id,ce=B.onPostCommit;typeof ce=="function"&&ce(H,o.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(Ee){Yn(o,o.return,Ee)}}else ml(s,o,c,p);break;case 31:ml(s,o,c,p);break;case 13:ml(s,o,c,p);break;case 23:break;case 22:B=o.stateNode,H=o.alternate,o.memoizedState!==null?B._visibility&2?ml(s,o,c,p):Md(s,o):B._visibility&2?ml(s,o,c,p):(B._visibility|=2,Bu(s,o,c,p,(o.subtreeFlags&10256)!==0||!1)),y&2048&&jg(H,o);break;case 24:ml(s,o,c,p),y&2048&&Ug(o.alternate,o);break;default:ml(s,o,c,p)}}function Bu(s,o,c,p,y){for(y=y&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var B=s,H=o,ce=c,Ee=p,Ve=H.flags;switch(H.tag){case 0:case 11:case 15:Bu(B,H,ce,Ee,y),Rd(8,H);break;case 23:break;case 22:var ct=H.stateNode;H.memoizedState!==null?ct._visibility&2?Bu(B,H,ce,Ee,y):Md(B,H):(ct._visibility|=2,Bu(B,H,ce,Ee,y)),y&&Ve&2048&&jg(H.alternate,H);break;case 24:Bu(B,H,ce,Ee,y),y&&Ve&2048&&Ug(H.alternate,H);break;default:Bu(B,H,ce,Ee,y)}o=o.sibling}}function Md(s,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var c=s,p=o,y=p.flags;switch(p.tag){case 22:Md(c,p),y&2048&&jg(p.alternate,p);break;case 24:Md(c,p),y&2048&&Ug(p.alternate,p);break;default:Md(c,p)}o=o.sibling}}var Pd=8192;function Nu(s,o,c){if(s.subtreeFlags&Pd)for(s=s.child;s!==null;)C1(s,o,c),s=s.sibling}function C1(s,o,c){switch(s.tag){case 26:Nu(s,o,c),s.flags&Pd&&s.memoizedState!==null&&Z4(c,pl,s.memoizedState,s.memoizedProps);break;case 5:Nu(s,o,c);break;case 3:case 4:var p=pl;pl=Of(s.stateNode.containerInfo),Nu(s,o,c),pl=p;break;case 22:s.memoizedState===null&&(p=s.alternate,p!==null&&p.memoizedState!==null?(p=Pd,Pd=16777216,Nu(s,o,c),Pd=p):Nu(s,o,c));break;default:Nu(s,o,c)}}function E1(s){var o=s.alternate;if(o!==null&&(s=o.child,s!==null)){o.child=null;do o=s.sibling,s.sibling=null,s=o;while(s!==null)}}function Hd(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var p=o[c];Ka=p,j1(p,s)}E1(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)S1(s),s=s.sibling}function S1(s){switch(s.tag){case 0:case 11:case 15:Hd(s),s.flags&2048&&$A(9,s,s.return);break;case 3:Hd(s);break;case 12:Hd(s);break;case 22:var o=s.stateNode;s.memoizedState!==null&&o._visibility&2&&(s.return===null||s.return.tag!==13)?(o._visibility&=-3,Bf(s)):Hd(s);break;default:Hd(s)}}function Bf(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var p=o[c];Ka=p,j1(p,s)}E1(s)}for(s=s.child;s!==null;){switch(o=s,o.tag){case 0:case 11:case 15:$A(8,o,o.return),Bf(o);break;case 22:c=o.stateNode,c._visibility&2&&(c._visibility&=-3,Bf(o));break;default:Bf(o)}s=s.sibling}}function j1(s,o){for(;Ka!==null;){var c=Ka;switch(c.tag){case 0:case 11:case 15:$A(8,c,o);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var p=c.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:Ec(c.memoizedState.cache)}if(p=c.child,p!==null)p.return=c,Ka=p;else e:for(c=s;Ka!==null;){p=Ka;var y=p.sibling,B=p.return;if(b1(p),p===c){Ka=null;break e}if(y!==null){y.return=B,Ka=y;break e}Ka=B}}}var c4={getCacheForType:function(s){var o=Ia(qs),c=o.data.get(s);return c===void 0&&(c=s(),o.data.set(s,c)),c},cacheSignal:function(){return Ia(qs).controller.signal}},u4=typeof WeakMap=="function"?WeakMap:Map,Hn=0,As=null,bn=null,wn=0,Xn=0,Co=null,ZA=!1,Cu=!1,kg=!1,_A=0,ta=0,XA=0,Fc=0,Lg=0,Eo=0,Eu=0,qd=null,so=null,Fg=!1,Nf=0,U1=0,Cf=1/0,Ef=null,YA=null,Oa=0,JA=null,Su=null,BA=0,Tg=0,Ig=null,k1=null,zd=0,Qg=null;function So(){return(Hn&2)!==0&&wn!==0?wn&-wn:Q.T!==null?Hg():nn()}function L1(){if(Eo===0)if((wn&536870912)===0||hn){var s=Ue;Ue<<=1,(Ue&3932160)===0&&(Ue=262144),Eo=s}else Eo=536870912;return s=Ns.current,s!==null&&(s.flags|=32),Eo}function ao(s,o,c){(s===As&&(Xn===2||Xn===9)||s.cancelPendingCommit!==null)&&(ju(s,0),WA(s,wn,Eo,!1)),kt(s,c),((Hn&2)===0||s!==As)&&(s===As&&((Hn&2)===0&&(Fc|=c),ta===4&&WA(s,wn,Eo,!1)),$l(s))}function F1(s,o,c){if((Hn&6)!==0)throw Error(n(327));var p=!c&&(o&127)===0&&(o&s.expiredLanes)===0||Yt(s,o),y=p?f4(s,o):Rg(s,o,!0),B=p;do{if(y===0){Cu&&!p&&WA(s,o,0,!1);break}else{if(c=s.current.alternate,B&&!d4(c)){y=Rg(s,o,!1),B=!1;continue}if(y===2){if(B=o,s.errorRecoveryDisabledLanes&B)var H=0;else H=s.pendingLanes&-536870913,H=H!==0?H:H&536870912?536870912:0;if(H!==0){o=H;e:{var ce=s;y=qd;var Ee=ce.current.memoizedState.isDehydrated;if(Ee&&(ju(ce,H).flags|=256),H=Rg(ce,H,!1),H!==2){if(kg&&!Ee){ce.errorRecoveryDisabledLanes|=B,Fc|=B,y=4;break e}B=so,so=y,B!==null&&(so===null?so=B:so.push.apply(so,B))}y=H}if(B=!1,y!==2)continue}}if(y===1){ju(s,0),WA(s,o,0,!0);break}e:{switch(p=s,B=y,B){case 0:case 1:throw Error(n(345));case 4:if((o&4194048)!==o)break;case 6:WA(p,o,Eo,!ZA);break e;case 2:so=null;break;case 3:case 5:break;default:throw Error(n(329))}if((o&62914560)===o&&(y=Nf+300-ir(),10<y)){if(WA(p,o,Eo,!ZA),dt(p,0,!0)!==0)break e;BA=o,p.timeoutHandle=cy(T1.bind(null,p,c,so,Ef,Fg,o,Eo,Fc,Eu,ZA,B,"Throttled",-0,0),y);break e}T1(p,c,so,Ef,Fg,o,Eo,Fc,Eu,ZA,B,null,-0,0)}}break}while(!0);$l(s)}function T1(s,o,c,p,y,B,H,ce,Ee,Ve,ct,xt,Ye,rt){if(s.timeoutHandle=-1,xt=o.subtreeFlags,xt&8192||(xt&16785408)===16785408){xt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Gs},C1(o,B,xt);var fr=(B&62914560)===B?Nf-ir():(B&4194048)===B?U1-ir():0;if(fr=X4(xt,fr),fr!==null){BA=B,s.cancelPendingCommit=fr(H1.bind(null,s,o,B,c,p,y,H,ce,Ee,ct,xt,null,Ye,rt)),WA(s,B,H,!Ve);return}}H1(s,o,B,c,p,y,H,ce,Ee)}function d4(s){for(var o=s;;){var c=o.tag;if((c===0||c===11||c===15)&&o.flags&16384&&(c=o.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var p=0;p<c.length;p++){var y=c[p],B=y.getSnapshot;y=y.value;try{if(!js(B(),y))return!1}catch{return!1}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function WA(s,o,c,p){o&=~Lg,o&=~Fc,s.suspendedLanes|=o,s.pingedLanes&=~o,p&&(s.warmLanes|=o),p=s.expirationTimes;for(var y=o;0<y;){var B=31-Ht(y),H=1<<B;p[B]=-1,y&=~H}c!==0&&In(s,c,o)}function Sf(){return(Hn&6)===0?(Kd(0),!1):!0}function Og(){if(bn!==null){if(Xn===0)var s=bn.return;else s=bn,Ji=No=null,gu(s),bt=null,pr=0,s=bn;for(;s!==null;)u1(s.alternate,s),s=s.return;bn=null}}function ju(s,o){var c=s.timeoutHandle;c!==-1&&(s.timeoutHandle=-1,L4(c)),c=s.cancelPendingCommit,c!==null&&(s.cancelPendingCommit=null,c()),BA=0,Og(),As=s,bn=c=ni(s.current,null),wn=o,Xn=0,Co=null,ZA=!1,Cu=Yt(s,o),kg=!1,Eu=Eo=Lg=Fc=XA=ta=0,so=qd=null,Fg=!1,(o&8)!==0&&(o|=o&32);var p=s.entangledLanes;if(p!==0)for(s=s.entanglements,p&=o;0<p;){var y=31-Ht(p),B=1<<y;o|=s[y],p&=~B}return _A=o,Tl(),c}function I1(s,o){Sr=null,Q.H=Id,o===ke||o===ye?(o=ht(),Xn=3):o===ze?(o=ht(),Xn=4):Xn=o===pg?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Co=o,bn===null&&(ta=1,gf(s,f(o,s.current)))}function Q1(){var s=Ns.current;return s===null?!0:(wn&4194048)===wn?Ln===null:(wn&62914560)===wn||(wn&536870912)!==0?s===Ln:!1}function O1(){var s=Q.H;return Q.H=Id,s===null?Id:s}function R1(){var s=Q.A;return Q.A=c4,s}function jf(){ta=4,ZA||(wn&4194048)!==wn&&Ns.current!==null||(Cu=!0),(XA&134217727)===0&&(Fc&134217727)===0||As===null||WA(As,wn,Eo,!1)}function Rg(s,o,c){var p=Hn;Hn|=2;var y=O1(),B=R1();(As!==s||wn!==o)&&(Ef=null,ju(s,o)),o=!1;var H=ta;e:do try{if(Xn!==0&&bn!==null){var ce=bn,Ee=Co;switch(Xn){case 8:Og(),H=6;break e;case 3:case 2:case 9:case 6:Ns.current===null&&(o=!0);var Ve=Xn;if(Xn=0,Co=null,Uu(s,ce,Ee,Ve),c&&Cu){H=0;break e}break;default:Ve=Xn,Xn=0,Co=null,Uu(s,ce,Ee,Ve)}}h4(),H=ta;break}catch(ct){I1(s,ct)}while(!0);return o&&s.shellSuspendCounter++,Ji=No=null,Hn=p,Q.H=y,Q.A=B,bn===null&&(As=null,wn=0,Tl()),H}function h4(){for(;bn!==null;)D1(bn)}function f4(s,o){var c=Hn;Hn|=2;var p=O1(),y=R1();As!==s||wn!==o?(Ef=null,Cf=ir()+500,ju(s,o)):Cu=Yt(s,o);e:do try{if(Xn!==0&&bn!==null){o=bn;var B=Co;t:switch(Xn){case 1:Xn=0,Co=null,Uu(s,o,B,1);break;case 2:case 9:if(Pe(B)){Xn=0,Co=null,M1(o);break}o=function(){Xn!==2&&Xn!==9||As!==s||(Xn=7),$l(s)},B.then(o,o);break e;case 3:Xn=7;break e;case 4:Xn=5;break e;case 7:Pe(B)?(Xn=0,Co=null,M1(o)):(Xn=0,Co=null,Uu(s,o,B,7));break;case 5:var H=null;switch(bn.tag){case 26:H=bn.memoizedState;case 5:case 27:var ce=bn;if(H?Ny(H):ce.stateNode.complete){Xn=0,Co=null;var Ee=ce.sibling;if(Ee!==null)bn=Ee;else{var Ve=ce.return;Ve!==null?(bn=Ve,Uf(Ve)):bn=null}break t}}Xn=0,Co=null,Uu(s,o,B,5);break;case 6:Xn=0,Co=null,Uu(s,o,B,6);break;case 8:Og(),ta=6;break e;default:throw Error(n(462))}}p4();break}catch(ct){I1(s,ct)}while(!0);return Ji=No=null,Q.H=p,Q.A=y,Hn=c,bn!==null?0:(As=null,wn=0,Tl(),ta)}function p4(){for(;bn!==null&&!Bt();)D1(bn)}function D1(s){var o=A1(s.alternate,s,_A);s.memoizedProps=s.pendingProps,o===null?Uf(s):bn=o}function M1(s){var o=s,c=o.alternate;switch(o.tag){case 15:case 0:o=n1(c,o,o.pendingProps,o.type,void 0,wn);break;case 11:o=n1(c,o,o.pendingProps,o.type.render,o.ref,wn);break;case 5:gu(o);default:u1(c,o),o=bn=Il(o,_A),o=A1(c,o,_A)}s.memoizedProps=s.pendingProps,o===null?Uf(s):bn=o}function Uu(s,o,c,p){Ji=No=null,gu(o),bt=null,pr=0;var y=o.return;try{if(n4(s,y,o,c,wn)){ta=1,gf(s,f(c,s.current)),bn=null;return}}catch(B){if(y!==null)throw bn=y,B;ta=1,gf(s,f(c,s.current)),bn=null;return}o.flags&32768?(hn||p===1?s=!0:Cu||(wn&536870912)!==0?s=!1:(ZA=s=!0,(p===2||p===9||p===3||p===6)&&(p=Ns.current,p!==null&&p.tag===13&&(p.flags|=16384))),P1(o,s)):Uf(o)}function Uf(s){var o=s;do{if((o.flags&32768)!==0){P1(o,ZA);return}s=o.return;var c=i4(o.alternate,o,_A);if(c!==null){bn=c;return}if(o=o.sibling,o!==null){bn=o;return}bn=o=s}while(o!==null);ta===0&&(ta=5)}function P1(s,o){do{var c=o4(s.alternate,s);if(c!==null){c.flags&=32767,bn=c;return}if(c=s.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!o&&(s=s.sibling,s!==null)){bn=s;return}bn=s=c}while(s!==null);ta=6,bn=null}function H1(s,o,c,p,y,B,H,ce,Ee){s.cancelPendingCommit=null;do kf();while(Oa!==0);if((Hn&6)!==0)throw Error(n(327));if(o!==null){if(o===s.current)throw Error(n(177));if(B=o.lanes|o.childLanes,B|=cA,En(s,c,B,H,ce,Ee),s===As&&(bn=As=null,wn=0),Su=o,JA=s,BA=c,Tg=B,Ig=y,k1=p,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,b4($t,function(){return V1(),null})):(s.callbackNode=null,s.callbackPriority=0),p=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||p){p=Q.T,Q.T=null,y=Ae.p,Ae.p=2,H=Hn,Hn|=4;try{l4(s,o,c)}finally{Hn=H,Ae.p=y,Q.T=p}}Oa=1,q1(),z1(),K1()}}function q1(){if(Oa===1){Oa=0;var s=JA,o=Su,c=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||c){c=Q.T,Q.T=null;var p=Ae.p;Ae.p=2;var y=Hn;Hn|=4;try{_1(o,s);var B=Xg,H=xi(s.containerInfo),ce=B.focusedElem,Ee=B.selectionRange;if(H!==ce&&ce&&ce.ownerDocument&&Ri(ce.ownerDocument.documentElement,ce)){if(Ee!==null&&Ua(ce)){var Ve=Ee.start,ct=Ee.end;if(ct===void 0&&(ct=Ve),"selectionStart"in ce)ce.selectionStart=Ve,ce.selectionEnd=Math.min(ct,ce.value.length);else{var xt=ce.ownerDocument||document,Ye=xt&&xt.defaultView||window;if(Ye.getSelection){var rt=Ye.getSelection(),fr=ce.textContent.length,Qr=Math.min(Ee.start,fr),as=Ee.end===void 0?Qr:Math.min(Ee.end,fr);!rt.extend&&Qr>as&&(H=as,as=Qr,Qr=H);var Re=wo(ce,Qr),Le=wo(ce,as);if(Re&&Le&&(rt.rangeCount!==1||rt.anchorNode!==Re.node||rt.anchorOffset!==Re.offset||rt.focusNode!==Le.node||rt.focusOffset!==Le.offset)){var Ge=xt.createRange();Ge.setStart(Re.node,Re.offset),rt.removeAllRanges(),Qr>as?(rt.addRange(Ge),rt.extend(Le.node,Le.offset)):(Ge.setEnd(Le.node,Le.offset),rt.addRange(Ge))}}}}for(xt=[],rt=ce;rt=rt.parentNode;)rt.nodeType===1&&xt.push({element:rt,left:rt.scrollLeft,top:rt.scrollTop});for(typeof ce.focus=="function"&&ce.focus(),ce=0;ce<xt.length;ce++){var mt=xt[ce];mt.element.scrollLeft=mt.left,mt.element.scrollTop=mt.top}}qf=!!Zg,Xg=Zg=null}finally{Hn=y,Ae.p=p,Q.T=c}}s.current=o,Oa=2}}function z1(){if(Oa===2){Oa=0;var s=JA,o=Su,c=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||c){c=Q.T,Q.T=null;var p=Ae.p;Ae.p=2;var y=Hn;Hn|=4;try{x1(s,o.alternate,o)}finally{Hn=y,Ae.p=p,Q.T=c}}Oa=3}}function K1(){if(Oa===4||Oa===3){Oa=0,gt();var s=JA,o=Su,c=BA,p=k1;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Oa=5:(Oa=0,Su=JA=null,G1(s,s.pendingLanes));var y=s.pendingLanes;if(y===0&&(YA=null),Ut(c),o=o.stateNode,Vt&&typeof Vt.onCommitFiberRoot=="function")try{Vt.onCommitFiberRoot(gr,o,void 0,(o.current.flags&128)===128)}catch{}if(p!==null){o=Q.T,y=Ae.p,Ae.p=2,Q.T=null;try{for(var B=s.onRecoverableError,H=0;H<p.length;H++){var ce=p[H];B(ce.value,{componentStack:ce.stack})}}finally{Q.T=o,Ae.p=y}}(BA&3)!==0&&kf(),$l(s),y=s.pendingLanes,(c&261930)!==0&&(y&42)!==0?s===Qg?zd++:(zd=0,Qg=s):zd=0,Kd(0)}}function G1(s,o){(s.pooledCacheLanes&=o)===0&&(o=s.pooledCache,o!=null&&(s.pooledCache=null,Ec(o)))}function kf(){return q1(),z1(),K1(),V1()}function V1(){if(Oa!==5)return!1;var s=JA,o=Tg;Tg=0;var c=Ut(BA),p=Q.T,y=Ae.p;try{Ae.p=32>c?32:c,Q.T=null,c=Ig,Ig=null;var B=JA,H=BA;if(Oa=0,Su=JA=null,BA=0,(Hn&6)!==0)throw Error(n(331));var ce=Hn;if(Hn|=4,S1(B.current),N1(B,B.current,H,c),Hn=ce,Kd(0,!1),Vt&&typeof Vt.onPostCommitFiberRoot=="function")try{Vt.onPostCommitFiberRoot(gr,B)}catch{}return!0}finally{Ae.p=y,Q.T=p,G1(s,o)}}function $1(s,o,c){o=f(c,o),o=fg(s.stateNode,o,2),s=rn(s,o,2),s!==null&&(kt(s,2),$l(s))}function Yn(s,o,c){if(s.tag===3)$1(s,s,c);else for(;o!==null;){if(o.tag===3){$1(o,s,c);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(YA===null||!YA.has(p))){s=f(c,s),c=Zv(2),p=rn(o,c,2),p!==null&&(Xv(c,p,o,s),kt(p,2),$l(p));break}}o=o.return}}function Dg(s,o,c){var p=s.pingCache;if(p===null){p=s.pingCache=new u4;var y=new Set;p.set(o,y)}else y=p.get(o),y===void 0&&(y=new Set,p.set(o,y));y.has(c)||(kg=!0,y.add(c),s=m4.bind(null,s,o,c),o.then(s,s))}function m4(s,o,c){var p=s.pingCache;p!==null&&p.delete(o),s.pingedLanes|=s.suspendedLanes&c,s.warmLanes&=~c,As===s&&(wn&c)===c&&(ta===4||ta===3&&(wn&62914560)===wn&&300>ir()-Nf?(Hn&2)===0&&ju(s,0):Lg|=c,Eu===wn&&(Eu=0)),$l(s)}function Z1(s,o){o===0&&(o=br()),s=vi(s,o),s!==null&&(kt(s,o),$l(s))}function g4(s){var o=s.memoizedState,c=0;o!==null&&(c=o.retryLane),Z1(s,c)}function x4(s,o){var c=0;switch(s.tag){case 31:case 13:var p=s.stateNode,y=s.memoizedState;y!==null&&(c=y.retryLane);break;case 19:p=s.stateNode;break;case 22:p=s.stateNode._retryCache;break;default:throw Error(n(314))}p!==null&&p.delete(o),Z1(s,c)}function b4(s,o){return Rt(s,o)}var Lf=null,ku=null,Mg=!1,Ff=!1,Pg=!1,ec=0;function $l(s){s!==ku&&s.next===null&&(ku===null?Lf=ku=s:ku=ku.next=s),Ff=!0,Mg||(Mg=!0,y4())}function Kd(s,o){if(!Pg&&Ff){Pg=!0;do for(var c=!1,p=Lf;p!==null;){if(s!==0){var y=p.pendingLanes;if(y===0)var B=0;else{var H=p.suspendedLanes,ce=p.pingedLanes;B=(1<<31-Ht(42|s)+1)-1,B&=y&~(H&~ce),B=B&201326741?B&201326741|1:B?B|2:0}B!==0&&(c=!0,W1(p,B))}else B=wn,B=dt(p,p===As?B:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(B&3)===0||Yt(p,B)||(c=!0,W1(p,B));p=p.next}while(c);Pg=!1}}function v4(){X1()}function X1(){Ff=Mg=!1;var s=0;ec!==0&&k4()&&(s=ec);for(var o=ir(),c=null,p=Lf;p!==null;){var y=p.next,B=Y1(p,o);B===0?(p.next=null,c===null?Lf=y:c.next=y,y===null&&(ku=c)):(c=p,(s!==0||(B&3)!==0)&&(Ff=!0)),p=y}Oa!==0&&Oa!==5||Kd(s),ec!==0&&(ec=0)}function Y1(s,o){for(var c=s.suspendedLanes,p=s.pingedLanes,y=s.expirationTimes,B=s.pendingLanes&-62914561;0<B;){var H=31-Ht(B),ce=1<<H,Ee=y[H];Ee===-1?((ce&c)===0||(ce&p)!==0)&&(y[H]=Jt(ce,o)):Ee<=o&&(s.expiredLanes|=ce),B&=~ce}if(o=As,c=wn,c=dt(s,s===o?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),p=s.callbackNode,c===0||s===o&&(Xn===2||Xn===9)||s.cancelPendingCommit!==null)return p!==null&&p!==null&&Lt(p),s.callbackNode=null,s.callbackPriority=0;if((c&3)===0||Yt(s,c)){if(o=c&-c,o===s.callbackPriority)return o;switch(p!==null&&Lt(p),Ut(c)){case 2:case 8:c=xr;break;case 32:c=$t;break;case 268435456:c=Zt;break;default:c=$t}return p=J1.bind(null,s),c=Rt(c,p),s.callbackPriority=o,s.callbackNode=c,o}return p!==null&&p!==null&&Lt(p),s.callbackPriority=2,s.callbackNode=null,2}function J1(s,o){if(Oa!==0&&Oa!==5)return s.callbackNode=null,s.callbackPriority=0,null;var c=s.callbackNode;if(kf()&&s.callbackNode!==c)return null;var p=wn;return p=dt(s,s===As?p:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),p===0?null:(F1(s,p,o),Y1(s,ir()),s.callbackNode!=null&&s.callbackNode===c?J1.bind(null,s):null)}function W1(s,o){if(kf())return null;F1(s,o,!0)}function y4(){F4(function(){(Hn&6)!==0?Rt(nr,v4):X1()})}function Hg(){if(ec===0){var s=x;s===0&&(s=er,er<<=1,(er&261888)===0&&(er=256)),ec=s}return ec}function ey(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:us(""+s)}function ty(s,o){var c=o.ownerDocument.createElement("input");return c.name=o.name,c.value=o.value,s.id&&c.setAttribute("form",s.id),o.parentNode.insertBefore(c,o),s=new FormData(s),c.parentNode.removeChild(c),s}function w4(s,o,c,p,y){if(o==="submit"&&c&&c.stateNode===y){var B=ey((y[xe]||null).action),H=p.submitter;H&&(o=(o=H[xe]||null)?ey(o.formAction):H.getAttribute("formAction"),o!==null&&(B=o,H=null));var ce=new fi("action","action",null,p,y);s.push({event:ce,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(ec!==0){var Ee=H?ty(y,H):new FormData(y);lg(c,{pending:!0,data:Ee,method:y.method,action:B},null,Ee)}}else typeof B=="function"&&(ce.preventDefault(),Ee=H?ty(y,H):new FormData(y),lg(c,{pending:!0,data:Ee,method:y.method,action:B},B,Ee))},currentTarget:y}]})}}for(var qg=0;qg<bi.length;qg++){var zg=bi[qg],_4=zg.toLowerCase(),B4=zg[0].toUpperCase()+zg.slice(1);ti(_4,"on"+B4)}ti(Yi,"onAnimationEnd"),ti(AA,"onAnimationIteration"),ti(Ll,"onAnimationStart"),ti("dblclick","onDoubleClick"),ti("focusin","onFocus"),ti("focusout","onBlur"),ti(cu,"onTransitionRun"),ti(Bc,"onTransitionStart"),ti(uu,"onTransitionCancel"),ti(ll,"onTransitionEnd"),qr("onMouseEnter",["mouseout","mouseover"]),qr("onMouseLeave",["mouseout","mouseover"]),qr("onPointerEnter",["pointerout","pointerover"]),qr("onPointerLeave",["pointerout","pointerover"]),yr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),yr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),yr("onBeforeInput",["compositionend","keypress","textInput","paste"]),yr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),yr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),yr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),N4=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gd));function ry(s,o){o=(o&4)!==0;for(var c=0;c<s.length;c++){var p=s[c],y=p.event;p=p.listeners;e:{var B=void 0;if(o)for(var H=p.length-1;0<=H;H--){var ce=p[H],Ee=ce.instance,Ve=ce.currentTarget;if(ce=ce.listener,Ee!==B&&y.isPropagationStopped())break e;B=ce,y.currentTarget=Ve;try{B(y)}catch(ct){Fl(ct)}y.currentTarget=null,B=Ee}else for(H=0;H<p.length;H++){if(ce=p[H],Ee=ce.instance,Ve=ce.currentTarget,ce=ce.listener,Ee!==B&&y.isPropagationStopped())break e;B=ce,y.currentTarget=Ve;try{B(y)}catch(ct){Fl(ct)}y.currentTarget=null,B=Ee}}}}function vn(s,o){var c=o[We];c===void 0&&(c=o[We]=new Set);var p=s+"__bubble";c.has(p)||(ny(o,s,2,!1),c.add(p))}function Kg(s,o,c){var p=0;o&&(p|=4),ny(c,s,p,o)}var Tf="_reactListening"+Math.random().toString(36).slice(2);function Gg(s){if(!s[Tf]){s[Tf]=!0,wt.forEach(function(c){c!=="selectionchange"&&(N4.has(c)||Kg(c,!1,s),Kg(c,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Tf]||(o[Tf]=!0,Kg("selectionchange",!1,o))}}function ny(s,o,c,p){switch(Ly(o)){case 2:var y=W4;break;case 8:y=eE;break;default:y=o0}c=y.bind(null,o,c,s),y=void 0,!nl||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),p?y!==void 0?s.addEventListener(o,c,{capture:!0,passive:y}):s.addEventListener(o,c,!0):y!==void 0?s.addEventListener(o,c,{passive:y}):s.addEventListener(o,c,!1)}function Vg(s,o,c,p,y){var B=p;if((o&1)===0&&(o&2)===0&&p!==null)e:for(;;){if(p===null)return;var H=p.tag;if(H===3||H===4){var ce=p.stateNode.containerInfo;if(ce===y)break;if(H===4)for(H=p.return;H!==null;){var Ee=H.tag;if((Ee===3||Ee===4)&&H.stateNode.containerInfo===y)return;H=H.return}for(;ce!==null;){if(H=Ar(ce),H===null)return;if(Ee=H.tag,Ee===5||Ee===6||Ee===26||Ee===27){p=B=H;continue e}ce=ce.parentNode}}p=p.return}iA(function(){var Ve=B,ct=fo(c),xt=[];e:{var Ye=Nc.get(s);if(Ye!==void 0){var rt=fi,fr=s;switch(s){case"keypress":if(Xa(c)===0)break e;case"keydown":case"keyup":rt=mn;break;case"focusin":fr="focus",rt=mo;break;case"focusout":fr="blur",rt=mo;break;case"beforeblur":case"afterblur":rt=mo;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":rt=oA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":rt=po;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":rt=Hs;break;case Yi:case AA:case Ll:rt=j;break;case ll:rt=Vs;break;case"scroll":case"scrollend":rt=en;break;case"wheel":rt=oa;break;case"copy":case"cut":case"paste":rt=be;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":rt=bs;break;case"toggle":case"beforetoggle":rt=xo}var Qr=(o&4)!==0,as=!Qr&&(s==="scroll"||s==="scrollend"),Re=Qr?Ye!==null?Ye+"Capture":null:Ye;Qr=[];for(var Le=Ve,Ge;Le!==null;){var mt=Le;if(Ge=mt.stateNode,mt=mt.tag,mt!==5&&mt!==26&&mt!==27||Ge===null||Re===null||(mt=Sa(Le,Re),mt!=null&&Qr.push(Vd(Le,mt,Ge))),as)break;Le=Le.return}0<Qr.length&&(Ye=new rt(Ye,fr,null,c,ct),xt.push({event:Ye,listeners:Qr}))}}if((o&7)===0){e:{if(Ye=s==="mouseover"||s==="pointerover",rt=s==="mouseout"||s==="pointerout",Ye&&c!==Pi&&(fr=c.relatedTarget||c.fromElement)&&(Ar(fr)||fr[Me]))break e;if((rt||Ye)&&(Ye=ct.window===ct?ct:(Ye=ct.ownerDocument)?Ye.defaultView||Ye.parentWindow:window,rt?(fr=c.relatedTarget||c.toElement,rt=Ve,fr=fr?Ar(fr):null,fr!==null&&(as=l(fr),Qr=fr.tag,fr!==as||Qr!==5&&Qr!==27&&Qr!==6)&&(fr=null)):(rt=null,fr=Ve),rt!==fr)){if(Qr=oA,mt="onMouseLeave",Re="onMouseEnter",Le="mouse",(s==="pointerout"||s==="pointerover")&&(Qr=bs,mt="onPointerLeave",Re="onPointerEnter",Le="pointer"),as=rt==null?Ye:re(rt),Ge=fr==null?Ye:re(fr),Ye=new Qr(mt,Le+"leave",rt,c,ct),Ye.target=as,Ye.relatedTarget=Ge,mt=null,Ar(ct)===Ve&&(Qr=new Qr(Re,Le+"enter",fr,c,ct),Qr.target=Ge,Qr.relatedTarget=as,mt=Qr),as=mt,rt&&fr)t:{for(Qr=C4,Re=rt,Le=fr,Ge=0,mt=Re;mt;mt=Qr(mt))Ge++;mt=0;for(var Ur=Le;Ur;Ur=Qr(Ur))mt++;for(;0<Ge-mt;)Re=Qr(Re),Ge--;for(;0<mt-Ge;)Le=Qr(Le),mt--;for(;Ge--;){if(Re===Le||Le!==null&&Re===Le.alternate){Qr=Re;break t}Re=Qr(Re),Le=Qr(Le)}Qr=null}else Qr=null;rt!==null&&sy(xt,Ye,rt,Qr,!1),fr!==null&&as!==null&&sy(xt,as,fr,Qr,!0)}}e:{if(Ye=Ve?re(Ve):window,rt=Ye.nodeName&&Ye.nodeName.toLowerCase(),rt==="select"||rt==="input"&&Ye.type==="file")var Rn=Qi;else if(Ja(Ye))if(Pa)Rn=Gi;else{Rn=ys;var vr=Ha}else rt=Ye.nodeName,!rt||rt.toLowerCase()!=="input"||Ye.type!=="checkbox"&&Ye.type!=="radio"?Ve&&ts(Ve.elementType)&&(Rn=Qi):Rn=yo;if(Rn&&(Rn=Rn(s,Ve))){Wa(xt,Rn,c,ct);break e}vr&&vr(s,Ye,Ve),s==="focusout"&&Ve&&Ye.type==="number"&&Ve.memoizedProps.value!=null&&Nt(Ye,"number",Ye.value)}switch(vr=Ve?re(Ve):window,s){case"focusin":(Ja(vr)||vr.contentEditable==="true")&&(ka=vr,Zi=Ve,va=null);break;case"focusout":va=Zi=ka=null;break;case"mousedown":La=!0;break;case"contextmenu":case"mouseup":case"dragend":La=!1,Nn(xt,c,ct);break;case"selectionchange":if($i)break;case"keydown":case"keyup":Nn(xt,c,ct)}var An;if(Ti)e:{switch(s){case"compositionstart":var _n="onCompositionStart";break e;case"compositionend":_n="onCompositionEnd";break e;case"compositionupdate":_n="onCompositionUpdate";break e}_n=void 0}else zi?Mo(s,c)&&(_n="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(_n="onCompositionStart");_n&&(Ii&&c.locale!=="ko"&&(zi||_n!=="onCompositionStart"?_n==="onCompositionEnd"&&zi&&(An=Hi()):(ja=ct,Li="value"in ja?ja.value:ja.textContent,zi=!0)),vr=If(Ve,_n),0<vr.length&&(_n=new Qe(_n,s,null,c,ct),xt.push({event:_n,listeners:vr}),An?_n.data=An:(An=ol(c),An!==null&&(_n.data=An)))),(An=il?$n(s,c):Ma(s,c))&&(_n=If(Ve,"onBeforeInput"),0<_n.length&&(vr=new Qe("onBeforeInput","beforeinput",null,c,ct),xt.push({event:vr,listeners:_n}),vr.data=An)),w4(xt,s,Ve,c,ct)}ry(xt,o)})}function Vd(s,o,c){return{instance:s,listener:o,currentTarget:c}}function If(s,o){for(var c=o+"Capture",p=[];s!==null;){var y=s,B=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||B===null||(y=Sa(s,c),y!=null&&p.unshift(Vd(s,y,B)),y=Sa(s,o),y!=null&&p.push(Vd(s,y,B))),s.tag===3)return p;s=s.return}return[]}function C4(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function sy(s,o,c,p,y){for(var B=o._reactName,H=[];c!==null&&c!==p;){var ce=c,Ee=ce.alternate,Ve=ce.stateNode;if(ce=ce.tag,Ee!==null&&Ee===p)break;ce!==5&&ce!==26&&ce!==27||Ve===null||(Ee=Ve,y?(Ve=Sa(c,B),Ve!=null&&H.unshift(Vd(c,Ve,Ee))):y||(Ve=Sa(c,B),Ve!=null&&H.push(Vd(c,Ve,Ee)))),c=c.return}H.length!==0&&s.push({event:o,listeners:H})}var E4=/\r\n?/g,S4=/\u0000|\uFFFD/g;function ay(s){return(typeof s=="string"?s:""+s).replace(E4,`
`).replace(S4,"")}function iy(s,o){return o=ay(o),ay(s)===o}function ss(s,o,c,p,y,B){switch(c){case"children":typeof p=="string"?o==="body"||o==="textarea"&&p===""||sr(s,p):(typeof p=="number"||typeof p=="bigint")&&o!=="body"&&sr(s,""+p);break;case"className":Lr(s,"class",p);break;case"tabIndex":Lr(s,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":Lr(s,c,p);break;case"style":Ea(s,p,B);break;case"data":if(o!=="object"){Lr(s,"data",p);break}case"src":case"href":if(p===""&&(o!=="a"||c!=="href")){s.removeAttribute(c);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){s.removeAttribute(c);break}p=us(""+p),s.setAttribute(c,p);break;case"action":case"formAction":if(typeof p=="function"){s.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof B=="function"&&(c==="formAction"?(o!=="input"&&ss(s,o,"name",y.name,y,null),ss(s,o,"formEncType",y.formEncType,y,null),ss(s,o,"formMethod",y.formMethod,y,null),ss(s,o,"formTarget",y.formTarget,y,null)):(ss(s,o,"encType",y.encType,y,null),ss(s,o,"method",y.method,y,null),ss(s,o,"target",y.target,y,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){s.removeAttribute(c);break}p=us(""+p),s.setAttribute(c,p);break;case"onClick":p!=null&&(s.onclick=Gs);break;case"onScroll":p!=null&&vn("scroll",s);break;case"onScrollEnd":p!=null&&vn("scrollend",s);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(n(61));if(c=p.__html,c!=null){if(y.children!=null)throw Error(n(60));s.innerHTML=c}}break;case"multiple":s.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":s.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){s.removeAttribute("xlink:href");break}c=us(""+p),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?s.setAttribute(c,""+p):s.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?s.setAttribute(c,""):s.removeAttribute(c);break;case"capture":case"download":p===!0?s.setAttribute(c,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?s.setAttribute(c,p):s.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?s.setAttribute(c,p):s.removeAttribute(c);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?s.removeAttribute(c):s.setAttribute(c,p);break;case"popover":vn("beforetoggle",s),vn("toggle",s),ur(s,"popover",p);break;case"xlinkActuate":xs(s,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":xs(s,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":xs(s,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":xs(s,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":xs(s,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":xs(s,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":xs(s,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":xs(s,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":xs(s,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":ur(s,"is",p);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=di.get(c)||c,ur(s,c,p))}}function $g(s,o,c,p,y,B){switch(c){case"style":Ea(s,p,B);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(n(61));if(c=p.__html,c!=null){if(y.children!=null)throw Error(n(60));s.innerHTML=c}}break;case"children":typeof p=="string"?sr(s,p):(typeof p=="number"||typeof p=="bigint")&&sr(s,""+p);break;case"onScroll":p!=null&&vn("scroll",s);break;case"onScrollEnd":p!=null&&vn("scrollend",s);break;case"onClick":p!=null&&(s.onclick=Gs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xt.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(y=c.endsWith("Capture"),o=c.slice(2,y?c.length-7:void 0),B=s[xe]||null,B=B!=null?B[c]:null,typeof B=="function"&&s.removeEventListener(o,B,y),typeof p=="function")){typeof B!="function"&&B!==null&&(c in s?s[c]=null:s.hasAttribute(c)&&s.removeAttribute(c)),s.addEventListener(o,p,y);break e}c in s?s[c]=p:p===!0?s.setAttribute(c,""):ur(s,c,p)}}}function oi(s,o,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":vn("error",s),vn("load",s);var p=!1,y=!1,B;for(B in c)if(c.hasOwnProperty(B)){var H=c[B];if(H!=null)switch(B){case"src":p=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:ss(s,o,B,H,c,null)}}y&&ss(s,o,"srcSet",c.srcSet,c,null),p&&ss(s,o,"src",c.src,c,null);return;case"input":vn("invalid",s);var ce=B=H=y=null,Ee=null,Ve=null;for(p in c)if(c.hasOwnProperty(p)){var ct=c[p];if(ct!=null)switch(p){case"name":y=ct;break;case"type":H=ct;break;case"checked":Ee=ct;break;case"defaultChecked":Ve=ct;break;case"value":B=ct;break;case"defaultValue":ce=ct;break;case"children":case"dangerouslySetInnerHTML":if(ct!=null)throw Error(n(137,o));break;default:ss(s,o,p,ct,c,null)}}Et(s,B,ce,Ee,Ve,H,y,!1);return;case"select":vn("invalid",s),p=H=B=null;for(y in c)if(c.hasOwnProperty(y)&&(ce=c[y],ce!=null))switch(y){case"value":B=ce;break;case"defaultValue":H=ce;break;case"multiple":p=ce;default:ss(s,o,y,ce,c,null)}o=B,c=H,s.multiple=!!p,o!=null?Ot(s,!!p,o,!1):c!=null&&Ot(s,!!p,c,!0);return;case"textarea":vn("invalid",s),B=y=p=null;for(H in c)if(c.hasOwnProperty(H)&&(ce=c[H],ce!=null))switch(H){case"value":p=ce;break;case"defaultValue":y=ce;break;case"children":B=ce;break;case"dangerouslySetInnerHTML":if(ce!=null)throw Error(n(91));break;default:ss(s,o,H,ce,c,null)}Qt(s,p,y,B);return;case"option":for(Ee in c)if(c.hasOwnProperty(Ee)&&(p=c[Ee],p!=null))switch(Ee){case"selected":s.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:ss(s,o,Ee,p,c,null)}return;case"dialog":vn("beforetoggle",s),vn("toggle",s),vn("cancel",s),vn("close",s);break;case"iframe":case"object":vn("load",s);break;case"video":case"audio":for(p=0;p<Gd.length;p++)vn(Gd[p],s);break;case"image":vn("error",s),vn("load",s);break;case"details":vn("toggle",s);break;case"embed":case"source":case"link":vn("error",s),vn("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ve in c)if(c.hasOwnProperty(Ve)&&(p=c[Ve],p!=null))switch(Ve){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:ss(s,o,Ve,p,c,null)}return;default:if(ts(o)){for(ct in c)c.hasOwnProperty(ct)&&(p=c[ct],p!==void 0&&$g(s,o,ct,p,c,void 0));return}}for(ce in c)c.hasOwnProperty(ce)&&(p=c[ce],p!=null&&ss(s,o,ce,p,c,null))}function j4(s,o,c,p){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,B=null,H=null,ce=null,Ee=null,Ve=null,ct=null;for(rt in c){var xt=c[rt];if(c.hasOwnProperty(rt)&&xt!=null)switch(rt){case"checked":break;case"value":break;case"defaultValue":Ee=xt;default:p.hasOwnProperty(rt)||ss(s,o,rt,null,p,xt)}}for(var Ye in p){var rt=p[Ye];if(xt=c[Ye],p.hasOwnProperty(Ye)&&(rt!=null||xt!=null))switch(Ye){case"type":B=rt;break;case"name":y=rt;break;case"checked":Ve=rt;break;case"defaultChecked":ct=rt;break;case"value":H=rt;break;case"defaultValue":ce=rt;break;case"children":case"dangerouslySetInnerHTML":if(rt!=null)throw Error(n(137,o));break;default:rt!==xt&&ss(s,o,Ye,rt,p,xt)}}st(s,H,ce,Ee,Ve,ct,B,y);return;case"select":rt=H=ce=Ye=null;for(B in c)if(Ee=c[B],c.hasOwnProperty(B)&&Ee!=null)switch(B){case"value":break;case"multiple":rt=Ee;default:p.hasOwnProperty(B)||ss(s,o,B,null,p,Ee)}for(y in p)if(B=p[y],Ee=c[y],p.hasOwnProperty(y)&&(B!=null||Ee!=null))switch(y){case"value":Ye=B;break;case"defaultValue":ce=B;break;case"multiple":H=B;default:B!==Ee&&ss(s,o,y,B,p,Ee)}o=ce,c=H,p=rt,Ye!=null?Ot(s,!!c,Ye,!1):!!p!=!!c&&(o!=null?Ot(s,!!c,o,!0):Ot(s,!!c,c?[]:"",!1));return;case"textarea":rt=Ye=null;for(ce in c)if(y=c[ce],c.hasOwnProperty(ce)&&y!=null&&!p.hasOwnProperty(ce))switch(ce){case"value":break;case"children":break;default:ss(s,o,ce,null,p,y)}for(H in p)if(y=p[H],B=c[H],p.hasOwnProperty(H)&&(y!=null||B!=null))switch(H){case"value":Ye=y;break;case"defaultValue":rt=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(n(91));break;default:y!==B&&ss(s,o,H,y,p,B)}Rr(s,Ye,rt);return;case"option":for(var fr in c)if(Ye=c[fr],c.hasOwnProperty(fr)&&Ye!=null&&!p.hasOwnProperty(fr))switch(fr){case"selected":s.selected=!1;break;default:ss(s,o,fr,null,p,Ye)}for(Ee in p)if(Ye=p[Ee],rt=c[Ee],p.hasOwnProperty(Ee)&&Ye!==rt&&(Ye!=null||rt!=null))switch(Ee){case"selected":s.selected=Ye&&typeof Ye!="function"&&typeof Ye!="symbol";break;default:ss(s,o,Ee,Ye,p,rt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Qr in c)Ye=c[Qr],c.hasOwnProperty(Qr)&&Ye!=null&&!p.hasOwnProperty(Qr)&&ss(s,o,Qr,null,p,Ye);for(Ve in p)if(Ye=p[Ve],rt=c[Ve],p.hasOwnProperty(Ve)&&Ye!==rt&&(Ye!=null||rt!=null))switch(Ve){case"children":case"dangerouslySetInnerHTML":if(Ye!=null)throw Error(n(137,o));break;default:ss(s,o,Ve,Ye,p,rt)}return;default:if(ts(o)){for(var as in c)Ye=c[as],c.hasOwnProperty(as)&&Ye!==void 0&&!p.hasOwnProperty(as)&&$g(s,o,as,void 0,p,Ye);for(ct in p)Ye=p[ct],rt=c[ct],!p.hasOwnProperty(ct)||Ye===rt||Ye===void 0&&rt===void 0||$g(s,o,ct,Ye,p,rt);return}}for(var Re in c)Ye=c[Re],c.hasOwnProperty(Re)&&Ye!=null&&!p.hasOwnProperty(Re)&&ss(s,o,Re,null,p,Ye);for(xt in p)Ye=p[xt],rt=c[xt],!p.hasOwnProperty(xt)||Ye===rt||Ye==null&&rt==null||ss(s,o,xt,Ye,p,rt)}function oy(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function U4(){if(typeof performance.getEntriesByType=="function"){for(var s=0,o=0,c=performance.getEntriesByType("resource"),p=0;p<c.length;p++){var y=c[p],B=y.transferSize,H=y.initiatorType,ce=y.duration;if(B&&ce&&oy(H)){for(H=0,ce=y.responseEnd,p+=1;p<c.length;p++){var Ee=c[p],Ve=Ee.startTime;if(Ve>ce)break;var ct=Ee.transferSize,xt=Ee.initiatorType;ct&&oy(xt)&&(Ee=Ee.responseEnd,H+=ct*(Ee<ce?1:(ce-Ve)/(Ee-Ve)))}if(--p,o+=8*(B+H)/(y.duration/1e3),s++,10<s)break}}if(0<s)return o/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var Zg=null,Xg=null;function Qf(s){return s.nodeType===9?s:s.ownerDocument}function ly(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ay(s,o){if(s===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&o==="foreignObject"?0:s}function Yg(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Jg=null;function k4(){var s=window.event;return s&&s.type==="popstate"?s===Jg?!1:(Jg=s,!0):(Jg=null,!1)}var cy=typeof setTimeout=="function"?setTimeout:void 0,L4=typeof clearTimeout=="function"?clearTimeout:void 0,uy=typeof Promise=="function"?Promise:void 0,F4=typeof queueMicrotask=="function"?queueMicrotask:typeof uy<"u"?function(s){return uy.resolve(null).then(s).catch(T4)}:cy;function T4(s){setTimeout(function(){throw s})}function tc(s){return s==="head"}function dy(s,o){var c=o,p=0;do{var y=c.nextSibling;if(s.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"||c==="/&"){if(p===0){s.removeChild(y),Iu(o);return}p--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")p++;else if(c==="html")$d(s.ownerDocument.documentElement);else if(c==="head"){c=s.ownerDocument.head,$d(c);for(var B=c.firstChild;B;){var H=B.nextSibling,ce=B.nodeName;B[Hr]||ce==="SCRIPT"||ce==="STYLE"||ce==="LINK"&&B.rel.toLowerCase()==="stylesheet"||c.removeChild(B),B=H}}else c==="body"&&$d(s.ownerDocument.body);c=y}while(c);Iu(o)}function hy(s,o){var c=s;s=0;do{var p=c.nextSibling;if(c.nodeType===1?o?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(o?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),p&&p.nodeType===8)if(c=p.data,c==="/$"){if(s===0)break;s--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||s++;c=p}while(c)}function Wg(s){var o=s.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var c=o;switch(o=o.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Wg(c),dn(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}s.removeChild(c)}}function I4(s,o,c,p){for(;s.nodeType===1;){var y=c;if(s.nodeName.toLowerCase()!==o.toLowerCase()){if(!p&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(p){if(!s[Hr])switch(o){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(B=s.getAttribute("rel"),B==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(B!==y.rel||s.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||s.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||s.getAttribute("title")!==(y.title==null?null:y.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(B=s.getAttribute("src"),(B!==(y.src==null?null:y.src)||s.getAttribute("type")!==(y.type==null?null:y.type)||s.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&B&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(o==="input"&&s.type==="hidden"){var B=y.name==null?null:""+y.name;if(y.type==="hidden"&&s.getAttribute("name")===B)return s}else return s;if(s=Go(s.nextSibling),s===null)break}return null}function Q4(s,o,c){if(o==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!c||(s=Go(s.nextSibling),s===null))return null;return s}function fy(s,o){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!o||(s=Go(s.nextSibling),s===null))return null;return s}function e0(s){return s.data==="$?"||s.data==="$~"}function t0(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function O4(s,o){var c=s.ownerDocument;if(s.data==="$~")s._reactRetry=o;else if(s.data!=="$?"||c.readyState!=="loading")o();else{var p=function(){o(),c.removeEventListener("DOMContentLoaded",p)};c.addEventListener("DOMContentLoaded",p),s._reactRetry=p}}function Go(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return s}var r0=null;function py(s){s=s.nextSibling;for(var o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"||c==="/&"){if(o===0)return Go(s.nextSibling);o--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||o++}s=s.nextSibling}return null}function my(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(o===0)return s;o--}else c!=="/$"&&c!=="/&"||o++}s=s.previousSibling}return null}function gy(s,o,c){switch(o=Qf(c),s){case"html":if(s=o.documentElement,!s)throw Error(n(452));return s;case"head":if(s=o.head,!s)throw Error(n(453));return s;case"body":if(s=o.body,!s)throw Error(n(454));return s;default:throw Error(n(451))}}function $d(s){for(var o=s.attributes;o.length;)s.removeAttributeNode(o[0]);dn(s)}var Vo=new Map,xy=new Set;function Of(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var NA=Ae.d;Ae.d={f:R4,r:D4,D:M4,C:P4,L:H4,m:q4,X:K4,S:z4,M:G4};function R4(){var s=NA.f(),o=Sf();return s||o}function D4(s){var o=on(s);o!==null&&o.tag===5&&o.type==="form"?Iv(o):NA.r(s)}var Lu=typeof document>"u"?null:document;function by(s,o,c){var p=Lu;if(p&&typeof o=="string"&&o){var y=Be(o);y='link[rel="'+s+'"][href="'+y+'"]',typeof c=="string"&&(y+='[crossorigin="'+c+'"]'),xy.has(y)||(xy.add(y),s={rel:s,crossOrigin:c,href:o},p.querySelector(y)===null&&(o=p.createElement("link"),oi(o,"link",s),it(o),p.head.appendChild(o)))}}function M4(s){NA.D(s),by("dns-prefetch",s,null)}function P4(s,o){NA.C(s,o),by("preconnect",s,o)}function H4(s,o,c){NA.L(s,o,c);var p=Lu;if(p&&s&&o){var y='link[rel="preload"][as="'+Be(o)+'"]';o==="image"&&c&&c.imageSrcSet?(y+='[imagesrcset="'+Be(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(y+='[imagesizes="'+Be(c.imageSizes)+'"]')):y+='[href="'+Be(s)+'"]';var B=y;switch(o){case"style":B=Fu(s);break;case"script":B=Tu(s)}Vo.has(B)||(s=b({rel:"preload",href:o==="image"&&c&&c.imageSrcSet?void 0:s,as:o},c),Vo.set(B,s),p.querySelector(y)!==null||o==="style"&&p.querySelector(Zd(B))||o==="script"&&p.querySelector(Xd(B))||(o=p.createElement("link"),oi(o,"link",s),it(o),p.head.appendChild(o)))}}function q4(s,o){NA.m(s,o);var c=Lu;if(c&&s){var p=o&&typeof o.as=="string"?o.as:"script",y='link[rel="modulepreload"][as="'+Be(p)+'"][href="'+Be(s)+'"]',B=y;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":B=Tu(s)}if(!Vo.has(B)&&(s=b({rel:"modulepreload",href:s},o),Vo.set(B,s),c.querySelector(y)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Xd(B)))return}p=c.createElement("link"),oi(p,"link",s),it(p),c.head.appendChild(p)}}}function z4(s,o,c){NA.S(s,o,c);var p=Lu;if(p&&s){var y=ut(p).hoistableStyles,B=Fu(s);o=o||"default";var H=y.get(B);if(!H){var ce={loading:0,preload:null};if(H=p.querySelector(Zd(B)))ce.loading=5;else{s=b({rel:"stylesheet",href:s,"data-precedence":o},c),(c=Vo.get(B))&&n0(s,c);var Ee=H=p.createElement("link");it(Ee),oi(Ee,"link",s),Ee._p=new Promise(function(Ve,ct){Ee.onload=Ve,Ee.onerror=ct}),Ee.addEventListener("load",function(){ce.loading|=1}),Ee.addEventListener("error",function(){ce.loading|=2}),ce.loading|=4,Rf(H,o,p)}H={type:"stylesheet",instance:H,count:1,state:ce},y.set(B,H)}}}function K4(s,o){NA.X(s,o);var c=Lu;if(c&&s){var p=ut(c).hoistableScripts,y=Tu(s),B=p.get(y);B||(B=c.querySelector(Xd(y)),B||(s=b({src:s,async:!0},o),(o=Vo.get(y))&&s0(s,o),B=c.createElement("script"),it(B),oi(B,"link",s),c.head.appendChild(B)),B={type:"script",instance:B,count:1,state:null},p.set(y,B))}}function G4(s,o){NA.M(s,o);var c=Lu;if(c&&s){var p=ut(c).hoistableScripts,y=Tu(s),B=p.get(y);B||(B=c.querySelector(Xd(y)),B||(s=b({src:s,async:!0,type:"module"},o),(o=Vo.get(y))&&s0(s,o),B=c.createElement("script"),it(B),oi(B,"link",s),c.head.appendChild(B)),B={type:"script",instance:B,count:1,state:null},p.set(y,B))}}function vy(s,o,c,p){var y=(y=he.current)?Of(y):null;if(!y)throw Error(n(446));switch(s){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(o=Fu(c.href),c=ut(y).hoistableStyles,p=c.get(o),p||(p={type:"style",instance:null,count:0,state:null},c.set(o,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){s=Fu(c.href);var B=ut(y).hoistableStyles,H=B.get(s);if(H||(y=y.ownerDocument||y,H={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},B.set(s,H),(B=y.querySelector(Zd(s)))&&!B._p&&(H.instance=B,H.state.loading=5),Vo.has(s)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Vo.set(s,c),B||V4(y,s,c,H.state))),o&&p===null)throw Error(n(528,""));return H}if(o&&p!==null)throw Error(n(529,""));return null;case"script":return o=c.async,c=c.src,typeof c=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Tu(c),c=ut(y).hoistableScripts,p=c.get(o),p||(p={type:"script",instance:null,count:0,state:null},c.set(o,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,s))}}function Fu(s){return'href="'+Be(s)+'"'}function Zd(s){return'link[rel="stylesheet"]['+s+"]"}function yy(s){return b({},s,{"data-precedence":s.precedence,precedence:null})}function V4(s,o,c,p){s.querySelector('link[rel="preload"][as="style"]['+o+"]")?p.loading=1:(o=s.createElement("link"),p.preload=o,o.addEventListener("load",function(){return p.loading|=1}),o.addEventListener("error",function(){return p.loading|=2}),oi(o,"link",c),it(o),s.head.appendChild(o))}function Tu(s){return'[src="'+Be(s)+'"]'}function Xd(s){return"script[async]"+s}function wy(s,o,c){if(o.count++,o.instance===null)switch(o.type){case"style":var p=s.querySelector('style[data-href~="'+Be(c.href)+'"]');if(p)return o.instance=p,it(p),p;var y=b({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return p=(s.ownerDocument||s).createElement("style"),it(p),oi(p,"style",y),Rf(p,c.precedence,s),o.instance=p;case"stylesheet":y=Fu(c.href);var B=s.querySelector(Zd(y));if(B)return o.state.loading|=4,o.instance=B,it(B),B;p=yy(c),(y=Vo.get(y))&&n0(p,y),B=(s.ownerDocument||s).createElement("link"),it(B);var H=B;return H._p=new Promise(function(ce,Ee){H.onload=ce,H.onerror=Ee}),oi(B,"link",p),o.state.loading|=4,Rf(B,c.precedence,s),o.instance=B;case"script":return B=Tu(c.src),(y=s.querySelector(Xd(B)))?(o.instance=y,it(y),y):(p=c,(y=Vo.get(B))&&(p=b({},c),s0(p,y)),s=s.ownerDocument||s,y=s.createElement("script"),it(y),oi(y,"link",p),s.head.appendChild(y),o.instance=y);case"void":return null;default:throw Error(n(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(p=o.instance,o.state.loading|=4,Rf(p,c.precedence,s));return o.instance}function Rf(s,o,c){for(var p=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=p.length?p[p.length-1]:null,B=y,H=0;H<p.length;H++){var ce=p[H];if(ce.dataset.precedence===o)B=ce;else if(B!==y)break}B?B.parentNode.insertBefore(s,B.nextSibling):(o=c.nodeType===9?c.head:c,o.insertBefore(s,o.firstChild))}function n0(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.title==null&&(s.title=o.title)}function s0(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.integrity==null&&(s.integrity=o.integrity)}var Df=null;function _y(s,o,c){if(Df===null){var p=new Map,y=Df=new Map;y.set(c,p)}else y=Df,p=y.get(c),p||(p=new Map,y.set(c,p));if(p.has(s))return p;for(p.set(s,null),c=c.getElementsByTagName(s),y=0;y<c.length;y++){var B=c[y];if(!(B[Hr]||B[$e]||s==="link"&&B.getAttribute("rel")==="stylesheet")&&B.namespaceURI!=="http://www.w3.org/2000/svg"){var H=B.getAttribute(o)||"";H=s+H;var ce=p.get(H);ce?ce.push(B):p.set(H,[B])}}return p}function By(s,o,c){s=s.ownerDocument||s,s.head.insertBefore(c,o==="title"?s.querySelector("head > title"):null)}function $4(s,o,c){if(c===1||o.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return s=o.disabled,typeof o.precedence=="string"&&s==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function Ny(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function Z4(s,o,c,p){if(c.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var y=Fu(p.href),B=o.querySelector(Zd(y));if(B){o=B._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(s.count++,s=Mf.bind(s),o.then(s,s)),c.state.loading|=4,c.instance=B,it(B);return}B=o.ownerDocument||o,p=yy(p),(y=Vo.get(y))&&n0(p,y),B=B.createElement("link"),it(B);var H=B;H._p=new Promise(function(ce,Ee){H.onload=ce,H.onerror=Ee}),oi(B,"link",p),c.instance=B}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(c,o),(o=c.state.preload)&&(c.state.loading&3)===0&&(s.count++,c=Mf.bind(s),o.addEventListener("load",c),o.addEventListener("error",c))}}var a0=0;function X4(s,o){return s.stylesheets&&s.count===0&&Hf(s,s.stylesheets),0<s.count||0<s.imgCount?function(c){var p=setTimeout(function(){if(s.stylesheets&&Hf(s,s.stylesheets),s.unsuspend){var B=s.unsuspend;s.unsuspend=null,B()}},6e4+o);0<s.imgBytes&&a0===0&&(a0=62500*U4());var y=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Hf(s,s.stylesheets),s.unsuspend)){var B=s.unsuspend;s.unsuspend=null,B()}},(s.imgBytes>a0?50:800)+o);return s.unsuspend=c,function(){s.unsuspend=null,clearTimeout(p),clearTimeout(y)}}:null}function Mf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Hf(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Pf=null;function Hf(s,o){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Pf=new Map,o.forEach(Y4,s),Pf=null,Mf.call(s))}function Y4(s,o){if(!(o.state.loading&4)){var c=Pf.get(s);if(c)var p=c.get(null);else{c=new Map,Pf.set(s,c);for(var y=s.querySelectorAll("link[data-precedence],style[data-precedence]"),B=0;B<y.length;B++){var H=y[B];(H.nodeName==="LINK"||H.getAttribute("media")!=="not all")&&(c.set(H.dataset.precedence,H),p=H)}p&&c.set(null,p)}y=o.instance,H=y.getAttribute("data-precedence"),B=c.get(H)||p,B===p&&c.set(null,y),c.set(H,y),this.count++,p=Mf.bind(this),y.addEventListener("load",p),y.addEventListener("error",p),B?B.parentNode.insertBefore(y,B.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(y,s.firstChild)),o.state.loading|=4}}var Yd={$$typeof:O,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function J4(s,o,c,p,y,B,H,ce,Ee){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=yn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yn(0),this.hiddenUpdates=yn(null),this.identifierPrefix=p,this.onUncaughtError=y,this.onCaughtError=B,this.onRecoverableError=H,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Ee,this.incompleteTransitions=new Map}function Cy(s,o,c,p,y,B,H,ce,Ee,Ve,ct,xt){return s=new J4(s,o,c,H,Ee,Ve,ct,xt,ce),o=1,B===!0&&(o|=24),B=ca(3,null,null,o),s.current=B,B.stateNode=s,o=qA(),o.refCount++,s.pooledCache=o,o.refCount++,B.memoizedState={element:p,isDehydrated:c,cache:o},qt(B),s}function Ey(s){return s?(s=Zs,s):Zs}function Sy(s,o,c,p,y,B){y=Ey(y),p.context===null?p.context=y:p.pendingContext=y,p=Tr(o),p.payload={element:c},B=B===void 0?null:B,B!==null&&(p.callback=B),c=rn(s,p,o),c!==null&&(ao(c,s,o),Mn(c,s,o))}function jy(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<o?c:o}}function i0(s,o){jy(s,o),(s=s.alternate)&&jy(s,o)}function Uy(s){if(s.tag===13||s.tag===31){var o=vi(s,67108864);o!==null&&ao(o,s,67108864),i0(s,67108864)}}function ky(s){if(s.tag===13||s.tag===31){var o=So();o=Pr(o);var c=vi(s,o);c!==null&&ao(c,s,o),i0(s,o)}}var qf=!0;function W4(s,o,c,p){var y=Q.T;Q.T=null;var B=Ae.p;try{Ae.p=2,o0(s,o,c,p)}finally{Ae.p=B,Q.T=y}}function eE(s,o,c,p){var y=Q.T;Q.T=null;var B=Ae.p;try{Ae.p=8,o0(s,o,c,p)}finally{Ae.p=B,Q.T=y}}function o0(s,o,c,p){if(qf){var y=l0(p);if(y===null)Vg(s,o,p,zf,c),Fy(s,p);else if(rE(y,s,o,c,p))p.stopPropagation();else if(Fy(s,p),o&4&&-1<tE.indexOf(s)){for(;y!==null;){var B=on(y);if(B!==null)switch(B.tag){case 3:if(B=B.stateNode,B.current.memoizedState.isDehydrated){var H=at(B.pendingLanes);if(H!==0){var ce=B;for(ce.pendingLanes|=2,ce.entangledLanes|=2;H;){var Ee=1<<31-Ht(H);ce.entanglements[1]|=Ee,H&=~Ee}$l(B),(Hn&6)===0&&(Cf=ir()+500,Kd(0))}}break;case 31:case 13:ce=vi(B,2),ce!==null&&ao(ce,B,2),Sf(),i0(B,2)}if(B=l0(p),B===null&&Vg(s,o,p,zf,c),B===y)break;y=B}y!==null&&p.stopPropagation()}else Vg(s,o,p,null,c)}}function l0(s){return s=fo(s),A0(s)}var zf=null;function A0(s){if(zf=null,s=Ar(s),s!==null){var o=l(s);if(o===null)s=null;else{var c=o.tag;if(c===13){if(s=u(o),s!==null)return s;s=null}else if(c===31){if(s=d(o),s!==null)return s;s=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null)}}return zf=s,null}function Ly(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_r()){case nr:return 2;case xr:return 8;case $t:case St:return 32;case Zt:return 268435456;default:return 32}default:return 32}}var c0=!1,rc=null,nc=null,sc=null,Jd=new Map,Wd=new Map,ac=[],tE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Fy(s,o){switch(s){case"focusin":case"focusout":rc=null;break;case"dragenter":case"dragleave":nc=null;break;case"mouseover":case"mouseout":sc=null;break;case"pointerover":case"pointerout":Jd.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wd.delete(o.pointerId)}}function eh(s,o,c,p,y,B){return s===null||s.nativeEvent!==B?(s={blockedOn:o,domEventName:c,eventSystemFlags:p,nativeEvent:B,targetContainers:[y]},o!==null&&(o=on(o),o!==null&&Uy(o)),s):(s.eventSystemFlags|=p,o=s.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),s)}function rE(s,o,c,p,y){switch(o){case"focusin":return rc=eh(rc,s,o,c,p,y),!0;case"dragenter":return nc=eh(nc,s,o,c,p,y),!0;case"mouseover":return sc=eh(sc,s,o,c,p,y),!0;case"pointerover":var B=y.pointerId;return Jd.set(B,eh(Jd.get(B)||null,s,o,c,p,y)),!0;case"gotpointercapture":return B=y.pointerId,Wd.set(B,eh(Wd.get(B)||null,s,o,c,p,y)),!0}return!1}function Ty(s){var o=Ar(s.target);if(o!==null){var c=l(o);if(c!==null){if(o=c.tag,o===13){if(o=u(c),o!==null){s.blockedOn=o,fe(s.priority,function(){ky(c)});return}}else if(o===31){if(o=d(c),o!==null){s.blockedOn=o,fe(s.priority,function(){ky(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Kf(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var c=l0(s.nativeEvent);if(c===null){c=s.nativeEvent;var p=new c.constructor(c.type,c);Pi=p,c.target.dispatchEvent(p),Pi=null}else return o=on(c),o!==null&&Uy(o),s.blockedOn=c,!1;o.shift()}return!0}function Iy(s,o,c){Kf(s)&&c.delete(o)}function nE(){c0=!1,rc!==null&&Kf(rc)&&(rc=null),nc!==null&&Kf(nc)&&(nc=null),sc!==null&&Kf(sc)&&(sc=null),Jd.forEach(Iy),Wd.forEach(Iy)}function Gf(s,o){s.blockedOn===o&&(s.blockedOn=null,c0||(c0=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,nE)))}var Vf=null;function Qy(s){Vf!==s&&(Vf=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Vf===s&&(Vf=null);for(var o=0;o<s.length;o+=3){var c=s[o],p=s[o+1],y=s[o+2];if(typeof p!="function"){if(A0(p||c)===null)continue;break}var B=on(c);B!==null&&(s.splice(o,3),o-=3,lg(B,{pending:!0,data:y,method:c.method,action:p},p,y))}}))}function Iu(s){function o(Ee){return Gf(Ee,s)}rc!==null&&Gf(rc,s),nc!==null&&Gf(nc,s),sc!==null&&Gf(sc,s),Jd.forEach(o),Wd.forEach(o);for(var c=0;c<ac.length;c++){var p=ac[c];p.blockedOn===s&&(p.blockedOn=null)}for(;0<ac.length&&(c=ac[0],c.blockedOn===null);)Ty(c),c.blockedOn===null&&ac.shift();if(c=(s.ownerDocument||s).$$reactFormReplay,c!=null)for(p=0;p<c.length;p+=3){var y=c[p],B=c[p+1],H=y[xe]||null;if(typeof B=="function")H||Qy(c);else if(H){var ce=null;if(B&&B.hasAttribute("formAction")){if(y=B,H=B[xe]||null)ce=H.formAction;else if(A0(y)!==null)continue}else ce=H.action;typeof ce=="function"?c[p+1]=ce:(c.splice(p,3),p-=3),Qy(c)}}}function Oy(){function s(B){B.canIntercept&&B.info==="react-transition"&&B.intercept({handler:function(){return new Promise(function(H){return y=H})},focusReset:"manual",scroll:"manual"})}function o(){y!==null&&(y(),y=null),p||setTimeout(c,20)}function c(){if(!p&&!navigation.transition){var B=navigation.currentEntry;B&&B.url!=null&&navigation.navigate(B.url,{state:B.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,y=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(c,100),function(){p=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),y!==null&&(y(),y=null)}}}function u0(s){this._internalRoot=s}$f.prototype.render=u0.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(n(409));var c=o.current,p=So();Sy(c,p,s,o,null,null)},$f.prototype.unmount=u0.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;Sy(s.current,2,null,s,null,null),Sf(),o[Me]=null}};function $f(s){this._internalRoot=s}$f.prototype.unstable_scheduleHydration=function(s){if(s){var o=nn();s={blockedOn:null,target:s,priority:o};for(var c=0;c<ac.length&&o!==0&&o<ac[c].priority;c++);ac.splice(c,0,s),c===0&&Ty(s)}};var Ry=e.version;if(Ry!=="19.2.3")throw Error(n(527,Ry,"19.2.3"));Ae.findDOMNode=function(s){var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=m(o),s=s!==null?g(s):null,s=s===null?null:s.stateNode,s};var sE={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zf.isDisabled&&Zf.supportsFiber)try{gr=Zf.inject(sE),Vt=Zf}catch{}}return rh.createRoot=function(s,o){if(!i(s))throw Error(n(299));var c=!1,p="",y=Kv,B=Gv,H=Vv;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(B=o.onCaughtError),o.onRecoverableError!==void 0&&(H=o.onRecoverableError)),o=Cy(s,1,!1,null,null,c,p,null,y,B,H,Oy),s[Me]=o.current,Gg(s),new u0(o)},rh.hydrateRoot=function(s,o,c){if(!i(s))throw Error(n(299));var p=!1,y="",B=Kv,H=Gv,ce=Vv,Ee=null;return c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onUncaughtError!==void 0&&(B=c.onUncaughtError),c.onCaughtError!==void 0&&(H=c.onCaughtError),c.onRecoverableError!==void 0&&(ce=c.onRecoverableError),c.formState!==void 0&&(Ee=c.formState)),o=Cy(s,1,!0,o,c??null,p,y,Ee,B,H,ce,Oy),o.context=Ey(null),c=o.current,p=So(),p=Pr(p),y=Tr(p),y.callback=null,rn(c,y,p),c=p,o.current.lanes=c,kt(o,c),$l(o),s[Me]=o.current,Gg(s),new $f(o)},rh.version="19.2.3",rh}var $y;function pE(){if($y)return f0.exports;$y=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),f0.exports=fE(),f0.exports}var mE=pE();const gE=Bm(mE);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),bE=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),Zy=t=>{const e=bE(t);return e.charAt(0).toUpperCase()+e.slice(1)},R5=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim(),vE=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var yE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wE=P.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:l,iconNode:u,...d},h)=>P.createElement("svg",{ref:h,...yE,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:R5("lucide",i),...!l&&!vE(d)&&{"aria-hidden":"true"},...d},[...u.map(([m,g])=>P.createElement(m,g)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=(t,e)=>{const r=P.forwardRef(({className:n,...i},l)=>P.createElement(wE,{ref:l,iconNode:e,className:R5(`lucide-${xE(Zy(t))}`,`lucide-${t}`,n),...i}));return r.displayName=Zy(t),r};/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _E=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Nm=_t("activity",_E);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BE=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],D5=_t("arrow-down-right",BE);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NE=[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]],x0=_t("arrow-left-right",NE);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CE=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],EE=_t("arrow-right",CE);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SE=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],Mp=_t("arrow-up-right",SE);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jE=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Xy=_t("badge-check",jE);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UE=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Qh=_t("ban",UE);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kE=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],M5=_t("banknote",kE);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LE=[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]],Ox=_t("barcode",LE);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FE=[["circle",{cx:"18.5",cy:"17.5",r:"3.5",key:"15x4ox"}],["circle",{cx:"5.5",cy:"17.5",r:"3.5",key:"1noe27"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["path",{d:"M12 17.5V14l-3-3 4-3 2 3h2",key:"1npguv"}]],rm=_t("bike",FE);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TE=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],IE=_t("bot",TE);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QE=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],Pp=_t("box",QE);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OE=[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],Yy=_t("calendar-clock",OE);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RE=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Cm=_t("calendar",RE);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DE=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],ME=_t("chart-column",DE);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PE=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],Jy=_t("chart-pie",PE);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HE=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],qE=_t("check-check",HE);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zE=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],hc=_t("check",zE);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KE=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Hb=_t("chevron-right",KE);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Rx=_t("circle-alert",GE);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],tA=_t("circle-check",VE);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $E=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]],ZE=_t("circle-dollar-sign",$E);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Wy=_t("circle-question-mark",XE);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],b0=_t("circle-x",YE);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JE=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],qb=_t("clipboard-check",JE);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WE=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],nm=_t("clipboard-list",WE);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eS=[["path",{d:"M12 6v6h4",key:"135r8i"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],tS=_t("clock-3",eS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rS=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],gd=_t("clock",rS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nS=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],sS=_t("coffee",nS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aS=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],iS=_t("copy",aS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oS=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],P5=_t("credit-card",oS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lS=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],AS=_t("crown",lS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5v14a9 3 0 0 0 18 0V5",key:"aqi0yr"}]],H5=_t("cylinder",cS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],dS=_t("database",uS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hS=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],q5=_t("dollar-sign",hS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],pS=_t("external-link",fS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mS=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],gS=_t("eye-off",mS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],bS=_t("eye",xS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"M3 19a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8.5a.5.5 0 0 0-.769-.422l-4.462 2.844A.5.5 0 0 1 15 10.5v-2a.5.5 0 0 0-.769-.422L9.77 10.922A.5.5 0 0 1 9 10.5V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2z",key:"1iv0i2"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],z5=_t("factory",vS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yS=[["path",{d:"M16 22h2a2 2 0 0 0 2-2V8a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 14 2H6a2 2 0 0 0-2 2v2.85",key:"ryk6xj"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 14v2.2l1.6 1",key:"6m4bie"}],["circle",{cx:"8",cy:"16",r:"6",key:"10v15b"}]],K5=_t("file-clock",yS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Oh=_t("file-text",wS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _S=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],BS=_t("flame",_S);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NS=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],CS=_t("funnel",NS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ES=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],SS=_t("hash",ES);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jS=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],US=_t("heart",jS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kS=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],LS=_t("history",kS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FS=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],TS=_t("image",FS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],ew=_t("info",IS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QS=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],OS=_t("key",QS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RS=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],tw=_t("layers",RS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DS=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],MS=_t("layout-dashboard",DS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PS=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],rw=_t("layout-grid",PS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HS=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Yo=_t("loader-circle",HS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qS=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],G5=_t("lock",qS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zS=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],V5=_t("log-out",zS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KS=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],IA=_t("map-pin",KS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GS=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],zb=_t("map",GS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VS=[["path",{d:"M5 12h14",key:"1ays0h"}]],$S=_t("minus",VS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZS=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],XS=_t("monitor",ZS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YS=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]],JS=_t("move",YS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WS=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],nw=_t("navigation",WS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e3=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]],Hp=_t("octagon-alert",e3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t3=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],lo=_t("package",t3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r3=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],Em=_t("palette",r3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n3=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Xh=_t("pen",n3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s3=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Kb=_t("pencil",s3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a3=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Gb=_t("phone",a3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i3=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],sw=_t("play",i3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ao=_t("plus",o3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l3=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],A3=_t("power",l3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c3=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],u3=_t("printer",c3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d3=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],h3=_t("receipt",d3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f3=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Rh=_t("refresh-cw",f3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p3=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],m3=_t("repeat",p3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g3=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],x3=_t("rotate-ccw",g3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b3=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],tl=_t("save",b3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v3=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],rA=_t("search",v3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y3=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],vd=_t("settings",y3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w3=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],_3=_t("shield-alert",w3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B3=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],N3=_t("shield-check",B3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C3=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],E3=_t("shield",C3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S3=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],$5=_t("shopping-bag",S3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j3=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],aw=_t("shopping-cart",j3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=[["path",{d:"M7 18v-6a5 5 0 1 1 10 0v6",key:"pcx96s"}],["path",{d:"M5 21a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-1a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2z",key:"1b4s83"}],["path",{d:"M21 12h1",key:"jtio3y"}],["path",{d:"M18.5 4.5 18 5",key:"g5sp9y"}],["path",{d:"M2 12h1",key:"1uaihz"}],["path",{d:"M12 2v1",key:"11qlp1"}],["path",{d:"m4.929 4.929.707.707",key:"1i51kw"}],["path",{d:"M12 12v6",key:"3ahymv"}]],Vb=_t("siren",U3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k3=[["path",{d:"M10 5H3",key:"1qgfaw"}],["path",{d:"M12 19H3",key:"yhmn1j"}],["path",{d:"M14 3v4",key:"1sua03"}],["path",{d:"M16 17v4",key:"1q0r14"}],["path",{d:"M21 12h-9",key:"1o4lsq"}],["path",{d:"M21 19h-5",key:"1rlt1p"}],["path",{d:"M21 5h-7",key:"1oszz2"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M8 12H3",key:"a7s4jb"}]],L3=_t("sliders-horizontal",k3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],v0=_t("smartphone",F3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T3=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Z5=_t("square-check-big",T3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I3=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Q3=_t("square",I3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O3=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],R3=_t("store",O3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D3=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Dx=_t("tag",D3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],P3=_t("target",M3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H3=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],aa=_t("trash-2",H3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q3=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],Mx=_t("trending-down",q3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z3=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],ph=_t("trending-up",z3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K3=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],$c=_t("triangle-alert",K3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G3=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Qo=_t("truck",G3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V3=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],$3=_t("user-check",V3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],iw=_t("user-plus",Z3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X3=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],sm=_t("user",X3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],FA=_t("users",Y3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J3=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Px=_t("wallet",J3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W3=[["path",{d:"M18 21V10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v11",key:"pb2vm6"}],["path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 1.132-1.803l7.95-3.974a2 2 0 0 1 1.837 0l7.948 3.974A2 2 0 0 1 22 8z",key:"doq5xv"}],["path",{d:"M6 13h12",key:"yf64js"}],["path",{d:"M6 17h12",key:"1jwigz"}]],Dc=_t("warehouse",W3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ej=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],X5=_t("wifi-off",ej);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tj=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],Y5=_t("wifi",tj);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rj=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],qn=_t("x",rj);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nj=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],sj=_t("zap",nj),Zc=[{id:"nova-os",label:"O.S",icon:nm,color:"text-purple-600",bgColor:"bg-purple-100"},{id:"clientes",label:"Clientes",icon:FA,color:"text-indigo-600",bgColor:"bg-indigo-100"},{id:"fechar-caixa",label:"Fechar Caixa",icon:M5,color:"text-green-600",bgColor:"bg-green-100"},{id:"financeiro",label:"Financeiro",icon:ZE,color:"text-yellow-600",bgColor:"bg-yellow-100"},{id:"temas",label:"Temas",icon:Em,color:"text-pink-600",bgColor:"bg-pink-100"},{id:"painel",label:"Painel",icon:MS,color:"text-gray-600",bgColor:"bg-gray-100"},{id:"depositos-estoque",label:"Depsitos & Estoque",icon:Dc,color:"text-purple-600",bgColor:"bg-purple-100"},{id:"colaboradores",label:"Colaboradores",icon:FA,color:"text-indigo-600",bgColor:"bg-indigo-100"},{id:"rel-entregas",label:"Rel. Entregas",icon:Qo,color:"text-orange-500",bgColor:"bg-orange-100"},{id:"auditoria",label:"Auditoria",icon:nm,color:"text-orange-400",bgColor:"bg-orange-50"},{id:"resumo",label:"Resumo",icon:ME,color:"text-blue-500",bgColor:"bg-blue-100"},{id:"alertas",label:"Alertas",icon:Vb,color:"text-red-500",bgColor:"bg-red-100"}],aj=({item:t,onClick:e,highlight:r})=>{const n=t.icon,i=r?"ring-4 ring-red-500/90 shadow-[0_0_30px_rgba(239,68,68,0.45)] border-red-400 animate-pulse":"";return a.jsxs("button",{onClick:()=>e(t.id),className:`group flex flex-col items-center justify-center p-6 bg-surface rounded-2xl shadow-sm border border-bdr hover:shadow-xl hover:border-slate-400 transition-all duration-300 ease-out transform hover:-translate-y-2 h-36 w-full relative overflow-hidden ${i}`,children:[a.jsx("div",{className:`absolute inset-0 opacity-0 group-hover:opacity-10 transition-opacity duration-500 bg-gradient-to-br ${t.bgColor.replace("bg-","from-")} to-transparent`}),a.jsx("div",{className:`p-3 rounded-full mb-3 ${t.bgColor} group-hover:scale-110 group-hover:rotate-3 transition-transform duration-300 z-10`,children:a.jsx(n,{className:`w-8 h-8 ${t.color}`,strokeWidth:2})}),a.jsx("span",{className:"text-txt-muted font-bold text-sm tracking-wide group-hover:text-txt-main z-10 transition-colors",children:t.label})]})};var mh={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var ij=mh.exports,ow;function oj(){return ow||(ow=1,(function(t,e){(function(r,n){n(e)})(ij,(function(r){var n="1.9.4";function i(A){var f,v,E,D;for(v=1,E=arguments.length;v<E;v++){D=arguments[v];for(f in D)A[f]=D[f]}return A}var l=Object.create||(function(){function A(){}return function(f){return A.prototype=f,new A}})();function u(A,f){var v=Array.prototype.slice;if(A.bind)return A.bind.apply(A,v.call(arguments,1));var E=v.call(arguments,2);return function(){return A.apply(f,E.length?E.concat(v.call(arguments)):arguments)}}var d=0;function h(A){return"_leaflet_id"in A||(A._leaflet_id=++d),A._leaflet_id}function m(A,f,v){var E,D,ie,Ce;return Ce=function(){E=!1,D&&(ie.apply(v,D),D=!1)},ie=function(){E?D=arguments:(A.apply(v,arguments),setTimeout(Ce,f),E=!0)},ie}function g(A,f,v){var E=f[1],D=f[0],ie=E-D;return A===E&&v?A:((A-D)%ie+ie)%ie+D}function b(){return!1}function N(A,f){if(f===!1)return A;var v=Math.pow(10,f===void 0?6:f);return Math.round(A*v)/v}function w(A){return A.trim?A.trim():A.replace(/^\s+|\s+$/g,"")}function C(A){return w(A).split(/\s+/)}function U(A,f){Object.prototype.hasOwnProperty.call(A,"options")||(A.options=A.options?l(A.options):{});for(var v in f)A.options[v]=f[v];return A.options}function T(A,f,v){var E=[];for(var D in A)E.push(encodeURIComponent(v?D.toUpperCase():D)+"="+encodeURIComponent(A[D]));return(!f||f.indexOf("?")===-1?"?":"&")+E.join("&")}var S=/\{ *([\w_ -]+) *\}/g;function I(A,f){return A.replace(S,function(v,E){var D=f[E];if(D===void 0)throw new Error("No value provided for variable "+v);return typeof D=="function"&&(D=D(f)),D})}var O=Array.isArray||function(A){return Object.prototype.toString.call(A)==="[object Array]"};function M(A,f){for(var v=0;v<A.length;v++)if(A[v]===f)return v;return-1}var ne="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function z(A){return window["webkit"+A]||window["moz"+A]||window["ms"+A]}var oe=0;function te(A){var f=+new Date,v=Math.max(0,16-(f-oe));return oe=f+v,window.setTimeout(A,v)}var X=window.requestAnimationFrame||z("RequestAnimationFrame")||te,ge=window.cancelAnimationFrame||z("CancelAnimationFrame")||z("CancelRequestAnimationFrame")||function(A){window.clearTimeout(A)};function Z(A,f,v){if(v&&X===te)A.call(f);else return X.call(window,u(A,f))}function W(A){A&&ge.call(window,A)}var ae={__proto__:null,extend:i,create:l,bind:u,get lastId(){return d},stamp:h,throttle:m,wrapNum:g,falseFn:b,formatNum:N,trim:w,splitWords:C,setOptions:U,getParamString:T,template:I,isArray:O,indexOf:M,emptyImageUrl:ne,requestFn:X,cancelFn:ge,requestAnimFrame:Z,cancelAnimFrame:W};function K(){}K.extend=function(A){var f=function(){U(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},v=f.__super__=this.prototype,E=l(v);E.constructor=f,f.prototype=E;for(var D in this)Object.prototype.hasOwnProperty.call(this,D)&&D!=="prototype"&&D!=="__super__"&&(f[D]=this[D]);return A.statics&&i(f,A.statics),A.includes&&(ue(A.includes),i.apply(null,[E].concat(A.includes))),i(E,A),delete E.statics,delete E.includes,E.options&&(E.options=v.options?l(v.options):{},i(E.options,A.options)),E._initHooks=[],E.callInitHooks=function(){if(!this._initHooksCalled){v.callInitHooks&&v.callInitHooks.call(this),this._initHooksCalled=!0;for(var ie=0,Ce=E._initHooks.length;ie<Ce;ie++)E._initHooks[ie].call(this)}},f},K.include=function(A){var f=this.prototype.options;return i(this.prototype,A),A.options&&(this.prototype.options=f,this.mergeOptions(A.options)),this},K.mergeOptions=function(A){return i(this.prototype.options,A),this},K.addInitHook=function(A){var f=Array.prototype.slice.call(arguments,1),v=typeof A=="function"?A:function(){this[A].apply(this,f)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(v),this};function ue(A){if(!(typeof L>"u"||!L||!L.Mixin)){A=O(A)?A:[A];for(var f=0;f<A.length;f++)A[f]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Q={on:function(A,f,v){if(typeof A=="object")for(var E in A)this._on(E,A[E],f);else{A=C(A);for(var D=0,ie=A.length;D<ie;D++)this._on(A[D],f,v)}return this},off:function(A,f,v){if(!arguments.length)delete this._events;else if(typeof A=="object")for(var E in A)this._off(E,A[E],f);else{A=C(A);for(var D=arguments.length===1,ie=0,Ce=A.length;ie<Ce;ie++)D?this._off(A[ie]):this._off(A[ie],f,v)}return this},_on:function(A,f,v,E){if(typeof f!="function"){console.warn("wrong listener type: "+typeof f);return}if(this._listens(A,f,v)===!1){v===this&&(v=void 0);var D={fn:f,ctx:v};E&&(D.once=!0),this._events=this._events||{},this._events[A]=this._events[A]||[],this._events[A].push(D)}},_off:function(A,f,v){var E,D,ie;if(this._events&&(E=this._events[A],!!E)){if(arguments.length===1){if(this._firingCount)for(D=0,ie=E.length;D<ie;D++)E[D].fn=b;delete this._events[A];return}if(typeof f!="function"){console.warn("wrong listener type: "+typeof f);return}var Ce=this._listens(A,f,v);if(Ce!==!1){var Oe=E[Ce];this._firingCount&&(Oe.fn=b,this._events[A]=E=E.slice()),E.splice(Ce,1)}}},fire:function(A,f,v){if(!this.listens(A,v))return this;var E=i({},f,{type:A,target:this,sourceTarget:f&&f.sourceTarget||this});if(this._events){var D=this._events[A];if(D){this._firingCount=this._firingCount+1||1;for(var ie=0,Ce=D.length;ie<Ce;ie++){var Oe=D[ie],Ze=Oe.fn;Oe.once&&this.off(A,Ze,Oe.ctx),Ze.call(Oe.ctx||this,E)}this._firingCount--}}return v&&this._propagateEvent(E),this},listens:function(A,f,v,E){typeof A!="string"&&console.warn('"string" type argument expected');var D=f;typeof f!="function"&&(E=!!f,D=void 0,v=void 0);var ie=this._events&&this._events[A];if(ie&&ie.length&&this._listens(A,D,v)!==!1)return!0;if(E){for(var Ce in this._eventParents)if(this._eventParents[Ce].listens(A,f,v,E))return!0}return!1},_listens:function(A,f,v){if(!this._events)return!1;var E=this._events[A]||[];if(!f)return!!E.length;v===this&&(v=void 0);for(var D=0,ie=E.length;D<ie;D++)if(E[D].fn===f&&E[D].ctx===v)return D;return!1},once:function(A,f,v){if(typeof A=="object")for(var E in A)this._on(E,A[E],f,!0);else{A=C(A);for(var D=0,ie=A.length;D<ie;D++)this._on(A[D],f,v,!0)}return this},addEventParent:function(A){return this._eventParents=this._eventParents||{},this._eventParents[h(A)]=A,this},removeEventParent:function(A){return this._eventParents&&delete this._eventParents[h(A)],this},_propagateEvent:function(A){for(var f in this._eventParents)this._eventParents[f].fire(A.type,i({layer:A.target,propagatedFrom:A.target},A),!0)}};Q.addEventListener=Q.on,Q.removeEventListener=Q.clearAllEventListeners=Q.off,Q.addOneTimeEventListener=Q.once,Q.fireEvent=Q.fire,Q.hasEventListeners=Q.listens;var Ae=K.extend(Q);function ee(A,f,v){this.x=v?Math.round(A):A,this.y=v?Math.round(f):f}var _e=Math.trunc||function(A){return A>0?Math.floor(A):Math.ceil(A)};ee.prototype={clone:function(){return new ee(this.x,this.y)},add:function(A){return this.clone()._add(Ne(A))},_add:function(A){return this.x+=A.x,this.y+=A.y,this},subtract:function(A){return this.clone()._subtract(Ne(A))},_subtract:function(A){return this.x-=A.x,this.y-=A.y,this},divideBy:function(A){return this.clone()._divideBy(A)},_divideBy:function(A){return this.x/=A,this.y/=A,this},multiplyBy:function(A){return this.clone()._multiplyBy(A)},_multiplyBy:function(A){return this.x*=A,this.y*=A,this},scaleBy:function(A){return new ee(this.x*A.x,this.y*A.y)},unscaleBy:function(A){return new ee(this.x/A.x,this.y/A.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=_e(this.x),this.y=_e(this.y),this},distanceTo:function(A){A=Ne(A);var f=A.x-this.x,v=A.y-this.y;return Math.sqrt(f*f+v*v)},equals:function(A){return A=Ne(A),A.x===this.x&&A.y===this.y},contains:function(A){return A=Ne(A),Math.abs(A.x)<=Math.abs(this.x)&&Math.abs(A.y)<=Math.abs(this.y)},toString:function(){return"Point("+N(this.x)+", "+N(this.y)+")"}};function Ne(A,f,v){return A instanceof ee?A:O(A)?new ee(A[0],A[1]):A==null?A:typeof A=="object"&&"x"in A&&"y"in A?new ee(A.x,A.y):new ee(A,f,v)}function q(A,f){if(A)for(var v=f?[A,f]:A,E=0,D=v.length;E<D;E++)this.extend(v[E])}q.prototype={extend:function(A){var f,v;if(!A)return this;if(A instanceof ee||typeof A[0]=="number"||"x"in A)f=v=Ne(A);else if(A=F(A),f=A.min,v=A.max,!f||!v)return this;return!this.min&&!this.max?(this.min=f.clone(),this.max=v.clone()):(this.min.x=Math.min(f.x,this.min.x),this.max.x=Math.max(v.x,this.max.x),this.min.y=Math.min(f.y,this.min.y),this.max.y=Math.max(v.y,this.max.y)),this},getCenter:function(A){return Ne((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,A)},getBottomLeft:function(){return Ne(this.min.x,this.max.y)},getTopRight:function(){return Ne(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(A){var f,v;return typeof A[0]=="number"||A instanceof ee?A=Ne(A):A=F(A),A instanceof q?(f=A.min,v=A.max):f=v=A,f.x>=this.min.x&&v.x<=this.max.x&&f.y>=this.min.y&&v.y<=this.max.y},intersects:function(A){A=F(A);var f=this.min,v=this.max,E=A.min,D=A.max,ie=D.x>=f.x&&E.x<=v.x,Ce=D.y>=f.y&&E.y<=v.y;return ie&&Ce},overlaps:function(A){A=F(A);var f=this.min,v=this.max,E=A.min,D=A.max,ie=D.x>f.x&&E.x<v.x,Ce=D.y>f.y&&E.y<v.y;return ie&&Ce},isValid:function(){return!!(this.min&&this.max)},pad:function(A){var f=this.min,v=this.max,E=Math.abs(f.x-v.x)*A,D=Math.abs(f.y-v.y)*A;return F(Ne(f.x-E,f.y-D),Ne(v.x+E,v.y+D))},equals:function(A){return A?(A=F(A),this.min.equals(A.getTopLeft())&&this.max.equals(A.getBottomRight())):!1}};function F(A,f){return!A||A instanceof q?A:new q(A,f)}function G(A,f){if(A)for(var v=f?[A,f]:A,E=0,D=v.length;E<D;E++)this.extend(v[E])}G.prototype={extend:function(A){var f=this._southWest,v=this._northEast,E,D;if(A instanceof V)E=A,D=A;else if(A instanceof G){if(E=A._southWest,D=A._northEast,!E||!D)return this}else return A?this.extend(he(A)||$(A)):this;return!f&&!v?(this._southWest=new V(E.lat,E.lng),this._northEast=new V(D.lat,D.lng)):(f.lat=Math.min(E.lat,f.lat),f.lng=Math.min(E.lng,f.lng),v.lat=Math.max(D.lat,v.lat),v.lng=Math.max(D.lng,v.lng)),this},pad:function(A){var f=this._southWest,v=this._northEast,E=Math.abs(f.lat-v.lat)*A,D=Math.abs(f.lng-v.lng)*A;return new G(new V(f.lat-E,f.lng-D),new V(v.lat+E,v.lng+D))},getCenter:function(){return new V((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new V(this.getNorth(),this.getWest())},getSouthEast:function(){return new V(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(A){typeof A[0]=="number"||A instanceof V||"lat"in A?A=he(A):A=$(A);var f=this._southWest,v=this._northEast,E,D;return A instanceof G?(E=A.getSouthWest(),D=A.getNorthEast()):E=D=A,E.lat>=f.lat&&D.lat<=v.lat&&E.lng>=f.lng&&D.lng<=v.lng},intersects:function(A){A=$(A);var f=this._southWest,v=this._northEast,E=A.getSouthWest(),D=A.getNorthEast(),ie=D.lat>=f.lat&&E.lat<=v.lat,Ce=D.lng>=f.lng&&E.lng<=v.lng;return ie&&Ce},overlaps:function(A){A=$(A);var f=this._southWest,v=this._northEast,E=A.getSouthWest(),D=A.getNorthEast(),ie=D.lat>f.lat&&E.lat<v.lat,Ce=D.lng>f.lng&&E.lng<v.lng;return ie&&Ce},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(A,f){return A?(A=$(A),this._southWest.equals(A.getSouthWest(),f)&&this._northEast.equals(A.getNorthEast(),f)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function $(A,f){return A instanceof G?A:new G(A,f)}function V(A,f,v){if(isNaN(A)||isNaN(f))throw new Error("Invalid LatLng object: ("+A+", "+f+")");this.lat=+A,this.lng=+f,v!==void 0&&(this.alt=+v)}V.prototype={equals:function(A,f){if(!A)return!1;A=he(A);var v=Math.max(Math.abs(this.lat-A.lat),Math.abs(this.lng-A.lng));return v<=(f===void 0?1e-9:f)},toString:function(A){return"LatLng("+N(this.lat,A)+", "+N(this.lng,A)+")"},distanceTo:function(A){return je.distance(this,he(A))},wrap:function(){return je.wrapLatLng(this)},toBounds:function(A){var f=180*A/40075017,v=f/Math.cos(Math.PI/180*this.lat);return $([this.lat-f,this.lng-v],[this.lat+f,this.lng+v])},clone:function(){return new V(this.lat,this.lng,this.alt)}};function he(A,f,v){return A instanceof V?A:O(A)&&typeof A[0]!="object"?A.length===3?new V(A[0],A[1],A[2]):A.length===2?new V(A[0],A[1]):null:A==null?A:typeof A=="object"&&"lat"in A?new V(A.lat,"lng"in A?A.lng:A.lon,A.alt):f===void 0?null:new V(A,f,v)}var ve={latLngToPoint:function(A,f){var v=this.projection.project(A),E=this.scale(f);return this.transformation._transform(v,E)},pointToLatLng:function(A,f){var v=this.scale(f),E=this.transformation.untransform(A,v);return this.projection.unproject(E)},project:function(A){return this.projection.project(A)},unproject:function(A){return this.projection.unproject(A)},scale:function(A){return 256*Math.pow(2,A)},zoom:function(A){return Math.log(A/256)/Math.LN2},getProjectedBounds:function(A){if(this.infinite)return null;var f=this.projection.bounds,v=this.scale(A),E=this.transformation.transform(f.min,v),D=this.transformation.transform(f.max,v);return new q(E,D)},infinite:!1,wrapLatLng:function(A){var f=this.wrapLng?g(A.lng,this.wrapLng,!0):A.lng,v=this.wrapLat?g(A.lat,this.wrapLat,!0):A.lat,E=A.alt;return new V(v,f,E)},wrapLatLngBounds:function(A){var f=A.getCenter(),v=this.wrapLatLng(f),E=f.lat-v.lat,D=f.lng-v.lng;if(E===0&&D===0)return A;var ie=A.getSouthWest(),Ce=A.getNorthEast(),Oe=new V(ie.lat-E,ie.lng-D),Ze=new V(Ce.lat-E,Ce.lng-D);return new G(Oe,Ze)}},je=i({},ve,{wrapLng:[-180,180],R:6371e3,distance:function(A,f){var v=Math.PI/180,E=A.lat*v,D=f.lat*v,ie=Math.sin((f.lat-A.lat)*v/2),Ce=Math.sin((f.lng-A.lng)*v/2),Oe=ie*ie+Math.cos(E)*Math.cos(D)*Ce*Ce,Ze=2*Math.atan2(Math.sqrt(Oe),Math.sqrt(1-Oe));return this.R*Ze}}),Te=6378137,Je={R:Te,MAX_LATITUDE:85.0511287798,project:function(A){var f=Math.PI/180,v=this.MAX_LATITUDE,E=Math.max(Math.min(v,A.lat),-v),D=Math.sin(E*f);return new ee(this.R*A.lng*f,this.R*Math.log((1+D)/(1-D))/2)},unproject:function(A){var f=180/Math.PI;return new V((2*Math.atan(Math.exp(A.y/this.R))-Math.PI/2)*f,A.x*f/this.R)},bounds:(function(){var A=Te*Math.PI;return new q([-A,-A],[A,A])})()};function Ke(A,f,v,E){if(O(A)){this._a=A[0],this._b=A[1],this._c=A[2],this._d=A[3];return}this._a=A,this._b=f,this._c=v,this._d=E}Ke.prototype={transform:function(A,f){return this._transform(A.clone(),f)},_transform:function(A,f){return f=f||1,A.x=f*(this._a*A.x+this._b),A.y=f*(this._c*A.y+this._d),A},untransform:function(A,f){return f=f||1,new ee((A.x/f-this._b)/this._a,(A.y/f-this._d)/this._c)}};function nt(A,f,v,E){return new Ke(A,f,v,E)}var ft=i({},je,{code:"EPSG:3857",projection:Je,transformation:(function(){var A=.5/(Math.PI*Je.R);return nt(A,.5,-A,.5)})()}),tt=i({},ft,{code:"EPSG:900913"});function pe(A){return document.createElementNS("http://www.w3.org/2000/svg",A)}function Ct(A,f){var v="",E,D,ie,Ce,Oe,Ze;for(E=0,ie=A.length;E<ie;E++){for(Oe=A[E],D=0,Ce=Oe.length;D<Ce;D++)Ze=Oe[D],v+=(D?"L":"M")+Ze.x+" "+Ze.y;v+=f?Ut.svg?"z":"x":""}return v||"M0 0"}var It=document.documentElement.style,zt="ActiveXObject"in window,Ie=zt&&!document.addEventListener,Rt="msLaunchUri"in navigator&&!("documentMode"in document),Lt=Pr("webkit"),Bt=Pr("android"),gt=Pr("android 2")||Pr("android 3"),ir=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),_r=Bt&&Pr("Google")&&ir<537&&!("AudioNode"in window),nr=!!window.opera,xr=!Rt&&Pr("chrome"),$t=Pr("gecko")&&!Lt&&!nr&&!zt,St=!xr&&Pr("safari"),Zt=Pr("phantom"),Tt="OTransition"in It,Vr=navigator.platform.indexOf("Win")===0,gr=zt&&"transition"in It,Vt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!gt,or="MozPerspective"in It,Ht=!window.L_DISABLE_3D&&(gr||Vt||or)&&!Tt&&!Zt,Kt=typeof orientation<"u"||Pr("mobile"),kr=Kt&&Lt,Mt=Kt&&Vt,er=!window.PointerEvent&&window.MSPointerEvent,Ue=!!(window.PointerEvent||er),Xe="ontouchstart"in window||!!window.TouchEvent,at=!window.L_NO_TOUCH&&(Xe||Ue),dt=Kt&&nr,Yt=Kt&&$t,Jt=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,br=(function(){var A=!1;try{var f=Object.defineProperty({},"passive",{get:function(){A=!0}});window.addEventListener("testPassiveEventSupport",b,f),window.removeEventListener("testPassiveEventSupport",b,f)}catch{}return A})(),yn=(function(){return!!document.createElement("canvas").getContext})(),kt=!!(document.createElementNS&&pe("svg").createSVGRect),En=!!kt&&(function(){var A=document.createElement("div");return A.innerHTML="<svg/>",(A.firstChild&&A.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),In=!kt&&(function(){try{var A=document.createElement("div");A.innerHTML='<v:shape adj="1"/>';var f=A.firstChild;return f.style.behavior="url(#default#VML)",f&&typeof f.adj=="object"}catch{return!1}})(),an=navigator.platform.indexOf("Mac")===0,Wr=navigator.platform.indexOf("Linux")===0;function Pr(A){return navigator.userAgent.toLowerCase().indexOf(A)>=0}var Ut={ie:zt,ielt9:Ie,edge:Rt,webkit:Lt,android:Bt,android23:gt,androidStock:_r,opera:nr,chrome:xr,gecko:$t,safari:St,phantom:Zt,opera12:Tt,win:Vr,ie3d:gr,webkit3d:Vt,gecko3d:or,any3d:Ht,mobile:Kt,mobileWebkit:kr,mobileWebkit3d:Mt,msPointer:er,pointer:Ue,touch:at,touchNative:Xe,mobileOpera:dt,mobileGecko:Yt,retina:Jt,passiveEvents:br,canvas:yn,svg:kt,vml:In,inlineSvg:En,mac:an,linux:Wr},nn=Ut.msPointer?"MSPointerDown":"pointerdown",fe=Ut.msPointer?"MSPointerMove":"pointermove",De=Ut.msPointer?"MSPointerUp":"pointerup",$e=Ut.msPointer?"MSPointerCancel":"pointercancel",xe={touchstart:nn,touchmove:fe,touchend:De,touchcancel:$e},Me={touchstart:ut,touchmove:re,touchend:re,touchcancel:re},We={},yt=!1;function Gt(A,f,v){return f==="touchstart"&&on(),Me[f]?(v=Me[f].bind(this,v),A.addEventListener(xe[f],v,!1),v):(console.warn("wrong event specified:",f),b)}function Cr(A,f,v){if(!xe[f]){console.warn("wrong event specified:",f);return}A.removeEventListener(xe[f],v,!1)}function Hr(A){We[A.pointerId]=A}function dn(A){We[A.pointerId]&&(We[A.pointerId]=A)}function Ar(A){delete We[A.pointerId]}function on(){yt||(document.addEventListener(nn,Hr,!0),document.addEventListener(fe,dn,!0),document.addEventListener(De,Ar,!0),document.addEventListener($e,Ar,!0),yt=!0)}function re(A,f){if(f.pointerType!==(f.MSPOINTER_TYPE_MOUSE||"mouse")){f.touches=[];for(var v in We)f.touches.push(We[v]);f.changedTouches=[f],A(f)}}function ut(A,f){f.MSPOINTER_TYPE_TOUCH&&f.pointerType===f.MSPOINTER_TYPE_TOUCH&&zn(f),re(A,f)}function it(A){var f={},v,E;for(E in A)v=A[E],f[E]=v&&v.bind?v.bind(A):v;return A=f,f.type="dblclick",f.detail=2,f.isTrusted=!1,f._simulated=!0,f}var wt=200;function Xt(A,f){A.addEventListener("dblclick",f);var v=0,E;function D(ie){if(ie.detail!==1){E=ie.detail;return}if(!(ie.pointerType==="mouse"||ie.sourceCapabilities&&!ie.sourceCapabilities.firesTouchEvents)){var Ce=Xa(ie);if(!(Ce.some(function(Ze){return Ze instanceof HTMLLabelElement&&Ze.attributes.for})&&!Ce.some(function(Ze){return Ze instanceof HTMLInputElement||Ze instanceof HTMLSelectElement}))){var Oe=Date.now();Oe-v<=wt?(E++,E===2&&f(it(ie))):E=1,v=Oe}}}return A.addEventListener("click",D),{dblclick:f,simDblclick:D}}function yr(A,f){A.removeEventListener("dblclick",f.dblclick),A.removeEventListener("click",f.simDblclick)}var qr=Et(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),fn=Et(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Vn=fn==="webkitTransition"||fn==="OTransition"?fn+"End":"transitionend";function Zr(A){return typeof A=="string"?document.getElementById(A):A}function es(A,f){var v=A.style[f]||A.currentStyle&&A.currentStyle[f];if((!v||v==="auto")&&document.defaultView){var E=document.defaultView.getComputedStyle(A,null);v=E?E[f]:null}return v==="auto"?null:v}function ur(A,f,v){var E=document.createElement(A);return E.className=f||"",v&&v.appendChild(E),E}function Lr(A){var f=A.parentNode;f&&f.removeChild(A)}function xs(A){for(;A.firstChild;)A.removeChild(A.firstChild)}function $r(A){var f=A.parentNode;f&&f.lastChild!==A&&f.appendChild(A)}function Ca(A){var f=A.parentNode;f&&f.firstChild!==A&&f.insertBefore(A,f.firstChild)}function Rs(A,f){if(A.classList!==void 0)return A.classList.contains(f);var v=ln(A);return v.length>0&&new RegExp("(^|\\s)"+f+"(\\s|$)").test(v)}function Er(A,f){if(A.classList!==void 0)for(var v=C(f),E=0,D=v.length;E<D;E++)A.classList.add(v[E]);else if(!Rs(A,f)){var ie=ln(A);cn(A,(ie?ie+" ":"")+f)}}function wr(A,f){A.classList!==void 0?A.classList.remove(f):cn(A,w((" "+ln(A)+" ").replace(" "+f+" "," ")))}function cn(A,f){A.className.baseVal===void 0?A.className=f:A.className.baseVal=f}function ln(A){return A.correspondingElement&&(A=A.correspondingElement),A.className.baseVal===void 0?A.className:A.className.baseVal}function Be(A,f){"opacity"in A.style?A.style.opacity=f:"filter"in A.style&&st(A,f)}function st(A,f){var v=!1,E="DXImageTransform.Microsoft.Alpha";try{v=A.filters.item(E)}catch{if(f===1)return}f=Math.round(f*100),v?(v.Enabled=f!==100,v.Opacity=f):A.style.filter+=" progid:"+E+"(opacity="+f+")"}function Et(A){for(var f=document.documentElement.style,v=0;v<A.length;v++)if(A[v]in f)return A[v];return!1}function Nt(A,f,v){var E=f||new ee(0,0);A.style[qr]=(Ut.ie3d?"translate("+E.x+"px,"+E.y+"px)":"translate3d("+E.x+"px,"+E.y+"px,0)")+(v?" scale("+v+")":"")}function Ot(A,f){A._leaflet_pos=f,Ut.any3d?Nt(A,f):(A.style.left=f.x+"px",A.style.top=f.y+"px")}function Rr(A){return A._leaflet_pos||new ee(0,0)}var Qt,sr,Ir;if("onselectstart"in document)Qt=function(){Ft(window,"selectstart",zn)},sr=function(){Sn(window,"selectstart",zn)};else{var pn=Et(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Qt=function(){if(pn){var A=document.documentElement.style;Ir=A[pn],A[pn]="none"}},sr=function(){pn&&(document.documentElement.style[pn]=Ir,Ir=void 0)}}function Ea(){Ft(window,"dragstart",zn)}function ts(){Sn(window,"dragstart",zn)}var di,ki;function us(A){for(;A.tabIndex===-1;)A=A.parentNode;A.style&&(Gs(),di=A,ki=A.style.outlineStyle,A.style.outlineStyle="none",Ft(window,"keydown",Gs))}function Gs(){di&&(di.style.outlineStyle=ki,di=void 0,ki=void 0,Sn(window,"keydown",Gs))}function Pi(A){do A=A.parentNode;while((!A.offsetWidth||!A.offsetHeight)&&A!==document.body);return A}function fo(A){var f=A.getBoundingClientRect();return{x:f.width/A.offsetWidth||1,y:f.height/A.offsetHeight||1,boundingClientRect:f}}var Oo={__proto__:null,TRANSFORM:qr,TRANSITION:fn,TRANSITION_END:Vn,get:Zr,getStyle:es,create:ur,remove:Lr,empty:xs,toFront:$r,toBack:Ca,hasClass:Rs,addClass:Er,removeClass:wr,setClass:cn,getClass:ln,setOpacity:Be,testProp:Et,setTransform:Nt,setPosition:Ot,getPosition:Rr,get disableTextSelection(){return Qt},get enableTextSelection(){return sr},disableImageDrag:Ea,enableImageDrag:ts,preventOutline:us,restoreOutline:Gs,getSizedParentNode:Pi,getScale:fo};function Ft(A,f,v,E){if(f&&typeof f=="object")for(var D in f)Ds(A,D,f[D],v);else{f=C(f);for(var ie=0,Ce=f.length;ie<Ce;ie++)Ds(A,f[ie],v,E)}return this}var $a="_leaflet_events";function Sn(A,f,v,E){if(arguments.length===1)iA(A),delete A[$a];else if(f&&typeof f=="object")for(var D in f)nl(A,D,f[D],v);else if(f=C(f),arguments.length===2)iA(A,function(Oe){return M(f,Oe)!==-1});else for(var ie=0,Ce=f.length;ie<Ce;ie++)nl(A,f[ie],v,E);return this}function iA(A,f){for(var v in A[$a]){var E=v.split(/\d/)[0];(!f||f(E))&&nl(A,E,null,null,v)}}var Sa={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ds(A,f,v,E){var D=f+h(v)+(E?"_"+h(E):"");if(A[$a]&&A[$a][D])return this;var ie=function(Oe){return v.call(E||A,Oe||window.event)},Ce=ie;!Ut.touchNative&&Ut.pointer&&f.indexOf("touch")===0?ie=Gt(A,f,ie):Ut.touch&&f==="dblclick"?ie=Xt(A,ie):"addEventListener"in A?f==="touchstart"||f==="touchmove"||f==="wheel"||f==="mousewheel"?A.addEventListener(Sa[f]||f,ie,Ut.passiveEvents?{passive:!1}:!1):f==="mouseenter"||f==="mouseleave"?(ie=function(Oe){Oe=Oe||window.event,hi(A,Oe)&&Ce(Oe)},A.addEventListener(Sa[f],ie,!1)):A.addEventListener(f,Ce,!1):A.attachEvent("on"+f,ie),A[$a]=A[$a]||{},A[$a][D]=ie}function nl(A,f,v,E,D){D=D||f+h(v)+(E?"_"+h(E):"");var ie=A[$a]&&A[$a][D];if(!ie)return this;!Ut.touchNative&&Ut.pointer&&f.indexOf("touch")===0?Cr(A,f,ie):Ut.touch&&f==="dblclick"?yr(A,ie):"removeEventListener"in A?A.removeEventListener(Sa[f]||f,ie,!1):A.detachEvent("on"+f,ie),A[$a][D]=null}function Za(A){return A.stopPropagation?A.stopPropagation():A.originalEvent?A.originalEvent._stopped=!0:A.cancelBubble=!0,this}function ja(A){return Ds(A,"wheel",Za),this}function Li(A){return Ft(A,"mousedown touchstart dblclick contextmenu",Za),A._leaflet_disable_click=!0,this}function zn(A){return A.preventDefault?A.preventDefault():A.returnValue=!1,this}function Hi(A){return zn(A),Za(A),this}function Xa(A){if(A.composedPath)return A.composedPath();for(var f=[],v=A.target;v;)f.push(v),v=v.parentNode;return f}function sl(A,f){if(!f)return new ee(A.clientX,A.clientY);var v=fo(f),E=v.boundingClientRect;return new ee((A.clientX-E.left)/v.x-f.clientLeft,(A.clientY-E.top)/v.y-f.clientTop)}var jl=Ut.linux&&Ut.chrome?window.devicePixelRatio:Ut.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Ms(A){return Ut.edge?A.wheelDeltaY/2:A.deltaY&&A.deltaMode===0?-A.deltaY/jl:A.deltaY&&A.deltaMode===1?-A.deltaY*20:A.deltaY&&A.deltaMode===2?-A.deltaY*60:A.deltaX||A.deltaZ?0:A.wheelDelta?(A.wheelDeltaY||A.wheelDelta)/2:A.detail&&Math.abs(A.detail)<32765?-A.detail*20:A.detail?A.detail/-32765*60:0}function hi(A,f){var v=f.relatedTarget;if(!v)return!0;try{for(;v&&v!==A;)v=v.parentNode}catch{return!1}return v!==A}var fi={__proto__:null,on:Ft,off:Sn,stopPropagation:Za,disableScrollPropagation:ja,disableClickPropagation:Li,preventDefault:zn,stop:Hi,getPropagationPath:Xa,getMousePosition:sl,getWheelDelta:Ms,isExternalTarget:hi,addListener:Ft,removeListener:Sn},qi=Ae.extend({run:function(A,f,v,E){this.stop(),this._el=A,this._inProgress=!0,this._duration=v||.25,this._easeOutPower=1/Math.max(E||.5,.2),this._startPos=Rr(A),this._offset=f.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Z(this._animate,this),this._step()},_step:function(A){var f=+new Date-this._startTime,v=this._duration*1e3;f<v?this._runFrame(this._easeOut(f/v),A):(this._runFrame(1),this._complete())},_runFrame:function(A,f){var v=this._startPos.add(this._offset.multiplyBy(A));f&&v._round(),Ot(this._el,v),this.fire("step")},_complete:function(){W(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(A){return 1-Math.pow(1-A,this._easeOutPower)}}),en=Ae.extend({options:{crs:ft,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(A,f){f=U(this,f),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(A),this._initLayout(),this._onResize=u(this._onResize,this),this._initEvents(),f.maxBounds&&this.setMaxBounds(f.maxBounds),f.zoom!==void 0&&(this._zoom=this._limitZoom(f.zoom)),f.center&&f.zoom!==void 0&&this.setView(he(f.center),f.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=fn&&Ut.any3d&&!Ut.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ft(this._proxy,Vn,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(A,f,v){if(f=f===void 0?this._zoom:this._limitZoom(f),A=this._limitCenter(he(A),f,this.options.maxBounds),v=v||{},this._stop(),this._loaded&&!v.reset&&v!==!0){v.animate!==void 0&&(v.zoom=i({animate:v.animate},v.zoom),v.pan=i({animate:v.animate,duration:v.duration},v.pan));var E=this._zoom!==f?this._tryAnimatedZoom&&this._tryAnimatedZoom(A,f,v.zoom):this._tryAnimatedPan(A,v.pan);if(E)return clearTimeout(this._sizeTimer),this}return this._resetView(A,f,v.pan&&v.pan.noMoveStart),this},setZoom:function(A,f){return this._loaded?this.setView(this.getCenter(),A,{zoom:f}):(this._zoom=A,this)},zoomIn:function(A,f){return A=A||(Ut.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+A,f)},zoomOut:function(A,f){return A=A||(Ut.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-A,f)},setZoomAround:function(A,f,v){var E=this.getZoomScale(f),D=this.getSize().divideBy(2),ie=A instanceof ee?A:this.latLngToContainerPoint(A),Ce=ie.subtract(D).multiplyBy(1-1/E),Oe=this.containerPointToLatLng(D.add(Ce));return this.setView(Oe,f,{zoom:v})},_getBoundsCenterZoom:function(A,f){f=f||{},A=A.getBounds?A.getBounds():$(A);var v=Ne(f.paddingTopLeft||f.padding||[0,0]),E=Ne(f.paddingBottomRight||f.padding||[0,0]),D=this.getBoundsZoom(A,!1,v.add(E));if(D=typeof f.maxZoom=="number"?Math.min(f.maxZoom,D):D,D===1/0)return{center:A.getCenter(),zoom:D};var ie=E.subtract(v).divideBy(2),Ce=this.project(A.getSouthWest(),D),Oe=this.project(A.getNorthEast(),D),Ze=this.unproject(Ce.add(Oe).divideBy(2).add(ie),D);return{center:Ze,zoom:D}},fitBounds:function(A,f){if(A=$(A),!A.isValid())throw new Error("Bounds are not valid.");var v=this._getBoundsCenterZoom(A,f);return this.setView(v.center,v.zoom,f)},fitWorld:function(A){return this.fitBounds([[-90,-180],[90,180]],A)},panTo:function(A,f){return this.setView(A,this._zoom,{pan:f})},panBy:function(A,f){if(A=Ne(A).round(),f=f||{},!A.x&&!A.y)return this.fire("moveend");if(f.animate!==!0&&!this.getSize().contains(A))return this._resetView(this.unproject(this.project(this.getCenter()).add(A)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new qi,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),f.noMoveStart||this.fire("movestart"),f.animate!==!1){Er(this._mapPane,"leaflet-pan-anim");var v=this._getMapPanePos().subtract(A).round();this._panAnim.run(this._mapPane,v,f.duration||.25,f.easeLinearity)}else this._rawPanBy(A),this.fire("move").fire("moveend");return this},flyTo:function(A,f,v){if(v=v||{},v.animate===!1||!Ut.any3d)return this.setView(A,f,v);this._stop();var E=this.project(this.getCenter()),D=this.project(A),ie=this.getSize(),Ce=this._zoom;A=he(A),f=f===void 0?Ce:f;var Oe=Math.max(ie.x,ie.y),Ze=Oe*this.getZoomScale(Ce,f),pt=D.distanceTo(E)||1,Pt=1.42,hr=Pt*Pt;function tn(On){var ks=On?-1:1,cl=On?Ze:Oe,Cc=Ze*Ze-Oe*Oe+ks*hr*hr*pt*pt,Rl=2*cl*hr*pt,Dl=Cc/Rl,No=Math.sqrt(Dl*Dl+1)-Dl,Ji=No<1e-9?-18:Math.log(No);return Ji}function ua(On){return(Math.exp(On)-Math.exp(-On))/2}function ws(On){return(Math.exp(On)+Math.exp(-On))/2}function si(On){return ua(On)/ws(On)}var jn=tn(0);function Un(On){return Oe*(ws(jn)/ws(jn+Pt*On))}function hn(On){return Oe*(ws(jn)*si(jn+Pt*On)-ua(jn))/hr}function Ta(On){return 1-Math.pow(1-On,1.5)}var fs=Date.now(),yi=(tn(1)-jn)/Pt,qo=v.duration?1e3*v.duration:1e3*yi*.8;function PA(){var On=(Date.now()-fs)/qo,ks=Ta(On)*yi;On<=1?(this._flyToFrame=Z(PA,this),this._move(this.unproject(E.add(D.subtract(E).multiplyBy(hn(ks)/pt)),Ce),this.getScaleZoom(Oe/Un(ks),Ce),{flyTo:!0})):this._move(A,f)._moveEnd(!0)}return this._moveStart(!0,v.noMoveStart),PA.call(this),this},flyToBounds:function(A,f){var v=this._getBoundsCenterZoom(A,f);return this.flyTo(v.center,v.zoom,f)},setMaxBounds:function(A){return A=$(A),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),A.isValid()?(this.options.maxBounds=A,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(A){var f=this.options.minZoom;return this.options.minZoom=A,this._loaded&&f!==A&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(A):this},setMaxZoom:function(A){var f=this.options.maxZoom;return this.options.maxZoom=A,this._loaded&&f!==A&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(A):this},panInsideBounds:function(A,f){this._enforcingBounds=!0;var v=this.getCenter(),E=this._limitCenter(v,this._zoom,$(A));return v.equals(E)||this.panTo(E,f),this._enforcingBounds=!1,this},panInside:function(A,f){f=f||{};var v=Ne(f.paddingTopLeft||f.padding||[0,0]),E=Ne(f.paddingBottomRight||f.padding||[0,0]),D=this.project(this.getCenter()),ie=this.project(A),Ce=this.getPixelBounds(),Oe=F([Ce.min.add(v),Ce.max.subtract(E)]),Ze=Oe.getSize();if(!Oe.contains(ie)){this._enforcingBounds=!0;var pt=ie.subtract(Oe.getCenter()),Pt=Oe.extend(ie).getSize().subtract(Ze);D.x+=pt.x<0?-Pt.x:Pt.x,D.y+=pt.y<0?-Pt.y:Pt.y,this.panTo(this.unproject(D),f),this._enforcingBounds=!1}return this},invalidateSize:function(A){if(!this._loaded)return this;A=i({animate:!1,pan:!0},A===!0?{animate:!0}:A);var f=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var v=this.getSize(),E=f.divideBy(2).round(),D=v.divideBy(2).round(),ie=E.subtract(D);return!ie.x&&!ie.y?this:(A.animate&&A.pan?this.panBy(ie):(A.pan&&this._rawPanBy(ie),this.fire("move"),A.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(u(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:f,newSize:v}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(A){if(A=this._locateOptions=i({timeout:1e4,watch:!1},A),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var f=u(this._handleGeolocationResponse,this),v=u(this._handleGeolocationError,this);return A.watch?this._locationWatchId=navigator.geolocation.watchPosition(f,v,A):navigator.geolocation.getCurrentPosition(f,v,A),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(A){if(this._container._leaflet_id){var f=A.code,v=A.message||(f===1?"permission denied":f===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:f,message:"Geolocation error: "+v+"."})}},_handleGeolocationResponse:function(A){if(this._container._leaflet_id){var f=A.coords.latitude,v=A.coords.longitude,E=new V(f,v),D=E.toBounds(A.coords.accuracy*2),ie=this._locateOptions;if(ie.setView){var Ce=this.getBoundsZoom(D);this.setView(E,ie.maxZoom?Math.min(Ce,ie.maxZoom):Ce)}var Oe={latlng:E,bounds:D,timestamp:A.timestamp};for(var Ze in A.coords)typeof A.coords[Ze]=="number"&&(Oe[Ze]=A.coords[Ze]);this.fire("locationfound",Oe)}},addHandler:function(A,f){if(!f)return this;var v=this[A]=new f(this);return this._handlers.push(v),this.options[A]&&v.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Lr(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(W(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var A;for(A in this._layers)this._layers[A].remove();for(A in this._panes)Lr(this._panes[A]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(A,f){var v="leaflet-pane"+(A?" leaflet-"+A.replace("Pane","")+"-pane":""),E=ur("div",v,f||this._mapPane);return A&&(this._panes[A]=E),E},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var A=this.getPixelBounds(),f=this.unproject(A.getBottomLeft()),v=this.unproject(A.getTopRight());return new G(f,v)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(A,f,v){A=$(A),v=Ne(v||[0,0]);var E=this.getZoom()||0,D=this.getMinZoom(),ie=this.getMaxZoom(),Ce=A.getNorthWest(),Oe=A.getSouthEast(),Ze=this.getSize().subtract(v),pt=F(this.project(Oe,E),this.project(Ce,E)).getSize(),Pt=Ut.any3d?this.options.zoomSnap:1,hr=Ze.x/pt.x,tn=Ze.y/pt.y,ua=f?Math.max(hr,tn):Math.min(hr,tn);return E=this.getScaleZoom(ua,E),Pt&&(E=Math.round(E/(Pt/100))*(Pt/100),E=f?Math.ceil(E/Pt)*Pt:Math.floor(E/Pt)*Pt),Math.max(D,Math.min(ie,E))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ee(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(A,f){var v=this._getTopLeftPoint(A,f);return new q(v,v.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(A){return this.options.crs.getProjectedBounds(A===void 0?this.getZoom():A)},getPane:function(A){return typeof A=="string"?this._panes[A]:A},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(A,f){var v=this.options.crs;return f=f===void 0?this._zoom:f,v.scale(A)/v.scale(f)},getScaleZoom:function(A,f){var v=this.options.crs;f=f===void 0?this._zoom:f;var E=v.zoom(A*v.scale(f));return isNaN(E)?1/0:E},project:function(A,f){return f=f===void 0?this._zoom:f,this.options.crs.latLngToPoint(he(A),f)},unproject:function(A,f){return f=f===void 0?this._zoom:f,this.options.crs.pointToLatLng(Ne(A),f)},layerPointToLatLng:function(A){var f=Ne(A).add(this.getPixelOrigin());return this.unproject(f)},latLngToLayerPoint:function(A){var f=this.project(he(A))._round();return f._subtract(this.getPixelOrigin())},wrapLatLng:function(A){return this.options.crs.wrapLatLng(he(A))},wrapLatLngBounds:function(A){return this.options.crs.wrapLatLngBounds($(A))},distance:function(A,f){return this.options.crs.distance(he(A),he(f))},containerPointToLayerPoint:function(A){return Ne(A).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(A){return Ne(A).add(this._getMapPanePos())},containerPointToLatLng:function(A){var f=this.containerPointToLayerPoint(Ne(A));return this.layerPointToLatLng(f)},latLngToContainerPoint:function(A){return this.layerPointToContainerPoint(this.latLngToLayerPoint(he(A)))},mouseEventToContainerPoint:function(A){return sl(A,this._container)},mouseEventToLayerPoint:function(A){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(A))},mouseEventToLatLng:function(A){return this.layerPointToLatLng(this.mouseEventToLayerPoint(A))},_initContainer:function(A){var f=this._container=Zr(A);if(f){if(f._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ft(f,"scroll",this._onScroll,this),this._containerId=h(f)},_initLayout:function(){var A=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ut.any3d,Er(A,"leaflet-container"+(Ut.touch?" leaflet-touch":"")+(Ut.retina?" leaflet-retina":"")+(Ut.ielt9?" leaflet-oldie":"")+(Ut.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var f=es(A,"position");f!=="absolute"&&f!=="relative"&&f!=="fixed"&&f!=="sticky"&&(A.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var A=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ot(this._mapPane,new ee(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Er(A.markerPane,"leaflet-zoom-hide"),Er(A.shadowPane,"leaflet-zoom-hide"))},_resetView:function(A,f,v){Ot(this._mapPane,new ee(0,0));var E=!this._loaded;this._loaded=!0,f=this._limitZoom(f),this.fire("viewprereset");var D=this._zoom!==f;this._moveStart(D,v)._move(A,f)._moveEnd(D),this.fire("viewreset"),E&&this.fire("load")},_moveStart:function(A,f){return A&&this.fire("zoomstart"),f||this.fire("movestart"),this},_move:function(A,f,v,E){f===void 0&&(f=this._zoom);var D=this._zoom!==f;return this._zoom=f,this._lastCenter=A,this._pixelOrigin=this._getNewPixelOrigin(A),E?v&&v.pinch&&this.fire("zoom",v):((D||v&&v.pinch)&&this.fire("zoom",v),this.fire("move",v)),this},_moveEnd:function(A){return A&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return W(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(A){Ot(this._mapPane,this._getMapPanePos().subtract(A))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(A){this._targets={},this._targets[h(this._container)]=this;var f=A?Sn:Ft;f(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&f(window,"resize",this._onResize,this),Ut.any3d&&this.options.transform3DLimit&&(A?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){W(this._resizeRequest),this._resizeRequest=Z(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var A=this._getMapPanePos();Math.max(Math.abs(A.x),Math.abs(A.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(A,f){for(var v=[],E,D=f==="mouseout"||f==="mouseover",ie=A.target||A.srcElement,Ce=!1;ie;){if(E=this._targets[h(ie)],E&&(f==="click"||f==="preclick")&&this._draggableMoved(E)){Ce=!0;break}if(E&&E.listens(f,!0)&&(D&&!hi(ie,A)||(v.push(E),D))||ie===this._container)break;ie=ie.parentNode}return!v.length&&!Ce&&!D&&this.listens(f,!0)&&(v=[this]),v},_isClickDisabled:function(A){for(;A&&A!==this._container;){if(A._leaflet_disable_click)return!0;A=A.parentNode}},_handleDOMEvent:function(A){var f=A.target||A.srcElement;if(!(!this._loaded||f._leaflet_disable_events||A.type==="click"&&this._isClickDisabled(f))){var v=A.type;v==="mousedown"&&us(f),this._fireDOMEvent(A,v)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(A,f,v){if(A.type==="click"){var E=i({},A);E.type="preclick",this._fireDOMEvent(E,E.type,v)}var D=this._findEventTargets(A,f);if(v){for(var ie=[],Ce=0;Ce<v.length;Ce++)v[Ce].listens(f,!0)&&ie.push(v[Ce]);D=ie.concat(D)}if(D.length){f==="contextmenu"&&zn(A);var Oe=D[0],Ze={originalEvent:A};if(A.type!=="keypress"&&A.type!=="keydown"&&A.type!=="keyup"){var pt=Oe.getLatLng&&(!Oe._radius||Oe._radius<=10);Ze.containerPoint=pt?this.latLngToContainerPoint(Oe.getLatLng()):this.mouseEventToContainerPoint(A),Ze.layerPoint=this.containerPointToLayerPoint(Ze.containerPoint),Ze.latlng=pt?Oe.getLatLng():this.layerPointToLatLng(Ze.layerPoint)}for(Ce=0;Ce<D.length;Ce++)if(D[Ce].fire(f,Ze,!0),Ze.originalEvent._stopped||D[Ce].options.bubblingMouseEvents===!1&&M(this._mouseEvents,f)!==-1)return}},_draggableMoved:function(A){return A=A.dragging&&A.dragging.enabled()?A:this,A.dragging&&A.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var A=0,f=this._handlers.length;A<f;A++)this._handlers[A].disable()},whenReady:function(A,f){return this._loaded?A.call(f||this,{target:this}):this.on("load",A,f),this},_getMapPanePos:function(){return Rr(this._mapPane)||new ee(0,0)},_moved:function(){var A=this._getMapPanePos();return A&&!A.equals([0,0])},_getTopLeftPoint:function(A,f){var v=A&&f!==void 0?this._getNewPixelOrigin(A,f):this.getPixelOrigin();return v.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(A,f){var v=this.getSize()._divideBy(2);return this.project(A,f)._subtract(v)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(A,f,v){var E=this._getNewPixelOrigin(v,f);return this.project(A,f)._subtract(E)},_latLngBoundsToNewLayerBounds:function(A,f,v){var E=this._getNewPixelOrigin(v,f);return F([this.project(A.getSouthWest(),f)._subtract(E),this.project(A.getNorthWest(),f)._subtract(E),this.project(A.getSouthEast(),f)._subtract(E),this.project(A.getNorthEast(),f)._subtract(E)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(A){return this.latLngToLayerPoint(A).subtract(this._getCenterLayerPoint())},_limitCenter:function(A,f,v){if(!v)return A;var E=this.project(A,f),D=this.getSize().divideBy(2),ie=new q(E.subtract(D),E.add(D)),Ce=this._getBoundsOffset(ie,v,f);return Math.abs(Ce.x)<=1&&Math.abs(Ce.y)<=1?A:this.unproject(E.add(Ce),f)},_limitOffset:function(A,f){if(!f)return A;var v=this.getPixelBounds(),E=new q(v.min.add(A),v.max.add(A));return A.add(this._getBoundsOffset(E,f))},_getBoundsOffset:function(A,f,v){var E=F(this.project(f.getNorthEast(),v),this.project(f.getSouthWest(),v)),D=E.min.subtract(A.min),ie=E.max.subtract(A.max),Ce=this._rebound(D.x,-ie.x),Oe=this._rebound(D.y,-ie.y);return new ee(Ce,Oe)},_rebound:function(A,f){return A+f>0?Math.round(A-f)/2:Math.max(0,Math.ceil(A))-Math.max(0,Math.floor(f))},_limitZoom:function(A){var f=this.getMinZoom(),v=this.getMaxZoom(),E=Ut.any3d?this.options.zoomSnap:1;return E&&(A=Math.round(A/E)*E),Math.max(f,Math.min(v,A))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){wr(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(A,f){var v=this._getCenterOffset(A)._trunc();return(f&&f.animate)!==!0&&!this.getSize().contains(v)?!1:(this.panBy(v,f),!0)},_createAnimProxy:function(){var A=this._proxy=ur("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(A),this.on("zoomanim",function(f){var v=qr,E=this._proxy.style[v];Nt(this._proxy,this.project(f.center,f.zoom),this.getZoomScale(f.zoom,1)),E===this._proxy.style[v]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Lr(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var A=this.getCenter(),f=this.getZoom();Nt(this._proxy,this.project(A,f),this.getZoomScale(f,1))},_catchTransitionEnd:function(A){this._animatingZoom&&A.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(A,f,v){if(this._animatingZoom)return!0;if(v=v||{},!this._zoomAnimated||v.animate===!1||this._nothingToAnimate()||Math.abs(f-this._zoom)>this.options.zoomAnimationThreshold)return!1;var E=this.getZoomScale(f),D=this._getCenterOffset(A)._divideBy(1-1/E);return v.animate!==!0&&!this.getSize().contains(D)?!1:(Z(function(){this._moveStart(!0,v.noMoveStart||!1)._animateZoom(A,f,!0)},this),!0)},_animateZoom:function(A,f,v,E){this._mapPane&&(v&&(this._animatingZoom=!0,this._animateToCenter=A,this._animateToZoom=f,Er(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:A,zoom:f,noUpdate:E}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(u(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&wr(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function al(A,f){return new en(A,f)}var Ps=K.extend({options:{position:"topright"},initialize:function(A){U(this,A)},getPosition:function(){return this.options.position},setPosition:function(A){var f=this._map;return f&&f.removeControl(this),this.options.position=A,f&&f.addControl(this),this},getContainer:function(){return this._container},addTo:function(A){this.remove(),this._map=A;var f=this._container=this.onAdd(A),v=this.getPosition(),E=A._controlCorners[v];return Er(f,"leaflet-control"),v.indexOf("bottom")!==-1?E.insertBefore(f,E.firstChild):E.appendChild(f),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Lr(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(A){this._map&&A&&A.screenX>0&&A.screenY>0&&this._map.getContainer().focus()}}),Ya=function(A){return new Ps(A)};en.include({addControl:function(A){return A.addTo(this),this},removeControl:function(A){return A.remove(),this},_initControlPos:function(){var A=this._controlCorners={},f="leaflet-",v=this._controlContainer=ur("div",f+"control-container",this._container);function E(D,ie){var Ce=f+D+" "+f+ie;A[D+ie]=ur("div",Ce,v)}E("top","left"),E("top","right"),E("bottom","left"),E("bottom","right")},_clearControlPos:function(){for(var A in this._controlCorners)Lr(this._controlCorners[A]);Lr(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Ro=Ps.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(A,f,v,E){return v<E?-1:E<v?1:0}},initialize:function(A,f,v){U(this,v),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var E in A)this._addLayer(A[E],E);for(E in f)this._addLayer(f[E],E,!0)},onAdd:function(A){this._initLayout(),this._update(),this._map=A,A.on("zoomend",this._checkDisabledLayers,this);for(var f=0;f<this._layers.length;f++)this._layers[f].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(A){return Ps.prototype.addTo.call(this,A),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var A=0;A<this._layers.length;A++)this._layers[A].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(A,f){return this._addLayer(A,f),this._map?this._update():this},addOverlay:function(A,f){return this._addLayer(A,f,!0),this._map?this._update():this},removeLayer:function(A){A.off("add remove",this._onLayerChange,this);var f=this._getLayer(h(A));return f&&this._layers.splice(this._layers.indexOf(f),1),this._map?this._update():this},expand:function(){Er(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var A=this._map.getSize().y-(this._container.offsetTop+50);return A<this._section.clientHeight?(Er(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=A+"px"):wr(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return wr(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var A="leaflet-control-layers",f=this._container=ur("div",A),v=this.options.collapsed;f.setAttribute("aria-haspopup",!0),Li(f),ja(f);var E=this._section=ur("section",A+"-list");v&&(this._map.on("click",this.collapse,this),Ft(f,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var D=this._layersLink=ur("a",A+"-toggle",f);D.href="#",D.title="Layers",D.setAttribute("role","button"),Ft(D,{keydown:function(ie){ie.keyCode===13&&this._expandSafely()},click:function(ie){zn(ie),this._expandSafely()}},this),v||this.expand(),this._baseLayersList=ur("div",A+"-base",E),this._separator=ur("div",A+"-separator",E),this._overlaysList=ur("div",A+"-overlays",E),f.appendChild(E)},_getLayer:function(A){for(var f=0;f<this._layers.length;f++)if(this._layers[f]&&h(this._layers[f].layer)===A)return this._layers[f]},_addLayer:function(A,f,v){this._map&&A.on("add remove",this._onLayerChange,this),this._layers.push({layer:A,name:f,overlay:v}),this.options.sortLayers&&this._layers.sort(u(function(E,D){return this.options.sortFunction(E.layer,D.layer,E.name,D.name)},this)),this.options.autoZIndex&&A.setZIndex&&(this._lastZIndex++,A.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;xs(this._baseLayersList),xs(this._overlaysList),this._layerControlInputs=[];var A,f,v,E,D=0;for(v=0;v<this._layers.length;v++)E=this._layers[v],this._addItem(E),f=f||E.overlay,A=A||!E.overlay,D+=E.overlay?0:1;return this.options.hideSingleBase&&(A=A&&D>1,this._baseLayersList.style.display=A?"":"none"),this._separator.style.display=f&&A?"":"none",this},_onLayerChange:function(A){this._handlingClick||this._update();var f=this._getLayer(h(A.target)),v=f.overlay?A.type==="add"?"overlayadd":"overlayremove":A.type==="add"?"baselayerchange":null;v&&this._map.fire(v,f)},_createRadioElement:function(A,f){var v='<input type="radio" class="leaflet-control-layers-selector" name="'+A+'"'+(f?' checked="checked"':"")+"/>",E=document.createElement("div");return E.innerHTML=v,E.firstChild},_addItem:function(A){var f=document.createElement("label"),v=this._map.hasLayer(A.layer),E;A.overlay?(E=document.createElement("input"),E.type="checkbox",E.className="leaflet-control-layers-selector",E.defaultChecked=v):E=this._createRadioElement("leaflet-base-layers_"+h(this),v),this._layerControlInputs.push(E),E.layerId=h(A.layer),Ft(E,"click",this._onInputClick,this);var D=document.createElement("span");D.innerHTML=" "+A.name;var ie=document.createElement("span");f.appendChild(ie),ie.appendChild(E),ie.appendChild(D);var Ce=A.overlay?this._overlaysList:this._baseLayersList;return Ce.appendChild(f),this._checkDisabledLayers(),f},_onInputClick:function(){if(!this._preventClick){var A=this._layerControlInputs,f,v,E=[],D=[];this._handlingClick=!0;for(var ie=A.length-1;ie>=0;ie--)f=A[ie],v=this._getLayer(f.layerId).layer,f.checked?E.push(v):f.checked||D.push(v);for(ie=0;ie<D.length;ie++)this._map.hasLayer(D[ie])&&this._map.removeLayer(D[ie]);for(ie=0;ie<E.length;ie++)this._map.hasLayer(E[ie])||this._map.addLayer(E[ie]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var A=this._layerControlInputs,f,v,E=this._map.getZoom(),D=A.length-1;D>=0;D--)f=A[D],v=this._getLayer(f.layerId).layer,f.disabled=v.options.minZoom!==void 0&&E<v.options.minZoom||v.options.maxZoom!==void 0&&E>v.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var A=this._section;this._preventClick=!0,Ft(A,"click",zn),this.expand();var f=this;setTimeout(function(){Sn(A,"click",zn),f._preventClick=!1})}}),oA=function(A,f,v){return new Ro(A,f,v)},Fi=Ps.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(A){var f="leaflet-control-zoom",v=ur("div",f+" leaflet-bar"),E=this.options;return this._zoomInButton=this._createButton(E.zoomInText,E.zoomInTitle,f+"-in",v,this._zoomIn),this._zoomOutButton=this._createButton(E.zoomOutText,E.zoomOutTitle,f+"-out",v,this._zoomOut),this._updateDisabled(),A.on("zoomend zoomlevelschange",this._updateDisabled,this),v},onRemove:function(A){A.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(A){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(A.shiftKey?3:1))},_zoomOut:function(A){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(A.shiftKey?3:1))},_createButton:function(A,f,v,E,D){var ie=ur("a",v,E);return ie.innerHTML=A,ie.href="#",ie.title=f,ie.setAttribute("role","button"),ie.setAttribute("aria-label",f),Li(ie),Ft(ie,"click",Hi),Ft(ie,"click",D,this),Ft(ie,"click",this._refocusOnMap,this),ie},_updateDisabled:function(){var A=this._map,f="leaflet-disabled";wr(this._zoomInButton,f),wr(this._zoomOutButton,f),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||A._zoom===A.getMinZoom())&&(Er(this._zoomOutButton,f),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||A._zoom===A.getMaxZoom())&&(Er(this._zoomInButton,f),this._zoomInButton.setAttribute("aria-disabled","true"))}});en.mergeOptions({zoomControl:!0}),en.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Fi,this.addControl(this.zoomControl))});var po=function(A){return new Fi(A)},lA=Ps.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(A){var f="leaflet-control-scale",v=ur("div",f),E=this.options;return this._addScales(E,f+"-line",v),A.on(E.updateWhenIdle?"moveend":"move",this._update,this),A.whenReady(this._update,this),v},onRemove:function(A){A.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(A,f,v){A.metric&&(this._mScale=ur("div",f,v)),A.imperial&&(this._iScale=ur("div",f,v))},_update:function(){var A=this._map,f=A.getSize().y/2,v=A.distance(A.containerPointToLatLng([0,f]),A.containerPointToLatLng([this.options.maxWidth,f]));this._updateScales(v)},_updateScales:function(A){this.options.metric&&A&&this._updateMetric(A),this.options.imperial&&A&&this._updateImperial(A)},_updateMetric:function(A){var f=this._getRoundNum(A),v=f<1e3?f+" m":f/1e3+" km";this._updateScale(this._mScale,v,f/A)},_updateImperial:function(A){var f=A*3.2808399,v,E,D;f>5280?(v=f/5280,E=this._getRoundNum(v),this._updateScale(this._iScale,E+" mi",E/v)):(D=this._getRoundNum(f),this._updateScale(this._iScale,D+" ft",D/f))},_updateScale:function(A,f,v){A.style.width=Math.round(this.options.maxWidth*v)+"px",A.innerHTML=f},_getRoundNum:function(A){var f=Math.pow(10,(Math.floor(A)+"").length-1),v=A/f;return v=v>=10?10:v>=5?5:v>=3?3:v>=2?2:1,f*v}}),mo=function(A){return new lA(A)},RA='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',j=Ps.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ut.inlineSvg?RA+" ":"")+"Leaflet</a>"},initialize:function(A){U(this,A),this._attributions={}},onAdd:function(A){A.attributionControl=this,this._container=ur("div","leaflet-control-attribution"),Li(this._container);for(var f in A._layers)A._layers[f].getAttribution&&this.addAttribution(A._layers[f].getAttribution());return this._update(),A.on("layeradd",this._addAttribution,this),this._container},onRemove:function(A){A.off("layeradd",this._addAttribution,this)},_addAttribution:function(A){A.layer.getAttribution&&(this.addAttribution(A.layer.getAttribution()),A.layer.once("remove",function(){this.removeAttribution(A.layer.getAttribution())},this))},setPrefix:function(A){return this.options.prefix=A,this._update(),this},addAttribution:function(A){return A?(this._attributions[A]||(this._attributions[A]=0),this._attributions[A]++,this._update(),this):this},removeAttribution:function(A){return A?(this._attributions[A]&&(this._attributions[A]--,this._update()),this):this},_update:function(){if(this._map){var A=[];for(var f in this._attributions)this._attributions[f]&&A.push(f);var v=[];this.options.prefix&&v.push(this.options.prefix),A.length&&v.push(A.join(", ")),this._container.innerHTML=v.join(' <span aria-hidden="true">|</span> ')}}});en.mergeOptions({attributionControl:!0}),en.addInitHook(function(){this.options.attributionControl&&new j().addTo(this)});var Y=function(A){return new j(A)};Ps.Layers=Ro,Ps.Zoom=Fi,Ps.Scale=lA,Ps.Attribution=j,Ya.layers=oA,Ya.zoom=po,Ya.scale=mo,Ya.attribution=Y;var be=K.extend({initialize:function(A){this._map=A},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});be.addTo=function(A,f){return A.addHandler(f,this),this};var Se={Events:Q},Qe=Ut.touch?"touchstart mousedown":"mousedown",ot=Ae.extend({options:{clickTolerance:3},initialize:function(A,f,v,E){U(this,E),this._element=A,this._dragStartTarget=f||A,this._preventOutline=v},enable:function(){this._enabled||(Ft(this._dragStartTarget,Qe,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ot._dragging===this&&this.finishDrag(!0),Sn(this._dragStartTarget,Qe,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(A){if(this._enabled&&(this._moved=!1,!Rs(this._element,"leaflet-zoom-anim"))){if(A.touches&&A.touches.length!==1){ot._dragging===this&&this.finishDrag();return}if(!(ot._dragging||A.shiftKey||A.which!==1&&A.button!==1&&!A.touches)&&(ot._dragging=this,this._preventOutline&&us(this._element),Ea(),Qt(),!this._moving)){this.fire("down");var f=A.touches?A.touches[0]:A,v=Pi(this._element);this._startPoint=new ee(f.clientX,f.clientY),this._startPos=Rr(this._element),this._parentScale=fo(v);var E=A.type==="mousedown";Ft(document,E?"mousemove":"touchmove",this._onMove,this),Ft(document,E?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(A){if(this._enabled){if(A.touches&&A.touches.length>1){this._moved=!0;return}var f=A.touches&&A.touches.length===1?A.touches[0]:A,v=new ee(f.clientX,f.clientY)._subtract(this._startPoint);!v.x&&!v.y||Math.abs(v.x)+Math.abs(v.y)<this.options.clickTolerance||(v.x/=this._parentScale.x,v.y/=this._parentScale.y,zn(A),this._moved||(this.fire("dragstart"),this._moved=!0,Er(document.body,"leaflet-dragging"),this._lastTarget=A.target||A.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Er(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(v),this._moving=!0,this._lastEvent=A,this._updatePosition())}},_updatePosition:function(){var A={originalEvent:this._lastEvent};this.fire("predrag",A),Ot(this._element,this._newPos),this.fire("drag",A)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(A){wr(document.body,"leaflet-dragging"),this._lastTarget&&(wr(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Sn(document,"mousemove touchmove",this._onMove,this),Sn(document,"mouseup touchend touchcancel",this._onUp,this),ts(),sr();var f=this._moved&&this._moving;this._moving=!1,ot._dragging=!1,f&&this.fire("dragend",{noInertia:A,distance:this._newPos.distanceTo(this._startPos)})}});function vt(A,f,v){var E,D=[1,4,2,8],ie,Ce,Oe,Ze,pt,Pt,hr,tn;for(ie=0,Pt=A.length;ie<Pt;ie++)A[ie]._code=oa(A[ie],f);for(Oe=0;Oe<4;Oe++){for(hr=D[Oe],E=[],ie=0,Pt=A.length,Ce=Pt-1;ie<Pt;Ce=ie++)Ze=A[ie],pt=A[Ce],Ze._code&hr?pt._code&hr||(tn=pi(pt,Ze,hr,f,v),tn._code=oa(tn,f),E.push(tn)):(pt._code&hr&&(tn=pi(pt,Ze,hr,f,v),tn._code=oa(tn,f),E.push(tn)),E.push(Ze));A=E}return A}function lr(A,f){var v,E,D,ie,Ce,Oe,Ze,pt,Pt;if(!A||A.length===0)throw new Error("latlngs not passed");la(A)||(console.warn("latlngs are not flat! Only the first ring will be used"),A=A[0]);var hr=he([0,0]),tn=$(A),ua=tn.getNorthWest().distanceTo(tn.getSouthWest())*tn.getNorthEast().distanceTo(tn.getNorthWest());ua<1700&&(hr=dr(A));var ws=A.length,si=[];for(v=0;v<ws;v++){var jn=he(A[v]);si.push(f.project(he([jn.lat-hr.lat,jn.lng-hr.lng])))}for(Oe=Ze=pt=0,v=0,E=ws-1;v<ws;E=v++)D=si[v],ie=si[E],Ce=D.y*ie.x-ie.y*D.x,Ze+=(D.x+ie.x)*Ce,pt+=(D.y+ie.y)*Ce,Oe+=Ce*3;Oe===0?Pt=si[0]:Pt=[Ze/Oe,pt/Oe];var Un=f.unproject(Ne(Pt));return he([Un.lat+hr.lat,Un.lng+hr.lng])}function dr(A){for(var f=0,v=0,E=0,D=0;D<A.length;D++){var ie=he(A[D]);f+=ie.lat,v+=ie.lng,E++}return he([f/E,v/E])}var Fr={__proto__:null,clipPolygon:vt,polygonCenter:lr,centroid:dr};function zr(A,f){if(!f||!A.length)return A.slice();var v=f*f;return A=Hs(A,v),A=bs(A,v),A}function mn(A,f,v){return Math.sqrt(xo(A,f,v,!0))}function os(A,f,v){return xo(A,f,v)}function bs(A,f){var v=A.length,E=typeof Uint8Array<"u"?Uint8Array:Array,D=new E(v);D[0]=D[v-1]=1,Qn(A,D,f,0,v-1);var ie,Ce=[];for(ie=0;ie<v;ie++)D[ie]&&Ce.push(A[ie]);return Ce}function Qn(A,f,v,E,D){var ie=0,Ce,Oe,Ze;for(Oe=E+1;Oe<=D-1;Oe++)Ze=xo(A[Oe],A[E],A[D],!0),Ze>ie&&(Ce=Oe,ie=Ze);ie>v&&(f[Ce]=1,Qn(A,f,v,E,Ce),Qn(A,f,v,Ce,D))}function Hs(A,f){for(var v=[A[0]],E=1,D=0,ie=A.length;E<ie;E++)go(A[E],A[D])>f&&(v.push(A[E]),D=E);return D<ie-1&&v.push(A[ie-1]),v}var vs;function Vs(A,f,v,E,D){var ie=E?vs:oa(A,v),Ce=oa(f,v),Oe,Ze,pt;for(vs=Ce;;){if(!(ie|Ce))return[A,f];if(ie&Ce)return!1;Oe=ie||Ce,Ze=pi(A,f,Oe,v,D),pt=oa(Ze,v),Oe===ie?(A=Ze,ie=pt):(f=Ze,Ce=pt)}}function pi(A,f,v,E,D){var ie=f.x-A.x,Ce=f.y-A.y,Oe=E.min,Ze=E.max,pt,Pt;return v&8?(pt=A.x+ie*(Ze.y-A.y)/Ce,Pt=Ze.y):v&4?(pt=A.x+ie*(Oe.y-A.y)/Ce,Pt=Oe.y):v&2?(pt=Ze.x,Pt=A.y+Ce*(Ze.x-A.x)/ie):v&1&&(pt=Oe.x,Pt=A.y+Ce*(Oe.x-A.x)/ie),new ee(pt,Pt,D)}function oa(A,f){var v=0;return A.x<f.min.x?v|=1:A.x>f.max.x&&(v|=2),A.y<f.min.y?v|=4:A.y>f.max.y&&(v|=8),v}function go(A,f){var v=f.x-A.x,E=f.y-A.y;return v*v+E*E}function xo(A,f,v,E){var D=f.x,ie=f.y,Ce=v.x-D,Oe=v.y-ie,Ze=Ce*Ce+Oe*Oe,pt;return Ze>0&&(pt=((A.x-D)*Ce+(A.y-ie)*Oe)/Ze,pt>1?(D=v.x,ie=v.y):pt>0&&(D+=Ce*pt,ie+=Oe*pt)),Ce=A.x-D,Oe=A.y-ie,E?Ce*Ce+Oe*Oe:new ee(D,ie)}function la(A){return!O(A[0])||typeof A[0][0]!="object"&&typeof A[0][0]<"u"}function Ti(A){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),la(A)}function mi(A,f){var v,E,D,ie,Ce,Oe,Ze,pt;if(!A||A.length===0)throw new Error("latlngs not passed");la(A)||(console.warn("latlngs are not flat! Only the first ring will be used"),A=A[0]);var Pt=he([0,0]),hr=$(A),tn=hr.getNorthWest().distanceTo(hr.getSouthWest())*hr.getNorthEast().distanceTo(hr.getNorthWest());tn<1700&&(Pt=dr(A));var ua=A.length,ws=[];for(v=0;v<ua;v++){var si=he(A[v]);ws.push(f.project(he([si.lat-Pt.lat,si.lng-Pt.lng])))}for(v=0,E=0;v<ua-1;v++)E+=ws[v].distanceTo(ws[v+1])/2;if(E===0)pt=ws[0];else for(v=0,ie=0;v<ua-1;v++)if(Ce=ws[v],Oe=ws[v+1],D=Ce.distanceTo(Oe),ie+=D,ie>E){Ze=(ie-E)/D,pt=[Oe.x-Ze*(Oe.x-Ce.x),Oe.y-Ze*(Oe.y-Ce.y)];break}var jn=f.unproject(Ne(pt));return he([jn.lat+Pt.lat,jn.lng+Pt.lng])}var il={__proto__:null,simplify:zr,pointToSegmentDistance:mn,closestPointOnSegment:os,clipSegment:Vs,_getEdgeIntersection:pi,_getBitCode:oa,_sqClosestPointOnSegment:xo,isFlat:la,_flat:Ti,polylineCenter:mi},Ii={project:function(A){return new ee(A.lng,A.lat)},unproject:function(A){return new V(A.y,A.x)},bounds:new q([-180,-90],[180,90])},Ss={R:6378137,R_MINOR:6356752314245179e-9,bounds:new q([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(A){var f=Math.PI/180,v=this.R,E=A.lat*f,D=this.R_MINOR/v,ie=Math.sqrt(1-D*D),Ce=ie*Math.sin(E),Oe=Math.tan(Math.PI/4-E/2)/Math.pow((1-Ce)/(1+Ce),ie/2);return E=-v*Math.log(Math.max(Oe,1e-10)),new ee(A.lng*f*v,E)},unproject:function(A){for(var f=180/Math.PI,v=this.R,E=this.R_MINOR/v,D=Math.sqrt(1-E*E),ie=Math.exp(-A.y/v),Ce=Math.PI/2-2*Math.atan(ie),Oe=0,Ze=.1,pt;Oe<15&&Math.abs(Ze)>1e-7;Oe++)pt=D*Math.sin(Ce),pt=Math.pow((1-pt)/(1+pt),D/2),Ze=Math.PI/2-2*Math.atan(ie*pt)-Ce,Ce+=Ze;return new V(Ce*f,A.x*f/v)}},Do={__proto__:null,LonLat:Ii,Mercator:Ss,SphericalMercator:Je},Mo=i({},je,{code:"EPSG:3395",projection:Ss,transformation:(function(){var A=.5/(Math.PI*Ss.R);return nt(A,.5,-A,.5)})()}),ol=i({},je,{code:"EPSG:4326",projection:Ii,transformation:nt(1/180,1,-1/180,.5)}),zi=i({},ve,{projection:Ii,transformation:nt(1,0,-1,0),scale:function(A){return Math.pow(2,A)},zoom:function(A){return Math.log(A)/Math.LN2},distance:function(A,f){var v=f.lng-A.lng,E=f.lat-A.lat;return Math.sqrt(v*v+E*E)},infinite:!0});ve.Earth=je,ve.EPSG3395=Mo,ve.EPSG3857=ft,ve.EPSG900913=tt,ve.EPSG4326=ol,ve.Simple=zi;var $n=Ae.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(A){return A.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(A){return A&&A.removeLayer(this),this},getPane:function(A){return this._map.getPane(A?this.options[A]||A:this.options.pane)},addInteractiveTarget:function(A){return this._map._targets[h(A)]=this,this},removeInteractiveTarget:function(A){return delete this._map._targets[h(A)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(A){var f=A.target;if(f.hasLayer(this)){if(this._map=f,this._zoomAnimated=f._zoomAnimated,this.getEvents){var v=this.getEvents();f.on(v,this),this.once("remove",function(){f.off(v,this)},this)}this.onAdd(f),this.fire("add"),f.fire("layeradd",{layer:this})}}});en.include({addLayer:function(A){if(!A._layerAdd)throw new Error("The provided object is not a Layer.");var f=h(A);return this._layers[f]?this:(this._layers[f]=A,A._mapToAdd=this,A.beforeAdd&&A.beforeAdd(this),this.whenReady(A._layerAdd,A),this)},removeLayer:function(A){var f=h(A);return this._layers[f]?(this._loaded&&A.onRemove(this),delete this._layers[f],this._loaded&&(this.fire("layerremove",{layer:A}),A.fire("remove")),A._map=A._mapToAdd=null,this):this},hasLayer:function(A){return h(A)in this._layers},eachLayer:function(A,f){for(var v in this._layers)A.call(f,this._layers[v]);return this},_addLayers:function(A){A=A?O(A)?A:[A]:[];for(var f=0,v=A.length;f<v;f++)this.addLayer(A[f])},_addZoomLimit:function(A){(!isNaN(A.options.maxZoom)||!isNaN(A.options.minZoom))&&(this._zoomBoundLayers[h(A)]=A,this._updateZoomLevels())},_removeZoomLimit:function(A){var f=h(A);this._zoomBoundLayers[f]&&(delete this._zoomBoundLayers[f],this._updateZoomLevels())},_updateZoomLevels:function(){var A=1/0,f=-1/0,v=this._getZoomSpan();for(var E in this._zoomBoundLayers){var D=this._zoomBoundLayers[E].options;A=D.minZoom===void 0?A:Math.min(A,D.minZoom),f=D.maxZoom===void 0?f:Math.max(f,D.maxZoom)}this._layersMaxZoom=f===-1/0?void 0:f,this._layersMinZoom=A===1/0?void 0:A,v!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ma=$n.extend({initialize:function(A,f){U(this,f),this._layers={};var v,E;if(A)for(v=0,E=A.length;v<E;v++)this.addLayer(A[v])},addLayer:function(A){var f=this.getLayerId(A);return this._layers[f]=A,this._map&&this._map.addLayer(A),this},removeLayer:function(A){var f=A in this._layers?A:this.getLayerId(A);return this._map&&this._layers[f]&&this._map.removeLayer(this._layers[f]),delete this._layers[f],this},hasLayer:function(A){var f=typeof A=="number"?A:this.getLayerId(A);return f in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(A){var f=Array.prototype.slice.call(arguments,1),v,E;for(v in this._layers)E=this._layers[v],E[A]&&E[A].apply(E,f);return this},onAdd:function(A){this.eachLayer(A.addLayer,A)},onRemove:function(A){this.eachLayer(A.removeLayer,A)},eachLayer:function(A,f){for(var v in this._layers)A.call(f,this._layers[v]);return this},getLayer:function(A){return this._layers[A]},getLayers:function(){var A=[];return this.eachLayer(A.push,A),A},setZIndex:function(A){return this.invoke("setZIndex",A)},getLayerId:function(A){return h(A)}}),Ul=function(A,f){return new Ma(A,f)},Ja=Ma.extend({addLayer:function(A){return this.hasLayer(A)?this:(A.addEventParent(this),Ma.prototype.addLayer.call(this,A),this.fire("layeradd",{layer:A}))},removeLayer:function(A){return this.hasLayer(A)?(A in this._layers&&(A=this._layers[A]),A.removeEventParent(this),Ma.prototype.removeLayer.call(this,A),this.fire("layerremove",{layer:A})):this},setStyle:function(A){return this.invoke("setStyle",A)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var A=new G;for(var f in this._layers){var v=this._layers[f];A.extend(v.getBounds?v.getBounds():v.getLatLng())}return A}}),Wa=function(A,f){return new Ja(A,f)},ba=K.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(A){U(this,A)},createIcon:function(A){return this._createIcon("icon",A)},createShadow:function(A){return this._createIcon("shadow",A)},_createIcon:function(A,f){var v=this._getIconUrl(A);if(!v){if(A==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var E=this._createImg(v,f&&f.tagName==="IMG"?f:null);return this._setIconStyles(E,A),(this.options.crossOrigin||this.options.crossOrigin==="")&&(E.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),E},_setIconStyles:function(A,f){var v=this.options,E=v[f+"Size"];typeof E=="number"&&(E=[E,E]);var D=Ne(E),ie=Ne(f==="shadow"&&v.shadowAnchor||v.iconAnchor||D&&D.divideBy(2,!0));A.className="leaflet-marker-"+f+" "+(v.className||""),ie&&(A.style.marginLeft=-ie.x+"px",A.style.marginTop=-ie.y+"px"),D&&(A.style.width=D.x+"px",A.style.height=D.y+"px")},_createImg:function(A,f){return f=f||document.createElement("img"),f.src=A,f},_getIconUrl:function(A){return Ut.retina&&this.options[A+"RetinaUrl"]||this.options[A+"Url"]}});function bo(A){return new ba(A)}var vo=ba.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(A){return typeof vo.imagePath!="string"&&(vo.imagePath=this._detectIconPath()),(this.options.imagePath||vo.imagePath)+ba.prototype._getIconUrl.call(this,A)},_stripUrl:function(A){var f=function(v,E,D){var ie=E.exec(v);return ie&&ie[D]};return A=f(A,/^url\((['"])?(.+)\1\)$/,2),A&&f(A,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var A=ur("div","leaflet-default-icon-path",document.body),f=es(A,"background-image")||es(A,"backgroundImage");if(document.body.removeChild(A),f=this._stripUrl(f),f)return f;var v=document.querySelector('link[href$="leaflet.css"]');return v?v.href.substring(0,v.href.length-11-1):""}}),gi=be.extend({initialize:function(A){this._marker=A},addHooks:function(){var A=this._marker._icon;this._draggable||(this._draggable=new ot(A,A,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Er(A,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&wr(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(A){var f=this._marker,v=f._map,E=this._marker.options.autoPanSpeed,D=this._marker.options.autoPanPadding,ie=Rr(f._icon),Ce=v.getPixelBounds(),Oe=v.getPixelOrigin(),Ze=F(Ce.min._subtract(Oe).add(D),Ce.max._subtract(Oe).subtract(D));if(!Ze.contains(ie)){var pt=Ne((Math.max(Ze.max.x,ie.x)-Ze.max.x)/(Ce.max.x-Ze.max.x)-(Math.min(Ze.min.x,ie.x)-Ze.min.x)/(Ce.min.x-Ze.min.x),(Math.max(Ze.max.y,ie.y)-Ze.max.y)/(Ce.max.y-Ze.max.y)-(Math.min(Ze.min.y,ie.y)-Ze.min.y)/(Ce.min.y-Ze.min.y)).multiplyBy(E);v.panBy(pt,{animate:!1}),this._draggable._newPos._add(pt),this._draggable._startPos._add(pt),Ot(f._icon,this._draggable._newPos),this._onDrag(A),this._panRequest=Z(this._adjustPan.bind(this,A))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(A){this._marker.options.autoPan&&(W(this._panRequest),this._panRequest=Z(this._adjustPan.bind(this,A)))},_onDrag:function(A){var f=this._marker,v=f._shadow,E=Rr(f._icon),D=f._map.layerPointToLatLng(E);v&&Ot(v,E),f._latlng=D,A.latlng=D,A.oldLatLng=this._oldLatLng,f.fire("move",A).fire("drag",A)},_onDragEnd:function(A){W(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",A)}}),Qi=$n.extend({options:{icon:new vo,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(A,f){U(this,f),this._latlng=he(A)},onAdd:function(A){this._zoomAnimated=this._zoomAnimated&&A.options.markerZoomAnimation,this._zoomAnimated&&A.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(A){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&A.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(A){var f=this._latlng;return this._latlng=he(A),this.update(),this.fire("move",{oldLatLng:f,latlng:this._latlng})},setZIndexOffset:function(A){return this.options.zIndexOffset=A,this.update()},getIcon:function(){return this.options.icon},setIcon:function(A){return this.options.icon=A,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var A=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(A)}return this},_initIcon:function(){var A=this.options,f="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),v=A.icon.createIcon(this._icon),E=!1;v!==this._icon&&(this._icon&&this._removeIcon(),E=!0,A.title&&(v.title=A.title),v.tagName==="IMG"&&(v.alt=A.alt||"")),Er(v,f),A.keyboard&&(v.tabIndex="0",v.setAttribute("role","button")),this._icon=v,A.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ft(v,"focus",this._panOnFocus,this);var D=A.icon.createShadow(this._shadow),ie=!1;D!==this._shadow&&(this._removeShadow(),ie=!0),D&&(Er(D,f),D.alt=""),this._shadow=D,A.opacity<1&&this._updateOpacity(),E&&this.getPane().appendChild(this._icon),this._initInteraction(),D&&ie&&this.getPane(A.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Sn(this._icon,"focus",this._panOnFocus,this),Lr(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Lr(this._shadow),this._shadow=null},_setPos:function(A){this._icon&&Ot(this._icon,A),this._shadow&&Ot(this._shadow,A),this._zIndex=A.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(A){this._icon&&(this._icon.style.zIndex=this._zIndex+A)},_animateZoom:function(A){var f=this._map._latLngToNewLayerPoint(this._latlng,A.zoom,A.center).round();this._setPos(f)},_initInteraction:function(){if(this.options.interactive&&(Er(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),gi)){var A=this.options.draggable;this.dragging&&(A=this.dragging.enabled(),this.dragging.disable()),this.dragging=new gi(this),A&&this.dragging.enable()}},setOpacity:function(A){return this.options.opacity=A,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var A=this.options.opacity;this._icon&&Be(this._icon,A),this._shadow&&Be(this._shadow,A)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var A=this._map;if(A){var f=this.options.icon.options,v=f.iconSize?Ne(f.iconSize):Ne(0,0),E=f.iconAnchor?Ne(f.iconAnchor):Ne(0,0);A.panInside(this._latlng,{paddingTopLeft:E,paddingBottomRight:v.subtract(E)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Pa(A,f){return new Qi(A,f)}var ds=$n.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(A){this._renderer=A.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(A){return U(this,A),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&A&&Object.prototype.hasOwnProperty.call(A,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ei=ds.extend({options:{fill:!0,radius:10},initialize:function(A,f){U(this,f),this._latlng=he(A),this._radius=this.options.radius},setLatLng:function(A){var f=this._latlng;return this._latlng=he(A),this.redraw(),this.fire("move",{oldLatLng:f,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(A){return this.options.radius=this._radius=A,this.redraw()},getRadius:function(){return this._radius},setStyle:function(A){var f=A&&A.radius||this._radius;return ds.prototype.setStyle.call(this,A),this.setRadius(f),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var A=this._radius,f=this._radiusY||A,v=this._clickTolerance(),E=[A+v,f+v];this._pxBounds=new q(this._point.subtract(E),this._point.add(E))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(A){return A.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Ki(A,f){return new ei(A,f)}var Oi=ei.extend({initialize:function(A,f,v){if(typeof f=="number"&&(f=i({},v,{radius:f})),U(this,f),this._latlng=he(A),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(A){return this._mRadius=A,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var A=[this._radius,this._radiusY||this._radius];return new G(this._map.layerPointToLatLng(this._point.subtract(A)),this._map.layerPointToLatLng(this._point.add(A)))},setStyle:ds.prototype.setStyle,_project:function(){var A=this._latlng.lng,f=this._latlng.lat,v=this._map,E=v.options.crs;if(E.distance===je.distance){var D=Math.PI/180,ie=this._mRadius/je.R/D,Ce=v.project([f+ie,A]),Oe=v.project([f-ie,A]),Ze=Ce.add(Oe).divideBy(2),pt=v.unproject(Ze).lat,Pt=Math.acos((Math.cos(ie*D)-Math.sin(f*D)*Math.sin(pt*D))/(Math.cos(f*D)*Math.cos(pt*D)))/D;(isNaN(Pt)||Pt===0)&&(Pt=ie/Math.cos(Math.PI/180*f)),this._point=Ze.subtract(v.getPixelOrigin()),this._radius=isNaN(Pt)?0:Ze.x-v.project([pt,A-Pt]).x,this._radiusY=Ze.y-Ce.y}else{var hr=E.unproject(E.project(this._latlng).subtract([this._mRadius,0]));this._point=v.latLngToLayerPoint(this._latlng),this._radius=this._point.x-v.latLngToLayerPoint(hr).x}this._updateBounds()}});function kl(A,f,v){return new Oi(A,f,v)}var Ha=ds.extend({options:{smoothFactor:1,noClip:!1},initialize:function(A,f){U(this,f),this._setLatLngs(A)},getLatLngs:function(){return this._latlngs},setLatLngs:function(A){return this._setLatLngs(A),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(A){for(var f=1/0,v=null,E=xo,D,ie,Ce=0,Oe=this._parts.length;Ce<Oe;Ce++)for(var Ze=this._parts[Ce],pt=1,Pt=Ze.length;pt<Pt;pt++){D=Ze[pt-1],ie=Ze[pt];var hr=E(A,D,ie,!0);hr<f&&(f=hr,v=E(A,D,ie))}return v&&(v.distance=Math.sqrt(f)),v},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return mi(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(A,f){return f=f||this._defaultShape(),A=he(A),f.push(A),this._bounds.extend(A),this.redraw()},_setLatLngs:function(A){this._bounds=new G,this._latlngs=this._convertLatLngs(A)},_defaultShape:function(){return la(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(A){for(var f=[],v=la(A),E=0,D=A.length;E<D;E++)v?(f[E]=he(A[E]),this._bounds.extend(f[E])):f[E]=this._convertLatLngs(A[E]);return f},_project:function(){var A=new q;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,A),this._bounds.isValid()&&A.isValid()&&(this._rawPxBounds=A,this._updateBounds())},_updateBounds:function(){var A=this._clickTolerance(),f=new ee(A,A);this._rawPxBounds&&(this._pxBounds=new q([this._rawPxBounds.min.subtract(f),this._rawPxBounds.max.add(f)]))},_projectLatlngs:function(A,f,v){var E=A[0]instanceof V,D=A.length,ie,Ce;if(E){for(Ce=[],ie=0;ie<D;ie++)Ce[ie]=this._map.latLngToLayerPoint(A[ie]),v.extend(Ce[ie]);f.push(Ce)}else for(ie=0;ie<D;ie++)this._projectLatlngs(A[ie],f,v)},_clipPoints:function(){var A=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(A))){if(this.options.noClip){this._parts=this._rings;return}var f=this._parts,v,E,D,ie,Ce,Oe,Ze;for(v=0,D=0,ie=this._rings.length;v<ie;v++)for(Ze=this._rings[v],E=0,Ce=Ze.length;E<Ce-1;E++)Oe=Vs(Ze[E],Ze[E+1],A,E,!0),Oe&&(f[D]=f[D]||[],f[D].push(Oe[0]),(Oe[1]!==Ze[E+1]||E===Ce-2)&&(f[D].push(Oe[1]),D++))}},_simplifyPoints:function(){for(var A=this._parts,f=this.options.smoothFactor,v=0,E=A.length;v<E;v++)A[v]=zr(A[v],f)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(A,f){var v,E,D,ie,Ce,Oe,Ze=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(A))return!1;for(v=0,ie=this._parts.length;v<ie;v++)for(Oe=this._parts[v],E=0,Ce=Oe.length,D=Ce-1;E<Ce;D=E++)if(!(!f&&E===0)&&mn(A,Oe[D],Oe[E])<=Ze)return!0;return!1}});function ys(A,f){return new Ha(A,f)}Ha._flat=Ti;var yo=Ha.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return lr(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(A){var f=Ha.prototype._convertLatLngs.call(this,A),v=f.length;return v>=2&&f[0]instanceof V&&f[0].equals(f[v-1])&&f.pop(),f},_setLatLngs:function(A){Ha.prototype._setLatLngs.call(this,A),la(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return la(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var A=this._renderer._bounds,f=this.options.weight,v=new ee(f,f);if(A=new q(A.min.subtract(v),A.max.add(v)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(A))){if(this.options.noClip){this._parts=this._rings;return}for(var E=0,D=this._rings.length,ie;E<D;E++)ie=vt(this._rings[E],A,!0),ie.length&&this._parts.push(ie)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(A){var f=!1,v,E,D,ie,Ce,Oe,Ze,pt;if(!this._pxBounds||!this._pxBounds.contains(A))return!1;for(ie=0,Ze=this._parts.length;ie<Ze;ie++)for(v=this._parts[ie],Ce=0,pt=v.length,Oe=pt-1;Ce<pt;Oe=Ce++)E=v[Ce],D=v[Oe],E.y>A.y!=D.y>A.y&&A.x<(D.x-E.x)*(A.y-E.y)/(D.y-E.y)+E.x&&(f=!f);return f||Ha.prototype._containsPoint.call(this,A,!0)}});function Gi(A,f){return new yo(A,f)}var $s=Ja.extend({initialize:function(A,f){U(this,f),this._layers={},A&&this.addData(A)},addData:function(A){var f=O(A)?A:A.features,v,E,D;if(f){for(v=0,E=f.length;v<E;v++)D=f[v],(D.geometries||D.geometry||D.features||D.coordinates)&&this.addData(D);return this}var ie=this.options;if(ie.filter&&!ie.filter(A))return this;var Ce=js(A,ie);return Ce?(Ce.feature=$i(A),Ce.defaultOptions=Ce.options,this.resetStyle(Ce),ie.onEachFeature&&ie.onEachFeature(A,Ce),this.addLayer(Ce)):this},resetStyle:function(A){return A===void 0?this.eachLayer(this.resetStyle,this):(A.options=i({},A.defaultOptions),this._setLayerStyle(A,this.options.style),this)},setStyle:function(A){return this.eachLayer(function(f){this._setLayerStyle(f,A)},this)},_setLayerStyle:function(A,f){A.setStyle&&(typeof f=="function"&&(f=f(A.feature)),A.setStyle(f))}});function js(A,f){var v=A.type==="Feature"?A.geometry:A,E=v?v.coordinates:null,D=[],ie=f&&f.pointToLayer,Ce=f&&f.coordsToLatLng||Po,Oe,Ze,pt,Pt;if(!E&&!v)return null;switch(v.type){case"Point":return Oe=Ce(E),Vi(ie,A,Oe,f);case"MultiPoint":for(pt=0,Pt=E.length;pt<Pt;pt++)Oe=Ce(E[pt]),D.push(Vi(ie,A,Oe,f));return new Ja(D);case"LineString":case"MultiLineString":return Ze=wo(E,v.type==="LineString"?0:1,Ce),new Ha(Ze,f);case"Polygon":case"MultiPolygon":return Ze=wo(E,v.type==="Polygon"?1:2,Ce),new yo(Ze,f);case"GeometryCollection":for(pt=0,Pt=v.geometries.length;pt<Pt;pt++){var hr=js({geometry:v.geometries[pt],type:"Feature",properties:A.properties},f);hr&&D.push(hr)}return new Ja(D);case"FeatureCollection":for(pt=0,Pt=v.features.length;pt<Pt;pt++){var tn=js(v.features[pt],f);tn&&D.push(tn)}return new Ja(D);default:throw new Error("Invalid GeoJSON object.")}}function Vi(A,f,v,E){return A?A(f,v):new Qi(v,E&&E.markersInheritOptions&&E)}function Po(A){return new V(A[1],A[0],A[2])}function wo(A,f,v){for(var E=[],D=0,ie=A.length,Ce;D<ie;D++)Ce=f?wo(A[D],f-1,v):(v||Po)(A[D]),E.push(Ce);return E}function Ri(A,f){return A=he(A),A.alt!==void 0?[N(A.lng,f),N(A.lat,f),N(A.alt,f)]:[N(A.lng,f),N(A.lat,f)]}function xi(A,f,v,E){for(var D=[],ie=0,Ce=A.length;ie<Ce;ie++)D.push(f?xi(A[ie],la(A[ie])?0:f-1,v,E):Ri(A[ie],E));return!f&&v&&D.length>0&&D.push(D[0].slice()),D}function Ua(A,f){return A.feature?i({},A.feature,{geometry:f}):$i(f)}function $i(A){return A.type==="Feature"||A.type==="FeatureCollection"?A:{type:"Feature",properties:{},geometry:A}}var ka={toGeoJSON:function(A){return Ua(this,{type:"Point",coordinates:Ri(this.getLatLng(),A)})}};Qi.include(ka),Oi.include(ka),ei.include(ka),Ha.include({toGeoJSON:function(A){var f=!la(this._latlngs),v=xi(this._latlngs,f?1:0,!1,A);return Ua(this,{type:(f?"Multi":"")+"LineString",coordinates:v})}}),yo.include({toGeoJSON:function(A){var f=!la(this._latlngs),v=f&&!la(this._latlngs[0]),E=xi(this._latlngs,v?2:f?1:0,!0,A);return f||(E=[E]),Ua(this,{type:(v?"Multi":"")+"Polygon",coordinates:E})}}),Ma.include({toMultiPoint:function(A){var f=[];return this.eachLayer(function(v){f.push(v.toGeoJSON(A).geometry.coordinates)}),Ua(this,{type:"MultiPoint",coordinates:f})},toGeoJSON:function(A){var f=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(f==="MultiPoint")return this.toMultiPoint(A);var v=f==="GeometryCollection",E=[];return this.eachLayer(function(D){if(D.toGeoJSON){var ie=D.toGeoJSON(A);if(v)E.push(ie.geometry);else{var Ce=$i(ie);Ce.type==="FeatureCollection"?E.push.apply(E,Ce.features):E.push(Ce)}}}),v?Ua(this,{geometries:E,type:"GeometryCollection"}):{type:"FeatureCollection",features:E}}});function Zi(A,f){return new $s(A,f)}var va=Zi,La=$n.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(A,f,v){this._url=A,this._bounds=$(f),U(this,v)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Er(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Lr(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(A){return this.options.opacity=A,this._image&&this._updateOpacity(),this},setStyle:function(A){return A.opacity&&this.setOpacity(A.opacity),this},bringToFront:function(){return this._map&&$r(this._image),this},bringToBack:function(){return this._map&&Ca(this._image),this},setUrl:function(A){return this._url=A,this._image&&(this._image.src=A),this},setBounds:function(A){return this._bounds=$(A),this._map&&this._reset(),this},getEvents:function(){var A={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(A.zoomanim=this._animateZoom),A},setZIndex:function(A){return this.options.zIndex=A,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var A=this._url.tagName==="IMG",f=this._image=A?this._url:ur("img");if(Er(f,"leaflet-image-layer"),this._zoomAnimated&&Er(f,"leaflet-zoom-animated"),this.options.className&&Er(f,this.options.className),f.onselectstart=b,f.onmousemove=b,f.onload=u(this.fire,this,"load"),f.onerror=u(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),A){this._url=f.src;return}f.src=this._url,f.alt=this.options.alt},_animateZoom:function(A){var f=this._map.getZoomScale(A.zoom),v=this._map._latLngBoundsToNewLayerBounds(this._bounds,A.zoom,A.center).min;Nt(this._image,v,f)},_reset:function(){var A=this._image,f=new q(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),v=f.getSize();Ot(A,f.min),A.style.width=v.x+"px",A.style.height=v.y+"px"},_updateOpacity:function(){Be(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var A=this.options.errorOverlayUrl;A&&this._url!==A&&(this._url=A,this._image.src=A)},getCenter:function(){return this._bounds.getCenter()}}),Nn=function(A,f,v){return new La(A,f,v)},gn=La.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var A=this._url.tagName==="VIDEO",f=this._image=A?this._url:ur("video");if(Er(f,"leaflet-image-layer"),this._zoomAnimated&&Er(f,"leaflet-zoom-animated"),this.options.className&&Er(f,this.options.className),f.onselectstart=b,f.onmousemove=b,f.onloadeddata=u(this.fire,this,"load"),A){for(var v=f.getElementsByTagName("source"),E=[],D=0;D<v.length;D++)E.push(v[D].src);this._url=v.length>0?E:[f.src];return}O(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(f.style,"objectFit")&&(f.style.objectFit="fill"),f.autoplay=!!this.options.autoplay,f.loop=!!this.options.loop,f.muted=!!this.options.muted,f.playsInline=!!this.options.playsInline;for(var ie=0;ie<this._url.length;ie++){var Ce=ur("source");Ce.src=this._url[ie],f.appendChild(Ce)}}});function Kn(A,f,v){return new gn(A,f,v)}var hs=La.extend({_initImage:function(){var A=this._image=this._url;Er(A,"leaflet-image-layer"),this._zoomAnimated&&Er(A,"leaflet-zoom-animated"),this.options.className&&Er(A,this.options.className),A.onselectstart=b,A.onmousemove=b}});function Xi(A,f,v){return new hs(A,f,v)}var Us=$n.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(A,f){A&&(A instanceof V||O(A))?(this._latlng=he(A),U(this,f)):(U(this,A),this._source=f),this.options.content&&(this._content=this.options.content)},openOn:function(A){return A=arguments.length?A:this._source._map,A.hasLayer(this)||A.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(A){return this._map?this.close():(arguments.length?this._source=A:A=this._source,this._prepareOpen(),this.openOn(A._map)),this},onAdd:function(A){this._zoomAnimated=A._zoomAnimated,this._container||this._initLayout(),A._fadeAnimated&&Be(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),A._fadeAnimated&&Be(this._container,1),this.bringToFront(),this.options.interactive&&(Er(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(A){A._fadeAnimated?(Be(this._container,0),this._removeTimeout=setTimeout(u(Lr,void 0,this._container),200)):Lr(this._container),this.options.interactive&&(wr(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(A){return this._latlng=he(A),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(A){return this._content=A,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var A={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(A.zoomanim=this._animateZoom),A},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&$r(this._container),this},bringToBack:function(){return this._map&&Ca(this._container),this},_prepareOpen:function(A){var f=this._source;if(!f._map)return!1;if(f instanceof Ja){f=null;var v=this._source._layers;for(var E in v)if(v[E]._map){f=v[E];break}if(!f)return!1;this._source=f}if(!A)if(f.getCenter)A=f.getCenter();else if(f.getLatLng)A=f.getLatLng();else if(f.getBounds)A=f.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(A),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var A=this._contentNode,f=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof f=="string")A.innerHTML=f;else{for(;A.hasChildNodes();)A.removeChild(A.firstChild);A.appendChild(f)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var A=this._map.latLngToLayerPoint(this._latlng),f=Ne(this.options.offset),v=this._getAnchor();this._zoomAnimated?Ot(this._container,A.add(v)):f=f.add(A).add(v);var E=this._containerBottom=-f.y,D=this._containerLeft=-Math.round(this._containerWidth/2)+f.x;this._container.style.bottom=E+"px",this._container.style.left=D+"px"}},_getAnchor:function(){return[0,0]}});en.include({_initOverlay:function(A,f,v,E){var D=f;return D instanceof A||(D=new A(E).setContent(f)),v&&D.setLatLng(v),D}}),$n.include({_initOverlay:function(A,f,v,E){var D=v;return D instanceof A?(U(D,E),D._source=this):(D=f&&!E?f:new A(E,this),D.setContent(v)),D}});var Yi=Us.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(A){return A=arguments.length?A:this._source._map,!A.hasLayer(this)&&A._popup&&A._popup.options.autoClose&&A.removeLayer(A._popup),A._popup=this,Us.prototype.openOn.call(this,A)},onAdd:function(A){Us.prototype.onAdd.call(this,A),A.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ds||this._source.on("preclick",Za))},onRemove:function(A){Us.prototype.onRemove.call(this,A),A.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ds||this._source.off("preclick",Za))},getEvents:function(){var A=Us.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(A.preclick=this.close),this.options.keepInView&&(A.moveend=this._adjustPan),A},_initLayout:function(){var A="leaflet-popup",f=this._container=ur("div",A+" "+(this.options.className||"")+" leaflet-zoom-animated"),v=this._wrapper=ur("div",A+"-content-wrapper",f);if(this._contentNode=ur("div",A+"-content",v),Li(f),ja(this._contentNode),Ft(f,"contextmenu",Za),this._tipContainer=ur("div",A+"-tip-container",f),this._tip=ur("div",A+"-tip",this._tipContainer),this.options.closeButton){var E=this._closeButton=ur("a",A+"-close-button",f);E.setAttribute("role","button"),E.setAttribute("aria-label","Close popup"),E.href="#close",E.innerHTML='<span aria-hidden="true">&#215;</span>',Ft(E,"click",function(D){zn(D),this.close()},this)}},_updateLayout:function(){var A=this._contentNode,f=A.style;f.width="",f.whiteSpace="nowrap";var v=A.offsetWidth;v=Math.min(v,this.options.maxWidth),v=Math.max(v,this.options.minWidth),f.width=v+1+"px",f.whiteSpace="",f.height="";var E=A.offsetHeight,D=this.options.maxHeight,ie="leaflet-popup-scrolled";D&&E>D?(f.height=D+"px",Er(A,ie)):wr(A,ie),this._containerWidth=this._container.offsetWidth},_animateZoom:function(A){var f=this._map._latLngToNewLayerPoint(this._latlng,A.zoom,A.center),v=this._getAnchor();Ot(this._container,f.add(v))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var A=this._map,f=parseInt(es(this._container,"marginBottom"),10)||0,v=this._container.offsetHeight+f,E=this._containerWidth,D=new ee(this._containerLeft,-v-this._containerBottom);D._add(Rr(this._container));var ie=A.layerPointToContainerPoint(D),Ce=Ne(this.options.autoPanPadding),Oe=Ne(this.options.autoPanPaddingTopLeft||Ce),Ze=Ne(this.options.autoPanPaddingBottomRight||Ce),pt=A.getSize(),Pt=0,hr=0;ie.x+E+Ze.x>pt.x&&(Pt=ie.x+E-pt.x+Ze.x),ie.x-Pt-Oe.x<0&&(Pt=ie.x-Oe.x),ie.y+v+Ze.y>pt.y&&(hr=ie.y+v-pt.y+Ze.y),ie.y-hr-Oe.y<0&&(hr=ie.y-Oe.y),(Pt||hr)&&(this.options.keepInView&&(this._autopanning=!0),A.fire("autopanstart").panBy([Pt,hr]))}},_getAnchor:function(){return Ne(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),AA=function(A,f){return new Yi(A,f)};en.mergeOptions({closePopupOnClick:!0}),en.include({openPopup:function(A,f,v){return this._initOverlay(Yi,A,f,v).openOn(this),this},closePopup:function(A){return A=arguments.length?A:this._popup,A&&A.close(),this}}),$n.include({bindPopup:function(A,f){return this._popup=this._initOverlay(Yi,this._popup,A,f),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(A){return this._popup&&(this instanceof Ja||(this._popup._source=this),this._popup._prepareOpen(A||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(A){return this._popup&&this._popup.setContent(A),this},getPopup:function(){return this._popup},_openPopup:function(A){if(!(!this._popup||!this._map)){Hi(A);var f=A.layer||A.target;if(this._popup._source===f&&!(f instanceof ds)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(A.latlng);return}this._popup._source=f,this.openPopup(A.latlng)}},_movePopup:function(A){this._popup.setLatLng(A.latlng)},_onKeyPress:function(A){A.originalEvent.keyCode===13&&this._openPopup(A)}});var Ll=Us.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(A){Us.prototype.onAdd.call(this,A),this.setOpacity(this.options.opacity),A.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(A){Us.prototype.onRemove.call(this,A),A.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var A=Us.prototype.getEvents.call(this);return this.options.permanent||(A.preclick=this.close),A},_initLayout:function(){var A="leaflet-tooltip",f=A+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ur("div",f),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+h(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(A){var f,v,E=this._map,D=this._container,ie=E.latLngToContainerPoint(E.getCenter()),Ce=E.layerPointToContainerPoint(A),Oe=this.options.direction,Ze=D.offsetWidth,pt=D.offsetHeight,Pt=Ne(this.options.offset),hr=this._getAnchor();Oe==="top"?(f=Ze/2,v=pt):Oe==="bottom"?(f=Ze/2,v=0):Oe==="center"?(f=Ze/2,v=pt/2):Oe==="right"?(f=0,v=pt/2):Oe==="left"?(f=Ze,v=pt/2):Ce.x<ie.x?(Oe="right",f=0,v=pt/2):(Oe="left",f=Ze+(Pt.x+hr.x)*2,v=pt/2),A=A.subtract(Ne(f,v,!0)).add(Pt).add(hr),wr(D,"leaflet-tooltip-right"),wr(D,"leaflet-tooltip-left"),wr(D,"leaflet-tooltip-top"),wr(D,"leaflet-tooltip-bottom"),Er(D,"leaflet-tooltip-"+Oe),Ot(D,A)},_updatePosition:function(){var A=this._map.latLngToLayerPoint(this._latlng);this._setPosition(A)},setOpacity:function(A){this.options.opacity=A,this._container&&Be(this._container,A)},_animateZoom:function(A){var f=this._map._latLngToNewLayerPoint(this._latlng,A.zoom,A.center);this._setPosition(f)},_getAnchor:function(){return Ne(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),cu=function(A,f){return new Ll(A,f)};en.include({openTooltip:function(A,f,v){return this._initOverlay(Ll,A,f,v).openOn(this),this},closeTooltip:function(A){return A.close(),this}}),$n.include({bindTooltip:function(A,f){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ll,this._tooltip,A,f),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(A){if(!(!A&&this._tooltipHandlersAdded)){var f=A?"off":"on",v={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?v.add=this._openTooltip:(v.mouseover=this._openTooltip,v.mouseout=this.closeTooltip,v.click=this._openTooltip,this._map?this._addFocusListeners():v.add=this._addFocusListeners),this._tooltip.options.sticky&&(v.mousemove=this._moveTooltip),this[f](v),this._tooltipHandlersAdded=!A}},openTooltip:function(A){return this._tooltip&&(this instanceof Ja||(this._tooltip._source=this),this._tooltip._prepareOpen(A)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(A){return this._tooltip&&this._tooltip.setContent(A),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(A){var f=typeof A.getElement=="function"&&A.getElement();f&&(Ft(f,"focus",function(){this._tooltip._source=A,this.openTooltip()},this),Ft(f,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(A){var f=typeof A.getElement=="function"&&A.getElement();f&&f.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(A){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var f=this;this._map.once("moveend",function(){f._openOnceFlag=!1,f._openTooltip(A)});return}this._tooltip._source=A.layer||A.target,this.openTooltip(this._tooltip.options.sticky?A.latlng:void 0)}},_moveTooltip:function(A){var f=A.latlng,v,E;this._tooltip.options.sticky&&A.originalEvent&&(v=this._map.mouseEventToContainerPoint(A.originalEvent),E=this._map.containerPointToLayerPoint(v),f=this._map.layerPointToLatLng(E)),this._tooltip.setLatLng(f)}});var Bc=ba.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(A){var f=A&&A.tagName==="DIV"?A:document.createElement("div"),v=this.options;if(v.html instanceof Element?(xs(f),f.appendChild(v.html)):f.innerHTML=v.html!==!1?v.html:"",v.bgPos){var E=Ne(v.bgPos);f.style.backgroundPosition=-E.x+"px "+-E.y+"px"}return this._setIconStyles(f,"icon"),f},createShadow:function(){return null}});function uu(A){return new Bc(A)}ba.Default=vo;var ll=$n.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ut.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(A){U(this,A)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(A){A._addZoomLimit(this)},onRemove:function(A){this._removeAllTiles(),Lr(this._container),A._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&($r(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ca(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(A){return this.options.opacity=A,this._updateOpacity(),this},setZIndex:function(A){return this.options.zIndex=A,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var A=this._clampZoom(this._map.getZoom());A!==this._tileZoom&&(this._tileZoom=A,this._updateLevels()),this._update()}return this},getEvents:function(){var A={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=m(this._onMoveEnd,this.options.updateInterval,this)),A.move=this._onMove),this._zoomAnimated&&(A.zoomanim=this._animateZoom),A},createTile:function(){return document.createElement("div")},getTileSize:function(){var A=this.options.tileSize;return A instanceof ee?A:new ee(A,A)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(A){for(var f=this.getPane().children,v=-A(-1/0,1/0),E=0,D=f.length,ie;E<D;E++)ie=f[E].style.zIndex,f[E]!==this._container&&ie&&(v=A(v,+ie));isFinite(v)&&(this.options.zIndex=v+A(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ut.ielt9){Be(this._container,this.options.opacity);var A=+new Date,f=!1,v=!1;for(var E in this._tiles){var D=this._tiles[E];if(!(!D.current||!D.loaded)){var ie=Math.min(1,(A-D.loaded)/200);Be(D.el,ie),ie<1?f=!0:(D.active?v=!0:this._onOpaqueTile(D),D.active=!0)}}v&&!this._noPrune&&this._pruneTiles(),f&&(W(this._fadeFrame),this._fadeFrame=Z(this._updateOpacity,this))}},_onOpaqueTile:b,_initContainer:function(){this._container||(this._container=ur("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var A=this._tileZoom,f=this.options.maxZoom;if(A!==void 0){for(var v in this._levels)v=Number(v),this._levels[v].el.children.length||v===A?(this._levels[v].el.style.zIndex=f-Math.abs(A-v),this._onUpdateLevel(v)):(Lr(this._levels[v].el),this._removeTilesAtZoom(v),this._onRemoveLevel(v),delete this._levels[v]);var E=this._levels[A],D=this._map;return E||(E=this._levels[A]={},E.el=ur("div","leaflet-tile-container leaflet-zoom-animated",this._container),E.el.style.zIndex=f,E.origin=D.project(D.unproject(D.getPixelOrigin()),A).round(),E.zoom=A,this._setZoomTransform(E,D.getCenter(),D.getZoom()),b(E.el.offsetWidth),this._onCreateLevel(E)),this._level=E,E}},_onUpdateLevel:b,_onRemoveLevel:b,_onCreateLevel:b,_pruneTiles:function(){if(this._map){var A,f,v=this._map.getZoom();if(v>this.options.maxZoom||v<this.options.minZoom){this._removeAllTiles();return}for(A in this._tiles)f=this._tiles[A],f.retain=f.current;for(A in this._tiles)if(f=this._tiles[A],f.current&&!f.active){var E=f.coords;this._retainParent(E.x,E.y,E.z,E.z-5)||this._retainChildren(E.x,E.y,E.z,E.z+2)}for(A in this._tiles)this._tiles[A].retain||this._removeTile(A)}},_removeTilesAtZoom:function(A){for(var f in this._tiles)this._tiles[f].coords.z===A&&this._removeTile(f)},_removeAllTiles:function(){for(var A in this._tiles)this._removeTile(A)},_invalidateAll:function(){for(var A in this._levels)Lr(this._levels[A].el),this._onRemoveLevel(Number(A)),delete this._levels[A];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(A,f,v,E){var D=Math.floor(A/2),ie=Math.floor(f/2),Ce=v-1,Oe=new ee(+D,+ie);Oe.z=+Ce;var Ze=this._tileCoordsToKey(Oe),pt=this._tiles[Ze];return pt&&pt.active?(pt.retain=!0,!0):(pt&&pt.loaded&&(pt.retain=!0),Ce>E?this._retainParent(D,ie,Ce,E):!1)},_retainChildren:function(A,f,v,E){for(var D=2*A;D<2*A+2;D++)for(var ie=2*f;ie<2*f+2;ie++){var Ce=new ee(D,ie);Ce.z=v+1;var Oe=this._tileCoordsToKey(Ce),Ze=this._tiles[Oe];if(Ze&&Ze.active){Ze.retain=!0;continue}else Ze&&Ze.loaded&&(Ze.retain=!0);v+1<E&&this._retainChildren(D,ie,v+1,E)}},_resetView:function(A){var f=A&&(A.pinch||A.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),f,f)},_animateZoom:function(A){this._setView(A.center,A.zoom,!0,A.noUpdate)},_clampZoom:function(A){var f=this.options;return f.minNativeZoom!==void 0&&A<f.minNativeZoom?f.minNativeZoom:f.maxNativeZoom!==void 0&&f.maxNativeZoom<A?f.maxNativeZoom:A},_setView:function(A,f,v,E){var D=Math.round(f);this.options.maxZoom!==void 0&&D>this.options.maxZoom||this.options.minZoom!==void 0&&D<this.options.minZoom?D=void 0:D=this._clampZoom(D);var ie=this.options.updateWhenZooming&&D!==this._tileZoom;(!E||ie)&&(this._tileZoom=D,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),D!==void 0&&this._update(A),v||this._pruneTiles(),this._noPrune=!!v),this._setZoomTransforms(A,f)},_setZoomTransforms:function(A,f){for(var v in this._levels)this._setZoomTransform(this._levels[v],A,f)},_setZoomTransform:function(A,f,v){var E=this._map.getZoomScale(v,A.zoom),D=A.origin.multiplyBy(E).subtract(this._map._getNewPixelOrigin(f,v)).round();Ut.any3d?Nt(A.el,D,E):Ot(A.el,D)},_resetGrid:function(){var A=this._map,f=A.options.crs,v=this._tileSize=this.getTileSize(),E=this._tileZoom,D=this._map.getPixelWorldBounds(this._tileZoom);D&&(this._globalTileRange=this._pxBoundsToTileRange(D)),this._wrapX=f.wrapLng&&!this.options.noWrap&&[Math.floor(A.project([0,f.wrapLng[0]],E).x/v.x),Math.ceil(A.project([0,f.wrapLng[1]],E).x/v.y)],this._wrapY=f.wrapLat&&!this.options.noWrap&&[Math.floor(A.project([f.wrapLat[0],0],E).y/v.x),Math.ceil(A.project([f.wrapLat[1],0],E).y/v.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(A){var f=this._map,v=f._animatingZoom?Math.max(f._animateToZoom,f.getZoom()):f.getZoom(),E=f.getZoomScale(v,this._tileZoom),D=f.project(A,this._tileZoom).floor(),ie=f.getSize().divideBy(E*2);return new q(D.subtract(ie),D.add(ie))},_update:function(A){var f=this._map;if(f){var v=this._clampZoom(f.getZoom());if(A===void 0&&(A=f.getCenter()),this._tileZoom!==void 0){var E=this._getTiledPixelBounds(A),D=this._pxBoundsToTileRange(E),ie=D.getCenter(),Ce=[],Oe=this.options.keepBuffer,Ze=new q(D.getBottomLeft().subtract([Oe,-Oe]),D.getTopRight().add([Oe,-Oe]));if(!(isFinite(D.min.x)&&isFinite(D.min.y)&&isFinite(D.max.x)&&isFinite(D.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var pt in this._tiles){var Pt=this._tiles[pt].coords;(Pt.z!==this._tileZoom||!Ze.contains(new ee(Pt.x,Pt.y)))&&(this._tiles[pt].current=!1)}if(Math.abs(v-this._tileZoom)>1){this._setView(A,v);return}for(var hr=D.min.y;hr<=D.max.y;hr++)for(var tn=D.min.x;tn<=D.max.x;tn++){var ua=new ee(tn,hr);if(ua.z=this._tileZoom,!!this._isValidTile(ua)){var ws=this._tiles[this._tileCoordsToKey(ua)];ws?ws.current=!0:Ce.push(ua)}}if(Ce.sort(function(jn,Un){return jn.distanceTo(ie)-Un.distanceTo(ie)}),Ce.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var si=document.createDocumentFragment();for(tn=0;tn<Ce.length;tn++)this._addTile(Ce[tn],si);this._level.el.appendChild(si)}}}},_isValidTile:function(A){var f=this._map.options.crs;if(!f.infinite){var v=this._globalTileRange;if(!f.wrapLng&&(A.x<v.min.x||A.x>v.max.x)||!f.wrapLat&&(A.y<v.min.y||A.y>v.max.y))return!1}if(!this.options.bounds)return!0;var E=this._tileCoordsToBounds(A);return $(this.options.bounds).overlaps(E)},_keyToBounds:function(A){return this._tileCoordsToBounds(this._keyToTileCoords(A))},_tileCoordsToNwSe:function(A){var f=this._map,v=this.getTileSize(),E=A.scaleBy(v),D=E.add(v),ie=f.unproject(E,A.z),Ce=f.unproject(D,A.z);return[ie,Ce]},_tileCoordsToBounds:function(A){var f=this._tileCoordsToNwSe(A),v=new G(f[0],f[1]);return this.options.noWrap||(v=this._map.wrapLatLngBounds(v)),v},_tileCoordsToKey:function(A){return A.x+":"+A.y+":"+A.z},_keyToTileCoords:function(A){var f=A.split(":"),v=new ee(+f[0],+f[1]);return v.z=+f[2],v},_removeTile:function(A){var f=this._tiles[A];f&&(Lr(f.el),delete this._tiles[A],this.fire("tileunload",{tile:f.el,coords:this._keyToTileCoords(A)}))},_initTile:function(A){Er(A,"leaflet-tile");var f=this.getTileSize();A.style.width=f.x+"px",A.style.height=f.y+"px",A.onselectstart=b,A.onmousemove=b,Ut.ielt9&&this.options.opacity<1&&Be(A,this.options.opacity)},_addTile:function(A,f){var v=this._getTilePos(A),E=this._tileCoordsToKey(A),D=this.createTile(this._wrapCoords(A),u(this._tileReady,this,A));this._initTile(D),this.createTile.length<2&&Z(u(this._tileReady,this,A,null,D)),Ot(D,v),this._tiles[E]={el:D,coords:A,current:!0},f.appendChild(D),this.fire("tileloadstart",{tile:D,coords:A})},_tileReady:function(A,f,v){f&&this.fire("tileerror",{error:f,tile:v,coords:A});var E=this._tileCoordsToKey(A);v=this._tiles[E],v&&(v.loaded=+new Date,this._map._fadeAnimated?(Be(v.el,0),W(this._fadeFrame),this._fadeFrame=Z(this._updateOpacity,this)):(v.active=!0,this._pruneTiles()),f||(Er(v.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:v.el,coords:A})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ut.ielt9||!this._map._fadeAnimated?Z(this._pruneTiles,this):setTimeout(u(this._pruneTiles,this),250)))},_getTilePos:function(A){return A.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(A){var f=new ee(this._wrapX?g(A.x,this._wrapX):A.x,this._wrapY?g(A.y,this._wrapY):A.y);return f.z=A.z,f},_pxBoundsToTileRange:function(A){var f=this.getTileSize();return new q(A.min.unscaleBy(f).floor(),A.max.unscaleBy(f).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var A in this._tiles)if(!this._tiles[A].loaded)return!1;return!0}});function Nc(A){return new ll(A)}var bi=ll.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(A,f){this._url=A,f=U(this,f),f.detectRetina&&Ut.retina&&f.maxZoom>0?(f.tileSize=Math.floor(f.tileSize/2),f.zoomReverse?(f.zoomOffset--,f.minZoom=Math.min(f.maxZoom,f.minZoom+1)):(f.zoomOffset++,f.maxZoom=Math.max(f.minZoom,f.maxZoom-1)),f.minZoom=Math.max(0,f.minZoom)):f.zoomReverse?f.minZoom=Math.min(f.maxZoom,f.minZoom):f.maxZoom=Math.max(f.minZoom,f.maxZoom),typeof f.subdomains=="string"&&(f.subdomains=f.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(A,f){return this._url===A&&f===void 0&&(f=!0),this._url=A,f||this.redraw(),this},createTile:function(A,f){var v=document.createElement("img");return Ft(v,"load",u(this._tileOnLoad,this,f,v)),Ft(v,"error",u(this._tileOnError,this,f,v)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(v.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(v.referrerPolicy=this.options.referrerPolicy),v.alt="",v.src=this.getTileUrl(A),v},getTileUrl:function(A){var f={r:Ut.retina?"@2x":"",s:this._getSubdomain(A),x:A.x,y:A.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var v=this._globalTileRange.max.y-A.y;this.options.tms&&(f.y=v),f["-y"]=v}return I(this._url,i(f,this.options))},_tileOnLoad:function(A,f){Ut.ielt9?setTimeout(u(A,this,null,f),0):A(null,f)},_tileOnError:function(A,f,v){var E=this.options.errorTileUrl;E&&f.getAttribute("src")!==E&&(f.src=E),A(v,f)},_onTileRemove:function(A){A.tile.onload=null},_getZoomForUrl:function(){var A=this._tileZoom,f=this.options.maxZoom,v=this.options.zoomReverse,E=this.options.zoomOffset;return v&&(A=f-A),A+E},_getSubdomain:function(A){var f=Math.abs(A.x+A.y)%this.options.subdomains.length;return this.options.subdomains[f]},_abortLoading:function(){var A,f;for(A in this._tiles)if(this._tiles[A].coords.z!==this._tileZoom&&(f=this._tiles[A].el,f.onload=b,f.onerror=b,!f.complete)){f.src=ne;var v=this._tiles[A].coords;Lr(f),delete this._tiles[A],this.fire("tileabort",{tile:f,coords:v})}},_removeTile:function(A){var f=this._tiles[A];if(f)return f.el.setAttribute("src",ne),ll.prototype._removeTile.call(this,A)},_tileReady:function(A,f,v){if(!(!this._map||v&&v.getAttribute("src")===ne))return ll.prototype._tileReady.call(this,A,f,v)}});function ti(A,f){return new bi(A,f)}var Fl=bi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(A,f){this._url=A;var v=i({},this.defaultWmsParams);for(var E in f)E in this.options||(v[E]=f[E]);f=U(this,f);var D=f.detectRetina&&Ut.retina?2:1,ie=this.getTileSize();v.width=ie.x*D,v.height=ie.y*D,this.wmsParams=v},onAdd:function(A){this._crs=this.options.crs||A.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var f=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[f]=this._crs.code,bi.prototype.onAdd.call(this,A)},getTileUrl:function(A){var f=this._tileCoordsToNwSe(A),v=this._crs,E=F(v.project(f[0]),v.project(f[1])),D=E.min,ie=E.max,Ce=(this._wmsVersion>=1.3&&this._crs===ol?[D.y,D.x,ie.y,ie.x]:[D.x,D.y,ie.x,ie.y]).join(","),Oe=bi.prototype.getTileUrl.call(this,A);return Oe+T(this.wmsParams,Oe,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Ce},setParams:function(A,f){return i(this.wmsParams,A),f||this.redraw(),this}});function ri(A,f){return new Fl(A,f)}bi.WMS=Fl,ti.wms=ri;var Fa=$n.extend({options:{padding:.1},initialize:function(A){U(this,A),h(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Er(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var A={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(A.zoomanim=this._onAnimZoom),A},_onAnimZoom:function(A){this._updateTransform(A.center,A.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(A,f){var v=this._map.getZoomScale(f,this._zoom),E=this._map.getSize().multiplyBy(.5+this.options.padding),D=this._map.project(this._center,f),ie=E.multiplyBy(-v).add(D).subtract(this._map._getNewPixelOrigin(A,f));Ut.any3d?Nt(this._container,ie,v):Ot(this._container,ie)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var A in this._layers)this._layers[A]._reset()},_onZoomEnd:function(){for(var A in this._layers)this._layers[A]._project()},_updatePaths:function(){for(var A in this._layers)this._layers[A]._update()},_update:function(){var A=this.options.padding,f=this._map.getSize(),v=this._map.containerPointToLayerPoint(f.multiplyBy(-A)).round();this._bounds=new q(v,v.add(f.multiplyBy(1+A*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),cA=Fa.extend({options:{tolerance:0},getEvents:function(){var A=Fa.prototype.getEvents.call(this);return A.viewprereset=this._onViewPreReset,A},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Fa.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var A=this._container=document.createElement("canvas");Ft(A,"mousemove",this._onMouseMove,this),Ft(A,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ft(A,"mouseout",this._handleMouseOut,this),A._leaflet_disable_events=!0,this._ctx=A.getContext("2d")},_destroyContainer:function(){W(this._redrawRequest),delete this._ctx,Lr(this._container),Sn(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var A;this._redrawBounds=null;for(var f in this._layers)A=this._layers[f],A._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Fa.prototype._update.call(this);var A=this._bounds,f=this._container,v=A.getSize(),E=Ut.retina?2:1;Ot(f,A.min),f.width=E*v.x,f.height=E*v.y,f.style.width=v.x+"px",f.style.height=v.y+"px",Ut.retina&&this._ctx.scale(2,2),this._ctx.translate(-A.min.x,-A.min.y),this.fire("update")}},_reset:function(){Fa.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(A){this._updateDashArray(A),this._layers[h(A)]=A;var f=A._order={layer:A,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=f),this._drawLast=f,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(A){this._requestRedraw(A)},_removePath:function(A){var f=A._order,v=f.next,E=f.prev;v?v.prev=E:this._drawLast=E,E?E.next=v:this._drawFirst=v,delete A._order,delete this._layers[h(A)],this._requestRedraw(A)},_updatePath:function(A){this._extendRedrawBounds(A),A._project(),A._update(),this._requestRedraw(A)},_updateStyle:function(A){this._updateDashArray(A),this._requestRedraw(A)},_updateDashArray:function(A){if(typeof A.options.dashArray=="string"){var f=A.options.dashArray.split(/[, ]+/),v=[],E,D;for(D=0;D<f.length;D++){if(E=Number(f[D]),isNaN(E))return;v.push(E)}A.options._dashArray=v}else A.options._dashArray=A.options.dashArray},_requestRedraw:function(A){this._map&&(this._extendRedrawBounds(A),this._redrawRequest=this._redrawRequest||Z(this._redraw,this))},_extendRedrawBounds:function(A){if(A._pxBounds){var f=(A.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new q,this._redrawBounds.extend(A._pxBounds.min.subtract([f,f])),this._redrawBounds.extend(A._pxBounds.max.add([f,f]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var A=this._redrawBounds;if(A){var f=A.getSize();this._ctx.clearRect(A.min.x,A.min.y,f.x,f.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var A,f=this._redrawBounds;if(this._ctx.save(),f){var v=f.getSize();this._ctx.beginPath(),this._ctx.rect(f.min.x,f.min.y,v.x,v.y),this._ctx.clip()}this._drawing=!0;for(var E=this._drawFirst;E;E=E.next)A=E.layer,(!f||A._pxBounds&&A._pxBounds.intersects(f))&&A._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(A,f){if(this._drawing){var v,E,D,ie,Ce=A._parts,Oe=Ce.length,Ze=this._ctx;if(Oe){for(Ze.beginPath(),v=0;v<Oe;v++){for(E=0,D=Ce[v].length;E<D;E++)ie=Ce[v][E],Ze[E?"lineTo":"moveTo"](ie.x,ie.y);f&&Ze.closePath()}this._fillStroke(Ze,A)}}},_updateCircle:function(A){if(!(!this._drawing||A._empty())){var f=A._point,v=this._ctx,E=Math.max(Math.round(A._radius),1),D=(Math.max(Math.round(A._radiusY),1)||E)/E;D!==1&&(v.save(),v.scale(1,D)),v.beginPath(),v.arc(f.x,f.y/D,E,0,Math.PI*2,!1),D!==1&&v.restore(),this._fillStroke(v,A)}},_fillStroke:function(A,f){var v=f.options;v.fill&&(A.globalAlpha=v.fillOpacity,A.fillStyle=v.fillColor||v.color,A.fill(v.fillRule||"evenodd")),v.stroke&&v.weight!==0&&(A.setLineDash&&A.setLineDash(f.options&&f.options._dashArray||[]),A.globalAlpha=v.opacity,A.lineWidth=v.weight,A.strokeStyle=v.color,A.lineCap=v.lineCap,A.lineJoin=v.lineJoin,A.stroke())},_onClick:function(A){for(var f=this._map.mouseEventToLayerPoint(A),v,E,D=this._drawFirst;D;D=D.next)v=D.layer,v.options.interactive&&v._containsPoint(f)&&(!(A.type==="click"||A.type==="preclick")||!this._map._draggableMoved(v))&&(E=v);this._fireEvent(E?[E]:!1,A)},_onMouseMove:function(A){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var f=this._map.mouseEventToLayerPoint(A);this._handleMouseHover(A,f)}},_handleMouseOut:function(A){var f=this._hoveredLayer;f&&(wr(this._container,"leaflet-interactive"),this._fireEvent([f],A,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(A,f){if(!this._mouseHoverThrottled){for(var v,E,D=this._drawFirst;D;D=D.next)v=D.layer,v.options.interactive&&v._containsPoint(f)&&(E=v);E!==this._hoveredLayer&&(this._handleMouseOut(A),E&&(Er(this._container,"leaflet-interactive"),this._fireEvent([E],A,"mouseover"),this._hoveredLayer=E)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,A),this._mouseHoverThrottled=!0,setTimeout(u(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(A,f,v){this._map._fireDOMEvent(f,v||f.type,A)},_bringToFront:function(A){var f=A._order;if(f){var v=f.next,E=f.prev;if(v)v.prev=E;else return;E?E.next=v:v&&(this._drawFirst=v),f.prev=this._drawLast,this._drawLast.next=f,f.next=null,this._drawLast=f,this._requestRedraw(A)}},_bringToBack:function(A){var f=A._order;if(f){var v=f.next,E=f.prev;if(E)E.next=v;else return;v?v.prev=E:E&&(this._drawLast=E),f.prev=null,f.next=this._drawFirst,this._drawFirst.prev=f,this._drawFirst=f,this._requestRedraw(A)}}});function Tl(A){return Ut.canvas?new cA(A):null}var _o=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(A){return document.createElement("<lvml:"+A+' class="lvml">')}}catch{}return function(A){return document.createElement("<"+A+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),DA={_initContainer:function(){this._container=ur("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Fa.prototype._update.call(this),this.fire("update"))},_initPath:function(A){var f=A._container=_o("shape");Er(f,"leaflet-vml-shape "+(this.options.className||"")),f.coordsize="1 1",A._path=_o("path"),f.appendChild(A._path),this._updateStyle(A),this._layers[h(A)]=A},_addPath:function(A){var f=A._container;this._container.appendChild(f),A.options.interactive&&A.addInteractiveTarget(f)},_removePath:function(A){var f=A._container;Lr(f),A.removeInteractiveTarget(f),delete this._layers[h(A)]},_updateStyle:function(A){var f=A._stroke,v=A._fill,E=A.options,D=A._container;D.stroked=!!E.stroke,D.filled=!!E.fill,E.stroke?(f||(f=A._stroke=_o("stroke")),D.appendChild(f),f.weight=E.weight+"px",f.color=E.color,f.opacity=E.opacity,E.dashArray?f.dashStyle=O(E.dashArray)?E.dashArray.join(" "):E.dashArray.replace(/( *, *)/g," "):f.dashStyle="",f.endcap=E.lineCap.replace("butt","flat"),f.joinstyle=E.lineJoin):f&&(D.removeChild(f),A._stroke=null),E.fill?(v||(v=A._fill=_o("fill")),D.appendChild(v),v.color=E.fillColor||E.color,v.opacity=E.fillOpacity):v&&(D.removeChild(v),A._fill=null)},_updateCircle:function(A){var f=A._point.round(),v=Math.round(A._radius),E=Math.round(A._radiusY||v);this._setPath(A,A._empty()?"M0 0":"AL "+f.x+","+f.y+" "+v+","+E+" 0,"+65535*360)},_setPath:function(A,f){A._path.v=f},_bringToFront:function(A){$r(A._container)},_bringToBack:function(A){Ca(A._container)}},vi=Ut.vml?_o:pe,Bo=Fa.extend({_initContainer:function(){this._container=vi("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=vi("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Lr(this._container),Sn(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Fa.prototype._update.call(this);var A=this._bounds,f=A.getSize(),v=this._container;(!this._svgSize||!this._svgSize.equals(f))&&(this._svgSize=f,v.setAttribute("width",f.x),v.setAttribute("height",f.y)),Ot(v,A.min),v.setAttribute("viewBox",[A.min.x,A.min.y,f.x,f.y].join(" ")),this.fire("update")}},_initPath:function(A){var f=A._path=vi("path");A.options.className&&Er(f,A.options.className),A.options.interactive&&Er(f,"leaflet-interactive"),this._updateStyle(A),this._layers[h(A)]=A},_addPath:function(A){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(A._path),A.addInteractiveTarget(A._path)},_removePath:function(A){Lr(A._path),A.removeInteractiveTarget(A._path),delete this._layers[h(A)]},_updatePath:function(A){A._project(),A._update()},_updateStyle:function(A){var f=A._path,v=A.options;f&&(v.stroke?(f.setAttribute("stroke",v.color),f.setAttribute("stroke-opacity",v.opacity),f.setAttribute("stroke-width",v.weight),f.setAttribute("stroke-linecap",v.lineCap),f.setAttribute("stroke-linejoin",v.lineJoin),v.dashArray?f.setAttribute("stroke-dasharray",v.dashArray):f.removeAttribute("stroke-dasharray"),v.dashOffset?f.setAttribute("stroke-dashoffset",v.dashOffset):f.removeAttribute("stroke-dashoffset")):f.setAttribute("stroke","none"),v.fill?(f.setAttribute("fill",v.fillColor||v.color),f.setAttribute("fill-opacity",v.fillOpacity),f.setAttribute("fill-rule",v.fillRule||"evenodd")):f.setAttribute("fill","none"))},_updatePoly:function(A,f){this._setPath(A,Ct(A._parts,f))},_updateCircle:function(A){var f=A._point,v=Math.max(Math.round(A._radius),1),E=Math.max(Math.round(A._radiusY),1)||v,D="a"+v+","+E+" 0 1,0 ",ie=A._empty()?"M0 0":"M"+(f.x-v)+","+f.y+D+v*2+",0 "+D+-v*2+",0 ";this._setPath(A,ie)},_setPath:function(A,f){A._path.setAttribute("d",f)},_bringToFront:function(A){$r(A._path)},_bringToBack:function(A){Ca(A._path)}});Ut.vml&&Bo.include(DA);function Aa(A){return Ut.svg||Ut.vml?new Bo(A):null}en.include({getRenderer:function(A){var f=A.options.renderer||this._getPaneRenderer(A.options.pane)||this.options.renderer||this._renderer;return f||(f=this._renderer=this._createRenderer()),this.hasLayer(f)||this.addLayer(f),f},_getPaneRenderer:function(A){if(A==="overlayPane"||A===void 0)return!1;var f=this._paneRenderers[A];return f===void 0&&(f=this._createRenderer({pane:A}),this._paneRenderers[A]=f),f},_createRenderer:function(A){return this.options.preferCanvas&&Tl(A)||Aa(A)}});var Zs=yo.extend({initialize:function(A,f){yo.prototype.initialize.call(this,this._boundsToLatLngs(A),f)},setBounds:function(A){return this.setLatLngs(this._boundsToLatLngs(A))},_boundsToLatLngs:function(A){return A=$(A),[A.getSouthWest(),A.getNorthWest(),A.getNorthEast(),A.getSouthEast()]}});function MA(A,f){return new Zs(A,f)}Bo.create=vi,Bo.pointsToPath=Ct,$s.geometryToLayer=js,$s.coordsToLatLng=Po,$s.coordsToLatLngs=wo,$s.latLngToCoords=Ri,$s.latLngsToCoords=xi,$s.getFeature=Ua,$s.asFeature=$i,en.mergeOptions({boxZoom:!0});var ca=be.extend({initialize:function(A){this._map=A,this._container=A._container,this._pane=A._panes.overlayPane,this._resetStateTimeout=0,A.on("unload",this._destroy,this)},addHooks:function(){Ft(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Sn(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Lr(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(A){if(!A.shiftKey||A.which!==1&&A.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Qt(),Ea(),this._startPoint=this._map.mouseEventToContainerPoint(A),Ft(document,{contextmenu:Hi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(A){this._moved||(this._moved=!0,this._box=ur("div","leaflet-zoom-box",this._container),Er(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(A);var f=new q(this._point,this._startPoint),v=f.getSize();Ot(this._box,f.min),this._box.style.width=v.x+"px",this._box.style.height=v.y+"px"},_finish:function(){this._moved&&(Lr(this._box),wr(this._container,"leaflet-crosshair")),sr(),ts(),Sn(document,{contextmenu:Hi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(A){if(!(A.which!==1&&A.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(u(this._resetState,this),0);var f=new G(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(f).fire("boxzoomend",{boxZoomBounds:f})}},_onKeyDown:function(A){A.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});en.addInitHook("addHandler","boxZoom",ca),en.mergeOptions({doubleClickZoom:!0});var uA=be.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(A){var f=this._map,v=f.getZoom(),E=f.options.zoomDelta,D=A.originalEvent.shiftKey?v-E:v+E;f.options.doubleClickZoom==="center"?f.setZoom(D):f.setZoomAround(A.containerPoint,D)}});en.addInitHook("addHandler","doubleClickZoom",uA),en.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ni=be.extend({addHooks:function(){if(!this._draggable){var A=this._map;this._draggable=new ot(A._mapPane,A._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),A.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),A.on("zoomend",this._onZoomEnd,this),A.whenReady(this._onZoomEnd,this))}Er(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){wr(this._map._container,"leaflet-grab"),wr(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var A=this._map;if(A._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var f=$(this._map.options.maxBounds);this._offsetLimit=F(this._map.latLngToContainerPoint(f.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(f.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;A.fire("movestart").fire("dragstart"),A.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(A){if(this._map.options.inertia){var f=this._lastTime=+new Date,v=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(v),this._times.push(f),this._prunePositions(f)}this._map.fire("move",A).fire("drag",A)},_prunePositions:function(A){for(;this._positions.length>1&&A-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var A=this._map.getSize().divideBy(2),f=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=f.subtract(A).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(A,f){return A-(A-f)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var A=this._draggable._newPos.subtract(this._draggable._startPos),f=this._offsetLimit;A.x<f.min.x&&(A.x=this._viscousLimit(A.x,f.min.x)),A.y<f.min.y&&(A.y=this._viscousLimit(A.y,f.min.y)),A.x>f.max.x&&(A.x=this._viscousLimit(A.x,f.max.x)),A.y>f.max.y&&(A.y=this._viscousLimit(A.y,f.max.y)),this._draggable._newPos=this._draggable._startPos.add(A)}},_onPreDragWrap:function(){var A=this._worldWidth,f=Math.round(A/2),v=this._initialWorldOffset,E=this._draggable._newPos.x,D=(E-f+v)%A+f-v,ie=(E+f+v)%A-f-v,Ce=Math.abs(D+v)<Math.abs(ie+v)?D:ie;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Ce},_onDragEnd:function(A){var f=this._map,v=f.options,E=!v.inertia||A.noInertia||this._times.length<2;if(f.fire("dragend",A),E)f.fire("moveend");else{this._prunePositions(+new Date);var D=this._lastPos.subtract(this._positions[0]),ie=(this._lastTime-this._times[0])/1e3,Ce=v.easeLinearity,Oe=D.multiplyBy(Ce/ie),Ze=Oe.distanceTo([0,0]),pt=Math.min(v.inertiaMaxSpeed,Ze),Pt=Oe.multiplyBy(pt/Ze),hr=pt/(v.inertiaDeceleration*Ce),tn=Pt.multiplyBy(-hr/2).round();!tn.x&&!tn.y?f.fire("moveend"):(tn=f._limitOffset(tn,f.options.maxBounds),Z(function(){f.panBy(tn,{duration:hr,easeLinearity:Ce,noMoveStart:!0,animate:!0})}))}}});en.addInitHook("addHandler","dragging",ni),en.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Il=be.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(A){this._map=A,this._setPanDelta(A.options.keyboardPanDelta),this._setZoomDelta(A.options.zoomDelta)},addHooks:function(){var A=this._map._container;A.tabIndex<=0&&(A.tabIndex="0"),Ft(A,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Sn(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var A=document.body,f=document.documentElement,v=A.scrollTop||f.scrollTop,E=A.scrollLeft||f.scrollLeft;this._map._container.focus(),window.scrollTo(E,v)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(A){var f=this._panKeys={},v=this.keyCodes,E,D;for(E=0,D=v.left.length;E<D;E++)f[v.left[E]]=[-1*A,0];for(E=0,D=v.right.length;E<D;E++)f[v.right[E]]=[A,0];for(E=0,D=v.down.length;E<D;E++)f[v.down[E]]=[0,A];for(E=0,D=v.up.length;E<D;E++)f[v.up[E]]=[0,-1*A]},_setZoomDelta:function(A){var f=this._zoomKeys={},v=this.keyCodes,E,D;for(E=0,D=v.zoomIn.length;E<D;E++)f[v.zoomIn[E]]=A;for(E=0,D=v.zoomOut.length;E<D;E++)f[v.zoomOut[E]]=-A},_addHooks:function(){Ft(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Sn(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(A){if(!(A.altKey||A.ctrlKey||A.metaKey)){var f=A.keyCode,v=this._map,E;if(f in this._panKeys){if(!v._panAnim||!v._panAnim._inProgress)if(E=this._panKeys[f],A.shiftKey&&(E=Ne(E).multiplyBy(3)),v.options.maxBounds&&(E=v._limitOffset(Ne(E),v.options.maxBounds)),v.options.worldCopyJump){var D=v.wrapLatLng(v.unproject(v.project(v.getCenter()).add(E)));v.panTo(D)}else v.panBy(E)}else if(f in this._zoomKeys)v.setZoom(v.getZoom()+(A.shiftKey?3:1)*this._zoomKeys[f]);else if(f===27&&v._popup&&v._popup.options.closeOnEscapeKey)v.closePopup();else return;Hi(A)}}});en.addInitHook("addHandler","keyboard",Il),en.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Al=be.extend({addHooks:function(){Ft(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Sn(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(A){var f=Ms(A),v=this._map.options.wheelDebounceTime;this._delta+=f,this._lastMousePos=this._map.mouseEventToContainerPoint(A),this._startTime||(this._startTime=+new Date);var E=Math.max(v-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(u(this._performZoom,this),E),Hi(A)},_performZoom:function(){var A=this._map,f=A.getZoom(),v=this._map.options.zoomSnap||0;A._stop();var E=this._delta/(this._map.options.wheelPxPerZoomLevel*4),D=4*Math.log(2/(1+Math.exp(-Math.abs(E))))/Math.LN2,ie=v?Math.ceil(D/v)*v:D,Ce=A._limitZoom(f+(this._delta>0?ie:-ie))-f;this._delta=0,this._startTime=null,Ce&&(A.options.scrollWheelZoom==="center"?A.setZoom(f+Ce):A.setZoomAround(this._lastMousePos,f+Ce))}});en.addInitHook("addHandler","scrollWheelZoom",Al);var Ho=600;en.mergeOptions({tapHold:Ut.touchNative&&Ut.safari&&Ut.mobile,tapTolerance:15});var Ql=be.extend({addHooks:function(){Ft(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Sn(this._map._container,"touchstart",this._onDown,this)},_onDown:function(A){if(clearTimeout(this._holdTimeout),A.touches.length===1){var f=A.touches[0];this._startPos=this._newPos=new ee(f.clientX,f.clientY),this._holdTimeout=setTimeout(u(function(){this._cancel(),this._isTapValid()&&(Ft(document,"touchend",zn),Ft(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",f))},this),Ho),Ft(document,"touchend touchcancel contextmenu",this._cancel,this),Ft(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function A(){Sn(document,"touchend",zn),Sn(document,"touchend touchcancel",A)},_cancel:function(){clearTimeout(this._holdTimeout),Sn(document,"touchend touchcancel contextmenu",this._cancel,this),Sn(document,"touchmove",this._onMove,this)},_onMove:function(A){var f=A.touches[0];this._newPos=new ee(f.clientX,f.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(A,f){var v=new MouseEvent(A,{bubbles:!0,cancelable:!0,view:window,screenX:f.screenX,screenY:f.screenY,clientX:f.clientX,clientY:f.clientY});v._simulated=!0,f.target.dispatchEvent(v)}});en.addInitHook("addHandler","tapHold",Ql),en.mergeOptions({touchZoom:Ut.touch,bounceAtZoomLimits:!0});var dA=be.extend({addHooks:function(){Er(this._map._container,"leaflet-touch-zoom"),Ft(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){wr(this._map._container,"leaflet-touch-zoom"),Sn(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(A){var f=this._map;if(!(!A.touches||A.touches.length!==2||f._animatingZoom||this._zooming)){var v=f.mouseEventToContainerPoint(A.touches[0]),E=f.mouseEventToContainerPoint(A.touches[1]);this._centerPoint=f.getSize()._divideBy(2),this._startLatLng=f.containerPointToLatLng(this._centerPoint),f.options.touchZoom!=="center"&&(this._pinchStartLatLng=f.containerPointToLatLng(v.add(E)._divideBy(2))),this._startDist=v.distanceTo(E),this._startZoom=f.getZoom(),this._moved=!1,this._zooming=!0,f._stop(),Ft(document,"touchmove",this._onTouchMove,this),Ft(document,"touchend touchcancel",this._onTouchEnd,this),zn(A)}},_onTouchMove:function(A){if(!(!A.touches||A.touches.length!==2||!this._zooming)){var f=this._map,v=f.mouseEventToContainerPoint(A.touches[0]),E=f.mouseEventToContainerPoint(A.touches[1]),D=v.distanceTo(E)/this._startDist;if(this._zoom=f.getScaleZoom(D,this._startZoom),!f.options.bounceAtZoomLimits&&(this._zoom<f.getMinZoom()&&D<1||this._zoom>f.getMaxZoom()&&D>1)&&(this._zoom=f._limitZoom(this._zoom)),f.options.touchZoom==="center"){if(this._center=this._startLatLng,D===1)return}else{var ie=v._add(E)._divideBy(2)._subtract(this._centerPoint);if(D===1&&ie.x===0&&ie.y===0)return;this._center=f.unproject(f.project(this._pinchStartLatLng,this._zoom).subtract(ie),this._zoom)}this._moved||(f._moveStart(!0,!1),this._moved=!0),W(this._animRequest);var Ce=u(f._move,f,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Z(Ce,this,!0),zn(A)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,W(this._animRequest),Sn(document,"touchmove",this._onTouchMove,this),Sn(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});en.addInitHook("addHandler","touchZoom",dA),en.BoxZoom=ca,en.DoubleClickZoom=uA,en.Drag=ni,en.Keyboard=Il,en.ScrollWheelZoom=Al,en.TapHold=Ql,en.TouchZoom=dA,r.Bounds=q,r.Browser=Ut,r.CRS=ve,r.Canvas=cA,r.Circle=Oi,r.CircleMarker=ei,r.Class=K,r.Control=Ps,r.DivIcon=Bc,r.DivOverlay=Us,r.DomEvent=fi,r.DomUtil=Oo,r.Draggable=ot,r.Evented=Ae,r.FeatureGroup=Ja,r.GeoJSON=$s,r.GridLayer=ll,r.Handler=be,r.Icon=ba,r.ImageOverlay=La,r.LatLng=V,r.LatLngBounds=G,r.Layer=$n,r.LayerGroup=Ma,r.LineUtil=il,r.Map=en,r.Marker=Qi,r.Mixin=Se,r.Path=ds,r.Point=ee,r.PolyUtil=Fr,r.Polygon=yo,r.Polyline=Ha,r.Popup=Yi,r.PosAnimation=qi,r.Projection=Do,r.Rectangle=Zs,r.Renderer=Fa,r.SVG=Bo,r.SVGOverlay=hs,r.TileLayer=bi,r.Tooltip=Ll,r.Transformation=Ke,r.Util=ae,r.VideoOverlay=gn,r.bind=u,r.bounds=F,r.canvas=Tl,r.circle=kl,r.circleMarker=Ki,r.control=Ya,r.divIcon=uu,r.extend=i,r.featureGroup=Wa,r.geoJSON=Zi,r.geoJson=va,r.gridLayer=Nc,r.icon=bo,r.imageOverlay=Nn,r.latLng=he,r.latLngBounds=$,r.layerGroup=Ul,r.map=al,r.marker=Pa,r.point=Ne,r.polygon=Gi,r.polyline=ys,r.popup=AA,r.rectangle=MA,r.setOptions=U,r.stamp=h,r.svg=Aa,r.svgOverlay=Xi,r.tileLayer=ti,r.tooltip=cu,r.transformation=nt,r.version=n,r.videoOverlay=Kn;var Ol=window.L;r.noConflict=function(){return window.L=Ol,this},window.L=r}))})(mh,mh.exports)),mh.exports}var ou=oj();const Os=Bm(ou);function J5(t,e){const r=P.useRef(e);P.useEffect(function(){e!==r.current&&t.attributionControl!=null&&(r.current!=null&&t.attributionControl.removeAttribution(r.current),e!=null&&t.attributionControl.addAttribution(e)),r.current=e},[t,e])}var $b=O5();const lj=Bm($b),Aj=1;function cj(t){return Object.freeze({__version:Aj,map:t})}function W5(t,e){return Object.freeze({...t,...e})}const Sm=P.createContext(null);function Yh(){const t=P.use(Sm);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function uj(t){function e(r,n){const{instance:i,context:l}=t(r).current;P.useImperativeHandle(n,()=>i);const{children:u}=r;return u==null?null:Dt.createElement(Sm,{value:l},u)}return P.forwardRef(e)}function dj(t){function e(r,n){const[i,l]=P.useState(!1),{instance:u}=t(r,l).current;P.useImperativeHandle(n,()=>u),P.useEffect(function(){i&&u.update()},[u,i,r.children]);const d=u._contentNode;return d?$b.createPortal(r.children,d):null}return P.forwardRef(e)}function hj(t){function e(r,n){const{instance:i}=t(r).current;return P.useImperativeHandle(n,()=>i),null}return P.forwardRef(e)}function Zb(t,e){const r=P.useRef(void 0);P.useEffect(function(){return e!=null&&t.instance.on(e),r.current=e,function(){r.current!=null&&t.instance.off(r.current),r.current=null}},[t,e])}function jm(t,e){const r=t.pane??e.pane;return r?{...t,pane:r}:t}function fj(t,e){return function(n,i){const l=Yh(),u=t(jm(n,l),l);return J5(l.map,n.attribution),Zb(u.current,n.eventHandlers),e(u.current,l,n,i),u}}function pj(t){return t.split(" ").filter(Boolean)}function mj(t,e){for(const r of pj(e))ou.DomUtil.addClass(t,r)}function Um(t,e,r){return Object.freeze({instance:t,context:e,container:r})}function Xb(t,e){return e==null?function(n,i){const l=P.useRef(void 0);return l.current||(l.current=t(n,i)),l}:function(n,i){const l=P.useRef(void 0);l.current||(l.current=t(n,i));const u=P.useRef(n),{instance:d}=l.current;return P.useEffect(function(){u.current!==n&&(e(d,n,u.current),u.current=n)},[d,n,e]),l}}function eB(t,e){P.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){var l;(l=e.layerContainer)==null||l.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function gj(t){return function(r){const n=Yh(),i=t(jm(r,n),n);return J5(n.map,r.attribution),Zb(i.current,r.eventHandlers),eB(i.current,n),i}}function xj(t,e){const r=P.useRef(void 0);P.useEffect(function(){if(e.pathOptions!==r.current){const i=e.pathOptions??{};t.instance.setStyle(i),r.current=i}},[t,e])}function bj(t){return function(r){const n=Yh(),i=t(jm(r,n),n);return Zb(i.current,r.eventHandlers),eB(i.current,n),xj(i.current,r),i}}function vj(t,e){const r=Xb(t),n=fj(r,e);return dj(n)}function tB(t,e){const r=Xb(t,e),n=bj(r);return uj(n)}function yj(t,e){const r=Xb(t,e),n=gj(r);return hj(n)}function wj(t,e,r){const{opacity:n,zIndex:i}=e;n!=null&&n!==r.opacity&&t.setOpacity(n),i!=null&&i!==r.zIndex&&t.setZIndex(i)}function yd(){return Yh().map}const rB=tB(function({children:e,...r},n){const i=new ou.FeatureGroup([],r);return Um(i,W5(n,{layerContainer:i,overlayContainer:i}))});function _j({bounds:t,boundsOptions:e,center:r,children:n,className:i,id:l,placeholder:u,style:d,whenReady:h,zoom:m,...g},b){const[N]=P.useState({className:i,id:l,style:d}),[w,C]=P.useState(null),U=P.useRef(void 0);P.useImperativeHandle(b,()=>(w==null?void 0:w.map)??null,[w]);const T=P.useCallback(I=>{if(I!==null&&!U.current){const O=new ou.Map(I,g);U.current=O,r!=null&&m!=null?O.setView(r,m):t!=null&&O.fitBounds(t,e),h!=null&&O.whenReady(h),C(cj(O))}},[]);P.useEffect(()=>()=>{w==null||w.map.remove()},[w]);const S=w?Dt.createElement(Sm,{value:w},n):u??null;return Dt.createElement("div",{...N,ref:T},S)}const Yb=P.forwardRef(_j),Bj=["mapPane","markerPane","overlayPane","popupPane","shadowPane","tilePane","tooltipPane"];function lw(t,e){const{[e]:r,...n}=t;return n}function Nj(t,e,r){if(Bj.indexOf(t)!==-1)throw new Error(`You must use a unique name for a pane that is not a default Leaflet pane: ${t}`);if(r.map.getPane(t)!=null)throw new Error(`A pane with this name already exists: ${t}`);const n=e.pane??r.pane,i=n?r.map.getPane(n):void 0,l=r.map.createPane(t,i);if(e.className!=null&&mj(l,e.className),e.style!=null)for(const u of Object.keys(e.style))l.style[u]=e.style[u];return l}function Cj(t,e){const[r]=P.useState(t.name),[n,i]=P.useState(null);P.useImperativeHandle(e,()=>n,[n]);const l=Yh(),u=P.useMemo(()=>({...l,pane:r}),[l]);return P.useEffect(()=>(i(Nj(r,t,l)),function(){var m;const h=l.map.getPane(r);(m=h==null?void 0:h.remove)==null||m.call(h),l.map._panes!=null&&(l.map._panes=lw(l.map._panes,r),l.map._paneRenderers=lw(l.map._paneRenderers,r))}),[]),t.children!=null&&n!=null?$b.createPortal(Dt.createElement(Sm,{value:u},t.children),n):null}const nB=P.forwardRef(Cj),Jb=tB(function({positions:e,...r},n){const i=new ou.Polygon(e,r);return Um(i,W5(n,{overlayContainer:i}))},function(e,r,n){r.positions!==n.positions&&e.setLatLngs(r.positions)}),Wb=yj(function({url:e,...r},n){const i=new ou.TileLayer(e,jm(r,n));return Um(i,n)},function(e,r,n){wj(e,r,n);const{url:i}=r;i!=null&&i!==n.url&&e.setUrl(i)}),ev=vj(function(e,r){const n=new ou.Tooltip(e,r.overlayContainer);return Um(n,r)},function(e,r,{position:n},i){P.useEffect(function(){const u=r.overlayContainer;if(u==null)return;const{instance:d}=e,h=g=>{g.tooltip===d&&(n!=null&&d.setLatLng(n),d.update(),i(!0))},m=g=>{g.tooltip===d&&i(!1)};return u.on({tooltipopen:h,tooltipclose:m}),u.bindTooltip(d),function(){u.off({tooltipopen:h,tooltipclose:m}),u._map!=null&&u.unbindTooltip()}},[e,r,i,n])});/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Hx=function(t,e){return Hx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Hx(t,e)};function Nl(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Hx(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var qx=function(){return qx=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},qx.apply(this,arguments)};function Di(t,e,r,n){function i(l){return l instanceof r?l:new r(function(u){u(l)})}return new(r||(r=Promise))(function(l,u){function d(g){try{m(n.next(g))}catch(b){u(b)}}function h(g){try{m(n.throw(g))}catch(b){u(b)}}function m(g){g.done?l(g.value):i(g.value).then(d,h)}m((n=n.apply(t,[])).next())})}function Si(t,e){var r={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},n,i,l,u;return u={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function d(m){return function(g){return h([m,g])}}function h(m){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(l=m[0]&2?i.return:m[0]?i.throw||((l=i.return)&&l.call(i),0):i.next)&&!(l=l.call(i,m[1])).done)return l;switch(i=0,l&&(m=[m[0]&2,l.value]),m[0]){case 0:case 1:l=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,i=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(l=r.trys,!(l=l.length>0&&l[l.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!l||m[1]>l[0]&&m[1]<l[3])){r.label=m[1];break}if(m[0]===6&&r.label<l[1]){r.label=l[1],l=m;break}if(l&&r.label<l[2]){r.label=l[2],r.ops.push(m);break}l[2]&&r.ops.pop(),r.trys.pop();continue}m=e.call(t,r)}catch(g){m=[6,g],i=0}finally{n=l=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}}function Xf(t,e,r){if(arguments.length===2)for(var n=0,i=e.length,l;n<i;n++)(l||!(n in e))&&(l||(l=Array.prototype.slice.call(e,0,n)),l[n]=e[n]);return t.concat(l||e)}var QA=(function(){function t(e,r,n,i){this.left=e,this.top=r,this.width=n,this.height=i}return t.prototype.add=function(e,r,n,i){return new t(this.left+e,this.top+r,this.width+n,this.height+i)},t.fromClientRect=function(e,r){return new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height)},t.fromDOMRectList=function(e,r){var n=Array.from(r).find(function(i){return i.width!==0});return n?new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t})(),km=function(t,e){return QA.fromClientRect(t,e.getBoundingClientRect())},Ej=function(t){var e=t.body,r=t.documentElement;if(!e||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(e.scrollWidth,r.scrollWidth),Math.max(e.offsetWidth,r.offsetWidth),Math.max(e.clientWidth,r.clientWidth)),i=Math.max(Math.max(e.scrollHeight,r.scrollHeight),Math.max(e.offsetHeight,r.offsetHeight),Math.max(e.clientHeight,r.clientHeight));return new QA(0,0,n,i)},Lm=function(t){for(var e=[],r=0,n=t.length;r<n;){var i=t.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var l=t.charCodeAt(r++);(l&64512)===56320?e.push(((i&1023)<<10)+(l&1023)+65536):(e.push(i),r--)}else e.push(i)}return e},pa=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],i=-1,l="";++i<r;){var u=t[i];u<=65535?n.push(u):(u-=65536,n.push((u>>10)+55296,u%1024+56320)),(i+1===r||n.length>16384)&&(l+=String.fromCharCode.apply(String,n),n.length=0)}return l},Aw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Sj=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Yf=0;Yf<Aw.length;Yf++)Sj[Aw.charCodeAt(Yf)]=Yf;var cw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",gh=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Jf=0;Jf<cw.length;Jf++)gh[cw.charCodeAt(Jf)]=Jf;var jj=function(t){var e=t.length*.75,r=t.length,n,i=0,l,u,d,h;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var m=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),g=Array.isArray(m)?m:new Uint8Array(m);for(n=0;n<r;n+=4)l=gh[t.charCodeAt(n)],u=gh[t.charCodeAt(n+1)],d=gh[t.charCodeAt(n+2)],h=gh[t.charCodeAt(n+3)],g[i++]=l<<2|u>>4,g[i++]=(u&15)<<4|d>>2,g[i++]=(d&3)<<6|h&63;return m},Uj=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},kj=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},Wc=5,tv=11,y0=2,Lj=tv-Wc,sB=65536>>Wc,Fj=1<<Wc,w0=Fj-1,Tj=1024>>Wc,Ij=sB+Tj,Qj=Ij,Oj=32,Rj=Qj+Oj,Dj=65536>>tv,Mj=1<<Lj,Pj=Mj-1,uw=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},Hj=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},qj=function(t,e){var r=jj(t),n=Array.isArray(r)?kj(r):new Uint32Array(r),i=Array.isArray(r)?Uj(r):new Uint16Array(r),l=24,u=uw(i,l/2,n[4]/2),d=n[5]===2?uw(i,(l+n[4])/2):Hj(n,Math.ceil((l+n[4])/4));return new zj(n[0],n[1],n[2],n[3],u,d)},zj=(function(){function t(e,r,n,i,l,u){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=i,this.index=l,this.data=u}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>Wc],r=(r<<y0)+(e&w0),this.data[r];if(e<=65535)return r=this.index[sB+(e-55296>>Wc)],r=(r<<y0)+(e&w0),this.data[r];if(e<this.highStart)return r=Rj-Dj+(e>>tv),r=this.index[r],r+=e>>Wc&Pj,r=this.index[r],r=(r<<y0)+(e&w0),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t})(),dw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Kj=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Wf=0;Wf<dw.length;Wf++)Kj[dw.charCodeAt(Wf)]=Wf;var Gj="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",hw=50,Vj=1,aB=2,iB=3,$j=4,Zj=5,fw=7,oB=8,pw=9,pc=10,zx=11,mw=12,Kx=13,Xj=14,xh=15,Gx=16,ep=17,nh=18,Yj=19,gw=20,Vx=21,sh=22,_0=23,Qu=24,ko=25,bh=26,vh=27,Ou=28,Jj=29,qc=30,Wj=31,tp=32,rp=33,$x=34,Zx=35,Xx=36,Dh=37,Yx=38,qp=39,zp=40,B0=41,lB=42,e6=43,t6=[9001,65288],AB="!",Bn="",np="",Jx=qj(Gj),CA=[qc,Xx],Wx=[Vj,aB,iB,Zj],cB=[pc,oB],xw=[vh,bh],r6=Wx.concat(cB),bw=[Yx,qp,zp,$x,Zx],n6=[xh,Kx],s6=function(t,e){e===void 0&&(e="strict");var r=[],n=[],i=[];return t.forEach(function(l,u){var d=Jx.get(l);if(d>hw?(i.push(!0),d-=hw):i.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(l)!==-1)return n.push(u),r.push(Gx);if(d===$j||d===zx){if(u===0)return n.push(u),r.push(qc);var h=r[u-1];return r6.indexOf(h)===-1?(n.push(n[u-1]),r.push(h)):(n.push(u),r.push(qc))}if(n.push(u),d===Wj)return r.push(e==="strict"?Vx:Dh);if(d===lB||d===Jj)return r.push(qc);if(d===e6)return l>=131072&&l<=196605||l>=196608&&l<=262141?r.push(Dh):r.push(qc);r.push(d)}),[n,r,i]},N0=function(t,e,r,n){var i=n[r];if(Array.isArray(t)?t.indexOf(i)!==-1:t===i)for(var l=r;l<=n.length;){l++;var u=n[l];if(u===e)return!0;if(u!==pc)break}if(i===pc)for(var l=r;l>0;){l--;var d=n[l];if(Array.isArray(t)?t.indexOf(d)!==-1:t===d)for(var h=r;h<=n.length;){h++;var u=n[h];if(u===e)return!0;if(u!==pc)break}if(d!==pc)break}return!1},vw=function(t,e){for(var r=t;r>=0;){var n=e[r];if(n===pc)r--;else return n}return 0},a6=function(t,e,r,n,i){if(r[n]===0)return Bn;var l=n-1;if(Array.isArray(i)&&i[l]===!0)return Bn;var u=l-1,d=l+1,h=e[l],m=u>=0?e[u]:0,g=e[d];if(h===aB&&g===iB)return Bn;if(Wx.indexOf(h)!==-1)return AB;if(Wx.indexOf(g)!==-1||cB.indexOf(g)!==-1)return Bn;if(vw(l,e)===oB)return np;if(Jx.get(t[l])===zx||(h===tp||h===rp)&&Jx.get(t[d])===zx||h===fw||g===fw||h===pw||[pc,Kx,xh].indexOf(h)===-1&&g===pw||[ep,nh,Yj,Qu,Ou].indexOf(g)!==-1||vw(l,e)===sh||N0(_0,sh,l,e)||N0([ep,nh],Vx,l,e)||N0(mw,mw,l,e))return Bn;if(h===pc)return np;if(h===_0||g===_0)return Bn;if(g===Gx||h===Gx)return np;if([Kx,xh,Vx].indexOf(g)!==-1||h===Xj||m===Xx&&n6.indexOf(h)!==-1||h===Ou&&g===Xx||g===gw||CA.indexOf(g)!==-1&&h===ko||CA.indexOf(h)!==-1&&g===ko||h===vh&&[Dh,tp,rp].indexOf(g)!==-1||[Dh,tp,rp].indexOf(h)!==-1&&g===bh||CA.indexOf(h)!==-1&&xw.indexOf(g)!==-1||xw.indexOf(h)!==-1&&CA.indexOf(g)!==-1||[vh,bh].indexOf(h)!==-1&&(g===ko||[sh,xh].indexOf(g)!==-1&&e[d+1]===ko)||[sh,xh].indexOf(h)!==-1&&g===ko||h===ko&&[ko,Ou,Qu].indexOf(g)!==-1)return Bn;if([ko,Ou,Qu,ep,nh].indexOf(g)!==-1)for(var b=l;b>=0;){var N=e[b];if(N===ko)return Bn;if([Ou,Qu].indexOf(N)!==-1)b--;else break}if([vh,bh].indexOf(g)!==-1)for(var b=[ep,nh].indexOf(h)!==-1?u:l;b>=0;){var N=e[b];if(N===ko)return Bn;if([Ou,Qu].indexOf(N)!==-1)b--;else break}if(Yx===h&&[Yx,qp,$x,Zx].indexOf(g)!==-1||[qp,$x].indexOf(h)!==-1&&[qp,zp].indexOf(g)!==-1||[zp,Zx].indexOf(h)!==-1&&g===zp||bw.indexOf(h)!==-1&&[gw,bh].indexOf(g)!==-1||bw.indexOf(g)!==-1&&h===vh||CA.indexOf(h)!==-1&&CA.indexOf(g)!==-1||h===Qu&&CA.indexOf(g)!==-1||CA.concat(ko).indexOf(h)!==-1&&g===sh&&t6.indexOf(t[d])===-1||CA.concat(ko).indexOf(g)!==-1&&h===nh)return Bn;if(h===B0&&g===B0){for(var w=r[l],C=1;w>0&&(w--,e[w]===B0);)C++;if(C%2!==0)return Bn}return h===tp&&g===rp?Bn:np},i6=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var r=s6(t,e.lineBreak),n=r[0],i=r[1],l=r[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(i=i.map(function(d){return[ko,qc,lB].indexOf(d)!==-1?Dh:d}));var u=e.wordBreak==="keep-all"?l.map(function(d,h){return d&&t[h]>=19968&&t[h]<=40959}):void 0;return[n,i,u]},o6=(function(){function t(e,r,n,i){this.codePoints=e,this.required=r===AB,this.start=n,this.end=i}return t.prototype.slice=function(){return pa.apply(void 0,this.codePoints.slice(this.start,this.end))},t})(),l6=function(t,e){var r=Lm(t),n=i6(r,e),i=n[0],l=n[1],u=n[2],d=r.length,h=0,m=0;return{next:function(){if(m>=d)return{done:!0,value:null};for(var g=Bn;m<d&&(g=a6(r,l,i,++m,u))===Bn;);if(g!==Bn||m===d){var b=new o6(r,g,h,m);return h=m,{value:b,done:!1}}return{done:!0,value:null}}}},A6=1,c6=2,Jh=4,yw=8,am=10,ww=47,Nh=92,u6=9,d6=32,sp=34,ah=61,h6=35,f6=36,p6=37,ap=39,ip=40,ih=41,m6=95,oo=45,g6=33,x6=60,b6=62,v6=64,y6=91,w6=93,_6=61,B6=123,op=63,N6=125,_w=124,C6=126,E6=128,Bw=65533,C0=42,Xc=43,S6=44,j6=58,U6=59,Mh=46,k6=0,L6=8,F6=11,T6=14,I6=31,Q6=127,Zl=-1,uB=48,dB=97,hB=101,O6=102,R6=117,D6=122,fB=65,pB=69,mB=70,M6=85,P6=90,ji=function(t){return t>=uB&&t<=57},H6=function(t){return t>=55296&&t<=57343},Ru=function(t){return ji(t)||t>=fB&&t<=mB||t>=dB&&t<=O6},q6=function(t){return t>=dB&&t<=D6},z6=function(t){return t>=fB&&t<=P6},K6=function(t){return q6(t)||z6(t)},G6=function(t){return t>=E6},lp=function(t){return t===am||t===u6||t===d6},im=function(t){return K6(t)||G6(t)||t===m6},Nw=function(t){return im(t)||ji(t)||t===oo},V6=function(t){return t>=k6&&t<=L6||t===F6||t>=T6&&t<=I6||t===Q6},uc=function(t,e){return t!==Nh?!1:e!==am},Ap=function(t,e,r){return t===oo?im(e)||uc(e,r):im(t)?!0:!!(t===Nh&&uc(t,e))},E0=function(t,e,r){return t===Xc||t===oo?ji(e)?!0:e===Mh&&ji(r):ji(t===Mh?e:t)},$6=function(t){var e=0,r=1;(t[e]===Xc||t[e]===oo)&&(t[e]===oo&&(r=-1),e++);for(var n=[];ji(t[e]);)n.push(t[e++]);var i=n.length?parseInt(pa.apply(void 0,n),10):0;t[e]===Mh&&e++;for(var l=[];ji(t[e]);)l.push(t[e++]);var u=l.length,d=u?parseInt(pa.apply(void 0,l),10):0;(t[e]===pB||t[e]===hB)&&e++;var h=1;(t[e]===Xc||t[e]===oo)&&(t[e]===oo&&(h=-1),e++);for(var m=[];ji(t[e]);)m.push(t[e++]);var g=m.length?parseInt(pa.apply(void 0,m),10):0;return r*(i+d*Math.pow(10,-u))*Math.pow(10,h*g)},Z6={type:2},X6={type:3},Y6={type:4},J6={type:13},W6={type:8},eU={type:21},tU={type:9},rU={type:10},nU={type:11},sU={type:12},aU={type:14},cp={type:23},iU={type:1},oU={type:25},lU={type:24},AU={type:26},cU={type:27},uU={type:28},dU={type:29},hU={type:31},eb={type:32},gB=(function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(Lm(e))},t.prototype.read=function(){for(var e=[],r=this.consumeToken();r!==eb;)e.push(r),r=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case sp:return this.consumeStringToken(sp);case h6:var r=this.peekCodePoint(0),n=this.peekCodePoint(1),i=this.peekCodePoint(2);if(Nw(r)||uc(n,i)){var l=Ap(r,n,i)?c6:A6,u=this.consumeName();return{type:5,value:u,flags:l}}break;case f6:if(this.peekCodePoint(0)===ah)return this.consumeCodePoint(),J6;break;case ap:return this.consumeStringToken(ap);case ip:return Z6;case ih:return X6;case C0:if(this.peekCodePoint(0)===ah)return this.consumeCodePoint(),aU;break;case Xc:if(E0(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case S6:return Y6;case oo:var d=e,h=this.peekCodePoint(0),m=this.peekCodePoint(1);if(E0(d,h,m))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(Ap(d,h,m))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(h===oo&&m===b6)return this.consumeCodePoint(),this.consumeCodePoint(),lU;break;case Mh:if(E0(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case ww:if(this.peekCodePoint(0)===C0)for(this.consumeCodePoint();;){var g=this.consumeCodePoint();if(g===C0&&(g=this.consumeCodePoint(),g===ww))return this.consumeToken();if(g===Zl)return this.consumeToken()}break;case j6:return AU;case U6:return cU;case x6:if(this.peekCodePoint(0)===g6&&this.peekCodePoint(1)===oo&&this.peekCodePoint(2)===oo)return this.consumeCodePoint(),this.consumeCodePoint(),oU;break;case v6:var b=this.peekCodePoint(0),N=this.peekCodePoint(1),w=this.peekCodePoint(2);if(Ap(b,N,w)){var u=this.consumeName();return{type:7,value:u}}break;case y6:return uU;case Nh:if(uc(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case w6:return dU;case _6:if(this.peekCodePoint(0)===ah)return this.consumeCodePoint(),W6;break;case B6:return nU;case N6:return sU;case R6:case M6:var C=this.peekCodePoint(0),U=this.peekCodePoint(1);return C===Xc&&(Ru(U)||U===op)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case _w:if(this.peekCodePoint(0)===ah)return this.consumeCodePoint(),tU;if(this.peekCodePoint(0)===_w)return this.consumeCodePoint(),eU;break;case C6:if(this.peekCodePoint(0)===ah)return this.consumeCodePoint(),rU;break;case Zl:return eb}return lp(e)?(this.consumeWhiteSpace(),hU):ji(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):im(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:pa(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],r=this.consumeCodePoint();Ru(r)&&e.length<6;)e.push(r),r=this.consumeCodePoint();for(var n=!1;r===op&&e.length<6;)e.push(r),r=this.consumeCodePoint(),n=!0;if(n){var i=parseInt(pa.apply(void 0,e.map(function(h){return h===op?uB:h})),16),l=parseInt(pa.apply(void 0,e.map(function(h){return h===op?mB:h})),16);return{type:30,start:i,end:l}}var u=parseInt(pa.apply(void 0,e),16);if(this.peekCodePoint(0)===oo&&Ru(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var d=[];Ru(r)&&d.length<6;)d.push(r),r=this.consumeCodePoint();var l=parseInt(pa.apply(void 0,d),16);return{type:30,start:u,end:l}}else return{type:30,start:u,end:u}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===ip?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===ip?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Zl)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===ap||r===sp){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Zl||this.peekCodePoint(0)===ih)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),cp)}for(;;){var i=this.consumeCodePoint();if(i===Zl||i===ih)return{type:22,value:pa.apply(void 0,e)};if(lp(i))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Zl||this.peekCodePoint(0)===ih?(this.consumeCodePoint(),{type:22,value:pa.apply(void 0,e)}):(this.consumeBadUrlRemnants(),cp);if(i===sp||i===ap||i===ip||V6(i))return this.consumeBadUrlRemnants(),cp;if(i===Nh)if(uc(i,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),cp;else e.push(i)}},t.prototype.consumeWhiteSpace=function(){for(;lp(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===ih||e===Zl)return;uc(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var r=5e4,n="";e>0;){var i=Math.min(r,e);n+=pa.apply(void 0,this._value.splice(0,i)),e-=i}return this._value.shift(),n},t.prototype.consumeStringToken=function(e){var r="",n=0;do{var i=this._value[n];if(i===Zl||i===void 0||i===e)return r+=this.consumeStringSlice(n),{type:0,value:r};if(i===am)return this._value.splice(0,n),iU;if(i===Nh){var l=this._value[n+1];l!==Zl&&l!==void 0&&(l===am?(r+=this.consumeStringSlice(n),n=-1,this._value.shift()):uc(i,l)&&(r+=this.consumeStringSlice(n),r+=pa(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},t.prototype.consumeNumber=function(){var e=[],r=Jh,n=this.peekCodePoint(0);for((n===Xc||n===oo)&&e.push(this.consumeCodePoint());ji(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(n===Mh&&ji(i))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=yw;ji(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),i=this.peekCodePoint(1);var l=this.peekCodePoint(2);if((n===pB||n===hB)&&((i===Xc||i===oo)&&ji(l)||ji(i)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=yw;ji(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[$6(e),r]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),r=e[0],n=e[1],i=this.peekCodePoint(0),l=this.peekCodePoint(1),u=this.peekCodePoint(2);if(Ap(i,l,u)){var d=this.consumeName();return{type:15,number:r,flags:n,unit:d}}return i===p6?(this.consumeCodePoint(),{type:16,number:r,flags:n}):{type:17,number:r,flags:n}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(Ru(e)){for(var r=pa(e);Ru(this.peekCodePoint(0))&&r.length<6;)r+=pa(this.consumeCodePoint());lp(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(r,16);return n===0||H6(n)||n>1114111?Bw:n}return e===Zl?Bw:e},t.prototype.consumeName=function(){for(var e="";;){var r=this.consumeCodePoint();if(Nw(r))e+=pa(r);else if(uc(r,this.peekCodePoint(0)))e+=pa(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),e}},t})(),xB=(function(){function t(e){this._tokens=e}return t.create=function(e){var r=new gB;return r.write(e),new t(r.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var r=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var r=this.consumeComponentValue();if(r.type===32)return e;e.push(r),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var r={type:e,values:[]},n=this.consumeToken();;){if(n.type===32||pU(n,e))return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue()),n=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var r={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?eb:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t})(),Wh=function(t){return t.type===15},wd=function(t){return t.type===17},is=function(t){return t.type===20},fU=function(t){return t.type===0},tb=function(t,e){return is(t)&&t.value===e},bB=function(t){return t.type!==31},xd=function(t){return t.type!==31&&t.type!==4},nA=function(t){var e=[],r=[];return t.forEach(function(n){if(n.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(r),r=[];return}n.type!==31&&r.push(n)}),r.length&&e.push(r),e},pU=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},wc=function(t){return t.type===17||t.type===15},Na=function(t){return t.type===16||wc(t)},vB=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},ui={type:17,number:0,flags:Jh},rv={type:16,number:50,flags:Jh},mc={type:16,number:100,flags:Jh},yh=function(t,e,r){var n=t[0],i=t[1];return[gs(n,e),gs(typeof i<"u"?i:n,r)]},gs=function(t,e){if(t.type===16)return t.number/100*e;if(Wh(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},yB="deg",wB="grad",_B="rad",BB="turn",Fm={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case yB:return Math.PI*e.number/180;case wB:return Math.PI/200*e.number;case _B:return e.number;case BB:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},NB=function(t){return t.type===15&&(t.unit===yB||t.unit===wB||t.unit===_B||t.unit===BB)},CB=function(t){var e=t.filter(is).map(function(r){return r.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[ui,ui];case"to top":case"bottom":return Wo(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[ui,mc];case"to right":case"left":return Wo(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[mc,mc];case"to bottom":case"top":return Wo(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[mc,ui];case"to left":case"right":return Wo(270)}return 0},Wo=function(t){return Math.PI*t/180},bc={name:"color",parse:function(t,e){if(e.type===18){var r=mU[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return r(t,e.values)}if(e.type===5){if(e.value.length===3){var n=e.value.substring(0,1),i=e.value.substring(1,2),l=e.value.substring(2,3);return gc(parseInt(n+n,16),parseInt(i+i,16),parseInt(l+l,16),1)}if(e.value.length===4){var n=e.value.substring(0,1),i=e.value.substring(1,2),l=e.value.substring(2,3),u=e.value.substring(3,4);return gc(parseInt(n+n,16),parseInt(i+i,16),parseInt(l+l,16),parseInt(u+u,16)/255)}if(e.value.length===6){var n=e.value.substring(0,2),i=e.value.substring(2,4),l=e.value.substring(4,6);return gc(parseInt(n,16),parseInt(i,16),parseInt(l,16),1)}if(e.value.length===8){var n=e.value.substring(0,2),i=e.value.substring(2,4),l=e.value.substring(4,6),u=e.value.substring(6,8);return gc(parseInt(n,16),parseInt(i,16),parseInt(l,16),parseInt(u,16)/255)}}if(e.type===20){var d=TA[e.value.toUpperCase()];if(typeof d<"u")return d}return TA.TRANSPARENT}},vc=function(t){return(255&t)===0},Ga=function(t){var e=255&t,r=255&t>>8,n=255&t>>16,i=255&t>>24;return e<255?"rgba("+i+","+n+","+r+","+e/255+")":"rgb("+i+","+n+","+r+")"},gc=function(t,e,r,n){return(t<<24|e<<16|r<<8|Math.round(n*255)<<0)>>>0},Cw=function(t,e){if(t.type===17)return t.number;if(t.type===16){var r=e===3?1:255;return e===3?t.number/100*r:Math.round(t.number/100*r)}return 0},Ew=function(t,e){var r=e.filter(xd);if(r.length===3){var n=r.map(Cw),i=n[0],l=n[1],u=n[2];return gc(i,l,u,1)}if(r.length===4){var d=r.map(Cw),i=d[0],l=d[1],u=d[2],h=d[3];return gc(i,l,u,h)}return 0};function S0(t,e,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(e-t)*r*6+t:r<1/2?e:r<2/3?(e-t)*6*(2/3-r)+t:t}var Sw=function(t,e){var r=e.filter(xd),n=r[0],i=r[1],l=r[2],u=r[3],d=(n.type===17?Wo(n.number):Fm.parse(t,n))/(Math.PI*2),h=Na(i)?i.number/100:0,m=Na(l)?l.number/100:0,g=typeof u<"u"&&Na(u)?gs(u,1):1;if(h===0)return gc(m*255,m*255,m*255,1);var b=m<=.5?m*(h+1):m+h-m*h,N=m*2-b,w=S0(N,b,d+1/3),C=S0(N,b,d),U=S0(N,b,d-1/3);return gc(w*255,C*255,U*255,g)},mU={hsl:Sw,hsla:Sw,rgb:Ew,rgba:Ew},Ch=function(t,e){return bc.parse(t,xB.create(e).parseComponentValue())},TA={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},gU={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(is(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},xU={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Tm=function(t,e){var r=bc.parse(t,e[0]),n=e[1];return n&&Na(n)?{color:r,stop:n}:{color:r,stop:null}},jw=function(t,e){var r=t[0],n=t[t.length-1];r.stop===null&&(r.stop=ui),n.stop===null&&(n.stop=mc);for(var i=[],l=0,u=0;u<t.length;u++){var d=t[u].stop;if(d!==null){var h=gs(d,e);h>l?i.push(h):i.push(l),l=h}else i.push(null)}for(var m=null,u=0;u<i.length;u++){var g=i[u];if(g===null)m===null&&(m=u);else if(m!==null){for(var b=u-m,N=i[m-1],w=(g-N)/(b+1),C=1;C<=b;C++)i[m+C-1]=w*C;m=null}}return t.map(function(U,T){var S=U.color;return{color:S,stop:Math.max(Math.min(1,i[T]/e),0)}})},bU=function(t,e,r){var n=e/2,i=r/2,l=gs(t[0],e)-n,u=i-gs(t[1],r);return(Math.atan2(u,l)+Math.PI*2)%(Math.PI*2)},vU=function(t,e,r){var n=typeof t=="number"?t:bU(t,e,r),i=Math.abs(e*Math.sin(n))+Math.abs(r*Math.cos(n)),l=e/2,u=r/2,d=i/2,h=Math.sin(n-Math.PI/2)*d,m=Math.cos(n-Math.PI/2)*d;return[i,l-m,l+m,u-h,u+h]},bl=function(t,e){return Math.sqrt(t*t+e*e)},Uw=function(t,e,r,n,i){var l=[[0,0],[0,e],[t,0],[t,e]];return l.reduce(function(u,d){var h=d[0],m=d[1],g=bl(r-h,n-m);return(i?g<u.optimumDistance:g>u.optimumDistance)?{optimumCorner:d,optimumDistance:g}:u},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},yU=function(t,e,r,n,i){var l=0,u=0;switch(t.size){case 0:t.shape===0?l=u=Math.min(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-i)):t.shape===1&&(l=Math.min(Math.abs(e),Math.abs(e-n)),u=Math.min(Math.abs(r),Math.abs(r-i)));break;case 2:if(t.shape===0)l=u=Math.min(bl(e,r),bl(e,r-i),bl(e-n,r),bl(e-n,r-i));else if(t.shape===1){var d=Math.min(Math.abs(r),Math.abs(r-i))/Math.min(Math.abs(e),Math.abs(e-n)),h=Uw(n,i,e,r,!0),m=h[0],g=h[1];l=bl(m-e,(g-r)/d),u=d*l}break;case 1:t.shape===0?l=u=Math.max(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-i)):t.shape===1&&(l=Math.max(Math.abs(e),Math.abs(e-n)),u=Math.max(Math.abs(r),Math.abs(r-i)));break;case 3:if(t.shape===0)l=u=Math.max(bl(e,r),bl(e,r-i),bl(e-n,r),bl(e-n,r-i));else if(t.shape===1){var d=Math.max(Math.abs(r),Math.abs(r-i))/Math.max(Math.abs(e),Math.abs(e-n)),b=Uw(n,i,e,r,!1),m=b[0],g=b[1];l=bl(m-e,(g-r)/d),u=d*l}break}return Array.isArray(t.size)&&(l=gs(t.size[0],n),u=t.size.length===2?gs(t.size[1],i):l),[l,u]},wU=function(t,e){var r=Wo(180),n=[];return nA(e).forEach(function(i,l){if(l===0){var u=i[0];if(u.type===20&&u.value==="to"){r=CB(i);return}else if(NB(u)){r=Fm.parse(t,u);return}}var d=Tm(t,i);n.push(d)}),{angle:r,stops:n,type:1}},up=function(t,e){var r=Wo(180),n=[];return nA(e).forEach(function(i,l){if(l===0){var u=i[0];if(u.type===20&&["top","left","right","bottom"].indexOf(u.value)!==-1){r=CB(i);return}else if(NB(u)){r=(Fm.parse(t,u)+Wo(270))%Wo(360);return}}var d=Tm(t,i);n.push(d)}),{angle:r,stops:n,type:1}},_U=function(t,e){var r=Wo(180),n=[],i=1,l=0,u=3,d=[];return nA(e).forEach(function(h,m){var g=h[0];if(m===0){if(is(g)&&g.value==="linear"){i=1;return}else if(is(g)&&g.value==="radial"){i=2;return}}if(g.type===18){if(g.name==="from"){var b=bc.parse(t,g.values[0]);n.push({stop:ui,color:b})}else if(g.name==="to"){var b=bc.parse(t,g.values[0]);n.push({stop:mc,color:b})}else if(g.name==="color-stop"){var N=g.values.filter(xd);if(N.length===2){var b=bc.parse(t,N[1]),w=N[0];wd(w)&&n.push({stop:{type:16,number:w.number*100,flags:w.flags},color:b})}}}}),i===1?{angle:(r+Wo(180))%Wo(360),stops:n,type:i}:{size:u,shape:l,stops:n,position:d,type:i}},EB="closest-side",SB="farthest-side",jB="closest-corner",UB="farthest-corner",kB="circle",LB="ellipse",FB="cover",TB="contain",BU=function(t,e){var r=0,n=3,i=[],l=[];return nA(e).forEach(function(u,d){var h=!0;if(d===0){var m=!1;h=u.reduce(function(b,N){if(m)if(is(N))switch(N.value){case"center":return l.push(rv),b;case"top":case"left":return l.push(ui),b;case"right":case"bottom":return l.push(mc),b}else(Na(N)||wc(N))&&l.push(N);else if(is(N))switch(N.value){case kB:return r=0,!1;case LB:return r=1,!1;case"at":return m=!0,!1;case EB:return n=0,!1;case FB:case SB:return n=1,!1;case TB:case jB:return n=2,!1;case UB:return n=3,!1}else if(wc(N)||Na(N))return Array.isArray(n)||(n=[]),n.push(N),!1;return b},h)}if(h){var g=Tm(t,u);i.push(g)}}),{size:n,shape:r,stops:i,position:l,type:2}},dp=function(t,e){var r=0,n=3,i=[],l=[];return nA(e).forEach(function(u,d){var h=!0;if(d===0?h=u.reduce(function(g,b){if(is(b))switch(b.value){case"center":return l.push(rv),!1;case"top":case"left":return l.push(ui),!1;case"right":case"bottom":return l.push(mc),!1}else if(Na(b)||wc(b))return l.push(b),!1;return g},h):d===1&&(h=u.reduce(function(g,b){if(is(b))switch(b.value){case kB:return r=0,!1;case LB:return r=1,!1;case TB:case EB:return n=0,!1;case SB:return n=1,!1;case jB:return n=2,!1;case FB:case UB:return n=3,!1}else if(wc(b)||Na(b))return Array.isArray(n)||(n=[]),n.push(b),!1;return g},h)),h){var m=Tm(t,u);i.push(m)}}),{size:n,shape:r,stops:i,position:l,type:2}},NU=function(t){return t.type===1},CU=function(t){return t.type===2},nv={name:"image",parse:function(t,e){if(e.type===22){var r={url:e.value,type:0};return t.cache.addImage(e.value),r}if(e.type===18){var n=IB[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function EU(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!IB[t.name])}var IB={"linear-gradient":wU,"-moz-linear-gradient":up,"-ms-linear-gradient":up,"-o-linear-gradient":up,"-webkit-linear-gradient":up,"radial-gradient":BU,"-moz-radial-gradient":dp,"-ms-radial-gradient":dp,"-o-radial-gradient":dp,"-webkit-radial-gradient":dp,"-webkit-gradient":_U},SU={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e.filter(function(n){return xd(n)&&EU(n)}).map(function(n){return nv.parse(t,n)})}},jU={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(is(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},UU={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return nA(e).map(function(r){return r.filter(Na)}).map(vB)}},kU={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return nA(e).map(function(r){return r.filter(is).map(function(n){return n.value}).join(" ")}).map(LU)}},LU=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Ad;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(Ad||(Ad={}));var FU={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return nA(e).map(function(r){return r.filter(TU)})}},TU=function(t){return is(t)||Na(t)},Im=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},IU=Im("top"),QU=Im("right"),OU=Im("bottom"),RU=Im("left"),Qm=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,r){return vB(r.filter(Na))}}},DU=Qm("top-left"),MU=Qm("top-right"),PU=Qm("bottom-right"),HU=Qm("bottom-left"),Om=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},qU=Om("top"),zU=Om("right"),KU=Om("bottom"),GU=Om("left"),Rm=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,r){return Wh(r)?r.number:0}}},VU=Rm("top"),$U=Rm("right"),ZU=Rm("bottom"),XU=Rm("left"),YU={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},JU={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},WU={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(is).reduce(function(r,n){return r|ek(n.value)},0)}},ek=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},tk={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},rk={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},om;(function(t){t.NORMAL="normal",t.STRICT="strict"})(om||(om={}));var nk={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return om.STRICT;case"normal":default:return om.NORMAL}}},sk={name:"line-height",initialValue:"normal",prefix:!1,type:4},kw=function(t,e){return is(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:Na(t)?gs(t,e):e},ak={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:nv.parse(t,e)}},ik={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},rb={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Dm=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},ok=Dm("top"),lk=Dm("right"),Ak=Dm("bottom"),ck=Dm("left"),uk={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(is).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},dk={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},Mm=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},hk=Mm("top"),fk=Mm("right"),pk=Mm("bottom"),mk=Mm("left"),gk={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},xk={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},bk={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&tb(e[0],"none")?[]:nA(e).map(function(r){for(var n={color:TA.TRANSPARENT,offsetX:ui,offsetY:ui,blur:ui},i=0,l=0;l<r.length;l++){var u=r[l];wc(u)?(i===0?n.offsetX=u:i===1?n.offsetY=u:n.blur=u,i++):n.color=bc.parse(t,u)}return n})}},vk={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},yk={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var r=Bk[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return r(e.values)}return null}},wk=function(t){var e=t.filter(function(r){return r.type===17}).map(function(r){return r.number});return e.length===6?e:null},_k=function(t){var e=t.filter(function(h){return h.type===17}).map(function(h){return h.number}),r=e[0],n=e[1];e[2],e[3];var i=e[4],l=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var u=e[12],d=e[13];return e[14],e[15],e.length===16?[r,n,i,l,u,d]:null},Bk={matrix:wk,matrix3d:_k},Lw={type:16,number:50,flags:Jh},Nk=[Lw,Lw],Ck={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var r=e.filter(Na);return r.length!==2?Nk:[r[0],r[1]]}},Ek={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Eh;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(Eh||(Eh={}));var Sk={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return Eh.BREAK_ALL;case"keep-all":return Eh.KEEP_ALL;case"normal":default:return Eh.NORMAL}}},jk={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(wd(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},QB={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},Uk={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return wd(e)?e.number:1}},kk={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Lk={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(is).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},Fk={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var r=[],n=[];return e.forEach(function(i){switch(i.type){case 20:case 0:r.push(i.value);break;case 17:r.push(i.number.toString());break;case 4:n.push(r.join(" ")),r.length=0;break}}),r.length&&n.push(r.join(" ")),n.map(function(i){return i.indexOf(" ")===-1?i:"'"+i+"'"})}},Tk={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},Ik={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(wd(e))return e.number;if(is(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},Qk={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(is).map(function(r){return r.value})}},Ok={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Da=function(t,e){return(t&e)!==0},Rk={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e}},Dk={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;for(var n=[],i=e.filter(bB),l=0;l<i.length;l++){var u=i[l],d=i[l+1];if(u.type===20){var h=d&&wd(d)?d.number:1;n.push({counter:u.value,increment:h})}}return n}},Mk={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var r=[],n=e.filter(bB),i=0;i<n.length;i++){var l=n[i],u=n[i+1];if(is(l)&&l.value!=="none"){var d=u&&wd(u)?u.number:0;r.push({counter:l.value,reset:d})}}return r}},Pk={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(Wh).map(function(r){return QB.parse(t,r)})}},Hk={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;var n=[],i=e.filter(fU);if(i.length%2!==0)return null;for(var l=0;l<i.length;l+=2){var u=i[l].value,d=i[l+1].value;n.push({open:u,close:d})}return n}},Fw=function(t,e,r){if(!t)return"";var n=t[Math.min(e,t.length-1)];return n?r?n.open:n.close:""},qk={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&tb(e[0],"none")?[]:nA(e).map(function(r){for(var n={color:255,offsetX:ui,offsetY:ui,blur:ui,spread:ui,inset:!1},i=0,l=0;l<r.length;l++){var u=r[l];tb(u,"inset")?n.inset=!0:wc(u)?(i===0?n.offsetX=u:i===1?n.offsetY=u:i===2?n.blur=u:n.spread=u,i++):n.color=bc.parse(t,u)}return n})}},zk={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var r=[0,1,2],n=[];return e.filter(is).forEach(function(i){switch(i.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),r.forEach(function(i){n.indexOf(i)===-1&&n.push(i)}),n}},Kk={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},Gk={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return Wh(e)?e.number:0}},Vk=(function(){function t(e,r){var n,i;this.animationDuration=ar(e,Pk,r.animationDuration),this.backgroundClip=ar(e,gU,r.backgroundClip),this.backgroundColor=ar(e,xU,r.backgroundColor),this.backgroundImage=ar(e,SU,r.backgroundImage),this.backgroundOrigin=ar(e,jU,r.backgroundOrigin),this.backgroundPosition=ar(e,UU,r.backgroundPosition),this.backgroundRepeat=ar(e,kU,r.backgroundRepeat),this.backgroundSize=ar(e,FU,r.backgroundSize),this.borderTopColor=ar(e,IU,r.borderTopColor),this.borderRightColor=ar(e,QU,r.borderRightColor),this.borderBottomColor=ar(e,OU,r.borderBottomColor),this.borderLeftColor=ar(e,RU,r.borderLeftColor),this.borderTopLeftRadius=ar(e,DU,r.borderTopLeftRadius),this.borderTopRightRadius=ar(e,MU,r.borderTopRightRadius),this.borderBottomRightRadius=ar(e,PU,r.borderBottomRightRadius),this.borderBottomLeftRadius=ar(e,HU,r.borderBottomLeftRadius),this.borderTopStyle=ar(e,qU,r.borderTopStyle),this.borderRightStyle=ar(e,zU,r.borderRightStyle),this.borderBottomStyle=ar(e,KU,r.borderBottomStyle),this.borderLeftStyle=ar(e,GU,r.borderLeftStyle),this.borderTopWidth=ar(e,VU,r.borderTopWidth),this.borderRightWidth=ar(e,$U,r.borderRightWidth),this.borderBottomWidth=ar(e,ZU,r.borderBottomWidth),this.borderLeftWidth=ar(e,XU,r.borderLeftWidth),this.boxShadow=ar(e,qk,r.boxShadow),this.color=ar(e,YU,r.color),this.direction=ar(e,JU,r.direction),this.display=ar(e,WU,r.display),this.float=ar(e,tk,r.cssFloat),this.fontFamily=ar(e,Fk,r.fontFamily),this.fontSize=ar(e,Tk,r.fontSize),this.fontStyle=ar(e,Ok,r.fontStyle),this.fontVariant=ar(e,Qk,r.fontVariant),this.fontWeight=ar(e,Ik,r.fontWeight),this.letterSpacing=ar(e,rk,r.letterSpacing),this.lineBreak=ar(e,nk,r.lineBreak),this.lineHeight=ar(e,sk,r.lineHeight),this.listStyleImage=ar(e,ak,r.listStyleImage),this.listStylePosition=ar(e,ik,r.listStylePosition),this.listStyleType=ar(e,rb,r.listStyleType),this.marginTop=ar(e,ok,r.marginTop),this.marginRight=ar(e,lk,r.marginRight),this.marginBottom=ar(e,Ak,r.marginBottom),this.marginLeft=ar(e,ck,r.marginLeft),this.opacity=ar(e,Uk,r.opacity);var l=ar(e,uk,r.overflow);this.overflowX=l[0],this.overflowY=l[l.length>1?1:0],this.overflowWrap=ar(e,dk,r.overflowWrap),this.paddingTop=ar(e,hk,r.paddingTop),this.paddingRight=ar(e,fk,r.paddingRight),this.paddingBottom=ar(e,pk,r.paddingBottom),this.paddingLeft=ar(e,mk,r.paddingLeft),this.paintOrder=ar(e,zk,r.paintOrder),this.position=ar(e,xk,r.position),this.textAlign=ar(e,gk,r.textAlign),this.textDecorationColor=ar(e,kk,(n=r.textDecorationColor)!==null&&n!==void 0?n:r.color),this.textDecorationLine=ar(e,Lk,(i=r.textDecorationLine)!==null&&i!==void 0?i:r.textDecoration),this.textShadow=ar(e,bk,r.textShadow),this.textTransform=ar(e,vk,r.textTransform),this.transform=ar(e,yk,r.transform),this.transformOrigin=ar(e,Ck,r.transformOrigin),this.visibility=ar(e,Ek,r.visibility),this.webkitTextStrokeColor=ar(e,Kk,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=ar(e,Gk,r.webkitTextStrokeWidth),this.wordBreak=ar(e,Sk,r.wordBreak),this.zIndex=ar(e,jk,r.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return vc(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return Da(this.display,4)||Da(this.display,33554432)||Da(this.display,268435456)||Da(this.display,536870912)||Da(this.display,67108864)||Da(this.display,134217728)},t})(),$k=(function(){function t(e,r){this.content=ar(e,Rk,r.content),this.quotes=ar(e,Hk,r.quotes)}return t})(),Tw=(function(){function t(e,r){this.counterIncrement=ar(e,Dk,r.counterIncrement),this.counterReset=ar(e,Mk,r.counterReset)}return t})(),ar=function(t,e,r){var n=new gB,i=r!==null&&typeof r<"u"?r.toString():e.initialValue;n.write(i);var l=new xB(n.read());switch(e.type){case 2:var u=l.parseComponentValue();return e.parse(t,is(u)?u.value:e.initialValue);case 0:return e.parse(t,l.parseComponentValue());case 1:return e.parse(t,l.parseComponentValues());case 4:return l.parseComponentValue();case 3:switch(e.format){case"angle":return Fm.parse(t,l.parseComponentValue());case"color":return bc.parse(t,l.parseComponentValue());case"image":return nv.parse(t,l.parseComponentValue());case"length":var d=l.parseComponentValue();return wc(d)?d:ui;case"length-percentage":var h=l.parseComponentValue();return Na(h)?h:ui;case"time":return QB.parse(t,l.parseComponentValue())}break}},Zk="data-html2canvas-debug",Xk=function(t){var e=t.getAttribute(Zk);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},nb=function(t,e){var r=Xk(t);return r===1||e===r},sA=(function(){function t(e,r){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,nb(r,3))debugger;this.styles=new Vk(e,window.getComputedStyle(r,null)),ib(r)&&(this.styles.animationDuration.some(function(n){return n>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=km(this.context,r),nb(r,4)&&(this.flags|=16)}return t})(),Yk="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",Iw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",wh=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var hp=0;hp<Iw.length;hp++)wh[Iw.charCodeAt(hp)]=hp;var Jk=function(t){var e=t.length*.75,r=t.length,n,i=0,l,u,d,h;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var m=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),g=Array.isArray(m)?m:new Uint8Array(m);for(n=0;n<r;n+=4)l=wh[t.charCodeAt(n)],u=wh[t.charCodeAt(n+1)],d=wh[t.charCodeAt(n+2)],h=wh[t.charCodeAt(n+3)],g[i++]=l<<2|u>>4,g[i++]=(u&15)<<4|d>>2,g[i++]=(d&3)<<6|h&63;return m},Wk=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},eL=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},eu=5,sv=11,j0=2,tL=sv-eu,OB=65536>>eu,rL=1<<eu,U0=rL-1,nL=1024>>eu,sL=OB+nL,aL=sL,iL=32,oL=aL+iL,lL=65536>>sv,AL=1<<tL,cL=AL-1,Qw=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},uL=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},dL=function(t,e){var r=Jk(t),n=Array.isArray(r)?eL(r):new Uint32Array(r),i=Array.isArray(r)?Wk(r):new Uint16Array(r),l=24,u=Qw(i,l/2,n[4]/2),d=n[5]===2?Qw(i,(l+n[4])/2):uL(n,Math.ceil((l+n[4])/4));return new hL(n[0],n[1],n[2],n[3],u,d)},hL=(function(){function t(e,r,n,i,l,u){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=i,this.index=l,this.data=u}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>eu],r=(r<<j0)+(e&U0),this.data[r];if(e<=65535)return r=this.index[OB+(e-55296>>eu)],r=(r<<j0)+(e&U0),this.data[r];if(e<this.highStart)return r=oL-lL+(e>>sv),r=this.index[r],r+=e>>eu&cL,r=this.index[r],r=(r<<j0)+(e&U0),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t})(),Ow="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fL=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var fp=0;fp<Ow.length;fp++)fL[Ow.charCodeAt(fp)]=fp;var pL=1,k0=2,L0=3,Rw=4,Dw=5,mL=7,Mw=8,F0=9,T0=10,Pw=11,Hw=12,qw=13,zw=14,I0=15,gL=function(t){for(var e=[],r=0,n=t.length;r<n;){var i=t.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var l=t.charCodeAt(r++);(l&64512)===56320?e.push(((i&1023)<<10)+(l&1023)+65536):(e.push(i),r--)}else e.push(i)}return e},xL=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],i=-1,l="";++i<r;){var u=t[i];u<=65535?n.push(u):(u-=65536,n.push((u>>10)+55296,u%1024+56320)),(i+1===r||n.length>16384)&&(l+=String.fromCharCode.apply(String,n),n.length=0)}return l},bL=dL(Yk),Zo="",Q0="",vL=function(t){return bL.get(t)},yL=function(t,e,r){var n=r-2,i=e[n],l=e[r-1],u=e[r];if(l===k0&&u===L0)return Zo;if(l===k0||l===L0||l===Rw||u===k0||u===L0||u===Rw)return Q0;if(l===Mw&&[Mw,F0,Pw,Hw].indexOf(u)!==-1||(l===Pw||l===F0)&&(u===F0||u===T0)||(l===Hw||l===T0)&&u===T0||u===qw||u===Dw||u===mL||l===pL)return Zo;if(l===qw&&u===zw){for(;i===Dw;)i=e[--n];if(i===zw)return Zo}if(l===I0&&u===I0){for(var d=0;i===I0;)d++,i=e[--n];if(d%2===0)return Zo}return Q0},wL=function(t){var e=gL(t),r=e.length,n=0,i=0,l=e.map(vL);return{next:function(){if(n>=r)return{done:!0,value:null};for(var u=Zo;n<r&&(u=yL(e,l,++n))===Zo;);if(u!==Zo||n===r){var d=xL.apply(null,e.slice(i,n));return i=n,{value:d,done:!1}}return{done:!0,value:null}}}},_L=function(t){for(var e=wL(t),r=[],n;!(n=e.next()).done;)n.value&&r.push(n.value.slice());return r},BL=function(t){var e=123;if(t.createRange){var r=t.createRange();if(r.getBoundingClientRect){var n=t.createElement("boundtest");n.style.height=e+"px",n.style.display="block",t.body.appendChild(n),r.selectNode(n);var i=r.getBoundingClientRect(),l=Math.round(i.height);if(t.body.removeChild(n),l===e)return!0}}return!1},NL=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var r=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=e.firstChild,i=Lm(n.data).map(function(h){return pa(h)}),l=0,u={},d=i.every(function(h,m){r.setStart(n,l),r.setEnd(n,l+h.length);var g=r.getBoundingClientRect();l+=h.length;var b=g.x>u.x||g.y>u.y;return u=g,m===0?!0:b});return t.body.removeChild(e),d},CL=function(){return typeof new Image().crossOrigin<"u"},EL=function(){return typeof new XMLHttpRequest().responseType=="string"},SL=function(t){var e=new Image,r=t.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),r.toDataURL()}catch{return!1}return!0},Kw=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},jL=function(t){var e=t.createElement("canvas"),r=100;e.width=r,e.height=r;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var i=new Image,l=e.toDataURL();i.src=l;var u=sb(r,r,0,0,i);return n.fillStyle="red",n.fillRect(0,0,r,r),Gw(u).then(function(d){n.drawImage(d,0,0);var h=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var m=t.createElement("div");return m.style.backgroundImage="url("+l+")",m.style.height=r+"px",Kw(h)?Gw(sb(r,r,0,0,m)):Promise.reject(!1)}).then(function(d){return n.drawImage(d,0,0),Kw(n.getImageData(0,0,r,r).data)}).catch(function(){return!1})},sb=function(t,e,r,n,i){var l="http://www.w3.org/2000/svg",u=document.createElementNS(l,"svg"),d=document.createElementNS(l,"foreignObject");return u.setAttributeNS(null,"width",t.toString()),u.setAttributeNS(null,"height",e.toString()),d.setAttributeNS(null,"width","100%"),d.setAttributeNS(null,"height","100%"),d.setAttributeNS(null,"x",r.toString()),d.setAttributeNS(null,"y",n.toString()),d.setAttributeNS(null,"externalResourcesRequired","true"),u.appendChild(d),d.appendChild(i),u},Gw=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){return e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},ci={get SUPPORT_RANGE_BOUNDS(){var t=BL(document);return Object.defineProperty(ci,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=ci.SUPPORT_RANGE_BOUNDS&&NL(document);return Object.defineProperty(ci,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=SL(document);return Object.defineProperty(ci,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?jL(document):Promise.resolve(!1);return Object.defineProperty(ci,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=CL();return Object.defineProperty(ci,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=EL();return Object.defineProperty(ci,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(ci,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(ci,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},Sh=(function(){function t(e,r){this.text=e,this.bounds=r}return t})(),UL=function(t,e,r,n){var i=FL(e,r),l=[],u=0;return i.forEach(function(d){if(r.textDecorationLine.length||d.trim().length>0)if(ci.SUPPORT_RANGE_BOUNDS){var h=Vw(n,u,d.length).getClientRects();if(h.length>1){var m=av(d),g=0;m.forEach(function(N){l.push(new Sh(N,QA.fromDOMRectList(t,Vw(n,g+u,N.length).getClientRects()))),g+=N.length})}else l.push(new Sh(d,QA.fromDOMRectList(t,h)))}else{var b=n.splitText(d.length);l.push(new Sh(d,kL(t,n))),n=b}else ci.SUPPORT_RANGE_BOUNDS||(n=n.splitText(d.length));u+=d.length}),l},kL=function(t,e){var r=e.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var i=e.parentNode;if(i){i.replaceChild(n,e);var l=km(t,n);return n.firstChild&&i.replaceChild(n.firstChild,n),l}}return QA.EMPTY},Vw=function(t,e,r){var n=t.ownerDocument;if(!n)throw new Error("Node has no owner document");var i=n.createRange();return i.setStart(t,e),i.setEnd(t,e+r),i},av=function(t){if(ci.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(r){return r.segment})}return _L(t)},LL=function(t,e){if(ci.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(t)).map(function(n){return n.segment})}return IL(t,e)},FL=function(t,e){return e.letterSpacing!==0?av(t):LL(t,e)},TL=[32,160,4961,65792,65793,4153,4241],IL=function(t,e){for(var r=l6(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),n=[],i,l=function(){if(i.value){var u=i.value.slice(),d=Lm(u),h="";d.forEach(function(m){TL.indexOf(m)===-1?h+=pa(m):(h.length&&n.push(h),n.push(pa(m)),h="")}),h.length&&n.push(h)}};!(i=r.next()).done;)l();return n},QL=(function(){function t(e,r,n){this.text=OL(r.data,n.textTransform),this.textBounds=UL(e,this.text,n,r)}return t})(),OL=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(RL,DL);case 2:return t.toUpperCase();default:return t}},RL=/(^|\s|:|-|\(|\))([a-z])/g,DL=function(t,e,r){return t.length>0?e+r.toUpperCase():t},RB=(function(t){Nl(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.src=n.currentSrc||n.src,i.intrinsicWidth=n.naturalWidth,i.intrinsicHeight=n.naturalHeight,i.context.cache.addImage(i.src),i}return e})(sA),DB=(function(t){Nl(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.canvas=n,i.intrinsicWidth=n.width,i.intrinsicHeight=n.height,i}return e})(sA),MB=(function(t){Nl(e,t);function e(r,n){var i=t.call(this,r,n)||this,l=new XMLSerializer,u=km(r,n);return n.setAttribute("width",u.width+"px"),n.setAttribute("height",u.height+"px"),i.svg="data:image/svg+xml,"+encodeURIComponent(l.serializeToString(n)),i.intrinsicWidth=n.width.baseVal.value,i.intrinsicHeight=n.height.baseVal.value,i.context.cache.addImage(i.svg),i}return e})(sA),PB=(function(t){Nl(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.value=n.value,i}return e})(sA),ab=(function(t){Nl(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.start=n.start,i.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,i}return e})(sA),ML=[{type:15,flags:0,unit:"px",number:3}],PL=[{type:16,flags:0,number:50}],HL=function(t){return t.width>t.height?new QA(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new QA(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},qL=function(t){var e=t.type===zL?new Array(t.value.length+1).join(""):t.value;return e.length===0?t.placeholder||"":e},lm="checkbox",Am="radio",zL="password",$w=707406591,iv=(function(t){Nl(e,t);function e(r,n){var i=t.call(this,r,n)||this;switch(i.type=n.type.toLowerCase(),i.checked=n.checked,i.value=qL(n),(i.type===lm||i.type===Am)&&(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=1,i.styles.backgroundClip=[0],i.styles.backgroundOrigin=[0],i.bounds=HL(i.bounds)),i.type){case lm:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=ML;break;case Am:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=PL;break}return i}return e})(sA),HB=(function(t){Nl(e,t);function e(r,n){var i=t.call(this,r,n)||this,l=n.options[n.selectedIndex||0];return i.value=l&&l.text||"",i}return e})(sA),qB=(function(t){Nl(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.value=n.value,i}return e})(sA),zB=(function(t){Nl(e,t);function e(r,n){var i=t.call(this,r,n)||this;i.src=n.src,i.width=parseInt(n.width,10)||0,i.height=parseInt(n.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){i.tree=GB(r,n.contentWindow.document.documentElement);var l=n.contentWindow.document.documentElement?Ch(r,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):TA.TRANSPARENT,u=n.contentWindow.document.body?Ch(r,getComputedStyle(n.contentWindow.document.body).backgroundColor):TA.TRANSPARENT;i.backgroundColor=vc(l)?vc(u)?i.styles.backgroundColor:u:l}}catch{}return i}return e})(sA),KL=["OL","UL","MENU"],Kp=function(t,e,r,n){for(var i=e.firstChild,l=void 0;i;i=l)if(l=i.nextSibling,VB(i)&&i.data.trim().length>0)r.textNodes.push(new QL(t,i,r.styles));else if(id(i))if(YB(i)&&i.assignedNodes)i.assignedNodes().forEach(function(d){return Kp(t,d,r,n)});else{var u=KB(t,i);u.styles.isVisible()&&(GL(i,u,n)?u.flags|=4:VL(u.styles)&&(u.flags|=2),KL.indexOf(i.tagName)!==-1&&(u.flags|=8),r.elements.push(u),i.slot,i.shadowRoot?Kp(t,i.shadowRoot,u,n):!cm(i)&&!$B(i)&&!um(i)&&Kp(t,i,u,n))}},KB=function(t,e){return ob(e)?new RB(t,e):ZB(e)?new DB(t,e):$B(e)?new MB(t,e):$L(e)?new PB(t,e):ZL(e)?new ab(t,e):XL(e)?new iv(t,e):um(e)?new HB(t,e):cm(e)?new qB(t,e):XB(e)?new zB(t,e):new sA(t,e)},GB=function(t,e){var r=KB(t,e);return r.flags|=4,Kp(t,e,r,r),r},GL=function(t,e,r){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||ov(t)&&r.styles.isTransparent()},VL=function(t){return t.isPositioned()||t.isFloating()},VB=function(t){return t.nodeType===Node.TEXT_NODE},id=function(t){return t.nodeType===Node.ELEMENT_NODE},ib=function(t){return id(t)&&typeof t.style<"u"&&!Gp(t)},Gp=function(t){return typeof t.className=="object"},$L=function(t){return t.tagName==="LI"},ZL=function(t){return t.tagName==="OL"},XL=function(t){return t.tagName==="INPUT"},YL=function(t){return t.tagName==="HTML"},$B=function(t){return t.tagName==="svg"},ov=function(t){return t.tagName==="BODY"},ZB=function(t){return t.tagName==="CANVAS"},Zw=function(t){return t.tagName==="VIDEO"},ob=function(t){return t.tagName==="IMG"},XB=function(t){return t.tagName==="IFRAME"},Xw=function(t){return t.tagName==="STYLE"},JL=function(t){return t.tagName==="SCRIPT"},cm=function(t){return t.tagName==="TEXTAREA"},um=function(t){return t.tagName==="SELECT"},YB=function(t){return t.tagName==="SLOT"},Yw=function(t){return t.tagName.indexOf("-")>0},WL=(function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var r=this.counters[e];return r&&r.length?r[r.length-1]:1},t.prototype.getCounterValues=function(e){var r=this.counters[e];return r||[]},t.prototype.pop=function(e){var r=this;e.forEach(function(n){return r.counters[n].pop()})},t.prototype.parse=function(e){var r=this,n=e.counterIncrement,i=e.counterReset,l=!0;n!==null&&n.forEach(function(d){var h=r.counters[d.counter];h&&d.increment!==0&&(l=!1,h.length||h.push(1),h[Math.max(0,h.length-1)]+=d.increment)});var u=[];return l&&i.forEach(function(d){var h=r.counters[d.counter];u.push(d.counter),h||(h=r.counters[d.counter]=[]),h.push(d.reset)}),u},t})(),Jw={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Ww={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},eF={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},tF={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Du=function(t,e,r,n,i,l){return t<e||t>r?Ph(t,i,l.length>0):n.integers.reduce(function(u,d,h){for(;t>=d;)t-=d,u+=n.values[h];return u},"")+l},JB=function(t,e,r,n){var i="";do r||t--,i=n(t)+i,t/=e;while(t*e>=e);return i},fa=function(t,e,r,n,i){var l=r-e+1;return(t<0?"-":"")+(JB(Math.abs(t),l,n,function(u){return pa(Math.floor(u%l)+e)})+i)},Tc=function(t,e,r){r===void 0&&(r=". ");var n=e.length;return JB(Math.abs(t),n,!1,function(i){return e[Math.floor(i%n)]})+r},Wu=1,Ac=2,cc=4,_h=8,EA=function(t,e,r,n,i,l){if(t<-9999||t>9999)return Ph(t,4,i.length>0);var u=Math.abs(t),d=i;if(u===0)return e[0]+d;for(var h=0;u>0&&h<=4;h++){var m=u%10;m===0&&Da(l,Wu)&&d!==""?d=e[m]+d:m>1||m===1&&h===0||m===1&&h===1&&Da(l,Ac)||m===1&&h===1&&Da(l,cc)&&t>100||m===1&&h>1&&Da(l,_h)?d=e[m]+(h>0?r[h-1]:"")+d:m===1&&h>0&&(d=r[h-1]+d),u=Math.floor(u/10)}return(t<0?n:"")+d},e2="",t2="",r2="",O0="",Ph=function(t,e,r){var n=r?". ":"",i=r?"":"",l=r?", ":"",u=r?" ":"";switch(e){case 0:return""+u;case 1:return""+u;case 2:return""+u;case 5:var d=fa(t,48,57,!0,n);return d.length<4?"0"+d:d;case 4:return Tc(t,"",i);case 6:return Du(t,1,3999,Jw,3,n).toLowerCase();case 7:return Du(t,1,3999,Jw,3,n);case 8:return fa(t,945,969,!1,n);case 9:return fa(t,97,122,!1,n);case 10:return fa(t,65,90,!1,n);case 11:return fa(t,1632,1641,!0,n);case 12:case 49:return Du(t,1,9999,Ww,3,n);case 35:return Du(t,1,9999,Ww,3,n).toLowerCase();case 13:return fa(t,2534,2543,!0,n);case 14:case 30:return fa(t,6112,6121,!0,n);case 15:return Tc(t,"",i);case 16:return Tc(t,"",i);case 17:case 48:return EA(t,"",e2,"",i,Ac|cc|_h);case 47:return EA(t,"",t2,"",i,Wu|Ac|cc|_h);case 42:return EA(t,"",e2,"",i,Ac|cc|_h);case 41:return EA(t,"",t2,"",i,Wu|Ac|cc|_h);case 26:return EA(t,"","",r2,i,0);case 25:return EA(t,"","",r2,i,Wu|Ac|cc);case 31:return EA(t,"","",O0,l,Wu|Ac|cc);case 33:return EA(t,"","",O0,l,0);case 32:return EA(t,"","",O0,l,Wu|Ac|cc);case 18:return fa(t,2406,2415,!0,n);case 20:return Du(t,1,19999,tF,3,n);case 21:return fa(t,2790,2799,!0,n);case 22:return fa(t,2662,2671,!0,n);case 22:return Du(t,1,10999,eF,3,n);case 23:return Tc(t,"");case 24:return Tc(t,"");case 27:return fa(t,3302,3311,!0,n);case 28:return Tc(t,"",i);case 29:return Tc(t,"",i);case 34:return fa(t,3792,3801,!0,n);case 37:return fa(t,6160,6169,!0,n);case 38:return fa(t,4160,4169,!0,n);case 39:return fa(t,2918,2927,!0,n);case 40:return fa(t,1776,1785,!0,n);case 43:return fa(t,3046,3055,!0,n);case 44:return fa(t,3174,3183,!0,n);case 45:return fa(t,3664,3673,!0,n);case 46:return fa(t,3872,3881,!0,n);case 3:default:return fa(t,48,57,!0,n)}},WB="data-html2canvas-ignore",n2=(function(){function t(e,r,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=r,this.counters=new WL,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,r){var n=this,i=rF(e,r);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var l=e.defaultView.pageXOffset,u=e.defaultView.pageYOffset,d=i.contentWindow,h=d.document,m=aF(i).then(function(){return Di(n,void 0,void 0,function(){var g,b;return Si(this,function(N){switch(N.label){case 0:return this.scrolledElements.forEach(AF),d&&(d.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(d.scrollY!==r.top||d.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(d.scrollX-r.left,d.scrollY-r.top,0,0))),g=this.options.onclone,b=this.clonedReferenceElement,typeof b>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:h.fonts&&h.fonts.ready?[4,h.fonts.ready]:[3,2];case 1:N.sent(),N.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,sF(h)]:[3,4];case 3:N.sent(),N.label=4;case 4:return typeof g=="function"?[2,Promise.resolve().then(function(){return g(h,b)}).then(function(){return i})]:[2,i]}})})});return h.open(),h.write(oF(document.doctype)+"<html></html>"),lF(this.referenceElement.ownerDocument,l,u),h.replaceChild(h.adoptNode(this.documentElement),h.documentElement),h.close(),m},t.prototype.createElementClone=function(e){if(nb(e,2))debugger;if(ZB(e))return this.createCanvasClone(e);if(Zw(e))return this.createVideoClone(e);if(Xw(e))return this.createStyleClone(e);var r=e.cloneNode(!1);return ob(r)&&(ob(e)&&e.currentSrc&&e.currentSrc!==e.src&&(r.src=e.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),Yw(r)?this.createCustomElementClone(r):r},t.prototype.createCustomElementClone=function(e){var r=document.createElement("html2canvascustomelement");return R0(e.style,r),r},t.prototype.createStyleClone=function(e){try{var r=e.sheet;if(r&&r.cssRules){var n=[].slice.call(r.cssRules,0).reduce(function(l,u){return u&&typeof u.cssText=="string"?l+u.cssText:l},""),i=e.cloneNode(!1);return i.textContent=n,i}}catch(l){if(this.context.logger.error("Unable to access cssRules property",l),l.name!=="SecurityError")throw l}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var r;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var i=e.cloneNode(!1);try{i.width=e.width,i.height=e.height;var l=e.getContext("2d"),u=i.getContext("2d");if(u)if(!this.options.allowTaint&&l)u.putImageData(l.getImageData(0,0,e.width,e.height),0,0);else{var d=(r=e.getContext("webgl2"))!==null&&r!==void 0?r:e.getContext("webgl");if(d){var h=d.getContextAttributes();(h==null?void 0:h.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}u.drawImage(e,0,0)}return i}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return i},t.prototype.createVideoClone=function(e){var r=e.ownerDocument.createElement("canvas");r.width=e.offsetWidth,r.height=e.offsetHeight;var n=r.getContext("2d");try{return n&&(n.drawImage(e,0,0,r.width,r.height),this.options.allowTaint||n.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var i=e.ownerDocument.createElement("canvas");return i.width=e.offsetWidth,i.height=e.offsetHeight,i},t.prototype.appendChildNode=function(e,r,n){(!id(r)||!JL(r)&&!r.hasAttribute(WB)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!id(r)||!Xw(r))&&e.appendChild(this.cloneNode(r,n))},t.prototype.cloneChildNodes=function(e,r,n){for(var i=this,l=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;l;l=l.nextSibling)if(id(l)&&YB(l)&&typeof l.assignedNodes=="function"){var u=l.assignedNodes();u.length&&u.forEach(function(d){return i.appendChildNode(r,d,n)})}else this.appendChildNode(r,l,n)},t.prototype.cloneNode=function(e,r){if(VB(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&id(e)&&(ib(e)||Gp(e))){var i=this.createElementClone(e);i.style.transitionProperty="none";var l=n.getComputedStyle(e),u=n.getComputedStyle(e,":before"),d=n.getComputedStyle(e,":after");this.referenceElement===e&&ib(i)&&(this.clonedReferenceElement=i),ov(i)&&dF(i);var h=this.counters.parse(new Tw(this.context,l)),m=this.resolvePseudoContent(e,i,u,jh.BEFORE);Yw(e)&&(r=!0),Zw(e)||this.cloneChildNodes(e,i,r),m&&i.insertBefore(m,i.firstChild);var g=this.resolvePseudoContent(e,i,d,jh.AFTER);return g&&i.appendChild(g),this.counters.pop(h),(l&&(this.options.copyStyles||Gp(e))&&!XB(e)||r)&&R0(l,i),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([i,e.scrollLeft,e.scrollTop]),(cm(e)||um(e))&&(cm(i)||um(i))&&(i.value=e.value),i}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,r,n,i){var l=this;if(n){var u=n.content,d=r.ownerDocument;if(!(!d||!u||u==="none"||u==="-moz-alt-content"||n.display==="none")){this.counters.parse(new Tw(this.context,n));var h=new $k(this.context,n),m=d.createElement("html2canvaspseudoelement");R0(n,m),h.content.forEach(function(b){if(b.type===0)m.appendChild(d.createTextNode(b.value));else if(b.type===22){var N=d.createElement("img");N.src=b.value,N.style.opacity="1",m.appendChild(N)}else if(b.type===18){if(b.name==="attr"){var w=b.values.filter(is);w.length&&m.appendChild(d.createTextNode(e.getAttribute(w[0].value)||""))}else if(b.name==="counter"){var C=b.values.filter(xd),U=C[0],T=C[1];if(U&&is(U)){var S=l.counters.getCounterValue(U.value),I=T&&is(T)?rb.parse(l.context,T.value):3;m.appendChild(d.createTextNode(Ph(S,I,!1)))}}else if(b.name==="counters"){var O=b.values.filter(xd),U=O[0],M=O[1],T=O[2];if(U&&is(U)){var ne=l.counters.getCounterValues(U.value),z=T&&is(T)?rb.parse(l.context,T.value):3,oe=M&&M.type===0?M.value:"",te=ne.map(function(Z){return Ph(Z,z,!1)}).join(oe);m.appendChild(d.createTextNode(te))}}}else if(b.type===20)switch(b.value){case"open-quote":m.appendChild(d.createTextNode(Fw(h.quotes,l.quoteDepth++,!0)));break;case"close-quote":m.appendChild(d.createTextNode(Fw(h.quotes,--l.quoteDepth,!1)));break;default:m.appendChild(d.createTextNode(b.value))}}),m.className=lb+" "+Ab;var g=i===jh.BEFORE?" "+lb:" "+Ab;return Gp(r)?r.className.baseValue+=g:r.className+=g,m}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t})(),jh;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(jh||(jh={}));var rF=function(t,e){var r=t.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=e.width.toString(),r.height=e.height.toString(),r.scrolling="no",r.setAttribute(WB,"true"),t.body.appendChild(r),r},nF=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},sF=function(t){return Promise.all([].slice.call(t.images,0).map(nF))},aF=function(t){return new Promise(function(e,r){var n=t.contentWindow;if(!n)return r("No window assigned for iframe");var i=n.document;n.onload=t.onload=function(){n.onload=t.onload=null;var l=setInterval(function(){i.body.childNodes.length>0&&i.readyState==="complete"&&(clearInterval(l),e(t))},50)}})},iF=["all","d","content"],R0=function(t,e){for(var r=t.length-1;r>=0;r--){var n=t.item(r);iF.indexOf(n)===-1&&e.style.setProperty(n,t.getPropertyValue(n))}return e},oF=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},lF=function(t,e,r){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||r!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,r)},AF=function(t){var e=t[0],r=t[1],n=t[2];e.scrollLeft=r,e.scrollTop=n},cF=":before",uF=":after",lb="___html2canvas___pseudoelement_before",Ab="___html2canvas___pseudoelement_after",s2=`{
    content: "" !important;
    display: none !important;
}`,dF=function(t){hF(t,"."+lb+cF+s2+`
         .`+Ab+uF+s2)},hF=function(t,e){var r=t.ownerDocument;if(r){var n=r.createElement("style");n.textContent=e,t.appendChild(n)}},eN=(function(){function t(){}return t.getOrigin=function(e){var r=t._link;return r?(r.href=e,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t})(),fF=(function(){function t(e,r){this.context=e,this._options=r,this._cache={}}return t.prototype.addImage=function(e){var r=Promise.resolve();return this.has(e)||(M0(e)||xF(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),r},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return Di(this,void 0,void 0,function(){var r,n,i,l,u=this;return Si(this,function(d){switch(d.label){case 0:return r=eN.isSameOrigin(e),n=!D0(e)&&this._options.useCORS===!0&&ci.SUPPORT_CORS_IMAGES&&!r,i=!D0(e)&&!r&&!M0(e)&&typeof this._options.proxy=="string"&&ci.SUPPORT_CORS_XHR&&!n,!r&&this._options.allowTaint===!1&&!D0(e)&&!M0(e)&&!i&&!n?[2]:(l=e,i?[4,this.proxy(l)]:[3,2]);case 1:l=d.sent(),d.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(h,m){var g=new Image;g.onload=function(){return h(g)},g.onerror=m,(bF(l)||n)&&(g.crossOrigin="anonymous"),g.src=l,g.complete===!0&&setTimeout(function(){return h(g)},500),u._options.imageTimeout>0&&setTimeout(function(){return m("Timed out ("+u._options.imageTimeout+"ms) loading image")},u._options.imageTimeout)})];case 3:return[2,d.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var r=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var i=e.substring(0,256);return new Promise(function(l,u){var d=ci.SUPPORT_RESPONSE_TYPE?"blob":"text",h=new XMLHttpRequest;h.onload=function(){if(h.status===200)if(d==="text")l(h.response);else{var b=new FileReader;b.addEventListener("load",function(){return l(b.result)},!1),b.addEventListener("error",function(N){return u(N)},!1),b.readAsDataURL(h.response)}else u("Failed to proxy resource "+i+" with status code "+h.status)},h.onerror=u;var m=n.indexOf("?")>-1?"&":"?";if(h.open("GET",""+n+m+"url="+encodeURIComponent(e)+"&responseType="+d),d!=="text"&&h instanceof XMLHttpRequest&&(h.responseType=d),r._options.imageTimeout){var g=r._options.imageTimeout;h.timeout=g,h.ontimeout=function(){return u("Timed out ("+g+"ms) proxying "+i)}}h.send()})},t})(),pF=/^data:image\/svg\+xml/i,mF=/^data:image\/.*;base64,/i,gF=/^data:image\/.*/i,xF=function(t){return ci.SUPPORT_SVG_DRAWING||!vF(t)},D0=function(t){return gF.test(t)},bF=function(t){return mF.test(t)},M0=function(t){return t.substr(0,4)==="blob"},vF=function(t){return t.substr(-3).toLowerCase()==="svg"||pF.test(t)},Wt=(function(){function t(e,r){this.type=0,this.x=e,this.y=r}return t.prototype.add=function(e,r){return new t(this.x+e,this.y+r)},t})(),Mu=function(t,e,r){return new Wt(t.x+(e.x-t.x)*r,t.y+(e.y-t.y)*r)},pp=(function(){function t(e,r,n,i){this.type=1,this.start=e,this.startControl=r,this.endControl=n,this.end=i}return t.prototype.subdivide=function(e,r){var n=Mu(this.start,this.startControl,e),i=Mu(this.startControl,this.endControl,e),l=Mu(this.endControl,this.end,e),u=Mu(n,i,e),d=Mu(i,l,e),h=Mu(u,d,e);return r?new t(this.start,n,u,h):new t(h,d,l,this.end)},t.prototype.add=function(e,r){return new t(this.start.add(e,r),this.startControl.add(e,r),this.endControl.add(e,r),this.end.add(e,r))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t})(),Jo=function(t){return t.type===1},yF=(function(){function t(e){var r=e.styles,n=e.bounds,i=yh(r.borderTopLeftRadius,n.width,n.height),l=i[0],u=i[1],d=yh(r.borderTopRightRadius,n.width,n.height),h=d[0],m=d[1],g=yh(r.borderBottomRightRadius,n.width,n.height),b=g[0],N=g[1],w=yh(r.borderBottomLeftRadius,n.width,n.height),C=w[0],U=w[1],T=[];T.push((l+h)/n.width),T.push((C+b)/n.width),T.push((u+U)/n.height),T.push((m+N)/n.height);var S=Math.max.apply(Math,T);S>1&&(l/=S,u/=S,h/=S,m/=S,b/=S,N/=S,C/=S,U/=S);var I=n.width-h,O=n.height-N,M=n.width-b,ne=n.height-U,z=r.borderTopWidth,oe=r.borderRightWidth,te=r.borderBottomWidth,X=r.borderLeftWidth,ge=gs(r.paddingTop,e.bounds.width),Z=gs(r.paddingRight,e.bounds.width),W=gs(r.paddingBottom,e.bounds.width),ae=gs(r.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=l>0||u>0?Is(n.left+X/3,n.top+z/3,l-X/3,u-z/3,Gn.TOP_LEFT):new Wt(n.left+X/3,n.top+z/3),this.topRightBorderDoubleOuterBox=l>0||u>0?Is(n.left+I,n.top+z/3,h-oe/3,m-z/3,Gn.TOP_RIGHT):new Wt(n.left+n.width-oe/3,n.top+z/3),this.bottomRightBorderDoubleOuterBox=b>0||N>0?Is(n.left+M,n.top+O,b-oe/3,N-te/3,Gn.BOTTOM_RIGHT):new Wt(n.left+n.width-oe/3,n.top+n.height-te/3),this.bottomLeftBorderDoubleOuterBox=C>0||U>0?Is(n.left+X/3,n.top+ne,C-X/3,U-te/3,Gn.BOTTOM_LEFT):new Wt(n.left+X/3,n.top+n.height-te/3),this.topLeftBorderDoubleInnerBox=l>0||u>0?Is(n.left+X*2/3,n.top+z*2/3,l-X*2/3,u-z*2/3,Gn.TOP_LEFT):new Wt(n.left+X*2/3,n.top+z*2/3),this.topRightBorderDoubleInnerBox=l>0||u>0?Is(n.left+I,n.top+z*2/3,h-oe*2/3,m-z*2/3,Gn.TOP_RIGHT):new Wt(n.left+n.width-oe*2/3,n.top+z*2/3),this.bottomRightBorderDoubleInnerBox=b>0||N>0?Is(n.left+M,n.top+O,b-oe*2/3,N-te*2/3,Gn.BOTTOM_RIGHT):new Wt(n.left+n.width-oe*2/3,n.top+n.height-te*2/3),this.bottomLeftBorderDoubleInnerBox=C>0||U>0?Is(n.left+X*2/3,n.top+ne,C-X*2/3,U-te*2/3,Gn.BOTTOM_LEFT):new Wt(n.left+X*2/3,n.top+n.height-te*2/3),this.topLeftBorderStroke=l>0||u>0?Is(n.left+X/2,n.top+z/2,l-X/2,u-z/2,Gn.TOP_LEFT):new Wt(n.left+X/2,n.top+z/2),this.topRightBorderStroke=l>0||u>0?Is(n.left+I,n.top+z/2,h-oe/2,m-z/2,Gn.TOP_RIGHT):new Wt(n.left+n.width-oe/2,n.top+z/2),this.bottomRightBorderStroke=b>0||N>0?Is(n.left+M,n.top+O,b-oe/2,N-te/2,Gn.BOTTOM_RIGHT):new Wt(n.left+n.width-oe/2,n.top+n.height-te/2),this.bottomLeftBorderStroke=C>0||U>0?Is(n.left+X/2,n.top+ne,C-X/2,U-te/2,Gn.BOTTOM_LEFT):new Wt(n.left+X/2,n.top+n.height-te/2),this.topLeftBorderBox=l>0||u>0?Is(n.left,n.top,l,u,Gn.TOP_LEFT):new Wt(n.left,n.top),this.topRightBorderBox=h>0||m>0?Is(n.left+I,n.top,h,m,Gn.TOP_RIGHT):new Wt(n.left+n.width,n.top),this.bottomRightBorderBox=b>0||N>0?Is(n.left+M,n.top+O,b,N,Gn.BOTTOM_RIGHT):new Wt(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=C>0||U>0?Is(n.left,n.top+ne,C,U,Gn.BOTTOM_LEFT):new Wt(n.left,n.top+n.height),this.topLeftPaddingBox=l>0||u>0?Is(n.left+X,n.top+z,Math.max(0,l-X),Math.max(0,u-z),Gn.TOP_LEFT):new Wt(n.left+X,n.top+z),this.topRightPaddingBox=h>0||m>0?Is(n.left+Math.min(I,n.width-oe),n.top+z,I>n.width+oe?0:Math.max(0,h-oe),Math.max(0,m-z),Gn.TOP_RIGHT):new Wt(n.left+n.width-oe,n.top+z),this.bottomRightPaddingBox=b>0||N>0?Is(n.left+Math.min(M,n.width-X),n.top+Math.min(O,n.height-te),Math.max(0,b-oe),Math.max(0,N-te),Gn.BOTTOM_RIGHT):new Wt(n.left+n.width-oe,n.top+n.height-te),this.bottomLeftPaddingBox=C>0||U>0?Is(n.left+X,n.top+Math.min(ne,n.height-te),Math.max(0,C-X),Math.max(0,U-te),Gn.BOTTOM_LEFT):new Wt(n.left+X,n.top+n.height-te),this.topLeftContentBox=l>0||u>0?Is(n.left+X+ae,n.top+z+ge,Math.max(0,l-(X+ae)),Math.max(0,u-(z+ge)),Gn.TOP_LEFT):new Wt(n.left+X+ae,n.top+z+ge),this.topRightContentBox=h>0||m>0?Is(n.left+Math.min(I,n.width+X+ae),n.top+z+ge,I>n.width+X+ae?0:h-X+ae,m-(z+ge),Gn.TOP_RIGHT):new Wt(n.left+n.width-(oe+Z),n.top+z+ge),this.bottomRightContentBox=b>0||N>0?Is(n.left+Math.min(M,n.width-(X+ae)),n.top+Math.min(O,n.height+z+ge),Math.max(0,b-(oe+Z)),N-(te+W),Gn.BOTTOM_RIGHT):new Wt(n.left+n.width-(oe+Z),n.top+n.height-(te+W)),this.bottomLeftContentBox=C>0||U>0?Is(n.left+X+ae,n.top+ne,Math.max(0,C-(X+ae)),U-(te+W),Gn.BOTTOM_LEFT):new Wt(n.left+X+ae,n.top+n.height-(te+W))}return t})(),Gn;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Gn||(Gn={}));var Is=function(t,e,r,n,i){var l=4*((Math.sqrt(2)-1)/3),u=r*l,d=n*l,h=t+r,m=e+n;switch(i){case Gn.TOP_LEFT:return new pp(new Wt(t,m),new Wt(t,m-d),new Wt(h-u,e),new Wt(h,e));case Gn.TOP_RIGHT:return new pp(new Wt(t,e),new Wt(t+u,e),new Wt(h,m-d),new Wt(h,m));case Gn.BOTTOM_RIGHT:return new pp(new Wt(h,e),new Wt(h,e+d),new Wt(t+u,m),new Wt(t,m));case Gn.BOTTOM_LEFT:default:return new pp(new Wt(h,m),new Wt(h-u,m),new Wt(t,e+d),new Wt(t,e))}},dm=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},wF=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},hm=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},_F=(function(){function t(e,r,n){this.offsetX=e,this.offsetY=r,this.matrix=n,this.type=0,this.target=6}return t})(),mp=(function(){function t(e,r){this.path=e,this.target=r,this.type=1}return t})(),BF=(function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t})(),NF=function(t){return t.type===0},tN=function(t){return t.type===1},CF=function(t){return t.type===2},a2=function(t,e){return t.length===e.length?t.some(function(r,n){return r===e[n]}):!1},EF=function(t,e,r,n,i){return t.map(function(l,u){switch(u){case 0:return l.add(e,r);case 1:return l.add(e+n,r);case 2:return l.add(e+n,r+i);case 3:return l.add(e,r+i)}return l})},rN=(function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t})(),nN=(function(){function t(e,r){if(this.container=e,this.parent=r,this.effects=[],this.curves=new yF(this.container),this.container.styles.opacity<1&&this.effects.push(new BF(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,l=this.container.styles.transform;this.effects.push(new _F(n,i,l))}if(this.container.styles.overflowX!==0){var u=dm(this.curves),d=hm(this.curves);a2(u,d)?this.effects.push(new mp(u,6)):(this.effects.push(new mp(u,2)),this.effects.push(new mp(d,4)))}}return t.prototype.getEffects=function(e){for(var r=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,i=this.effects.slice(0);n;){var l=n.effects.filter(function(h){return!tN(h)});if(r||n.container.styles.position!==0||!n.parent){if(i.unshift.apply(i,l),r=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var u=dm(n.curves),d=hm(n.curves);a2(u,d)||i.unshift(new mp(d,6))}}else i.unshift.apply(i,l);n=n.parent}return i.filter(function(h){return Da(h.target,e)})},t})(),cb=function(t,e,r,n){t.container.elements.forEach(function(i){var l=Da(i.flags,4),u=Da(i.flags,2),d=new nN(i,t);Da(i.styles.display,2048)&&n.push(d);var h=Da(i.flags,8)?[]:n;if(l||u){var m=l||i.styles.isPositioned()?r:e,g=new rN(d);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var b=i.styles.zIndex.order;if(b<0){var N=0;m.negativeZIndex.some(function(C,U){return b>C.element.container.styles.zIndex.order?(N=U,!1):N>0}),m.negativeZIndex.splice(N,0,g)}else if(b>0){var w=0;m.positiveZIndex.some(function(C,U){return b>=C.element.container.styles.zIndex.order?(w=U+1,!1):w>0}),m.positiveZIndex.splice(w,0,g)}else m.zeroOrAutoZIndexOrTransformedOrOpacity.push(g)}else i.styles.isFloating()?m.nonPositionedFloats.push(g):m.nonPositionedInlineLevel.push(g);cb(d,g,l?g:r,h)}else i.styles.isInlineLevel()?e.inlineLevel.push(d):e.nonInlineLevel.push(d),cb(d,e,r,h);Da(i.flags,8)&&sN(i,h)})},sN=function(t,e){for(var r=t instanceof ab?t.start:1,n=t instanceof ab?t.reversed:!1,i=0;i<e.length;i++){var l=e[i];l.container instanceof PB&&typeof l.container.value=="number"&&l.container.value!==0&&(r=l.container.value),l.listValue=Ph(r,l.container.styles.listStyleType,!0),r+=n?-1:1}},SF=function(t){var e=new nN(t,null),r=new rN(e),n=[];return cb(e,r,r,n),sN(e.container,n),r},i2=function(t,e){switch(e){case 0:return el(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return el(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return el(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return el(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},jF=function(t,e){switch(e){case 0:return el(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return el(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return el(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return el(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},UF=function(t,e){switch(e){case 0:return el(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return el(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return el(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return el(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},kF=function(t,e){switch(e){case 0:return gp(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return gp(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return gp(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return gp(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},gp=function(t,e){var r=[];return Jo(t)?r.push(t.subdivide(.5,!1)):r.push(t),Jo(e)?r.push(e.subdivide(.5,!0)):r.push(e),r},el=function(t,e,r,n){var i=[];return Jo(t)?i.push(t.subdivide(.5,!1)):i.push(t),Jo(r)?i.push(r.subdivide(.5,!0)):i.push(r),Jo(n)?i.push(n.subdivide(.5,!0).reverse()):i.push(n),Jo(e)?i.push(e.subdivide(.5,!1).reverse()):i.push(e),i},aN=function(t){var e=t.bounds,r=t.styles;return e.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},fm=function(t){var e=t.styles,r=t.bounds,n=gs(e.paddingLeft,r.width),i=gs(e.paddingRight,r.width),l=gs(e.paddingTop,r.width),u=gs(e.paddingBottom,r.width);return r.add(n+e.borderLeftWidth,l+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+i),-(e.borderTopWidth+e.borderBottomWidth+l+u))},LF=function(t,e){return t===0?e.bounds:t===2?fm(e):aN(e)},FF=function(t,e){return t===0?e.bounds:t===2?fm(e):aN(e)},P0=function(t,e,r){var n=LF(ed(t.styles.backgroundOrigin,e),t),i=FF(ed(t.styles.backgroundClip,e),t),l=TF(ed(t.styles.backgroundSize,e),r,n),u=l[0],d=l[1],h=yh(ed(t.styles.backgroundPosition,e),n.width-u,n.height-d),m=IF(ed(t.styles.backgroundRepeat,e),h,l,n,i),g=Math.round(n.left+h[0]),b=Math.round(n.top+h[1]);return[m,g,b,u,d]},Pu=function(t){return is(t)&&t.value===Ad.AUTO},xp=function(t){return typeof t=="number"},TF=function(t,e,r){var n=e[0],i=e[1],l=e[2],u=t[0],d=t[1];if(!u)return[0,0];if(Na(u)&&d&&Na(d))return[gs(u,r.width),gs(d,r.height)];var h=xp(l);if(is(u)&&(u.value===Ad.CONTAIN||u.value===Ad.COVER)){if(xp(l)){var m=r.width/r.height;return m<l!=(u.value===Ad.COVER)?[r.width,r.width/l]:[r.height*l,r.height]}return[r.width,r.height]}var g=xp(n),b=xp(i),N=g||b;if(Pu(u)&&(!d||Pu(d))){if(g&&b)return[n,i];if(!h&&!N)return[r.width,r.height];if(N&&h){var w=g?n:i*l,C=b?i:n/l;return[w,C]}var U=g?n:r.width,T=b?i:r.height;return[U,T]}if(h){var S=0,I=0;return Na(u)?S=gs(u,r.width):Na(d)&&(I=gs(d,r.height)),Pu(u)?S=I*l:(!d||Pu(d))&&(I=S/l),[S,I]}var O=null,M=null;if(Na(u)?O=gs(u,r.width):d&&Na(d)&&(M=gs(d,r.height)),O!==null&&(!d||Pu(d))&&(M=g&&b?O/n*i:r.height),M!==null&&Pu(u)&&(O=g&&b?M/i*n:r.width),O!==null&&M!==null)return[O,M];throw new Error("Unable to calculate background-size for element")},ed=function(t,e){var r=t[e];return typeof r>"u"?t[0]:r},IF=function(t,e,r,n,i){var l=e[0],u=e[1],d=r[0],h=r[1];switch(t){case 2:return[new Wt(Math.round(n.left),Math.round(n.top+u)),new Wt(Math.round(n.left+n.width),Math.round(n.top+u)),new Wt(Math.round(n.left+n.width),Math.round(h+n.top+u)),new Wt(Math.round(n.left),Math.round(h+n.top+u))];case 3:return[new Wt(Math.round(n.left+l),Math.round(n.top)),new Wt(Math.round(n.left+l+d),Math.round(n.top)),new Wt(Math.round(n.left+l+d),Math.round(n.height+n.top)),new Wt(Math.round(n.left+l),Math.round(n.height+n.top))];case 1:return[new Wt(Math.round(n.left+l),Math.round(n.top+u)),new Wt(Math.round(n.left+l+d),Math.round(n.top+u)),new Wt(Math.round(n.left+l+d),Math.round(n.top+u+h)),new Wt(Math.round(n.left+l),Math.round(n.top+u+h))];default:return[new Wt(Math.round(i.left),Math.round(i.top)),new Wt(Math.round(i.left+i.width),Math.round(i.top)),new Wt(Math.round(i.left+i.width),Math.round(i.height+i.top)),new Wt(Math.round(i.left),Math.round(i.height+i.top))]}},QF="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",o2="Hidden Text",OF=(function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,r){var n=this._document.createElement("div"),i=this._document.createElement("img"),l=this._document.createElement("span"),u=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=r,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",u.appendChild(n),i.src=QF,i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",l.style.fontFamily=e,l.style.fontSize=r,l.style.margin="0",l.style.padding="0",l.appendChild(this._document.createTextNode(o2)),n.appendChild(l),n.appendChild(i);var d=i.offsetTop-l.offsetTop+2;n.removeChild(l),n.appendChild(this._document.createTextNode(o2)),n.style.lineHeight="normal",i.style.verticalAlign="super";var h=i.offsetTop-n.offsetTop+2;return u.removeChild(n),{baseline:d,middle:h}},t.prototype.getMetrics=function(e,r){var n=e+" "+r;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(e,r)),this._data[n]},t})(),iN=(function(){function t(e,r){this.context=e,this.options=r}return t})(),RF=1e4,DF=(function(t){Nl(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i._activeEffects=[],i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),n.canvas||(i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px"),i.fontMetrics=new OF(document),i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),i}return e.prototype.applyEffects=function(r){for(var n=this;this._activeEffects.length;)this.popEffect();r.forEach(function(i){return n.applyEffect(i)})},e.prototype.applyEffect=function(r){this.ctx.save(),CF(r)&&(this.ctx.globalAlpha=r.opacity),NF(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),tN(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(r){return Di(this,void 0,void 0,function(){var n;return Si(this,function(i){switch(i.label){case 0:return n=r.element.container.styles,n.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(r){return Di(this,void 0,void 0,function(){return Si(this,function(n){switch(n.label){case 0:if(Da(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(r)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(r,n,i){var l=this;if(n===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+i);else{var u=av(r.text);u.reduce(function(d,h){return l.ctx.fillText(h,d,r.bounds.top+i),d+l.ctx.measureText(h).width},r.bounds.left)}},e.prototype.createFontStyle=function(r){var n=r.fontVariant.filter(function(u){return u==="normal"||u==="small-caps"}).join(""),i=zF(r.fontFamily).join(", "),l=Wh(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,n,r.fontWeight,l,i].join(" "),i,l]},e.prototype.renderTextNode=function(r,n){return Di(this,void 0,void 0,function(){var i,l,u,d,h,m,g,b,N=this;return Si(this,function(w){return i=this.createFontStyle(n),l=i[0],u=i[1],d=i[2],this.ctx.font=l,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",h=this.fontMetrics.getMetrics(u,d),m=h.baseline,g=h.middle,b=n.paintOrder,r.textBounds.forEach(function(C){b.forEach(function(U){switch(U){case 0:N.ctx.fillStyle=Ga(n.color),N.renderTextWithLetterSpacing(C,n.letterSpacing,m);var T=n.textShadow;T.length&&C.text.trim().length&&(T.slice(0).reverse().forEach(function(S){N.ctx.shadowColor=Ga(S.color),N.ctx.shadowOffsetX=S.offsetX.number*N.options.scale,N.ctx.shadowOffsetY=S.offsetY.number*N.options.scale,N.ctx.shadowBlur=S.blur.number,N.renderTextWithLetterSpacing(C,n.letterSpacing,m)}),N.ctx.shadowColor="",N.ctx.shadowOffsetX=0,N.ctx.shadowOffsetY=0,N.ctx.shadowBlur=0),n.textDecorationLine.length&&(N.ctx.fillStyle=Ga(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(S){switch(S){case 1:N.ctx.fillRect(C.bounds.left,Math.round(C.bounds.top+m),C.bounds.width,1);break;case 2:N.ctx.fillRect(C.bounds.left,Math.round(C.bounds.top),C.bounds.width,1);break;case 3:N.ctx.fillRect(C.bounds.left,Math.ceil(C.bounds.top+g),C.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&C.text.trim().length&&(N.ctx.strokeStyle=Ga(n.webkitTextStrokeColor),N.ctx.lineWidth=n.webkitTextStrokeWidth,N.ctx.lineJoin=window.chrome?"miter":"round",N.ctx.strokeText(C.text,C.bounds.left,C.bounds.top+m)),N.ctx.strokeStyle="",N.ctx.lineWidth=0,N.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(r,n,i){if(i&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var l=fm(r),u=hm(n);this.path(u),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(i,0,0,r.intrinsicWidth,r.intrinsicHeight,l.left,l.top,l.width,l.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(r){return Di(this,void 0,void 0,function(){var n,i,l,u,d,h,I,I,m,g,b,N,M,w,C,ne,U,T,S,I,O,M,ne;return Si(this,function(z){switch(z.label){case 0:this.applyEffects(r.getEffects(4)),n=r.container,i=r.curves,l=n.styles,u=0,d=n.textNodes,z.label=1;case 1:return u<d.length?(h=d[u],[4,this.renderTextNode(h,l)]):[3,4];case 2:z.sent(),z.label=3;case 3:return u++,[3,1];case 4:if(!(n instanceof RB))return[3,8];z.label=5;case 5:return z.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return I=z.sent(),this.renderReplacedElement(n,i,I),[3,8];case 7:return z.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof DB&&this.renderReplacedElement(n,i,n.canvas),!(n instanceof MB))return[3,12];z.label=9;case 9:return z.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return I=z.sent(),this.renderReplacedElement(n,i,I),[3,12];case 11:return z.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof zB&&n.tree?(m=new e(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,m.render(n.tree)]):[3,14];case 13:g=z.sent(),n.width&&n.height&&this.ctx.drawImage(g,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),z.label=14;case 14:if(n instanceof iv&&(b=Math.min(n.bounds.width,n.bounds.height),n.type===lm?n.checked&&(this.ctx.save(),this.path([new Wt(n.bounds.left+b*.39363,n.bounds.top+b*.79),new Wt(n.bounds.left+b*.16,n.bounds.top+b*.5549),new Wt(n.bounds.left+b*.27347,n.bounds.top+b*.44071),new Wt(n.bounds.left+b*.39694,n.bounds.top+b*.5649),new Wt(n.bounds.left+b*.72983,n.bounds.top+b*.23),new Wt(n.bounds.left+b*.84,n.bounds.top+b*.34085),new Wt(n.bounds.left+b*.39363,n.bounds.top+b*.79)]),this.ctx.fillStyle=Ga($w),this.ctx.fill(),this.ctx.restore()):n.type===Am&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+b/2,n.bounds.top+b/2,b/4,0,Math.PI*2,!0),this.ctx.fillStyle=Ga($w),this.ctx.fill(),this.ctx.restore())),MF(n)&&n.value.length){switch(N=this.createFontStyle(l),M=N[0],w=N[1],C=this.fontMetrics.getMetrics(M,w).baseline,this.ctx.font=M,this.ctx.fillStyle=Ga(l.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=HF(n.styles.textAlign),ne=fm(n),U=0,n.styles.textAlign){case 1:U+=ne.width/2;break;case 2:U+=ne.width;break}T=ne.add(U,0,0,-ne.height/2+1),this.ctx.save(),this.path([new Wt(ne.left,ne.top),new Wt(ne.left+ne.width,ne.top),new Wt(ne.left+ne.width,ne.top+ne.height),new Wt(ne.left,ne.top+ne.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Sh(n.value,T),l.letterSpacing,C),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Da(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(S=n.styles.listStyleImage,S.type!==0)return[3,18];I=void 0,O=S.url,z.label=15;case 15:return z.trys.push([15,17,,18]),[4,this.context.cache.match(O)];case 16:return I=z.sent(),this.ctx.drawImage(I,n.bounds.left-(I.width+10),n.bounds.top),[3,18];case 17:return z.sent(),this.context.logger.error("Error loading list-style-image "+O),[3,18];case 18:return[3,20];case 19:r.listValue&&n.styles.listStyleType!==-1&&(M=this.createFontStyle(l)[0],this.ctx.font=M,this.ctx.fillStyle=Ga(l.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",ne=new QA(n.bounds.left,n.bounds.top+gs(n.styles.paddingTop,n.bounds.width),n.bounds.width,kw(l.lineHeight,l.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Sh(r.listValue,ne),l.letterSpacing,kw(l.lineHeight,l.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),z.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(r){return Di(this,void 0,void 0,function(){var n,i,S,l,u,S,d,h,S,m,g,S,b,N,S,w,C,S,U,T,S;return Si(this,function(I){switch(I.label){case 0:if(Da(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:I.sent(),n=0,i=r.negativeZIndex,I.label=2;case 2:return n<i.length?(S=i[n],[4,this.renderStack(S)]):[3,5];case 3:I.sent(),I.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:I.sent(),l=0,u=r.nonInlineLevel,I.label=7;case 7:return l<u.length?(S=u[l],[4,this.renderNode(S)]):[3,10];case 8:I.sent(),I.label=9;case 9:return l++,[3,7];case 10:d=0,h=r.nonPositionedFloats,I.label=11;case 11:return d<h.length?(S=h[d],[4,this.renderStack(S)]):[3,14];case 12:I.sent(),I.label=13;case 13:return d++,[3,11];case 14:m=0,g=r.nonPositionedInlineLevel,I.label=15;case 15:return m<g.length?(S=g[m],[4,this.renderStack(S)]):[3,18];case 16:I.sent(),I.label=17;case 17:return m++,[3,15];case 18:b=0,N=r.inlineLevel,I.label=19;case 19:return b<N.length?(S=N[b],[4,this.renderNode(S)]):[3,22];case 20:I.sent(),I.label=21;case 21:return b++,[3,19];case 22:w=0,C=r.zeroOrAutoZIndexOrTransformedOrOpacity,I.label=23;case 23:return w<C.length?(S=C[w],[4,this.renderStack(S)]):[3,26];case 24:I.sent(),I.label=25;case 25:return w++,[3,23];case 26:U=0,T=r.positiveZIndex,I.label=27;case 27:return U<T.length?(S=T[U],[4,this.renderStack(S)]):[3,30];case 28:I.sent(),I.label=29;case 29:return U++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},e.prototype.formatPath=function(r){var n=this;r.forEach(function(i,l){var u=Jo(i)?i.start:i;l===0?n.ctx.moveTo(u.x,u.y):n.ctx.lineTo(u.x,u.y),Jo(i)&&n.ctx.bezierCurveTo(i.startControl.x,i.startControl.y,i.endControl.x,i.endControl.y,i.end.x,i.end.y)})},e.prototype.renderRepeat=function(r,n,i,l){this.path(r),this.ctx.fillStyle=n,this.ctx.translate(i,l),this.ctx.fill(),this.ctx.translate(-i,-l)},e.prototype.resizeImage=function(r,n,i){var l;if(r.width===n&&r.height===i)return r;var u=(l=this.canvas.ownerDocument)!==null&&l!==void 0?l:document,d=u.createElement("canvas");d.width=Math.max(1,n),d.height=Math.max(1,i);var h=d.getContext("2d");return h.drawImage(r,0,0,r.width,r.height,0,0,n,i),d},e.prototype.renderBackgroundImage=function(r){return Di(this,void 0,void 0,function(){var n,i,l,u,d,h;return Si(this,function(m){switch(m.label){case 0:n=r.styles.backgroundImage.length-1,i=function(g){var b,N,w,ge,Q,Ae,ae,K,te,C,ge,Q,Ae,ae,K,U,T,S,I,O,M,ne,z,oe,te,X,ge,Z,W,ae,K,ue,Q,Ae,ee,_e,Ne,q,F,G,$,V;return Si(this,function(he){switch(he.label){case 0:if(g.type!==0)return[3,5];b=void 0,N=g.url,he.label=1;case 1:return he.trys.push([1,3,,4]),[4,l.context.cache.match(N)];case 2:return b=he.sent(),[3,4];case 3:return he.sent(),l.context.logger.error("Error loading background-image "+N),[3,4];case 4:return b&&(w=P0(r,n,[b.width,b.height,b.width/b.height]),ge=w[0],Q=w[1],Ae=w[2],ae=w[3],K=w[4],te=l.ctx.createPattern(l.resizeImage(b,ae,K),"repeat"),l.renderRepeat(ge,te,Q,Ae)),[3,6];case 5:NU(g)?(C=P0(r,n,[null,null,null]),ge=C[0],Q=C[1],Ae=C[2],ae=C[3],K=C[4],U=vU(g.angle,ae,K),T=U[0],S=U[1],I=U[2],O=U[3],M=U[4],ne=document.createElement("canvas"),ne.width=ae,ne.height=K,z=ne.getContext("2d"),oe=z.createLinearGradient(S,O,I,M),jw(g.stops,T).forEach(function(ve){return oe.addColorStop(ve.stop,Ga(ve.color))}),z.fillStyle=oe,z.fillRect(0,0,ae,K),ae>0&&K>0&&(te=l.ctx.createPattern(ne,"repeat"),l.renderRepeat(ge,te,Q,Ae))):CU(g)&&(X=P0(r,n,[null,null,null]),ge=X[0],Z=X[1],W=X[2],ae=X[3],K=X[4],ue=g.position.length===0?[rv]:g.position,Q=gs(ue[0],ae),Ae=gs(ue[ue.length-1],K),ee=yU(g,Q,Ae,ae,K),_e=ee[0],Ne=ee[1],_e>0&&Ne>0&&(q=l.ctx.createRadialGradient(Z+Q,W+Ae,0,Z+Q,W+Ae,_e),jw(g.stops,_e*2).forEach(function(ve){return q.addColorStop(ve.stop,Ga(ve.color))}),l.path(ge),l.ctx.fillStyle=q,_e!==Ne?(F=r.bounds.left+.5*r.bounds.width,G=r.bounds.top+.5*r.bounds.height,$=Ne/_e,V=1/$,l.ctx.save(),l.ctx.translate(F,G),l.ctx.transform(1,0,0,$,0,0),l.ctx.translate(-F,-G),l.ctx.fillRect(Z,V*(W-G)+G,ae,K*V),l.ctx.restore()):l.ctx.fill())),he.label=6;case 6:return n--,[2]}})},l=this,u=0,d=r.styles.backgroundImage.slice(0).reverse(),m.label=1;case 1:return u<d.length?(h=d[u],[5,i(h)]):[3,4];case 2:m.sent(),m.label=3;case 3:return u++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(r,n,i){return Di(this,void 0,void 0,function(){return Si(this,function(l){return this.path(i2(i,n)),this.ctx.fillStyle=Ga(r),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(r,n,i,l){return Di(this,void 0,void 0,function(){var u,d;return Si(this,function(h){switch(h.label){case 0:return n<3?[4,this.renderSolidBorder(r,i,l)]:[3,2];case 1:return h.sent(),[2];case 2:return u=jF(l,i),this.path(u),this.ctx.fillStyle=Ga(r),this.ctx.fill(),d=UF(l,i),this.path(d),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(r){return Di(this,void 0,void 0,function(){var n,i,l,u,d,h,m,g,b=this;return Si(this,function(N){switch(N.label){case 0:return this.applyEffects(r.getEffects(2)),n=r.container.styles,i=!vc(n.backgroundColor)||n.backgroundImage.length,l=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],u=PF(ed(n.backgroundClip,0),r.curves),i||n.boxShadow.length?(this.ctx.save(),this.path(u),this.ctx.clip(),vc(n.backgroundColor)||(this.ctx.fillStyle=Ga(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:N.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(w){b.ctx.save();var C=dm(r.curves),U=w.inset?0:RF,T=EF(C,-U+(w.inset?1:-1)*w.spread.number,(w.inset?1:-1)*w.spread.number,w.spread.number*(w.inset?-2:2),w.spread.number*(w.inset?-2:2));w.inset?(b.path(C),b.ctx.clip(),b.mask(T)):(b.mask(C),b.ctx.clip(),b.path(T)),b.ctx.shadowOffsetX=w.offsetX.number+U,b.ctx.shadowOffsetY=w.offsetY.number,b.ctx.shadowColor=Ga(w.color),b.ctx.shadowBlur=w.blur.number,b.ctx.fillStyle=w.inset?Ga(w.color):"rgba(0,0,0,1)",b.ctx.fill(),b.ctx.restore()}),N.label=2;case 2:d=0,h=0,m=l,N.label=3;case 3:return h<m.length?(g=m[h],g.style!==0&&!vc(g.color)&&g.width>0?g.style!==2?[3,5]:[4,this.renderDashedDottedBorder(g.color,g.width,d,r.curves,2)]:[3,11]):[3,13];case 4:return N.sent(),[3,11];case 5:return g.style!==3?[3,7]:[4,this.renderDashedDottedBorder(g.color,g.width,d,r.curves,3)];case 6:return N.sent(),[3,11];case 7:return g.style!==4?[3,9]:[4,this.renderDoubleBorder(g.color,g.width,d,r.curves)];case 8:return N.sent(),[3,11];case 9:return[4,this.renderSolidBorder(g.color,d,r.curves)];case 10:N.sent(),N.label=11;case 11:d++,N.label=12;case 12:return h++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(r,n,i,l,u){return Di(this,void 0,void 0,function(){var d,h,m,g,b,N,w,C,U,T,S,I,O,M,ne,z,ne,z;return Si(this,function(oe){return this.ctx.save(),d=kF(l,i),h=i2(l,i),u===2&&(this.path(h),this.ctx.clip()),Jo(h[0])?(m=h[0].start.x,g=h[0].start.y):(m=h[0].x,g=h[0].y),Jo(h[1])?(b=h[1].end.x,N=h[1].end.y):(b=h[1].x,N=h[1].y),i===0||i===2?w=Math.abs(m-b):w=Math.abs(g-N),this.ctx.beginPath(),u===3?this.formatPath(d):this.formatPath(h.slice(0,2)),C=n<3?n*3:n*2,U=n<3?n*2:n,u===3&&(C=n,U=n),T=!0,w<=C*2?T=!1:w<=C*2+U?(S=w/(2*C+U),C*=S,U*=S):(I=Math.floor((w+U)/(C+U)),O=(w-I*C)/(I-1),M=(w-(I+1)*C)/I,U=M<=0||Math.abs(U-O)<Math.abs(U-M)?O:M),T&&(u===3?this.ctx.setLineDash([0,C+U]):this.ctx.setLineDash([C,U])),u===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=Ga(r),this.ctx.stroke(),this.ctx.setLineDash([]),u===2&&(Jo(h[0])&&(ne=h[3],z=h[0],this.ctx.beginPath(),this.formatPath([new Wt(ne.end.x,ne.end.y),new Wt(z.start.x,z.start.y)]),this.ctx.stroke()),Jo(h[1])&&(ne=h[1],z=h[2],this.ctx.beginPath(),this.formatPath([new Wt(ne.end.x,ne.end.y),new Wt(z.start.x,z.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(r){return Di(this,void 0,void 0,function(){var n;return Si(this,function(i){switch(i.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Ga(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=SF(r),[4,this.renderStack(n)];case 1:return i.sent(),this.applyEffects([]),[2,this.canvas]}})})},e})(iN),MF=function(t){return t instanceof qB||t instanceof HB?!0:t instanceof iv&&t.type!==Am&&t.type!==lm},PF=function(t,e){switch(t){case 0:return dm(e);case 2:return wF(e);case 1:default:return hm(e)}},HF=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},qF=["-apple-system","system-ui"],zF=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return qF.indexOf(e)===-1}):t},KF=(function(t){Nl(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),i.options=n,i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px",i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),i}return e.prototype.render=function(r){return Di(this,void 0,void 0,function(){var n,i;return Si(this,function(l){switch(l.label){case 0:return n=sb(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,GF(n)];case 1:return i=l.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Ga(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(i,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e})(iN),GF=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},VF=(function(){function t(e){var r=e.id,n=e.enabled;this.id=r,this.enabled=n,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,Xf([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,Xf([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,Xf([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,Xf([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t})(),$F=(function(){function t(e,r){var n;this.windowBounds=r,this.instanceName="#"+t.instanceCount++,this.logger=new VF({id:this.instanceName,enabled:e.logging}),this.cache=(n=e.cache)!==null&&n!==void 0?n:new fF(this,e)}return t.instanceCount=1,t})(),oN=function(t,e){return e===void 0&&(e={}),ZF(t,e)};typeof window<"u"&&eN.setContext(window);var ZF=function(t,e){return Di(void 0,void 0,void 0,function(){var r,n,i,l,u,d,h,m,g,b,N,w,C,U,T,S,I,O,M,ne,oe,z,oe,te,X,ge,Z,W,ae,K,ue,Q,Ae,ee,_e,Ne,q,F,G,$;return Si(this,function(V){switch(V.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=t.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(n=r.defaultView,!n)throw new Error("Document is not attached to a Window");return i={allowTaint:(te=e.allowTaint)!==null&&te!==void 0?te:!1,imageTimeout:(X=e.imageTimeout)!==null&&X!==void 0?X:15e3,proxy:e.proxy,useCORS:(ge=e.useCORS)!==null&&ge!==void 0?ge:!1},l=qx({logging:(Z=e.logging)!==null&&Z!==void 0?Z:!0,cache:e.cache},i),u={windowWidth:(W=e.windowWidth)!==null&&W!==void 0?W:n.innerWidth,windowHeight:(ae=e.windowHeight)!==null&&ae!==void 0?ae:n.innerHeight,scrollX:(K=e.scrollX)!==null&&K!==void 0?K:n.pageXOffset,scrollY:(ue=e.scrollY)!==null&&ue!==void 0?ue:n.pageYOffset},d=new QA(u.scrollX,u.scrollY,u.windowWidth,u.windowHeight),h=new $F(l,d),m=(Q=e.foreignObjectRendering)!==null&&Q!==void 0?Q:!1,g={allowTaint:(Ae=e.allowTaint)!==null&&Ae!==void 0?Ae:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:m,copyStyles:m},h.logger.debug("Starting document clone with size "+d.width+"x"+d.height+" scrolled to "+-d.left+","+-d.top),b=new n2(h,t,g),N=b.clonedReferenceElement,N?[4,b.toIFrame(r,d)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return w=V.sent(),C=ov(N)||YL(N)?Ej(N.ownerDocument):km(h,N),U=C.width,T=C.height,S=C.left,I=C.top,O=XF(h,N,e.backgroundColor),M={canvas:e.canvas,backgroundColor:O,scale:(_e=(ee=e.scale)!==null&&ee!==void 0?ee:n.devicePixelRatio)!==null&&_e!==void 0?_e:1,x:((Ne=e.x)!==null&&Ne!==void 0?Ne:0)+S,y:((q=e.y)!==null&&q!==void 0?q:0)+I,width:(F=e.width)!==null&&F!==void 0?F:Math.ceil(U),height:(G=e.height)!==null&&G!==void 0?G:Math.ceil(T)},m?(h.logger.debug("Document cloned, using foreign object rendering"),oe=new KF(h,M),[4,oe.render(N)]):[3,3];case 2:return ne=V.sent(),[3,5];case 3:return h.logger.debug("Document cloned, element located at "+S+","+I+" with size "+U+"x"+T+" using computed rendering"),h.logger.debug("Starting DOM parsing"),z=GB(h,N),O===z.styles.backgroundColor&&(z.styles.backgroundColor=TA.TRANSPARENT),h.logger.debug("Starting renderer for element at "+M.x+","+M.y+" with size "+M.width+"x"+M.height),oe=new DF(h,M),[4,oe.render(z)];case 4:ne=V.sent(),V.label=5;case 5:return(!(($=e.removeContainer)!==null&&$!==void 0)||$)&&(n2.destroy(w)||h.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),h.logger.debug("Finished rendering"),[2,ne]}})})},XF=function(t,e,r){var n=e.ownerDocument,i=n.documentElement?Ch(t,getComputedStyle(n.documentElement).backgroundColor):TA.TRANSPARENT,l=n.body?Ch(t,getComputedStyle(n.body).backgroundColor):TA.TRANSPARENT,u=typeof r=="string"?Ch(t,r):r===null?TA.TRANSPARENT:4294967295;return e===n.documentElement?vc(i)?vc(l)?u:l:i:u};const YF=Object.freeze(Object.defineProperty({__proto__:null,default:oN},Symbol.toStringTag,{value:"Module"})),JF="modulepreload",WF=function(t){return"/"+t},l2={},tu=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){let u=function(m){return Promise.all(m.map(g=>Promise.resolve(g).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),h=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));i=u(r.map(m=>{if(m=WF(m),m in l2)return;l2[m]=!0;const g=m.endsWith(".css"),b=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${b}`))return;const N=document.createElement("link");if(N.rel=g?"stylesheet":JF,g||(N.as="script"),N.crossOrigin="",N.href=m,h&&N.setAttribute("nonce",h),document.head.appendChild(N),g)return new Promise((w,C)=>{N.addEventListener("load",w),N.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${m}`)))})}))}function l(u){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=u,window.dispatchEvent(d),!d.defaultPrevented)throw u}return i.then(u=>{for(const d of u||[])d.status==="rejected"&&l(d.reason);return e().catch(l)})};function Wn(t){"@babel/helpers - typeof";return Wn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wn(t)}var Bl=Uint8Array,Io=Uint16Array,lv=Int32Array,Av=new Bl([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),cv=new Bl([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),A2=new Bl([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),lN=function(t,e){for(var r=new Io(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var i=new lv(r[30]),n=1;n<30;++n)for(var l=r[n];l<r[n+1];++l)i[l]=l-r[n]<<5|n;return{b:r,r:i}},AN=lN(Av,2),eT=AN.b,ub=AN.r;eT[28]=258,ub[258]=28;var tT=lN(cv,0),c2=tT.r,hb=new Io(32768);for(var Es=0;Es<32768;++Es){var oc=(Es&43690)>>1|(Es&21845)<<1;oc=(oc&52428)>>2|(oc&13107)<<2,oc=(oc&61680)>>4|(oc&3855)<<4,hb[Es]=((oc&65280)>>8|(oc&255)<<8)>>1}var Uh=(function(t,e,r){for(var n=t.length,i=0,l=new Io(e);i<n;++i)t[i]&&++l[t[i]-1];var u=new Io(e);for(i=1;i<e;++i)u[i]=u[i-1]+l[i-1]<<1;var d;if(r){d=new Io(1<<e);var h=15-e;for(i=0;i<n;++i)if(t[i])for(var m=i<<4|t[i],g=e-t[i],b=u[t[i]-1]++<<g,N=b|(1<<g)-1;b<=N;++b)d[hb[b]>>h]=m}else for(d=new Io(n),i=0;i<n;++i)t[i]&&(d[i]=hb[u[t[i]-1]++]>>15-t[i]);return d}),su=new Bl(288);for(var Es=0;Es<144;++Es)su[Es]=8;for(var Es=144;Es<256;++Es)su[Es]=9;for(var Es=256;Es<280;++Es)su[Es]=7;for(var Es=280;Es<288;++Es)su[Es]=8;var pm=new Bl(32);for(var Es=0;Es<32;++Es)pm[Es]=5;var rT=Uh(su,9,0),nT=Uh(pm,5,0),cN=function(t){return(t+7)/8|0},sT=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new Bl(t.subarray(e,r))},SA=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},oh=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},H0=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var i=r.length,l=r.slice();if(!i)return{t:dN,l:0};if(i==1){var u=new Bl(r[0].s+1);return u[r[0].s]=1,{t:u,l:1}}r.sort(function(ne,z){return ne.f-z.f}),r.push({s:-1,f:25001});var d=r[0],h=r[1],m=0,g=1,b=2;for(r[0]={s:-1,f:d.f+h.f,l:d,r:h};g!=i-1;)d=r[r[m].f<r[b].f?m++:b++],h=r[m!=g&&r[m].f<r[b].f?m++:b++],r[g++]={s:-1,f:d.f+h.f,l:d,r:h};for(var N=l[0].s,n=1;n<i;++n)l[n].s>N&&(N=l[n].s);var w=new Io(N+1),C=fb(r[g-1],w,0);if(C>e){var n=0,U=0,T=C-e,S=1<<T;for(l.sort(function(z,oe){return w[oe.s]-w[z.s]||z.f-oe.f});n<i;++n){var I=l[n].s;if(w[I]>e)U+=S-(1<<C-w[I]),w[I]=e;else break}for(U>>=T;U>0;){var O=l[n].s;w[O]<e?U-=1<<e-w[O]++-1:++n}for(;n>=0&&U;--n){var M=l[n].s;w[M]==e&&(--w[M],++U)}C=e}return{t:new Bl(w),l:C}},fb=function(t,e,r){return t.s==-1?Math.max(fb(t.l,e,r+1),fb(t.r,e,r+1)):e[t.s]=r},u2=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new Io(++e),n=0,i=t[0],l=1,u=function(h){r[n++]=h},d=1;d<=e;++d)if(t[d]==i&&d!=e)++l;else{if(!i&&l>2){for(;l>138;l-=138)u(32754);l>2&&(u(l>10?l-11<<5|28690:l-3<<5|12305),l=0)}else if(l>3){for(u(i),--l;l>6;l-=6)u(8304);l>2&&(u(l-3<<5|8208),l=0)}for(;l--;)u(i);l=1,i=t[d]}return{c:r.subarray(0,n),n:e}},lh=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},uN=function(t,e,r){var n=r.length,i=cN(e+2);t[i]=n&255,t[i+1]=n>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var l=0;l<n;++l)t[i+l+4]=r[l];return(i+4+n)*8},d2=function(t,e,r,n,i,l,u,d,h,m,g){SA(e,g++,r),++i[256];for(var b=H0(i,15),N=b.t,w=b.l,C=H0(l,15),U=C.t,T=C.l,S=u2(N),I=S.c,O=S.n,M=u2(U),ne=M.c,z=M.n,oe=new Io(19),te=0;te<I.length;++te)++oe[I[te]&31];for(var te=0;te<ne.length;++te)++oe[ne[te]&31];for(var X=H0(oe,7),ge=X.t,Z=X.l,W=19;W>4&&!ge[A2[W-1]];--W);var ae=m+5<<3,K=lh(i,su)+lh(l,pm)+u,ue=lh(i,N)+lh(l,U)+u+14+3*W+lh(oe,ge)+2*oe[16]+3*oe[17]+7*oe[18];if(h>=0&&ae<=K&&ae<=ue)return uN(e,g,t.subarray(h,h+m));var Q,Ae,ee,_e;if(SA(e,g,1+(ue<K)),g+=2,ue<K){Q=Uh(N,w,0),Ae=N,ee=Uh(U,T,0),_e=U;var Ne=Uh(ge,Z,0);SA(e,g,O-257),SA(e,g+5,z-1),SA(e,g+10,W-4),g+=14;for(var te=0;te<W;++te)SA(e,g+3*te,ge[A2[te]]);g+=3*W;for(var q=[I,ne],F=0;F<2;++F)for(var G=q[F],te=0;te<G.length;++te){var $=G[te]&31;SA(e,g,Ne[$]),g+=ge[$],$>15&&(SA(e,g,G[te]>>5&127),g+=G[te]>>12)}}else Q=rT,Ae=su,ee=nT,_e=pm;for(var te=0;te<d;++te){var V=n[te];if(V>255){var $=V>>18&31;oh(e,g,Q[$+257]),g+=Ae[$+257],$>7&&(SA(e,g,V>>23&31),g+=Av[$]);var he=V&31;oh(e,g,ee[he]),g+=_e[he],he>3&&(oh(e,g,V>>5&8191),g+=cv[he])}else oh(e,g,Q[V]),g+=Ae[V]}return oh(e,g,Q[256]),g+Ae[256]},aT=new lv([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),dN=new Bl(0),iT=function(t,e,r,n,i,l){var u=l.z||t.length,d=new Bl(n+u+5*(1+Math.ceil(u/7e3))+i),h=d.subarray(n,d.length-i),m=l.l,g=(l.r||0)&7;if(e){g&&(h[0]=l.r>>3);for(var b=aT[e-1],N=b>>13,w=b&8191,C=(1<<r)-1,U=l.p||new Io(32768),T=l.h||new Io(C+1),S=Math.ceil(r/3),I=2*S,O=function(tt){return(t[tt]^t[tt+1]<<S^t[tt+2]<<I)&C},M=new lv(25e3),ne=new Io(288),z=new Io(32),oe=0,te=0,X=l.i||0,ge=0,Z=l.w||0,W=0;X+2<u;++X){var ae=O(X),K=X&32767,ue=T[ae];if(U[K]=ue,T[ae]=K,Z<=X){var Q=u-X;if((oe>7e3||ge>24576)&&(Q>423||!m)){g=d2(t,h,0,M,ne,z,te,ge,W,X-W,g),ge=oe=te=0,W=X;for(var Ae=0;Ae<286;++Ae)ne[Ae]=0;for(var Ae=0;Ae<30;++Ae)z[Ae]=0}var ee=2,_e=0,Ne=w,q=K-ue&32767;if(Q>2&&ae==O(X-q))for(var F=Math.min(N,Q)-1,G=Math.min(32767,X),$=Math.min(258,Q);q<=G&&--Ne&&K!=ue;){if(t[X+ee]==t[X+ee-q]){for(var V=0;V<$&&t[X+V]==t[X+V-q];++V);if(V>ee){if(ee=V,_e=q,V>F)break;for(var he=Math.min(q,V-2),ve=0,Ae=0;Ae<he;++Ae){var je=X-q+Ae&32767,Te=U[je],Je=je-Te&32767;Je>ve&&(ve=Je,ue=je)}}}K=ue,ue=U[K],q+=K-ue&32767}if(_e){M[ge++]=268435456|ub[ee]<<18|c2[_e];var Ke=ub[ee]&31,nt=c2[_e]&31;te+=Av[Ke]+cv[nt],++ne[257+Ke],++z[nt],Z=X+ee,++oe}else M[ge++]=t[X],++ne[t[X]]}}for(X=Math.max(X,Z);X<u;++X)M[ge++]=t[X],++ne[t[X]];g=d2(t,h,m,M,ne,z,te,ge,W,X-W,g),m||(l.r=g&7|h[g/8|0]<<3,g-=7,l.h=T,l.p=U,l.i=X,l.w=Z)}else{for(var X=l.w||0;X<u+m;X+=65535){var ft=X+65535;ft>=u&&(h[g/8|0]=m,ft=u),g=uN(h,g+1,t.subarray(X,ft))}l.i=u}return sT(d,0,n+cN(g)+i)},hN=function(){var t=1,e=0;return{p:function(r){for(var n=t,i=e,l=r.length|0,u=0;u!=l;){for(var d=Math.min(u+2655,l);u<d;++u)i+=n+=r[u];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}t=n,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},oT=function(t,e,r,n,i){if(!i&&(i={l:1},e.dictionary)){var l=e.dictionary.subarray(-32768),u=new Bl(l.length+t.length);u.set(l),u.set(t,l.length),t=u,i.w=l.length}return iT(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,i)},fN=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},lT=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=hN();i.p(e.dictionary),fN(t,2,i.d())}};function pb(t,e){e||(e={});var r=hN();r.p(t);var n=oT(t,e,e.dictionary?6:2,4);return lT(n,e),fN(n,n.length-4,r.d()),n}var AT=typeof TextDecoder<"u"&&new TextDecoder,cT=0;try{AT.decode(dN,{stream:!0}),cT=1}catch{}function uT(t){if(Array.isArray(t))return t}function dT(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,l,u,d=[],h=!0,m=!1;try{if(l=(r=r.call(t)).next,e!==0)for(;!(h=(n=l.call(r)).done)&&(d.push(n.value),d.length!==e);h=!0);}catch(g){m=!0,i=g}finally{try{if(!h&&r.return!=null&&(u=r.return(),Object(u)!==u))return}finally{if(m)throw i}}return d}}function h2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function hT(t,e){if(t){if(typeof t=="string")return h2(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?h2(t,e):void 0}}function fT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f2(t,e){return uT(t)||dT(t,e)||hT(t,e)||fT()}function p2(t,e="utf8"){return new TextDecoder(e).decode(t)}const pT=new TextEncoder;function mT(t){return pT.encode(t)}const gT=1024*8,xT=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),q0={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class uv{constructor(e=gT,r={}){Jn(this,"buffer");Jn(this,"byteLength");Jn(this,"byteOffset");Jn(this,"length");Jn(this,"offset");Jn(this,"lastWrittenByte");Jn(this,"littleEndian");Jn(this,"_data");Jn(this,"_mark");Jn(this,"_marks");let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const i=r.offset?r.offset>>>0:0,l=e.byteLength-i;let u=i;(ArrayBuffer.isView(e)||e instanceof uv)&&(e.byteLength!==e.buffer.byteLength&&(u=e.byteOffset+i),e=e.buffer),n?this.lastWrittenByte=l:this.lastWrittenByte=0,this.buffer=e,this.length=l,this.byteLength=l,this.byteOffset=u,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,u,l),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,r){const n=q0[r].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,l=this.buffer.slice(i,i+n);if(this.littleEndian===xT&&r!=="uint8"&&r!=="int8"){const d=new Uint8Array(this.buffer.slice(i,i+n));d.reverse();const h=new q0[r](d.buffer);return this.offset+=n,h.reverse(),h}const u=new q0[r](l);return this.offset+=n,u}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let r="";for(let n=0;n<e;n++)r+=this.readChar();return r}readUtf8(e=1){return p2(this.readBytes(e))}decodeText(e=1,r="utf8"){return p2(this.readBytes(e),r)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let r=0;r<e.length;r++)this._data.setUint8(this.offset++,e[r]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let r=0;r<e.length;r++)this.writeUint8(e.charCodeAt(r));return this}writeUtf8(e){return this.writeBytes(mT(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function _d(t){let e=t.length;for(;--e>=0;)t[e]=0}const bT=3,vT=258,pN=29,yT=256,wT=yT+1+pN,mN=30,_T=512,BT=new Array((wT+2)*2);_d(BT);const NT=new Array(mN*2);_d(NT);const CT=new Array(_T);_d(CT);const ET=new Array(vT-bT+1);_d(ET);const ST=new Array(pN);_d(ST);const jT=new Array(mN);_d(jT);const UT=(t,e,r,n)=>{let i=t&65535|0,l=t>>>16&65535|0,u=0;for(;r!==0;){u=r>2e3?2e3:r,r-=u;do i=i+e[n++]|0,l=l+i|0;while(--u);i%=65521,l%=65521}return i|l<<16|0};var mb=UT;const kT=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},LT=new Uint32Array(kT()),FT=(t,e,r,n)=>{const i=LT,l=n+r;t^=-1;for(let u=n;u<l;u++)t=t>>>8^i[(t^e[u])&255];return t^-1};var Xl=FT,gb={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},gN={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const TT=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var IT=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)TT(r,n)&&(t[n]=r[n])}}return t},QT=t=>{let e=0;for(let n=0,i=t.length;n<i;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,i=0,l=t.length;n<l;n++){let u=t[n];r.set(u,i),i+=u.length}return r},xN={assign:IT,flattenChunks:QT};let bN=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{bN=!1}const Hh=new Uint8Array(256);for(let t=0;t<256;t++)Hh[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Hh[254]=Hh[254]=1;var OT=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,n,i,l,u=t.length,d=0;for(i=0;i<u;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<u&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),d+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(d),l=0,i=0;l<d;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<u&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?e[l++]=r:r<2048?(e[l++]=192|r>>>6,e[l++]=128|r&63):r<65536?(e[l++]=224|r>>>12,e[l++]=128|r>>>6&63,e[l++]=128|r&63):(e[l++]=240|r>>>18,e[l++]=128|r>>>12&63,e[l++]=128|r>>>6&63,e[l++]=128|r&63);return e};const RT=(t,e)=>{if(e<65534&&t.subarray&&bN)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r};var DT=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,i;const l=new Array(r*2);for(i=0,n=0;n<r;){let u=t[n++];if(u<128){l[i++]=u;continue}let d=Hh[u];if(d>4){l[i++]=65533,n+=d-1;continue}for(u&=d===2?31:d===3?15:7;d>1&&n<r;)u=u<<6|t[n++]&63,d--;if(d>1){l[i++]=65533;continue}u<65536?l[i++]=u:(u-=65536,l[i++]=55296|u>>10&1023,l[i++]=56320|u&1023)}return RT(l,i)},MT=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+Hh[t[r]]>e?r:e},xb={string2buf:OT,buf2string:DT,utf8border:MT};function PT(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var HT=PT;const bp=16209,qT=16191;var zT=function(e,r){let n,i,l,u,d,h,m,g,b,N,w,C,U,T,S,I,O,M,ne,z,oe,te,X,ge;const Z=e.state;n=e.next_in,X=e.input,i=n+(e.avail_in-5),l=e.next_out,ge=e.output,u=l-(r-e.avail_out),d=l+(e.avail_out-257),h=Z.dmax,m=Z.wsize,g=Z.whave,b=Z.wnext,N=Z.window,w=Z.hold,C=Z.bits,U=Z.lencode,T=Z.distcode,S=(1<<Z.lenbits)-1,I=(1<<Z.distbits)-1;e:do{C<15&&(w+=X[n++]<<C,C+=8,w+=X[n++]<<C,C+=8),O=U[w&S];t:for(;;){if(M=O>>>24,w>>>=M,C-=M,M=O>>>16&255,M===0)ge[l++]=O&65535;else if(M&16){ne=O&65535,M&=15,M&&(C<M&&(w+=X[n++]<<C,C+=8),ne+=w&(1<<M)-1,w>>>=M,C-=M),C<15&&(w+=X[n++]<<C,C+=8,w+=X[n++]<<C,C+=8),O=T[w&I];r:for(;;){if(M=O>>>24,w>>>=M,C-=M,M=O>>>16&255,M&16){if(z=O&65535,M&=15,C<M&&(w+=X[n++]<<C,C+=8,C<M&&(w+=X[n++]<<C,C+=8)),z+=w&(1<<M)-1,z>h){e.msg="invalid distance too far back",Z.mode=bp;break e}if(w>>>=M,C-=M,M=l-u,z>M){if(M=z-M,M>g&&Z.sane){e.msg="invalid distance too far back",Z.mode=bp;break e}if(oe=0,te=N,b===0){if(oe+=m-M,M<ne){ne-=M;do ge[l++]=N[oe++];while(--M);oe=l-z,te=ge}}else if(b<M){if(oe+=m+b-M,M-=b,M<ne){ne-=M;do ge[l++]=N[oe++];while(--M);if(oe=0,b<ne){M=b,ne-=M;do ge[l++]=N[oe++];while(--M);oe=l-z,te=ge}}}else if(oe+=b-M,M<ne){ne-=M;do ge[l++]=N[oe++];while(--M);oe=l-z,te=ge}for(;ne>2;)ge[l++]=te[oe++],ge[l++]=te[oe++],ge[l++]=te[oe++],ne-=3;ne&&(ge[l++]=te[oe++],ne>1&&(ge[l++]=te[oe++]))}else{oe=l-z;do ge[l++]=ge[oe++],ge[l++]=ge[oe++],ge[l++]=ge[oe++],ne-=3;while(ne>2);ne&&(ge[l++]=ge[oe++],ne>1&&(ge[l++]=ge[oe++]))}}else if((M&64)===0){O=T[(O&65535)+(w&(1<<M)-1)];continue r}else{e.msg="invalid distance code",Z.mode=bp;break e}break}}else if((M&64)===0){O=U[(O&65535)+(w&(1<<M)-1)];continue t}else if(M&32){Z.mode=qT;break e}else{e.msg="invalid literal/length code",Z.mode=bp;break e}break}}while(n<i&&l<d);ne=C>>3,n-=ne,C-=ne<<3,w&=(1<<C)-1,e.next_in=n,e.next_out=l,e.avail_in=n<i?5+(i-n):5-(n-i),e.avail_out=l<d?257+(d-l):257-(l-d),Z.hold=w,Z.bits=C};const Hu=15,m2=852,g2=592,x2=0,z0=1,b2=2,KT=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),GT=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),VT=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),$T=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),ZT=(t,e,r,n,i,l,u,d)=>{const h=d.bits;let m=0,g=0,b=0,N=0,w=0,C=0,U=0,T=0,S=0,I=0,O,M,ne,z,oe,te=null,X;const ge=new Uint16Array(Hu+1),Z=new Uint16Array(Hu+1);let W=null,ae,K,ue;for(m=0;m<=Hu;m++)ge[m]=0;for(g=0;g<n;g++)ge[e[r+g]]++;for(w=h,N=Hu;N>=1&&ge[N]===0;N--);if(w>N&&(w=N),N===0)return i[l++]=1<<24|64<<16|0,i[l++]=1<<24|64<<16|0,d.bits=1,0;for(b=1;b<N&&ge[b]===0;b++);for(w<b&&(w=b),T=1,m=1;m<=Hu;m++)if(T<<=1,T-=ge[m],T<0)return-1;if(T>0&&(t===x2||N!==1))return-1;for(Z[1]=0,m=1;m<Hu;m++)Z[m+1]=Z[m]+ge[m];for(g=0;g<n;g++)e[r+g]!==0&&(u[Z[e[r+g]]++]=g);if(t===x2?(te=W=u,X=20):t===z0?(te=KT,W=GT,X=257):(te=VT,W=$T,X=0),I=0,g=0,m=b,oe=l,C=w,U=0,ne=-1,S=1<<w,z=S-1,t===z0&&S>m2||t===b2&&S>g2)return 1;for(;;){ae=m-U,u[g]+1<X?(K=0,ue=u[g]):u[g]>=X?(K=W[u[g]-X],ue=te[u[g]-X]):(K=96,ue=0),O=1<<m-U,M=1<<C,b=M;do M-=O,i[oe+(I>>U)+M]=ae<<24|K<<16|ue|0;while(M!==0);for(O=1<<m-1;I&O;)O>>=1;if(O!==0?(I&=O-1,I+=O):I=0,g++,--ge[m]===0){if(m===N)break;m=e[r+u[g]]}if(m>w&&(I&z)!==ne){for(U===0&&(U=w),oe+=b,C=m-U,T=1<<C;C+U<N&&(T-=ge[C+U],!(T<=0));)C++,T<<=1;if(S+=1<<C,t===z0&&S>m2||t===b2&&S>g2)return 1;ne=I&z,i[ne]=w<<24|C<<16|oe-l|0}}return I!==0&&(i[oe+I]=m-U<<24|64<<16|0),d.bits=w,0};var kh=ZT;const XT=0,vN=1,yN=2,{Z_FINISH:v2,Z_BLOCK:YT,Z_TREES:vp,Z_OK:au,Z_STREAM_END:JT,Z_NEED_DICT:WT,Z_STREAM_ERROR:rl,Z_DATA_ERROR:wN,Z_MEM_ERROR:_N,Z_BUF_ERROR:eI,Z_DEFLATED:y2}=gN,Pm=16180,w2=16181,_2=16182,B2=16183,N2=16184,C2=16185,E2=16186,S2=16187,j2=16188,U2=16189,mm=16190,jA=16191,K0=16192,k2=16193,G0=16194,L2=16195,F2=16196,T2=16197,I2=16198,yp=16199,wp=16200,Q2=16201,O2=16202,R2=16203,D2=16204,M2=16205,V0=16206,P2=16207,H2=16208,Qs=16209,BN=16210,NN=16211,tI=852,rI=592,nI=15,sI=nI,q2=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function aI(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const lu=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<Pm||e.mode>NN?1:0},CN=t=>{if(lu(t))return rl;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=Pm,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(tI),e.distcode=e.distdyn=new Int32Array(rI),e.sane=1,e.back=-1,au},EN=t=>{if(lu(t))return rl;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,CN(t)},SN=(t,e)=>{let r;if(lu(t))return rl;const n=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?rl:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,EN(t))},jN=(t,e)=>{if(!t)return rl;const r=new aI;t.state=r,r.strm=t,r.window=null,r.mode=Pm;const n=SN(t,e);return n!==au&&(t.state=null),n},iI=t=>jN(t,sI);let z2=!0,$0,Z0;const oI=t=>{if(z2){$0=new Int32Array(512),Z0=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(kh(vN,t.lens,0,288,$0,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;kh(yN,t.lens,0,32,Z0,0,t.work,{bits:5}),z2=!1}t.lencode=$0,t.lenbits=9,t.distcode=Z0,t.distbits=5},UN=(t,e,r,n)=>{let i;const l=t.state;return l.window===null&&(l.wsize=1<<l.wbits,l.wnext=0,l.whave=0,l.window=new Uint8Array(l.wsize)),n>=l.wsize?(l.window.set(e.subarray(r-l.wsize,r),0),l.wnext=0,l.whave=l.wsize):(i=l.wsize-l.wnext,i>n&&(i=n),l.window.set(e.subarray(r-n,r-n+i),l.wnext),n-=i,n?(l.window.set(e.subarray(r-n,r),0),l.wnext=n,l.whave=l.wsize):(l.wnext+=i,l.wnext===l.wsize&&(l.wnext=0),l.whave<l.wsize&&(l.whave+=i))),0},lI=(t,e)=>{let r,n,i,l,u,d,h,m,g,b,N,w,C,U,T=0,S,I,O,M,ne,z,oe,te;const X=new Uint8Array(4);let ge,Z;const W=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(lu(t)||!t.output||!t.input&&t.avail_in!==0)return rl;r=t.state,r.mode===jA&&(r.mode=K0),u=t.next_out,i=t.output,h=t.avail_out,l=t.next_in,n=t.input,d=t.avail_in,m=r.hold,g=r.bits,b=d,N=h,te=au;e:for(;;)switch(r.mode){case Pm:if(r.wrap===0){r.mode=K0;break}for(;g<16;){if(d===0)break e;d--,m+=n[l++]<<g,g+=8}if(r.wrap&2&&m===35615){r.wbits===0&&(r.wbits=15),r.check=0,X[0]=m&255,X[1]=m>>>8&255,r.check=Xl(r.check,X,2,0),m=0,g=0,r.mode=w2;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((m&255)<<8)+(m>>8))%31){t.msg="incorrect header check",r.mode=Qs;break}if((m&15)!==y2){t.msg="unknown compression method",r.mode=Qs;break}if(m>>>=4,g-=4,oe=(m&15)+8,r.wbits===0&&(r.wbits=oe),oe>15||oe>r.wbits){t.msg="invalid window size",r.mode=Qs;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=m&512?U2:jA,m=0,g=0;break;case w2:for(;g<16;){if(d===0)break e;d--,m+=n[l++]<<g,g+=8}if(r.flags=m,(r.flags&255)!==y2){t.msg="unknown compression method",r.mode=Qs;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=Qs;break}r.head&&(r.head.text=m>>8&1),r.flags&512&&r.wrap&4&&(X[0]=m&255,X[1]=m>>>8&255,r.check=Xl(r.check,X,2,0)),m=0,g=0,r.mode=_2;case _2:for(;g<32;){if(d===0)break e;d--,m+=n[l++]<<g,g+=8}r.head&&(r.head.time=m),r.flags&512&&r.wrap&4&&(X[0]=m&255,X[1]=m>>>8&255,X[2]=m>>>16&255,X[3]=m>>>24&255,r.check=Xl(r.check,X,4,0)),m=0,g=0,r.mode=B2;case B2:for(;g<16;){if(d===0)break e;d--,m+=n[l++]<<g,g+=8}r.head&&(r.head.xflags=m&255,r.head.os=m>>8),r.flags&512&&r.wrap&4&&(X[0]=m&255,X[1]=m>>>8&255,r.check=Xl(r.check,X,2,0)),m=0,g=0,r.mode=N2;case N2:if(r.flags&1024){for(;g<16;){if(d===0)break e;d--,m+=n[l++]<<g,g+=8}r.length=m,r.head&&(r.head.extra_len=m),r.flags&512&&r.wrap&4&&(X[0]=m&255,X[1]=m>>>8&255,r.check=Xl(r.check,X,2,0)),m=0,g=0}else r.head&&(r.head.extra=null);r.mode=C2;case C2:if(r.flags&1024&&(w=r.length,w>d&&(w=d),w&&(r.head&&(oe=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(l,l+w),oe)),r.flags&512&&r.wrap&4&&(r.check=Xl(r.check,n,w,l)),d-=w,l+=w,r.length-=w),r.length))break e;r.length=0,r.mode=E2;case E2:if(r.flags&2048){if(d===0)break e;w=0;do oe=n[l+w++],r.head&&oe&&r.length<65536&&(r.head.name+=String.fromCharCode(oe));while(oe&&w<d);if(r.flags&512&&r.wrap&4&&(r.check=Xl(r.check,n,w,l)),d-=w,l+=w,oe)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=S2;case S2:if(r.flags&4096){if(d===0)break e;w=0;do oe=n[l+w++],r.head&&oe&&r.length<65536&&(r.head.comment+=String.fromCharCode(oe));while(oe&&w<d);if(r.flags&512&&r.wrap&4&&(r.check=Xl(r.check,n,w,l)),d-=w,l+=w,oe)break e}else r.head&&(r.head.comment=null);r.mode=j2;case j2:if(r.flags&512){for(;g<16;){if(d===0)break e;d--,m+=n[l++]<<g,g+=8}if(r.wrap&4&&m!==(r.check&65535)){t.msg="header crc mismatch",r.mode=Qs;break}m=0,g=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=jA;break;case U2:for(;g<32;){if(d===0)break e;d--,m+=n[l++]<<g,g+=8}t.adler=r.check=q2(m),m=0,g=0,r.mode=mm;case mm:if(r.havedict===0)return t.next_out=u,t.avail_out=h,t.next_in=l,t.avail_in=d,r.hold=m,r.bits=g,WT;t.adler=r.check=1,r.mode=jA;case jA:if(e===YT||e===vp)break e;case K0:if(r.last){m>>>=g&7,g-=g&7,r.mode=V0;break}for(;g<3;){if(d===0)break e;d--,m+=n[l++]<<g,g+=8}switch(r.last=m&1,m>>>=1,g-=1,m&3){case 0:r.mode=k2;break;case 1:if(oI(r),r.mode=yp,e===vp){m>>>=2,g-=2;break e}break;case 2:r.mode=F2;break;case 3:t.msg="invalid block type",r.mode=Qs}m>>>=2,g-=2;break;case k2:for(m>>>=g&7,g-=g&7;g<32;){if(d===0)break e;d--,m+=n[l++]<<g,g+=8}if((m&65535)!==(m>>>16^65535)){t.msg="invalid stored block lengths",r.mode=Qs;break}if(r.length=m&65535,m=0,g=0,r.mode=G0,e===vp)break e;case G0:r.mode=L2;case L2:if(w=r.length,w){if(w>d&&(w=d),w>h&&(w=h),w===0)break e;i.set(n.subarray(l,l+w),u),d-=w,l+=w,h-=w,u+=w,r.length-=w;break}r.mode=jA;break;case F2:for(;g<14;){if(d===0)break e;d--,m+=n[l++]<<g,g+=8}if(r.nlen=(m&31)+257,m>>>=5,g-=5,r.ndist=(m&31)+1,m>>>=5,g-=5,r.ncode=(m&15)+4,m>>>=4,g-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=Qs;break}r.have=0,r.mode=T2;case T2:for(;r.have<r.ncode;){for(;g<3;){if(d===0)break e;d--,m+=n[l++]<<g,g+=8}r.lens[W[r.have++]]=m&7,m>>>=3,g-=3}for(;r.have<19;)r.lens[W[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,ge={bits:r.lenbits},te=kh(XT,r.lens,0,19,r.lencode,0,r.work,ge),r.lenbits=ge.bits,te){t.msg="invalid code lengths set",r.mode=Qs;break}r.have=0,r.mode=I2;case I2:for(;r.have<r.nlen+r.ndist;){for(;T=r.lencode[m&(1<<r.lenbits)-1],S=T>>>24,I=T>>>16&255,O=T&65535,!(S<=g);){if(d===0)break e;d--,m+=n[l++]<<g,g+=8}if(O<16)m>>>=S,g-=S,r.lens[r.have++]=O;else{if(O===16){for(Z=S+2;g<Z;){if(d===0)break e;d--,m+=n[l++]<<g,g+=8}if(m>>>=S,g-=S,r.have===0){t.msg="invalid bit length repeat",r.mode=Qs;break}oe=r.lens[r.have-1],w=3+(m&3),m>>>=2,g-=2}else if(O===17){for(Z=S+3;g<Z;){if(d===0)break e;d--,m+=n[l++]<<g,g+=8}m>>>=S,g-=S,oe=0,w=3+(m&7),m>>>=3,g-=3}else{for(Z=S+7;g<Z;){if(d===0)break e;d--,m+=n[l++]<<g,g+=8}m>>>=S,g-=S,oe=0,w=11+(m&127),m>>>=7,g-=7}if(r.have+w>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=Qs;break}for(;w--;)r.lens[r.have++]=oe}}if(r.mode===Qs)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=Qs;break}if(r.lenbits=9,ge={bits:r.lenbits},te=kh(vN,r.lens,0,r.nlen,r.lencode,0,r.work,ge),r.lenbits=ge.bits,te){t.msg="invalid literal/lengths set",r.mode=Qs;break}if(r.distbits=6,r.distcode=r.distdyn,ge={bits:r.distbits},te=kh(yN,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,ge),r.distbits=ge.bits,te){t.msg="invalid distances set",r.mode=Qs;break}if(r.mode=yp,e===vp)break e;case yp:r.mode=wp;case wp:if(d>=6&&h>=258){t.next_out=u,t.avail_out=h,t.next_in=l,t.avail_in=d,r.hold=m,r.bits=g,zT(t,N),u=t.next_out,i=t.output,h=t.avail_out,l=t.next_in,n=t.input,d=t.avail_in,m=r.hold,g=r.bits,r.mode===jA&&(r.back=-1);break}for(r.back=0;T=r.lencode[m&(1<<r.lenbits)-1],S=T>>>24,I=T>>>16&255,O=T&65535,!(S<=g);){if(d===0)break e;d--,m+=n[l++]<<g,g+=8}if(I&&(I&240)===0){for(M=S,ne=I,z=O;T=r.lencode[z+((m&(1<<M+ne)-1)>>M)],S=T>>>24,I=T>>>16&255,O=T&65535,!(M+S<=g);){if(d===0)break e;d--,m+=n[l++]<<g,g+=8}m>>>=M,g-=M,r.back+=M}if(m>>>=S,g-=S,r.back+=S,r.length=O,I===0){r.mode=M2;break}if(I&32){r.back=-1,r.mode=jA;break}if(I&64){t.msg="invalid literal/length code",r.mode=Qs;break}r.extra=I&15,r.mode=Q2;case Q2:if(r.extra){for(Z=r.extra;g<Z;){if(d===0)break e;d--,m+=n[l++]<<g,g+=8}r.length+=m&(1<<r.extra)-1,m>>>=r.extra,g-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=O2;case O2:for(;T=r.distcode[m&(1<<r.distbits)-1],S=T>>>24,I=T>>>16&255,O=T&65535,!(S<=g);){if(d===0)break e;d--,m+=n[l++]<<g,g+=8}if((I&240)===0){for(M=S,ne=I,z=O;T=r.distcode[z+((m&(1<<M+ne)-1)>>M)],S=T>>>24,I=T>>>16&255,O=T&65535,!(M+S<=g);){if(d===0)break e;d--,m+=n[l++]<<g,g+=8}m>>>=M,g-=M,r.back+=M}if(m>>>=S,g-=S,r.back+=S,I&64){t.msg="invalid distance code",r.mode=Qs;break}r.offset=O,r.extra=I&15,r.mode=R2;case R2:if(r.extra){for(Z=r.extra;g<Z;){if(d===0)break e;d--,m+=n[l++]<<g,g+=8}r.offset+=m&(1<<r.extra)-1,m>>>=r.extra,g-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=Qs;break}r.mode=D2;case D2:if(h===0)break e;if(w=N-h,r.offset>w){if(w=r.offset-w,w>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=Qs;break}w>r.wnext?(w-=r.wnext,C=r.wsize-w):C=r.wnext-w,w>r.length&&(w=r.length),U=r.window}else U=i,C=u-r.offset,w=r.length;w>h&&(w=h),h-=w,r.length-=w;do i[u++]=U[C++];while(--w);r.length===0&&(r.mode=wp);break;case M2:if(h===0)break e;i[u++]=r.length,h--,r.mode=wp;break;case V0:if(r.wrap){for(;g<32;){if(d===0)break e;d--,m|=n[l++]<<g,g+=8}if(N-=h,t.total_out+=N,r.total+=N,r.wrap&4&&N&&(t.adler=r.check=r.flags?Xl(r.check,i,N,u-N):mb(r.check,i,N,u-N)),N=h,r.wrap&4&&(r.flags?m:q2(m))!==r.check){t.msg="incorrect data check",r.mode=Qs;break}m=0,g=0}r.mode=P2;case P2:if(r.wrap&&r.flags){for(;g<32;){if(d===0)break e;d--,m+=n[l++]<<g,g+=8}if(r.wrap&4&&m!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=Qs;break}m=0,g=0}r.mode=H2;case H2:te=JT;break e;case Qs:te=wN;break e;case BN:return _N;case NN:default:return rl}return t.next_out=u,t.avail_out=h,t.next_in=l,t.avail_in=d,r.hold=m,r.bits=g,(r.wsize||N!==t.avail_out&&r.mode<Qs&&(r.mode<V0||e!==v2))&&UN(t,t.output,t.next_out,N-t.avail_out),b-=t.avail_in,N-=t.avail_out,t.total_in+=b,t.total_out+=N,r.total+=N,r.wrap&4&&N&&(t.adler=r.check=r.flags?Xl(r.check,i,N,t.next_out-N):mb(r.check,i,N,t.next_out-N)),t.data_type=r.bits+(r.last?64:0)+(r.mode===jA?128:0)+(r.mode===yp||r.mode===G0?256:0),(b===0&&N===0||e===v2)&&te===au&&(te=eI),te},AI=t=>{if(lu(t))return rl;let e=t.state;return e.window&&(e.window=null),t.state=null,au},cI=(t,e)=>{if(lu(t))return rl;const r=t.state;return(r.wrap&2)===0?rl:(r.head=e,e.done=!1,au)},uI=(t,e)=>{const r=e.length;let n,i,l;return lu(t)||(n=t.state,n.wrap!==0&&n.mode!==mm)?rl:n.mode===mm&&(i=1,i=mb(i,e,r,0),i!==n.check)?wN:(l=UN(t,e,r,r),l?(n.mode=BN,_N):(n.havedict=1,au))};var dI=EN,hI=SN,fI=CN,pI=iI,mI=jN,gI=lI,xI=AI,bI=cI,vI=uI,yI="pako inflate (from Nodeca project)",kA={inflateReset:dI,inflateReset2:hI,inflateResetKeep:fI,inflateInit:pI,inflateInit2:mI,inflate:gI,inflateEnd:xI,inflateGetHeader:bI,inflateSetDictionary:vI,inflateInfo:yI};function wI(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var _I=wI;const kN=Object.prototype.toString,{Z_NO_FLUSH:BI,Z_FINISH:NI,Z_OK:qh,Z_STREAM_END:X0,Z_NEED_DICT:Y0,Z_STREAM_ERROR:CI,Z_DATA_ERROR:K2,Z_MEM_ERROR:EI}=gN;function ef(t){this.options=xN.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new HT,this.strm.avail_out=0;let r=kA.inflateInit2(this.strm,e.windowBits);if(r!==qh)throw new Error(gb[r]);if(this.header=new _I,kA.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=xb.string2buf(e.dictionary):kN.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=kA.inflateSetDictionary(this.strm,e.dictionary),r!==qh)))throw new Error(gb[r])}ef.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let l,u,d;if(this.ended)return!1;for(e===~~e?u=e:u=e===!0?NI:BI,kN.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),l=kA.inflate(r,u),l===Y0&&i&&(l=kA.inflateSetDictionary(r,i),l===qh?l=kA.inflate(r,u):l===K2&&(l=Y0));r.avail_in>0&&l===X0&&r.state.wrap>0&&t[r.next_in]!==0;)kA.inflateReset(r),l=kA.inflate(r,u);switch(l){case CI:case K2:case Y0:case EI:return this.onEnd(l),this.ended=!0,!1}if(d=r.avail_out,r.next_out&&(r.avail_out===0||l===X0))if(this.options.to==="string"){let h=xb.utf8border(r.output,r.next_out),m=r.next_out-h,g=xb.buf2string(r.output,h);r.next_out=m,r.avail_out=n-m,m&&r.output.set(r.output.subarray(h,h+m),0),this.onData(g)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(l===qh&&d===0)){if(l===X0)return l=kA.inflateEnd(this.strm),this.onEnd(l),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};ef.prototype.onData=function(t){this.chunks.push(t)};ef.prototype.onEnd=function(t){t===qh&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=xN.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function SI(t,e){const r=new ef(e);if(r.push(t),r.err)throw r.msg||gb[r.err];return r.result}var jI=ef,UI=SI,kI={Inflate:jI,inflate:UI};const{Inflate:LI,inflate:FI}=kI;var G2=LI,TI=FI;const LN=[];for(let t=0;t<256;t++){let e=t;for(let r=0;r<8;r++)e&1?e=3988292384^e>>>1:e=e>>>1;LN[t]=e}const V2=4294967295;function II(t,e,r){let n=t;for(let i=0;i<r;i++)n=LN[(n^e[i])&255]^n>>>8;return n}function QI(t,e){return(II(V2,t,e)^V2)>>>0}function $2(t,e,r){const n=t.readUint32(),i=QI(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${i}`)}function FN(t,e,r){for(let n=0;n<r;n++)e[n]=t[n]}function TN(t,e,r,n){let i=0;for(;i<n;i++)e[i]=t[i];for(;i<r;i++)e[i]=t[i]+e[i-n]&255}function IN(t,e,r,n){let i=0;if(r.length===0)for(;i<n;i++)e[i]=t[i];else for(;i<n;i++)e[i]=t[i]+r[i]&255}function QN(t,e,r,n,i){let l=0;if(r.length===0){for(;l<i;l++)e[l]=t[l];for(;l<n;l++)e[l]=t[l]+(e[l-i]>>1)&255}else{for(;l<i;l++)e[l]=t[l]+(r[l]>>1)&255;for(;l<n;l++)e[l]=t[l]+(e[l-i]+r[l]>>1)&255}}function ON(t,e,r,n,i){let l=0;if(r.length===0){for(;l<i;l++)e[l]=t[l];for(;l<n;l++)e[l]=t[l]+e[l-i]&255}else{for(;l<i;l++)e[l]=t[l]+r[l]&255;for(;l<n;l++)e[l]=t[l]+OI(e[l-i],r[l],r[l-i])&255}}function OI(t,e,r){const n=t+e-r,i=Math.abs(n-t),l=Math.abs(n-e),u=Math.abs(n-r);return i<=l&&i<=u?t:l<=u?e:r}function RI(t,e,r,n,i,l){switch(t){case 0:FN(e,r,i);break;case 1:TN(e,r,i,l);break;case 2:IN(e,r,n,i);break;case 3:QN(e,r,n,i,l);break;case 4:ON(e,r,n,i,l);break;default:throw new Error(`Unsupported filter: ${t}`)}}const DI=new Uint16Array([255]),MI=new Uint8Array(DI.buffer),PI=MI[0]===255;function HI(t){const{data:e,width:r,height:n,channels:i,depth:l}=t,u=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],d=Math.ceil(l/8)*i,h=new Uint8Array(n*r*d);let m=0;for(let g=0;g<7;g++){const b=u[g],N=Math.ceil((r-b.x)/b.xStep),w=Math.ceil((n-b.y)/b.yStep);if(N<=0||w<=0)continue;const C=N*d,U=new Uint8Array(C);for(let T=0;T<w;T++){const S=e[m++],I=e.subarray(m,m+C);m+=C;const O=new Uint8Array(C);RI(S,I,O,U,C,d),U.set(O);for(let M=0;M<N;M++){const ne=b.x+M*b.xStep,z=b.y+T*b.yStep;if(!(ne>=r||z>=n))for(let oe=0;oe<d;oe++)h[(z*r+ne)*d+oe]=O[M*d+oe]}}}if(l===16){const g=new Uint16Array(h.buffer);if(PI)for(let b=0;b<g.length;b++)g[b]=qI(g[b]);return g}else return h}function qI(t){return(t&255)<<8|t>>8&255}const zI=new Uint16Array([255]),KI=new Uint8Array(zI.buffer),GI=KI[0]===255,VI=new Uint8Array(0);function Z2(t){const{data:e,width:r,height:n,channels:i,depth:l}=t,u=Math.ceil(l/8)*i,d=Math.ceil(l/8*i*r),h=new Uint8Array(n*d);let m=VI,g=0,b,N;for(let w=0;w<n;w++){switch(b=e.subarray(g+1,g+1+d),N=h.subarray(w*d,(w+1)*d),e[g]){case 0:FN(b,N,d);break;case 1:TN(b,N,d,u);break;case 2:IN(b,N,m,d);break;case 3:QN(b,N,m,d,u);break;case 4:ON(b,N,m,d,u);break;default:throw new Error(`Unsupported filter: ${e[g]}`)}m=N,g+=d+1}if(l===16){const w=new Uint16Array(h.buffer);if(GI)for(let C=0;C<w.length;C++)w[C]=$I(w[C]);return w}else return h}function $I(t){return(t&255)<<8|t>>8&255}const Vp=Uint8Array.of(137,80,78,71,13,10,26,10);function X2(t){if(!ZI(t.readBytes(Vp.length)))throw new Error("wrong PNG signature")}function ZI(t){if(t.length<Vp.length)return!1;for(let e=0;e<Vp.length;e++)if(t[e]!==Vp[e])return!1;return!0}const XI="tEXt",YI=0,RN=new TextDecoder("latin1");function JI(t){if(eQ(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const WI=/^[\u0000-\u00FF]*$/;function eQ(t){if(!WI.test(t))throw new Error("invalid latin1 text")}function tQ(t,e,r){const n=DN(e);t[n]=rQ(e,r-n.length-1)}function DN(t){for(t.mark();t.readByte()!==YI;);const e=t.offset;t.reset();const r=RN.decode(t.readBytes(e-t.offset-1));return t.skip(1),JI(r),r}function rQ(t,e){return RN.decode(t.readBytes(e))}const jo={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},J0={UNKNOWN:-1,DEFLATE:0},Y2={UNKNOWN:-1,ADAPTIVE:0},W0={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},_p={NONE:0,BACKGROUND:1,PREVIOUS:2},ex={SOURCE:0,OVER:1};class nQ extends uv{constructor(r,n={}){super(r);Jn(this,"_checkCrc");Jn(this,"_inflator");Jn(this,"_png");Jn(this,"_apng");Jn(this,"_end");Jn(this,"_hasPalette");Jn(this,"_palette");Jn(this,"_hasTransparency");Jn(this,"_transparency");Jn(this,"_compressionMethod");Jn(this,"_filterMethod");Jn(this,"_interlaceMethod");Jn(this,"_colorType");Jn(this,"_isAnimated");Jn(this,"_numberOfFrames");Jn(this,"_numberOfPlays");Jn(this,"_frames");Jn(this,"_writingDataChunks");const{checkCrc:i=!1}=n;this._checkCrc=i,this._inflator=new G2,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=J0.UNKNOWN,this._filterMethod=Y2.UNKNOWN,this._interlaceMethod=W0.UNKNOWN,this._colorType=jo.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(X2(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(X2(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const i=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case XI:tQ(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?$2(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const i=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=i+r;break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?$2(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=sQ(this.readUint8());const n=this.readUint8();this._colorType=n;let i;switch(n){case jo.GREYSCALE:i=1;break;case jo.TRUECOLOUR:i=3;break;case jo.INDEXED_COLOUR:i=1;break;case jo.GREYSCALE_ALPHA:i=2;break;case jo.TRUECOLOUR_ALPHA:i=4;break;case jo.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==J0.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const i=[];this._palette=i;for(let l=0;l<n;l++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,i=this.offset+this.byteOffset;if(i+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case jo.GREYSCALE:case jo.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case jo.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const i=this.readByte();this._palette[n].push(i)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case jo.UNKNOWN:case jo.GREYSCALE_ALPHA:case jo.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=DN(this),i=this.readUint8();if(i!==J0.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const l=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:TI(l)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),i=this.readByte();this._png.resolution={x:r,y:n,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(r);if(i){if(i.data=Z2({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)n.data=i.data;else{const l=this._apng.frames.at(r-1);this.disposeFrame(i,l,n),this.addFrameDataToCanvas(n,i)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,i){switch(r.disposeOp){case _p.NONE:break;case _p.BACKGROUND:for(let l=0;l<this._png.height;l++)for(let u=0;u<this._png.width;u++){const d=(l*r.width+u)*this._png.channels;for(let h=0;h<this._png.channels;h++)i.data[d+h]=0}break;case _p.PREVIOUS:i.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const i=1<<this._png.depth,l=(u,d)=>{const h=((u+n.yOffset)*this._png.width+n.xOffset+d)*this._png.channels,m=(u*n.width+d)*this._png.channels;return{index:h,frameIndex:m}};switch(n.blendOp){case ex.SOURCE:for(let u=0;u<n.height;u++)for(let d=0;d<n.width;d++){const{index:h,frameIndex:m}=l(u,d);for(let g=0;g<this._png.channels;g++)r.data[h+g]=n.data[m+g]}break;case ex.OVER:for(let u=0;u<n.height;u++)for(let d=0;d<n.width;d++){const{index:h,frameIndex:m}=l(u,d);for(let g=0;g<this._png.channels;g++){const b=n.data[m+this._png.channels-1]/i,N=g%(this._png.channels-1)===0?1:n.data[m+g],w=Math.floor(b*N+(1-b)*r.data[h+g]);r.data[h+g]+=w}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==Y2.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===W0.NO_INTERLACE)this._png.data=Z2({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===W0.ADAM7)this._png.data=HI({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:_p.NONE,blendOp:ex.SOURCE,data:r}),this._inflator=new G2,this._writingDataChunks=!1}}function sQ(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var J2;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(J2||(J2={}));function aQ(t,e){return new nQ(t,e).decode()}var Gr=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function tx(){Gr.console&&typeof Gr.console.log=="function"&&Gr.console.log.apply(Gr.console,arguments)}var cs={log:tx,warn:function(t){Gr.console&&(typeof Gr.console.warn=="function"?Gr.console.warn.apply(Gr.console,arguments):tx.call(null,arguments))},error:function(t){Gr.console&&(typeof Gr.console.error=="function"?Gr.console.error.apply(Gr.console,arguments):tx(t))}};function rx(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){Mc(n.response,e,r)},n.onerror=function(){cs.error("could not download file")},n.send()}function W2(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Bp(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Mc=Gr.saveAs||((typeof window>"u"?"undefined":Wn(window))!=="object"||window!==Gr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=Gr.URL||Gr.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?W2(i.href)?rx(t,e,r):Bp(i,i.target="_blank"):Bp(i)):(i.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){Bp(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(W2(t))rx(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){Bp(n)})}else navigator.msSaveOrOpenBlob((function(i,l){return l===void 0?l={autoBom:!1}:Wn(l)!=="object"&&(cs.warn("Deprecated: Expected third argument to be a object"),l={autoBom:!l}),l.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return rx(t,e,r);var i=t.type==="application/octet-stream",l=/constructor/i.test(Gr.HTMLElement)||Gr.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||i&&l)&&(typeof FileReader>"u"?"undefined":Wn(FileReader))==="object"){var d=new FileReader;d.onloadend=function(){var g=d.result;g=u?g:g.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=g:location=g,n=null},d.readAsDataURL(t)}else{var h=Gr.URL||Gr.webkitURL,m=h.createObjectURL(t);n?n.location=m:location.href=m,n=null,setTimeout(function(){h.revokeObjectURL(m)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function MN(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(d){return[parseInt(d[1]),parseInt(d[2]),parseInt(d[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(d){return[parseInt(d[1],16),parseInt(d[2],16),parseInt(d[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(d){return[parseInt(d[1]+d[1],16),parseInt(d[2]+d[2],16),parseInt(d[3]+d[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,l=r[n].process,u=i.exec(t);u&&(e=l(u),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var d=this.r.toString(16),h=this.g.toString(16),m=this.b.toString(16);return d.length==1&&(d="0"+d),h.length==1&&(h="0"+h),m.length==1&&(m="0"+m),"#"+d+h+m}}var $p=Gr.atob.bind(Gr),e_=Gr.btoa.bind(Gr);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function nx(t,e){var r=t[0],n=t[1],i=t[2],l=t[3];r=Bi(r,n,i,l,e[0],7,-680876936),l=Bi(l,r,n,i,e[1],12,-389564586),i=Bi(i,l,r,n,e[2],17,606105819),n=Bi(n,i,l,r,e[3],22,-1044525330),r=Bi(r,n,i,l,e[4],7,-176418897),l=Bi(l,r,n,i,e[5],12,1200080426),i=Bi(i,l,r,n,e[6],17,-1473231341),n=Bi(n,i,l,r,e[7],22,-45705983),r=Bi(r,n,i,l,e[8],7,1770035416),l=Bi(l,r,n,i,e[9],12,-1958414417),i=Bi(i,l,r,n,e[10],17,-42063),n=Bi(n,i,l,r,e[11],22,-1990404162),r=Bi(r,n,i,l,e[12],7,1804603682),l=Bi(l,r,n,i,e[13],12,-40341101),i=Bi(i,l,r,n,e[14],17,-1502002290),r=Ni(r,n=Bi(n,i,l,r,e[15],22,1236535329),i,l,e[1],5,-165796510),l=Ni(l,r,n,i,e[6],9,-1069501632),i=Ni(i,l,r,n,e[11],14,643717713),n=Ni(n,i,l,r,e[0],20,-373897302),r=Ni(r,n,i,l,e[5],5,-701558691),l=Ni(l,r,n,i,e[10],9,38016083),i=Ni(i,l,r,n,e[15],14,-660478335),n=Ni(n,i,l,r,e[4],20,-405537848),r=Ni(r,n,i,l,e[9],5,568446438),l=Ni(l,r,n,i,e[14],9,-1019803690),i=Ni(i,l,r,n,e[3],14,-187363961),n=Ni(n,i,l,r,e[8],20,1163531501),r=Ni(r,n,i,l,e[13],5,-1444681467),l=Ni(l,r,n,i,e[2],9,-51403784),i=Ni(i,l,r,n,e[7],14,1735328473),r=Ci(r,n=Ni(n,i,l,r,e[12],20,-1926607734),i,l,e[5],4,-378558),l=Ci(l,r,n,i,e[8],11,-2022574463),i=Ci(i,l,r,n,e[11],16,1839030562),n=Ci(n,i,l,r,e[14],23,-35309556),r=Ci(r,n,i,l,e[1],4,-1530992060),l=Ci(l,r,n,i,e[4],11,1272893353),i=Ci(i,l,r,n,e[7],16,-155497632),n=Ci(n,i,l,r,e[10],23,-1094730640),r=Ci(r,n,i,l,e[13],4,681279174),l=Ci(l,r,n,i,e[0],11,-358537222),i=Ci(i,l,r,n,e[3],16,-722521979),n=Ci(n,i,l,r,e[6],23,76029189),r=Ci(r,n,i,l,e[9],4,-640364487),l=Ci(l,r,n,i,e[12],11,-421815835),i=Ci(i,l,r,n,e[15],16,530742520),r=Ei(r,n=Ci(n,i,l,r,e[2],23,-995338651),i,l,e[0],6,-198630844),l=Ei(l,r,n,i,e[7],10,1126891415),i=Ei(i,l,r,n,e[14],15,-1416354905),n=Ei(n,i,l,r,e[5],21,-57434055),r=Ei(r,n,i,l,e[12],6,1700485571),l=Ei(l,r,n,i,e[3],10,-1894986606),i=Ei(i,l,r,n,e[10],15,-1051523),n=Ei(n,i,l,r,e[1],21,-2054922799),r=Ei(r,n,i,l,e[8],6,1873313359),l=Ei(l,r,n,i,e[15],10,-30611744),i=Ei(i,l,r,n,e[6],15,-1560198380),n=Ei(n,i,l,r,e[13],21,1309151649),r=Ei(r,n,i,l,e[4],6,-145523070),l=Ei(l,r,n,i,e[11],10,-1120210379),i=Ei(i,l,r,n,e[2],15,718787259),n=Ei(n,i,l,r,e[9],21,-343485551),t[0]=xc(r,t[0]),t[1]=xc(n,t[1]),t[2]=xc(i,t[2]),t[3]=xc(l,t[3])}function Hm(t,e,r,n,i,l){return e=xc(xc(e,t),xc(n,l)),xc(e<<i|e>>>32-i,r)}function Bi(t,e,r,n,i,l,u){return Hm(e&r|~e&n,t,e,i,l,u)}function Ni(t,e,r,n,i,l,u){return Hm(e&n|r&~n,t,e,i,l,u)}function Ci(t,e,r,n,i,l,u){return Hm(e^r^n,t,e,i,l,u)}function Ei(t,e,r,n,i,l,u){return Hm(r^(e|~n),t,e,i,l,u)}function PN(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)nx(n,iQ(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(nx(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*r,nx(n,i),n}function iQ(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}var t_="0123456789abcdef".split("");function oQ(t){for(var e="",r=0;r<4;r++)e+=t_[t>>8*r+4&15]+t_[t>>8*r&15];return e}function lQ(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function bb(t){return PN(t).map(lQ).join("")}var AQ=(function(t){for(var e=0;e<t.length;e++)t[e]=oQ(t[e]);return t.join("")})(PN("hello"))!="5d41402abc4b2a76b9719d911017c592";function xc(t,e){if(AQ){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function vb(t,e){var r,n,i,l;if(t!==r){for(var u=(i=t,l=1+(256/t.length|0),new Array(l+1).join(i)),d=[],h=0;h<256;h++)d[h]=h;var m=0;for(h=0;h<256;h++){var g=d[h];m=(m+g+u.charCodeAt(h))%256,d[h]=d[m],d[m]=g}r=t,n=d}else d=n;var b=e.length,N=0,w=0,C="";for(h=0;h<b;h++)w=(w+(g=d[N=(N+1)%256]))%256,d[N]=d[w],d[w]=g,u=d[(d[N]+d[w])%256],C+=String.fromCharCode(e.charCodeAt(h)^u);return C}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var r_={print:4,modify:8,copy:16,"annot-forms":32};function td(t,e,r,n){this.v=1,this.r=2;var i=192;t.forEach(function(d){if(r_.perm!==void 0)throw new Error("Invalid permission: "+d);i+=r_[d]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var l=(e+this.padding).substr(0,32),u=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(l,u),this.P=-(1+(255^i)),this.encryptionKey=bb(l+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=vb(this.encryptionKey,this.padding)}function rd(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var i=t.charCodeAt(n);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[n]}return e}function n_(t){if(Wn(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var l=Math.random().toString(35);return e[r][l]=[n,!!i],l},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var l in e[r]){var u=e[r][l];try{u[0].apply(t,n)}catch(d){Gr.console&&cs.error("jsPDF PubSub Error",d.message,d)}u[1]&&i.push(l)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function gm(t){if(!(this instanceof gm))return new gm(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function HN(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function zc(t,e,r,n,i){if(!(this instanceof zc))return new zc(t,e,r,n,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,HN.call(this,n,i)}function od(t,e,r,n,i){if(!(this instanceof od))return new od(t,e,r,n,i);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,HN.call(this,n,i)}function Nr(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],l=arguments[3],u=[],d=1,h=16,m="S",g=null;Wn(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,i=t.format||i,l=t.compress||t.compressPdf||l,(g=t.encryption||null)!==null&&(g.userPassword=g.userPassword||"",g.ownerPassword=g.ownerPassword||"",g.userPermissions=g.userPermissions||[]),d=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(h=t.floatPrecision),m=t.defaultPathOperation||"S"),u=t.filters||(l===!0?["FlateEncode"]:u),n=n||"mm",r=(""+(r||"P")).toLowerCase();var b=t.putOnlyUsedFonts||!1,N={},w={internal:{},__private__:{}};w.__private__.PubSub=n_;var C="1.3",U=w.__private__.getPdfVersion=function(){return C};w.__private__.setPdfVersion=function(j){C=j};var T={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};w.__private__.getPageFormats=function(){return T};var S=w.__private__.getPageFormat=function(j){return T[j]};i=i||"a4";var I="compat",O="advanced",M=I;function ne(){this.saveGraphicsState(),pe(new kt(Zt,0,0,-Zt,0,mo()*Zt).toString()+" cm"),this.setFontSize(this.getFontSize()/Zt),m="n",M=O}function z(){this.restoreGraphicsState(),m="S",M=I}var oe=w.__private__.combineFontStyleAndFontWeight=function(j,Y){if(j=="bold"&&Y=="normal"||j=="bold"&&Y==400||j=="normal"&&Y=="italic"||j=="bold"&&Y=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Y&&(j=Y==400||Y==="normal"?j==="italic"?"italic":"normal":Y!=700&&Y!=="bold"||j!=="normal"?(Y==700?"bold":Y)+""+j:"bold"),j};w.advancedAPI=function(j){var Y=M===I;return Y&&ne.call(this),typeof j!="function"||(j(this),Y&&z.call(this)),this},w.compatAPI=function(j){var Y=M===O;return Y&&z.call(this),typeof j!="function"||(j(this),Y&&ne.call(this)),this},w.isAdvancedAPI=function(){return M===O};var te,X=function(j){if(M!==O)throw new Error(j+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},ge=w.roundToPrecision=w.__private__.roundToPrecision=function(j,Y){var be=e||Y;if(isNaN(j)||isNaN(be))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return j.toFixed(be).replace(/0+$/,"")};te=w.hpf=w.__private__.hpf=typeof h=="number"?function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.hpf");return ge(j,h)}:h==="smart"?function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.hpf");return ge(j,j>-1&&j<1?16:5)}:function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.hpf");return ge(j,16)};var Z=w.f2=w.__private__.f2=function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.f2");return ge(j,2)},W=w.__private__.f3=function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.f3");return ge(j,3)},ae=w.scale=w.__private__.scale=function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.scale");return M===I?j*Zt:M===O?j:void 0},K=function(j){return ae((function(Y){return M===I?mo()-Y:M===O?Y:void 0})(j))};w.__private__.setPrecision=w.setPrecision=function(j){typeof parseInt(j,10)=="number"&&(e=parseInt(j,10))};var ue,Q="00000000000000000000000000000000",Ae=w.__private__.getFileId=function(){return Q},ee=w.__private__.setFileId=function(j){return Q=j!==void 0&&/^[a-fA-F0-9]{32}$/.test(j)?j.toUpperCase():Q.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),g!==null&&(ln=new td(g.userPermissions,g.userPassword,g.ownerPassword,Q)),Q};w.setFileId=function(j){return ee(j),this},w.getFileId=function(){return Ae()};var _e=w.__private__.convertDateToPDFDate=function(j){var Y=j.getTimezoneOffset(),be=Y<0?"+":"-",Se=Math.floor(Math.abs(Y/60)),Qe=Math.abs(Y%60),ot=[be,$(Se),"'",$(Qe),"'"].join("");return["D:",j.getFullYear(),$(j.getMonth()+1),$(j.getDate()),$(j.getHours()),$(j.getMinutes()),$(j.getSeconds()),ot].join("")},Ne=w.__private__.convertPDFDateToDate=function(j){var Y=parseInt(j.substr(2,4),10),be=parseInt(j.substr(6,2),10)-1,Se=parseInt(j.substr(8,2),10),Qe=parseInt(j.substr(10,2),10),ot=parseInt(j.substr(12,2),10),vt=parseInt(j.substr(14,2),10);return new Date(Y,be,Se,Qe,ot,vt,0)},q=w.__private__.setCreationDate=function(j){var Y;if(j===void 0&&(j=new Date),j instanceof Date)Y=_e(j);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(j))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Y=j}return ue=Y},F=w.__private__.getCreationDate=function(j){var Y=ue;return j==="jsDate"&&(Y=Ne(ue)),Y};w.setCreationDate=function(j){return q(j),this},w.getCreationDate=function(j){return F(j)};var G,$=w.__private__.padd2=function(j){return("0"+parseInt(j)).slice(-2)},V=w.__private__.padd2Hex=function(j){return("00"+(j=j.toString())).substr(j.length)},he=0,ve=[],je=[],Te=0,Je=[],Ke=[],nt=!1,ft=je;w.__private__.setCustomOutputDestination=function(j){nt=!0,ft=j};var tt=function(j){nt||(ft=j)};w.__private__.resetCustomOutputDestination=function(){nt=!1,ft=je};var pe=w.__private__.out=function(j){return j=j.toString(),Te+=j.length+1,ft.push(j),ft},Ct=w.__private__.write=function(j){return pe(arguments.length===1?j.toString():Array.prototype.join.call(arguments," "))},It=w.__private__.getArrayBuffer=function(j){for(var Y=j.length,be=new ArrayBuffer(Y),Se=new Uint8Array(be);Y--;)Se[Y]=j.charCodeAt(Y);return be},zt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];w.__private__.getStandardFonts=function(){return zt};var Ie=t.fontSize||16;w.__private__.setFontSize=w.setFontSize=function(j){return Ie=M===O?j/Zt:j,this};var Rt,Lt=w.__private__.getFontSize=w.getFontSize=function(){return M===I?Ie:Ie*Zt},Bt=t.R2L||!1;w.__private__.setR2L=w.setR2L=function(j){return Bt=j,this},w.__private__.getR2L=w.getR2L=function(){return Bt};var gt,ir=w.__private__.setZoomMode=function(j){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(j))Rt=j;else if(isNaN(j)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(j)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+j+'" is not recognized.');Rt=j}else Rt=parseInt(j,10)};w.__private__.getZoomMode=function(){return Rt};var _r,nr=w.__private__.setPageMode=function(j){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(j)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+j+'" is not recognized.');gt=j};w.__private__.getPageMode=function(){return gt};var xr=w.__private__.setLayoutMode=function(j){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(j)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+j+'" is not recognized.');_r=j};w.__private__.getLayoutMode=function(){return _r},w.__private__.setDisplayMode=w.setDisplayMode=function(j,Y,be){return ir(j),xr(Y),nr(be),this};var $t={title:"",subject:"",author:"",keywords:"",creator:""};w.__private__.getDocumentProperty=function(j){if(Object.keys($t).indexOf(j)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return $t[j]},w.__private__.getDocumentProperties=function(){return $t},w.__private__.setDocumentProperties=w.setProperties=w.setDocumentProperties=function(j){for(var Y in $t)$t.hasOwnProperty(Y)&&j[Y]&&($t[Y]=j[Y]);return this},w.__private__.setDocumentProperty=function(j,Y){if(Object.keys($t).indexOf(j)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return $t[j]=Y};var St,Zt,Tt,Vr,gr,Vt={},or={},Ht=[],Kt={},kr={},Mt={},er={},Ue=null,Xe=0,at=[],dt=new n_(w),Yt=t.hotfixes||[],Jt={},br={},yn=[],kt=function j(Y,be,Se,Qe,ot,vt){if(!(this instanceof j))return new j(Y,be,Se,Qe,ot,vt);isNaN(Y)&&(Y=1),isNaN(be)&&(be=0),isNaN(Se)&&(Se=0),isNaN(Qe)&&(Qe=1),isNaN(ot)&&(ot=0),isNaN(vt)&&(vt=0),this._matrix=[Y,be,Se,Qe,ot,vt]};Object.defineProperty(kt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(j){this._matrix[0]=j}}),Object.defineProperty(kt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(j){this._matrix[1]=j}}),Object.defineProperty(kt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(j){this._matrix[2]=j}}),Object.defineProperty(kt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(j){this._matrix[3]=j}}),Object.defineProperty(kt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(j){this._matrix[4]=j}}),Object.defineProperty(kt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(j){this._matrix[5]=j}}),Object.defineProperty(kt.prototype,"a",{get:function(){return this._matrix[0]},set:function(j){this._matrix[0]=j}}),Object.defineProperty(kt.prototype,"b",{get:function(){return this._matrix[1]},set:function(j){this._matrix[1]=j}}),Object.defineProperty(kt.prototype,"c",{get:function(){return this._matrix[2]},set:function(j){this._matrix[2]=j}}),Object.defineProperty(kt.prototype,"d",{get:function(){return this._matrix[3]},set:function(j){this._matrix[3]=j}}),Object.defineProperty(kt.prototype,"e",{get:function(){return this._matrix[4]},set:function(j){this._matrix[4]=j}}),Object.defineProperty(kt.prototype,"f",{get:function(){return this._matrix[5]},set:function(j){this._matrix[5]=j}}),Object.defineProperty(kt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(kt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(kt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(kt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),kt.prototype.join=function(j){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(te).join(j)},kt.prototype.multiply=function(j){var Y=j.sx*this.sx+j.shy*this.shx,be=j.sx*this.shy+j.shy*this.sy,Se=j.shx*this.sx+j.sy*this.shx,Qe=j.shx*this.shy+j.sy*this.sy,ot=j.tx*this.sx+j.ty*this.shx+this.tx,vt=j.tx*this.shy+j.ty*this.sy+this.ty;return new kt(Y,be,Se,Qe,ot,vt)},kt.prototype.decompose=function(){var j=this.sx,Y=this.shy,be=this.shx,Se=this.sy,Qe=this.tx,ot=this.ty,vt=Math.sqrt(j*j+Y*Y),lr=(j/=vt)*be+(Y/=vt)*Se;be-=j*lr,Se-=Y*lr;var dr=Math.sqrt(be*be+Se*Se);return lr/=dr,j*(Se/=dr)<Y*(be/=dr)&&(j=-j,Y=-Y,lr=-lr,vt=-vt),{scale:new kt(vt,0,0,dr,0,0),translate:new kt(1,0,0,1,Qe,ot),rotate:new kt(j,Y,-Y,j,0,0),skew:new kt(1,0,lr,1,0,0)}},kt.prototype.toString=function(j){return this.join(" ")},kt.prototype.inversed=function(){var j=this.sx,Y=this.shy,be=this.shx,Se=this.sy,Qe=this.tx,ot=this.ty,vt=1/(j*Se-Y*be),lr=Se*vt,dr=-Y*vt,Fr=-be*vt,zr=j*vt;return new kt(lr,dr,Fr,zr,-lr*Qe-Fr*ot,-dr*Qe-zr*ot)},kt.prototype.applyToPoint=function(j){var Y=j.x*this.sx+j.y*this.shx+this.tx,be=j.x*this.shy+j.y*this.sy+this.ty;return new fi(Y,be)},kt.prototype.applyToRectangle=function(j){var Y=this.applyToPoint(j),be=this.applyToPoint(new fi(j.x+j.w,j.y+j.h));return new qi(Y.x,Y.y,be.x-Y.x,be.y-Y.y)},kt.prototype.clone=function(){var j=this.sx,Y=this.shy,be=this.shx,Se=this.sy,Qe=this.tx,ot=this.ty;return new kt(j,Y,be,Se,Qe,ot)},w.Matrix=kt;var En=w.matrixMult=function(j,Y){return Y.multiply(j)},In=new kt(1,0,0,1,0,0);w.unitMatrix=w.identityMatrix=In;var an=function(j,Y){if(!kr[j]){var be=(Y instanceof zc?"Sh":"P")+(Object.keys(Kt).length+1).toString(10);Y.id=be,kr[j]=be,Kt[be]=Y,dt.publish("addPattern",Y)}};w.ShadingPattern=zc,w.TilingPattern=od,w.addShadingPattern=function(j,Y){return X("addShadingPattern()"),an(j,Y),this},w.beginTilingPattern=function(j){X("beginTilingPattern()"),al(j.boundingBox[0],j.boundingBox[1],j.boundingBox[2]-j.boundingBox[0],j.boundingBox[3]-j.boundingBox[1],j.matrix)},w.endTilingPattern=function(j,Y){X("endTilingPattern()"),Y.stream=Ke[G].join(`
`),an(j,Y),dt.publish("endTilingPattern",Y),yn.pop().restore()};var Wr,Pr=w.__private__.newObject=function(){var j=Ut();return nn(j,!0),j},Ut=w.__private__.newObjectDeferred=function(){return he++,ve[he]=function(){return Te},he},nn=function(j,Y){return Y=typeof Y=="boolean"&&Y,ve[j]=Te,Y&&pe(j+" 0 obj"),j},fe=w.__private__.newAdditionalObject=function(){var j={objId:Ut(),content:""};return Je.push(j),j},De=Ut(),$e=Ut(),xe=w.__private__.decodeColorString=function(j){var Y=j.split(" ");if(Y.length!==2||Y[1]!=="g"&&Y[1]!=="G")Y.length!==5||Y[4]!=="k"&&Y[4]!=="K"||(Y=[(1-Y[0])*(1-Y[3]),(1-Y[1])*(1-Y[3]),(1-Y[2])*(1-Y[3]),"r"]);else{var be=parseFloat(Y[0]);Y=[be,be,be,"r"]}for(var Se="#",Qe=0;Qe<3;Qe++)Se+=("0"+Math.floor(255*parseFloat(Y[Qe])).toString(16)).slice(-2);return Se},Me=w.__private__.encodeColorString=function(j){var Y;typeof j=="string"&&(j={ch1:j});var be=j.ch1,Se=j.ch2,Qe=j.ch3,ot=j.ch4,vt=j.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof be=="string"&&be.charAt(0)!=="#"){var lr=new MN(be);if(lr.ok)be=lr.toHex();else if(!/^\d*\.?\d*$/.test(be))throw new Error('Invalid color "'+be+'" passed to jsPDF.encodeColorString.')}if(typeof be=="string"&&/^#[0-9A-Fa-f]{3}$/.test(be)&&(be="#"+be[1]+be[1]+be[2]+be[2]+be[3]+be[3]),typeof be=="string"&&/^#[0-9A-Fa-f]{6}$/.test(be)){var dr=parseInt(be.substr(1),16);be=dr>>16&255,Se=dr>>8&255,Qe=255&dr}if(Se===void 0||ot===void 0&&be===Se&&Se===Qe)Y=typeof be=="string"?be+" "+vt[0]:j.precision===2?Z(be/255)+" "+vt[0]:W(be/255)+" "+vt[0];else if(ot===void 0||Wn(ot)==="object"){if(ot&&!isNaN(ot.a)&&ot.a===0)return["1.","1.","1.",vt[1]].join(" ");Y=typeof be=="string"?[be,Se,Qe,vt[1]].join(" "):j.precision===2?[Z(be/255),Z(Se/255),Z(Qe/255),vt[1]].join(" "):[W(be/255),W(Se/255),W(Qe/255),vt[1]].join(" ")}else Y=typeof be=="string"?[be,Se,Qe,ot,vt[2]].join(" "):j.precision===2?[Z(be),Z(Se),Z(Qe),Z(ot),vt[2]].join(" "):[W(be),W(Se),W(Qe),W(ot),vt[2]].join(" ");return Y},We=w.__private__.getFilters=function(){return u},yt=w.__private__.putStream=function(j){var Y=(j=j||{}).data||"",be=j.filters||We(),Se=j.alreadyAppliedFilters||[],Qe=j.addLength1||!1,ot=Y.length,vt=j.objectId,lr=function(Hs){return Hs};if(g!==null&&vt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");g!==null&&(lr=ln.encryptor(vt,0));var dr={};be===!0&&(be=["FlateEncode"]);var Fr=j.additionalKeyValues||[],zr=(dr=Nr.API.processDataByFilters!==void 0?Nr.API.processDataByFilters(Y,be):{data:Y,reverseChain:[]}).reverseChain+(Array.isArray(Se)?Se.join(" "):Se.toString());if(dr.data.length!==0&&(Fr.push({key:"Length",value:dr.data.length}),Qe===!0&&Fr.push({key:"Length1",value:ot})),zr.length!=0)if(zr.split("/").length-1==1)Fr.push({key:"Filter",value:zr});else{Fr.push({key:"Filter",value:"["+zr+"]"});for(var mn=0;mn<Fr.length;mn+=1)if(Fr[mn].key==="DecodeParms"){for(var os=[],bs=0;bs<dr.reverseChain.split("/").length-1;bs+=1)os.push("null");os.push(Fr[mn].value),Fr[mn].value="["+os.join(" ")+"]"}}pe("<<");for(var Qn=0;Qn<Fr.length;Qn++)pe("/"+Fr[Qn].key+" "+Fr[Qn].value);pe(">>"),dr.data.length!==0&&(pe("stream"),pe(lr(dr.data)),pe("endstream"))},Gt=w.__private__.putPage=function(j){var Y=j.number,be=j.data,Se=j.objId,Qe=j.contentsObjId;nn(Se,!0),pe("<</Type /Page"),pe("/Parent "+j.rootDictionaryObjId+" 0 R"),pe("/Resources "+j.resourceDictionaryObjId+" 0 R"),pe("/MediaBox ["+parseFloat(te(j.mediaBox.bottomLeftX))+" "+parseFloat(te(j.mediaBox.bottomLeftY))+" "+te(j.mediaBox.topRightX)+" "+te(j.mediaBox.topRightY)+"]"),j.cropBox!==null&&pe("/CropBox ["+te(j.cropBox.bottomLeftX)+" "+te(j.cropBox.bottomLeftY)+" "+te(j.cropBox.topRightX)+" "+te(j.cropBox.topRightY)+"]"),j.bleedBox!==null&&pe("/BleedBox ["+te(j.bleedBox.bottomLeftX)+" "+te(j.bleedBox.bottomLeftY)+" "+te(j.bleedBox.topRightX)+" "+te(j.bleedBox.topRightY)+"]"),j.trimBox!==null&&pe("/TrimBox ["+te(j.trimBox.bottomLeftX)+" "+te(j.trimBox.bottomLeftY)+" "+te(j.trimBox.topRightX)+" "+te(j.trimBox.topRightY)+"]"),j.artBox!==null&&pe("/ArtBox ["+te(j.artBox.bottomLeftX)+" "+te(j.artBox.bottomLeftY)+" "+te(j.artBox.topRightX)+" "+te(j.artBox.topRightY)+"]"),typeof j.userUnit=="number"&&j.userUnit!==1&&pe("/UserUnit "+j.userUnit),dt.publish("putPage",{objId:Se,pageContext:at[Y],pageNumber:Y,page:be}),pe("/Contents "+Qe+" 0 R"),pe(">>"),pe("endobj");var ot=be.join(`
`);return M===O&&(ot+=`
Q`),nn(Qe,!0),yt({data:ot,filters:We(),objectId:Qe}),pe("endobj"),Se},Cr=w.__private__.putPages=function(){var j,Y,be=[];for(j=1;j<=Xe;j++)at[j].objId=Ut(),at[j].contentsObjId=Ut();for(j=1;j<=Xe;j++)be.push(Gt({number:j,data:Ke[j],objId:at[j].objId,contentsObjId:at[j].contentsObjId,mediaBox:at[j].mediaBox,cropBox:at[j].cropBox,bleedBox:at[j].bleedBox,trimBox:at[j].trimBox,artBox:at[j].artBox,userUnit:at[j].userUnit,rootDictionaryObjId:De,resourceDictionaryObjId:$e}));nn(De,!0),pe("<</Type /Pages");var Se="/Kids [";for(Y=0;Y<Xe;Y++)Se+=be[Y]+" 0 R ";pe(Se+"]"),pe("/Count "+Xe),pe(">>"),pe("endobj"),dt.publish("postPutPages")},Hr=function(j){dt.publish("putFont",{font:j,out:pe,newObject:Pr,putStream:yt}),j.isAlreadyPutted!==!0&&(j.objectNumber=Pr(),pe("<<"),pe("/Type /Font"),pe("/BaseFont /"+rd(j.postScriptName)),pe("/Subtype /Type1"),typeof j.encoding=="string"&&pe("/Encoding /"+j.encoding),pe("/FirstChar 32"),pe("/LastChar 255"),pe(">>"),pe("endobj"))},dn=function(j){j.objectNumber=Pr();var Y=[];Y.push({key:"Type",value:"/XObject"}),Y.push({key:"Subtype",value:"/Form"}),Y.push({key:"BBox",value:"["+[te(j.x),te(j.y),te(j.x+j.width),te(j.y+j.height)].join(" ")+"]"}),Y.push({key:"Matrix",value:"["+j.matrix.toString()+"]"});var be=j.pages[1].join(`
`);yt({data:be,additionalKeyValues:Y,objectId:j.objectNumber}),pe("endobj")},Ar=function(j,Y){Y||(Y=21);var be=Pr(),Se=(function(vt,lr){var dr,Fr=[],zr=1/(lr-1);for(dr=0;dr<1;dr+=zr)Fr.push(dr);if(Fr.push(1),vt[0].offset!=0){var mn={offset:0,color:vt[0].color};vt.unshift(mn)}if(vt[vt.length-1].offset!=1){var os={offset:1,color:vt[vt.length-1].color};vt.push(os)}for(var bs="",Qn=0,Hs=0;Hs<Fr.length;Hs++){for(dr=Fr[Hs];dr>vt[Qn+1].offset;)Qn++;var vs=vt[Qn].offset,Vs=(dr-vs)/(vt[Qn+1].offset-vs),pi=vt[Qn].color,oa=vt[Qn+1].color;bs+=V(Math.round((1-Vs)*pi[0]+Vs*oa[0]).toString(16))+V(Math.round((1-Vs)*pi[1]+Vs*oa[1]).toString(16))+V(Math.round((1-Vs)*pi[2]+Vs*oa[2]).toString(16))}return bs.trim()})(j.colors,Y),Qe=[];Qe.push({key:"FunctionType",value:"0"}),Qe.push({key:"Domain",value:"[0.0 1.0]"}),Qe.push({key:"Size",value:"["+Y+"]"}),Qe.push({key:"BitsPerSample",value:"8"}),Qe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Qe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),yt({data:Se,additionalKeyValues:Qe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:be}),pe("endobj"),j.objectNumber=Pr(),pe("<< /ShadingType "+j.type),pe("/ColorSpace /DeviceRGB");var ot="/Coords ["+te(parseFloat(j.coords[0]))+" "+te(parseFloat(j.coords[1]))+" ";j.type===2?ot+=te(parseFloat(j.coords[2]))+" "+te(parseFloat(j.coords[3])):ot+=te(parseFloat(j.coords[2]))+" "+te(parseFloat(j.coords[3]))+" "+te(parseFloat(j.coords[4]))+" "+te(parseFloat(j.coords[5])),pe(ot+="]"),j.matrix&&pe("/Matrix ["+j.matrix.toString()+"]"),pe("/Function "+be+" 0 R"),pe("/Extend [true true]"),pe(">>"),pe("endobj")},on=function(j,Y){var be=Ut(),Se=Pr();Y.push({resourcesOid:be,objectOid:Se}),j.objectNumber=Se;var Qe=[];Qe.push({key:"Type",value:"/Pattern"}),Qe.push({key:"PatternType",value:"1"}),Qe.push({key:"PaintType",value:"1"}),Qe.push({key:"TilingType",value:"1"}),Qe.push({key:"BBox",value:"["+j.boundingBox.map(te).join(" ")+"]"}),Qe.push({key:"XStep",value:te(j.xStep)}),Qe.push({key:"YStep",value:te(j.yStep)}),Qe.push({key:"Resources",value:be+" 0 R"}),j.matrix&&Qe.push({key:"Matrix",value:"["+j.matrix.toString()+"]"}),yt({data:j.stream,additionalKeyValues:Qe,objectId:j.objectNumber}),pe("endobj")},re=function(j){for(var Y in j.objectNumber=Pr(),pe("<<"),j)switch(Y){case"opacity":pe("/ca "+Z(j[Y]));break;case"stroke-opacity":pe("/CA "+Z(j[Y]))}pe(">>"),pe("endobj")},ut=function(j){nn(j.resourcesOid,!0),pe("<<"),pe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var Y in pe("/Font <<"),Vt)Vt.hasOwnProperty(Y)&&(b===!1||b===!0&&N.hasOwnProperty(Y))&&pe("/"+Y+" "+Vt[Y].objectNumber+" 0 R");pe(">>")})(),(function(){if(Object.keys(Kt).length>0){for(var Y in pe("/Shading <<"),Kt)Kt.hasOwnProperty(Y)&&Kt[Y]instanceof zc&&Kt[Y].objectNumber>=0&&pe("/"+Y+" "+Kt[Y].objectNumber+" 0 R");dt.publish("putShadingPatternDict"),pe(">>")}})(),(function(Y){if(Object.keys(Kt).length>0){for(var be in pe("/Pattern <<"),Kt)Kt.hasOwnProperty(be)&&Kt[be]instanceof w.TilingPattern&&Kt[be].objectNumber>=0&&Kt[be].objectNumber<Y&&pe("/"+be+" "+Kt[be].objectNumber+" 0 R");dt.publish("putTilingPatternDict"),pe(">>")}})(j.objectOid),(function(){if(Object.keys(Mt).length>0){var Y;for(Y in pe("/ExtGState <<"),Mt)Mt.hasOwnProperty(Y)&&Mt[Y].objectNumber>=0&&pe("/"+Y+" "+Mt[Y].objectNumber+" 0 R");dt.publish("putGStateDict"),pe(">>")}})(),(function(){for(var Y in pe("/XObject <<"),Jt)Jt.hasOwnProperty(Y)&&Jt[Y].objectNumber>=0&&pe("/"+Y+" "+Jt[Y].objectNumber+" 0 R");dt.publish("putXobjectDict"),pe(">>")})(),pe(">>"),pe("endobj")},it=function(j){or[j.fontName]=or[j.fontName]||{},or[j.fontName][j.fontStyle]=j.id},wt=function(j,Y,be,Se,Qe){var ot={id:"F"+(Object.keys(Vt).length+1).toString(10),postScriptName:j,fontName:Y,fontStyle:be,encoding:Se,isStandardFont:Qe||!1,metadata:{}};return dt.publish("addFont",{font:ot,instance:this}),Vt[ot.id]=ot,it(ot),ot.id},Xt=w.__private__.pdfEscape=w.pdfEscape=function(j,Y){return(function(be,Se){var Qe,ot,vt,lr,dr,Fr,zr,mn,os;if(vt=(Se=Se||{}).sourceEncoding||"Unicode",dr=Se.outputEncoding,(Se.autoencode||dr)&&Vt[St].metadata&&Vt[St].metadata[vt]&&Vt[St].metadata[vt].encoding&&(lr=Vt[St].metadata[vt].encoding,!dr&&Vt[St].encoding&&(dr=Vt[St].encoding),!dr&&lr.codePages&&(dr=lr.codePages[0]),typeof dr=="string"&&(dr=lr[dr]),dr)){for(zr=!1,Fr=[],Qe=0,ot=be.length;Qe<ot;Qe++)(mn=dr[be.charCodeAt(Qe)])?Fr.push(String.fromCharCode(mn)):Fr.push(be[Qe]),Fr[Qe].charCodeAt(0)>>8&&(zr=!0);be=Fr.join("")}for(Qe=be.length;zr===void 0&&Qe!==0;)be.charCodeAt(Qe-1)>>8&&(zr=!0),Qe--;if(!zr)return be;for(Fr=Se.noBOM?[]:[254,255],Qe=0,ot=be.length;Qe<ot;Qe++){if((os=(mn=be.charCodeAt(Qe))>>8)>>8)throw new Error("Character at position "+Qe+" of string '"+be+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Fr.push(os),Fr.push(mn-(os<<8))}return String.fromCharCode.apply(void 0,Fr)})(j,Y).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},yr=w.__private__.beginPage=function(j){Ke[++Xe]=[],at[Xe]={objId:0,contentsObjId:0,userUnit:Number(d),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(j[0]),topRightY:Number(j[1])}},Vn(Xe),tt(Ke[G])},qr=function(j,Y){var be,Se,Qe;switch(r=Y||r,typeof j=="string"&&(be=S(j.toLowerCase()),Array.isArray(be)&&(Se=be[0],Qe=be[1])),Array.isArray(j)&&(Se=j[0]*Zt,Qe=j[1]*Zt),isNaN(Se)&&(Se=i[0],Qe=i[1]),(Se>14400||Qe>14400)&&(cs.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Se=Math.min(14400,Se),Qe=Math.min(14400,Qe)),i=[Se,Qe],r.substr(0,1)){case"l":Qe>Se&&(i=[Qe,Se]);break;case"p":Se>Qe&&(i=[Qe,Se])}yr(i),Ft(fo),pe(ja),jl!==0&&pe(jl+" J"),Ms!==0&&pe(Ms+" j"),dt.publish("addPage",{pageNumber:Xe})},fn=function(j){j>0&&j<=Xe&&(Ke.splice(j,1),at.splice(j,1),Xe--,G>Xe&&(G=Xe),this.setPage(G))},Vn=function(j){j>0&&j<=Xe&&(G=j)},Zr=w.__private__.getNumberOfPages=w.getNumberOfPages=function(){return Ke.length-1},es=function(j,Y,be){var Se,Qe=void 0;return be=be||{},j=j!==void 0?j:Vt[St].fontName,Y=Y!==void 0?Y:Vt[St].fontStyle,Se=j.toLowerCase(),or[Se]!==void 0&&or[Se][Y]!==void 0?Qe=or[Se][Y]:or[j]!==void 0&&or[j][Y]!==void 0?Qe=or[j][Y]:be.disableWarning===!1&&cs.warn("Unable to look up font label for font '"+j+"', '"+Y+"'. Refer to getFontList() for available fonts."),Qe||be.noFallback||(Qe=or.times[Y])==null&&(Qe=or.times.normal),Qe},ur=w.__private__.putInfo=function(){var j=Pr(),Y=function(Se){return Se};for(var be in g!==null&&(Y=ln.encryptor(j,0)),pe("<<"),pe("/Producer ("+Xt(Y("jsPDF "+Nr.version))+")"),$t)$t.hasOwnProperty(be)&&$t[be]&&pe("/"+be.substr(0,1).toUpperCase()+be.substr(1)+" ("+Xt(Y($t[be]))+")");pe("/CreationDate ("+Xt(Y(ue))+")"),pe(">>"),pe("endobj")},Lr=w.__private__.putCatalog=function(j){var Y=(j=j||{}).rootDictionaryObjId||De;switch(Pr(),pe("<<"),pe("/Type /Catalog"),pe("/Pages "+Y+" 0 R"),Rt||(Rt="fullwidth"),Rt){case"fullwidth":pe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":pe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":pe("/OpenAction [3 0 R /Fit]");break;case"original":pe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var be=""+Rt;be.substr(be.length-1)==="%"&&(Rt=parseInt(Rt)/100),typeof Rt=="number"&&pe("/OpenAction [3 0 R /XYZ null null "+Z(Rt)+"]")}switch(_r||(_r="continuous"),_r){case"continuous":pe("/PageLayout /OneColumn");break;case"single":pe("/PageLayout /SinglePage");break;case"two":case"twoleft":pe("/PageLayout /TwoColumnLeft");break;case"tworight":pe("/PageLayout /TwoColumnRight")}gt&&pe("/PageMode /"+gt),dt.publish("putCatalog"),pe(">>"),pe("endobj")},xs=w.__private__.putTrailer=function(){pe("trailer"),pe("<<"),pe("/Size "+(he+1)),pe("/Root "+he+" 0 R"),pe("/Info "+(he-1)+" 0 R"),g!==null&&pe("/Encrypt "+ln.oid+" 0 R"),pe("/ID [ <"+Q+"> <"+Q+"> ]"),pe(">>")},$r=w.__private__.putHeader=function(){pe("%PDF-"+C),pe("%")},Ca=w.__private__.putXRef=function(){var j="0000000000";pe("xref"),pe("0 "+(he+1)),pe("0000000000 65535 f ");for(var Y=1;Y<=he;Y++)typeof ve[Y]=="function"?pe((j+ve[Y]()).slice(-10)+" 00000 n "):ve[Y]!==void 0?pe((j+ve[Y]).slice(-10)+" 00000 n "):pe("0000000000 00000 n ")},Rs=w.__private__.buildDocument=function(){var j;he=0,Te=0,je=[],ve=[],Je=[],De=Ut(),$e=Ut(),tt(je),dt.publish("buildDocument"),$r(),Cr(),(function(){dt.publish("putAdditionalObjects");for(var be=0;be<Je.length;be++){var Se=Je[be];nn(Se.objId,!0),pe(Se.content),pe("endobj")}dt.publish("postPutAdditionalObjects")})(),j=[],(function(){for(var be in Vt)Vt.hasOwnProperty(be)&&(b===!1||b===!0&&N.hasOwnProperty(be))&&Hr(Vt[be])})(),(function(){var be;for(be in Mt)Mt.hasOwnProperty(be)&&re(Mt[be])})(),(function(){for(var be in Jt)Jt.hasOwnProperty(be)&&dn(Jt[be])})(),(function(be){var Se;for(Se in Kt)Kt.hasOwnProperty(Se)&&(Kt[Se]instanceof zc?Ar(Kt[Se]):Kt[Se]instanceof od&&on(Kt[Se],be))})(j),dt.publish("putResources"),j.forEach(ut),ut({resourcesOid:$e,objectOid:Number.MAX_SAFE_INTEGER}),dt.publish("postPutResources"),g!==null&&(ln.oid=Pr(),pe("<<"),pe("/Filter /Standard"),pe("/V "+ln.v),pe("/R "+ln.r),pe("/U <"+ln.toHexString(ln.U)+">"),pe("/O <"+ln.toHexString(ln.O)+">"),pe("/P "+ln.P),pe(">>"),pe("endobj")),ur(),Lr();var Y=Te;return Ca(),xs(),pe("startxref"),pe(""+Y),pe("%%EOF"),tt(Ke[G]),je.join(`
`)},Er=w.__private__.getBlob=function(j){return new Blob([It(j)],{type:"application/pdf"})},wr=w.output=w.__private__.output=(Wr=function(j,Y){switch(typeof(Y=Y||{})=="string"?Y={filename:Y}:Y.filename=Y.filename||"generated.pdf",j){case void 0:return Rs();case"save":w.save(Y.filename);break;case"arraybuffer":return It(Rs());case"blob":return Er(Rs());case"bloburi":case"bloburl":if(Gr.URL!==void 0&&typeof Gr.URL.createObjectURL=="function")return Gr.URL&&Gr.URL.createObjectURL(Er(Rs()))||void 0;cs.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var be="",Se=Rs();try{be=e_(Se)}catch{be=e_(unescape(encodeURIComponent(Se)))}return"data:application/pdf;filename="+Y.filename+";base64,"+be;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Gr)==="[object Window]"){var Qe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ot=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Y.pdfObjectUrl&&(Qe=Y.pdfObjectUrl,ot="");var vt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Qe+'"'+ot+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Y)+");<\/script></body></html>",lr=Gr.open();return lr!==null&&lr.document.write(vt),lr}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Gr)==="[object Window]"){var dr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Y.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Y.filename+'" width="500px" height="400px" /></body></html>',Fr=Gr.open();if(Fr!==null){Fr.document.write(dr);var zr=this;Fr.document.documentElement.querySelector("#pdfViewer").onload=function(){Fr.document.title=Y.filename,Fr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(zr.output("bloburl"))}}return Fr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Gr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var mn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Y)+'"></iframe></body></html>',os=Gr.open();if(os!==null&&(os.document.write(mn),os.document.title=Y.filename),os||typeof safari>"u")return os;break;case"datauri":case"dataurl":return Gr.document.location.href=this.output("datauristring",Y);default:return null}},Wr.foo=function(){try{return Wr.apply(this,arguments)}catch(be){var j=be.stack||"";~j.indexOf(" at ")&&(j=j.split(" at ")[1]);var Y="Error in function "+j.split(`
`)[0].split("<")[0]+": "+be.message;if(!Gr.console)throw new Error(Y);Gr.console.error(Y,be),Gr.alert&&alert(Y)}},Wr.foo.bar=Wr,Wr.foo),cn=function(j){return Array.isArray(Yt)===!0&&Yt.indexOf(j)>-1};switch(n){case"pt":Zt=1;break;case"mm":Zt=72/25.4;break;case"cm":Zt=72/2.54;break;case"in":Zt=72;break;case"px":Zt=cn("px_scaling")==1?.75:96/72;break;case"pc":case"em":Zt=12;break;case"ex":Zt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Zt=n}var ln=null;q(),ee();var Be=w.__private__.getPageInfo=w.getPageInfo=function(j){if(isNaN(j)||j%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:at[j].objId,pageNumber:j,pageContext:at[j]}},st=w.__private__.getPageInfoByObjId=function(j){if(isNaN(j)||j%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Y in at)if(at[Y].objId===j)break;return Be(Y)},Et=w.__private__.getCurrentPageInfo=w.getCurrentPageInfo=function(){return{objId:at[G].objId,pageNumber:G,pageContext:at[G]}};w.addPage=function(){return qr.apply(this,arguments),this},w.setPage=function(){return Vn.apply(this,arguments),tt.call(this,Ke[G]),this},w.insertPage=function(j){return this.addPage(),this.movePage(G,j),this},w.movePage=function(j,Y){var be,Se;if(j>Y){be=Ke[j],Se=at[j];for(var Qe=j;Qe>Y;Qe--)Ke[Qe]=Ke[Qe-1],at[Qe]=at[Qe-1];Ke[Y]=be,at[Y]=Se,this.setPage(Y)}else if(j<Y){be=Ke[j],Se=at[j];for(var ot=j;ot<Y;ot++)Ke[ot]=Ke[ot+1],at[ot]=at[ot+1];Ke[Y]=be,at[Y]=Se,this.setPage(Y)}return this},w.deletePage=function(){return fn.apply(this,arguments),this},w.__private__.text=w.text=function(j,Y,be,Se,Qe){var ot,vt,lr,dr,Fr,zr,mn,os,bs,Qn=(Se=Se||{}).scope||this;if(typeof j=="number"&&typeof Y=="number"&&(typeof be=="string"||Array.isArray(be))){var Hs=be;be=Y,Y=j,j=Hs}if(arguments[3]instanceof kt==0?(lr=arguments[4],dr=arguments[5],Wn(mn=arguments[3])==="object"&&mn!==null||(typeof lr=="string"&&(dr=lr,lr=null),typeof mn=="string"&&(dr=mn,mn=null),typeof mn=="number"&&(lr=mn,mn=null),Se={flags:mn,angle:lr,align:dr})):(X("The transform parameter of text() with a Matrix value"),bs=Qe),isNaN(Y)||isNaN(be)||j==null)throw new Error("Invalid arguments passed to jsPDF.text");if(j.length===0)return Qn;var vs,Vs="",pi=typeof Se.lineHeightFactor=="number"?Se.lineHeightFactor:Pi,oa=Qn.internal.scaleFactor;function go(Nn){return Nn=Nn.split("	").join(Array(Se.TabLen||9).join(" ")),Xt(Nn,mn)}function xo(Nn){for(var gn,Kn=Nn.concat(),hs=[],Xi=Kn.length;Xi--;)typeof(gn=Kn.shift())=="string"?hs.push(gn):Array.isArray(Nn)&&(gn.length===1||gn[1]===void 0&&gn[2]===void 0)?hs.push(gn[0]):hs.push([gn[0],gn[1],gn[2]]);return hs}function la(Nn,gn){var Kn;if(typeof Nn=="string")Kn=gn(Nn)[0];else if(Array.isArray(Nn)){for(var hs,Xi,Us=Nn.concat(),Yi=[],AA=Us.length;AA--;)typeof(hs=Us.shift())=="string"?Yi.push(gn(hs)[0]):Array.isArray(hs)&&typeof hs[0]=="string"&&(Xi=gn(hs[0],hs[1],hs[2]),Yi.push([Xi[0],Xi[1],Xi[2]]));Kn=Yi}return Kn}var Ti=!1,mi=!0;if(typeof j=="string")Ti=!0;else if(Array.isArray(j)){var il=j.concat();vt=[];for(var Ii,Ss=il.length;Ss--;)(typeof(Ii=il.shift())!="string"||Array.isArray(Ii)&&typeof Ii[0]!="string")&&(mi=!1);Ti=mi}if(Ti===!1)throw new Error('Type of text must be string or Array. "'+j+'" is not recognized.');typeof j=="string"&&(j=j.match(/[\r?\n]/)?j.split(/\r\n|\r|\n/g):[j]);var Do=Ie/Qn.internal.scaleFactor,Mo=Do*(pi-1);switch(Se.baseline){case"bottom":be-=Mo;break;case"top":be+=Do-Mo;break;case"hanging":be+=Do-2*Mo;break;case"middle":be+=Do/2-Mo}if((zr=Se.maxWidth||0)>0&&(typeof j=="string"?j=Qn.splitTextToSize(j,zr):Object.prototype.toString.call(j)==="[object Array]"&&(j=j.reduce(function(Nn,gn){return Nn.concat(Qn.splitTextToSize(gn,zr))},[]))),ot={text:j,x:Y,y:be,options:Se,mutex:{pdfEscape:Xt,activeFontKey:St,fonts:Vt,activeFontSize:Ie}},dt.publish("preProcessText",ot),j=ot.text,lr=(Se=ot.options).angle,bs instanceof kt==0&&lr&&typeof lr=="number"){lr*=Math.PI/180,Se.rotationDirection===0&&(lr=-lr),M===O&&(lr=-lr);var ol=Math.cos(lr),zi=Math.sin(lr);bs=new kt(ol,zi,-zi,ol,0,0)}else lr&&lr instanceof kt&&(bs=lr);M!==O||bs||(bs=In),(Fr=Se.charSpace||Xa)!==void 0&&(Vs+=te(ae(Fr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(os=Se.horizontalScale)!==void 0&&(Vs+=te(100*os)+` Tz
`),Se.lang;var $n=-1,Ma=Se.renderingMode!==void 0?Se.renderingMode:Se.stroke,Ul=Qn.internal.getCurrentPageInfo().pageContext;switch(Ma){case 0:case!1:case"fill":$n=0;break;case 1:case!0:case"stroke":$n=1;break;case 2:case"fillThenStroke":$n=2;break;case 3:case"invisible":$n=3;break;case 4:case"fillAndAddForClipping":$n=4;break;case 5:case"strokeAndAddPathForClipping":$n=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":$n=6;break;case 7:case"addToPathForClipping":$n=7}var Ja=Ul.usedRenderingMode!==void 0?Ul.usedRenderingMode:-1;$n!==-1?Vs+=$n+` Tr
`:Ja!==-1&&(Vs+=`0 Tr
`),$n!==-1&&(Ul.usedRenderingMode=$n),dr=Se.align||"left";var Wa,ba=Ie*pi,bo=Qn.internal.pageSize.getWidth(),vo=Vt[St];Fr=Se.charSpace||Xa,zr=Se.maxWidth||0,mn=Object.assign({autoencode:!0,noBOM:!0},Se.flags);var gi=[],Qi=function(Nn){return Qn.getStringUnitWidth(Nn,{font:vo,charSpace:Fr,fontSize:Ie,doKerning:!1})*Ie/oa};if(Object.prototype.toString.call(j)==="[object Array]"){var Pa;vt=xo(j),dr!=="left"&&(Wa=vt.map(Qi));var ds,ei=0;if(dr==="right"){Y-=Wa[0],j=[],Ss=vt.length;for(var Ki=0;Ki<Ss;Ki++)Ki===0?(ds=Sa(Y),Pa=Ds(be)):(ds=ae(ei-Wa[Ki]),Pa=-ba),j.push([vt[Ki],ds,Pa]),ei=Wa[Ki]}else if(dr==="center"){Y-=Wa[0]/2,j=[],Ss=vt.length;for(var Oi=0;Oi<Ss;Oi++)Oi===0?(ds=Sa(Y),Pa=Ds(be)):(ds=ae((ei-Wa[Oi])/2),Pa=-ba),j.push([vt[Oi],ds,Pa]),ei=Wa[Oi]}else if(dr==="left"){j=[],Ss=vt.length;for(var kl=0;kl<Ss;kl++)j.push(vt[kl])}else if(dr==="justify"&&vo.encoding==="Identity-H"){j=[],Ss=vt.length,zr=zr!==0?zr:bo;for(var Ha=0,ys=0;ys<Ss;ys++)if(Pa=ys===0?Ds(be):-ba,ds=ys===0?Sa(Y):Ha,ys<Ss-1){var yo=ae((zr-Wa[ys])/(vt[ys].split(" ").length-1)),Gi=vt[ys].split(" ");j.push([Gi[0]+" ",ds,Pa]),Ha=0;for(var $s=1;$s<Gi.length;$s++){var js=(Qi(Gi[$s-1]+" "+Gi[$s])-Qi(Gi[$s]))*oa+yo;$s==Gi.length-1?j.push([Gi[$s],js,0]):j.push([Gi[$s]+" ",js,0]),Ha-=js}}else j.push([vt[ys],ds,Pa]);j.push(["",Ha,0])}else{if(dr!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(j=[],Ss=vt.length,zr=zr!==0?zr:bo,ys=0;ys<Ss;ys++){Pa=ys===0?Ds(be):-ba,ds=ys===0?Sa(Y):0;var Vi=vt[ys].split(" ").length-1,Po=Vi>0?(zr-Wa[ys])/Vi:0;ys<Ss-1?gi.push(te(ae(Po))):gi.push(0),j.push([vt[ys],ds,Pa])}}}(typeof Se.R2L=="boolean"?Se.R2L:Bt)===!0&&(j=la(j,function(Nn,gn,Kn){return[Nn.split("").reverse().join(""),gn,Kn]})),ot={text:j,x:Y,y:be,options:Se,mutex:{pdfEscape:Xt,activeFontKey:St,fonts:Vt,activeFontSize:Ie}},dt.publish("postProcessText",ot),j=ot.text,vs=ot.mutex.isHex||!1;var wo=Vt[St].encoding;wo!=="WinAnsiEncoding"&&wo!=="StandardEncoding"||(j=la(j,function(Nn,gn,Kn){return[go(Nn),gn,Kn]})),vt=xo(j),j=[];for(var Ri,xi,Ua,$i=Array.isArray(vt[0])?1:0,ka="",Zi=function(Nn,gn,Kn){var hs="";return Kn instanceof kt?(Kn=typeof Se.angle=="number"?En(Kn,new kt(1,0,0,1,Nn,gn)):En(new kt(1,0,0,1,Nn,gn),Kn),M===O&&(Kn=En(new kt(1,0,0,-1,0,0),Kn)),hs=Kn.join(" ")+` Tm
`):hs=te(Nn)+" "+te(gn)+` Td
`,hs},va=0;va<vt.length;va++){switch(ka="",$i){case 1:Ua=(vs?"<":"(")+vt[va][0]+(vs?">":")"),Ri=parseFloat(vt[va][1]),xi=parseFloat(vt[va][2]);break;case 0:Ua=(vs?"<":"(")+vt[va]+(vs?">":")"),Ri=Sa(Y),xi=Ds(be)}gi!==void 0&&gi[va]!==void 0&&(ka=gi[va]+` Tw
`),va===0?j.push(ka+Zi(Ri,xi,bs)+Ua):$i===0?j.push(ka+Ua):$i===1&&j.push(ka+Zi(Ri,xi,bs)+Ua)}j=$i===0?j.join(` Tj
T* `):j.join(` Tj
`),j+=` Tj
`;var La=`BT
/`;return La+=St+" "+Ie+` Tf
`,La+=te(Ie*pi)+` TL
`,La+=zn+`
`,La+=Vs,La+=j,pe(La+="ET"),N[St]=!0,Qn};var Nt=w.__private__.clip=w.clip=function(j){return pe(j==="evenodd"?"W*":"W"),this};w.clipEvenOdd=function(){return Nt("evenodd")},w.__private__.discardPath=w.discardPath=function(){return pe("n"),this};var Ot=w.__private__.isValidStyle=function(j){var Y=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(j)!==-1&&(Y=!0),Y};w.__private__.setDefaultPathOperation=w.setDefaultPathOperation=function(j){return Ot(j)&&(m=j),this};var Rr=w.__private__.getStyle=w.getStyle=function(j){var Y=m;switch(j){case"D":case"S":Y="S";break;case"F":Y="f";break;case"FD":case"DF":Y="B";break;case"f":case"f*":case"B":case"B*":Y=j}return Y},Qt=w.close=function(){return pe("h"),this};w.stroke=function(){return pe("S"),this},w.fill=function(j){return sr("f",j),this},w.fillEvenOdd=function(j){return sr("f*",j),this},w.fillStroke=function(j){return sr("B",j),this},w.fillStrokeEvenOdd=function(j){return sr("B*",j),this};var sr=function(j,Y){Wn(Y)==="object"?Ea(Y,j):pe(j)},Ir=function(j){j===null||M===O&&j===void 0||(j=Rr(j),pe(j))};function pn(j,Y,be,Se,Qe){var ot=new od(Y||this.boundingBox,be||this.xStep,Se||this.yStep,this.gState,Qe||this.matrix);ot.stream=this.stream;var vt=j+"$$"+this.cloneIndex+++"$$";return an(vt,ot),ot}var Ea=function(j,Y){var be=kr[j.key],Se=Kt[be];if(Se instanceof zc)pe("q"),pe(ts(Y)),Se.gState&&w.setGState(Se.gState),pe(j.matrix.toString()+" cm"),pe("/"+be+" sh"),pe("Q");else if(Se instanceof od){var Qe=new kt(1,0,0,-1,0,mo());j.matrix&&(Qe=Qe.multiply(j.matrix||In),be=pn.call(Se,j.key,j.boundingBox,j.xStep,j.yStep,Qe).id),pe("q"),pe("/Pattern cs"),pe("/"+be+" scn"),Se.gState&&w.setGState(Se.gState),pe(Y),pe("Q")}},ts=function(j){switch(j){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},di=w.moveTo=function(j,Y){return pe(te(ae(j))+" "+te(K(Y))+" m"),this},ki=w.lineTo=function(j,Y){return pe(te(ae(j))+" "+te(K(Y))+" l"),this},us=w.curveTo=function(j,Y,be,Se,Qe,ot){return pe([te(ae(j)),te(K(Y)),te(ae(be)),te(K(Se)),te(ae(Qe)),te(K(ot)),"c"].join(" ")),this};w.__private__.line=w.line=function(j,Y,be,Se,Qe){if(isNaN(j)||isNaN(Y)||isNaN(be)||isNaN(Se)||!Ot(Qe))throw new Error("Invalid arguments passed to jsPDF.line");return M===I?this.lines([[be-j,Se-Y]],j,Y,[1,1],Qe||"S"):this.lines([[be-j,Se-Y]],j,Y,[1,1]).stroke()},w.__private__.lines=w.lines=function(j,Y,be,Se,Qe,ot){var vt,lr,dr,Fr,zr,mn,os,bs,Qn,Hs,vs,Vs;if(typeof j=="number"&&(Vs=be,be=Y,Y=j,j=Vs),Se=Se||[1,1],ot=ot||!1,isNaN(Y)||isNaN(be)||!Array.isArray(j)||!Array.isArray(Se)||!Ot(Qe)||typeof ot!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(di(Y,be),vt=Se[0],lr=Se[1],Fr=j.length,Hs=Y,vs=be,dr=0;dr<Fr;dr++)(zr=j[dr]).length===2?(Hs=zr[0]*vt+Hs,vs=zr[1]*lr+vs,ki(Hs,vs)):(mn=zr[0]*vt+Hs,os=zr[1]*lr+vs,bs=zr[2]*vt+Hs,Qn=zr[3]*lr+vs,Hs=zr[4]*vt+Hs,vs=zr[5]*lr+vs,us(mn,os,bs,Qn,Hs,vs));return ot&&Qt(),Ir(Qe),this},w.path=function(j){for(var Y=0;Y<j.length;Y++){var be=j[Y],Se=be.c;switch(be.op){case"m":di(Se[0],Se[1]);break;case"l":ki(Se[0],Se[1]);break;case"c":us.apply(this,Se);break;case"h":Qt()}}return this},w.__private__.rect=w.rect=function(j,Y,be,Se,Qe){if(isNaN(j)||isNaN(Y)||isNaN(be)||isNaN(Se)||!Ot(Qe))throw new Error("Invalid arguments passed to jsPDF.rect");return M===I&&(Se=-Se),pe([te(ae(j)),te(K(Y)),te(ae(be)),te(ae(Se)),"re"].join(" ")),Ir(Qe),this},w.__private__.triangle=w.triangle=function(j,Y,be,Se,Qe,ot,vt){if(isNaN(j)||isNaN(Y)||isNaN(be)||isNaN(Se)||isNaN(Qe)||isNaN(ot)||!Ot(vt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[be-j,Se-Y],[Qe-be,ot-Se],[j-Qe,Y-ot]],j,Y,[1,1],vt,!0),this},w.__private__.roundedRect=w.roundedRect=function(j,Y,be,Se,Qe,ot,vt){if(isNaN(j)||isNaN(Y)||isNaN(be)||isNaN(Se)||isNaN(Qe)||isNaN(ot)||!Ot(vt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var lr=4/3*(Math.SQRT2-1);return Qe=Math.min(Qe,.5*be),ot=Math.min(ot,.5*Se),this.lines([[be-2*Qe,0],[Qe*lr,0,Qe,ot-ot*lr,Qe,ot],[0,Se-2*ot],[0,ot*lr,-Qe*lr,ot,-Qe,ot],[2*Qe-be,0],[-Qe*lr,0,-Qe,-ot*lr,-Qe,-ot],[0,2*ot-Se],[0,-ot*lr,Qe*lr,-ot,Qe,-ot]],j+Qe,Y,[1,1],vt,!0),this},w.__private__.ellipse=w.ellipse=function(j,Y,be,Se,Qe){if(isNaN(j)||isNaN(Y)||isNaN(be)||isNaN(Se)||!Ot(Qe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ot=4/3*(Math.SQRT2-1)*be,vt=4/3*(Math.SQRT2-1)*Se;return di(j+be,Y),us(j+be,Y-vt,j+ot,Y-Se,j,Y-Se),us(j-ot,Y-Se,j-be,Y-vt,j-be,Y),us(j-be,Y+vt,j-ot,Y+Se,j,Y+Se),us(j+ot,Y+Se,j+be,Y+vt,j+be,Y),Ir(Qe),this},w.__private__.circle=w.circle=function(j,Y,be,Se){if(isNaN(j)||isNaN(Y)||isNaN(be)||!Ot(Se))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(j,Y,be,be,Se)},w.setFont=function(j,Y,be){return be&&(Y=oe(Y,be)),St=es(j,Y,{disableWarning:!1}),this};var Gs=w.__private__.getFont=w.getFont=function(){return Vt[es.apply(w,arguments)]};w.__private__.getFontList=w.getFontList=function(){var j,Y,be={};for(j in or)if(or.hasOwnProperty(j))for(Y in be[j]=[],or[j])or[j].hasOwnProperty(Y)&&be[j].push(Y);return be},w.addFont=function(j,Y,be,Se,Qe){var ot=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ot.indexOf(arguments[3])!==-1?Qe=arguments[3]:arguments[3]&&ot.indexOf(arguments[3])==-1&&(be=oe(be,Se)),wt.call(this,j,Y,be,Qe=Qe||"Identity-H")};var Pi,fo=t.lineWidth||.200025,Oo=w.__private__.getLineWidth=w.getLineWidth=function(){return fo},Ft=w.__private__.setLineWidth=w.setLineWidth=function(j){return fo=j,pe(te(ae(j))+" w"),this};w.__private__.setLineDash=Nr.API.setLineDash=Nr.API.setLineDashPattern=function(j,Y){if(j=j||[],Y=Y||0,isNaN(Y)||!Array.isArray(j))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return j=j.map(function(be){return te(ae(be))}).join(" "),Y=te(ae(Y)),pe("["+j+"] "+Y+" d"),this};var $a=w.__private__.getLineHeight=w.getLineHeight=function(){return Ie*Pi};w.__private__.getLineHeight=w.getLineHeight=function(){return Ie*Pi};var Sn=w.__private__.setLineHeightFactor=w.setLineHeightFactor=function(j){return typeof(j=j||1.15)=="number"&&(Pi=j),this},iA=w.__private__.getLineHeightFactor=w.getLineHeightFactor=function(){return Pi};Sn(t.lineHeight);var Sa=w.__private__.getHorizontalCoordinate=function(j){return ae(j)},Ds=w.__private__.getVerticalCoordinate=function(j){return M===O?j:at[G].mediaBox.topRightY-at[G].mediaBox.bottomLeftY-ae(j)},nl=w.__private__.getHorizontalCoordinateString=w.getHorizontalCoordinateString=function(j){return te(Sa(j))},Za=w.__private__.getVerticalCoordinateString=w.getVerticalCoordinateString=function(j){return te(Ds(j))},ja=t.strokeColor||"0 G";w.__private__.getStrokeColor=w.getDrawColor=function(){return xe(ja)},w.__private__.setStrokeColor=w.setDrawColor=function(j,Y,be,Se){return ja=Me({ch1:j,ch2:Y,ch3:be,ch4:Se,pdfColorType:"draw",precision:2}),pe(ja),this};var Li=t.fillColor||"0 g";w.__private__.getFillColor=w.getFillColor=function(){return xe(Li)},w.__private__.setFillColor=w.setFillColor=function(j,Y,be,Se){return Li=Me({ch1:j,ch2:Y,ch3:be,ch4:Se,pdfColorType:"fill",precision:2}),pe(Li),this};var zn=t.textColor||"0 g",Hi=w.__private__.getTextColor=w.getTextColor=function(){return xe(zn)};w.__private__.setTextColor=w.setTextColor=function(j,Y,be,Se){return zn=Me({ch1:j,ch2:Y,ch3:be,ch4:Se,pdfColorType:"text",precision:3}),this};var Xa=t.charSpace,sl=w.__private__.getCharSpace=w.getCharSpace=function(){return parseFloat(Xa||0)};w.__private__.setCharSpace=w.setCharSpace=function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Xa=j,this};var jl=0;w.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},w.__private__.setLineCap=w.setLineCap=function(j){var Y=w.CapJoinStyles[j];if(Y===void 0)throw new Error("Line cap style of '"+j+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return jl=Y,pe(Y+" J"),this};var Ms=0;w.__private__.setLineJoin=w.setLineJoin=function(j){var Y=w.CapJoinStyles[j];if(Y===void 0)throw new Error("Line join style of '"+j+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ms=Y,pe(Y+" j"),this},w.__private__.setLineMiterLimit=w.__private__.setMiterLimit=w.setLineMiterLimit=w.setMiterLimit=function(j){if(j=j||0,isNaN(j))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return pe(te(ae(j))+" M"),this},w.GState=gm,w.setGState=function(j){(j=typeof j=="string"?Mt[er[j]]:hi(null,j)).equals(Ue)||(pe("/"+j.id+" gs"),Ue=j)};var hi=function(j,Y){if(!j||!er[j]){var be=!1;for(var Se in Mt)if(Mt.hasOwnProperty(Se)&&Mt[Se].equals(Y)){be=!0;break}if(be)Y=Mt[Se];else{var Qe="GS"+(Object.keys(Mt).length+1).toString(10);Mt[Qe]=Y,Y.id=Qe}return j&&(er[j]=Y.id),dt.publish("addGState",Y),Y}};w.addGState=function(j,Y){return hi(j,Y),this},w.saveGraphicsState=function(){return pe("q"),Ht.push({key:St,size:Ie,color:zn}),this},w.restoreGraphicsState=function(){pe("Q");var j=Ht.pop();return St=j.key,Ie=j.size,zn=j.color,Ue=null,this},w.setCurrentTransformationMatrix=function(j){return pe(j.toString()+" cm"),this},w.comment=function(j){return pe("#"+j),this};var fi=function(j,Y){var be=j||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return be},set:function(ot){isNaN(ot)||(be=parseFloat(ot))}});var Se=Y||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Se},set:function(ot){isNaN(ot)||(Se=parseFloat(ot))}});var Qe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Qe},set:function(ot){Qe=ot.toString()}}),this},qi=function(j,Y,be,Se){fi.call(this,j,Y),this.type="rect";var Qe=be||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Qe},set:function(vt){isNaN(vt)||(Qe=parseFloat(vt))}});var ot=Se||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ot},set:function(vt){isNaN(vt)||(ot=parseFloat(vt))}}),this},en=function(){this.page=Xe,this.currentPage=G,this.pages=Ke.slice(0),this.pagesContext=at.slice(0),this.x=Tt,this.y=Vr,this.matrix=gr,this.width=Ya(G),this.height=oA(G),this.outputDestination=ft,this.id="",this.objectNumber=-1};en.prototype.restore=function(){Xe=this.page,G=this.currentPage,at=this.pagesContext,Ke=this.pages,Tt=this.x,Vr=this.y,gr=this.matrix,Ro(G,this.width),Fi(G,this.height),ft=this.outputDestination};var al=function(j,Y,be,Se,Qe){yn.push(new en),Xe=G=0,Ke=[],Tt=j,Vr=Y,gr=Qe,yr([be,Se])};for(var Ps in w.beginFormObject=function(j,Y,be,Se,Qe){return al(j,Y,be,Se,Qe),this},w.endFormObject=function(j){return(function(Y){if(br[Y])yn.pop().restore();else{var be=new en,Se="Xo"+(Object.keys(Jt).length+1).toString(10);be.id=Se,br[Y]=Se,Jt[Se]=be,dt.publish("addFormObject",be),yn.pop().restore()}})(j),this},w.doFormObject=function(j,Y){var be=Jt[br[j]];return pe("q"),pe(Y.toString()+" cm"),pe("/"+be.id+" Do"),pe("Q"),this},w.getFormObject=function(j){var Y=Jt[br[j]];return{x:Y.x,y:Y.y,width:Y.width,height:Y.height,matrix:Y.matrix}},w.save=function(j,Y){return j=j||"generated.pdf",(Y=Y||{}).returnPromise=Y.returnPromise||!1,Y.returnPromise===!1?(Mc(Er(Rs()),j),typeof Mc.unload=="function"&&Gr.setTimeout&&setTimeout(Mc.unload,911),this):new Promise(function(be,Se){try{var Qe=Mc(Er(Rs()),j);typeof Mc.unload=="function"&&Gr.setTimeout&&setTimeout(Mc.unload,911),be(Qe)}catch(ot){Se(ot.message)}})},Nr.API)Nr.API.hasOwnProperty(Ps)&&(Ps==="events"&&Nr.API.events.length?(function(j,Y){var be,Se,Qe;for(Qe=Y.length-1;Qe!==-1;Qe--)be=Y[Qe][0],Se=Y[Qe][1],j.subscribe.apply(j,[be].concat(typeof Se=="function"?[Se]:Se))})(dt,Nr.API.events):w[Ps]=Nr.API[Ps]);function Ya(j){return at[j].mediaBox.topRightX-at[j].mediaBox.bottomLeftX}function Ro(j,Y){at[j].mediaBox.topRightX=Y+at[j].mediaBox.bottomLeftX}function oA(j){return at[j].mediaBox.topRightY-at[j].mediaBox.bottomLeftY}function Fi(j,Y){at[j].mediaBox.topRightY=Y+at[j].mediaBox.bottomLeftY}var po=w.getPageWidth=function(j){return Ya(j=j||G)/Zt},lA=w.setPageWidth=function(j,Y){Ro(j,Y*Zt)},mo=w.getPageHeight=function(j){return oA(j=j||G)/Zt},RA=w.setPageHeight=function(j,Y){Fi(j,Y*Zt)};return w.internal={pdfEscape:Xt,getStyle:Rr,getFont:Gs,getFontSize:Lt,getCharSpace:sl,getTextColor:Hi,getLineHeight:$a,getLineHeightFactor:iA,getLineWidth:Oo,write:Ct,getHorizontalCoordinate:Sa,getVerticalCoordinate:Ds,getCoordinateString:nl,getVerticalCoordinateString:Za,collections:{},newObject:Pr,newAdditionalObject:fe,newObjectDeferred:Ut,newObjectDeferredBegin:nn,getFilters:We,putStream:yt,events:dt,scaleFactor:Zt,pageSize:{getWidth:function(){return po(G)},setWidth:function(j){lA(G,j)},getHeight:function(){return mo(G)},setHeight:function(j){RA(G,j)}},encryptionOptions:g,encryption:ln,getEncryptor:function(j){return g!==null?ln.encryptor(j,0):function(Y){return Y}},output:wr,getNumberOfPages:Zr,get pages(){return Ke},out:pe,f2:Z,f3:W,getPageInfo:Be,getPageInfoByObjId:st,getCurrentPageInfo:Et,getPDFVersion:U,Point:fi,Rectangle:qi,Matrix:kt,hasHotfix:cn},Object.defineProperty(w.internal.pageSize,"width",{get:function(){return po(G)},set:function(j){lA(G,j)},enumerable:!0,configurable:!0}),Object.defineProperty(w.internal.pageSize,"height",{get:function(){return mo(G)},set:function(j){RA(G,j)},enumerable:!0,configurable:!0}),(function(j){for(var Y=0,be=zt.length;Y<be;Y++){var Se=wt.call(this,j[Y][0],j[Y][1],j[Y][2],zt[Y][3],!0);b===!1&&(N[Se]=!0);var Qe=j[Y][0].split("-");it({id:Se,fontName:Qe[0],fontStyle:Qe[1]||""})}dt.publish("addFonts",{fonts:Vt,dictionary:or})}).call(w,zt),St="F1",qr(i,r),dt.publish("initialized"),w}td.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},td.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},td.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},td.prototype.processOwnerPassword=function(t,e){return vb(bb(e).substr(0,5),t)},td.prototype.encryptor=function(t,e){var r=bb(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return vb(r,n)}},gm.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||Wn(t)!==Wn(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},Nr.API={events:[]},Nr.version="3.0.4";var ra=Nr.API,dv=1,Au=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},qu=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Jr=function(t){return t.toFixed(2)},lc=function(t){return t.toFixed(5)};ra.__acroform__={};var ho=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},s_=function(t){return t*dv},Wl=function(t){var e=new zN,r=mr.internal.getHeight(t)||0,n=mr.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Jr(n)),Number(Jr(r))],e},cQ=ra.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},uQ=ra.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},dQ=ra.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},ma=ra.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return dQ(t,e-1)},ga=ra.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return cQ(t,e-1)},xa=ra.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return uQ(t,e-1)},hQ=ra.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=t[0],l=t[1],u=t[2],d=t[3],h={};return h.lowerLeft_X=r(i)||0,h.lowerLeft_Y=n(l+d)||0,h.upperRight_X=r(i+u)||0,h.upperRight_Y=n(l)||0,[Number(Jr(h.lowerLeft_X)),Number(Jr(h.lowerLeft_Y)),Number(Jr(h.upperRight_X)),Number(Jr(h.upperRight_Y))]},fQ=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=yb(t,r),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+Jr(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var l=Wl(t);return l.scope=t.scope,l.stream=e.join(`
`),l}},yb=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(Z){return Z.split(`
`)}):i.map(function(Z){return[Z]});var l=r,u=mr.internal.getHeight(t)||0;u=u<0?-u:u;var d=mr.internal.getWidth(t)||0;d=d<0?-d:d;var h=function(Z,W,ae){if(Z+1<i.length){var K=W+" "+i[Z+1][0];return Np(K,t,ae).width<=d-4}return!1};l++;e:for(;l>0;){e="",l--;var m,g,b=Np("3",t,l).height,N=t.multiline?u-l:(u-b)/2,w=N+=2,C=0,U=0,T=0;if(l<=0){e=`(...) Tj
`,e+="% Width of Text: "+Np(e,t,l=12).width+", FieldWidth:"+d+`
`;break}for(var S="",I=0,O=0;O<i.length;O++)if(i.hasOwnProperty(O)){var M=!1;if(i[O].length!==1&&T!==i[O].length-1){if((b+2)*(I+2)+2>u)continue e;S+=i[O][T],M=!0,U=O,O--}else{S=(S+=i[O][T]+" ").substr(S.length-1)==" "?S.substr(0,S.length-1):S;var ne=parseInt(O),z=h(ne,S,l),oe=O>=i.length-1;if(z&&!oe){S+=" ",T=0;continue}if(z||oe){if(oe)U=ne;else if(t.multiline&&(b+2)*(I+2)+2>u)continue e}else{if(!t.multiline||(b+2)*(I+2)+2>u)continue e;U=ne}}for(var te="",X=C;X<=U;X++){var ge=i[X];if(t.multiline){if(X===U){te+=ge[T]+" ",T=(T+1)%ge.length;continue}if(X===C){te+=ge[ge.length-1]+" ";continue}}te+=ge[0]+" "}switch(te=te.substr(te.length-1)==" "?te.substr(0,te.length-1):te,g=Np(te,t,l).width,t.textAlign){case"right":m=d-g-2;break;case"center":m=(d-g)/2;break;default:m=2}e+=Jr(m)+" "+Jr(w)+` Td
`,e+="("+Au(te)+`) Tj
`,e+=-Jr(m)+` 0 Td
`,w=-(l+2),g=0,C=M?U:U+1,I++,S=""}break}return n.text=e,n.fontSize=l,n},Np=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},pQ={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},mQ=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},gQ=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Cl.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(pQ)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");dv=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new KN,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var l=n[i];l.objId=void 0,l.hasAnnotation&&mQ(l,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,i){var l=!n;for(var u in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(u)){var d=n[u],h=[],m=d.Rect;if(d.Rect&&(d.Rect=hQ(d.Rect,i)),i.internal.newObjectDeferredBegin(d.objId,!0),d.DA=mr.createDefaultAppearanceStream(d),Wn(d)==="object"&&typeof d.getKeyValueListForStream=="function"&&(h=d.getKeyValueListForStream()),d.Rect=m,d.hasAppearanceStream&&!d.appearanceStreamContent){var g=fQ(d);h.push({key:"AP",value:"<</N "+g+">>"}),i.internal.acroformPlugin.xForms.push(g)}if(d.appearanceStreamContent){var b="";for(var N in d.appearanceStreamContent)if(d.appearanceStreamContent.hasOwnProperty(N)){var w=d.appearanceStreamContent[N];if(b+="/"+N+" ",b+="<<",Object.keys(w).length>=1||Array.isArray(w)){for(var u in w)if(w.hasOwnProperty(u)){var C=w[u];typeof C=="function"&&(C=C.call(i,d)),b+="/"+u+" "+C+" ",i.internal.acroformPlugin.xForms.indexOf(C)>=0||i.internal.acroformPlugin.xForms.push(C)}}else typeof(C=w)=="function"&&(C=C.call(i,d)),b+="/"+u+" "+C,i.internal.acroformPlugin.xForms.indexOf(C)>=0||i.internal.acroformPlugin.xForms.push(C);b+=">>"}h.push({key:"AP",value:`<<
`+b+">>"})}i.internal.putStream({additionalKeyValues:h,objectId:d.objId}),i.internal.out("endobj")}l&&(function(U,T){for(var S in U)if(U.hasOwnProperty(S)){var I=S,O=U[S];T.internal.newObjectDeferredBegin(O.objId,!0),Wn(O)==="object"&&typeof O.putStream=="function"&&O.putStream(),delete U[I]}})(i.internal.acroformPlugin.xForms,i)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},qN=ra.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(u){return u};if(Array.isArray(t)){for(var i="[",l=0;l<t.length;l++)switch(l!==0&&(i+=" "),Wn(t[l])){case"boolean":case"number":case"object":i+=t[l].toString();break;case"string":t[l].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),i+="("+Au(n(t[l].toString()))+")"):i+=t[l].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},sx=function(t,e,r){var n=function(i){return i};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),"("+Au(n(t))+")"},eA=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};eA.prototype.toString=function(){return this.objId+" 0 R"},eA.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},eA.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(l){return l!="content"&&l!="appearanceStreamContent"&&l!="scope"&&l!="objId"&&l.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],i=this[n];i&&(Array.isArray(i)?t.push({key:n,value:qN(i,this.objId,this.scope)}):i instanceof eA?(i.scope=this.scope,t.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:n,value:i}))}return t};var zN=function(){eA.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};ho(zN,eA);var KN=function(){eA.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Au(r(t))+")"}},set:function(r){t=r}})};ho(KN,eA);var Cl=function t(){eA.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(S){if(isNaN(S))throw new Error('Invalid value "'+S+'" for attribute F supplied.');e=S}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ma(e,3)},set:function(S){S?this.F=ga(e,3):this.F=xa(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(S){if(isNaN(S))throw new Error('Invalid value "'+S+'" for attribute Ff supplied.');r=S}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(S){n=S!==void 0?S:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(S){n[0]=S}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(S){n[1]=S}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(S){n[2]=S}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(S){n[3]=S}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(S){switch(S){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=S;break;default:throw new Error('Invalid value "'+S+'" for attribute FT supplied.')}}});var l=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!l||l.length<1){if(this instanceof xm)return;l="FieldObject"+t.FieldNum++}var S=function(I){return I};return this.scope&&(S=this.scope.internal.getEncryptor(this.objId)),"("+Au(S(l))+")"},set:function(S){l=S.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return l},set:function(S){l=S}});var u="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return u},set:function(S){u=S}});var d="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return d},set:function(S){d=S}});var h=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return h},set:function(S){h=S}});var m=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return m===void 0?50/dv:m},set:function(S){m=S}});var g="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return g},set:function(S){g=S}});var b="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!b||this instanceof xm||this instanceof ru))return sx(b,this.objId,this.scope)},set:function(S){S=S.toString(),b=S}});var N=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(N)return this instanceof Va==0?sx(N,this.objId,this.scope):N},set:function(S){S=S.toString(),N=this instanceof Va==0?S.substr(0,1)==="("?qu(S.substr(1,S.length-2)):qu(S):S}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Va==1?qu(N.substr(1,N.length-1)):N},set:function(S){S=S.toString(),N=this instanceof Va==1?"/"+S:S}});var w=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(w)return w},set:function(S){this.V=S}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(w)return this instanceof Va==0?sx(w,this.objId,this.scope):w},set:function(S){S=S.toString(),w=this instanceof Va==0?S.substr(0,1)==="("?qu(S.substr(1,S.length-2)):qu(S):S}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Va==1?qu(w.substr(1,w.length-1)):w},set:function(S){S=S.toString(),w=this instanceof Va==1?"/"+S:S}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var C,U=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return U},set:function(S){S=!!S,U=S}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(C)return C},set:function(S){C=S}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ma(this.Ff,1)},set:function(S){S?this.Ff=ga(this.Ff,1):this.Ff=xa(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ma(this.Ff,2)},set:function(S){S?this.Ff=ga(this.Ff,2):this.Ff=xa(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ma(this.Ff,3)},set:function(S){S?this.Ff=ga(this.Ff,3):this.Ff=xa(this.Ff,3)}});var T=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(T!==null)return T},set:function(S){if([0,1,2].indexOf(S)===-1)throw new Error('Invalid value "'+S+'" for attribute Q supplied.');T=S}}),Object.defineProperty(this,"textAlign",{get:function(){var S;switch(T){case 0:default:S="left";break;case 1:S="center";break;case 2:S="right"}return S},configurable:!0,enumerable:!0,set:function(S){switch(S){case"right":case 2:T=2;break;case"center":case 1:T=1;break;default:T=0}}})};ho(Cl,eA);var cd=function(){Cl.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return qN(e,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=(function(l,u,d){d||(d=1);for(var h,m=[];h=u.exec(l);)m.push(h[d]);return m})(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ma(this.Ff,18)},set:function(r){r?this.Ff=ga(this.Ff,18):this.Ff=xa(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ma(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=ga(this.Ff,19):this.Ff=xa(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ma(this.Ff,20)},set:function(r){r?(this.Ff=ga(this.Ff,20),e.sort()):this.Ff=xa(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ma(this.Ff,22)},set:function(r){r?this.Ff=ga(this.Ff,22):this.Ff=xa(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ma(this.Ff,23)},set:function(r){r?this.Ff=ga(this.Ff,23):this.Ff=xa(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ma(this.Ff,27)},set:function(r){r?this.Ff=ga(this.Ff,27):this.Ff=xa(this.Ff,27)}}),this.hasAppearanceStream=!1};ho(cd,Cl);var ud=function(){cd.call(this),this.fontName="helvetica",this.combo=!1};ho(ud,cd);var dd=function(){ud.call(this),this.combo=!0};ho(dd,ud);var Zp=function(){dd.call(this),this.edit=!0};ho(Zp,dd);var Va=function(){Cl.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ma(this.Ff,15)},set:function(r){r?this.Ff=ga(this.Ff,15):this.Ff=xa(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ma(this.Ff,16)},set:function(r){r?this.Ff=ga(this.Ff,16):this.Ff=xa(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ma(this.Ff,17)},set:function(r){r?this.Ff=ga(this.Ff,17):this.Ff=xa(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ma(this.Ff,26)},set:function(r){r?this.Ff=ga(this.Ff,26):this.Ff=xa(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(l){return l};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+Au(r(e[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){Wn(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};ho(Va,Cl);var Xp=function(){Va.call(this),this.pushButton=!0};ho(Xp,Va);var hd=function(){Va.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};ho(hd,Va);var xm=function(){var t,e;Cl.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(d){return d};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var l,u=[];for(l in u.push("<<"),n)u.push("/"+l+" ("+Au(i(n[l]))+")");return u.push(">>"),u.join(`
`)},set:function(i){Wn(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=mr.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ho(xm,Cl),hd.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},hd.prototype.createOption=function(t){var e=new xm;return e.Parent=this,e.optionName=t,this.Kids.push(e),xQ.call(this.scope,e),e};var Yp=function(){Va.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=mr.CheckBox.createAppearanceStream()};ho(Yp,Va);var ru=function(){Cl.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ma(this.Ff,13)},set:function(e){e?this.Ff=ga(this.Ff,13):this.Ff=xa(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ma(this.Ff,21)},set:function(e){e?this.Ff=ga(this.Ff,21):this.Ff=xa(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ma(this.Ff,23)},set:function(e){e?this.Ff=ga(this.Ff,23):this.Ff=xa(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ma(this.Ff,24)},set:function(e){e?this.Ff=ga(this.Ff,24):this.Ff=xa(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ma(this.Ff,25)},set:function(e){e?this.Ff=ga(this.Ff,25):this.Ff=xa(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ma(this.Ff,26)},set:function(e){e?this.Ff=ga(this.Ff,26):this.Ff=xa(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ho(ru,Cl);var Jp=function(){ru.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ma(this.Ff,14)},set:function(t){t?this.Ff=ga(this.Ff,14):this.Ff=xa(this.Ff,14)}}),this.password=!0};ho(Jp,ru);var mr={CheckBox:{createAppearanceStream:function(){return{N:{On:mr.CheckBox.YesNormal},D:{On:mr.CheckBox.YesPushDown,Off:mr.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Wl(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),l=yb(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+Jr(mr.internal.getWidth(t))+" "+Jr(mr.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Jr(l.fontSize)+" Tf "+i),r.push("BT"),r.push(l.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=Wl(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),i=[],l=mr.internal.getHeight(t),u=mr.internal.getWidth(t),d=yb(t,t.caption);return i.push("1 g"),i.push("0 0 "+Jr(u)+" "+Jr(l)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Jr(u-1)+" "+Jr(l-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+Jr(d.fontSize)+" Tf "+n),i.push(d.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Wl(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Jr(mr.internal.getWidth(t))+" "+Jr(mr.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:mr.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=mr.RadioButton.Circle.YesNormal,e.D[t]=mr.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Wl(t);e.scope=t.scope;var r=[],n=mr.internal.getWidth(t)<=mr.internal.getHeight(t)?mr.internal.getWidth(t)/4:mr.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=mr.internal.Bezier_C,l=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+lc(mr.internal.getWidth(t)/2)+" "+lc(mr.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+l+" "+l+" "+n+" 0 "+n+" c"),r.push("-"+l+" "+n+" -"+n+" "+l+" -"+n+" 0 c"),r.push("-"+n+" -"+l+" -"+l+" -"+n+" 0 -"+n+" c"),r.push(l+" -"+n+" "+n+" -"+l+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Wl(t);e.scope=t.scope;var r=[],n=mr.internal.getWidth(t)<=mr.internal.getHeight(t)?mr.internal.getWidth(t)/4:mr.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),l=Number((i*mr.internal.Bezier_C).toFixed(5)),u=Number((n*mr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+lc(mr.internal.getWidth(t)/2)+" "+lc(mr.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+l+" "+l+" "+i+" 0 "+i+" c"),r.push("-"+l+" "+i+" -"+i+" "+l+" -"+i+" 0 c"),r.push("-"+i+" -"+l+" -"+l+" -"+i+" 0 -"+i+" c"),r.push(l+" -"+i+" "+i+" -"+l+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+lc(mr.internal.getWidth(t)/2)+" "+lc(mr.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+u+" "+u+" "+n+" 0 "+n+" c"),r.push("-"+u+" "+n+" -"+n+" "+u+" -"+n+" 0 c"),r.push("-"+n+" -"+u+" -"+u+" -"+n+" 0 -"+n+" c"),r.push(u+" -"+n+" "+n+" -"+u+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Wl(t);e.scope=t.scope;var r=[],n=mr.internal.getWidth(t)<=mr.internal.getHeight(t)?mr.internal.getWidth(t)/4:mr.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),l=Number((i*mr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+lc(mr.internal.getWidth(t)/2)+" "+lc(mr.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+l+" "+l+" "+i+" 0 "+i+" c"),r.push("-"+l+" "+i+" -"+i+" "+l+" -"+i+" 0 c"),r.push("-"+i+" -"+l+" -"+l+" -"+i+" 0 -"+i+" c"),r.push(l+" -"+i+" "+i+" -"+l+" "+i+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:mr.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=mr.RadioButton.Cross.YesNormal,e.D[t]=mr.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Wl(t);e.scope=t.scope;var r=[],n=mr.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+Jr(mr.internal.getWidth(t)-2)+" "+Jr(mr.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Jr(n.x1.x)+" "+Jr(n.x1.y)+" m"),r.push(Jr(n.x2.x)+" "+Jr(n.x2.y)+" l"),r.push(Jr(n.x4.x)+" "+Jr(n.x4.y)+" m"),r.push(Jr(n.x3.x)+" "+Jr(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Wl(t);e.scope=t.scope;var r=mr.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+Jr(mr.internal.getWidth(t))+" "+Jr(mr.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Jr(mr.internal.getWidth(t)-2)+" "+Jr(mr.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Jr(r.x1.x)+" "+Jr(r.x1.y)+" m"),n.push(Jr(r.x2.x)+" "+Jr(r.x2.y)+" l"),n.push(Jr(r.x4.x)+" "+Jr(r.x4.y)+" m"),n.push(Jr(r.x3.x)+" "+Jr(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Wl(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Jr(mr.internal.getWidth(t))+" "+Jr(mr.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};mr.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=mr.internal.getWidth(t),r=mr.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},mr.internal.getWidth=function(t){var e=0;return Wn(t)==="object"&&(e=s_(t.Rect[2])),e},mr.internal.getHeight=function(t){var e=0;return Wn(t)==="object"&&(e=s_(t.Rect[3])),e};var xQ=ra.addField=function(t){if(gQ(this,t),!(t instanceof Cl))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};ra.AcroFormChoiceField=cd,ra.AcroFormListBox=ud,ra.AcroFormComboBox=dd,ra.AcroFormEditBox=Zp,ra.AcroFormButton=Va,ra.AcroFormPushButton=Xp,ra.AcroFormRadioButton=hd,ra.AcroFormCheckBox=Yp,ra.AcroFormTextField=ru,ra.AcroFormPasswordField=Jp,ra.AcroFormAppearance=mr,ra.AcroForm={ChoiceField:cd,ListBox:ud,ComboBox:dd,EditBox:Zp,Button:Va,PushButton:Xp,RadioButton:hd,CheckBox:Yp,TextField:ru,PasswordField:Jp,Appearance:mr},Nr.AcroForm={ChoiceField:cd,ListBox:ud,ComboBox:dd,EditBox:Zp,Button:Va,PushButton:Xp,RadioButton:hd,CheckBox:Yp,TextField:ru,PasswordField:Jp,Appearance:mr};Nr.AcroForm;function GN(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){var e="addImage_";t.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(Z,W){var ae,K,ue,Q,Ae,ee=r;if((W=W||r)==="RGBA"||Z.data!==void 0&&Z.data instanceof Uint8ClampedArray&&"height"in Z&&"width"in Z)return"RGBA";if(z(Z))for(Ae in n)for(ue=n[Ae],ae=0;ae<ue.length;ae+=1){for(Q=!0,K=0;K<ue[ae].length;K+=1)if(ue[ae][K]!==void 0&&ue[ae][K]!==Z[K]){Q=!1;break}if(Q===!0){ee=Ae;break}}else for(Ae in n)for(ue=n[Ae],ae=0;ae<ue.length;ae+=1){for(Q=!0,K=0;K<ue[ae].length;K+=1)if(ue[ae][K]!==void 0&&ue[ae][K]!==Z.charCodeAt(K)){Q=!1;break}if(Q===!0){ee=Ae;break}}return ee===r&&W!==r&&(ee=W),ee},l=function Z(W){for(var ae=this.internal.write,K=this.internal.putStream,ue=(0,this.internal.getFilters)();ue.indexOf("FlateEncode")!==-1;)ue.splice(ue.indexOf("FlateEncode"),1);W.objectId=this.internal.newObject();var Q=[];if(Q.push({key:"Type",value:"/XObject"}),Q.push({key:"Subtype",value:"/Image"}),Q.push({key:"Width",value:W.width}),Q.push({key:"Height",value:W.height}),W.colorSpace===S.INDEXED?Q.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(W.palette.length/3-1)+" "+("sMask"in W&&W.sMask!==void 0?W.objectId+2:W.objectId+1)+" 0 R]"}):(Q.push({key:"ColorSpace",value:"/"+W.colorSpace}),W.colorSpace===S.DEVICE_CMYK&&Q.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Q.push({key:"BitsPerComponent",value:W.bitsPerComponent}),"decodeParameters"in W&&W.decodeParameters!==void 0&&Q.push({key:"DecodeParms",value:"<<"+W.decodeParameters+">>"}),"transparency"in W&&Array.isArray(W.transparency)&&W.transparency.length>0){for(var Ae="",ee=0,_e=W.transparency.length;ee<_e;ee++)Ae+=W.transparency[ee]+" "+W.transparency[ee]+" ";Q.push({key:"Mask",value:"["+Ae+"]"})}W.sMask!==void 0&&Q.push({key:"SMask",value:W.objectId+1+" 0 R"});var Ne=W.filter!==void 0?["/"+W.filter]:void 0;if(K({data:W.data,additionalKeyValues:Q,alreadyAppliedFilters:Ne,objectId:W.objectId}),ae("endobj"),"sMask"in W&&W.sMask!==void 0){var q,F=(q=W.sMaskBitsPerComponent)!==null&&q!==void 0?q:W.bitsPerComponent,G={width:W.width,height:W.height,colorSpace:"DeviceGray",bitsPerComponent:F,data:W.sMask};"filter"in W&&(G.decodeParameters="/Predictor ".concat(W.predictor," /Colors 1 /BitsPerComponent ").concat(F," /Columns ").concat(W.width),G.filter=W.filter),Z.call(this,G)}if(W.colorSpace===S.INDEXED){var $=this.internal.newObject();K({data:te(new Uint8Array(W.palette)),objectId:$}),ae("endobj")}},u=function(){var Z=this.internal.collections[e+"images"];for(var W in Z)l.call(this,Z[W])},d=function(){var Z,W=this.internal.collections[e+"images"],ae=this.internal.write;for(var K in W)ae("/I"+(Z=W[K]).index,Z.objectId,"0","R")},h=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",u),this.internal.events.subscribe("putXobjectDict",d))},m=function(){var Z=this.internal.collections[e+"images"];return h.call(this),Z},g=function(){return Object.keys(this.internal.collections[e+"images"]).length},b=function(Z){return typeof t["process"+Z.toUpperCase()]=="function"},N=function(Z){return Wn(Z)==="object"&&Z.nodeType===1},w=function(Z,W){if(Z.nodeName==="IMG"&&Z.hasAttribute("src")){var ae=""+Z.getAttribute("src");if(ae.indexOf("data:image/")===0)return $p(unescape(ae).split("base64,").pop());var K=t.loadFile(ae,!0);if(K!==void 0)return K}if(Z.nodeName==="CANVAS"){if(Z.width===0||Z.height===0)throw new Error("Given canvas must have data. Canvas width: "+Z.width+", height: "+Z.height);var ue;switch(W){case"PNG":ue="image/png";break;case"WEBP":ue="image/webp";break;default:ue="image/jpeg"}return $p(Z.toDataURL(ue,1).split("base64,").pop())}},C=function(Z){var W=this.internal.collections[e+"images"];if(W){for(var ae in W)if(Z===W[ae].alias)return W[ae]}},U=function(Z,W,ae){return Z||W||(Z=-96,W=-96),Z<0&&(Z=-1*ae.width*72/Z/this.internal.scaleFactor),W<0&&(W=-1*ae.height*72/W/this.internal.scaleFactor),Z===0&&(Z=W*ae.width/ae.height),W===0&&(W=Z*ae.height/ae.width),[Z,W]},T=function(Z,W,ae,K,ue,Q){var Ae=U.call(this,ae,K,ue),ee=this.internal.getCoordinateString,_e=this.internal.getVerticalCoordinateString,Ne=m.call(this);if(ae=Ae[0],K=Ae[1],Ne[ue.index]=ue,Q){Q*=Math.PI/180;var q=Math.cos(Q),F=Math.sin(Q),G=function(V){return V.toFixed(4)},$=[G(q),G(F),G(-1*F),G(q),0,0,"cm"]}this.internal.write("q"),Q?(this.internal.write([1,"0","0",1,ee(Z),_e(W+K),"cm"].join(" ")),this.internal.write($.join(" ")),this.internal.write([ee(ae),"0","0",ee(K),"0","0","cm"].join(" "))):this.internal.write([ee(ae),"0","0",ee(K),ee(Z),_e(W+K),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ue.index+" Do"),this.internal.write("Q")},S=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var I=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},O=t.__addimage__.sHashCode=function(Z){var W,ae,K=0;if(typeof Z=="string")for(ae=Z.length,W=0;W<ae;W++)K=(K<<5)-K+Z.charCodeAt(W),K|=0;else if(z(Z))for(ae=Z.byteLength/2,W=0;W<ae;W++)K=(K<<5)-K+Z[W],K|=0;return K},M=t.__addimage__.validateStringAsBase64=function(Z){(Z=Z||"").toString().trim();var W=!0;return Z.length===0&&(W=!1),Z.length%4!=0&&(W=!1),/^[A-Za-z0-9+/]+$/.test(Z.substr(0,Z.length-2))===!1&&(W=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(Z.substr(-2))===!1&&(W=!1),W},ne=t.__addimage__.extractImageFromDataUrl=function(Z){if(Z==null||!(Z=Z.trim()).startsWith("data:"))return null;var W=Z.indexOf(",");return W<0?null:Z.substring(0,W).trim().endsWith("base64")?Z.substring(W+1):null};t.__addimage__.isArrayBuffer=function(Z){return Z instanceof ArrayBuffer};var z=t.__addimage__.isArrayBufferView=function(Z){return Z instanceof Int8Array||Z instanceof Uint8Array||Z instanceof Uint8ClampedArray||Z instanceof Int16Array||Z instanceof Uint16Array||Z instanceof Int32Array||Z instanceof Uint32Array||Z instanceof Float32Array||Z instanceof Float64Array},oe=t.__addimage__.binaryStringToUint8Array=function(Z){for(var W=Z.length,ae=new Uint8Array(W),K=0;K<W;K++)ae[K]=Z.charCodeAt(K);return ae},te=t.__addimage__.arrayBufferToBinaryString=function(Z){for(var W="",ae=z(Z)?Z:new Uint8Array(Z),K=0;K<ae.length;K+=8192)W+=String.fromCharCode.apply(null,ae.subarray(K,K+8192));return W};t.addImage=function(){var Z,W,ae,K,ue,Q,Ae,ee,_e;if(typeof arguments[1]=="number"?(W=r,ae=arguments[1],K=arguments[2],ue=arguments[3],Q=arguments[4],Ae=arguments[5],ee=arguments[6],_e=arguments[7]):(W=arguments[1],ae=arguments[2],K=arguments[3],ue=arguments[4],Q=arguments[5],Ae=arguments[6],ee=arguments[7],_e=arguments[8]),Wn(Z=arguments[0])==="object"&&!N(Z)&&"imageData"in Z){var Ne=Z;Z=Ne.imageData,W=Ne.format||W||r,ae=Ne.x||ae||0,K=Ne.y||K||0,ue=Ne.w||Ne.width||ue,Q=Ne.h||Ne.height||Q,Ae=Ne.alias||Ae,ee=Ne.compression||ee,_e=Ne.rotation||Ne.angle||_e}var q=this.internal.getFilters();if(ee===void 0&&q.indexOf("FlateEncode")!==-1&&(ee="SLOW"),isNaN(ae)||isNaN(K))throw new Error("Invalid coordinates passed to jsPDF.addImage");h.call(this);var F=X.call(this,Z,W,Ae,ee);return T.call(this,ae,K,ue,Q,F,_e),this};var X=function(Z,W,ae,K){var ue,Q,Ae;if(typeof Z=="string"&&i(Z)===r){Z=unescape(Z);var ee=ge(Z,!1);(ee!==""||(ee=t.loadFile(Z,!0))!==void 0)&&(Z=ee)}if(N(Z)&&(Z=w(Z,W)),W=i(Z,W),!b(W))throw new Error("addImage does not support files of type '"+W+"', please ensure that a plugin for '"+W+"' support is added.");if(((Ae=ae)==null||Ae.length===0)&&(ae=(function(_e){return typeof _e=="string"||z(_e)?O(_e):z(_e.data)?O(_e.data):null})(Z)),(ue=C.call(this,ae))||(Z instanceof Uint8Array||W==="RGBA"||(Q=Z,Z=oe(Z)),ue=this["process"+W.toUpperCase()](Z,g.call(this),ae,(function(_e){return _e&&typeof _e=="string"&&(_e=_e.toUpperCase()),_e in t.image_compression?_e:I.NONE})(K),Q)),!ue)throw new Error("An unknown error occurred whilst processing the image.");return ue},ge=t.__addimage__.convertBase64ToBinaryString=function(Z,W){W=typeof W!="boolean"||W;var ae,K="";if(typeof Z=="string"){var ue;ae=(ue=ne(Z))!==null&&ue!==void 0?ue:Z;try{K=$p(ae)}catch(Q){if(W)throw M(ae)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Q.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return K};t.getImageProperties=function(Z){var W,ae,K="";if(N(Z)&&(Z=w(Z)),typeof Z=="string"&&i(Z)===r&&((K=ge(Z,!1))===""&&(K=t.loadFile(Z)||""),Z=K),ae=i(Z),!b(ae))throw new Error("addImage does not support files of type '"+ae+"', please ensure that a plugin for '"+ae+"' support is added.");if(Z instanceof Uint8Array||(Z=oe(Z)),!(W=this["process"+ae.toUpperCase()](Z)))throw new Error("An unknown error occurred whilst processing the image");return W.fileType=ae,W}})(Nr.API),(function(t){var e=function(r){if(r!==void 0&&r!="")return!0};Nr.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,i,l,u=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString,h=this.internal.getPageInfoByObjId(r.objId),m=r.pageContext.annotations,g=!1,b=0;b<m.length&&!g;b++)switch((n=m[b]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(g=!0);break;case"reference":case"text":case"freetext":g=!0}if(g!=0){this.internal.write("/Annots [");for(var N=0;N<m.length;N++){n=m[N];var w=this.internal.pdfEscape,C=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var U=this.internal.newAdditionalObject(),T=this.internal.newAdditionalObject(),S=this.internal.getEncryptor(U.objId),I=n.title||"Note";l="<</Type /Annot /Subtype /Text "+(i="/Rect ["+u(n.bounds.x)+" "+d(n.bounds.y+n.bounds.h)+" "+u(n.bounds.x+n.bounds.w)+" "+d(n.bounds.y)+"] ")+"/Contents ("+w(S(n.contents))+")",l+=" /Popup "+T.objId+" 0 R",l+=" /P "+h.objId+" 0 R",l+=" /T ("+w(S(I))+") >>",U.content=l;var O=U.objId+" 0 R";l="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+u(n.bounds.x+30)+" "+d(n.bounds.y+n.bounds.h)+" "+u(n.bounds.x+n.bounds.w+30)+" "+d(n.bounds.y)+"] ")+" /Parent "+O,n.open&&(l+=" /Open true"),l+=" >>",T.content=l,this.internal.write(U.objId,"0 R",T.objId,"0 R");break;case"freetext":i="/Rect ["+u(n.bounds.x)+" "+d(n.bounds.y)+" "+u(n.bounds.x+n.bounds.w)+" "+d(n.bounds.y+n.bounds.h)+"] ";var M=n.color||"#000000";l="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+w(C(n.contents))+")",l+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+M+")",l+=" /Border [0 0 0]",l+=" >>",this.internal.write(l);break;case"link":if(n.options.name){var ne=this.annotations._nameMap[n.options.name];n.options.pageNumber=ne.page,n.options.top=ne.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",l="",n.options.url)l="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+w(C(n.options.url))+") >>";else if(n.options.pageNumber)switch(l="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":l+=" /Fit]";break;case"FitH":l+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,l+=" /FitV "+n.options.left+"]";break;default:var z=d(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),l+=" /XYZ "+n.options.left+" "+z+" "+n.options.zoom+"]"}l!=""&&(l+=" >>",this.internal.write(l))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,i,l,u){var d=this.internal.getCurrentPageInfo(),h=this.internal.getCoordinateString,m=this.internal.getVerticalCoordinateString;d.pageContext.annotations.push({finalBounds:{x:h(r),y:m(n),w:h(r+i),h:m(n+l)},options:u,type:"link"})},t.textWithLink=function(r,n,i,l){var u,d,h=this.getTextWidth(r),m=this.internal.getLineHeight()/this.internal.scaleFactor;if(l.maxWidth!==void 0){d=l.maxWidth;var g=this.splitTextToSize(r,d).length;u=Math.ceil(m*g)}else d=h,u=m;return this.text(r,n,i,l),i+=.2*m,l.align==="center"&&(n-=h/2),l.align==="right"&&(n-=h),this.link(n,i-m,d,u,l),h},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}})(Nr.API),(function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var l=t.__arabicParser__.isInArabicSubstitutionA=function(U){return e[U.charCodeAt(0)]!==void 0},u=t.__arabicParser__.isArabicLetter=function(U){return typeof U=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(U)},d=t.__arabicParser__.isArabicEndLetter=function(U){return u(U)&&l(U)&&e[U.charCodeAt(0)].length<=2},h=t.__arabicParser__.isArabicAlfLetter=function(U){return u(U)&&i.indexOf(U.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(U){return u(U)&&l(U)&&e[U.charCodeAt(0)].length>=1};var m=t.__arabicParser__.arabicLetterHasFinalForm=function(U){return u(U)&&l(U)&&e[U.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(U){return u(U)&&l(U)&&e[U.charCodeAt(0)].length>=3};var g=t.__arabicParser__.arabicLetterHasMedialForm=function(U){return u(U)&&l(U)&&e[U.charCodeAt(0)].length==4},b=t.__arabicParser__.resolveLigatures=function(U){var T=0,S=r,I="",O=0;for(T=0;T<U.length;T+=1)S[U.charCodeAt(T)]!==void 0?(O++,typeof(S=S[U.charCodeAt(T)])=="number"&&(I+=String.fromCharCode(S),S=r,O=0),T===U.length-1&&(S=r,I+=U.charAt(T-(O-1)),T-=O-1,O=0)):(S=r,I+=U.charAt(T-O),T-=O,O=0);return I};t.__arabicParser__.isArabicDiacritic=function(U){return U!==void 0&&n[U.charCodeAt(0)]!==void 0};var N=t.__arabicParser__.getCorrectForm=function(U,T,S){return u(U)?l(U)===!1?-1:!m(U)||!u(T)&&!u(S)||!u(S)&&d(T)||d(U)&&!u(T)||d(U)&&h(T)||d(U)&&d(T)?0:g(U)&&u(T)&&!d(T)&&u(S)&&m(S)?3:d(U)||!u(S)?1:2:-1},w=function(U){var T=0,S=0,I=0,O="",M="",ne="",z=(U=U||"").split("\\s+"),oe=[];for(T=0;T<z.length;T+=1){for(oe.push(""),S=0;S<z[T].length;S+=1)O=z[T][S],M=z[T][S-1],ne=z[T][S+1],u(O)?(I=N(O,M,ne),oe[T]+=I!==-1?String.fromCharCode(e[O.charCodeAt(0)][I]):O):oe[T]+=O;oe[T]=b(oe[T])}return oe.join(" ")},C=t.__arabicParser__.processArabic=t.processArabic=function(){var U,T=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,S=[];if(Array.isArray(T)){var I=0;for(S=[],I=0;I<T.length;I+=1)Array.isArray(T[I])?S.push([w(T[I][0]),T[I][1],T[I][2]]):S.push([w(T[I])]);U=S}else U=w(T);return typeof arguments[0]=="string"?U:(arguments[0].text=U,arguments[0])};t.events.push(["preProcessText",C])})(Nr.API),Nr.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(d){r=d}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(d){n=isNaN(d)||Number.isInteger(d)===!1||d<0?150:d,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(d){i=isNaN(d)||Number.isInteger(d)===!1||d<0?300:d,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var l=[];Object.defineProperty(this,"childNodes",{get:function(){return l},set:function(d){l=d}});var u={};Object.defineProperty(this,"style",{get:function(){return u},set:function(d){u=d}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Nr.API),(function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new l,this.internal.__cell__.pages=1},l=function(){var h=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return h},set:function(U){h=U}});var m=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return m},set:function(U){m=U}});var g=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return g},set:function(U){g=U}});var b=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return b},set:function(U){b=U}});var N=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return N},set:function(U){N=U}});var w=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return w},set:function(U){w=U}});var C=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return C},set:function(U){C=U}}),this};l.prototype.clone=function(){return new l(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},l.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(h){return n.call(this),this.internal.__cell__.headerFunction=typeof h=="function"?h:void 0,this},t.getTextDimensions=function(h,m){n.call(this);var g=(m=m||{}).fontSize||this.getFontSize(),b=m.font||this.getFont(),N=m.scaleFactor||this.internal.scaleFactor,w=0,C=0,U=0,T=this;if(!Array.isArray(h)&&typeof h!="string"){if(typeof h!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");h=String(h)}var S=m.maxWidth;S>0?typeof h=="string"?h=this.splitTextToSize(h,S):Object.prototype.toString.call(h)==="[object Array]"&&(h=h.reduce(function(O,M){return O.concat(T.splitTextToSize(M,S))},[])):h=Array.isArray(h)?h:[h];for(var I=0;I<h.length;I++)w<(U=this.getStringUnitWidth(h[I],{font:b})*g)&&(w=U);return w!==0&&(C=h.length),{w:w/=N,h:Math.max((C*g*this.getLineHeightFactor()-g*(this.getLineHeightFactor()-1))/N,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var h=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new l(h.left,h.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var u=t.cell=function(){var h;h=arguments[0]instanceof l?arguments[0]:new l(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var m=this.internal.__cell__.lastCell,g=this.internal.__cell__.padding,b=this.internal.__cell__.margins||e,N=this.internal.__cell__.tableHeaderRow,w=this.internal.__cell__.printHeaders;return m.lineNumber!==void 0&&(m.lineNumber===h.lineNumber?(h.x=(m.x||0)+(m.width||0),h.y=m.y||0):m.y+m.height+h.height+b.bottom>this.getPageHeight()?(this.cellAddPage(),h.y=b.top,w&&N&&(this.printHeaderRow(h.lineNumber,!0),h.y+=N[0].height)):h.y=m.y+m.height||h.y),h.text[0]!==void 0&&(this.rect(h.x,h.y,h.width,h.height,r===!0?"FD":void 0),h.align==="right"?this.text(h.text,h.x+h.width-g,h.y+g,{align:"right",baseline:"top"}):h.align==="center"?this.text(h.text,h.x+h.width/2,h.y+g,{align:"center",baseline:"top",maxWidth:h.width-g-g}):this.text(h.text,h.x+g,h.y+g,{align:"left",baseline:"top",maxWidth:h.width-g-g})),this.internal.__cell__.lastCell=h,this};t.table=function(h,m,g,b,N){if(n.call(this),!g)throw new Error("No data for PDF table.");var w,C,U,T,S=[],I=[],O=[],M={},ne={},z=[],oe=[],te=(N=N||{}).autoSize||!1,X=N.printHeaders!==!1,ge=N.css&&N.css["font-size"]!==void 0?16*N.css["font-size"]:N.fontSize||12,Z=N.margins||Object.assign({width:this.getPageWidth()},e),W=typeof N.padding=="number"?N.padding:3,ae=N.headerBackgroundColor||"#c8c8c8",K=N.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=X,this.internal.__cell__.margins=Z,this.internal.__cell__.table_font_size=ge,this.internal.__cell__.padding=W,this.internal.__cell__.headerBackgroundColor=ae,this.internal.__cell__.headerTextColor=K,this.setFontSize(ge),b==null)I=S=Object.keys(g[0]),O=S.map(function(){return"left"});else if(Array.isArray(b)&&Wn(b[0])==="object")for(S=b.map(function(Ne){return Ne.name}),I=b.map(function(Ne){return Ne.prompt||Ne.name||""}),O=b.map(function(Ne){return Ne.align||"left"}),w=0;w<b.length;w+=1)ne[b[w].name]=.7499990551181103*b[w].width;else Array.isArray(b)&&typeof b[0]=="string"&&(I=S=b,O=S.map(function(){return"left"}));if(te||Array.isArray(b)&&typeof b[0]=="string")for(w=0;w<S.length;w+=1){for(M[T=S[w]]=g.map(function(Ne){return Ne[T]}),this.setFont(void 0,"bold"),z.push(this.getTextDimensions(I[w],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),C=M[T],this.setFont(void 0,"normal"),U=0;U<C.length;U+=1)z.push(this.getTextDimensions(C[U],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);ne[T]=Math.max.apply(null,z)+W+W,z=[]}if(X){var ue={};for(w=0;w<S.length;w+=1)ue[S[w]]={},ue[S[w]].text=I[w],ue[S[w]].align=O[w];var Q=d.call(this,ue,ne);oe=S.map(function(Ne){return new l(h,m,ne[Ne],Q,ue[Ne].text,void 0,ue[Ne].align)}),this.setTableHeaderRow(oe),this.printHeaderRow(1,!1)}var Ae=b.reduce(function(Ne,q){return Ne[q.name]=q.align,Ne},{});for(w=0;w<g.length;w+=1){"rowStart"in N&&N.rowStart instanceof Function&&N.rowStart({row:w,data:g[w]},this);var ee=d.call(this,g[w],ne);for(U=0;U<S.length;U+=1){var _e=g[w][S[U]];"cellStart"in N&&N.cellStart instanceof Function&&N.cellStart({row:w,col:U,data:_e},this),u.call(this,new l(h,m,ne[S[U]],ee,_e,w+2,Ae[S[U]]))}}return this.internal.__cell__.table_x=h,this.internal.__cell__.table_y=m,this};var d=function(h,m){var g=this.internal.__cell__.padding,b=this.internal.__cell__.table_font_size,N=this.internal.scaleFactor;return Object.keys(h).map(function(w){var C=h[w];return this.splitTextToSize(C.hasOwnProperty("text")?C.text:C,m[w]-g-g)},this).map(function(w){return this.getLineHeightFactor()*w.length*b/N+g+g},this).reduce(function(w,C){return Math.max(w,C)},0)};t.setTableHeaderRow=function(h){n.call(this),this.internal.__cell__.tableHeaderRow=h},t.printHeaderRow=function(h,m){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var g;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var b=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new l(b[0],b[1],b[2],b[3],void 0,-1)}this.setFont(void 0,"bold");for(var N=[],w=0;w<this.internal.__cell__.tableHeaderRow.length;w+=1){g=this.internal.__cell__.tableHeaderRow[w].clone(),m&&(g.y=this.internal.__cell__.margins.top||0,N.push(g)),g.lineNumber=h;var C=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),u.call(this,g),this.setTextColor(C)}N.length>0&&this.setTableHeaderRow(N),this.setFont(void 0,"normal"),r=!1}})(Nr.API);var VN={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},$N=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],wb=GN($N),ZN=[100,200,300,400,500,600,700,800,900],bQ=GN(ZN);function ax(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=(function(l){return VN[l=l||"normal"]?l:"normal"})(t.style),n=(function(l){return l?typeof l=="number"?l>=100&&l<=900&&l%100==0?l:400:/^\d00$/.test(l)?parseInt(l):l==="bold"?700:400:400})(t.weight),i=(function(l){return typeof wb[l=l||"normal"]=="number"?l:"normal"})(t.stretch);return{family:e,style:r,weight:n,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,r,n].join(" ")}}}function a_(t,e,r,n){var i;for(i=r;i>=0&&i<e.length;i+=n)if(t[e[i]])return t[e[i]];for(i=r;i>=0&&i<e.length;i-=n)if(t[e[i]])return t[e[i]]}var vQ={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},i_={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function o_(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function l_(t){return t.trimLeft()}function yQ(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function wQ(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Cp,A_,c_,zu,Ep,u_,d_,h_,ix=["times"];function f_(t,e,r,n,i){var l=4,u=m_;switch(i){case Nr.API.image_compression.FAST:l=1,u=p_;break;case Nr.API.image_compression.MEDIUM:l=6,u=g_;break;case Nr.API.image_compression.SLOW:l=9,u=x_}t=(function(h,m,g,b){for(var N,w=h.length/m,C=new Uint8Array(h.length+w),U=[_Q,p_,m_,g_,x_],T=0;T<w;T+=1){var S=T*m,I=h.subarray(S,S+m);if(b)C.set(b(I,g,N),S+T);else{for(var O=U.length,M=[],ne=0;ne<O;ne+=1)M[ne]=U[ne](I,g,N);var z=NQ(M.concat());C.set(M[z],S+T)}N=I}return C})(t,e,Math.ceil(r*n/8),u);var d=pb(t,{level:l});return Nr.API.__addimage__.arrayBufferToBinaryString(d)}function _Q(t){var e=Array.apply([],t);return e.unshift(0),e}function p_(t,e){var r=t.length,n=[];n[0]=1;for(var i=0;i<r;i+=1){var l=t[i-e]||0;n[i+1]=t[i]-l+256&255}return n}function m_(t,e,r){var n=t.length,i=[];i[0]=2;for(var l=0;l<n;l+=1){var u=r&&r[l]||0;i[l+1]=t[l]-u+256&255}return i}function g_(t,e,r){var n=t.length,i=[];i[0]=3;for(var l=0;l<n;l+=1){var u=t[l-e]||0,d=r&&r[l]||0;i[l+1]=t[l]+256-(u+d>>>1)&255}return i}function x_(t,e,r){var n=t.length,i=[];i[0]=4;for(var l=0;l<n;l+=1){var u=BQ(t[l-e]||0,r&&r[l]||0,r&&r[l-e]||0);i[l+1]=t[l]-u+256&255}return i}function BQ(t,e,r){if(t===e&&e===r)return t;var n=Math.abs(e-r),i=Math.abs(t-r),l=Math.abs(t+e-r-r);return n<=i&&n<=l?t:i<=l?e:r}function NQ(t){var e=t.map(function(r){return r.reduce(function(n,i){return n+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function ox(t,e,r){var n=e*r,i=Math.floor(n/8),l=16-(n-8*i+r),u=(1<<r)-1;return XN(t,i)>>l&u}function b_(t,e,r,n){var i=r*n,l=Math.floor(i/8),u=16-(i-8*l+n),d=(1<<n)-1,h=(e&d)<<u;(function(m,g,b){if(g+1<m.byteLength)m.setUint16(g,b,!1);else{var N=b>>8&255;m.setUint8(g,N)}})(t,l,XN(t,l)&~(d<<u)&65535|h)}function XN(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function CQ(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,i=t[e++],l=i>>7,u=1<<1+(7&i);t[e++],t[e++];var d=null,h=null;l&&(d=e,h=u,e+=3*u);var m=!0,g=[],b=0,N=null,w=0,C=null;for(this.width=r,this.height=n;m&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,C=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((Z=t[e++])>=0))throw Error("Invalid block size");if(Z===0)break;e+=Z}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var U=t[e++];b=t[e++]|t[e++]<<8,N=t[e++],1&U||(N=null),w=U>>2&7,e++;break;case 254:for(;;){if(!((Z=t[e++])>=0))throw Error("Invalid block size");if(Z===0)break;e+=Z}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var T=t[e++]|t[e++]<<8,S=t[e++]|t[e++]<<8,I=t[e++]|t[e++]<<8,O=t[e++]|t[e++]<<8,M=t[e++],ne=M>>6&1,z=1<<1+(7&M),oe=d,te=h,X=!1;M>>7&&(X=!0,oe=e,te=z,e+=3*z);var ge=e;for(e++;;){var Z;if(!((Z=t[e++])>=0))throw Error("Invalid block size");if(Z===0)break;e+=Z}g.push({x:T,y:S,width:I,height:O,has_local_palette:X,palette_offset:oe,palette_size:te,data_offset:ge,data_length:e-ge,transparent_index:N,interlaced:!!ne,delay:b,disposal:w});break;case 59:m=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return g.length},this.loopCount=function(){return C},this.frameInfo=function(W){if(W<0||W>=g.length)throw new Error("Frame index out of range.");return g[W]},this.decodeAndBlitFrameBGRA=function(W,ae){var K=this.frameInfo(W),ue=K.width*K.height,Q=new Uint8Array(ue);v_(t,K.data_offset,Q,ue);var Ae=K.palette_offset,ee=K.transparent_index;ee===null&&(ee=256);var _e=K.width,Ne=r-_e,q=_e,F=4*(K.y*r+K.x),G=4*((K.y+K.height)*r+K.x),$=F,V=4*Ne;K.interlaced===!0&&(V+=4*r*7);for(var he=8,ve=0,je=Q.length;ve<je;++ve){var Te=Q[ve];if(q===0&&(q=_e,($+=V)>=G&&(V=4*Ne+4*r*(he-1),$=F+(_e+Ne)*(he<<1),he>>=1)),Te===ee)$+=4;else{var Je=t[Ae+3*Te],Ke=t[Ae+3*Te+1],nt=t[Ae+3*Te+2];ae[$++]=nt,ae[$++]=Ke,ae[$++]=Je,ae[$++]=255}--q}},this.decodeAndBlitFrameRGBA=function(W,ae){var K=this.frameInfo(W),ue=K.width*K.height,Q=new Uint8Array(ue);v_(t,K.data_offset,Q,ue);var Ae=K.palette_offset,ee=K.transparent_index;ee===null&&(ee=256);var _e=K.width,Ne=r-_e,q=_e,F=4*(K.y*r+K.x),G=4*((K.y+K.height)*r+K.x),$=F,V=4*Ne;K.interlaced===!0&&(V+=4*r*7);for(var he=8,ve=0,je=Q.length;ve<je;++ve){var Te=Q[ve];if(q===0&&(q=_e,($+=V)>=G&&(V=4*Ne+4*r*(he-1),$=F+(_e+Ne)*(he<<1),he>>=1)),Te===ee)$+=4;else{var Je=t[Ae+3*Te],Ke=t[Ae+3*Te+1],nt=t[Ae+3*Te+2];ae[$++]=Je,ae[$++]=Ke,ae[$++]=nt,ae[$++]=255}--q}}}function v_(t,e,r,n){for(var i=t[e++],l=1<<i,u=l+1,d=u+1,h=i+1,m=(1<<h)-1,g=0,b=0,N=0,w=t[e++],C=new Int32Array(4096),U=null;;){for(;g<16&&w!==0;)b|=t[e++]<<g,g+=8,w===1?w=t[e++]:--w;if(g<h)break;var T=b&m;if(b>>=h,g-=h,T!==l){if(T===u)break;for(var S=T<d?T:U,I=0,O=S;O>l;)O=C[O]>>8,++I;var M=O;if(N+I+(S!==T?1:0)>n)return void cs.log("Warning, gif stream longer than expected.");r[N++]=M;var ne=N+=I;for(S!==T&&(r[N++]=M),O=S;I--;)O=C[O],r[--ne]=255&O,O>>=8;U!==null&&d<4096&&(C[d++]=U<<8|M,d>=m+1&&h<12&&(++h,m=m<<1|1)),U=T}else d=u+1,m=(1<<(h=i+1))-1,U=null}return N!==n&&cs.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function lx(t){var e,r,n,i,l,u=Math.floor,d=new Array(64),h=new Array(64),m=new Array(64),g=new Array(64),b=new Array(65535),N=new Array(65535),w=new Array(64),C=new Array(64),U=[],T=0,S=7,I=new Array(64),O=new Array(64),M=new Array(64),ne=new Array(256),z=new Array(2048),oe=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],te=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],X=[0,1,2,3,4,5,6,7,8,9,10,11],ge=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],Z=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],W=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],ae=[0,1,2,3,4,5,6,7,8,9,10,11],K=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ue=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Q(F,G){for(var $=0,V=0,he=new Array,ve=1;ve<=16;ve++){for(var je=1;je<=F[ve];je++)he[G[V]]=[],he[G[V]][0]=$,he[G[V]][1]=ve,V++,$++;$*=2}return he}function Ae(F){for(var G=F[0],$=F[1]-1;$>=0;)G&1<<$&&(T|=1<<S),$--,--S<0&&(T==255?(ee(255),ee(0)):ee(T),S=7,T=0)}function ee(F){U.push(F)}function _e(F){ee(F>>8&255),ee(255&F)}function Ne(F,G,$,V,he){for(var ve,je=he[0],Te=he[240],Je=(function(Ie,Rt){var Lt,Bt,gt,ir,_r,nr,xr,$t,St,Zt,Tt=0;for(St=0;St<8;++St){Lt=Ie[Tt],Bt=Ie[Tt+1],gt=Ie[Tt+2],ir=Ie[Tt+3],_r=Ie[Tt+4],nr=Ie[Tt+5],xr=Ie[Tt+6];var Vr=Lt+($t=Ie[Tt+7]),gr=Lt-$t,Vt=Bt+xr,or=Bt-xr,Ht=gt+nr,Kt=gt-nr,kr=ir+_r,Mt=ir-_r,er=Vr+kr,Ue=Vr-kr,Xe=Vt+Ht,at=Vt-Ht;Ie[Tt]=er+Xe,Ie[Tt+4]=er-Xe;var dt=.707106781*(at+Ue);Ie[Tt+2]=Ue+dt,Ie[Tt+6]=Ue-dt;var Yt=.382683433*((er=Mt+Kt)-(at=or+gr)),Jt=.5411961*er+Yt,br=1.306562965*at+Yt,yn=.707106781*(Xe=Kt+or),kt=gr+yn,En=gr-yn;Ie[Tt+5]=En+Jt,Ie[Tt+3]=En-Jt,Ie[Tt+1]=kt+br,Ie[Tt+7]=kt-br,Tt+=8}for(Tt=0,St=0;St<8;++St){Lt=Ie[Tt],Bt=Ie[Tt+8],gt=Ie[Tt+16],ir=Ie[Tt+24],_r=Ie[Tt+32],nr=Ie[Tt+40],xr=Ie[Tt+48];var In=Lt+($t=Ie[Tt+56]),an=Lt-$t,Wr=Bt+xr,Pr=Bt-xr,Ut=gt+nr,nn=gt-nr,fe=ir+_r,De=ir-_r,$e=In+fe,xe=In-fe,Me=Wr+Ut,We=Wr-Ut;Ie[Tt]=$e+Me,Ie[Tt+32]=$e-Me;var yt=.707106781*(We+xe);Ie[Tt+16]=xe+yt,Ie[Tt+48]=xe-yt;var Gt=.382683433*(($e=De+nn)-(We=Pr+an)),Cr=.5411961*$e+Gt,Hr=1.306562965*We+Gt,dn=.707106781*(Me=nn+Pr),Ar=an+dn,on=an-dn;Ie[Tt+40]=on+Cr,Ie[Tt+24]=on-Cr,Ie[Tt+8]=Ar+Hr,Ie[Tt+56]=Ar-Hr,Tt++}for(St=0;St<64;++St)Zt=Ie[St]*Rt[St],w[St]=Zt>0?Zt+.5|0:Zt-.5|0;return w})(F,G),Ke=0;Ke<64;++Ke)C[oe[Ke]]=Je[Ke];var nt=C[0]-$;$=C[0],nt==0?Ae(V[0]):(Ae(V[N[ve=32767+nt]]),Ae(b[ve]));for(var ft=63;ft>0&&C[ft]==0;)ft--;if(ft==0)return Ae(je),$;for(var tt,pe=1;pe<=ft;){for(var Ct=pe;C[pe]==0&&pe<=ft;)++pe;var It=pe-Ct;if(It>=16){tt=It>>4;for(var zt=1;zt<=tt;++zt)Ae(Te);It&=15}ve=32767+C[pe],Ae(he[(It<<4)+N[ve]]),Ae(b[ve]),pe++}return ft!=63&&Ae(je),$}function q(F){F=Math.min(Math.max(F,1),100),l!=F&&((function(G){for(var $=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],V=0;V<64;V++){var he=u(($[V]*G+50)/100);he=Math.min(Math.max(he,1),255),d[oe[V]]=he}for(var ve=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],je=0;je<64;je++){var Te=u((ve[je]*G+50)/100);Te=Math.min(Math.max(Te,1),255),h[oe[je]]=Te}for(var Je=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ke=0,nt=0;nt<8;nt++)for(var ft=0;ft<8;ft++)m[Ke]=1/(d[oe[Ke]]*Je[nt]*Je[ft]*8),g[Ke]=1/(h[oe[Ke]]*Je[nt]*Je[ft]*8),Ke++})(F<50?Math.floor(5e3/F):Math.floor(200-2*F)),l=F)}this.encode=function(F,G){G&&q(G),U=new Array,T=0,S=7,_e(65496),_e(65504),_e(16),ee(74),ee(70),ee(73),ee(70),ee(0),ee(1),ee(1),ee(0),_e(1),_e(1),ee(0),ee(0),(function(){_e(65499),_e(132),ee(0);for(var Bt=0;Bt<64;Bt++)ee(d[Bt]);ee(1);for(var gt=0;gt<64;gt++)ee(h[gt])})(),(function(Bt,gt){_e(65472),_e(17),ee(8),_e(gt),_e(Bt),ee(3),ee(1),ee(17),ee(0),ee(2),ee(17),ee(1),ee(3),ee(17),ee(1)})(F.width,F.height),(function(){_e(65476),_e(418),ee(0);for(var Bt=0;Bt<16;Bt++)ee(te[Bt+1]);for(var gt=0;gt<=11;gt++)ee(X[gt]);ee(16);for(var ir=0;ir<16;ir++)ee(ge[ir+1]);for(var _r=0;_r<=161;_r++)ee(Z[_r]);ee(1);for(var nr=0;nr<16;nr++)ee(W[nr+1]);for(var xr=0;xr<=11;xr++)ee(ae[xr]);ee(17);for(var $t=0;$t<16;$t++)ee(K[$t+1]);for(var St=0;St<=161;St++)ee(ue[St])})(),_e(65498),_e(12),ee(3),ee(1),ee(0),ee(2),ee(17),ee(3),ee(17),ee(0),ee(63),ee(0);var $=0,V=0,he=0;T=0,S=7,this.encode.displayName="_encode_";for(var ve,je,Te,Je,Ke,nt,ft,tt,pe,Ct=F.data,It=F.width,zt=F.height,Ie=4*It,Rt=0;Rt<zt;){for(ve=0;ve<Ie;){for(Ke=Ie*Rt+ve,ft=-1,tt=0,pe=0;pe<64;pe++)nt=Ke+(tt=pe>>3)*Ie+(ft=4*(7&pe)),Rt+tt>=zt&&(nt-=Ie*(Rt+1+tt-zt)),ve+ft>=Ie&&(nt-=ve+ft-Ie+4),je=Ct[nt++],Te=Ct[nt++],Je=Ct[nt++],I[pe]=(z[je]+z[Te+256|0]+z[Je+512|0]>>16)-128,O[pe]=(z[je+768|0]+z[Te+1024|0]+z[Je+1280|0]>>16)-128,M[pe]=(z[je+1280|0]+z[Te+1536|0]+z[Je+1792|0]>>16)-128;$=Ne(I,m,$,e,n),V=Ne(O,g,V,r,i),he=Ne(M,g,he,r,i),ve+=32}Rt+=8}if(S>=0){var Lt=[];Lt[1]=S+1,Lt[0]=(1<<S+1)-1,Ae(Lt)}return _e(65497),new Uint8Array(U)},t=t||50,(function(){for(var F=String.fromCharCode,G=0;G<256;G++)ne[G]=F(G)})(),e=Q(te,X),r=Q(W,ae),n=Q(ge,Z),i=Q(K,ue),(function(){for(var F=1,G=2,$=1;$<=15;$++){for(var V=F;V<G;V++)N[32767+V]=$,b[32767+V]=[],b[32767+V][1]=$,b[32767+V][0]=V;for(var he=-(G-1);he<=-F;he++)N[32767+he]=$,b[32767+he]=[],b[32767+he][1]=$,b[32767+he][0]=G-1+he;F<<=1,G<<=1}})(),(function(){for(var F=0;F<256;F++)z[F]=19595*F,z[F+256|0]=38470*F,z[F+512|0]=7471*F+32768,z[F+768|0]=-11059*F,z[F+1024|0]=-21709*F,z[F+1280|0]=32768*F+8421375,z[F+1536|0]=-27439*F,z[F+1792|0]=-5329*F})(),q(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function gl(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function y_(t){function e(X){if(!X)throw Error("assert :P")}function r(X,ge,Z){for(var W=0;4>W;W++)if(X[ge+W]!=Z.charCodeAt(W))return!0;return!1}function n(X,ge,Z,W,ae){for(var K=0;K<ae;K++)X[ge+K]=Z[W+K]}function i(X,ge,Z,W){for(var ae=0;ae<W;ae++)X[ge+ae]=Z}function l(X){return new Int32Array(X)}function u(X,ge){for(var Z=[],W=0;W<X;W++)Z.push(new ge);return Z}function d(X,ge){var Z=[];return(function W(ae,K,ue){for(var Q=ue[K],Ae=0;Ae<Q&&(ae.push(ue.length>K+1?[]:new ge),!(ue.length<K+1));Ae++)W(ae[Ae],K+1,ue)})(Z,0,X),Z}var h=function(){var X=this;function ge(x,_){for(var k=1<<_-1>>>0;x&k;)k>>>=1;return k?(x&k-1)+k:x}function Z(x,_,k,R,J){e(!(R%k));do x[_+(R-=k)]=J;while(0<R)}function W(x,_,k,R,J){if(e(2328>=J),512>=J)var se=l(512);else if((se=l(J))==null)return 0;return(function(le,de,me,we,ke,ze){var ye,Fe,Pe=de,At=1<<me,He=l(16),lt=l(16);for(e(ke!=0),e(we!=null),e(le!=null),e(0<me),Fe=0;Fe<ke;++Fe){if(15<we[Fe])return 0;++He[we[Fe]]}if(He[0]==ke)return 0;for(lt[1]=0,ye=1;15>ye;++ye){if(He[ye]>1<<ye)return 0;lt[ye+1]=lt[ye]+He[ye]}for(Fe=0;Fe<ke;++Fe)ye=we[Fe],0<we[Fe]&&(ze[lt[ye]++]=Fe);if(lt[15]==1)return(we=new ae).g=0,we.value=ze[0],Z(le,Pe,1,At,we),At;var ht,jt=-1,bt=At-1,pr=0,tr=1,Kr=1,cr=1<<me;for(Fe=0,ye=1,ke=2;ye<=me;++ye,ke<<=1){if(tr+=Kr<<=1,0>(Kr-=He[ye]))return 0;for(;0<He[ye];--He[ye])(we=new ae).g=ye,we.value=ze[Fe++],Z(le,Pe+pr,ke,cr,we),pr=ge(pr,ye)}for(ye=me+1,ke=2;15>=ye;++ye,ke<<=1){if(tr+=Kr<<=1,0>(Kr-=He[ye]))return 0;for(;0<He[ye];--He[ye]){if(we=new ae,(pr&bt)!=jt){for(Pe+=cr,ht=1<<(jt=ye)-me;15>jt&&!(0>=(ht-=He[jt]));)++jt,ht<<=1;At+=cr=1<<(ht=jt-me),le[de+(jt=pr&bt)].g=ht+me,le[de+jt].value=Pe-de-jt}we.g=ye-me,we.value=ze[Fe++],Z(le,Pe+(pr>>me),ke,cr,we),pr=ge(pr,ye)}}return tr!=2*lt[15]-1?0:At})(x,_,k,R,J,se)}function ae(){this.value=this.g=0}function K(){this.value=this.g=0}function ue(){this.G=u(5,ae),this.H=l(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=u(Qi,K)}function Q(x,_,k,R){e(x!=null),e(_!=null),e(2147483648>R),x.Ca=254,x.I=0,x.b=-8,x.Ka=0,x.oa=_,x.pa=k,x.Jd=_,x.Yc=k+R,x.Zc=4<=R?k+R-4+1:k,je(x)}function Ae(x,_){for(var k=0;0<_--;)k|=Je(x,128)<<_;return k}function ee(x,_){var k=Ae(x,_);return Te(x)?-k:k}function _e(x,_,k,R){var J,se=0;for(e(x!=null),e(_!=null),e(4294967288>R),x.Sb=R,x.Ra=0,x.u=0,x.h=0,4<R&&(R=4),J=0;J<R;++J)se+=_[k+J]<<8*J;x.Ra=se,x.bb=R,x.oa=_,x.pa=k}function Ne(x){for(;8<=x.u&&x.bb<x.Sb;)x.Ra>>>=8,x.Ra+=x.oa[x.pa+x.bb]<<ei-8>>>0,++x.bb,x.u-=8;V(x)&&(x.h=1,x.u=0)}function q(x,_){if(e(0<=_),!x.h&&_<=ds){var k=$(x)&Pa[_];return x.u+=_,Ne(x),k}return x.h=1,x.u=0}function F(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function G(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function $(x){return x.Ra>>>(x.u&ei-1)>>>0}function V(x){return e(x.bb<=x.Sb),x.h||x.bb==x.Sb&&x.u>ei}function he(x,_){x.u=_,x.h=V(x)}function ve(x){x.u>=Ki&&(e(x.u>=Ki),Ne(x))}function je(x){e(x!=null&&x.oa!=null),x.pa<x.Zc?(x.I=(x.oa[x.pa++]|x.I<<8)>>>0,x.b+=8):(e(x!=null&&x.oa!=null),x.pa<x.Yc?(x.b+=8,x.I=x.oa[x.pa++]|x.I<<8):x.Ka?x.b=0:(x.I<<=8,x.b+=8,x.Ka=1))}function Te(x){return Ae(x,1)}function Je(x,_){var k=x.Ca;0>x.b&&je(x);var R=x.b,J=k*_>>>8,se=(x.I>>>R>J)+0;for(se?(k-=J,x.I-=J+1<<R>>>0):k=J+1,R=k,J=0;256<=R;)J+=8,R>>=8;return R=7^J+Oi[R],x.b-=R,x.Ca=(k<<R)-1,se}function Ke(x,_,k){x[_+0]=k>>24&255,x[_+1]=k>>16&255,x[_+2]=k>>8&255,x[_+3]=255&k}function nt(x,_){return x[_+0]|x[_+1]<<8}function ft(x,_){return nt(x,_)|x[_+2]<<16}function tt(x,_){return nt(x,_)|nt(x,_+2)<<16}function pe(x,_){var k=1<<_;return e(x!=null),e(0<_),x.X=l(k),x.X==null?0:(x.Mb=32-_,x.Xa=_,1)}function Ct(x,_){e(x!=null),e(_!=null),e(x.Xa==_.Xa),n(_.X,0,x.X,0,1<<_.Xa)}function It(){this.X=[],this.Xa=this.Mb=0}function zt(x,_,k,R){e(k!=null),e(R!=null);var J=k[0],se=R[0];return J==0&&(J=(x*se+_/2)/_),se==0&&(se=(_*J+x/2)/x),0>=J||0>=se?0:(k[0]=J,R[0]=se,1)}function Ie(x,_){return x+(1<<_)-1>>>_}function Rt(x,_){return((4278255360&x)+(4278255360&_)>>>0&4278255360)+((16711935&x)+(16711935&_)>>>0&16711935)>>>0}function Lt(x,_){X[_]=function(k,R,J,se,le,de,me){var we;for(we=0;we<le;++we){var ke=X[x](de[me+we-1],J,se+we);de[me+we]=Rt(k[R+we],ke)}}}function Bt(){this.ud=this.hd=this.jd=0}function gt(x,_){return((4278124286&(x^_))>>>1)+(x&_)>>>0}function ir(x){return 0<=x&&256>x?x:0>x?0:255<x?255:void 0}function _r(x,_){return ir(x+(x-_+.5>>1))}function nr(x,_,k){return Math.abs(_-k)-Math.abs(x-k)}function xr(x,_,k,R,J,se,le){for(R=se[le-1],k=0;k<J;++k)se[le+k]=R=Rt(x[_+k],R)}function $t(x,_,k,R,J){var se;for(se=0;se<k;++se){var le=x[_+se],de=le>>8&255,me=16711935&(me=(me=16711935&le)+((de<<16)+de));R[J+se]=(4278255360&le)+me>>>0}}function St(x,_){_.jd=255&x,_.hd=x>>8&255,_.ud=x>>16&255}function Zt(x,_,k,R,J,se){var le;for(le=0;le<R;++le){var de=_[k+le],me=de>>>8,we=de,ke=255&(ke=(ke=de>>>16)+((x.jd<<24>>24)*(me<<24>>24)>>>5));we=255&(we=(we+=(x.hd<<24>>24)*(me<<24>>24)>>>5)+((x.ud<<24>>24)*(ke<<24>>24)>>>5)),J[se+le]=(4278255360&de)+(ke<<16)+we}}function Tt(x,_,k,R,J){X[_]=function(se,le,de,me,we,ke,ze,ye,Fe){for(me=ze;me<ye;++me)for(ze=0;ze<Fe;++ze)we[ke++]=J(de[R(se[le++])])},X[x]=function(se,le,de,me,we,ke,ze){var ye=8>>se.b,Fe=se.Ea,Pe=se.K[0],At=se.w;if(8>ye)for(se=(1<<se.b)-1,At=(1<<ye)-1;le<de;++le){var He,lt=0;for(He=0;He<Fe;++He)He&se||(lt=R(me[we++])),ke[ze++]=J(Pe[lt&At]),lt>>=ye}else X["VP8LMapColor"+k](me,we,Pe,At,ke,ze,le,de,Fe)}}function Vr(x,_,k,R,J){for(k=_+k;_<k;){var se=x[_++];R[J++]=se>>16&255,R[J++]=se>>8&255,R[J++]=255&se}}function gr(x,_,k,R,J){for(k=_+k;_<k;){var se=x[_++];R[J++]=se>>16&255,R[J++]=se>>8&255,R[J++]=255&se,R[J++]=se>>24&255}}function Vt(x,_,k,R,J){for(k=_+k;_<k;){var se=(le=x[_++])>>16&240|le>>12&15,le=240&le|le>>28&15;R[J++]=se,R[J++]=le}}function or(x,_,k,R,J){for(k=_+k;_<k;){var se=(le=x[_++])>>16&248|le>>13&7,le=le>>5&224|le>>3&31;R[J++]=se,R[J++]=le}}function Ht(x,_,k,R,J){for(k=_+k;_<k;){var se=x[_++];R[J++]=255&se,R[J++]=se>>8&255,R[J++]=se>>16&255}}function Kt(x,_,k,R,J,se){if(se==0)for(k=_+k;_<k;)Ke(R,((se=x[_++])[0]>>24|se[1]>>8&65280|se[2]<<8&16711680|se[3]<<24)>>>0),J+=32;else n(R,J,x,_,k)}function kr(x,_){X[_][0]=X[x+"0"],X[_][1]=X[x+"1"],X[_][2]=X[x+"2"],X[_][3]=X[x+"3"],X[_][4]=X[x+"4"],X[_][5]=X[x+"5"],X[_][6]=X[x+"6"],X[_][7]=X[x+"7"],X[_][8]=X[x+"8"],X[_][9]=X[x+"9"],X[_][10]=X[x+"10"],X[_][11]=X[x+"11"],X[_][12]=X[x+"12"],X[_][13]=X[x+"13"],X[_][14]=X[x+"0"],X[_][15]=X[x+"0"]}function Mt(x){return x==Ql||x==dA||x==Ol||x==A}function er(){this.eb=[],this.size=this.A=this.fb=0}function Ue(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Xe(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new er,this.f.kb=new Ue,this.sd=null}function at(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function dt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Yt(x){return alert("todo:WebPSamplerProcessPlane"),x.T}function Jt(x,_){var k=x.T,R=_.ba.f.RGBA,J=R.eb,se=R.fb+x.ka*R.A,le=ks[_.ba.S],de=x.y,me=x.O,we=x.f,ke=x.N,ze=x.ea,ye=x.W,Fe=_.cc,Pe=_.dc,At=_.Mc,He=_.Nc,lt=x.ka,ht=x.ka+x.T,jt=x.U,bt=jt+1>>1;for(lt==0?le(de,me,null,null,we,ke,ze,ye,we,ke,ze,ye,J,se,null,null,jt):(le(_.ec,_.fc,de,me,Fe,Pe,At,He,we,ke,ze,ye,J,se-R.A,J,se,jt),++k);lt+2<ht;lt+=2)Fe=we,Pe=ke,At=ze,He=ye,ke+=x.Rc,ye+=x.Rc,se+=2*R.A,le(de,(me+=2*x.fa)-x.fa,de,me,Fe,Pe,At,He,we,ke,ze,ye,J,se-R.A,J,se,jt);return me+=x.fa,x.j+ht<x.o?(n(_.ec,_.fc,de,me,jt),n(_.cc,_.dc,we,ke,bt),n(_.Mc,_.Nc,ze,ye,bt),k--):1&ht||le(de,me,null,null,we,ke,ze,ye,we,ke,ze,ye,J,se+R.A,null,null,jt),k}function br(x,_,k){var R=x.F,J=[x.J];if(R!=null){var se=x.U,le=_.ba.S,de=le==Il||le==Ol;_=_.ba.f.RGBA;var me=[0],we=x.ka;me[0]=x.T,x.Kb&&(we==0?--me[0]:(--we,J[0]-=x.width),x.j+x.ka+x.T==x.o&&(me[0]=x.o-x.j-we));var ke=_.eb;we=_.fb+we*_.A,x=Fl(R,J[0],x.width,se,me,ke,we+(de?0:3),_.A),e(k==me),x&&Mt(le)&&bi(ke,we,de,se,me,_.A)}return 0}function yn(x){var _=x.ma,k=_.ba.S,R=11>k,J=k==ca||k==ni||k==Il||k==Al||k==12||Mt(k);if(_.memory=null,_.Ib=null,_.Jb=null,_.Nd=null,!bo(_.Oa,x,J?11:12))return 0;if(J&&Mt(k)&&xo(),x.da)alert("todo:use_scaling");else{if(R){if(_.Ib=Yt,x.Kb){if(k=x.U+1>>1,_.memory=l(x.U+2*k),_.memory==null)return 0;_.ec=_.memory,_.fc=0,_.cc=_.ec,_.dc=_.fc+x.U,_.Mc=_.cc,_.Nc=_.dc+k,_.Ib=Jt,xo()}}else alert("todo:EmitYUV");J&&(_.Jb=br,R&&oa())}if(R&&!Hl){for(x=0;256>x;++x)Ia[x]=89858*(x-128)+HA>>Wi,tg[x]=-22014*(x-128)+HA,Af[x]=-45773*(x-128),hu[x]=113618*(x-128)+HA>>Wi;for(x=hA;x<Pl;++x)_=76283*(x-16)+HA>>Wi,rg[x-hA]=ur(_,255),ng[x-hA]=ur(_+8>>4,15);Hl=1}return 1}function kt(x){var _=x.ma,k=x.U,R=x.T;return e(!(1&x.ka)),0>=k||0>=R?0:(k=_.Ib(x,_),_.Jb!=null&&_.Jb(x,_,k),_.Dc+=k,1)}function En(x){x.ma.memory=null}function In(x,_,k,R){return q(x,8)!=47?0:(_[0]=q(x,14)+1,k[0]=q(x,14)+1,R[0]=q(x,1),q(x,3)!=0?0:!x.h)}function an(x,_){if(4>x)return x+1;var k=x-2>>1;return(2+(1&x)<<k)+q(_,k)+1}function Wr(x,_){return 120<_?_-120:1<=(k=((k=Ce[_-1])>>4)*x+(8-(15&k)))?k:1;var k}function Pr(x,_,k){var R=$(k),J=x[_+=255&R].g-8;return 0<J&&(he(k,k.u+8),R=$(k),_+=x[_].value,_+=R&(1<<J)-1),he(k,k.u+x[_].g),x[_].value}function Ut(x,_,k){return k.g+=x.g,k.value+=x.value<<_>>>0,e(8>=k.g),x.g}function nn(x,_,k){var R=x.xc;return e((_=R==0?0:x.vc[x.md*(k>>R)+(_>>R)])<x.Wb),x.Ya[_]}function fe(x,_,k,R){var J=x.ab,se=x.c*_,le=x.C;_=le+_;var de=k,me=R;for(R=x.Ta,k=x.Ua;0<J--;){var we=x.gc[J],ke=le,ze=_,ye=de,Fe=me,Pe=(me=R,de=k,we.Ea);switch(e(ke<ze),e(ze<=we.nc),we.hc){case 2:ys(ye,Fe,(ze-ke)*Pe,me,de);break;case 0:var At=ke,He=ze,lt=me,ht=de,jt=(cr=we).Ea;At==0&&(kl(ye,Fe,null,null,1,lt,ht),xr(ye,Fe+1,0,0,jt-1,lt,ht+1),Fe+=jt,ht+=jt,++At);for(var bt=1<<cr.b,pr=bt-1,tr=Ie(jt,cr.b),Kr=cr.K,cr=cr.w+(At>>cr.b)*tr;At<He;){var xn=Kr,ls=cr,Xr=1;for(Ha(ye,Fe,lt,ht-jt,1,lt,ht);Xr<jt;){var rr=(Xr&~pr)+bt;rr>jt&&(rr=jt),(0,Vi[xn[ls++]>>8&15])(ye,Fe+ +Xr,lt,ht+Xr-jt,rr-Xr,lt,ht+Xr),Xr=rr}Fe+=jt,ht+=jt,++At&pr||(cr+=tr)}ze!=we.nc&&n(me,de-Pe,me,de+(ze-ke-1)*Pe,Pe);break;case 1:for(Pe=ye,He=Fe,jt=(ye=we.Ea)-(ht=ye&~(lt=(Fe=1<<we.b)-1)),At=Ie(ye,we.b),bt=we.K,we=we.w+(ke>>we.b)*At;ke<ze;){for(pr=bt,tr=we,Kr=new Bt,cr=He+ht,xn=He+ye;He<cr;)St(pr[tr++],Kr),Po(Kr,Pe,He,Fe,me,de),He+=Fe,de+=Fe;He<xn&&(St(pr[tr++],Kr),Po(Kr,Pe,He,jt,me,de),He+=jt,de+=jt),++ke&lt||(we+=At)}break;case 3:if(ye==me&&Fe==de&&0<we.b){for(He=me,ye=Pe=de+(ze-ke)*Pe-(ht=(ze-ke)*Ie(we.Ea,we.b)),Fe=me,lt=de,At=[],ht=(jt=ht)-1;0<=ht;--ht)At[ht]=Fe[lt+ht];for(ht=jt-1;0<=ht;--ht)He[ye+ht]=At[ht];yo(we,ke,ze,me,Pe,me,de)}else yo(we,ke,ze,ye,Fe,me,de)}de=R,me=k}me!=k&&n(R,k,de,me,se)}function De(x,_){var k=x.V,R=x.Ba+x.c*x.C,J=_-x.C;if(e(_<=x.l.o),e(16>=J),0<J){var se=x.l,le=x.Ta,de=x.Ua,me=se.width;if(fe(x,J,k,R),J=de=[de],e((k=x.C)<(R=_)),e(se.v<se.va),R>se.o&&(R=se.o),k<se.j){var we=se.j-k;k=se.j,J[0]+=we*me}if(k>=R?k=0:(J[0]+=4*se.v,se.ka=k-se.j,se.U=se.va-se.v,se.T=R-k,k=1),k){if(de=de[0],11>(k=x.ca).S){var ke=k.f.RGBA,ze=(R=k.S,J=se.U,se=se.T,we=ke.eb,ke.A),ye=se;for(ke=ke.fb+x.Ma*ke.A;0<ye--;){var Fe=le,Pe=de,At=J,He=we,lt=ke;switch(R){case MA:wo(Fe,Pe,At,He,lt);break;case ca:Ri(Fe,Pe,At,He,lt);break;case Ql:Ri(Fe,Pe,At,He,lt),bi(He,lt,0,At,1,0);break;case uA:$i(Fe,Pe,At,He,lt);break;case ni:Kt(Fe,Pe,At,He,lt,1);break;case dA:Kt(Fe,Pe,At,He,lt,1),bi(He,lt,0,At,1,0);break;case Il:Kt(Fe,Pe,At,He,lt,0);break;case Ol:Kt(Fe,Pe,At,He,lt,0),bi(He,lt,1,At,1,0);break;case Al:xi(Fe,Pe,At,He,lt);break;case A:xi(Fe,Pe,At,He,lt),ti(He,lt,At,1,0);break;case Ho:Ua(Fe,Pe,At,He,lt);break;default:e(0)}de+=me,ke+=ze}x.Ma+=se}else alert("todo:EmitRescaledRowsYUVA");e(x.Ma<=k.height)}}x.C=_,e(x.C<=x.i)}function $e(x){var _;if(0<x.ua)return 0;for(_=0;_<x.Wb;++_){var k=x.Ya[_].G,R=x.Ya[_].H;if(0<k[1][R[1]+0].g||0<k[2][R[2]+0].g||0<k[3][R[3]+0].g)return 0}return 1}function xe(x,_,k,R,J,se){if(x.Z!=0){var le=x.qd,de=x.rd;for(e(On[x.Z]!=null);_<k;++_)On[x.Z](le,de,R,J,R,J,se),le=R,de=J,J+=se;x.qd=le,x.rd=de}}function Me(x,_){var k=x.l.ma,R=k.Z==0||k.Z==1?x.l.j:x.C;if(R=x.C<R?R:x.C,e(_<=x.l.o),_>R){var J=x.l.width,se=k.ca,le=k.tb+J*R,de=x.V,me=x.Ba+x.c*R,we=x.gc;e(x.ab==1),e(we[0].hc==3),$s(we[0],R,_,de,me,se,le),xe(k,R,_,se,le,J)}x.C=x.Ma=_}function We(x,_,k,R,J,se,le){var de=x.$/R,me=x.$%R,we=x.m,ke=x.s,ze=k+x.$,ye=ze;J=k+R*J;var Fe=k+R*se,Pe=280+ke.ua,At=x.Pb?de:16777216,He=0<ke.ua?ke.Wa:null,lt=ke.wc,ht=ze<Fe?nn(ke,me,de):null;e(x.C<se),e(Fe<=J);var jt=!1;e:for(;;){for(;jt||ze<Fe;){var bt=0;if(de>=At){var pr=ze-k;e((At=x).Pb),At.wd=At.m,At.xd=pr,0<At.s.ua&&Ct(At.s.Wa,At.s.vb),At=de+Ze}if(me&lt||(ht=nn(ke,me,de)),e(ht!=null),ht.Qb&&(_[ze]=ht.qb,jt=!0),!jt)if(ve(we),ht.jc){bt=we,pr=_;var tr=ze,Kr=ht.pd[$(bt)&Qi-1];e(ht.jc),256>Kr.g?(he(bt,bt.u+Kr.g),pr[tr]=Kr.value,bt=0):(he(bt,bt.u+Kr.g-256),e(256<=Kr.value),bt=Kr.value),bt==0&&(jt=!0)}else bt=Pr(ht.G[0],ht.H[0],we);if(we.h)break;if(jt||256>bt){if(!jt)if(ht.nd)_[ze]=(ht.qb|bt<<8)>>>0;else{if(ve(we),jt=Pr(ht.G[1],ht.H[1],we),ve(we),pr=Pr(ht.G[2],ht.H[2],we),tr=Pr(ht.G[3],ht.H[3],we),we.h)break;_[ze]=(tr<<24|jt<<16|bt<<8|pr)>>>0}if(jt=!1,++ze,++me>=R&&(me=0,++de,le!=null&&de<=se&&!(de%16)&&le(x,de),He!=null))for(;ye<ze;)bt=_[ye++],He.X[(506832829*bt&4294967295)>>>He.Mb]=bt}else if(280>bt){if(bt=an(bt-256,we),pr=Pr(ht.G[4],ht.H[4],we),ve(we),pr=Wr(R,pr=an(pr,we)),we.h)break;if(ze-k<pr||J-ze<bt)break e;for(tr=0;tr<bt;++tr)_[ze+tr]=_[ze+tr-pr];for(ze+=bt,me+=bt;me>=R;)me-=R,++de,le!=null&&de<=se&&!(de%16)&&le(x,de);if(e(ze<=J),me&lt&&(ht=nn(ke,me,de)),He!=null)for(;ye<ze;)bt=_[ye++],He.X[(506832829*bt&4294967295)>>>He.Mb]=bt}else{if(!(bt<Pe))break e;for(jt=bt-280,e(He!=null);ye<ze;)bt=_[ye++],He.X[(506832829*bt&4294967295)>>>He.Mb]=bt;bt=ze,e(!(jt>>>(pr=He).Xa)),_[bt]=pr.X[jt],jt=!0}jt||e(we.h==V(we))}if(x.Pb&&we.h&&ze<J)e(x.m.h),x.a=5,x.m=x.wd,x.$=x.xd,0<x.s.ua&&Ct(x.s.vb,x.s.Wa);else{if(we.h)break e;le!=null&&le(x,de>se?se:de),x.a=0,x.$=ze-k}return 1}return x.a=3,0}function yt(x){e(x!=null),x.vc=null,x.yc=null,x.Ya=null;var _=x.Wa;_!=null&&(_.X=null),x.vb=null,e(x!=null)}function Gt(){var x=new Fr;return x==null?null:(x.a=0,x.xb=PA,kr("Predictor","VP8LPredictors"),kr("Predictor","VP8LPredictors_C"),kr("PredictorAdd","VP8LPredictorsAdd"),kr("PredictorAdd","VP8LPredictorsAdd_C"),ys=$t,Po=Zt,wo=Vr,Ri=gr,xi=Vt,Ua=or,$i=Ht,X.VP8LMapColor32b=Gi,X.VP8LMapColor8b=js,x)}function Cr(x,_,k,R,J){var se=1,le=[x],de=[_],me=R.m,we=R.s,ke=null,ze=0;e:for(;;){if(k)for(;se&&q(me,1);){var ye=le,Fe=de,Pe=R,At=1,He=Pe.m,lt=Pe.gc[Pe.ab],ht=q(He,2);if(Pe.Oc&1<<ht)se=0;else{switch(Pe.Oc|=1<<ht,lt.hc=ht,lt.Ea=ye[0],lt.nc=Fe[0],lt.K=[null],++Pe.ab,e(4>=Pe.ab),ht){case 0:case 1:lt.b=q(He,3)+2,At=Cr(Ie(lt.Ea,lt.b),Ie(lt.nc,lt.b),0,Pe,lt.K),lt.K=lt.K[0];break;case 3:var jt,bt=q(He,8)+1,pr=16<bt?0:4<bt?1:2<bt?2:3;if(ye[0]=Ie(lt.Ea,pr),lt.b=pr,jt=At=Cr(bt,1,0,Pe,lt.K)){var tr,Kr=bt,cr=lt,xn=1<<(8>>cr.b),ls=l(xn);if(ls==null)jt=0;else{var Xr=cr.K[0],rr=cr.w;for(ls[0]=cr.K[0][0],tr=1;tr<1*Kr;++tr)ls[tr]=Rt(Xr[rr+tr],ls[tr-1]);for(;tr<4*xn;++tr)ls[tr]=0;cr.K[0]=null,cr.K[0]=ls,jt=1}}At=jt;break;case 2:break;default:e(0)}se=At}}if(le=le[0],de=de[0],se&&q(me,1)&&!(se=1<=(ze=q(me,4))&&11>=ze)){R.a=3;break e}var qt;if(qt=se)t:{var _s,Tr,rn,Mn=R,da=le,Qa=de,rs=ze,Xs=k,qa=Mn.m,Ys=Mn.s,un=[null],kn=1,Bs=0,Tn=Oe[rs];r:for(;;){if(Xs&&q(qa,1)){var ha=q(qa,3)+2,Ns=Ie(da,ha),Ln=Ie(Qa,ha),zs=Ns*Ln;if(!Cr(Ns,Ln,0,Mn,un))break r;for(un=un[0],Ys.xc=ha,_s=0;_s<zs;++_s){var Pn=un[_s]>>8&65535;un[_s]=Pn,Pn>=kn&&(kn=Pn+1)}}if(qa.h)break r;for(Tr=0;5>Tr;++Tr){var Js=E[Tr];!Tr&&0<rs&&(Js+=1<<rs),Bs<Js&&(Bs=Js)}var Ws=u(kn*Tn,ae),Zn=kn,Cn=u(Zn,ue);if(Cn==null)var za=null;else e(65536>=Zn),za=Cn;var Ls=l(Bs);if(za==null||Ls==null||Ws==null){Mn.a=1;break r}var Sr=Ws;for(_s=rn=0;_s<kn;++_s){var jr=za[_s],Fn=jr.G,wi=jr.H,eo=0,ai=1,ea=0;for(Tr=0;5>Tr;++Tr){Js=E[Tr],Fn[Tr]=Sr,wi[Tr]=rn,!Tr&&0<rs&&(Js+=1<<rs);s:{var ql,zl=Js,pu=Mn,ns=Ls,Cd=Sr,Ed=rn,mu=0,ul=pu.m,sg=q(ul,1);if(i(ns,0,0,zl),sg){var Sd=q(ul,1)+1,jd=q(ul,1),gu=q(ul,jd==0?1:8);ns[gu]=1,Sd==2&&(ns[gu=q(ul,8)]=1);var ya=1}else{var Fs=l(19),jc=q(ul,4)+4;if(19<jc){pu.a=3;var Kl=0;break s}for(ql=0;ql<jc;++ql)Fs[ie[ql]]=q(ul,3);var zA=void 0,fA=void 0,zo=pu,xu=Fs,KA=zl,bu=ns,vu=0,dl=zo.m,Ud=8,kd=u(128,ae);n:for(;W(kd,0,7,xu,19);){if(q(dl,1)){var cf=2+2*q(dl,3);if((zA=2+q(dl,cf))>KA)break n}else zA=KA;for(fA=0;fA<KA&&zA--;){ve(dl);var Ld=kd[0+(127&$(dl))];he(dl,dl.u+Ld.g);var Gl=Ld.value;if(16>Gl)bu[fA++]=Gl,Gl!=0&&(Ud=Gl);else{var uf=Gl==16,df=Gl-16,hf=v[df],Fd=q(dl,f[df])+hf;if(fA+Fd>KA)break n;for(var ff=uf?Ud:0;0<Fd--;)bu[fA++]=ff}}vu=1;break n}vu||(zo.a=3),ya=vu}(ya=ya&&!ul.h)&&(mu=W(Cd,Ed,8,ns,zl)),ya&&mu!=0?Kl=mu:(pu.a=3,Kl=0)}if(Kl==0)break r;if(ai&&D[Tr]==1&&(ai=Sr[rn].g==0),eo+=Sr[rn].g,rn+=Kl,3>=Tr){var pA,yu=Ls[0];for(pA=1;pA<Js;++pA)Ls[pA]>yu&&(yu=Ls[pA]);ea+=yu}}if(jr.nd=ai,jr.Qb=0,ai&&(jr.qb=(Fn[3][wi[3]+0].value<<24|Fn[1][wi[1]+0].value<<16|Fn[2][wi[2]+0].value)>>>0,eo==0&&256>Fn[0][wi[0]+0].value&&(jr.Qb=1,jr.qb+=Fn[0][wi[0]+0].value<<8)),jr.jc=!jr.Qb&&6>ea,jr.jc){var Uc,Ko=jr;for(Uc=0;Uc<Qi;++Uc){var hl=Uc,fl=Ko.pd[hl],wu=Ko.G[0][Ko.H[0]+hl];256<=wu.value?(fl.g=wu.g+256,fl.value=wu.value):(fl.g=0,fl.value=0,hl>>=Ut(wu,8,fl),hl>>=Ut(Ko.G[1][Ko.H[1]+hl],16,fl),hl>>=Ut(Ko.G[2][Ko.H[2]+hl],0,fl),Ut(Ko.G[3][Ko.H[3]+hl],24,fl))}}}Ys.vc=un,Ys.Wb=kn,Ys.Ya=za,Ys.yc=Ws,qt=1;break t}qt=0}if(!(se=qt)){R.a=3;break e}if(0<ze){if(we.ua=1<<ze,!pe(we.Wa,ze)){R.a=1,se=0;break e}}else we.ua=0;var _u=R,mA=le,pf=de,GA=_u.s,VA=GA.xc;if(_u.c=mA,_u.i=pf,GA.md=Ie(mA,VA),GA.wc=VA==0?-1:(1<<VA)-1,k){R.xb=qo;break e}if((ke=l(le*de))==null){R.a=1,se=0;break e}se=(se=We(R,ke,0,le,de,de,null))&&!me.h;break e}return se?(J!=null?J[0]=ke:(e(ke==null),e(k)),R.$=0,k||yt(we)):yt(we),se}function Hr(x,_){var k=x.c*x.i,R=k+_+16*_;return e(x.c<=_),x.V=l(R),x.V==null?(x.Ta=null,x.Ua=0,x.a=1,0):(x.Ta=x.V,x.Ua=x.Ba+k+_,1)}function dn(x,_){var k=x.C,R=_-k,J=x.V,se=x.Ba+x.c*k;for(e(_<=x.l.o);0<R;){var le=16<R?16:R,de=x.l.ma,me=x.l.width,we=me*le,ke=de.ca,ze=de.tb+me*k,ye=x.Ta,Fe=x.Ua;fe(x,le,J,se),ri(ye,Fe,ke,ze,we),xe(de,k,k+le,ke,ze,me),R-=le,J+=le*x.c,k+=le}e(k==_),x.C=x.Ma=_}function Ar(){this.ub=this.yd=this.td=this.Rb=0}function on(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function re(){this.Fb=this.Bb=this.Cb=0,this.Zb=l(4),this.Lb=l(4)}function ut(){this.Yb=(function(){var x=[];return(function _(k,R,J){for(var se=J[R],le=0;le<se&&(k.push(J.length>R+1?[]:0),!(J.length<R+1));le++)_(k[le],R+1,J)})(x,0,[3,11]),x})()}function it(){this.jb=l(3),this.Wc=d([4,8],ut),this.Xc=d([4,17],ut)}function wt(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new l(4),this.od=new l(4)}function Xt(){this.ld=this.La=this.dd=this.tc=0}function yr(){this.Na=this.la=0}function qr(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function fn(){this.ad=l(384),this.Za=0,this.Ob=l(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Vn(){this.uc=this.M=this.Nb=0,this.wa=Array(new Xt),this.Y=0,this.ya=Array(new fn),this.aa=0,this.l=new Lr}function Zr(){this.y=l(16),this.f=l(8),this.ea=l(8)}function es(){this.cb=this.a=0,this.sc="",this.m=new F,this.Od=new Ar,this.Kc=new on,this.ed=new wt,this.Qa=new re,this.Ic=this.$c=this.Aa=0,this.D=new Vn,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=u(8,F),this.ia=0,this.pb=u(4,qr),this.Pa=new it,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Zr),this.Hd=0,this.rb=Array(new yr),this.sb=0,this.wa=Array(new Xt),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new fn),this.L=this.aa=0,this.gd=d([4,2],Xt),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ur(x,_){return 0>x?0:x>_?_:x}function Lr(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function xs(){var x=new es;return x!=null&&(x.a=0,x.sc="OK",x.cb=0,x.Xb=0,hr||(hr=Er)),x}function $r(x,_,k){return x.a==0&&(x.a=_,x.sc=k,x.cb=0),0}function Ca(x,_,k){return 3<=k&&x[_+0]==157&&x[_+1]==1&&x[_+2]==42}function Rs(x,_){if(x==null)return 0;if(x.a=0,x.sc="OK",_==null)return $r(x,2,"null VP8Io passed to VP8GetHeaders()");var k=_.data,R=_.w,J=_.ha;if(4>J)return $r(x,7,"Truncated header.");var se=k[R+0]|k[R+1]<<8|k[R+2]<<16,le=x.Od;if(le.Rb=!(1&se),le.td=se>>1&7,le.yd=se>>4&1,le.ub=se>>5,3<le.td)return $r(x,3,"Incorrect keyframe parameters.");if(!le.yd)return $r(x,4,"Frame not displayable.");R+=3,J-=3;var de=x.Kc;if(le.Rb){if(7>J)return $r(x,7,"cannot parse picture header");if(!Ca(k,R,J))return $r(x,3,"Bad code word");de.c=16383&(k[R+4]<<8|k[R+3]),de.Td=k[R+4]>>6,de.i=16383&(k[R+6]<<8|k[R+5]),de.Ud=k[R+6]>>6,R+=7,J-=7,x.za=de.c+15>>4,x.Ub=de.i+15>>4,_.width=de.c,_.height=de.i,_.Da=0,_.j=0,_.v=0,_.va=_.width,_.o=_.height,_.da=0,_.ib=_.width,_.hb=_.height,_.U=_.width,_.T=_.height,i((se=x.Pa).jb,0,255,se.jb.length),e((se=x.Qa)!=null),se.Cb=0,se.Bb=0,se.Fb=1,i(se.Zb,0,0,se.Zb.length),i(se.Lb,0,0,se.Lb)}if(le.ub>J)return $r(x,7,"bad partition length");Q(se=x.m,k,R,le.ub),R+=le.ub,J-=le.ub,le.Rb&&(de.Ld=Te(se),de.Kd=Te(se)),de=x.Qa;var me,we=x.Pa;if(e(se!=null),e(de!=null),de.Cb=Te(se),de.Cb){if(de.Bb=Te(se),Te(se)){for(de.Fb=Te(se),me=0;4>me;++me)de.Zb[me]=Te(se)?ee(se,7):0;for(me=0;4>me;++me)de.Lb[me]=Te(se)?ee(se,6):0}if(de.Bb)for(me=0;3>me;++me)we.jb[me]=Te(se)?Ae(se,8):255}else de.Bb=0;if(se.Ka)return $r(x,3,"cannot parse segment header");if((de=x.ed).zd=Te(se),de.Tb=Ae(se,6),de.wb=Ae(se,3),de.Pc=Te(se),de.Pc&&Te(se)){for(we=0;4>we;++we)Te(se)&&(de.vd[we]=ee(se,6));for(we=0;4>we;++we)Te(se)&&(de.od[we]=ee(se,6))}if(x.L=de.Tb==0?0:de.zd?1:2,se.Ka)return $r(x,3,"cannot parse filter header");var ke=J;if(J=me=R,R=me+ke,de=ke,x.Xb=(1<<Ae(x.m,2))-1,ke<3*(we=x.Xb))k=7;else{for(me+=3*we,de-=3*we,ke=0;ke<we;++ke){var ze=k[J+0]|k[J+1]<<8|k[J+2]<<16;ze>de&&(ze=de),Q(x.Jc[+ke],k,me,ze),me+=ze,de-=ze,J+=3}Q(x.Jc[+we],k,me,de),k=me<R?0:5}if(k!=0)return $r(x,k,"cannot parse partitions");for(k=Ae(me=x.m,7),J=Te(me)?ee(me,4):0,R=Te(me)?ee(me,4):0,de=Te(me)?ee(me,4):0,we=Te(me)?ee(me,4):0,me=Te(me)?ee(me,4):0,ke=x.Qa,ze=0;4>ze;++ze){if(ke.Cb){var ye=ke.Zb[ze];ke.Fb||(ye+=k)}else{if(0<ze){x.pb[ze]=x.pb[0];continue}ye=k}var Fe=x.pb[ze];Fe.Sc[0]=pt[ur(ye+J,127)],Fe.Sc[1]=Pt[ur(ye+0,127)],Fe.Eb[0]=2*pt[ur(ye+R,127)],Fe.Eb[1]=101581*Pt[ur(ye+de,127)]>>16,8>Fe.Eb[1]&&(Fe.Eb[1]=8),Fe.Qc[0]=pt[ur(ye+we,117)],Fe.Qc[1]=Pt[ur(ye+me,127)],Fe.lc=ye+me}if(!le.Rb)return $r(x,4,"Not a key frame.");for(Te(se),le=x.Pa,k=0;4>k;++k){for(J=0;8>J;++J)for(R=0;3>R;++R)for(de=0;11>de;++de)we=Je(se,Un[k][J][R][de])?Ae(se,8):si[k][J][R][de],le.Wc[k][J].Yb[R][de]=we;for(J=0;17>J;++J)le.Xc[k][J]=le.Wc[k][hn[J]]}return x.kc=Te(se),x.kc&&(x.Bd=Ae(se,8)),x.cb=1}function Er(x,_,k,R,J,se,le){var de=_[J].Yb[k];for(k=0;16>J;++J){if(!Je(x,de[k+0]))return J;for(;!Je(x,de[k+1]);)if(de=_[++J].Yb[0],k=0,J==16)return 16;var me=_[J+1].Yb;if(Je(x,de[k+2])){var we=x,ke=0;if(Je(we,(ye=de)[(ze=k)+3]))if(Je(we,ye[ze+6])){for(de=0,ze=2*(ke=Je(we,ye[ze+8]))+(ye=Je(we,ye[ze+9+ke])),ke=0,ye=tn[ze];ye[de];++de)ke+=ke+Je(we,ye[de]);ke+=3+(8<<ze)}else Je(we,ye[ze+7])?(ke=7+2*Je(we,165),ke+=Je(we,145)):ke=5+Je(we,159);else ke=Je(we,ye[ze+4])?3+Je(we,ye[ze+5]):2;de=me[2]}else ke=1,de=me[1];me=le+ua[J],0>(we=x).b&&je(we);var ze,ye=we.b,Fe=(ze=we.Ca>>1)-(we.I>>ye)>>31;--we.b,we.Ca+=Fe,we.Ca|=1,we.I-=(ze+1&Fe)<<ye,se[me]=((ke^Fe)-Fe)*R[(0<J)+0]}return 16}function wr(x){var _=x.rb[x.sb-1];_.la=0,_.Na=0,i(x.zc,0,0,x.zc.length),x.ja=0}function cn(x,_,k,R,J){J=x[_+k+32*R]+(J>>3),x[_+k+32*R]=-256&J?0>J?0:255:J}function ln(x,_,k,R,J,se){cn(x,_,0,k,R+J),cn(x,_,1,k,R+se),cn(x,_,2,k,R-se),cn(x,_,3,k,R-J)}function Be(x){return(20091*x>>16)+x}function st(x,_,k,R){var J,se=0,le=l(16);for(J=0;4>J;++J){var de=x[_+0]+x[_+8],me=x[_+0]-x[_+8],we=(35468*x[_+4]>>16)-Be(x[_+12]),ke=Be(x[_+4])+(35468*x[_+12]>>16);le[se+0]=de+ke,le[se+1]=me+we,le[se+2]=me-we,le[se+3]=de-ke,se+=4,_++}for(J=se=0;4>J;++J)de=(x=le[se+0]+4)+le[se+8],me=x-le[se+8],we=(35468*le[se+4]>>16)-Be(le[se+12]),cn(k,R,0,0,de+(ke=Be(le[se+4])+(35468*le[se+12]>>16))),cn(k,R,1,0,me+we),cn(k,R,2,0,me-we),cn(k,R,3,0,de-ke),se++,R+=32}function Et(x,_,k,R){var J=x[_+0]+4,se=35468*x[_+4]>>16,le=Be(x[_+4]),de=35468*x[_+1]>>16;ln(k,R,0,J+le,x=Be(x[_+1]),de),ln(k,R,1,J+se,x,de),ln(k,R,2,J-se,x,de),ln(k,R,3,J-le,x,de)}function Nt(x,_,k,R,J){st(x,_,k,R),J&&st(x,_+16,k,R+4)}function Ot(x,_,k,R){Zi(x,_+0,k,R,1),Zi(x,_+32,k,R+128,1)}function Rr(x,_,k,R){var J;for(x=x[_+0]+4,J=0;4>J;++J)for(_=0;4>_;++_)cn(k,R,_,J,x)}function Qt(x,_,k,R){x[_+0]&&Nn(x,_+0,k,R),x[_+16]&&Nn(x,_+16,k,R+4),x[_+32]&&Nn(x,_+32,k,R+128),x[_+48]&&Nn(x,_+48,k,R+128+4)}function sr(x,_,k,R){var J,se=l(16);for(J=0;4>J;++J){var le=x[_+0+J]+x[_+12+J],de=x[_+4+J]+x[_+8+J],me=x[_+4+J]-x[_+8+J],we=x[_+0+J]-x[_+12+J];se[0+J]=le+de,se[8+J]=le-de,se[4+J]=we+me,se[12+J]=we-me}for(J=0;4>J;++J)le=(x=se[0+4*J]+3)+se[3+4*J],de=se[1+4*J]+se[2+4*J],me=se[1+4*J]-se[2+4*J],we=x-se[3+4*J],k[R+0]=le+de>>3,k[R+16]=we+me>>3,k[R+32]=le-de>>3,k[R+48]=we-me>>3,R+=64}function Ir(x,_,k){var R,J=_-32,se=Aa,le=255-x[J-1];for(R=0;R<k;++R){var de,me=se,we=le+x[_-1];for(de=0;de<k;++de)x[_+de]=me[we+x[J+de]];_+=32}}function pn(x,_){Ir(x,_,4)}function Ea(x,_){Ir(x,_,8)}function ts(x,_){Ir(x,_,16)}function di(x,_){var k;for(k=0;16>k;++k)n(x,_+32*k,x,_-32,16)}function ki(x,_){var k;for(k=16;0<k;--k)i(x,_,x[_-1],16),_+=32}function us(x,_,k){var R;for(R=0;16>R;++R)i(_,k+32*R,x,16)}function Gs(x,_){var k,R=16;for(k=0;16>k;++k)R+=x[_-1+32*k]+x[_+k-32];us(R>>5,x,_)}function Pi(x,_){var k,R=8;for(k=0;16>k;++k)R+=x[_-1+32*k];us(R>>4,x,_)}function fo(x,_){var k,R=8;for(k=0;16>k;++k)R+=x[_+k-32];us(R>>4,x,_)}function Oo(x,_){us(128,x,_)}function Ft(x,_,k){return x+2*_+k+2>>2}function $a(x,_){var k,R=_-32;for(R=new Uint8Array([Ft(x[R-1],x[R+0],x[R+1]),Ft(x[R+0],x[R+1],x[R+2]),Ft(x[R+1],x[R+2],x[R+3]),Ft(x[R+2],x[R+3],x[R+4])]),k=0;4>k;++k)n(x,_+32*k,R,0,R.length)}function Sn(x,_){var k=x[_-1],R=x[_-1+32],J=x[_-1+64],se=x[_-1+96];Ke(x,_+0,16843009*Ft(x[_-1-32],k,R)),Ke(x,_+32,16843009*Ft(k,R,J)),Ke(x,_+64,16843009*Ft(R,J,se)),Ke(x,_+96,16843009*Ft(J,se,se))}function iA(x,_){var k,R=4;for(k=0;4>k;++k)R+=x[_+k-32]+x[_-1+32*k];for(R>>=3,k=0;4>k;++k)i(x,_+32*k,R,4)}function Sa(x,_){var k=x[_-1+0],R=x[_-1+32],J=x[_-1+64],se=x[_-1-32],le=x[_+0-32],de=x[_+1-32],me=x[_+2-32],we=x[_+3-32];x[_+0+96]=Ft(R,J,x[_-1+96]),x[_+1+96]=x[_+0+64]=Ft(k,R,J),x[_+2+96]=x[_+1+64]=x[_+0+32]=Ft(se,k,R),x[_+3+96]=x[_+2+64]=x[_+1+32]=x[_+0+0]=Ft(le,se,k),x[_+3+64]=x[_+2+32]=x[_+1+0]=Ft(de,le,se),x[_+3+32]=x[_+2+0]=Ft(me,de,le),x[_+3+0]=Ft(we,me,de)}function Ds(x,_){var k=x[_+1-32],R=x[_+2-32],J=x[_+3-32],se=x[_+4-32],le=x[_+5-32],de=x[_+6-32],me=x[_+7-32];x[_+0+0]=Ft(x[_+0-32],k,R),x[_+1+0]=x[_+0+32]=Ft(k,R,J),x[_+2+0]=x[_+1+32]=x[_+0+64]=Ft(R,J,se),x[_+3+0]=x[_+2+32]=x[_+1+64]=x[_+0+96]=Ft(J,se,le),x[_+3+32]=x[_+2+64]=x[_+1+96]=Ft(se,le,de),x[_+3+64]=x[_+2+96]=Ft(le,de,me),x[_+3+96]=Ft(de,me,me)}function nl(x,_){var k=x[_-1+0],R=x[_-1+32],J=x[_-1+64],se=x[_-1-32],le=x[_+0-32],de=x[_+1-32],me=x[_+2-32],we=x[_+3-32];x[_+0+0]=x[_+1+64]=se+le+1>>1,x[_+1+0]=x[_+2+64]=le+de+1>>1,x[_+2+0]=x[_+3+64]=de+me+1>>1,x[_+3+0]=me+we+1>>1,x[_+0+96]=Ft(J,R,k),x[_+0+64]=Ft(R,k,se),x[_+0+32]=x[_+1+96]=Ft(k,se,le),x[_+1+32]=x[_+2+96]=Ft(se,le,de),x[_+2+32]=x[_+3+96]=Ft(le,de,me),x[_+3+32]=Ft(de,me,we)}function Za(x,_){var k=x[_+0-32],R=x[_+1-32],J=x[_+2-32],se=x[_+3-32],le=x[_+4-32],de=x[_+5-32],me=x[_+6-32],we=x[_+7-32];x[_+0+0]=k+R+1>>1,x[_+1+0]=x[_+0+64]=R+J+1>>1,x[_+2+0]=x[_+1+64]=J+se+1>>1,x[_+3+0]=x[_+2+64]=se+le+1>>1,x[_+0+32]=Ft(k,R,J),x[_+1+32]=x[_+0+96]=Ft(R,J,se),x[_+2+32]=x[_+1+96]=Ft(J,se,le),x[_+3+32]=x[_+2+96]=Ft(se,le,de),x[_+3+64]=Ft(le,de,me),x[_+3+96]=Ft(de,me,we)}function ja(x,_){var k=x[_-1+0],R=x[_-1+32],J=x[_-1+64],se=x[_-1+96];x[_+0+0]=k+R+1>>1,x[_+2+0]=x[_+0+32]=R+J+1>>1,x[_+2+32]=x[_+0+64]=J+se+1>>1,x[_+1+0]=Ft(k,R,J),x[_+3+0]=x[_+1+32]=Ft(R,J,se),x[_+3+32]=x[_+1+64]=Ft(J,se,se),x[_+3+64]=x[_+2+64]=x[_+0+96]=x[_+1+96]=x[_+2+96]=x[_+3+96]=se}function Li(x,_){var k=x[_-1+0],R=x[_-1+32],J=x[_-1+64],se=x[_-1+96],le=x[_-1-32],de=x[_+0-32],me=x[_+1-32],we=x[_+2-32];x[_+0+0]=x[_+2+32]=k+le+1>>1,x[_+0+32]=x[_+2+64]=R+k+1>>1,x[_+0+64]=x[_+2+96]=J+R+1>>1,x[_+0+96]=se+J+1>>1,x[_+3+0]=Ft(de,me,we),x[_+2+0]=Ft(le,de,me),x[_+1+0]=x[_+3+32]=Ft(k,le,de),x[_+1+32]=x[_+3+64]=Ft(R,k,le),x[_+1+64]=x[_+3+96]=Ft(J,R,k),x[_+1+96]=Ft(se,J,R)}function zn(x,_){var k;for(k=0;8>k;++k)n(x,_+32*k,x,_-32,8)}function Hi(x,_){var k;for(k=0;8>k;++k)i(x,_,x[_-1],8),_+=32}function Xa(x,_,k){var R;for(R=0;8>R;++R)i(_,k+32*R,x,8)}function sl(x,_){var k,R=8;for(k=0;8>k;++k)R+=x[_+k-32]+x[_-1+32*k];Xa(R>>4,x,_)}function jl(x,_){var k,R=4;for(k=0;8>k;++k)R+=x[_+k-32];Xa(R>>3,x,_)}function Ms(x,_){var k,R=4;for(k=0;8>k;++k)R+=x[_-1+32*k];Xa(R>>3,x,_)}function hi(x,_){Xa(128,x,_)}function fi(x,_,k){var R=x[_-k],J=x[_+0],se=3*(J-R)+vi[1020+x[_-2*k]-x[_+k]],le=Bo[112+(se+4>>3)];x[_-k]=Aa[255+R+Bo[112+(se+3>>3)]],x[_+0]=Aa[255+J-le]}function qi(x,_,k,R){var J=x[_+0],se=x[_+k];return Zs[255+x[_-2*k]-x[_-k]]>R||Zs[255+se-J]>R}function en(x,_,k,R){return 4*Zs[255+x[_-k]-x[_+0]]+Zs[255+x[_-2*k]-x[_+k]]<=R}function al(x,_,k,R,J){var se=x[_-3*k],le=x[_-2*k],de=x[_-k],me=x[_+0],we=x[_+k],ke=x[_+2*k],ze=x[_+3*k];return 4*Zs[255+de-me]+Zs[255+le-we]>R?0:Zs[255+x[_-4*k]-se]<=J&&Zs[255+se-le]<=J&&Zs[255+le-de]<=J&&Zs[255+ze-ke]<=J&&Zs[255+ke-we]<=J&&Zs[255+we-me]<=J}function Ps(x,_,k,R){var J=2*R+1;for(R=0;16>R;++R)en(x,_+R,k,J)&&fi(x,_+R,k)}function Ya(x,_,k,R){var J=2*R+1;for(R=0;16>R;++R)en(x,_+R*k,1,J)&&fi(x,_+R*k,1)}function Ro(x,_,k,R){var J;for(J=3;0<J;--J)Ps(x,_+=4*k,k,R)}function oA(x,_,k,R){var J;for(J=3;0<J;--J)Ya(x,_+=4,k,R)}function Fi(x,_,k,R,J,se,le,de){for(se=2*se+1;0<J--;){if(al(x,_,k,se,le))if(qi(x,_,k,de))fi(x,_,k);else{var me=x,we=_,ke=k,ze=me[we-2*ke],ye=me[we-ke],Fe=me[we+0],Pe=me[we+ke],At=me[we+2*ke],He=27*(ht=vi[1020+3*(Fe-ye)+vi[1020+ze-Pe]])+63>>7,lt=18*ht+63>>7,ht=9*ht+63>>7;me[we-3*ke]=Aa[255+me[we-3*ke]+ht],me[we-2*ke]=Aa[255+ze+lt],me[we-ke]=Aa[255+ye+He],me[we+0]=Aa[255+Fe-He],me[we+ke]=Aa[255+Pe-lt],me[we+2*ke]=Aa[255+At-ht]}_+=R}}function po(x,_,k,R,J,se,le,de){for(se=2*se+1;0<J--;){if(al(x,_,k,se,le))if(qi(x,_,k,de))fi(x,_,k);else{var me=x,we=_,ke=k,ze=me[we-ke],ye=me[we+0],Fe=me[we+ke],Pe=Bo[112+(4+(At=3*(ye-ze))>>3)],At=Bo[112+(At+3>>3)],He=Pe+1>>1;me[we-2*ke]=Aa[255+me[we-2*ke]+He],me[we-ke]=Aa[255+ze+At],me[we+0]=Aa[255+ye-Pe],me[we+ke]=Aa[255+Fe-He]}_+=R}}function lA(x,_,k,R,J,se){Fi(x,_,k,1,16,R,J,se)}function mo(x,_,k,R,J,se){Fi(x,_,1,k,16,R,J,se)}function RA(x,_,k,R,J,se){var le;for(le=3;0<le;--le)po(x,_+=4*k,k,1,16,R,J,se)}function j(x,_,k,R,J,se){var le;for(le=3;0<le;--le)po(x,_+=4,1,k,16,R,J,se)}function Y(x,_,k,R,J,se,le,de){Fi(x,_,J,1,8,se,le,de),Fi(k,R,J,1,8,se,le,de)}function be(x,_,k,R,J,se,le,de){Fi(x,_,1,J,8,se,le,de),Fi(k,R,1,J,8,se,le,de)}function Se(x,_,k,R,J,se,le,de){po(x,_+4*J,J,1,8,se,le,de),po(k,R+4*J,J,1,8,se,le,de)}function Qe(x,_,k,R,J,se,le,de){po(x,_+4,1,J,8,se,le,de),po(k,R+4,1,J,8,se,le,de)}function ot(){this.ba=new Xe,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new dt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function vt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function lr(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function dr(){this.ua=0,this.Wa=new It,this.vb=new It,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ue,this.yc=new ae}function Fr(){this.xb=this.a=0,this.l=new Lr,this.ca=new Xe,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new G,this.Pb=0,this.wd=new G,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new dr,this.ab=0,this.gc=u(4,lr),this.Oc=0}function zr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Lr,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function mn(x,_,k,R,J,se,le){for(x=x==null?0:x[_+0],_=0;_<le;++_)J[se+_]=x+k[R+_]&255,x=J[se+_]}function os(x,_,k,R,J,se,le){var de;if(x==null)mn(null,null,k,R,J,se,le);else for(de=0;de<le;++de)J[se+de]=x[_+de]+k[R+de]&255}function bs(x,_,k,R,J,se,le){if(x==null)mn(null,null,k,R,J,se,le);else{var de,me=x[_+0],we=me,ke=me;for(de=0;de<le;++de)we=ke+(me=x[_+de])-we,ke=k[R+de]+(-256&we?0>we?0:255:we)&255,we=me,J[se+de]=ke}}function Qn(x,_,k,R){var J=_.width,se=_.o;if(e(x!=null&&_!=null),0>k||0>=R||k+R>se)return null;if(!x.Cc){if(x.ga==null){var le;if(x.ga=new zr,(le=x.ga==null)||(le=_.width*_.o,e(x.Gb.length==0),x.Gb=l(le),x.Uc=0,x.Gb==null?le=0:(x.mb=x.Gb,x.nb=x.Uc,x.rc=null,le=1),le=!le),!le){le=x.ga;var de=x.Fa,me=x.P,we=x.qc,ke=x.mb,ze=x.nb,ye=me+1,Fe=we-1,Pe=le.l;if(e(de!=null&&ke!=null&&_!=null),On[0]=null,On[1]=mn,On[2]=os,On[3]=bs,le.ca=ke,le.tb=ze,le.c=_.width,le.i=_.height,e(0<le.c&&0<le.i),1>=we)_=0;else if(le.$a=3&de[me+0],le.Z=de[me+0]>>2&3,le.Lc=de[me+0]>>4&3,me=de[me+0]>>6&3,0>le.$a||1<le.$a||4<=le.Z||1<le.Lc||me)_=0;else if(Pe.put=kt,Pe.ac=yn,Pe.bc=En,Pe.ma=le,Pe.width=_.width,Pe.height=_.height,Pe.Da=_.Da,Pe.v=_.v,Pe.va=_.va,Pe.j=_.j,Pe.o=_.o,le.$a)e:{e(le.$a==1),_=Gt();t:for(;;){if(_==null){_=0;break e}if(e(le!=null),le.mc=_,_.c=le.c,_.i=le.i,_.l=le.l,_.l.ma=le,_.l.width=le.c,_.l.height=le.i,_.a=0,_e(_.m,de,ye,Fe),!Cr(le.c,le.i,1,_,null)||(_.ab==1&&_.gc[0].hc==3&&$e(_.s)?(le.ic=1,de=_.c*_.i,_.Ta=null,_.Ua=0,_.V=l(de),_.Ba=0,_.V==null?(_.a=1,_=0):_=1):(le.ic=0,_=Hr(_,le.c)),!_))break t;_=1;break e}le.mc=null,_=0}else _=Fe>=le.c*le.i;le=!_}if(le)return null;x.ga.Lc!=1?x.Ga=0:R=se-k}e(x.ga!=null),e(k+R<=se);e:{if(_=(de=x.ga).c,se=de.l.o,de.$a==0){if(ye=x.rc,Fe=x.Vc,Pe=x.Fa,me=x.P+1+k*_,we=x.mb,ke=x.nb+k*_,e(me<=x.P+x.qc),de.Z!=0)for(e(On[de.Z]!=null),le=0;le<R;++le)On[de.Z](ye,Fe,Pe,me,we,ke,_),ye=we,Fe=ke,ke+=_,me+=_;else for(le=0;le<R;++le)n(we,ke,Pe,me,_),ye=we,Fe=ke,ke+=_,me+=_;x.rc=ye,x.Vc=Fe}else{if(e(de.mc!=null),_=k+R,e((le=de.mc)!=null),e(_<=le.i),le.C>=_)_=1;else if(de.ic||oa(),de.ic){de=le.V,ye=le.Ba,Fe=le.c;var At=le.i,He=(Pe=1,me=le.$/Fe,we=le.$%Fe,ke=le.m,ze=le.s,le.$),lt=Fe*At,ht=Fe*_,jt=ze.wc,bt=He<ht?nn(ze,we,me):null;e(He<=lt),e(_<=At),e($e(ze));t:for(;;){for(;!ke.h&&He<ht;){if(we&jt||(bt=nn(ze,we,me)),e(bt!=null),ve(ke),256>(At=Pr(bt.G[0],bt.H[0],ke)))de[ye+He]=At,++He,++we>=Fe&&(we=0,++me<=_&&!(me%16)&&Me(le,me));else{if(!(280>At)){Pe=0;break t}At=an(At-256,ke);var pr,tr=Pr(bt.G[4],bt.H[4],ke);if(ve(ke),!(He>=(tr=Wr(Fe,tr=an(tr,ke)))&&lt-He>=At)){Pe=0;break t}for(pr=0;pr<At;++pr)de[ye+He+pr]=de[ye+He+pr-tr];for(He+=At,we+=At;we>=Fe;)we-=Fe,++me<=_&&!(me%16)&&Me(le,me);He<ht&&we&jt&&(bt=nn(ze,we,me))}e(ke.h==V(ke))}Me(le,me>_?_:me);break t}!Pe||ke.h&&He<lt?(Pe=0,le.a=ke.h?5:3):le.$=He,_=Pe}else _=We(le,le.V,le.Ba,le.c,le.i,_,dn);if(!_){R=0;break e}}k+R>=se&&(x.Cc=1),R=1}if(!R)return null;if(x.Cc&&((R=x.ga)!=null&&(R.mc=null),x.ga=null,0<x.Ga))return alert("todo:WebPDequantizeLevels"),null}return x.nb+k*J}function Hs(x,_,k,R,J,se){for(;0<J--;){var le,de=x,me=_+(k?1:0),we=x,ke=_+(k?0:3);for(le=0;le<R;++le){var ze=we[ke+4*le];ze!=255&&(ze*=32897,de[me+4*le+0]=de[me+4*le+0]*ze>>23,de[me+4*le+1]=de[me+4*le+1]*ze>>23,de[me+4*le+2]=de[me+4*le+2]*ze>>23)}_+=se}}function vs(x,_,k,R,J){for(;0<R--;){var se;for(se=0;se<k;++se){var le=x[_+2*se+0],de=15&(we=x[_+2*se+1]),me=4369*de,we=(240&we|we>>4)*me>>16;x[_+2*se+0]=(240&le|le>>4)*me>>16&240|(15&le|le<<4)*me>>16>>4&15,x[_+2*se+1]=240&we|de}_+=J}}function Vs(x,_,k,R,J,se,le,de){var me,we,ke=255;for(we=0;we<J;++we){for(me=0;me<R;++me){var ze=x[_+me];se[le+4*me]=ze,ke&=ze}_+=k,le+=de}return ke!=255}function pi(x,_,k,R,J){var se;for(se=0;se<J;++se)k[R+se]=x[_+se]>>8}function oa(){bi=Hs,ti=vs,Fl=Vs,ri=pi}function go(x,_,k){X[x]=function(R,J,se,le,de,me,we,ke,ze,ye,Fe,Pe,At,He,lt,ht,jt){var bt,pr=jt-1>>1,tr=de[me+0]|we[ke+0]<<16,Kr=ze[ye+0]|Fe[Pe+0]<<16;e(R!=null);var cr=3*tr+Kr+131074>>2;for(_(R[J+0],255&cr,cr>>16,At,He),se!=null&&(cr=3*Kr+tr+131074>>2,_(se[le+0],255&cr,cr>>16,lt,ht)),bt=1;bt<=pr;++bt){var xn=de[me+bt]|we[ke+bt]<<16,ls=ze[ye+bt]|Fe[Pe+bt]<<16,Xr=tr+xn+Kr+ls+524296,rr=Xr+2*(xn+Kr)>>3;cr=rr+tr>>1,tr=(Xr=Xr+2*(tr+ls)>>3)+xn>>1,_(R[J+2*bt-1],255&cr,cr>>16,At,He+(2*bt-1)*k),_(R[J+2*bt-0],255&tr,tr>>16,At,He+(2*bt-0)*k),se!=null&&(cr=Xr+Kr>>1,tr=rr+ls>>1,_(se[le+2*bt-1],255&cr,cr>>16,lt,ht+(2*bt-1)*k),_(se[le+2*bt+0],255&tr,tr>>16,lt,ht+(2*bt+0)*k)),tr=xn,Kr=ls}1&jt||(cr=3*tr+Kr+131074>>2,_(R[J+jt-1],255&cr,cr>>16,At,He+(jt-1)*k),se!=null&&(cr=3*Kr+tr+131074>>2,_(se[le+jt-1],255&cr,cr>>16,lt,ht+(jt-1)*k)))}}function xo(){ks[MA]=cl,ks[ca]=Rl,ks[uA]=Cc,ks[ni]=Dl,ks[Il]=No,ks[Al]=Ji,ks[Ho]=Ml,ks[Ql]=Rl,ks[dA]=Dl,ks[Ol]=No,ks[A]=Ji}function la(x){return x&-16384?0>x?0:255:x>>du}function Ti(x,_){return la((19077*x>>8)+(26149*_>>8)-14234)}function mi(x,_,k){return la((19077*x>>8)-(6419*_>>8)-(13320*k>>8)+8708)}function il(x,_){return la((19077*x>>8)+(33050*_>>8)-17685)}function Ii(x,_,k,R,J){R[J+0]=Ti(x,k),R[J+1]=mi(x,_,k),R[J+2]=il(x,_)}function Ss(x,_,k,R,J){R[J+0]=il(x,_),R[J+1]=mi(x,_,k),R[J+2]=Ti(x,k)}function Do(x,_,k,R,J){var se=mi(x,_,k);_=se<<3&224|il(x,_)>>3,R[J+0]=248&Ti(x,k)|se>>5,R[J+1]=_}function Mo(x,_,k,R,J){var se=240&il(x,_)|15;R[J+0]=240&Ti(x,k)|mi(x,_,k)>>4,R[J+1]=se}function ol(x,_,k,R,J){R[J+0]=255,Ii(x,_,k,R,J+1)}function zi(x,_,k,R,J){Ss(x,_,k,R,J),R[J+3]=255}function $n(x,_,k,R,J){Ii(x,_,k,R,J),R[J+3]=255}function Ma(x,_,k){X[x]=function(R,J,se,le,de,me,we,ke,ze){for(var ye=ke+(-2&ze)*k;ke!=ye;)_(R[J+0],se[le+0],de[me+0],we,ke),_(R[J+1],se[le+0],de[me+0],we,ke+k),J+=2,++le,++me,ke+=2*k;1&ze&&_(R[J+0],se[le+0],de[me+0],we,ke)}}function Ul(x,_,k){return k==0?x==0?_==0?6:5:_==0?4:0:k}function Ja(x,_,k,R,J){switch(x>>>30){case 3:Zi(_,k,R,J,0);break;case 2:va(_,k,R,J);break;case 1:Nn(_,k,R,J)}}function Wa(x,_){var k,R,J=_.M,se=_.Nb,le=x.oc,de=x.pc+40,me=x.oc,we=x.pc+584,ke=x.oc,ze=x.pc+600;for(k=0;16>k;++k)le[de+32*k-1]=129;for(k=0;8>k;++k)me[we+32*k-1]=129,ke[ze+32*k-1]=129;for(0<J?le[de-1-32]=me[we-1-32]=ke[ze-1-32]=129:(i(le,de-32-1,127,21),i(me,we-32-1,127,9),i(ke,ze-32-1,127,9)),R=0;R<x.za;++R){var ye=_.ya[_.aa+R];if(0<R){for(k=-1;16>k;++k)n(le,de+32*k-4,le,de+32*k+12,4);for(k=-1;8>k;++k)n(me,we+32*k-4,me,we+32*k+4,4),n(ke,ze+32*k-4,ke,ze+32*k+4,4)}var Fe=x.Gd,Pe=x.Hd+R,At=ye.ad,He=ye.Hc;if(0<J&&(n(le,de-32,Fe[Pe].y,0,16),n(me,we-32,Fe[Pe].f,0,8),n(ke,ze-32,Fe[Pe].ea,0,8)),ye.Za){var lt=le,ht=de-32+16;for(0<J&&(R>=x.za-1?i(lt,ht,Fe[Pe].y[15],4):n(lt,ht,Fe[Pe+1].y,0,4)),k=0;4>k;k++)lt[ht+128+k]=lt[ht+256+k]=lt[ht+384+k]=lt[ht+0+k];for(k=0;16>k;++k,He<<=2)lt=le,ht=de+qs[k],fs[ye.Ob[k]](lt,ht),Ja(He,At,16*+k,lt,ht)}else if(lt=Ul(R,J,ye.Ob[0]),Ta[lt](le,de),He!=0)for(k=0;16>k;++k,He<<=2)Ja(He,At,16*+k,le,de+qs[k]);for(k=ye.Gc,lt=Ul(R,J,ye.Dd),yi[lt](me,we),yi[lt](ke,ze),He=At,lt=me,ht=we,255&(ye=0|k)&&(170&ye?La(He,256,lt,ht):gn(He,256,lt,ht)),ye=ke,He=ze,255&(k>>=8)&&(170&k?La(At,320,ye,He):gn(At,320,ye,He)),J<x.Ub-1&&(n(Fe[Pe].y,0,le,de+480,16),n(Fe[Pe].f,0,me,we+224,8),n(Fe[Pe].ea,0,ke,ze+224,8)),k=8*se*x.B,Fe=x.sa,Pe=x.ta+16*R+16*se*x.R,At=x.qa,ye=x.ra+8*R+k,He=x.Ha,lt=x.Ia+8*R+k,k=0;16>k;++k)n(Fe,Pe+k*x.R,le,de+32*k,16);for(k=0;8>k;++k)n(At,ye+k*x.B,me,we+32*k,8),n(He,lt+k*x.B,ke,ze+32*k,8)}}function ba(x,_,k,R,J,se,le,de,me){var we=[0],ke=[0],ze=0,ye=me!=null?me.kd:0,Fe=me??new vt;if(x==null||12>k)return 7;Fe.data=x,Fe.w=_,Fe.ha=k,_=[_],k=[k],Fe.gb=[Fe.gb];e:{var Pe=_,At=k,He=Fe.gb;if(e(x!=null),e(At!=null),e(He!=null),He[0]=0,12<=At[0]&&!r(x,Pe[0],"RIFF")){if(r(x,Pe[0]+8,"WEBP")){He=3;break e}var lt=tt(x,Pe[0]+4);if(12>lt||4294967286<lt){He=3;break e}if(ye&&lt>At[0]-8){He=7;break e}He[0]=lt,Pe[0]+=12,At[0]-=12}He=0}if(He!=0)return He;for(lt=0<Fe.gb[0],k=k[0];;){e:{var ht=x;At=_,He=k;var jt=we,bt=ke,pr=Pe=[0];if((cr=ze=[ze])[0]=0,8>He[0])He=7;else{if(!r(ht,At[0],"VP8X")){if(tt(ht,At[0]+4)!=10){He=3;break e}if(18>He[0]){He=7;break e}var tr=tt(ht,At[0]+8),Kr=1+ft(ht,At[0]+12);if(2147483648<=Kr*(ht=1+ft(ht,At[0]+15))){He=3;break e}pr!=null&&(pr[0]=tr),jt!=null&&(jt[0]=Kr),bt!=null&&(bt[0]=ht),At[0]+=18,He[0]-=18,cr[0]=1}He=0}}if(ze=ze[0],Pe=Pe[0],He!=0)return He;if(At=!!(2&Pe),!lt&&ze)return 3;if(se!=null&&(se[0]=!!(16&Pe)),le!=null&&(le[0]=At),de!=null&&(de[0]=0),le=we[0],Pe=ke[0],ze&&At&&me==null){He=0;break}if(4>k){He=7;break}if(lt&&ze||!lt&&!ze&&!r(x,_[0],"ALPH")){k=[k],Fe.na=[Fe.na],Fe.P=[Fe.P],Fe.Sa=[Fe.Sa];e:{tr=x,He=_,lt=k;var cr=Fe.gb;jt=Fe.na,bt=Fe.P,pr=Fe.Sa,Kr=22,e(tr!=null),e(lt!=null),ht=He[0];var xn=lt[0];for(e(jt!=null),e(pr!=null),jt[0]=null,bt[0]=null,pr[0]=0;;){if(He[0]=ht,lt[0]=xn,8>xn){He=7;break e}var ls=tt(tr,ht+4);if(4294967286<ls){He=3;break e}var Xr=8+ls+1&-2;if(Kr+=Xr,0<cr&&Kr>cr){He=3;break e}if(!r(tr,ht,"VP8 ")||!r(tr,ht,"VP8L")){He=0;break e}if(xn[0]<Xr){He=7;break e}r(tr,ht,"ALPH")||(jt[0]=tr,bt[0]=ht+8,pr[0]=ls),ht+=Xr,xn-=Xr}}if(k=k[0],Fe.na=Fe.na[0],Fe.P=Fe.P[0],Fe.Sa=Fe.Sa[0],He!=0)break}k=[k],Fe.Ja=[Fe.Ja],Fe.xa=[Fe.xa];e:if(cr=x,He=_,lt=k,jt=Fe.gb[0],bt=Fe.Ja,pr=Fe.xa,tr=He[0],ht=!r(cr,tr,"VP8 "),Kr=!r(cr,tr,"VP8L"),e(cr!=null),e(lt!=null),e(bt!=null),e(pr!=null),8>lt[0])He=7;else{if(ht||Kr){if(cr=tt(cr,tr+4),12<=jt&&cr>jt-12){He=3;break e}if(ye&&cr>lt[0]-8){He=7;break e}bt[0]=cr,He[0]+=8,lt[0]-=8,pr[0]=Kr}else pr[0]=5<=lt[0]&&cr[tr+0]==47&&!(cr[tr+4]>>5),bt[0]=lt[0];He=0}if(k=k[0],Fe.Ja=Fe.Ja[0],Fe.xa=Fe.xa[0],_=_[0],He!=0)break;if(4294967286<Fe.Ja)return 3;if(de==null||At||(de[0]=Fe.xa?2:1),le=[le],Pe=[Pe],Fe.xa){if(5>k){He=7;break}de=le,ye=Pe,At=se,x==null||5>k?x=0:5<=k&&x[_+0]==47&&!(x[_+4]>>5)?(lt=[0],cr=[0],jt=[0],_e(bt=new G,x,_,k),In(bt,lt,cr,jt)?(de!=null&&(de[0]=lt[0]),ye!=null&&(ye[0]=cr[0]),At!=null&&(At[0]=jt[0]),x=1):x=0):x=0}else{if(10>k){He=7;break}de=Pe,x==null||10>k||!Ca(x,_+3,k-3)?x=0:(ye=x[_+0]|x[_+1]<<8|x[_+2]<<16,At=16383&(x[_+7]<<8|x[_+6]),x=16383&(x[_+9]<<8|x[_+8]),1&ye||3<(ye>>1&7)||!(ye>>4&1)||ye>>5>=Fe.Ja||!At||!x?x=0:(le&&(le[0]=At),de&&(de[0]=x),x=1))}if(!x||(le=le[0],Pe=Pe[0],ze&&(we[0]!=le||ke[0]!=Pe)))return 3;me!=null&&(me[0]=Fe,me.offset=_-me.w,e(4294967286>_-me.w),e(me.offset==me.ha-k));break}return He==0||He==7&&ze&&me==null?(se!=null&&(se[0]|=Fe.na!=null&&0<Fe.na.length),R!=null&&(R[0]=le),J!=null&&(J[0]=Pe),0):He}function bo(x,_,k){var R=_.width,J=_.height,se=0,le=0,de=R,me=J;if(_.Da=x!=null&&0<x.Da,_.Da&&(de=x.cd,me=x.bd,se=x.v,le=x.j,11>k||(se&=-2,le&=-2),0>se||0>le||0>=de||0>=me||se+de>R||le+me>J))return 0;if(_.v=se,_.j=le,_.va=se+de,_.o=le+me,_.U=de,_.T=me,_.da=x!=null&&0<x.da,_.da){if(!zt(de,me,k=[x.ib],se=[x.hb]))return 0;_.ib=k[0],_.hb=se[0]}return _.ob=x!=null&&x.ob,_.Kb=x==null||!x.Sd,_.da&&(_.ob=_.ib<3*R/4&&_.hb<3*J/4,_.Kb=0),1}function vo(x){if(x==null)return 2;if(11>x.S){var _=x.f.RGBA;_.fb+=(x.height-1)*_.A,_.A=-_.A}else _=x.f.kb,x=x.height,_.O+=(x-1)*_.fa,_.fa=-_.fa,_.N+=(x-1>>1)*_.Ab,_.Ab=-_.Ab,_.W+=(x-1>>1)*_.Db,_.Db=-_.Db,_.F!=null&&(_.J+=(x-1)*_.lb,_.lb=-_.lb);return 0}function gi(x,_,k,R){if(R==null||0>=x||0>=_)return 2;if(k!=null){if(k.Da){var J=k.cd,se=k.bd,le=-2&k.v,de=-2&k.j;if(0>le||0>de||0>=J||0>=se||le+J>x||de+se>_)return 2;x=J,_=se}if(k.da){if(!zt(x,_,J=[k.ib],se=[k.hb]))return 2;x=J[0],_=se[0]}}R.width=x,R.height=_;e:{var me=R.width,we=R.height;if(x=R.S,0>=me||0>=we||!(x>=MA&&13>x))x=2;else{if(0>=R.Rd&&R.sd==null){le=se=J=_=0;var ke=(de=me*fu[x])*we;if(11>x||(se=(we+1)/2*(_=(me+1)/2),x==12&&(le=(J=me)*we)),(we=l(ke+2*se+le))==null){x=1;break e}R.sd=we,11>x?((me=R.f.RGBA).eb=we,me.fb=0,me.A=de,me.size=ke):((me=R.f.kb).y=we,me.O=0,me.fa=de,me.Fd=ke,me.f=we,me.N=0+ke,me.Ab=_,me.Cd=se,me.ea=we,me.W=0+ke+se,me.Db=_,me.Ed=se,x==12&&(me.F=we,me.J=0+ke+2*se),me.Tc=le,me.lb=J)}if(_=1,J=R.S,se=R.width,le=R.height,J>=MA&&13>J)if(11>J)x=R.f.RGBA,_&=(de=Math.abs(x.A))*(le-1)+se<=x.size,_&=de>=se*fu[J],_&=x.eb!=null;else{x=R.f.kb,de=(se+1)/2,ke=(le+1)/2,me=Math.abs(x.fa),we=Math.abs(x.Ab);var ze=Math.abs(x.Db),ye=Math.abs(x.lb),Fe=ye*(le-1)+se;_&=me*(le-1)+se<=x.Fd,_&=we*(ke-1)+de<=x.Cd,_=(_&=ze*(ke-1)+de<=x.Ed)&me>=se&we>=de&ze>=de,_&=x.y!=null,_&=x.f!=null,_&=x.ea!=null,J==12&&(_&=ye>=se,_&=Fe<=x.Tc,_&=x.F!=null)}else _=0;x=_?0:2}}return x!=0||k!=null&&k.fd&&(x=vo(R)),x}var Qi=64,Pa=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ds=24,ei=32,Ki=8,Oi=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Lt("Predictor0","PredictorAdd0"),X.Predictor0=function(){return 4278190080},X.Predictor1=function(x){return x},X.Predictor2=function(x,_,k){return _[k+0]},X.Predictor3=function(x,_,k){return _[k+1]},X.Predictor4=function(x,_,k){return _[k-1]},X.Predictor5=function(x,_,k){return gt(gt(x,_[k+1]),_[k+0])},X.Predictor6=function(x,_,k){return gt(x,_[k-1])},X.Predictor7=function(x,_,k){return gt(x,_[k+0])},X.Predictor8=function(x,_,k){return gt(_[k-1],_[k+0])},X.Predictor9=function(x,_,k){return gt(_[k+0],_[k+1])},X.Predictor10=function(x,_,k){return gt(gt(x,_[k-1]),gt(_[k+0],_[k+1]))},X.Predictor11=function(x,_,k){var R=_[k+0];return 0>=nr(R>>24&255,x>>24&255,(_=_[k-1])>>24&255)+nr(R>>16&255,x>>16&255,_>>16&255)+nr(R>>8&255,x>>8&255,_>>8&255)+nr(255&R,255&x,255&_)?R:x},X.Predictor12=function(x,_,k){var R=_[k+0];return(ir((x>>24&255)+(R>>24&255)-((_=_[k-1])>>24&255))<<24|ir((x>>16&255)+(R>>16&255)-(_>>16&255))<<16|ir((x>>8&255)+(R>>8&255)-(_>>8&255))<<8|ir((255&x)+(255&R)-(255&_)))>>>0},X.Predictor13=function(x,_,k){var R=_[k-1];return(_r((x=gt(x,_[k+0]))>>24&255,R>>24&255)<<24|_r(x>>16&255,R>>16&255)<<16|_r(x>>8&255,R>>8&255)<<8|_r(255&x,255&R))>>>0};var kl=X.PredictorAdd0;X.PredictorAdd1=xr,Lt("Predictor2","PredictorAdd2"),Lt("Predictor3","PredictorAdd3"),Lt("Predictor4","PredictorAdd4"),Lt("Predictor5","PredictorAdd5"),Lt("Predictor6","PredictorAdd6"),Lt("Predictor7","PredictorAdd7"),Lt("Predictor8","PredictorAdd8"),Lt("Predictor9","PredictorAdd9"),Lt("Predictor10","PredictorAdd10"),Lt("Predictor11","PredictorAdd11"),Lt("Predictor12","PredictorAdd12"),Lt("Predictor13","PredictorAdd13");var Ha=X.PredictorAdd2;Tt("ColorIndexInverseTransform","MapARGB","32b",function(x){return x>>8&255},function(x){return x}),Tt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(x){return x},function(x){return x>>8&255});var ys,yo=X.ColorIndexInverseTransform,Gi=X.MapARGB,$s=X.VP8LColorIndexInverseTransformAlpha,js=X.MapAlpha,Vi=X.VP8LPredictorsAdd=[];Vi.length=16,(X.VP8LPredictors=[]).length=16,(X.VP8LPredictorsAdd_C=[]).length=16,(X.VP8LPredictors_C=[]).length=16;var Po,wo,Ri,xi,Ua,$i,ka,Zi,va,La,Nn,gn,Kn,hs,Xi,Us,Yi,AA,Ll,cu,Bc,uu,ll,Nc,bi,ti,Fl,ri,Fa=l(511),cA=l(2041),Tl=l(225),_o=l(767),DA=0,vi=cA,Bo=Tl,Aa=_o,Zs=Fa,MA=0,ca=1,uA=2,ni=3,Il=4,Al=5,Ho=6,Ql=7,dA=8,Ol=9,A=10,f=[2,3,7],v=[3,3,11],E=[280,256,256,256,40],D=[0,1,1,1,0],ie=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Ce=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Oe=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Ze=8,pt=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Pt=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],hr=null,tn=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],ua=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],ws=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],si=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],jn=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Un=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],hn=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ta=[],fs=[],yi=[],qo=1,PA=2,On=[],ks=[];go("UpsampleRgbLinePair",Ii,3),go("UpsampleBgrLinePair",Ss,3),go("UpsampleRgbaLinePair",$n,4),go("UpsampleBgraLinePair",zi,4),go("UpsampleArgbLinePair",ol,4),go("UpsampleRgba4444LinePair",Mo,2),go("UpsampleRgb565LinePair",Do,2);var cl=X.UpsampleRgbLinePair,Cc=X.UpsampleBgrLinePair,Rl=X.UpsampleRgbaLinePair,Dl=X.UpsampleBgraLinePair,No=X.UpsampleArgbLinePair,Ji=X.UpsampleRgba4444LinePair,Ml=X.UpsampleRgb565LinePair,Wi=16,HA=1<<Wi-1,hA=-227,Pl=482,du=6,Hl=0,Ia=l(256),hu=l(256),Af=l(256),tg=l(256),rg=l(Pl-hA),ng=l(Pl-hA);Ma("YuvToRgbRow",Ii,3),Ma("YuvToBgrRow",Ss,3),Ma("YuvToRgbaRow",$n,4),Ma("YuvToBgraRow",zi,4),Ma("YuvToArgbRow",ol,4),Ma("YuvToRgba4444Row",Mo,2),Ma("YuvToRgb565Row",Do,2);var qs=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],qA=[0,2,8],Ec=[8,7,6,4,4,2,2,2,1,1,1,1],Sc=1;this.WebPDecodeRGBA=function(x,_,k,R,J){var se=ca,le=new ot,de=new Xe;le.ba=de,de.S=se,de.width=[de.width],de.height=[de.height];var me=de.width,we=de.height,ke=new at;if(ke==null||x==null)var ze=2;else e(ke!=null),ze=ba(x,_,k,ke.width,ke.height,ke.Pd,ke.Qd,ke.format,null);if(ze!=0?me=0:(me!=null&&(me[0]=ke.width[0]),we!=null&&(we[0]=ke.height[0]),me=1),me){de.width=de.width[0],de.height=de.height[0],R!=null&&(R[0]=de.width),J!=null&&(J[0]=de.height);e:{if(R=new Lr,(J=new vt).data=x,J.w=_,J.ha=k,J.kd=1,_=[0],e(J!=null),((x=ba(J.data,J.w,J.ha,null,null,null,_,null,J))==0||x==7)&&_[0]&&(x=4),(_=x)==0){if(e(le!=null),R.data=J.data,R.w=J.w+J.offset,R.ha=J.ha-J.offset,R.put=kt,R.ac=yn,R.bc=En,R.ma=le,J.xa){if((x=Gt())==null){le=1;break e}if((function(ye,Fe){var Pe=[0],At=[0],He=[0];t:for(;;){if(ye==null)return 0;if(Fe==null)return ye.a=2,0;if(ye.l=Fe,ye.a=0,_e(ye.m,Fe.data,Fe.w,Fe.ha),!In(ye.m,Pe,At,He)){ye.a=3;break t}if(ye.xb=PA,Fe.width=Pe[0],Fe.height=At[0],!Cr(Pe[0],At[0],1,ye,null))break t;return 1}return e(ye.a!=0),0})(x,R)){if(R=(_=gi(R.width,R.height,le.Oa,le.ba))==0){t:{R=x;r:for(;;){if(R==null){R=0;break t}if(e(R.s.yc!=null),e(R.s.Ya!=null),e(0<R.s.Wb),e((k=R.l)!=null),e((J=k.ma)!=null),R.xb!=0){if(R.ca=J.ba,R.tb=J.tb,e(R.ca!=null),!bo(J.Oa,k,ni)){R.a=2;break r}if(!Hr(R,k.width)||k.da)break r;if((k.da||Mt(R.ca.S))&&oa(),11>R.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),R.ca.f.kb.F!=null&&oa()),R.Pb&&0<R.s.ua&&R.s.vb.X==null&&!pe(R.s.vb,R.s.Wa.Xa)){R.a=1;break r}R.xb=0}if(!We(R,R.V,R.Ba,R.c,R.i,k.o,De))break r;J.Dc=R.Ma,R=1;break t}e(R.a!=0),R=0}R=!R}R&&(_=x.a)}else _=x.a}else{if((x=new xs)==null){le=1;break e}if(x.Fa=J.na,x.P=J.P,x.qc=J.Sa,Rs(x,R)){if((_=gi(R.width,R.height,le.Oa,le.ba))==0){if(x.Aa=0,k=le.Oa,e((J=x)!=null),k!=null){if(0<(me=0>(me=k.Md)?0:100<me?255:255*me/100)){for(we=ke=0;4>we;++we)12>(ze=J.pb[we]).lc&&(ze.ia=me*Ec[0>ze.lc?0:ze.lc]>>3),ke|=ze.ia;ke&&(alert("todo:VP8InitRandom"),J.ia=1)}J.Ga=k.Id,100<J.Ga?J.Ga=100:0>J.Ga&&(J.Ga=0)}(function(ye,Fe){if(ye==null)return 0;if(Fe==null)return $r(ye,2,"NULL VP8Io parameter in VP8Decode().");if(!ye.cb&&!Rs(ye,Fe))return 0;if(e(ye.cb),Fe.ac==null||Fe.ac(Fe)){Fe.ob&&(ye.L=0);var Pe=qA[ye.L];if(ye.L==2?(ye.yb=0,ye.zb=0):(ye.yb=Fe.v-Pe>>4,ye.zb=Fe.j-Pe>>4,0>ye.yb&&(ye.yb=0),0>ye.zb&&(ye.zb=0)),ye.Va=Fe.o+15+Pe>>4,ye.Hb=Fe.va+15+Pe>>4,ye.Hb>ye.za&&(ye.Hb=ye.za),ye.Va>ye.Ub&&(ye.Va=ye.Ub),0<ye.L){var At=ye.ed;for(Pe=0;4>Pe;++Pe){var He;if(ye.Qa.Cb){var lt=ye.Qa.Lb[Pe];ye.Qa.Fb||(lt+=At.Tb)}else lt=At.Tb;for(He=0;1>=He;++He){var ht=ye.gd[Pe][He],jt=lt;if(At.Pc&&(jt+=At.vd[0],He&&(jt+=At.od[0])),0<(jt=0>jt?0:63<jt?63:jt)){var bt=jt;0<At.wb&&(bt=4<At.wb?bt>>2:bt>>1)>9-At.wb&&(bt=9-At.wb),1>bt&&(bt=1),ht.dd=bt,ht.tc=2*jt+bt,ht.ld=40<=jt?2:15<=jt?1:0}else ht.tc=0;ht.La=He}}}Pe=0}else $r(ye,6,"Frame setup failed"),Pe=ye.a;if(Pe=Pe==0){if(Pe){ye.$c=0,0<ye.Aa||(ye.Ic=Sc);t:{Pe=ye.Ic,At=4*(bt=ye.za);var pr=32*bt,tr=bt+1,Kr=0<ye.L?bt*(0<ye.Aa?2:1):0,cr=(ye.Aa==2?2:1)*bt;if((ht=At+832+(He=3*(16*Pe+qA[ye.L])/2*pr)+(lt=ye.Fa!=null&&0<ye.Fa.length?ye.Kc.c*ye.Kc.i:0))!=ht)Pe=0;else{if(ht>ye.Vb){if(ye.Vb=0,ye.Ec=l(ht),ye.Fc=0,ye.Ec==null){Pe=$r(ye,1,"no memory during frame initialization.");break t}ye.Vb=ht}ht=ye.Ec,jt=ye.Fc,ye.Ac=ht,ye.Bc=jt,jt+=At,ye.Gd=u(pr,Zr),ye.Hd=0,ye.rb=u(tr+1,yr),ye.sb=1,ye.wa=Kr?u(Kr,Xt):null,ye.Y=0,ye.D.Nb=0,ye.D.wa=ye.wa,ye.D.Y=ye.Y,0<ye.Aa&&(ye.D.Y+=bt),e(!0),ye.oc=ht,ye.pc=jt,jt+=832,ye.ya=u(cr,fn),ye.aa=0,ye.D.ya=ye.ya,ye.D.aa=ye.aa,ye.Aa==2&&(ye.D.aa+=bt),ye.R=16*bt,ye.B=8*bt,bt=(pr=qA[ye.L])*ye.R,pr=pr/2*ye.B,ye.sa=ht,ye.ta=jt+bt,ye.qa=ye.sa,ye.ra=ye.ta+16*Pe*ye.R+pr,ye.Ha=ye.qa,ye.Ia=ye.ra+8*Pe*ye.B+pr,ye.$c=0,jt+=He,ye.mb=lt?ht:null,ye.nb=lt?jt:null,e(jt+lt<=ye.Fc+ye.Vb),wr(ye),i(ye.Ac,ye.Bc,0,At),Pe=1}}if(Pe){if(Fe.ka=0,Fe.y=ye.sa,Fe.O=ye.ta,Fe.f=ye.qa,Fe.N=ye.ra,Fe.ea=ye.Ha,Fe.Vd=ye.Ia,Fe.fa=ye.R,Fe.Rc=ye.B,Fe.F=null,Fe.J=0,!DA){for(Pe=-255;255>=Pe;++Pe)Fa[255+Pe]=0>Pe?-Pe:Pe;for(Pe=-1020;1020>=Pe;++Pe)cA[1020+Pe]=-128>Pe?-128:127<Pe?127:Pe;for(Pe=-112;112>=Pe;++Pe)Tl[112+Pe]=-16>Pe?-16:15<Pe?15:Pe;for(Pe=-255;510>=Pe;++Pe)_o[255+Pe]=0>Pe?0:255<Pe?255:Pe;DA=1}ka=sr,Zi=Nt,La=Ot,Nn=Rr,gn=Qt,va=Et,Kn=lA,hs=mo,Xi=Y,Us=be,Yi=RA,AA=j,Ll=Se,cu=Qe,Bc=Ps,uu=Ya,ll=Ro,Nc=oA,fs[0]=iA,fs[1]=pn,fs[2]=$a,fs[3]=Sn,fs[4]=Sa,fs[5]=nl,fs[6]=Ds,fs[7]=Za,fs[8]=Li,fs[9]=ja,Ta[0]=Gs,Ta[1]=ts,Ta[2]=di,Ta[3]=ki,Ta[4]=Pi,Ta[5]=fo,Ta[6]=Oo,yi[0]=sl,yi[1]=Ea,yi[2]=zn,yi[3]=Hi,yi[4]=Ms,yi[5]=jl,yi[6]=hi,Pe=1}else Pe=0}Pe&&(Pe=(function(xn,ls){for(xn.M=0;xn.M<xn.Va;++xn.M){var Xr,rr=xn.Jc[xn.M&xn.Xb],qt=xn.m,_s=xn;for(Xr=0;Xr<_s.za;++Xr){var Tr=qt,rn=_s,Mn=rn.Ac,da=rn.Bc+4*Xr,Qa=rn.zc,rs=rn.ya[rn.aa+Xr];if(rn.Qa.Bb?rs.$b=Je(Tr,rn.Pa.jb[0])?2+Je(Tr,rn.Pa.jb[2]):Je(Tr,rn.Pa.jb[1]):rs.$b=0,rn.kc&&(rs.Ad=Je(Tr,rn.Bd)),rs.Za=!Je(Tr,145)+0,rs.Za){var Xs=rs.Ob,qa=0;for(rn=0;4>rn;++rn){var Ys,un=Qa[0+rn];for(Ys=0;4>Ys;++Ys){un=jn[Mn[da+Ys]][un];for(var kn=ws[Je(Tr,un[0])];0<kn;)kn=ws[2*kn+Je(Tr,un[kn])];un=-kn,Mn[da+Ys]=un}n(Xs,qa,Mn,da,4),qa+=4,Qa[0+rn]=un}}else un=Je(Tr,156)?Je(Tr,128)?1:3:Je(Tr,163)?2:0,rs.Ob[0]=un,i(Mn,da,un,4),i(Qa,0,un,4);rs.Dd=Je(Tr,142)?Je(Tr,114)?Je(Tr,183)?1:3:2:0}if(_s.m.Ka)return $r(xn,7,"Premature end-of-partition0 encountered.");for(;xn.ja<xn.za;++xn.ja){if(_s=rr,Tr=(qt=xn).rb[qt.sb-1],Mn=qt.rb[qt.sb+qt.ja],Xr=qt.ya[qt.aa+qt.ja],da=qt.kc?Xr.Ad:0)Tr.la=Mn.la=0,Xr.Za||(Tr.Na=Mn.Na=0),Xr.Hc=0,Xr.Gc=0,Xr.ia=0;else{var Bs,Tn;if(Tr=Mn,Mn=_s,da=qt.Pa.Xc,Qa=qt.ya[qt.aa+qt.ja],rs=qt.pb[Qa.$b],rn=Qa.ad,Xs=0,qa=qt.rb[qt.sb-1],un=Ys=0,i(rn,Xs,0,384),Qa.Za)var ha=0,Ns=da[3];else{kn=l(16);var Ln=Tr.Na+qa.Na;if(Ln=hr(Mn,da[1],Ln,rs.Eb,0,kn,0),Tr.Na=qa.Na=(0<Ln)+0,1<Ln)ka(kn,0,rn,Xs);else{var zs=kn[0]+3>>3;for(kn=0;256>kn;kn+=16)rn[Xs+kn]=zs}ha=1,Ns=da[0]}var Pn=15&Tr.la,Js=15&qa.la;for(kn=0;4>kn;++kn){var Ws=1&Js;for(zs=Tn=0;4>zs;++zs)Pn=Pn>>1|(Ws=(Ln=hr(Mn,Ns,Ln=Ws+(1&Pn),rs.Sc,ha,rn,Xs))>ha)<<7,Tn=Tn<<2|(3<Ln?3:1<Ln?2:rn[Xs+0]!=0),Xs+=16;Pn>>=4,Js=Js>>1|Ws<<7,Ys=(Ys<<8|Tn)>>>0}for(Ns=Pn,ha=Js>>4,Bs=0;4>Bs;Bs+=2){for(Tn=0,Pn=Tr.la>>4+Bs,Js=qa.la>>4+Bs,kn=0;2>kn;++kn){for(Ws=1&Js,zs=0;2>zs;++zs)Ln=Ws+(1&Pn),Pn=Pn>>1|(Ws=0<(Ln=hr(Mn,da[2],Ln,rs.Qc,0,rn,Xs)))<<3,Tn=Tn<<2|(3<Ln?3:1<Ln?2:rn[Xs+0]!=0),Xs+=16;Pn>>=2,Js=Js>>1|Ws<<5}un|=Tn<<4*Bs,Ns|=Pn<<4<<Bs,ha|=(240&Js)<<Bs}Tr.la=Ns,qa.la=ha,Qa.Hc=Ys,Qa.Gc=un,Qa.ia=43690&un?0:rs.ia,da=!(Ys|un)}if(0<qt.L&&(qt.wa[qt.Y+qt.ja]=qt.gd[Xr.$b][Xr.Za],qt.wa[qt.Y+qt.ja].La|=!da),_s.Ka)return $r(xn,7,"Premature end-of-file encountered.")}if(wr(xn),qt=ls,_s=1,Xr=(rr=xn).D,Tr=0<rr.L&&rr.M>=rr.zb&&rr.M<=rr.Va,rr.Aa==0)t:{if(Xr.M=rr.M,Xr.uc=Tr,Wa(rr,Xr),_s=1,Xr=(Tn=rr.D).Nb,Tr=(un=qA[rr.L])*rr.R,Mn=un/2*rr.B,kn=16*Xr*rr.R,zs=8*Xr*rr.B,da=rr.sa,Qa=rr.ta-Tr+kn,rs=rr.qa,rn=rr.ra-Mn+zs,Xs=rr.Ha,qa=rr.Ia-Mn+zs,Js=(Pn=Tn.M)==0,Ys=Pn>=rr.Va-1,rr.Aa==2&&Wa(rr,Tn),Tn.uc)for(Ws=(Ln=rr).D.M,e(Ln.D.uc),Tn=Ln.yb;Tn<Ln.Hb;++Tn){ha=Tn,Ns=Ws;var Zn=(Cn=(ea=Ln).D).Nb;Bs=ea.R;var Cn=Cn.wa[Cn.Y+ha],za=ea.sa,Ls=ea.ta+16*Zn*Bs+16*ha,Sr=Cn.dd,jr=Cn.tc;if(jr!=0)if(e(3<=jr),ea.L==1)0<ha&&uu(za,Ls,Bs,jr+4),Cn.La&&Nc(za,Ls,Bs,jr),0<Ns&&Bc(za,Ls,Bs,jr+4),Cn.La&&ll(za,Ls,Bs,jr);else{var Fn=ea.B,wi=ea.qa,eo=ea.ra+8*Zn*Fn+8*ha,ai=ea.Ha,ea=ea.Ia+8*Zn*Fn+8*ha;Zn=Cn.ld,0<ha&&(hs(za,Ls,Bs,jr+4,Sr,Zn),Us(wi,eo,ai,ea,Fn,jr+4,Sr,Zn)),Cn.La&&(AA(za,Ls,Bs,jr,Sr,Zn),cu(wi,eo,ai,ea,Fn,jr,Sr,Zn)),0<Ns&&(Kn(za,Ls,Bs,jr+4,Sr,Zn),Xi(wi,eo,ai,ea,Fn,jr+4,Sr,Zn)),Cn.La&&(Yi(za,Ls,Bs,jr,Sr,Zn),Ll(wi,eo,ai,ea,Fn,jr,Sr,Zn))}}if(rr.ia&&alert("todo:DitherRow"),qt.put!=null){if(Tn=16*Pn,Pn=16*(Pn+1),Js?(qt.y=rr.sa,qt.O=rr.ta+kn,qt.f=rr.qa,qt.N=rr.ra+zs,qt.ea=rr.Ha,qt.W=rr.Ia+zs):(Tn-=un,qt.y=da,qt.O=Qa,qt.f=rs,qt.N=rn,qt.ea=Xs,qt.W=qa),Ys||(Pn-=un),Pn>qt.o&&(Pn=qt.o),qt.F=null,qt.J=null,rr.Fa!=null&&0<rr.Fa.length&&Tn<Pn&&(qt.J=Qn(rr,qt,Tn,Pn-Tn),qt.F=rr.mb,qt.F==null&&qt.F.length==0)){_s=$r(rr,3,"Could not decode alpha data.");break t}Tn<qt.j&&(un=qt.j-Tn,Tn=qt.j,e(!(1&un)),qt.O+=rr.R*un,qt.N+=rr.B*(un>>1),qt.W+=rr.B*(un>>1),qt.F!=null&&(qt.J+=qt.width*un)),Tn<Pn&&(qt.O+=qt.v,qt.N+=qt.v>>1,qt.W+=qt.v>>1,qt.F!=null&&(qt.J+=qt.v),qt.ka=Tn-qt.j,qt.U=qt.va-qt.v,qt.T=Pn-Tn,_s=qt.put(qt))}Xr+1!=rr.Ic||Ys||(n(rr.sa,rr.ta-Tr,da,Qa+16*rr.R,Tr),n(rr.qa,rr.ra-Mn,rs,rn+8*rr.B,Mn),n(rr.Ha,rr.Ia-Mn,Xs,qa+8*rr.B,Mn))}if(!_s)return $r(xn,6,"Output aborted.")}return 1})(ye,Fe)),Fe.bc!=null&&Fe.bc(Fe),Pe&=1}return Pe?(ye.cb=0,Pe):0})(x,R)||(_=x.a)}}else _=x.a}_==0&&le.Oa!=null&&le.Oa.fd&&(_=vo(le.ba))}le=_}se=le!=0?null:11>se?de.f.RGBA.eb:de.f.kb.y}else se=null;return se};var fu=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function m(X,ge){for(var Z="",W=0;W<4;W++)Z+=String.fromCharCode(X[ge++]);return Z}function g(X,ge){return X[ge+0]|X[ge+1]<<8}function b(X,ge){return(X[ge+0]|X[ge+1]<<8|X[ge+2]<<16)>>>0}function N(X,ge){return(X[ge+0]|X[ge+1]<<8|X[ge+2]<<16|X[ge+3]<<24)>>>0}new h;var w=[0],C=[0],U=[],T=new h,S=t,I=(function(X,ge){var Z={},W=0,ae=!1,K=0,ue=0;if(Z.frames=[],!(function(F,G){for(var $=0;$<4;$++)if(F[G+$]!="RIFF".charCodeAt($))return!0;return!1})(X,ge)){for(N(X,ge+=4),ge+=8;ge<X.length;){var Q=m(X,ge),Ae=N(X,ge+=4);ge+=4;var ee=Ae+(1&Ae);switch(Q){case"VP8 ":case"VP8L":Z.frames[W]===void 0&&(Z.frames[W]={}),(q=Z.frames[W]).src_off=ae?ue:ge-8,q.src_size=K+Ae+8,W++,ae&&(ae=!1,K=0,ue=0);break;case"VP8X":(q=Z.header={}).feature_flags=X[ge];var _e=ge+4;q.canvas_width=1+b(X,_e),_e+=3,q.canvas_height=1+b(X,_e),_e+=3;break;case"ALPH":ae=!0,K=ee+8,ue=ge-8;break;case"ANIM":(q=Z.header).bgcolor=N(X,ge),_e=ge+4,q.loop_count=g(X,_e),_e+=2;break;case"ANMF":var Ne,q;(q=Z.frames[W]={}).offset_x=2*b(X,ge),ge+=3,q.offset_y=2*b(X,ge),ge+=3,q.width=1+b(X,ge),ge+=3,q.height=1+b(X,ge),ge+=3,q.duration=b(X,ge),ge+=3,Ne=X[ge++],q.dispose=1&Ne,q.blend=Ne>>1&1}Q!="ANMF"&&(ge+=ee)}return Z}})(S,0);I.response=S,I.rgbaoutput=!0,I.dataurl=!1;var O=I.header?I.header:null,M=I.frames?I.frames:null;if(O){O.loop_counter=O.loop_count,w=[O.canvas_height],C=[O.canvas_width];for(var ne=0;ne<M.length&&M[ne].blend!=0;ne++);}var z=M[0],oe=T.WebPDecodeRGBA(S,z.src_off,z.src_size,C,w);z.rgba=oe,z.imgwidth=C[0],z.imgheight=w[0];for(var te=0;te<C[0]*w[0]*4;te++)U[te]=oe[te];return this.width=C,this.height=w,this.data=U,this}(function(t){var e,r,n,i,l,u,d,h,m,g=function(F){return F=F||{},this.isStrokeTransparent=F.isStrokeTransparent||!1,this.strokeOpacity=F.strokeOpacity||1,this.strokeStyle=F.strokeStyle||"#000000",this.fillStyle=F.fillStyle||"#000000",this.isFillTransparent=F.isFillTransparent||!1,this.fillOpacity=F.fillOpacity||1,this.font=F.font||"10px sans-serif",this.textBaseline=F.textBaseline||"alphabetic",this.textAlign=F.textAlign||"left",this.lineWidth=F.lineWidth||1,this.lineJoin=F.lineJoin||"miter",this.lineCap=F.lineCap||"butt",this.path=F.path||[],this.transform=F.transform!==void 0?F.transform.clone():new h,this.globalCompositeOperation=F.globalCompositeOperation||"normal",this.globalAlpha=F.globalAlpha||1,this.clip_path=F.clip_path||[],this.currentPoint=F.currentPoint||new u,this.miterLimit=F.miterLimit||10,this.lastPoint=F.lastPoint||new u,this.lineDashOffset=F.lineDashOffset||0,this.lineDash=F.lineDash||[],this.margin=F.margin||[0,0,0,0],this.prevPageLastElemOffset=F.prevPageLastElemOffset||0,this.ignoreClearRect=typeof F.ignoreClearRect!="boolean"||F.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new b(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,l=this.internal.getVerticalCoordinate,u=this.internal.Point,d=this.internal.Rectangle,h=this.internal.Matrix,m=new g}]);var b=function(F){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var G=F;Object.defineProperty(this,"pdf",{get:function(){return G}});var $=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return $},set:function(pe){$=!!pe}});var V=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return V},set:function(pe){V=!!pe}});var he=0;Object.defineProperty(this,"posX",{get:function(){return he},set:function(pe){isNaN(pe)||(he=pe)}});var ve=0;Object.defineProperty(this,"posY",{get:function(){return ve},set:function(pe){isNaN(pe)||(ve=pe)}}),Object.defineProperty(this,"margin",{get:function(){return m.margin},set:function(pe){var Ct;typeof pe=="number"?Ct=[pe,pe,pe,pe]:((Ct=new Array(4))[0]=pe[0],Ct[1]=pe.length>=2?pe[1]:Ct[0],Ct[2]=pe.length>=3?pe[2]:Ct[0],Ct[3]=pe.length>=4?pe[3]:Ct[1]),m.margin=Ct}});var je=!1;Object.defineProperty(this,"autoPaging",{get:function(){return je},set:function(pe){je=pe}});var Te=0;Object.defineProperty(this,"lastBreak",{get:function(){return Te},set:function(pe){Te=pe}});var Je=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Je},set:function(pe){Je=pe}}),Object.defineProperty(this,"ctx",{get:function(){return m},set:function(pe){pe instanceof g&&(m=pe)}}),Object.defineProperty(this,"path",{get:function(){return m.path},set:function(pe){m.path=pe}});var Ke=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ke},set:function(pe){Ke=pe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(pe){var Ct;Ct=N(pe),this.ctx.fillStyle=Ct.style,this.ctx.isFillTransparent=Ct.a===0,this.ctx.fillOpacity=Ct.a,this.pdf.setFillColor(Ct.r,Ct.g,Ct.b,{a:Ct.a}),this.pdf.setTextColor(Ct.r,Ct.g,Ct.b,{a:Ct.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(pe){var Ct=N(pe);this.ctx.strokeStyle=Ct.style,this.ctx.isStrokeTransparent=Ct.a===0,this.ctx.strokeOpacity=Ct.a,Ct.a===0?this.pdf.setDrawColor(255,255,255):(Ct.a,this.pdf.setDrawColor(Ct.r,Ct.g,Ct.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(pe){["butt","round","square"].indexOf(pe)!==-1&&(this.ctx.lineCap=pe,this.pdf.setLineCap(pe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(pe){isNaN(pe)||(this.ctx.lineWidth=pe,this.pdf.setLineWidth(pe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(pe){["bevel","round","miter"].indexOf(pe)!==-1&&(this.ctx.lineJoin=pe,this.pdf.setLineJoin(pe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(pe){isNaN(pe)||(this.ctx.miterLimit=pe,this.pdf.setMiterLimit(pe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(pe){this.ctx.textBaseline=pe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(pe){["right","end","center","left","start"].indexOf(pe)!==-1&&(this.ctx.textAlign=pe)}});var nt=null,ft=null,tt=null;Object.defineProperty(this,"fontFaces",{get:function(){return tt},set:function(pe){nt=null,ft=null,tt=pe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(pe){var Ct;if(this.ctx.font=pe,(Ct=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(pe))!==null){var It=Ct[1];Ct[2];var zt=Ct[3],Ie=Ct[4];Ct[5];var Rt=Ct[6],Lt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ie)[2];Ie=Math.floor(Lt==="px"?parseFloat(Ie)*this.pdf.internal.scaleFactor:Lt==="em"?parseFloat(Ie)*this.pdf.getFontSize():parseFloat(Ie)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ie);var Bt=(function(Tt){var Vr,gr,Vt=[],or=Tt.trim();if(or==="")return ix;if(or in i_)return[i_[or]];for(;or!=="";){switch(gr=null,Vr=(or=l_(or)).charAt(0)){case'"':case"'":gr=yQ(or.substring(1),Vr);break;default:gr=wQ(or)}if(gr===null||(Vt.push(gr[0]),(or=l_(gr[1]))!==""&&or.charAt(0)!==","))return ix;or=or.replace(/^,/,"")}return Vt})(Rt);if(this.fontFaces){var gt=(function(Tt,Vr){var gr=Tt.getFontList(),Vt=JSON.stringify(gr);if(nt===null||ft!==Vt){var or=(function(Ht){var Kt=[];return Object.keys(Ht).forEach(function(kr){Ht[kr].forEach(function(Mt){var er=null;switch(Mt){case"bold":er={family:kr,weight:"bold"};break;case"italic":er={family:kr,style:"italic"};break;case"bolditalic":er={family:kr,weight:"bold",style:"italic"};break;case"":case"normal":er={family:kr}}er!==null&&(er.ref={name:kr,style:Mt},Kt.push(er))})}),Kt})(gr);nt=(function(Ht){for(var Kt={},kr=0;kr<Ht.length;++kr){var Mt=ax(Ht[kr]),er=Mt.family,Ue=Mt.stretch,Xe=Mt.style,at=Mt.weight;Kt[er]=Kt[er]||{},Kt[er][Ue]=Kt[er][Ue]||{},Kt[er][Ue][Xe]=Kt[er][Ue][Xe]||{},Kt[er][Ue][Xe][at]=Mt}return Kt})(or.concat(Vr)),ft=Vt}return nt})(this.pdf,this.fontFaces),ir=Bt.map(function(Tt){return{family:Tt,stretch:"normal",weight:zt,style:It}}),_r=(function(Tt,Vr,gr){for(var Vt=(gr=gr||{}).defaultFontFamily||"times",or=Object.assign({},vQ,gr.genericFontFamilies||{}),Ht=null,Kt=null,kr=0;kr<Vr.length;++kr)if(or[(Ht=ax(Vr[kr])).family]&&(Ht.family=or[Ht.family]),Tt.hasOwnProperty(Ht.family)){Kt=Tt[Ht.family];break}if(!(Kt=Kt||Tt[Vt]))throw new Error("Could not find a font-family for the rule '"+o_(Ht)+"' and default family '"+Vt+"'.");if(Kt=(function(Mt,er){if(er[Mt])return er[Mt];var Ue=wb[Mt],Xe=Ue<=wb.normal?-1:1,at=a_(er,$N,Ue,Xe);if(!at)throw new Error("Could not find a matching font-stretch value for "+Mt);return at})(Ht.stretch,Kt),Kt=(function(Mt,er){if(er[Mt])return er[Mt];for(var Ue=VN[Mt],Xe=0;Xe<Ue.length;++Xe)if(er[Ue[Xe]])return er[Ue[Xe]];throw new Error("Could not find a matching font-style for "+Mt)})(Ht.style,Kt),!(Kt=(function(Mt,er){if(er[Mt])return er[Mt];if(Mt===400&&er[500])return er[500];if(Mt===500&&er[400])return er[400];var Ue=bQ[Mt],Xe=a_(er,ZN,Ue,Mt<400?-1:1);if(!Xe)throw new Error("Could not find a matching font-weight for value "+Mt);return Xe})(Ht.weight,Kt)))throw new Error("Failed to resolve a font for the rule '"+o_(Ht)+"'.");return Kt})(gt,ir);this.pdf.setFont(_r.ref.name,_r.ref.style)}else{var nr="";(zt==="bold"||parseInt(zt,10)>=700||It==="bold")&&(nr="bold"),It==="italic"&&(nr+="italic"),nr.length===0&&(nr="normal");for(var xr="",$t={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},St=0;St<Bt.length;St++){if(this.pdf.internal.getFont(Bt[St],nr,{noFallback:!0,disableWarning:!0})!==void 0){xr=Bt[St];break}if(nr==="bolditalic"&&this.pdf.internal.getFont(Bt[St],"bold",{noFallback:!0,disableWarning:!0})!==void 0)xr=Bt[St],nr="bold";else if(this.pdf.internal.getFont(Bt[St],"normal",{noFallback:!0,disableWarning:!0})!==void 0){xr=Bt[St],nr="normal";break}}if(xr===""){for(var Zt=0;Zt<Bt.length;Zt++)if($t[Bt[Zt]]){xr=$t[Bt[Zt]];break}}xr=xr===""?"Times":xr,this.pdf.setFont(xr,nr)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(pe){this.ctx.globalCompositeOperation=pe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(pe){this.ctx.globalAlpha=pe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(pe){this.ctx.lineDashOffset=pe,q.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(pe){this.ctx.lineDash=pe,q.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(pe){this.ctx.ignoreClearRect=!!pe}})};b.prototype.setLineDash=function(F){this.lineDash=F},b.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},b.prototype.fill=function(){M.call(this,"fill",!1)},b.prototype.stroke=function(){M.call(this,"stroke",!1)},b.prototype.beginPath=function(){this.path=[{type:"begin"}]},b.prototype.moveTo=function(F,G){if(isNaN(F)||isNaN(G))throw cs.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var $=this.ctx.transform.applyToPoint(new u(F,G));this.path.push({type:"mt",x:$.x,y:$.y}),this.ctx.lastPoint=new u(F,G)},b.prototype.closePath=function(){var F=new u(0,0),G=0;for(G=this.path.length-1;G!==-1;G--)if(this.path[G].type==="begin"&&Wn(this.path[G+1])==="object"&&typeof this.path[G+1].x=="number"){F=new u(this.path[G+1].x,this.path[G+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new u(F.x,F.y)},b.prototype.lineTo=function(F,G){if(isNaN(F)||isNaN(G))throw cs.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var $=this.ctx.transform.applyToPoint(new u(F,G));this.path.push({type:"lt",x:$.x,y:$.y}),this.ctx.lastPoint=new u($.x,$.y)},b.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),M.call(this,null,!0)},b.prototype.quadraticCurveTo=function(F,G,$,V){if(isNaN($)||isNaN(V)||isNaN(F)||isNaN(G))throw cs.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var he=this.ctx.transform.applyToPoint(new u($,V)),ve=this.ctx.transform.applyToPoint(new u(F,G));this.path.push({type:"qct",x1:ve.x,y1:ve.y,x:he.x,y:he.y}),this.ctx.lastPoint=new u(he.x,he.y)},b.prototype.bezierCurveTo=function(F,G,$,V,he,ve){if(isNaN(he)||isNaN(ve)||isNaN(F)||isNaN(G)||isNaN($)||isNaN(V))throw cs.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var je=this.ctx.transform.applyToPoint(new u(he,ve)),Te=this.ctx.transform.applyToPoint(new u(F,G)),Je=this.ctx.transform.applyToPoint(new u($,V));this.path.push({type:"bct",x1:Te.x,y1:Te.y,x2:Je.x,y2:Je.y,x:je.x,y:je.y}),this.ctx.lastPoint=new u(je.x,je.y)},b.prototype.arc=function(F,G,$,V,he,ve){if(isNaN(F)||isNaN(G)||isNaN($)||isNaN(V)||isNaN(he))throw cs.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ve=!!ve,!this.ctx.transform.isIdentity){var je=this.ctx.transform.applyToPoint(new u(F,G));F=je.x,G=je.y;var Te=this.ctx.transform.applyToPoint(new u(0,$)),Je=this.ctx.transform.applyToPoint(new u(0,0));$=Math.sqrt(Math.pow(Te.x-Je.x,2)+Math.pow(Te.y-Je.y,2))}Math.abs(he-V)>=2*Math.PI&&(V=0,he=2*Math.PI),this.path.push({type:"arc",x:F,y:G,radius:$,startAngle:V,endAngle:he,counterclockwise:ve})},b.prototype.arcTo=function(F,G,$,V,he){throw new Error("arcTo not implemented.")},b.prototype.rect=function(F,G,$,V){if(isNaN(F)||isNaN(G)||isNaN($)||isNaN(V))throw cs.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(F,G),this.lineTo(F+$,G),this.lineTo(F+$,G+V),this.lineTo(F,G+V),this.lineTo(F,G),this.lineTo(F+$,G),this.lineTo(F,G)},b.prototype.fillRect=function(F,G,$,V){if(isNaN(F)||isNaN(G)||isNaN($)||isNaN(V))throw cs.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!w.call(this)){var he={};this.lineCap!=="butt"&&(he.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(he.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(F,G,$,V),this.fill(),he.hasOwnProperty("lineCap")&&(this.lineCap=he.lineCap),he.hasOwnProperty("lineJoin")&&(this.lineJoin=he.lineJoin)}},b.prototype.strokeRect=function(F,G,$,V){if(isNaN(F)||isNaN(G)||isNaN($)||isNaN(V))throw cs.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");C.call(this)||(this.beginPath(),this.rect(F,G,$,V),this.stroke())},b.prototype.clearRect=function(F,G,$,V){if(isNaN(F)||isNaN(G)||isNaN($)||isNaN(V))throw cs.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(F,G,$,V))},b.prototype.save=function(F){F=typeof F!="boolean"||F;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,$=0;$<this.pdf.internal.getNumberOfPages();$++)this.pdf.setPage($+1),this.pdf.internal.out("q");if(this.pdf.setPage(G),F){this.ctx.fontSize=this.pdf.internal.getFontSize();var V=new g(this.ctx);this.ctxStack.push(this.ctx),this.ctx=V}},b.prototype.restore=function(F){F=typeof F!="boolean"||F;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,$=0;$<this.pdf.internal.getNumberOfPages();$++)this.pdf.setPage($+1),this.pdf.internal.out("Q");this.pdf.setPage(G),F&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},b.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var N=function(F){var G,$,V,he;if(F.isCanvasGradient===!0&&(F=F.getColor()),!F)return{r:0,g:0,b:0,a:0,style:F};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(F))G=0,$=0,V=0,he=0;else{var ve=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(F);if(ve!==null)G=parseInt(ve[1]),$=parseInt(ve[2]),V=parseInt(ve[3]),he=1;else if((ve=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(F))!==null)G=parseInt(ve[1]),$=parseInt(ve[2]),V=parseInt(ve[3]),he=parseFloat(ve[4]);else{if(he=1,typeof F=="string"&&F.charAt(0)!=="#"){var je=new MN(F);F=je.ok?je.toHex():"#000000"}F.length===4?(G=F.substring(1,2),G+=G,$=F.substring(2,3),$+=$,V=F.substring(3,4),V+=V):(G=F.substring(1,3),$=F.substring(3,5),V=F.substring(5,7)),G=parseInt(G,16),$=parseInt($,16),V=parseInt(V,16)}}return{r:G,g:$,b:V,a:he,style:F}},w=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},C=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};b.prototype.fillText=function(F,G,$,V){if(isNaN(G)||isNaN($)||typeof F!="string")throw cs.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(V=isNaN(V)?void 0:V,!w.call(this)){var he=ee(this.ctx.transform.rotation),ve=this.ctx.transform.scaleX;W.call(this,{text:F,x:G,y:$,scale:ve,angle:he,align:this.textAlign,maxWidth:V})}},b.prototype.strokeText=function(F,G,$,V){if(isNaN(G)||isNaN($)||typeof F!="string")throw cs.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!C.call(this)){V=isNaN(V)?void 0:V;var he=ee(this.ctx.transform.rotation),ve=this.ctx.transform.scaleX;W.call(this,{text:F,x:G,y:$,scale:ve,renderingMode:"stroke",angle:he,align:this.textAlign,maxWidth:V})}},b.prototype.measureText=function(F){if(typeof F!="string")throw cs.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var G=this.pdf,$=this.pdf.internal.scaleFactor,V=G.internal.getFontSize(),he=G.getStringUnitWidth(F)*V/G.internal.scaleFactor;return new function(ve){var je=(ve=ve||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return je}}),this}({width:he*=Math.round(96*$/72*1e4)/1e4})},b.prototype.scale=function(F,G){if(isNaN(F)||isNaN(G))throw cs.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var $=new h(F,0,0,G,0,0);this.ctx.transform=this.ctx.transform.multiply($)},b.prototype.rotate=function(F){if(isNaN(F))throw cs.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var G=new h(Math.cos(F),Math.sin(F),-Math.sin(F),Math.cos(F),0,0);this.ctx.transform=this.ctx.transform.multiply(G)},b.prototype.translate=function(F,G){if(isNaN(F)||isNaN(G))throw cs.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var $=new h(1,0,0,1,F,G);this.ctx.transform=this.ctx.transform.multiply($)},b.prototype.transform=function(F,G,$,V,he,ve){if(isNaN(F)||isNaN(G)||isNaN($)||isNaN(V)||isNaN(he)||isNaN(ve))throw cs.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var je=new h(F,G,$,V,he,ve);this.ctx.transform=this.ctx.transform.multiply(je)},b.prototype.setTransform=function(F,G,$,V,he,ve){F=isNaN(F)?1:F,G=isNaN(G)?0:G,$=isNaN($)?0:$,V=isNaN(V)?1:V,he=isNaN(he)?0:he,ve=isNaN(ve)?0:ve,this.ctx.transform=new h(F,G,$,V,he,ve)};var U=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};b.prototype.drawImage=function(F,G,$,V,he,ve,je,Te,Je){var Ke=this.pdf.getImageProperties(F),nt=1,ft=1,tt=1,pe=1;V!==void 0&&Te!==void 0&&(tt=Te/V,pe=Je/he,nt=Ke.width/V*Te/V,ft=Ke.height/he*Je/he),ve===void 0&&(ve=G,je=$,G=0,$=0),V!==void 0&&Te===void 0&&(Te=V,Je=he),V===void 0&&Te===void 0&&(Te=Ke.width,Je=Ke.height);var Ct=this.ctx.transform.decompose(),It=ee(Ct.rotate.shx),zt=new h,Ie=(zt=(zt=(zt=zt.multiply(Ct.translate)).multiply(Ct.skew)).multiply(Ct.scale)).applyToRectangle(new d(ve-G*tt,je-$*pe,V*nt,he*ft));if(this.autoPaging){for(var Rt,Lt=T.call(this,Ie),Bt=[],gt=0;gt<Lt.length;gt+=1)Bt.indexOf(Lt[gt])===-1&&Bt.push(Lt[gt]);O(Bt);for(var ir=Bt[0],_r=Bt[Bt.length-1],nr=ir;nr<_r+1;nr++){this.pdf.setPage(nr);var xr=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],$t=nr===1?this.posY+this.margin[0]:this.margin[0],St=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Zt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Tt=nr===1?0:St+(nr-2)*Zt;if(this.ctx.clip_path.length!==0){var Vr=this.path;Rt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=I(Rt,this.posX+this.margin[3],-Tt+$t+this.ctx.prevPageLastElemOffset),ne.call(this,"fill",!0),this.path=Vr}var gr=JSON.parse(JSON.stringify(Ie));gr=I([gr],this.posX+this.margin[3],-Tt+$t+this.ctx.prevPageLastElemOffset)[0];var Vt=(nr>ir||nr<_r)&&U.call(this);Vt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],xr,Zt,null).clip().discardPath()),this.pdf.addImage(F,"JPEG",gr.x,gr.y,gr.w,gr.h,null,null,It),Vt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(F,"JPEG",Ie.x,Ie.y,Ie.w,Ie.h,null,null,It)};var T=function(F,G,$){var V=[];G=G||this.pdf.internal.pageSize.width,$=$||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var he=this.posY+this.ctx.prevPageLastElemOffset;switch(F.type){default:case"mt":case"lt":V.push(Math.floor((F.y+he)/$)+1);break;case"arc":V.push(Math.floor((F.y+he-F.radius)/$)+1),V.push(Math.floor((F.y+he+F.radius)/$)+1);break;case"qct":var ve=_e(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x,F.y);V.push(Math.floor((ve.y+he)/$)+1),V.push(Math.floor((ve.y+ve.h+he)/$)+1);break;case"bct":var je=Ne(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x2,F.y2,F.x,F.y);V.push(Math.floor((je.y+he)/$)+1),V.push(Math.floor((je.y+je.h+he)/$)+1);break;case"rect":V.push(Math.floor((F.y+he)/$)+1),V.push(Math.floor((F.y+F.h+he)/$)+1)}for(var Te=0;Te<V.length;Te+=1)for(;this.pdf.internal.getNumberOfPages()<V[Te];)S.call(this);return V},S=function(){var F=this.fillStyle,G=this.strokeStyle,$=this.font,V=this.lineCap,he=this.lineWidth,ve=this.lineJoin;this.pdf.addPage(),this.fillStyle=F,this.strokeStyle=G,this.font=$,this.lineCap=V,this.lineWidth=he,this.lineJoin=ve},I=function(F,G,$){for(var V=0;V<F.length;V++)switch(F[V].type){case"bct":F[V].x2+=G,F[V].y2+=$;case"qct":F[V].x1+=G,F[V].y1+=$;default:F[V].x+=G,F[V].y+=$}return F},O=function(F){return F.sort(function(G,$){return G-$})},M=function(F,G){var $=this.fillStyle,V=this.strokeStyle,he=this.lineCap,ve=this.lineWidth,je=Math.abs(ve*this.ctx.transform.scaleX),Te=this.lineJoin;if(this.autoPaging){for(var Je,Ke,nt=JSON.parse(JSON.stringify(this.path)),ft=JSON.parse(JSON.stringify(this.path)),tt=[],pe=0;pe<ft.length;pe++)if(ft[pe].x!==void 0)for(var Ct=T.call(this,ft[pe]),It=0;It<Ct.length;It+=1)tt.indexOf(Ct[It])===-1&&tt.push(Ct[It]);for(var zt=0;zt<tt.length;zt++)for(;this.pdf.internal.getNumberOfPages()<tt[zt];)S.call(this);O(tt);for(var Ie=tt[0],Rt=tt[tt.length-1],Lt=Ie;Lt<Rt+1;Lt++){this.pdf.setPage(Lt),this.fillStyle=$,this.strokeStyle=V,this.lineCap=he,this.lineWidth=je,this.lineJoin=Te;var Bt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],gt=Lt===1?this.posY+this.margin[0]:this.margin[0],ir=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],_r=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],nr=Lt===1?0:ir+(Lt-2)*_r;if(this.ctx.clip_path.length!==0){var xr=this.path;Je=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=I(Je,this.posX+this.margin[3],-nr+gt+this.ctx.prevPageLastElemOffset),ne.call(this,F,!0),this.path=xr}if(Ke=JSON.parse(JSON.stringify(nt)),this.path=I(Ke,this.posX+this.margin[3],-nr+gt+this.ctx.prevPageLastElemOffset),G===!1||Lt===0){var $t=(Lt>Ie||Lt<Rt)&&U.call(this);$t&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Bt,_r,null).clip().discardPath()),ne.call(this,F,G),$t&&this.pdf.restoreGraphicsState()}this.lineWidth=ve}this.path=nt}else this.lineWidth=je,ne.call(this,F,G),this.lineWidth=ve},ne=function(F,G){if((F!=="stroke"||G||!C.call(this))&&(F==="stroke"||G||!w.call(this))){for(var $,V,he=[],ve=this.path,je=0;je<ve.length;je++){var Te=ve[je];switch(Te.type){case"begin":he.push({begin:!0});break;case"close":he.push({close:!0});break;case"mt":he.push({start:Te,deltas:[],abs:[]});break;case"lt":var Je=he.length;if(ve[je-1]&&!isNaN(ve[je-1].x)&&($=[Te.x-ve[je-1].x,Te.y-ve[je-1].y],Je>0)){for(;Je>=0;Je--)if(he[Je-1].close!==!0&&he[Je-1].begin!==!0){he[Je-1].deltas.push($),he[Je-1].abs.push(Te);break}}break;case"bct":$=[Te.x1-ve[je-1].x,Te.y1-ve[je-1].y,Te.x2-ve[je-1].x,Te.y2-ve[je-1].y,Te.x-ve[je-1].x,Te.y-ve[je-1].y],he[he.length-1].deltas.push($);break;case"qct":var Ke=ve[je-1].x+2/3*(Te.x1-ve[je-1].x),nt=ve[je-1].y+2/3*(Te.y1-ve[je-1].y),ft=Te.x+2/3*(Te.x1-Te.x),tt=Te.y+2/3*(Te.y1-Te.y),pe=Te.x,Ct=Te.y;$=[Ke-ve[je-1].x,nt-ve[je-1].y,ft-ve[je-1].x,tt-ve[je-1].y,pe-ve[je-1].x,Ct-ve[je-1].y],he[he.length-1].deltas.push($);break;case"arc":he.push({deltas:[],abs:[],arc:!0}),Array.isArray(he[he.length-1].abs)&&he[he.length-1].abs.push(Te)}}V=G?null:F==="stroke"?"stroke":"fill";for(var It=!1,zt=0;zt<he.length;zt++)if(he[zt].arc)for(var Ie=he[zt].abs,Rt=0;Rt<Ie.length;Rt++){var Lt=Ie[Rt];Lt.type==="arc"?te.call(this,Lt.x,Lt.y,Lt.radius,Lt.startAngle,Lt.endAngle,Lt.counterclockwise,void 0,G,!It):ae.call(this,Lt.x,Lt.y),It=!0}else if(he[zt].close===!0)this.pdf.internal.out("h"),It=!1;else if(he[zt].begin!==!0){var Bt=he[zt].start.x,gt=he[zt].start.y;K.call(this,he[zt].deltas,Bt,gt),It=!0}V&&X.call(this,V),G&&ge.call(this)}},z=function(F){var G=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,$=G*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return F-$;case"top":return F+G-$;case"hanging":return F+G-2*$;case"middle":return F+G/2-$;default:return F}},oe=function(F){return F+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};b.prototype.createLinearGradient=function(){var F=function(){};return F.colorStops=[],F.addColorStop=function(G,$){this.colorStops.push([G,$])},F.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},F.isCanvasGradient=!0,F},b.prototype.createPattern=function(){return this.createLinearGradient()},b.prototype.createRadialGradient=function(){return this.createLinearGradient()};var te=function(F,G,$,V,he,ve,je,Te,Je){for(var Ke=Q.call(this,$,V,he,ve),nt=0;nt<Ke.length;nt++){var ft=Ke[nt];nt===0&&(Je?Z.call(this,ft.x1+F,ft.y1+G):ae.call(this,ft.x1+F,ft.y1+G)),ue.call(this,F,G,ft.x2,ft.y2,ft.x3,ft.y3,ft.x4,ft.y4)}Te?ge.call(this):X.call(this,je)},X=function(F){switch(F){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},ge=function(){this.pdf.clip(),this.pdf.discardPath()},Z=function(F,G){this.pdf.internal.out(r(F)+" "+n(G)+" m")},W=function(F){var G;switch(F.align){case"right":case"end":G="right";break;case"center":G="center";break;default:G="left"}var $,V,he,ve=this.pdf.getTextDimensions(F.text),je=z.call(this,F.y),Te=oe.call(this,je)-ve.h,Je=this.ctx.transform.applyToPoint(new u(F.x,je));if(this.autoPaging){var Ke=this.ctx.transform.decompose(),nt=new h;nt=(nt=(nt=nt.multiply(Ke.translate)).multiply(Ke.skew)).multiply(Ke.scale);for(var ft=this.ctx.transform.applyToRectangle(new d(F.x,je,ve.w,ve.h)),tt=nt.applyToRectangle(new d(F.x,Te,ve.w,ve.h)),pe=T.call(this,tt),Ct=[],It=0;It<pe.length;It+=1)Ct.indexOf(pe[It])===-1&&Ct.push(pe[It]);O(Ct);for(var zt=Ct[0],Ie=Ct[Ct.length-1],Rt=zt;Rt<Ie+1;Rt++){this.pdf.setPage(Rt);var Lt=Rt===1?this.posY+this.margin[0]:this.margin[0],Bt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],gt=this.pdf.internal.pageSize.height-this.margin[2],ir=gt-this.margin[0],_r=this.pdf.internal.pageSize.width-this.margin[1],nr=_r-this.margin[3],xr=Rt===1?0:Bt+(Rt-2)*ir;if(this.ctx.clip_path.length!==0){var $t=this.path;$=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=I($,this.posX+this.margin[3],-1*xr+Lt),ne.call(this,"fill",!0),this.path=$t}var St=I([JSON.parse(JSON.stringify(tt))],this.posX+this.margin[3],-xr+Lt+this.ctx.prevPageLastElemOffset)[0];F.scale>=.01&&(V=this.pdf.internal.getFontSize(),this.pdf.setFontSize(V*F.scale),he=this.lineWidth,this.lineWidth=he*F.scale);var Zt=this.autoPaging!=="text";if(Zt||St.y+St.h<=gt){if(Zt||St.y>=Lt&&St.x<=_r){var Tt=Zt?F.text:this.pdf.splitTextToSize(F.text,F.maxWidth||_r-St.x)[0],Vr=I([JSON.parse(JSON.stringify(ft))],this.posX+this.margin[3],-xr+Lt+this.ctx.prevPageLastElemOffset)[0],gr=Zt&&(Rt>zt||Rt<Ie)&&U.call(this);gr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],nr,ir,null).clip().discardPath()),this.pdf.text(Tt,Vr.x,Vr.y,{angle:F.angle,align:G,renderingMode:F.renderingMode}),gr&&this.pdf.restoreGraphicsState()}}else St.y<gt&&(this.ctx.prevPageLastElemOffset+=gt-St.y);F.scale>=.01&&(this.pdf.setFontSize(V),this.lineWidth=he)}}else F.scale>=.01&&(V=this.pdf.internal.getFontSize(),this.pdf.setFontSize(V*F.scale),he=this.lineWidth,this.lineWidth=he*F.scale),this.pdf.text(F.text,Je.x+this.posX,Je.y+this.posY,{angle:F.angle,align:G,renderingMode:F.renderingMode,maxWidth:F.maxWidth}),F.scale>=.01&&(this.pdf.setFontSize(V),this.lineWidth=he)},ae=function(F,G,$,V){$=$||0,V=V||0,this.pdf.internal.out(r(F+$)+" "+n(G+V)+" l")},K=function(F,G,$){return this.pdf.lines(F,G,$,null,null)},ue=function(F,G,$,V,he,ve,je,Te){this.pdf.internal.out([e(i($+F)),e(l(V+G)),e(i(he+F)),e(l(ve+G)),e(i(je+F)),e(l(Te+G)),"c"].join(" "))},Q=function(F,G,$,V){for(var he=2*Math.PI,ve=Math.PI/2;G>$;)G-=he;var je=Math.abs($-G);je<he&&V&&(je=he-je);for(var Te=[],Je=V?-1:1,Ke=G;je>1e-5;){var nt=Ke+Je*Math.min(je,ve);Te.push(Ae.call(this,F,Ke,nt)),je-=Math.abs(nt-Ke),Ke=nt}return Te},Ae=function(F,G,$){var V=($-G)/2,he=F*Math.cos(V),ve=F*Math.sin(V),je=he,Te=-ve,Je=je*je+Te*Te,Ke=Je+je*he+Te*ve,nt=4/3*(Math.sqrt(2*Je*Ke)-Ke)/(je*ve-Te*he),ft=je-nt*Te,tt=Te+nt*je,pe=ft,Ct=-tt,It=V+G,zt=Math.cos(It),Ie=Math.sin(It);return{x1:F*Math.cos(G),y1:F*Math.sin(G),x2:ft*zt-tt*Ie,y2:ft*Ie+tt*zt,x3:pe*zt-Ct*Ie,y3:pe*Ie+Ct*zt,x4:F*Math.cos($),y4:F*Math.sin($)}},ee=function(F){return 180*F/Math.PI},_e=function(F,G,$,V,he,ve){var je=F+.5*($-F),Te=G+.5*(V-G),Je=he+.5*($-he),Ke=ve+.5*(V-ve),nt=Math.min(F,he,je,Je),ft=Math.max(F,he,je,Je),tt=Math.min(G,ve,Te,Ke),pe=Math.max(G,ve,Te,Ke);return new d(nt,tt,ft-nt,pe-tt)},Ne=function(F,G,$,V,he,ve,je,Te){var Je,Ke,nt,ft,tt,pe,Ct,It,zt,Ie,Rt,Lt,Bt,gt,ir=$-F,_r=V-G,nr=he-$,xr=ve-V,$t=je-he,St=Te-ve;for(Ke=0;Ke<41;Ke++)zt=(Ct=(nt=F+(Je=Ke/40)*ir)+Je*((tt=$+Je*nr)-nt))+Je*(tt+Je*(he+Je*$t-tt)-Ct),Ie=(It=(ft=G+Je*_r)+Je*((pe=V+Je*xr)-ft))+Je*(pe+Je*(ve+Je*St-pe)-It),Ke==0?(Rt=zt,Lt=Ie,Bt=zt,gt=Ie):(Rt=Math.min(Rt,zt),Lt=Math.min(Lt,Ie),Bt=Math.max(Bt,zt),gt=Math.max(gt,Ie));return new d(Math.round(Rt),Math.round(Lt),Math.round(Bt-Rt),Math.round(gt-Lt))},q=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var F,G,$=(F=this.ctx.lineDash,G=this.ctx.lineDashOffset,JSON.stringify({lineDash:F,lineDashOffset:G}));this.prevLineDash!==$&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=$)}}})(Nr.API),(function(t){var e=function(u){var d,h,m,g,b,N,w,C,U,T;for(h=[],m=0,g=(u+=d="\0\0\0\0".slice(u.length%4||4)).length;g>m;m+=4)(b=(u.charCodeAt(m)<<24)+(u.charCodeAt(m+1)<<16)+(u.charCodeAt(m+2)<<8)+u.charCodeAt(m+3))!==0?(N=(b=((b=((b=((b=(b-(T=b%85))/85)-(U=b%85))/85)-(C=b%85))/85)-(w=b%85))/85)%85,h.push(N+33,w+33,C+33,U+33,T+33)):h.push(122);return(function(S,I){for(var O=I;O>0;O--)S.pop()})(h,d.length),String.fromCharCode.apply(String,h)+"~>"},r=function(u){var d,h,m,g,b,N=String,w="length",C=255,U="charCodeAt",T="slice",S="replace";for(u[T](-2),u=u[T](0,-2)[S](/\s/g,"")[S]("z","!!!!!"),m=[],g=0,b=(u+=d="uuuuu"[T](u[w]%5||5))[w];b>g;g+=5)h=52200625*(u[U](g)-33)+614125*(u[U](g+1)-33)+7225*(u[U](g+2)-33)+85*(u[U](g+3)-33)+(u[U](g+4)-33),m.push(C&h>>24,C&h>>16,C&h>>8,C&h);return(function(I,O){for(var M=O;M>0;M--)I.pop()})(m,d[w]),N.fromCharCode.apply(N,m)},n=function(u){return u.split("").map(function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(u){var d=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((u=u.replace(/\s/g,"")).indexOf(">")!==-1&&(u=u.substr(0,u.indexOf(">"))),u.length%2&&(u+="0"),d.test(u)===!1)return"";for(var h="",m=0;m<u.length;m+=2)h+=String.fromCharCode("0x"+(u[m]+u[m+1]));return h},l=function(u){for(var d=new Uint8Array(u.length),h=u.length;h--;)d[h]=u.charCodeAt(h);return(d=pb(d)).reduce(function(m,g){return m+String.fromCharCode(g)},"")};t.processDataByFilters=function(u,d){var h=0,m=u||"",g=[];for(typeof(d=d||[])=="string"&&(d=[d]),h=0;h<d.length;h+=1)switch(d[h]){case"ASCII85Decode":case"/ASCII85Decode":m=r(m),g.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":m=e(m),g.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":m=i(m),g.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":m=n(m),g.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":m=l(m),g.push("/FlateDecode");break;default:throw new Error('The filter: "'+d[h]+'" is not implemented')}return{data:m,reverseChain:g.reverse().join(" ")}}})(Nr.API),(function(t){t.loadFile=function(e,r,n){return(function(i,l,u){l=l!==!1,u=typeof u=="function"?u:function(){};var d=void 0;try{d=(function(h,m,g){var b=new XMLHttpRequest,N=0,w=function(C){var U=C.length,T=[],S=String.fromCharCode;for(N=0;N<U;N+=1)T.push(S(255&C.charCodeAt(N)));return T.join("")};if(b.open("GET",h,!m),b.overrideMimeType("text/plain; charset=x-user-defined"),m===!1&&(b.onload=function(){b.status===200?g(w(this.responseText)):g(void 0)}),b.send(null),m&&b.status===200)return w(b.responseText)})(i,l,u)}catch{}return d})(e,r,n)},t.loadImageFile=t.loadFile})(Nr.API),(function(t){function e(){return(Gr.html2canvas?Promise.resolve(Gr.html2canvas):tu(()=>Promise.resolve().then(()=>YF),void 0)).catch(function(d){return Promise.reject(new Error("Could not load html2canvas: "+d))}).then(function(d){return d.default?d.default:d})}function r(){return(Gr.DOMPurify?Promise.resolve(Gr.DOMPurify):tu(()=>import("./purify.es-B9ZVCkUG.js"),[])).catch(function(d){return Promise.reject(new Error("Could not load dompurify: "+d))}).then(function(d){return d.default?d.default:d})}var n=function(d){var h=Wn(d);return h==="undefined"?"undefined":h==="string"||d instanceof String?"string":h==="number"||d instanceof Number?"number":h==="function"||d instanceof Function?"function":d&&d.constructor===Array?"array":d&&d.nodeType===1?"element":h==="object"?"object":"unknown"},i=function(d,h){var m=document.createElement(d);for(var g in h.className&&(m.className=h.className),h.innerHTML&&h.dompurify&&(m.innerHTML=h.dompurify.sanitize(h.innerHTML)),h.style)m.style[g]=h.style[g];return m},l=function d(h,m){for(var g=h.nodeType===3?document.createTextNode(h.nodeValue):h.cloneNode(!1),b=h.firstChild;b;b=b.nextSibling)m!==!0&&b.nodeType===1&&b.nodeName==="SCRIPT"||g.appendChild(d(b,m));return h.nodeType===1&&(h.nodeName==="CANVAS"?(g.width=h.width,g.height=h.height,g.getContext("2d").drawImage(h,0,0)):h.nodeName!=="TEXTAREA"&&h.nodeName!=="SELECT"||(g.value=h.value),g.addEventListener("load",function(){g.scrollTop=h.scrollTop,g.scrollLeft=h.scrollLeft},!0)),g},u=function d(h){var m=Object.assign(d.convert(Promise.resolve()),JSON.parse(JSON.stringify(d.template))),g=d.convert(Promise.resolve(),m);return(g=g.setProgress(1,d,1,[d])).set(h)};(u.prototype=Object.create(Promise.prototype)).constructor=u,u.convert=function(d,h){return d.__proto__=h||u.prototype,d},u.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},u.prototype.from=function(d,h){return this.then(function(){switch(h=h||(function(m){switch(n(m)){case"string":return"string";case"element":return m.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(d),h){case"string":return this.then(r).then(function(m){return this.set({src:i("div",{innerHTML:d,dompurify:m})})});case"element":return this.set({src:d});case"canvas":return this.set({canvas:d});case"img":return this.set({img:d});default:return this.error("Unknown source type.")}})},u.prototype.to=function(d){switch(d){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},u.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var d={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},h=l(this.prop.src,this.opt.html2canvas.javascriptEnabled);h.tagName==="BODY"&&(d.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:d}),this.prop.container.appendChild(h),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},u.prototype.toCanvas=function(){var d=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(d).then(e).then(function(h){var m=Object.assign({},this.opt.html2canvas);return delete m.onrendered,h(this.prop.container,m)}).then(function(h){(this.opt.html2canvas.onrendered||function(){})(h),this.prop.canvas=h,document.body.removeChild(this.prop.overlay)})},u.prototype.toContext2d=function(){var d=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(d).then(e).then(function(h){var m=this.opt.jsPDF,g=this.opt.fontFaces,b=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,N=Object.assign({async:!0,allowTaint:!0,scale:b,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete N.onrendered,m.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,m.context2d.posX=this.opt.x,m.context2d.posY=this.opt.y,m.context2d.margin=this.opt.margin,m.context2d.fontFaces=g,g)for(var w=0;w<g.length;++w){var C=g[w],U=C.src.find(function(T){return T.format==="truetype"});U&&m.addFont(U.url,C.ref.name,C.ref.style)}return N.windowHeight=N.windowHeight||0,N.windowHeight=N.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):N.windowHeight,m.context2d.save(!0),h(this.prop.container,N)}).then(function(h){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(h),this.prop.canvas=h,document.body.removeChild(this.prop.overlay)})},u.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var d=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=d})},u.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},u.prototype.output=function(d,h,m){return(m=m||"pdf").toLowerCase()==="img"||m.toLowerCase()==="image"?this.outputImg(d,h):this.outputPdf(d,h)},u.prototype.outputPdf=function(d,h){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(d,h)})},u.prototype.outputImg=function(d){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(d){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+d+'" is not supported.'}})},u.prototype.save=function(d){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(d?{filename:d}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},u.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},u.prototype.set=function(d){if(n(d)!=="object")return this;var h=Object.keys(d||{}).map(function(m){if(m in u.template.prop)return function(){this.prop[m]=d[m]};switch(m){case"margin":return this.setMargin.bind(this,d.margin);case"jsPDF":return function(){return this.opt.jsPDF=d.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,d.pageSize);default:return function(){this.opt[m]=d[m]}}},this);return this.then(function(){return this.thenList(h)})},u.prototype.get=function(d,h){return this.then(function(){var m=d in u.template.prop?this.prop[d]:this.opt[d];return h?h(m):m})},u.prototype.setMargin=function(d){return this.then(function(){switch(n(d)){case"number":d=[d,d,d,d];case"array":if(d.length===2&&(d=[d[0],d[1],d[0],d[1]]),d.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=d}).then(this.setPageSize)},u.prototype.setPageSize=function(d){function h(m,g){return Math.floor(m*g/72*96)}return this.then(function(){(d=d||Nr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(d.inner={width:d.width-this.opt.margin[1]-this.opt.margin[3],height:d.height-this.opt.margin[0]-this.opt.margin[2]},d.inner.px={width:h(d.inner.width,d.k),height:h(d.inner.height,d.k)},d.inner.ratio=d.inner.height/d.inner.width),this.prop.pageSize=d})},u.prototype.setProgress=function(d,h,m,g){return d!=null&&(this.progress.val=d),h!=null&&(this.progress.state=h),m!=null&&(this.progress.n=m),g!=null&&(this.progress.stack=g),this.progress.ratio=this.progress.val/this.progress.state,this},u.prototype.updateProgress=function(d,h,m,g){return this.setProgress(d?this.progress.val+d:null,h||null,m?this.progress.n+m:null,g?this.progress.stack.concat(g):null)},u.prototype.then=function(d,h){var m=this;return this.thenCore(d,h,function(g,b){return m.updateProgress(null,null,1,[g]),Promise.prototype.then.call(this,function(N){return m.updateProgress(null,g),N}).then(g,b).then(function(N){return m.updateProgress(1),N})})},u.prototype.thenCore=function(d,h,m){m=m||Promise.prototype.then;var g=this;d&&(d=d.bind(g)),h&&(h=h.bind(g));var b=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?g:u.convert(Object.assign({},g),Promise.prototype),N=m.call(b,d,h);return u.convert(N,g.__proto__)},u.prototype.thenExternal=function(d,h){return Promise.prototype.then.call(this,d,h)},u.prototype.thenList=function(d){var h=this;return d.forEach(function(m){h=h.thenCore(m)}),h},u.prototype.catch=function(d){d&&(d=d.bind(this));var h=Promise.prototype.catch.call(this,d);return u.convert(h,this)},u.prototype.catchExternal=function(d){return Promise.prototype.catch.call(this,d)},u.prototype.error=function(d){return this.then(function(){throw new Error(d)})},u.prototype.using=u.prototype.set,u.prototype.saveAs=u.prototype.save,u.prototype.export=u.prototype.output,u.prototype.run=u.prototype.then,Nr.getPageSize=function(d,h,m){if(Wn(d)==="object"){var g=d;d=g.orientation,h=g.unit||h,m=g.format||m}h=h||"mm",m=m||"a4",d=(""+(d||"P")).toLowerCase();var b,N=(""+m).toLowerCase(),w={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(h){case"pt":b=1;break;case"mm":b=72/25.4;break;case"cm":b=72/2.54;break;case"in":b=72;break;case"px":b=.75;break;case"pc":case"em":b=12;break;case"ex":b=6;break;default:throw"Invalid unit: "+h}var C,U=0,T=0;if(w.hasOwnProperty(N))U=w[N][1]/b,T=w[N][0]/b;else try{U=m[1],T=m[0]}catch{throw new Error("Invalid format: "+m)}if(d==="p"||d==="portrait")d="p",T>U&&(C=T,T=U,U=C);else{if(d!=="l"&&d!=="landscape")throw"Invalid orientation: "+d;d="l",U>T&&(C=T,T=U,U=C)}return{width:T,height:U,unit:h,k:b,orientation:d}},t.html=function(d,h){(h=h||{}).callback=h.callback||function(){},h.html2canvas=h.html2canvas||{},h.html2canvas.canvas=h.html2canvas.canvas||this.canvas,h.jsPDF=h.jsPDF||this,h.fontFaces=h.fontFaces?h.fontFaces.map(ax):null;var m=new u(h);return h.worker?m:m.from(d).doCallback()}})(Nr.API),Nr.API.addJS=function(t){return c_=t,this.internal.events.subscribe("postPutResources",function(){Cp=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Cp+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),A_=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+c_+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Cp!==void 0&&A_!==void 0&&this.internal.out("/Names <</JavaScript "+Cp+" 0 R>>")}),this},(function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),l=0;l<i.length;l++){var u=i[l],d=n.exec(u);if(d!=null){var h=d[1];r.internal.newObjectDeferredBegin(h,!1)}r.internal.write(u)}if(this.outline.createNamedDestinations){var m=this.internal.pages.length,g=[];for(l=0;l<m;l++){var b=r.internal.newObject();g.push(b);var N=r.internal.getPageInfo(l+1);r.internal.write("<< /D["+N.objId+" 0 R /XYZ null null null]>> endobj")}var w=r.internal.newObject();for(r.internal.write("<< /Names [ "),l=0;l<g.length;l++)r.internal.write("(page_"+(l+1)+")"+g[l]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+w+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,l){var u={title:i,options:l,children:[]};return n==null&&(n=this.root),n.children.push(u),u},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,l=0;l<n.children.length;l++){var u=n.children[l];this.objStart(u),this.line("/Title "+this.makeString(u.title)),this.line("/Parent "+this.makeRef(n)),l>0&&this.line("/Prev "+this.makeRef(n.children[l-1])),l<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[l+1])),u.children.length>0&&(this.line("/First "+this.makeRef(u.children[0])),this.line("/Last "+this.makeRef(u.children[u.children.length-1])));var d=this.count=this.count_r({count:0},u);if(d>0&&this.line("/Count "+d),u.options&&u.options.pageNumber){var h=r.internal.getPageInfo(u.options.pageNumber);this.line("/Dest ["+h.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var m=0;m<n.children.length;m++)this.renderItems(n.children[m])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var l=0;l<i.children.length;l++)n.count++,this.count_r(n,i.children[l]);return n.count}}])})(Nr.API),(function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,i,l,u,d){var h,m=this.decode.DCT_DECODE,g=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=u||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,h=(function(b){for(var N,w=256*b.charCodeAt(4)+b.charCodeAt(5),C=b.length,U={width:0,height:0,numcomponents:1},T=4;T<C;T+=2){if(T+=w,e.indexOf(b.charCodeAt(T+1))!==-1){N=256*b.charCodeAt(T+5)+b.charCodeAt(T+6),U={width:256*b.charCodeAt(T+7)+b.charCodeAt(T+8),height:N,numcomponents:b.charCodeAt(T+9)};break}w=256*b.charCodeAt(T+2)+b.charCodeAt(T+3)}return U})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),h.numcomponents){case 1:d=this.color_spaces.DEVICE_GRAY;break;case 4:d=this.color_spaces.DEVICE_CMYK;break;case 3:d=this.color_spaces.DEVICE_RGB}g={data:r,width:h.width,height:h.height,colorSpace:d,bitsPerComponent:8,filter:m,index:n,alias:i}}return g}})(Nr.API),Nr.API.processPNG=function(t,e,r,n){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,l=aQ(t,{checkCrc:!0}),u=l.width,d=l.height,h=l.channels,m=l.palette,g=l.depth;i=m&&h===1?(function(te){for(var X=te.width,ge=te.height,Z=te.data,W=te.palette,ae=te.depth,K=!1,ue=[],Q=[],Ae=void 0,ee=!1,_e=0,Ne=0;Ne<W.length;Ne++){var q=f2(W[Ne],4),F=q[0],G=q[1],$=q[2],V=q[3];ue.push(F,G,$),V!=null&&(V===0?(_e++,Q.length<1&&Q.push(Ne)):V<255&&(ee=!0))}if(ee||_e>1){K=!0,Q=void 0;var he=X*ge;Ae=new Uint8Array(he);for(var ve=new DataView(Z.buffer),je=0;je<he;je++){var Te=ox(ve,je,ae),Je=f2(W[Te],4)[3];Ae[je]=Je}}else _e===0&&(Q=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:K?8:void 0,colorBytes:Z,alphaBytes:Ae,needSMask:K,palette:ue,mask:Q}})(l):h===2||h===4?(function(te){for(var X=te.data,ge=te.width,Z=te.height,W=te.channels,ae=te.depth,K=W===2?"DeviceGray":"DeviceRGB",ue=W-1,Q=ge*Z,Ae=ue,ee=Q*Ae,_e=1*Q,Ne=Math.ceil(ee*ae/8),q=Math.ceil(_e*ae/8),F=new Uint8Array(Ne),G=new Uint8Array(q),$=new DataView(X.buffer),V=new DataView(F.buffer),he=new DataView(G.buffer),ve=!1,je=0;je<Q;je++){for(var Te=je*W,Je=0;Je<Ae;Je++)b_(V,ox($,Te+Je,ae),je*Ae+Je,ae);var Ke=ox($,Te+Ae,ae);Ke<(1<<ae)-1&&(ve=!0),b_(he,Ke,1*je,ae)}return{colorSpace:K,colorsPerPixel:ue,sMaskBitsPerComponent:ve?ae:void 0,colorBytes:F,alphaBytes:G,needSMask:ve}})(l):(function(te){var X=te.data,ge=te.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:ge,colorsPerPixel:ge==="DeviceGray"?1:3,colorBytes:X instanceof Uint16Array?(function(Z){for(var W=Z.length,ae=new Uint8Array(2*W),K=new DataView(ae.buffer,ae.byteOffset,ae.byteLength),ue=0;ue<W;ue++)K.setUint16(2*ue,Z[ue],!1);return ae})(X):X,needSMask:!1}})(l);var b,N,w,C=i,U=C.colorSpace,T=C.colorsPerPixel,S=C.sMaskBitsPerComponent,I=C.colorBytes,O=C.alphaBytes,M=C.needSMask,ne=C.palette,z=C.mask,oe=null;return n!==Nr.API.image_compression.NONE&&typeof pb=="function"?(oe=(function(te){var X;switch(te){case Nr.API.image_compression.FAST:X=11;break;case Nr.API.image_compression.MEDIUM:X=13;break;case Nr.API.image_compression.SLOW:X=14;break;default:X=12}return X})(n),b=this.decode.FLATE_DECODE,N="/Predictor ".concat(oe," /Colors ").concat(T," /BitsPerComponent ").concat(g," /Columns ").concat(u),t=f_(I,Math.ceil(u*T*g/8),T,g,n),M&&(w=f_(O,Math.ceil(u*S/8),1,S,n))):(b=void 0,N=void 0,t=I,M&&(w=O)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(w&&this.__addimage__.isArrayBuffer(w)||this.__addimage__.isArrayBufferView(w))&&(w=this.__addimage__.arrayBufferToBinaryString(w)),{alias:r,data:t,index:e,filter:b,decodeParameters:N,transparency:z,palette:ne,sMask:w,predictor:oe,width:u,height:d,bitsPerComponent:g,sMaskBitsPerComponent:S,colorSpace:U}}},(function(t){t.processGIF89A=function(e,r,n,i){var l=new CQ(e),u=l.width,d=l.height,h=[];l.decodeAndBlitFrameRGBA(0,h);var m={data:h,width:u,height:d},g=new lx(100).encode(m,100);return t.processJPEG.call(this,g,r,n,i)},t.processGIF87A=t.processGIF89A})(Nr.API),gl.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:r,quad:l}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},gl.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){cs.log("bit decode error:"+r)}},gl.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var l=this.datav.getUint8(this.pos++,!0),u=n*this.width*4+8*i*4,d=0;d<8&&8*i+d<this.width;d++){var h=this.palette[l>>7-d&1];this.data[u+4*d]=h.blue,this.data[u+4*d+1]=h.green,this.data[u+4*d+2]=h.red,this.data[u+4*d+3]=255}r!==0&&(this.pos+=4-r)}},gl.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<t;i++){var l=this.datav.getUint8(this.pos++,!0),u=n*this.width*4+2*i*4,d=l>>4,h=15&l,m=this.palette[d];if(this.data[u]=m.blue,this.data[u+1]=m.green,this.data[u+2]=m.red,this.data[u+3]=255,2*i+1>=this.width)break;m=this.palette[h],this.data[u+4]=m.blue,this.data[u+4+1]=m.green,this.data[u+4+2]=m.red,this.data[u+4+3]=255}e!==0&&(this.pos+=4-e)}},gl.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),l=r*this.width*4+4*n;if(i<this.palette.length){var u=this.palette[i];this.data[l]=u.red,this.data[l+1]=u.green,this.data[l+2]=u.blue,this.data[l+3]=255}else this.data[l]=255,this.data[l+1]=255,this.data[l+2]=255,this.data[l+3]=255}t!==0&&(this.pos+=4-t)}},gl.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(l&e)/e*255|0,d=(l>>5&e)/e*255|0,h=(l>>10&e)/e*255|0,m=l>>15?255:0,g=n*this.width*4+4*i;this.data[g]=h,this.data[g+1]=d,this.data[g+2]=u,this.data[g+3]=m}this.pos+=t}},gl.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,l=0;l<this.width;l++){var u=this.datav.getUint16(this.pos,!0);this.pos+=2;var d=(u&e)/e*255|0,h=(u>>5&r)/r*255|0,m=(u>>11)/e*255|0,g=i*this.width*4+4*l;this.data[g]=m,this.data[g+1]=h,this.data[g+2]=d,this.data[g+3]=255}this.pos+=t}},gl.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),u=e*this.width*4+4*r;this.data[u]=l,this.data[u+1]=i,this.data[u+2]=n,this.data[u+3]=255}this.pos+=this.width%4}},gl.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),u=this.datav.getUint8(this.pos++,!0),d=e*this.width*4+4*r;this.data[d]=l,this.data[d+1]=i,this.data[d+2]=n,this.data[d+3]=u}},gl.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(e,r,n,i){var l=new gl(e,!1),u=l.width,d=l.height,h={data:l.getData(),width:u,height:d},m=new lx(100).encode(h,100);return t.processJPEG.call(this,m,r,n,i)}})(Nr.API),y_.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(e,r,n,i){var l=new y_(e),u=l.width,d=l.height,h={data:l.getData(),width:u,height:d},m=new lx(100).encode(h,100);return t.processJPEG.call(this,m,r,n,i)}})(Nr.API),Nr.API.processRGBA=function(t,e,r){for(var n=t.data,i=n.length,l=new Uint8Array(i/4*3),u=new Uint8Array(i/4),d=0,h=0,m=0;m<i;m+=4){var g=n[m],b=n[m+1],N=n[m+2],w=n[m+3];l[d++]=g,l[d++]=b,l[d++]=N,u[h++]=w}var C=this.__addimage__.arrayBufferToBinaryString(l);return{alpha:this.__addimage__.arrayBufferToBinaryString(u),data:C,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Nr.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},zu=Nr.API,Ep=zu.getCharWidthsArray=function(t,e){var r,n,i=(e=e||{}).font||this.internal.getFont(),l=e.fontSize||this.internal.getFontSize(),u=e.charSpace||this.internal.getCharSpace(),d=e.widths?e.widths:i.metadata.Unicode.widths,h=d.fof?d.fof:1,m=e.kerning?e.kerning:i.metadata.Unicode.kerning,g=m.fof?m.fof:1,b=e.doKerning!==!1,N=0,w=t.length,C=0,U=d[0]||h,T=[];for(r=0;r<w;r++)n=t.charCodeAt(r),typeof i.metadata.widthOfString=="function"?T.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+u*(1e3/l)||0)/1e3):(N=b&&Wn(m[n])==="object"&&!isNaN(parseInt(m[n][C],10))?m[n][C]/g:0,T.push((d[n]||U)/h+N)),C=n;return T},u_=zu.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return zu.processArabic&&(t=zu.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,i)/r:Ep.apply(this,arguments).reduce(function(l,u){return l+u},0)},d_=function(t,e,r,n){for(var i=[],l=0,u=t.length,d=0;l!==u&&d+e[l]<r;)d+=e[l],l++;i.push(t.slice(0,l));var h=l;for(d=0;l!==u;)d+e[l]>n&&(i.push(t.slice(h,l)),d=0,h=l),d+=e[l],l++;return h!==l&&i.push(t.slice(h,l)),i},h_=function(t,e,r){r||(r={});var n,i,l,u,d,h,m,g=[],b=[g],N=r.textIndent||0,w=0,C=0,U=t.split(" "),T=Ep.apply(this,[" ",r])[0];if(h=r.lineIndent===-1?U[0].length+2:r.lineIndent||0){var S=Array(h).join(" "),I=[];U.map(function(M){(M=M.split(/\s*\n/)).length>1?I=I.concat(M.map(function(ne,z){return(z&&ne.length?`
`:"")+ne})):I.push(M[0])}),U=I,h=u_.apply(this,[S,r])}for(l=0,u=U.length;l<u;l++){var O=0;if(n=U[l],h&&n[0]==`
`&&(n=n.substr(1),O=1),N+w+(C=(i=Ep.apply(this,[n,r])).reduce(function(M,ne){return M+ne},0))>e||O){if(C>e){for(d=d_.apply(this,[n,i,e-(N+w),e]),g.push(d.shift()),g=[d.pop()];d.length;)b.push([d.shift()]);C=i.slice(n.length-(g[0]?g[0].length:0)).reduce(function(M,ne){return M+ne},0)}else g=[n];b.push(g),N=C+h,w=T}else g.push(n),N+=w+C,w=T}return m=h?function(M,ne){return(ne?S:"")+M.join(" ")}:function(M){return M.join(" ")},b.map(m)},zu.splitTextToSize=function(t,e,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),l=(function(g){if(g.widths&&g.kerning)return{widths:g.widths,kerning:g.kerning};var b=this.internal.getFont(g.fontName,g.fontStyle),N="Unicode";return b.metadata[N]?{widths:b.metadata[N].widths||{0:1},kerning:b.metadata[N].kerning||{}}:{font:b.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var u=1*this.internal.scaleFactor*e/i;l.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,l.lineIndent=r.lineIndent;var d,h,m=[];for(d=0,h=n.length;d<h;d++)m=m.concat(h_.apply(this,[n[d],u,l]));return m},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",r="klmnopqrstuvwxyz",n={},i={},l=0;l<16;l++)n[r[l]]=e[l],i[e[l]]=r[l];var u=function(N){return"0x"+parseInt(N,10).toString(16)},d=t.__fontmetrics__.compress=function(N){var w,C,U,T,S=["{"];for(var I in N){if(w=N[I],isNaN(parseInt(I,10))?C="'"+I+"'":(I=parseInt(I,10),C=(C=u(I).slice(2)).slice(0,-1)+i[C.slice(-1)]),typeof w=="number")w<0?(U=u(w).slice(3),T="-"):(U=u(w).slice(2),T=""),U=T+U.slice(0,-1)+i[U.slice(-1)];else{if(Wn(w)!=="object")throw new Error("Don't know what to do with value type "+Wn(w)+".");U=d(w)}S.push(C+U)}return S.push("}"),S.join("")},h=t.__fontmetrics__.uncompress=function(N){if(typeof N!="string")throw new Error("Invalid argument passed to uncompress.");for(var w,C,U,T,S={},I=1,O=S,M=[],ne="",z="",oe=N.length-1,te=1;te<oe;te+=1)(T=N[te])=="'"?w?(U=w.join(""),w=void 0):w=[]:w?w.push(T):T=="{"?(M.push([O,U]),O={},U=void 0):T=="}"?((C=M.pop())[0][C[1]]=O,U=void 0,O=C[0]):T=="-"?I=-1:U===void 0?n.hasOwnProperty(T)?(ne+=n[T],U=parseInt(ne,16)*I,I=1,ne=""):ne+=T:n.hasOwnProperty(T)?(z+=n[T],O[U]=parseInt(z,16)*I,I=1,U=void 0,z=""):z+=T;return S},m={codePages:["WinAnsiEncoding"],WinAnsiEncoding:h("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},g={Unicode:{Courier:m,"Courier-Bold":m,"Courier-BoldOblique":m,"Courier-Oblique":m,Helvetica:m,"Helvetica-Bold":m,"Helvetica-BoldOblique":m,"Helvetica-Oblique":m,"Times-Roman":m,"Times-Bold":m,"Times-BoldItalic":m,"Times-Italic":m}},b={Unicode:{"Courier-Oblique":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":h("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":h("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":h("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:h("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:h("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":h("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:h("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":h("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":h("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":h("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(N){var w=N.font,C=b.Unicode[w.postScriptName];C&&(w.metadata.Unicode={},w.metadata.Unicode.widths=C.widths,w.metadata.Unicode.kerning=C.kerning);var U=g.Unicode[w.postScriptName];U&&(w.metadata.Unicode.encoding=U,w.encoding=U.codePages[0])}])})(Nr.API),(function(t){var e=function(r){for(var n=r.length,i=new Uint8Array(n),l=0;l<n;l++)i[l]=r.charCodeAt(l);return i};t.API.events.push(["addFont",function(r){var n=void 0,i=r.font,l=r.instance;if(!i.isStandardFont){if(l===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=l.existsFileInVFS(i.postScriptName)===!1?l.loadFile(i.postScriptName):l.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(u,d){d=/^\x00\x01\x00\x00/.test(d)?e(d):e($p(d)),u.metadata=t.API.TTFFont.open(d),u.metadata.Unicode=u.metadata.Unicode||{encoding:{},kerning:{},widths:[]},u.metadata.glyIdsUsed=[0]})(i,n)}}])})(Nr),Nr.API.addSvgAsImage=function(t,e,r,n,i,l,u,d){if(isNaN(e)||isNaN(r))throw cs.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw cs.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var h=document.createElement("canvas");h.width=n,h.height=i;var m=h.getContext("2d");m.fillStyle="#fff",m.fillRect(0,0,h.width,h.height);var g={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},b=this;return(Gr.canvg?Promise.resolve(Gr.canvg):tu(()=>import("./index.es--pSQQ6iJ.js"),[])).catch(function(N){return Promise.reject(new Error("Could not load canvg: "+N))}).then(function(N){return N.default?N.default:N}).then(function(N){return N.fromString(m,t,g)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(N){return N.render(g)}).then(function(){b.addImage(h.toDataURL("image/jpeg",1),e,r,n,i,u,d)})},Nr.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,r);return this},Nr.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,i,l,u={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},d=Object.keys(u),h=[],m=0,g=0,b=0;function N(C,U){var T,S=!1;for(T=0;T<C.length;T+=1)C[T]===U&&(S=!0);return S}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(u)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var w=d.length;for(b=0;b<w;b+=1)r[d[b]].value=r[d[b]].defaultValue,r[d[b]].explicitSet=!1}if(Wn(t)==="object"){for(i in t)if(l=t[i],N(d,i)&&l!==void 0){if(r[i].type==="boolean"&&typeof l=="boolean")r[i].value=l;else if(r[i].type==="name"&&N(r[i].valueSet,l))r[i].value=l;else if(r[i].type==="integer"&&Number.isInteger(l))r[i].value=l;else if(r[i].type==="array"){for(m=0;m<l.length;m+=1)if(n=!0,l[m].length===1&&typeof l[m][0]=="number")h.push(String(l[m]-1));else if(l[m].length>1){for(g=0;g<l[m].length;g+=1)typeof l[m][g]!="number"&&(n=!1);n===!0&&h.push([l[m][0]-1,l[m][1]-1].join(" "))}r[i].value="["+h.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var C,U=[];for(C in r)r[C].explicitSet===!0&&(r[C].type==="name"?U.push("/"+C+" /"+r[C].value):U.push("/"+C+" "+r[C].value));U.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+U.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},(function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),l=unescape(encodeURIComponent(n)),u=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),d=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),h=unescape(encodeURIComponent("</x:xmpmeta>")),m=l.length+u.length+d.length+i.length+h.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+m+" >>"),this.internal.write("stream"),this.internal.write(i+l+u+d+h),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}})(Nr.API),(function(t){var e=t.API,r=e.pdfEscape16=function(l,u){for(var d,h=u.metadata.Unicode.widths,m=["","0","00","000","0000"],g=[""],b=0,N=l.length;b<N;++b){if(d=u.metadata.characterToGlyph(l.charCodeAt(b)),u.metadata.glyIdsUsed.push(d),u.metadata.toUnicode[d]=l.charCodeAt(b),h.indexOf(d)==-1&&(h.push(d),h.push([parseInt(u.metadata.widthOfGlyph(d),10)])),d=="0")return g.join("");d=d.toString(16),g.push(m[4-d.length],d)}return g.join("")},n=function(l){var u,d,h,m,g,b,N;for(g=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,h=[],b=0,N=(d=Object.keys(l).sort(function(w,C){return w-C})).length;b<N;b++)u=d[b],h.length>=100&&(g+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar`,h=[]),l[u]!==void 0&&l[u]!==null&&typeof l[u].toString=="function"&&(m=("0000"+l[u].toString(16)).slice(-4),u=("0000"+(+u).toString(16)).slice(-4),h.push("<"+u+"><"+m+">"));return h.length&&(g+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar
`),g+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(l){(function(u){var d=u.font,h=u.out,m=u.newObject,g=u.putStream;if(d.metadata instanceof t.API.TTFFont&&d.encoding==="Identity-H"){for(var b=d.metadata.Unicode.widths,N=d.metadata.subset.encode(d.metadata.glyIdsUsed,1),w="",C=0;C<N.length;C++)w+=String.fromCharCode(N[C]);var U=m();g({data:w,addLength1:!0,objectId:U}),h("endobj");var T=m();g({data:n(d.metadata.toUnicode),addLength1:!0,objectId:T}),h("endobj");var S=m();h("<<"),h("/Type /FontDescriptor"),h("/FontName /"+rd(d.fontName)),h("/FontFile2 "+U+" 0 R"),h("/FontBBox "+t.API.PDFObject.convert(d.metadata.bbox)),h("/Flags "+d.metadata.flags),h("/StemV "+d.metadata.stemV),h("/ItalicAngle "+d.metadata.italicAngle),h("/Ascent "+d.metadata.ascender),h("/Descent "+d.metadata.decender),h("/CapHeight "+d.metadata.capHeight),h(">>"),h("endobj");var I=m();h("<<"),h("/Type /Font"),h("/BaseFont /"+rd(d.fontName)),h("/FontDescriptor "+S+" 0 R"),h("/W "+t.API.PDFObject.convert(b)),h("/CIDToGIDMap /Identity"),h("/DW 1000"),h("/Subtype /CIDFontType2"),h("/CIDSystemInfo"),h("<<"),h("/Supplement 0"),h("/Registry (Adobe)"),h("/Ordering ("+d.encoding+")"),h(">>"),h(">>"),h("endobj"),d.objectNumber=m(),h("<<"),h("/Type /Font"),h("/Subtype /Type0"),h("/ToUnicode "+T+" 0 R"),h("/BaseFont /"+rd(d.fontName)),h("/Encoding /"+d.encoding),h("/DescendantFonts ["+I+" 0 R]"),h(">>"),h("endobj"),d.isAlreadyPutted=!0}})(l)}]),e.events.push(["putFont",function(l){(function(u){var d=u.font,h=u.out,m=u.newObject,g=u.putStream;if(d.metadata instanceof t.API.TTFFont&&d.encoding==="WinAnsiEncoding"){for(var b=d.metadata.rawData,N="",w=0;w<b.length;w++)N+=String.fromCharCode(b[w]);var C=m();g({data:N,addLength1:!0,objectId:C}),h("endobj");var U=m();g({data:n(d.metadata.toUnicode),addLength1:!0,objectId:U}),h("endobj");var T=m();h("<<"),h("/Descent "+d.metadata.decender),h("/CapHeight "+d.metadata.capHeight),h("/StemV "+d.metadata.stemV),h("/Type /FontDescriptor"),h("/FontFile2 "+C+" 0 R"),h("/Flags 96"),h("/FontBBox "+t.API.PDFObject.convert(d.metadata.bbox)),h("/FontName /"+rd(d.fontName)),h("/ItalicAngle "+d.metadata.italicAngle),h("/Ascent "+d.metadata.ascender),h(">>"),h("endobj"),d.objectNumber=m();for(var S=0;S<d.metadata.hmtx.widths.length;S++)d.metadata.hmtx.widths[S]=parseInt(d.metadata.hmtx.widths[S]*(1e3/d.metadata.head.unitsPerEm));h("<</Subtype/TrueType/Type/Font/ToUnicode "+U+" 0 R/BaseFont/"+rd(d.fontName)+"/FontDescriptor "+T+" 0 R/Encoding/"+d.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(d.metadata.hmtx.widths)+">>"),h("endobj"),d.isAlreadyPutted=!0}})(l)}]);var i=function(l){var u,d=l.text||"",h=l.x,m=l.y,g=l.options||{},b=l.mutex||{},N=b.pdfEscape,w=b.activeFontKey,C=b.fonts,U=w,T="",S=0,I="",O=C[U].encoding;if(C[U].encoding!=="Identity-H")return{text:d,x:h,y:m,options:g,mutex:b};for(I=d,U=w,Array.isArray(d)&&(I=d[0]),S=0;S<I.length;S+=1)C[U].metadata.hasOwnProperty("cmap")&&(u=C[U].metadata.cmap.unicode.codeMap[I[S].charCodeAt(0)]),u||I[S].charCodeAt(0)<256&&C[U].metadata.hasOwnProperty("Unicode")?T+=I[S]:T+="";var M="";return parseInt(U.slice(1))<14||O==="WinAnsiEncoding"?M=N(T,U).split("").map(function(ne){return ne.charCodeAt(0).toString(16)}).join(""):O==="Identity-H"&&(M=r(T,C[U])),b.isHex=!0,{text:M,x:h,y:m,options:g,mutex:b}};e.events.push(["postProcessText",function(l){var u=l.text||"",d=[],h={text:u,x:l.x,y:l.y,options:l.options,mutex:l.mutex};if(Array.isArray(u)){var m=0;for(m=0;m<u.length;m+=1)Array.isArray(u[m])&&u[m].length===3?d.push([i(Object.assign({},h,{text:u[m][0]})).text,u[m][1],u[m][2]]):d.push(i(Object.assign({},h,{text:u[m]})).text);l.text=d}else l.text=i(Object.assign({},h,{text:u})).text}])})(Nr),(function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})(Nr.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var i,l,u,d,h,m,g,b=e,N=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],w=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],C={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},U={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},T=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],S=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),I=!1,O=0;this.__bidiEngine__={};var M=function(Z){var W=Z.charCodeAt(),ae=W>>8,K=U[ae];return K!==void 0?b[256*K+(255&W)]:ae===252||ae===253?"AL":S.test(ae)?"L":ae===8?"R":"N"},ne=function(Z){for(var W,ae=0;ae<Z.length;ae++){if((W=M(Z.charAt(ae)))==="L")return!1;if(W==="R")return!0}return!1},z=function(Z,W,ae,K){var ue,Q,Ae,ee,_e=W[K];switch(_e){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":I=!1;break;case"N":case"AN":break;case"EN":I&&(_e="AN");break;case"AL":I=!0,_e="R";break;case"WS":case"BN":_e="N";break;case"CS":K<1||K+1>=W.length||(ue=ae[K-1])!=="EN"&&ue!=="AN"||(Q=W[K+1])!=="EN"&&Q!=="AN"?_e="N":I&&(Q="AN"),_e=Q===ue?Q:"N";break;case"ES":_e=(ue=K>0?ae[K-1]:"B")==="EN"&&K+1<W.length&&W[K+1]==="EN"?"EN":"N";break;case"ET":if(K>0&&ae[K-1]==="EN"){_e="EN";break}if(I){_e="N";break}for(Ae=K+1,ee=W.length;Ae<ee&&W[Ae]==="ET";)Ae++;_e=Ae<ee&&W[Ae]==="EN"?"EN":"N";break;case"NSM":if(u&&!d){for(ee=W.length,Ae=K+1;Ae<ee&&W[Ae]==="NSM";)Ae++;if(Ae<ee){var Ne=Z[K],q=Ne>=1425&&Ne<=2303||Ne===64286;if(ue=W[Ae],q&&(ue==="R"||ue==="AL")){_e="R";break}}}_e=K<1||(ue=W[K-1])==="B"?"N":ae[K-1];break;case"B":I=!1,i=!0,_e=O;break;case"S":l=!0,_e="N"}return _e},oe=function(Z,W,ae){var K=Z.split("");return ae&&te(K,ae,{hiLevel:O}),K.reverse(),W&&W.reverse(),K.join("")},te=function(Z,W,ae){var K,ue,Q,Ae,ee,_e=-1,Ne=Z.length,q=0,F=[],G=O?w:N,$=[];for(I=!1,i=!1,l=!1,ue=0;ue<Ne;ue++)$[ue]=M(Z[ue]);for(Q=0;Q<Ne;Q++){if(ee=q,F[Q]=z(Z,$,F,Q),K=240&(q=G[ee][C[F[Q]]]),q&=15,W[Q]=Ae=G[q][5],K>0)if(K===16){for(ue=_e;ue<Q;ue++)W[ue]=1;_e=-1}else _e=-1;if(G[q][6])_e===-1&&(_e=Q);else if(_e>-1){for(ue=_e;ue<Q;ue++)W[ue]=Ae;_e=-1}$[Q]==="B"&&(W[Q]=0),ae.hiLevel|=Ae}l&&(function(V,he,ve){for(var je=0;je<ve;je++)if(V[je]==="S"){he[je]=O;for(var Te=je-1;Te>=0&&V[Te]==="WS";Te--)he[Te]=O}})($,W,Ne)},X=function(Z,W,ae,K,ue){if(!(ue.hiLevel<Z)){if(Z===1&&O===1&&!i)return W.reverse(),void(ae&&ae.reverse());for(var Q,Ae,ee,_e,Ne=W.length,q=0;q<Ne;){if(K[q]>=Z){for(ee=q+1;ee<Ne&&K[ee]>=Z;)ee++;for(_e=q,Ae=ee-1;_e<Ae;_e++,Ae--)Q=W[_e],W[_e]=W[Ae],W[Ae]=Q,ae&&(Q=ae[_e],ae[_e]=ae[Ae],ae[Ae]=Q);q=ee}q++}}},ge=function(Z,W,ae){var K=Z.split(""),ue={hiLevel:O};return ae||(ae=[]),te(K,ae,ue),(function(Q,Ae,ee){if(ee.hiLevel!==0&&g)for(var _e,Ne=0;Ne<Q.length;Ne++)Ae[Ne]===1&&(_e=T.indexOf(Q[Ne]))>=0&&(Q[Ne]=T[_e+1])})(K,ae,ue),X(2,K,W,ae,ue),X(1,K,W,ae,ue),K.join("")};return this.__bidiEngine__.doBidiReorder=function(Z,W,ae){if((function(ue,Q){if(Q)for(var Ae=0;Ae<ue.length;Ae++)Q[Ae]=Ae;d===void 0&&(d=ne(ue)),m===void 0&&(m=ne(ue))})(Z,W),u||!h||m)if(u&&h&&d^m)O=d?1:0,Z=oe(Z,W,ae);else if(!u&&h&&m)O=d?1:0,Z=ge(Z,W,ae),Z=oe(Z,W);else if(!u||d||h||m){if(u&&!h&&d^m)Z=oe(Z,W),d?(O=0,Z=ge(Z,W,ae)):(O=1,Z=ge(Z,W,ae),Z=oe(Z,W));else if(u&&d&&!h&&m)O=1,Z=ge(Z,W,ae),Z=oe(Z,W);else if(!u&&!h&&d^m){var K=g;d?(O=1,Z=ge(Z,W,ae),O=0,g=!1,Z=ge(Z,W,ae),g=K):(O=0,Z=ge(Z,W,ae),Z=oe(Z,W),O=1,g=!1,Z=ge(Z,W,ae),g=K,Z=oe(Z,W))}}else O=0,Z=ge(Z,W,ae);else O=d?1:0,Z=ge(Z,W,ae);return Z},this.__bidiEngine__.setOptions=function(Z){Z&&(u=Z.isInputVisual,h=Z.isOutputVisual,d=Z.isInputRtl,m=Z.isOutputRtl,g=Z.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var l=n.options||{};n.mutex,l.lang;var u=[];if(l.isInputVisual=typeof l.isInputVisual!="boolean"||l.isInputVisual,r.setOptions(l),Object.prototype.toString.call(i)==="[object Array]"){var d=0;for(u=[],d=0;d<i.length;d+=1)Object.prototype.toString.call(i[d])==="[object Array]"?u.push([r.doBidiReorder(i[d][0]),i[d][1],i[d][2]]):u.push([r.doBidiReorder(i[d])]);n.text=u}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])})(Nr),Nr.API.TTFFont=(function(){function t(e){var r;if(this.rawData=e,r=this.contents=new _c(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new PQ(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new EQ(this.contents),this.head=new jQ(this),this.name=new TQ(this),this.cmap=new YN(this),this.toUnicode={},this.hhea=new UQ(this),this.maxp=new IQ(this),this.hmtx=new QQ(this),this.post=new LQ(this),this.os2=new kQ(this),this.loca=new MQ(this),this.glyf=new OQ(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,i,l;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var u,d,h,m;for(m=[],u=0,d=(h=this.bbox).length;u<d;u++)e=h[u],m.push(Math.round(e*this.scaleFactor));return m}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(l=this.familyClass)===1||l===2||l===3||l===4||l===5||l===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var i,l,u,d;for(u=0,l=0,d=(e=""+e).length;0<=d?l<d:l>d;l=0<=d?++l:--l)i=e.charCodeAt(l),u+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return u*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t})();var El,_c=(function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,i;for(i=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(e.charCodeAt(r)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,i,l,u,d,h;return e=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),l=this.readByte(),u=this.readByte(),d=this.readByte(),h=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^l)+65536*(255^u)+256*(255^d)+(255^h)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*i+16777216*l+65536*u+256*d+h},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,i,l;for(l=[],n=0,i=e.length;n<i;n++)r=e[n],l.push(this.writeByte(r));return l},t})(),EQ=(function(){var t;function e(r){var n,i,l;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,l=this.tableCount;0<=l?i<l:i>l;i=0<=l?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,i,l,u,d,h,m,g,b,N,w,C,U;for(U in w=Object.keys(r).length,h=Math.log(2),b=16*Math.floor(Math.log(w)/h),u=Math.floor(b/h),g=16*w-b,(i=new _c).writeInt(this.scalarType),i.writeShort(w),i.writeShort(b),i.writeShort(u),i.writeShort(g),l=16*w,m=i.pos+l,d=null,C=[],r)for(N=r[U],i.writeString(U),i.writeInt(t(N)),i.writeInt(m),i.writeInt(N.length),C=C.concat(N),U==="head"&&(d=m),m+=N.length;m%4;)C.push(0),m++;return i.write(C),n=2981146554-t(i.data),i.pos=d+8,i.writeUInt32(n),i.data},t=function(r){var n,i,l,u;for(r=JN.call(r);r.length%4;)r.push(0);for(l=new _c(r),i=0,n=0,u=r.length;n<u;n=n+=4)i+=l.readUInt32();return 4294967295&i},e})(),SQ={}.hasOwnProperty,aA=function(t,e){for(var r in e)SQ.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};El=(function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var jQ=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return aA(t,El),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var r;return(r=new _c).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(e),r.writeShort(this.glyphDataFormat),r.data},t})(),w_=(function(){function t(e,r){var n,i,l,u,d,h,m,g,b,N,w,C,U,T,S,I,O;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),b=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(h=0;h<256;++h)this.codeMap[h]=e.readByte();break;case 4:for(w=e.readUInt16(),N=w/2,e.pos+=6,l=(function(){var M,ne;for(ne=[],h=M=0;0<=N?M<N:M>N;h=0<=N?++M:--M)ne.push(e.readUInt16());return ne})(),e.pos+=2,U=(function(){var M,ne;for(ne=[],h=M=0;0<=N?M<N:M>N;h=0<=N?++M:--M)ne.push(e.readUInt16());return ne})(),m=(function(){var M,ne;for(ne=[],h=M=0;0<=N?M<N:M>N;h=0<=N?++M:--M)ne.push(e.readUInt16());return ne})(),g=(function(){var M,ne;for(ne=[],h=M=0;0<=N?M<N:M>N;h=0<=N?++M:--M)ne.push(e.readUInt16());return ne})(),i=(this.length-e.pos+this.offset)/2,d=(function(){var M,ne;for(ne=[],h=M=0;0<=i?M<i:M>i;h=0<=i?++M:--M)ne.push(e.readUInt16());return ne})(),h=S=0,O=l.length;S<O;h=++S)for(T=l[h],n=I=C=U[h];C<=T?I<=T:I>=T;n=C<=T?++I:--I)g[h]===0?u=n+m[h]:(u=d[g[h]/2+(n-C)-(N-h)]||0)!==0&&(u+=m[h]),this.codeMap[n]=65535&u}e.pos=b}return t.encode=function(e,r){var n,i,l,u,d,h,m,g,b,N,w,C,U,T,S,I,O,M,ne,z,oe,te,X,ge,Z,W,ae,K,ue,Q,Ae,ee,_e,Ne,q,F,G,$,V,he,ve,je,Te,Je,Ke,nt;switch(K=new _c,u=Object.keys(e).sort(function(ft,tt){return ft-tt}),r){case"macroman":for(U=0,T=(function(){var ft=[];for(C=0;C<256;++C)ft.push(0);return ft})(),I={0:0},l={},ue=0,_e=u.length;ue<_e;ue++)I[Te=e[i=u[ue]]]==null&&(I[Te]=++U),l[i]={old:e[i],new:I[e[i]]},T[i]=I[e[i]];return K.writeUInt16(1),K.writeUInt16(0),K.writeUInt32(12),K.writeUInt16(0),K.writeUInt16(262),K.writeUInt16(0),K.write(T),{charMap:l,subtable:K.data,maxGlyphID:U+1};case"unicode":for(W=[],b=[],O=0,I={},n={},S=m=null,Q=0,Ne=u.length;Q<Ne;Q++)I[ne=e[i=u[Q]]]==null&&(I[ne]=++O),n[i]={old:ne,new:I[ne]},d=I[ne]-i,S!=null&&d===m||(S&&b.push(S),W.push(i),m=d),S=i;for(S&&b.push(S),b.push(65535),W.push(65535),ge=2*(X=W.length),te=2*Math.pow(Math.log(X)/Math.LN2,2),N=Math.log(te/2)/Math.LN2,oe=2*X-te,h=[],z=[],w=[],C=Ae=0,q=W.length;Ae<q;C=++Ae){if(Z=W[C],g=b[C],Z===65535){h.push(0),z.push(0);break}if(Z-(ae=n[Z].new)>=32768)for(h.push(0),z.push(2*(w.length+X-C)),i=ee=Z;Z<=g?ee<=g:ee>=g;i=Z<=g?++ee:--ee)w.push(n[i].new);else h.push(ae-Z),z.push(0)}for(K.writeUInt16(3),K.writeUInt16(1),K.writeUInt32(12),K.writeUInt16(4),K.writeUInt16(16+8*X+2*w.length),K.writeUInt16(0),K.writeUInt16(ge),K.writeUInt16(te),K.writeUInt16(N),K.writeUInt16(oe),ve=0,F=b.length;ve<F;ve++)i=b[ve],K.writeUInt16(i);for(K.writeUInt16(0),je=0,G=W.length;je<G;je++)i=W[je],K.writeUInt16(i);for(Je=0,$=h.length;Je<$;Je++)d=h[Je],K.writeUInt16(d);for(Ke=0,V=z.length;Ke<V;Ke++)M=z[Ke],K.writeUInt16(M);for(nt=0,he=w.length;nt<he;nt++)U=w[nt],K.writeUInt16(U);return{charMap:n,subtable:K.data,maxGlyphID:O+1}}},t})(),YN=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return aA(t,El),t.prototype.tag="cmap",t.prototype.parse=function(e){var r,n,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)r=new w_(e,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(e,r){var n,i;return r==null&&(r="macroman"),n=w_.encode(e,r),(i=new _c).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},t})(),UQ=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return aA(t,El),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t})(),kQ=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return aA(t,El),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var r,n;for(n=[],r=0;r<10;++r)n.push(e.readByte());return n})(),this.charRange=(function(){var r,n;for(n=[],r=0;r<4;++r)n.push(e.readInt());return n})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(e.readInt());return n})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t})(),LQ=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return aA(t,El),t.prototype.tag="post",t.prototype.parse=function(e){var r,n,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var l;for(n=e.readUInt16(),this.glyphNameIndex=[],l=0;0<=n?l<n:l>n;l=0<=n?++l:--l)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)r=e.readByte(),i.push(this.names.push(e.readString(r)));return i;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var u,d,h;for(h=[],l=u=0,d=this.file.maxp.numGlyphs;0<=d?u<d:u>d;l=0<=d?++u:--u)h.push(e.readUInt32());return h}).call(this)}},t})(),FQ=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},TQ=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return aA(t,El),t.prototype.tag="name",t.prototype.parse=function(e){var r,n,i,l,u,d,h,m,g,b,N;for(e.pos=this.offset,e.readShort(),r=e.readShort(),d=e.readShort(),n=[],l=0;0<=r?l<r:l>r;l=0<=r?++l:--l)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+d+e.readShort()});for(h={},l=g=0,b=n.length;g<b;l=++g)i=n[l],e.pos=i.offset,m=e.readString(i.length),u=new FQ(m,i),h[N=i.nameID]==null&&(h[N]=[]),h[i.nameID].push(u);this.strings=h,this.copyright=h[0],this.fontFamily=h[1],this.fontSubfamily=h[2],this.uniqueSubfamily=h[3],this.fontName=h[4],this.version=h[5];try{this.postscriptName=h[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=h[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=h[7],this.manufacturer=h[8],this.designer=h[9],this.description=h[10],this.vendorUrl=h[11],this.designerUrl=h[12],this.license=h[13],this.licenseUrl=h[14],this.preferredFamily=h[15],this.preferredSubfamily=h[17],this.compatibleFull=h[18],this.sampleText=h[19]},t})(),IQ=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return aA(t,El),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t})(),QQ=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return aA(t,El),t.prototype.tag="hmtx",t.prototype.parse=function(e){var r,n,i,l,u,d,h;for(e.pos=this.offset,this.metrics=[],r=0,d=this.file.hhea.numberOfMetrics;0<=d?r<d:r>d;r=0<=d?++r:--r)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var m,g;for(g=[],r=m=0;0<=i?m<i:m>i;r=0<=i?++m:--m)g.push(e.readInt16());return g})(),this.widths=(function(){var m,g,b,N;for(N=[],m=0,g=(b=this.metrics).length;m<g;m++)l=b[m],N.push(l.advance);return N}).call(this),n=this.widths[this.widths.length-1],h=[],r=u=0;0<=i?u<i:u>i;r=0<=i?++u:--u)h.push(this.widths.push(n));return h},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t})(),JN=[].slice,OQ=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return aA(t,El),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var r,n,i,l,u,d,h,m,g,b;return e in this.cache?this.cache[e]:(l=this.file.loca,r=this.file.contents,n=l.indexOf(e),(i=l.lengthOf(e))===0?this.cache[e]=null:(r.pos=this.offset+n,u=(d=new _c(r.read(i))).readShort(),m=d.readShort(),b=d.readShort(),h=d.readShort(),g=d.readShort(),this.cache[e]=u===-1?new DQ(d,m,b,h,g):new RQ(d,u,m,b,h,g),this.cache[e]))},t.prototype.encode=function(e,r,n){var i,l,u,d,h;for(u=[],l=[],d=0,h=r.length;d<h;d++)i=e[r[d]],l.push(u.length),i&&(u=u.concat(i.encode(n)));return l.push(u.length),{table:u,offsets:l}},t})(),RQ=(function(){function t(e,r,n,i,l,u){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=l,this.yMax=u,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),DQ=(function(){function t(e,r,n,i,l){var u,d;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=l,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],u=this.raw;d=u.readShort(),this.glyphOffsets.push(u.pos),this.glyphIDs.push(u.readUInt16()),32&d;)u.pos+=1&d?4:2,128&d?u.pos+=8:64&d?u.pos+=4:8&d&&(u.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new _c(JN.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t})(),MQ=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return aA(t,El),t.prototype.tag="loca",t.prototype.parse=function(e){var r,n;return e.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,l;for(l=[],n=0,i=this.length;n<i;n+=2)l.push(2*e.readUInt16());return l}).call(this):(function(){var i,l;for(l=[],n=0,i=this.length;n<i;n+=4)l.push(e.readUInt32());return l}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,r){for(var n=new Uint32Array(this.offsets.length),i=0,l=0,u=0;u<n.length;++u)if(n[u]=i,l<r.length&&r[l]==u){++l,n[u]=i;var d=this.offsets[u],h=this.offsets[u+1]-d;h>0&&(i+=h)}for(var m=new Array(4*n.length),g=0;g<n.length;++g)m[4*g+3]=255&n[g],m[4*g+2]=(65280&n[g])>>8,m[4*g+1]=(16711680&n[g])>>16,m[4*g]=(4278190080&n[g])>>24;return m},t})(),PQ=(function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,i,l;for(r in i=this.font.cmap.tables[0].codeMap,e={},l=this.subset)n=l[r],e[r]=i[n];return e},t.prototype.glyphsFor=function(e){var r,n,i,l,u,d,h;for(i={},u=0,d=e.length;u<d;u++)i[l=e[u]]=this.font.glyf.glyphFor(l);for(l in r=[],i)(n=i[l])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(l in h=this.glyphsFor(r))n=h[l],i[l]=n;return i},t.prototype.encode=function(e,r){var n,i,l,u,d,h,m,g,b,N,w,C,U,T,S;for(i in n=YN.encode(this.generateCmap(),"unicode"),u=this.glyphsFor(e),w={0:0},S=n.charMap)w[(h=S[i]).old]=h.new;for(C in N=n.maxGlyphID,u)C in w||(w[C]=N++);return g=(function(I){var O,M;for(O in M={},I)M[I[O]]=O;return M})(w),b=Object.keys(g).sort(function(I,O){return I-O}),U=(function(){var I,O,M;for(M=[],I=0,O=b.length;I<O;I++)d=b[I],M.push(g[d]);return M})(),l=this.font.glyf.encode(u,U,w),m=this.font.loca.encode(l.offsets,U),T={cmap:this.font.cmap.raw(),glyf:l.table,loca:m,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(T["OS/2"]=this.font.os2.raw()),this.font.directory.encode(T)},t})();Nr.API.PDFObject=(function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,i,l,u;if(Array.isArray(r))return"["+(function(){var d,h,m;for(m=[],d=0,h=r.length;d<h;d++)n=r[d],m.push(e.convert(n));return m})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in l=["<<"],r)u=r[i],l.push("/"+i+" "+e.convert(u));return l.push(">>"),l.join(`
`)}return""+r},e})();const HQ=({onClose:t,onSave:e})=>{const[r,n]=P.useState({name:"",address:"",reference:"",phone:"",cpf:"",birthDate:"",deliveryZoneId:""}),[i,l]=P.useState(!1),u=useLiveQuery(()=>{var C;return(C=db.delivery_zones)==null?void 0:C.toArray()},[])||[],d=useLiveQuery(()=>{var C;return(C=db.delivery_zones)==null?void 0:C.toArray()},[])||[],h=C=>C.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),m=C=>{const U=h(C||"");if(!U)return null;const T=d.map(I=>({sector:I,key:h((I==null?void 0:I.name)||"")})).filter(I=>I.key.length>2&&U.includes(I.key)).sort((I,O)=>O.key.length-I.key.length)[0];if(T!=null&&T.sector){const I=u.find(O=>O.id===T.sector.zone_id)??null;if(I)return{zoneId:I.id,zoneName:I.name??I.nome??"",source:"setor"}}const S=u.map(I=>({zone:I,key:h((I==null?void 0:I.name)||(I==null?void 0:I.nome)||"")})).filter(I=>I.key.length>2&&U.includes(I.key)).sort((I,O)=>O.key.length-I.key.length)[0];return S!=null&&S.zone?{zoneId:S.zone.id,zoneName:S.zone.name??S.zone.nome??"",source:"zona"}:null},g=P.useMemo(()=>m(r.address),[r.address,u,d]),b=C=>{const{name:U,value:T}=C.target;n({...r,[U]:T}),U==="address"&&l(!1)},N=C=>{n({...r,deliveryZoneId:C.target.value}),l(!0)};P.useEffect(()=>{if(i)return;const C=(g==null?void 0:g.zoneId)??"";r.deliveryZoneId!==C&&n(U=>({...U,deliveryZoneId:C}))},[g,i,r.deliveryZoneId]);const w=C=>{if(C.preventDefault(),!r.name||!r.address){alert("Nome e Endereo so obrigatrios.");return}const U={...r,nome:(r.name||"").trim(),name:(r.name||"").trim(),endereco:(r.address||"").trim(),address:(r.address||"").trim(),referencia:(r.reference||"").trim(),referencia_pt:(r.reference||"").trim(),telefone:(r.phone||"").trim(),phone:(r.phone||"").trim(),cpf:(r.cpf||"").trim(),dataNascimento:r.birthDate||"",deliveryZoneId:r.deliveryZoneId||null};console.log("Saving from Modal:",U),e&&e(U),t()};return a.jsxs("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",children:[a.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",onClick:t}),a.jsxs("div",{className:"bg-surface w-full max-w-md rounded-2xl shadow-2xl overflow-hidden relative z-10 animate-in zoom-in-95 fade-in duration-200 border border-bdr transition-colors duration-300 flex flex-col max-h-[90vh]",children:[a.jsxs("div",{className:"bg-app border-b border-bdr px-6 py-4 flex justify-between items-center shrink-0",children:[a.jsxs("h3",{className:"text-txt-main font-bold text-lg flex items-center gap-2",children:[a.jsx(sm,{className:"w-5 h-5 text-primary"}),"Novo Cliente"]}),a.jsx("button",{onClick:t,className:"text-txt-muted hover:text-txt-main hover:bg-bdr p-1.5 rounded-full transition-colors",children:a.jsx(qn,{className:"w-5 h-5"})})]}),a.jsxs("form",{onSubmit:w,className:"p-6 space-y-5 overflow-y-auto",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-txt-muted uppercase ml-1",children:"Nome Completo *"}),a.jsxs("div",{className:"relative",children:[a.jsx(sm,{className:"w-4 h-4 text-txt-muted absolute left-3 top-3"}),a.jsx("input",{type:"text",name:"name",value:r.name,onChange:b,placeholder:"Ex: Joo da Silva",className:"w-full pl-10 pr-4 py-2.5 border border-bdr bg-app rounded-xl focus:ring-2 focus:ring-primary focus:border-primary outline-none text-txt-main text-sm font-medium transition-all",autoFocus:!0})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-txt-muted uppercase ml-1",children:"Endereo Completo *"}),a.jsxs("div",{className:"relative",children:[a.jsx(IA,{className:"w-4 h-4 text-txt-muted absolute left-3 top-3"}),a.jsx("input",{type:"text",name:"address",value:r.address,onChange:b,placeholder:"Rua, Nmero, Bairro",className:"w-full pl-10 pr-4 py-2.5 border border-bdr bg-app rounded-xl focus:ring-2 focus:ring-primary focus:border-primary outline-none text-txt-main text-sm font-medium transition-all"})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-txt-muted uppercase ml-1",children:"Ponto de Referncia"}),a.jsxs("div",{className:"relative",children:[a.jsx(zb,{className:"w-4 h-4 text-txt-muted absolute left-3 top-3"}),a.jsx("input",{type:"text",name:"reference",value:r.reference,onChange:b,placeholder:"Ex: Prximo ao mercado X",className:"w-full pl-10 pr-4 py-2.5 border border-bdr bg-app rounded-xl focus:ring-2 focus:ring-primary focus:border-primary outline-none text-txt-main text-sm font-medium transition-all"})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-txt-muted uppercase ml-1",children:"Zona de entrega"}),a.jsxs("select",{value:r.deliveryZoneId,onChange:N,className:"w-full px-4 py-2.5 border border-bdr bg-app rounded-xl focus:ring-2 focus:ring-primary focus:border-primary outline-none text-txt-main text-sm font-medium transition-all",children:[a.jsx("option",{value:"",children:"Sem zona definida"}),u.map(C=>a.jsx("option",{value:C.id,children:C.name??C.nome??C.id},C.id))]}),g&&g.zoneId===r.deliveryZoneId&&a.jsxs("div",{className:"text-[11px] text-emerald-600",children:["Zona detectada automaticamente: ",g.zoneName||"Zona encontrada","."]}),g&&g.zoneId!==r.deliveryZoneId&&a.jsxs("div",{className:"text-[11px] text-amber-600",children:["Zona sugerida pelo endereco: ",g.zoneName||"Zona encontrada","."]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-5",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-txt-muted uppercase ml-1",children:"Telefone / Whats"}),a.jsxs("div",{className:"relative",children:[a.jsx(Gb,{className:"w-4 h-4 text-txt-muted absolute left-3 top-3"}),a.jsx("input",{type:"tel",name:"phone",value:r.phone,onChange:b,placeholder:"(00) 00000-0000",className:"w-full pl-10 pr-4 py-2.5 border border-bdr bg-app rounded-xl focus:ring-2 focus:ring-primary focus:border-primary outline-none text-txt-main text-sm font-medium transition-all"})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-txt-muted uppercase ml-1",children:"Nascimento"}),a.jsxs("div",{className:"relative",children:[a.jsx(Cm,{className:"w-4 h-4 text-txt-muted absolute left-3 top-3"}),a.jsx("input",{type:"date",name:"birthDate",value:r.birthDate,onChange:b,className:"w-full pl-10 pr-4 py-2.5 border border-bdr bg-app rounded-xl focus:ring-2 focus:ring-primary focus:border-primary outline-none text-txt-main text-sm font-medium transition-all"})]})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-bold text-txt-muted uppercase ml-1",children:"CPF"}),a.jsxs("div",{className:"relative",children:[a.jsx(P5,{className:"w-4 h-4 text-txt-muted absolute left-3 top-3"}),a.jsx("input",{type:"text",name:"cpf",value:r.cpf,onChange:b,placeholder:"000.000.000-00",className:"w-full pl-10 pr-4 py-2.5 border border-bdr bg-app rounded-xl focus:ring-2 focus:ring-primary focus:border-primary outline-none text-txt-main text-sm font-medium transition-all"})]})]}),a.jsxs("div",{className:"pt-2 flex items-center gap-3",children:[a.jsx("button",{type:"button",onClick:t,className:"flex-1 py-3 text-sm font-bold text-txt-muted hover:bg-app rounded-xl transition-colors",children:"Cancelar"}),a.jsxs("button",{type:"submit",className:"flex-[2] py-3 bg-primary hover:bg-primary/90 text-white text-sm font-bold rounded-xl shadow-lg shadow-primary/20 transition-all active:scale-[0.98] flex items-center justify-center gap-2",children:[a.jsx(tl,{className:"w-4 h-4"}),"Cadastrar Cliente"]})]})]})]})]})};function qm(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function qQ(t,e,r,n){function i(l){return l instanceof r?l:new r(function(u){u(l)})}return new(r||(r=Promise))(function(l,u){function d(g){try{m(n.next(g))}catch(b){u(b)}}function h(g){try{m(n.throw(g))}catch(b){u(b)}}function m(g){g.done?l(g.value):i(g.value).then(d,h)}m((n=n.apply(t,e||[])).next())})}const zQ=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class hv extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class KQ extends hv{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class __ extends hv{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class B_ extends hv{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var _b;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(_b||(_b={}));class GQ{constructor(e,{headers:r={},customFetch:n,region:i=_b.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=zQ(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return qQ(this,arguments,void 0,function*(r,n={}){var i;let l,u;try{const{headers:d,method:h,body:m,signal:g,timeout:b}=n;let N={},{region:w}=n;w||(w=this.region);const C=new URL(`${this.url}/${r}`);w&&w!=="any"&&(N["x-region"]=w,C.searchParams.set("forceFunctionRegion",w));let U;m&&(d&&!Object.prototype.hasOwnProperty.call(d,"Content-Type")||!d)?typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(N["Content-Type"]="application/octet-stream",U=m):typeof m=="string"?(N["Content-Type"]="text/plain",U=m):typeof FormData<"u"&&m instanceof FormData?U=m:(N["Content-Type"]="application/json",U=JSON.stringify(m)):U=m;let T=g;b&&(u=new AbortController,l=setTimeout(()=>u.abort(),b),g?(T=u.signal,g.addEventListener("abort",()=>u.abort())):T=u.signal);const S=yield this.fetch(C.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},N),this.headers),d),body:U,signal:T}).catch(ne=>{throw new KQ(ne)}),I=S.headers.get("x-relay-error");if(I&&I==="true")throw new __(S);if(!S.ok)throw new B_(S);let O=((i=S.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),M;return O==="application/json"?M=yield S.json():O==="application/octet-stream"||O==="application/pdf"?M=yield S.blob():O==="text/event-stream"?M=S:O==="multipart/form-data"?M=yield S.formData():M=yield S.text(),{data:M,error:null,response:S}}catch(d){return{data:null,error:d,response:d instanceof B_||d instanceof __?d.context:void 0}}finally{l&&clearTimeout(l)}})}}var VQ=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},$Q=class{constructor(t){var e,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{let u=null,d=null,h=null,m=l.status,g=l.statusText;if(l.ok){var b,N;if(r.method!=="HEAD"){var w;const S=await l.text();S===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((w=r.headers.get("Accept"))===null||w===void 0)&&w.includes("application/vnd.pgrst.plan+text"))?d=S:d=JSON.parse(S))}const U=(b=r.headers.get("Prefer"))===null||b===void 0?void 0:b.match(/count=(exact|planned|estimated)/),T=(N=l.headers.get("content-range"))===null||N===void 0?void 0:N.split("/");U&&T&&T.length>1&&(h=parseInt(T[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,m=406,g="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{var C;const U=await l.text();try{u=JSON.parse(U),Array.isArray(u)&&l.status===404&&(d=[],u=null,m=200,g="OK")}catch{l.status===404&&U===""?(m=204,g="No Content"):u={message:U}}if(u&&r.isMaybeSingle&&(!(u==null||(C=u.details)===null||C===void 0)&&C.includes("0 rows"))&&(u=null,m=200,g="OK"),u&&r.shouldThrowOnError)throw new VQ(u)}return{error:u,data:d,count:h,status:m,statusText:g}});return this.shouldThrowOnError||(i=i.catch(l=>{var u;let d="";const h=l==null?void 0:l.cause;if(h){var m,g,b,N;const C=(m=h==null?void 0:h.message)!==null&&m!==void 0?m:"",U=(g=h==null?void 0:h.code)!==null&&g!==void 0?g:"";d=`${(b=l==null?void 0:l.name)!==null&&b!==void 0?b:"FetchError"}: ${l==null?void 0:l.message}`,d+=`

Caused by: ${(N=h==null?void 0:h.name)!==null&&N!==void 0?N:"Error"}: ${C}`,U&&(d+=` (${U})`),h!=null&&h.stack&&(d+=`
${h.stack}`)}else{var w;d=(w=l==null?void 0:l.stack)!==null&&w!==void 0?w:""}return{error:{message:`${(u=l==null?void 0:l.name)!==null&&u!==void 0?u:"FetchError"}: ${l==null?void 0:l.message}`,details:d,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(t,e)}returns(){return this}overrideTypes(){return this}},ZQ=class extends $Q{select(t){let e=!1;const r=(t??"*").split("").map(n=>/\s/.test(n)&&!e?"":(n==='"'&&(e=!e),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:n,referencedTable:i=n}={}){const l=i?`${i}.order`:"order",u=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${u?`${u},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"offset":`${n}.offset`,l=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(l,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:n=!1,wal:i=!1,format:l="text"}={}){var u;const d=[t?"analyze":null,e?"verbose":null,r?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),h=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${l}; for="${h}"; options=${d};`),l==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const N_=new RegExp("[,()]");var nd=class extends ZQ{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&N_.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}notIn(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&N_.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`not.in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const l=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${l}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}},XQ=class{constructor(t,{headers:e={},schema:r,fetch:n}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=n}select(t,e){const{head:r=!1,count:n}=e??{},i=r?"HEAD":"GET";let l=!1;const u=(t??"*").split("").map(d=>/\s/.test(d)&&!l?"":(d==='"'&&(l=!l),d)).join("");return this.url.searchParams.set("select",u),n&&this.headers.append("Prefer",`count=${n}`),new nd({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:r=!0}={}){var n;const i="POST";if(e&&this.headers.append("Prefer",`count=${e}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const l=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(l.length>0){const u=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new nd({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:n,defaultToNull:i=!0}={}){var l;const u="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),n&&this.headers.append("Prefer",`count=${n}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const d=t.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(d.length>0){const h=[...new Set(d)].map(m=>`"${m}"`);this.url.searchParams.set("columns",h.join(","))}}return new nd({method:u,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}update(t,{count:e}={}){var r;const n="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new nd({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var e;const r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new nd({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},YQ=class WN{constructor(e,{headers:r={},schema:n,fetch:i}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=i}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new XQ(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new WN(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:i=!1,count:l}={}){var u;let d;const h=new URL(`${this.url}/rpc/${e}`);let m;n||i?(d=n?"HEAD":"GET",Object.entries(r).filter(([b,N])=>N!==void 0).map(([b,N])=>[b,Array.isArray(N)?`{${N.join(",")}}`:`${N}`]).forEach(([b,N])=>{h.searchParams.append(b,N)})):(d="POST",m=r);const g=new Headers(this.headers);return l&&g.set("Prefer",`count=${l}`),new nd({method:d,url:h,headers:g,schema:this.schemaName,body:m,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}};class JQ{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const WQ="2.89.0",eO=`realtime-js/${WQ}`,eC="1.0.0",tO="2.0.0",C_=eC,Bb=1e4,rO=1e3,nO=100;var dc;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(dc||(dc={}));var Ra;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Ra||(Ra={}));var _l;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(_l||(_l={}));var Nb;(function(t){t.websocket="websocket"})(Nb||(Nb={}));var Kc;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Kc||(Kc={}));class sO{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const i=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var r,n;const i=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},u=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,u)}_encodeUserBroadcastPush(e,r,n){var i,l;const u=e.topic,d=(i=e.ref)!==null&&i!==void 0?i:"",h=(l=e.join_ref)!==null&&l!==void 0?l:"",m=e.payload.event,g=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},b=Object.keys(g).length===0?"":JSON.stringify(g);if(h.length>255)throw new Error(`joinRef length ${h.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`ref length ${d.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`topic length ${u.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`userEvent length ${m.length} exceeds maximum of 255`);if(b.length>255)throw new Error(`metadata length ${b.length} exceeds maximum of 255`);const N=this.USER_BROADCAST_PUSH_META_LENGTH+h.length+d.length+u.length+m.length+b.length,w=new ArrayBuffer(this.HEADER_LENGTH+N);let C=new DataView(w),U=0;C.setUint8(U++,this.KINDS.userBroadcastPush),C.setUint8(U++,h.length),C.setUint8(U++,d.length),C.setUint8(U++,u.length),C.setUint8(U++,m.length),C.setUint8(U++,b.length),C.setUint8(U++,r),Array.from(h,S=>C.setUint8(U++,S.charCodeAt(0))),Array.from(d,S=>C.setUint8(U++,S.charCodeAt(0))),Array.from(u,S=>C.setUint8(U++,S.charCodeAt(0))),Array.from(m,S=>C.setUint8(U++,S.charCodeAt(0))),Array.from(b,S=>C.setUint8(U++,S.charCodeAt(0)));var T=new Uint8Array(w.byteLength+n.byteLength);return T.set(new Uint8Array(w),0),T.set(new Uint8Array(n),w.byteLength),T.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[i,l,u,d,h]=n;return r({join_ref:i,ref:l,topic:u,event:d,payload:h})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,i)}}_decodeUserBroadcast(e,r,n){const i=r.getUint8(1),l=r.getUint8(2),u=r.getUint8(3),d=r.getUint8(4);let h=this.HEADER_LENGTH+4;const m=n.decode(e.slice(h,h+i));h=h+i;const g=n.decode(e.slice(h,h+l));h=h+l;const b=n.decode(e.slice(h,h+u));h=h+u;const N=e.slice(h,e.byteLength),w=d===this.JSON_ENCODING?JSON.parse(n.decode(N)):N,C={type:this.BROADCAST_EVENT,event:g,payload:w};return u>0&&(C.meta=JSON.parse(b)),{join_ref:null,ref:null,topic:m,event:this.BROADCAST_EVENT,payload:C}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}class tC{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ps;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(ps||(ps={}));const E_=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((l,u)=>(l[u]=aO(u,t,e,i),l),{}):{}},aO=(t,e,r,n)=>{const i=e.find(d=>d.name===t),l=i==null?void 0:i.type,u=r[t];return l&&!n.includes(l)?rC(l,u):Cb(u)},rC=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return AO(e,r)}switch(t){case ps.bool:return iO(e);case ps.float4:case ps.float8:case ps.int2:case ps.int4:case ps.int8:case ps.numeric:case ps.oid:return oO(e);case ps.json:case ps.jsonb:return lO(e);case ps.timestamp:return cO(e);case ps.abstime:case ps.date:case ps.daterange:case ps.int4range:case ps.int8range:case ps.money:case ps.reltime:case ps.text:case ps.time:case ps.timestamptz:case ps.timetz:case ps.tsrange:case ps.tstzrange:return Cb(e);default:return Cb(e)}},Cb=t=>t,iO=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},oO=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},lO=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},AO=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let l;const u=t.slice(1,r);try{l=JSON.parse("["+u+"]")}catch{l=u?u.split(","):[]}return l.map(d=>rC(e,d))}return t},cO=t=>typeof t=="string"?t.replace(" ","T"):t,nC=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Ax{constructor(e,r,n={},i=Bb){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var S_;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(S_||(S_={}));class Lh{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:l,onLeave:u,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Lh.syncState(this.state,i,l,u),this.pendingDiffs.forEach(h=>{this.state=Lh.syncDiff(this.state,h,l,u)}),this.pendingDiffs=[],d()}),this.channel._on(n.diff,{},i=>{const{onJoin:l,onLeave:u,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Lh.syncDiff(this.state,i,l,u),d())}),this.onJoin((i,l,u)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:l,newPresences:u})}),this.onLeave((i,l,u)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:l,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const l=this.cloneDeep(e),u=this.transformState(r),d={},h={};return this.map(l,(m,g)=>{u[m]||(h[m]=g)}),this.map(u,(m,g)=>{const b=l[m];if(b){const N=g.map(T=>T.presence_ref),w=b.map(T=>T.presence_ref),C=g.filter(T=>w.indexOf(T.presence_ref)<0),U=b.filter(T=>N.indexOf(T.presence_ref)<0);C.length>0&&(d[m]=C),U.length>0&&(h[m]=U)}else d[m]=g}),this.syncDiff(l,{joins:d,leaves:h},n,i)}static syncDiff(e,r,n,i){const{joins:l,leaves:u}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(l,(d,h)=>{var m;const g=(m=e[d])!==null&&m!==void 0?m:[];if(e[d]=this.cloneDeep(h),g.length>0){const b=e[d].map(w=>w.presence_ref),N=g.filter(w=>b.indexOf(w.presence_ref)<0);e[d].unshift(...N)}n(d,g,h)}),this.map(u,(d,h)=>{let m=e[d];if(!m)return;const g=h.map(b=>b.presence_ref);m=m.filter(b=>g.indexOf(b.presence_ref)<0),e[d]=m,i(d,m,h),m.length===0&&delete e[d]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var j_;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(j_||(j_={}));var Fh;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Fh||(Fh={}));var UA;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(UA||(UA={}));class ld{constructor(e,r={config:{}},n){var i,l;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Ra.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Ax(this,_l.join,this.params,this.timeout),this.rejoinTimer=new tC(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ra.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ra.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=Ra.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ra.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=Ra.errored,this.rejoinTimer.scheduleTimeout())}),this._on(_l.reply,{},(u,d)=>{this._trigger(this._replyEventName(d),u)}),this.presence=new Lh(this),this.broadcastEndpointURL=nC(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,i,l;if(this.socket.isConnected()||this.socket.connect(),this.state==Ra.closed){const{config:{broadcast:u,presence:d,private:h}}=this.params,m=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(w=>w.filter))!==null&&i!==void 0?i:[],g=!!this.bindings[Fh.PRESENCE]&&this.bindings[Fh.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,b={},N={broadcast:u,presence:Object.assign(Object.assign({},d),{enabled:g}),postgres_changes:m,private:h};this.socket.accessTokenValue&&(b.access_token=this.socket.accessTokenValue),this._onError(w=>e==null?void 0:e(UA.CHANNEL_ERROR,w)),this._onClose(()=>e==null?void 0:e(UA.CLOSED)),this.updateJoinPayload(Object.assign({config:N},b)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:w})=>{var C;if(this.socket._isManualToken()||this.socket.setAuth(),w===void 0){e==null||e(UA.SUBSCRIBED);return}else{const U=this.bindings.postgres_changes,T=(C=U==null?void 0:U.length)!==null&&C!==void 0?C:0,S=[];for(let I=0;I<T;I++){const O=U[I],{filter:{event:M,schema:ne,table:z,filter:oe}}=O,te=w&&w[I];if(te&&te.event===M&&ld.isFilterValueEqual(te.schema,ne)&&ld.isFilterValueEqual(te.table,z)&&ld.isFilterValueEqual(te.filter,oe))S.push(Object.assign(Object.assign({},O),{id:te.id}));else{this.unsubscribe(),this.state=Ra.errored,e==null||e(UA.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=S,e&&e(UA.SUBSCRIBED);return}}).receive("error",w=>{this.state=Ra.errored,e==null||e(UA.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(UA.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===Ra.joined&&e===Fh.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var i;if(r==null)return Promise.reject("Payload is required for httpSend()");const l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const u={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},d=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(d.status===202)return{success:!0};let h=d.statusText;try{const m=await d.json();h=m.error||m.message||h}catch{}return Promise.reject(new Error(h))}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:u}=e,d={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(d.Authorization=`Bearer ${this.socket.accessTokenValue}`);const h={method:"POST",headers:d,body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:u,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=m.body)===null||i===void 0?void 0:i.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var u,d,h;const m=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((h=(d=(u=this.params)===null||u===void 0?void 0:u.config)===null||d===void 0?void 0:d.broadcast)===null||h===void 0)&&h.ack)&&l("ok"),m.receive("ok",()=>l("ok")),m.receive("error",()=>l("error")),m.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ra.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(_l.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Ax(this,_l.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ra.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const i=new AbortController,l=setTimeout(()=>i.abort(),n),u=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(l),u}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Ax(this,e,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>nO){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,l;const u=e.toLocaleLowerCase(),{close:d,error:h,leave:m,join:g}=_l;if(n&&[d,h,m,g].indexOf(u)>=0&&n!==this._joinRef())return;let N=this._onMessage(u,r,n);if(r&&!N)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(w=>{var C,U,T;return((C=w.filter)===null||C===void 0?void 0:C.event)==="*"||((T=(U=w.filter)===null||U===void 0?void 0:U.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===u}).map(w=>w.callback(N,n)):(l=this.bindings[u])===null||l===void 0||l.filter(w=>{var C,U,T,S,I,O;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in w){const M=w.id,ne=(C=w.filter)===null||C===void 0?void 0:C.event;return M&&((U=r.ids)===null||U===void 0?void 0:U.includes(M))&&(ne==="*"||(ne==null?void 0:ne.toLocaleLowerCase())===((T=r.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))}else{const M=(I=(S=w==null?void 0:w.filter)===null||S===void 0?void 0:S.event)===null||I===void 0?void 0:I.toLocaleLowerCase();return M==="*"||M===((O=r==null?void 0:r.event)===null||O===void 0?void 0:O.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===u}).map(w=>{if(typeof N=="object"&&"ids"in N){const C=N.data,{schema:U,table:T,commit_timestamp:S,type:I,errors:O}=C;N=Object.assign(Object.assign({},{schema:U,table:T,commit_timestamp:S,eventType:I,new:{},old:{},errors:O}),this._getPayloadRecords(C))}w.callback(N,n)})}_isClosed(){return this.state===Ra.closed}_isJoined(){return this.state===Ra.joined}_isJoining(){return this.state===Ra.joining}_isLeaving(){return this.state===Ra.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),l={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(l):this.bindings[i]=[l],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var l;return!(((l=i.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===n&&ld.isEqual(i.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(_l.close,{},e)}_onError(e){this._on(_l.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ra.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=E_(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=E_(e.columns,e.old_record)),r}}const cx=()=>{},Sp={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},uO=[1e3,2e3,5e3,1e4],dO=1e4,hO=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class fO{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Bb,this.transport=null,this.heartbeatIntervalMs=Sp.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=cx,this.ref=0,this.reconnectTimer=null,this.vsn=C_,this.logger=cx,this.conn=null,this.sendBuffer=[],this.serializer=new sO,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...l)=>i(...l):(...l)=>fetch(...l),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Nb.websocket}`,this.httpEndpoint=nC(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=JQ.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case dc.connecting:return Kc.Connecting;case dc.open:return Kc.Open;case dc.closing:return Kc.Closing;default:return Kc.Closed}}isConnected(){return this.connectionState()===Kc.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(l=>l.topic===n);if(i)return i;{const l=new ld(`realtime:${e}`,r,this);return this.channels.push(l),l}}push(e){const{topic:r,event:n,payload:i,ref:l}=e,u=()=>{this.encode(e,d=>{var h;(h=this.conn)===null||h===void 0||h.send(d)})};this.log("push",`${r} ${n} (${l})`,i),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(rO,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Sp.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:l,ref:u}=r,d=u?`(${u})`:"",h=l.status||"";this.log("receive",`${h} ${n} ${i} ${d}`.trim(),l),this.channels.filter(m=>m._isMember(n)).forEach(m=>m._trigger(i,l,u)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===dc.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===dc.open||this.conn.readyState===dc.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(_l.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([hO],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,n=!1;if(e)r=e,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const l={access_token:r,version:eO};r&&i.updateJoinPayload(l),i.joinedOnce&&i._isJoined()&&i._push(_l.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new tC(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Sp.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,i,l,u,d,h,m,g,b,N,w;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:Bb,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:Sp.HEARTBEAT_INTERVAL,this.worker=(l=e==null?void 0:e.worker)!==null&&l!==void 0?l:!1,this.accessToken=(u=e==null?void 0:e.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(d=e==null?void 0:e.heartbeatCallback)!==null&&d!==void 0?d:cx,this.vsn=(h=e==null?void 0:e.vsn)!==null&&h!==void 0?h:C_,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=e==null?void 0:e.reconnectAfterMs)!==null&&m!==void 0?m:(C=>uO[C-1]||dO),this.vsn){case eC:this.encode=(g=e==null?void 0:e.encode)!==null&&g!==void 0?g:((C,U)=>U(JSON.stringify(C))),this.decode=(b=e==null?void 0:e.decode)!==null&&b!==void 0?b:((C,U)=>U(JSON.parse(C)));break;case tO:this.encode=(N=e==null?void 0:e.encode)!==null&&N!==void 0?N:this.serializer.encode.bind(this.serializer),this.decode=(w=e==null?void 0:e.decode)!==null&&w!==void 0?w:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var zh=class extends Error{constructor(t,e){var r;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((r=e.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function pO(t,e,r){const n=new URL(e,t);if(r)for(const[i,l]of Object.entries(r))l!==void 0&&n.searchParams.set(i,l);return n.toString()}async function mO(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function gO(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:i,body:l,headers:u}){const d=pO(t.baseUrl,n,i),h=await mO(t.auth),m=await e(d,{method:r,headers:{...l?{"Content-Type":"application/json"}:{},...h,...u},body:l?JSON.stringify(l):void 0}),g=await m.text(),b=(m.headers.get("content-type")||"").includes("application/json"),N=b&&g?JSON.parse(g):g;if(!m.ok){const w=b?N:void 0,C=w==null?void 0:w.error;throw new zh((C==null?void 0:C.message)??`Request failed with status ${m.status}`,{status:m.status,icebergType:C==null?void 0:C.type,icebergCode:C==null?void 0:C.code,details:w})}return{status:m.status,headers:m.headers,data:N}}}}function jp(t){return t.join("")}var xO=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:jp(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${jp(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${jp(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${jp(t.namespace)}`}),!0}catch(e){if(e instanceof zh&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof zh&&r.status===409)return;throw r}}};function Ku(t){return t.join("")}var bO=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ku(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ku(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ku(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ku(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ku(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ku(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof zh&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof zh&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},vO=class{constructor(t){var n;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=gO({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(n=t.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new xO(this.client,e),this.tableOps=new bO(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},zm=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function Ks(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var yO=class extends zm{constructor(t,e,r){super(t),this.name="StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Eb=class extends zm{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const fv=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),wO=()=>Response,Sb=t=>{if(Array.isArray(t))return t.map(r=>Sb(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[i]=Sb(n)}),e},_O=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},BO=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function Kh(t){"@babel/helpers - typeof";return Kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kh(t)}function NO(t,e){if(Kh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function CO(t){var e=NO(t,"string");return Kh(e)=="symbol"?e:e+""}function EO(t,e,r){return(e=CO(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function U_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Mr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?U_(Object(r),!0).forEach(function(n){EO(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):U_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const ux=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},SO=async(t,e,r)=>{t instanceof await wO()&&!(r!=null&&r.noResolveJson)?t.json().then(n=>{const i=t.status||500,l=(n==null?void 0:n.statusCode)||i+"";e(new yO(ux(n),i,l))}).catch(n=>{e(new Eb(ux(n),n))}):e(new Eb(ux(t),t))},jO=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?i:(_O(n)?(i.headers=Mr({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,e!=null&&e.duplex&&(i.duplex=e.duplex),Mr(Mr({},i),r))};async function tf(t,e,r,n,i,l){return new Promise((u,d)=>{t(r,jO(e,n,i,l)).then(h=>{if(!h.ok)throw h;return n!=null&&n.noResolveJson?h:h.json()}).then(h=>u(h)).catch(h=>SO(h,d,n))})}async function Gh(t,e,r,n){return tf(t,"GET",e,r,n)}async function wl(t,e,r,n,i){return tf(t,"POST",e,n,i,r)}async function jb(t,e,r,n,i){return tf(t,"PUT",e,n,i,r)}async function UO(t,e,r,n){return tf(t,"HEAD",e,Mr(Mr({},r),{},{noResolveJson:!0}),n)}async function pv(t,e,r,n,i){return tf(t,"DELETE",e,n,i,r)}var kO=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Ks(e))return{data:null,error:e};throw e}}};let sC;sC=Symbol.toStringTag;var LO=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[sC]="BlobDownloadBuilder",this.promise=null}asStream(){return new kO(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Ks(e))return{data:null,error:e};throw e}}};const FO={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},k_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var TO=class{constructor(t,e={},r,n){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=r,this.fetch=fv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,r,n){var i=this;try{let l;const u=Mr(Mr({},k_),n);let d=Mr(Mr({},i.headers),t==="POST"&&{"x-upsert":String(u.upsert)});const h=u.metadata;typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),h&&l.append("metadata",i.encodeMetadata(h)),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.has("cacheControl")||l.append("cacheControl",u.cacheControl),h&&!l.has("metadata")&&l.append("metadata",i.encodeMetadata(h))):(l=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType,h&&(d["x-metadata"]=i.toBase64(i.encodeMetadata(h))),(typeof ReadableStream<"u"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!u.duplex&&(u.duplex="half")),n!=null&&n.headers&&(d=Mr(Mr({},d),n.headers));const m=i._removeEmptyFolders(e),g=i._getFinalPath(m),b=await(t=="PUT"?jb:wl)(i.fetch,`${i.url}/object/${g}`,l,Mr({headers:d},u!=null&&u.duplex?{duplex:u.duplex}:{}));return{data:{path:m,id:b.Id,fullPath:b.Key},error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(Ks(l))return{data:null,error:l};throw l}}async upload(t,e,r){return this.uploadOrUpdate("POST",t,e,r)}async uploadToSignedUrl(t,e,r,n){var i=this;const l=i._removeEmptyFolders(t),u=i._getFinalPath(l),d=new URL(i.url+`/object/upload/sign/${u}`);d.searchParams.set("token",e);try{let h;const m=Mr({upsert:k_.upsert},n),g=Mr(Mr({},i.headers),{"x-upsert":String(m.upsert)});return typeof Blob<"u"&&r instanceof Blob?(h=new FormData,h.append("cacheControl",m.cacheControl),h.append("",r)):typeof FormData<"u"&&r instanceof FormData?(h=r,h.append("cacheControl",m.cacheControl)):(h=r,g["cache-control"]=`max-age=${m.cacheControl}`,g["content-type"]=m.contentType),{data:{path:l,fullPath:(await jb(i.fetch,d.toString(),h,{headers:g})).Key},error:null}}catch(h){if(i.shouldThrowOnError)throw h;if(Ks(h))return{data:null,error:h};throw h}}async createSignedUploadUrl(t,e){var r=this;try{let n=r._getFinalPath(t);const i=Mr({},r.headers);e!=null&&e.upsert&&(i["x-upsert"]="true");const l=await wl(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:i}),u=new URL(r.url+l.url),d=u.searchParams.get("token");if(!d)throw new zm("No token returned by API");return{data:{signedUrl:u.toString(),path:t,token:d},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ks(n))return{data:null,error:n};throw n}}async update(t,e,r){return this.uploadOrUpdate("PUT",t,e,r)}async move(t,e,r){var n=this;try{return{data:await wl(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Ks(i))return{data:null,error:i};throw i}}async copy(t,e,r){var n=this;try{return{data:{path:(await wl(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Ks(i))return{data:null,error:i};throw i}}async createSignedUrl(t,e,r){var n=this;try{let i=n._getFinalPath(t),l=await wl(n.fetch,`${n.url}/object/sign/${i}`,Mr({expiresIn:e},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const u=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return l={signedUrl:encodeURI(`${n.url}${l.signedURL}${u}`)},{data:l,error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Ks(i))return{data:null,error:i};throw i}}async createSignedUrls(t,e,r){var n=this;try{const i=await wl(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:e,paths:t},{headers:n.headers}),l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(u=>Mr(Mr({},u),{},{signedUrl:u.signedURL?encodeURI(`${n.url}${u.signedURL}${l}`):null})),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Ks(i))return{data:null,error:i};throw i}}download(t,e){const r=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),i=n?`?${n}`:"",l=this._getFinalPath(t),u=()=>Gh(this.fetch,`${this.url}/${r}/${l}${i}`,{headers:this.headers,noResolveJson:!0});return new LO(u,this.shouldThrowOnError)}async info(t){var e=this;const r=e._getFinalPath(t);try{return{data:Sb(await Gh(e.fetch,`${e.url}/object/info/${r}`,{headers:e.headers})),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ks(n))return{data:null,error:n};throw n}}async exists(t){var e=this;const r=e._getFinalPath(t);try{return await UO(e.fetch,`${e.url}/object/${r}`,{headers:e.headers}),{data:!0,error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ks(n)&&n instanceof Eb){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}}getPublicUrl(t,e){const r=this._getFinalPath(t),n=[],i=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";i!==""&&n.push(i);const l=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});u!==""&&n.push(u);let d=n.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${d}`)}}}async remove(t){var e=this;try{return{data:await pv(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ks(r))return{data:null,error:r};throw r}}async list(t,e,r){var n=this;try{const i=Mr(Mr(Mr({},FO),e),{},{prefix:t||""});return{data:await wl(n.fetch,`${n.url}/object/list/${n.bucketId}`,i,{headers:n.headers},r),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Ks(i))return{data:null,error:i};throw i}}async listV2(t,e){var r=this;try{const n=Mr({},t);return{data:await wl(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},e),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ks(n))return{data:null,error:n};throw n}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const aC="2.89.0",iC={"X-Client-Info":`storage-js/${aC}`};var IO=class{constructor(t,e={},r,n){this.shouldThrowOnError=!1;const i=new URL(t);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Mr(Mr({},iC),e),this.fetch=fv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const r=e.listBucketOptionsToQueryString(t);return{data:await Gh(e.fetch,`${e.url}/bucket${r}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ks(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await Gh(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ks(r))return{data:null,error:r};throw r}}async createBucket(t,e={public:!1}){var r=this;try{return{data:await wl(r.fetch,`${r.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ks(n))return{data:null,error:n};throw n}}async updateBucket(t,e){var r=this;try{return{data:await jb(r.fetch,`${r.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ks(n))return{data:null,error:n};throw n}}async emptyBucket(t){var e=this;try{return{data:await wl(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ks(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await pv(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ks(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},QO=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Mr(Mr({},iC),e),this.fetch=fv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await wl(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ks(r))return{data:null,error:r};throw r}}async listBuckets(t){var e=this;try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),i=n?`${e.url}/bucket?${n}`:`${e.url}/bucket`;return{data:await Gh(e.fetch,i,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ks(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await pv(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ks(r))return{data:null,error:r};throw r}}from(t){var e=this;if(!BO(t))throw new zm("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new vO({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(i,l){const u=i[l];return typeof u!="function"?u:async(...d)=>{try{return{data:await u.apply(i,d),error:null}}catch(h){if(n)throw h;return{data:null,error:h}}}}})}};const mv={"X-Client-Info":`storage-js/${aC}`,"Content-Type":"application/json"};var oC=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Fo(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var dx=class extends oC{constructor(t,e,r){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},OO=class extends oC{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const gv=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),RO=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},L_=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),DO=async(t,e,r)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const n=t.status||500,i=t;if(typeof i.json=="function")i.json().then(l=>{const u=(l==null?void 0:l.statusCode)||(l==null?void 0:l.code)||n+"";e(new dx(L_(l),n,u))}).catch(()=>{const l=n+"";e(new dx(i.statusText||`HTTP ${n} error`,n,l))});else{const l=n+"";e(new dx(i.statusText||`HTTP ${n} error`,n,l))}}else e(new OO(L_(t),t))},MO=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return n?(RO(n)?(i.headers=Mr({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,Mr(Mr({},i),r)):i};async function PO(t,e,r,n,i,l){return new Promise((u,d)=>{t(r,MO(e,n,i,l)).then(h=>{if(!h.ok)throw h;if(n!=null&&n.noResolveJson)return h;const m=h.headers.get("content-type");return!m||!m.includes("application/json")?{}:h.json()}).then(h=>u(h)).catch(h=>DO(h,d,n))})}async function To(t,e,r,n,i){return PO(t,"POST",e,n,i,r)}var HO=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Mr(Mr({},mv),e),this.fetch=gv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await To(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Fo(r))return{data:null,error:r};throw r}}async getIndex(t,e){var r=this;try{return{data:await To(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Fo(n))return{data:null,error:n};throw n}}async listIndexes(t){var e=this;try{return{data:await To(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Fo(r))return{data:null,error:r};throw r}}async deleteIndex(t,e){var r=this;try{return{data:await To(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Fo(n))return{data:null,error:n};throw n}}},qO=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Mr(Mr({},mv),e),this.fetch=gv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await To(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Fo(r))return{data:null,error:r};throw r}}async getVectors(t){var e=this;try{return{data:await To(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Fo(r))return{data:null,error:r};throw r}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await To(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Fo(r))return{data:null,error:r};throw r}}async queryVectors(t){var e=this;try{return{data:await To(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Fo(r))return{data:null,error:r};throw r}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await To(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Fo(r))return{data:null,error:r};throw r}}},zO=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Mr(Mr({},mv),e),this.fetch=gv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await To(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Fo(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await To(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Fo(r))return{data:null,error:r};throw r}}async listBuckets(t={}){var e=this;try{return{data:await To(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Fo(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await To(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Fo(r))return{data:null,error:r};throw r}}},KO=class extends zO{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new GO(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,r=this;return e().call(r,t)}async getBucket(t){var e=()=>super.getBucket,r=this;return e().call(r,t)}async listBuckets(t={}){var e=()=>super.listBuckets,r=this;return e().call(r,t)}async deleteBucket(t){var e=()=>super.deleteBucket,r=this;return e().call(r,t)}},GO=class extends HO{constructor(t,e,r,n){super(t,e,n),this.vectorBucketName=r}async createIndex(t){var e=()=>super.createIndex,r=this;return e().call(r,Mr(Mr({},t),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,r=this;return e().call(r,Mr(Mr({},t),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,r=this;return e().call(r,r.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,r=this;return e().call(r,r.vectorBucketName,t)}index(t){return new VO(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},VO=class extends qO{constructor(t,e,r,n,i){super(t,e,i),this.vectorBucketName=r,this.indexName=n}async putVectors(t){var e=()=>super.putVectors,r=this;return e().call(r,Mr(Mr({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(t){var e=()=>super.getVectors,r=this;return e().call(r,Mr(Mr({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,r=this;return e().call(r,Mr(Mr({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,r=this;return e().call(r,Mr(Mr({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,r=this;return e().call(r,Mr(Mr({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},$O=class extends IO{constructor(t,e={},r,n){super(t,e,r,n)}from(t){return new TO(this.url,this.headers,t,this.fetch)}get vectors(){return new KO(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new QO(this.url+"/iceberg",this.headers,this.fetch)}};const lC="2.89.0",sd=30*1e3,Ub=3,hx=Ub*sd,ZO="http://localhost:9999",XO="supabase.auth.token",YO={"X-Client-Info":`gotrue-js/${lC}`},kb="X-Supabase-Api-Version",AC={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},JO=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,WO=600*1e3;class Vh extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Br(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class e8 extends Vh{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function t8(t){return Br(t)&&t.name==="AuthApiError"}class Gc extends Vh{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class OA extends Vh{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class Lo extends OA{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function r8(t){return Br(t)&&t.name==="AuthSessionMissingError"}class Gu extends OA{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Up extends OA{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class kp extends OA{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function n8(t){return Br(t)&&t.name==="AuthImplicitGrantRedirectError"}class F_ extends OA{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class s8 extends OA{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Lb extends OA{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function fx(t){return Br(t)&&t.name==="AuthRetryableFetchError"}class T_ extends OA{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Fb extends OA{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const bm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),I_=` 	
\r=`.split(""),a8=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<I_.length;e+=1)t[I_[e].charCodeAt(0)]=-2;for(let e=0;e<bm.length;e+=1)t[bm[e].charCodeAt(0)]=e;return t})();function Q_(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(bm[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(bm[n]),e.queuedBits-=6}}function cC(t,e,r){const n=a8[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function O_(t){const e=[],r=u=>{e.push(String.fromCodePoint(u))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},l=u=>{l8(u,n,r)};for(let u=0;u<t.length;u+=1)cC(t.charCodeAt(u),i,l);return e.join("")}function i8(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function o8(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}i8(n,e)}}function l8(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function fd(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)cC(t.charCodeAt(i),r,n);return new Uint8Array(e)}function A8(t){const e=[];return o8(t,r=>e.push(r)),new Uint8Array(e)}function Yc(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>Q_(i,r,n)),Q_(null,r,n),e.join("")}function c8(t){return Math.round(Date.now()/1e3)+t}function u8(){return Symbol("auth-callback")}const Ai=()=>typeof window<"u"&&typeof document<"u",Ic={tested:!1,writable:!1},uC=()=>{if(!Ai())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ic.tested)return Ic.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ic.tested=!0,Ic.writable=!0}catch{Ic.tested=!0,Ic.writable=!1}return Ic.writable};function d8(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,l)=>{e[l]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const dC=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),h8=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",ad=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Qc=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},li=async(t,e)=>{await t.removeItem(e)};class Km{constructor(){this.promise=new Km.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Km.promiseConstructor=Promise;function px(t){const e=t.split(".");if(e.length!==3)throw new Fb("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!JO.test(e[n]))throw new Fb("JWT not in base64url format");return{header:JSON.parse(O_(e[0])),payload:JSON.parse(O_(e[1])),signature:fd(e[2]),raw:{header:e[0],payload:e[1]}}}async function f8(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function p8(t,e){return new Promise((n,i)=>{(async()=>{for(let l=0;l<1/0;l++)try{const u=await t(l);if(!e(l,null,u)){n(u);return}}catch(u){if(!e(l,u)){i(u);return}}})()})}function m8(t){return("0"+t.toString(16)).substr(-2)}function g8(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let l=0;l<56;l++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,m8).join("")}async function x8(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(l=>String.fromCharCode(l)).join("")}async function b8(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await x8(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Vu(t,e,r=!1){const n=g8();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await ad(t,`${e}-code-verifier`,i);const l=await b8(n);return[l,n===l?"plain":"s256"]}const v8=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function y8(t){const e=t.headers.get(kb);if(!e||!e.match(v8))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function w8(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function _8(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const B8=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function $u(t){if(!B8.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function mx(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function N8(t,e){return new Proxy(t,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const l=n.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,i)}})}function R_(t){return JSON.parse(JSON.stringify(t))}const Pc=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),C8=[502,503,504];async function D_(t){var e;if(!h8(t))throw new Lb(Pc(t),0);if(C8.includes(t.status))throw new Lb(Pc(t),t.status);let r;try{r=await t.json()}catch(l){throw new Gc(Pc(l),l)}let n;const i=y8(t);if(i&&i.getTime()>=AC["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new T_(Pc(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Lo}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((l,u)=>l&&typeof u=="string",!0))throw new T_(Pc(r),t.status,r.weak_password.reasons);throw new e8(Pc(r),t.status||500,n)}const E8=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function Dr(t,e,r,n){var i;const l=Object.assign({},n==null?void 0:n.headers);l[kb]||(l[kb]=AC["2024-01-01"].name),n!=null&&n.jwt&&(l.Authorization=`Bearer ${n.jwt}`);const u=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(u.redirect_to=n.redirectTo);const d=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",h=await S8(t,e,r+d,{headers:l,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(h):{data:Object.assign({},h),error:null}}async function S8(t,e,r,n,i,l){const u=E8(e,n,i,l);let d;try{d=await t(r,Object.assign({},u))}catch(h){throw console.error(h),new Lb(Pc(h),0)}if(d.ok||await D_(d),n!=null&&n.noResolveJson)return d;try{return await d.json()}catch(h){await D_(h)}}function vl(t){var e;let r=null;k8(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=c8(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function M_(t){const e=vl(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function fc(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function j8(t){return{data:t,error:null}}function U8(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:l}=t,u=qm(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:l},h=Object.assign({},u);return{data:{properties:d,user:h},error:null}}function P_(t){return t}function k8(t){return t.access_token&&t.refresh_token&&t.expires_in}const gx=["global","local","others"];class L8{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=dC(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=gx[0]){if(gx.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${gx.join(", ")}`);try{return await Dr(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Br(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await Dr(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:fc})}catch(n){if(Br(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=qm(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await Dr(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:U8,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Br(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Dr(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:fc})}catch(r){if(Br(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,l,u,d,h;try{const m={nextPage:null,lastPage:0,total:0},g=await Dr(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(l=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:""},xform:P_});if(g.error)throw g.error;const b=await g.json(),N=(u=g.headers.get("x-total-count"))!==null&&u!==void 0?u:0,w=(h=(d=g.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return w.length>0&&(w.forEach(C=>{const U=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(C.split(";")[1].split("=")[1]);m[`${T}Page`]=U}),m.total=parseInt(N)),{data:Object.assign(Object.assign({},b),m),error:null}}catch(m){if(Br(m))return{data:{users:[]},error:m};throw m}}async getUserById(e){$u(e);try{return await Dr(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:fc})}catch(r){if(Br(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){$u(e);try{return await Dr(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:fc})}catch(n){if(Br(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){$u(e);try{return await Dr(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:fc})}catch(n){if(Br(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){$u(e.userId);try{const{data:r,error:n}=await Dr(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(Br(r))return{data:null,error:r};throw r}}async _deleteFactor(e){$u(e.userId),$u(e.id);try{return{data:await Dr(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Br(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,i,l,u,d,h;try{const m={nextPage:null,lastPage:0,total:0},g=await Dr(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(l=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:""},xform:P_});if(g.error)throw g.error;const b=await g.json(),N=(u=g.headers.get("x-total-count"))!==null&&u!==void 0?u:0,w=(h=(d=g.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return w.length>0&&(w.forEach(C=>{const U=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(C.split(";")[1].split("=")[1]);m[`${T}Page`]=U}),m.total=parseInt(N)),{data:Object.assign(Object.assign({},b),m),error:null}}catch(m){if(Br(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(e){try{return await Dr(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Br(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await Dr(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Br(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await Dr(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Br(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await Dr(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Br(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await Dr(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Br(r))return{data:null,error:r};throw r}}}function H_(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const Zu={debug:!!(globalThis&&uC()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class hC extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class F8 extends hC{}async function T8(t,e,r){Zu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Zu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Zu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{Zu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Zu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new F8(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Zu.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function I8(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function fC(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function Q8(t){return parseInt(t,16)}function O8(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function R8(t){var e;const{chainId:r,domain:n,expirationTime:i,issuedAt:l=new Date,nonce:u,notBefore:d,requestId:h,resources:m,scheme:g,uri:b,version:N}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!b)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(N!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${N}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const w=fC(t.address),C=g?`${g}://${n}`:n,U=t.statement?`${t.statement}
`:"",T=`${C} wants you to sign in with your Ethereum account:
${w}

${U}`;let S=`URI: ${b}
Version: ${N}
Chain ID: ${r}${u?`
Nonce: ${u}`:""}
Issued At: ${l.toISOString()}`;if(i&&(S+=`
Expiration Time: ${i.toISOString()}`),d&&(S+=`
Not Before: ${d.toISOString()}`),h&&(S+=`
Request ID: ${h}`),m){let I=`
Resources:`;for(const O of m){if(!O||typeof O!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${O}`);I+=`
- ${O}`}S+=I}return`${T}
${S}`}class Ba extends Error{constructor({message:e,code:r,cause:n,name:i}){var l;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(l=i??(n instanceof Error?n.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=r}}class vm extends Ba{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function D8({error:t,options:e}){var r,n,i;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ba({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=l.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Ba({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=l.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Ba({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=l.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Ba({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Ba({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Ba({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return l.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new Ba({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Ba({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const u=window.location.hostname;if(pC(u)){if(l.rp.id!==u)return new Ba({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Ba({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new Ba({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Ba({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Ba({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function M8({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ba({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Ba({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(pC(n)){if(r.rpId!==n)return new Ba({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Ba({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Ba({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Ba({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class P8{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const H8=new P8;function q8(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,i=qm(t,["challenge","user","excludeCredentials"]),l=fd(e).buffer,u=Object.assign(Object.assign({},r),{id:fd(r.id).buffer}),d=Object.assign(Object.assign({},i),{challenge:l,user:u});if(n&&n.length>0){d.excludeCredentials=new Array(n.length);for(let h=0;h<n.length;h++){const m=n[h];d.excludeCredentials[h]=Object.assign(Object.assign({},m),{id:fd(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return d}function z8(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=qm(t,["challenge","allowCredentials"]),i=fd(e).buffer,l=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){l.allowCredentials=new Array(r.length);for(let u=0;u<r.length;u++){const d=r[u];l.allowCredentials[u]=Object.assign(Object.assign({},d),{id:fd(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function K8(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:Yc(new Uint8Array(t.response.attestationObject)),clientDataJSON:Yc(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function G8(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Yc(new Uint8Array(i.authenticatorData)),clientDataJSON:Yc(new Uint8Array(i.clientDataJSON)),signature:Yc(new Uint8Array(i.signature)),userHandle:i.userHandle?Yc(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function pC(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function q_(){var t,e;return!!(Ai()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function V8(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new vm("Browser returned unexpected credential type",e)}:{data:null,error:new vm("Empty credential response",e)}}catch(e){return{data:null,error:D8({error:e,options:t})}}}async function $8(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new vm("Browser returned unexpected credential type",e)}:{data:null,error:new vm("Empty credential response",e)}}catch(e){return{data:null,error:M8({error:e,options:t})}}}const Z8={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},X8={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function ym(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of t)if(i)for(const l in i){const u=i[l];if(u!==void 0)if(Array.isArray(u))n[l]=u;else if(r(u))n[l]=u;else if(e(u)){const d=n[l];e(d)?n[l]=ym(d,u):n[l]=ym(u)}else n[l]=u}return n}function Y8(t,e){return ym(Z8,t,e||{})}function J8(t,e){return ym(X8,t,e||{})}class W8{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:i},l){try{const{data:u,error:d}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!u)return{data:null,error:d};const h=i??H8.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:m}=u.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${n}`),m.displayName||(m.displayName=m.name)}switch(u.webauthn.type){case"create":{const m=Y8(u.webauthn.credential_options.publicKey,l==null?void 0:l.create),{data:g,error:b}=await V8({publicKey:m,signal:h});return g?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:g}},error:null}:{data:null,error:b}}case"request":{const m=J8(u.webauthn.credential_options.publicKey,l==null?void 0:l.request),{data:g,error:b}=await $8(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:m,signal:h}));return g?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:g}},error:null}:{data:null,error:b}}}}catch(u){return Br(u)?{data:null,error:u}:{data:null,error:new Gc("Unexpected error in challenge",u)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},l){if(!r)return{data:null,error:new Vh("rpId is required for WebAuthn authentication")};try{if(!q_())return{data:null,error:new Gc("Browser does not support WebAuthn",null)};const{data:u,error:d}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:l});if(!u)return{data:null,error:d};const{webauthn:h}=u;return this._verify({factorId:e,challengeId:u.challengeId,webauthn:{type:h.type,rpId:r,rpOrigins:n,credential_response:h.credential_response}})}catch(u){return Br(u)?{data:null,error:u}:{data:null,error:new Gc("Unexpected error in authenticate",u)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},l){if(!r)return{data:null,error:new Vh("rpId is required for WebAuthn registration")};try{if(!q_())return{data:null,error:new Gc("Browser does not support WebAuthn",null)};const{data:u,error:d}=await this._enroll({friendlyName:e});if(!u)return await this.client.mfa.listFactors().then(g=>{var b;return(b=g.data)===null||b===void 0?void 0:b.all.find(N=>N.factor_type==="webauthn"&&N.friendly_name===e&&N.status!=="unverified")}).then(g=>g?this.client.mfa.unenroll({factorId:g==null?void 0:g.id}):void 0),{data:null,error:d};const{data:h,error:m}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:l});return h?this._verify({factorId:u.id,challengeId:h.challengeId,webauthn:{rpId:r,rpOrigins:n,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:m}}catch(u){return Br(u)?{data:null,error:u}:{data:null,error:new Gc("Unexpected error in register",u)}}}}I8();const eR={url:ZO,storageKey:XO,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:YO,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function z_(t,e,r){return await r()}const Xu={};class $h{get jwks(){var e,r;return(r=(e=Xu[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Xu[this.storageKey]=Object.assign(Object.assign({},Xu[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Xu[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Xu[this.storageKey]=Object.assign(Object.assign({},Xu[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},eR),e);if(this.storageKey=l.storageKey,this.instanceID=(r=$h.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,$h.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&Ai()){const u=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(u),this.logDebugMessages&&console.trace(u)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new L8({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=dC(l.fetch),this.lock=l.lock||z_,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,l.lock?this.lock=l.lock:this.persistSession&&Ai()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=T8:this.lock=z_,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new W8(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:uC()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=H_(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=H_(this.memoryStorage)),Ai()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${lC}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(Ai()&&(r=d8(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Ai()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:l}=await this._getSessionFromURL(r,n);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),n8(l)){const h=(e=l.details)===null||e===void 0?void 0:e.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:u,redirectType:d}=i;return this._debug("#_initialize()","detected session in URL",u,"redirect type",d),await this._saveSession(u),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Br(r)?this._returnResult({error:r}):this._returnResult({error:new Gc("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const l=await Dr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:vl}),{data:u,error:d}=l;if(d||!u)return this._returnResult({data:{user:null,session:null},error:d});const h=u.session,m=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:m,session:h},error:null})}catch(l){if(Br(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signUp(e){var r,n,i;try{let l;if("email"in e){const{email:g,password:b,options:N}=e;let w=null,C=null;this.flowType==="pkce"&&([w,C]=await Vu(this.storage,this.storageKey)),l=await Dr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:N==null?void 0:N.emailRedirectTo,body:{email:g,password:b,data:(r=N==null?void 0:N.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:N==null?void 0:N.captchaToken},code_challenge:w,code_challenge_method:C},xform:vl})}else if("phone"in e){const{phone:g,password:b,options:N}=e;l=await Dr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:b,data:(n=N==null?void 0:N.data)!==null&&n!==void 0?n:{},channel:(i=N==null?void 0:N.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:N==null?void 0:N.captchaToken}},xform:vl})}else throw new Up("You must provide either an email or phone number and a password");const{data:u,error:d}=l;if(d||!u)return await li(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:d});const h=u.session,m=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:m,session:h},error:null})}catch(l){if(await li(this.storage,`${this.storageKey}-code-verifier`),Br(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithPassword(e){try{let r;if("email"in e){const{email:l,password:u,options:d}=e;r=await Dr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:u,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:M_})}else if("phone"in e){const{phone:l,password:u,options:d}=e;r=await Dr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:u,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:M_})}else throw new Up("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const l=new Gu;return this._returnResult({data:{user:null,session:null},error:l})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(Br(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,i,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,i,l,u,d,h,m,g,b,N;let w,C;if("message"in e)w=e.message,C=e.signature;else{const{chain:U,wallet:T,statement:S,options:I}=e;let O;if(Ai())if(typeof T=="object")O=T;else{const X=window;if("ethereum"in X&&typeof X.ethereum=="object"&&"request"in X.ethereum&&typeof X.ethereum.request=="function")O=X.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!(I!=null&&I.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=T}const M=new URL((r=I==null?void 0:I.url)!==null&&r!==void 0?r:window.location.href),ne=await O.request({method:"eth_requestAccounts"}).then(X=>X).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!ne||ne.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const z=fC(ne[0]);let oe=(n=I==null?void 0:I.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!oe){const X=await O.request({method:"eth_chainId"});oe=Q8(X)}const te={domain:M.host,address:z,statement:S,uri:M.href,version:"1",chainId:oe,nonce:(i=I==null?void 0:I.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(u=(l=I==null?void 0:I.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(d=I==null?void 0:I.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(h=I==null?void 0:I.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(m=I==null?void 0:I.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(g=I==null?void 0:I.signInWithEthereum)===null||g===void 0?void 0:g.resources};w=R8(te),C=await O.request({method:"personal_sign",params:[O8(w),z]})}try{const{data:U,error:T}=await Dr(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:w,signature:C},!((b=e.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(N=e.options)===null||N===void 0?void 0:N.captchaToken}}:null),xform:vl});if(T)throw T;if(!U||!U.session||!U.user){const S=new Gu;return this._returnResult({data:{user:null,session:null},error:S})}return U.session&&(await this._saveSession(U.session),await this._notifyAllSubscribers("SIGNED_IN",U.session)),this._returnResult({data:Object.assign({},U),error:T})}catch(U){if(Br(U))return this._returnResult({data:{user:null,session:null},error:U});throw U}}async signInWithSolana(e){var r,n,i,l,u,d,h,m,g,b,N,w;let C,U;if("message"in e)C=e.message,U=e.signature;else{const{chain:T,wallet:S,statement:I,options:O}=e;let M;if(Ai())if(typeof S=="object")M=S;else{const z=window;if("solana"in z&&typeof z.solana=="object"&&("signIn"in z.solana&&typeof z.solana.signIn=="function"||"signMessage"in z.solana&&typeof z.solana.signMessage=="function"))M=z.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!(O!=null&&O.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");M=S}const ne=new URL((r=O==null?void 0:O.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in M&&M.signIn){const z=await M.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},O==null?void 0:O.signInWithSolana),{version:"1",domain:ne.host,uri:ne.href}),I?{statement:I}:null));let oe;if(Array.isArray(z)&&z[0]&&typeof z[0]=="object")oe=z[0];else if(z&&typeof z=="object"&&"signedMessage"in z&&"signature"in z)oe=z;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in oe&&"signature"in oe&&(typeof oe.signedMessage=="string"||oe.signedMessage instanceof Uint8Array)&&oe.signature instanceof Uint8Array)C=typeof oe.signedMessage=="string"?oe.signedMessage:new TextDecoder().decode(oe.signedMessage),U=oe.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in M)||typeof M.signMessage!="function"||!("publicKey"in M)||typeof M!="object"||!M.publicKey||!("toBase58"in M.publicKey)||typeof M.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");C=[`${ne.host} wants you to sign in with your Solana account:`,M.publicKey.toBase58(),...I?["",I,""]:[""],"Version: 1",`URI: ${ne.href}`,`Issued At: ${(i=(n=O==null?void 0:O.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((l=O==null?void 0:O.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${O.signInWithSolana.notBefore}`]:[],...!((u=O==null?void 0:O.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${O.signInWithSolana.expirationTime}`]:[],...!((d=O==null?void 0:O.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${O.signInWithSolana.chainId}`]:[],...!((h=O==null?void 0:O.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${O.signInWithSolana.nonce}`]:[],...!((m=O==null?void 0:O.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${O.signInWithSolana.requestId}`]:[],...!((b=(g=O==null?void 0:O.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||b===void 0)&&b.length?["Resources",...O.signInWithSolana.resources.map(oe=>`- ${oe}`)]:[]].join(`
`);const z=await M.signMessage(new TextEncoder().encode(C),"utf8");if(!z||!(z instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");U=z}}try{const{data:T,error:S}=await Dr(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:C,signature:Yc(U)},!((N=e.options)===null||N===void 0)&&N.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:vl});if(S)throw S;if(!T||!T.session||!T.user){const I=new Gu;return this._returnResult({data:{user:null,session:null},error:I})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:S})}catch(T){if(Br(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async _exchangeCodeForSession(e){const r=await Qc(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new s8;const{data:l,error:u}=await Dr(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:vl});if(await li(this.storage,`${this.storageKey}-code-verifier`),u)throw u;if(!l||!l.session||!l.user){const d=new Gu;return this._returnResult({data:{user:null,session:null,redirectType:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:i??null}),error:u})}catch(l){if(await li(this.storage,`${this.storageKey}-code-verifier`),Br(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:l,nonce:u}=e,d=await Dr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:l,nonce:u,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:vl}),{data:h,error:m}=d;if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!h||!h.session||!h.user){const g=new Gu;return this._returnResult({data:{user:null,session:null},error:g})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:h,error:m})}catch(r){if(Br(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,i,l,u;try{if("email"in e){const{email:d,options:h}=e;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await Vu(this.storage,this.storageKey));const{error:b}=await Dr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},create_user:(n=h==null?void 0:h.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:g},redirectTo:h==null?void 0:h.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:b})}if("phone"in e){const{phone:d,options:h}=e,{data:m,error:g}=await Dr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(i=h==null?void 0:h.data)!==null&&i!==void 0?i:{},create_user:(l=h==null?void 0:h.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},channel:(u=h==null?void 0:h.channel)!==null&&u!==void 0?u:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:m==null?void 0:m.message_id},error:g})}throw new Up("You must provide either an email or phone number.")}catch(d){if(await li(this.storage,`${this.storageKey}-code-verifier`),Br(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async verifyOtp(e){var r,n;try{let i,l;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,l=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:u,error:d}=await Dr(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:i,xform:vl});if(d)throw d;if(!u)throw new Error("An error occurred on token verification.");const h=u.session,m=u.user;return h!=null&&h.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),this._returnResult({data:{user:m,session:h},error:null})}catch(i){if(Br(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var r,n,i,l,u;try{let d=null,h=null;this.flowType==="pkce"&&([d,h]=await Vu(this.storage,this.storageKey));const m=await Dr(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:h}),headers:this.headers,xform:j8});return!((l=m.data)===null||l===void 0)&&l.url&&Ai()&&!(!((u=e.options)===null||u===void 0)&&u.skipBrowserRedirect)&&window.location.assign(m.data.url),this._returnResult(m)}catch(d){if(await li(this.storage,`${this.storageKey}-code-verifier`),Br(d))return this._returnResult({data:null,error:d});throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Lo;const{error:i}=await Dr(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(Br(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:l}=e,{error:u}=await Dr(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:u})}else if("phone"in e){const{phone:n,type:i,options:l}=e,{data:u,error:d}=await Dr(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new Up("You must provide either an email or phone number and a type")}catch(r){if(Br(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Qc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<hx:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const u=await Qc(this.userStorage,this.storageKey+"-user");u!=null&&u.user?e.user=u.user:e.user=mx()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};e.user=N8(e.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await Dr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:fc}):await this._useSession(async r=>{var n,i,l;const{data:u,error:d}=r;if(d)throw d;return!(!((n=u.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Lo}:await Dr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(i=u.session)===null||i===void 0?void 0:i.access_token)!==null&&l!==void 0?l:void 0,xform:fc})})}catch(r){if(Br(r))return r8(r)&&(await this._removeSession(),await li(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:l}=n;if(l)throw l;if(!i.session)throw new Lo;const u=i.session;let d=null,h=null;this.flowType==="pkce"&&e.email!=null&&([d,h]=await Vu(this.storage,this.storageKey));const{data:m,error:g}=await Dr(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:d,code_challenge_method:h}),jwt:u.access_token,xform:fc});if(g)throw g;return u.user=m.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),this._returnResult({data:{user:u.user},error:null})})}catch(n){if(await li(this.storage,`${this.storageKey}-code-verifier`),Br(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Lo;const r=Date.now()/1e3;let n=r,i=!0,l=null;const{payload:u}=px(e.access_token);if(u.exp&&(n=u.exp,i=n<=r),i){const{data:d,error:h}=await this._callRefreshToken(e.refresh_token);if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!d)return{data:{user:null,session:null},error:null};l=d}else{const{data:d,error:h}=await this._getUser(e.access_token);if(h)throw h;l={access_token:e.access_token,refresh_token:e.refresh_token,user:d.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(r){if(Br(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:u,error:d}=r;if(d)throw d;e=(n=u.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Lo;const{data:i,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Br(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!Ai())throw new kp("No browser detected.");if(e.error||e.error_description||e.error_code)throw new kp(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new F_("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new kp("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new F_("No code detected.");const{data:I,error:O}=await this._exchangeCodeForSession(e.code);if(O)throw O;const M=new URL(window.location.href);return M.searchParams.delete("code"),window.history.replaceState(window.history.state,"",M.toString()),{data:{session:I.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:l,refresh_token:u,expires_in:d,expires_at:h,token_type:m}=e;if(!l||!d||!u||!m)throw new kp("No session defined in URL");const g=Math.round(Date.now()/1e3),b=parseInt(d);let N=g+b;h&&(N=parseInt(h));const w=N-g;w*1e3<=sd&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${b}s`);const C=N-b;g-C>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",C,N,g):g-C<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",C,N,g);const{data:U,error:T}=await this._getUser(l);if(T)throw T;const S={provider_token:n,provider_refresh_token:i,access_token:l,expires_in:b,expires_at:N,refresh_token:u,token_type:m,user:U.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:S,redirectType:e.type},error:null})}catch(n){if(Br(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Qc(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:l}=r;if(l)return this._returnResult({error:l});const u=(n=i.session)===null||n===void 0?void 0:n.access_token;if(u){const{error:d}=await this.admin.signOut(u,e);if(d&&!(t8(d)&&(d.status===404||d.status===401||d.status===403)))return this._returnResult({error:d})}return e!=="others"&&(await this._removeSession(),await li(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=u8(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:l},error:u}=r;if(u)throw u;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Vu(this.storage,this.storageKey,!0));try{return await Dr(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(l){if(await li(this.storage,`${this.storageKey}-code-verifier`),Br(l))return this._returnResult({data:null,error:l});throw l}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(Br(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:i}=await this._useSession(async l=>{var u,d,h,m,g;const{data:b,error:N}=l;if(N)throw N;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(d=e.options)===null||d===void 0?void 0:d.scopes,queryParams:(h=e.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await Dr(this.fetch,"GET",w,{headers:this.headers,jwt:(g=(m=b.session)===null||m===void 0?void 0:m.access_token)!==null&&g!==void 0?g:void 0})});if(i)throw i;return Ai()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(Br(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:l}}=r;if(i)throw i;const{options:u,provider:d,token:h,access_token:m,nonce:g}=e,b=await Dr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=l==null?void 0:l.access_token)!==null&&n!==void 0?n:void 0,body:{provider:d,id_token:h,access_token:m,nonce:g,link_identity:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:vl}),{data:N,error:w}=b;return w?this._returnResult({data:{user:null,session:null},error:w}):!N||!N.session||!N.user?this._returnResult({data:{user:null,session:null},error:new Gu}):(N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("USER_UPDATED",N.session)),this._returnResult({data:N,error:w}))}catch(i){if(await li(this.storage,`${this.storageKey}-code-verifier`),Br(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:l,error:u}=r;if(u)throw u;return await Dr(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=l.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(Br(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await p8(async i=>(i>0&&await f8(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await Dr(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:vl})),(i,l)=>{const u=200*Math.pow(2,i);return l&&fx(l)&&Date.now()+u-n<sd})}catch(n){if(this._debug(r,"error",n),Br(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Ai()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Qc(this.storage,this.storageKey);if(i&&this.userStorage){let u=await Qc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:i.user},await ad(this.userStorage,this.storageKey+"-user",u)),i.user=(e=u==null?void 0:u.user)!==null&&e!==void 0?e:mx()}else if(i&&!i.user&&!i.user){const u=await Qc(this.storage,this.storageKey+"-user");u&&(u!=null&&u.user)?(i.user=u.user,await li(this.storage,this.storageKey+"-user"),await ad(this.storage,this.storageKey,i)):i.user=mx()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const l=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<hx;if(this._debug(n,`session has${l?"":" not"} expired with margin of ${hx}s`),l){if(this.autoRefreshToken&&i.refresh_token){const{error:u}=await this._callRefreshToken(i.refresh_token);u&&(console.error(u),fx(u)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:d}=await this._getUser(i.access_token);!d&&(u!=null&&u.user)?(i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(n,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Lo;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Km;const{data:l,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!l.session)throw new Lo;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const d={data:l.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(l){if(this._debug(i,"error",l),Br(l)){const u={data:null,error:l};return fx(l)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(u),u}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(l),l}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const l=[],u=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(e,r)}catch(h){l.push(h)}});if(await Promise.all(u),l.length>0){for(let d=0;d<l.length;d+=1)console.error(l[d]);throw l[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await li(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await ad(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const l=R_(i);await ad(this.storage,this.storageKey,l)}else{const i=R_(r);await ad(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await li(this.storage,this.storageKey),await li(this.storage,this.storageKey+"-code-verifier"),await li(this.storage,this.storageKey+"-user"),this.userStorage&&await li(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ai()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),sd);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/sd);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${sd}ms, refresh threshold is ${Ub} ticks`),i<=Ub&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof hC)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ai()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[l,u]=await Vu(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(u)}`});i.push(d.toString())}if(n!=null&&n.queryParams){const l=new URLSearchParams(n.queryParams);i.push(l.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:l}=r;return l?this._returnResult({data:null,error:l}):await Dr(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Br(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:l,error:u}=r;if(u)return this._returnResult({data:null,error:u});const d=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:h,error:m}=await Dr(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(n=l==null?void 0:l.session)===null||n===void 0?void 0:n.access_token});return m?this._returnResult({data:null,error:m}):(e.factorType==="totp"&&h.type==="totp"&&(!((i=h==null?void 0:h.totp)===null||i===void 0)&&i.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),this._returnResult({data:h,error:null}))})}catch(r){if(Br(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:l}=r;if(l)return this._returnResult({data:null,error:l});const u=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?K8(e.webauthn.credential_response):G8(e.webauthn.credential_response)})}:{code:e.code}),{data:d,error:h}=await Dr(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:u,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return h?this._returnResult({data:null,error:h}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),this._returnResult({data:d,error:h}))})}catch(r){if(Br(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:l}=r;if(l)return this._returnResult({data:null,error:l});const u=await Dr(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(u.error)return u;const{data:d}=u;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:q8(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:z8(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Br(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])i.all.push(l),l.status==="verified"&&i[l.factor_type].push(l);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=px(n.access_token);let u=null;l.aal&&(u=l.aal);let d=u;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(g=>g.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(d="aal2");const m=l.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await Dr(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new Lo})})}catch(r){if(Br(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:l}=n;if(l)return this._returnResult({data:null,error:l});if(!i)return this._returnResult({data:null,error:new Lo});const u=await Dr(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:d=>({data:d,error:null})});return u.data&&u.data.redirect_url&&Ai()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(u.data.redirect_url),u})}catch(n){if(Br(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:l}=n;if(l)return this._returnResult({data:null,error:l});if(!i)return this._returnResult({data:null,error:new Lo});const u=await Dr(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:d=>({data:d,error:null})});return u.data&&u.data.redirect_url&&Ai()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(u.data.redirect_url),u})}catch(n){if(Br(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await Dr(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Lo})})}catch(e){if(Br(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?(await Dr(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Lo})})}catch(r){if(Br(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(d=>d.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(d=>d.kid===e),n&&this.jwks_cached_at+WO>i)return n;const{data:l,error:u}=await Dr(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=i,n=l.keys.find(d=>d.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:w,error:C}=await this.getSession();if(C||!w.session)return this._returnResult({data:null,error:C});n=w.session.access_token}const{header:i,payload:l,signature:u,raw:{header:d,payload:h}}=px(n);r!=null&&r.allowExpired||w8(l.exp);const m=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!m){const{error:w}=await this.getUser(n);if(w)throw w;return{data:{claims:l,header:i,signature:u},error:null}}const g=_8(i.alg),b=await crypto.subtle.importKey("jwk",m,g,!0,["verify"]);if(!await crypto.subtle.verify(g,b,u,A8(`${d}.${h}`)))throw new Fb("Invalid JWT signature");return{data:{claims:l,header:i,signature:u},error:null}}catch(n){if(Br(n))return this._returnResult({data:null,error:n});throw n}}}$h.nextInstanceID={};const tR=$h,rR="2.89.0";let Bh="";typeof Deno<"u"?Bh="deno":typeof document<"u"?Bh="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Bh="react-native":Bh="node";const nR={"X-Client-Info":`supabase-js-${Bh}/${rR}`},sR={headers:nR},aR={schema:"public"},iR={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},oR={};function Zh(t){"@babel/helpers - typeof";return Zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zh(t)}function lR(t,e){if(Zh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function AR(t){var e=lR(t,"string");return Zh(e)=="symbol"?e:e+""}function cR(t,e,r){return(e=AR(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function K_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function na(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?K_(Object(r),!0).forEach(function(n){cR(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):K_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const uR=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),dR=()=>Headers,hR=(t,e,r)=>{const n=uR(r),i=dR();return async(l,u)=>{var d;const h=(d=await e())!==null&&d!==void 0?d:t;let m=new i(u==null?void 0:u.headers);return m.has("apikey")||m.set("apikey",t),m.has("Authorization")||m.set("Authorization",`Bearer ${h}`),n(l,na(na({},u),{},{headers:m}))}};function fR(t){return t.endsWith("/")?t:t+"/"}function pR(t,e){var r,n;const{db:i,auth:l,realtime:u,global:d}=t,{db:h,auth:m,realtime:g,global:b}=e,N={db:na(na({},h),i),auth:na(na({},m),l),realtime:na(na({},g),u),storage:{},global:na(na(na({},b),d),{},{headers:na(na({},(r=b==null?void 0:b.headers)!==null&&r!==void 0?r:{}),(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?N.accessToken=t.accessToken:delete N.accessToken,N}function mR(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(fR(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var gR=class extends tR{constructor(t){super(t)}},xR=class{constructor(t,e,r){var n,i;this.supabaseUrl=t,this.supabaseKey=e;const l=mR(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:aR,realtime:oR,auth:na(na({},iR),{},{storageKey:u}),global:sR},h=pR(r??{},d);if(this.storageKey=(n=h.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken)this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(g,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}});else{var m;this.auth=this._initSupabaseAuthClient((m=h.auth)!==null&&m!==void 0?m:{},this.headers,h.global.fetch)}this.fetch=hR(e,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(na({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.accessToken&&this.accessToken().then(g=>this.realtime.setAuth(g)).catch(g=>console.warn("Failed to set initial Realtime auth token:",g)),this.rest=new YQ(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new $O(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new GQ(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,r;if(t.accessToken)return await t.accessToken();const{data:n}=await t.auth.getSession();return(e=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:i,storageKey:l,flowType:u,lock:d,debug:h,throwOnError:m},g,b){const N={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new gR({url:this.authUrl.href,headers:na(na({},N),g),storageKey:l,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:i,flowType:u,lock:d,debug:h,throwOnError:m,fetch:b,hasCustomAuthorizationHeader:Object.keys(this.headers).some(w=>w.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new fO(this.realtimeUrl.href,na(na({},t),{},{params:na(na({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const xv=(t,e,r)=>new xR(t,e,r);function bR(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}bR()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const vR="https://ecvfhrbwytwizxikqsyy.supabase.co",yR="sb_publishable_lJUcZH_D8m9u57L00a4PlQ_UnbwK6UJ",qe=xv(vR,yR,{global:{headers:{"Cache-Control":"no-store"}}}),Vc="00000000-0000-0000-0000-000000000000",sa=(t,e)=>{const[r,n]=P.useState(void 0);return P.useEffect(()=>{(async()=>{if(typeof t!="function"){n([]);return}try{const l=t();if(l&&typeof l.then=="function"){const u=await l;n(u??[])}else n(l??[])}catch(l){console.error("useLiveQuery fallback error:",l),n([])}})()},e||[]),r},Or={deposits:{toArray:async()=>{const{data:t}=await qe.from("deposits").select("*");return(t||[]).map(e=>({id:e.id,nome:e.name,endereco:e.address,ativo:e.active??e.is_active,cor:e.color,require_stock_audit:e.require_stock_audit,free_shipping_min_value:e.free_shipping_min_value,created_at:e.created_at}))},filter:()=>({toArray:async()=>[]}),get:async t=>{const{data:e}=await qe.from("deposits").select("*").eq("id",t).single();return e?{id:e.id,nome:e.name,endereco:e.address,ativo:e.active??e.is_active,cor:e.color,require_stock_audit:e.require_stock_audit,free_shipping_min_value:e.free_shipping_min_value,created_at:e.created_at}:null},put:async t=>{const{error:e}=await qe.from("deposits").upsert(t);if(e)throw e},delete:async t=>{const{error:e}=await qe.from("deposits").delete().eq("id",t);if(e)throw e},bulkAdd:async()=>{}},financial_settings:{toCollection:()=>({first:async()=>{try{const{data:t,error:e}=await qe.from("financial_settings").select("*").limit(1);if(e)throw e;return(t==null?void 0:t[0])??null}catch(t){return console.warn("financial_settings fetch fallback (ignored):",t),null}}})},products:{toArray:async()=>{const{data:t}=await qe.from("products").select("*");return(t||[]).map(r=>{let n=r.type;return n==="EMPTY_CONTAINER"?n="VASILHAME_VAZIO":n==="FILLED_GAS"?n="GAS_CHEIO":(n==="OTHER"||n==="OTHERS")&&(n="OUTROS"),{id:r.id,codigo:r.code||r.codigo||"",nome:r.name||r.nome||"",descricao:r.description,tipo:n,unidade:r.unit,preco_venda:r.sale_price,preco_custo:r.cost_price,preco_troca:r.exchange_price,preco_completa:r.full_price,movement_type:r.movement_type,return_product_id:r.return_product_id,track_stock:r.track_stock,ativo:r.is_active??r.active,depositoId:r.deposit_id,product_group:r.product_group,image_url:r.image_url,is_delivery_fee:r.is_delivery_fee}})},filter:t=>({toArray:async()=>{const e=await Or.products.toArray();return typeof t=="function"?e.filter(t):e}}),get:async t=>{const{data:e}=await qe.from("products").select("*").eq("id",t).single();if(!e)return null;let r=e.type;return r==="EMPTY_CONTAINER"?r="VASILHAME_VAZIO":r==="FILLED_GAS"?r="GAS_CHEIO":(r==="OTHER"||r==="OTHERS")&&(r="OUTROS"),{id:e.id,codigo:e.code||e.codigo||"",nome:e.name||e.nome||"",descricao:e.description,tipo:r,unidade:e.unit,preco_venda:e.sale_price,preco_custo:e.cost_price,preco_troca:e.exchange_price,preco_completa:e.full_price,movement_type:e.movement_type,return_product_id:e.return_product_id,track_stock:e.track_stock,ativo:e.is_active??e.active,depositoId:e.deposit_id,product_group:e.product_group,image_url:e.image_url,is_delivery_fee:e.is_delivery_fee}},put:async t=>{let e=t.tipo||t.type;e==="VASILHAME_VAZIO"?e="EMPTY_CONTAINER":e==="GAS_CHEIO"?e="FILLED_GAS":e==="OUTROS"&&(e="OTHER");const r={id:t.id,code:t.codigo||t.code,name:t.nome||t.name,description:t.descricao||t.description,type:e,unit:t.unidade||t.unit,sale_price:t.preco_venda??t.sale_price,cost_price:t.preco_custo??t.cost_price,exchange_price:t.preco_troca??t.exchange_price,full_price:t.preco_completa??t.full_price,movement_type:t.movement_type,return_product_id:t.return_product_id,track_stock:t.track_stock,is_active:t.ativo??t.is_active,deposit_id:t.depositoId??t.deposit_id,product_group:t.product_group,image_url:t.image_url},{error:n}=await qe.from("products").upsert(r);if(n)throw n},update:async(t,e)=>{const r={};if("codigo"in e&&(r.code=e.codigo),"code"in e&&(r.code=e.code),"nome"in e&&(r.name=e.nome),"name"in e&&(r.name=e.name),"tipo"in e){let i=e.tipo;i==="VASILHAME_VAZIO"?i="EMPTY_CONTAINER":i==="GAS_CHEIO"?i="FILLED_GAS":i==="OUTROS"&&(i="OTHER"),r.type=i}"type"in e&&(r.type=e.type),"unidade"in e&&(r.unit=e.unidade),"unit"in e&&(r.unit=e.unit),"preco_venda"in e&&(r.sale_price=e.preco_venda),"sale_price"in e&&(r.sale_price=e.sale_price),"preco_custo"in e&&(r.cost_price=e.preco_custo),"cost_price"in e&&(r.cost_price=e.cost_price),"preco_troca"in e&&(r.exchange_price=e.preco_troca),"exchange_price"in e&&(r.exchange_price=e.exchange_price),"preco_completa"in e&&(r.full_price=e.preco_completa),"full_price"in e&&(r.full_price=e.full_price),"ativo"in e&&(r.is_active=e.ativo),"is_active"in e&&(r.is_active=e.is_active),"depositoId"in e&&(r.deposit_id=e.depositoId),"deposit_id"in e&&(r.deposit_id=e.deposit_id),"movement_type"in e&&(r.movement_type=e.movement_type),"return_product_id"in e&&(r.return_product_id=e.return_product_id),"track_stock"in e&&(r.track_stock=e.track_stock),"product_group"in e&&(r.product_group=e.product_group),"image_url"in e&&(r.image_url=e.image_url);const{error:n}=await qe.from("products").update(r).eq("id",t);if(n)throw n},delete:async t=>{const{error:e}=await qe.from("products").delete().eq("id",t);if(e)throw e}},employees:{toArray:async()=>{const{data:t}=await qe.from("employees").select("*");return t||[]},filter:()=>({toArray:async()=>[]}),put:async t=>{const{error:e}=await qe.from("employees").upsert(t);if(e)throw e},update:async(t,e)=>{const r={};"nome"in e&&(r.name=e.nome),"name"in e&&(r.name=e.name),"cargo"in e&&(r.role=e.cargo),"role"in e&&(r.role=e.role),"depositoId"in e&&(r.deposit_id=e.depositoId),"deposit_id"in e&&(r.deposit_id=e.deposit_id),"ativo"in e&&(r.is_active=e.ativo),"is_active"in e&&(r.is_active=e.is_active),"username"in e&&(r.username=e.username),"password"in e&&(r.password=e.password),"permissoes"in e&&(r.permissions=e.permissoes),"permissions"in e&&(r.permissions=e.permissions);const{error:n}=await qe.from("employees").update(r).eq("id",t);if(n)throw n}},clients:{toArray:async()=>{const{data:t}=await qe.from("clients").select("*");return t||[]},add:async t=>{const{error:e}=await qe.from("clients").insert(t);if(e)throw e}},service_orders:{toArray:async()=>{const{data:t}=await qe.from("service_orders").select("*");return t||[]},get:async t=>{const{data:e}=await qe.from("service_orders").select("*").eq("id",t).single();return e},put:async t=>{const{error:e}=await qe.from("service_orders").upsert(t);if(e)throw e},update:async(t,e)=>{const r={};"numeroOs"in e&&(r.order_number=e.numeroOs),"order_number"in e&&(r.order_number=e.order_number),"depositoId"in e&&(r.deposit_id=e.depositoId),"deposit_id"in e&&(r.deposit_id=e.deposit_id),"clienteId"in e&&(r.client_id=e.clienteId),"client_id"in e&&(r.client_id=e.client_id),"clienteNome"in e&&(r.client_name=e.clienteNome),"client_name"in e&&(r.client_name=e.client_name),"clienteTelefone"in e&&(r.client_phone=e.clienteTelefone),"client_phone"in e&&(r.client_phone=e.client_phone),"enderecoEntrega"in e&&(r.delivery_address=e.enderecoEntrega),"delivery_address"in e&&(r.delivery_address=e.delivery_address),"tipoAtendimento"in e&&(r.service_type=e.tipoAtendimento),"service_type"in e&&(r.service_type=e.service_type),"status"in e&&(r.status=e.status),"statusEntrega"in e&&(r.delivery_status=e.statusEntrega),"delivery_status"in e&&(r.delivery_status=e.delivery_status),"total"in e&&(r.total=e.total),"delivery_fee"in e&&(r.delivery_fee=e.delivery_fee),"historico"in e&&(r.history=e.historico),"history"in e&&(r.history=e.history);const{error:n}=await qe.from("service_orders").update(r).eq("id",t);if(n)throw n},where:t=>({equals:e=>({count:async()=>{const{count:r}=await qe.from("service_orders").select("*",{count:"exact",head:!0}).eq(t,e);return r||0}})})},service_order_items:{bulkPut:async t=>{const{error:e}=await qe.from("service_order_items").upsert(t);if(e)throw e}},payment_methods:{toArray:async()=>{const{data:t}=await qe.from("payment_methods").select("*");return t||[]},filter:()=>({toArray:async()=>[]})},delivery_zones:{toArray:async()=>{const{data:t}=await qe.from("delivery_zones").select("*");return t||[]},bulkDelete:async()=>{},put:async t=>{const{error:e}=await qe.from("delivery_zones").upsert(t);if(e)throw e}},zone_pricing:{toArray:async()=>{const{data:t}=await qe.from("zone_pricing").select("*");return t||[]},bulkDelete:async()=>{},put:async t=>{const{error:e}=await qe.from("zone_pricing").upsert(t);if(e)throw e}},delivery_sectors:{bulkDelete:async()=>{}},stock_movements:{toArray:async()=>{const{data:t}=await qe.from("stock_movements").select("*");return t||[]},put:async t=>{const{error:e}=await qe.from("stock_movements").insert(t);if(e)throw e},bulkAdd:async t=>{const{error:e}=await qe.from("stock_movements").insert(t);if(e)throw e},where:t=>({equals:e=>({count:async()=>{const{count:r}=await qe.from("stock_movements").select("*",{count:"exact",head:!0}).eq(t,e);return r||0},delete:async()=>{const{error:r}=await qe.from("stock_movements").delete().eq(t,e);if(r)throw r}})})},stock_balance:{toArray:async()=>{const{data:t,error:e}=await qe.from("stock_movements").select("deposit_id, product_id, quantity, type");if(e)throw e;const r=["IN","ENTRY","CARGA_INICIAL","TRADE_IN","AJUSTE_POSITIVO"],n=["OUT","SALE","LOSS","TRANSFER_OUT","AJUSTE_NEGATIVO"],i=new Map;return(t||[]).forEach(l=>{var w;const u=`${l.deposit_id}__${l.product_id}`,d=Number(l.quantity||0),h=l.type,m=h?r.includes(h):d>=0,b=(h?n.includes(h):d<0)?-Math.abs(d):Math.abs(d),N=((w=i.get(u))==null?void 0:w.quantidade_atual)||0;i.set(u,{deposit_id:l.deposit_id,product_id:l.product_id,quantidade_atual:N+(m?Math.abs(d):b)})}),Array.from(i.values()).map((l,u)=>({id:`${u}`,...l}))},filter:t=>({toArray:async()=>{const e=await Or.stock_balance.toArray();return typeof t=="function"?e.filter(t):e}}),put:async t=>{const{error:e}=await qe.from("stock_balance").upsert(t);if(e)throw e},delete:async t=>{const{error:e}=await qe.from("stock_balance").delete().eq("id",t);if(e)throw e},where:t=>({equals:e=>({delete:async()=>{const{error:r}=await qe.from("stock_balance").delete().eq(t,e);if(r)throw r}})})},product_pricing:{toArray:async()=>{const{data:t}=await qe.from("product_pricing").select("*");return t||[]},filter:()=>({toArray:async()=>[]}),delete:async t=>{const{error:e}=await qe.from("product_pricing").delete().eq("id",t);if(e)throw e},where:t=>({delete:async()=>{const{error:e}=await qe.from("product_pricing").delete().eq(t,t);if(e)throw e}})},accounts_receivable:{toArray:async()=>{const{data:t}=await qe.from("accounts_receivable").select("*");return t||[]}},receivable_payments:{where:t=>({equals:e=>({toArray:async()=>{const{data:r}=await qe.from("receivable_payments").select("*").eq(t,e);return r||[]}})})},receivables:{},cash_flow_entries:{where:t=>({equals:e=>({toArray:async()=>{const{data:r}=await qe.from("cash_flow_entries").select("*").eq(t,e);return r||[]},count:async()=>{const{count:r}=await qe.from("cash_flow_entries").select("*",{count:"exact",head:!0}).eq(t,e);return r||0}})})},outbox_events:{put:async()=>{}},transaction:async(t,e,r)=>{await r()}},Gm=async()=>{const{data:t,error:e}=await qe.from("deposits").select("*").eq("active",!0);if(e)throw e;return(t||[]).map(r=>({id:r.id,nome:r.name,endereco:r.address,ativo:r.active,cor:r.color,require_stock_audit:r.require_stock_audit,free_shipping_min_value:r.free_shipping_min_value}))},mC=async t=>{const e={id:t.id,name:t.nome,address:t.endereco,active:t.ativo??!0,color:t.cor,require_stock_audit:t.require_stock_audit??!1,free_shipping_min_value:t.free_shipping_min_value??null},{error:r}=await qe.from("deposits").upsert(e);if(r)throw r},wR=async t=>{const{error:e}=await qe.from("deposits").delete().eq("id",t);if(e)throw e},_R=async()=>{const{data:t,error:e}=await qe.from("products").select("*").eq("is_active",!0);if(e)throw e;return(t||[]).map(r=>({id:r.id,codigo:r.code||r.codigo||"Sem cdigo",nome:r.name||r.nome||"Sem nome",descricao:r.description,tipo:r.type,unidade:r.unit,preco_venda:r.sale_price,preco_custo:r.cost_price,preco_troca:r.exchange_price,preco_completa:r.full_price,movement_type:r.movement_type,return_product_id:r.return_product_id,track_stock:r.track_stock,ativo:r.is_active,depositoId:r.deposit_id,product_group:r.product_group,image_url:r.image_url}))},BR=_R,gC=t=>({id:t.id,name:t.name??"",receipt_type:t.receipt_type??"other",generates_receivable:t.generates_receivable??!1,is_active:t.is_active??!0,created_at:t.created_at??null,updated_at:t.updated_at??null}),G_=async()=>{const{data:t,error:e}=await qe.from("payment_methods").select("*");if(e)throw e;return(t||[]).map(gC)},NR=async t=>{const e={id:t.id,name:t.name,receipt_type:t.receipt_type,generates_receivable:t.generates_receivable,is_active:t.is_active,updated_at:new Date().toISOString()};t.created_at&&(e.created_at=t.created_at);const{data:r,error:n}=await qe.from("payment_methods").upsert(e).maybeSingle();if(n)throw n;return gC(r||t)},CR=async t=>{if(!(await qe.from("payment_methods").delete().eq("id",t)).error)return;const r=await qe.from("payment_methods").update({is_active:!1}).eq("id",t);if(r.error)throw r.error},xC=t=>({payment_method_id:t.payment_method_id,deposit_id:t.deposit_id,is_active:t.is_active??!0,due_days:Number(t.due_days??0),max_installments:Number(t.max_installments??1),created_at:t.created_at??null,updated_at:t.updated_at??null}),bC=t=>(t==null?void 0:t.code)==="PGRST205"||String((t==null?void 0:t.message)||"").includes("payment_method_deposit_config"),Tb=async t=>{let e=qe.from("payment_method_deposit_config").select("*");const{data:r,error:n}=await e;if(n){if(bC(n))return console.warn("payment_method_deposit_config nao existe no schema.",n),[];throw n}return(r||[]).map(xC)},ER=async t=>{if(!t.length)return[];const e=t.map(i=>({payment_method_id:i.payment_method_id,deposit_id:i.deposit_id,is_active:i.is_active,due_days:i.due_days,max_installments:i.max_installments,updated_at:new Date().toISOString()})),{data:r,error:n}=await qe.from("payment_method_deposit_config").upsert(e,{onConflict:"payment_method_id,deposit_id"}).select("*");if(n){if(bC(n))return console.warn("payment_method_deposit_config nao existe no schema.",n),[];throw n}return(r||[]).map(xC)},Vm=async(t,e)=>{try{const{data:r,error:n,status:i}=await qe.from("kv").select("*").eq("key",t).maybeSingle();if(n){if(!(n.code==="PGRST116"||i===406||i===404))throw n;return e}return(r==null?void 0:r.value)??e}catch(r){return console.warn(`KV fetch fallback for ${t}:`,r),e}},rf=async(t,e)=>{const{error:r}=await qe.from("kv").upsert({key:t,value:e});if(r)throw r},Th=async()=>{const t=await Vm("machines",[]);return Array.isArray(t)?t:[]},SR=async t=>{const e=await Th(),n=e.findIndex(i=>i.id===t.id)>=0?e.map(i=>i.id===t.id?t:i):[...e,t];await rf("machines",n)},jR=async t=>{const r=(await Th()).filter(n=>n.id!==t);await rf("machines",r)},UR=async()=>Vm("sales_modalities",[]),V_=async t=>rf("sales_modalities",t||[]),kR=async()=>Vm("modality_labels",[]),LR=async t=>rf("modality_labels",t||[]),FR=async()=>Vm("stock_rules",[]),xx=async t=>rf("stock_rules",t||[]),TR=async()=>{const{data:t,error:e}=await qe.from("employees").select("*").eq("is_active",!0);if(e)throw e;return(t||[]).map(r=>({id:r.id,nome:r.name,cargo:r.role,depositoId:r.deposit_id,ativo:r.is_active,username:r.username,permissoes:r.permissions||[],telefone:r.phone,cpf:r.cpf}))},wm=async()=>{const{data:t,error:e}=await qe.from("service_orders").select("*");if(e)throw e;return(t||[]).map(r=>({id:r.id,numeroOs:r.order_number,depositoId:r.deposit_id,clienteId:r.client_id,clienteNome:r.client_name,clienteTelefone:r.client_phone,enderecoEntrega:r.delivery_address,tipoAtendimento:r.service_type,status:r.status,statusEntrega:r.delivery_status,total:r.total,delivery_fee:r.delivery_fee,dataHoraCriacao:new Date(r.created_at).getTime(),dataHoraConclusao:r.completed_at?new Date(r.completed_at).getTime():void 0}))},IR=wm,QR=async()=>{const{data:t,error:e}=await qe.from("delivery_jobs").select("*");if(e)throw e;return t||[]},OR=async()=>{const{data:t,error:e}=await qe.from("driver_presence").select("*");if(e)throw e;return t||[]},RR=async t=>{const{error:e}=await qe.from("delivery_jobs").update({status:"EM_ROTA",started_at:new Date().toISOString()}).eq("id",t);if(e)throw e},DR=async t=>{const{error:e}=await qe.from("delivery_jobs").update({status:"CONCLUIDA",completed_at:new Date().toISOString()}).eq("id",t);if(e)throw e},MR=async t=>{const{error:e}=await qe.from("delivery_jobs").update({status:"DEVOLVIDA"}).eq("id",t);if(e)throw e},PR=async t=>{const{error:e}=await qe.from("delivery_jobs").update({status:"CANCELADA"}).eq("id",t);if(e)throw e},HR=async t=>{const e={id:t.id,name:t.name,color:t.color,map_polygon:t.map_polygon},{error:r}=await qe.from("delivery_zones").upsert(e);if(r)throw r},qR=async t=>{const{error:e}=await qe.from("delivery_zones").delete().eq("id",t);if(e)throw e},$_=async t=>{const e={id:t.id,zone_id:t.zone_id||t.zoneId,deposit_id:t.deposit_id||t.depositoId,fee:t.fee||t.taxa},{error:r}=await qe.from("zone_pricing").upsert(e);if(r)throw r},zR=async t=>{const e={id:t.id,zone_id:t.zone_id||t.zoneId,name:t.name||t.nome,map_polygon:t.map_polygon},{error:r}=await qe.from("delivery_sectors").upsert(e);if(r)throw r},KR=async t=>{const{error:e}=await qe.from("delivery_sectors").delete().eq("id",t);if(e)throw e},GR=async()=>{const{data:t,error:e}=await qe.from("driver_presence").select("*");if(e)throw e;return t||[]},Ah=async t=>{const e=(t.type||t.tipo||"").toString().toUpperCase(),r=Number(t.quantity??t.quantidade??0),i=["OUT","SAIDA","SALE","TRANSFER_OUT","LOSS","AJUSTE_NEGATIVO","CONSUMO"].includes(e),l=i?-Math.abs(r):Math.abs(r),u=i?"OUT":"IN",d={id:t.id||crypto.randomUUID(),product_id:t.productId||t.produtoId,deposit_id:t.depositId||t.depositoId,quantity:l,type:u,origin:t.origin||t.origem||e||t.motivo,reason:t.reason||t.motivo,reference_id:t.reference_id||t.referenciaId,created_at:new Date().toISOString()},{error:h}=await qe.from("stock_movements").insert(d);if(h)throw h},Hc=t=>t?String(t):null,Z_=async t=>{if(!t)return;const e={entity_type:t.entidade??t.entity_type??"UNKNOWN",entity_id:t.entidade_id??t.entity_id??"",action:String(t.acao??t.action??"UPDATE").toUpperCase(),user_id:t.usuario_id??t.user_id??Vc,changes:{before:t.antes_json??t.before_json??null,after:t.depois_json??t.after_json??null,deposit_id:t.deposit_id??t.deposito_id??null}};try{const{error:r}=await qe.from("audit_logs").insert(e);r&&console.warn("recordAudit failed:",r)}catch(r){console.warn("recordAudit fallback error:",r)}},VR=async()=>{if(!window.confirm(`ATENO: Isso ir apagar TODOS os dados do sistema!

Esta ao  IRREVERSVEL.

Voc tem certeza absoluta?`))return;if(window.prompt('Digite "APAGAR TUDO" para confirmar:')!=="APAGAR TUDO"){alert("Operao cancelada.");return}const r=["service_orders","service_order_items","service_order_payments","stock_movements","clients","products","delivery_jobs"];for(const n of r){const{error:i}=await qe.from(n).delete().neq("id","00000000-0000-0000-0000-000000000000");i&&console.error(`Erro ao limpar ${n}:`,i)}alert("Sistema resetado. Recarregue a pgina."),window.location.reload()},nf={async getAll(){const{data:t,error:e}=await qe.from("deposits").select("*").eq("active",!0).order("name");if(e)throw e;return t||[]},async getById(t){const{data:e,error:r}=await qe.from("deposits").select("*").eq("id",t).maybeSingle();if(r){if(r.code==="PGRST116")return null;throw r}return e},async create(t){const{data:e,error:r}=await qe.from("deposits").insert(t).select().single();if(r)throw r;return e},async update(t,e){const{data:r,error:n}=await qe.from("deposits").update(e).eq("id",t).select().maybeSingle();if(n)throw n;return r},async deactivate(t){const{error:e}=await qe.from("deposits").update({active:!1}).eq("id",t);if(e)throw e},async delete(t){const{error:e}=await qe.from("deposits").delete().eq("id",t);if(e)throw e},async hasStock(t){const{data:e,error:r}=await qe.from("stock_balance").select("id").eq("deposit_id",t).gt("quantity",0).limit(1);if(r)throw r;return((e==null?void 0:e.length)||0)>0},async hasSales(t){const{data:e,error:r}=await qe.from("service_orders").select("id").eq("deposit_id",t).limit(1);if(r)throw r;return((e==null?void 0:e.length)||0)>0}},X_=t=>({id:t.id,code:t.code??t.codigo??null,name:t.name??t.nome??"",description:t.description??t.descricao??null,type:t.type??t.tipo??null,unit:t.unit??t.unidade??"un",sale_price:t.sale_price??t.preco_venda??null,exchange_price:t.exchange_price??t.preco_troca??null,full_price:t.full_price??t.preco_completa??null,cost_price:t.cost_price??t.preco_custo??null,movement_type:t.movement_type??null,return_product_id:t.return_product_id??t.returnableId??t.linkedProductId??null,track_stock:t.track_stock??t.trackStock??t.controls_stock??null,is_active:t.is_active??t.ativo??!0,deposit_id:t.deposit_id??t.depositId??null,product_group:t.product_group??t.productGroup??null,image_url:t.image_url??t.imageUrl??null}),Y_=t=>{const e={};return"id"in t&&(e.id=t.id),("code"in t||"codigo"in t)&&(e.code=t.code??t.codigo??null),("name"in t||"nome"in t)&&(e.name=t.name??t.nome??null),("description"in t||"descricao"in t)&&(e.description=t.description??t.descricao??null),("type"in t||"tipo"in t)&&(e.type=t.type??t.tipo??null),("unit"in t||"unidade"in t)&&(e.unit=t.unit??t.unidade??null),("sale_price"in t||"preco_venda"in t)&&(e.sale_price=t.sale_price??t.preco_venda??null),("exchange_price"in t||"preco_troca"in t)&&(e.exchange_price=t.exchange_price??t.preco_troca??null),("full_price"in t||"preco_completa"in t)&&(e.full_price=t.full_price??t.preco_completa??null),("cost_price"in t||"preco_custo"in t)&&(e.cost_price=t.cost_price??t.preco_custo??null),"movement_type"in t&&(e.movement_type=t.movement_type),("return_product_id"in t||"returnableId"in t||"linkedProductId"in t)&&(e.return_product_id=t.return_product_id??t.returnableId??t.linkedProductId??null),("track_stock"in t||"trackStock"in t||"controls_stock"in t)&&(e.track_stock=t.track_stock??t.trackStock??t.controls_stock??null),("is_active"in t||"ativo"in t)&&(e.is_active=t.is_active??t.ativo??null),("deposit_id"in t||"depositId"in t)&&(e.deposit_id=t.deposit_id??t.depositId??null),("product_group"in t||"productGroup"in t)&&(e.product_group=t.product_group??t.productGroup??null),("image_url"in t||"imageUrl"in t)&&(e.image_url=t.image_url??t.imageUrl??null),e},yc={async getAll(){const{data:t,error:e}=await qe.from("products").select("*").eq("is_active",!0).order("name");if(e)throw new Error(`Erro ao listar produtos: ${e.message}`);return t||[]},async getByDeposit(t){const{data:e,error:r}=await qe.from("products").select("*").eq("is_active",!0).eq("deposit_id",t).order("name");if(r)throw new Error(`Erro ao listar produtos do depsito: ${r.message}`);return e||[]},async getById(t){const{data:e,error:r}=await qe.from("products").select("*").eq("id",t).order("deposit_id",{nullsFirst:!0}).limit(1).maybeSingle();if(r){if(r.code==="PGRST116")return null;throw new Error(`Erro ao buscar produto: ${r.message}`)}return e},async create(t){const e=X_(t);if(e.movement_type==="EXCHANGE"&&!e.return_product_id)throw new Error("Produtos com movimento EXCHANGE devem ter produto de retorno vinculado");const{data:r,error:n}=await qe.from("products").insert([e]).select().single();if(n)throw n.code==="23503"&&n.message.includes("return_product_id")?new Error("Produto de retorno (vazio) no existe. Crie-o primeiro."):new Error(`Erro ao criar produto: ${n.message}`);return r},async update(t,e){const r=Y_(e),{data:n,error:i}=await qe.from("products").update(r).eq("id",t).select().single();if(i)throw new Error(`Erro ao atualizar produto: ${i.message}`);return n},async deactivate(t){const{error:e}=await qe.from("products").update({is_active:!1}).eq("id",t);if(e)throw new Error(`Erro ao desativar produto: ${e.message}`)},async getReturnProduct(t){const e=await this.getById(t);return e!=null&&e.return_product_id?await this.getById(e.return_product_id):null},async getProductsUsingAsReturn(t){const{data:e,error:r}=await qe.from("products").select("*").eq("return_product_id",t).eq("is_active",!0);if(r)throw new Error(`Erro ao buscar produtos vinculados: ${r.message}`);return e||[]},async getPricing(t,e){const{data:r,error:n}=await qe.from("products").select("id, deposit_id, sale_price, exchange_price, full_price").eq("id",t).eq("deposit_id",e).limit(1).maybeSingle();if(n){if(n.code==="PGRST116")return null;throw new Error(`Erro ao buscar preo: ${n.message}`)}return r?{product_id:r.id,deposit_id:r.deposit_id,price:r.sale_price??0,sale_price:r.sale_price,exchange_price:r.exchange_price,full_price:r.full_price}:null},async setPricing(t,e,r){const n=m=>{const g={};return("sale_price"in m||"price"in m)&&(g.sale_price=m.sale_price??m.price??null),"exchange_price"in m&&(g.exchange_price=m.exchange_price??null),"full_price"in m&&(g.full_price=m.full_price??null),g},{data:i,error:l}=await qe.from("products").select("*").eq("id",t).single();if(l||!i)throw new Error("Produto original no encontrado para precificao");if(!e){const m=n(r),{data:g,error:b}=await qe.from("products").update(m).eq("id",t).select("id, deposit_id, sale_price, exchange_price, full_price").single();if(b)throw new Error(`Erro ao atualizar preo global: ${b.message}`);return{product_id:g.id,deposit_id:g.deposit_id,price:g.sale_price??0,sale_price:g.sale_price,exchange_price:g.exchange_price,full_price:g.full_price}}let u=null;if(i.deposit_id===e)u=i;else{const{data:m,error:g}=await qe.from("products").select("*").eq("name",i.name).eq("deposit_id",e).order("updated_at",{ascending:!1}).limit(1).maybeSingle();if(g&&g.code!=="PGRST116")throw new Error(`Erro ao verificar produto do depsito: ${g.message}`);u=m||null}const d=n(r);let h;if(u){const{data:m,error:g}=await qe.from("products").update(d).eq("id",u.id).select("id, deposit_id, sale_price, exchange_price, full_price").single();if(g)throw new Error(`Erro ao atualizar preo do depsito: ${g.message}`);h=m}else{const{id:m,created_at:g,updated_at:b,...N}=i,w={...N,deposit_id:e,...d},{data:C,error:U}=await qe.from("products").insert([w]).select("id, deposit_id, sale_price, exchange_price, full_price").single();if(U)throw new Error(`Erro ao criar entrada de preo para o depsito: ${U.message}`);h=C}return{product_id:h.id,deposit_id:h.deposit_id,price:h.sale_price??0,sale_price:h.sale_price,exchange_price:h.exchange_price,full_price:h.full_price}},async getFinalPrice(t,e,r){const{data:n,error:i}=await qe.from("products").select("sale_price, exchange_price, full_price, id").eq("id",t).eq("deposit_id",e).limit(1).maybeSingle();if(i&&i.code!=="PGRST116")throw new Error(`Erro ao buscar preo do depsito: ${i.message}`);const l=n||await this.getById(t);if(!l)throw new Error("Produto no encontrado");switch(r){case"EXCHANGE":return l.exchange_price??l.sale_price??0;case"FULL":return l.full_price??l.sale_price??0;default:return l.sale_price??0}},async listPricingByProduct(t){const{data:e,error:r}=await qe.from("products").select("id, deposit_id, sale_price, exchange_price, full_price").eq("id",t);if(r)throw new Error(`Erro ao listar preos do produto: ${r.message}`);return(e||[]).map(n=>({product_id:n.id,deposit_id:n.deposit_id,price:n.sale_price??0,sale_price:n.sale_price,exchange_price:n.exchange_price,full_price:n.full_price}))},async removePricing(t,e){const{error:r}=await qe.from("products").delete().eq("id",t).eq("deposit_id",e);if(r)throw new Error(`Erro ao remover preo do depsito: ${r.message}`)},async getByType(t){const{data:e,error:r}=await qe.from("products").select("*").eq("type",t).eq("is_active",!0).order("name");if(r)throw new Error(`Erro ao buscar produtos por tipo: ${r.message}`);return e||[]},async getStockTracked(){const{data:t,error:e}=await qe.from("products").select("*").eq("track_stock",!0).eq("is_active",!0).order("name");if(e)throw new Error(`Erro ao buscar produtos rastreados: ${e.message}`);return t||[]},async getExchangeProducts(){const{data:t,error:e}=await qe.from("products").select("*").eq("movement_type","EXCHANGE").eq("is_active",!0).order("name");if(e)throw new Error(`Erro ao buscar produtos EXCHANGE: ${e.message}`);return t||[]},async createProduct(t){const e=X_(t),{data:r,error:n}=await qe.from("products").insert([e]);if(n)throw n;return r},async updateProduct(t,e){const r=Y_(e),{data:n,error:i}=await qe.from("products").update(r).eq("id",t);if(i)throw i;return n},async deactivateProduct(t){const{data:e,error:r}=await qe.from("products").update({is_active:!1}).eq("id",t);if(r)throw r;return e},async upsertProductPricing(t){return await this.setPricing(t.product_id,t.deposit_id,{sale_price:t.price})}},$R={async getBalance(t,e){const{data:r,error:n}=await qe.from("stock_movements").select("quantity, type").eq("product_id",t).eq("deposit_id",e);if(n)throw new Error(`Erro ao calcular saldo: ${n.message}`);const i=["IN","ENTRY","CARGA_INICIAL","TRADE_IN","AJUSTE_POSITIVO"],l=["OUT","SALE","LOSS","TRANSFER_OUT","AJUSTE_NEGATIVO"];return(r||[]).reduce((u,d)=>{const h=Number(d.quantity||0),m=d.type,g=m?i.includes(m):h>=0,N=(m?l.includes(m):h<0)?-Math.abs(h):Math.abs(h);return u+(g?Math.abs(h):N)},0)},async getBalancesByDeposit(t){const{data:e,error:r}=await qe.from("stock_movements").select("product_id, quantity, type").eq("deposit_id",t);if(r)throw new Error(`Erro ao buscar saldos: ${r.message}`);const n=new Map,i=["IN","ENTRY","CARGA_INICIAL","TRADE_IN","AJUSTE_POSITIVO"],l=["OUT","SALE","LOSS","TRANSFER_OUT","AJUSTE_NEGATIVO"];return(e||[]).forEach(u=>{const d=Number(u.quantity||0),h=u.type,m=h?i.includes(h):d>=0,b=(h?l.includes(h):d<0)?-Math.abs(d):Math.abs(d),N=n.get(u.product_id)||0;n.set(u.product_id,N+(m?Math.abs(d):b))}),n},async addMovement(t){const{data:e,error:r}=await qe.from("stock_movements").insert(t).select().single();if(r)throw new Error(`Erro ao registrar movimento: ${r.message}`);return e},async addMovements(t){const{data:e,error:r}=await qe.from("stock_movements").insert(t).select();if(r)throw new Error(`Erro ao registrar movimentos: ${r.message}`);return e||[]},async getMovements(t,e,r=100){const{data:n,error:i}=await qe.from("stock_movements").select("*").eq("product_id",t).eq("deposit_id",e).order("created_at",{ascending:!1}).limit(r);if(i)throw new Error(`Erro ao listar movimentos: ${i.message}`);return n||[]},async loadInitialStock(t,e,r,n="Carga inicial do sistema"){return await this.addMovement({product_id:t,deposit_id:e,quantity:r,type:r>=0?"IN":"OUT",origin:"CARGA_INICIAL",reason:n})},async adjustStock(t,e,r,n){const i=await this.getBalance(t,e),l=r-i;if(l===0)throw new Error("Saldo j est correto, nenhum ajuste necessrio");return await this.addMovement({product_id:t,deposit_id:e,quantity:l,type:l>0?"IN":"OUT",origin:"ADJUSTMENT",reason:n})},async transfer(t,e,r,n,i){const l=await this.getBalance(t,e);if(l<n)throw new Error(`Saldo insuficiente no depsito de origem (disponvel: ${l})`);const[u,d]=await this.addMovements([{product_id:t,deposit_id:e,quantity:-n,type:"OUT",origin:"TRANSFER_OUT",reason:i||"Transferncia para outro depsito"},{product_id:t,deposit_id:r,quantity:n,type:"IN",origin:"TRANSFER_IN",reason:i||"Transferncia de outro depsito"}]);return{from:u,to:d}},async createStockCount(t,e){const{data:r,error:n}=await qe.from("stock_counts").insert({deposit_id:t,status:"ABERTA",created_by:e}).select("id").single();if(n)throw new Error(`Erro ao criar contagem: ${n.message}`);return r.id},async addCountItem(t,e,r,n){const{error:i}=await qe.from("stock_count_items").insert({count_id:t,product_id:e,system_quantity:r,counted_quantity:n,difference:n-r});if(i)throw new Error(`Erro ao adicionar item: ${i.message}`)},async finalizeStockCount(t){const{data:e,error:r}=await qe.from("stock_count_items").select("*, stock_counts(deposit_id)").eq("count_id",t);if(r)throw new Error(`Erro ao buscar itens: ${r.message}`);const n=[];for(const l of e||[])l.difference!==0&&n.push({product_id:l.product_id,deposit_id:l.stock_counts.deposit_id,quantity:l.difference,type:l.difference>0?"IN":"OUT",origin:"ADJUSTMENT",reason:`Ajuste por contagem (ID: ${t})`,reference_id:t});n.length>0&&await this.addMovements(n);const{error:i}=await qe.from("stock_counts").update({status:"CONCLUIDA",completed_at:new Date().toISOString()}).eq("id",t);if(i)throw new Error(`Erro ao finalizar contagem: ${i.message}`)},async getLowStockProducts(t,e=5){const r=await this.getBalancesByDeposit(t);return Array.from(r.entries()).filter(([n,i])=>i<=e).map(([n,i])=>({product_id:n,balance:i}))},async getMovementsByPeriod(t,e,r){const{data:n,error:i}=await qe.from("stock_movements").select("*").eq("deposit_id",t).gte("created_at",e).lte("created_at",r).order("created_at",{ascending:!1});if(i)throw new Error(`Erro ao buscar movimentos: ${i.message}`);return n||[]}},ZR={async getPendingReceivables(t){let e=qe.from("accounts_receivable").select("*").eq("status","PENDENTE").order("due_date");t&&(e=e.eq("deposit_id",t));const{data:r,error:n}=await e;if(n)throw new Error(`Erro ao listar recebveis: ${n.message}`);return r||[]},async createReceivable(t){const{data:e,error:r}=await qe.from("accounts_receivable").insert(t).select().maybeSingle();if(r)throw new Error(`Erro ao criar recebvel: ${r.message}`);return e},async markReceivableAsPaid(t,e,r){const{data:n,error:i}=await qe.from("accounts_receivable").select("original_amount, paid_amount, remaining_amount, status").eq("id",t).maybeSingle();if(i)throw new Error(`Erro ao buscar recebvel: ${i.message}`);if(!n)throw new Error("Recebvel no encontrado");const l=Number(n.original_amount||0),d=Number(n.paid_amount||0)+Number(r||0),h=Math.max(0,l-d),m=h<=0?"PAGO":n.status||"PENDENTE",{error:g}=await qe.from("accounts_receivable").update({paid_amount:d,remaining_amount:h,status:m,updated_at:new Date().toISOString()}).eq("id",t);if(g)throw new Error(`Erro ao atualizar: ${g.message}`);const{error:b}=await qe.from("receivable_payments").insert({receivable_id:t,amount:r,payment_method:e||null,paid_at:new Date().toISOString()}).select().maybeSingle();if(b)throw new Error(`Erro ao registrar pagamento: ${b.message}`)},async getOverdueReceivables(t){const e=new Date().toISOString().split("T")[0];let r=qe.from("accounts_receivable").select("*").eq("status","PENDENTE").lt("due_date",e).order("due_date");t&&(r=r.eq("deposit_id",t));const{data:n,error:i}=await r;if(i)throw new Error(`Erro ao listar vencidos: ${i.message}`);if(n&&n.length>0){const l=n.map(u=>u.id);await qe.from("accounts_receivable").update({status:"ATRASADO"}).in("id",l)}return n||[]},async getPendingExpenses(t){let e=qe.from("expenses").select("*").eq("status","PENDENTE").order("due_date");t&&(e=e.eq("deposit_id",t));const{data:r,error:n}=await e;if(n)throw new Error(`Erro ao listar despesas: ${n.message}`);return r||[]},async createExpense(t){const{data:e,error:r}=await qe.from("expenses").insert(t).select().maybeSingle();if(r)throw new Error(`Erro ao criar despesa: ${r.message}`);return e},async markExpenseAsPaid(t){const{error:e}=await qe.from("expenses").update({status:"PAGO",paid_date:new Date().toISOString()}).eq("id",t);if(e)throw new Error(`Erro ao marcar como paga: ${e.message}`)},async getExpensesDueSoon(t=7,e){const r=new Date,n=new Date(r);n.setDate(r.getDate()+t);let i=qe.from("expenses").select("*").eq("status","PENDENTE").gte("due_date",r.toISOString().split("T")[0]).lte("due_date",n.toISOString().split("T")[0]).order("due_date");e&&(i=i.eq("deposit_id",e));const{data:l,error:u}=await i;if(u)throw new Error(`Erro ao listar despesas: ${u.message}`);return l||[]},async hasOpenShift(t,e){const{data:r,error:n}=await qe.from("work_shifts").select("*").eq("user_id",t).eq("deposit_id",e).eq("status","OPEN").maybeSingle();if(n&&n.code!=="PGRST116")throw new Error(`Erro ao verificar turno: ${n.message}`);return r||null},async openShift(t,e,r){if(await this.hasOpenShift(t,e))throw new Error("Usurio j possui turno aberto neste depsito");const{data:i,error:l}=await qe.from("work_shifts").insert({user_id:t,deposit_id:e,opening_balance:r,opened_at:new Date().toISOString(),status:"OPEN"}).select().maybeSingle();if(l)throw new Error(`Erro ao abrir turno: ${l.message}`);return i},async closeShift(t,e){const{data:r,error:n}=await qe.from("work_shifts").select("*").eq("id",t).maybeSingle();if(n)throw new Error(`Erro ao buscar turno: ${n.message}`);if(r.status!=="OPEN")throw new Error("Turno j est fechado");const{data:i}=await qe.from("service_orders").select(`
        *,
        payments:service_order_payments(*)
      `).eq("deposit_id",r.deposit_id).gte("created_at",r.opened_at);let l=0,u=0,d=0;(i||[]).forEach(b=>{b.payments.forEach(N=>{const w=N.payment_method;w==="cash"&&(l+=N.amount),w==="card"&&(u+=N.amount),w==="pix"&&(d+=N.amount)})});const h=e.cash!==l||e.card!==u||e.pix!==d,{data:m,error:g}=await qe.from("work_shifts").update({status:h?"DISCREPANCY":"CLOSED",closed_at:new Date().toISOString(),closing_balance:r.opening_balance+e.cash+e.card+e.pix,declared_cash:e.cash,declared_card:e.card,declared_pix:e.pix,system_cash:l,system_card:u,system_pix:d}).eq("id",t).select().maybeSingle();if(g)throw new Error(`Erro ao fechar turno: ${g.message}`);return m},async getDailySummary(t){const e=new Date().toISOString().split("T")[0],{data:r}=await qe.from("service_orders").select("total").eq("deposit_id",t).eq("status","CONCLUIDA").gte("created_at",e),n=(r||[]).reduce((h,m)=>h+m.total,0),{data:i}=await qe.from("expenses").select("amount").eq("deposit_id",t).eq("paid_date",e),l=(i||[]).reduce((h,m)=>h+m.amount,0),{data:u}=await qe.from("accounts_receivable").select("remaining_amount, original_amount").eq("deposit_id",t).eq("status","PENDENTE").eq("due_date",e),d=(u||[]).reduce((h,m)=>{const g=Number(m.remaining_amount??m.original_amount??0);return h+(Number.isFinite(g)?g:0)},0);return{revenue:n,expenses:l,balance:n-l,receivables_due:d}}},Mi={async getAll(){const{data:t,error:e}=await qe.from("employees").select("*").eq("active",!0).order("name");if(e)throw e;return t||[]},async getById(t){const{data:e,error:r}=await qe.from("employees").select("*").eq("id",t).maybeSingle();if(r){if(r.code==="PGRST116")return null;throw r}return e},async getByUsername(t){const{data:e,error:r}=await qe.from("employees").select("*").eq("username",t.toLowerCase()).eq("active",!0).maybeSingle();if(r){if(r.code==="PGRST116")return null;throw r}return e},async getByDeposit(t){const{data:e,error:r}=await qe.from("employees").select("*").eq("deposit_id",t).eq("active",!0).order("name");if(r)throw r;return e||[]},async getByRole(t){const{data:e,error:r}=await qe.from("employees").select("*").eq("role",t).eq("active",!0).order("name");if(r)throw r;return e||[]},async create(t){var l;if(!(t.role==="GERENTE"||t.role==="ENTREGADOR")&&!t.deposit_id)throw new Error(`Cargo ${t.role} requer depsito vinculado. Apenas GERENTE e ENTREGADOR tm acesso global.`);const r={...t,username:(l=t.username)==null?void 0:l.toLowerCase()},{data:n,error:i}=await qe.from("employees").insert(r).select().single();if(i)throw i.code==="23505"&&i.message.includes("username")?new Error(`Username "${t.username}" j existe. Escolha outro.`):i;return n},async update(t,e){const r=e.username?{...e,username:e.username.toLowerCase()}:e,{data:n,error:i}=await qe.from("employees").update(r).eq("id",t).select().single();if(i)throw i.code==="23505"&&i.message.includes("username")?new Error(`Username "${e.username}" j existe. Escolha outro.`):i;return n},async deactivate(t){const{error:e}=await qe.from("employees").update({active:!1}).eq("id",t);if(e)throw e},async hasHistory(t){const[{count:e},{count:r}]=await Promise.all([qe.from("service_orders").select("*",{count:"exact",head:!0}).eq("driver_id",t),qe.from("cash_flow_entries").select("*",{count:"exact",head:!0}).eq("created_by",t)]);return(e||0)>0||(r||0)>0},async delete(t){const{error:e}=await qe.from("employees").delete().eq("id",t);if(e)throw e},async validateCredentials(t,e){const r=await this.getByUsername(t);return!r||r.password!==e?null:r}},XR="https://ecvfhrbwytwizxikqsyy.supabase.co",YR="sb_publishable_lJUcZH_D8m9u57L00a4PlQ_UnbwK6UJ";xv(XR,YR);function JR(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}const WR=t=>{switch(t){case"success":return rD;case"info":return sD;case"warning":return nD;case"error":return aD;default:return null}},eD=Array(12).fill(0),tD=({visible:t,className:e})=>Dt.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},Dt.createElement("div",{className:"sonner-spinner"},eD.map((r,n)=>Dt.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),rD=Dt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Dt.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),nD=Dt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Dt.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),sD=Dt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Dt.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),aD=Dt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Dt.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),iD=Dt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Dt.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Dt.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),oD=()=>{const[t,e]=Dt.useState(document.hidden);return Dt.useEffect(()=>{const r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t};let Ib=1;class lD{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const r=this.subscribers.indexOf(e);this.subscribers.splice(r,1)}),this.publish=e=>{this.subscribers.forEach(r=>r(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var r;const{message:n,...i}=e,l=typeof(e==null?void 0:e.id)=="number"||((r=e.id)==null?void 0:r.length)>0?e.id:Ib++,u=this.toasts.find(h=>h.id===l),d=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(l)&&this.dismissedToasts.delete(l),u?this.toasts=this.toasts.map(h=>h.id===l?(this.publish({...h,...e,id:l,title:n}),{...h,...e,id:l,dismissible:d,title:n}):h):this.addToast({title:n,...i,dismissible:d,id:l}),l},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:e,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),e),this.message=(e,r)=>this.create({...r,message:e}),this.error=(e,r)=>this.create({...r,message:e,type:"error"}),this.success=(e,r)=>this.create({...r,type:"success",message:e}),this.info=(e,r)=>this.create({...r,type:"info",message:e}),this.warning=(e,r)=>this.create({...r,type:"warning",message:e}),this.loading=(e,r)=>this.create({...r,type:"loading",message:e}),this.promise=(e,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:e,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let l=n!==void 0,u;const d=i.then(async m=>{if(u=["resolve",m],Dt.isValidElement(m))l=!1,this.create({id:n,type:"default",message:m});else if(cD(m)&&!m.ok){l=!1;const b=typeof r.error=="function"?await r.error(`HTTP error! status: ${m.status}`):r.error,N=typeof r.description=="function"?await r.description(`HTTP error! status: ${m.status}`):r.description,C=typeof b=="object"&&!Dt.isValidElement(b)?b:{message:b};this.create({id:n,type:"error",description:N,...C})}else if(m instanceof Error){l=!1;const b=typeof r.error=="function"?await r.error(m):r.error,N=typeof r.description=="function"?await r.description(m):r.description,C=typeof b=="object"&&!Dt.isValidElement(b)?b:{message:b};this.create({id:n,type:"error",description:N,...C})}else if(r.success!==void 0){l=!1;const b=typeof r.success=="function"?await r.success(m):r.success,N=typeof r.description=="function"?await r.description(m):r.description,C=typeof b=="object"&&!Dt.isValidElement(b)?b:{message:b};this.create({id:n,type:"success",description:N,...C})}}).catch(async m=>{if(u=["reject",m],r.error!==void 0){l=!1;const g=typeof r.error=="function"?await r.error(m):r.error,b=typeof r.description=="function"?await r.description(m):r.description,w=typeof g=="object"&&!Dt.isValidElement(g)?g:{message:g};this.create({id:n,type:"error",description:b,...w})}}).finally(()=>{l&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),h=()=>new Promise((m,g)=>d.then(()=>u[0]==="reject"?g(u[1]):m(u[1])).catch(g));return typeof n!="string"&&typeof n!="number"?{unwrap:h}:Object.assign(n,{unwrap:h})},this.custom=(e,r)=>{const n=(r==null?void 0:r.id)||Ib++;return this.create({jsx:e(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const io=new lD,AD=(t,e)=>{const r=(e==null?void 0:e.id)||Ib++;return io.addToast({title:t,...e,id:r}),r},cD=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",uD=AD,dD=()=>io.toasts,hD=()=>io.getActiveToasts(),ms=Object.assign(uD,{success:io.success,info:io.info,warning:io.warning,error:io.error,custom:io.custom,message:io.message,promise:io.promise,dismiss:io.dismiss,loading:io.loading},{getHistory:dD,getToasts:hD});JR("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Lp(t){return t.label!==void 0}const fD=3,pD="24px",mD="16px",J_=4e3,gD=356,xD=14,bD=45,vD=200;function Yl(...t){return t.filter(Boolean).join(" ")}function yD(t){const[e,r]=t.split("-"),n=[];return e&&n.push(e),r&&n.push(r),n}const wD=t=>{var e,r,n,i,l,u,d,h,m;const{invert:g,toast:b,unstyled:N,interacting:w,setHeights:C,visibleToasts:U,heights:T,index:S,toasts:I,expanded:O,removeToast:M,defaultRichColors:ne,closeButton:z,style:oe,cancelButtonStyle:te,actionButtonStyle:X,className:ge="",descriptionClassName:Z="",duration:W,position:ae,gap:K,expandByDefault:ue,classNames:Q,icons:Ae,closeButtonAriaLabel:ee="Close toast"}=t,[_e,Ne]=Dt.useState(null),[q,F]=Dt.useState(null),[G,$]=Dt.useState(!1),[V,he]=Dt.useState(!1),[ve,je]=Dt.useState(!1),[Te,Je]=Dt.useState(!1),[Ke,nt]=Dt.useState(!1),[ft,tt]=Dt.useState(0),[pe,Ct]=Dt.useState(0),It=Dt.useRef(b.duration||W||J_),zt=Dt.useRef(null),Ie=Dt.useRef(null),Rt=S===0,Lt=S+1<=U,Bt=b.type,gt=b.dismissible!==!1,ir=b.className||"",_r=b.descriptionClassName||"",nr=Dt.useMemo(()=>T.findIndex(dt=>dt.toastId===b.id)||0,[T,b.id]),xr=Dt.useMemo(()=>{var dt;return(dt=b.closeButton)!=null?dt:z},[b.closeButton,z]),$t=Dt.useMemo(()=>b.duration||W||J_,[b.duration,W]),St=Dt.useRef(0),Zt=Dt.useRef(0),Tt=Dt.useRef(0),Vr=Dt.useRef(null),[gr,Vt]=ae.split("-"),or=Dt.useMemo(()=>T.reduce((dt,Yt,Jt)=>Jt>=nr?dt:dt+Yt.height,0),[T,nr]),Ht=oD(),Kt=b.invert||g,kr=Bt==="loading";Zt.current=Dt.useMemo(()=>nr*K+or,[nr,or]),Dt.useEffect(()=>{It.current=$t},[$t]),Dt.useEffect(()=>{$(!0)},[]),Dt.useEffect(()=>{const dt=Ie.current;if(dt){const Yt=dt.getBoundingClientRect().height;return Ct(Yt),C(Jt=>[{toastId:b.id,height:Yt,position:b.position},...Jt]),()=>C(Jt=>Jt.filter(br=>br.toastId!==b.id))}},[C,b.id]),Dt.useLayoutEffect(()=>{if(!G)return;const dt=Ie.current,Yt=dt.style.height;dt.style.height="auto";const Jt=dt.getBoundingClientRect().height;dt.style.height=Yt,Ct(Jt),C(br=>br.find(kt=>kt.toastId===b.id)?br.map(kt=>kt.toastId===b.id?{...kt,height:Jt}:kt):[{toastId:b.id,height:Jt,position:b.position},...br])},[G,b.title,b.description,C,b.id,b.jsx,b.action,b.cancel]);const Mt=Dt.useCallback(()=>{he(!0),tt(Zt.current),C(dt=>dt.filter(Yt=>Yt.toastId!==b.id)),setTimeout(()=>{M(b)},vD)},[b,M,C,Zt]);Dt.useEffect(()=>{if(b.promise&&Bt==="loading"||b.duration===1/0||b.type==="loading")return;let dt;return O||w||Ht?(()=>{if(Tt.current<St.current){const br=new Date().getTime()-St.current;It.current=It.current-br}Tt.current=new Date().getTime()})():(()=>{It.current!==1/0&&(St.current=new Date().getTime(),dt=setTimeout(()=>{b.onAutoClose==null||b.onAutoClose.call(b,b),Mt()},It.current))})(),()=>clearTimeout(dt)},[O,w,b,Bt,Ht,Mt]),Dt.useEffect(()=>{b.delete&&(Mt(),b.onDismiss==null||b.onDismiss.call(b,b))},[Mt,b.delete]);function er(){var dt;if(Ae!=null&&Ae.loading){var Yt;return Dt.createElement("div",{className:Yl(Q==null?void 0:Q.loader,b==null||(Yt=b.classNames)==null?void 0:Yt.loader,"sonner-loader"),"data-visible":Bt==="loading"},Ae.loading)}return Dt.createElement(tD,{className:Yl(Q==null?void 0:Q.loader,b==null||(dt=b.classNames)==null?void 0:dt.loader),visible:Bt==="loading"})}const Ue=b.icon||(Ae==null?void 0:Ae[Bt])||WR(Bt);var Xe,at;return Dt.createElement("li",{tabIndex:0,ref:Ie,className:Yl(ge,ir,Q==null?void 0:Q.toast,b==null||(e=b.classNames)==null?void 0:e.toast,Q==null?void 0:Q.default,Q==null?void 0:Q[Bt],b==null||(r=b.classNames)==null?void 0:r[Bt]),"data-sonner-toast":"","data-rich-colors":(Xe=b.richColors)!=null?Xe:ne,"data-styled":!(b.jsx||b.unstyled||N),"data-mounted":G,"data-promise":!!b.promise,"data-swiped":Ke,"data-removed":V,"data-visible":Lt,"data-y-position":gr,"data-x-position":Vt,"data-index":S,"data-front":Rt,"data-swiping":ve,"data-dismissible":gt,"data-type":Bt,"data-invert":Kt,"data-swipe-out":Te,"data-swipe-direction":q,"data-expanded":!!(O||ue&&G),"data-testid":b.testId,style:{"--index":S,"--toasts-before":S,"--z-index":I.length-S,"--offset":`${V?ft:Zt.current}px`,"--initial-height":ue?"auto":`${pe}px`,...oe,...b.style},onDragEnd:()=>{je(!1),Ne(null),Vr.current=null},onPointerDown:dt=>{dt.button!==2&&(kr||!gt||(zt.current=new Date,tt(Zt.current),dt.target.setPointerCapture(dt.pointerId),dt.target.tagName!=="BUTTON"&&(je(!0),Vr.current={x:dt.clientX,y:dt.clientY})))},onPointerUp:()=>{var dt,Yt,Jt;if(Te||!gt)return;Vr.current=null;const br=Number(((dt=Ie.current)==null?void 0:dt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),yn=Number(((Yt=Ie.current)==null?void 0:Yt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),kt=new Date().getTime()-((Jt=zt.current)==null?void 0:Jt.getTime()),En=_e==="x"?br:yn,In=Math.abs(En)/kt;if(Math.abs(En)>=bD||In>.11){tt(Zt.current),b.onDismiss==null||b.onDismiss.call(b,b),F(_e==="x"?br>0?"right":"left":yn>0?"down":"up"),Mt(),Je(!0);return}else{var an,Wr;(an=Ie.current)==null||an.style.setProperty("--swipe-amount-x","0px"),(Wr=Ie.current)==null||Wr.style.setProperty("--swipe-amount-y","0px")}nt(!1),je(!1),Ne(null)},onPointerMove:dt=>{var Yt,Jt,br;if(!Vr.current||!gt||((Yt=window.getSelection())==null?void 0:Yt.toString().length)>0)return;const kt=dt.clientY-Vr.current.y,En=dt.clientX-Vr.current.x;var In;const an=(In=t.swipeDirections)!=null?In:yD(ae);!_e&&(Math.abs(En)>1||Math.abs(kt)>1)&&Ne(Math.abs(En)>Math.abs(kt)?"x":"y");let Wr={x:0,y:0};const Pr=Ut=>1/(1.5+Math.abs(Ut)/20);if(_e==="y"){if(an.includes("top")||an.includes("bottom"))if(an.includes("top")&&kt<0||an.includes("bottom")&&kt>0)Wr.y=kt;else{const Ut=kt*Pr(kt);Wr.y=Math.abs(Ut)<Math.abs(kt)?Ut:kt}}else if(_e==="x"&&(an.includes("left")||an.includes("right")))if(an.includes("left")&&En<0||an.includes("right")&&En>0)Wr.x=En;else{const Ut=En*Pr(En);Wr.x=Math.abs(Ut)<Math.abs(En)?Ut:En}(Math.abs(Wr.x)>0||Math.abs(Wr.y)>0)&&nt(!0),(Jt=Ie.current)==null||Jt.style.setProperty("--swipe-amount-x",`${Wr.x}px`),(br=Ie.current)==null||br.style.setProperty("--swipe-amount-y",`${Wr.y}px`)}},xr&&!b.jsx&&Bt!=="loading"?Dt.createElement("button",{"aria-label":ee,"data-disabled":kr,"data-close-button":!0,onClick:kr||!gt?()=>{}:()=>{Mt(),b.onDismiss==null||b.onDismiss.call(b,b)},className:Yl(Q==null?void 0:Q.closeButton,b==null||(n=b.classNames)==null?void 0:n.closeButton)},(at=Ae==null?void 0:Ae.close)!=null?at:iD):null,(Bt||b.icon||b.promise)&&b.icon!==null&&((Ae==null?void 0:Ae[Bt])!==null||b.icon)?Dt.createElement("div",{"data-icon":"",className:Yl(Q==null?void 0:Q.icon,b==null||(i=b.classNames)==null?void 0:i.icon)},b.promise||b.type==="loading"&&!b.icon?b.icon||er():null,b.type!=="loading"?Ue:null):null,Dt.createElement("div",{"data-content":"",className:Yl(Q==null?void 0:Q.content,b==null||(l=b.classNames)==null?void 0:l.content)},Dt.createElement("div",{"data-title":"",className:Yl(Q==null?void 0:Q.title,b==null||(u=b.classNames)==null?void 0:u.title)},b.jsx?b.jsx:typeof b.title=="function"?b.title():b.title),b.description?Dt.createElement("div",{"data-description":"",className:Yl(Z,_r,Q==null?void 0:Q.description,b==null||(d=b.classNames)==null?void 0:d.description)},typeof b.description=="function"?b.description():b.description):null),Dt.isValidElement(b.cancel)?b.cancel:b.cancel&&Lp(b.cancel)?Dt.createElement("button",{"data-button":!0,"data-cancel":!0,style:b.cancelButtonStyle||te,onClick:dt=>{Lp(b.cancel)&&gt&&(b.cancel.onClick==null||b.cancel.onClick.call(b.cancel,dt),Mt())},className:Yl(Q==null?void 0:Q.cancelButton,b==null||(h=b.classNames)==null?void 0:h.cancelButton)},b.cancel.label):null,Dt.isValidElement(b.action)?b.action:b.action&&Lp(b.action)?Dt.createElement("button",{"data-button":!0,"data-action":!0,style:b.actionButtonStyle||X,onClick:dt=>{Lp(b.action)&&(b.action.onClick==null||b.action.onClick.call(b.action,dt),!dt.defaultPrevented&&Mt())},className:Yl(Q==null?void 0:Q.actionButton,b==null||(m=b.classNames)==null?void 0:m.actionButton)},b.action.label):null)};function W_(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function _D(t,e){const r={};return[t,e].forEach((n,i)=>{const l=i===1,u=l?"--mobile-offset":"--offset",d=l?mD:pD;function h(m){["top","right","bottom","left"].forEach(g=>{r[`${u}-${g}`]=typeof m=="number"?`${m}px`:m})}typeof n=="number"||typeof n=="string"?h(n):typeof n=="object"?["top","right","bottom","left"].forEach(m=>{n[m]===void 0?r[`${u}-${m}`]=d:r[`${u}-${m}`]=typeof n[m]=="number"?`${n[m]}px`:n[m]}):h(d)}),r}const BD=Dt.forwardRef(function(e,r){const{id:n,invert:i,position:l="bottom-right",hotkey:u=["altKey","KeyT"],expand:d,closeButton:h,className:m,offset:g,mobileOffset:b,theme:N="light",richColors:w,duration:C,style:U,visibleToasts:T=fD,toastOptions:S,dir:I=W_(),gap:O=xD,icons:M,containerAriaLabel:ne="Notifications"}=e,[z,oe]=Dt.useState([]),te=Dt.useMemo(()=>n?z.filter(G=>G.toasterId===n):z.filter(G=>!G.toasterId),[z,n]),X=Dt.useMemo(()=>Array.from(new Set([l].concat(te.filter(G=>G.position).map(G=>G.position)))),[te,l]),[ge,Z]=Dt.useState([]),[W,ae]=Dt.useState(!1),[K,ue]=Dt.useState(!1),[Q,Ae]=Dt.useState(N!=="system"?N:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ee=Dt.useRef(null),_e=u.join("+").replace(/Key/g,"").replace(/Digit/g,""),Ne=Dt.useRef(null),q=Dt.useRef(!1),F=Dt.useCallback(G=>{oe($=>{var V;return(V=$.find(he=>he.id===G.id))!=null&&V.delete||io.dismiss(G.id),$.filter(({id:he})=>he!==G.id)})},[]);return Dt.useEffect(()=>io.subscribe(G=>{if(G.dismiss){requestAnimationFrame(()=>{oe($=>$.map(V=>V.id===G.id?{...V,delete:!0}:V))});return}setTimeout(()=>{lj.flushSync(()=>{oe($=>{const V=$.findIndex(he=>he.id===G.id);return V!==-1?[...$.slice(0,V),{...$[V],...G},...$.slice(V+1)]:[G,...$]})})})}),[z]),Dt.useEffect(()=>{if(N!=="system"){Ae(N);return}if(N==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Ae("dark"):Ae("light")),typeof window>"u")return;const G=window.matchMedia("(prefers-color-scheme: dark)");try{G.addEventListener("change",({matches:$})=>{Ae($?"dark":"light")})}catch{G.addListener(({matches:V})=>{try{Ae(V?"dark":"light")}catch(he){console.error(he)}})}},[N]),Dt.useEffect(()=>{z.length<=1&&ae(!1)},[z]),Dt.useEffect(()=>{const G=$=>{var V;if(u.every(je=>$[je]||$.code===je)){var ve;ae(!0),(ve=ee.current)==null||ve.focus()}$.code==="Escape"&&(document.activeElement===ee.current||(V=ee.current)!=null&&V.contains(document.activeElement))&&ae(!1)};return document.addEventListener("keydown",G),()=>document.removeEventListener("keydown",G)},[u]),Dt.useEffect(()=>{if(ee.current)return()=>{Ne.current&&(Ne.current.focus({preventScroll:!0}),Ne.current=null,q.current=!1)}},[ee.current]),Dt.createElement("section",{ref:r,"aria-label":`${ne} ${_e}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},X.map((G,$)=>{var V;const[he,ve]=G.split("-");return te.length?Dt.createElement("ol",{key:G,dir:I==="auto"?W_():I,tabIndex:-1,ref:ee,className:m,"data-sonner-toaster":!0,"data-sonner-theme":Q,"data-y-position":he,"data-x-position":ve,style:{"--front-toast-height":`${((V=ge[0])==null?void 0:V.height)||0}px`,"--width":`${gD}px`,"--gap":`${O}px`,...U,..._D(g,b)},onBlur:je=>{q.current&&!je.currentTarget.contains(je.relatedTarget)&&(q.current=!1,Ne.current&&(Ne.current.focus({preventScroll:!0}),Ne.current=null))},onFocus:je=>{je.target instanceof HTMLElement&&je.target.dataset.dismissible==="false"||q.current||(q.current=!0,Ne.current=je.relatedTarget)},onMouseEnter:()=>ae(!0),onMouseMove:()=>ae(!0),onMouseLeave:()=>{K||ae(!1)},onDragEnd:()=>ae(!1),onPointerDown:je=>{je.target instanceof HTMLElement&&je.target.dataset.dismissible==="false"||ue(!0)},onPointerUp:()=>ue(!1)},te.filter(je=>!je.position&&$===0||je.position===G).map((je,Te)=>{var Je,Ke;return Dt.createElement(wD,{key:je.id,icons:M,index:Te,toast:je,defaultRichColors:w,duration:(Je=S==null?void 0:S.duration)!=null?Je:C,className:S==null?void 0:S.className,descriptionClassName:S==null?void 0:S.descriptionClassName,invert:i,visibleToasts:T,closeButton:(Ke=S==null?void 0:S.closeButton)!=null?Ke:h,interacting:K,position:G,style:S==null?void 0:S.style,unstyled:S==null?void 0:S.unstyled,classNames:S==null?void 0:S.classNames,cancelButtonStyle:S==null?void 0:S.cancelButtonStyle,actionButtonStyle:S==null?void 0:S.actionButtonStyle,closeButtonAriaLabel:S==null?void 0:S.closeButtonAriaLabel,removeToast:F,toasts:te.filter(nt=>nt.position==je.position),heights:ge.filter(nt=>nt.position==je.position),setHeights:Z,expandByDefault:d,gap:O,expanded:W,swipeDirections:e.swipeDirections})})):null}))}),bx={EXCHANGE:{label:"TROCA",emoji:"",color:"green",bgClass:"bg-green-50 border-green-500 hover:bg-green-100",textClass:"text-green-700",badgeClass:"bg-green-100 text-green-700",description:"Cliente devolve vasilhame vazio",detail:"O cliente entrega um casco vazio e leva o produto cheio. Preo de TROCA aplicado.",stockEffect:" Sai: 1 cheio |  Entra: 1 vazio"},FULL:{label:"COMPLETA",emoji:"",color:"blue",bgClass:"bg-blue-50 border-blue-500 hover:bg-blue-100",textClass:"text-blue-700",badgeClass:"bg-blue-100 text-blue-700",description:"Cliente leva o casco (novo)",detail:"Cliente novo ou sem casco para devolver. Preo COMPLETO inclui valor do vasilhame.",stockEffect:" Sai: 1 cheio (casco incluso)"},SIMPLE:{label:"SIMPLES",emoji:"",color:"gray",bgClass:"bg-gray-50 border-gray-400 hover:bg-gray-100",textClass:"text-gray-700",badgeClass:"bg-gray-100 text-gray-700",description:"Venda normal",detail:"Venda padro sem troca de vasilhame. Preo de venda normal.",stockEffect:" Sai: quantidade vendida"}};function ND({selectedDepositId:t,items:e,setItems:r,includeProductIds:n,lockedProductIds:i,onRemoveItem:l}){const[u,d]=P.useState(""),[h,m]=P.useState("1"),[g,b]=P.useState("EXCHANGE"),[N,w]=P.useState(!1),[C,U]=P.useState(null),[T,S]=P.useState(!1),I=(n||[]).join("|"),O=Q=>((Q==null?void 0:Q.is_delivery_fee)??(Q==null?void 0:Q.isDeliveryFee))===!0||String((Q==null?void 0:Q.product_group)??(Q==null?void 0:Q.codigo)??"").toLowerCase()==="delivery_fee"?!0:String((Q==null?void 0:Q.nome)??(Q==null?void 0:Q.name)??"").toLowerCase()==="taxa de entrega",M=Q=>O(Q)||((Q==null?void 0:Q.track_stock)??(Q==null?void 0:Q.trackStock))===!1?!0:(Q==null?void 0:Q.type)==="SERVICE",ne=sa(async()=>!t&&!(n||[]).length?[]:(await Or.products.toArray()).filter(Ae=>{if(!((Ae.ativo??Ae.is_active??!0)!==!1))return!1;const _e=Ae.deposit_id??Ae.depositoId??Ae.depositId??Ae.deposito_id??null;return!!(M(Ae)||(n||[]).includes(Ae.id)||_e===null||_e===""||t&&_e===t)}),[t,I])||[],z=P.useMemo(()=>{const Q=new Map;return ne.forEach(Ae=>Q.set(Ae.id,Ae)),Q},[ne]),oe=Q=>String((Q==null?void 0:Q.movement_type)??(Q==null?void 0:Q.movementType)??"").toUpperCase()==="EXCHANGE",te=(Q,Ae)=>{const ee=Number(Q.sale_price??Q.preco_venda??Q.preco_padrao??Q.preco??Q.price??0)||0,_e=Number(Q.exchange_price??Q.preco_troca??ee)||ee,Ne=Number(Q.full_price??Q.preco_completa??ee)||ee;switch(Ae){case"EXCHANGE":return _e;case"FULL":return Ne;default:return ee}},X=async()=>{const Q=z.get(u);if(!(!Q||!t)){if(oe(Q)){U(Q),w(!0);return}await ge(Q,"SIMPLE")}},ge=async(Q,Ae)=>{const ee=Math.max(1,Number(h)||1),_e=te(Q,Ae),Ne=Q.nome??Q.name??"",q=M(Q)?"SERVICO":Q.tipo??Q.type??"";let F=_e;try{F=await yc.getFinalPrice(Q.id,t,Ae)}catch($){console.error("Erro ao obter preo do produto",$),ms.error("No foi possvel obter o preo deste produto. Usando valor padro.")}const G=e.find($=>$.produtoId===Q.id&&$.sale_movement_type===Ae);if(G){const $=e.map(V=>V.id===G.id?{...V,quantidade:V.quantidade+ee}:V);r($),ms.success(`Quantidade de ${Ne} atualizada para ${G.quantidade+ee}`)}else{const $=bx[Ae],V={id:crypto.randomUUID(),produtoId:Q.id,nome:Ne,tipo:q,precoUnitario:F,quantidade:ee,sale_movement_type:Ae};r([...e,V]),ms.success(`${$.emoji} ${Ne} adicionado (${$.label})`)}m("1"),d(""),w(!1),U(null)},Z=async Q=>{C&&await ge(C,Q)},W=()=>{U(null),w(!1)},ae=(Q,Ae)=>{const ee=Math.max(1,Number(Ae)||1),_e=e.map(Ne=>Ne.id===Q?{...Ne,quantidade:ee}:Ne);r(_e)},K=Q=>{const Ae=e.find(ee=>ee.id===Q);Ae&&l&&l(Ae),r(e.filter(ee=>ee.id!==Q))},ue=Q=>{Q.key==="Enter"&&(Q.preventDefault(),X())};return t?a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xs font-semibold text-gray-600",children:"Adicionar Produtos"}),a.jsx("button",{type:"button",onClick:()=>S(!0),className:"text-blue-500 hover:text-blue-700",title:"Entenda as modalidades de venda",children:a.jsx(Wy,{className:"w-4 h-4"})})]})}),a.jsxs("div",{className:"flex flex-wrap items-end gap-2",children:[a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("label",{className:"text-xs text-gray-500",children:"Produto"}),a.jsxs("select",{value:u,onChange:Q=>d(Q.target.value),className:"h-8 px-2 border border-gray-300 rounded text-sm bg-white",children:[a.jsx("option",{value:"",children:"Selecionar produto"}),ne.filter(Q=>!(i!=null&&i.includes(Q.id))).map(Q=>{const Ae=oe(Q);return a.jsxs("option",{value:Q.id,children:[Q.nome??Q.name," ",Ae?"":""]},Q.id)})]})]}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("label",{className:"text-xs text-gray-500",children:"Qtd"}),a.jsx("input",{type:"number",min:"1",value:h,onChange:Q=>m(Q.target.value),onKeyDown:ue,className:"h-8 w-24 px-2 border border-gray-300 rounded text-sm"})]}),a.jsx("button",{type:"button",onClick:X,className:"h-8 px-3 rounded bg-blue-600 text-white text-sm",children:"Adicionar"})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm text-gray-700 border border-gray-200",children:[a.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-2 py-2 text-left",children:"Produto"}),a.jsx("th",{className:"px-2 py-2 text-left",children:"Modalidade"}),a.jsx("th",{className:"px-2 py-2 text-left",children:"Preo Unit."}),a.jsx("th",{className:"px-2 py-2 text-left",children:"Qtd"}),a.jsx("th",{className:"px-2 py-2 text-left",children:"Total"}),a.jsx("th",{className:"px-2 py-2 text-left",children:"Aes"})]})}),a.jsx("tbody",{children:e.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"px-3 py-6 text-center text-gray-400",children:"Nenhum item adicionado. Selecione um produto acima."})}):e.map(Q=>{const Ae=i==null?void 0:i.includes(Q.produtoId),ee=Q.sale_movement_type||"SIMPLE",_e=bx[ee]||bx.SIMPLE;return a.jsxs("tr",{className:"border-t border-gray-200",children:[a.jsx("td",{className:"px-2 py-2",children:a.jsxs("div",{className:"flex flex-col gap-0.5",children:[a.jsx("span",{className:"font-medium",children:Q.nome}),a.jsx("span",{className:"text-xs text-gray-500",children:Q.tipo})]})}),a.jsx("td",{className:"px-2 py-2",children:a.jsxs("span",{className:`inline-flex items-center gap-1 text-xs px-2 py-1 rounded font-medium ${_e.badgeClass}`,title:_e.detail,children:[_e.emoji," ",_e.label]})}),a.jsxs("td",{className:"px-2 py-2 font-medium",children:["R$ ",Q.precoUnitario.toFixed(2)]}),a.jsx("td",{className:"px-2 py-2",children:a.jsx("input",{type:"number",min:"1",value:Q.quantidade,onChange:Ne=>ae(Q.id,Ne.target.value),disabled:Ae,className:`w-20 h-7 px-2 border border-gray-300 rounded ${Ae?"bg-gray-100 text-gray-400 cursor-not-allowed":""}`})}),a.jsxs("td",{className:"px-2 py-2 font-bold text-green-700",children:["R$ ",(Q.precoUnitario*Q.quantidade).toFixed(2)]}),a.jsx("td",{className:"px-2 py-2",children:a.jsx("button",{type:"button",onClick:()=>K(Q.id),className:"text-red-600 hover:text-red-700 p-1","aria-label":"Remover item",title:"Remover este item",children:a.jsx(aa,{className:"w-4 h-4"})})})]},Q.id)})})]})}),N&&C&&(()=>{const Q=te(C,"EXCHANGE"),Ae=te(C,"FULL");return a.jsx("div",{className:"fixed inset-0 z-[80] bg-black/60 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-lg overflow-hidden",children:[a.jsxs("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 text-white px-5 py-4 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(lo,{className:"w-6 h-6"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-lg",children:"Escolha a Modalidade de Venda"}),a.jsx("p",{className:"text-orange-100 text-sm",children:"Como ser vendido este produto?"})]})]}),a.jsx("button",{onClick:W,className:"p-1 hover:bg-white/20 rounded",children:a.jsx(qn,{className:"w-5 h-5"})})]}),a.jsx("div",{className:"px-5 py-4 bg-gray-50 border-b",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center",children:a.jsx(lo,{className:"w-6 h-6 text-orange-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-gray-800",children:C.nome??C.name}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Quantidade: ",h," unidade(s)"]})]})]})}),a.jsxs("div",{className:"p-5 space-y-3",children:[a.jsx("button",{onClick:()=>Z("EXCHANGE"),className:"w-full p-4 rounded-xl border-2 border-green-400 bg-green-50 hover:bg-green-100 hover:border-green-500 transition-all text-left group",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-green-200 rounded-full flex items-center justify-center group-hover:scale-110 transition-transform",children:a.jsx(Rh,{className:"w-6 h-6 text-green-700"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-bold text-green-800 text-lg flex items-center gap-2",children:" TROCA"}),a.jsxs("p",{className:"text-green-700 text-sm mt-1",children:["Cliente ",a.jsx("strong",{children:"devolve"})," vasilhame vazio"]}),a.jsx("div",{className:"mt-2 text-xs text-green-600 bg-green-100 px-2 py-1 rounded inline-block",children:" Sai: cheio |  Entra: vazio"})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-2xl font-black text-green-700",children:["R$ ",Q.toFixed(2)]}),a.jsx("div",{className:"text-xs text-green-600",children:"por unidade"})]})]})}),a.jsx("button",{onClick:()=>Z("FULL"),className:"w-full p-4 rounded-xl border-2 border-blue-400 bg-blue-50 hover:bg-blue-100 hover:border-blue-500 transition-all text-left group",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-blue-200 rounded-full flex items-center justify-center group-hover:scale-110 transition-transform",children:a.jsx(lo,{className:"w-6 h-6 text-blue-700"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-bold text-blue-800 text-lg flex items-center gap-2",children:" COMPLETA"}),a.jsxs("p",{className:"text-blue-700 text-sm mt-1",children:["Cliente ",a.jsx("strong",{children:"leva o casco"})," (novo/sem troca)"]}),a.jsx("div",{className:"mt-2 text-xs text-blue-600 bg-blue-100 px-2 py-1 rounded inline-block",children:" Sai: cheio + casco"})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-2xl font-black text-blue-700",children:["R$ ",Ae.toFixed(2)]}),a.jsx("div",{className:"text-xs text-blue-600",children:"por unidade"})]})]})}),a.jsx("div",{className:"mt-4 p-3 bg-amber-50 border border-amber-200 rounded-lg",children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(ew,{className:"w-4 h-4 text-amber-600 mt-0.5 flex-shrink-0"}),a.jsxs("div",{className:"text-xs text-amber-700",children:[a.jsx("strong",{children:"Dica:"})," Escolha TROCA quando o cliente j possui vasilhame e ir devolver. Escolha COMPLETA para clientes novos ou que precisam de um casco adicional."]})]})})]}),a.jsx("div",{className:"bg-gray-50 px-5 py-3 flex justify-end border-t",children:a.jsx("button",{onClick:W,className:"px-4 py-2 rounded-lg border border-gray-300 text-gray-600 hover:bg-gray-100 font-medium",children:"Cancelar"})})]})})})(),T&&a.jsx("div",{className:"fixed inset-0 z-[80] bg-black/60 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl overflow-hidden max-h-[90vh] flex flex-col",children:[a.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white px-5 py-4 flex items-center justify-between flex-shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Wy,{className:"w-6 h-6"}),a.jsx("h3",{className:"font-bold text-lg",children:"Guia de Modalidades de Venda"})]}),a.jsx("button",{onClick:()=>S(!1),className:"p-1 hover:bg-white/20 rounded",children:a.jsx(qn,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"p-5 space-y-4 overflow-y-auto",children:[a.jsxs("p",{className:"text-gray-600",children:["As modalidades de venda determinam ",a.jsx("strong",{children:"como o estoque ser movimentado"})," e",a.jsx("strong",{children:" qual preo ser aplicado"})," ao produto."]}),a.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("div",{className:"w-10 h-10 bg-green-200 rounded-full flex items-center justify-center",children:a.jsx(Rh,{className:"w-5 h-5 text-green-700"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-green-800",children:" TROCA (EXCHANGE)"}),a.jsx("p",{className:"text-sm text-green-600",children:"Cliente devolve vasilhame vazio"})]})]}),a.jsxs("ul",{className:"text-sm text-green-700 space-y-1 ml-13 list-disc list-inside",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Preo:"})," Preo de TROCA (geralmente mais barato)"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Estoque:"})," SADA do cheio + ENTRADA do vazio"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Quando usar:"})," Cliente que j tem vasilhame e vai trocar"]})]})]}),a.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-200 rounded-full flex items-center justify-center",children:a.jsx(lo,{className:"w-5 h-5 text-blue-700"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-blue-800",children:" COMPLETA (FULL)"}),a.jsx("p",{className:"text-sm text-blue-600",children:"Cliente leva o casco (cliente novo)"})]})]}),a.jsxs("ul",{className:"text-sm text-blue-700 space-y-1 ml-13 list-disc list-inside",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Preo:"})," Preo COMPLETO (inclui valor do casco)"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Estoque:"})," Apenas SADA do cheio"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Quando usar:"})," Cliente novo ou que precisa de casco adicional"]})]})]}),a.jsxs("div",{className:"p-4 bg-gray-50 border border-gray-200 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:a.jsx($5,{className:"w-5 h-5 text-gray-700"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-gray-800",children:" SIMPLES (SIMPLE)"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Venda normal sem troca"})]})]}),a.jsxs("ul",{className:"text-sm text-gray-700 space-y-1 ml-13 list-disc list-inside",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Preo:"})," Preo de venda padro"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Estoque:"})," Apenas SADA da quantidade"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Quando usar:"})," Produtos que no envolvem troca (gua, acessrios)"]})]})]}),a.jsx("div",{className:"p-3 bg-amber-50 border border-amber-200 rounded-lg",children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(ew,{className:"w-4 h-4 text-amber-600 mt-0.5 flex-shrink-0"}),a.jsxs("div",{className:"text-sm text-amber-700",children:[a.jsx("strong",{children:"Identificao na lista:"})," Produtos com o cone  no dropdown permitem escolher entre TROCA e COMPLETA ao adicionar."]})]})})]}),a.jsx("div",{className:"bg-gray-50 px-5 py-3 flex justify-end border-t flex-shrink-0",children:a.jsx("button",{onClick:()=>S(!1),className:"px-4 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700 font-medium",children:"Entendi"})})]})})]}):a.jsx("div",{className:"text-sm text-gray-600",children:"Selecione um deposito primeiro"})}const ch={delivery_zones:{toArray:async()=>[]},zone_pricing:{toArray:async()=>[]},service_orders:{get:async()=>null,update:async()=>{}}},vx=(t,e)=>{const[r,n]=P.useState(void 0);return P.useEffect(()=>{t().then(i=>n(i||[])).catch(()=>n([]))},e||[]),r},yx=async()=>await wm(),vC=async()=>{const{data:t,error:e}=await qe.from("payment_methods").select("*").eq("is_active",!0);if(e)throw e;return(t||[]).map(r=>({id:r.id,name:r.name??"",receipt_type:r.receipt_type??"other",generates_receivable:r.generates_receivable??!1,is_active:r.is_active??!0,created_at:r.created_at??null,updated_at:r.updated_at??null}))},e5=async()=>{const{data:t,error:e}=await qe.from("clients").select("*").eq("is_active",!0);if(e)throw e;return(t||[]).map(r=>({id:r.id,nome:r.name,endereco:r.address,telefone:r.phone,cpf:r.cpf,referencia:r.reference,dataNascimento:r.birth_date,deliveryZoneId:r.delivery_zone_id,ativo:r.is_active}))},CD=async t=>{const e={id:t.id,name:t.nome,address:t.endereco,phone:t.telefone,cpf:t.cpf,reference:t.referencia,birth_date:t.dataNascimento,delivery_zone_id:t.deliveryZoneId,is_active:t.ativo??!0},{error:r}=await qe.from("clients").upsert(e);if(r)throw r},ED=async t=>{t&&typeof t=="object"&&(delete t.current_stock,delete t.min_stock,delete t.markup,delete t.tracks_empties,delete t.is_delivery_fee);const{data:e,error:r}=await qe.from("products").insert(t).select().single();if(r)throw r;return $m(e)},SD=async(t,e)=>{e&&typeof e=="object"&&(delete e.current_stock,delete e.min_stock,delete e.markup,delete e.tracks_empties,delete e.is_delivery_fee);const{data:r,error:n}=await qe.from("products").update(e).eq("id",t).select().single();if(n)throw n;return $m(r)},jD=async t=>{const{error:e}=await qe.from("service_orders").upsert(t);if(e)throw e},UD=async(t,e,r,n)=>{const{error:i}=await qe.from("service_orders").update({status:e,updated_at:new Date().toISOString()}).eq("id",t);if(i)throw i},wx=t=>{if(!t)return{depositoId:null};if(typeof t=="string")return{depositoId:t};if(typeof t=="object"){if("depositoId"in t)return{depositoId:t.depositoId??null};if("deposit_id"in t)return{depositoId:t.deposit_id??null};if("depositId"in t)return{depositoId:t.depositId??null}}return{depositoId:String(t)}},$m=t=>({id:t.id,codigo:t.code,nome:t.name,descricao:t.description,tipo:t.type,unidade:t.unit,preco_venda:t.sale_price,preco_custo:t.cost_price,preco_troca:t.exchange_price,preco_completa:t.full_price,movement_type:t.movement_type,return_product_id:t.return_product_id,track_stock:t.track_stock,ativo:t.is_active,depositoId:t.deposit_id,product_group:t.product_group,image_url:t.image_url}),t5=async()=>{const{data:t,error:e}=await qe.from("products").select("*").or(`product_group.eq.${Xo},code.eq.${Xo},name.ilike.%${yl}%`).order("updated_at",{ascending:!1}).limit(1);if(e)throw e;const r=t==null?void 0:t[0];return r?$m(r):null},kD=async t=>{console.log("TODO: Criar delivery job para OS",t.id)},yC=()=>{if(typeof localStorage>"u")return null;const t=localStorage.getItem("gp_session");if(!t)return null;try{const e=JSON.parse(t);return(e==null?void 0:e.nome)||(e==null?void 0:e.username)||(e==null?void 0:e.id)||null}catch{return null}},Xo="delivery_fee",yl="Taxa de entrega",wC=t=>String((t==null?void 0:t.product_group)??(t==null?void 0:t.codigo)??"").toLowerCase()===Xo?!0:String((t==null?void 0:t.nome)??"").toLowerCase()===yl.toLowerCase(),r5=t=>!!(wC(t)||((t==null?void 0:t.track_stock)??(t==null?void 0:t.trackStock))===!1),n5={lat:-17.7915,lng:-50.9197},pd=t=>t.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),_x=t=>{if(!t)return null;if(Array.isArray(t)&&t.length>=2){const e=Number(t[0]),r=Number(t[1]);return Number.isFinite(e)&&Number.isFinite(r)?[e,r]:null}if(typeof t=="object"){const e=Number(t.lat??t.latitude),r=Number(t.lng??t.lon??t.longitude);if(Number.isFinite(e)&&Number.isFinite(r))return[e,r]}return null},LD=t=>{if(!t)return null;let e=t;if(typeof e=="string")try{e=JSON.parse(e)}catch{return null}if(!Array.isArray(e)||e.length===0)return null;if(_x(e[0])){const i=e.map(_x).filter(Boolean);return i.length?[i]:null}const n=[];for(const i of e){if(!Array.isArray(i))continue;const l=i.map(_x).filter(Boolean);l.length&&n.push(l)}return n.length?n:null},Bx=(t,e,r)=>{const n=pd(t||"");if(!n)return null;const i=r.map(u=>({sector:u,key:pd((u==null?void 0:u.nome)||"")})).filter(u=>u.key.length>2&&n.includes(u.key)).sort((u,d)=>d.key.length-u.key.length)[0];if(i!=null&&i.sector){const u=e.find(d=>d.id===i.sector.zone_id)??null;if(u)return{zone:u,sector:i.sector,source:"setor"}}const l=e.map(u=>({zone:u,key:pd((u==null?void 0:u.nome)||"")})).filter(u=>u.key.length>2&&n.includes(u.key)).sort((u,d)=>d.key.length-u.key.length)[0];return l!=null&&l.zone?{zone:l.zone,sector:null,source:"zona"}:null},FD=({polygons:t,activePolygon:e})=>{const r=yd();return P.useEffect(()=>{const n=Os.latLngBounds([]);let i=!1;[...t,...e?[e]:[]].forEach(u=>{if(!u||!u.length)return;const d=Os.polygon(u);n.extend(d.getBounds()),i=!0}),i&&r.fitBounds(n,{padding:[12,12]})},[t,e,r]),null},TD=()=>{const t=yd();return P.useEffect(()=>{const e=()=>{var h;const d=(h=t.getContainer)==null?void 0:h.call(t);!d||!d.isConnected||t._loaded&&t.invalidateSize()};t.whenReady(()=>e()),requestAnimationFrame(e);const r=setTimeout(e,120),n=setTimeout(e,360),i=()=>e();window.addEventListener("resize",i);let l=null;const u=t.getContainer();return typeof ResizeObserver<"u"&&u&&(l=new ResizeObserver(()=>e()),l.observe(u)),()=>{clearTimeout(r),clearTimeout(n),window.removeEventListener("resize",i),l&&l.disconnect()}},[t]),null},ID=({logs:t})=>!t||t.length===0?a.jsx("div",{className:"text-xs text-txt-muted italic",children:"Sem histrico"}):a.jsxs("div",{className:"space-y-4 relative pl-2",children:[a.jsx("div",{className:"absolute left-[11px] top-2 bottom-2 w-px bg-bdr"}),t.map((e,r)=>a.jsxs("div",{className:"relative flex gap-3 items-start group",children:[a.jsx("div",{className:"w-6 h-6 rounded-full bg-surface border-2 border-bdr flex items-center justify-center shrink-0 z-10 group-hover:border-primary transition-colors",children:a.jsx("div",{className:"w-2 h-2 rounded-full bg-txt-muted group-hover:bg-primary transition-colors"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-bold text-txt-main",children:e.acao}),a.jsx("p",{className:"text-[10px] text-txt-muted",children:e.detalhe}),a.jsxs("div",{className:"flex gap-2 mt-1",children:[a.jsx("span",{className:"text-[9px] bg-app px-1.5 py-0.5 rounded border border-bdr text-txt-muted uppercase font-bold",children:e.usuario}),a.jsx("span",{className:"text-[9px] text-txt-muted",children:new Date(e.data).toLocaleString()})]})]})]},r))]}),QD=({createdAt:t,status:e})=>{const[r,n]=P.useState(""),[i,l]=P.useState("text-green-600");return P.useEffect(()=>{if(e==="CONCLUIDA"||e==="CANCELADA"){n("--:--");return}const u=()=>{const m=Date.now()-t,g=Math.floor(m/36e5),b=Math.floor(m%36e5/6e4),N=Math.floor(m%6e4/1e3),w=`${g.toString().padStart(2,"0")}:${b.toString().padStart(2,"0")}:${N.toString().padStart(2,"0")}`;n(w),b>=30?l("text-red-600 animate-pulse"):b>=15?l("text-amber-500"):l("text-green-600")};u();const d=setInterval(u,1e3);return()=>clearInterval(d)},[t,e]),a.jsxs("div",{className:`font-mono font-bold text-sm flex items-center gap-1 ${i} bg-surface px-2 py-1 rounded border border-bdr`,children:[a.jsx(gd,{className:"w-3 h-3"}),r]})},OD=({onCancel:t,onSuccess:e,initialData:r,currentUser:n})=>{var cn,ln;const[i,l]=P.useState([]),[u,d]=P.useState([]),[h,m]=P.useState([]),[g,b]=P.useState([]),[N,w]=P.useState([]),[C,U]=P.useState([]);P.useEffect(()=>{let Be=!0;return(async()=>{const[st,Et,Nt,Ot]=await Promise.all([yc.getAll().catch(()=>[]),vC().catch(()=>[]),e5(),Tb().catch(()=>[])]);let Rr=Array.isArray(st)?st:[],Qt=Rr.find(sr=>(sr.product_group??"")===Xo)||Rr.find(sr=>(sr.codigo??"")===Xo)||Rr.find(sr=>(sr.nome??"").toLowerCase()===yl.toLowerCase())||null;if(!Qt)try{Qt=await t5(),Qt&&(Rr=[...Rr,Qt])}catch(sr){console.error("Erro ao buscar produto de taxa de entrega:",sr)}if(Qt&&wC(Qt)){const sr=wx(Qt);if(!r5(Qt)||sr.depositoId!==null||Qt.product_group!==Xo||Qt.codigo!==Xo||Qt.preco_venda!==0||Qt.preco_custo!==0)try{const pn=await SD(Qt.id,{name:yl,type:"OUTROS",unit:"serv",product_group:Xo,code:Xo,deposit_id:null,cost_price:0,sale_price:0,is_active:!0,track_stock:!1});Qt=pn,Rr=Rr.map(Ea=>Ea.id===pn.id?pn:Ea)}catch(pn){console.error("Erro ao atualizar servico de taxa de entrega:",pn)}}if(!Qt)try{Qt=await ED({name:yl,type:"OUTROS",unit:"serv",product_group:Xo,code:Xo,deposit_id:null,sale_price:0,cost_price:0,is_active:!0,track_stock:!1}),Rr=[...Rr,Qt]}catch(sr){console.error("Erro ao criar produto de taxa de entrega:",sr);try{const Ir=await t5();Ir&&(Qt=Ir,Rr=Rr.some(Ea=>Ea.id===Ir.id)?Rr:[...Rr,Ir])}catch(Ir){console.error("Erro ao recuperar produto de taxa apos falha de criacao:",Ir)}}Be&&(l(Rr),d(Et),m(Ot),b(Nt),nt((Qt==null?void 0:Qt.id)??null))})(),()=>{Be=!1}},[]),P.useEffect(()=>{let Be=!0;return(async()=>{try{const[st,Et]=await Promise.all([nf.getAll().catch(()=>[]),Mi.getAll().catch(()=>[])]);if(!Be)return;const Nt=(st||[]).map(Qt=>({id:Qt.id,nome:Qt.name,ativo:Qt.active,endereco:Qt.address,cor:Qt.color})).filter(Qt=>n!=null&&n.depositoId?Qt.id===n.depositoId:Qt.ativo!==!1),Rr=(Et||[]).map(Qt=>({id:Qt.id,nome:Qt.name,cargo:Qt.role,depositoId:Qt.deposit_id,ativo:Qt.active,username:Qt.username,permissoes:Qt.permissions||[]})).filter(Qt=>{const sr=String(Qt.cargo??"").toUpperCase();return sr.includes("ENTREG")||sr.includes("MOTOR")?n!=null&&n.depositoId?Qt.depositoId===n.depositoId||Qt.depositoId===null:!0:!1});w(Nt),U(Rr)}catch(st){console.error("Erro ao carregar depsitos/entregadores",st),Be&&(w([]),U([]))}})(),()=>{Be=!1}},[n==null?void 0:n.depositoId]);const T=vx(()=>{var Be;return(Be=ch.delivery_zones)==null?void 0:Be.toArray()},[])||[],S=vx(()=>{var Be;return(Be=ch.delivery_zones)==null?void 0:Be.toArray()},[])||[],I=vx(()=>{var Be;return(Be=ch.zone_pricing)==null?void 0:Be.toArray()},[])||[],O=P.useMemo(()=>{const Be=new Map;return T.forEach(st=>{st!=null&&st.id&&Be.set(st.id,st)}),Be},[T]),[M,ne]=P.useState("DELIVERY"),[z,oe]=P.useState(""),[te,X]=P.useState(()=>new Date().toISOString().slice(0,16)),[ge,Z]=P.useState("Pendente"),[W,ae]=P.useState(""),[K,ue]=P.useState(""),Q=K||(r==null?void 0:r.depositoId)||"",Ae=P.useMemo(()=>{const Be=new Map;return Q&&h.forEach(st=>{st.deposit_id===Q&&Be.set(st.payment_method_id,st)}),Be},[h,Q]),ee=P.useMemo(()=>Q?u.filter(Be=>{const st=Ae.get(Be.id);return st?st.is_active!==!1:!0}):u,[u,Ae,Q]),[_e,Ne]=P.useState(""),[q,F]=P.useState(null),[G,$]=P.useState(""),[V,he]=P.useState(!1),[ve,je]=P.useState(0),[Te,Je]=P.useState(null),[Ke,nt]=P.useState(null),[ft,tt]=P.useState(!1),[pe,Ct]=P.useState(!1),[It,zt]=P.useState(""),[Ie,Rt]=P.useState(null),[Lt,Bt]=P.useState(!1),[gt,ir]=P.useState([]),[_r,nr]=P.useState(""),[xr,$t]=P.useState(!1),[St,Zt]=P.useState(null),[Tt,Vr]=P.useState([]),[gr,Vt]=P.useState(""),[or,Ht]=P.useState(""),[Kt,kr]=P.useState(""),[Mt,er]=P.useState(null),[Ue,Xe]=P.useState(""),[at,dt]=P.useState("");P.useEffect(()=>{(!K||K==="")&&N.length===1&&ue(N[0].id),(!W||W==="")&&C.length===1&&ae(C[0].id)},[N,C,K,W]);const Yt=P.useMemo(()=>{const Be=new Map;return K&&I.forEach(st=>{wx(st).depositoId===K&&Be.set(st.zone_id,st)}),Be},[I,K]),Jt=P.useMemo(()=>Bx(_e,T,S),[_e,T,S]),br=P.useMemo(()=>Bx(G,T,S),[G,T,S]),yn=P.useMemo(()=>q?O.get(q)??null:(Jt==null?void 0:Jt.zone)??(br==null?void 0:br.zone)??null,[q,O,Jt,br]),kt=(yn==null?void 0:yn.id)??null,En=(yn==null?void 0:yn.nome)??"",In=P.useMemo(()=>T.map(Be=>({id:Be.id,nome:Be.nome??"",cor:Be.cor||"#f97316",polygon:LD(Be.map_polygon)})).filter(Be=>Be.polygon),[T]),an=P.useMemo(()=>{if(!kt)return null;const Be=In.find(st=>st.id===kt);return(Be==null?void 0:Be.polygon)??null},[In,kt]),Wr=Ie?Ie.deliveryZoneId??Ie.delivery_zone_id??null:null,Pr=Wr?((cn=O.get(Wr))==null?void 0:cn.nome)??"":"",Ut=P.useMemo(()=>{if(!Ie)return null;const Be=pd(Ie.endereco||""),st=pd(G||"");return!Be&&!st?null:Be===st},[Ie,G]);P.useEffect(()=>{if(r){ne(r.tipoAtendimento),oe(r.observacoes||""),ue(r.depositoId||""),ae(r.entregadorId||""),zt(""),Bt(!1);const st=g.find(Qt=>Qt.id===r.clienteId)??{id:r.clienteId,nome:r.clienteNome,endereco:r.enderecoEntrega||"",telefone:r.clienteTelefone,ativo:!0,criado_em:0,atualizado_em:0};Rt(st),$(r.enderecoEntrega||st.endereco||""),he(!1);const Et=st.deliveryZoneId??st.delivery_zone_id??null;if(Et){const Qt=O.get(Et),sr=(Qt==null?void 0:Qt.nome)??"";F(Et),sr&&Ne(sr)}else F(null),Ne("");const Nt=r.itens.map(Qt=>{const sr=i.find(pn=>pn.id===Qt.produtoId),Ir=Ke&&Qt.produtoId===Ke||sr&&(sr.product_group??"")===Xo;return{id:Qt.id,produtoId:Qt.produtoId,nome:(sr==null?void 0:sr.nome)||(Ir?yl:"Item removido"),quantidade:Qt.quantidade,precoUnitario:Qt.precoUnitario,tipo:sr&&r5(sr)?"SERVICO":(sr==null?void 0:sr.tipo)||"OUTRO",sale_movement_type:Qt.sale_movement_type??null}});ir(Nt);const Ot=r.pagamentos.map((Qt,sr)=>{const Ir=u.find(pn=>pn.id===Qt.payment_method_id||Qt.formaPagamentoId);return{id:`pay-${sr}`,methodId:Qt.payment_method_id||Qt.formaPagamentoId,methodName:(Ir==null?void 0:Ir.name)??(Ir==null?void 0:Ir.nome)??"Pagamento",value:Qt.amount??Qt.valor,methodType:(Ir==null?void 0:Ir.receipt_type)??Qt.type??"other"}});Vr(Ot);const Rr=r.delivery_fee??r.deliveryFee??r.deliveryFeeValue??0;je(Number(Rr)||0),tt(!1)}},[r,g,i,u,Ke,O]),P.useEffect(()=>{n&&!(Et=>Et==="ENTREGADOR"||Et==="GERENTE")(n.cargo)&&n.depositoId&&K!==n.depositoId&&ue(n.depositoId)},[n==null?void 0:n.depositoId,n==null?void 0:n.cargo,K]),P.useEffect(()=>{if(V)return;const Be=(br==null?void 0:br.zone)??null;if(!Be)return;const st=Be.nome??"";Be.id!==q&&F(Be.id),st&&st!==_e&&Ne(st)},[V,br,q,_e]);const nn=M!=="DELIVERY";P.useEffect(()=>{nn&&W&&ae("")},[nn,W]);const fe=Be=>!!Ke&&Be.produtoId===Ke||Be.nome===yl,De=gt.reduce((Be,st)=>fe(st)?Be:Be+st.quantidade*st.precoUnitario,0),$e=ft?0:ve,xe=De+$e,Me=Tt.reduce((Be,st)=>Be+st.value,0),We=Math.max(0,xe-Me),yt=u.find(Be=>Be.id===gr),Gt=(yt==null?void 0:yt.receipt_type)==="cash"?parseFloat(Kt||"0"):0,Cr=Gt>0?Math.max(0,Gt-xe):Math.max(0,Me-xe);Tt.some(Be=>Be.methodType==="cash")||(yt==null||yt.receipt_type),P.useEffect(()=>{if(M!=="DELIVERY"){ve!==0&&je(0),Te&&Je(null),ft&&tt(!1);return}if(ft){ve!==0&&je(0),Te&&Je(null);return}if(!pd(_e)&&!q&&!(br!=null&&br.zone)){const Ir=(r==null?void 0:r.delivery_fee)??(r==null?void 0:r.deliveryFee)??(r==null?void 0:r.deliveryFeeValue)??0,pn=Number(Ir)||0;ve!==pn&&je(pn),Te&&Je(null);return}const st=(q?O.get(q)??null:null)??(Jt==null?void 0:Jt.zone)??(br==null?void 0:br.zone)??null,Et=K||(r==null?void 0:r.depositoId)||"",Nt=N.find(Ir=>Ir.id===Et),Ot=(Nt==null?void 0:Nt.free_shipping_min_value)??(Nt==null?void 0:Nt.freeShippingMinValue)??(Nt==null?void 0:Nt.freeShippingMin)??0,Rr=Number(Ot)||0,Qt=st&&Et?I.find(Ir=>{const pn=wx(Ir);return Ir.zone_id===st.id&&pn.depositoId===Et}):null;let sr=Qt?Number(Qt.price??0):0;Je(st&&Et&&!Qt?"Este deposito nao possui preco para esta zona.":null),Rr>0&&De>=Rr&&(sr=0),ve!==sr&&je(sr)},[M,_e,q,ve,O,De,K,N,I,r,Te,ft,Jt,br]),P.useEffect(()=>{Ke&&ir(Be=>{const st=Be.find(Nt=>Nt.produtoId===Ke);return M!=="DELIVERY"||ft?st?Be.filter(Nt=>Nt.produtoId!==Ke):Be:st?st.precoUnitario!==$e||st.quantidade!==1?Be.map(Nt=>Nt.produtoId===Ke?{...Nt,precoUnitario:$e,quantidade:1}:Nt):Be:[...Be,{id:crypto.randomUUID(),produtoId:Ke,nome:yl,quantidade:1,precoUnitario:$e,tipo:"OUTROS"}]})},[Ke,$e,ft,M]),P.useEffect(()=>{if(!Ke||!ft)return;gt.some(st=>st.produtoId===Ke||st.nome===yl)&&tt(!1)},[gt,Ke,ft]);const Hr=Be=>{(Ke&&Be.produtoId===Ke||Be.nome===yl)&&(tt(!0),ve!==0&&je(0))},dn=Be=>{Rt(Be),zt(""),Bt(!1),tt(!1),$(Be.endereco||""),he(!1);const st=Be.deliveryZoneId??Be.delivery_zone_id??null;if(st){const Et=O.get(st),Nt=(Et==null?void 0:Et.nome)??"";F(st),Nt&&Ne(Nt)}else F(null),Ne("");console.log("Client selected:",Be)},Ar=()=>{Bt(!0)},[on,re]=P.useState(!1);P.useEffect(()=>{const Be="receipt-print-style";if(document.getElementById(Be))return;const st=document.createElement("style");return st.id=Be,st.textContent=`
@media print {
  body * { visibility: hidden; }
  #receipt-print-area, #receipt-print-area * { visibility: visible; }
  #receipt-print-area {
    position: absolute;
    left: 0;
    top: 0;
    width: 100%;
    margin: 0;
    padding: 0;
    background: white;
    color: black;
  }
}`,document.head.appendChild(st),()=>{st.remove()}},[]);const ut=()=>{window.print()},it=async()=>{const Be=document.getElementById("receipt-print-area");if(!Be)return;const st=await oN(Be,{scale:2,backgroundColor:"#ffffff"}),Et=st.toDataURL("image/png"),Nt=new Nr({orientation:"portrait",unit:"pt",format:[st.width,st.height]});Nt.addImage(Et,"PNG",0,0,st.width,st.height),Nt.save(`nota-${Date.now()}.pdf`)},wt=Be=>Be.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}),Xt=(Be,st,Et=40)=>{const Nt=Be.length>Et?Be.slice(0,Et):Be,Ot=Math.max(1,Et-Nt.length-st.length);return`${Nt}${".".repeat(Ot)}${st}`},yr=()=>{const Be=new Date().toLocaleString("pt-BR"),st=(Ie==null?void 0:Ie.nome)||"Nao informado",Et=G.trim()||(Ie==null?void 0:Ie.endereco)||"Nao informado",Nt=(Ie==null?void 0:Ie.telefone)||"Nao informado",Ot=De,Rr=$e,Qt=0,sr=Ot+Rr-Qt,Ir=gt.length===0?["(Sem itens)"]:gt.map(ts=>{const di=ts.quantidade*ts.precoUnitario,ki=ts.sale_movement_type==="EXCHANGE"?" (TROCA)":ts.sale_movement_type==="FULL"?" (COMPLETA)":"",us=`${ts.quantidade}x ${ts.nome}${ki}`,Gs=`R$ ${wt(di)}`;return Xt(us,Gs,36)}),pn=Tt.length===0?["Pagamento: Nao informado"]:Tt.map(ts=>`- ${ts.methodName}: R$ ${wt(ts.value)}`),Ea=Cr>0?`Troco: R$ ${wt(Cr)}`:null;return["GAS REAL",Be,"--------------------------------",`Cliente: ${st}`,`Endereco: ${Et}`,`Telefone: ${Nt}`,"--------------------------------",...Ir,"--------------------------------",`Subtotal: R$ ${wt(Ot)}`,`Entrega: R$ ${wt(Rr)}`,`Descontos: R$ ${wt(Qt)}`,`TOTAL A PAGAR: R$ ${wt(sr)}`,"--------------------------------",...pn,...Ea?[Ea]:[],"--------------------------------","Obrigado pela preferencia!"].join(`
`)},qr=Be=>{(async()=>{const st=await CD({nome:Be.nome,endereco:Be.endereco,referencia:Be.referencia,cpf:Be.cpf,telefone:Be.telefone,dataNascimento:Be.dataNascimento,deliveryZoneId:Be.deliveryZoneId??null,ativo:!0}),Et=await e5();b(Et);let Nt;typeof st=="string"?Nt=Et.find(Ot=>Ot.id===st):st&&st.id&&(Nt=Et.find(Ot=>Ot.id===st.id)||st),Nt||(Nt=Et.find(Ot=>Ot.nome===Be.nome&&(Ot.cpf===Be.cpf||!Be.cpf))),Nt&&dn(Nt)})()},fn=(Be,st)=>{const Et=gt.find(Rr=>Rr.produtoId===Be.id&&Rr.sale_movement_type===st);if(Et){es(Et.id,Et.quantidade+1);return}let Nt=Be.preco_padrao;st==="EXCHANGE"?Nt=Be.preco_troca??Be.preco_padrao:st==="FULL"&&(Nt=Be.preco_completa??Be.preco_padrao);const Ot={id:crypto.randomUUID(),produtoId:Be.id,nome:Be.nome,quantidade:1,precoUnitario:Nt,tipo:Be.tipo,sale_movement_type:st};ir([...gt,Ot])},Vn=Be=>{St&&(fn(St,Be),Zt(null),$t(!1))},Zr=()=>{Zt(null),$t(!1)},es=(Be,st)=>{const Et=typeof st=="string"?parseInt(st):st;typeof Et=="number"&&!isNaN(Et)&&Et>0&&ir(gt.map(Nt=>Nt.id===Be?{...Nt,quantidade:Et}:Nt))},ur=()=>{if(!gr)return;const Be=u.find(Rr=>Rr.id===gr);if(!Be)return;const Et=Be.receipt_type==="cash"?Kt?parseFloat(Kt):0:or?parseFloat(or):We,Nt=Et>0?Et:We;if(Nt<=0)return;const Ot={id:crypto.randomUUID(),methodId:Be.id,methodName:Be.name,methodType:Be.receipt_type,value:Nt};Vr([...Tt,Ot]),Ht(""),kr(""),Nt>=We&&Vt(""),r!=null&&r.id&&Rs("PAGAMENTO_ADICIONADO",`Adicionado ${Be.name}: R$ ${Nt.toFixed(2)}`)},Lr=Be=>{er(Be),Xe(Be.methodId),dt(Be.value.toFixed(2))},xs=()=>{if(!Mt||!Ue)return;const Be=parseFloat(at);if(isNaN(Be)||Be<=0)return;const st=u.find(Ot=>Ot.id===Ue);if(!st)return;const Et=Mt,Nt={...Et,methodId:st.id,methodName:st.name,methodType:st.receipt_type,value:Be};if(Vr(Tt.map(Ot=>Ot.id===Et.id?Nt:Ot)),r!=null&&r.id){const Ot=[];Et.methodName!==st.name&&Ot.push(`Forma: ${Et.methodName}  ${st.name}`),Et.value!==Be&&Ot.push(`Valor: R$ ${Et.value.toFixed(2)}  R$ ${Be.toFixed(2)}`),Ot.length>0&&Rs("PAGAMENTO_EDITADO",Ot.join(", "))}er(null),Xe(""),dt("")},$r=()=>{er(null),Xe(""),dt("")},Ca=Be=>{Vr(Tt.filter(st=>st.id!==Be.id)),r!=null&&r.id&&Rs("PAGAMENTO_REMOVIDO",`Removido ${Be.methodName}: R$ ${Be.value.toFixed(2)}`)},Rs=async(Be,st)=>{if(!(r!=null&&r.id))return;const Et={id:crypto.randomUUID(),data:Date.now(),usuario:(n==null?void 0:n.nome)||"Sistema",usuarioId:(n==null?void 0:n.id)||Vc,acao:Be,detalhe:st},Nt=await ch.service_orders.get(r.id);if(Nt){const Ot=[...Nt.historico||[]];Ot.unshift(Et),await ch.service_orders.update(r.id,{historico:Ot})}};P.useEffect(()=>{gr&&We>0&&!or&&Ht(We.toFixed(2))},[gr,We,or]);const Er=P.useMemo(()=>{if(!Lt)return[];const Be=It.trim().toLowerCase();return g.filter(st=>{var Ot;if(!Be)return!0;const Et=(st.nome??"").toLowerCase(),Nt=(st.endereco??"").toLowerCase();return Et.includes(Be)||((Ot=st.telefone)==null?void 0:Ot.includes(Be))||Nt.includes(Be)})},[It,g,Lt]),wr=async()=>{if(!Ie||gt.length===0)return;if(!K&&!(r!=null&&r.depositoId)){alert("Selecione um deposito para a O.S.");return}if(M==="DELIVERY"&&!W){alert("Selecione um entregador para entrega.");return}const Be=gt.map(sr=>{const Ir=Ke&&sr.produtoId===Ke||sr.nome===yl;return{id:sr.id,produtoId:sr.produtoId,quantidade:sr.quantidade,precoUnitario:sr.precoUnitario,modalidade:Ir?"SERVICO":"VENDA",sale_movement_type:sr.sale_movement_type??null}}),st=Tt.map(sr=>({payment_method_id:sr.methodId,amount:sr.value}));let Et="PENDENTE";M==="DELIVERY"&&(Et="PENDENTE_ENTREGA");const Nt=K||(r==null?void 0:r.depositoId)||"DEP1",Ot={id:(r==null?void 0:r.id)||crypto.randomUUID(),numeroOs:(r==null?void 0:r.numeroOs)||Date.now().toString().slice(-6),depositoId:Nt,clienteId:Ie.id,clienteNome:Ie.nome,clienteTelefone:Ie.telefone,enderecoEntrega:G.trim()||Ie.endereco,status:Et,tipoAtendimento:M,entregadorId:W||null,observacoes:z,itens:Be,pagamentos:st,total:xe,delivery_fee:$e,dataHoraCriacao:(r==null?void 0:r.dataHoraCriacao)||Date.now(),updated_at:Date.now(),historico:(r==null?void 0:r.historico)||[]},Rr={data:Date.now(),usuario:yC()||"Operador",acao:r?"Edio Manual":"Criao",detalhe:r?"Alterou dados da O.S.":`Nova O.S. tipo ${M}`},Qt=[...Ot.historico||[]];if(Qt.unshift(Rr),await jD({...Ot,historico:Qt}),!(r!=null&&r.id)){const sr=Tt.filter(Ir=>Ir.value>0);for(const Ir of sr){const pn=u.find(Gs=>Gs.id===Ir.methodId);if(!pn||pn.receipt_type==="cash"||pn.receipt_type==="pix"||!pn.generates_receivable)continue;const ts=Ae.get(pn.id),di=(ts==null?void 0:ts.is_active)??!0,ki=Number((ts==null?void 0:ts.due_days)??0);if(!di||ki<=0)continue;const us=new Date;us.setDate(us.getDate()+ki),await ZR.createReceivable({order_id:Ot.id,deposit_id:Nt,client_id:Ie.id,client_name:Ie.nome,original_amount:Ir.value,paid_amount:0,remaining_amount:Ir.value,status:"PENDENTE",due_date:us.toISOString().split("T")[0],notes:`OS ${Ot.numeroOs} - ${pn.name??pn.id}`})}}M==="DELIVERY"&&!r&&await kD(Ot),e()};return a.jsxs("div",{className:"w-full h-full flex flex-col bg-transparent text-gray-900",children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[minmax(0,1fr)_360px] gap-4",children:[a.jsxs("div",{className:"space-y-4 min-w-0",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("span",{className:"inline-block text-xs font-bold text-blue-700 bg-white px-2 py-0.5 rounded shadow-sm",children:"Dados Gerais"}),a.jsxs("div",{className:"border border-gray-300 rounded bg-white p-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 text-sm",children:[a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("label",{className:"font-semibold text-gray-700",children:"Data/Hora:"}),a.jsx("input",{type:"datetime-local",value:te,onChange:Be=>X(Be.target.value),className:"h-8 px-2 rounded border border-gray-300 bg-white"})]}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("label",{className:"font-semibold text-gray-700",children:"Status:"}),a.jsxs("select",{value:ge,onChange:Be=>Z(Be.target.value),className:"h-8 px-2 rounded border border-gray-300 bg-white",children:[a.jsx("option",{children:"Pendente"}),a.jsx("option",{children:"Em Andamento"}),a.jsx("option",{children:"Concluda"})]})]}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("label",{className:"font-semibold text-gray-700",children:"Tipo de atendimento:"}),a.jsxs("select",{value:M,onChange:Be=>ne(Be.target.value),className:"h-8 px-2 rounded border border-gray-300 bg-white",children:[a.jsx("option",{value:"DELIVERY",children:"Delivery"}),a.jsx("option",{value:"BALCAO",children:"Balco"})]})]}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("label",{className:"font-semibold text-gray-700",children:"Entregador:"}),a.jsxs("select",{value:W||"",onChange:Be=>ae(Be.target.value),disabled:nn,className:"w-full h-9 px-2 border border-gray-300 rounded focus:border-blue-500 outline-none text-sm bg-white disabled:bg-gray-100 disabled:text-gray-400",children:[a.jsx("option",{value:"",children:nn?"Nao se aplica (Balcao)":"Selecione o Entregador..."}),C.map(Be=>a.jsx("option",{value:Be.id,children:Be.nome||Be.username},Be.id))]})]}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("label",{className:"font-semibold text-gray-700",children:"Depsito:"}),(()=>{var Et;return n&&!(Nt=>Nt==="ENTREGADOR"||Nt==="GERENTE")(n.cargo)&&n.depositoId?a.jsxs("div",{className:"px-2 py-2 rounded border border-gray-300 bg-gray-100 text-gray-700 font-semibold text-sm",children:[" ",((Et=N.find(Nt=>Nt.id===K))==null?void 0:Et.nome)||"Carregando..."]}):a.jsxs("select",{value:K||"",onChange:Nt=>ue(Nt.target.value),className:"w-full h-9 px-2 border border-gray-300 rounded focus:border-blue-500 outline-none text-sm bg-white",children:[a.jsx("option",{value:"",children:"Selecione o Depsito..."}),N.map(Nt=>a.jsx("option",{value:Nt.id,children:Nt.nome},Nt.id))]})})()]}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("label",{className:"font-semibold text-gray-700",children:"Bairro/Zona:"}),a.jsx("input",{type:"text",value:_e,onChange:Be=>{var Nt;const st=Be.target.value;Ne(st),he(!0);const Et=Bx(st,T,S);F(((Nt=Et==null?void 0:Et.zone)==null?void 0:Nt.id)??null),ft&&tt(!1)},className:"h-8 px-2 rounded border border-gray-300 bg-white"}),Te&&a.jsx("div",{className:"text-[10px] text-amber-600",children:Te})]})]}),a.jsx("div",{className:"mt-3 grid grid-cols-1 gap-3 text-sm",children:a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("label",{className:"font-semibold text-gray-700",children:"Endereco para entrega:"}),a.jsx("input",{type:"text",value:G,onChange:Be=>{$(Be.target.value),he(!1)},placeholder:"Rua, numero, bairro",className:"h-8 px-2 rounded border border-gray-300 bg-white"}),Ut===!0&&a.jsx("div",{className:"text-[10px] text-emerald-600",children:"Endereco igual ao cadastro do cliente."}),Ut===!1&&a.jsx("div",{className:"text-[10px] text-amber-600",children:"Endereco da entrega diferente do cadastro do cliente."})]})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("span",{className:"inline-block text-xs font-bold text-blue-700 bg-white px-2 py-0.5 rounded shadow-sm",children:"Cliente"}),a.jsxs("div",{className:"border border-gray-300 rounded bg-white p-4 space-y-3 text-sm",children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-6 gap-3 items-end",children:[a.jsxs("div",{className:"flex flex-col gap-1 lg:col-span-3",children:[a.jsx("label",{className:"font-semibold text-gray-700",children:"Cliente selecionado:"}),a.jsx("input",{type:"text",value:(Ie==null?void 0:Ie.nome)||"",readOnly:!0,placeholder:"Nenhum cliente selecionado",className:"h-8 px-2 rounded border border-gray-300 bg-white text-gray-700"})]}),a.jsxs("div",{className:"flex flex-col gap-1 lg:col-span-3",children:[a.jsx("label",{className:"font-semibold text-gray-700",children:"Buscar cliente:"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx("input",{type:"text",value:It,onChange:Be=>{zt(Be.target.value),Bt(!0)},placeholder:"Digite para buscar",className:"h-8 px-2 rounded border border-gray-300 bg-white w-full"}),Lt&&a.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded shadow-lg z-50 max-h-40 overflow-y-auto",children:Er.length===0?a.jsx("div",{className:"px-2 py-2 text-xs text-gray-500",children:"Nenhum cliente encontrado."}):Er.map(Be=>a.jsxs("button",{onClick:()=>dn(Be),className:"w-full text-left px-2 py-1.5 hover:bg-gray-50",children:[a.jsx("div",{className:"font-semibold",children:Be.nome}),a.jsx("div",{className:"text-xs text-gray-500",children:Be.endereco})]},Be.id))})]}),a.jsx("button",{onClick:Ar,className:"h-8 w-8 flex items-center justify-center rounded border border-gray-300 text-gray-600 hover:text-blue-700 hover:border-blue-400",title:"Buscar cliente",children:a.jsx(rA,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>Ct(!0),className:"h-8 px-3 rounded border border-gray-300 text-blue-700 font-semibold hover:border-blue-400",children:"+ Novo"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-3",children:[a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("label",{className:"font-semibold text-gray-700",children:"Telefone:"}),a.jsx("input",{type:"text",value:(Ie==null?void 0:Ie.telefone)||"",readOnly:!0,placeholder:"(00) 00000-0000",className:"h-8 px-2 rounded border border-gray-300 bg-white text-gray-500"})]}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("label",{className:"font-semibold text-gray-700",children:"Endereo:"}),a.jsx("input",{type:"text",value:(Ie==null?void 0:Ie.endereco)||"",readOnly:!0,placeholder:"Endereo completo",className:"h-8 px-2 rounded border border-gray-300 bg-white text-gray-500"})]}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("label",{className:"font-semibold text-gray-700",children:"CPF:"}),a.jsx("input",{type:"text",value:(Ie==null?void 0:Ie.cpf)||"",readOnly:!0,placeholder:"CPF (opcional)",className:"h-8 px-2 rounded border border-gray-300 bg-white text-gray-500"})]})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("span",{className:"inline-block text-xs font-bold text-blue-700 bg-white px-2 py-0.5 rounded shadow-sm",children:"Itens da Ordem"}),a.jsx("div",{className:"border border-gray-300 rounded bg-white p-4 space-y-3",children:a.jsx(ND,{selectedDepositId:K||null,items:gt,setItems:ir,includeProductIds:Ke?[Ke]:[],lockedProductIds:Ke?[Ke]:[],onRemoveItem:Hr})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("span",{className:"inline-block text-xs font-bold text-blue-700 bg-white px-2 py-0.5 rounded shadow-sm",children:"Pagamentos"}),a.jsxs("div",{className:"border border-gray-300 rounded bg-white p-4 space-y-3",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm text-gray-700 border border-gray-200",children:[a.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-2 py-2 text-left",children:"Forma"}),a.jsx("th",{className:"px-2 py-2 text-left",children:"Valor"}),a.jsx("th",{className:"px-2 py-2 text-left",children:"Parcelas"}),a.jsx("th",{className:"px-2 py-2 text-left",children:"1 Venc."}),a.jsx("th",{className:"px-2 py-2 text-left",children:"Mquina"}),a.jsx("th",{className:"px-2 py-2 text-left",children:"Observao"}),a.jsx("th",{className:"px-2 py-2 text-left",children:"Aes"})]})}),a.jsx("tbody",{children:Tt.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:7,className:"px-3 py-8 text-center text-gray-400",children:"Nenhum pagamento adicionado."})}):Tt.map(Be=>a.jsxs("tr",{className:"border-t border-gray-200",children:[a.jsx("td",{className:"px-2 py-2",children:Be.methodName}),a.jsxs("td",{className:"px-2 py-2",children:["R$ ",Be.value.toFixed(2)]}),a.jsx("td",{className:"px-2 py-2",children:"1"}),a.jsx("td",{className:"px-2 py-2",children:"-"}),a.jsx("td",{className:"px-2 py-2",children:"-"}),a.jsx("td",{className:"px-2 py-2",children:"-"}),a.jsx("td",{className:"px-2 py-2",children:a.jsxs("div",{className:"flex gap-1",children:[a.jsx("button",{onClick:()=>Lr(Be),className:"text-orange-600 hover:text-orange-800 p-1",title:"Editar pagamento",children:a.jsx(Xh,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>Ca(Be),className:"text-red-600 hover:text-red-800 p-1",title:"Remover pagamento",children:a.jsx(aa,{className:"w-4 h-4"})})]})})]},Be.id))})]})}),Mt&&a.jsxs("div",{className:"border border-orange-400 rounded bg-orange-50 p-3 space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-bold text-orange-800",children:"Editando Pagamento"}),a.jsx("button",{onClick:$r,className:"text-gray-500 hover:text-gray-700",children:a.jsx(qn,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[a.jsxs("select",{value:Ue,onChange:Be=>Xe(Be.target.value),className:"h-8 px-2 border border-gray-300 rounded text-gray-700 bg-white",children:[a.jsx("option",{value:"",children:"Forma"}),ee.map(Be=>a.jsx("option",{value:Be.id,children:Be.name??Be.nome},Be.id))]}),a.jsx("input",{type:"number",value:at,onChange:Be=>dt(Be.target.value),placeholder:"Valor",className:"h-8 w-28 px-2 border border-gray-300 rounded text-gray-700 bg-white"}),a.jsxs("button",{onClick:xs,className:"flex items-center gap-1 text-green-600 hover:text-green-800 font-semibold",children:[a.jsx(tl,{className:"w-4 h-4"})," Salvar"]}),a.jsx("button",{onClick:$r,className:"flex items-center gap-1 text-gray-600 hover:text-gray-800",children:"Cancelar"})]})]}),!Mt&&a.jsxs("div",{className:"flex flex-wrap gap-3 items-center text-sm text-blue-700 font-semibold",children:[a.jsxs("select",{value:gr,onChange:Be=>Vt(Be.target.value),className:"h-8 px-2 border border-gray-300 rounded text-gray-700 bg-white",children:[a.jsx("option",{value:"",children:"Forma"}),ee.map(Be=>a.jsx("option",{value:Be.id,children:Be.name??Be.nome},Be.id))]}),a.jsx("input",{type:"number",value:or,onChange:Be=>Ht(Be.target.value),placeholder:"Valor",className:"h-8 w-28 px-2 border border-gray-300 rounded text-gray-700 bg-white"}),a.jsx("button",{onClick:ur,className:"flex items-center gap-1",children:"+ Adicionar Pagamento"})]}),(yt==null?void 0:yt.receipt_type)==="cash"&&a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[a.jsx("label",{className:"font-semibold",children:"Valor Recebido (Dinheiro):"}),a.jsx("input",{type:"number",value:Kt,onChange:Be=>kr(Be.target.value),className:"h-8 w-32 px-2 border border-gray-300 rounded"}),Cr>0&&a.jsxs("span",{className:"text-green-600 font-semibold",children:["Troco: R$ ",Cr.toFixed(2)]})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("span",{className:"inline-block text-xs font-bold text-blue-700 bg-white px-2 py-0.5 rounded shadow-sm",children:"Resumo Financeiro"}),a.jsxs("div",{className:"border border-gray-300 rounded bg-white p-4 space-y-3 text-sm",children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3",children:[a.jsxs("div",{className:"flex flex-col gap-1 lg:col-span-1",children:[a.jsx("label",{className:"font-semibold text-gray-700",children:"Subtotal:"}),a.jsx("input",{className:"h-8 px-2 border border-gray-300 rounded bg-white",value:`R$ ${De.toFixed(2)}`,readOnly:!0})]}),a.jsxs("div",{className:"flex flex-col gap-1 lg:col-span-1",children:[a.jsx("label",{className:"font-semibold text-gray-700",children:"Taxa de entrega:"}),a.jsx("input",{className:"h-8 px-2 border border-gray-300 rounded bg-white",value:`R$ ${$e.toFixed(2)}`,readOnly:!0}),ft&&a.jsx("div",{className:"text-[10px] text-amber-600",children:"Taxa removida manualmente."})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-3",children:[a.jsxs("div",{className:"flex flex-col gap-1 lg:col-span-1",children:[a.jsx("label",{className:"font-semibold text-gray-700",children:"Valor Total:"}),a.jsx("input",{className:"h-8 px-2 border border-gray-300 rounded bg-white",value:`R$ ${xe.toFixed(2)}`,readOnly:!0})]}),a.jsxs("div",{className:"flex flex-col gap-1 lg:col-span-1",children:[a.jsx("label",{className:"font-semibold text-gray-700",children:"Total Pago:"}),a.jsx("input",{className:"h-8 px-2 border border-gray-300 rounded bg-white",value:`R$ ${Me.toFixed(2)}`,readOnly:!0})]}),a.jsxs("div",{className:"flex flex-col gap-1 lg:col-span-1",children:[a.jsx("label",{className:"font-semibold text-green-700",children:"Restante:"}),a.jsx("input",{className:"h-8 px-2 border border-gray-300 rounded bg-white text-green-700 font-semibold",value:`R$ ${We.toFixed(2)}`,readOnly:!0})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3",children:[a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("label",{className:"font-semibold text-gray-700",children:"Observaes:"}),a.jsx("textarea",{value:z,onChange:Be=>oe(Be.target.value),className:"min-h-[90px] px-2 py-2 border border-gray-300 rounded"})]}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("label",{className:"font-semibold text-gray-700",children:"Resumo Nota:"}),a.jsx("div",{id:"receipt-print-area",className:"bg-yellow-50 border border-gray-300 p-4 h-full overflow-y-auto font-mono text-xs text-black shadow-inner leading-tight",children:a.jsx("pre",{className:"whitespace-pre-wrap",children:yr()})})]})]})]})]})]}),a.jsx("div",{className:"space-y-4 min-w-0 self-start",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx("span",{className:"inline-block text-xs font-bold text-blue-700 bg-white px-2 py-0.5 rounded shadow-sm",children:"Zonas e mapa"}),a.jsxs("div",{className:"border border-gray-300 rounded bg-white p-4 space-y-3 text-sm",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-[11px] font-bold text-gray-600 uppercase",children:"Orientacao de zona"}),a.jsxs("span",{className:"text-[11px] text-gray-500",children:["Deposito: ",((ln=N.find(Be=>Be.id===(K||(r==null?void 0:r.depositoId))))==null?void 0:ln.nome)||"Nao selecionado"]})]}),Wr&&kt&&Wr!==kt&&a.jsxs("div",{className:"text-[11px] text-amber-600",children:["Zona do cadastro: ",Pr||"Nao definida"," / Zona detectada: ",En||"Nao definida"]}),!kt&&_e&&a.jsxs("div",{className:"text-[11px] text-amber-600",children:['Zona nao encontrada para "',_e,'".']}),a.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[a.jsx("div",{className:"relative z-0 h-48 rounded border border-gray-200 overflow-hidden",children:a.jsxs(Yb,{center:[n5.lat,n5.lng],zoom:12,className:"w-full h-full",children:[a.jsx(Wb,{attribution:" OSM contributors",url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),a.jsx(TD,{}),a.jsx(FD,{polygons:In.map(Be=>Be.polygon),activePolygon:an}),In.map(Be=>{const st=Be.id===kt;return a.jsx(Jb,{positions:Be.polygon,pathOptions:{color:st?Be.cor:"#94a3b8",fillColor:Be.cor,fillOpacity:st?.35:.12,weight:st?2:1},children:a.jsx(ev,{sticky:!0,children:Be.nome})},Be.id)})]})}),a.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto pr-1",children:T.length===0?a.jsx("div",{className:"text-xs text-gray-500",children:"Nenhuma zona cadastrada."}):T.map(Be=>{const st=Yt.get(Be.id),Et=K?st?`R$ ${Number(st.price||0).toFixed(2)}`:"Sem preco":"Selecione deposito",Nt=Be.id===kt;return a.jsxs("div",{className:`flex items-center justify-between gap-2 rounded border px-2 py-1 ${Nt?"border-blue-400 bg-blue-50":"border-gray-200"}`,children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:Be.cor||"#f97316"}}),a.jsx("span",{className:"text-xs font-semibold text-gray-800",children:Be.nome})]}),a.jsx("span",{className:`text-[11px] font-bold ${Nt?"text-blue-700":"text-gray-600"}`,children:Et})]},Be.id)})})]})]})]})})]}),a.jsxs("div",{className:"flex flex-col gap-3 mt-6 text-sm lg:flex-row lg:items-center",children:[We>0&&a.jsxs("div",{className:"flex items-center gap-2 text-amber-700 bg-amber-50 border border-amber-200 px-3 py-2 rounded",children:[a.jsx(gd,{className:"w-4 h-4"}),a.jsxs("span",{className:"font-semibold",children:["Pagamento pendente: R$ ",wt(We)]})]}),a.jsxs("div",{className:"flex justify-end gap-3 lg:ml-auto",children:[a.jsx("button",{onClick:it,className:"px-4 py-2 rounded border border-gray-300 text-purple-700 font-semibold",children:"Salvar Nota"}),a.jsx("button",{onClick:ut,className:"px-4 py-2 rounded border border-gray-300 text-purple-700 font-semibold",children:"Imprimir Nota"}),a.jsx("button",{onClick:()=>re(!0),className:"px-4 py-2 rounded border border-gray-300 text-purple-700 font-semibold",children:"Pre-visualizar Nota"}),a.jsx("button",{onClick:t,className:"px-4 py-2 rounded border border-gray-300 text-gray-700 font-semibold",children:"Cancelar"}),a.jsx("button",{onClick:wr,disabled:gt.length===0||!Ie,className:"px-4 py-2 rounded bg-blue-700 hover:bg-blue-800 text-white font-bold disabled:bg-gray-300 disabled:cursor-not-allowed",children:"Salvar O.S"})]})]}),xr&&St&&(()=>{const Be=St.preco_troca??St.preco_padrao,st=St.preco_completa??St.preco_padrao;return a.jsx("div",{className:"fixed inset-0 z-[80] bg-black/60 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md overflow-hidden",children:[a.jsxs("div",{className:"bg-orange-600 text-white px-4 py-3 flex items-center gap-2",children:[a.jsx("span",{className:"text-xl",children:""}),a.jsx("span",{className:"font-bold",children:"Tipo de Venda"})]}),a.jsxs("div",{className:"p-6",children:[a.jsxs("p",{className:"text-gray-700 mb-2",children:["Voc est vendendo: ",a.jsx("strong",{children:St.nome})]}),a.jsx("p",{className:"text-gray-600 text-sm mb-6",children:"Como ser a venda deste produto?"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("button",{onClick:()=>Vn("EXCHANGE"),className:"w-full p-4 rounded-lg border-2 border-green-500 bg-green-50 hover:bg-green-100 transition-colors text-left",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-2xl",children:""}),a.jsxs("div",{children:[a.jsx("div",{className:"font-bold text-green-800",children:"TROCA"}),a.jsx("div",{className:"text-sm text-green-700",children:"Cliente devolve casco vazio"})]})]}),a.jsx("div",{className:"text-right",children:a.jsxs("div",{className:"text-xl font-black text-green-700",children:["R$ ",Be.toFixed(2)]})})]})}),a.jsx("button",{onClick:()=>Vn("FULL"),className:"w-full p-4 rounded-lg border-2 border-blue-500 bg-blue-50 hover:bg-blue-100 transition-colors text-left",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-2xl",children:""}),a.jsxs("div",{children:[a.jsx("div",{className:"font-bold text-blue-800",children:"COMPLETA"}),a.jsx("div",{className:"text-sm text-blue-700",children:"Cliente leva o casco (cliente novo)"})]})]}),a.jsx("div",{className:"text-right",children:a.jsxs("div",{className:"text-xl font-black text-blue-700",children:["R$ ",st.toFixed(2)]})})]})})]})]}),a.jsx("div",{className:"bg-gray-50 px-4 py-3 flex justify-end",children:a.jsx("button",{onClick:Zr,className:"px-4 py-2 rounded border border-gray-300 text-gray-600 hover:bg-gray-100",children:"Cancelar"})})]})})})(),pe&&a.jsx(HQ,{onClose:()=>Ct(!1),onSave:qr}),on&&a.jsx("div",{className:"fixed inset-0 z-[70] bg-black/70 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-2xl h-[90vh] rounded shadow-2xl border border-gray-300 flex flex-col overflow-hidden",children:[a.jsxs("div",{className:"bg-gray-800 px-4 py-3 flex items-center justify-between text-white",children:[a.jsx("span",{className:"text-sm font-bold uppercase tracking-wide",children:"Pre-visualizacao da Nota"}),a.jsx("button",{onClick:()=>re(!1),className:"p-1.5 hover:text-gray-200",children:a.jsx(qn,{size:18})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4 bg-gray-100",children:a.jsx("div",{className:"bg-yellow-50 border border-gray-300 p-4 h-full font-mono text-xs text-black shadow-inner leading-tight",children:a.jsx("pre",{className:"whitespace-pre-wrap",children:yr()})})}),a.jsx("div",{className:"bg-white border-t border-gray-300 px-4 py-3 flex justify-end gap-2",children:a.jsx("button",{onClick:()=>re(!1),className:"px-4 py-2 rounded border border-gray-300 text-gray-700 font-semibold",children:"Fechar"})})]})})]})},RD=({onClose:t,currentUser:e})=>{const[r,n]=P.useState("list"),[i,l]=P.useState("PENDENTE"),[u,d]=P.useState([]),[h,m]=P.useState([]),[g,b]=P.useState([]),[N,w]=P.useState([]),[C,U]=P.useState([]),[T,S]=P.useState([]),[I,O]=P.useState(null),[M,ne]=P.useState(null),z=()=>{n("list"),O(null),ne(null)},oe=K=>Number(K||0).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),te=K=>{if(!K)return null;const ue=N.find(Q=>Q.id===K);return(ue==null?void 0:ue.nome)||(ue==null?void 0:ue.username)||K},X=async()=>{d(await yx()),n("list"),O(null),ne(null)};P.useEffect(()=>{let K=!0;return(async()=>{const[ue,Q,Ae,ee,_e]=await Promise.all([yx(),yc.getAll().catch(()=>[]),vC(),Mi.getAll().catch(()=>[]),nf.getAll().catch(()=>[])]);if(!K)return;const Ne=(Q||[]).map($m),q=(ee||[]).map($=>({id:$.id,nome:$.name,cargo:$.role,depositoId:$.deposit_id,ativo:$.active,username:$.username,permissoes:$.permissions||[]})),F=(_e||[]).map($=>({id:$.id,nome:$.name,ativo:$.active,endereco:$.address,cor:$.color})).filter($=>e!=null&&e.depositoId?$.id===e.depositoId:$.ativo!==!1),G=q.filter($=>{const V=String($.cargo??"").toUpperCase();return V.includes("ENTREG")||V.includes("MOTOR")?e!=null&&e.depositoId?$.depositoId===e.depositoId||$.depositoId===null:!0:!1});d(ue),m(Ne),b(Ae),w(q),U(F),S(G)})(),()=>{K=!1}},[r,e==null?void 0:e.depositoId,e==null?void 0:e.id]);const ge=P.useMemo(()=>u.filter(K=>i==="TODOS"?!0:i==="PENDENTE"?K.status==="PENDENTE"||K.status==="PENDENTE_ENTREGA":K.status===i).sort((K,ue)=>ue.dataHoraCriacao-K.dataHoraCriacao),[u,i]),Z=async(K,ue,Q)=>{if(!(ue==="CANCELADA"&&!confirm("Deseja realmente cancelar esta O.S?")))try{await UD(K,ue,Q,yC()||"Operador"),d(await yx())}catch(Ae){console.error(Ae),alert("No foi possvel atualizar o status da O.S. Verifique os dados e tente novamente.")}},W=K=>{O(K),n("create")},ae=()=>{O(null),n("create")};return r==="create"?a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:a.jsxs("div",{className:"w-full max-w-[1200px] h-[90vh] bg-white rounded shadow-2xl border border-gray-300 flex flex-col overflow-hidden",style:{"--app-bg":"#f7f7f7","--surface-bg":"#ffffff","--text-main":"#1f2937","--text-muted":"#4b5563","--border-color":"#cbd5e1","--primary":"#0b3a64"},children:[a.jsxs("div",{className:"bg-gray-800 px-5 py-3 border-b border-gray-300 flex justify-between items-center shrink-0 text-white",children:[a.jsxs("h2",{className:"text-lg font-bold uppercase tracking-wide flex items-center gap-2",children:[a.jsx(Ao,{className:"w-5 h-5 text-green-300"})," Nova Ordem de Servio"]}),a.jsx("button",{onClick:z,className:"text-gray-200 hover:text-white p-2 rounded",children:a.jsx(qn,{size:20})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4 bg-[#f2f2f2]",children:a.jsx("div",{className:"bg-white border border-gray-300 rounded-md h-full overflow-y-auto px-3 py-4 shadow-sm text-black",children:a.jsx(OD,{onCancel:z,onSuccess:X,initialData:I,currentUser:e})})})]})}):a.jsxs("div",{className:"fixed inset-0 bg-app z-50 flex flex-col animate-in slide-in-from-bottom-4 duration-300",children:[a.jsxs("div",{className:"bg-surface border-b border-bdr px-6 py-4 flex flex-col sm:flex-row justify-between items-center shadow-sm shrink-0 gap-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"bg-purple-500/10 p-2.5 rounded-xl border border-purple-500/20",children:a.jsx(nm,{className:"w-6 h-6 text-purple-600"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-black text-txt-main tracking-tight",children:"Gesto de Ordens de Servio"}),a.jsx("p",{className:"text-xs text-txt-muted font-bold uppercase tracking-widest",children:"Acompanhamento Operacional"})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("button",{onClick:ae,className:"bg-purple-600 hover:bg-purple-700 text-white px-5 py-2.5 rounded-xl font-black text-sm shadow-lg shadow-purple-500/20 flex items-center gap-2 transition-transform active:scale-95",children:[a.jsx(Ao,{className:"w-5 h-5"})," NOVA O.S"]}),a.jsx("div",{className:"h-8 w-px bg-bdr mx-2 hidden sm:block"}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-red-500/10 text-txt-muted hover:text-red-500 rounded-full transition-colors",children:a.jsx(qn,{className:"w-6 h-6"})})]})]}),a.jsx("div",{className:"bg-surface border-b border-bdr px-6",children:a.jsx("div",{className:"flex gap-6 overflow-x-auto",children:[{id:"PENDENTE",label:"Pendentes (Geral)",cor:"text-amber-500 border-amber-500",icon:gd},{id:"PENDENTE_ENTREGA",label:"Aguardando Entrega",cor:"text-orange-500 border-orange-500",icon:rm},{id:"EM_ANDAMENTO",label:"Em Trnsito/Andamento",cor:"text-blue-500 border-blue-500",icon:Qo},{id:"CONCLUIDA",label:"Concludas",cor:"text-green-500 border-green-500",icon:tA},{id:"CANCELADA",label:"Canceladas",cor:"text-red-500 border-red-500",icon:Qh},{id:"TODOS",label:"Todas",cor:"text-txt-main border-txt-main",icon:CS}].map(K=>{const ue=K.icon,Q=i===K.id;return a.jsxs("button",{onClick:()=>l(K.id),className:`pb-4 pt-4 text-sm font-bold border-b-4 transition-all flex items-center gap-2 whitespace-nowrap ${Q?K.cor:"border-transparent text-txt-muted hover:text-txt-main"}`,children:[a.jsx(ue,{className:"w-4 h-4"}),K.label]},K.id)})})}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-app",children:a.jsx("div",{className:"max-w-7xl mx-auto space-y-4",children:ge.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-txt-muted opacity-50",children:[a.jsx(nm,{className:"w-16 h-16 mb-4"}),a.jsx("p",{className:"font-bold text-lg",children:"Nenhuma O.S encontrada nesta categoria."})]}):ge.map(K=>a.jsxs("div",{className:"bg-surface rounded-2xl p-5 border border-bdr shadow-sm hover:shadow-md transition-all flex flex-col md:flex-row items-start md:items-center justify-between gap-6 group relative",children:[a.jsxs("div",{className:"absolute top-5 right-5 md:static md:order-last flex flex-col items-end gap-2",children:[a.jsx(QD,{createdAt:K.dataHoraCriacao,status:K.status}),a.jsxs("button",{onClick:()=>ne(K),className:"text-[10px] font-bold text-primary hover:underline flex items-center gap-1",children:[a.jsx(LS,{className:"w-3 h-3"})," Ver Histrico"]})]}),a.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[a.jsxs("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center text-lg font-black shrink-0 ${K.status==="PENDENTE"?"bg-amber-100 text-amber-600":K.status==="PENDENTE_ENTREGA"?"bg-orange-100 text-orange-600":K.status==="EM_ANDAMENTO"?"bg-blue-100 text-blue-600":K.status==="CONCLUIDA"?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:[K.status==="PENDENTE"&&a.jsx(gd,{className:"w-6 h-6"}),K.status==="PENDENTE_ENTREGA"&&a.jsx(rm,{className:"w-6 h-6"}),K.status==="EM_ANDAMENTO"&&a.jsx(Qo,{className:"w-6 h-6"}),K.status==="CONCLUIDA"&&a.jsx(tA,{className:"w-6 h-6"}),K.status==="CANCELADA"&&a.jsx(Qh,{className:"w-6 h-6"})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsxs("span",{className:"font-mono text-xs font-bold text-txt-muted bg-app px-2 py-0.5 rounded",children:["#",K.numeroOs]}),a.jsx("span",{className:"text-[10px] font-black uppercase text-txt-muted",children:new Date(K.dataHoraCriacao).toLocaleTimeString().slice(0,5)}),K.tipoAtendimento&&a.jsx("span",{className:"text-[9px] font-bold uppercase bg-primary/10 text-primary px-1.5 py-0.5 rounded",children:K.tipoAtendimento})]}),a.jsx("h3",{className:"font-black text-lg text-txt-main",children:K.clienteNome}),a.jsxs("div",{className:"flex items-center gap-1 text-xs text-txt-muted mb-2",children:[a.jsx(IA,{className:"w-3 h-3"}),a.jsx("span",{className:"truncate max-w-md",children:K.enderecoEntrega||"Endereo no informado"})]}),a.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:K.itens.map((ue,Q)=>{var Ae;return a.jsxs("span",{className:"text-xs font-bold text-txt-muted bg-app px-2 py-1 rounded border border-bdr",children:[ue.quantidade,"x ",(Ae=h.find(ee=>ee.id===ue.produtoId))==null?void 0:Ae.nome]},Q)})})]})]}),a.jsxs("div",{className:"flex flex-col items-end gap-3 min-w-[150px] mt-4 md:mt-0",children:[a.jsxs("span",{className:"text-xl font-black text-primary",children:["R$ ",K.total.toFixed(2)]}),a.jsx("div",{className:"flex items-center gap-2 opacity-100 transition-opacity",children:K.status!=="CANCELADA"&&K.status!=="CONCLUIDA"&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>W(K),className:"px-3 py-1.5 bg-surface border border-bdr hover:bg-app text-txt-main rounded-lg text-xs font-bold shadow-sm flex items-center gap-1",title:"Editar O.S",children:[a.jsx(Xh,{className:"w-3 h-3"})," Editar"]}),a.jsxs("button",{onClick:()=>Z(K.id,"CONCLUIDA","Conclusao manual"),className:"px-3 py-1.5 bg-green-500 hover:bg-green-600 text-white rounded-lg text-xs font-bold flex items-center gap-1 shadow-sm",title:"Concluir e lancar financeiro/estoque",children:["Concluir ",a.jsx(tA,{className:"w-3 h-3"})]}),a.jsx("button",{onClick:()=>Z(K.id,"CANCELADA","Cancelamento Manual"),className:"px-3 py-1.5 bg-app border border-bdr hover:bg-red-50 hover:text-red-500 text-txt-muted rounded-lg text-xs font-bold shadow-sm",children:"Cancelar"})]})})]})]},K.id))})}),M&&a.jsx("div",{className:"fixed inset-0 bg-black/60 z-[60] flex items-center justify-center p-4 backdrop-blur-sm animate-in fade-in",children:a.jsxs("div",{className:"bg-surface w-full max-w-3xl rounded-2xl shadow-2xl border border-bdr p-6 space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center border-b border-bdr pb-4",children:[a.jsxs("h3",{className:"text-lg font-black text-txt-main flex items-center gap-2",children:[a.jsx(Nm,{className:"w-5 h-5 text-primary"})," Detalhes da O.S #",M.numeroOs]}),a.jsx("button",{onClick:()=>ne(null),className:"p-1 hover:bg-app rounded-full",children:a.jsx(qn,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"rounded-xl border border-bdr bg-app px-4 py-3 space-y-2",children:[a.jsx("p",{className:"text-xs font-bold text-txt-muted uppercase",children:"Cliente"}),a.jsx("p",{className:"text-sm font-black text-txt-main",children:M.clienteNome}),a.jsx("p",{className:"text-xs text-txt-muted",children:M.enderecoEntrega||"Endereco nao informado"}),a.jsxs("div",{className:"flex gap-2 text-[10px] text-txt-muted uppercase font-bold",children:[a.jsx("span",{className:"bg-primary/10 text-primary px-2 py-1 rounded",children:M.tipoAtendimento}),M.entregadorId&&a.jsxs("span",{className:"bg-blue-500/10 text-blue-400 px-2 py-1 rounded",children:["Entregador: ",te(M.entregadorId)]})]})]}),a.jsxs("div",{className:"rounded-xl border border-bdr bg-app px-4 py-3 space-y-2",children:[a.jsx("p",{className:"text-xs font-bold text-txt-muted uppercase",children:"Resumo financeiro"}),a.jsxs("div",{className:"flex items-center justify-between text-sm font-black",children:[a.jsx("span",{className:"text-txt-muted",children:"Total"}),a.jsx("span",{className:"text-primary",children:oe(M.total)})]}),a.jsx("div",{className:"space-y-1",children:(M.pagamentos||[]).length===0?a.jsxs("div",{className:"flex items-center justify-between text-xs font-bold text-txt-muted bg-surface px-3 py-2 rounded border border-bdr",children:[a.jsx("span",{children:"Pagamento nao informado"}),a.jsx("span",{className:"text-txt-main",children:oe(0)})]}):(M.pagamentos||[]).map((K,ue)=>{const Q=K.formaPagamentoId??K.payment_method_id??K.paymentMethodId,Ae=K.valor??K.amount??K.value??0,ee=g.find(_e=>_e.id===Q);return a.jsxs("div",{className:"flex items-center justify-between text-xs font-bold text-txt-muted bg-surface px-3 py-2 rounded border border-bdr",children:[a.jsx("span",{children:(ee==null?void 0:ee.name)??(ee==null?void 0:ee.nome)??(Q||"Pagamento")}),a.jsx("span",{className:"text-txt-main",children:oe(Ae)})]},ue)})}),a.jsxs("div",{className:"text-[10px] text-txt-muted",children:["Status: ",M.status]})]})]}),a.jsxs("div",{className:"rounded-xl border border-bdr bg-app px-4 py-3 space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"text-xs font-bold text-txt-muted uppercase",children:"Itens"}),a.jsxs("span",{className:"text-[11px] font-bold text-primary",children:[(M.itens||[]).length," itens"]})]}),a.jsx("div",{className:"divide-y divide-bdr",children:(M.itens||[]).map((K,ue)=>{const Q=h.find(ee=>ee.id===K.produtoId),Ae=K.quantidade*K.precoUnitario;return a.jsxs("div",{className:"py-2 flex items-center justify-between text-sm",children:[a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"font-bold text-txt-main",children:(Q==null?void 0:Q.nome)||K.produtoId}),a.jsxs("span",{className:"text-[11px] text-txt-muted uppercase",children:["Qtd ",K.quantidade," - ",oe(K.precoUnitario)]})]}),a.jsx("span",{className:"font-black text-primary",children:oe(Ae)})]},ue)})})]}),a.jsxs("div",{className:"max-h-[45vh] overflow-y-auto",children:[a.jsx("p",{className:"text-xs font-bold text-txt-muted uppercase mb-2",children:"Linha do tempo"}),a.jsx(ID,{logs:M.historico||[]})]})]})})]})},DD=({onClose:t,onNavigate:e})=>{const[r,n]=P.useState(!1),[i,l]=P.useState(""),[u,d]=P.useState(!1),h=b=>{e&&e(b)},m=()=>{i!=="RESETAR TUDO"||!u||(VR(),window.location.reload())},g=({icon:b,title:N,desc:w,onClick:C,colorClass:U="text-primary"})=>a.jsxs("button",{onClick:C,className:"relative group w-full flex items-center justify-between p-6 bg-surface border border-bdr rounded-2xl hover:border-primary/50 hover:shadow-xl transition-all duration-300 overflow-hidden text-left",children:[a.jsxs("div",{className:"z-10 flex flex-col gap-3 max-w-[75%]",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`p-2.5 rounded-xl bg-app border border-bdr ${U} group-hover:scale-110 transition-transform duration-300`,children:a.jsx(b,{className:"w-5 h-5"})}),a.jsx("h3",{className:"font-black text-txt-main text-sm uppercase tracking-wide group-hover:text-primary transition-colors",children:N})]}),a.jsx("p",{className:"text-xs text-txt-muted font-medium leading-relaxed pl-1",children:w})]}),a.jsx("div",{className:`absolute -right-6 top-1/2 -translate-y-1/2 opacity-5 group-hover:opacity-20 transition-opacity transform group-hover:scale-110 group-hover:-rotate-12 duration-500 ${U}`,children:a.jsx(b,{className:"w-32 h-32"})}),a.jsx("div",{className:"absolute right-6 top-1/2 -translate-y-1/2 z-20 opacity-0 group-hover:opacity-100 transition-all duration-300 transform translate-x-4 group-hover:translate-x-0",children:a.jsx("div",{className:"bg-app p-2 rounded-full border border-bdr shadow-sm",children:a.jsx(Hb,{className:`w-5 h-5 ${U}`})})})]});return a.jsxs("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md z-50 flex items-center justify-center p-4 sm:p-8 animate-in fade-in duration-300",children:[a.jsxs("div",{className:"bg-app w-full h-full max-w-[1400px] rounded-[2rem] shadow-2xl flex flex-col overflow-hidden relative border border-bdr",children:[a.jsxs("div",{className:"bg-surface border-b border-bdr px-8 py-6 flex justify-between items-center shrink-0",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-2xl font-black text-txt-main tracking-tight flex items-center gap-3",children:[a.jsx(vd,{className:"w-8 h-8 text-primary animate-spin-slow"}),"Painel de Controle"]}),a.jsx("p",{className:"text-sm text-txt-muted font-bold mt-1",children:"Central Administrativa & Configuraes do Sistema"})]}),a.jsxs("button",{onClick:t,className:"group flex items-center gap-2 px-5 py-2.5 rounded-full border border-bdr hover:bg-red-50 hover:border-red-200 hover:text-red-500 transition-all text-txt-muted font-bold text-xs uppercase tracking-widest",children:[a.jsx("span",{children:"Fechar Painel"}),a.jsx("div",{className:"bg-txt-muted group-hover:bg-red-500 w-5 h-5 rounded-full flex items-center justify-center text-white transition-colors",children:a.jsx(qn,{className:"w-3 h-3"})})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-8 bg-app",children:a.jsxs("div",{className:"max-w-7xl mx-auto space-y-12",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-xs font-black text-primary uppercase tracking-[0.2em] flex items-center gap-2 border-b border-bdr pb-2",children:[a.jsx(N3,{className:"w-4 h-4"}),"Estrutura & Acessos"]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.jsx(g,{icon:FA,title:"Colaboradores",desc:"Gerencie acessos, logins e permisses de usurios por depsito.",onClick:()=>h("colaboradores"),colorClass:"text-blue-500"})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-xs font-black text-primary uppercase tracking-[0.2em] flex items-center gap-2 border-b border-bdr pb-2",children:[a.jsx(Px,{className:"w-4 h-4"}),"Financeiro & Regras de Venda"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx(g,{icon:P5,title:"Formas de Pagamento & Mquinas",desc:"Cadastre taxas de maquininhas, prazos de recebimento e mtodos aceitos.",onClick:()=>h("sales-modalities"),colorClass:"text-emerald-500"}),a.jsx(g,{icon:Oh,title:"Modalidades de Venda",desc:"Configure regras para Venda, Troca, Casco e como movimentam o estoque.",onClick:()=>h("transaction-modalities"),colorClass:"text-teal-500"}),a.jsx(g,{icon:Qo,title:"Taxas de Entrega",desc:"Defina zonas, bairros e valores de taxa de entrega por deposito.",onClick:()=>h("delivery-settings"),colorClass:"text-orange-500"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-xs font-black text-primary uppercase tracking-[0.2em] flex items-center gap-2 border-b border-bdr pb-2",children:[a.jsx(G5,{className:"w-4 h-4"}),"Segurana & Logs"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[a.jsx(g,{icon:Vb,title:"Centro de Alertas",desc:"Ative ou desative notificaes financeiras e operacionais.",onClick:()=>h("alertas"),colorClass:"text-orange-500"}),a.jsx(g,{icon:K5,title:"Auditoria Completa",desc:"Visualize o log detalhado de todas as aes realizadas no sistema.",onClick:()=>h("auditoria"),colorClass:"text-amber-500"}),a.jsxs("button",{onClick:()=>n(!0),className:"group relative flex flex-col items-center justify-center p-6 bg-red-50 border-2 border-red-100 rounded-2xl hover:bg-red-600 hover:border-red-600 transition-all duration-300 text-center overflow-hidden",children:[a.jsx("div",{className:"absolute right-0 top-0 opacity-5 group-hover:opacity-20 text-white transition-opacity transform translate-x-4 -translate-y-4",children:a.jsx(Hp,{className:"w-32 h-32"})}),a.jsx("div",{className:"bg-red-200 text-red-600 group-hover:bg-white group-hover:text-red-600 p-4 rounded-full mb-3 transition-colors z-10 shadow-sm",children:a.jsx(Hp,{className:"w-8 h-8"})}),a.jsx("h3",{className:"font-black text-red-700 group-hover:text-white text-sm uppercase tracking-widest mb-1 z-10 transition-colors",children:"Reset Geral"}),a.jsx("p",{className:"text-xs text-red-500 group-hover:text-red-100 leading-tight px-4 z-10 font-medium transition-colors",children:"Apagar todos os dados e reiniciar o sistema"})]})]})]})]})}),a.jsx("div",{className:"bg-app border-t border-bdr p-4 text-center",children:a.jsx("p",{className:"text-[10px] text-txt-muted font-bold uppercase tracking-widest opacity-60",children:"Sistema Verso 2.5.0  Acesso Administrativo Concedido"})})]}),r&&a.jsx("div",{className:"fixed inset-0 bg-red-950/80 backdrop-blur-sm z-[60] flex items-center justify-center p-4 animate-in fade-in duration-200",children:a.jsxs("div",{className:"bg-white w-full max-w-lg rounded-3xl shadow-2xl p-8 border-4 border-red-600 text-center space-y-6",children:[a.jsx("div",{className:"mx-auto w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mb-2 animate-bounce",children:a.jsx(Hp,{className:"w-10 h-10 text-red-600"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-black text-red-700 mb-2",children:"PERIGO!"}),a.jsxs("p",{className:"text-gray-600 font-medium",children:["Esta ao ir ",a.jsx("strong",{children:"APAGAR TODOS OS DADOS"})," do sistema: Estoque, Vendas, Clientes, Colaboradores e Configuraes."]}),a.jsx("p",{className:"text-red-600 font-bold text-sm mt-2 uppercase bg-red-50 inline-block px-3 py-1 rounded",children:"Esta ao  irreversvel."})]}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl text-left space-y-3 border border-gray-200 shadow-inner",children:[a.jsxs("label",{className:"block text-xs font-bold text-gray-500 uppercase",children:["Digite ",a.jsx("span",{className:"text-red-600",children:"RESETAR TUDO"})," para confirmar:"]}),a.jsx("input",{type:"text",value:i,onChange:b=>l(b.target.value),className:"w-full border-2 border-gray-300 rounded-lg p-3 font-black text-red-600 focus:border-red-600 outline-none uppercase placeholder:text-gray-300",placeholder:"RESETAR TUDO"}),a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer mt-2 select-none",children:[a.jsx("input",{type:"checkbox",checked:u,onChange:b=>d(b.target.checked),className:"w-5 h-5 accent-red-600"}),a.jsx("span",{className:"text-sm font-bold text-gray-700",children:"Entendo que perderei todos os dados."})]})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{onClick:()=>n(!1),className:"flex-1 py-4 font-bold text-gray-500 hover:bg-gray-100 rounded-xl transition-colors",children:"Cancelar"}),a.jsxs("button",{onClick:m,disabled:i!=="RESETAR TUDO"||!u,className:"flex-1 py-4 bg-red-600 hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed text-white font-black rounded-xl shadow-lg shadow-red-500/30 transition-all flex items-center justify-center gap-2",children:[a.jsx(aa,{className:"w-5 h-5"})," APAGAR TUDO"]})]})]})})]})},xl=t=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(t||0),Fp=({label:t,value:e,trend:r,trendValue:n,icon:i,color:l})=>a.jsxs("div",{className:"bg-surface p-5 rounded-xl shadow-sm border border-bdr relative overflow-hidden group transition-colors duration-300",children:[a.jsx("div",{className:`absolute right-0 top-0 p-4 opacity-5 group-hover:opacity-10 transition-opacity ${l}`,children:a.jsx(i,{className:"w-16 h-16"})}),a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("div",{className:`p-2 rounded-lg ${l.replace("text-","bg-").replace("600","100")} ${l} bg-opacity-10`,children:a.jsx(i,{className:"w-5 h-5"})}),a.jsx("span",{className:"text-txt-muted text-sm font-medium",children:t})]}),a.jsx("div",{className:"text-2xl font-bold text-txt-main mb-1",children:e}),r&&a.jsxs("div",{className:`flex items-center text-xs font-medium ${r==="up"?"text-green-500":"text-red-500"}`,children:[r==="up"?a.jsx(Mp,{className:"w-3 h-3 mr-1"}):a.jsx(D5,{className:"w-3 h-3 mr-1"}),n," vs. ontem"]})]}),MD=({onClose:t})=>{const[e,r]=P.useState("deposito"),[n,i]=P.useState([]),[l,u]=P.useState([]),[d,h]=P.useState([]),[m,g]=P.useState(!1),[b,N]=P.useState(null),[w,C]=P.useState(()=>new Date().toISOString().slice(0,10)),[U,T]=P.useState(()=>new Date().toISOString().slice(0,10)),S=z=>new Date(`${z}T00:00:00`).getTime(),I=z=>{if(!z)return 0;if(typeof z=="number")return z;if(typeof z=="string"){const te=z.trim();if(te&&!Number.isNaN(Number(te)))return Number(te)}const oe=new Date(z).getTime();return Number.isNaN(oe)?0:oe},O=z=>{const oe=z.historico_json??z.historico??z.history??[],te=I(z.data_hora_criacao??z.dataHoraCriacao??z.created_at_ms??z.created_at??z.createdAt??0),X=I(z.data_hora_conclusao??z.dataHoraConclusao??z.completed_at??z.completedAt??0),ge=normalizeDepositId(z);return{id:String(z.id??""),numeroOs:String(z.numero_os??z.numeroOs??z.order_number??z.orderNumber??z.number??z.id??""),depositoId:ge.depositoId,clienteId:z.cliente_id??z.clienteId??z.client_id??z.clientId??null,clienteNome:z.cliente_nome??z.clienteNome??z.client_name??z.clientName??"",entregadorId:z.entregador_id??z.entregadorId??z.driver_id??z.driverId??null,status:z.status??z.order_status??"PENDENTE",statusEntrega:z.status_entrega??z.statusEntrega??z.delivery_status??null,tipoAtendimento:z.tipo_atendimento??z.tipoAtendimento??z.service_type??"BALCAO",total:Number(z.total??z.total_amount??z.amount??0)||0,historico:Array.isArray(oe)?oe:[],createdAtMs:te,concludedAtMs:X}};P.useEffect(()=>{(async()=>{g(!0);try{const[oe,te,X]=await Promise.all([IR(),Gm(),TR()]),ge=S(w),Z=S(U)+1440*60*1e3-1,ae=oe.map(O).filter(K=>K.createdAtMs>=ge&&K.createdAtMs<=Z);i(ae),u(te),h(X)}catch(oe){console.error("Erro ao buscar dados do resumo:",oe),N(oe.message)}finally{g(!1)}})()},[w,U]);const M=P.useMemo(()=>{const z=new Map;l.forEach(ee=>{const _e=ee.nome??ee.name??ee.id??"";ee.id&&z.set(String(ee.id),String(_e))});const oe=new Map;d.forEach(ee=>{const _e=ee.nome??ee.name??ee.username??ee.id??"";ee.id&&oe.set(String(ee.id),String(_e))});const te=n.reduce((ee,_e)=>ee+(_e.total||0),0),X=n.filter(ee=>ee.status==="CONCLUIDA").length,ge=new Set(n.map(ee=>ee.clienteId||ee.clienteNome||"")).size,Z=n.filter(ee=>ee.statusEntrega==="CONCLUIDA").length,W=n.length?Math.round(Z/n.length*100):0,ae=n.reduce((ee,_e)=>{const q=normalizeDepositId(_e).depositoId||"SEM_DEP",F=z.get(String(q))||String(q);return ee[q]||(ee[q]={depositoId:String(q),depositoNome:F,count:0,deliveries:0,pickups:0,gross:0,discounts:0}),ee[q].count+=1,ee[q].gross+=_e.total||0,ee[q].deliveries+=_e.tipoAtendimento==="DELIVERY"?1:0,ee[q].pickups+=_e.tipoAtendimento==="BALCAO"?1:0,ee},{}),K=ee=>{const Ne=(Array.isArray(ee.historico)?ee.historico:[]).find(F=>String(F.acao??F.action??"").toLowerCase().includes("cri"));return((Ne==null?void 0:Ne.usuario)??(Ne==null?void 0:Ne.user)??(Ne==null?void 0:Ne.username)??(Ne==null?void 0:Ne.usuarioNome)??null)||"Sistema"},ue=n.reduce((ee,_e)=>{const Ne=K(_e);return ee[Ne]||(ee[Ne]={name:Ne,count:0,gross:0}),ee[Ne].count+=1,ee[Ne].gross+=_e.total||0,ee},{}),Q=n.reduce((ee,_e)=>{const Ne=_e.entregadorId?String(_e.entregadorId):"";if(!Ne)return ee;const q=oe.get(Ne)||Ne;return ee[Ne]||(ee[Ne]={id:Ne,name:q,count:0,gross:0}),ee[Ne].count+=1,ee[Ne].gross+=_e.total||0,ee},{}),Ae=Object.values(ae).reduce((ee,_e)=>(ee.count+=_e.count,ee.deliveries+=_e.deliveries,ee.pickups+=_e.pickups,ee.gross+=_e.gross,ee.discounts+=_e.discounts,ee),{count:0,deliveries:0,pickups:0,gross:0,discounts:0});return{totalSales:te,concluded:X,uniqueClients:ge,deliveryRate:W,byDeposit:Object.values(ae),bySeller:Object.values(ue),byDriver:Object.values(Q),consolidated:Ae}},[n,l,d]),ne=P.useMemo(()=>{const z=[];n.forEach(te=>{te.historico&&te.historico.forEach(X=>{z.push({osNum:te.numeroOs,log:X})})});const oe=te=>{if(typeof te=="number")return te;const X=new Date(te).getTime();return Number.isNaN(X)?0:X};return z.sort((te,X)=>oe(X.log.data)-oe(te.log.data)),z.slice(0,50)},[n]);return a.jsxs("div",{className:"fixed inset-0 bg-app z-50 flex flex-col animate-in slide-in-from-bottom-4 duration-300 transition-colors",children:[a.jsxs("div",{className:"bg-surface border-b border-bdr px-6 py-4 flex flex-col sm:flex-row justify-between items-start sm:items-center shadow-sm shrink-0 gap-4 transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"bg-indigo-600 p-2.5 rounded-xl shadow-md shadow-indigo-500/20",children:a.jsx(ph,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-txt-main tracking-tight",children:"Resumo Gerencial"}),a.jsx("p",{className:"text-sm text-txt-muted",children:"Viso geral de desempenho e estoque"})]})]}),a.jsxs("div",{className:"flex items-center gap-4 w-full sm:w-auto",children:[a.jsxs("div",{className:"flex items-center bg-app border border-bdr rounded-xl p-1 shadow-sm w-full sm:w-auto transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-2 px-3 border-r border-bdr",children:[a.jsx(Cm,{className:"w-4 h-4 text-txt-muted"}),a.jsx("input",{type:"date",className:"bg-transparent border-none text-xs font-bold text-txt-main focus:ring-0 p-0 w-28 appearance-none outline-none",value:w,onChange:z=>C(z.target.value)})]}),a.jsxs("div",{className:"flex items-center gap-2 px-3",children:[a.jsx("span",{className:"text-[10px] font-black text-txt-muted uppercase tracking-tighter",children:"at"}),a.jsx("input",{type:"date",className:"bg-transparent border-none text-xs font-bold text-txt-main focus:ring-0 p-0 w-28 appearance-none outline-none",value:U,onChange:z=>T(z.target.value)})]}),a.jsx("button",{className:"bg-indigo-600 hover:bg-indigo-700 text-white px-5 py-2 rounded-lg text-xs font-bold transition-all active:scale-95 shadow-sm ml-1",children:"Atualizar"})]}),a.jsx("button",{onClick:t,className:"p-2 bg-app hover:bg-red-50 text-txt-muted hover:text-red-500 rounded-full transition-colors shrink-0 border border-bdr",title:"Fechar",children:a.jsx(qn,{className:"w-6 h-6"})})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-8 bg-app transition-colors",children:a.jsxs("div",{className:"max-w-[1600px] mx-auto space-y-8",children:[m&&a.jsx("div",{className:"text-xs font-bold text-txt-muted",children:"Carregando dados do resumo..."}),!m&&b&&a.jsxs("div",{className:"text-xs font-bold text-red-500",children:["Erro ao carregar resumo: ",b]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xs font-bold text-txt-muted uppercase tracking-wider mb-4 px-1",children:"Indicadores do Perodo"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsx(Fp,{label:"Vendas Totais",value:xl(M.totalSales),trend:null,icon:q5,color:"text-emerald-600"}),a.jsx(Fp,{label:"Pedidos Concludos",value:M.concluded,trend:null,icon:lo,color:"text-blue-600"}),a.jsx(Fp,{label:"Novos Clientes",value:M.uniqueClients,trend:null,icon:FA,color:"text-violet-600"}),a.jsx(Fp,{label:"Entregas Realizadas",value:`${M.deliveryRate}%`,trend:null,icon:Qo,color:"text-orange-500"})]})]}),a.jsxs("div",{className:"bg-surface rounded-xl shadow-sm border border-bdr overflow-hidden transition-colors",children:[a.jsx("div",{className:"border-b border-bdr px-6 pt-4 bg-app/30",children:a.jsx("div",{className:"flex gap-8",children:[{id:"deposito",label:"Por Depsito"},{id:"vendedor",label:"Por Vendedor"},{id:"entregador",label:"Por Entregador"},{id:"logs",label:"Rastreio & Logs"}].map(z=>a.jsxs("button",{onClick:()=>r(z.id),className:`pb-4 text-sm font-bold transition-all relative ${e===z.id?"text-indigo-600":"text-txt-muted hover:text-txt-main"}`,children:[z.label,e===z.id&&a.jsx("div",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-indigo-600 rounded-t-full"})]},z.id))})}),a.jsx("div",{className:"p-6",children:e==="logs"?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-sm font-black text-txt-main uppercase flex items-center gap-2",children:[a.jsx(Nm,{className:"w-4 h-4 text-orange-500"}),"ltimas Atividades do Sistema"]}),a.jsx("div",{className:"border border-bdr rounded-xl overflow-hidden",children:a.jsxs("table",{className:"w-full text-sm text-left",children:[a.jsx("thead",{className:"bg-app text-xs font-bold text-txt-muted uppercase border-b border-bdr",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3",children:"Data / Hora"}),a.jsx("th",{className:"px-6 py-3",children:"O.S #"}),a.jsx("th",{className:"px-6 py-3",children:"Usurio"}),a.jsx("th",{className:"px-6 py-3",children:"Ao"}),a.jsx("th",{className:"px-6 py-3",children:"Detalhes"})]})}),a.jsxs("tbody",{className:"divide-y divide-bdr",children:[ne.map((z,oe)=>a.jsxs("tr",{className:"hover:bg-app transition-colors",children:[a.jsx("td",{className:"px-6 py-3 font-mono text-xs text-txt-muted",children:new Date(z.log.data).toLocaleString()}),a.jsx("td",{className:"px-6 py-3 font-bold text-indigo-600",children:z.osNum}),a.jsx("td",{className:"px-6 py-3 font-medium text-txt-main",children:z.log.usuario}),a.jsx("td",{className:"px-6 py-3",children:a.jsx("span",{className:`px-2 py-1 rounded text-[10px] font-black uppercase ${z.log.acao.includes("Edio")?"bg-amber-100 text-amber-700":z.log.acao.includes("Criao")?"bg-green-100 text-green-700":"bg-blue-100 text-blue-700"}`,children:z.log.acao})}),a.jsx("td",{className:"px-6 py-3 text-txt-muted italic",children:z.log.detalhe})]},oe)),ne.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"p-8 text-center text-txt-muted",children:"Nenhum registro recente encontrado."})})]})]})})]}):e==="deposito"?a.jsxs("table",{className:"w-full text-sm text-left",children:[a.jsx("thead",{className:"bg-app text-xs uppercase font-bold text-txt-muted border-b border-bdr",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 rounded-l-lg",children:"Depsito"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"Qtd. O.S"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"Entregas"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"Balco"}),a.jsx("th",{className:"px-4 py-3 text-right",children:"Valor Bruto"}),a.jsx("th",{className:"px-4 py-3 text-right",children:"Descontos"}),a.jsx("th",{className:"px-4 py-3 rounded-r-lg text-right",children:"Valor Lquido"})]})}),a.jsxs("tbody",{className:"divide-y divide-bdr",children:[M.byDeposit.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:7,className:"px-4 py-6 text-center text-txt-muted font-medium",children:"Nenhum dado encontrado para o perodo."})}),M.byDeposit.map(z=>a.jsxs("tr",{className:"hover:bg-app transition-colors",children:[a.jsx("td",{className:"px-4 py-4 font-bold text-txt-main",children:z.depositoNome}),a.jsx("td",{className:"px-4 py-4 text-center font-medium text-txt-main",children:z.count}),a.jsx("td",{className:"px-4 py-4 text-center font-medium text-txt-main",children:z.deliveries}),a.jsx("td",{className:"px-4 py-4 text-center font-medium text-txt-main",children:z.pickups}),a.jsx("td",{className:"px-4 py-4 text-right font-medium text-txt-main",children:xl(z.gross)}),a.jsx("td",{className:"px-4 py-4 text-right text-red-500 font-bold",children:z.discounts?`-${xl(z.discounts)}`:xl(0)}),a.jsx("td",{className:"px-4 py-4 font-black text-txt-main text-right",children:xl(z.gross-z.discounts)})]},z.depositoId))]}),M.byDeposit.length>0&&a.jsx("tfoot",{className:"border-t-2 border-bdr bg-app/50",children:a.jsxs("tr",{className:"font-black text-txt-main",children:[a.jsx("td",{className:"px-4 py-5 text-indigo-600 uppercase text-xs",children:"Total Consolidado"}),a.jsx("td",{className:"px-4 py-5 text-center",children:M.consolidated.count}),a.jsx("td",{className:"px-4 py-5 text-center",children:M.consolidated.deliveries}),a.jsx("td",{className:"px-4 py-5 text-center",children:M.consolidated.pickups}),a.jsx("td",{className:"px-4 py-5 text-right text-txt-muted",children:xl(M.consolidated.gross)}),a.jsx("td",{className:"px-4 py-5 text-right text-red-600",children:M.consolidated.discounts?`-${xl(M.consolidated.discounts)}`:xl(0)}),a.jsx("td",{className:"px-4 py-5 text-indigo-600 text-lg text-right",children:xl(M.consolidated.gross-M.consolidated.discounts)})]})})]}):e==="vendedor"?a.jsxs("table",{className:"w-full text-sm text-left",children:[a.jsx("thead",{className:"bg-app text-xs uppercase font-bold text-txt-muted border-b border-bdr",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 rounded-l-lg",children:"Vendedor"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"Qtd. O.S"}),a.jsx("th",{className:"px-4 py-3 text-right rounded-r-lg",children:"Valor Bruto"})]})}),a.jsxs("tbody",{className:"divide-y divide-bdr",children:[M.bySeller.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:3,className:"px-4 py-6 text-center text-txt-muted font-medium",children:"Nenhum dado encontrado para o periodo."})}),M.bySeller.map(z=>a.jsxs("tr",{className:"hover:bg-app transition-colors",children:[a.jsx("td",{className:"px-4 py-4 font-bold text-txt-main",children:z.name}),a.jsx("td",{className:"px-4 py-4 text-center font-medium text-txt-main",children:z.count}),a.jsx("td",{className:"px-4 py-4 text-right font-medium text-txt-main",children:xl(z.gross)})]},z.name))]})]}):e==="entregador"?a.jsxs("table",{className:"w-full text-sm text-left",children:[a.jsx("thead",{className:"bg-app text-xs uppercase font-bold text-txt-muted border-b border-bdr",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 rounded-l-lg",children:"Entregador"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"Qtd. O.S"}),a.jsx("th",{className:"px-4 py-3 text-right rounded-r-lg",children:"Valor Bruto"})]})}),a.jsxs("tbody",{className:"divide-y divide-bdr",children:[M.byDriver.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:3,className:"px-4 py-6 text-center text-txt-muted font-medium",children:"Nenhum dado encontrado para o periodo."})}),M.byDriver.map(z=>a.jsxs("tr",{className:"hover:bg-app transition-colors",children:[a.jsx("td",{className:"px-4 py-4 font-bold text-txt-main",children:z.name}),a.jsx("td",{className:"px-4 py-4 text-center font-medium text-txt-main",children:z.count}),a.jsx("td",{className:"px-4 py-4 text-right font-medium text-txt-main",children:xl(z.gross)})]},z.id))]})]}):a.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-txt-muted bg-app/50 rounded-2xl border border-dashed border-bdr",children:[a.jsx("div",{className:"bg-surface p-6 rounded-full mb-4 shadow-sm border border-bdr",children:a.jsx(rA,{className:"w-10 h-10 text-txt-muted"})}),a.jsx("p",{className:"font-bold text-txt-muted",children:"Nenhum dado encontrado"}),a.jsx("p",{className:"text-xs mt-1",children:"Selecione um filtro ou altere a data para visualizar os detalhes desta aba."})]})})]})]})})]})};function PD(){return crypto.randomUUID()}function HD({isOpen:t,onClose:e}){const[r,n]=P.useState(""),[i,l]=P.useState(""),[u,d]=P.useState(""),[h,m]=P.useState("FIXA"),[g,b]=P.useState(0),[N,w]=P.useState(!1),[C,U]=P.useState(!1);if(!t)return null;const T=async()=>{if(!r||!i||!u){alert("Preencha os campos obrigatrios.");return}try{U(!0);const S=new Date().toISOString(),I={id:PD(),description:r,amount:parseFloat(i),due_date:u,status:N?"PAGO":"PENDENTE",paid_date:N?S:null,category:h,is_fixed:h==="FIXA"||h==="SALARIO",deposit_id:null,alert_days_before:Number(g),created_at:S,updated_at:S};await db.expenses.put(I),await enqueueOutboxEvent({entity:"expenses",action:"UPSERT",entity_id:I.id,payload_json:I}),alert("Despesa salva com sucesso!"),e()}catch(S){console.error("Erro ao salvar despesa:",S),alert("Erro ao salvar.")}finally{U(!1)}};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg w-full max-w-md text-white",children:[a.jsx("h2",{className:"text-xl font-bold mb-4",children:"Nova Despesa"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1",children:"Descrio"}),a.jsx("input",{className:"w-full p-2 rounded bg-gray-700 border border-gray-600",value:r,onChange:S=>n(S.target.value),placeholder:"Ex: Conta de Luz"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1",children:"Valor (R$)"}),a.jsx("input",{type:"number",className:"w-full p-2 rounded bg-gray-700 border border-gray-600",value:i,onChange:S=>l(S.target.value),placeholder:"0.00"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1",children:"Vencimento"}),a.jsx("input",{type:"date",className:"w-full p-2 rounded bg-gray-700 border border-gray-600",value:u,onChange:S=>d(S.target.value)})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1",children:"Categoria"}),a.jsxs("select",{className:"w-full p-2 rounded bg-gray-700 border border-gray-600",value:h,onChange:S=>m(S.target.value),children:[a.jsx("option",{value:"FIXA",children:"Despesa Fixa"}),a.jsx("option",{value:"VARIAVEL",children:"Despesa Varivel"}),a.jsx("option",{value:"SALARIO",children:"Salrio / Pessoal"}),a.jsx("option",{value:"IMPOSTO",children:"Imposto"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1",children:"Alerta Vencimento"}),a.jsxs("select",{className:"w-full p-2 rounded bg-gray-700 border border-gray-600",value:g,onChange:S=>b(Number(S.target.value)),children:[a.jsx("option",{value:0,children:"Sem alerta"}),a.jsx("option",{value:1,children:"1 dia antes"}),a.jsx("option",{value:2,children:"2 dias antes"}),a.jsx("option",{value:3,children:"3 dias antes"})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[a.jsx("input",{type:"checkbox",id:"paidCheck",checked:N,onChange:S=>w(S.target.checked),className:"w-4 h-4"}),a.jsx("label",{htmlFor:"paidCheck",className:"text-sm cursor-pointer select-none",children:"J est pago? (Baixa automtica)"})]})]}),a.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[a.jsx("button",{onClick:e,className:"px-4 py-2 rounded bg-gray-600 hover:bg-gray-500",children:"Cancelar"}),a.jsx("button",{onClick:T,disabled:C,className:"px-4 py-2 rounded bg-orange-500 hover:bg-orange-600 disabled:opacity-50",children:C?"Salvando...":"Salvar Despesa"})]})]})})}function qD({isOpen:t,onClose:e}){const[r,n]=P.useState(""),[i,l]=P.useState(""),[u,d]=P.useState(""),[h,m]=P.useState(""),[g,b]=P.useState(!1),[N,w]=P.useState(1),[C,U]=P.useState([]),[T,S]=P.useState(!1);if(P.useEffect(()=>{t&&db.clients.toArray().then(O=>U(O))},[t]),!t)return null;const I=async()=>{var O;if(!r||!i||!u){alert("Preencha descrio, valor e vencimento.");return}try{S(!0);const M=parseFloat(i);if(Number.isNaN(M)||M<=0){alert("Informe um valor vlido.");return}const ne=new Date(`${u}T00:00:00`).getTime();if(!Number.isFinite(ne)){alert("Data de vencimento invlida.");return}await createReceivable({os_id:null,payment_method_id:null,deposit_id:null,devedor_nome:h?((O=C.find(z=>z.id===h))==null?void 0:O.nome)||"Cliente":r,valor_total:M,status:"ABERTO",criado_em:Date.now(),vencimento_em:ne,description:r,client_id:h||null,is_personal:g,alert_days_before:N,installment_no:1,installments_total:1}),alert("Conta a receber criada com sucesso!"),e(),n(""),l(""),d(""),m(""),b(!1),w(1)}catch(M){console.error(M),alert("Erro ao salvar.")}finally{S(!1)}};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg w-full max-w-md text-white",children:[a.jsx("h2",{className:"text-xl font-bold mb-4 text-green-400",children:"Nova Conta a Receber"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1",children:"Descrio"}),a.jsx("input",{className:"w-full p-2 rounded bg-gray-700 border border-gray-600",value:r,onChange:O=>n(O.target.value),placeholder:"Ex: Emprstimo, Venda sem nota..."})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1",children:"Valor (R$)"}),a.jsx("input",{type:"number",className:"w-full p-2 rounded bg-gray-700 border border-gray-600",value:i,onChange:O=>l(O.target.value),placeholder:"0.00"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1",children:"Vencimento"}),a.jsx("input",{type:"date",className:"w-full p-2 rounded bg-gray-700 border border-gray-600",value:u,onChange:O=>d(O.target.value)})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1",children:"Cliente (Opcional)"}),a.jsxs("select",{className:"w-full p-2 rounded bg-gray-700 border border-gray-600",value:h,onChange:O=>m(O.target.value),children:[a.jsx("option",{value:"",children:"Selecione um cliente..."}),C.map(O=>a.jsx("option",{value:O.id,children:O.nome},O.id))]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[a.jsx("input",{type:"checkbox",className:"w-4 h-4",checked:g,onChange:O=>b(O.target.checked)}),"Marcar como conta pessoal"]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1",children:"Alertar antes"}),a.jsxs("select",{className:"w-full p-2 rounded bg-gray-700 border border-gray-600",value:N,onChange:O=>w(Number(O.target.value)),children:[a.jsx("option",{value:0,children:"Sem alerta"}),a.jsx("option",{value:1,children:"1 dia"}),a.jsx("option",{value:2,children:"2 dias"}),a.jsx("option",{value:3,children:"3 dias"}),a.jsx("option",{value:5,children:"5 dias"})]})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[a.jsx("button",{onClick:e,className:"px-4 py-2 rounded bg-gray-600 hover:bg-gray-500",children:"Cancelar"}),a.jsx("button",{onClick:I,disabled:T,className:"px-4 py-2 rounded bg-green-600 hover:bg-green-700 disabled:opacity-50",children:T?"Salvando...":"Criar Conta"})]})]})})}const s5=2e4,Nx="00000000-0000-0000-0000-000000000001";function zD({isOpen:t,onClose:e,defaultGoal:r}){const[n,i]=P.useState(""),[l,u]=P.useState(""),[d,h]=P.useState(!1);if(P.useEffect(()=>{if(!t)return;(async()=>{const b=db.financial_settings,C=await b.get(Nx)??await b.toCollection().first()??null,U=(C==null?void 0:C.id)??Nx;u(U),(C==null?void 0:C.monthly_goal)!=null?i(String(C.monthly_goal)):r!=null?i(String(r)):i(String(s5))})()},[t,r]),!t)return null;const m=async()=>{const g=Number(n);if(Number.isNaN(g)||g<0){alert("Informe um valor vlido para a meta mensal.");return}try{h(!0);const b=Nx,N={id:b,monthly_goal:g,updated_at:new Date().toISOString()};await db.financial_settings.put(N),await enqueueOutboxEvent({entity:"financial_settings",action:"UPSERT",entity_id:b,payload_json:N}),e()}catch(b){console.error("Erro ao salvar meta mensal",b),alert("No foi possvel salvar a meta.")}finally{h(!1)}};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:a.jsxs("div",{className:"w-full max-w-md rounded-xl bg-surface border border-bdr shadow-2xl p-6 space-y-6 animate-in zoom-in-95 duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-black uppercase tracking-widest text-txt-muted",children:"Configurao"}),a.jsx("h2",{className:"text-xl font-black text-txt-main",children:"Meta Mensal de Faturamento"})]}),a.jsx("button",{onClick:e,className:"text-txt-muted hover:text-txt-main transition-colors","aria-label":"Fechar",children:""})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-bold text-txt-muted uppercase tracking-wide",children:"Valor da Meta (R$)"}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-txt-muted font-bold",children:"R$"}),a.jsx("input",{type:"number",min:"0",step:"100",className:"w-full bg-app border border-bdr rounded-xl p-3 pl-10 text-lg font-black text-txt-main focus:ring-2 focus:ring-yellow-500 outline-none",value:n,onChange:g=>i(g.target.value),placeholder:String(s5)})]}),a.jsx("p",{className:"text-[11px] text-txt-muted font-medium",children:'Defina o alvo mensal que aparecer no carto de "Meta Mensal" e ser sincronizado com o servidor.'})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[a.jsx("button",{onClick:e,className:"px-4 py-2 rounded-lg border border-bdr text-txt-muted hover:text-txt-main hover:border-txt-main/40 transition-colors",type:"button",children:"Cancelar"}),a.jsx("button",{onClick:m,disabled:d,className:"px-5 py-2 rounded-lg bg-yellow-500 hover:bg-yellow-600 text-white font-black uppercase tracking-wide shadow-lg shadow-yellow-500/20 disabled:opacity-60",type:"button",children:d?"Salvando...":"Salvar"})]})]})})}const a5={bank_name:"",wallet:"",our_number:"",barcode:"",digitable_line:"",pdf_url:"",status:"PENDENTE",due_date:""},KD={PENDENTE:{label:"Pendente",badge:"bg-amber-500/10 text-amber-500 border-amber-500/30"},GERADO:{label:"Gerado",badge:"bg-yellow-500/10 text-yellow-500 border-yellow-500/30"},ENVIADO:{label:"Enviado",badge:"bg-blue-500/10 text-blue-400 border-blue-500/30"},PAGO:{label:"Pago",badge:"bg-green-500/10 text-green-500 border-green-500/30"},CANCELADO:{label:"Cancelado",badge:"bg-red-500/10 text-red-500 border-red-500/30"}},Cx=t=>t?t.slice(0,10):"",GD=t=>t.toLocaleString("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:2}),VD=({receivable:t,onClose:e,onSaved:r})=>{const[n,i]=P.useState(!0),[l,u]=P.useState(!1),[d,h]=P.useState(!1),[m,g]=P.useState(null),[b,N]=P.useState(null),[w,C]=P.useState({...a5}),[U,T]=P.useState(!1),[S,I]=P.useState(!1);P.useEffect(()=>{let te=!0;return(async()=>{i(!0),g(null);try{const ge=await boletosRepo.getByReceivableId(t.id);if(!te)return;N(ge),ge?(C({bank_name:ge.bank_name??"",wallet:ge.wallet??"",our_number:ge.our_number??"",barcode:ge.barcode??"",digitable_line:ge.digitable_line??"",pdf_url:ge.pdf_url??"",status:ge.status??"PENDENTE",due_date:Cx(ge.due_date)||Cx(new Date(t.vencimento_em).toISOString())}),T(!1)):(C({...a5,due_date:Cx(new Date(t.vencimento_em).toISOString())}),T(!0))}catch{if(!te)return;g("Nao foi possivel carregar o boleto."),N(null),T(!0)}finally{te&&i(!1)}})(),()=>{te=!1}},[t.id,t.vencimento_em]);const O=P.useMemo(()=>{const te=(b==null?void 0:b.status)??"PENDENTE";return KD[te]},[b==null?void 0:b.status]),M=(te,X)=>{C(ge=>({...ge,[te]:X}))},ne=async()=>{if(g(null),!w.bank_name||!w.wallet||!w.our_number||!w.digitable_line){g("Preencha banco, carteira, nosso numero e linha digitavel.");return}try{u(!0);const te={id:b==null?void 0:b.id,receivable_id:t.id,bank_name:w.bank_name.trim(),wallet:w.wallet.trim(),our_number:w.our_number.trim(),barcode:w.barcode.trim()||null,digitable_line:w.digitable_line.trim(),pdf_url:w.pdf_url.trim()||null,status:w.status||"PENDENTE",due_date:w.due_date||null},X=await boletosRepo.upsert(te);N(X),T(!1),r==null||r(X)}catch(te){console.error(te),g("Nao foi possivel salvar o boleto.")}finally{u(!1)}},z=async()=>{var te;if(b!=null&&b.digitable_line)try{await((te=navigator.clipboard)==null?void 0:te.writeText(b.digitable_line)),I(!0),setTimeout(()=>I(!1),1500)}catch{g("Falha ao copiar a linha digitavel.")}},oe=async()=>{if(b!=null&&b.id){g(null);try{h(!0);const te=await boletosRepo.updateStatus(b.id,"PAGO");await updateReceivable(t.id,{status:"PAGO",valor_pago:t.valor_total}),N(te),r==null||r(te)}catch(te){console.error(te),g("Nao foi possivel marcar como pago.")}finally{h(!1)}}};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:a.jsxs("div",{className:"w-full max-w-3xl rounded-2xl border border-bdr bg-surface shadow-2xl",children:[a.jsxs("div",{className:"flex items-center justify-between border-b border-bdr px-6 py-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"rounded-lg bg-yellow-500/10 p-2 border border-yellow-500/20",children:a.jsx(Ox,{className:"h-5 w-5 text-yellow-500"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[11px] font-black uppercase tracking-widest text-txt-muted",children:"Gestao de Boleto"}),a.jsx("h3",{className:"text-lg font-black text-txt-main",children:U||!b?"Cadastrar boleto":"Resumo do boleto"}),a.jsxs("p",{className:"text-xs text-txt-muted font-semibold",children:["Conta: ",t.description||t.devedor_nome||"Conta"]}),a.jsxs("p",{className:"text-[11px] text-txt-muted",children:["Valor ",GD(t.valor_total)," | Venc. ",new Date(t.vencimento_em).toLocaleDateString("pt-BR")]})]})]}),a.jsx("button",{onClick:e,className:"rounded-full p-2 text-txt-muted hover:bg-app hover:text-txt-main transition-colors",title:"Fechar",children:a.jsx(qn,{className:"h-5 w-5"})})]}),n?a.jsxs("div",{className:"px-6 py-6 space-y-4 animate-pulse",children:[a.jsx("div",{className:"h-5 w-40 rounded bg-app"}),a.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[a.jsx("div",{className:"h-20 rounded bg-app"}),a.jsx("div",{className:"h-20 rounded bg-app"})]}),a.jsx("div",{className:"h-24 rounded bg-app"})]}):a.jsxs("div",{className:"px-6 py-4 space-y-4",children:[m&&a.jsx("div",{className:"rounded-lg border border-red-500/40 bg-red-500/10 px-4 py-3 text-sm text-red-200",children:m}),U||!b?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-bold uppercase tracking-wide text-txt-muted",children:"Banco"}),a.jsx("input",{className:"w-full rounded-lg border border-bdr bg-app px-3 py-2 text-sm text-txt-main focus:border-yellow-600 focus:outline-none",value:w.bank_name,onChange:te=>M("bank_name",te.target.value),placeholder:"Banco do Brasil"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-bold uppercase tracking-wide text-txt-muted",children:"Carteira"}),a.jsx("input",{className:"w-full rounded-lg border border-bdr bg-app px-3 py-2 text-sm text-txt-main focus:border-yellow-600 focus:outline-none",value:w.wallet,onChange:te=>M("wallet",te.target.value),placeholder:"17/019"})]})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-bold uppercase tracking-wide text-txt-muted",children:"Nosso numero"}),a.jsx("input",{className:"w-full rounded-lg border border-bdr bg-app px-3 py-2 text-sm text-txt-main focus:border-yellow-600 focus:outline-none",value:w.our_number,onChange:te=>M("our_number",te.target.value),placeholder:"Identificador principal"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-bold uppercase tracking-wide text-txt-muted",children:"Codigo de barras"}),a.jsx("input",{className:"w-full rounded-lg border border-bdr bg-app px-3 py-2 text-sm text-txt-main focus:border-yellow-600 focus:outline-none",value:w.barcode,onChange:te=>M("barcode",te.target.value),placeholder:"Opcional"})]})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-bold uppercase tracking-wide text-txt-muted",children:"Linha digitavel"}),a.jsx("input",{className:"w-full rounded-lg border border-bdr bg-app px-3 py-2 text-sm text-txt-main focus:border-yellow-600 focus:outline-none",value:w.digitable_line,onChange:te=>M("digitable_line",te.target.value),placeholder:"00000.00000 00000.000000 00000.000000 0 00000000000000"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-bold uppercase tracking-wide text-txt-muted",children:"Link PDF"}),a.jsx("input",{className:"w-full rounded-lg border border-bdr bg-app px-3 py-2 text-sm text-txt-main focus:border-yellow-600 focus:outline-none",value:w.pdf_url,onChange:te=>M("pdf_url",te.target.value),placeholder:"https://..."})]})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-bold uppercase tracking-wide text-txt-muted",children:"Vencimento"}),a.jsx("input",{type:"date",className:"w-full rounded-lg border border-bdr bg-app px-3 py-2 text-sm text-txt-main focus:border-yellow-600 focus:outline-none",value:w.due_date,onChange:te=>M("due_date",te.target.value)})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-bold uppercase tracking-wide text-txt-muted",children:"Status"}),a.jsxs("select",{className:"w-full rounded-lg border border-bdr bg-app px-3 py-2 text-sm text-txt-main focus:border-yellow-600 focus:outline-none",value:w.status,onChange:te=>M("status",te.target.value),children:[a.jsx("option",{value:"PENDENTE",children:"Pendente"}),a.jsx("option",{value:"GERADO",children:"Gerado"}),a.jsx("option",{value:"ENVIADO",children:"Enviado"}),a.jsx("option",{value:"PAGO",children:"Pago"}),a.jsx("option",{value:"CANCELADO",children:"Cancelado"})]})]})]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{className:"rounded-xl border border-bdr bg-app p-4",children:[a.jsx("div",{className:"text-xs font-bold uppercase tracking-wide text-txt-muted",children:"Banco"}),a.jsx("div",{className:"text-sm font-black text-txt-main",children:b.bank_name||"-"}),a.jsx("div",{className:"mt-3 text-xs font-bold uppercase tracking-wide text-txt-muted",children:"Carteira"}),a.jsx("div",{className:"text-sm font-semibold text-txt-main",children:b.wallet||"-"})]}),a.jsxs("div",{className:"rounded-xl border border-bdr bg-app p-4",children:[a.jsx("div",{className:"text-xs font-bold uppercase tracking-wide text-txt-muted",children:"Status"}),a.jsx("div",{className:`inline-flex items-center rounded border px-2 py-1 text-[10px] font-black uppercase ${O.badge}`,children:O.label}),a.jsx("div",{className:"mt-3 text-xs font-bold uppercase tracking-wide text-txt-muted",children:"Nosso numero"}),a.jsx("div",{className:"text-lg font-black text-txt-main",children:b.our_number||"-"})]})]}),a.jsxs("div",{className:"rounded-xl border border-bdr bg-app p-4 space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between gap-3",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-xs font-bold uppercase tracking-wide text-txt-muted",children:"Linha digitavel"}),a.jsx("div",{className:"font-mono text-xs text-txt-main break-all",children:b.digitable_line||"-"})]}),a.jsxs("button",{onClick:z,className:"inline-flex items-center gap-2 rounded-lg border border-bdr bg-surface px-3 py-2 text-xs font-bold text-txt-muted hover:text-txt-main",disabled:!b.digitable_line,children:[S?a.jsx(hc,{className:"h-4 w-4"}):a.jsx(iS,{className:"h-4 w-4"}),S?"Copiado":"Copiar"]})]}),a.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-xs font-bold uppercase tracking-wide text-txt-muted",children:"Codigo de barras"}),a.jsx("div",{className:"text-sm text-txt-main",children:b.barcode||"-"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs font-bold uppercase tracking-wide text-txt-muted",children:"Vencimento"}),a.jsx("div",{className:"text-sm text-txt-main",children:b.due_date?new Date(b.due_date).toLocaleDateString("pt-BR"):"-"})]})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[b.pdf_url&&a.jsxs("a",{href:b.pdf_url,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 rounded-lg border border-bdr bg-app px-3 py-2 text-xs font-bold text-txt-muted hover:text-txt-main",children:[a.jsx(pS,{className:"h-4 w-4"}),"Ver PDF"]}),a.jsxs("button",{onClick:()=>T(!0),className:"inline-flex items-center gap-2 rounded-lg border border-bdr bg-app px-3 py-2 text-xs font-bold text-txt-muted hover:text-txt-main",children:[a.jsx(Kb,{className:"h-4 w-4"}),"Editar"]}),a.jsxs("button",{onClick:oe,className:"inline-flex items-center gap-2 rounded-lg bg-green-600 px-3 py-2 text-xs font-black uppercase tracking-wide text-white hover:bg-green-700 disabled:opacity-60",disabled:d||b.status==="PAGO",children:[d?a.jsx(Yo,{className:"h-4 w-4 animate-spin"}):a.jsx(hc,{className:"h-4 w-4"}),"Marcar como pago"]})]})]})]}),a.jsxs("div",{className:"flex items-center justify-end gap-3 border-t border-bdr px-6 py-4",children:[a.jsx("button",{onClick:e,className:"rounded-lg border border-bdr px-4 py-2 text-sm font-bold text-txt-muted hover:bg-app transition-colors",disabled:l||d,children:"Fechar"}),(U||!b)&&a.jsxs("button",{onClick:ne,disabled:l,className:"inline-flex items-center gap-2 rounded-lg bg-yellow-500 px-4 py-2 text-sm font-black uppercase tracking-wide text-black transition-colors hover:bg-yellow-600 disabled:opacity-50",children:[l?a.jsx(Yo,{className:"h-4 w-4 animate-spin"}):a.jsx(Ox,{className:"h-4 w-4"}),"Salvar dados do boleto"]})]})]})})},$D="https://ecvfhrbwytwizxikqsyy.supabase.co",ZD="sb_publishable_lJUcZH_D8m9u57L00a4PlQ_UnbwK6UJ",Ex=xv($D,ZD,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0},realtime:{params:{eventsPerSecond:10}}}),_C=P.createContext(void 0),XD=({currentUser:t,children:e})=>{const[r,n]=P.useState(null),[i,l]=P.useState(!0),u=P.useCallback(async()=>{if(!(t!=null&&t.id)||!(t!=null&&t.depositoId)){n(null),l(!1);return}l(!0);const{data:g,error:b}=await Ex.from("work_shifts").select("*").eq("user_id",t.id).eq("deposit_id",t.depositoId).eq("status","OPEN").maybeSingle();b&&console.error("Erro ao buscar turno:",b);const N=g,w=N?{id:N.id,depositoId:N.deposit_id,user_id:N.user_id,status:N.status,opened_at:Date.parse(N.opened_at),closed_at:N.closed_at?Date.parse(N.closed_at):null,opening_balance:N.opening_balance,closing_balance:N.closing_balance,declared_cash:N.declared_cash,declared_card:N.declared_card,declared_pix:N.declared_pix,system_cash:N.system_cash,system_card:N.system_card,system_pix:N.system_pix,notes:null,user_name:void 0}:null;n(w),l(!1)},[t==null?void 0:t.id,t==null?void 0:t.depositoId]);P.useEffect(()=>{u()},[u]);const d=P.useCallback(async g=>{if(!(t!=null&&t.id)||!(t!=null&&t.depositoId))return null;const b=new Date().toISOString(),{data:N,error:w}=await Ex.from("work_shifts").insert({user_id:t.id,deposit_id:t.depositoId,status:"OPEN",opened_at:b,opening_balance:g.openingBalance}).select().single();if(w)return console.error("Erro ao abrir turno:",w),null;const C=N,U={id:C.id,depositoId:C.deposit_id,user_id:C.user_id,status:C.status,opened_at:Date.parse(C.opened_at),opening_balance:C.opening_balance,closing_balance:C.closing_balance,declared_cash:C.declared_cash,declared_card:C.declared_card,declared_pix:C.declared_pix,system_cash:C.system_cash,system_card:C.system_card,system_pix:C.system_pix,closed_at:C.closed_at?Date.parse(C.closed_at):null,notes:null,user_name:void 0};return n(U),U},[t==null?void 0:t.id,t==null?void 0:t.depositoId,t==null?void 0:t.nome]),h=P.useCallback(async g=>{if(!r)return null;const{data:b,error:N}=await Ex.from("work_shifts").update({status:g.status,closed_at:new Date().toISOString(),declared_cash:g.declared.cash,declared_card:g.declared.card,declared_pix:g.declared.pix,system_cash:g.system.cash,system_card:g.system.card,system_pix:g.system.pix,closing_balance:g.declared.cash+g.declared.card+g.declared.pix}).eq("id",r.id).select().single();if(N)return console.error("Erro ao fechar turno:",N),null;n(null);const w=b;return{id:w.id,depositoId:w.deposit_id,user_id:w.user_id,status:w.status,opened_at:Date.parse(w.opened_at),opening_balance:w.opening_balance,closing_balance:w.closing_balance,declared_cash:w.declared_cash,declared_card:w.declared_card,declared_pix:w.declared_pix,system_cash:w.system_cash,system_card:w.system_card,system_pix:w.system_pix,closed_at:w.closed_at?Date.parse(w.closed_at):null,notes:null,user_name:void 0}},[r]),m=P.useMemo(()=>({activeShift:r,loading:i,refresh:u,openShift:d,closeShift:h}),[r,i,u,d,h]);return a.jsx(_C.Provider,{value:m,children:e})},Zm=()=>{const t=P.useContext(_C);if(!t)throw new Error("useShift must be used within ShiftProvider");return t},YD=({onClose:t,onNavigate:e})=>{const[r,n]=P.useState("overview"),[i,l]=P.useState(!1),[u,d]=P.useState(!1),[h,m]=P.useState(!1),[g,b]=P.useState("all"),[N,w]=P.useState(null),[C,U]=P.useState(null),[T,S]=P.useState(""),[I,O]=P.useState(""),[M,ne]=P.useState(()=>new Date().toISOString().slice(0,10)),[z,oe]=P.useState(""),[te,X]=P.useState(""),[ge,Z]=P.useState(""),[W,ae]=P.useState(()=>new Date().toISOString().slice(0,10)),[K,ue]=P.useState(!1),[Q,Ae]=P.useState(null),[ee,_e]=P.useState({}),[Ne,q]=P.useState(()=>new Date().toISOString().slice(0,10)),[F,G]=P.useState(()=>{const re=new Date;return re.setDate(re.getDate()+30),re.toISOString().slice(0,10)}),$=sa(()=>{var re;return(re=Or.financial_settings)==null?void 0:re.toCollection().first()},[]),V=sa(()=>{var re;return(re=Or.accounts_receivable)==null?void 0:re.toArray()},[]),he=sa(()=>{var re;return(re=Or.payment_methods)==null?void 0:re.toArray()},[]),ve=sa(()=>{var re;return N?(re=Or.receivable_payments)==null?void 0:re.where("receivable_id").equals(N).toArray():[]},[N]),je=sa(()=>{var re;return(re=Or.service_orders)==null?void 0:re.toArray()},[]),Te=sa(()=>{var re;return(re=Or.employees)==null?void 0:re.toArray()},[]),Je=sa(()=>{var re;return(re=Or.deposits)==null?void 0:re.toArray()},[]),Ke=sa(()=>{var re;return(re=Or.clients)==null?void 0:re.toArray()},[]),{activeShift:nt}=Zm(),ft=sa(()=>{var re;return nt!=null&&nt.id?(re=Or.cash_flow_entries)==null?void 0:re.where("shift_id").equals(nt.id).toArray():[]},[nt==null?void 0:nt.id]),tt=sa(()=>{var re;return(re=Or.stock_movements)==null?void 0:re.toArray()},[]),[pe,Ct]=P.useState({monthlyGoal:2e4,minCashAlert:500,showCents:!0}),It=($==null?void 0:$.monthly_goal)??pe.monthlyGoal;P.useEffect(()=>{const re=localStorage.getItem("gp_fin_config");re&&Ct(JSON.parse(re))},[]);const zt=({id:re,label:ut,icon:it})=>a.jsxs("button",{onClick:()=>n(re),className:`flex items-center gap-2 px-4 py-3 text-sm font-medium transition-all relative ${r===re?"text-yellow-600 bg-yellow-500/10":"text-txt-muted hover:text-txt-main hover:bg-surface"}`,children:[a.jsx(it,{className:`w-4 h-4 ${r===re?"text-yellow-600":"text-txt-muted"}`}),ut,r===re&&a.jsx("div",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-yellow-500"})]}),Ie=re=>re.toLocaleString("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:pe.showCents?2:0}),Rt=re=>new Date(`${re}T00:00:00`).getTime(),Lt=re=>{if(!re)return 0;if(typeof re=="number")return re;if(typeof re=="string"){const it=re.trim();if(it&&!Number.isNaN(Number(it)))return Number(it)}const ut=new Date(re).getTime();return Number.isNaN(ut)?0:ut},Bt=re=>{if(!Number.isFinite(re))return;const ut=Rt(Ne),it=Rt(F)+1440*60*1e3-1,wt=new Date(re).toISOString().slice(0,10);re<ut&&q(wt),re>it&&G(wt)},gt=re=>{const ut=re.historico_json??re.historico??re.history??[],it=re.pagamentos_json??re.pagamentos??re.payments??[],wt=Lt(re.data_hora_criacao??re.dataHoraCriacao??re.created_at_ms??re.created_at??re.createdAt??0),Xt=Lt(re.data_hora_conclusao??re.dataHoraConclusao??re.completed_at??re.completedAt??0),yr=Hc(re);return{id:String(re.id??""),numeroOs:String(re.numero_os??re.numeroOs??re.order_number??re.orderNumber??re.number??re.id??""),depositoId:yr.depositoId,clienteId:re.cliente_id??re.clienteId??re.client_id??re.clientId??null,clienteNome:re.cliente_nome??re.clienteNome??re.client_name??re.clientName??"",entregadorId:re.entregador_id??re.entregadorId??re.driver_id??re.driverId??null,status:re.status??re.order_status??"PENDENTE",statusEntrega:re.status_entrega??re.statusEntrega??re.delivery_status??null,tipoAtendimento:re.tipo_atendimento??re.tipoAtendimento??re.service_type??"BALCAO",total:Number(re.total??re.total_amount??re.amount??0)||0,createdAtMs:wt,concludedAtMs:Xt,historico:Array.isArray(ut)?ut:[],pagamentos:Array.isArray(it)?it:[]}},ir=re=>{const ut=String(re.status??"").toUpperCase(),it=String(re.statusEntrega??"").toUpperCase();return ut==="ABERTO"||ut==="OPEN"||ut==="PENDENTE"||ut==="EM_ANDAMENTO"||ut==="PENDENTE_ENTREGA"||it==="EM_ROTA"},_r=Rt(Ne),nr=Rt(F),xr=nr+1440*60*1e3-1,$t=r==="audit"&&(je===void 0||Te===void 0||Je===void 0||Ke===void 0),St=null,Zt=P.useMemo(()=>(je??[]).map(gt).filter(re=>re.createdAtMs?re.createdAtMs>=_r&&re.createdAtMs<=xr:!1).sort((re,ut)=>ut.createdAtMs-re.createdAtMs),[je,_r,xr]),Tt=Te??[],Vr=Je??[],gr=Ke??[],Vt=(V||[]).map(re=>{const ut=Number(re.valor_total??0),it=Number(re.valor_pago??0),wt=Math.max(0,ut-it),yr=re.vencimento_em<Date.now()&&wt>0,qr=yr?"VENCIDO":re.status,fn=re.requires_boleto??!1;return{...re,total:ut,paid:it,remaining:wt,overdue:yr,status:qr,requires_boleto:fn}}),or=new Map((he||[]).map(re=>[re.id,re.name??re.nome])),Ht=N&&Vt.find(re=>re.id===N)||null,Kt=Q&&Vt.find(re=>re.id===Q)||null,kr=Vt.filter(re=>!(!Number.isFinite(re.vencimento_em)||_r&&re.vencimento_em<_r||nr&&re.vencimento_em>nr+1440*60*1e3||g==="personal"&&!re.is_personal||g==="with-client"&&!re.client_id));Vt.filter(re=>re.status!=="PAGO").reduce((re,ut)=>re+ut.remaining,0);const Mt=kr.filter(re=>re.status!=="PAGO").reduce((re,ut)=>re+ut.remaining,0);P.useEffect(()=>{if(r!=="receivable")return;let re=!0;return(async()=>{const it=kr.filter(Xt=>Xt.requires_boleto).map(Xt=>Xt.id).filter(Xt=>!Object.prototype.hasOwnProperty.call(ee,Xt));if(!it.length)return;const wt=await Promise.all(it.map(async Xt=>{try{const yr=await boletosRepo.getByReceivableId(Xt);return{id:Xt,boleto:yr,ok:!0}}catch{return{id:Xt,boleto:null,ok:!1}}}));re&&_e(Xt=>{const yr={...Xt};for(const qr of wt)qr.ok&&(Object.prototype.hasOwnProperty.call(yr,qr.id)||(yr[qr.id]=qr.boleto));return yr})})(),()=>{re=!1}},[r,kr,ee]);const er=re=>re?re.status==="PAGO"?"bg-green-500/10 text-green-500 border-green-500/30 hover:bg-green-500/20":re.status==="CANCELADO"?"bg-red-500/10 text-red-500 border-red-500/30 hover:bg-red-500/20":"bg-amber-500/10 text-amber-500 border-amber-500/30 hover:bg-amber-500/20":"bg-app text-txt-muted border-bdr hover:text-txt-main",Ue=re=>re?"Ver boleto":"Emitir",Xe=re=>{Ae(re),ue(!0)},at=re=>{_e(ut=>({...ut,[re.receivable_id]:re}))},dt=()=>{ue(!1),Ae(null)},Yt=async(re,ut,it,wt)=>{const Xt=Vt.find(fn=>fn.id===re);if(!Xt)return;const yr=Xt.remaining;if(yr<=0)return alert("Nada pendente para quitar.");const qr=it?new Date(`${it}T00:00:00`).getTime():void 0;await addReceivablePayment(re,yr,"user-1",ut||null,qr,wt)},Jt=async(re,ut,it,wt,Xt)=>{const yr=Vt.find(Zr=>Zr.id===re);if(!yr)return;const qr=yr.remaining,fn=Number(ut.replace(",","."));if(!Number.isFinite(fn)||fn<=0)return alert("Valor invlido.");if(fn>qr)return alert("Valor maior que o pendente.");await addReceivablePayment(re,fn,"user-1",null,void 0,Xt)},br=async(re,ut)=>{const it=new Date(ut+"T00:00:00").getTime();if(!Number.isFinite(it))return alert("Data invlida.");await updateReceivable(re,{vencimento_em:it}),X(""),Bt(it)},yn=async(re,ut,it)=>{if(!re)return alert("Selecione uma conta.");const wt=Number(ut.replace(",",".")),Xt=new Date(it+"T00:00:00").getTime();if(!Number.isFinite(wt)||wt<=0)return alert("Valor invlido.");if(!Number.isFinite(Xt))return alert("Data invlida.");const yr=await createReceivable({os_id:re.os_id??null,payment_method_id:null,depositoId:Hc(re).depositoId,devedor_nome:re.devedor_nome??re.description??"Cliente",valor_total:wt,status:"ABERTO",criado_em:Date.now(),vencimento_em:Xt,description:re.description??null,client_id:re.client_id??null,is_personal:re.is_personal??!1,alert_days_before:re.alert_days_before??1,installment_no:(re.installment_no??1)+1,installments_total:re.installments_total??1});Z(""),Bt(Xt),yr!=null&&yr.id&&w(yr.id)},kt=async()=>{if(!Ht)return;const re=T||`${Ht.remaining}`,ut=Number(re.replace(",","."));if(!Number.isFinite(ut)||ut<=0)return alert("Valor invlido.");const it=M?new Date(`${M}T00:00:00`).getTime():void 0;if(C){const wt=(ve||[]).find(qr=>qr.id===C),Xt=wt?`editado de ${wt.valor} para ${ut} em ${new Date().toLocaleString("pt-BR")}`:"editado",yr=[z||null,Xt].filter(Boolean).join(" | ");await updateReceivablePayment(C,{valor:ut,data_hora:it??Date.now(),payment_method_id:I||null,obs:yr||null},"user-1")}else await addReceivablePayment(Ht.id,ut,"user-1",I||null,it,z);S(""),O(""),oe(""),U(null)},En=async re=>{confirm("Excluir esta conta a receber?")&&await deleteReceivable(re)},In=async re=>{if(!(nt!=null&&nt.id))return alert("Nenhum turno aberto para registrar movimentacao.");const it=prompt(`Valor da ${re==="SANGRIA"?"sangria":"suprimento"}?`);if(!it)return;const wt=Number(it.replace(",","."));if(!Number.isFinite(wt)||wt<=0)return alert("Valor invalido.");const Xt=prompt("Observacao (opcional)")||null;await registerCashFlow({category:re,amount:wt,direction:re==="SANGRIA"?"OUT":"IN",paymentType:"cash",notes:Xt,depositId:Hc(nt).depositoId,userName:void 0})},an=Mt,Wr=0,Pr=[],Ut=[],nn=P.useMemo(()=>{const re=(ft??[]).filter(it=>{const wt=Number(it.created_at??0)||0;return wt>=_r&&wt<=xr}).sort((it,wt)=>(it.created_at??0)-(wt.created_at??0));let ut=0;return re.map(it=>{const wt=Number(it.created_at??0)||0,Xt=Number(it.amount??0)||0,yr=it.direction==="OUT"?-1:1;ut+=yr*Xt;const qr=String(it.category??"MOVIMENTO").toUpperCase(),fn=yr>0?"green":yr<0?"red":"neutral";return{id:it.id,time:wt?new Date(wt).toLocaleString("pt-BR"):"-",description:it.notes??it.reference_type??"Movimento",category:qr,categoryTone:fn,user:it.user_name??it.user_id??"-",value:yr*Xt,status:it.status??"POSTED",balance:ut,direction:it.direction??"IN"}})},[ft,_r,xr]),fe=P.useMemo(()=>{const re=Hc(nt||{});if(!(nt!=null&&nt.opened_at)||!re.depositoId)return!1;const ut=nt.opened_at,it=nt.closed_at??Date.now();return(je??[]).map(gt).filter(wt=>{const Xt=wt.createdAtMs??0;return!Xt||wt.depositoId&&wt.depositoId!==re.depositoId?!1:Xt>=ut&&Xt<=it}).some(wt=>ir(wt))},[nt,je]),De=P.useMemo(()=>{const re=new Map;return Tt.forEach(ut=>{const it=ut.nome??ut.name??ut.username??ut.id??"";ut.id&&re.set(String(ut.id),String(it))}),re},[Tt]),$e=P.useMemo(()=>{if(!(nt!=null&&nt.opened_at))return[];const re=Hc(nt),ut=nt.opened_at,it=nt.closed_at??Date.now();return(je??[]).map(gt).filter(wt=>{const Xt=wt.createdAtMs??0;return!Xt||re.depositoId&&wt.depositoId&&wt.depositoId!==re.depositoId?!1:Xt>=ut&&Xt<=it}).map(wt=>{var ur;const Xt=Array.isArray(wt.historico)?wt.historico:[],yr=Xt.find(Lr=>String((Lr==null?void 0:Lr.acao)??"").toLowerCase().includes("cri")),qr=(yr==null?void 0:yr.usuario)??((ur=Xt[0])==null?void 0:ur.usuario)??"-",fn=wt.entregadorId&&De.get(String(wt.entregadorId))||wt.entregadorId||"-",Vn=wt.createdAtMs??0,Zr=Vn?new Date(Vn).toLocaleString("pt-BR"):"-",es=[wt.status,wt.statusEntrega].filter(Boolean).map(Lr=>String(Lr));return{id:wt.id,osNumber:wt.numeroOs||wt.id,openedAt:Zr,openedAtMs:Vn,operador:qr,entregador:fn,status:es.length?es.join(" / "):"-",isOpen:ir(wt)}}).sort((wt,Xt)=>(Xt.openedAtMs||0)-(wt.openedAtMs||0))},[nt,je,De]),xe=P.useMemo(()=>{if(!(nt!=null&&nt.opened_at))return[];const re=Hc(nt),ut=nt.opened_at,it=nt.closed_at??Date.now();return(tt??[]).map(wt=>{const Xt=new Date(wt.dataHora).getTime();return{...wt,whenMs:Xt}}).filter(wt=>!wt.whenMs||re.depositoId&&wt.depositoId&&wt.depositoId!==re.depositoId?!1:wt.whenMs>=ut&&wt.whenMs<=it).map(wt=>({id:wt.id,when:wt.whenMs?new Date(wt.whenMs).toLocaleString("pt-BR"):"-",produto:wt.produtoNome??"-",tipo:wt.tipo??"-",quantidade:Number(wt.quantidade??0)||0,operador:wt.usuarioNome??wt.usuarioId??"-",motivo:wt.motivo??wt.origem??"-",whenMs:wt.whenMs??0})).sort((wt,Xt)=>(Xt.whenMs||0)-(wt.whenMs||0))},[nt,tt]),Me=P.useMemo(()=>{const re=new Map;return Vr.forEach(ut=>{const it=ut.nome??ut.name??ut.id??"";ut.id&&re.set(String(ut.id),String(it))}),re},[Vr]),We=P.useMemo(()=>{const re=new Map;return gr.forEach(ut=>{const it=ut.nome??ut.name??ut.id??"";ut.id&&re.set(String(ut.id),String(it))}),re},[gr]),yt=P.useMemo(()=>Zt.map(re=>{const ut=re.entregadorId&&De.get(String(re.entregadorId))||re.entregadorId||"-",it=re.clienteNome||re.clienteId&&We.get(String(re.clienteId))||re.clienteId||"-",wt=re.createdAtMs?new Date(re.createdAtMs).toLocaleString("pt-BR"):"-",Xt=re.concludedAtMs?new Date(re.concludedAtMs).toLocaleString("pt-BR"):"-",yr=re.createdAtMs&&re.concludedAtMs&&re.concludedAtMs>=re.createdAtMs?Math.round((re.concludedAtMs-re.createdAtMs)/6e4):0,qr=String(re.status??"").toUpperCase(),fn=qr==="CONCLUIDA"||qr==="CONCLUIDO"?"CONCLUIDO":qr==="CANCELADA"||qr==="CANCELADO"?"CANCELADO":"PENDENTE";return{osNumber:re.numeroOs||re.id,client:it,driver:ut,openedAt:wt,closedAt:Xt,durationMinutes:yr,status:fn}}),[Zt,We,De]),Gt=P.useMemo(()=>{const re=wr=>String(wr??"").toLowerCase().normalize("NFD").replace(new RegExp("\\p{Diacritic}","gu"),""),ut={},it={},wt={},Xt={},yr={},qr={};Zt.forEach(wr=>{const cn=String(wr.status??"").toUpperCase()==="CONCLUIDA",ln=String(wr.tipoAtendimento??"").toUpperCase()==="DELIVERY";if(cn&&ln&&wr.entregadorId){const Et=String(wr.entregadorId);if(ut[Et]=(ut[Et]||0)+1,wr.createdAtMs&&wr.concludedAtMs&&wr.concludedAtMs>=wr.createdAtMs){const Nt=(wr.concludedAtMs-wr.createdAtMs)/6e4;it[Et]||(it[Et]={total:0,count:0}),it[Et].total+=Nt,it[Et].count+=1}}if(cn&&wr.depositoId){const Et=String(wr.depositoId);wt[Et]=(wt[Et]||0)+Number(wr.total??0)}const Be=String(wr.clienteId??wr.clienteNome??"");Be&&(String(wr.status??"").toUpperCase()!=="CANCELADA"&&(Xt[Be]=(Xt[Be]||0)+1),cn&&(yr[Be]=(yr[Be]||0)+Number(wr.total??0))),(Array.isArray(wr.historico)?wr.historico:[]).forEach(Et=>{const Nt=Et.usuario??Et.user??Et.username??Et.usuarioNome??Et.user_name??"Sistema",Ot=re(Et.acao??Et.action??""),Rr=re(Et.detalhe??Et.detail??"");qr[Nt]||(qr[Nt]={open:0,close:0}),Ot.includes("cri")&&(qr[Nt].open+=1),(Ot.includes("conclu")||Ot.includes("mudan")&&Rr.includes("conclu")||Ot.includes("status")&&Rr.includes("conclu"))&&(qr[Nt].close+=1)})});const fn=wr=>{let cn="",ln=0;return Object.entries(wr).forEach(([Be,st])=>{st>ln&&(cn=Be,ln=st)}),{key:cn,value:ln}},Vn=fn(ut);let Zr="",es=0;Object.entries(it).forEach(([wr,cn])=>{if(!cn.count)return;const ln=cn.total/cn.count;(!Zr||ln<es)&&(Zr=wr,es=ln)});const ur=fn(wt),Lr=fn(Xt),xs=fn(yr);let $r="",Ca=0,Rs=0,Er=0;return Object.entries(qr).forEach(([wr,cn])=>{const ln=cn.open+cn.close;ln>Ca&&($r=wr,Ca=ln,Rs=cn.open,Er=cn.close)}),{topDriver:{name:Vn.key?De.get(Vn.key)||Vn.key:"-",count:Vn.value},fastestDriver:{name:Zr?De.get(Zr)||Zr:"-",avgMinutes:es?Math.round(es):0},topDeposit:{name:ur.key?Me.get(ur.key)||ur.key:"-",total:ur.value},topCashier:{name:$r||"-",open:Rs,close:Er},topClientByValue:{name:xs.key?We.get(xs.key)||xs.key:"-",total:xs.value},topClientByOrders:{name:Lr.key?We.get(Lr.key)||Lr.key:"-",count:Lr.value}}},[Zt,We,Me,De]),Cr=It>0?Math.min(100,Math.round(an/It*100)):0,Hr=Math.max(0,It-an),dn=nn.reduce((re,ut)=>ut.value>0?re+ut.value:re,0),Ar=nn.reduce((re,ut)=>ut.value<0?re+Math.abs(ut.value):re,0),on=nn.length?nn[nn.length-1].balance:an-Wr;return a.jsxs("div",{className:"fixed inset-0 bg-app z-50 flex flex-col animate-in slide-in-from-bottom-4 duration-300",children:[a.jsxs("div",{className:"bg-surface border-b border-bdr px-6 py-3 shadow-sm shrink-0 z-20 transition-colors",children:[a.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"bg-yellow-500/10 p-2 rounded-lg border border-yellow-500/20",children:a.jsx(q5,{className:"w-6 h-6 text-yellow-600"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-black text-txt-main tracking-tight",children:"Mdulo Financeiro"}),a.jsx("p",{className:"text-xs text-txt-muted font-bold uppercase tracking-widest",children:"Gesto completa de fluxo e resultados"})]})]}),a.jsxs("div",{className:"flex items-center gap-3 bg-app p-1.5 rounded-lg border border-bdr",children:[a.jsxs("div",{className:"flex items-center gap-2 px-2 border-r border-bdr",children:[a.jsx(Cm,{className:"w-4 h-4 text-txt-muted"}),a.jsx("input",{type:"date",className:"bg-transparent border-none text-xs font-bold text-txt-main focus:ring-0 w-24 outline-none",value:Ne,onChange:re=>q(re.target.value)})]}),a.jsxs("div",{className:"flex items-center gap-2 px-2",children:[a.jsx("span",{className:"text-xs text-txt-muted font-bold uppercase",children:"at"}),a.jsx("input",{type:"date",className:"bg-transparent border-none text-xs font-bold text-txt-main focus:ring-0 w-24 outline-none",value:F,onChange:re=>G(re.target.value)})]}),a.jsx("button",{className:"bg-yellow-600 hover:bg-yellow-700 text-white px-3 py-1.5 rounded text-xs font-black uppercase tracking-wide transition-colors shadow-sm",children:"Filtrar"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{className:"flex items-center gap-2 px-3 py-2 text-txt-muted hover:text-txt-main hover:bg-app rounded-lg text-sm font-bold transition-colors border border-transparent hover:border-bdr",children:[a.jsx(u3,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Imprimir"})]}),e&&a.jsxs("button",{onClick:()=>e("delivery-settings"),className:"flex items-center gap-2 px-3 py-2 text-txt-muted hover:text-txt-main hover:bg-app rounded-lg text-sm font-bold transition-colors border border-transparent hover:border-bdr",children:[a.jsx(Qo,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Taxas de Entrega"})]}),a.jsxs("button",{onClick:()=>l(!0),className:"flex items-center gap-2 px-3 py-2 text-txt-muted hover:text-txt-main hover:bg-app rounded-lg text-sm font-bold transition-colors border border-transparent hover:border-bdr",children:[a.jsx(vd,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Configurar"})]}),a.jsx("button",{onClick:t,className:"ml-2 p-2 hover:bg-red-500/10 text-txt-muted hover:text-red-500 rounded-full transition-colors",children:a.jsx(qn,{className:"w-6 h-6"})})]})]}),a.jsxs("div",{className:"flex items-center gap-1 mt-6 border-b border-bdr overflow-x-auto no-scrollbar",children:[a.jsx(zt,{id:"overview",label:"Viso Geral",icon:Jy}),a.jsx(zt,{id:"cashflow",label:"Fluxo de Caixa",icon:ph}),a.jsx(zt,{id:"audit",label:"Auditoria de O.S.",icon:gd}),a.jsx(zt,{id:"receivable",label:"Contas a Receber",icon:D5}),a.jsx(zt,{id:"payable",label:"Contas a Pagar",icon:Mp})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto bg-app p-6 transition-colors",children:a.jsxs("div",{className:"max-w-[1600px] mx-auto space-y-6",children:[r==="overview"&&a.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"bg-surface p-6 rounded-xl shadow-sm border border-bdr flex flex-col relative overflow-hidden transition-colors",children:[a.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5 text-green-600",children:a.jsx(ph,{className:"w-24 h-24"})}),a.jsx("span",{className:"text-xs font-black text-txt-muted uppercase tracking-widest mb-2",children:"Contas a Receber (perodo)"}),a.jsx("div",{className:"text-3xl font-black text-txt-main mb-2",children:Ie(an)}),a.jsxs("div",{className:"flex items-center text-xs font-bold w-fit px-2 py-1 rounded border border-bdr text-txt-muted bg-app",children:[a.jsx(Mp,{className:"w-3 h-3 mr-1"})," Previsto para o perodo selecionado"]})]}),a.jsxs("div",{className:"bg-surface p-6 rounded-xl shadow-sm border border-bdr flex flex-col relative overflow-hidden transition-colors",children:[a.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5 text-red-600",children:a.jsx(Mx,{className:"w-24 h-24"})}),a.jsx("span",{className:"text-xs font-black text-txt-muted uppercase tracking-widest mb-2",children:"Custos & Despesas"}),a.jsx("div",{className:"text-3xl font-black text-txt-main mb-2",children:Ie(Wr)}),a.jsxs("div",{className:"flex items-center text-xs font-bold w-fit px-2 py-1 rounded border border-bdr text-txt-muted bg-app",children:[a.jsx(Mp,{className:"w-3 h-3 mr-1"})," Previsto para o perodo selecionado"]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-yellow-500 to-amber-600 p-6 rounded-xl shadow-lg flex flex-col text-white relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 text-white",children:a.jsx(P3,{className:"w-24 h-24"})}),a.jsxs("div",{className:"flex justify-between items-start z-10",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-xs font-black text-yellow-100 uppercase tracking-widest mb-1 block",children:"Meta Mensal"}),a.jsxs("div",{className:"text-3xl font-black text-white mb-1",children:[Cr,"%"]}),a.jsx("span",{className:"text-[10px] text-yellow-100 font-bold uppercase tracking-wide",children:"Atingida"})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("span",{className:"text-xs font-bold text-yellow-100 block",children:["Alvo: R$ ",It.toLocaleString("pt-BR")]}),a.jsxs("span",{className:"text-xs font-bold text-white block mt-1",children:["Falta: R$ ",Hr.toLocaleString("pt-BR")]})]})]}),a.jsx("div",{className:"w-full bg-black/20 rounded-full h-3 mt-4 overflow-hidden border border-white/10 z-10",children:a.jsx("div",{className:"bg-white rounded-full h-full shadow-[0_0_15px_rgba(255,255,255,0.6)] transition-all duration-1000",style:{width:`${Cr}%`}})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-surface p-6 rounded-xl shadow-sm border border-bdr transition-colors",children:[a.jsxs("h3",{className:"font-black text-txt-main mb-6 flex items-center gap-2 text-sm uppercase tracking-wide",children:[a.jsx(Jy,{className:"w-4 h-4 text-txt-muted"}),"Formas de Pagamento"]}),Pr.length===0?a.jsxs("div",{className:"p-6 text-center text-sm text-txt-muted border border-dashed border-bdr rounded-xl bg-app",children:[a.jsx("p",{className:"font-bold",children:"Nenhum dado financeiro disponvel."}),a.jsx("p",{className:"text-xs mt-1",children:"Conecte s fontes reais para ver formas de pagamento."})]}):a.jsx("div",{className:"space-y-5",children:Pr.map((re,ut)=>a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between text-xs font-bold mb-2",children:[a.jsx("span",{className:"text-txt-muted uppercase tracking-wide",children:re.label}),a.jsxs("span",{className:"text-txt-main",children:[Ie(re.val)," (",re.pct,"%)"]})]}),a.jsx("div",{className:"w-full bg-app rounded-full h-2.5 border border-bdr",children:a.jsx("div",{className:`h-full rounded-full ${re.color}`,style:{width:`${re.pct}%`}})})]},ut))})]}),a.jsxs("div",{className:"bg-surface p-6 rounded-xl shadow-sm border border-bdr transition-colors",children:[a.jsxs("h3",{className:"font-black text-txt-main mb-4 flex items-center gap-2 text-sm uppercase tracking-wide",children:[a.jsx(ph,{className:"w-4 h-4 text-txt-muted"}),"Top Produtos (Rentabilidade)"]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm text-left",children:[a.jsx("thead",{className:"text-[10px] text-txt-muted uppercase font-black border-b border-bdr tracking-wider",children:a.jsxs("tr",{children:[a.jsx("th",{className:"pb-3 pl-2",children:"Produto"}),a.jsx("th",{className:"pb-3 text-right",children:"Vendas"}),a.jsx("th",{className:"pb-3 text-right",children:"Lucro Un."}),a.jsx("th",{className:"pb-3 text-right pr-2",children:"Total"})]})}),a.jsx("tbody",{className:"divide-y divide-bdr",children:Ut.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:4,className:"py-6 text-center text-txt-muted font-bold",children:"Nenhum produto com dados de rentabilidade no perodo."})}):Ut.map((re,ut)=>a.jsxs("tr",{className:"group hover:bg-app transition-colors",children:[a.jsx("td",{className:"py-3 pl-2 font-bold text-txt-main",children:re.nome}),a.jsxs("td",{className:"py-3 text-right font-medium text-txt-muted",children:[re.sales," un"]}),a.jsx("td",{className:"py-3 text-right text-green-600 font-bold",children:Ie(re.unitProfit)}),a.jsx("td",{className:"py-3 pr-2 text-right font-black text-txt-main",children:Ie(re.total)})]},ut))})]})})]})]})]}),r==="cashflow"&&a.jsxs("div",{className:"bg-surface rounded-xl shadow-sm border border-bdr flex flex-col min-h-[600px] animate-in fade-in slide-in-from-bottom-2 duration-300 transition-colors",children:[a.jsxs("div",{className:"p-6 border-b border-bdr flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"font-black text-txt-main flex items-center gap-2 text-sm uppercase tracking-wide",children:[a.jsx(ph,{className:"w-5 h-5 text-blue-500"}),"Movimentacao do Caixa"]}),(nt==null?void 0:nt.opened_at)&&a.jsxs("p",{className:"text-[11px] font-bold text-txt-muted mt-1",children:["Turno aberto em ",new Date(nt.opened_at).toLocaleString("pt-BR")]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{onClick:()=>In("SANGRIA"),className:"flex items-center gap-2 px-4 py-2 bg-red-500/10 text-red-600 hover:bg-red-500/20 rounded-lg text-xs font-black uppercase tracking-wide transition-colors border border-red-500/20",children:[a.jsx($S,{className:"w-4 h-4"}),"Sangria"]}),a.jsxs("button",{onClick:()=>In("SUPRIMENTO"),className:"flex items-center gap-2 px-4 py-2 bg-green-500/10 text-green-600 hover:bg-green-500/20 rounded-lg text-xs font-black uppercase tracking-wide transition-colors border border-green-500/20",children:[a.jsx(Ao,{className:"w-4 h-4"}),"Suprimento"]})]})]}),fe&&a.jsx("div",{className:"px-6 py-3 bg-red-500/10 border-b border-red-500/20 text-red-500 text-xs font-bold",children:"Ha O.S em aberto ou em rota vinculadas a este turno. Finalize antes de fechar o caixa."}),a.jsx("div",{className:"px-6 py-4 border-b border-bdr bg-app/30",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[a.jsxs("div",{className:"bg-surface border border-bdr rounded-lg px-4 py-3",children:[a.jsx("div",{className:"text-[10px] uppercase font-black text-txt-muted",children:"Entradas"}),a.jsx("div",{className:"text-sm font-black text-green-600",children:Ie(dn)})]}),a.jsxs("div",{className:"bg-surface border border-bdr rounded-lg px-4 py-3",children:[a.jsx("div",{className:"text-[10px] uppercase font-black text-txt-muted",children:"Saidas"}),a.jsx("div",{className:"text-sm font-black text-red-500",children:Ie(Ar)})]}),a.jsxs("div",{className:"bg-surface border border-bdr rounded-lg px-4 py-3",children:[a.jsx("div",{className:"text-[10px] uppercase font-black text-txt-muted",children:"Saldo"}),a.jsx("div",{className:"text-sm font-black text-txt-main",children:Ie(on)})]})]})}),a.jsxs("div",{className:"flex-1 overflow-y-auto",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm text-left",children:[a.jsx("thead",{className:"bg-app text-[10px] text-txt-muted uppercase font-black tracking-wider border-b border-bdr",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4",children:"Data/Hora"}),a.jsx("th",{className:"px-6 py-4",children:"Operador"}),a.jsx("th",{className:"px-6 py-4",children:"Tipo"}),a.jsx("th",{className:"px-6 py-4 text-right",children:"Valor"}),a.jsx("th",{className:"px-6 py-4",children:"Status"})]})}),a.jsx("tbody",{className:"divide-y divide-bdr",children:nn.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"px-6 py-10 text-center text-txt-muted font-bold",children:"Nenhuma movimentacao no periodo selecionado."})}):nn.map(re=>a.jsxs("tr",{className:"hover:bg-app transition-colors",children:[a.jsx("td",{className:"px-6 py-3 font-mono text-txt-muted text-xs",children:re.time}),a.jsx("td",{className:"px-6 py-3 font-medium text-txt-muted",children:re.user}),a.jsx("td",{className:"px-6 py-3",children:a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("span",{className:`px-2 py-1 rounded-md text-[10px] font-black uppercase border ${re.categoryTone==="green"?"bg-green-500/10 text-green-600 border-green-500/20":re.categoryTone==="red"?"bg-red-500/10 text-red-600 border-red-500/20":"bg-surface text-txt-muted border-bdr"}`,children:re.category}),re.description&&a.jsx("span",{className:"text-xs text-txt-muted",children:re.description})]})}),a.jsx("td",{className:`px-6 py-3 text-right font-black ${re.value<0?"text-red-500":"text-green-600"}`,children:Ie(re.value)}),a.jsx("td",{className:"px-6 py-3",children:a.jsx("span",{className:"px-2 py-1 rounded text-[10px] font-black uppercase border border-bdr bg-app text-txt-muted",children:re.status})})]},re.id))})]})}),a.jsx("div",{className:"border-t border-bdr bg-app/30 px-6 py-4",children:a.jsx("h4",{className:"text-xs font-black text-txt-main uppercase tracking-widest",children:"O.S. do Turno"})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm text-left",children:[a.jsx("thead",{className:"bg-app text-[10px] text-txt-muted uppercase font-black tracking-wider border-b border-bdr",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4",children:"O.S."}),a.jsx("th",{className:"px-6 py-4",children:"Abertura"}),a.jsx("th",{className:"px-6 py-4",children:"Operador"}),a.jsx("th",{className:"px-6 py-4",children:"Entregador"}),a.jsx("th",{className:"px-6 py-4",children:"Status"})]})}),a.jsx("tbody",{className:"divide-y divide-bdr",children:$e.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-txt-muted font-bold",children:"Nenhuma O.S. registrada neste turno."})}):$e.map(re=>a.jsxs("tr",{className:`hover:bg-app transition-colors ${re.isOpen?"bg-red-500/5":""}`,children:[a.jsx("td",{className:"px-6 py-3 font-black text-txt-main",children:re.osNumber}),a.jsx("td",{className:"px-6 py-3 text-xs text-txt-muted",children:re.openedAt}),a.jsx("td",{className:"px-6 py-3 text-txt-muted",children:re.operador}),a.jsx("td",{className:"px-6 py-3 text-txt-muted",children:re.entregador}),a.jsx("td",{className:"px-6 py-3",children:a.jsx("span",{className:`px-2 py-1 rounded text-[10px] font-black uppercase border ${re.isOpen?"bg-red-500/10 text-red-500 border-red-500/20":"bg-green-500/10 text-green-600 border-green-500/20"}`,children:re.status})})]},re.id))})]})}),a.jsx("div",{className:"border-t border-bdr bg-app/30 px-6 py-4",children:a.jsx("h4",{className:"text-xs font-black text-txt-main uppercase tracking-widest",children:"Movimentos de Estoque"})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm text-left",children:[a.jsx("thead",{className:"bg-app text-[10px] text-txt-muted uppercase font-black tracking-wider border-b border-bdr",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4",children:"Data/Hora"}),a.jsx("th",{className:"px-6 py-4",children:"Produto"}),a.jsx("th",{className:"px-6 py-4",children:"Tipo"}),a.jsx("th",{className:"px-6 py-4 text-right",children:"Qtd."}),a.jsx("th",{className:"px-6 py-4",children:"Operador"}),a.jsx("th",{className:"px-6 py-4",children:"Motivo"})]})}),a.jsx("tbody",{className:"divide-y divide-bdr",children:xe.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-txt-muted font-bold",children:"Nenhum movimento de estoque neste turno."})}):xe.map(re=>a.jsxs("tr",{className:"hover:bg-app transition-colors",children:[a.jsx("td",{className:"px-6 py-3 text-xs text-txt-muted",children:re.when}),a.jsx("td",{className:"px-6 py-3 font-medium text-txt-main",children:re.produto}),a.jsx("td",{className:"px-6 py-3",children:a.jsx("span",{className:"px-2 py-1 rounded text-[10px] font-black uppercase border border-bdr bg-app text-txt-muted",children:re.tipo})}),a.jsx("td",{className:"px-6 py-3 text-right font-black text-txt-main",children:re.quantidade}),a.jsx("td",{className:"px-6 py-3 text-txt-muted",children:re.operador}),a.jsx("td",{className:"px-6 py-3 text-xs text-txt-muted",children:re.motivo})]},re.id))})]})})]})]}),r==="audit"&&a.jsxs("div",{className:"bg-surface rounded-xl shadow-sm border border-bdr flex flex-col min-h-[600px] animate-in fade-in slide-in-from-bottom-2 duration-300 transition-colors",children:[a.jsx("div",{className:"p-6 border-b border-bdr bg-app/30",children:a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("h3",{className:"font-black text-txt-main flex items-center gap-2 text-sm uppercase tracking-wide",children:[a.jsx(gd,{className:"w-5 h-5 text-orange-500"}),"Tempo de Ciclo de Pedidos (Timeline)"]}),a.jsxs("div",{className:"flex gap-2 text-[10px] font-bold uppercase tracking-wide",children:[a.jsx("span",{className:"px-2 py-1 rounded bg-green-500/10 text-green-600 border border-green-500/20",children:"Rpido (< 30min)"}),a.jsx("span",{className:"px-2 py-1 rounded bg-yellow-500/10 text-yellow-600 border border-yellow-500/20",children:"Mdio (30-60min)"}),a.jsx("span",{className:"px-2 py-1 rounded bg-red-500/10 text-red-600 border border-red-500/20",children:"Crtico (> 60min)"})]})]})}),a.jsxs("div",{className:"px-6 py-4 border-b border-bdr bg-app/10",children:[$t&&a.jsx("p",{className:"text-xs font-bold text-txt-muted mb-3",children:"Carregando dados da auditoria..."}),!$t&&St,a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-3",children:[a.jsxs("div",{className:"bg-surface border border-bdr rounded-xl p-4",children:[a.jsx("p",{className:"text-[10px] uppercase font-black text-txt-muted",children:"Entregador com mais entregas"}),a.jsx("p",{className:"text-sm font-black text-txt-main mt-2",children:Gt.topDriver.nome}),a.jsxs("p",{className:"text-xs text-txt-muted",children:[Gt.topDriver.count," entregas"]})]}),a.jsxs("div",{className:"bg-surface border border-bdr rounded-xl p-4",children:[a.jsx("p",{className:"text-[10px] uppercase font-black text-txt-muted",children:"Entregador mais rapido"}),a.jsx("p",{className:"text-sm font-black text-txt-main mt-2",children:Gt.fastestDriver.nome}),a.jsxs("p",{className:"text-xs text-txt-muted",children:[Gt.fastestDriver.avgMinutes," min medio"]})]}),a.jsxs("div",{className:"bg-surface border border-bdr rounded-xl p-4",children:[a.jsx("p",{className:"text-[10px] uppercase font-black text-txt-muted",children:"Deposito que mais vendeu"}),a.jsx("p",{className:"text-sm font-black text-txt-main mt-2",children:Gt.topDeposit.nome}),a.jsx("p",{className:"text-xs text-txt-muted",children:Ie(Gt.topDeposit.total)})]}),a.jsxs("div",{className:"bg-surface border border-bdr rounded-xl p-4",children:[a.jsx("p",{className:"text-[10px] uppercase font-black text-txt-muted",children:"Caixa com mais abertura/fechamento"}),a.jsx("p",{className:"text-sm font-black text-txt-main mt-2",children:Gt.topCashier.nome}),a.jsxs("p",{className:"text-xs text-txt-muted",children:[Gt.topCashier.open," aberturas | ",Gt.topCashier.close," fechamentos"]})]}),a.jsxs("div",{className:"bg-surface border border-bdr rounded-xl p-4",children:[a.jsx("p",{className:"text-[10px] uppercase font-black text-txt-muted",children:"Cliente com maior valor"}),a.jsx("p",{className:"text-sm font-black text-txt-main mt-2",children:Gt.topClientByValue.nome}),a.jsx("p",{className:"text-xs text-txt-muted",children:Ie(Gt.topClientByValue.total)})]}),a.jsxs("div",{className:"bg-surface border border-bdr rounded-xl p-4",children:[a.jsx("p",{className:"text-[10px] uppercase font-black text-txt-muted",children:"Cliente com mais pedidos"}),a.jsx("p",{className:"text-sm font-black text-txt-main mt-2",children:Gt.topClientByOrders.nome}),a.jsxs("p",{className:"text-xs text-txt-muted",children:[Gt.topClientByOrders.count," pedidos"]})]})]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm text-left",children:[a.jsx("thead",{className:"bg-surface text-[10px] text-txt-muted uppercase font-black border-b border-bdr tracking-wider",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4",children:"N O.S."}),a.jsx("th",{className:"px-6 py-4",children:"Cliente"}),a.jsx("th",{className:"px-6 py-4",children:"Entregador"}),a.jsx("th",{className:"px-6 py-4",children:"Abertura"}),a.jsx("th",{className:"px-6 py-4",children:"Concluso"}),a.jsx("th",{className:"px-6 py-4 text-center",children:"Durao Total"}),a.jsx("th",{className:"px-6 py-4 text-center",children:"Status"})]})}),a.jsx("tbody",{className:"divide-y divide-bdr",children:yt.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:7,className:"px-6 py-10 text-center text-txt-muted font-bold",children:"Nenhum registro de O.S. no perodo selecionado."})}):yt.map((re,ut)=>a.jsxs("tr",{className:"hover:bg-app transition-colors",children:[a.jsx("td",{className:"px-6 py-4 font-mono font-bold text-txt-main",children:re.osNumber}),a.jsx("td",{className:"px-6 py-4 font-medium text-txt-muted",children:re.client}),a.jsx("td",{className:"px-6 py-4 font-medium text-txt-muted",children:re.driver}),a.jsx("td",{className:"px-6 py-4 text-txt-muted text-xs",children:re.openedAt}),a.jsx("td",{className:"px-6 py-4 text-txt-muted text-xs",children:re.closedAt}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsxs("span",{className:"font-black text-green-600",children:[re.durationMinutes," min"]})}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsx("span",{className:`px-2 py-1 rounded-md text-[10px] font-black uppercase border ${re.status==="CONCLUIDO"?"bg-green-500/10 text-green-600 border-green-500/20":re.status==="PENDENTE"?"bg-yellow-500/10 text-yellow-600 border-yellow-500/20":"bg-red-500/10 text-red-600 border-red-500/20"}`,children:re.status==="CONCLUIDO"?"CONCLUDO":re.status==="PENDENTE"?"PENDENTE":"CANCELADO"})})]},ut))})]})})]}),r==="receivable"&&a.jsxs("div",{className:"bg-surface rounded-xl shadow-sm border border-bdr flex flex-col min-h-[600px] animate-in fade-in slide-in-from-bottom-2 duration-300 transition-colors",children:[a.jsxs("div",{className:"p-6 border-b border-bdr flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"font-black text-txt-main flex items-center gap-2 text-sm uppercase tracking-wide",children:[a.jsx(Oh,{className:"w-5 h-5 text-green-500"}),"Contas a Receber"]}),a.jsx("p",{className:"text-xs text-txt-muted font-bold",children:"Prximas no perodo filtrado"})]}),a.jsxs("button",{onClick:()=>m(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg text-xs font-black uppercase tracking-wide text-white shadow-sm transition-transform active:scale-95 bg-green-600 hover:bg-green-700",children:[a.jsx(Ao,{className:"w-4 h-4"}),"Nova Conta"]})]}),a.jsxs("div",{className:"px-6 py-4 border-b border-bdr flex flex-wrap items-center justify-between gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm font-semibold text-txt-muted uppercase",children:"Total previsto"}),a.jsx("span",{className:"text-2xl font-black text-green-500",children:Ie(Mt)})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-[11px] font-bold text-txt-muted uppercase",children:"Filtro"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>b("all"),className:`px-3 py-1.5 rounded text-xs font-black border ${g==="all"?"bg-green-600 text-white border-green-500":"bg-app text-txt-muted border-bdr"}`,children:"Todos"}),a.jsx("button",{onClick:()=>b("personal"),className:`px-3 py-1.5 rounded text-xs font-black border ${g==="personal"?"bg-purple-600 text-white border-purple-500":"bg-app text-txt-muted border-bdr"}`,children:"Pessoais"}),a.jsx("button",{onClick:()=>b("with-client"),className:`px-3 py-1.5 rounded text-xs font-black border ${g==="with-client"?"bg-blue-600 text-white border-blue-500":"bg-app text-txt-muted border-bdr"}`,children:"Com cliente"})]})]})]}),a.jsx("div",{className:"flex-1 overflow-x-auto",children:kr.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center text-txt-muted p-12",children:[a.jsx(Rx,{className:"w-16 h-16 mb-4 opacity-20"}),a.jsx("p",{className:"text-lg font-bold mb-2 text-txt-main",children:"Nenhum registro encontrado neste perodo"}),a.jsx("p",{className:"text-sm font-medium opacity-70",children:"Use o filtro de datas ou adicione novas contas."})]}):a.jsxs("table",{className:"w-full text-sm text-left",children:[a.jsx("thead",{className:"bg-app text-[10px] text-txt-muted uppercase font-black tracking-wider border-b border-bdr",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3",children:"Descrio / Cliente"}),a.jsx("th",{className:"px-4 py-3",children:"Vencimento"}),a.jsx("th",{className:"px-4 py-3 text-right",children:"Valor"}),a.jsx("th",{className:"px-4 py-3 text-right",children:"Pago"}),a.jsx("th",{className:"px-4 py-3 text-right",children:"Pendente"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"Status"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"Tipo"}),a.jsx("th",{className:"px-4 py-3 text-right",children:"Aes"})]})}),a.jsx("tbody",{className:"divide-y divide-bdr",children:kr.sort((re,ut)=>(re.vencimento_em||0)-(ut.vencimento_em||0)).map(re=>{const ut=ee[re.id];return a.jsxs("tr",{className:"hover:bg-app transition-colors",children:[a.jsxs("td",{className:"px-4 py-3",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx("span",{className:"font-bold text-txt-main",children:re.description||re.devedor_nome||"Conta"}),re.requires_boleto&&a.jsx("span",{className:"px-2 py-0.5 rounded border border-amber-500/30 bg-amber-500/10 text-[10px] font-black uppercase tracking-wide text-amber-400",children:"Boleto"})]}),re.devedor_nome&&a.jsx("div",{className:"text-xs text-txt-muted",children:re.devedor_nome})]}),a.jsx("td",{className:"px-4 py-3 text-txt-muted",children:new Date(re.vencimento_em).toLocaleDateString("pt-BR")}),a.jsx("td",{className:"px-4 py-3 text-right font-semibold",children:Ie(re.total)}),a.jsx("td",{className:"px-4 py-3 text-right text-txt-muted",children:Ie(re.paid)}),a.jsx("td",{className:"px-4 py-3 text-right font-black text-green-500",children:Ie(re.remaining)}),a.jsx("td",{className:"px-4 py-3 text-center",children:a.jsx("span",{className:`px-2 py-1 rounded-md text-[10px] font-black uppercase border ${re.overdue?"bg-red-500/10 text-red-600 border-red-500/20":"bg-amber-500/10 text-amber-600 border-amber-500/20"}`,children:re.overdue?"Vencido":re.status})}),a.jsx("td",{className:"px-4 py-3 text-center",children:re.is_personal?a.jsx("span",{className:"px-2 py-1 rounded bg-purple-500/10 text-purple-500 text-[10px] font-black uppercase border border-purple-500/20",children:"Pessoal"}):a.jsx("span",{className:"px-2 py-1 rounded bg-green-500/10 text-green-600 text-[10px] font-black uppercase border border-green-500/20",children:"Comrcio"})}),a.jsx("td",{className:"px-4 py-3 text-right",children:a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[re.requires_boleto?a.jsxs("button",{title:ut?"Ver boleto":"Emitir boleto",onClick:()=>Xe(re.id),className:`flex items-center gap-1 px-2 py-1 rounded text-xs font-bold border ${er(ut)}`,children:[a.jsx(Ox,{className:"w-4 h-4"}),Ue(ut)]}):null,a.jsx("button",{title:"Detalhes",onClick:()=>{w(re.id),X(new Date(re.vencimento_em).toISOString().slice(0,10)),S(""),O(""),ne(new Date().toISOString().slice(0,10))},className:"px-2 py-1 rounded text-xs font-bold bg-app border border-bdr text-txt-muted",children:"Detalhes"}),a.jsx("button",{title:"Registrar pagamento parcial",onClick:()=>{const it=prompt("Valor a registrar?",re.remaining.toFixed(2));it&&Jt(re.id,it)},className:"p-2 rounded border border-bdr hover:bg-app text-txt-muted",children:a.jsx(Px,{className:"w-4 h-4"})}),a.jsx("button",{title:"Quitar",onClick:()=>Yt(re.id,"",void 0),className:"px-2 py-1 rounded text-xs font-bold bg-green-600 text-white",children:"Baixar"}),a.jsx("button",{title:"Excluir",onClick:()=>En(re.id),className:"p-2 rounded border border-red-500/40 text-red-500 hover:bg-red-500/10",children:a.jsx(aa,{className:"w-4 h-4"})})]})})]},re.id)})})]})})]}),r==="payable"&&a.jsxs("div",{className:"bg-surface rounded-xl shadow-sm border border-bdr flex flex-col min-h-[600px] animate-in fade-in slide-in-from-bottom-2 duration-300 transition-colors",children:[a.jsxs("div",{className:"p-6 border-b border-bdr flex justify-between items-center",children:[a.jsxs("h3",{className:"font-black text-txt-main flex items-center gap-2 text-sm uppercase tracking-wide",children:[a.jsx(Oh,{className:"w-5 h-5 text-red-500"}),"Contas a Pagar"]}),a.jsxs("button",{onClick:()=>d(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg text-xs font-black uppercase tracking-wide text-white shadow-sm transition-transform active:scale-95 bg-red-600 hover:bg-red-700",children:[a.jsx(Ao,{className:"w-4 h-4"}),"Nova Despesa"]})]}),a.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-txt-muted p-12",children:[a.jsx(Rx,{className:"w-16 h-16 mb-4 opacity-20"}),a.jsx("p",{className:"text-lg font-bold mb-2 text-txt-main",children:"Nenhum registro encontrado neste perodo"}),a.jsx("p",{className:"text-sm font-medium opacity-70",children:"Utilize o boto acima para adicionar novos registros manualmente ou altere o filtro de datas."})]})]})]})}),N&&Ht&&a.jsx("div",{className:"fixed inset-0 bg-black/70 z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-surface w-full max-w-3xl rounded-xl border border-bdr shadow-xl text-white flex flex-col max-h-[90vh]",children:[a.jsxs("div",{className:"flex items-center justify-between px-5 py-4 border-b border-bdr",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-black",children:"Detalhes da Conta"}),a.jsxs("p",{className:"text-xs text-txt-muted",children:[Ht.description||Ht.devedor_nome||"Conta","  Vence em ",new Date(Ht.vencimento_em).toLocaleDateString("pt-BR")]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>window.print(),className:"px-3 py-2 rounded bg-app border border-bdr text-sm font-bold",children:"Imprimir"}),a.jsx("button",{onClick:()=>w(null),className:"p-2 rounded hover:bg-red-500/10 text-txt-muted hover:text-red-400",children:"Fechar"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 px-5 py-4 border-b border-bdr text-sm",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-txt-muted text-xs uppercase font-bold",children:"Valor"}),a.jsx("div",{className:"text-xl font-black",children:Ie(Ht.total)})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-txt-muted text-xs uppercase font-bold",children:"Pago"}),a.jsx("div",{className:"text-lg font-semibold text-green-400",children:Ie(Ht.paid)})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-txt-muted text-xs uppercase font-bold",children:"Pendente"}),a.jsx("div",{className:"text-lg font-black text-amber-400",children:Ie(Ht.remaining)})]})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto px-5 py-4 space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"p-4 rounded border border-bdr bg-app/60",children:[a.jsxs("h4",{className:"text-sm font-black mb-3 flex items-center gap-2",children:[a.jsx(Px,{className:"w-4 h-4"})," Registrar pagamento"]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("input",{value:T,onChange:re=>S(re.target.value),placeholder:"Valor",className:"w-full p-2 rounded bg-app border border-bdr text-white"}),a.jsx("input",{type:"date",value:M,onChange:re=>ne(re.target.value),className:"w-full p-2 rounded bg-app border border-bdr text-white"}),a.jsxs("select",{value:I,onChange:re=>O(re.target.value),className:"w-full p-2 rounded bg-app border border-bdr text-white",children:[a.jsx("option",{value:"",children:"Forma de pagamento"}),(he||[]).map(re=>a.jsx("option",{value:re.id,children:re.name??re.nome},re.id))]}),a.jsx("input",{value:z,onChange:re=>oe(re.target.value),placeholder:"Observaes (opcional)",className:"w-full p-2 rounded bg-app border border-bdr text-white"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:kt,className:"flex-1 bg-amber-500 text-black font-black py-2 rounded disabled:opacity-60",children:C?"Atualizar":"Salvar pagamento"}),a.jsx("button",{onClick:()=>Yt(Ht.id,I,M,z),className:"flex-1 bg-green-600 text-white font-black py-2 rounded",children:"Quitar pendente"})]}),C&&a.jsx("button",{onClick:()=>{U(null),S(""),oe("")},className:"text-xs text-txt-muted underline",children:"Cancelar edio"})]})]}),a.jsxs("div",{className:"p-4 rounded border border-bdr bg-app/60",children:[a.jsx("h4",{className:"text-sm font-black mb-3",children:"Ajustar vencimento"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("input",{type:"date",value:te||new Date(Ht.vencimento_em).toISOString().slice(0,10),onChange:re=>X(re.target.value),className:"w-full p-2 rounded bg-app border border-bdr text-white"}),a.jsx("button",{onClick:()=>br(Ht.id,te||new Date(Ht.vencimento_em).toISOString().slice(0,10)),className:"w-full bg-blue-600 text-white font-black py-2 rounded",children:"Salvar nova data"})]})]})]}),a.jsxs("div",{className:"p-4 rounded border border-bdr bg-app/60",children:[a.jsx("h4",{className:"text-sm font-black mb-3",children:"Histrico de pagamentos"}),ve&&ve.length>0?a.jsx("div",{className:"space-y-2",children:ve.sort((re,ut)=>ut.data_hora-re.data_hora).map(re=>a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between text-sm bg-app rounded px-3 py-2 border border-bdr gap-2",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold",children:Ie(re.valor)}),a.jsxs("div",{className:"text-xs text-txt-muted",children:[new Date(re.data_hora).toLocaleString("pt-BR"),re.payment_method_id?`  Forma: ${or.get(re.payment_method_id)||re.payment_method_id}`:""]}),re.obs&&a.jsxs("div",{className:"text-xs text-amber-400",children:["Obs: ",re.obs]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"text-xs text-txt-muted",children:["Usurio: ",re.usuario_id]}),a.jsx("button",{className:"px-2 py-1 rounded text-xs font-bold bg-app border border-bdr text-txt-muted",onClick:()=>{U(re.id),S(String(re.valor)),O(re.payment_method_id||""),ne(new Date(re.data_hora).toISOString().slice(0,10)),oe(re.obs||"")},children:"Editar"})]})]},re.id))}):a.jsx("p",{className:"text-sm text-txt-muted",children:"Nenhum pagamento registrado."})]}),a.jsxs("div",{className:"p-4 rounded border border-bdr bg-app/60",children:[a.jsx("h4",{className:"text-sm font-black mb-3",children:"Nova parcela"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:[a.jsx("input",{value:ge,onChange:re=>Z(re.target.value),placeholder:"Valor da parcela",className:"p-2 rounded bg-app border border-bdr text-white"}),a.jsx("input",{type:"date",value:W,onChange:re=>ae(re.target.value),className:"p-2 rounded bg-app border border-bdr text-white"}),a.jsx("button",{onClick:()=>yn(Ht,ge,W),className:"bg-amber-500 text-black font-black py-2 rounded disabled:opacity-60",disabled:!ge,children:"Gerar parcela"})]})]})]})]})}),a.jsx(zD,{isOpen:i,onClose:()=>l(!1),defaultGoal:It}),a.jsx(HD,{isOpen:u,onClose:()=>d(!1)}),a.jsx(qD,{isOpen:h,onClose:()=>m(!1)}),K&&Kt&&a.jsx(VD,{receivable:Kt,onClose:dt,onSaved:at})]})};function JD({isOpen:t,onClose:e,deposits:r,configs:n,initialMethod:i,onSaved:l}){const[u,d]=P.useState(""),[h,m]=P.useState("cash"),[g,b]=P.useState(!1),[N,w]=P.useState([]),[C,U]=P.useState(!1),T=h==="cash"||h==="pix";P.useEffect(()=>{if(!t)return;d((i==null?void 0:i.name)??"");const M=(i==null?void 0:i.receipt_type)??"cash";m(M),b((i==null?void 0:i.generates_receivable)??!1);const ne=(i==null?void 0:i.id)??"",z=r.map(oe=>{const te=n.find(X=>X.payment_method_id===ne&&X.deposit_id===oe.id);return{deposit_id:oe.id,is_active:(te==null?void 0:te.is_active)??!0,due_days:(te==null?void 0:te.due_days)??0,max_installments:(te==null?void 0:te.max_installments)??1}});w(z)},[t,i,r,n]),P.useEffect(()=>{T&&b(!1)},[T]);const S=P.useMemo(()=>u.trim().length>0&&!!h,[u,h]);if(!t)return null;const I=(M,ne)=>{w(z=>z.map(oe=>oe.deposit_id===M?{...oe,...ne}:oe))},O=async()=>{if(!S){alert("Preencha o nome e selecione um tipo.");return}const M=T?!1:g,ne=N.map(z=>({...z,due_days:Number(z.due_days)||0,max_installments:Math.max(1,Number(z.max_installments)||1)}));if(M&&ne.filter(oe=>oe.is_active&&oe.due_days<=0).length>0){alert("Defina um prazo em dias maior que zero para depsitos ativos.");return}try{U(!0);const z=(i==null?void 0:i.id)??crypto.randomUUID(),oe=ne.map(ge=>({payment_method_id:z,deposit_id:ge.deposit_id,is_active:ge.is_active,due_days:M&&ge.is_active?ge.due_days:0,max_installments:ge.is_active?ge.max_installments:1,created_at:null,updated_at:null})),te={id:z,name:u.trim(),receipt_type:h,generates_receivable:M,is_active:oe.some(ge=>ge.is_active),created_at:(i==null?void 0:i.created_at)??null,updated_at:(i==null?void 0:i.updated_at)??null},X=await NR(te);oe.length>0&&await ER(oe),l==null||l(X),e()}catch(z){console.error(z),alert("Erro ao salvar forma de pagamento.")}finally{U(!1)}};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:a.jsxs("div",{className:"w-full max-w-2xl bg-surface border border-bdr rounded-2xl shadow-2xl p-6 space-y-6 animate-in zoom-in-95 duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-black uppercase tracking-widest text-txt-muted",children:"Cadastro"}),a.jsx("h2",{className:"text-xl font-black text-txt-main",children:"Forma de Pagamento"})]}),a.jsx("button",{onClick:e,className:"text-txt-muted hover:text-txt-main transition-colors","aria-label":"Fechar",children:a.jsx(qn,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-black uppercase tracking-widest text-txt-muted",children:"Nome"}),a.jsx("input",{className:"w-full bg-app border border-bdr rounded-lg px-3 py-2 text-sm font-bold text-txt-main focus:ring-2 focus:ring-emerald-500 outline-none",value:u,onChange:M=>d(M.target.value),placeholder:"Ex.: Dinheiro, Cartao Credito"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-black uppercase tracking-widest text-txt-muted",children:"Tipo"}),a.jsxs("select",{className:"w-full bg-app border border-bdr rounded-lg px-3 py-2 text-sm font-bold text-txt-main focus:ring-2 focus:ring-emerald-500 outline-none",value:h,onChange:M=>m(M.target.value),children:[a.jsx("option",{value:"cash",children:"Dinheiro"}),a.jsx("option",{value:"card",children:"Cartao"}),a.jsx("option",{value:"pix",children:"Pix"}),a.jsx("option",{value:"fiado",children:"Fiado/Boleto"}),a.jsx("option",{value:"boleto",children:"Boleto"}),a.jsx("option",{value:"other",children:"Outro"})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("label",{className:"flex items-center gap-2 text-sm font-bold text-txt-main",children:[a.jsx("input",{type:"checkbox",className:"w-4 h-4",checked:T?!1:g,onChange:M=>b(M.target.checked),disabled:T}),"Gera Conta a Receber?"]}),a.jsx("span",{className:"text-xs text-txt-muted",children:"Dinheiro/Pix sempre recebem a vista."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"text-xs font-black uppercase tracking-widest text-txt-muted",children:"Config por deposito"}),a.jsxs("span",{className:"text-[10px] text-txt-muted",children:[r.length," deposito(s)"]})]}),a.jsx("div",{className:"space-y-2",children:r.map(M=>{const ne=N.find(te=>te.deposit_id===M.id)||{deposit_id:M.id,is_active:!0,due_days:0,max_installments:1},z=T||!g||!ne.is_active,oe=T||!ne.is_active;return a.jsxs("div",{className:"border border-bdr rounded-xl p-3 bg-app/40 space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-bold text-txt-main",children:M.nome}),a.jsxs("label",{className:"flex items-center gap-2 text-xs font-black text-txt-muted uppercase",children:[a.jsx("input",{type:"checkbox",className:"w-4 h-4",checked:ne.is_active,onChange:te=>I(M.id,{is_active:te.target.checked})}),"Ativo"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-txt-muted",children:"Prazo (dias)"}),a.jsx("input",{type:"number",min:0,className:"w-full bg-app border border-bdr rounded-lg px-3 py-2 text-sm font-bold text-txt-main focus:ring-2 focus:ring-emerald-500 outline-none",value:ne.due_days,onChange:te=>I(M.id,{due_days:Number(te.target.value)||0}),disabled:z})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-txt-muted",children:"Max. parcelas"}),a.jsx("input",{type:"number",min:1,className:"w-full bg-app border border-bdr rounded-lg px-3 py-2 text-sm font-bold text-txt-main focus:ring-2 focus:ring-emerald-500 outline-none",value:ne.max_installments,onChange:te=>I(M.id,{max_installments:Number(te.target.value)||1}),disabled:oe})]})]})]},M.id)})})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[a.jsx("button",{onClick:e,className:"px-4 py-2 rounded-lg border border-bdr text-txt-muted hover:text-txt-main hover:border-txt-main/40 transition-colors",type:"button",children:"Cancelar"}),a.jsx("button",{onClick:O,disabled:!S||C,className:"px-5 py-2 rounded-lg bg-emerald-600 hover:bg-emerald-700 text-white font-black uppercase tracking-wide shadow-lg shadow-emerald-600/20 disabled:opacity-60",type:"button",children:C?"Salvando...":"Salvar"})]})]})})}const WD={cash:"Dinheiro",card:"Cartao",pix:"Pix",fiado:"Fiado/Boleto",boleto:"Boleto",other:"Outros"};function eM({methods:t,configs:e,deposits:r,onEdit:n,onDelete:i}){if(!t.length)return a.jsx("div",{className:"p-6 text-center text-txt-muted border border-dashed border-bdr rounded-xl bg-app/30",children:"Nenhuma forma de pagamento cadastrada."});const l=r.length;return a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:t.map(u=>{const h=e.filter(w=>w.payment_method_id===u.id).filter(w=>w.is_active),m=h.length,g=h.map(w=>w.due_days).filter(w=>w>0),b=(()=>{if(g.length===0)return"0d";const w=Math.min(...g),C=Math.max(...g);return w===C?`${w}d`:`${w}-${C}d`})(),N=l>0?`${m}/${l} dep.`:"Sem depositos";return a.jsxs("div",{className:"bg-surface border border-bdr rounded-xl p-4 shadow-sm flex flex-col gap-3",children:[a.jsxs("div",{className:"flex justify-between items-start gap-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-black uppercase tracking-widest text-txt-muted",children:"Nome"}),a.jsx("h4",{className:"text-lg font-black text-txt-main",children:u.name})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>n(u),className:"p-2 rounded-lg hover:bg-app text-txt-muted hover:text-txt-main transition-colors",title:"Editar",children:a.jsx(Kb,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>i(u.id),className:"p-2 rounded-lg hover:bg-red-500/10 text-red-500 transition-colors",title:"Excluir",children:a.jsx(aa,{className:"w-4 h-4"})})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-2 text-[11px] font-black uppercase tracking-wide",children:[a.jsx("span",{className:"px-2 py-1 rounded-full bg-emerald-500/10 text-emerald-600 border border-emerald-500/20",children:WD[u.receipt_type]??"Tipo"}),a.jsx("span",{className:`px-2 py-1 rounded-full border ${u.generates_receivable?"bg-yellow-500/10 text-yellow-600 border-yellow-500/20":"bg-gray-500/10 text-gray-400 border-gray-500/20"}`,children:u.generates_receivable?"Gera conta":"Nao gera"}),a.jsxs("span",{className:"px-2 py-1 rounded-full bg-indigo-500/10 text-indigo-600 border border-indigo-500/20 flex items-center gap-1",children:[a.jsx(tS,{className:"w-3 h-3"})," ",b]}),a.jsx("span",{className:"px-2 py-1 rounded-full bg-blue-500/10 text-blue-600 border border-blue-500/20",children:N})]}),a.jsx("div",{className:"flex items-center gap-2 text-sm font-black",children:m>0?a.jsxs("span",{className:"flex items-center gap-1 text-emerald-600",children:[a.jsx(tA,{className:"w-4 h-4"})," ATIVO"]}):a.jsxs("span",{className:"flex items-center gap-1 text-red-500",children:[a.jsx(Qh,{className:"w-4 h-4"})," INATIVO"]})})]},u.id)})})}const tM=({onClose:t})=>{const[e,r]=P.useState("methods"),[n,i]=P.useState([]),[l,u]=P.useState([]),[d,h]=P.useState([]),[m,g]=P.useState([]),[b,N]=P.useState(!1),[w,C]=P.useState(!1),[U,T]=P.useState(""),[S,I]=P.useState(null),[O,M]=P.useState({}),[ne,z]=P.useState(null),oe=P.useCallback(async()=>{const K=await G_();i(K)},[]),te=P.useCallback(async()=>{const K=await Tb();u(K)},[]);P.useEffect(()=>{let K=!0;return(async()=>{const[ue,Q,Ae,ee]=await Promise.all([G_(),Th(),Gm(),Tb()]);K&&(i(ue),h(Q),g(Ae),u(ee))})(),()=>{K=!1}},[]),P.useEffect(()=>{qe.auth.getUser().then(({data:K})=>{var ue;z(((ue=K==null?void 0:K.user)==null?void 0:ue.id)??null)})},[]);const X=async K=>{confirm("Tem certeza? Isso pode afetar relatrios antigos.")&&(await CR(K),await oe(),await te())},ge=async()=>{if(!O.nome)return alert("Nome da maquininha  obrigatrio");const K={id:O.id||crypto.randomUUID(),nome:O.nome,taxaDebito:Number(O.taxaDebito)||0,taxaCreditoVista:Number(O.taxaCreditoVista)||0,taxaCreditoParcelado:Number(O.taxaCreditoParcelado)||0,depositosPermitidos:O.depositosPermitidos||[],ativo:O.ativo??!0};await SR(K);const ue=await Th();h(ue),C(!1),await Z_({usuario_id:ne,deposit_id:void 0,entidade:"PAGAMENTO",entidade_id:K.id,acao:"UPDATE",depois_json:K,antes_json:O.id?d.find(Q=>Q.id===O.id):void 0})},Z=async K=>{if(!confirm("Excluir maquininha?"))return;await jR(K);const ue=await Th();h(ue)},W=n.filter(K=>(K.name??"").toLowerCase().includes(U.toLowerCase())),ae=d.filter(K=>K.nome.toLowerCase().includes(U.toLowerCase()));return a.jsxs("div",{className:"fixed inset-0 bg-app/90 backdrop-blur-sm z-50 flex flex-col animate-in fade-in duration-300",children:[a.jsxs("div",{className:"bg-surface border-b border-bdr px-6 py-4 flex justify-between items-center shadow-sm shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"bg-emerald-500/10 p-2 rounded-xl border border-emerald-500/20",children:a.jsx(vd,{className:"w-6 h-6 text-emerald-600"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-black text-txt-main tracking-tight",children:"Formas de Pagamento & Mquinas"}),a.jsx("p",{className:"text-xs text-txt-muted font-bold uppercase tracking-widest",children:"Configurao Financeira"})]})]}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-red-500/10 hover:text-red-500 text-txt-muted rounded-full transition-colors",children:a.jsx(qn,{className:"w-6 h-6"})})]}),a.jsx("div",{className:"bg-surface border-b border-bdr px-6",children:a.jsxs("div",{className:"flex gap-8",children:[a.jsxs("button",{onClick:()=>r("methods"),className:`pb-4 pt-4 text-sm font-black uppercase tracking-widest border-b-4 transition-all flex items-center gap-2 ${e==="methods"?"border-emerald-500 text-emerald-600":"border-transparent text-txt-muted hover:text-txt-main"}`,children:[a.jsx(M5,{className:"w-4 h-4"})," Formas de Pagamento"]}),a.jsxs("button",{onClick:()=>r("machines"),className:`pb-4 pt-4 text-sm font-black uppercase tracking-widest border-b-4 transition-all flex items-center gap-2 ${e==="machines"?"border-emerald-500 text-emerald-600":"border-transparent text-txt-muted hover:text-txt-main"}`,children:[a.jsx(v0,{className:"w-4 h-4"})," Mquinas de Carto"]})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-app",children:a.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[a.jsxs("div",{className:"bg-surface p-4 rounded-xl shadow-sm border border-bdr flex flex-col md:flex-row justify-between items-center gap-4",children:[a.jsxs("div",{className:"relative w-full md:w-96",children:[a.jsx(rA,{className:"w-4 h-4 text-txt-muted absolute left-3 top-3"}),a.jsx("input",{type:"text",placeholder:e==="methods"?"Buscar forma de pagamento...":"Buscar maquininha...",value:U,onChange:K=>T(K.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-app border border-bdr rounded-xl text-sm focus:ring-2 focus:ring-emerald-500 outline-none text-txt-main font-bold"})]}),a.jsxs("button",{onClick:()=>{e==="methods"?(I(null),N(!0)):(M({ativo:!0,depositosPermitidos:[]}),C(!0))},className:"w-full md:w-auto bg-emerald-500 hover:bg-emerald-600 text-white px-6 py-2.5 rounded-xl font-black text-sm shadow-lg shadow-emerald-500/20 flex items-center justify-center gap-2 transition-transform active:scale-95",children:[a.jsx(Ao,{className:"w-4 h-4"}),e==="methods"?"NOVA FORMA PAGTO":"NOVA MAQUININHA"]})]}),e==="methods"&&a.jsx("div",{className:"bg-surface rounded-2xl shadow-sm border border-bdr p-4 overflow-hidden animate-in fade-in",children:a.jsx(eM,{methods:W,configs:l,deposits:m,onEdit:K=>{I(K),N(!0)},onDelete:X})}),e==="machines"&&a.jsx("div",{className:"bg-surface rounded-2xl shadow-sm border border-bdr overflow-hidden animate-in fade-in",children:a.jsxs("table",{className:"w-full text-left text-sm",children:[a.jsx("thead",{className:"bg-app border-b border-bdr text-xs font-black text-txt-muted uppercase tracking-widest",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4",children:"Nome da Maquininha"}),a.jsx("th",{className:"px-6 py-4 text-center",children:"Taxa Dbito"}),a.jsx("th",{className:"px-6 py-4 text-center",children:"Taxa Crdito Vista"}),a.jsx("th",{className:"px-6 py-4 text-center",children:"Taxa Crdito Parc."}),a.jsx("th",{className:"px-6 py-4",children:"Depsitos Permitidos"}),a.jsx("th",{className:"px-6 py-4 text-right",children:"Aes"})]})}),a.jsx("tbody",{className:"divide-y divide-bdr",children:ae.map(K=>a.jsxs("tr",{className:"hover:bg-app transition-colors group",children:[a.jsxs("td",{className:"px-6 py-4 font-bold text-txt-main flex items-center gap-2",children:[a.jsx(v0,{className:"w-4 h-4 text-txt-muted"}),K.nome]}),a.jsxs("td",{className:"px-6 py-4 text-center font-mono text-txt-main",children:[K.taxaDebito,"%"]}),a.jsxs("td",{className:"px-6 py-4 text-center font-mono text-txt-main",children:[K.taxaCreditoVista,"%"]}),a.jsxs("td",{className:"px-6 py-4 text-center font-mono text-txt-main",children:[K.taxaCreditoParcelado,"%"]}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"flex gap-1 flex-wrap",children:K.depositosPermitidos.map(ue=>a.jsx("span",{className:"px-2 py-0.5 bg-app border border-bdr rounded text-[10px] font-bold text-txt-muted uppercase",children:ue},ue))})}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsxs("div",{className:"flex items-center justify-end gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[a.jsx("button",{onClick:()=>{M(K),C(!0)},className:"p-2 hover:bg-blue-50 text-blue-500 rounded-lg",children:a.jsx(Kb,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>Z(K.id),className:"p-2 hover:bg-red-50 text-red-500 rounded-lg",children:a.jsx(aa,{className:"w-4 h-4"})})]})})]},K.id))})]})})]})}),a.jsx(JD,{isOpen:b,onClose:()=>N(!1),deposits:m,configs:l,initialMethod:S,onSaved:async K=>{if(!K||!K.id){console.error("Erro: Mtodo de pagamento salvo  invlido.",K);return}await oe(),await te(),await Z_({usuario_id:ne,deposit_id:void 0,entidade:"PAGAMENTO",entidade_id:K.id,acao:"UPDATE",depois_json:K,antes_json:S})}}),w&&a.jsx("div",{className:"fixed inset-0 bg-black/60 z-[60] flex items-center justify-center p-4 backdrop-blur-sm",children:a.jsxs("div",{className:"bg-surface w-full max-w-lg rounded-2xl shadow-2xl border border-bdr overflow-hidden animate-in zoom-in-95 duration-200",children:[a.jsxs("div",{className:"bg-app px-6 py-4 border-b border-bdr flex justify-between items-center",children:[a.jsxs("h3",{className:"font-black text-lg text-txt-main flex items-center gap-2",children:[a.jsx(v0,{className:"w-5 h-5 text-emerald-500"}),O.id?"Editar Maquininha":"Nova Maquininha"]}),a.jsx("button",{onClick:()=>C(!1),className:"hover:bg-bdr p-1 rounded-full",children:a.jsx(qn,{className:"w-5 h-5 text-txt-muted"})})]}),a.jsxs("div",{className:"p-6 space-y-5",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-txt-muted uppercase mb-1.5",children:"Nome da Maquininha"}),a.jsx("input",{type:"text",value:O.nome||"",onChange:K=>M({...O,nome:K.target.value}),className:"w-full bg-app border border-bdr rounded-xl p-3 text-sm font-bold text-txt-main focus:ring-2 focus:ring-emerald-500 outline-none",placeholder:"Ex: Stone - Loja 1"})]}),a.jsx("div",{className:"grid grid-cols-3 gap-4",children:[{label:"Taxa Dbito",key:"taxaDebito"},{label:"Crdito Vista",key:"taxaCreditoVista"},{label:"Crdito Parc.",key:"taxaCreditoParcelado"}].map(K=>a.jsxs("div",{children:[a.jsx("label",{className:"block text-[10px] font-bold text-txt-muted uppercase mb-1.5 truncate",children:K.label}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"number",value:O[K.key]||"",onChange:ue=>M({...O,[K.key]:ue.target.value}),className:"w-full bg-app border border-bdr rounded-xl p-3 text-sm font-bold text-txt-main focus:ring-2 focus:ring-emerald-500 outline-none pr-8",placeholder:"0.00"}),a.jsx("span",{className:"absolute right-3 top-3 text-xs font-bold text-txt-muted",children:"%"})]})]},K.key))}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-txt-muted uppercase mb-2",children:"Depsitos Autorizados"}),a.jsx("div",{className:"space-y-2 bg-app p-4 rounded-xl border border-bdr",children:m.map(K=>{var ue,Q,Ae;return a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-2 hover:bg-surface rounded-lg transition-colors",children:[a.jsx("div",{className:`w-5 h-5 border-2 rounded flex items-center justify-center transition-colors ${(ue=O.depositosPermitidos)!=null&&ue.includes(K.id)?"bg-emerald-500 border-emerald-500":"border-txt-muted bg-surface"}`,children:((Q=O.depositosPermitidos)==null?void 0:Q.includes(K.id))&&a.jsx(tA,{className:"w-3.5 h-3.5 text-white"})}),a.jsx("input",{type:"checkbox",className:"hidden",checked:(Ae=O.depositosPermitidos)==null?void 0:Ae.includes(K.id),onChange:()=>{const ee=O.depositosPermitidos||[];ee.includes(K.id)?M({...O,depositosPermitidos:ee.filter(_e=>_e!==K.id)}):M({...O,depositosPermitidos:[...ee,K.id]})}}),a.jsx("span",{className:"text-sm font-bold text-txt-main",children:K.nome})]},K.id)})})]})]}),a.jsxs("div",{className:"p-6 border-t border-bdr bg-app flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>C(!1),className:"px-4 py-2 text-txt-muted font-bold hover:bg-bdr rounded-lg transition-colors",children:"Cancelar"}),a.jsx("button",{onClick:ge,className:"px-6 py-2 bg-emerald-500 hover:bg-emerald-600 text-white font-bold rounded-lg shadow-lg shadow-emerald-500/20 transition-all active:scale-95",children:"Salvar"})]})]})})]})},rM=({onClose:t})=>{const[e,r]=P.useState("modalities"),[n,i]=P.useState(!0),[l,u]=P.useState([]),[d,h]=P.useState([]),[m,g]=P.useState([]),[b,N]=P.useState([]),[w,C]=P.useState([]),[U,T]=P.useState({}),[S,I]=P.useState(!1),[O,M]=P.useState("DEP1"),[ne,z]=P.useState("");P.useEffect(()=>{(async()=>{const[ue,Q,Ae,ee,_e]=await Promise.all([Promise.resolve(UR()),Promise.resolve(kR()),Promise.resolve(FR()),Promise.resolve(BR()),Gm()]);u(ue),h(Q),g(Ae),N(ee),C(_e),_e.length>0&&M(_e[0].id),i(!1)})()},[]),P.useEffect(()=>{l.length>0&&!ne&&z(l[0].id)},[l]);const oe=()=>{if(!U.nomePadrao||!U.codigo)return alert("Nome e Cdigo so obrigatrios.");const ue={id:U.id||crypto.randomUUID(),codigo:U.codigo.toUpperCase(),nomePadrao:U.nomePadrao,ordem:U.ordem||l.length+1,ativo:U.ativo??!0};let Q;U.id?Q=l.map(Ae=>Ae.id===ue.id?ue:Ae):Q=[...l,ue],Q.sort((Ae,ee)=>Ae.ordem-ee.ordem),V_(Q),u(Q),I(!1)},te=ue=>{if(!confirm("Excluir modalidade? Regras associadas podem quebrar."))return;const Q=l.filter(Ae=>Ae.id!==ue);V_(Q),u(Q)},X=(ue,Q)=>{var Ae;return((Ae=d.find(ee=>ee.modalidadeId===ue&&ee.depositoId===Q))==null?void 0:Ae.nomeExibicao)||""},ge=(ue,Q)=>{const Ae=d.findIndex(_e=>_e.modalidadeId===ue&&_e.depositoId===O);let ee=[...d];Ae>=0?Q.trim()===""?ee.splice(Ae,1):ee[Ae]={...ee[Ae],nomeExibicao:Q}:Q.trim()!==""&&ee.push({id:crypto.randomUUID(),modalidadeId:ue,depositoId:O,nomeExibicao:Q}),h(ee),LR(ee)},Z=P.useMemo(()=>m.filter(ue=>ue.modalidadeId===ne),[m,ne]),W=()=>{var Ae;const ue={id:crypto.randomUUID(),modalidadeId:ne,produtoPrincipalId:((Ae=b[0])==null?void 0:Ae.id)||"",produtoSaidaId:null,fatorSaida:1,produtoEntradaId:null,fatorEntrada:1},Q=[...m,ue];g(Q),xx(Q)},ae=(ue,Q,Ae)=>{const ee=m.map(_e=>_e.id===ue?{..._e,[Q]:Ae}:_e);g(ee),xx(ee)},K=ue=>{const Q=m.filter(Ae=>Ae.id!==ue);g(Q),xx(Q)};return a.jsxs("div",{className:"fixed inset-0 bg-app z-50 flex flex-col animate-in fade-in duration-300",children:[a.jsxs("div",{className:"bg-surface border-b border-bdr px-6 py-4 flex justify-between items-center shadow-sm shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"bg-teal-500/10 p-2 rounded-xl border border-teal-500/20",children:a.jsx(vd,{className:"w-6 h-6 text-teal-600"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-black text-txt-main tracking-tight",children:"Modalidades de Venda"}),a.jsx("p",{className:"text-xs text-txt-muted font-bold uppercase tracking-widest",children:"Configurao de Regras de Negcio"})]})]}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-red-500/10 hover:text-red-500 text-txt-muted rounded-full transition-colors",children:a.jsx(qn,{className:"w-6 h-6"})})]}),a.jsx("div",{className:"bg-surface border-b border-bdr px-6",children:a.jsxs("div",{className:"flex gap-8",children:[a.jsxs("button",{onClick:()=>r("modalities"),className:`pb-4 pt-4 text-sm font-black uppercase tracking-widest border-b-4 transition-all flex items-center gap-2 ${e==="modalities"?"border-teal-500 text-teal-600":"border-transparent text-txt-muted hover:text-txt-main"}`,children:[a.jsx(tw,{className:"w-4 h-4"})," Cadastro de Modalidades"]}),a.jsxs("button",{onClick:()=>r("labels"),className:`pb-4 pt-4 text-sm font-black uppercase tracking-widest border-b-4 transition-all flex items-center gap-2 ${e==="labels"?"border-teal-500 text-teal-600":"border-transparent text-txt-muted hover:text-txt-main"}`,children:[a.jsx(Dx,{className:"w-4 h-4"})," Rtulos por Depsito"]}),a.jsxs("button",{onClick:()=>r("rules"),className:`pb-4 pt-4 text-sm font-black uppercase tracking-widest border-b-4 transition-all flex items-center gap-2 ${e==="rules"?"border-teal-500 text-teal-600":"border-transparent text-txt-muted hover:text-txt-main"}`,children:[a.jsx(Pp,{className:"w-4 h-4"})," Regras de Estoque"]})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-app",children:a.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[e==="modalities"&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"flex justify-end",children:a.jsxs("button",{onClick:()=>{T({ativo:!0,ordem:l.length+1}),I(!0)},className:"bg-teal-500 hover:bg-teal-600 text-white px-6 py-2.5 rounded-xl font-black text-sm shadow-lg shadow-teal-500/20 flex items-center gap-2 transition-transform active:scale-95",children:[a.jsx(Ao,{className:"w-4 h-4"})," NOVA MODALIDADE"]})}),a.jsx("div",{className:"bg-surface rounded-2xl shadow-sm border border-bdr overflow-hidden",children:a.jsxs("table",{className:"w-full text-left text-sm",children:[a.jsx("thead",{className:"bg-app border-b border-bdr text-xs font-black text-txt-muted uppercase tracking-widest",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 w-20 text-center",children:"Ordem"}),a.jsx("th",{className:"px-6 py-4",children:"Cdigo"}),a.jsx("th",{className:"px-6 py-4",children:"Nome Padro"}),a.jsx("th",{className:"px-6 py-4 text-center",children:"Status"}),a.jsx("th",{className:"px-6 py-4 text-right",children:"Aes"})]})}),a.jsx("tbody",{className:"divide-y divide-bdr",children:l.map(ue=>a.jsxs("tr",{className:"hover:bg-app transition-colors group",children:[a.jsx("td",{className:"px-6 py-4 text-center font-bold text-txt-muted",children:ue.ordem}),a.jsx("td",{className:"px-6 py-4 font-mono font-bold text-teal-600",children:ue.codigo}),a.jsx("td",{className:"px-6 py-4 font-medium text-txt-main",children:ue.nomePadrao}),a.jsx("td",{className:"px-6 py-4 text-center",children:ue.ativo?a.jsx("span",{className:"inline-flex items-center gap-1 text-[10px] bg-green-100 text-green-700 px-2 py-0.5 rounded font-black uppercase",children:"Ativo"}):a.jsx("span",{className:"inline-flex items-center gap-1 text-[10px] bg-red-100 text-red-700 px-2 py-0.5 rounded font-black uppercase",children:"Inativo"})}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsxs("div",{className:"flex items-center justify-end gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[a.jsx("button",{onClick:()=>{T(ue),I(!0)},className:"p-2 hover:bg-blue-50 text-blue-500 rounded-lg",children:a.jsx(Xh,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>te(ue.id),className:"p-2 hover:bg-red-50 text-red-500 rounded-lg",children:a.jsx(aa,{className:"w-4 h-4"})})]})})]},ue.id))})]})})]}),e==="labels"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-surface p-4 rounded-xl border border-bdr flex items-center gap-4",children:[a.jsx("label",{className:"text-xs font-black text-txt-muted uppercase",children:"Selecione o Depsito:"}),a.jsx("select",{value:O,onChange:ue=>M(ue.target.value),className:"bg-app border border-bdr rounded-lg p-2 text-sm font-bold text-txt-main outline-none focus:ring-2 focus:ring-teal-500",children:w.map(ue=>a.jsx("option",{value:ue.id,children:ue.name},ue.id))})]}),a.jsx("div",{className:"bg-surface rounded-2xl shadow-sm border border-bdr overflow-hidden",children:a.jsxs("table",{className:"w-full text-left text-sm",children:[a.jsx("thead",{className:"bg-app border-b border-bdr text-xs font-black text-txt-muted uppercase tracking-widest",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 w-32",children:"Cdigo"}),a.jsx("th",{className:"px-6 py-4 w-1/3",children:"Nome Padro (Sistema)"}),a.jsx("th",{className:"px-6 py-4",children:"Rtulo no Depsito Selecionado"})]})}),a.jsx("tbody",{className:"divide-y divide-bdr",children:l.map(ue=>{const Q=X(ue.id,O);return a.jsxs("tr",{className:"hover:bg-app transition-colors",children:[a.jsx("td",{className:"px-6 py-4 font-mono font-bold text-teal-600",children:ue.codigo}),a.jsx("td",{className:"px-6 py-4 text-txt-muted",children:ue.nomePadrao}),a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("input",{type:"text",value:Q,placeholder:ue.nomePadrao,onChange:Ae=>ge(ue.id,Ae.target.value),className:`w-full bg-app border border-bdr rounded-lg p-2 text-sm font-bold focus:ring-2 focus:ring-teal-500 outline-none ${Q?"text-teal-700 border-teal-200 bg-teal-50":"text-txt-main"}`}),Q&&a.jsx("span",{className:"text-[10px] text-teal-600 font-medium mt-1 block",children:"Personalizado"})]})]},ue.id)})})]})})]}),e==="rules"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-surface p-4 rounded-xl border border-bdr flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("label",{className:"text-xs font-black text-txt-muted uppercase",children:"Configurar Regras para:"}),a.jsx("select",{value:ne,onChange:ue=>z(ue.target.value),className:"bg-app border border-bdr rounded-lg p-2 text-sm font-bold text-txt-main outline-none focus:ring-2 focus:ring-teal-500 min-w-[200px]",children:l.map(ue=>a.jsx("option",{value:ue.id,children:ue.nomePadrao},ue.id))})]}),a.jsxs("button",{onClick:W,className:"bg-teal-500 hover:bg-teal-600 text-white px-4 py-2 rounded-lg font-black text-xs shadow-lg shadow-teal-500/20 flex items-center gap-2 transition-transform active:scale-95",children:[a.jsx(Ao,{className:"w-3 h-3"})," NOVA REGRA"]})]}),a.jsx("div",{className:"bg-surface rounded-2xl shadow-sm border border-bdr overflow-hidden",children:a.jsxs("table",{className:"w-full text-left text-sm",children:[a.jsx("thead",{className:"bg-app border-b border-bdr text-xs font-black text-txt-muted uppercase tracking-widest",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 w-1/4",children:"Quando vender... (Produto Principal)"}),a.jsx("th",{className:"px-4 py-3 w-1/4 border-l border-bdr/50",children:"Deve sair do Estoque..."}),a.jsx("th",{className:"px-4 py-3 w-20 text-center",children:"Fator"}),a.jsx("th",{className:"px-4 py-3 w-1/4 border-l border-bdr/50",children:"Deve entrar no Estoque..."}),a.jsx("th",{className:"px-4 py-3 w-20 text-center",children:"Fator"}),a.jsx("th",{className:"px-4 py-3 text-right",children:"Ao"})]})}),a.jsx("tbody",{className:"divide-y divide-bdr",children:Z.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"p-8 text-center text-txt-muted italic",children:"Nenhuma regra configurada para esta modalidade. O estoque no ser movimentado automaticamente."})}):Z.map(ue=>a.jsxs("tr",{className:"hover:bg-app transition-colors",children:[a.jsx("td",{className:"px-4 py-3",children:a.jsx("select",{value:ue.produtoPrincipalId,onChange:Q=>ae(ue.id,"produtoPrincipalId",Q.target.value),className:"w-full bg-app border border-bdr rounded-lg p-2 text-xs font-bold text-txt-main focus:ring-teal-500 outline-none",children:b.map(Q=>a.jsx("option",{value:Q.id,children:Q.nome},Q.id))})}),a.jsx("td",{className:"px-4 py-3 border-l border-bdr/50 bg-red-50/10",children:a.jsxs("select",{value:ue.produtoSaidaId||"",onChange:Q=>ae(ue.id,"produtoSaidaId",Q.target.value||null),className:"w-full bg-surface border border-bdr rounded-lg p-2 text-xs text-txt-main outline-none focus:ring-red-500",children:[a.jsx("option",{value:"",children:"(Nada)"}),b.map(Q=>a.jsx("option",{value:Q.id,children:Q.nome},Q.id))]})}),a.jsx("td",{className:"px-4 py-3 text-center",children:a.jsx("input",{type:"number",value:ue.fatorSaida,onChange:Q=>ae(ue.id,"fatorSaida",parseFloat(Q.target.value)),className:"w-16 text-center bg-surface border border-bdr rounded p-1 text-xs font-mono"})}),a.jsx("td",{className:"px-4 py-3 border-l border-bdr/50 bg-green-50/10",children:a.jsxs("select",{value:ue.produtoEntradaId||"",onChange:Q=>ae(ue.id,"produtoEntradaId",Q.target.value||null),className:"w-full bg-surface border border-bdr rounded-lg p-2 text-xs text-txt-main outline-none focus:ring-green-500",children:[a.jsx("option",{value:"",children:"(Nada)"}),b.map(Q=>a.jsx("option",{value:Q.id,children:Q.nome},Q.id))]})}),a.jsx("td",{className:"px-4 py-3 text-center",children:a.jsx("input",{type:"number",value:ue.fatorEntrada,onChange:Q=>ae(ue.id,"fatorEntrada",parseFloat(Q.target.value)),className:"w-16 text-center bg-surface border border-bdr rounded p-1 text-xs font-mono"})}),a.jsx("td",{className:"px-4 py-3 text-right",children:a.jsx("button",{onClick:()=>K(ue.id),className:"text-txt-muted hover:text-red-500 p-2",children:a.jsx(aa,{className:"w-4 h-4"})})})]},ue.id))})]})})]})]})}),S&&a.jsx("div",{className:"fixed inset-0 bg-black/60 z-[60] flex items-center justify-center p-4 backdrop-blur-sm",children:a.jsxs("div",{className:"bg-surface w-full max-w-md rounded-2xl shadow-2xl border border-bdr overflow-hidden animate-in zoom-in-95 duration-200",children:[a.jsxs("div",{className:"bg-app px-6 py-4 border-b border-bdr flex justify-between items-center",children:[a.jsxs("h3",{className:"font-black text-lg text-txt-main flex items-center gap-2",children:[a.jsx(tw,{className:"w-5 h-5 text-teal-500"}),U.id?"Editar Modalidade":"Nova Modalidade"]}),a.jsx("button",{onClick:()=>I(!1),className:"hover:bg-bdr p-1 rounded-full",children:a.jsx(qn,{className:"w-5 h-5 text-txt-muted"})})]}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-txt-muted uppercase mb-1",children:"Nome Padro"}),a.jsx("input",{type:"text",value:U.nomePadrao||"",onChange:ue=>T({...U,nomePadrao:ue.target.value}),className:"w-full bg-app border border-bdr rounded-xl p-3 text-sm font-bold text-txt-main outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Ex: Venda Direta",autoFocus:!0})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-txt-muted uppercase mb-1",children:"Cdigo (Sistema)"}),a.jsx("input",{type:"text",value:U.codigo||"",onChange:ue=>T({...U,codigo:ue.target.value.toUpperCase()}),className:"w-full bg-app border border-bdr rounded-xl p-3 text-sm font-mono font-bold text-teal-600 outline-none focus:ring-2 focus:ring-teal-500 uppercase",placeholder:"VENDA"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-txt-muted uppercase mb-1",children:"Ordem"}),a.jsx("input",{type:"number",value:U.ordem||0,onChange:ue=>T({...U,ordem:parseInt(ue.target.value)}),className:"w-full bg-app border border-bdr rounded-xl p-3 text-sm font-bold text-txt-main outline-none focus:ring-2 focus:ring-teal-500"})]})]}),a.jsxs("div",{className:"flex items-center gap-3 p-3 bg-app rounded-xl border border-bdr",children:[a.jsx("input",{type:"checkbox",id:"modActive",checked:U.ativo??!0,onChange:ue=>T({...U,ativo:ue.target.checked}),className:"w-5 h-5 text-teal-500 rounded focus:ring-teal-500"}),a.jsx("label",{htmlFor:"modActive",className:"text-sm font-bold text-txt-main cursor-pointer select-none",children:"Modalidade Ativa"})]})]}),a.jsxs("div",{className:"p-6 border-t border-bdr bg-app flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>I(!1),className:"px-4 py-2 text-txt-muted font-bold hover:bg-bdr rounded-lg transition-colors",children:"Cancelar"}),a.jsx("button",{onClick:oe,className:"px-6 py-2 bg-teal-500 hover:bg-teal-600 text-white font-bold rounded-lg shadow-lg shadow-teal-500/20 transition-all active:scale-95",children:"Salvar"})]})]})})]})},Sx=t=>{const e=Number(t.replace(",","."));return Number.isFinite(e)?e:0},nM=({onClose:t})=>{const{activeShift:e,closeShift:r}=Zm(),[n,i]=P.useState({cash:"",card:"",pix:""}),[l,u]=P.useState({}),[d,h]=P.useState([]),[m,g]=P.useState({}),[b,N]=P.useState(!1),[w,C]=P.useState(!1),[U,T]=P.useState(null),[S,I]=P.useState(null),O=sa(()=>e!=null&&e.depositoId?Or.deposits.get(e.depositoId):void 0,[e==null?void 0:e.depositoId]),M=!!((O==null?void 0:O.require_stock_audit)??(O==null?void 0:O.requireStockAudit)),ne=sa(()=>e!=null&&e.id?Or.cash_flow_entries.where("shift_id").equals(e.id).toArray():[],[e==null?void 0:e.id]),z=ae=>ae.depositoId??null,oe=ae=>(ae.is_delivery_fee??ae.isDeliveryFee)===!0||String(ae.product_group??ae.codigo??"").toLowerCase()==="delivery_fee"?!0:String(ae.nome??"").toLowerCase()==="taxa de entrega",te=ae=>oe(ae)||(ae.track_stock??ae.trackStock)===!1?!0:ae.type==="SERVICE";P.useEffect(()=>{let ae=!0;return(async()=>{if(!(e!=null&&e.depositoId))return;const Q=(await Or.products.toArray()).filter(ee=>{if(te(ee))return!1;const _e=z(ee);return _e===null||_e===e.depositoId}),Ae=await getStockMapForDeposit(e.depositoId);ae&&(h(Q),g(Ae))})(),()=>{ae=!1}},[e==null?void 0:e.depositoId]);const X=P.useMemo(()=>{const ae={cash:0,card:0,pix:0};return(ne||[]).forEach(K=>{const ue=Number(K.amount??0)||0,Q=K.direction==="OUT"?-ue:ue,Ae=K.payment_type??(K.category==="SALE"?"other":"cash");Ae==="cash"&&(ae.cash+=Q),Ae==="card"&&(ae.card+=Q),Ae==="pix"&&(ae.pix+=Q)}),ae},[ne]),ge=P.useMemo(()=>!M||!d.length?!1:d.some(ae=>l[ae.id]===""||l[ae.id]===void 0),[M,d,l]),Z=(ae,K)=>{const ue=parseInt(K);u(Q=>({...Q,[ae]:Number.isNaN(ue)?"":Math.max(0,ue)}))},W=async()=>{if(!e)return;I(null);const ae=Sx(n.cash),K=Sx(n.card),ue=Sx(n.pix);if(ae<0||K<0||ue<0){I("Valores declarados invalidos.");return}if(ge){I("Preencha a contagem de estoque antes de fechar.");return}const Q=ae-X.cash,Ae=K-X.card,ee=ue-X.pix,_e=Math.abs(Q)>.009||Math.abs(Ae)>.009||Math.abs(ee)>.009,Ne=[];M&&d.forEach(F=>{const G=l[F.id];if(G===""||G===void 0)return;const $=Number(m[F.id]??0)||0,V=Number(G)-$;V!==0&&Ne.push({id:crypto.randomUUID(),shift_id:e.id,depositoId:e.depositoId,product_id:F.id,counted_qty:Number(G),system_qty:$,diff_qty:V,created_at:Date.now(),user_id:e.user_id})});const q=_e||Ne.length>0?"DISCREPANCY":"CLOSED";C(!0);try{Ne.length>0&&await saveShiftStockAudits(Ne),await r({declared:{cash:ae,card:K,pix:ue},system:X,status:q,notes:q==="DISCREPANCY"?"Discrepancia detectada no fechamento.":null}),T(q)}catch{I("Falha ao fechar o turno.")}finally{C(!1)}};return!e&&!U?a.jsx("div",{className:"fixed inset-0 bg-app z-50 flex items-center justify-center text-txt-muted",children:"Nenhum turno aberto para fechamento."}):U?a.jsx("div",{className:"fixed inset-0 bg-black/70 z-50 flex items-center justify-center p-6",children:a.jsxs("div",{className:"bg-surface border border-bdr rounded-2xl p-6 max-w-md w-full text-center space-y-4",children:[a.jsx("div",{className:`mx-auto w-12 h-12 rounded-full flex items-center justify-center ${U==="DISCREPANCY"?"bg-red-500/10":"bg-emerald-500/10"}`,children:a.jsx($c,{className:`w-6 h-6 ${U==="DISCREPANCY"?"text-red-500":"text-emerald-500"}`})}),a.jsx("h3",{className:"text-base font-black text-txt-main",children:"Turno Finalizado"}),a.jsx("p",{className:"text-sm text-txt-muted",children:U==="DISCREPANCY"?"Diferenca identificada. O gerente sera notificado.":"Fechamento concluido sem divergencias."}),a.jsx("button",{onClick:t,className:"w-full bg-primary text-white py-2 rounded-lg font-black",children:"Voltar"})]})}):a.jsxs("div",{className:"fixed inset-0 bg-app z-50 flex flex-col animate-in slide-in-from-bottom-4 duration-300 transition-colors",children:[a.jsxs("div",{className:"bg-surface border-b border-bdr px-6 py-3 shadow-sm shrink-0 z-20 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"bg-emerald-600 p-2 rounded-lg shadow-sm",children:a.jsx(qb,{className:"w-5 h-5 text-white"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-black text-txt-main",children:"Fechamento de Caixa"}),a.jsxs("p",{className:"text-xs text-txt-muted",children:["Turno #",e==null?void 0:e.id.slice(-6)]})]})]}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-red-500/10 rounded-full text-txt-muted hover:text-red-500",children:a.jsx(qn,{className:"w-5 h-5"})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto bg-app p-6",children:a.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[a.jsxs("div",{className:"bg-surface rounded-xl border border-bdr overflow-hidden",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-bdr bg-app/50 flex items-center justify-between",children:[a.jsxs("h3",{className:"text-sm font-black text-txt-main uppercase tracking-wide flex items-center gap-2",children:[a.jsx(Z5,{className:"w-4 h-4 text-emerald-500"}),"Conferencia Cega"]}),!b&&a.jsx("button",{onClick:()=>N(!0),className:"text-xs font-black text-txt-main bg-app border border-bdr px-3 py-1 rounded",children:"Mostrar valores do sistema"})]}),a.jsx("div",{className:"p-6 grid grid-cols-1 md:grid-cols-3 gap-6",children:[{key:"cash",label:"Dinheiro"},{key:"card",label:"Cartao"},{key:"pix",label:"Pix"}].map(ae=>a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-xs font-bold text-txt-muted uppercase",children:ae.label}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute left-3 top-2.5 text-txt-muted font-medium",children:"R$"}),a.jsx("input",{type:"number",value:n[ae.key],onChange:K=>i(ue=>({...ue,[ae.key]:K.target.value})),className:"w-full pl-10 pr-4 py-2 bg-app border border-bdr rounded-lg focus:ring-2 focus:ring-primary/20 outline-none font-bold text-txt-main",placeholder:"0.00"})]}),b&&a.jsxs("div",{className:"text-[11px] text-txt-muted",children:["Sistema: R$ ",X[ae.key].toFixed(2)]})]},ae.key))})]}),M&&d.length>0&&a.jsxs("div",{className:"bg-surface rounded-xl border border-bdr overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 border-b border-bdr bg-app/50",children:a.jsx("h3",{className:"text-sm font-black text-txt-main uppercase tracking-wide",children:"Auditoria de Estoque"})}),a.jsxs("table",{className:"w-full text-sm text-left",children:[a.jsx("thead",{className:"bg-surface text-[10px] text-txt-muted uppercase font-black border-b border-bdr",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3",children:"Produto"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"Sistema"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"Contado"})]})}),a.jsx("tbody",{className:"divide-y divide-bdr",children:d.map(ae=>a.jsxs("tr",{className:"hover:bg-app/60 transition-colors",children:[a.jsx("td",{className:"px-4 py-3 font-medium text-txt-main",children:ae.nome}),a.jsx("td",{className:"px-4 py-3 text-center font-mono text-txt-muted",children:m[ae.id]??0}),a.jsx("td",{className:"px-4 py-3 text-center",children:a.jsx("input",{type:"number",min:"0",value:l[ae.id]??"",onChange:K=>Z(ae.id,K.target.value),className:"w-24 text-center font-black bg-surface border border-bdr rounded-lg py-1 text-txt-main focus:ring-2 focus:ring-primary/20 outline-none",placeholder:"-"})})]},ae.id))})]})]}),S&&a.jsx("div",{className:"text-xs font-bold text-red-500 bg-red-500/10 border border-red-500/20 px-3 py-2 rounded",children:S}),a.jsx("div",{className:"flex justify-end",children:a.jsxs("button",{onClick:W,disabled:w,className:"bg-emerald-600 hover:bg-emerald-700 text-white px-6 py-3 rounded-xl font-black shadow-lg disabled:opacity-60 flex items-center gap-2",children:[a.jsx(tl,{className:"w-4 h-4"}),w?"Fechando...":"Fechar Turno"]})})]})})]})},i5=async()=>{const{data:t,error:e}=await qe.from("clients").select("*").order("name");if(e)throw e;return(t||[]).map(r=>({id:r.id,nome:r.name,endereco:r.address,telefone:r.phone,cpf:r.cpf,referencia:r.reference,dataNascimento:r.birth_date,deliveryZoneId:r.delivery_zone_id,ativo:r.is_active,criado_em:new Date(r.created_at).getTime(),atualizado_em:new Date(r.updated_at).getTime()}))},jx=async t=>{const e=new Date().toISOString(),r=t.dataNascimento?t.dataNascimento:null,n={id:t.id,name:t.nome,address:t.endereco,phone:t.telefone,cpf:t.cpf,reference:t.referencia,birth_date:r,delivery_zone_id:t.deliveryZoneId??null,is_active:t.ativo??!0,updated_at:e};t.id||(n.created_at=e);const{error:i}=await qe.from("clients").upsert(n);if(i)throw i},sM=async t=>{const{error:e}=await qe.from("clients").delete().eq("id",t);if(e)throw e},o5=async()=>{const{data:t,error:e}=await qe.from("client_price_overrides").select("*");if(e)throw e;return(t||[]).map(r=>({id:r.id,clienteId:r.client_id,produtoId:r.product_id,depositoId:r.deposit_id,modalidade:r.modality,precoEspecial:r.special_price,ativo:r.is_active,atualizado_em:new Date(r.updated_at).getTime()}))},aM=async t=>{const e={id:t.id,client_id:t.clienteId,product_id:t.produtoId,deposit_id:t.depositoId,modality:t.modalidade,special_price:t.precoEspecial,is_active:t.ativo},{error:r}=await qe.from("client_price_overrides").upsert(e);if(r)throw r},iM=async t=>{const{error:e}=await qe.from("client_price_overrides").delete().eq("id",t);if(e)throw e},l5=async()=>{const{data:t,error:e}=await qe.from("client_one_time_benefits").select("*");if(e)throw e;return(t||[]).map(r=>({id:r.id,clienteId:r.client_id,depositoId:r.deposit_id,tipoDesconto:r.discount_type,valorDesconto:r.discount_value,usado:r.used,criado_em:new Date(r.created_at).getTime()}))},oM=async t=>{const e={id:t.id,client_id:t.clienteId,deposit_id:t.depositoId,discount_type:t.tipoDesconto,discount_value:t.valorDesconto,used:t.usado},{error:r}=await qe.from("client_one_time_benefits").upsert(e);if(r)throw r},lM=async t=>{const{error:e}=await qe.from("client_one_time_benefits").delete().eq("id",t);if(e)throw e},AM=async()=>{const{data:t,error:e}=await qe.from("deposits").select("id, name").eq("active",!0);if(e)throw e;return(t||[]).map(r=>({id:r.id,nome:r.name}))},cM=["SIMPLE","EXCHANGE","FULL"],Ux={nome:"",endereco:"",telefone:"",cpf:"",referencia:"",dataNascimento:"",deliveryZoneId:null},uM=({onClose:t,userRole:e})=>{const r=e==="ADMIN",[n,i]=P.useState([]),[l,u]=P.useState([]),[d,h]=P.useState([]),[m,g]=P.useState(""),[b,N]=P.useState(null),[w,C]=P.useState("dados"),[U,T]=P.useState(!1),[S,I]=P.useState(Ux),[O,M]=P.useState({produtoId:"P13",depositoId:"GLOBAL",modalidade:"VENDA",preco:""}),[ne,z]=P.useState([]),[oe,te]=P.useState([]),[X,ge]=P.useState({tipoDesconto:"VALOR",valorDesconto:0,modalidadeAlvo:null,produtoIdAlvo:null});P.useEffect(()=>{let V=!0;return(async()=>{const[he,ve,je]=await Promise.all([i5(),o5(),l5()]);V&&(i(he),u(ve),h(je))})(),()=>{V=!1}},[]),P.useEffect(()=>{let V=!0;return(async()=>{try{const he=await AM();if(!V)return;z(he.map(ve=>({id:ve.id,nome:ve.nome})))}catch{}})(),()=>{V=!1}},[]),P.useEffect(()=>()=>{},[]);const Z=async()=>{const[V,he,ve]=await Promise.all([i5(),o5(),l5()]);i(V),u(he),h(ve)},W=n.filter(V=>{const he=(V.nome||"").toString().toLowerCase(),ve=(V.endereco||"").toString().toLowerCase(),je=(V.telefone||"").toString(),Te=(m||"").toString().toLowerCase();return he.includes(Te)||je.includes(m)||ve.includes(Te)}),ae=P.useMemo(()=>n.find(V=>V.id===b),[b,n]),K=P.useMemo(()=>l.filter(V=>V.clienteId===b),[b,l]),ue=P.useMemo(()=>d.find(V=>V.clienteId===b&&!V.usado),[b,d]),Q=()=>{N(null),I(Ux),T(!0),C("dados")},Ae=V=>{N(V);const he=n.find(ve=>ve.id===V);he&&(I(he),T(!1))},ee=async()=>{var he;if(!S.nome||!S.endereco)return alert("Preencha Nome e Endereo.");const V=Date.now();b?await jx({id:b,nome:S.nome,endereco:S.endereco,telefone:S.telefone,cpf:S.cpf,referencia:S.referencia,dataNascimento:S.dataNascimento,deliveryZoneId:S.deliveryZoneId??null,ativo:S.ativo??!0,criado_em:((he=n.find(ve=>ve.id===b))==null?void 0:he.criado_em)??V}):await jx({nome:S.nome,endereco:S.endereco,telefone:S.telefone,cpf:S.cpf,referencia:S.referencia,dataNascimento:S.dataNascimento,deliveryZoneId:S.deliveryZoneId??null,ativo:!0}),await Z(),T(!1)},_e=async()=>{if(!b)return;const V=n.find(he=>he.id===b);V&&(await jx({...V,ativo:!V.ativo}),await Z())},Ne=async()=>{if(!b)return;const V=n.find(je=>je.id===b),he=(V==null?void 0:V.nome)||"cliente";window.confirm(`Excluir permanentemente ${he}? Essa ao no pode ser desfeita.`)&&(await sM(b),await Z(),N(null),I(Ux),T(!1),C("dados"))},q=async()=>{if(!b||!O.preco)return;const V={id:crypto.randomUUID(),clienteId:b,produtoId:O.produtoId,depositoId:O.depositoId==="GLOBAL"?null:O.depositoId,modalidade:O.modalidade,precoEspecial:parseFloat(O.preco),ativo:!0};await aM(V),await Z(),M({...O,preco:""})},F=async V=>{await iM(V),await Z()},G=async()=>{if(!b)return;const V={id:crypto.randomUUID(),clienteId:b,depositoId:null,tipoDesconto:X.tipoDesconto,valorDesconto:X.valorDesconto||0,usado:!1};await oM(V),await Z(),alert("Desconto pendente salvo com sucesso!")},$=async()=>{!ue||!window.confirm("Remover o bnus pendente deste cliente?")||(await lM(ue.id),await Z(),alert("Bnus desativado com sucesso."))};return a.jsxs("div",{className:"fixed inset-0 bg-app z-50 flex flex-col animate-in slide-in-from-bottom-4 duration-300",children:[a.jsxs("div",{className:"bg-surface border-b border-bdr px-6 py-4 flex justify-between items-center shadow-sm z-10 transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"bg-primary/10 p-3 rounded-2xl shadow-sm border border-primary/20",children:a.jsx(FA,{className:"w-6 h-6 text-primary"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-txt-main tracking-tighter",children:"Clientes & Precificao"}),a.jsx("p",{className:"text-xs text-primary font-bold uppercase tracking-widest",children:"Painel Administrativo Pro"})]})]}),a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsxs("div",{className:"relative group",children:[a.jsx(rA,{className:"w-4 h-4 text-primary absolute left-3 top-3 group-focus-within:scale-110 transition-transform"}),a.jsx("input",{type:"text",placeholder:"Localizar cliente...",value:m,onChange:V=>g(V.target.value),className:"pl-10 pr-4 py-2.5 bg-app border border-bdr rounded-xl text-sm text-txt-main font-bold placeholder:text-txt-muted focus:ring-2 focus:ring-primary focus:border-primary outline-none w-72 transition-all"})]}),a.jsxs("button",{onClick:Q,className:"bg-primary hover:bg-primary/90 text-white px-6 py-2.5 rounded-xl text-sm font-black flex items-center gap-2 transition-all active:scale-95 shadow-lg shadow-primary/20",children:[a.jsx(Ao,{className:"w-5 h-5"})," NOVO CLIENTE"]}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-red-500/10 hover:text-red-500 rounded-full text-txt-muted transition-all active:rotate-90",children:a.jsx(qn,{className:"w-7 h-7"})})]})]}),a.jsxs("div",{className:"flex-1 overflow-hidden flex p-6 gap-6",children:[a.jsxs("div",{className:"w-1/3 bg-surface rounded-3xl shadow-lg border border-bdr flex flex-col overflow-hidden transition-colors",children:[a.jsxs("div",{className:"p-5 bg-app/50 border-b border-bdr flex items-center justify-between",children:[a.jsx("span",{className:"text-[10px] font-black text-txt-muted uppercase tracking-[0.2em]",children:"Registros Ativos"}),a.jsx("span",{className:"bg-primary/10 text-primary text-xs font-black px-2 py-0.5 rounded-full",children:W.length})]}),a.jsx("div",{className:"flex-1 overflow-y-auto divide-y divide-bdr no-scrollbar",children:W.length===0?a.jsxs("div",{className:"p-12 text-center flex flex-col items-center justify-center h-full opacity-40",children:[a.jsx(FA,{className:"w-16 h-16 text-txt-muted mb-4"}),a.jsx("p",{className:"text-txt-muted font-black italic text-sm",children:"Nenhum cliente disponvel"})]}):W.map(V=>a.jsxs("button",{onClick:()=>Ae(V.id),className:`w-full text-left p-6 hover:bg-app transition-all flex justify-between items-center group relative ${b===V.id?"bg-primary/5 border-r-4 border-primary":""}`,children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs("h4",{className:`font-black text-lg transition-colors ${b===V.id?"text-primary":"text-txt-main"}`,children:[V.nome," ",!V.ativo&&a.jsx("span",{className:"text-[10px] text-white font-black ml-2 uppercase px-2 py-0.5 bg-red-600 rounded-md",children:"Inativo"})]}),a.jsx("p",{className:"text-xs text-txt-muted font-bold truncate w-64 uppercase tracking-tight",children:V.endereco}),a.jsxs("div",{className:"flex gap-2",children:[l.some(he=>he.clienteId===V.id)&&a.jsx("span",{className:"text-[9px] font-black bg-amber-500 text-white px-2.5 py-1 rounded shadow-md uppercase tracking-widest",children:"Precificado"}),d.some(he=>he.clienteId===V.id&&!he.usado)&&a.jsx("span",{className:"text-[9px] font-black bg-emerald-500 text-white px-2.5 py-1 rounded shadow-md uppercase tracking-widest",children:"Bonus"})]})]}),a.jsx(Hb,{className:`w-6 h-6 transition-all ${b===V.id?"translate-x-2 text-primary opacity-100 scale-125":"text-txt-muted opacity-0 group-hover:opacity-100 group-hover:translate-x-1"}`})]},V.id))})]}),a.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:!b&&!U?a.jsxs("div",{className:"flex-1 bg-surface rounded-3xl border-4 border-dashed border-bdr flex flex-col items-center justify-center text-txt-muted p-12 text-center shadow-inner group transition-colors",children:[a.jsx("div",{className:"bg-app p-10 rounded-[2.5rem] mb-8 border-2 border-bdr group-hover:scale-110 transition-transform duration-500",children:a.jsx(FA,{className:"w-20 h-20 text-primary/30"})}),a.jsx("p",{className:"font-black text-2xl text-txt-main tracking-tight",children:"Nenhum Registro Selecionado"}),a.jsx("p",{className:"text-sm mt-3 max-w-xs font-bold text-txt-muted leading-relaxed",children:"Clique em um cliente da lista ou inicie um novo cadastro para gerenciar suas condies especiais."})]}):a.jsxs("div",{className:"bg-surface rounded-[2.5rem] shadow-2xl border-2 border-bdr flex flex-col h-full overflow-hidden animate-in fade-in slide-in-from-right-10 duration-500 transition-colors",children:[a.jsxs("div",{className:"px-10 py-6 border-b-2 border-bdr bg-app/50 flex items-center justify-between",children:[a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("button",{onClick:()=>C("dados"),className:`flex items-center gap-3 px-6 py-3 rounded-2xl text-xs font-black uppercase tracking-widest transition-all duration-300 ${w==="dados"?"bg-primary text-white shadow-xl shadow-primary/20 scale-105":"bg-surface text-txt-muted border border-bdr hover:border-primary/50 hover:text-primary"}`,children:[a.jsx(Oh,{className:"w-4 h-4"})," Ficha Cadastral"]}),r&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{disabled:!b,onClick:()=>C("precos"),className:`flex items-center gap-3 px-6 py-3 rounded-2xl text-xs font-black uppercase tracking-widest transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed ${w==="precos"?"bg-amber-500 text-white shadow-xl shadow-amber-200 scale-105":"bg-surface text-txt-muted border border-bdr hover:border-amber-400 hover:text-amber-600"}`,children:[a.jsx(h3,{className:"w-4 h-4"})," Precificao Especial"]}),a.jsxs("button",{disabled:!b,onClick:()=>C("desconto"),className:`flex items-center gap-3 px-6 py-3 rounded-2xl text-xs font-black uppercase tracking-widest transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed ${w==="desconto"?"bg-emerald-600 text-white shadow-xl shadow-emerald-200 scale-105":"bg-surface text-txt-muted border border-bdr hover:border-emerald-400 hover:text-emerald-600"}`,children:[a.jsx(Dx,{className:"w-4 h-4"})," Bonificaes"]})]})]}),b&&a.jsxs("div",{className:"bg-surface px-4 py-2 rounded-xl border border-bdr flex items-center gap-3 shadow-sm",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse"}),a.jsxs("span",{className:"text-[10px] font-black text-txt-muted uppercase tracking-widest",children:["ID: ",b.split("-")[0]]})]})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-12 no-scrollbar",children:[w==="dados"&&a.jsxs("div",{className:"space-y-12 max-w-4xl animate-in fade-in duration-500",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-10",children:[a.jsxs("div",{className:"col-span-2 group",children:[a.jsx("label",{className:"block text-[11px] font-black text-primary uppercase mb-3 tracking-[0.2em] ml-1",children:"Nome Completo / Razo Social *"}),a.jsxs("div",{className:"relative",children:[a.jsx(sm,{className:"absolute left-5 top-1/2 -translate-y-1/2 w-5 h-5 text-txt-muted group-focus-within:text-primary transition-colors"}),a.jsx("input",{type:"text",value:S.nome,onChange:V=>I({...S,nome:V.target.value}),placeholder:"NOME DO CLIENTE",className:"w-full bg-app border-2 border-bdr rounded-[1.25rem] p-5 pl-14 text-base text-txt-main font-black focus:ring-4 focus:ring-primary/10 focus:bg-surface focus:border-primary outline-none shadow-sm transition-all placeholder:text-txt-muted/50 uppercase"})]})]}),a.jsxs("div",{className:"col-span-2 group",children:[a.jsx("label",{className:"block text-[11px] font-black text-primary uppercase mb-3 tracking-[0.2em] ml-1",children:"Endereo Completo de Entrega *"}),a.jsxs("div",{className:"relative",children:[a.jsx(IA,{className:"absolute left-5 top-1/2 -translate-y-1/2 w-5 h-5 text-txt-muted group-focus-within:text-primary transition-colors"}),a.jsx("input",{type:"text",value:S.endereco,onChange:V=>I({...S,endereco:V.target.value}),placeholder:"LOGRADOURO, NMERO, BAIRRO...",className:"w-full bg-app border-2 border-bdr rounded-[1.25rem] p-5 pl-14 text-base text-txt-main font-black focus:ring-4 focus:ring-primary/10 focus:bg-surface focus:border-primary outline-none shadow-sm transition-all placeholder:text-txt-muted/50 uppercase"})]})]}),a.jsxs("div",{className:"col-span-2 group",children:[a.jsx("label",{className:"block text-[11px] font-black text-primary uppercase mb-3 tracking-[0.2em] ml-1",children:"Zona de entrega"}),a.jsxs("select",{value:S.deliveryZoneId??"",onChange:V=>I({...S,deliveryZoneId:V.target.value||null}),className:"w-full bg-app border-2 border-bdr rounded-[1.25rem] p-5 text-base text-txt-main font-black focus:ring-4 focus:ring-primary/10 focus:bg-surface focus:border-primary outline-none shadow-sm transition-all",children:[a.jsx("option",{value:"",children:"Sem zona definida"}),oe.map(V=>a.jsx("option",{value:V.id,children:V.nome??V.id},V.id))]})]}),a.jsxs("div",{className:"group",children:[a.jsx("label",{className:"block text-[11px] font-black text-primary uppercase mb-3 tracking-[0.2em] ml-1",children:"Telefone Principal"}),a.jsxs("div",{className:"relative",children:[a.jsx(Gb,{className:"absolute left-5 top-1/2 -translate-y-1/2 w-5 h-5 text-txt-muted group-focus-within:text-primary transition-colors"}),a.jsx("input",{type:"text",value:S.telefone,onChange:V=>I({...S,telefone:V.target.value}),placeholder:"(00) 00000-0000",className:"w-full bg-app border-2 border-bdr rounded-[1.25rem] p-5 pl-14 text-base text-txt-main font-black focus:ring-4 focus:ring-primary/10 focus:bg-surface focus:border-primary outline-none shadow-sm transition-all placeholder:text-txt-muted/50"})]})]}),a.jsxs("div",{className:"group",children:[a.jsx("label",{className:"block text-[11px] font-black text-primary uppercase mb-3 tracking-[0.2em] ml-1",children:"Identificao (CPF/CNPJ)"}),a.jsxs("div",{className:"relative",children:[a.jsx(Oh,{className:"absolute left-5 top-1/2 -translate-y-1/2 w-5 h-5 text-txt-muted group-focus-within:text-primary transition-colors"}),a.jsx("input",{type:"text",value:S.cpf,onChange:V=>I({...S,cpf:V.target.value}),placeholder:"DOCUMENTO",className:"w-full bg-app border-2 border-bdr rounded-[1.25rem] p-5 pl-14 text-base text-txt-main font-black focus:ring-4 focus:ring-primary/10 focus:bg-surface focus:border-primary outline-none shadow-sm transition-all placeholder:text-txt-muted/50"})]})]}),a.jsxs("div",{className:"group",children:[a.jsx("label",{className:"block text-[11px] font-black text-primary uppercase mb-3 tracking-[0.2em] ml-1",children:"Ponto de Referncia"}),a.jsx("input",{type:"text",value:S.referencia,onChange:V=>I({...S,referencia:V.target.value}),placeholder:"EX: PRXIMO  PADARIA",className:"w-full bg-app border-2 border-bdr rounded-[1.25rem] p-5 text-base text-txt-main font-black focus:ring-4 focus:ring-primary/10 focus:bg-surface focus:border-primary outline-none shadow-sm transition-all placeholder:text-txt-muted/50 uppercase"})]}),a.jsxs("div",{className:"group",children:[a.jsx("label",{className:"block text-[11px] font-black text-primary uppercase mb-3 tracking-[0.2em] ml-1",children:"Data Comemorativa"}),a.jsx("input",{type:"date",value:S.dataNascimento,onChange:V=>I({...S,dataNascimento:V.target.value}),className:"w-full bg-app border-2 border-bdr rounded-[1.25rem] p-5 text-base text-txt-main font-black focus:ring-4 focus:ring-primary/10 focus:bg-surface focus:border-primary outline-none shadow-sm transition-all"})]})]}),a.jsxs("div",{className:"flex gap-6 pt-12 border-t-2 border-bdr items-center justify-between",children:[a.jsxs("div",{className:"flex gap-6",children:[a.jsxs("button",{onClick:ee,className:"bg-primary hover:bg-primary/90 text-white px-12 py-5 rounded-[1.5rem] font-black text-sm shadow-2xl shadow-primary/20 flex items-center gap-3 transition-all active:scale-95",children:[a.jsx(tl,{className:"w-6 h-6"})," CONFIRMAR CADASTRO"]}),r&&b&&a.jsxs("button",{onClick:_e,className:`px-10 py-5 rounded-[1.5rem] font-black text-sm border-2 transition-all active:scale-95 flex items-center gap-3 ${ae!=null&&ae.ativo?"text-red-500 border-red-200 bg-red-500/10 hover:bg-red-500/20":"text-emerald-500 border-emerald-200 bg-emerald-500/10 hover:bg-emerald-500/20"}`,children:[ae!=null&&ae.ativo?a.jsx(Qh,{className:"w-5 h-5"}):a.jsx(tA,{className:"w-5 h-5"}),ae!=null&&ae.ativo?"DESATIVAR REGISTRO":"REATIVAR REGISTRO"]}),r&&b&&a.jsxs("button",{onClick:Ne,className:"px-10 py-5 rounded-[1.5rem] font-black text-sm border-2 border-red-300 text-red-500 bg-red-500/10 hover:bg-red-500/20 transition-all active:scale-95 flex items-center gap-3",children:[a.jsx(aa,{className:"w-5 h-5"})," EXCLUIR PERMANENTEMENTE"]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-[10px] font-black text-txt-muted uppercase tracking-widest mb-1",children:"Status do Registro"}),a.jsx("p",{className:"text-xs font-black text-primary uppercase",children:b?"CLIENTE CADASTRADO":"AGUARDANDO NOVO REGISTRO"})]})]})]}),w==="precos"&&r&&a.jsxs("div",{className:"space-y-12 animate-in fade-in duration-500",children:[a.jsxs("div",{className:"bg-app/50 p-10 rounded-[2.5rem] border-2 border-amber-100/50 grid grid-cols-4 gap-8 items-end shadow-inner",children:[a.jsxs("div",{className:"group",children:[a.jsx("label",{className:"block text-[11px] font-black text-amber-600 uppercase mb-3 tracking-widest ml-1",children:"Produto Base"}),a.jsxs("select",{value:O.produtoId,onChange:V=>M({...O,produtoId:V.target.value}),className:"w-full bg-surface border-2 border-amber-200 rounded-2xl p-4 text-sm text-txt-main font-black focus:ring-4 focus:ring-amber-500/10 focus:border-amber-500 outline-none shadow-sm transition-all",children:[a.jsx("option",{value:"P13",children:"GS P13"}),a.jsx("option",{value:"P45",children:"GS P45"}),a.jsx("option",{value:"AGUA20",children:"GUA 20L"})]})]}),a.jsxs("div",{className:"group",children:[a.jsx("label",{className:"block text-[11px] font-black text-amber-600 uppercase mb-3 tracking-widest ml-1",children:"Alvo de Estoque"}),a.jsxs("select",{value:O.depositoId,onChange:V=>M({...O,depositoId:V.target.value}),className:"w-full bg-surface border-2 border-amber-200 rounded-2xl p-4 text-sm text-txt-main font-black focus:ring-4 focus:ring-amber-500/10 focus:border-amber-500 outline-none shadow-sm transition-all",children:[a.jsx("option",{value:"GLOBAL",children:"GLOBAL"},"GLOBAL"),ne.map(V=>a.jsx("option",{value:V.id,children:V.nome},V.id))]})]}),a.jsxs("div",{className:"group",children:[a.jsx("label",{className:"block text-[11px] font-black text-amber-600 uppercase mb-3 tracking-widest ml-1",children:"Tipo de Venda"}),a.jsx("select",{value:O.modalidade,onChange:V=>M({...O,modalidade:V.target.value}),className:"w-full bg-surface border-2 border-amber-200 rounded-2xl p-4 text-sm text-txt-main font-black focus:ring-4 focus:ring-amber-500/10 focus:border-amber-500 outline-none shadow-sm transition-all",children:cM.map(V=>a.jsx("option",{value:V,children:V},V))})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("div",{className:"flex-1 group",children:[a.jsx("label",{className:"block text-[11px] font-black text-amber-600 uppercase mb-3 tracking-widest ml-1",children:"Valor Unitrio"}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-amber-600 font-black text-sm",children:"R$"}),a.jsx("input",{type:"number",value:O.preco,onChange:V=>M({...O,preco:V.target.value}),placeholder:"0,00",className:"w-full border-2 border-amber-200 rounded-2xl p-4 pl-10 text-sm text-txt-main font-black focus:ring-4 focus:ring-amber-500/10 focus:border-amber-500 outline-none shadow-sm transition-all"})]})]}),a.jsx("button",{onClick:q,className:"bg-amber-500 hover:bg-amber-600 text-white p-4 rounded-2xl shadow-xl shadow-amber-200 flex items-center justify-center active:scale-90 transition-all",children:a.jsx(Ao,{className:"w-7 h-7",strokeWidth:3})})]})]}),a.jsx("div",{className:"bg-surface border-2 border-bdr rounded-[2.5rem] overflow-hidden shadow-2xl",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-txt-main text-[10px] font-black text-surface uppercase tracking-[0.3em]",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-10 py-6",children:"Item Base"}),a.jsx("th",{className:"px-10 py-6",children:"Depsito Alvo"}),a.jsx("th",{className:"px-10 py-6",children:"Modalidade"}),a.jsx("th",{className:"px-10 py-6 text-right",children:"Valor Lquido"}),a.jsx("th",{className:"px-10 py-6 text-center",children:"Ao"})]})}),a.jsx("tbody",{className:"divide-y-2 divide-bdr",children:K.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"px-10 py-24 text-center text-txt-muted font-black italic text-sm",children:"NENHUMA CONDIO ESPECIAL DEFINIDA"})}):K.map(V=>{var he;return a.jsxs("tr",{className:"hover:bg-app transition-all group",children:[a.jsx("td",{className:"px-10 py-6 font-black text-txt-main text-base",children:V.produtoId}),a.jsx("td",{className:"px-10 py-6 text-txt-muted font-black text-xs uppercase tracking-widest",children:V.depositoId||"GLOBAL"}),a.jsx("td",{className:"px-10 py-6",children:a.jsx("span",{className:"px-3 py-1.5 bg-amber-500/10 text-amber-600 text-[10px] font-black rounded-lg border-2 border-amber-500/20 uppercase tracking-widest",children:V.modalidade})}),a.jsxs("td",{className:"px-10 py-6 text-right font-black text-amber-500 text-xl tracking-tighter",children:["R$ ",(he=V.precoEspecial)==null?void 0:he.toFixed(2)]}),a.jsx("td",{className:"px-10 py-6 text-center",children:a.jsx("button",{onClick:()=>F(V.id),className:"text-red-400 hover:text-red-600 hover:bg-red-50 p-3 rounded-xl transition-all",children:a.jsx(aa,{className:"w-6 h-6"})})})]},V.id)})})]})})]}),w==="desconto"&&r&&a.jsx("div",{className:"space-y-12 animate-in fade-in duration-500 flex flex-col items-center",children:a.jsxs("div",{className:"bg-gradient-to-br from-emerald-600 to-emerald-900 p-12 rounded-[3.5rem] w-full max-w-3xl shadow-2xl shadow-emerald-200/50 relative overflow-hidden group",children:[a.jsx("div",{className:"absolute -right-20 -top-20 w-80 h-80 bg-white/5 rounded-full group-hover:scale-125 transition-transform duration-700"}),a.jsx("div",{className:"absolute -left-20 -bottom-20 w-60 h-60 bg-black/10 rounded-full"}),a.jsxs("div",{className:"flex items-center gap-8 mb-12 relative z-10",children:[a.jsx("div",{className:"bg-white p-5 rounded-[1.75rem] shadow-2xl",children:a.jsx(Dx,{className:"w-10 h-10 text-emerald-700",strokeWidth:3})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-3xl font-black text-white tracking-tighter",children:"Benefcio de Bonificao"}),a.jsx("p",{className:"text-emerald-100 font-bold opacity-80 uppercase text-[10px] tracking-[0.2em] mt-1",children:"Aplicao nica na prxima O.S."})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-10 mb-12 relative z-10",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"block text-[11px] font-black text-emerald-200 uppercase tracking-widest ml-1",children:"Modalidade do Cupom"}),a.jsxs("select",{value:X.tipoDesconto,onChange:V=>ge({...X,tipoDesconto:V.target.value}),className:"w-full bg-white/10 border-2 border-white/20 rounded-3xl p-5 text-base text-white font-black focus:ring-8 focus:ring-white/5 focus:bg-white focus:text-emerald-900 outline-none shadow-inner transition-all backdrop-blur-md",children:[a.jsx("option",{value:"VALOR",children:"VALOR FIXO (R$)"}),a.jsx("option",{value:"PERCENTUAL",children:"PERCENTUAL (%)"})]})]}),a.jsxs("div",{className:"mb-8 bg-white/5 border-2 border-white/10 rounded-3xl p-6 text-white flex items-center justify-between gap-4 shadow-inner relative z-10",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] uppercase tracking-[0.2em] font-black text-white/70",children:"Status do bnus"}),ue?a.jsxs("p",{className:"text-sm font-black text-white mt-1",children:["Bnus pendente de ",ue.tipoDesconto==="VALOR"?`R$ ${ue.valorDesconto.toFixed(2)}`:`${ue.valorDesconto}%`," para a prxima O.S."]}):a.jsx("p",{className:"text-sm font-black text-white mt-1",children:"Nenhum bnus pendente para este cliente."})]}),ue&&a.jsx("button",{onClick:$,className:"px-5 py-3 rounded-2xl font-black text-sm bg-red-500/90 hover:bg-red-500 text-white shadow-lg shadow-red-500/30 transition-all active:scale-95",children:"DESABILITAR BNUS"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"block text-[11px] font-black text-emerald-200 uppercase tracking-widest ml-1",children:"Carga do Benefcio"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"number",value:X.valorDesconto,onChange:V=>ge({...X,valorDesconto:parseFloat(V.target.value)}),className:"w-full bg-white/10 border-2 border-white/20 rounded-3xl p-5 text-2xl text-white font-black focus:ring-8 focus:ring-white/5 focus:bg-white focus:text-emerald-900 outline-none shadow-inner transition-all backdrop-blur-md"}),a.jsx("span",{className:"absolute right-6 top-1/2 -translate-y-1/2 font-black text-white/50 text-xl group-focus-within:text-emerald-500",children:X.tipoDesconto==="VALOR"?"R$":"%"})]})]})]}),a.jsxs("button",{onClick:G,className:"w-full bg-white hover:bg-emerald-50 text-emerald-900 font-black py-6 rounded-3xl shadow-2xl transition-all active:scale-[0.98] flex items-center justify-center gap-4 text-lg relative z-10 group",children:[a.jsx($3,{className:"w-7 h-7 scale-110",strokeWidth:3}),"ATIVAR BENEFCIO AGORA"]})]})})]})]})})]})]})},dM=t=>Number(t||0).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),Oc=t=>{if(typeof t=="number"&&Number.isFinite(t))return t;if(typeof t=="string"){const e=t.trim();if(!e||e==="-"||e==="--")return 0;const r=e.replace(",","."),n=Number(r);return Number.isFinite(n)?n:0}return 0},Rc=t=>{if(t==null)return"-";const e=String(t).trim();return e||"-"},hM=t=>{var r,n,i,l,u,d,h,m,g,b,N,w,C,U,T,S,I,O,M;const e=(t==null?void 0:t.top_product_sold)??(t==null?void 0:t.top_product)??(t==null?void 0:t.top_sold_product)??(t==null?void 0:t.top_product_by_qty)??{};return{top_driver:{name:Rc((r=t==null?void 0:t.top_driver)==null?void 0:r.name),count:Oc(((n=t==null?void 0:t.top_driver)==null?void 0:n.count)??((i=t==null?void 0:t.top_driver)==null?void 0:i.deliveries))},fastest_driver:{name:Rc((l=t==null?void 0:t.fastest_driver)==null?void 0:l.name),avg_minutes:Oc(((u=t==null?void 0:t.fastest_driver)==null?void 0:u.avg_minutes)??((d=t==null?void 0:t.fastest_driver)==null?void 0:d.avg_min)??((h=t==null?void 0:t.fastest_driver)==null?void 0:h.avg_time))},top_deposit:{name:Rc((m=t==null?void 0:t.top_deposit)==null?void 0:m.name),total:Oc(((g=t==null?void 0:t.top_deposit)==null?void 0:g.total)??((b=t==null?void 0:t.top_deposit)==null?void 0:b.value))},top_cashier:{name:Rc((N=t==null?void 0:t.top_cashier)==null?void 0:N.name),count:Oc(((w=t==null?void 0:t.top_cashier)==null?void 0:w.count)??((C=t==null?void 0:t.top_cashier)==null?void 0:C.orders))},top_client_value:{name:Rc((U=t==null?void 0:t.top_client_value)==null?void 0:U.name),total:Oc(((T=t==null?void 0:t.top_client_value)==null?void 0:T.total)??((S=t==null?void 0:t.top_client_value)==null?void 0:S.value))},top_client_orders:{name:Rc((I=t==null?void 0:t.top_client_orders)==null?void 0:I.name),count:Oc(((O=t==null?void 0:t.top_client_orders)==null?void 0:O.count)??((M=t==null?void 0:t.top_client_orders)==null?void 0:M.orders))},top_product_sold:{name:Rc((e==null?void 0:e.name)??(e==null?void 0:e.product_name)??(e==null?void 0:e.produto_nome)),count:Oc((e==null?void 0:e.count)??(e==null?void 0:e.qty)??(e==null?void 0:e.quantity)??(e==null?void 0:e.total))}}},kx={top_driver:{name:"-",count:0},fastest_driver:{name:"-",avg_minutes:0},top_deposit:{name:"-",total:0},top_cashier:{name:"-",count:0},top_client_value:{name:"-",total:0},top_client_orders:{name:"-",count:0},top_product_sold:{name:"-",count:0}},fM=()=>{const[t,e]=P.useState(kx),[r,n]=P.useState(!0),[i,l]=P.useState(null),u=sa(()=>Or.deposits.toArray(),[]),d=P.useMemo(()=>(u||[]).filter(g=>g.ativo!==!1).sort((g,b)=>String(g.nome??"").localeCompare(String(b.nome??""))),[u]);P.useEffect(()=>{let m=!0;return(async()=>{n(!0);try{const{data:b,error:N}=await qe.rpc("get_audit_dashboard_stats",{target_deposit_id:i});if(N){if(!m)return;e(kx);return}const w=Array.isArray(b)?b[0]:b;let C=w;if(typeof w=="string")try{C=JSON.parse(w)}catch{C={}}const U=hM(C||{});if(!m)return;e(U)}catch{if(!m)return;e(kx)}finally{m&&n(!1)}})(),()=>{m=!1}},[i]);const h=P.useMemo(()=>{const m=(w,C)=>w>0?`${w} ${C}`:"--",g=w=>w>0?`${w} min medio`:"--",b=w=>w>0?dM(w):"--",N=w=>!w||w==="-"||w==="--";return[{key:"top_driver",title:"Entregador + Produtivo",icon:rm,name:t.top_driver.name,value:m(t.top_driver.count,"entregas"),isEmpty:N(t.top_driver.name)||t.top_driver.count===0},{key:"fastest_driver",title:"The Flash (Mais Rapido)",icon:sj,name:t.fastest_driver.name,value:g(t.fastest_driver.avg_minutes),isEmpty:N(t.fastest_driver.name)||t.fastest_driver.avg_minutes===0},{key:"top_deposit",title:"Deposito Lider",icon:R3,name:t.top_deposit.name,value:b(t.top_deposit.total),isEmpty:N(t.top_deposit.name)||t.top_deposit.total===0},{key:"top_cashier",title:"Caixa Mais Ativo",icon:XS,name:t.top_cashier.name,value:m(t.top_cashier.count,"ordens"),isEmpty:N(t.top_cashier.name)||t.top_cashier.count===0},{key:"top_client_value",title:"Cliente VIP (Valor)",icon:AS,name:t.top_client_value.name,value:b(t.top_client_value.total),isEmpty:N(t.top_client_value.name)||t.top_client_value.total===0},{key:"top_client_orders",title:"Cliente Fiel (Pedidos)",icon:US,name:t.top_client_orders.name,value:m(t.top_client_orders.count,"pedidos"),isEmpty:N(t.top_client_orders.name)||t.top_client_orders.count===0},{key:"top_product_sold",title:"Produto + Vendido",icon:lo,name:t.top_product_sold.name,value:m(t.top_product_sold.count,"un"),isEmpty:N(t.top_product_sold.name)||t.top_product_sold.count===0}]},[t]);return a.jsxs("div",{className:"bg-surface rounded-2xl border border-bdr p-5",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-black text-txt-muted uppercase tracking-widest",children:"Visao Geral"}),a.jsx("h3",{className:"text-sm font-black text-txt-main uppercase tracking-wide",children:"Campeoes Globais"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-[10px] font-black text-txt-muted uppercase",children:"Filtro"}),a.jsxs("select",{value:i??"",onChange:m=>l(m.target.value||null),className:"bg-app border border-bdr rounded-lg px-2 py-1 text-xs font-bold text-txt-main focus:ring-2 focus:ring-primary/20 outline-none",children:[a.jsx("option",{value:"",children:"Visao Global"}),d.length>0&&a.jsx("optgroup",{label:"Filtrar por Deposito",children:d.map(m=>a.jsx("option",{value:m.id,children:m.nome},m.id))})]})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:r?Array.from({length:h.length}).map((m,g)=>a.jsxs("div",{className:"bg-app border border-bdr rounded-xl p-4 animate-pulse",children:[a.jsx("div",{className:"h-4 w-24 bg-bdr/50 rounded mb-3"}),a.jsx("div",{className:"h-5 w-40 bg-bdr/50 rounded mb-2"}),a.jsx("div",{className:"h-4 w-20 bg-bdr/50 rounded"})]},g)):h.map(m=>{const g=m.icon,b=m.isEmpty?"opacity-60":"",N=m.isEmpty?"text-orange-500/50":"text-orange-500";return a.jsxs("div",{className:`bg-app border border-bdr rounded-xl p-4 flex items-start justify-between ${b}`,children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] uppercase font-black text-txt-muted",children:m.title}),a.jsx("p",{className:"text-sm font-black text-txt-main mt-2",children:m.name||"--"}),m.isEmpty?a.jsx("p",{className:"text-xs text-txt-muted",children:"Sem dados suficientes"}):a.jsx("p",{className:"text-xs text-txt-muted",children:m.value})]}),a.jsx("div",{className:"bg-surface border border-bdr rounded-lg p-2",children:a.jsx(g,{className:`w-5 h-5 ${N}`})})]},m.key)})}),a.jsx("p",{className:"text-[10px] text-txt-muted mt-4",children:"*Metricas baseadas apenas em vendas finalizadas."})]})},pM=({onClose:t})=>{const[e,r]=P.useState([]),[n,i]=P.useState(""),[l,u]=P.useState(!1),[d,h]=P.useState(null);P.useEffect(()=>{let b=!0;const N=U=>{if(!U)return 0;if(typeof U=="number")return U;if(typeof U=="string"){const S=U.trim();if(S&&!Number.isNaN(Number(S)))return Number(S)}const T=new Date(U).getTime();return Number.isNaN(T)?0:T},w=U=>{const T=U.data_hora??U.dataHora??U.created_at??U.createdAt??new Date().toISOString(),S=Hc(U);return{id:String(U.id??""),dataHora:T,depositoId:S.depositoId??"",produtoId:U.produto_id??U.produtoId??U.product_id??U.productId??"",produtoNome:U.produto_nome??U.produtoNome??U.product_name??U.productName??"",tipo:U.tipo??U.type??"AJUSTE",quantidade:Number(U.quantidade??U.qty??U.quantity??0)||0,origem:U.origem??U.source??"",referenciaId:U.referencia_id??U.referenciaId??U.reference_id??U.referenceId??null,usuarioId:U.usuario_id??U.usuarioId??U.user_id??U.userId??"SISTEMA",usuarioNome:U.usuario_nome??U.usuarioNome??U.user_name??U.userName??U.usuario??"Sistema",motivo:U.motivo??U.reason??""}};return(async()=>{u(!0),h(null);try{const{data:U,error:T}=await qe.from("stock_movements").select("*");if(T)throw T;const S=Date.now(),I=S-720*60*60*1e3,O=(U??[]).map(w).filter(M=>{const ne=N(M.dataHora);return ne>=I&&ne<=S}).sort((M,ne)=>N(ne.dataHora)-N(M.dataHora));if(!b)return;r(O)}catch(U){if(!b)return;h((U==null?void 0:U.message)||"Falha ao carregar auditoria."),r([])}finally{b&&u(!1)}})(),()=>{b=!1}},[]);const m=n.toLowerCase(),g=e.filter(b=>{const N=String(b.produtoNome??"").toLowerCase(),w=String(b.usuarioNome??"").toLowerCase(),C=String(b.tipo??"").toLowerCase(),U=String(b.motivo??"").toLowerCase();return N.includes(m)||w.includes(m)||C.includes(m)||U.includes(m)});return a.jsxs("div",{className:"fixed inset-0 bg-app z-[60] flex flex-col animate-in slide-in-from-bottom-4 duration-300 transition-colors",children:[a.jsxs("div",{className:"bg-surface border-b border-bdr px-6 py-4 flex justify-between items-center shadow-sm shrink-0 transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"bg-orange-500/10 p-2.5 rounded-xl border border-orange-500/20",children:a.jsx(K5,{className:"w-6 h-6 text-orange-600"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-black text-txt-main tracking-tight",children:"Auditoria e Logs"}),a.jsx("p",{className:"text-xs text-txt-muted font-bold uppercase tracking-widest",children:"Rastreabilidade total de operaes"})]})]}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-red-500/10 text-txt-muted hover:text-red-500 rounded-full transition-colors",children:a.jsx(qn,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"bg-app px-6 py-4 flex flex-col md:flex-row gap-4 items-center shrink-0 border-b border-bdr transition-colors",children:[a.jsxs("div",{className:"relative w-full md:w-96",children:[a.jsx(rA,{className:"w-4 h-4 text-txt-muted absolute left-3 top-3"}),a.jsx("input",{type:"text",placeholder:"Buscar por produto, usurio ou motivo...",value:n,onChange:b=>i(b.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-surface border border-bdr rounded-xl text-sm font-bold text-txt-main focus:ring-2 focus:ring-orange-500 outline-none shadow-sm transition-colors"})]}),a.jsxs("div",{className:"flex items-center gap-2 px-4 py-2.5 bg-surface border border-bdr rounded-xl text-sm font-bold text-txt-muted shadow-sm transition-colors",children:[a.jsx(Cm,{className:"w-4 h-4"}),a.jsx("span",{children:"ltimos 30 dias"})]}),a.jsxs("div",{className:"flex-1 text-right text-xs font-bold text-txt-muted uppercase tracking-wider",children:[l&&a.jsx("span",{className:"text-txt-muted",children:"Carregando..."}),!l&&d&&a.jsx("span",{className:"text-red-500",children:d}),!l&&!d&&a.jsxs("span",{children:["Total de registros: ",a.jsx("span",{className:"text-txt-main",children:g.length})]})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-app transition-colors",children:a.jsxs("div",{className:"max-w-[1600px] mx-auto space-y-6",children:[a.jsx(fM,{}),a.jsx("div",{className:"bg-surface rounded-2xl shadow-sm border border-bdr overflow-hidden transition-colors",children:a.jsxs("table",{className:"w-full text-left text-sm",children:[a.jsx("thead",{className:"bg-app text-[10px] font-black text-txt-muted uppercase tracking-widest border-b border-bdr transition-colors",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4",children:"Data / Hora"}),a.jsx("th",{className:"px-6 py-4",children:"Usurio"}),a.jsx("th",{className:"px-6 py-4",children:"Tipo de Ao"}),a.jsx("th",{className:"px-6 py-4",children:"Depsito / Origem"}),a.jsx("th",{className:"px-6 py-4",children:"Item Afetado"}),a.jsx("th",{className:"px-6 py-4 text-right",children:"Qtd."}),a.jsx("th",{className:"px-6 py-4",children:"Detalhes / Motivo"})]})}),a.jsx("tbody",{className:"divide-y divide-bdr transition-colors",children:g.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:7,className:"px-6 py-16 text-center text-txt-muted opacity-50",children:a.jsxs("div",{className:"flex flex-col items-center gap-3",children:[a.jsx(Rx,{className:"w-10 h-10"}),a.jsx("p",{className:"font-bold text-sm",children:"Nenhum registro de auditoria encontrado."})]})})}):g.map(b=>a.jsxs("tr",{className:"hover:bg-app transition-colors group",children:[a.jsx("td",{className:"px-6 py-4 font-mono text-xs font-bold text-txt-muted",children:new Date(b.dataHora).toLocaleString("pt-BR")}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:"font-black text-txt-main text-xs bg-app px-2 py-1 rounded border border-bdr",children:b.usuarioNome})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-2 py-1 rounded text-[10px] font-black uppercase border ${b.tipo.includes("ENTRADA")?"bg-green-500/10 text-green-600 border-green-500/20":b.tipo.includes("SAIDA")?"bg-red-500/10 text-red-600 border-red-500/20":"bg-blue-500/10 text-blue-600 border-blue-500/20"}`,children:b.tipo.replace("_"," ")})}),a.jsx("td",{className:"px-6 py-4 text-txt-muted text-xs font-bold uppercase tracking-wide",children:b.depositoId}),a.jsx("td",{className:"px-6 py-4 font-bold text-txt-main",children:b.produtoNome}),a.jsxs("td",{className:`px-6 py-4 text-right font-black ${b.quantidade>0?"text-emerald-600":"text-txt-main"}`,children:[b.quantidade>0?"+":"",b.quantidade]}),a.jsx("td",{className:"px-6 py-4 text-txt-muted text-xs font-medium italic truncate max-w-xs group-hover:text-txt-main transition-colors",title:b.motivo,children:b.motivo||b.origem})]},b.id))})]})})]})})]})},Ih=[{id:"light",label:"Padro (Claro)",description:"Visual clssico e limpo",colors:{appBg:"#f8fafc",surfaceBg:"#ffffff",textMain:"#0f172a",textMuted:"#64748b",border:"#e2e8f0",primary:"#4f46e5"}},{id:"oled",label:"OLED (Preto Profundo)",description:"Economia mxima de energia",colors:{appBg:"#000000",surfaceBg:"#000000",textMain:"#f8fafc",textMuted:"#cbd5e1",border:"#333333",primary:"#22d3ee"}},{id:"dracula",label:"Dracula (Roxo)",description:"Tema escuro com contraste suave",colors:{appBg:"#0f172a",surfaceBg:"#1e293b",textMain:"#f1f5f9",textMuted:"#cbd5e1",border:"#334155",primary:"#a78bfa"}},{id:"ocean",label:"Oceano Profundo",description:"Azuis profundos com brilho frio",colors:{appBg:"#082f49",surfaceBg:"#0c4a6e",textMain:"#f0f9ff",textMuted:"#e0f2fe",border:"#075985",primary:"#38bdf8"}},{id:"forest",label:"Floresta Noturna",description:"Verdes escuros com atmosfera natural",colors:{appBg:"#022c22",surfaceBg:"#064e3b",textMain:"#ecfdf5",textMuted:"#d1fae5",border:"#065f46",primary:"#34d399"}},{id:"ember",label:"Brasa (Preto & Laranja)",description:"Preto intenso com brilho quente",colors:{appBg:"#0c0a09",surfaceBg:"#1c1917",textMain:"#ffedd5",textMuted:"#d6d3d1",border:"#44403c",primary:"#f97316"}},{id:"sunset",label:"Pr do Sol",description:"Gradiente quente com tons de rosa e laranja",pattern:"radial-gradient(circle at 20% 20%, rgba(251, 146, 60, 0.35), transparent 55%), radial-gradient(circle at 80% 30%, rgba(244, 114, 182, 0.25), transparent 60%), radial-gradient(circle at 50% 80%, rgba(253, 186, 116, 0.2), transparent 65%)",colors:{appBg:"#1b0b14",surfaceBg:"#2a141f",textMain:"#fff1f2",textMuted:"#fecdd3",border:"#3f1c2b",primary:"#fb7185"}},{id:"aurora",label:"Aurora Boreal",description:"Neblinas frias com tons de ciano e verde",pattern:"radial-gradient(circle at 20% 20%, rgba(34, 211, 238, 0.35), transparent 55%), radial-gradient(circle at 80% 30%, rgba(16, 185, 129, 0.3), transparent 60%), radial-gradient(circle at 50% 80%, rgba(139, 92, 246, 0.25), transparent 65%)",colors:{appBg:"#0b1020",surfaceBg:"#131a2d",textMain:"#e2e8f0",textMuted:"#94a3b8",border:"#1f2937",primary:"#22d3ee"}},{id:"nebula",label:"Nebulosa Roxa",description:"Brilhos roxos com contraste espacial",pattern:"radial-gradient(circle at 15% 25%, rgba(217, 70, 239, 0.28), transparent 55%), radial-gradient(circle at 75% 70%, rgba(99, 102, 241, 0.3), transparent 60%), radial-gradient(circle at 50% 40%, rgba(14, 165, 233, 0.2), transparent 65%)",colors:{appBg:"#120b24",surfaceBg:"#1c1236",textMain:"#f5f3ff",textMuted:"#d8b4fe",border:"#312e81",primary:"#c084fc"}}],mM=({onClose:t,currentTheme:e,onThemeChange:r,backgroundImage:n,backgroundOpacity:i,onBackgroundImageChange:l,onBackgroundOpacityChange:u})=>{const m=P.useRef(null),[g,b]=P.useState(null),N=P.useMemo(()=>Ih.find(T=>T.id===e)||Ih[0],[e]),w=()=>{var T;(T=m.current)==null||T.click()},C=T=>{var O;const S=(O=T.target.files)==null?void 0:O[0];if(!S)return;if(b(null),S.size>10485760){b("Imagem muito grande. Use at 10 MB."),T.target.value="";return}const I=new FileReader;I.onload=async()=>{const M=typeof I.result=="string"?I.result:null;if(M)try{await l(M)}catch(ne){b("Imagem grande demais para salvar. Use uma imagem menor."),console.error("Erro ao aplicar imagem de fundo",ne)}},I.onerror=()=>{b("Falha ao ler a imagem. Tente outro arquivo.")},I.readAsDataURL(S),T.target.value=""},U=T=>{const S=Number(T.target.value),I=Number.isFinite(S)?Math.min(1,Math.max(0,S)):.35;u(I)};return a.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-in fade-in duration-300",children:a.jsxs("div",{className:"bg-surface w-full max-w-3xl rounded-3xl shadow-2xl overflow-hidden border border-bdr transform transition-all",children:[a.jsxs("div",{className:"bg-app border-b border-bdr px-8 py-6 flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"bg-pink-100 p-3 rounded-2xl",children:a.jsx(Em,{className:"w-6 h-6 text-pink-600"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-txt-main tracking-tight",children:"Personalizao"}),a.jsx("p",{className:"text-sm text-txt-muted font-medium",children:"Escolha o visual que mais lhe agrada"})]})]}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-black/5 rounded-full text-txt-muted transition-colors",children:a.jsx(qn,{className:"w-6 h-6"})})]}),a.jsx("div",{className:"p-8 grid grid-cols-1 sm:grid-cols-2 gap-6 bg-app",children:Ih.map(T=>{const S=e===T.id;return a.jsxs("button",{onClick:()=>r(T.id),className:`relative group flex items-center gap-4 p-4 rounded-2xl border-2 transition-all duration-300 text-left ${S?"border-pink-500 bg-surface shadow-lg scale-[1.02]":"border-bdr bg-surface hover:border-pink-300 hover:shadow-md"}`,children:[a.jsx("div",{className:"w-16 h-16 rounded-xl shadow-inner flex items-center justify-center text-xs font-bold shrink-0 border border-white/10",style:{backgroundColor:T.colors.appBg,backgroundImage:T.pattern??"none",color:T.colors.textMain},children:a.jsx("div",{className:"w-8 h-8 rounded-lg shadow-sm",style:{backgroundColor:T.colors.surfaceBg}})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-bold text-lg text-txt-main mb-1",children:T.label}),a.jsx("p",{className:"text-xs text-txt-muted opacity-80",children:T.description})]}),S&&a.jsx("div",{className:"absolute top-4 right-4 bg-pink-500 text-white p-1 rounded-full shadow-sm animate-in zoom-in",children:a.jsx(hc,{className:"w-4 h-4",strokeWidth:3})})]},T.id)})}),a.jsxs("div",{className:"px-8 pb-8 bg-app space-y-4",children:[a.jsxs("div",{className:"bg-surface border border-bdr rounded-2xl p-5 space-y-4",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-pink-100 flex items-center justify-center",children:a.jsx(TS,{className:"w-5 h-5 text-pink-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-black text-txt-main",children:"Imagem de fundo"}),a.jsx("p",{className:"text-[11px] text-txt-muted",children:"Envie uma imagem e ajuste a transparncia"})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{type:"button",onClick:w,className:"px-4 py-2 text-xs font-black uppercase rounded-xl bg-pink-600 text-white shadow-sm hover:bg-pink-700 transition",children:"Upload"}),a.jsx("button",{type:"button",onClick:()=>{b(null),l(null)},className:"px-3 py-2 text-xs font-black uppercase rounded-xl border border-bdr text-txt-muted hover:text-red-500 hover:border-red-300 transition",children:a.jsx(aa,{className:"w-4 h-4"})})]})]}),g&&a.jsx("div",{className:"text-xs text-red-500 font-bold",children:g}),n?a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsx("div",{className:"w-full sm:w-40 h-28 rounded-xl overflow-hidden border border-bdr",children:a.jsx("img",{src:n,alt:"Preview",className:"w-full h-full object-cover",style:{opacity:i}})}),a.jsxs("div",{className:"flex-1 space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-txt-muted",children:[a.jsx(L3,{className:"w-4 h-4"}),"Transparncia da imagem"]}),a.jsx("input",{type:"range",min:"0",max:"1",step:"0.05",value:i,onChange:U,className:"w-full accent-pink-500"}),a.jsxs("p",{className:"text-[11px] text-txt-muted",children:[Math.round(i*100),"% visvel"]})]})]}):a.jsxs("div",{className:"text-xs text-txt-muted",children:["Nenhuma imagem aplicada. O fundo usa o tema ",N.label,"."]})]}),a.jsx("input",{ref:m,type:"file",accept:"image/*",onChange:C,className:"hidden"})]}),a.jsx("div",{className:"bg-surface border-t border-bdr p-6 flex justify-end",children:a.jsx("button",{onClick:t,className:"px-8 py-3 bg-pink-600 hover:bg-pink-700 text-white font-bold rounded-xl shadow-lg shadow-pink-200 transition-all active:scale-95",children:"Concludo"})})]})})};function BC(t,e){return function(){return t.apply(e,arguments)}}const{toString:gM}=Object.prototype,{getPrototypeOf:bv}=Object,{iterator:Xm,toStringTag:NC}=Symbol,Ym=(t=>e=>{const r=gM.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Sl=t=>(t=t.toLowerCase(),e=>Ym(e)===t),Jm=t=>e=>typeof e===t,{isArray:Bd}=Array,bd=Jm("undefined");function sf(t){return t!==null&&!bd(t)&&t.constructor!==null&&!bd(t.constructor)&&co(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const CC=Sl("ArrayBuffer");function xM(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&CC(t.buffer),e}const bM=Jm("string"),co=Jm("function"),EC=Jm("number"),af=t=>t!==null&&typeof t=="object",vM=t=>t===!0||t===!1,Wp=t=>{if(Ym(t)!=="object")return!1;const e=bv(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(NC in t)&&!(Xm in t)},yM=t=>{if(!af(t)||sf(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},wM=Sl("Date"),_M=Sl("File"),BM=Sl("Blob"),NM=Sl("FileList"),CM=t=>af(t)&&co(t.pipe),EM=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||co(t.append)&&((e=Ym(t))==="formdata"||e==="object"&&co(t.toString)&&t.toString()==="[object FormData]"))},SM=Sl("URLSearchParams"),[jM,UM,kM,LM]=["ReadableStream","Request","Response","Headers"].map(Sl),FM=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function of(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,i;if(typeof t!="object"&&(t=[t]),Bd(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{if(sf(t))return;const l=r?Object.getOwnPropertyNames(t):Object.keys(t),u=l.length;let d;for(n=0;n<u;n++)d=l[n],e.call(null,t[d],d,t)}}function SC(t,e){if(sf(t))return null;e=e.toLowerCase();const r=Object.keys(t);let n=r.length,i;for(;n-- >0;)if(i=r[n],e===i.toLowerCase())return i;return null}const Jc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,jC=t=>!bd(t)&&t!==Jc;function Qb(){const{caseless:t,skipUndefined:e}=jC(this)&&this||{},r={},n=(i,l)=>{const u=t&&SC(r,l)||l;Wp(r[u])&&Wp(i)?r[u]=Qb(r[u],i):Wp(i)?r[u]=Qb({},i):Bd(i)?r[u]=i.slice():(!e||!bd(i))&&(r[u]=i)};for(let i=0,l=arguments.length;i<l;i++)arguments[i]&&of(arguments[i],n);return r}const TM=(t,e,r,{allOwnKeys:n}={})=>(of(e,(i,l)=>{r&&co(i)?t[l]=BC(i,r):t[l]=i},{allOwnKeys:n}),t),IM=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),QM=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},OM=(t,e,r,n)=>{let i,l,u;const d={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),l=i.length;l-- >0;)u=i[l],(!n||n(u,t,e))&&!d[u]&&(e[u]=t[u],d[u]=!0);t=r!==!1&&bv(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},RM=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},DM=t=>{if(!t)return null;if(Bd(t))return t;let e=t.length;if(!EC(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},MM=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&bv(Uint8Array)),PM=(t,e)=>{const n=(t&&t[Xm]).call(t);let i;for(;(i=n.next())&&!i.done;){const l=i.value;e.call(t,l[0],l[1])}},HM=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},qM=Sl("HTMLFormElement"),zM=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),A5=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),KM=Sl("RegExp"),UC=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};of(r,(i,l)=>{let u;(u=e(i,l,t))!==!1&&(n[l]=u||i)}),Object.defineProperties(t,n)},GM=t=>{UC(t,(e,r)=>{if(co(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(co(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},VM=(t,e)=>{const r={},n=i=>{i.forEach(l=>{r[l]=!0})};return Bd(t)?n(t):n(String(t).split(e)),r},$M=()=>{},ZM=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function XM(t){return!!(t&&co(t.append)&&t[NC]==="FormData"&&t[Xm])}const YM=t=>{const e=new Array(10),r=(n,i)=>{if(af(n)){if(e.indexOf(n)>=0)return;if(sf(n))return n;if(!("toJSON"in n)){e[i]=n;const l=Bd(n)?[]:{};return of(n,(u,d)=>{const h=r(u,i+1);!bd(h)&&(l[d]=h)}),e[i]=void 0,l}}return n};return r(t,0)},JM=Sl("AsyncFunction"),WM=t=>t&&(af(t)||co(t))&&co(t.then)&&co(t.catch),kC=((t,e)=>t?setImmediate:e?((r,n)=>(Jc.addEventListener("message",({source:i,data:l})=>{i===Jc&&l===r&&n.length&&n.shift()()},!1),i=>{n.push(i),Jc.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",co(Jc.postMessage)),eP=typeof queueMicrotask<"u"?queueMicrotask.bind(Jc):typeof process<"u"&&process.nextTick||kC,tP=t=>t!=null&&co(t[Xm]),et={isArray:Bd,isArrayBuffer:CC,isBuffer:sf,isFormData:EM,isArrayBufferView:xM,isString:bM,isNumber:EC,isBoolean:vM,isObject:af,isPlainObject:Wp,isEmptyObject:yM,isReadableStream:jM,isRequest:UM,isResponse:kM,isHeaders:LM,isUndefined:bd,isDate:wM,isFile:_M,isBlob:BM,isRegExp:KM,isFunction:co,isStream:CM,isURLSearchParams:SM,isTypedArray:MM,isFileList:NM,forEach:of,merge:Qb,extend:TM,trim:FM,stripBOM:IM,inherits:QM,toFlatObject:OM,kindOf:Ym,kindOfTest:Sl,endsWith:RM,toArray:DM,forEachEntry:PM,matchAll:HM,isHTMLForm:qM,hasOwnProperty:A5,hasOwnProp:A5,reduceDescriptors:UC,freezeMethods:GM,toObjectSet:VM,toCamelCase:zM,noop:$M,toFiniteNumber:ZM,findKey:SC,global:Jc,isContextDefined:jC,isSpecCompliantForm:XM,toJSONObject:YM,isAsyncFn:JM,isThenable:WM,setImmediate:kC,asap:eP,isIterable:tP};function sn(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}et.inherits(sn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:et.toJSONObject(this.config),code:this.code,status:this.status}}});const LC=sn.prototype,FC={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{FC[t]={value:t}});Object.defineProperties(sn,FC);Object.defineProperty(LC,"isAxiosError",{value:!0});sn.from=(t,e,r,n,i,l)=>{const u=Object.create(LC);et.toFlatObject(t,u,function(g){return g!==Error.prototype},m=>m!=="isAxiosError");const d=t&&t.message?t.message:"Error",h=e==null&&t?t.code:e;return sn.call(u,d,h,r,n,i),t&&u.cause==null&&Object.defineProperty(u,"cause",{value:t,configurable:!0}),u.name=t&&t.name||"Error",l&&Object.assign(u,l),u};const rP=null;function Ob(t){return et.isPlainObject(t)||et.isArray(t)}function TC(t){return et.endsWith(t,"[]")?t.slice(0,-2):t}function c5(t,e,r){return t?t.concat(e).map(function(i,l){return i=TC(i),!r&&l?"["+i+"]":i}).join(r?".":""):e}function nP(t){return et.isArray(t)&&!t.some(Ob)}const sP=et.toFlatObject(et,{},null,function(e){return/^is[A-Z]/.test(e)});function Wm(t,e,r){if(!et.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=et.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(U,T){return!et.isUndefined(T[U])});const n=r.metaTokens,i=r.visitor||g,l=r.dots,u=r.indexes,h=(r.Blob||typeof Blob<"u"&&Blob)&&et.isSpecCompliantForm(e);if(!et.isFunction(i))throw new TypeError("visitor must be a function");function m(C){if(C===null)return"";if(et.isDate(C))return C.toISOString();if(et.isBoolean(C))return C.toString();if(!h&&et.isBlob(C))throw new sn("Blob is not supported. Use a Buffer instead.");return et.isArrayBuffer(C)||et.isTypedArray(C)?h&&typeof Blob=="function"?new Blob([C]):Buffer.from(C):C}function g(C,U,T){let S=C;if(C&&!T&&typeof C=="object"){if(et.endsWith(U,"{}"))U=n?U:U.slice(0,-2),C=JSON.stringify(C);else if(et.isArray(C)&&nP(C)||(et.isFileList(C)||et.endsWith(U,"[]"))&&(S=et.toArray(C)))return U=TC(U),S.forEach(function(O,M){!(et.isUndefined(O)||O===null)&&e.append(u===!0?c5([U],M,l):u===null?U:U+"[]",m(O))}),!1}return Ob(C)?!0:(e.append(c5(T,U,l),m(C)),!1)}const b=[],N=Object.assign(sP,{defaultVisitor:g,convertValue:m,isVisitable:Ob});function w(C,U){if(!et.isUndefined(C)){if(b.indexOf(C)!==-1)throw Error("Circular reference detected in "+U.join("."));b.push(C),et.forEach(C,function(S,I){(!(et.isUndefined(S)||S===null)&&i.call(e,S,et.isString(I)?I.trim():I,U,N))===!0&&w(S,U?U.concat(I):[I])}),b.pop()}}if(!et.isObject(t))throw new TypeError("data must be an object");return w(t),e}function u5(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function vv(t,e){this._pairs=[],t&&Wm(t,this,e)}const IC=vv.prototype;IC.append=function(e,r){this._pairs.push([e,r])};IC.toString=function(e){const r=e?function(n){return e.call(this,n,u5)}:u5;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function aP(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function QC(t,e,r){if(!e)return t;const n=r&&r.encode||aP;et.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let l;if(i?l=i(e,r):l=et.isURLSearchParams(e)?e.toString():new vv(e,r).toString(n),l){const u=t.indexOf("#");u!==-1&&(t=t.slice(0,u)),t+=(t.indexOf("?")===-1?"?":"&")+l}return t}class d5{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){et.forEach(this.handlers,function(n){n!==null&&e(n)})}}const OC={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},iP=typeof URLSearchParams<"u"?URLSearchParams:vv,oP=typeof FormData<"u"?FormData:null,lP=typeof Blob<"u"?Blob:null,AP={isBrowser:!0,classes:{URLSearchParams:iP,FormData:oP,Blob:lP},protocols:["http","https","file","blob","url","data"]},yv=typeof window<"u"&&typeof document<"u",Rb=typeof navigator=="object"&&navigator||void 0,cP=yv&&(!Rb||["ReactNative","NativeScript","NS"].indexOf(Rb.product)<0),uP=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",dP=yv&&window.location.href||"http://localhost",hP=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:yv,hasStandardBrowserEnv:cP,hasStandardBrowserWebWorkerEnv:uP,navigator:Rb,origin:dP},Symbol.toStringTag,{value:"Module"})),Ui={...hP,...AP};function fP(t,e){return Wm(t,new Ui.classes.URLSearchParams,{visitor:function(r,n,i,l){return Ui.isNode&&et.isBuffer(r)?(this.append(n,r.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)},...e})}function pP(t){return et.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function mP(t){const e={},r=Object.keys(t);let n;const i=r.length;let l;for(n=0;n<i;n++)l=r[n],e[l]=t[l];return e}function RC(t){function e(r,n,i,l){let u=r[l++];if(u==="__proto__")return!0;const d=Number.isFinite(+u),h=l>=r.length;return u=!u&&et.isArray(i)?i.length:u,h?(et.hasOwnProp(i,u)?i[u]=[i[u],n]:i[u]=n,!d):((!i[u]||!et.isObject(i[u]))&&(i[u]=[]),e(r,n,i[u],l)&&et.isArray(i[u])&&(i[u]=mP(i[u])),!d)}if(et.isFormData(t)&&et.isFunction(t.entries)){const r={};return et.forEachEntry(t,(n,i)=>{e(pP(n),i,r,0)}),r}return null}function gP(t,e,r){if(et.isString(t))try{return(e||JSON.parse)(t),et.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const lf={transitional:OC,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,l=et.isObject(e);if(l&&et.isHTMLForm(e)&&(e=new FormData(e)),et.isFormData(e))return i?JSON.stringify(RC(e)):e;if(et.isArrayBuffer(e)||et.isBuffer(e)||et.isStream(e)||et.isFile(e)||et.isBlob(e)||et.isReadableStream(e))return e;if(et.isArrayBufferView(e))return e.buffer;if(et.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let d;if(l){if(n.indexOf("application/x-www-form-urlencoded")>-1)return fP(e,this.formSerializer).toString();if((d=et.isFileList(e))||n.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return Wm(d?{"files[]":e}:e,h&&new h,this.formSerializer)}}return l||i?(r.setContentType("application/json",!1),gP(e)):e}],transformResponse:[function(e){const r=this.transitional||lf.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(et.isResponse(e)||et.isReadableStream(e))return e;if(e&&et.isString(e)&&(n&&!this.responseType||i)){const u=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(d){if(u)throw d.name==="SyntaxError"?sn.from(d,sn.ERR_BAD_RESPONSE,this,null,this.response):d}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ui.classes.FormData,Blob:Ui.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};et.forEach(["delete","get","head","post","put","patch"],t=>{lf.headers[t]={}});const xP=et.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),bP=t=>{const e={};let r,n,i;return t&&t.split(`
`).forEach(function(u){i=u.indexOf(":"),r=u.substring(0,i).trim().toLowerCase(),n=u.substring(i+1).trim(),!(!r||e[r]&&xP[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},h5=Symbol("internals");function uh(t){return t&&String(t).trim().toLowerCase()}function em(t){return t===!1||t==null?t:et.isArray(t)?t.map(em):String(t)}function vP(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const yP=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Lx(t,e,r,n,i){if(et.isFunction(n))return n.call(this,e,r);if(i&&(e=r),!!et.isString(e)){if(et.isString(n))return e.indexOf(n)!==-1;if(et.isRegExp(n))return n.test(e)}}function wP(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function _P(t,e){const r=et.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(i,l,u){return this[n].call(this,e,i,l,u)},configurable:!0})})}let uo=class{constructor(e){e&&this.set(e)}set(e,r,n){const i=this;function l(d,h,m){const g=uh(h);if(!g)throw new Error("header name must be a non-empty string");const b=et.findKey(i,g);(!b||i[b]===void 0||m===!0||m===void 0&&i[b]!==!1)&&(i[b||h]=em(d))}const u=(d,h)=>et.forEach(d,(m,g)=>l(m,g,h));if(et.isPlainObject(e)||e instanceof this.constructor)u(e,r);else if(et.isString(e)&&(e=e.trim())&&!yP(e))u(bP(e),r);else if(et.isObject(e)&&et.isIterable(e)){let d={},h,m;for(const g of e){if(!et.isArray(g))throw TypeError("Object iterator must return a key-value pair");d[m=g[0]]=(h=d[m])?et.isArray(h)?[...h,g[1]]:[h,g[1]]:g[1]}u(d,r)}else e!=null&&l(r,e,n);return this}get(e,r){if(e=uh(e),e){const n=et.findKey(this,e);if(n){const i=this[n];if(!r)return i;if(r===!0)return vP(i);if(et.isFunction(r))return r.call(this,i,n);if(et.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=uh(e),e){const n=et.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||Lx(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let i=!1;function l(u){if(u=uh(u),u){const d=et.findKey(n,u);d&&(!r||Lx(n,n[d],d,r))&&(delete n[d],i=!0)}}return et.isArray(e)?e.forEach(l):l(e),i}clear(e){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const l=r[n];(!e||Lx(this,this[l],l,e,!0))&&(delete this[l],i=!0)}return i}normalize(e){const r=this,n={};return et.forEach(this,(i,l)=>{const u=et.findKey(n,l);if(u){r[u]=em(i),delete r[l];return}const d=e?wP(l):String(l).trim();d!==l&&delete r[l],r[d]=em(i),n[d]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return et.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=e&&et.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[h5]=this[h5]={accessors:{}}).accessors,i=this.prototype;function l(u){const d=uh(u);n[d]||(_P(i,u),n[d]=!0)}return et.isArray(e)?e.forEach(l):l(e),this}};uo.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);et.reduceDescriptors(uo.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});et.freezeMethods(uo);function Fx(t,e){const r=this||lf,n=e||r,i=uo.from(n.headers);let l=n.data;return et.forEach(t,function(d){l=d.call(r,l,i.normalize(),e?e.status:void 0)}),i.normalize(),l}function DC(t){return!!(t&&t.__CANCEL__)}function Nd(t,e,r){sn.call(this,t??"canceled",sn.ERR_CANCELED,e,r),this.name="CanceledError"}et.inherits(Nd,sn,{__CANCEL__:!0});function MC(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new sn("Request failed with status code "+r.status,[sn.ERR_BAD_REQUEST,sn.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function BP(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function NP(t,e){t=t||10;const r=new Array(t),n=new Array(t);let i=0,l=0,u;return e=e!==void 0?e:1e3,function(h){const m=Date.now(),g=n[l];u||(u=m),r[i]=h,n[i]=m;let b=l,N=0;for(;b!==i;)N+=r[b++],b=b%t;if(i=(i+1)%t,i===l&&(l=(l+1)%t),m-u<e)return;const w=g&&m-g;return w?Math.round(N*1e3/w):void 0}}function CP(t,e){let r=0,n=1e3/e,i,l;const u=(m,g=Date.now())=>{r=g,i=null,l&&(clearTimeout(l),l=null),t(...m)};return[(...m)=>{const g=Date.now(),b=g-r;b>=n?u(m,g):(i=m,l||(l=setTimeout(()=>{l=null,u(i)},n-b)))},()=>i&&u(i)]}const _m=(t,e,r=3)=>{let n=0;const i=NP(50,250);return CP(l=>{const u=l.loaded,d=l.lengthComputable?l.total:void 0,h=u-n,m=i(h),g=u<=d;n=u;const b={loaded:u,total:d,progress:d?u/d:void 0,bytes:h,rate:m||void 0,estimated:m&&d&&g?(d-u)/m:void 0,event:l,lengthComputable:d!=null,[e?"download":"upload"]:!0};t(b)},r)},f5=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},p5=t=>(...e)=>et.asap(()=>t(...e)),EP=Ui.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,Ui.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(Ui.origin),Ui.navigator&&/(msie|trident)/i.test(Ui.navigator.userAgent)):()=>!0,SP=Ui.hasStandardBrowserEnv?{write(t,e,r,n,i,l,u){if(typeof document>"u")return;const d=[`${t}=${encodeURIComponent(e)}`];et.isNumber(r)&&d.push(`expires=${new Date(r).toUTCString()}`),et.isString(n)&&d.push(`path=${n}`),et.isString(i)&&d.push(`domain=${i}`),l===!0&&d.push("secure"),et.isString(u)&&d.push(`SameSite=${u}`),document.cookie=d.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function jP(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function UP(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function PC(t,e,r){let n=!jP(e);return t&&(n||r==!1)?UP(t,e):e}const m5=t=>t instanceof uo?{...t}:t;function iu(t,e){e=e||{};const r={};function n(m,g,b,N){return et.isPlainObject(m)&&et.isPlainObject(g)?et.merge.call({caseless:N},m,g):et.isPlainObject(g)?et.merge({},g):et.isArray(g)?g.slice():g}function i(m,g,b,N){if(et.isUndefined(g)){if(!et.isUndefined(m))return n(void 0,m,b,N)}else return n(m,g,b,N)}function l(m,g){if(!et.isUndefined(g))return n(void 0,g)}function u(m,g){if(et.isUndefined(g)){if(!et.isUndefined(m))return n(void 0,m)}else return n(void 0,g)}function d(m,g,b){if(b in e)return n(m,g);if(b in t)return n(void 0,m)}const h={url:l,method:l,data:l,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:d,headers:(m,g,b)=>i(m5(m),m5(g),b,!0)};return et.forEach(Object.keys({...t,...e}),function(g){const b=h[g]||i,N=b(t[g],e[g],g);et.isUndefined(N)&&b!==d||(r[g]=N)}),r}const HC=t=>{const e=iu({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:l,headers:u,auth:d}=e;if(e.headers=u=uo.from(u),e.url=QC(PC(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),d&&u.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):""))),et.isFormData(r)){if(Ui.hasStandardBrowserEnv||Ui.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if(et.isFunction(r.getHeaders)){const h=r.getHeaders(),m=["content-type","content-length"];Object.entries(h).forEach(([g,b])=>{m.includes(g.toLowerCase())&&u.set(g,b)})}}if(Ui.hasStandardBrowserEnv&&(n&&et.isFunction(n)&&(n=n(e)),n||n!==!1&&EP(e.url))){const h=i&&l&&SP.read(l);h&&u.set(i,h)}return e},kP=typeof XMLHttpRequest<"u",LP=kP&&function(t){return new Promise(function(r,n){const i=HC(t);let l=i.data;const u=uo.from(i.headers).normalize();let{responseType:d,onUploadProgress:h,onDownloadProgress:m}=i,g,b,N,w,C;function U(){w&&w(),C&&C(),i.cancelToken&&i.cancelToken.unsubscribe(g),i.signal&&i.signal.removeEventListener("abort",g)}let T=new XMLHttpRequest;T.open(i.method.toUpperCase(),i.url,!0),T.timeout=i.timeout;function S(){if(!T)return;const O=uo.from("getAllResponseHeaders"in T&&T.getAllResponseHeaders()),ne={data:!d||d==="text"||d==="json"?T.responseText:T.response,status:T.status,statusText:T.statusText,headers:O,config:t,request:T};MC(function(oe){r(oe),U()},function(oe){n(oe),U()},ne),T=null}"onloadend"in T?T.onloadend=S:T.onreadystatechange=function(){!T||T.readyState!==4||T.status===0&&!(T.responseURL&&T.responseURL.indexOf("file:")===0)||setTimeout(S)},T.onabort=function(){T&&(n(new sn("Request aborted",sn.ECONNABORTED,t,T)),T=null)},T.onerror=function(M){const ne=M&&M.message?M.message:"Network Error",z=new sn(ne,sn.ERR_NETWORK,t,T);z.event=M||null,n(z),T=null},T.ontimeout=function(){let M=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const ne=i.transitional||OC;i.timeoutErrorMessage&&(M=i.timeoutErrorMessage),n(new sn(M,ne.clarifyTimeoutError?sn.ETIMEDOUT:sn.ECONNABORTED,t,T)),T=null},l===void 0&&u.setContentType(null),"setRequestHeader"in T&&et.forEach(u.toJSON(),function(M,ne){T.setRequestHeader(ne,M)}),et.isUndefined(i.withCredentials)||(T.withCredentials=!!i.withCredentials),d&&d!=="json"&&(T.responseType=i.responseType),m&&([N,C]=_m(m,!0),T.addEventListener("progress",N)),h&&T.upload&&([b,w]=_m(h),T.upload.addEventListener("progress",b),T.upload.addEventListener("loadend",w)),(i.cancelToken||i.signal)&&(g=O=>{T&&(n(!O||O.type?new Nd(null,t,T):O),T.abort(),T=null)},i.cancelToken&&i.cancelToken.subscribe(g),i.signal&&(i.signal.aborted?g():i.signal.addEventListener("abort",g)));const I=BP(i.url);if(I&&Ui.protocols.indexOf(I)===-1){n(new sn("Unsupported protocol "+I+":",sn.ERR_BAD_REQUEST,t));return}T.send(l||null)})},FP=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,i;const l=function(m){if(!i){i=!0,d();const g=m instanceof Error?m:this.reason;n.abort(g instanceof sn?g:new Nd(g instanceof Error?g.message:g))}};let u=e&&setTimeout(()=>{u=null,l(new sn(`timeout ${e} of ms exceeded`,sn.ETIMEDOUT))},e);const d=()=>{t&&(u&&clearTimeout(u),u=null,t.forEach(m=>{m.unsubscribe?m.unsubscribe(l):m.removeEventListener("abort",l)}),t=null)};t.forEach(m=>m.addEventListener("abort",l));const{signal:h}=n;return h.unsubscribe=()=>et.asap(d),h}},TP=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,i;for(;n<r;)i=n+e,yield t.slice(n,i),n=i},IP=async function*(t,e){for await(const r of QP(t))yield*TP(r,e)},QP=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},g5=(t,e,r,n)=>{const i=IP(t,e);let l=0,u,d=h=>{u||(u=!0,n&&n(h))};return new ReadableStream({async pull(h){try{const{done:m,value:g}=await i.next();if(m){d(),h.close();return}let b=g.byteLength;if(r){let N=l+=b;r(N)}h.enqueue(new Uint8Array(g))}catch(m){throw d(m),m}},cancel(h){return d(h),i.return()}},{highWaterMark:2})},x5=64*1024,{isFunction:Tp}=et,OP=(({Request:t,Response:e})=>({Request:t,Response:e}))(et.global),{ReadableStream:b5,TextEncoder:v5}=et.global,y5=(t,...e)=>{try{return!!t(...e)}catch{return!1}},RP=t=>{t=et.merge.call({skipUndefined:!0},OP,t);const{fetch:e,Request:r,Response:n}=t,i=e?Tp(e):typeof fetch=="function",l=Tp(r),u=Tp(n);if(!i)return!1;const d=i&&Tp(b5),h=i&&(typeof v5=="function"?(C=>U=>C.encode(U))(new v5):async C=>new Uint8Array(await new r(C).arrayBuffer())),m=l&&d&&y5(()=>{let C=!1;const U=new r(Ui.origin,{body:new b5,method:"POST",get duplex(){return C=!0,"half"}}).headers.has("Content-Type");return C&&!U}),g=u&&d&&y5(()=>et.isReadableStream(new n("").body)),b={stream:g&&(C=>C.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(C=>{!b[C]&&(b[C]=(U,T)=>{let S=U&&U[C];if(S)return S.call(U);throw new sn(`Response type '${C}' is not supported`,sn.ERR_NOT_SUPPORT,T)})});const N=async C=>{if(C==null)return 0;if(et.isBlob(C))return C.size;if(et.isSpecCompliantForm(C))return(await new r(Ui.origin,{method:"POST",body:C}).arrayBuffer()).byteLength;if(et.isArrayBufferView(C)||et.isArrayBuffer(C))return C.byteLength;if(et.isURLSearchParams(C)&&(C=C+""),et.isString(C))return(await h(C)).byteLength},w=async(C,U)=>{const T=et.toFiniteNumber(C.getContentLength());return T??N(U)};return async C=>{let{url:U,method:T,data:S,signal:I,cancelToken:O,timeout:M,onDownloadProgress:ne,onUploadProgress:z,responseType:oe,headers:te,withCredentials:X="same-origin",fetchOptions:ge}=HC(C),Z=e||fetch;oe=oe?(oe+"").toLowerCase():"text";let W=FP([I,O&&O.toAbortSignal()],M),ae=null;const K=W&&W.unsubscribe&&(()=>{W.unsubscribe()});let ue;try{if(z&&m&&T!=="get"&&T!=="head"&&(ue=await w(te,S))!==0){let q=new r(U,{method:"POST",body:S,duplex:"half"}),F;if(et.isFormData(S)&&(F=q.headers.get("content-type"))&&te.setContentType(F),q.body){const[G,$]=f5(ue,_m(p5(z)));S=g5(q.body,x5,G,$)}}et.isString(X)||(X=X?"include":"omit");const Q=l&&"credentials"in r.prototype,Ae={...ge,signal:W,method:T.toUpperCase(),headers:te.normalize().toJSON(),body:S,duplex:"half",credentials:Q?X:void 0};ae=l&&new r(U,Ae);let ee=await(l?Z(ae,ge):Z(U,Ae));const _e=g&&(oe==="stream"||oe==="response");if(g&&(ne||_e&&K)){const q={};["status","statusText","headers"].forEach(V=>{q[V]=ee[V]});const F=et.toFiniteNumber(ee.headers.get("content-length")),[G,$]=ne&&f5(F,_m(p5(ne),!0))||[];ee=new n(g5(ee.body,x5,G,()=>{$&&$(),K&&K()}),q)}oe=oe||"text";let Ne=await b[et.findKey(b,oe)||"text"](ee,C);return!_e&&K&&K(),await new Promise((q,F)=>{MC(q,F,{data:Ne,headers:uo.from(ee.headers),status:ee.status,statusText:ee.statusText,config:C,request:ae})})}catch(Q){throw K&&K(),Q&&Q.name==="TypeError"&&/Load failed|fetch/i.test(Q.message)?Object.assign(new sn("Network Error",sn.ERR_NETWORK,C,ae),{cause:Q.cause||Q}):sn.from(Q,Q&&Q.code,C,ae)}}},DP=new Map,qC=t=>{let e=t&&t.env||{};const{fetch:r,Request:n,Response:i}=e,l=[n,i,r];let u=l.length,d=u,h,m,g=DP;for(;d--;)h=l[d],m=g.get(h),m===void 0&&g.set(h,m=d?new Map:RP(e)),g=m;return m};qC();const wv={http:rP,xhr:LP,fetch:{get:qC}};et.forEach(wv,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const w5=t=>`- ${t}`,MP=t=>et.isFunction(t)||t===null||t===!1;function PP(t,e){t=et.isArray(t)?t:[t];const{length:r}=t;let n,i;const l={};for(let u=0;u<r;u++){n=t[u];let d;if(i=n,!MP(n)&&(i=wv[(d=String(n)).toLowerCase()],i===void 0))throw new sn(`Unknown adapter '${d}'`);if(i&&(et.isFunction(i)||(i=i.get(e))))break;l[d||"#"+u]=i}if(!i){const u=Object.entries(l).map(([h,m])=>`adapter ${h} `+(m===!1?"is not supported by the environment":"is not available in the build"));let d=r?u.length>1?`since :
`+u.map(w5).join(`
`):" "+w5(u[0]):"as no adapter specified";throw new sn("There is no suitable adapter to dispatch the request "+d,"ERR_NOT_SUPPORT")}return i}const zC={getAdapter:PP,adapters:wv};function Tx(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Nd(null,t)}function _5(t){return Tx(t),t.headers=uo.from(t.headers),t.data=Fx.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),zC.getAdapter(t.adapter||lf.adapter,t)(t).then(function(n){return Tx(t),n.data=Fx.call(t,t.transformResponse,n),n.headers=uo.from(n.headers),n},function(n){return DC(n)||(Tx(t),n&&n.response&&(n.response.data=Fx.call(t,t.transformResponse,n.response),n.response.headers=uo.from(n.response.headers))),Promise.reject(n)})}const KC="1.13.2",eg={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{eg[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const B5={};eg.transitional=function(e,r,n){function i(l,u){return"[Axios v"+KC+"] Transitional option '"+l+"'"+u+(n?". "+n:"")}return(l,u,d)=>{if(e===!1)throw new sn(i(u," has been removed"+(r?" in "+r:"")),sn.ERR_DEPRECATED);return r&&!B5[u]&&(B5[u]=!0,console.warn(i(u," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(l,u,d):!0}};eg.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function HP(t,e,r){if(typeof t!="object")throw new sn("options must be an object",sn.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let i=n.length;for(;i-- >0;){const l=n[i],u=e[l];if(u){const d=t[l],h=d===void 0||u(d,l,t);if(h!==!0)throw new sn("option "+l+" must be "+h,sn.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new sn("Unknown option "+l,sn.ERR_BAD_OPTION)}}const tm={assertOptions:HP,validators:eg},Jl=tm.validators;let nu=class{constructor(e){this.defaults=e||{},this.interceptors={request:new d5,response:new d5}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const l=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?l&&!String(n.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+l):n.stack=l}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=iu(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:l}=r;n!==void 0&&tm.assertOptions(n,{silentJSONParsing:Jl.transitional(Jl.boolean),forcedJSONParsing:Jl.transitional(Jl.boolean),clarifyTimeoutError:Jl.transitional(Jl.boolean)},!1),i!=null&&(et.isFunction(i)?r.paramsSerializer={serialize:i}:tm.assertOptions(i,{encode:Jl.function,serialize:Jl.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),tm.assertOptions(r,{baseUrl:Jl.spelling("baseURL"),withXsrfToken:Jl.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let u=l&&et.merge(l.common,l[r.method]);l&&et.forEach(["delete","get","head","post","put","patch","common"],C=>{delete l[C]}),r.headers=uo.concat(u,l);const d=[];let h=!0;this.interceptors.request.forEach(function(U){typeof U.runWhen=="function"&&U.runWhen(r)===!1||(h=h&&U.synchronous,d.unshift(U.fulfilled,U.rejected))});const m=[];this.interceptors.response.forEach(function(U){m.push(U.fulfilled,U.rejected)});let g,b=0,N;if(!h){const C=[_5.bind(this),void 0];for(C.unshift(...d),C.push(...m),N=C.length,g=Promise.resolve(r);b<N;)g=g.then(C[b++],C[b++]);return g}N=d.length;let w=r;for(;b<N;){const C=d[b++],U=d[b++];try{w=C(w)}catch(T){U.call(this,T);break}}try{g=_5.call(this,w)}catch(C){return Promise.reject(C)}for(b=0,N=m.length;b<N;)g=g.then(m[b++],m[b++]);return g}getUri(e){e=iu(this.defaults,e);const r=PC(e.baseURL,e.url,e.allowAbsoluteUrls);return QC(r,e.params,e.paramsSerializer)}};et.forEach(["delete","get","head","options"],function(e){nu.prototype[e]=function(r,n){return this.request(iu(n||{},{method:e,url:r,data:(n||{}).data}))}});et.forEach(["post","put","patch"],function(e){function r(n){return function(l,u,d){return this.request(iu(d||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:l,data:u}))}}nu.prototype[e]=r(),nu.prototype[e+"Form"]=r(!0)});let qP=class GC{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(l){r=l});const n=this;this.promise.then(i=>{if(!n._listeners)return;let l=n._listeners.length;for(;l-- >0;)n._listeners[l](i);n._listeners=null}),this.promise.then=i=>{let l;const u=new Promise(d=>{n.subscribe(d),l=d}).then(i);return u.cancel=function(){n.unsubscribe(l)},u},e(function(l,u,d){n.reason||(n.reason=new Nd(l,u,d),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new GC(function(i){e=i}),cancel:e}}};function zP(t){return function(r){return t.apply(null,r)}}function KP(t){return et.isObject(t)&&t.isAxiosError===!0}const Db={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Db).forEach(([t,e])=>{Db[e]=t});function VC(t){const e=new nu(t),r=BC(nu.prototype.request,e);return et.extend(r,nu.prototype,e,{allOwnKeys:!0}),et.extend(r,e,null,{allOwnKeys:!0}),r.create=function(i){return VC(iu(t,i))},r}const ia=VC(lf);ia.Axios=nu;ia.CanceledError=Nd;ia.CancelToken=qP;ia.isCancel=DC;ia.VERSION=KC;ia.toFormData=Wm;ia.AxiosError=sn;ia.Cancel=ia.CanceledError;ia.all=function(e){return Promise.all(e)};ia.spread=zP;ia.isAxiosError=KP;ia.mergeConfig=iu;ia.AxiosHeaders=uo;ia.formToJSON=t=>RC(et.isHTMLForm(t)?new FormData(t):t);ia.getAdapter=zC.getAdapter;ia.HttpStatusCode=Db;ia.default=ia;const{Axios:D7,AxiosError:M7,CanceledError:P7,isCancel:H7,CancelToken:q7,VERSION:z7,all:K7,Cancel:G7,isAxiosError:V7,spread:$7,toFormData:Z7,AxiosHeaders:X7,HttpStatusCode:Y7,formToJSON:J7,getAdapter:W7,mergeConfig:eH}=ia;(function(){function t(e){return this instanceof t?(this._canvas=e=typeof e=="string"?document.getElementById(e):e,this._ctx=e.getContext("2d"),this._width=e.width,this._height=e.height,this._max=1,void this.clear()):new t(e)}t.prototype={defaultRadius:25,defaultGradient:{.4:"blue",.6:"cyan",.7:"lime",.8:"yellow",1:"red"},data:function(e,r){return this._data=e,this},max:function(e){return this._max=e,this},add:function(e){return this._data.push(e),this},clear:function(){return this._data=[],this},radius:function(e,r){r=r||15;var n=this._circle=document.createElement("canvas"),i=n.getContext("2d"),l=this._r=e+r;return n.width=n.height=2*l,i.shadowOffsetX=i.shadowOffsetY=200,i.shadowBlur=r,i.shadowColor="black",i.beginPath(),i.arc(l-200,l-200,e,0,2*Math.PI,!0),i.closePath(),i.fill(),this},gradient:function(e){var r=document.createElement("canvas"),n=r.getContext("2d"),i=n.createLinearGradient(0,0,0,256);r.width=1,r.height=256;for(var l in e)i.addColorStop(l,e[l]);return n.fillStyle=i,n.fillRect(0,0,1,256),this._grad=n.getImageData(0,0,1,256).data,this},draw:function(e){this._circle||this.radius(this.defaultRadius),this._grad||this.gradient(this.defaultGradient);var r=this._ctx;r.clearRect(0,0,this._width,this._height);for(var n,i=0,l=this._data.length;l>i;i++)n=this._data[i],r.globalAlpha=Math.max(n[2]/this._max,e||.05),r.drawImage(this._circle,n[0]-this._r,n[1]-this._r);var u=r.getImageData(0,0,this._width,this._height);return this._colorize(u.data,this._grad),r.putImageData(u,0,0),this},_colorize:function(e,r){for(var n,i=3,l=e.length;l>i;i+=4)n=4*e[i],n&&(e[i-3]=r[n],e[i-2]=r[n+1],e[i-1]=r[n+2])}},window.simpleheat=t})(),L.HeatLayer=(L.Layer?L.Layer:L.Class).extend({initialize:function(t,e){this._latlngs=t,L.setOptions(this,e)},setLatLngs:function(t){return this._latlngs=t,this.redraw()},addLatLng:function(t){return this._latlngs.push(t),this.redraw()},setOptions:function(t){return L.setOptions(this,t),this._heat&&this._updateOptions(),this.redraw()},redraw:function(){return!this._heat||this._frame||this._map._animating||(this._frame=L.Util.requestAnimFrame(this._redraw,this)),this},onAdd:function(t){this._map=t,this._canvas||this._initCanvas(),t._panes.overlayPane.appendChild(this._canvas),t.on("moveend",this._reset,this),t.options.zoomAnimation&&L.Browser.any3d&&t.on("zoomanim",this._animateZoom,this),this._reset()},onRemove:function(t){t.getPanes().overlayPane.removeChild(this._canvas),t.off("moveend",this._reset,this),t.options.zoomAnimation&&t.off("zoomanim",this._animateZoom,this)},addTo:function(t){return t.addLayer(this),this},_initCanvas:function(){var t=this._canvas=L.DomUtil.create("canvas","leaflet-heatmap-layer leaflet-layer"),e=L.DomUtil.testProp(["transformOrigin","WebkitTransformOrigin","msTransformOrigin"]);t.style[e]="50% 50%";var r=this._map.getSize();t.width=r.x,t.height=r.y;var n=this._map.options.zoomAnimation&&L.Browser.any3d;L.DomUtil.addClass(t,"leaflet-zoom-"+(n?"animated":"hide")),this._heat=simpleheat(t),this._updateOptions()},_updateOptions:function(){this._heat.radius(this.options.radius||this._heat.defaultRadius,this.options.blur),this.options.gradient&&this._heat.gradient(this.options.gradient),this.options.max&&this._heat.max(this.options.max)},_reset:function(){var t=this._map.containerPointToLayerPoint([0,0]);L.DomUtil.setPosition(this._canvas,t);var e=this._map.getSize();this._heat._width!==e.x&&(this._canvas.width=this._heat._width=e.x),this._heat._height!==e.y&&(this._canvas.height=this._heat._height=e.y),this._redraw()},_redraw:function(){var t,e,r,n,i,l,u,d,h,m=[],g=this._heat._r,b=this._map.getSize(),N=new L.Bounds(L.point([-g,-g]),b.add([g,g])),w=this.options.max===void 0?1:this.options.max,C=this.options.maxZoom===void 0?this._map.getMaxZoom():this.options.maxZoom,U=1/Math.pow(2,Math.max(0,Math.min(C-this._map.getZoom(),12))),T=g/2,S=[],I=this._map._getMapPanePos(),O=I.x%T,M=I.y%T;for(t=0,e=this._latlngs.length;e>t;t++)if(r=this._map.latLngToContainerPoint(this._latlngs[t]),N.contains(r)){i=Math.floor((r.x-O)/T)+2,l=Math.floor((r.y-M)/T)+2;var ne=this._latlngs[t].alt!==void 0?this._latlngs[t].alt:this._latlngs[t][2]!==void 0?+this._latlngs[t][2]:1;h=ne*U,S[l]=S[l]||[],n=S[l][i],n?(n[0]=(n[0]*n[2]+r.x*h)/(n[2]+h),n[1]=(n[1]*n[2]+r.y*h)/(n[2]+h),n[2]+=h):S[l][i]=[r.x,r.y,h]}for(t=0,e=S.length;e>t;t++)if(S[t])for(u=0,d=S[t].length;d>u;u++)n=S[t][u],n&&m.push([Math.round(n[0]),Math.round(n[1]),Math.min(n[2],w)]);this._heat.data(m).draw(this.options.minOpacity),this._frame=null},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),r=this._map._getCenterOffset(t.center)._multiplyBy(-e).subtract(this._map._getMapPanePos());L.DomUtil.setTransform?L.DomUtil.setTransform(this._canvas,r,e):this._canvas.style[L.DomUtil.TRANSFORM]=L.DomUtil.getTranslateString(r)+" scale("+e+")"}}),L.heatLayer=function(t,e){return new L.HeatLayer(t,e)};const N5={lat:-17.7915,lng:-50.9197},C5="Rio Verde, GO",$o={error:t=>alert(t),success:t=>alert(t)},GP=()=>{const t=Os.GeometryUtil;if(!t||t._gpReadableAreaPatched)return;t._gpReadableAreaPatched=!0;const e={km:2,ha:2,m:0,mi:2,ac:2,yd:0,ft:0,nm:2};t.readableArea=(r,n,i)=>{const l=Os.Util.extend({},e,i);let u=["ha","m"];const d=typeof n;if(n)return d==="string"?u=[n]:d!=="boolean"&&(u=n),r>=1e6&&u.indexOf("km")!==-1?`${t.formattedNumber(r/1e6,l.km)} km2`:r>=1e4&&u.indexOf("ha")!==-1?`${t.formattedNumber(r/1e4,l.ha)} ha`:`${t.formattedNumber(r,l.m)} m2`;const h=r/.836127;return h>=3097600?`${t.formattedNumber(h/3097600,l.mi)} mi2`:h>=4840?`${t.formattedNumber(h/4840,l.ac)} acres`:`${t.formattedNumber(h,l.yd)} yd2`}},E5=t=>{if(!t)return null;if(Array.isArray(t)&&t.length>=2){const e=Number(t[0]),r=Number(t[1]);return Number.isFinite(e)&&Number.isFinite(r)?[e,r]:null}if(typeof t=="object"){const e=Number(t.lat??t.latitude),r=Number(t.lng??t.lon??t.longitude);if(Number.isFinite(e)&&Number.isFinite(r))return[e,r]}return null},Yu=t=>{if(!t)return null;let e=t;if(typeof e=="string")try{e=JSON.parse(e)}catch{return null}if(e&&typeof e=="object"&&!Array.isArray(e)){const n=e,i=n.type==="Feature"?n.geometry:n,l=i==null?void 0:i.coordinates,u=i==null?void 0:i.type;if(u==="Polygon"&&Array.isArray(l))return l.map(d=>Array.isArray(d)?d.map(h=>[Number(h==null?void 0:h[1]),Number(h==null?void 0:h[0])]).filter(h=>Number.isFinite(h[0])&&Number.isFinite(h[1])):[]).filter(d=>d.length>2);if(u==="MultiPolygon"&&Array.isArray(l)&&Array.isArray(l[0]))return l[0].map(h=>Array.isArray(h)?h.map(m=>[Number(m==null?void 0:m[1]),Number(m==null?void 0:m[0])]).filter(m=>Number.isFinite(m[0])&&Number.isFinite(m[1])):[]).filter(h=>h.length>2)}if(!Array.isArray(e)||e.length===0)return null;if(Array.isArray(e[0])&&Array.isArray(e[0][0])){const n=e[0][0];if(Array.isArray(n)&&n.length===2&&!Array.isArray(n[0]))return e.map(l=>l.map(u=>E5([u[1],u[0]])).filter(Boolean)).filter(l=>l.length>2)}const r=e.map(n=>Array.isArray(n)?n.map(i=>E5(i)).filter(i=>!!i):[]).filter(n=>n.length>2);return r.length?r:null},VP=t=>!t||!t.length?null:{type:"Polygon",coordinates:t.map(r=>r.map(([n,i])=>[i,n]))},$P=()=>{const t=yd();return P.useEffect(()=>{const e=()=>t.invalidateSize(),r=t.getContainer(),n=()=>e();window.addEventListener("resize",n);let i=null;typeof ResizeObserver<"u"&&(i=new ResizeObserver(()=>e()),i.observe(r));const l=setTimeout(e,50),u=setTimeout(e,250),d=setTimeout(e,800);return()=>{clearTimeout(l),clearTimeout(u),clearTimeout(d),window.removeEventListener("resize",n),i&&i.disconnect()}},[t]),null},ZP=({onClose:t})=>{const[e,r]=P.useState([]),[n,i]=P.useState([]),[l,u]=P.useState("realtime"),[d,h]=P.useState("map"),[m,g]=P.useState(null),[b,N]=P.useState(!1),[w,C]=P.useState(""),[U,T]=P.useState("#f97316"),[S,I]=P.useState(null),[O,M]=P.useState(!1),[ne,z]=P.useState(null),[oe,te]=P.useState(""),[X,ge]=P.useState({}),[Z,W]=P.useState("0"),[ae,K]=P.useState(""),[ue,Q]=P.useState(C5),[Ae,ee]=P.useState(!1),[_e,Ne]=P.useState(null),[q,F]=P.useState(null),[G,$]=P.useState(""),[V,he]=P.useState([]),[ve,je]=P.useState([]),[Te,Je]=P.useState([]),[Ke,nt]=P.useState([]),[ft,tt]=P.useState([]);P.useEffect(()=>{let Ue=!0;return(async()=>{try{const[Xe,at]=await Promise.all([wm(),Gm()]);if(!Ue)return;he(Xe||[]),nt(at||[])}catch(Xe){console.error("Erro ao carregar dados:",Xe)}})(),()=>{Ue=!1}},[]);const pe=P.useRef(null),Ct=P.useRef(null),It=P.useRef([]),zt=P.useRef([]),Ie=P.useRef(()=>{}),Rt=P.useRef(null),[Lt,Bt]=P.useState(!1),[gt,ir]=P.useState(null),_r=P.useMemo(()=>{const Ue=new Map;return(Te??[]).forEach(Xe=>{var at;Ue.has(Xe.deposit_id)||Ue.set(Xe.deposit_id,new Map),(at=Ue.get(Xe.deposit_id))==null||at.set(Xe.zone_id,Number(Xe.price??0))}),Ue},[Te]),nr=P.useCallback(()=>{g(null),C(""),T("#f97316"),te(""),I(null),Rt.current&&Rt.current.clearLayers()},[]);P.useEffect(()=>{let Ue=!0;return(async()=>{var Xe;try{await tu(()=>import("./leaflet-draw-default-yoD6TSFD.js"),[]);const at=!!((Xe=Os==null?void 0:Os.Draw)!=null&&Xe.Event);if(!Ue)return;if(at){const dt=await tu(()=>import("./index-BynZ6_mc.js"),[]);ir(()=>dt.EditControl),Bt(!0),GP()}else console.warn("leaflet-draw no exps L.Draw.Event (report)"),Bt(!1)}catch(at){console.error("Erro ao carregar ferramentas de desenho (report)",at),Ue&&Bt(!1)}})(),()=>{Ue=!1}},[]);const xr=P.useCallback(async()=>{const Ue=w.trim();if(!Ue){alert("Informe o nome da zona");return}if(!S||S.length===0){alert("Desenhe a rea da zona no mapa antes de salvar.");return}M(!0);try{const Xe={id:m??void 0,name:Ue,color:U,deposit_id:null,fee:0,map_polygon:VP(S)??S},at=await HR(Xe);if(ne&&oe.trim()!==""){const dt=Number(oe);await $_({id:`${ne}:${at.id}`,deposit_id:ne,zone_id:at.id,price:Number.isFinite(dt)?dt:0})}g(at.id),alert("Zona salva com sucesso")}catch(Xe){alert((Xe==null?void 0:Xe.message)||"Falha ao salvar zona")}finally{M(!1)}},[w,S,m,U,ne,oe]),$t=P.useCallback(Ue=>{if(!Ue||!Ue.length||!pe.current)return;const Xe=Os.polygon(Ue);pe.current.fitBounds(Xe.getBounds(),{padding:[24,24]})},[]),St=P.useCallback(()=>{if(!pe.current||!ve||ve.length===0)return;const Ue=[];if(ve.forEach(at=>{const dt=Yu(at.map_polygon);dt&&dt.forEach(Yt=>{Yt.forEach(Jt=>Ue.push(Jt))})}),Ue.length===0)return;const Xe=Os.latLngBounds(Ue);pe.current.fitBounds(Xe,{padding:[32,32],maxZoom:17})},[ve]),Zt=async()=>{const Ue=ae.trim();if(!(!Ue||!pe.current)){ee(!0),Ne(null),F(null);try{const Xe=ue.trim()||C5,{data:at}=await ia.get("https://nominatim.openstreetmap.org/search",{params:{format:"jsonv2",q:`${Ue}, ${Xe}`,polygon_geojson:1,addressdetails:1,limit:5,countrycodes:"br"},headers:{"Accept-Language":"pt-BR"}}),dt=Array.isArray(at)?at:[];if(!dt.length){F("Nenhum resultado encontrado. Desenhe manualmente.");return}const Yt=dt[0],Jt=Number(Yt==null?void 0:Yt.lat),br=Number(Yt==null?void 0:Yt.lon);if(!Number.isFinite(Jt)||!Number.isFinite(br)){Ne("Localizao invlida.");return}!m&&!b&&(N(!0),w||C(Ue)),pe.current.flyTo([Jt,br],15),F("Endereo encontrado. Desenhe a rea manualmente no mapa.")}catch{Ne("Falha ao buscar endereo.")}finally{ee(!1)}}},Tt=async Ue=>{if(confirm("Excluir esta zona?"))try{await qR(Ue),m===Ue&&(g(null),I(null)),$o.success("Zona excluda")}catch(Xe){$o.error((Xe==null?void 0:Xe.message)||"Erro ao excluir zona")}},Vr=async Ue=>{if(!ne){$o.error("Selecione um depsito para salvar preo.");return}const Xe=X[Ue]??"",at=Number(String(Xe).replace(",","."));if(!Number.isFinite(at)){$o.error("Preo invlido.");return}try{await $_({id:`${ne}:${Ue}`,zone_id:Ue,deposit_id:ne,price:at}),$o.success("Preo salvo")}catch{$o.error("Erro ao salvar preo")}},gr=async()=>{if(!ne||!Ke)return;const Ue=Ke.find(at=>at.id===ne);if(!Ue)return;const Xe=Number(Z||0)||0;try{await mC({...Ue,free_shipping_min_value:Xe}),$o.success("Frete grtis atualizado")}catch{$o.error("Erro ao salvar frete grtis")}},Vt=async()=>{if(!(!m||!G.trim()))try{await zR({id:crypto.randomUUID(),zone_id:m,name:G.trim()}),$(""),$o.success("Setor adicionado")}catch{$o.error("Erro ao adicionar setor")}},or=async Ue=>{if(confirm("Excluir este setor?"))try{await KR(Ue),$o.success("Setor excludo")}catch{$o.error("Erro ao excluir setor")}},Ht=P.useMemo(()=>Ke==null?void 0:Ke.find(Ue=>Ue.id===ne),[Ke,ne]),Kt=P.useMemo(()=>(ft??[]).filter(Ue=>Ue.zone_id===m),[ft,m]),kr=P.useMemo(()=>{const Ue=new Map;if(!ne)return Ue;for(const Xe of Te??[])Xe.deposit_id===ne&&Ue.set(Xe.zone_id,Xe);return Ue},[Te,ne]);P.useMemo(()=>(ve??[]).filter(Ue=>Ue.id!==m).map(Ue=>({id:Ue.id,name:Ue.name,color:Ue.color||"#f97316",polygon:Yu(Ue.map_polygon)})).filter(Ue=>Ue.polygon),[ve,m]),P.useMemo(()=>{if(!m||!ve)return null;const Ue=ve.find(Xe=>Xe.id===m);return Ue?Yu(Ue.map_polygon):null},[m,ve]),P.useEffect(()=>{const Ue=requestAnimationFrame(()=>Ie.current()),Xe=setTimeout(()=>Ie.current(),200),at=setTimeout(()=>Ie.current(),800),dt=setTimeout(()=>St(),1e3);return()=>{cancelAnimationFrame(Ue),clearTimeout(Xe),clearTimeout(at),clearTimeout(dt)}},[St]),P.useEffect(()=>{const Ue=()=>{try{const at=GR();i(Array.isArray(at)?at:[])}catch(at){console.error("Erro ao carregar entregadores",at),i([])}};Ue();const Xe=setInterval(Ue,5e3);return()=>clearInterval(Xe)},[]),P.useEffect(()=>{let Ue=!0;return(async()=>{try{if(V&&Array.isArray(V)&&V.length>0){Ue&&r(V);return}const at=await wm();Ue&&r(Array.isArray(at)?at:[])}catch(at){console.error("Erro ao carregar entregas",at),Ue&&r([])}})(),()=>{Ue=!1}},[V]),P.useEffect(()=>{ne||!Ke||Ke.length===0||z(Ke[0].id)},[Ke,ne]),P.useEffect(()=>{if(!ve)return;const Ue=m?ve.find(Xe=>Xe.id===m):null;if(!Ue){C(""),T("#f97316"),I(null),St();return}C(Ue.name??""),T(Ue.color??"#f97316"),I(Yu(Ue.map_polygon))},[m,ve,St]),P.useEffect(()=>{if(!ne||!m||!Te){te("");return}const Ue=Te.find(Xe=>Xe.zone_id===m&&Xe.deposit_id===ne);te(Ue?String(Ue.price??""):"")},[ne,m,Te]),P.useEffect(()=>{if(!ne||!ve){ge({});return}const Ue={};for(const Xe of ve){const at=kr.get(Xe.id);Ue[Xe.id]=at?String(at.price??0):""}ge(Ue)},[ne,ve,kr]),P.useEffect(()=>{if(!Ht)return;const Ue=Ht.free_shipping_min_value??Ht.freeShippingMinValue??0;W(String(Number(Ue)||0))},[Ht]),P.useEffect(()=>{if(!Rt.current||(Rt.current.clearLayers(),!S||S.length===0))return;const Ue=Os.polygon(S,{color:U,fillColor:U,fillOpacity:.25,weight:2});Rt.current.addLayer(Ue),pe.current&&pe.current.fitBounds(Ue.getBounds(),{padding:[24,24]})},[S,U]),P.useEffect(()=>{if(pe.current){if(Ct.current&&(pe.current.removeLayer(Ct.current),Ct.current=null),It.current.forEach(Ue=>Ue.remove()),It.current=[],zt.current.forEach(Ue=>Ue.remove()),zt.current=[],l==="heatmap"){const Xe=(Array.isArray(e)?e:[]).filter(at=>at.latitude&&at.longitude).map(at=>[at.latitude,at.longitude,.8]);Os.heatLayer&&(Ct.current=Os.heatLayer(Xe,{radius:25,blur:15,maxZoom:17}).addTo(pe.current))}l==="realtime"&&((Array.isArray(n)?n:[]).forEach(Xe=>{const dt=Os.divIcon({html:`
          <div style="background-color:#ef4444; width:32px; height:32px; border-radius:50%; border:2px solid white; box-shadow:0 0 10px rgba(239,68,68,0.5); display:flex; align-items:center; justify-content:center; color:white;">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="1" y="3" width="15" height="13"></rect><polygon points="16 8 20 8 23 11 23 16 16 16 16 8"></polygon><circle cx="5.5" cy="18.5" r="2.5"></circle><circle cx="18.5" cy="18.5" r="2.5"></circle></svg>
          </div>
        `,className:"driver-icon",iconSize:[32,32],iconAnchor:[16,16]}),Yt=Os.marker([Xe.coords.lat,Xe.coords.lng],{icon:dt,zIndexOffset:900}).addTo(pe.current).bindPopup(`<b>${Xe.nome}</b><br>Status: ${Xe.status}<br>Atualizado: ${new Date(Xe.ultimoUpdate).toLocaleTimeString()}`);It.current.push(Yt)}),e.filter(Xe=>(Xe.status==="PENDENTE"||Xe.status==="EM_ANDAMENTO")&&Xe.latitude).forEach(Xe=>{const Yt=`
             <div style="background-color:${Xe.status==="PENDENTE"?"#f59e0b":"#3b82f6"}; width:24px; height:24px; border-radius:50%; border:2px solid white; display:flex; align-items:center; justify-content:center; box-shadow: 0 2px 5px rgba(0,0,0,0.2);">
                <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><line x1="16.5" y1="9.4" x2="7.5" y2="4.21"></line><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line></svg>
             </div>
           `,Jt=Os.divIcon({html:Yt,className:"dot-icon",iconSize:[24,24],iconAnchor:[12,12]}),br=Os.marker([Xe.latitude,Xe.longitude],{icon:Jt}).addTo(pe.current).bindPopup(`<b>${Xe.clienteNome}</b><br>O.S #${Xe.numeroOs}<br>Status: ${Xe.status}`);zt.current.push(br)})),requestAnimationFrame(()=>Ie.current())}},[l,e,n]);const Mt=Ue=>Number(Ue||0).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),er=P.useMemo(()=>{const Ue=e.filter(Yt=>Yt.status==="CONCLUIDA"||Yt.statusEntrega==="CONCLUIDA");let Xe=0,at=0,dt=0;return Ue.forEach(Yt=>{const Jt=Number(Yt.total??0)||0,br=Number(Yt.delivery_fee??Yt.deliveryFee??0)||0,yn=Math.max(0,Jt-br);Xe+=yn,at+=br,dt+=Jt}),{productRevenue:Xe,deliveryFees:at,totalRevenue:dt,count:Ue.length}},[e]);return a.jsxs("div",{className:"fixed inset-0 bg-app z-50 flex flex-col animate-in slide-in-from-bottom-4 duration-300",children:[a.jsxs("div",{className:"bg-surface border-b border-bdr px-6 py-4 flex flex-col sm:flex-row justify-between items-start sm:items-center shadow-sm shrink-0 gap-4 transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"bg-orange-500/10 p-2.5 rounded-xl border border-orange-500/20",children:a.jsx(Qo,{className:"w-6 h-6 text-orange-600"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-black text-txt-main tracking-tight",children:"Monitoramento Logstico"}),a.jsx("p",{className:"text-xs text-txt-muted font-bold uppercase tracking-widest",children:"Rastreamento e Zonas de Calor"})]})]}),a.jsx("div",{className:"flex items-center gap-3",children:a.jsx("button",{onClick:t,className:"p-2 hover:bg-red-500/10 text-txt-muted hover:text-red-500 rounded-full transition-colors",children:a.jsx(qn,{className:"w-6 h-6"})})})]}),a.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col md:flex-row",children:[a.jsxs("div",{className:"w-full md:w-96 overflow-y-auto p-4 space-y-4 border-r border-bdr bg-app/20",children:[a.jsx("div",{className:"bg-surface border border-bdr rounded-xl overflow-hidden shadow-sm",children:a.jsxs("div",{className:"grid grid-cols-2",children:[a.jsx("button",{onClick:()=>h("map"),className:`py-3 text-xs font-black uppercase transition-colors ${d==="map"?"bg-emerald-500 text-white":"bg-app text-txt-muted hover:bg-surface"}`,children:"Modo Mapa/Global"}),a.jsx("button",{onClick:()=>h("pricing"),className:`py-3 text-xs font-black uppercase transition-colors ${d==="pricing"?"bg-blue-500 text-white":"bg-app text-txt-muted hover:bg-surface"}`,children:"Modo Precificao"})]})}),d==="map"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"bg-surface p-4 rounded-xl border border-bdr shadow-sm",children:[a.jsx("h4",{className:"text-xs font-black text-txt-muted uppercase mb-3",children:"Visualizao"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:()=>u("realtime"),className:`flex-1 py-2 rounded-lg text-xs font-bold uppercase flex flex-col items-center gap-1 transition-all ${l==="realtime"?"bg-orange-500 text-white shadow-md":"bg-app text-txt-muted hover:bg-surface border border-bdr"}`,children:[a.jsx(Nm,{className:"w-4 h-4"})," Tempo Real"]}),a.jsxs("button",{onClick:()=>u("heatmap"),className:`flex-1 py-2 rounded-lg text-xs font-bold uppercase flex flex-col items-center gap-1 transition-all ${l==="heatmap"?"bg-red-600 text-white shadow-md":"bg-app text-txt-muted hover:bg-surface border border-bdr"}`,children:[a.jsx(BS,{className:"w-4 h-4"})," Mapa de Calor"]})]})]}),a.jsxs("div",{className:"bg-surface p-4 rounded-xl border border-bdr shadow-sm space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(rA,{className:"w-4 h-4 text-blue-500"}),a.jsx("h4",{className:"text-xs font-black text-txt-muted uppercase",children:"Buscar Local"})]}),a.jsx("input",{type:"text",value:ae,onChange:Ue=>K(Ue.target.value),onKeyDown:Ue=>Ue.key==="Enter"&&Zt(),placeholder:"Ex: Centro, Vila Aurora...",className:"w-full h-9 rounded-lg border border-bdr bg-app px-3 text-sm text-txt-main"}),a.jsx("button",{onClick:Zt,disabled:Ae,className:"w-full h-9 rounded-lg bg-blue-500 hover:bg-blue-600 text-white text-xs font-black uppercase disabled:opacity-60",children:Ae?"Buscando...":"Buscar"}),_e&&a.jsx("p",{className:"text-xs text-red-500",children:_e}),q&&a.jsx("p",{className:"text-xs text-amber-500",children:q})]}),a.jsxs("div",{className:"bg-surface p-4 rounded-xl border border-bdr shadow-sm space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(IA,{className:"w-4 h-4 text-emerald-500"}),a.jsx("h4",{className:"text-xs font-black text-txt-muted uppercase",children:"Zonas"})]}),a.jsx("button",{onClick:nr,className:"text-[11px] font-black uppercase px-3 py-1.5 rounded-lg bg-app border border-bdr hover:bg-surface text-txt-main",children:"Nova zona"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[11px] font-bold text-txt-muted uppercase",children:"Depsito (opcional p/ preo)"}),a.jsxs("select",{value:ne??"",onChange:Ue=>z(Ue.target.value||null),className:"w-full h-9 rounded-lg border border-bdr bg-app px-3 text-sm text-txt-main",children:[a.jsx("option",{value:"",children:"Selecione um depsito..."}),(Ke??[]).map(Ue=>a.jsx("option",{value:Ue.id,children:Ue.nome},Ue.id))]}),a.jsx("p",{className:"text-[11px] text-txt-muted",children:"Zonas so globais; preos so por depsito."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between text-[11px] font-bold text-txt-muted uppercase",children:[a.jsx("span",{children:"Zonas cadastradas"}),a.jsx("span",{className:"text-xs text-txt-main",children:(ve==null?void 0:ve.length)??0})]}),a.jsxs("div",{className:"max-h-48 overflow-y-auto space-y-2",children:[(ve??[]).length===0&&a.jsx("div",{className:"text-xs text-txt-muted italic",children:"Nenhuma zona cadastrada."}),(ve??[]).slice().sort((Ue,Xe)=>Ue.name.localeCompare(Xe.name)).map(Ue=>{var Yt;const Xe=(Yt=_r.get(ne||""))==null?void 0:Yt.get(Ue.id),at=Xe!==void 0?`R$ ${Number(Xe||0).toFixed(2)}`:"Sem preo",dt=m===Ue.id;return a.jsxs("button",{onClick:()=>{g(Ue.id===m?null:Ue.id);const Jt=Yu(Ue.map_polygon);I(Jt),Ue.id!==m&&$t(Jt)},className:`w-full flex items-center gap-2 px-3 py-2 rounded-lg border text-left transition-colors ${dt?"border-emerald-500 bg-emerald-500/10":"border-bdr bg-app hover:bg-surface"}`,children:[a.jsx("span",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:Ue.color||"#f97316"}}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-bold text-txt-main leading-tight",children:Ue.name}),a.jsx("p",{className:"text-[11px] text-txt-muted",children:at})]})]},Ue.id)})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[11px] font-bold text-txt-muted uppercase",children:"Nome da zona"}),a.jsx("input",{value:w,onChange:Ue=>C(Ue.target.value),className:"w-full h-9 rounded-lg border border-bdr bg-app px-3 text-sm text-txt-main",placeholder:"Ex: Centro 1"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[11px] font-bold text-txt-muted uppercase",children:"Cor"}),a.jsx("input",{type:"color",value:U,onChange:Ue=>T(Ue.target.value),className:"w-full h-9 rounded-lg border border-bdr bg-app px-2"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[11px] font-bold text-txt-muted uppercase",children:"Preo para o depsito selecionado"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{value:oe,onChange:Ue=>te(Ue.target.value),disabled:!ne,className:"flex-1 h-9 rounded-lg border border-bdr bg-app px-3 text-sm text-txt-main disabled:opacity-50",placeholder:"R$ 0,00"}),a.jsx("button",{onClick:()=>te(""),className:"px-3 h-9 text-[11px] font-black uppercase rounded-lg border border-bdr bg-app hover:bg-surface",children:"Limpar"})]}),a.jsx("p",{className:"text-[11px] text-txt-muted",children:'Desenhe/edite a rea no mapa  direita. Clique em "Salvar zona" para gravar rea e preo.'})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:xr,disabled:O,className:"flex-1 h-10 rounded-lg bg-emerald-500 hover:bg-emerald-600 text-white font-black uppercase text-xs tracking-widest disabled:opacity-60",children:O?"Salvando...":"Salvar zona"}),a.jsx("button",{onClick:nr,className:"flex-1 h-10 rounded-lg border border-bdr bg-app hover:bg-surface text-txt-main font-black uppercase text-xs tracking-widest",children:"Cancelar"})]})]}),m&&a.jsxs("div",{className:"bg-surface p-4 rounded-xl border border-bdr shadow-sm space-y-3",children:[a.jsx("h4",{className:"text-xs font-black text-txt-muted uppercase",children:"Setores"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{value:G,onChange:Ue=>$(Ue.target.value),onKeyDown:Ue=>Ue.key==="Enter"&&Vt(),placeholder:"Nome do setor",className:"flex-1 h-9 rounded-lg border border-bdr bg-app px-3 text-sm text-txt-main"}),a.jsx("button",{onClick:Vt,disabled:!G.trim(),className:"px-3 h-9 rounded-lg bg-blue-500 hover:bg-blue-600 text-white disabled:opacity-50",children:a.jsx(Ao,{className:"w-4 h-4"})})]}),Kt.length===0?a.jsx("p",{className:"text-xs text-txt-muted italic",children:"Nenhum setor"}):a.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:Kt.map(Ue=>a.jsxs("div",{className:"flex items-center justify-between px-3 py-2 rounded-lg bg-app border border-bdr",children:[a.jsx("span",{className:"text-sm text-txt-main",children:Ue.name}),a.jsx("button",{onClick:()=>or(Ue.id),className:"p-1 hover:bg-red-500/10 text-txt-muted hover:text-red-500 rounded transition-colors",children:a.jsx(aa,{className:"w-3.5 h-3.5"})})]},Ue.id))})]}),ne&&a.jsxs("div",{className:"bg-surface p-4 rounded-xl border border-bdr shadow-sm space-y-3",children:[a.jsx("h4",{className:"text-xs font-black text-txt-muted uppercase",children:"Frete Grtis"}),a.jsxs("p",{className:"text-xs text-txt-muted",children:["Valor mnimo para frete grtis em ",a.jsx("b",{children:(Ht==null?void 0:Ht.nome)??"depsito"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:Z,onChange:Ue=>W(Ue.target.value),placeholder:"R$ 0,00",className:"flex-1 h-9 rounded-lg border border-bdr bg-app px-3 text-sm text-txt-main"}),a.jsx("button",{onClick:gr,className:"px-4 h-9 rounded-lg bg-emerald-500 hover:bg-emerald-600 text-white text-xs font-black uppercase",children:"Salvar"})]})]}),a.jsxs("div",{className:"bg-surface p-4 rounded-xl border border-bdr shadow-sm",children:[a.jsx("h4",{className:"text-xs font-black text-txt-muted uppercase mb-3",children:"Relatorio Financeiro"}),a.jsxs("div",{className:"space-y-2 text-xs",children:[a.jsxs("div",{className:"flex items-center justify-between text-txt-muted",children:[a.jsx("span",{children:"Produtos"}),a.jsx("span",{className:"font-bold text-txt-main",children:Mt(er.productRevenue)})]}),a.jsxs("div",{className:"flex items-center justify-between text-txt-muted",children:[a.jsx("span",{children:"Taxas de entrega"}),a.jsx("span",{className:"font-bold text-orange-500",children:Mt(er.deliveryFees)})]}),a.jsxs("div",{className:"flex items-center justify-between text-txt-muted",children:[a.jsx("span",{children:"Total"}),a.jsx("span",{className:"font-black text-emerald-600",children:Mt(er.totalRevenue)})]})]}),a.jsxs("p",{className:"text-[10px] text-txt-muted mt-3",children:["Baseado em O.S finalizadas/entregues (",er.count,")."]})]}),a.jsxs("div",{className:"bg-surface p-4 rounded-xl border border-bdr shadow-sm",children:[a.jsx("h4",{className:"text-xs font-black text-txt-muted uppercase mb-3",children:"Entregadores Ativos"}),a.jsx("div",{className:"space-y-2",children:n.length===0?a.jsx("p",{className:"text-xs text-txt-muted italic text-center py-4",children:"Nenhum entregador online"}):n.map(Ue=>a.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg bg-app border border-bdr",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-bold text-txt-main leading-tight",children:Ue.nome}),a.jsxs("p",{className:"text-[10px] text-txt-muted",children:["ltimo sinal: ",new Date(Ue.ultimoUpdate).toLocaleTimeString()]})]})]},Ue.driverId))})]})]}),d==="pricing"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"bg-surface p-4 rounded-xl border border-bdr shadow-sm space-y-3",children:[a.jsx("h4",{className:"text-sm font-black text-txt-main uppercase",children:"Precificao por Zona"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-xs font-bold text-txt-muted uppercase",children:"Selecione o Depsito"}),a.jsxs("select",{value:ne??"",onChange:Ue=>z(Ue.target.value||null),className:"w-full h-9 rounded-lg border border-bdr bg-app px-3 text-sm text-txt-main",children:[a.jsx("option",{value:"",children:"-- Selecione --"}),(Ke??[]).map(Ue=>a.jsx("option",{value:Ue.id,children:Ue.nome},Ue.id))]})]}),!ne&&a.jsx("div",{className:"text-xs text-amber-500 bg-amber-500/10 p-2 rounded border border-amber-500/20",children:" Selecione um depsito para editar preos."}),ne&&ve&&ve.length>0&&a.jsx("div",{className:"space-y-2",children:ve.map(Ue=>{var Xe;return a.jsxs("div",{className:"flex flex-col gap-3 bg-app border border-bdr rounded-xl px-3 py-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"w-3 h-3 rounded-full border border-bdr",style:{backgroundColor:Ue.color||"#f97316"}}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"text-sm font-black text-txt-main",children:Ue.name}),a.jsxs("div",{className:"text-[11px] text-txt-muted",children:["Atual:"," ",kr.get(Ue.id)?`R$ ${Number(((Xe=kr.get(Ue.id))==null?void 0:Xe.price)||0).toFixed(2)}`:"Sem preo"]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"text-xs text-txt-muted font-bold",children:"R$"}),a.jsx("input",{type:"text",value:X[Ue.id]??"",onChange:at=>ge({...X,[Ue.id]:at.target.value}),placeholder:"0,00",className:"w-20 h-8 rounded-lg border border-bdr bg-app px-2 text-sm text-txt-main"})]}),a.jsx("button",{onClick:()=>Vr(Ue.id),className:"flex-1 h-8 rounded-lg bg-emerald-500 hover:bg-emerald-600 text-white text-xs font-black uppercase",children:"Salvar"}),a.jsx("button",{onClick:()=>Tt(Ue.id),className:"h-8 px-2 rounded-lg border border-red-500/30 bg-red-500/10 hover:bg-red-500/20 text-red-500",children:a.jsx(aa,{className:"w-4 h-4"})})]})]},Ue.id)})})]}),ne&&a.jsxs("div",{className:"bg-surface p-4 rounded-xl border border-bdr shadow-sm space-y-3",children:[a.jsx("h4",{className:"text-xs font-black text-txt-muted uppercase",children:"Frete Grtis"}),a.jsxs("p",{className:"text-xs text-txt-muted",children:["Valor mnimo para frete grtis em ",a.jsx("b",{children:(Ht==null?void 0:Ht.nome)??"depsito"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:Z,onChange:Ue=>W(Ue.target.value),placeholder:"R$ 0,00",className:"flex-1 h-9 rounded-lg border border-bdr bg-app px-3 text-sm text-txt-main"}),a.jsx("button",{onClick:gr,className:"px-4 h-9 rounded-lg bg-emerald-500 hover:bg-emerald-600 text-white text-xs font-black uppercase",children:"Salvar"})]})]})]})]}),a.jsxs("div",{className:"flex-1 bg-surface border-l border-bdr relative overflow-hidden",children:[a.jsxs(Yb,{center:[N5.lat,N5.lng],zoom:12,minZoom:3,maxZoom:19,className:"w-full h-full z-0",whenCreated:Ue=>{pe.current=Ue,Ie.current=()=>Ue.invalidateSize(),requestAnimationFrame(()=>Ue.invalidateSize())},children:[a.jsx($P,{}),a.jsx(Wb,{attribution:" OSM contributors",url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",crossOrigin:!0}),a.jsx(nB,{name:"all-zones",style:{zIndex:300},children:(ve??[]).map(Ue=>{const Xe=Yu(Ue.map_polygon);if(!Xe)return null;const at=Ue.color||"#f97316",dt=Ue.id===m;return a.jsx(Jb,{positions:Xe,pathOptions:{color:at,fillColor:at,fillOpacity:dt?.25:.12,weight:dt?3:1,dashArray:dt?void 0:"4 6",className:"cursor-pointer"},eventHandlers:{click:()=>{g(Ue.id===m?null:Ue.id),I(Xe),Ue.id!==m&&$t(Xe)}},children:a.jsx(ev,{sticky:!0,children:Ue.name})},Ue.id)})}),Lt&&gt&&a.jsx(rB,{ref:Rt,children:a.jsx(gt,{position:"topright",onCreated:Ue=>{const dt=Ue.layer.getLatLngs().map(Yt=>Yt.map(Jt=>[Jt.lat,Jt.lng])).filter(Yt=>Yt.length>2);I(dt),g(null),$t(dt)},onEdited:Ue=>{const Xe=Ue.layers;let at=null;Xe.eachLayer(dt=>{at=dt.getLatLngs().map(Jt=>Jt.map(br=>[br.lat,br.lng])).filter(Jt=>Jt.length>2)}),I(at),$t(at)},onDeleted:()=>{I(null)},draw:{polygon:{shapeOptions:{color:U,fillColor:U,fillOpacity:.3,weight:2}},rectangle:{shapeOptions:{color:U,fillColor:U,fillOpacity:.3,weight:2}},polyline:!1,circle:!1,marker:!1,circlemarker:!1},edit:{edit:{selectedPathOptions:{color:U,fillColor:U,fillOpacity:.25,weight:2}},remove:{}}})})]}),a.jsxs("div",{className:"absolute bottom-6 right-6 bg-white/90 backdrop-blur px-4 py-3 rounded-xl border border-bdr shadow-xl text-xs font-medium text-txt-muted max-w-xs text-right z-[1000] pointer-events-none",children:[a.jsxs("p",{className:"font-black text-txt-main flex items-center justify-end gap-2 mb-1",children:[a.jsx(zb,{className:"w-3 h-3 text-emerald-500"}),"OpenStreetMap"]}),a.jsx("p",{className:"opacity-80",children:l==="realtime"?"Mostrando frota em tempo real":"Densidade de entregas histricas"})]})]})]})]})},Ip={lat:-17.7915,lng:-50.9197},dh="Rio Verde, GO",Qp={south:-18.347,north:-17.0898436,west:-51.7307464,east:-50.3568883},Ju={error:t=>alert(t),success:t=>alert(t)},XP=()=>{const t=Os.GeometryUtil;if(!t||t._gpReadableAreaPatched)return;t._gpReadableAreaPatched=!0;const e={km:2,ha:2,m:0,mi:2,ac:2,yd:0,ft:0,nm:2};t.readableArea=(r,n,i)=>{const l=Os.Util.extend({},e,i);let u=["ha","m"];const d=typeof n;if(n)return d==="string"?u=[n]:d!=="boolean"&&(u=n),r>=1e6&&u.indexOf("km")!==-1?`${t.formattedNumber(r/1e6,l.km)} km2`:r>=1e4&&u.indexOf("ha")!==-1?`${t.formattedNumber(r/1e4,l.ha)} ha`:`${t.formattedNumber(r,l.m)} m2`;const h=r/.836127;return h>=3097600?`${t.formattedNumber(h/3097600,l.mi)} mi2`:h>=4840?`${t.formattedNumber(h/4840,l.ac)} acres`:`${t.formattedNumber(h,l.yd)} yd2`}},md=t=>{if(!t)return null;if(Array.isArray(t)&&t.length>=2){const e=Number(t[0]),r=Number(t[1]);return Number.isFinite(e)&&Number.isFinite(r)?[e,r]:null}if(typeof t=="object"){const e=Number(t.lat??t.latitude),r=Number(t.lng??t.lon??t.longitude);if(Number.isFinite(e)&&Number.isFinite(r))return[e,r]}return null},Ix=t=>{if(!t)return null;let e=t;if(typeof e=="string")try{e=JSON.parse(e)}catch{return null}if(e&&typeof e=="object"&&!Array.isArray(e)){const i=e,l=i.type==="Feature"?i.geometry:i,u=_v(l);return u&&u.length?u:null}if(!Array.isArray(e)||e.length===0)return null;if(md(e[0])){const i=e.map(md).filter(Boolean);return i.length?[i]:null}const n=[];for(const i of e){if(!Array.isArray(i))continue;const l=i.map(md).filter(Boolean);l.length&&n.push(l)}return n.length?n:null},S5=t=>{if(!Array.isArray(t)||t.length===0)return[];if(md(t[0])){const n=t.map(md).filter(Boolean);return n.length?[n]:[]}const r=[];for(const n of t){if(!Array.isArray(n))continue;const i=n.map(md).filter(Boolean);i.length&&r.push(i)}return r},_v=t=>{if(!t||typeof t!="object")return null;const e=t.coordinates;if(!Array.isArray(e)||e.length===0)return null;if(t.type==="Polygon")return e.map(r=>Array.isArray(r)?r.map(n=>[Number(n[1]),Number(n[0])]):[]).filter(r=>r.length>0);if(t.type==="MultiPolygon"){const r=e[0];return Array.isArray(r)?r.map(n=>Array.isArray(n)?n.map(i=>[Number(i[1]),Number(i[0])]):[]).filter(n=>n.length>0):null}return null},j5=t=>{if(!t||!t.length)return[];const e=t[0]||[];return e.length?e:[]},U5=t=>{if(t.length<2)return t;const e=t[0],r=t[t.length-1];return e[0]===r[0]&&e[1]===r[1]?t:[...t,e]},k5=t=>{let e=1/0,r=-1/0,n=1/0,i=-1/0;for(const[l,u]of t)e=Math.min(e,l),r=Math.max(r,l),n=Math.min(n,u),i=Math.max(i,u);return{minLat:e,maxLat:r,minLng:n,maxLng:i}},YP=(t,e)=>t.minLat<=e.maxLat&&t.maxLat>=e.minLat&&t.minLng<=e.maxLng&&t.maxLng>=e.minLng,Op=(t,e,r)=>{const n=(e[0]-t[0])*(r[1]-e[1])-(e[1]-t[1])*(r[0]-e[0]);return n===0?0:n>0?1:2},Rp=(t,e,r)=>e[1]<=Math.max(t[1],r[1])&&e[1]>=Math.min(t[1],r[1])&&e[0]<=Math.max(t[0],r[0])&&e[0]>=Math.min(t[0],r[0]),JP=(t,e,r,n)=>{const i=Op(t,e,r),l=Op(t,e,n),u=Op(r,n,t),d=Op(r,n,e);return!!(i!==l&&u!==d||i===0&&Rp(t,r,e)||l===0&&Rp(t,n,e)||u===0&&Rp(r,t,n)||d===0&&Rp(r,e,n))},L5=(t,e)=>{let r=!1;const n=t[1],i=t[0];for(let l=0,u=e.length-1;l<e.length;u=l++){const d=e[l][1],h=e[l][0],m=e[u][1],g=e[u][0];h>i!=g>i&&n<(m-d)*(i-h)/(g-h)+d&&(r=!r)}return r},WP=(t,e)=>{const r=U5(j5(t)),n=U5(j5(e));if(r.length<3||n.length<3)return!1;const i=k5(r),l=k5(n);if(!YP(i,l))return!1;for(let u=0;u<r.length-1;u++){const d=r[u],h=r[u+1];for(let m=0;m<n.length-1;m++){const g=n[m],b=n[m+1];if(JP(d,h,g,b))return!0}}return!!(L5(r[0],n)||L5(n[0],r))},Mb=new Set(["neighbourhood","suburb","quarter","city_district","borough"]),e7=new Set(["amenity","tourism","shop","building","highway","leisure","natural"]),t7=new Set(["bairro","setor","zona","distrito","regiao","vila","jardim","loteamento","condominio"]),r7=new Set(["bairro","setor","zona","distrito","regiao","rua","avenida","av","praca","praa","vila","jardim","jd","loteamento","condominio","condominio","cidade","municipio","municipio"]),LA=t=>t.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),$C=t=>{const e=(t==null?void 0:t.address)??{};return e.city??e.town??e.village??e.hamlet??e.locality??e.municipality??e.county??""},F5=t=>{var r;const e=((r=String(t||"").split(",")[0])==null?void 0:r.trim())||"";return LA(e)},n7=t=>LA(t).split(/[^a-z0-9]+/g).map(r=>r.trim()).filter(r=>r.length>2&&!r7.has(r)),s7=t=>{const e=LA(t);for(const r of t7)if(e.includes(r))return!0;return!1},a7=(t,e)=>{if(!e.length)return!0;const r=(t==null?void 0:t.address)??{},n=LA([t==null?void 0:t.name,t==null?void 0:t.display_name,r.neighbourhood,r.suburb,r.quarter,r.city_district,r.borough,r.locality].filter(Boolean).join(" "));return e.every(i=>n.includes(i))},i7=(t,e)=>e?LA(String($C(t)||"")).includes(e):!0,o7=(t,e,r)=>{var h;if(!Array.isArray(t)||t.length===0)return null;const n=LA(e),i=((h=LA(r).split(",")[0])==null?void 0:h.trim())||"",l=t.map(m=>{const g=!!_v(m==null?void 0:m.geojson),b=(m==null?void 0:m.class)==="boundary"||(m==null?void 0:m.type)==="administrative",N=(m==null?void 0:m.class)==="place"&&Mb.has(m==null?void 0:m.type),w=e7.has(m==null?void 0:m.class),C=Number((m==null?void 0:m.importance)??(m==null?void 0:m.place_rank)??0)||0,U=LA(String($C(m)||""));let T=C;return g&&(T+=5),b&&(T+=6),N&&(T+=4),(m==null?void 0:m.class)==="place"&&(m==null?void 0:m.type)==="neighbourhood"&&(T+=2),w&&(T-=4),i&&U&&(U.includes(i)?T+=2:T-=2),n&&LA(String((m==null?void 0:m.display_name)||"")).includes(n)&&(T+=1),{item:m,score:T,hasPolygon:g,isBoundary:b,isPlace:N}}),u=l.filter(m=>m.hasPolygon&&(m.isBoundary||m.isPlace));if(u.length)return u.sort((m,g)=>g.score-m.score),u[0].item;const d=l.filter(m=>m.hasPolygon);return d.length?(d.sort((m,g)=>g.score-m.score),d[0].item):(l.sort((m,g)=>g.score-m.score),l[0].item)},l7=({enabled:t,points:e})=>{const r=yd(),n=P.useRef(null);return P.useEffect(()=>{const i=Os.heatLayer;if(!t||!i){n.current&&(r.removeLayer(n.current),n.current=null);return}if(n.current&&(r.removeLayer(n.current),n.current=null),!!e.length)return n.current=i(e,{radius:22,blur:16,maxZoom:17}).addTo(r),()=>{n.current&&(r.removeLayer(n.current),n.current=null)}},[t,e,r]),null},A7=()=>{const t=yd();return P.useEffect(()=>{const e=()=>{var h;const d=(h=t.getContainer)==null?void 0:h.call(t);!d||!d.isConnected||t._loaded&&t.invalidateSize()};t.whenReady(()=>e()),requestAnimationFrame(e);const r=setTimeout(e,200),n=setTimeout(e,800),i=()=>e();window.addEventListener("resize",i);let l=null;const u=t.getContainer();return typeof ResizeObserver<"u"&&u&&(l=new ResizeObserver(()=>e()),l.observe(u)),()=>{clearTimeout(r),clearTimeout(n),window.removeEventListener("resize",i),l&&l.disconnect()}},[t]),null},c7=({mapRef:t})=>{const e=yd();return P.useEffect(()=>{t.current=e},[e,t]),null},Uo={delivery_zones:{bulkDelete:async()=>{},toArray:async()=>[]},zone_pricing:{bulkDelete:async()=>{},toArray:async()=>[]},delivery_sectors:{bulkDelete:async()=>{},toArray:async()=>[]},deposits:{bulkAdd:async()=>{},toArray:async()=>[]},service_orders:{toArray:async()=>[]}},hh=(t,e)=>{const[r,n]=P.useState(void 0);return P.useEffect(()=>{t().then(i=>n(i||[])).catch(()=>n([]))},e),r},u7=({onClose:t})=>{var $e;const e=hh(()=>{var xe;return(xe=Uo.delivery_zones)==null?void 0:xe.toArray()},[]),r=hh(()=>{var xe;return(xe=Uo.delivery_zones)==null?void 0:xe.toArray()},[]),n=hh(()=>{var xe;return(xe=Uo.deposits)==null?void 0:xe.toArray()},[]),[i,l]=P.useState([]),u=hh(()=>{var xe;return(xe=Uo.zone_pricing)==null?void 0:xe.toArray()},[]),d=e??[],h=r??[],m=(i.length?i:n)??[],g=u??[],b=e===void 0||r===void 0||n===void 0||u===void 0,[N,w]=P.useState("map"),[C,U]=P.useState(""),[T,S]=P.useState("0"),[I,O]=P.useState(""),[M,ne]=P.useState(!1),[z,oe]=P.useState({name:"",color:"#f97316"}),[te,X]=P.useState(""),[ge,Z]=P.useState({}),[W,ae]=P.useState(""),[K,ue]=P.useState(null),[Q,Ae]=P.useState(null),[ee,_e]=P.useState(!1),[Ne,q]=P.useState(""),[F,G]=P.useState(dh),[$,V]=P.useState(null),[he,ve]=P.useState(null),[je,Te]=P.useState(!1),[Je,Ke]=P.useState(null),[nt,ft]=P.useState(!1),[tt,pe]=P.useState(!1),[Ct,It]=P.useState(!1),[zt,Ie]=P.useState(null),Rt=hh(()=>{var xe;return(xe=Uo.service_orders)==null?void 0:xe.toArray()},[]),Lt=P.useRef(null),Bt=P.useRef(null);P.useEffect(()=>{let xe=!0;return nf.getAll().then(Me=>{if(!xe)return;const We=Me.map(yt=>({id:yt.id,nome:yt.name,ativo:yt.active,endereco:yt.address,cor:yt.color,require_stock_audit:yt.require_stock_audit}));l(We)}).catch(Me=>{console.error("Erro ao carregar depsitos",Me)}),()=>{xe=!1}},[]),P.useEffect(()=>{let xe=!0;return(async()=>{var Me;try{await tu(()=>import("./leaflet-draw-default-yoD6TSFD.js"),[]);const We=!!((Me=Os==null?void 0:Os.Draw)!=null&&Me.Event);if(!xe)return;if(We){const yt=await tu(()=>import("./index-BynZ6_mc.js"),[]);Ie(()=>yt.EditControl),It(!0),XP()}else console.warn("leaflet-draw no exps L.Draw.Event; ferramentas de desenho desativadas"),It(!1)}catch(We){console.error("Erro ao carregar ferramentas de desenho",We),xe&&It(!1)}})(),()=>{xe=!1}},[]),P.useEffect(()=>{!I&&d.length>0&&!M&&O(d[0].id)},[d,I,M]),P.useEffect(()=>{const xe=m.find(We=>We.id===C);if(!xe)return;const Me=xe.free_shipping_min_value??xe.freeShippingMinValue??xe.freeShippingMin??0;S(String(Number(Me)||0))},[m,C]),P.useEffect(()=>{const xe=d.find(We=>We.id===I);if(!xe){M||(Ke(null),ft(!1),Bt.current&&Bt.current.clearLayers());return}oe({id:xe.id,name:xe.name,color:xe.color??"#f97316",depositoId:xe.depositoId??null});const Me=Ix(xe.map_polygon);Ke(Me),ft(!1),Yt(Me,!0,xe.color??"#f97316")},[d,I,M]);const gt=d.find(xe=>xe.id===I)||null,ir=m.find(xe=>xe.id===C)||null,_r=P.useMemo(()=>h.filter(xe=>xe.zone_id===I),[h,I]),nr=P.useMemo(()=>d.filter(xe=>xe.id!==I),[d,I]),xr=P.useMemo(()=>Ix(gt==null?void 0:gt.map_polygon),[gt]),$t=(($e=z.name)==null?void 0:$e.trim())??"",St=z.color||"#f97316",Zt=!M&&!!gt,Tt=Zt?gt:{},Vr=Zt&&Number((gt==null?void 0:gt.fee)??0)||0,gr=Zt?xr??(gt==null?void 0:gt.map_polygon)??null:null,Vt={fee:Vr,...Tt,...z,map_polygon:gr};z.id&&String(ge[z.id]??"").replace(",",".");const or=P.useMemo(()=>{const xe=Date.now()-2592e6;return(Rt??[]).filter(Me=>Number((Me==null?void 0:Me.dataHoraCriacao)??0)>=xe).map(Me=>[Number(Me.latitude),Number(Me.longitude),.8]).filter(Me=>Number.isFinite(Me[0])&&Number.isFinite(Me[1]))},[Rt]),Ht=P.useMemo(()=>{const xe=new Map;if(!C)return xe;for(const Me of g)Me.depositoId===C&&xe.set(Me.zone_id,Me);return xe},[g,C]),Kt=I&&C?Ht.get(I):null;Kt==null||Kt.price,P.useEffect(()=>{if(!C){Z({});return}const xe={};for(const Me of d){const We=Ht.get(Me.id);xe[Me.id]=We?String(We.price??0):""}Z(xe),ue(null)},[C,d,Ht]);const kr=(gt==null?void 0:gt.name)||(M?"Nova zona":"Nenhuma zona selecionada"),Mt=z.color||(gt==null?void 0:gt.color)||"#f97316",er=P.useMemo(()=>({color:Mt,fillColor:Mt,fillOpacity:.3,weight:2}),[Mt]),Ue=Je?nt?"definida (nao salva)":"definida":"nao definida",Xe=C?Kt?`R$ ${Number(Kt.price||0).toFixed(2)}`:"Sem preco definido":"Selecione um deposito",at=P.useMemo(()=>d.filter(xe=>xe.id!==I).map(xe=>({id:xe.id,name:xe.name,color:xe.color||"#f97316",polygon:Ix(xe.map_polygon)})).filter(xe=>xe.polygon),[d,I]),dt=P.useMemo(()=>{const xe=Je??xr??null;return xe?at.filter(Me=>WP(xe,Me.polygon)).map(Me=>Me.name):[]},[Je,xr,at]),Yt=(xe,Me,We)=>{if(!Bt.current||(Bt.current.clearLayers(),!xe||xe.length===0))return;const yt=We||Mt,Gt=Os.polygon(xe,{color:yt,fillColor:yt,fillOpacity:.3});Bt.current.addLayer(Gt),Me&&Lt.current&&Lt.current.fitBounds(Gt.getBounds(),{padding:[24,24]})},Jt=async()=>{const xe=Ne.trim();if(!(!xe||!Lt.current)){Te(!0),V(null),ve(null);try{const Me=F.trim()||dh,We=F5(Me),yt=F5(dh),{data:Gt}=await ia.get("https://nominatim.openstreetmap.org/search",{params:{format:"jsonv2",q:`${xe}, ${Me}`,polygon_geojson:1,addressdetails:1,limit:8,dedupe:1,countrycodes:"br",...We===yt?{viewbox:`${Qp.west},${Qp.north},${Qp.east},${Qp.south}`,bounded:1}:{}},headers:{"Accept-Language":"pt-BR"}}),Cr=Array.isArray(Gt)?Gt:[],Hr=We?Cr.filter(Zr=>i7(Zr,We)):Cr,dn=n7(xe),Ar=s7(xe),on=Hr.filter(Zr=>{const es=(Zr==null?void 0:Zr.class)==="boundary"||(Zr==null?void 0:Zr.type)==="administrative",ur=(Zr==null?void 0:Zr.class)==="place"&&Mb.has(Zr==null?void 0:Zr.type);return es||ur}),re=dn.length?on.filter(Zr=>a7(Zr,dn)):on,ut=Ar?re.length?re:on:Hr;if(!ut.length){ve("Sem limites oficiais do bairro no alcance. Desenhe a area manualmente."),Lt.current.flyTo([Ip.lat,Ip.lng],12);return}const it=o7(ut,xe,Me);if(!it){V("Nenhum resultado dentro do alcance.");return}const wt=Number(it==null?void 0:it.lat),Xt=Number(it==null?void 0:it.lon);if(!Number.isFinite(wt)||!Number.isFinite(Xt)){V("Localizacao nao encontrada.");return}const yr=(it==null?void 0:it.class)==="boundary"||(it==null?void 0:it.type)==="administrative",qr=(it==null?void 0:it.class)==="place"&&Mb.has(it==null?void 0:it.type),fn=yr||qr;let Vn=fn?_v(it==null?void 0:it.geojson):null;if(!Vn&&fn&&Array.isArray(it==null?void 0:it.boundingbox)&&it.boundingbox.length===4){const Zr=Number(it.boundingbox[0]),es=Number(it.boundingbox[1]),ur=Number(it.boundingbox[2]),Lr=Number(it.boundingbox[3]);[Zr,es,ur,Lr].every(Number.isFinite)&&(Vn=[[[Zr,ur],[Zr,Lr],[es,Lr],[es,ur],[Zr,ur]]])}!I&&!M&&(ne(!0),z.name||oe({...z,name:xe})),Vn?(Ke(Vn),ft(!0),Yt(Vn,!0,Mt)):(Lt.current.flyTo([wt,Xt],15),ve("Endereco encontrado, mas sem limite do bairro. Desenhe a area manualmente."))}catch{V("Falha ao buscar local.")}finally{Te(!1)}}},br=xe=>{const Me=xe.layer;Bt.current&&(Bt.current.clearLayers(),Bt.current.addLayer(Me));const We=S5(Me.getLatLngs());if(Ke(We.length?We:null),ft(!0),We.length&&Lt.current){const yt=Os.polygon(We).getBounds();Lt.current.fitBounds(yt,{padding:[24,24]})}},yn=xe=>{let Me=null;xe.layers.eachLayer(We=>{const yt=S5(We.getLatLngs());yt.length&&(Me=yt)}),Me&&(Ke(Me),ft(!0))},kt=()=>{Ke(null),ft(!0)};P.useEffect(()=>{Bt.current&&Bt.current.eachLayer(xe=>{xe!=null&&xe.setStyle&&xe.setStyle({color:Mt,fillColor:Mt,fillOpacity:.3})})},[Mt]),P.useEffect(()=>{Lt.current&&Yt(Je??xr??null,!1)},[Je,xr]);const En=async()=>{const xe=m.find(yt=>yt.id===C);if(!xe)return;const Me=Number(T||0)||0,We={...xe,free_shipping_min_value:Me};await upsertDeposit(We)},In=async()=>{if(!$t)return Ju.error("Nome da zona  obrigatrio");const xe=Je||gr;if(!xe)return Ju.error("Desenhe a rea da zona no mapa antes de salvar");_e(!0);try{const Me=Vt.id||crypto.randomUUID(),We={id:Me,name:$t,color:St,depositoId:null,map_polygon:xe};let yt=null;if(C){const Cr=!Vt.id?String(W||"").replace(",",".").trim():String(ge[Me]??"").replace(",",".").trim(),Hr=Number(Cr)||0;Hr>0&&(yt={id:`${C}:${Me}`,zone_id:Me,depositoId:C,price:Hr})}await Uo.transaction("rw",Uo.delivery_zones,Uo.zone_pricing,Uo.outbox_events,async()=>{await Uo.delivery_zones.put(We),await Uo.outbox_events.put({id:crypto.randomUUID(),entity:"delivery_zones",action:"UPSERT",entity_id:We.id,payload_json:We,status:"PENDING",tries:0,created_at:new Date().toISOString()}),yt&&(await Uo.zone_pricing.put(yt),await Uo.outbox_events.put({id:crypto.randomUUID(),entity:"zone_pricing",action:"UPSERT",entity_id:yt.id,payload_json:yt,status:"PENDING",tries:0,created_at:new Date().toISOString()}))}),console.log(" Zona e pricing salvos no Dexie:",Me),yt&&(console.log(" Pricing Object (deve ter apenas depositoId):",yt),("deposit_id"in yt||"deposito_id"in yt)&&console.error(" CONTAMINAO: Objeto contm campos legados!",yt)),yt?Ju.success(`Zona "${$t}" e taxa R$ ${yt.price.toFixed(2)} salvas!`):C?Ju.success(`Zona "${$t}" salva! Configure a taxa depois.`):Ju.success(`Zona "${$t}" salva! Atribua taxa via 'Precificao por zona'.`),oe({name:"",color:"#f97316"}),ae(""),ne(!1),Ke(null),ft(!1),Bt.current&&Bt.current.clearLayers()}catch(Me){console.error(" Erro ao salvar zona:",Me),Ju.error(`Falha ao salvar: ${Me.message||"Erro desconhecido"}`)}finally{_e(!1)}},an=async xe=>{if(confirm("Excluir esta zona?")&&(await deleteDeliveryZone(xe),I===xe)){const Me=d.find(We=>We.id!==xe);O((Me==null?void 0:Me.id)||"")}},Wr=xe=>{O(xe),ne(!1),Ke(null),ft(!1),ae(""),Bt.current&&Bt.current.clearLayers()},Pr=async xe=>{if(!C){ue("Selecione um deposito para salvar o preco.");return}const Me=ge[xe]??"",We=Number(String(Me).replace(",",".")),yt=Number.isFinite(We)?We:0;Ae(xe);try{const Gt={id:`${C}:${xe}`,zone_id:xe,depositoId:C,price:yt};console.log(" Salvando Pricing (deve ter apenas depositoId):",Gt),("deposit_id"in Gt||"deposito_id"in Gt)&&console.error(" CONTAMINAO: Objeto contm campos legados!",Gt),await upsertZonePricing(Gt),ue(null)}catch(Gt){console.error(Gt),ue("Nao foi possivel salvar o preco.")}finally{Ae(null)}},Ut=async()=>{if(!I||!te.trim())return;const xe={id:crypto.randomUUID(),zone_id:I,name:te.trim()};await upsertDeliverySector(xe),X("")},nn=async(xe,Me)=>{Me&&await moveDeliverySector(xe,Me)},fe=async xe=>{await deleteDeliverySector(xe)},De=a.jsxs("div",{className:"bg-surface border border-bdr rounded-2xl p-4 shadow-sm space-y-4",children:[a.jsxs("div",{className:"flex flex-col gap-3",children:[a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("h4",{className:"text-sm font-black text-txt-main uppercase",children:"Precificacao por zona"}),a.jsxs("span",{className:"text-xs text-txt-muted",children:["Deposito: ",(ir==null?void 0:ir.nome)||"Nao selecionado"]})]}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("label",{className:"text-xs font-bold text-txt-muted uppercase",children:"Selecione o Depsito"}),a.jsxs("select",{value:C,onChange:xe=>U(xe.target.value),className:"h-9 px-3 rounded-lg border border-bdr bg-app text-txt-main text-sm font-bold",children:[a.jsx("option",{value:"",children:"-- Selecione um depsito --"}),m.map(xe=>a.jsx("option",{value:xe.id,children:xe.nome},xe.id))]})]})]}),!C&&a.jsx("div",{className:"text-xs text-amber-500 bg-amber-500/10 p-2 rounded border border-amber-500/20",children:" Selecione um deposito para editar os precos."}),K&&a.jsx("div",{className:"text-xs text-red-500",children:K}),b?a.jsx("div",{className:"text-xs text-txt-muted",children:"Carregando..."}):d.length===0?a.jsx("div",{className:"text-xs text-txt-muted italic",children:"Nenhuma zona cadastrada."}):a.jsx("div",{className:"space-y-2",children:d.map(xe=>{var Me;return a.jsxs("div",{className:"flex flex-col gap-3 bg-app border border-bdr rounded-xl px-3 py-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"w-3 h-3 rounded-full border border-bdr",style:{backgroundColor:xe.color||"#f97316"}}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"text-sm font-black text-txt-main",children:xe.name}),a.jsxs("div",{className:"text-[11px] text-txt-muted",children:["Atual:"," ",Ht.get(xe.id)?`R$ ${Number(((Me=Ht.get(xe.id))==null?void 0:Me.price)||0).toFixed(2)}`:"Sem preco"]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"text-xs text-txt-muted font-bold",children:"R$"}),a.jsx("input",{type:"text",inputMode:"decimal",value:ge[xe.id]??"",onChange:We=>{const yt=We.target.value;Z(Gt=>({...Gt,[xe.id]:yt})),K&&ue(null)},disabled:!C,className:"h-9 w-24 px-2 rounded-lg border border-bdr bg-surface text-txt-main text-sm font-bold disabled:opacity-50",placeholder:"0,00"})]}),a.jsx("button",{onClick:()=>Pr(xe.id),disabled:!C||Q===xe.id,className:"h-9 px-4 bg-orange-500 hover:bg-orange-600 text-white rounded-lg text-xs font-black uppercase tracking-widest disabled:opacity-50",children:Q===xe.id?"Salvando...":"Salvar"})]})]},xe.id)})})]});return a.jsxs("div",{className:"fixed inset-0 bg-app z-50 flex flex-col animate-in fade-in duration-300",children:[a.jsxs("div",{className:"bg-surface border-b border-bdr px-6 py-4 flex justify-between items-center shadow-sm shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"bg-orange-500/10 p-2 rounded-xl border border-orange-500/20",children:a.jsx(Qo,{className:"w-6 h-6 text-orange-600"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-black text-txt-main tracking-tight",children:"Configuracao de Entregas"}),a.jsx("p",{className:"text-xs text-txt-muted font-bold uppercase tracking-widest",children:"Zonas, setores e taxas"})]})]}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-red-500/10 hover:text-red-500 text-txt-muted rounded-full transition-colors",children:a.jsx(qn,{className:"w-6 h-6"})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto bg-app p-6",children:a.jsxs("div",{className:"max-w-[1600px] w-full mx-auto space-y-6",children:[a.jsxs("div",{className:"bg-surface border border-bdr rounded-2xl p-5 flex flex-col lg:flex-row gap-6 shadow-sm",children:[a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsx("p",{className:"text-xs font-black text-txt-muted uppercase tracking-widest",children:"Regra global"}),a.jsx("h3",{className:"text-lg font-black text-txt-main",children:"Frete gratis a partir de"}),a.jsx("p",{className:"text-xs text-txt-muted",children:"Pedidos acima do valor minimo terao taxa zero automaticamente."})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-end",children:[a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("label",{className:"text-xs font-bold text-txt-muted uppercase",children:"Deposito"}),a.jsxs("select",{value:C,onChange:xe=>U(xe.target.value),className:"h-9 px-3 rounded-lg border border-bdr bg-app text-txt-main text-sm font-bold",children:[a.jsx("option",{value:"",children:"Selecione..."}),m.map(xe=>a.jsx("option",{value:xe.id,children:xe.nome},xe.id))]})]}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("label",{className:"text-xs font-bold text-txt-muted uppercase",children:"Valor minimo"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"number",value:T,onChange:xe=>S(xe.target.value),className:"h-9 w-32 px-3 rounded-lg border border-bdr bg-app text-txt-main font-bold text-sm"}),a.jsx("button",{onClick:En,className:"h-9 px-4 bg-orange-500 hover:bg-orange-600 text-white rounded-lg text-xs font-black uppercase tracking-widest shadow-sm",children:"Salvar"})]})]})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx("button",{type:"button",onClick:()=>w("map"),className:`px-4 py-2 rounded-lg text-xs font-black uppercase tracking-widest border transition-all ${N==="map"?"bg-emerald-500 text-white border-emerald-500":"bg-surface text-txt-muted border-bdr hover:text-txt-main"}`,children:"Modo mapa/global"}),a.jsx("button",{type:"button",onClick:()=>w("pricing"),className:`px-4 py-2 rounded-lg text-xs font-black uppercase tracking-widest border transition-all ${N==="pricing"?"bg-orange-500 text-white border-orange-500":"bg-surface text-txt-muted border-bdr hover:text-txt-main"}`,children:"Modo precificacao"}),a.jsxs("span",{className:"text-xs text-txt-muted",children:["Deposito atual: ",(ir==null?void 0:ir.nome)||"Nao selecionado"]})]}),N==="map"?a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[340px_1fr] gap-6",children:[a.jsxs("div",{className:"bg-surface border border-bdr rounded-2xl p-4 shadow-sm space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h4",{className:"text-sm font-black text-txt-main uppercase",children:"Zonas cadastradas"}),a.jsx("button",{onClick:()=>{oe({name:"",color:"#f97316"}),O(""),ne(!0),Ke(null),ft(!1),ae(""),Bt.current&&Bt.current.clearLayers()},className:"px-3 py-1.5 bg-app border border-bdr rounded-lg text-xs font-bold text-txt-muted hover:text-txt-main",children:"Nova zona"})]}),b?a.jsx("div",{className:"text-xs text-txt-muted",children:"Carregando..."}):d.length===0?a.jsx("div",{className:"text-xs text-txt-muted italic",children:"Nenhuma zona cadastrada."}):a.jsx("div",{className:"space-y-2",children:d.map(xe=>{var Me;return a.jsx("div",{className:`w-full rounded-xl border transition-all ${I===xe.id?"border-orange-500 bg-orange-500/10":"border-bdr hover:bg-app"}`,children:a.jsxs("div",{className:"flex items-center justify-between gap-2 p-3",children:[a.jsxs("button",{type:"button",onClick:()=>Wr(xe.id),className:"flex-1 text-left",children:[a.jsx("div",{className:"text-sm font-black text-txt-main",children:xe.name}),a.jsx("div",{className:"text-xs text-txt-muted",children:C?`R$ ${Number(((Me=Ht.get(xe.id))==null?void 0:Me.price)||0).toFixed(2)}`:"Selecione um deposito"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"w-4 h-4 rounded-full border border-bdr",style:{backgroundColor:xe.color||"#f97316"}}),a.jsx("button",{type:"button",onClick:()=>an(xe.id),className:"p-1 rounded hover:bg-red-500/10 text-txt-muted hover:text-red-500","aria-label":`Excluir zona ${xe.name}`,children:a.jsx(aa,{className:"w-4 h-4"})})]})]})},xe.id)})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-surface border border-bdr rounded-2xl p-4 shadow-sm space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Em,{className:"w-4 h-4 text-orange-500"}),a.jsx("h4",{className:"text-sm font-black text-txt-main uppercase",children:"Detalhes da zona"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("label",{className:"text-xs font-bold text-txt-muted uppercase",children:"Nome"}),a.jsx("input",{value:z.name||"",onChange:xe=>oe({...z,name:xe.target.value}),className:"h-9 px-3 rounded-lg border border-bdr bg-app text-txt-main font-bold text-sm",placeholder:"Zona 1"})]}),a.jsxs("div",{className:"flex items-end gap-3",children:[a.jsxs("div",{className:"flex flex-col gap-1 flex-1",children:[a.jsx("label",{className:"text-xs font-bold text-txt-muted uppercase",children:"Cor (hex)"}),a.jsx("input",{value:z.color||"",onChange:xe=>oe({...z,color:xe.target.value}),className:"h-9 px-3 rounded-lg border border-bdr bg-app text-txt-main font-bold text-sm",placeholder:"#f97316"})]}),a.jsx("input",{type:"color",value:z.color||"#f97316",onChange:xe=>oe({...z,color:xe.target.value}),className:"h-9 w-12 border border-bdr rounded-lg bg-app"})]}),M&&a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("label",{className:"text-xs font-bold text-txt-muted uppercase",children:"Taxa de Entrega (R$)"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xs text-txt-muted font-bold",children:"R$"}),a.jsx("input",{type:"text",inputMode:"decimal",value:W,onChange:xe=>ae(xe.target.value),className:"flex-1 h-9 px-3 rounded-lg border border-bdr bg-app text-txt-main font-bold text-sm",placeholder:"0,00"})]}),a.jsx("div",{className:"text-[10px] text-txt-muted",children:'Taxa padro para entregas nesta zona. Pode editar depois em "Precificao".'})]}),a.jsx("button",{onClick:In,disabled:ee,className:"w-full py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg text-xs font-black uppercase tracking-widest disabled:opacity-50",children:ee?"Salvando...":z.id?"Salvar zona":"Criar zona"}),a.jsx("div",{className:"text-[11px] text-txt-muted",children:"Salva nome, taxa, cor e area desenhada no mapa."})]})]}),a.jsxs("div",{className:"bg-surface border border-bdr rounded-2xl p-4 shadow-sm space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h4",{className:"text-sm font-black text-txt-main uppercase",children:"Setores da zona"}),gt&&a.jsxs("span",{className:"text-xs text-txt-muted",children:["Zona: ",gt.name]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{value:te,onChange:xe=>X(xe.target.value),placeholder:"Adicionar bairro",className:"flex-1 h-9 px-3 rounded-lg border border-bdr bg-app text-txt-main text-sm"}),a.jsx("button",{onClick:Ut,disabled:!I,className:"h-9 px-3 bg-orange-500 hover:bg-orange-600 text-white rounded-lg text-xs font-black uppercase tracking-widest disabled:opacity-50",children:a.jsx(Ao,{className:"w-4 h-4"})})]}),a.jsx("div",{className:"space-y-2",children:_r.length===0?a.jsx("div",{className:"text-xs text-txt-muted italic",children:"Nenhum setor vinculado."}):_r.map(xe=>a.jsxs("div",{className:"flex items-center justify-between gap-2 bg-app border border-bdr rounded-lg px-3 py-2",children:[a.jsx("span",{className:"text-sm font-bold text-txt-main",children:xe.name}),a.jsxs("div",{className:"flex items-center gap-2",children:[nr.length>0&&a.jsxs("select",{value:"",onChange:Me=>nn(xe.id,Me.target.value),className:"h-7 px-2 rounded border border-bdr bg-surface text-xs text-txt-muted",children:[a.jsx("option",{value:"",children:"Mover..."}),nr.map(Me=>a.jsx("option",{value:Me.id,children:Me.name},Me.id))]}),a.jsx("button",{onClick:()=>fe(xe.id),className:"p-1 rounded hover:bg-red-500/10 text-txt-muted hover:text-red-500",children:a.jsx(aa,{className:"w-4 h-4"})})]})]},xe.id))})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[1fr_320px] gap-6",children:[a.jsxs("div",{className:"bg-surface border border-bdr rounded-2xl p-4 shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(zb,{className:"w-4 h-4 text-emerald-500"}),a.jsx("h4",{className:"text-sm font-black text-txt-main uppercase",children:"Mapa (visual)"})]}),gt&&a.jsxs("div",{className:"flex items-center gap-2 text-xs text-txt-muted",children:[a.jsx("span",{className:"w-3 h-3 rounded-full border border-bdr",style:{backgroundColor:gt.color||"#f97316"}}),gt.name]})]}),a.jsxs("div",{className:"mb-3 rounded-lg border border-bdr bg-app px-3 py-2 text-xs text-txt-muted",children:[a.jsx("div",{className:"font-black text-txt-main",children:"Como usar a marcacao"}),a.jsx("div",{children:'1) Selecione uma zona ou clique "Nova zona".'}),a.jsx("div",{children:"2) Pesquise um bairro/rua para gerar a area automaticamente (quando disponivel)."}),a.jsx("div",{children:"3) Ajuste o alcance se quiser buscar outra cidade."}),a.jsx("div",{children:"4) Ajuste/desenhe no mapa (ferramentas a direita)."}),a.jsx("div",{children:'5) Clique "Salvar zona" para gravar area, taxa e cor.'}),a.jsx("div",{children:"Dica: use o lapis para editar e a lixeira para apagar."}),a.jsx("div",{children:"Dica: clique em uma zona no mapa para selecionar."}),dt.length>0&&a.jsxs("div",{className:"mt-1 text-[11px] font-semibold text-red-500",children:["Aviso: area atual invade ",dt.length>1?"zonas":"zona"," ",dt.join(", "),". Ajuste antes de salvar."]}),a.jsxs("div",{className:"mt-1 text-txt-main",children:["Zona ativa: ",kr,"  Preco deposito: ",Xe,"  Area: ",Ue]})]}),a.jsxs("div",{className:"flex flex-col gap-2 mb-3",children:[a.jsx("label",{className:"text-xs font-bold text-txt-muted uppercase",children:"Pesquisar Bairro/Rua"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{value:Ne,onChange:xe=>{q(xe.target.value),$&&V(null),he&&ve(null)},onKeyDown:xe=>{xe.key==="Enter"&&Jt()},className:"flex-1 h-9 px-3 rounded-lg border border-bdr bg-app text-txt-main text-sm",placeholder:"Ex: Bairro Popular"}),a.jsx("button",{onClick:Jt,disabled:!Ne.trim()||je,className:"h-9 px-4 bg-emerald-500 hover:bg-emerald-600 text-white rounded-lg text-xs font-black uppercase tracking-widest disabled:opacity-50",children:je?"Buscando...":"Buscar"})]}),a.jsx("label",{className:"text-xs font-bold text-txt-muted uppercase",children:"Alcance (cidade/UF)"}),a.jsx("input",{value:F,onChange:xe=>G(xe.target.value),className:"h-9 px-3 rounded-lg border border-bdr bg-app text-txt-main text-sm",placeholder:dh}),a.jsxs("div",{className:"text-[11px] text-txt-muted",children:["Padrao: ",dh,". Para estender, edite o alcance."]}),$&&a.jsx("div",{className:"text-xs text-red-500",children:$}),he&&a.jsx("div",{className:"text-xs text-amber-500",children:he})]}),a.jsxs("div",{className:"relative",children:[a.jsxs(Yb,{center:[Ip.lat,Ip.lng],zoom:12,className:"w-full h-[360px] md:h-[480px] lg:h-[560px] xl:h-[640px] rounded-xl overflow-hidden border border-bdr",children:[a.jsx(Wb,{attribution:" OSM contributors",url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),a.jsx(c7,{mapRef:Lt}),a.jsx(A7,{}),at.length>0&&a.jsx(nB,{name:"other-zones",style:{zIndex:300},children:at.map(xe=>a.jsx(Jb,{positions:xe.polygon,pathOptions:{color:xe.color,fillColor:xe.color,fillOpacity:.12,weight:1,dashArray:"4 6",className:"cursor-pointer"},eventHandlers:{click:()=>Wr(xe.id)},children:a.jsx(ev,{sticky:!0,children:xe.name})},xe.id))}),Ct&&zt&&a.jsx(rB,{ref:Bt,children:a.jsx(zt,{position:"topright",onCreated:br,onEdited:yn,onDeleted:kt,draw:{polygon:{shapeOptions:er},rectangle:{shapeOptions:er},polyline:!1,circle:!1,circlemarker:!1,marker:!1},edit:{edit:{selectedPathOptions:er},remove:{}}})}),a.jsx(l7,{enabled:tt,points:or})]}),a.jsx("button",{onClick:()=>pe(xe=>!xe),className:"absolute top-3 right-3 px-3 py-1.5 bg-white/90 border border-bdr rounded-lg text-[11px] font-black uppercase tracking-widest text-txt-main shadow-sm",children:tt?"Ocultar Mapa de Calor":"Ver Mapa de Calor"})]})]}),De]})]})]}):a.jsx("div",{className:"max-w-[820px]",children:De})]})})]})},d7=({onClose:t})=>{const[e,r]=P.useState([]),[n,i]=P.useState([]),[l,u]=P.useState(!0),[d,h]=P.useState(null),[m,g]=P.useState("PENDENTE");P.useEffect(()=>{let S=!0;const I=async()=>{const[M,ne]=await Promise.all([QR(),OR()]);S&&(r(M),i(ne),u(!1))};I();const O=setInterval(I,3e3);return()=>{S=!1,clearInterval(O)}},[]);const b=e.filter(S=>m==="PENDENTE"?S.status==="PENDENTE_ENTREGA"||S.status==="DEVOLVIDA":m==="EM_ROTA"?S.status==="EM_ROTA":m==="FINALIZADO"?S.status==="CONCLUIDA"||S.status==="CANCELADA":!0).sort((S,I)=>(S.assignedAt||0)-(I.assignedAt||0)),N=n.filter(S=>S.status==="DISPONIVEL"&&Date.now()-S.lastSeenAt<45e3),w=async(S,I)=>{confirm("Iniciar entrega com este entregador?")&&(await RR(S),h(null))},C=async S=>{confirm("Confirmar entrega realizada?")&&(await DR(S),h(null))},U=async(S,I)=>{confirm("Confirmar devoluo da entrega?")&&(await MR(S),h(null))},T=async S=>{confirm("Cancelar esta entrega? Esta ao no pode ser desfeita.")&&(await PR(S),h(null))};return a.jsxs("div",{className:"fixed inset-0 bg-app z-50 flex flex-col animate-in slide-in-from-bottom-4 duration-300",children:[a.jsxs("div",{className:"bg-surface border-b border-bdr px-6 py-4 flex justify-between items-center shadow-sm shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"bg-indigo-500/10 p-2.5 rounded-xl border border-indigo-500/20",children:a.jsx(Qo,{className:"w-6 h-6 text-indigo-600"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-black text-txt-main tracking-tight",children:"Despacho de Entregas"}),a.jsx("p",{className:"text-xs text-txt-muted font-bold uppercase tracking-widest",children:"Controle de Frota em Tempo Real"})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"text-xs font-mono text-txt-muted flex items-center gap-2 bg-app px-3 py-1 rounded-lg border border-bdr",children:[l?a.jsx(Rh,{className:"w-3 h-3 text-amber-500 animate-spin"}):a.jsx(Nm,{className:"w-3 h-3 text-green-500 animate-pulse"}),l?"Sincronizando...":"Ao Vivo"]}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-red-500/10 text-txt-muted hover:text-red-500 rounded-full transition-colors",children:a.jsx(qn,{className:"w-6 h-6"})})]})]}),a.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[a.jsxs("div",{className:"flex-1 flex flex-col border-r border-bdr bg-app/50",children:[a.jsx("div",{className:"p-4 flex gap-2 border-b border-bdr bg-surface",children:["PENDENTE","EM_ROTA","FINALIZADO"].map(S=>a.jsx("button",{onClick:()=>{g(S),h(null)},className:`flex-1 py-2 text-xs font-black uppercase rounded-lg border transition-all ${m===S?"bg-indigo-500 text-white border-indigo-600":"bg-app text-txt-muted border-bdr hover:bg-white"}`,children:S==="PENDENTE"?"PENDENTE":S==="EM_ROTA"?"EM ROTA":"FINALIZADO"},S))}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:[b.length===0&&a.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-txt-muted opacity-50",children:[a.jsx(Qo,{className:"w-12 h-12 mb-2"}),a.jsx("p",{className:"font-bold text-sm",children:"Nenhuma entrega nesta fila"})]}),b.map(S=>a.jsxs("div",{onClick:()=>h(S.id),className:`bg-surface p-4 rounded-xl border-2 transition-all cursor-pointer relative group ${d===S.id?"border-indigo-500 ring-2 ring-indigo-500/20 shadow-md":"border-bdr hover:border-indigo-300"}`,children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsxs("span",{className:"font-black text-sm text-txt-main",children:["#",S.osId.slice(0,8),"..."]}),a.jsx("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded uppercase ${S.status==="PENDENTE_ENTREGA"?"bg-amber-100 text-amber-700":S.status==="EM_ROTA"?"bg-blue-100 text-blue-700":S.status==="DEVOLVIDA"?"bg-red-100 text-red-700":S.status==="CONCLUIDA"?"bg-green-100 text-green-700":S.status==="CANCELADA"?"bg-gray-100 text-gray-700":"bg-purple-100 text-purple-700"}`,children:S.status==="PENDENTE_ENTREGA"?"PENDENTE":S.status.replace("_"," ")})]}),a.jsx("h3",{className:"font-bold text-base text-txt-main leading-tight mb-1",children:S.customerName}),a.jsxs("p",{className:"text-xs text-txt-muted flex items-center gap-1",children:[a.jsx(IA,{className:"w-3 h-3"})," ",S.address.full]}),a.jsxs("div",{className:"mt-3 flex justify-between items-end border-t border-bdr pt-2",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] text-txt-muted uppercase font-bold",children:"Itens"}),a.jsx("p",{className:"text-xs font-medium max-w-[150px] truncate",children:S.itemsSummary})]}),a.jsx("div",{className:"text-right",children:a.jsxs("p",{className:"text-lg font-black text-emerald-600",children:["R$ ",S.totalValue.toFixed(2)]})})]}),S.refusalReason&&a.jsxs("div",{className:"mt-2 bg-red-50 text-red-600 text-[10px] font-bold p-2 rounded border border-red-100",children:["Recusada: ",S.refusalReason]})]},S.id))]})]}),a.jsxs("div",{className:"w-96 bg-surface flex flex-col",children:[a.jsxs("div",{className:"p-4 border-b border-bdr bg-indigo-50/50",children:[a.jsx("h3",{className:"font-black text-sm text-indigo-900 uppercase tracking-widest mb-1",children:"Aes de Entrega"}),a.jsx("p",{className:"text-xs text-indigo-700",children:"Selecione uma entrega  esquerda para gerenciar."})]}),d&&(()=>{const S=e.find(I=>I.id===d);return S?a.jsxs("div",{className:"p-4 space-y-4",children:[a.jsxs("div",{className:"bg-app p-4 rounded-xl border border-bdr",children:[a.jsx("h4",{className:"font-bold text-txt-main mb-2",children:S.customerName}),a.jsx("p",{className:"text-xs text-txt-muted mb-2",children:S.address.full}),a.jsxs("p",{className:"text-lg font-black text-emerald-600",children:["R$ ",S.totalValue.toFixed(2)]})]}),S.status==="PENDENTE_ENTREGA"&&a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-xs font-bold text-txt-muted uppercase",children:"Selecione um entregador:"}),a.jsxs("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:[N.map(I=>a.jsxs("button",{onClick:()=>w(d,I.driverId),className:"w-full flex items-center justify-between p-3 rounded-lg border border-bdr bg-app hover:bg-emerald-50 hover:border-emerald-200 transition-colors",children:[a.jsx("span",{className:"font-bold text-sm",children:I.driverName}),a.jsxs("span",{className:"flex items-center gap-1 text-emerald-600 text-xs font-bold",children:["Iniciar Rota ",a.jsx(sw,{className:"w-3 h-3"})]})]},I.driverId)),N.length===0&&a.jsx("p",{className:"text-xs text-txt-muted text-center py-4",children:"Nenhum entregador disponvel"})]}),a.jsxs("button",{onClick:()=>T(d),className:"w-full py-2 bg-red-50 text-red-600 border border-red-200 rounded-lg text-xs font-bold hover:bg-red-100 transition-colors flex items-center justify-center gap-2",children:[a.jsx(b0,{className:"w-4 h-4"})," Cancelar Entrega"]})]}),S.status==="EM_ROTA"&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("p",{className:"text-xs font-bold text-txt-muted uppercase mb-2",children:["Entregador: ",S.driverName||"No atribudo"]}),a.jsxs("button",{onClick:()=>C(d),className:"w-full py-3 bg-emerald-500 text-white rounded-lg text-sm font-bold hover:bg-emerald-600 transition-colors flex items-center justify-center gap-2",children:[a.jsx(qE,{className:"w-5 h-5"})," Confirmar Entrega"]}),a.jsxs("button",{onClick:()=>{prompt("Motivo da devoluo:")&&U(d)},className:"w-full py-2 bg-orange-50 text-orange-600 border border-orange-200 rounded-lg text-xs font-bold hover:bg-orange-100 transition-colors flex items-center justify-center gap-2",children:[a.jsx(x3,{className:"w-4 h-4"})," Devolver (Falha na Entrega)"]}),a.jsxs("button",{onClick:()=>T(d),className:"w-full py-2 bg-red-50 text-red-600 border border-red-200 rounded-lg text-xs font-bold hover:bg-red-100 transition-colors flex items-center justify-center gap-2",children:[a.jsx(b0,{className:"w-4 h-4"})," Cancelar"]})]}),S.status==="DEVOLVIDA"&&a.jsxs("div",{className:"space-y-3",children:[S.refusalReason&&a.jsxs("div",{className:"bg-red-50 text-red-600 text-xs font-bold p-3 rounded-lg border border-red-100",children:["Motivo: ",S.refusalReason]}),a.jsx("p",{className:"text-xs font-bold text-txt-muted uppercase",children:"Reenviar para entrega:"}),a.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:N.map(I=>a.jsxs("button",{onClick:()=>w(d,I.driverId),className:"w-full flex items-center justify-between p-3 rounded-lg border border-bdr bg-app hover:bg-emerald-50 hover:border-emerald-200 transition-colors",children:[a.jsx("span",{className:"font-bold text-sm",children:I.driverName}),a.jsxs("span",{className:"flex items-center gap-1 text-emerald-600 text-xs font-bold",children:["Reenviar ",a.jsx(sw,{className:"w-3 h-3"})]})]},I.driverId))}),a.jsxs("button",{onClick:()=>T(d),className:"w-full py-2 bg-red-50 text-red-600 border border-red-200 rounded-lg text-xs font-bold hover:bg-red-100 transition-colors flex items-center justify-center gap-2",children:[a.jsx(b0,{className:"w-4 h-4"})," Cancelar Definitivamente"]})]}),(S.status==="CONCLUIDA"||S.status==="CANCELADA")&&a.jsxs("div",{className:"text-center py-8 text-txt-muted",children:[a.jsx(tA,{className:"w-12 h-12 mx-auto mb-2 opacity-30"}),a.jsx("p",{className:"text-sm font-bold",children:"Esta entrega j foi finalizada"})]})]}):null})(),!d&&a.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-txt-muted p-8",children:[a.jsx(Qo,{className:"w-16 h-16 mb-4 opacity-20"}),a.jsx("p",{className:"text-sm font-bold text-center",children:"Selecione uma entrega na lista para ver as opes"})]}),a.jsxs("div",{className:"mt-auto border-t border-bdr p-4 bg-app",children:[a.jsx("p",{className:"text-xs font-bold text-txt-muted uppercase mb-2",children:"Entregadores Online"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.filter(S=>Date.now()-S.lastSeenAt<45e3).map(S=>a.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-bold ${S.status==="DISPONIVEL"?"bg-emerald-100 text-emerald-700":"bg-blue-100 text-blue-700"}`,children:S.driverName},S.driverId)),n.filter(S=>Date.now()-S.lastSeenAt<45e3).length===0&&a.jsx("span",{className:"text-xs text-txt-muted",children:"Nenhum online"})]})]})]})]})]})},Dp={nome:"",endereco:"",numero:"",cor:"#6366f1",ativo:!0,require_stock_audit:!1},fh={codigo:"",nome:"",tipo:"OUTROS",movement_type:"SIMPLE",return_product_id:null,preco_venda:0,preco_custo:0,preco_troca:null,preco_completa:null,track_stock:!0,ativo:!0},T5=[{value:"GAS_CHEIO",label:"Gs Cheio",icon:""},{value:"VASILHAME_VAZIO",label:"Vasilhame Vazio",icon:""},{value:"AGUA",label:"gua",icon:""},{value:"OUTROS",label:"Outros",icon:""}],I5=[{value:"SIMPLE",label:"Simples",desc:"Venda normal sem retorno de vasilhame",icon:$5},{value:"EXCHANGE",label:"Troca",desc:"Cliente devolve vazio e leva cheio",icon:m3},{value:"FULL",label:"Completa",desc:"Vende produto + casco (cliente novo)",icon:lo}],h7=["#6366f1","#8b5cf6","#ec4899","#ef4444","#f97316","#eab308","#22c55e","#14b8a6","#3b82f6","#64748b"],f7=({onClose:t,currentUser:e})=>{var Ut,nn;const[r,n]=P.useState("cadastro"),[i,l]=P.useState(Dp),[u,d]=P.useState(!1),[h,m]=P.useState(!1),[g,b]=P.useState(""),[N,w]=P.useState(fh),[C,U]=P.useState(!1),[T,S]=P.useState(!1),[I,O]=P.useState(""),[M,ne]=P.useState(null),[z,oe]=P.useState({}),[te,X]=P.useState(new Set),[ge,Z]=P.useState(!1),[W,ae]=P.useState({originId:"",destId:"",productId:"",quantidade:1}),[K,ue]=P.useState(!1),[Q,Ae]=P.useState({depositId:"",counts:{}}),[ee,_e]=P.useState(!1),[Ne,q]=P.useState(0),[F,G]=P.useState(null),[$,V]=P.useState([]),[he,ve]=P.useState(""),[je,Te]=P.useState(null),[Je,Ke]=P.useState(!1),[nt,ft]=P.useState(!1),[tt,pe]=P.useState(null),Ct=sa(()=>Or.deposits.toArray())??[],It=P.useMemo(()=>Ct.filter(fe=>fe.ativo!==!1),[Ct]),zt=sa(()=>Or.employees.toArray())??[];P.useEffect(()=>{let fe=!0;return Mi.getAll().then(De=>{if(!fe)return;const $e=De.map(xe=>({id:xe.id,nome:xe.name,cargo:xe.role,depositoId:xe.deposit_id,ativo:xe.active,username:xe.username,password:xe.password,permissoes:xe.permissions||[]}));V($e)}).catch(De=>{console.error("Erro ao carregar colaboradores do Supabase",De),ms.error("Erro ao carregar colaboradores (online)")}),()=>{fe=!1}},[]);const Ie=sa(()=>Or.products.filter(fe=>fe.ativo!==!1&&(fe.track_stock??!0)!==!1&&fe.type!=="SERVICE").toArray())??[],Rt=sa(()=>Or.products.toArray())??[],Lt=sa(()=>Or.service_orders.toArray())??[],Bt=sa(()=>Or.stock_balance.toArray(),[Ne])??[],gt=(e==null?void 0:e.cargo)==="GERENTE",ir=$.length>0?$:zt,_r=P.useMemo(()=>{if(!g)return Ct;const fe=g.toLowerCase();return Ct.filter(De=>{var $e,xe;return(($e=De.nome)==null?void 0:$e.toLowerCase().includes(fe))||((xe=De.endereco)==null?void 0:xe.toLowerCase().includes(fe))})},[Ct,g]),nr=P.useMemo(()=>{if(!I)return Rt;const fe=I.toLowerCase();return Rt.filter(De=>{var $e,xe;return(($e=De.nome)==null?void 0:$e.toLowerCase().includes(fe))||((xe=De.codigo)==null?void 0:xe.toLowerCase().includes(fe))})},[Rt,I]),xr=P.useMemo(()=>{const fe=Rt.filter(De=>{const $e=De.tipo||De.type||"";return($e==="VASILHAME_VAZIO"||$e==="EMPTY_CONTAINER")&&De.ativo!==!1});return console.log("[emptyProducts] Produtos vazios encontrados:",fe.length,fe.map(De=>({id:De.id,nome:De.nome,tipo:De.tipo}))),fe},[Rt]),$t=P.useMemo(()=>{const fe={};return Bt.forEach(De=>{const $e=De.deposit_id,xe=De.product_id;fe[$e]||(fe[$e]={}),fe[$e][xe]=Number(De.quantidade_atual??0)}),fe},[Bt]),St=P.useCallback(fe=>{if(fe===""||fe===null||fe===void 0)return 0;const De=Number(fe);return Number.isFinite(De)?De:0},[]),Zt=P.useCallback(fe=>({price:St((fe??N).preco_venda??0)}),[St,N]),Tt=P.useCallback((fe,De)=>{const $e=Zt(De),xe=new Set,Me={};It.forEach(We=>{const yt=fe==null?void 0:fe.find(Gt=>Gt.deposit_id===We.id);yt?(xe.add(We.id),Me[We.id]={price:St(yt.price??0)}):Me[We.id]={...$e}}),X(xe),oe(Me)},[It,Zt,St]),Vr=P.useCallback(async(fe,De)=>{Z(!0);try{const $e=await yc.listPricingByProduct(fe);Tt($e,De)}catch($e){console.error("Erro ao carregar precificao por depsito",$e),ms.error("No foi possvel carregar preos por depsito"),Tt(void 0,De)}finally{Z(!1)}},[Tt]),gr=P.useCallback((fe,De,$e)=>{oe(xe=>{const Me=xe[fe]||Zt(),We=$e===""?"":St($e.replace(",","."));return{...xe,[fe]:{...Me,[De]:We}}})},[Zt,St]),Vt=P.useCallback(async(fe,De)=>{const $e=It.map(async xe=>{const Me=z[xe.id];if(!Me)return null;const We=St(Me.price);return!We||Number.isNaN(We)?(te.has(xe.id)&&await yc.removePricing(fe,xe.id),null):(await yc.setPricing(fe,xe.id,{price:We}),!0)});await Promise.all($e)},[It,te,St,z]);P.useEffect(()=>{},[C,N.movement_type]),P.useEffect(()=>{C&&It.length&&(Object.keys(z).length>0||Tt(void 0,N))},[It,Tt,C,z,N]);const or=()=>{l(Dp),d(!0)},Ht=fe=>{l({id:fe.id,nome:fe.nome||"",endereco:fe.endereco||"",numero:fe.numero||"",cor:fe.cor||"#6366f1",ativo:fe.ativo??!0,require_stock_audit:fe.require_stock_audit??!1}),d(!0)},Kt=()=>{l(Dp),d(!1)},kr=async()=>{var fe,De;if(!i.nome.trim()){alert("O nome do depsito  obrigatrio!");return}m(!0);try{const $e={id:i.id||crypto.randomUUID(),nome:i.nome.trim(),endereco:((fe=i.endereco)==null?void 0:fe.trim())||void 0,cor:i.cor||"#6366f1",ativo:i.ativo,require_stock_audit:i.require_stock_audit};(De=i.numero)!=null&&De.trim()&&($e.endereco=$e.endereco?`${$e.endereco}, ${i.numero.trim()}`:i.numero.trim()),await mC($e),l(Dp),d(!1)}catch($e){console.error("Erro ao salvar depsito:",$e),alert("Erro ao salvar depsito. Tente novamente.")}finally{m(!1)}},Mt=async fe=>{const De=zt.filter(We=>We.depositoId===fe.id),$e=$t[fe.id]||{},xe=Object.values($e).some(We=>We>0),Me=Lt.filter(We=>We.depositoId===fe.id&&(We.status==="PENDENTE"||We.statusEntrega==="PENDENTE_ENTREGA"||We.statusEntrega==="EM_ROTA"));G({deposit:fe,hasEmployees:De.length>0,hasStock:xe,hasPendingOS:Me.length>0,employees:De}),ve(""),Te(null)},er=async()=>{var We;if(!F)return;const{deposit:fe,hasEmployees:De,hasStock:$e,hasPendingOS:xe,employees:Me}=F;if(xe){alert("No  possvel excluir: existem O.S. pendentes neste depsito.");return}if(De&&!he){alert("Selecione um depsito para migrar os colaboradores ou cancele.");return}if($e&&!je){alert("Selecione o que fazer com o estoque.");return}m(!0);try{if(De&&he)for(const yt of Me)await Or.employees.update(yt.id,{depositoId:he});if($e&&je==="migrate"&&he){const yt=Bt.filter(Gt=>Gt.deposit_id===fe.id);for(const Gt of yt)Gt.quantidade_atual>0&&await Ah({id:crypto.randomUUID(),dataHora:new Date().toISOString(),depositoId:he,produtoId:Gt.product_id,produtoNome:((We=Ie.find(Cr=>Cr.id===Gt.product_id))==null?void 0:We.nome)||"Produto",tipo:"ENTRADA",quantidade:Gt.quantidade_atual,origem:"TRANSFERENCIA",usuarioId:(e==null?void 0:e.id)||Vc,usuarioNome:(e==null?void 0:e.nome)||"Sistema",motivo:`Migrao de estoque do depsito ${fe.nome} (excludo)`});await Or.stock_balance.where("deposit_id").equals(fe.id).delete(),q(Gt=>Gt+1)}else $e&&je==="ignore"&&(await Or.stock_balance.where("deposit_id").equals(fe.id).delete(),q(yt=>yt+1));await wR(fe.id),G(null)}catch(yt){console.error("Erro ao excluir depsito:",yt),alert("Erro ao excluir depsito. Tente novamente.")}finally{m(!1)}},Ue=()=>{w(fh),U(!0),X(new Set),Tt(void 0,fh)},Xe=fe=>{const De=Number(fe.preco_venda??fe.sale_price??0)||0,$e=Number(fe.preco_custo??fe.cost_price??0)||0,xe=fe.preco_troca??fe.exchange_price,Me=fe.preco_completa??fe.full_price,We=fe.return_product_id??fe.returnProductId??null;if(console.log("[handleEditProduct] Carregando produto:",{id:fe.id,nome:fe.nome,movement_type:fe.movement_type,return_product_id:We,precoVenda:De,precoTroca:xe,precoCompleta:Me,rawProduct:fe}),We){const Gt=Rt.find(Cr=>Cr.id===We);console.log("[handleEditProduct] Vasilhame vazio vinculado encontrado:",Gt?`${Gt.nome} (${Gt.id})`:"NO ENCONTRADO!")}const yt={id:fe.id,codigo:fe.codigo||"",nome:fe.nome||"",tipo:fe.tipo||"OUTROS",movement_type:fe.movement_type||"SIMPLE",return_product_id:We,preco_venda:De,preco_custo:$e,preco_troca:xe!=null?Number(xe):null,preco_completa:Me!=null?Number(Me):null,track_stock:fe.track_stock??!0,ativo:fe.ativo??!0};w(yt),U(!0),Vr(fe.id,yt)},at=()=>{w(fh),U(!1),oe({}),X(new Set)},dt=async()=>{if(!N.nome.trim()){alert("O nome do produto  obrigatrio!");return}if(N.movement_type==="EXCHANGE"&&!N.return_product_id){alert("Para movimento tipo TROCA,  obrigatrio vincular um vasilhame vazio!");return}S(!0);try{const fe=St(N.preco_venda),De=St(N.preco_custo);let $e=null,xe=null;N.movement_type==="EXCHANGE"&&($e=N.preco_troca!=null?St(N.preco_troca):St(fe),xe=N.preco_completa!=null?St(N.preco_completa):St(fe)),console.log("[handleSaveProduct] Salvando produto:",{id:N.id,nome:N.nome,movement_type:N.movement_type,return_product_id:N.return_product_id,baseSalePrice:fe,precoTroca:$e,precoCompleta:xe,formPrecoTroca:N.preco_troca,formPrecoCompleta:N.preco_completa});const Me={id:N.id||crypto.randomUUID(),codigo:N.codigo.trim()||null,nome:N.nome.trim(),tipo:N.tipo,movement_type:N.movement_type,return_product_id:N.movement_type==="EXCHANGE"?N.return_product_id:null,preco_venda:fe,preco_custo:De,preco_padrao:fe,preco_troca:$e,preco_completa:xe,track_stock:N.track_stock,ativo:N.ativo,descricao:null,unidade:"un",product_group:null,imagem_url:null,deposit_id:null,marcacao:De>0?(fe-De)/De*100:0,tracks_empties:N.tipo==="GAS_CHEIO"||N.movement_type==="EXCHANGE",created_at:N.id?void 0:new Date().toISOString(),updated_at:new Date().toISOString()};if(await Or.products.put(Me),Me.track_stock!==!1&&await Vt(Me.id,Me.movement_type),!N.id&&N.tipo==="GAS_CHEIO"&&N.movement_type==="EXCHANGE"&&!N.return_product_id){const We={id:crypto.randomUUID(),codigo:`${Me.codigo}_VAZIO`,nome:`Vasilhame ${N.nome.trim()} (Vazio)`,tipo:"VASILHAME_VAZIO",movement_type:"SIMPLE",return_product_id:null,preco_venda:0,preco_custo:0,preco_padrao:0,track_stock:!0,ativo:!0,descricao:null,unidade:"un",product_group:null,imagem_url:null,deposit_id:null,marcacao:0,tracks_empties:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};await Or.products.put(We),await Or.products.update(Me.id,{return_product_id:We.id})}w(fh),U(!1),oe({}),X(new Set),ms.success("Produto salvo com sucesso!")}catch(fe){console.error("Erro ao salvar produto:",fe),ms.error("Erro ao salvar produto. Tente novamente.")}finally{S(!1)}},Yt=async()=>{var $e,xe,Me,We,yt,Gt,Cr;if(!M)return;if(Lt.some(Hr=>{var dn;return(dn=Hr.itens)==null?void 0:dn.some(Ar=>Ar.produtoId===M.id)})){alert("Este produto no pode ser excludo pois est sendo usado em Ordens de Servio."),ne(null);return}const De=await((Me=($e=Or.stock_movements)==null?void 0:(xe=$e.where("product_id").equals(M.id)).count)==null?void 0:Me.call(xe));if(De&&De>0){alert("Este produto no pode ser excludo: existem movimentaes de estoque vinculadas."),ne(null);return}S(!0);try{await Or.products.delete(M.id);const Hr=await((We=Or.stock_balance)==null?void 0:We.filter(Ar=>Ar.product_id===M.id).toArray())??[];for(const Ar of Hr)await((yt=Or.stock_balance)==null?void 0:yt.delete(Ar.id));const dn=await((Gt=Or.product_pricing)==null?void 0:Gt.filter(Ar=>Ar.productId===M.id).toArray())??[];for(const Ar of dn)await((Cr=Or.product_pricing)==null?void 0:Cr.delete(Ar.id));ne(null),alert("Produto excludo com sucesso!")}catch(Hr){console.error("Erro ao excluir produto:",Hr),alert("Erro ao excluir produto.")}finally{S(!1)}},Jt=async()=>{var We,yt,Gt;const{originId:fe,destId:De,productId:$e,quantidade:xe}=W;if(!fe||!De||!$e||xe<=0){alert("Preencha todos os campos corretamente.");return}if(fe===De){alert("Origem e destino devem ser diferentes.");return}const Me=((We=$t[fe])==null?void 0:We[$e])??0;if(Me<xe){alert(`Estoque insuficiente. Disponvel: ${Me}`);return}ue(!0);try{const Cr=Ie.find(Ar=>Ar.id===$e),Hr=(Cr==null?void 0:Cr.nome)||"Produto",dn=new Date().toISOString();await Ah({id:crypto.randomUUID(),dataHora:dn,depositoId:fe,produtoId:$e,produtoNome:Hr,tipo:"SAIDA",quantidade:xe,origem:"TRANSFERENCIA",usuarioId:(e==null?void 0:e.id)||Vc,usuarioNome:(e==null?void 0:e.nome)||"Sistema",motivo:`Transferncia para ${(yt=It.find(Ar=>Ar.id===De))==null?void 0:yt.nome}`}),await Ah({id:crypto.randomUUID(),dataHora:dn,depositoId:De,produtoId:$e,produtoNome:Hr,tipo:"ENTRADA",quantidade:xe,origem:"TRANSFERENCIA",usuarioId:(e==null?void 0:e.id)||Vc,usuarioNome:(e==null?void 0:e.nome)||"Sistema",motivo:`Transferncia de ${(Gt=It.find(Ar=>Ar.id===fe))==null?void 0:Gt.nome}`}),ae({originId:"",destId:"",productId:"",quantidade:1}),alert("Transferncia realizada com sucesso!"),q(Ar=>Ar+1)}catch(Cr){console.error("Erro na transferncia:",Cr),alert("Erro ao realizar transferncia.")}finally{ue(!1)}},br=(fe,De)=>{const $e=De===""?"":parseInt(De);Ae(xe=>({...xe,counts:{...xe.counts,[fe]:$e}}))},yn=async()=>{var De;if(!Q.depositId){alert("Selecione um depsito.");return}const fe=Object.entries(Q.counts).filter(([$e,xe])=>xe!==""&&xe!==void 0);if(fe.length===0){alert("Preencha a contagem de pelo menos um produto.");return}_e(!0);try{let $e=0,xe=0;for(const[We,yt]of fe){if(yt===""||yt===void 0)continue;const Gt=((De=$t[Q.depositId])==null?void 0:De[We])??0,Cr=Number(yt),Hr=Cr-Gt;if(Hr===0)continue;const dn=Ie.find(on=>on.id===We);if(Gt===0&&Cr>0)await Ah({id:crypto.randomUUID(),dataHora:new Date().toISOString(),depositoId:Q.depositId,produtoId:We,produtoNome:(dn==null?void 0:dn.nome)||"Produto",tipo:"CARGA_INICIAL",quantidade:Cr,origem:"TELA_CONTAGEM_MOVIMENTACAO",usuarioId:(e==null?void 0:e.id)||Vc,usuarioNome:(e==null?void 0:e.nome)||"Sistema",motivo:"Carga inicial de estoque",meta:{beforeQty:0,afterQty:Cr,isInitialLoad:!0}}),$e++;else{const on=Hr>0?"AJUSTE_POSITIVO":"AJUSTE_NEGATIVO";await Ah({id:crypto.randomUUID(),dataHora:new Date().toISOString(),depositoId:Q.depositId,produtoId:We,produtoNome:(dn==null?void 0:dn.nome)||"Produto",tipo:on,quantidade:Math.abs(Hr),origem:"TELA_CONTAGEM_MOVIMENTACAO",usuarioId:(e==null?void 0:e.id)||Vc,usuarioNome:(e==null?void 0:e.nome)||"Sistema",motivo:Hr>0?"Sobra identificada na contagem":"Falta identificada na contagem",meta:{beforeQty:Gt,afterQty:Cr,diff:Hr}}),xe++}}Ae({depositId:Q.depositId,counts:{}});const Me=[];$e>0&&Me.push(`${$e} produto(s) com carga inicial`),xe>0&&Me.push(`${xe} produto(s) ajustado(s)`),alert(`Registrado com sucesso!
${Me.join(`
`)}`),q(We=>We+1)}catch($e){console.error("Erro ao salvar contagem:",$e),alert("Erro ao salvar contagem.")}finally{_e(!1)}},kt=P.useCallback(async()=>{var fe;ft(!0);try{const De=await Or.products.toArray(),$e=await Or.deposits.toArray(),xe=await Or.stock_balance.toArray(),Me=await((fe=Or.product_pricing)==null?void 0:fe.toArray())??[],We=new Set($e.map(Ar=>Ar.id)),yt=new Set(De.map(Ar=>Ar.id)),Gt={};De.forEach(Ar=>{const on=(Ar.nome||Ar.name||"").toLowerCase().trim();Gt[on]||(Gt[on]=[]),Gt[on].push(Ar)});const Cr=Object.entries(Gt).filter(([Ar,on])=>on.length>1).map(([Ar,on])=>({id:on[0].id,nome:on[0].nome||on[0].name||"Sem nome",count:on.length,allIds:on.map(re=>re.id)})),Hr=xe.filter(Ar=>!We.has(Ar.deposit_id)||!yt.has(Ar.product_id)),dn=Me.filter(Ar=>!We.has(Ar.depositoId)||!yt.has(Ar.productId)).map(Ar=>({product_id:Ar.productId,deposit_id:Ar.depositoId}));pe({duplicateProducts:Cr,orphanStock:Hr,orphanPricing:dn})}catch(De){console.error("Erro ao analisar dados:",De),alert("Erro ao analisar dados rfos.")}finally{ft(!1)}},[]),En=async()=>{Ke(!0),await kt()},In=async()=>{var De,$e,xe,Me;if(!(!(tt!=null&&tt.duplicateProducts.length)||!confirm(`Isso ir manter apenas 1 produto de cada nome duplicado e remover os outros.

Produtos afetados: ${tt.duplicateProducts.map(We=>`${We.nome} (${We.count}x)`).join(", ")}

Deseja continuar?`))){ft(!0);try{const We=await Or.products.toArray(),yt={};We.forEach(Cr=>{const Hr=(Cr.nome||Cr.name||"").toLowerCase().trim();yt[Hr]||(yt[Hr]=[]),yt[Hr].push(Cr)});let Gt=0;for(const[Cr,Hr]of Object.entries(yt))if(Hr.length>1){const dn=Hr.slice(1).map(Ar=>Ar.id);for(const Ar of dn){await Or.products.delete(Ar);const on=await((De=Or.stock_balance)==null?void 0:De.filter(ut=>ut.product_id===Ar).toArray())??[];for(const ut of on)await(($e=Or.stock_balance)==null?void 0:$e.delete(ut.id));const re=await((xe=Or.product_pricing)==null?void 0:xe.filter(ut=>ut.product_id===Ar).toArray())??[];for(const ut of re)await((Me=Or.product_pricing)==null?void 0:Me.delete(ut.id));Gt++}}alert(`${Gt} produto(s) duplicado(s) removido(s) com sucesso!`),await kt()}catch(We){console.error("Erro ao limpar duplicados:",We),alert("Erro ao limpar produtos duplicados.")}finally{ft(!1)}}},an=async()=>{var De,$e;if(!(!(tt!=null&&tt.orphanStock.length)||!confirm(`Isso ir remover ${tt.orphanStock.length} registro(s) de estoque rfo.

Deseja continuar?`))){ft(!0);try{const xe=await((De=Or.stock_balance)==null?void 0:De.toArray())??[];for(const Me of tt.orphanStock){const We=xe.find(yt=>yt.deposit_id===Me.deposit_id&&yt.product_id===Me.product_id);We!=null&&We.id&&await(($e=Or.stock_balance)==null?void 0:$e.delete(We.id))}alert("Estoque rfo removido com sucesso!"),await kt()}catch(xe){console.error("Erro ao limpar estoque rfo:",xe),alert("Erro ao limpar estoque rfo.")}finally{ft(!1)}}},Wr=async()=>{var De,$e;if(!(!(tt!=null&&tt.orphanPricing.length)||!confirm(`Isso ir remover ${tt.orphanPricing.length} registro(s) de preo rfo.

Deseja continuar?`))){ft(!0);try{const xe=await((De=Or.product_pricing)==null?void 0:De.toArray())??[];for(const Me of tt.orphanPricing){const We=xe.find(yt=>yt.productId===Me.product_id&&yt.depositoId===Me.deposit_id);We!=null&&We.id&&await(($e=Or.product_pricing)==null?void 0:$e.delete(We.id))}alert("Preos rfos removidos com sucesso!"),await kt()}catch(xe){console.error("Erro ao limpar preos rfos:",xe),alert("Erro ao limpar preos rfos.")}finally{ft(!1)}}},Pr=async()=>{if(((tt==null?void 0:tt.duplicateProducts.length)||0)+((tt==null?void 0:tt.orphanStock.length)||0)+((tt==null?void 0:tt.orphanPricing.length)||0)===0){alert("Nenhum dado rfo encontrado!");return}if(confirm(`Isso ir limpar TODOS os dados rfos:

 ${(tt==null?void 0:tt.duplicateProducts.length)||0} produto(s) duplicado(s)
 ${(tt==null?void 0:tt.orphanStock.length)||0} registro(s) de estoque rfo
 ${(tt==null?void 0:tt.orphanPricing.length)||0} registro(s) de preo rfo

Deseja continuar?`)){ft(!0);try{tt!=null&&tt.duplicateProducts.length&&await In(),tt!=null&&tt.orphanStock.length&&await an(),tt!=null&&tt.orphanPricing.length&&await Wr(),alert("Todos os dados rfos foram limpos!")}catch($e){console.error("Erro ao limpar dados:",$e)}finally{ft(!1)}}};return a.jsxs("div",{className:"fixed inset-0 bg-app z-50 flex flex-col animate-in slide-in-from-bottom-4 duration-300",children:[a.jsxs("header",{className:"bg-surface border-b border-bdr px-6 py-4 flex justify-between items-center shadow-sm shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"bg-purple-500/10 p-3 rounded-2xl border border-purple-500/20",children:a.jsx(Dc,{className:"w-6 h-6 text-purple-600"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-black text-txt-main tracking-tight",children:"Depsitos & Estoque"}),a.jsx("p",{className:"text-xs text-txt-muted font-bold uppercase tracking-widest",children:"Gesto Central"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[gt&&a.jsx("button",{onClick:En,className:"p-2 hover:bg-orange-500/10 hover:text-orange-500 rounded-full text-txt-muted transition-colors",title:"Manuteno de Dados",children:a.jsx(vd,{className:"w-5 h-5"})}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-red-500/10 hover:text-red-500 rounded-full text-txt-muted transition-colors",children:a.jsx(qn,{className:"w-6 h-6"})})]})]}),a.jsx("nav",{className:"bg-surface border-b border-bdr px-6",children:a.jsx("div",{className:"flex gap-8 overflow-x-auto",children:[{id:"cadastro",label:"Depsitos",icon:Dc},{id:"produtos",label:"Produtos",icon:Pp},{id:"estoque",label:"Estoque",icon:lo},{id:"transferencia",label:"Transferncia",icon:x0},{id:"contagem",label:"Contagem",icon:qb}].map(fe=>a.jsxs("button",{onClick:()=>n(fe.id),className:`pb-4 pt-4 text-sm font-black uppercase tracking-widest border-b-4 transition-all flex items-center gap-2 ${r===fe.id?"border-purple-500 text-purple-600":"border-transparent text-txt-muted hover:text-txt-main"}`,children:[a.jsx(fe.icon,{className:"w-4 h-4"}),fe.label]},fe.id))})}),a.jsx("main",{className:"flex-1 overflow-y-auto p-6 bg-app",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[r==="cadastro"&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[400px_1fr] gap-6",children:[a.jsxs("div",{className:"bg-surface rounded-2xl border border-bdr overflow-hidden",children:[a.jsxs("div",{className:"p-4 border-b border-bdr bg-app/50 flex items-center justify-between",children:[a.jsxs("h3",{className:"text-sm font-black text-txt-main uppercase tracking-wide",children:["Depsitos (",Ct.length,")"]}),gt&&a.jsxs("button",{onClick:or,className:"bg-purple-500 hover:bg-purple-600 text-white px-3 py-1.5 rounded-lg text-xs font-black flex items-center gap-1.5 transition-colors",children:[a.jsx(Ao,{className:"w-3.5 h-3.5"}),"Novo"]})]}),a.jsx("div",{className:"p-3 border-b border-bdr",children:a.jsxs("div",{className:"relative",children:[a.jsx(rA,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-txt-muted"}),a.jsx("input",{type:"text",placeholder:"Buscar depsito...",value:g,onChange:fe=>b(fe.target.value),className:"w-full pl-9 pr-4 py-2 bg-app border border-bdr rounded-lg text-sm focus:ring-2 focus:ring-purple-500/20 outline-none"})]})}),a.jsx("div",{className:"divide-y divide-bdr max-h-[500px] overflow-y-auto",children:_r.length===0?a.jsxs("div",{className:"p-8 text-center text-txt-muted",children:[a.jsx(Dc,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),a.jsx("p",{className:"font-bold",children:"Nenhum depsito encontrado"})]}):_r.map(fe=>{const De=ir.filter(xe=>xe.depositoId===fe.id).length,$e=Object.values($t[fe.id]||{}).reduce((xe,Me)=>xe+Me,0);return a.jsx("div",{className:`p-4 hover:bg-app/50 transition-colors ${fe.ativo===!1?"opacity-50":""}`,children:a.jsxs("div",{className:"flex items-start justify-between gap-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center border-2",style:{backgroundColor:`${fe.cor||"#6366f1"}20`,borderColor:fe.cor||"#6366f1"},children:a.jsx(Dc,{className:"w-5 h-5",style:{color:fe.cor||"#6366f1"}})}),a.jsxs("div",{children:[a.jsxs("h4",{className:"font-bold text-txt-main flex items-center gap-2",children:[fe.nome,fe.ativo===!1&&a.jsx("span",{className:"text-[10px] bg-red-500/10 text-red-500 px-1.5 py-0.5 rounded font-black uppercase",children:"Inativo"})]}),fe.endereco&&a.jsxs("p",{className:"text-xs text-txt-muted flex items-center gap-1 mt-0.5",children:[a.jsx(IA,{className:"w-3 h-3"}),fe.endereco]}),a.jsxs("div",{className:"flex gap-3 mt-1.5",children:[a.jsxs("span",{className:"text-[10px] font-bold text-txt-muted bg-app px-1.5 py-0.5 rounded",children:[De," colaborador",De!==1?"es":""]}),a.jsxs("span",{className:"text-[10px] font-bold text-txt-muted bg-app px-1.5 py-0.5 rounded",children:[$e," itens estoque"]})]})]})]}),gt&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("button",{onClick:()=>Ht(fe),className:"p-2 hover:bg-blue-500/10 text-blue-500 rounded-lg transition-colors",title:"Editar",children:a.jsx(Xh,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>Mt(fe),className:"p-2 hover:bg-red-500/10 text-red-500 rounded-lg transition-colors",title:"Excluir",children:a.jsx(aa,{className:"w-4 h-4"})})]})]})},fe.id)})})]}),a.jsxs("div",{className:"bg-surface rounded-2xl border border-bdr overflow-hidden",children:[a.jsx("div",{className:"p-4 border-b border-bdr bg-app/50",children:a.jsx("h3",{className:"text-sm font-black text-txt-main uppercase tracking-wide",children:u?i.id?"Editar Depsito":"Novo Depsito":"Detalhes do Depsito"})}),gt?u?a.jsxs("div",{className:"p-6 space-y-5",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-black text-txt-muted uppercase mb-2",children:"Nome do Depsito *"}),a.jsx("input",{type:"text",value:i.nome,onChange:fe=>l({...i,nome:fe.target.value}),placeholder:"Ex: Matriz, Filial Centro...",className:"w-full bg-app border border-bdr rounded-xl p-3 text-sm font-bold focus:ring-2 focus:ring-purple-500/20 outline-none"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"col-span-2",children:[a.jsx("label",{className:"block text-xs font-black text-txt-muted uppercase mb-2",children:"Endereo"}),a.jsxs("div",{className:"relative",children:[a.jsx(IA,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-txt-muted"}),a.jsx("input",{type:"text",value:i.endereco||"",onChange:fe=>l({...i,endereco:fe.target.value}),placeholder:"Rua, Bairro...",className:"w-full pl-10 bg-app border border-bdr rounded-xl p-3 text-sm font-bold focus:ring-2 focus:ring-purple-500/20 outline-none"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-black text-txt-muted uppercase mb-2",children:"Nmero"}),a.jsxs("div",{className:"relative",children:[a.jsx(SS,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-txt-muted"}),a.jsx("input",{type:"text",value:i.numero||"",onChange:fe=>l({...i,numero:fe.target.value}),placeholder:"123",className:"w-full pl-10 bg-app border border-bdr rounded-xl p-3 text-sm font-bold focus:ring-2 focus:ring-purple-500/20 outline-none"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-black text-txt-muted uppercase mb-2",children:"Cor de Identificao"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex gap-2",children:h7.map(fe=>a.jsx("button",{onClick:()=>l({...i,cor:fe}),className:`w-8 h-8 rounded-lg transition-transform ${i.cor===fe?"scale-110 ring-2 ring-offset-2 ring-purple-500":"hover:scale-105"}`,style:{backgroundColor:fe}},fe))}),a.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[a.jsx(Em,{className:"w-4 h-4 text-txt-muted"}),a.jsx("input",{type:"color",value:i.cor||"#6366f1",onChange:fe=>l({...i,cor:fe.target.value}),className:"w-10 h-8 rounded cursor-pointer"})]})]})]}),a.jsxs("div",{className:"space-y-3 pt-2",children:[a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 bg-app rounded-xl border border-bdr hover:border-purple-500/30 transition-colors",children:[a.jsx("input",{type:"checkbox",checked:i.ativo,onChange:fe=>l({...i,ativo:fe.target.checked}),className:"w-5 h-5 rounded text-purple-500 focus:ring-purple-500"}),a.jsxs("div",{children:[a.jsx("span",{className:"font-bold text-sm text-txt-main",children:"Depsito Ativo"}),a.jsx("p",{className:"text-xs text-txt-muted",children:"Desmarque para desativar temporariamente"})]})]}),a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 bg-app rounded-xl border border-bdr hover:border-purple-500/30 transition-colors",children:[a.jsx("input",{type:"checkbox",checked:i.require_stock_audit||!1,onChange:fe=>l({...i,require_stock_audit:fe.target.checked}),className:"w-5 h-5 rounded text-purple-500 focus:ring-purple-500"}),a.jsxs("div",{children:[a.jsx("span",{className:"font-bold text-sm text-txt-main",children:"Exigir Contagem no Fechamento"}),a.jsx("p",{className:"text-xs text-txt-muted",children:"Operadores precisam contar estoque ao fechar caixa"})]})]})]}),a.jsxs("div",{className:"flex gap-3 pt-4 border-t border-bdr",children:[a.jsx("button",{onClick:Kt,className:"flex-1 px-4 py-3 border border-bdr rounded-xl font-bold text-txt-muted hover:bg-app transition-colors",children:"Cancelar"}),a.jsx("button",{onClick:kr,disabled:h||!i.nome.trim(),className:"flex-1 bg-purple-500 hover:bg-purple-600 disabled:opacity-50 text-white px-4 py-3 rounded-xl font-black flex items-center justify-center gap-2 transition-colors",children:h?a.jsx(Yo,{className:"w-5 h-5 animate-spin"}):a.jsxs(a.Fragment,{children:[a.jsx(tl,{className:"w-5 h-5"}),"Salvar"]})})]})]}):a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(Dc,{className:"w-12 h-12 mx-auto mb-3 text-txt-muted opacity-30"}),a.jsx("p",{className:"font-bold text-txt-main",children:"Nenhum Depsito Selecionado"}),a.jsx("p",{className:"text-sm text-txt-muted mt-1",children:'Clique em "Novo" ou selecione um depsito para editar.'})]}):a.jsxs("div",{className:"p-8 text-center",children:[a.jsx($c,{className:"w-12 h-12 mx-auto mb-3 text-amber-500"}),a.jsx("p",{className:"font-bold text-txt-main",children:"Acesso Restrito"}),a.jsx("p",{className:"text-sm text-txt-muted mt-1",children:"Apenas gerentes podem criar ou editar depsitos."})]})]})]}),r==="produtos"&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[400px_1fr] gap-6",children:[a.jsxs("div",{className:"bg-surface rounded-2xl border border-bdr overflow-hidden",children:[a.jsxs("div",{className:"p-4 border-b border-bdr bg-app/50 flex items-center justify-between",children:[a.jsxs("h3",{className:"text-sm font-black text-txt-main uppercase tracking-wide",children:["Produtos (",Rt.length,")"]}),gt&&a.jsxs("button",{onClick:Ue,className:"bg-purple-500 hover:bg-purple-600 text-white px-3 py-1.5 rounded-lg text-xs font-black flex items-center gap-1.5 transition-colors",children:[a.jsx(Ao,{className:"w-3.5 h-3.5"}),"Novo"]})]}),a.jsx("div",{className:"p-3 border-b border-bdr",children:a.jsxs("div",{className:"relative",children:[a.jsx(rA,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-txt-muted"}),a.jsx("input",{type:"text",placeholder:"Buscar produto...",value:I,onChange:fe=>O(fe.target.value),className:"w-full pl-9 pr-4 py-2 bg-app border border-bdr rounded-lg text-sm focus:ring-2 focus:ring-purple-500/20 outline-none"})]})}),a.jsx("div",{className:"max-h-[500px] overflow-y-auto",children:nr.length===0?a.jsxs("div",{className:"p-8 text-center text-txt-muted",children:[a.jsx(Pp,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),a.jsx("p",{className:"text-sm",children:"Nenhum produto encontrado"})]}):nr.map(fe=>{var De,$e;return a.jsx("div",{className:`p-4 border-b border-bdr hover:bg-app/50 cursor-pointer transition-colors ${N.id===fe.id?"bg-purple-500/10 border-l-4 border-l-purple-500":""} ${fe.ativo?"":"opacity-50"}`,onClick:()=>Xe(fe),children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-xl",children:((De=T5.find(xe=>xe.value===fe.tipo))==null?void 0:De.icon)||""}),a.jsxs("div",{children:[a.jsxs("div",{className:"font-bold text-txt-main flex items-center gap-2",children:[fe.nome,!fe.ativo&&a.jsx("span",{className:"text-[10px] bg-red-500/20 text-red-400 px-1.5 py-0.5 rounded font-bold",children:"INATIVO"})]}),a.jsxs("div",{className:"text-xs text-txt-muted flex items-center gap-2 mt-0.5",children:[a.jsx("span",{children:fe.codigo||"Sem cdigo"}),a.jsx("span",{children:""}),a.jsx("span",{className:"flex items-center gap-1",children:(($e=I5.find(xe=>xe.value===fe.movement_type))==null?void 0:$e.label)||"Simples"})]})]})]}),a.jsxs("div",{className:"text-right",children:[fe.movement_type==="EXCHANGE"?a.jsxs("div",{className:"space-y-0.5",children:[a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsx("span",{className:"text-[10px] text-yellow-400 font-bold bg-yellow-500/10 px-1.5 py-0.5 rounded",children:"TROCA"}),a.jsxs("span",{className:"font-bold text-green-500",children:["R$ ",(fe.preco_troca??fe.preco_venda??0).toFixed(2)]})]}),a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsx("span",{className:"text-[10px] text-blue-400 font-bold bg-blue-500/10 px-1.5 py-0.5 rounded",children:"COMPLETA"}),a.jsxs("span",{className:"font-bold text-blue-400",children:["R$ ",(fe.preco_completa??fe.preco_venda??0).toFixed(2)]})]})]}):a.jsxs("div",{className:"font-bold text-green-500",children:["R$ ",(fe.preco_venda||0).toFixed(2)]}),fe.track_stock&&a.jsx("div",{className:"text-[10px] text-txt-muted",children:"Controla estoque"})]})]})},fe.id)})})]}),a.jsx("div",{className:"bg-surface rounded-2xl border border-bdr overflow-hidden",children:C?a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsxs("div",{className:"p-4 border-b border-bdr bg-app/50 flex items-center justify-between",children:[a.jsx("h3",{className:"text-sm font-black text-txt-main uppercase tracking-wide",children:N.id?"Editar Produto":"Novo Produto"}),a.jsx("button",{onClick:at,className:"text-txt-muted hover:text-red-500 transition-colors",children:a.jsx(qn,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"p-6 space-y-5 flex-1 overflow-y-auto",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-txt-muted uppercase tracking-wide mb-2",children:"Nome *"}),a.jsx("input",{type:"text",value:N.nome,onChange:fe=>w(De=>({...De,nome:fe.target.value})),className:"w-full px-4 py-3 bg-app border border-bdr rounded-xl focus:ring-2 focus:ring-purple-500/20 outline-none",placeholder:"Ex: Gs P13"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-txt-muted uppercase tracking-wide mb-2",children:"Cdigo/SKU"}),a.jsx("input",{type:"text",value:N.codigo,onChange:fe=>w(De=>({...De,codigo:fe.target.value})),className:"w-full px-4 py-3 bg-app border border-bdr rounded-xl focus:ring-2 focus:ring-purple-500/20 outline-none",placeholder:"Ex: GAS-P13"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-txt-muted uppercase tracking-wide mb-2",children:"Tipo do Produto"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:T5.map(fe=>a.jsxs("button",{type:"button",onClick:()=>w(De=>({...De,tipo:fe.value,movement_type:fe.value==="GAS_CHEIO"?"EXCHANGE":De.movement_type})),className:`p-3 rounded-xl border-2 transition-all text-center ${N.tipo===fe.value?"border-purple-500 bg-purple-500/10":"border-bdr hover:border-purple-500/50"}`,children:[a.jsx("span",{className:"text-2xl block mb-1",children:fe.icon}),a.jsx("span",{className:"text-xs font-bold",children:fe.label})]},fe.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-txt-muted uppercase tracking-wide mb-2",children:"Tipo de Movimento (Regra de Estoque)"}),a.jsx("div",{className:"space-y-2",children:I5.map(fe=>a.jsxs("button",{type:"button",onClick:()=>w(De=>({...De,movement_type:fe.value,return_product_id:fe.value==="EXCHANGE"?De.return_product_id:null})),className:`w-full p-4 rounded-xl border-2 transition-all text-left flex items-center gap-4 ${N.movement_type===fe.value?"border-purple-500 bg-purple-500/10":"border-bdr hover:border-purple-500/50"}`,children:[a.jsx(fe.icon,{className:`w-6 h-6 ${N.movement_type===fe.value?"text-purple-500":"text-txt-muted"}`}),a.jsxs("div",{children:[a.jsx("div",{className:"font-bold text-sm",children:fe.label}),a.jsx("div",{className:"text-xs text-txt-muted",children:fe.desc})]}),N.movement_type===fe.value&&a.jsx(hc,{className:"w-5 h-5 text-purple-500 ml-auto"})]},fe.value))})]}),N.movement_type==="EXCHANGE"&&a.jsxs("div",{children:[a.jsxs("label",{className:"block text-xs font-bold text-txt-muted uppercase tracking-wide mb-2",children:[a.jsx($c,{className:"w-3 h-3 inline mr-1 text-yellow-500"}),"Vasilhame Vazio Vinculado *"]}),a.jsxs("select",{value:N.return_product_id||"",onChange:fe=>w(De=>({...De,return_product_id:fe.target.value||null})),className:"w-full px-4 py-3 bg-app border border-bdr rounded-xl focus:ring-2 focus:ring-purple-500/20 outline-none",children:[a.jsx("option",{value:"",children:"-- Selecione o vasilhame vazio --"}),xr.map(fe=>a.jsx("option",{value:fe.id,children:fe.nome},fe.id))]}),xr.length===0&&a.jsx("p",{className:"text-xs text-yellow-500 mt-2",children:' Nenhum vasilhame vazio cadastrado. Crie primeiro um produto do tipo "Vasilhame Vazio".'})]}),N.movement_type==="EXCHANGE"&&a.jsxs("div",{className:"space-y-4 p-4 bg-purple-500/5 rounded-xl border border-purple-500/20",children:[a.jsx("p",{className:"text-xs font-bold text-txt-muted uppercase",children:"Preos Especficos por Modalidade"}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-xs font-bold text-yellow-400 uppercase tracking-wide mb-2",children:[a.jsx("span",{className:"inline-block w-2 h-2 bg-yellow-400 rounded-full mr-1"}),"Preo TROCA (Cliente devolve casco) - R$"]}),a.jsx("input",{type:"text",inputMode:"decimal",value:N.preco_troca||"",onChange:fe=>{const De=fe.target.value.replace(",",".");(De===""||/^\d*\.?\d*$/.test(De))&&w($e=>({...$e,preco_troca:De===""?null:parseFloat(De)||null}))},placeholder:"0.00",className:"w-full px-4 py-3 bg-app border border-bdr rounded-xl focus:ring-2 focus:ring-yellow-500/20 outline-none"}),a.jsx("p",{className:"text-[10px] text-txt-muted mt-1",children:"Preo cobrado quando cliente devolve o vasilhame vazio"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-xs font-bold text-blue-400 uppercase tracking-wide mb-2",children:[a.jsx("span",{className:"inline-block w-2 h-2 bg-blue-400 rounded-full mr-1"}),"Preo COMPLETA (Cliente leva casco novo) - R$"]}),a.jsx("input",{type:"text",inputMode:"decimal",value:N.preco_completa||"",onChange:fe=>{const De=fe.target.value.replace(",",".");(De===""||/^\d*\.?\d*$/.test(De))&&w($e=>({...$e,preco_completa:De===""?null:parseFloat(De)||null}))},placeholder:"0.00",className:"w-full px-4 py-3 bg-app border border-bdr rounded-xl focus:ring-2 focus:ring-blue-500/20 outline-none"}),a.jsx("p",{className:"text-[10px] text-txt-muted mt-1",children:"Preo cobrado quando cliente leva o vasilhame cheio (sem devoluo)"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-txt-muted uppercase tracking-wide mb-2",children:"Preo de Custo (R$)"}),a.jsx("input",{type:"text",inputMode:"decimal",value:N.preco_custo||"",onChange:fe=>{const De=fe.target.value.replace(",",".");(De===""||/^\d*\.?\d*$/.test(De))&&w($e=>({...$e,preco_custo:De===""?0:parseFloat(De)||0}))},placeholder:"0.00",className:"w-full px-4 py-3 bg-app border border-bdr rounded-xl focus:ring-2 focus:ring-purple-500/20 outline-none"}),a.jsx("p",{className:"text-[10px] text-txt-muted mt-1",children:"Custo de aquisio do produto (valor global)"})]}),N.preco_custo>0&&Object.values(z).some(fe=>typeof fe.price=="number"&&fe.price>0)&&a.jsxs("div",{className:"bg-app rounded-xl p-4 border border-bdr",children:[a.jsx("div",{className:"text-xs text-txt-muted uppercase tracking-wide mb-1",children:"Margem de Lucro (estimada)"}),a.jsxs("div",{className:"text-2xl font-black text-green-500",children:[(()=>{var De;return((((De=Object.values(z).find($e=>typeof $e.price=="number"&&$e.price>0))==null?void 0:De.price)-N.preco_custo)/N.preco_custo*100).toFixed(1)})(),"%"]}),a.jsx("p",{className:"text-[10px] text-txt-muted mt-1",children:"Baseado no primeiro depsito com preo"})]}),a.jsxs("div",{className:"space-y-3 border-t border-bdr pt-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-txt-muted uppercase",children:"Preos por Depsito"}),a.jsx("p",{className:"text-xs text-txt-muted",children:"Cada depsito pode ter um preo diferente."})]}),ge&&a.jsx(Yo,{className:"w-4 h-4 text-purple-500 animate-spin"})]}),It.length===0?a.jsx("p",{className:"text-xs text-txt-muted",children:"Cadastre ao menos um depsito para definir preos."}):a.jsx("div",{className:"space-y-3",children:It.map(fe=>{const De=z[fe.id]||Zt();return a.jsx("div",{className:"p-4 rounded-xl border border-bdr bg-app",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2 min-w-[140px]",children:[a.jsx("span",{className:"inline-block w-3 h-3 rounded-full",style:{backgroundColor:fe.cor||"#8b5cf6"}}),a.jsx("p",{className:"font-bold text-txt-main text-sm",children:fe.nome})]}),a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500 text-sm font-bold",children:"R$"}),a.jsx("input",{type:"number",step:"0.01",value:De.price===""?"":De.price,onChange:$e=>gr(fe.id,"price",$e.target.value),className:"w-full bg-white text-slate-900 border-2 border-amber-200 rounded-xl p-3 pl-10 text-sm font-bold outline-none",placeholder:"0.00"})]})})]})},fe.id)})})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:N.track_stock,onChange:fe=>w(De=>({...De,track_stock:fe.target.checked})),className:"w-5 h-5 rounded border-bdr text-purple-500 focus:ring-purple-500"}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-txt-main",children:"Controlar Estoque"}),a.jsx("p",{className:"text-xs text-txt-muted",children:"Movimentaes afetam o saldo de estoque"})]})]}),a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:N.ativo,onChange:fe=>w(De=>({...De,ativo:fe.target.checked})),className:"w-5 h-5 rounded border-bdr text-purple-500 focus:ring-purple-500"}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-txt-main",children:"Produto Ativo"}),a.jsx("p",{className:"text-xs text-txt-muted",children:"Disponvel para vendas"})]})]})]})]}),a.jsxs("div",{className:"p-4 border-t border-bdr bg-app/50 flex justify-between items-center",children:[N.id&&gt?a.jsxs("button",{onClick:()=>ne(Rt.find(fe=>fe.id===N.id)||null),className:"px-4 py-2 text-red-500 hover:bg-red-500/10 rounded-lg font-bold text-sm flex items-center gap-2",children:[a.jsx(aa,{className:"w-4 h-4"}),"Excluir"]}):a.jsx("div",{}),a.jsxs("button",{onClick:dt,disabled:T,className:"px-6 py-2 bg-purple-500 hover:bg-purple-600 disabled:opacity-50 text-white font-black rounded-lg flex items-center gap-2 transition-colors",children:[T?a.jsx(Yo,{className:"w-4 h-4 animate-spin"}):a.jsx(tl,{className:"w-4 h-4"}),"Salvar Produto"]})]})]}):a.jsxs("div",{className:"p-12 text-center text-txt-muted",children:[a.jsx(Pp,{className:"w-16 h-16 mx-auto mb-4 opacity-20"}),a.jsx("p",{className:"text-sm font-medium",children:"Selecione um produto para editar"}),a.jsx("p",{className:"text-xs mt-1",children:'ou clique em "Novo" para criar'})]})})]}),r==="estoque"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:It.map(fe=>{const De=$t[fe.id]||{},$e=Object.values(De).reduce((Me,We)=>Me+We,0),xe=Object.keys(De).filter(Me=>De[Me]>0).length;return a.jsxs("div",{className:"bg-surface p-4 rounded-xl border border-bdr",style:{borderLeftColor:fe.cor,borderLeftWidth:4},children:[a.jsx("h4",{className:"font-bold text-txt-main text-sm",children:fe.nome}),a.jsxs("div",{className:"mt-2 space-y-1",children:[a.jsx("p",{className:"text-2xl font-black text-txt-main",children:$e}),a.jsxs("p",{className:"text-xs text-txt-muted",children:[xe," produto(s) em estoque"]})]})]},fe.id)})}),a.jsxs("div",{className:"bg-surface rounded-2xl border border-bdr overflow-hidden",children:[a.jsx("div",{className:"p-4 border-b border-bdr bg-app/50",children:a.jsx("h3",{className:"text-sm font-black text-txt-main uppercase tracking-wide",children:"Estoque por Produto"})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"bg-app border-b border-bdr",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left px-4 py-3 font-black text-txt-muted uppercase text-xs",children:"Produto"}),It.map(fe=>a.jsx("th",{className:"text-center px-4 py-3 font-black text-txt-muted uppercase text-xs",style:{color:fe.cor},children:fe.nome},fe.id)),a.jsx("th",{className:"text-center px-4 py-3 font-black text-txt-muted uppercase text-xs bg-purple-500/10",children:"Total"})]})}),a.jsx("tbody",{className:"divide-y divide-bdr",children:Ie.map(fe=>{const De=It.reduce(($e,xe)=>{var Me;return $e+(((Me=$t[xe.id])==null?void 0:Me[fe.id])??0)},0);return a.jsxs("tr",{className:"hover:bg-app/30",children:[a.jsx("td",{className:"px-4 py-3 font-bold text-txt-main",children:fe.nome}),It.map($e=>{var Me;const xe=((Me=$t[$e.id])==null?void 0:Me[fe.id])??0;return a.jsx("td",{className:`text-center px-4 py-3 font-mono ${xe===0?"text-txt-muted":xe<=5?"text-red-500 font-bold":"text-txt-main"}`,children:xe},$e.id)}),a.jsx("td",{className:"text-center px-4 py-3 font-black text-purple-600 bg-purple-500/5",children:De})]},fe.id)})})]})})]})]}),r==="transferencia"&&a.jsx("div",{className:"max-w-2xl mx-auto",children:a.jsxs("div",{className:"bg-surface rounded-2xl border border-bdr overflow-hidden",children:[a.jsxs("div",{className:"p-4 border-b border-bdr bg-app/50 flex items-center gap-3",children:[a.jsx(x0,{className:"w-5 h-5 text-purple-500"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-black text-txt-main uppercase tracking-wide",children:"Transferncia entre Depsitos"}),a.jsx("p",{className:"text-xs text-txt-muted",children:"Move estoque de um depsito para outro"})]})]}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-[1fr_auto_1fr] gap-4 items-end",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-black text-txt-muted uppercase mb-2",children:"Origem (Sai)"}),a.jsxs("select",{value:W.originId,onChange:fe=>ae({...W,originId:fe.target.value}),className:"w-full bg-app border border-bdr rounded-xl p-3 text-sm font-bold focus:ring-2 focus:ring-purple-500/20 outline-none",children:[a.jsx("option",{value:"",children:"Selecione..."}),It.map(fe=>a.jsx("option",{value:fe.id,children:fe.nome},fe.id))]})]}),a.jsx("div",{className:"flex items-center justify-center pb-3",children:a.jsx(Hb,{className:"w-6 h-6 text-txt-muted"})}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-black text-txt-muted uppercase mb-2",children:"Destino (Entra)"}),a.jsxs("select",{value:W.destId,onChange:fe=>ae({...W,destId:fe.target.value}),className:"w-full bg-app border border-bdr rounded-xl p-3 text-sm font-bold focus:ring-2 focus:ring-purple-500/20 outline-none",children:[a.jsx("option",{value:"",children:"Selecione..."}),It.filter(fe=>fe.id!==W.originId).map(fe=>a.jsx("option",{value:fe.id,children:fe.nome},fe.id))]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-black text-txt-muted uppercase mb-2",children:"Produto"}),a.jsxs("select",{value:W.productId,onChange:fe=>ae({...W,productId:fe.target.value}),className:"w-full bg-app border border-bdr rounded-xl p-3 text-sm font-bold focus:ring-2 focus:ring-purple-500/20 outline-none",children:[a.jsx("option",{value:"",children:"Selecione o produto..."}),Ie.map(fe=>{var $e;const De=(($e=$t[W.originId])==null?void 0:$e[fe.id])??0;return a.jsxs("option",{value:fe.id,disabled:De===0,children:[fe.nome," ",W.originId?`(Disp: ${De})`:""]},fe.id)})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-black text-txt-muted uppercase mb-2",children:"Quantidade"}),a.jsx("input",{type:"number",min:"1",max:((Ut=$t[W.originId])==null?void 0:Ut[W.productId])??999,value:W.quantidade,onChange:fe=>ae({...W,quantidade:parseInt(fe.target.value)||0}),className:"w-full bg-app border border-bdr rounded-xl p-3 text-sm font-bold focus:ring-2 focus:ring-purple-500/20 outline-none"}),W.originId&&W.productId&&a.jsxs("p",{className:"text-xs text-txt-muted mt-1",children:["Disponvel na origem: ",a.jsx("strong",{children:((nn=$t[W.originId])==null?void 0:nn[W.productId])??0})]})]}),a.jsx("button",{onClick:Jt,disabled:K||!W.originId||!W.destId||!W.productId||W.quantidade<=0,className:"w-full bg-purple-500 hover:bg-purple-600 disabled:opacity-50 text-white px-4 py-3 rounded-xl font-black flex items-center justify-center gap-2 transition-colors",children:K?a.jsx(Yo,{className:"w-5 h-5 animate-spin"}):a.jsxs(a.Fragment,{children:[a.jsx(x0,{className:"w-5 h-5"}),"Confirmar Transferncia"]})})]})]})}),r==="contagem"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-surface rounded-xl border border-bdr p-4 flex items-center gap-4",children:[a.jsx("label",{className:"text-sm font-black text-txt-muted uppercase",children:"Depsito:"}),a.jsxs("select",{value:Q.depositId,onChange:fe=>Ae({depositId:fe.target.value,counts:{}}),className:"flex-1 max-w-xs bg-app border border-bdr rounded-lg p-2 text-sm font-bold focus:ring-2 focus:ring-purple-500/20 outline-none",children:[a.jsx("option",{value:"",children:"Selecione um depsito..."}),It.map(fe=>a.jsx("option",{value:fe.id,children:fe.nome},fe.id))]}),Q.depositId&&a.jsxs("button",{onClick:()=>Ae({depositId:Q.depositId,counts:{}}),className:"text-sm font-bold text-txt-muted hover:text-txt-main flex items-center gap-1",children:[a.jsx(Rh,{className:"w-4 h-4"}),"Limpar"]})]}),a.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-xl p-4 flex items-start gap-3",children:[a.jsx(lo,{className:"w-5 h-5 text-blue-500 shrink-0 mt-0.5"}),a.jsxs("div",{className:"text-sm text-txt-main",children:[a.jsx("p",{className:"font-bold text-blue-600 mb-1",children:"Contagem de Estoque"}),a.jsxs("ul",{className:"text-txt-muted space-y-1 text-xs",children:[a.jsxs("li",{children:[" ",a.jsx("strong",{className:"text-purple-400",children:"Carga Inicial"}),": Quando o sistema est zerado, voc est cadastrando seu estoque pela primeira vez"]}),a.jsxs("li",{children:[" ",a.jsx("strong",{className:"text-emerald-400",children:"Ajuste"}),": Quando j existe saldo, a diferena ser registrada como sobra ou falta"]})]})]})]}),Q.depositId&&a.jsxs("div",{className:"bg-surface rounded-2xl border border-bdr overflow-hidden",children:[a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"bg-app border-b border-bdr",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left px-4 py-3 font-black text-txt-muted uppercase text-xs",children:"Produto"}),a.jsx("th",{className:"text-center px-4 py-3 font-black text-txt-muted uppercase text-xs w-32",children:"Sistema"}),a.jsx("th",{className:"text-center px-4 py-3 font-black text-purple-600 uppercase text-xs w-40 bg-purple-500/5",children:"Contagem"}),a.jsx("th",{className:"text-center px-4 py-3 font-black text-txt-muted uppercase text-xs w-32",children:"Diferena"}),a.jsx("th",{className:"text-center px-4 py-3 font-black text-txt-muted uppercase text-xs w-24",children:"Status"})]})}),a.jsx("tbody",{className:"divide-y divide-bdr",children:Ie.map(fe=>{var Gt;const De=((Gt=$t[Q.depositId])==null?void 0:Gt[fe.id])??0,$e=Q.counts[fe.id],xe=$e===""||$e===void 0?null:Number($e),Me=xe!==null?xe-De:null,We=xe!==null,yt=De===0&&xe!==null&&xe>0;return a.jsxs("tr",{className:We?yt?"bg-purple-500/10":"bg-purple-500/5":"hover:bg-app/30",children:[a.jsx("td",{className:"px-4 py-3 font-bold text-txt-main",children:fe.nome}),a.jsx("td",{className:"px-4 py-3 text-center font-mono text-txt-muted",children:De}),a.jsx("td",{className:"px-4 py-3 text-center",children:a.jsx("input",{type:"number",min:"0",value:Q.counts[fe.id]??"",onChange:Cr=>br(fe.id,Cr.target.value),placeholder:"-",className:"w-24 text-center font-black text-lg bg-surface border-2 border-bdr rounded-lg py-1 focus:border-purple-500 focus:ring-4 focus:ring-purple-500/10 outline-none"})}),a.jsx("td",{className:"px-4 py-3 text-center",children:We&&Me!==null&&(yt?a.jsxs("span",{className:"font-black text-lg text-purple-500",children:["+",xe]}):a.jsxs("span",{className:`font-black text-lg ${Me>0?"text-emerald-500":Me<0?"text-red-500":"text-txt-muted"}`,children:[Me>0?"+":"",Me]}))}),a.jsx("td",{className:"px-4 py-3 text-center",children:We&&Me!==null&&(yt?a.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md bg-purple-500/20 text-purple-400 text-[10px] font-black uppercase",children:[a.jsx(lo,{className:"w-3 h-3"})," Inicial"]}):Me===0?a.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md bg-emerald-500/10 text-emerald-600 text-[10px] font-black uppercase",children:[a.jsx(hc,{className:"w-3 h-3"})," OK"]}):Me>0?a.jsx("span",{className:"inline-flex px-2 py-1 rounded-md bg-blue-500/10 text-blue-600 text-[10px] font-black uppercase",children:"Sobra"}):a.jsx("span",{className:"inline-flex px-2 py-1 rounded-md bg-red-500/10 text-red-600 text-[10px] font-black uppercase",children:"Falta"}))})]},fe.id)})})]}),a.jsxs("div",{className:"p-4 border-t border-bdr bg-app/50 flex justify-between items-center",children:[a.jsxs("div",{className:"text-sm text-txt-muted",children:["Itens contados: ",a.jsx("strong",{className:"text-txt-main",children:Object.values(Q.counts).filter(fe=>fe!==""&&fe!==void 0).length})," de ",Ie.length]}),a.jsx("button",{onClick:yn,disabled:ee||Object.values(Q.counts).filter(fe=>fe!==""&&fe!==void 0).length===0,className:"bg-purple-500 hover:bg-purple-600 disabled:opacity-50 text-white px-6 py-2.5 rounded-xl font-black flex items-center gap-2 transition-colors",children:ee?a.jsx(Yo,{className:"w-5 h-5 animate-spin"}):a.jsxs(a.Fragment,{children:[a.jsx(tl,{className:"w-5 h-5"}),"Registrar Contagem"]})})]})]})]})]})}),F&&a.jsx("div",{className:"fixed inset-0 bg-black/60 z-[60] flex items-center justify-center p-4 backdrop-blur-sm",children:a.jsxs("div",{className:"bg-surface w-full max-w-lg rounded-2xl shadow-2xl border border-bdr overflow-hidden animate-in zoom-in-95 duration-200",children:[a.jsxs("div",{className:"bg-red-500/10 px-6 py-4 border-b border-red-500/20 flex items-center gap-3",children:[a.jsx($c,{className:"w-6 h-6 text-red-500"}),a.jsx("h3",{className:"font-black text-lg text-red-600",children:"Excluir Depsito"})]}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("p",{className:"text-sm text-txt-main",children:["Voc est prestes a excluir o depsito ",a.jsx("strong",{children:F.deposit.nome}),"."]}),F.hasPendingOS&&a.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 rounded-xl p-4 flex items-start gap-3",children:[a.jsx(aw,{className:"w-5 h-5 text-red-500 shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-red-600 text-sm",children:"Excluso Bloqueada"}),a.jsx("p",{className:"text-xs text-txt-muted mt-1",children:"Existem O.S. pendentes ou em rota neste depsito. Finalize ou cancele todas as O.S. antes de excluir."})]})]}),F.hasEmployees&&!F.hasPendingOS&&a.jsxs("div",{className:"bg-amber-500/10 border border-amber-500/20 rounded-xl p-4 space-y-3",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(FA,{className:"w-5 h-5 text-amber-500 shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsxs("p",{className:"font-bold text-amber-600 text-sm",children:[F.employees.length," colaborador(es) vinculado(s)"]}),a.jsx("p",{className:"text-xs text-txt-muted mt-1",children:"Selecione um depsito para migrar os colaboradores:"})]})]}),a.jsxs("select",{value:he,onChange:fe=>ve(fe.target.value),className:"w-full bg-app border border-bdr rounded-lg p-2 text-sm font-bold",children:[a.jsx("option",{value:"",children:"Selecione o destino..."}),It.filter(fe=>fe.id!==F.deposit.id).map(fe=>a.jsx("option",{value:fe.id,children:fe.nome},fe.id))]})]}),F.hasStock&&!F.hasPendingOS&&a.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-xl p-4 space-y-3",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(lo,{className:"w-5 h-5 text-blue-500 shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-blue-600 text-sm",children:"Estoque existente"}),a.jsx("p",{className:"text-xs text-txt-muted mt-1",children:"O que fazer com o estoque?"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-2 rounded-lg hover:bg-app",children:[a.jsx("input",{type:"radio",name:"stockAction",checked:je==="migrate",onChange:()=>Te("migrate"),className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-bold text-txt-main",children:"Transferir para outro depsito"})]}),a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-2 rounded-lg hover:bg-app",children:[a.jsx("input",{type:"radio",name:"stockAction",checked:je==="ignore",onChange:()=>Te("ignore"),className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-bold text-txt-main",children:"Ignorar e zerar estoque"})]})]}),je==="migrate"&&a.jsxs("select",{value:he,onChange:fe=>ve(fe.target.value),className:"w-full bg-app border border-bdr rounded-lg p-2 text-sm font-bold mt-2",children:[a.jsx("option",{value:"",children:"Selecione o destino..."}),It.filter(fe=>fe.id!==F.deposit.id).map(fe=>a.jsx("option",{value:fe.id,children:fe.nome},fe.id))]})]})]}),a.jsxs("div",{className:"p-6 border-t border-bdr bg-app flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>G(null),className:"px-4 py-2 font-bold text-txt-muted hover:text-txt-main rounded-lg transition-colors",children:"Cancelar"}),a.jsxs("button",{onClick:er,disabled:h||F.hasPendingOS,className:"px-6 py-2 bg-red-500 hover:bg-red-600 disabled:opacity-50 text-white font-black rounded-lg flex items-center gap-2 transition-colors",children:[h?a.jsx(Yo,{className:"w-4 h-4 animate-spin"}):a.jsx(aa,{className:"w-4 h-4"}),"Confirmar Excluso"]})]})]})}),Je&&a.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-[60] p-4",children:a.jsxs("div",{className:"bg-surface rounded-2xl border border-bdr shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"p-6 border-b border-bdr flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"bg-orange-500/10 p-2 rounded-xl border border-orange-500/20",children:a.jsx(dS,{className:"w-5 h-5 text-orange-500"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-black text-txt-main",children:"Manuteno de Dados"}),a.jsx("p",{className:"text-xs text-txt-muted",children:"Limpar dados rfos e duplicados"})]})]}),a.jsx("button",{onClick:()=>Ke(!1),className:"p-2 hover:bg-red-500/10 hover:text-red-500 rounded-full text-txt-muted",children:a.jsx(qn,{className:"w-5 h-5"})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:nt?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 gap-3",children:[a.jsx(Yo,{className:"w-8 h-8 animate-spin text-purple-500"}),a.jsx("p",{className:"text-txt-muted",children:"Analisando dados..."})]}):tt?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"bg-app rounded-xl border border-bdr p-4",children:[a.jsxs("div",{className:"flex justify-between items-start mb-3",children:[a.jsxs("div",{children:[a.jsxs("h4",{className:"font-bold text-txt-main flex items-center gap-2",children:[a.jsx(lo,{className:"w-4 h-4 text-yellow-500"}),"Produtos Duplicados"]}),a.jsx("p",{className:"text-xs text-txt-muted mt-1",children:"Produtos com o mesmo nome cadastrados mais de uma vez"})]}),tt.duplicateProducts.length>0&&a.jsxs("span",{className:"bg-yellow-500/20 text-yellow-400 text-xs font-bold px-2 py-1 rounded-full",children:[tt.duplicateProducts.length," encontrado(s)"]})]}),tt.duplicateProducts.length>0?a.jsxs(a.Fragment,{children:[a.jsx("ul",{className:"text-sm text-txt-muted space-y-1 mb-3",children:tt.duplicateProducts.map((fe,De)=>a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-yellow-500",children:""}),a.jsx("span",{className:"font-medium text-txt-main",children:fe.nome}),a.jsxs("span",{className:"text-xs",children:["(",fe.count,"x duplicados)"]})]},De))}),a.jsx("button",{onClick:In,disabled:nt,className:"text-xs bg-yellow-500/20 hover:bg-yellow-500/30 text-yellow-400 px-3 py-1.5 rounded-lg font-bold transition-colors",children:"Remover Duplicados"})]}):a.jsxs("p",{className:"text-sm text-green-400 flex items-center gap-2",children:[a.jsx(hc,{className:"w-4 h-4"}),"Nenhum produto duplicado encontrado"]})]}),a.jsxs("div",{className:"bg-app rounded-xl border border-bdr p-4",children:[a.jsxs("div",{className:"flex justify-between items-start mb-3",children:[a.jsxs("div",{children:[a.jsxs("h4",{className:"font-bold text-txt-main flex items-center gap-2",children:[a.jsx(Dc,{className:"w-4 h-4 text-blue-500"}),"Estoque rfo"]}),a.jsx("p",{className:"text-xs text-txt-muted mt-1",children:"Registros de estoque para depsitos ou produtos que no existem mais"})]}),tt.orphanStock.length>0&&a.jsxs("span",{className:"bg-blue-500/20 text-blue-400 text-xs font-bold px-2 py-1 rounded-full",children:[tt.orphanStock.length," registro(s)"]})]}),tt.orphanStock.length>0?a.jsx("button",{onClick:an,disabled:nt,className:"text-xs bg-blue-500/20 hover:bg-blue-500/30 text-blue-400 px-3 py-1.5 rounded-lg font-bold transition-colors",children:"Limpar Estoque rfo"}):a.jsxs("p",{className:"text-sm text-green-400 flex items-center gap-2",children:[a.jsx(hc,{className:"w-4 h-4"}),"Nenhum estoque rfo encontrado"]})]}),a.jsxs("div",{className:"bg-app rounded-xl border border-bdr p-4",children:[a.jsxs("div",{className:"flex justify-between items-start mb-3",children:[a.jsxs("div",{children:[a.jsxs("h4",{className:"font-bold text-txt-main flex items-center gap-2",children:[a.jsx(aw,{className:"w-4 h-4 text-purple-500"}),"Preos rfos"]}),a.jsx("p",{className:"text-xs text-txt-muted mt-1",children:"Tabelas de preo para produtos ou depsitos inexistentes"})]}),tt.orphanPricing.length>0&&a.jsxs("span",{className:"bg-purple-500/20 text-purple-400 text-xs font-bold px-2 py-1 rounded-full",children:[tt.orphanPricing.length," registro(s)"]})]}),tt.orphanPricing.length>0?a.jsx("button",{onClick:Wr,disabled:nt,className:"text-xs bg-purple-500/20 hover:bg-purple-500/30 text-purple-400 px-3 py-1.5 rounded-lg font-bold transition-colors",children:"Limpar Preos rfos"}):a.jsxs("p",{className:"text-sm text-green-400 flex items-center gap-2",children:[a.jsx(hc,{className:"w-4 h-4"}),"Nenhum preo rfo encontrado"]})]})]}):a.jsxs("div",{className:"text-center py-12 text-txt-muted",children:[a.jsx($c,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),a.jsx("p",{children:'Clique em "Analisar" para verificar dados rfos'})]})}),a.jsxs("div",{className:"p-4 border-t border-bdr flex justify-between items-center gap-3",children:[a.jsxs("button",{onClick:kt,disabled:nt,className:"px-4 py-2 bg-app hover:bg-bdr text-txt-muted font-bold rounded-lg flex items-center gap-2 transition-colors",children:[a.jsx(Rh,{className:`w-4 h-4 ${nt?"animate-spin":""}`}),"Analisar Novamente"]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>Ke(!1),className:"px-4 py-2 bg-app hover:bg-bdr text-txt-muted font-bold rounded-lg transition-colors",children:"Fechar"}),tt&&(tt.duplicateProducts.length>0||tt.orphanStock.length>0||tt.orphanPricing.length>0)&&a.jsxs("button",{onClick:Pr,disabled:nt,className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white font-bold rounded-lg flex items-center gap-2 transition-colors",children:[a.jsx(aa,{className:"w-4 h-4"}),"Limpar Tudo"]})]})]})]})}),M&&a.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-[60] p-4",children:a.jsx("div",{className:"bg-surface rounded-2xl border border-bdr shadow-2xl w-full max-w-md",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[a.jsx("div",{className:"bg-red-500/10 p-3 rounded-xl border border-red-500/20",children:a.jsx(aa,{className:"w-6 h-6 text-red-500"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-black text-txt-main",children:"Excluir Produto"}),a.jsx("p",{className:"text-sm text-txt-muted",children:"Esta ao no pode ser desfeita"})]})]}),a.jsxs("div",{className:"bg-app rounded-xl p-4 mb-6",children:[a.jsxs("p",{className:"text-sm text-txt-main",children:["Tem certeza que deseja excluir o produto ",a.jsxs("strong",{children:['"',M.nome,'"']}),"?"]}),a.jsx("p",{className:"text-xs text-txt-muted mt-2",children:"Todos os dados de estoque e preos relacionados tambm sero removidos."})]}),a.jsxs("div",{className:"flex gap-3 justify-end",children:[a.jsx("button",{onClick:()=>ne(null),className:"px-4 py-2 bg-app hover:bg-bdr text-txt-muted font-bold rounded-lg transition-colors",children:"Cancelar"}),a.jsxs("button",{onClick:Yt,disabled:T,className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white font-bold rounded-lg flex items-center gap-2 transition-colors",children:[T?a.jsx(Yo,{className:"w-4 h-4 animate-spin"}):a.jsx(aa,{className:"w-4 h-4"}),"Excluir"]})]})]})})})]})},ZC=P.createContext(void 0),XC="gp_app_settings",Q5={showGasRobot:!0},p7=()=>{try{const t=localStorage.getItem(XC);if(t)return{...Q5,...JSON.parse(t)}}catch(t){console.error("Failed to load settings from localStorage",t)}return Q5},m7=({children:t})=>{const[e,r]=P.useState(p7),n=u=>{r(d=>{const h={...d,...u};try{localStorage.setItem(XC,JSON.stringify(h))}catch(m){console.error("Failed to save settings to localStorage",m)}return h})},i=u=>{n({showGasRobot:u})},l=P.useMemo(()=>({...e,setShowGasRobot:i,saveSettings:n}),[e]);return a.jsx(ZC.Provider,{value:l,children:t})},YC=()=>{const t=P.useContext(ZC);if(t===void 0)throw new Error("useSettings must be used within a SettingsProvider");return t},Qx={minStock:{},financialDaysNotice:3,minMarginPercent:15,enabledStock:!0,enabledFinancial:!0,enabledMargin:!0},g7=t=>((t==null?void 0:t.is_delivery_fee)??(t==null?void 0:t.isDeliveryFee))===!0||String((t==null?void 0:t.product_group)??(t==null?void 0:t.codigo)??"").toLowerCase()==="delivery_fee"?!0:String((t==null?void 0:t.nome)??"").toLowerCase()==="taxa de entrega",x7=t=>g7(t)||((t==null?void 0:t.track_stock)??(t==null?void 0:t.trackStock))===!1?!0:(t==null?void 0:t.type)==="SERVICE",b7=({onClose:t})=>{const[e,r]=P.useState("monitor"),{showGasRobot:n,setShowGasRobot:i}=YC(),[l,u]=P.useState([]),[d,h]=P.useState(Qx),[m,g]=P.useState([]),[b,N]=P.useState("");P.useEffect(()=>{let I=!0;return(async()=>{try{const O=await yc.getAll();if(!I)return;g(O),h(Qx),u([])}catch(O){console.error("Erro ao carregar dados da Central de Alertas:",O),I&&(u([]),g([]),h(Qx),ms.error("Erro ao carregar produtos para alertas"))}})(),()=>{I=!1}},[]);const w=()=>{u([])},C=async()=>{w(),ms.success("Configuraes aplicadas (sesso atual)")},U=async I=>{const O={...d,[I]:!d[I]};h(O),w()},T=(I,O)=>{const M=parseInt(O);h(ne=>({...ne,minStock:{...ne.minStock,[I]:isNaN(M)?0:M}}))},S=m.filter(I=>{const O=(I.nome??I.name??"").toString().toLowerCase(),M=(I.tipo??I.type??"").toString(),ne=b.toLowerCase();return!O.includes(ne)||M==="OUTROS"?!1:!x7(I)});return a.jsxs("div",{className:"fixed inset-0 bg-app z-50 flex flex-col animate-in slide-in-from-bottom-4 duration-300",children:[a.jsxs("div",{className:"bg-surface border-b border-bdr px-6 py-4 flex justify-between items-center shadow-sm shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"bg-red-500/10 p-2.5 rounded-xl border border-red-500/20",children:a.jsx(Vb,{className:"w-6 h-6 text-red-600 animate-pulse"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-black text-txt-main tracking-tight",children:"Central de Alertas"}),a.jsx("p",{className:"text-xs text-txt-muted font-bold uppercase tracking-widest",children:"Monitoramento Inteligente"})]})]}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-red-500/10 text-txt-muted hover:text-red-500 rounded-full transition-colors",children:a.jsx(qn,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[a.jsxs("div",{className:"w-72 bg-surface border-r border-bdr flex flex-col p-4 gap-2",children:[a.jsxs("button",{onClick:()=>r("monitor"),className:`p-4 rounded-xl flex items-center gap-3 transition-all text-left ${e==="monitor"?"bg-red-500 text-white shadow-lg shadow-red-500/20":"hover:bg-app text-txt-muted"}`,children:[a.jsx(_3,{className:"w-5 h-5"}),a.jsxs("div",{children:[a.jsx("span",{className:"block text-sm font-black uppercase",children:"Monitoramento"}),a.jsxs("span",{className:`text-[10px] font-bold ${e==="monitor"?"text-red-100":"text-txt-muted"}`,children:[l.length," alertas ativos"]})]})]}),a.jsx("div",{className:"h-px bg-bdr my-2"}),a.jsx("p",{className:"px-2 text-[10px] font-black text-txt-muted uppercase tracking-widest mb-1",children:"Configurao"}),a.jsxs("button",{onClick:()=>r("config-stock"),className:`p-3 rounded-xl flex items-center gap-3 transition-all text-left ${e==="config-stock"?"bg-app border-2 border-primary text-txt-main":"hover:bg-app border-2 border-transparent text-txt-muted"}`,children:[a.jsx(lo,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-bold",children:"Estoque Mnimo"})]}),a.jsxs("button",{onClick:()=>r("config-fin"),className:`p-3 rounded-xl flex items-center gap-3 transition-all text-left ${e==="config-fin"?"bg-app border-2 border-primary text-txt-main":"hover:bg-app border-2 border-transparent text-txt-muted"}`,children:[a.jsx(vd,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-bold",children:"Regras Gerais"})]})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto bg-app p-8",children:[e==="monitor"&&a.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[a.jsxs("div",{className:`p-6 rounded-2xl border-2 flex items-center gap-6 shadow-sm ${l.length>0?"bg-red-50 border-red-100":"bg-emerald-50 border-emerald-100"}`,children:[a.jsx("div",{className:`p-4 rounded-full ${l.length>0?"bg-red-100 text-red-600":"bg-emerald-100 text-emerald-600"}`,children:l.length>0?a.jsx(Hp,{className:"w-10 h-10"}):a.jsx(tA,{className:"w-10 h-10"})}),a.jsxs("div",{children:[a.jsx("h3",{className:`text-2xl font-black ${l.length>0?"text-red-700":"text-emerald-700"}`,children:l.length>0?"Ateno Necessria":"Sistema Estvel"}),a.jsx("p",{className:"text-sm font-bold opacity-70 text-txt-main",children:l.length>0?`Foram detectados ${l.length} pontos de ateno que requerem sua interveno.`:"Todos os indicadores operacionais esto dentro dos conformes."})]})]}),a.jsx("div",{className:"space-y-4",children:l.map(I=>a.jsxs("div",{className:"bg-surface p-5 rounded-xl border border-bdr shadow-sm hover:shadow-md transition-shadow flex items-start gap-4 group",children:[a.jsxs("div",{className:`mt-1 p-2 rounded-lg shrink-0 ${I.severity==="CRITICAL"?"bg-red-500 text-white":"bg-amber-100 text-amber-600"}`,children:[I.type==="STOCK"&&a.jsx(lo,{className:"w-5 h-5"}),I.type==="FINANCIAL"&&a.jsx(Yy,{className:"w-5 h-5"}),I.type==="MARGIN"&&a.jsx(Mx,{className:"w-5 h-5"})]}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsx("h4",{className:"text-sm font-black text-txt-main uppercase tracking-wide",children:I.title}),a.jsx("span",{className:`text-[10px] font-black px-2 py-1 rounded border uppercase ${I.severity==="CRITICAL"?"bg-red-50 text-red-600 border-red-100":"bg-amber-50 text-amber-600 border-amber-100"}`,children:I.severity==="CRITICAL"?"Crtico":"Aviso"})]}),a.jsx("p",{className:"text-sm text-txt-muted mt-1 font-medium",children:I.message}),a.jsx("div",{className:"mt-3 flex items-center gap-2 text-xs font-bold text-primary",children:a.jsx("span",{className:"bg-app px-2 py-1 rounded border border-bdr text-txt-muted uppercase",children:I.location})})]})]},I.id))})]}),e==="config-stock"&&a.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[a.jsxs("div",{className:"bg-surface p-6 rounded-2xl border border-bdr shadow-sm flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-black text-txt-main",children:"Alertas de Estoque Mnimo"}),a.jsx("p",{className:"text-xs text-txt-muted font-bold",children:"Defina a quantidade mnima para disparar avisos"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-xs font-bold uppercase text-txt-muted",children:d.enabledStock?"Ativado":"Desativado"}),a.jsx("button",{onClick:()=>U("enabledStock"),className:`w-12 h-6 rounded-full p-1 transition-colors ${d.enabledStock?"bg-emerald-500":"bg-gray-300"}`,children:a.jsx("div",{className:`w-4 h-4 bg-white rounded-full shadow-sm transition-transform ${d.enabledStock?"translate-x-6":""}`})})]})]}),a.jsxs("div",{className:"bg-surface rounded-2xl border border-bdr overflow-hidden shadow-sm",children:[a.jsxs("div",{className:"p-4 border-b border-bdr flex gap-4",children:[a.jsx(rA,{className:"w-5 h-5 text-txt-muted"}),a.jsx("input",{type:"text",placeholder:"Filtrar produtos...",value:b,onChange:I=>N(I.target.value),className:"flex-1 bg-transparent outline-none text-sm font-bold text-txt-main"})]}),a.jsxs("table",{className:"w-full text-left text-sm",children:[a.jsx("thead",{className:"bg-app text-[10px] font-black text-txt-muted uppercase tracking-widest",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4",children:"Produto"}),a.jsx("th",{className:"px-6 py-4 w-40 text-center",children:"Estoque Mnimo"})]})}),a.jsx("tbody",{className:"divide-y divide-bdr",children:S.map(I=>a.jsxs("tr",{className:"hover:bg-app transition-colors",children:[a.jsx("td",{className:"px-6 py-4 font-bold text-txt-main",children:I.nome}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsx("input",{type:"number",value:d.minStock[I.id]||0,onChange:O=>T(I.id,O.target.value),className:"w-20 text-center bg-app border border-bdr rounded-lg p-2 font-bold text-txt-main focus:ring-2 focus:ring-primary outline-none"})})]},I.id))})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsxs("button",{onClick:C,className:"bg-primary text-white px-8 py-3 rounded-xl font-black shadow-lg shadow-primary/20 flex items-center gap-2 active:scale-95 transition-transform",children:[a.jsx(tl,{className:"w-5 h-5"})," SALVAR ALTERAES"]})})]}),e==="config-fin"&&a.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[a.jsxs("div",{className:"bg-surface p-8 rounded-2xl border border-bdr shadow-sm space-y-6",children:[a.jsx("div",{className:"flex justify-between items-start",children:a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-black text-txt-main flex items-center gap-2",children:[a.jsx(IE,{className:"w-5 h-5 text-purple-500"})," Interface"]}),a.jsx("p",{className:"text-xs text-txt-muted font-bold mt-1",children:"Controles de interface e automao"})]})}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-txt-main",children:"Gas-Rob"}),a.jsx("p",{className:"text-xs text-txt-muted",children:"Exibir o mascote de alertas flutuante."})]}),a.jsx("button",{onClick:()=>i(!n),className:`w-12 h-6 rounded-full p-1 transition-colors ${n?"bg-emerald-500":"bg-gray-300"}`,children:a.jsx("div",{className:`w-4 h-4 bg-white rounded-full shadow-sm transition-transform ${n?"translate-x-6":""}`})})]})]}),a.jsxs("div",{className:"bg-surface p-8 rounded-2xl border border-bdr shadow-sm space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-black text-txt-main flex items-center gap-2",children:[a.jsx(Yy,{className:"w-5 h-5 text-blue-500"})," Alertas Financeiros"]}),a.jsx("p",{className:"text-xs text-txt-muted font-bold mt-1",children:"Avisos sobre contas a pagar e receber"})]}),a.jsx("button",{onClick:()=>U("enabledFinancial"),className:`w-12 h-6 rounded-full p-1 transition-colors ${d.enabledFinancial?"bg-emerald-500":"bg-gray-300"}`,children:a.jsx("div",{className:`w-4 h-4 bg-white rounded-full shadow-sm transition-transform ${d.enabledFinancial?"translate-x-6":""}`})})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 opacity-100 transition-opacity",children:a.jsxs("div",{className:`space-y-2 ${!d.enabledFinancial&&"opacity-50 pointer-events-none"}`,children:[a.jsx("label",{className:"text-xs font-black text-txt-muted uppercase",children:"Antecedncia do Aviso (Dias)"}),a.jsx("input",{type:"number",value:d.financialDaysNotice,onChange:I=>h({...d,financialDaysNotice:parseInt(I.target.value)}),className:"w-full bg-app border border-bdr rounded-xl p-3 font-bold text-txt-main outline-none focus:ring-2 focus:ring-blue-500"}),a.jsx("p",{className:"text-[10px] text-txt-muted",children:"Dias antes do vencimento para comear a alertar."})]})})]}),a.jsxs("div",{className:"bg-surface p-8 rounded-2xl border border-bdr shadow-sm space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-black text-txt-main flex items-center gap-2",children:[a.jsx(Mx,{className:"w-5 h-5 text-amber-500"})," Proteo de Margem"]}),a.jsx("p",{className:"text-xs text-txt-muted font-bold mt-1",children:"Alerta se o preo de venda estiver prximo do custo"})]}),a.jsx("button",{onClick:()=>U("enabledMargin"),className:`w-12 h-6 rounded-full p-1 transition-colors ${d.enabledMargin?"bg-emerald-500":"bg-gray-300"}`,children:a.jsx("div",{className:`w-4 h-4 bg-white rounded-full shadow-sm transition-transform ${d.enabledMargin?"translate-x-6":""}`})})]}),a.jsxs("div",{className:`space-y-2 ${!d.enabledMargin&&"opacity-50 pointer-events-none"}`,children:[a.jsx("label",{className:"text-xs font-black text-txt-muted uppercase",children:"Margem de Lucro Mnima (%)"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"number",value:d.minMarginPercent,onChange:I=>h({...d,minMarginPercent:parseFloat(I.target.value)}),className:"w-full bg-app border border-bdr rounded-xl p-3 font-bold text-txt-main outline-none focus:ring-2 focus:ring-amber-500"}),a.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 font-black text-txt-muted",children:"%"})]}),a.jsx("p",{className:"text-[10px] text-txt-muted",children:"Se a margem (Markup) cair abaixo deste valor, um alerta ser gerado."})]})]}),a.jsx("div",{className:"flex justify-end pt-4",children:a.jsxs("button",{onClick:C,className:"bg-primary text-white px-8 py-3 rounded-xl font-black shadow-lg shadow-primary/20 flex items-center gap-2 active:scale-95 transition-transform",children:[a.jsx(tl,{className:"w-5 h-5"})," SALVAR REGRAS"]})})]})]})]})]})},v7=t=>({id:t.id,nome:t.name,cargo:t.role,depositoId:t.deposit_id,ativo:t.active,telefone:void 0,username:t.username,password:t.password,permissoes:t.permissions||[]}),y7=t=>({id:t.id,nome:t.name,endereco:t.address||void 0,ativo:t.active,cor:t.color||void 0,require_stock_audit:t.require_stock_audit,free_shipping_min_value:t.free_shipping_min_value||void 0}),w7=({onClose:t})=>{var Ne;const[e,r]=P.useState([]),[n,i]=P.useState([]),[l,u]=P.useState(!1),d=async()=>{u(!0);try{const[q,F]=await Promise.all([Mi.getAll(),nf.getAll()]);r(q.map(v7)),i(F.map(y7))}catch(q){console.error("Erro ao carregar colaboradores/depositos",q),ms.error("Erro ao carregar colaboradores ou depsitos")}finally{u(!1)}};P.useEffect(()=>{d()},[]);const[h,m]=P.useState(""),[g,b]=P.useState("ALL"),[N,w]=P.useState("ACTIVE"),[C,U]=P.useState(!1),[T,S]=P.useState(!1),[I,O]=P.useState(null),[M,ne]=P.useState(null),[z,oe]=P.useState({permissoes:[]}),te=q=>q==="ENTREGADOR"||q==="GERENTE",X=(q,F)=>{var G;return!q&&te(F)?" Acesso Global (todos os depsitos)":q?((G=n.find($=>$.id===q))==null?void 0:G.nome)||"Depsito no encontrado":" SEM DEPSITO (ERRO)"},ge=q=>{const F=q.length;return{deliveriesToday:12+F%5,deliveriesMonth:140+F*10,avgTime:20+F%15,rating:4+F%10/10,recentOs:[{id:"20251001",time:"10:30",address:"Rua das Flores, 123",status:"DONE"},{id:"20251005",time:"11:15",address:"Av. Brasil, 500",status:"DONE"},{id:"20251009",time:"12:00",address:"Centro, Rua 1",status:"LATE"}]}},Z=async q=>{if(q.cargo==="ENTREGADOR"){O(q);try{const F=await Mi.hasHistory(q.id);ne(F?ge(q.id):null)}catch(F){console.error("Erro ao verificar histrico do entregador",F),ne(null)}}},W=async()=>{var V,he;if(!((V=z.nome)!=null&&V.trim()))return ms.error("O campo Nome  obrigatrio.");if(!z.cargo)return ms.error("O campo Cargo  obrigatrio.");if(!((he=z.username)!=null&&he.trim()))return ms.error("O campo Nome de Usurio  obrigatrio.");const q=te(z.cargo);if(!q&&!z.depositoId)return ms.error("Selecione um depsito para este colaborador! Apenas ENTREGADOR e GERENTE tm acesso global.");const F=z.username.trim().toLowerCase();if(e.some(ve=>{var je;return ve.id!==z.id&&((je=ve.username)==null?void 0:je.trim().toLowerCase())===F}))return ms.error(`O nome de usurio "${z.username}" j existe!`);const $={name:z.nome.trim(),role:z.cargo,deposit_id:q?null:z.depositoId,active:z.ativo??!0,username:F,password:z.password||"",permissions:z.permissoes||[]};try{z.id?(await Mi.update(z.id,$),ms.success("Colaborador atualizado com sucesso")):(await Mi.create($),ms.success("Colaborador criado com sucesso")),U(!1),oe({permissoes:[]}),d()}catch(ve){console.error("Erro ao salvar colaborador:",ve),ms.error((ve==null?void 0:ve.message)||"Erro ao salvar colaborador")}},ae=async q=>{try{const F=await Mi.hasHistory(q),G=e.find($=>$.id===q);if(F){const $=G!=null&&G.nome?`(${G.nome})`:"";if(!confirm(`Este colaborador ${$} possui histrico de movimentaes e no pode ser excludo.

Deseja DESATIVAR o acesso?`))return;await Mi.deactivate(q),ms.success("Colaborador desativado")}else{if(!confirm("Este colaborador no possui histrico. Deseja EXCLUIR permanentemente o registro?"))return;await Mi.delete(q),(I==null?void 0:I.id)===q&&O(null),ms.success("Colaborador excludo")}d()}catch(F){console.error("Erro ao excluir/desativar colaborador",F),ms.error((F==null?void 0:F.message)||"Erro ao excluir colaborador")}},K=async q=>{if(confirm("Reativar acesso deste colaborador?"))try{await Mi.update(q,{active:!0}),ms.success("Colaborador reativado"),d()}catch(F){console.error("Erro ao reativar colaborador",F),ms.error((F==null?void 0:F.message)||"Erro ao reativar colaborador")}},ue=async()=>{const q=e.filter($=>!($.cargo==="GERENTE"||$.cargo==="ENTREGADOR")&&!$.depositoId);if(console.log(" Verificando usurios sem depsito:",{total:e.length,problemUsers:q.map($=>({nome:$.nome,cargo:$.cargo,depositoId:$.depositoId}))}),q.length===0){alert(" Nenhum usurio precisa de correo!");return}if(n.length===0){alert(" Nenhum depsito disponvel! Crie depsitos primeiro.");return}const F=n[0],G=`Encontrados ${q.length} usurio(s) sem depsito:

${q.map($=>`- ${$.nome} (${$.cargo})`).join(`
`)}

Deseja vincular todos ao depsito "${F.nome}"?`;if(confirm(G))try{for(const $ of q)await Mi.update($.id,{deposit_id:F.id});ms.success(`${q.length} usurio(s) corrigido(s) com sucesso!`),d()}catch($){console.error("Erro ao corrigir usurios sem depsito",$),ms.error(($==null?void 0:$.message)||"Erro ao corrigir usurios")}},Q=q=>{oe({...q,permissoes:q.permissoes||[]}),U(!0)},Ae=q=>{const F=z.permissoes||[];F.includes(q)?oe({...z,permissoes:F.filter(G=>G!==q)}):oe({...z,permissoes:[...F,q]})},ee=()=>{var q;((q=z.permissoes)==null?void 0:q.length)===Zc.length?oe({...z,permissoes:[]}):oe({...z,permissoes:Zc.map(F=>F.id)})},_e=e.filter(q=>{const F=q.nome.toLowerCase().includes(h.toLowerCase()),G=g==="ALL"?!0:q.cargo===g,$=N==="ALL"?!0:N==="ACTIVE"?q.ativo:!q.ativo;return F&&G&&$});return a.jsxs("div",{className:"fixed inset-0 bg-app z-50 flex flex-col animate-in slide-in-from-bottom-4 duration-300",children:[a.jsxs("div",{className:"bg-surface border-b border-bdr px-6 py-4 flex justify-between items-center shadow-sm shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"bg-indigo-500/10 p-2.5 rounded-xl border border-indigo-500/20",children:a.jsx(FA,{className:"w-6 h-6 text-indigo-600"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-black text-txt-main tracking-tight",children:"Gesto de Colaboradores"}),a.jsx("p",{className:"text-xs text-txt-muted font-bold uppercase tracking-widest",children:"Equipe & Performance"})]})]}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-red-500/10 text-txt-muted hover:text-red-500 rounded-full transition-colors",children:a.jsx(qn,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[a.jsxs("div",{className:"flex-1 flex flex-col bg-app overflow-hidden relative",children:[a.jsxs("div",{className:"p-6 pb-2 flex flex-col md:flex-row gap-4 justify-between items-center",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 w-full md:w-auto",children:[a.jsx("div",{className:"flex gap-2 bg-surface p-1 rounded-xl border border-bdr shadow-sm overflow-x-auto",children:["ALL","GERENTE","ENTREGADOR","ATENDENTE","CAIXA"].map(q=>a.jsx("button",{onClick:()=>b(q),className:`px-4 py-2 rounded-lg text-xs font-black uppercase transition-all whitespace-nowrap ${g===q?"bg-indigo-600 text-white shadow-md":"text-txt-muted hover:bg-app hover:text-txt-main"}`,children:q==="ALL"?"Todos":q},q))}),a.jsxs("div",{className:"flex gap-2 bg-surface p-1 rounded-xl border border-bdr shadow-sm",children:[a.jsx("button",{onClick:()=>w("ACTIVE"),className:`px-3 py-2 rounded-lg text-xs font-bold ${N==="ACTIVE"?"bg-emerald-100 text-emerald-700":"text-txt-muted"}`,children:"Ativos"}),a.jsx("button",{onClick:()=>w("INACTIVE"),className:`px-3 py-2 rounded-lg text-xs font-bold ${N==="INACTIVE"?"bg-red-100 text-red-700":"text-txt-muted"}`,children:"Inativos"}),a.jsx("button",{onClick:()=>w("ALL"),className:`px-3 py-2 rounded-lg text-xs font-bold ${N==="ALL"?"bg-gray-100 text-gray-700":"text-txt-muted"}`,children:"Todos"})]})]}),a.jsxs("div",{className:"flex gap-3 w-full md:w-auto",children:[a.jsxs("div",{className:"relative flex-1 md:w-64",children:[a.jsx(rA,{className:"w-4 h-4 text-txt-muted absolute left-3 top-3"}),a.jsx("input",{type:"text",placeholder:"Buscar por nome...",value:h,onChange:q=>m(q.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-surface border border-bdr rounded-xl text-sm font-bold text-txt-main focus:ring-2 focus:ring-indigo-500 outline-none shadow-sm"})]}),a.jsxs("button",{onClick:ue,className:"bg-amber-600 hover:bg-amber-700 text-white px-4 py-2 rounded-xl font-black text-xs flex items-center gap-2 shadow-lg shadow-amber-500/20 transition-transform active:scale-95",title:"Corrigir usurios sem depsito vinculado",children:[a.jsx(Xy,{className:"w-4 h-4"})," CORRIGIR"]}),a.jsxs("button",{onClick:()=>{oe({ativo:!0,cargo:"ENTREGADOR",depositoId:void 0,permissoes:[]}),U(!0)},className:"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-xl font-black text-xs flex items-center gap-2 shadow-lg shadow-indigo-500/20 transition-transform active:scale-95",children:[a.jsx(iw,{className:"w-4 h-4"})," NOVO"]})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6 pt-2",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:[_e.map(q=>{var F;return a.jsxs("div",{onClick:()=>Z(q),className:`bg-surface border border-bdr rounded-2xl p-5 hover:shadow-lg transition-all group relative cursor-pointer ${(I==null?void 0:I.id)===q.id?"ring-2 ring-indigo-500 bg-indigo-50/10":""} ${q.ativo?"":"opacity-70"}`,children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center text-sm font-black border-2 shadow-sm ${q.ativo?q.cargo==="ENTREGADOR"?"bg-orange-100 text-orange-600 border-orange-200":q.cargo==="GERENTE"?"bg-purple-100 text-purple-600 border-purple-200":"bg-blue-100 text-blue-600 border-blue-200":"bg-gray-100 border-gray-200 text-gray-400"}`,children:q.nome.substring(0,2).toUpperCase()}),a.jsxs("div",{children:[a.jsxs("h3",{className:"font-bold text-txt-main leading-tight flex items-center gap-2",children:[q.nome,!q.ativo&&a.jsx("span",{className:"bg-red-500 text-white text-[9px] px-1.5 py-0.5 rounded uppercase",children:"Inativo"})]}),a.jsx("span",{className:`text-[10px] font-black px-2 py-0.5 rounded uppercase mt-1 inline-block ${q.ativo?q.cargo==="ENTREGADOR"?"bg-orange-500 text-white":"bg-app text-txt-muted border border-bdr":"bg-gray-100 text-gray-500"}`,children:q.cargo})]})]}),a.jsx("div",{children:q.ativo?a.jsx(tA,{className:"w-5 h-5 text-emerald-500"}):a.jsx(Qh,{className:"w-5 h-5 text-red-500"})})]}),a.jsxs("div",{className:"space-y-2 mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs text-txt-muted",children:[a.jsx(IA,{className:"w-3.5 h-3.5"}),a.jsx("span",{className:"font-medium truncate",children:X(q.depositoId,q.cargo)})]}),q.username&&a.jsxs("div",{className:"flex items-center gap-2 text-xs text-txt-muted",children:[a.jsx(E3,{className:"w-3.5 h-3.5"}),a.jsx("span",{className:"font-mono bg-app px-1.5 rounded",children:q.username})]})]}),a.jsxs("div",{className:"flex items-center gap-1 text-[10px] font-bold text-txt-muted bg-app/50 p-2 rounded-lg",children:[a.jsx(rw,{className:"w-3 h-3"}),a.jsxs("span",{children:[((F=q.permissoes)==null?void 0:F.length)||0," mdulos permitidos"]})]}),a.jsx("div",{className:"flex gap-2 border-t border-bdr pt-3 mt-3 opacity-0 group-hover:opacity-100 transition-opacity",children:q.ativo?a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:G=>{G.stopPropagation(),Q(q)},className:"flex-1 py-2 rounded-lg bg-app hover:bg-indigo-50 text-indigo-600 text-xs font-bold transition-colors",children:"Editar"}),a.jsx("button",{onClick:G=>{G.stopPropagation(),ae(q.id)},className:"p-2 rounded-lg bg-app hover:bg-red-50 text-red-500 transition-colors",title:"Desativar ou Excluir",children:a.jsx(aa,{className:"w-4 h-4"})})]}):a.jsx("button",{onClick:G=>{G.stopPropagation(),K(q.id)},className:"w-full py-2 rounded-lg bg-emerald-50 text-emerald-600 text-xs font-bold hover:bg-emerald-100 transition-colors",children:"Reativar Acesso"})}),q.cargo==="ENTREGADOR"&&a.jsx("div",{className:"absolute top-5 right-5 text-indigo-500 opacity-20 group-hover:opacity-100 transition-opacity",children:a.jsx(Xy,{className:"w-5 h-5"})})]},q.id)}),_e.length===0&&a.jsx("div",{className:"col-span-full py-12 text-center text-txt-muted",children:a.jsx("p",{className:"font-bold",children:"Nenhum colaborador encontrado com os filtros atuais."})})]})})]}),I&&I.cargo==="ENTREGADOR"&&M&&I.ativo&&a.jsxs("div",{className:"w-96 bg-surface border-l border-bdr flex flex-col shadow-2xl animate-in slide-in-from-right duration-300 relative z-10",children:[a.jsxs("div",{className:"p-6 bg-indigo-600 text-white shrink-0 relative overflow-hidden",children:[a.jsx("button",{onClick:()=>O(null),className:"absolute top-4 right-4 p-1 hover:bg-white/20 rounded-full transition-colors",children:a.jsx(qn,{className:"w-5 h-5"})}),a.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[a.jsx("div",{className:"w-16 h-16 rounded-full bg-white text-indigo-600 flex items-center justify-center font-black text-xl border-4 border-indigo-400",children:I.nome.substring(0,2).toUpperCase()}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-lg leading-tight",children:I.nome}),a.jsxs("div",{className:"flex items-center gap-1 text-xs font-medium text-indigo-200 mt-1",children:[a.jsx(Qo,{className:"w-3 h-3"})," Motorista Oficial"]})]})]}),a.jsx(Qo,{className:"absolute -right-6 -bottom-6 w-32 h-32 text-black/10 rotate-12"})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-8",children:a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-app p-4 rounded-xl border border-bdr text-center",children:[a.jsx("span",{className:"text-xs font-bold text-txt-muted uppercase",children:"Hoje"}),a.jsx("p",{className:"text-3xl font-black text-indigo-600",children:M.deliveriesToday}),a.jsx("span",{className:"text-[10px] text-txt-muted",children:"entregas"})]}),a.jsxs("div",{className:"bg-app p-4 rounded-xl border border-bdr text-center",children:[a.jsx("span",{className:"text-xs font-bold text-txt-muted uppercase",children:"Ms"}),a.jsx("p",{className:"text-3xl font-black text-txt-main",children:M.deliveriesMonth}),a.jsx("span",{className:"text-[10px] text-txt-muted",children:"acumulado"})]})]})})]})]}),C&&a.jsx("div",{className:"fixed inset-0 bg-black/60 z-[60] flex items-center justify-center p-4 backdrop-blur-sm animate-in fade-in",children:a.jsxs("div",{className:"bg-surface w-full max-w-2xl rounded-2xl shadow-2xl border border-bdr overflow-hidden flex flex-col max-h-[90vh]",children:[a.jsxs("div",{className:"bg-app px-6 py-4 border-b border-bdr flex justify-between items-center shrink-0",children:[a.jsxs("h3",{className:"text-lg font-black text-txt-main flex items-center gap-2",children:[z.id?a.jsx(Xh,{className:"w-5 h-5 text-indigo-500"}):a.jsx(iw,{className:"w-5 h-5 text-indigo-500"}),z.id?"Editar Colaborador":"Novo Colaborador"]}),a.jsx("button",{onClick:()=>U(!1),className:"hover:bg-bdr p-1 rounded-full",children:a.jsx(qn,{className:"w-5 h-5 text-txt-muted"})})]}),a.jsx("div",{className:"p-6 space-y-6 flex-1 overflow-y-auto",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-black text-txt-muted uppercase ml-1",children:"Nome Completo *"}),a.jsx("input",{type:"text",value:z.nome||"",onChange:q=>oe({...z,nome:q.target.value}),className:"w-full bg-app border border-bdr rounded-xl p-3 text-sm font-bold text-txt-main outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Ex: Joo da Silva"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-black text-txt-muted uppercase ml-1",children:"Cargo *"}),a.jsxs("select",{value:z.cargo||"ENTREGADOR",onChange:q=>oe({...z,cargo:q.target.value}),className:"w-full bg-app border border-bdr rounded-xl p-3 text-sm font-bold text-txt-main outline-none focus:ring-2 focus:ring-indigo-500 cursor-pointer",children:[a.jsx("option",{value:"GERENTE",children:"Gerente"}),a.jsx("option",{value:"ENTREGADOR",children:"Entregador"}),a.jsx("option",{value:"ATENDENTE",children:"Atendente"}),a.jsx("option",{value:"CAIXA",children:"Caixa"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-black text-txt-muted uppercase ml-1",children:"Telefone"}),a.jsx("input",{type:"text",value:z.telefone||"",onChange:q=>oe({...z,telefone:q.target.value}),className:"w-full bg-app border border-bdr rounded-xl p-3 text-sm font-bold text-txt-main outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"(00) 00000-0000"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"text-xs font-black text-txt-muted uppercase ml-1",children:["Vnculo de Depsito ",te(z.cargo)?"":"* (OBRIGATRIO)"]}),te(z.cargo)?a.jsx("div",{className:"w-full bg-indigo-50 border border-indigo-200 rounded-xl p-3 text-sm font-bold text-indigo-600",children:" Acesso Global (todos os depsitos). Este usurio pode operar em qualquer depsito."}):a.jsxs(a.Fragment,{children:[a.jsxs("select",{value:z.depositoId||"",onChange:q=>{const F=q.target.value;console.log(" Depsito selecionado:",F),oe({...z,depositoId:F})},className:`w-full bg-app border ${z.depositoId?"border-bdr":"border-red-500"} rounded-xl p-3 text-sm font-bold outline-none focus:ring-2 focus:ring-indigo-500 text-txt-main`,required:!0,children:[a.jsx("option",{value:"",children:" Selecione o depsito..."}),n.map(q=>a.jsx("option",{value:q.id,children:q.nome},q.id))]}),!z.depositoId&&a.jsxs("p",{className:"text-xs text-red-500 mt-1",children:[" Cargo ",z.cargo," DEVE ter depsito vinculado!"]})]})]}),a.jsxs("div",{className:"bg-surface border border-bdr rounded-xl p-4 space-y-4 shadow-sm",children:[a.jsxs("h4",{className:"text-xs font-black text-txt-main uppercase flex items-center gap-2",children:[a.jsx(OS,{className:"w-4 h-4 text-orange-500"})," Acesso ao Sistema"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-bold text-txt-muted uppercase ml-1",children:"Login"}),a.jsx("input",{type:"text",value:z.username||"",onChange:q=>oe({...z,username:q.target.value}),className:"w-full bg-app border border-bdr rounded-lg p-2 text-sm font-bold text-txt-main outline-none focus:ring-2 focus:ring-orange-500",placeholder:"usuario",autoComplete:"new-password"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-bold text-txt-muted uppercase ml-1",children:"Senha"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:T?"text":"password",value:z.password||"",onChange:q=>oe({...z,password:q.target.value}),className:"w-full bg-app border border-bdr rounded-lg p-2 pr-8 text-sm font-bold text-txt-main outline-none focus:ring-2 focus:ring-orange-500",placeholder:"",autoComplete:"new-password"}),a.jsx("button",{type:"button",onClick:()=>S(!T),className:"absolute right-2 top-2.5 text-txt-muted hover:text-txt-main",children:T?a.jsx(gS,{className:"w-3.5 h-3.5"}):a.jsx(bS,{className:"w-3.5 h-3.5"})})]})]})]})]})]}),a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("label",{className:"text-xs font-black text-txt-muted uppercase ml-1 flex items-center gap-2",children:[a.jsx(rw,{className:"w-4 h-4"})," Permisses de Acesso"]}),a.jsx("button",{type:"button",onClick:ee,className:"text-[10px] font-bold text-indigo-600 hover:underline",children:((Ne=z.permissoes)==null?void 0:Ne.length)===Zc.length?"Desmarcar Todos":"Marcar Todos"})]}),a.jsx("div",{className:"flex-1 bg-app border border-bdr rounded-xl p-2 overflow-y-auto max-h-[400px]",children:a.jsx("div",{className:"grid grid-cols-2 gap-2",children:Zc.map(q=>{var $;const F=($=z.permissoes)==null?void 0:$.includes(q.id),G=q.icon;return a.jsxs("div",{onClick:()=>Ae(q.id),className:`cursor-pointer flex items-center gap-2 p-2 rounded-lg border transition-all ${F?"bg-white border-indigo-200 shadow-sm":"bg-transparent border-transparent hover:bg-surface hover:border-bdr opacity-60"}`,children:[a.jsx("div",{className:`transition-colors ${F?"text-indigo-600":"text-txt-muted"}`,children:F?a.jsx(Z5,{className:"w-4 h-4"}):a.jsx(Q3,{className:"w-4 h-4"})}),a.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[a.jsx("div",{className:`p-1 rounded ${q.bgColor}`,children:a.jsx(G,{className:`w-3 h-3 ${q.color}`})}),a.jsx("span",{className:`text-[10px] font-bold truncate ${F?"text-txt-main":"text-txt-muted"}`,children:q.label})]})]},q.id)})})}),a.jsx("p",{className:"text-[10px] text-txt-muted mt-2 ml-1",children:"Defina quais mdulos aparecero no menu principal para este usurio."})]})]})}),a.jsxs("div",{className:"p-4 bg-app border-t border-bdr flex justify-end gap-3 shrink-0",children:[a.jsx("button",{onClick:()=>U(!1),className:"px-4 py-2 text-txt-muted font-bold hover:bg-surface rounded-lg transition-colors",children:"Cancelar"}),a.jsxs("button",{onClick:W,className:"px-6 py-2 bg-indigo-600 hover:bg-indigo-700 text-white font-black rounded-lg shadow-lg shadow-indigo-500/20 flex items-center gap-2",children:[a.jsx(tl,{className:"w-4 h-4"})," SALVAR DADOS"]})]})]})})]})},_7=({onLoginSuccess:t})=>{const[e,r]=P.useState(null),[n,i]=P.useState(navigator.onLine),[l,u]=P.useState(""),[d,h]=P.useState(""),[m,g]=P.useState(""),[b,N]=P.useState(!1),[w,C]=P.useState("Administrador Principal"),[U,T]=P.useState("admin"),[S,I]=P.useState(""),[O,M]=P.useState("");P.useEffect(()=>{let te=!0;const X=()=>i(!0),ge=()=>i(!1);return window.addEventListener("online",X),window.addEventListener("offline",ge),Mi.getAll().then(Z=>te&&r(!Z||Z.length===0)).catch(()=>te&&r(!1)),()=>{te=!1,window.removeEventListener("online",X),window.removeEventListener("offline",ge)}},[]);const ne=async te=>{try{const X=await Mi.getByUsername(te.toLowerCase());return X?{id:X.id,nome:X.name,cargo:X.role,depositoId:X.deposit_id,ativo:X.active,username:X.username,password:X.password,permissoes:X.permissions||[]}:null}catch(X){return console.error("Erro ao buscar usurio da nuvem:",X),null}},z=async te=>{te.preventDefault(),g(""),N(!0);try{const X=l.trim().toLowerCase(),ge=d.trim();let Z;if(!n){g("Sem conexo com a internet. Conecte-se e tente novamente."),N(!1);return}const W=await ne(X);if(W)Z=W;else{g("Usurio no encontrado!"),N(!1);return}if(!Z.ativo){g("Usurio inativo!"),N(!1);return}if(!(Z.cargo==="GERENTE"||Z.cargo==="ENTREGADOR")&&!Z.depositoId){g(`Usurio sem depsito vinculado! Cargo ${Z.cargo} deve ter depsito definido. Contate o administrador.`),N(!1);return}const K=(Z.password||"").trim();if(!K||K!==ge){g("Senha incorreta!"),N(!1);return}t(Z)}catch(X){console.error("Erro ao autenticar:",X),g("Erro ao conectar ao banco de dados."),N(!1)}},oe=async te=>{if(te.preventDefault(),!w||!U||!S||!O){g("Todos os campos so obrigatrios.");return}N(!0);try{const X=await nf.create({name:O,address:"Endereo Principal",active:!0,color:"blue"}),ge=await Mi.create({name:w,role:"GERENTE",deposit_id:X.id,active:!0,username:U.trim().toLowerCase(),password:S.trim(),permissions:Zc.map(Z=>Z.id)});t({id:ge.id,nome:ge.name,cargo:ge.role,depositoId:ge.deposit_id,ativo:ge.active,username:ge.username,password:ge.password,permissoes:ge.permissions||[]})}catch(X){console.error("Erro ao configurar sistema:",X),g("Erro ao configurar sistema. Tente novamente."),N(!1)}};return e===null?null:a.jsxs("div",{className:"min-h-screen w-full bg-slate-900 flex items-center justify-center p-4 relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-4 right-4 z-20",children:a.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-full text-xs font-bold ${n?"bg-green-500/20 text-green-400 border border-green-500/30":"bg-amber-500/20 text-amber-400 border border-amber-500/30"}`,children:[n?a.jsx(Y5,{className:"w-3 h-3"}):a.jsx(X5,{className:"w-3 h-3"}),n?"Online":"Offline"]})}),a.jsx("div",{className:"absolute -top-24 -left-24 w-96 h-96 bg-red-600/20 rounded-full blur-[100px] animate-pulse"}),a.jsx("div",{className:"absolute bottom-0 right-0 w-[500px] h-[500px] bg-red-600/10 rounded-full blur-[120px]"}),a.jsxs("div",{className:"w-full max-w-md bg-white/10 backdrop-blur-xl border border-white/10 p-8 rounded-3xl shadow-2xl relative z-10 animate-in fade-in zoom-in-95 duration-500",children:[a.jsxs("div",{className:"text-center mb-10",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-red-600 to-red-800 rounded-2xl shadow-lg mb-6 transform rotate-3 hover:rotate-6 transition-transform",children:a.jsx(H5,{className:"w-10 h-10 text-white"})}),a.jsxs("h1",{className:"text-3xl font-black text-white tracking-tight",children:["Gs ",a.jsx("span",{className:"text-red-500",children:"Real"})]}),a.jsx("p",{className:"text-slate-400 text-sm font-medium mt-2",children:"Sistema Integrado de Gesto"})]}),e?a.jsxs("form",{onSubmit:oe,className:"space-y-5",children:[a.jsx("div",{className:"bg-blue-500/20 border border-blue-500/30 p-4 rounded-xl text-blue-200 text-xs font-medium text-center",children:"Bem-vindo! Vamos configurar seu acesso administrativo e o primeiro depsito."}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-xs font-black text-slate-400 uppercase ml-1",children:"Nome do Administrador"}),a.jsx("input",{type:"text",value:w,onChange:te=>C(te.target.value),className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-700 rounded-xl text-white outline-none focus:border-red-500 transition-all",placeholder:"Ex: Seu Nome"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-xs font-black text-slate-400 uppercase ml-1",children:"Nome do Depsito Principal"}),a.jsxs("div",{className:"relative",children:[a.jsx(z5,{className:"absolute left-3 top-3.5 w-4 h-4 text-slate-500"}),a.jsx("input",{type:"text",value:O,onChange:te=>M(te.target.value),className:"w-full pl-10 px-4 py-3 bg-slate-800/50 border border-slate-700 rounded-xl text-white outline-none focus:border-red-500 transition-all",placeholder:"Ex: Nome do Depsito"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-xs font-black text-slate-400 uppercase ml-1",children:"Usurio"}),a.jsx("input",{type:"text",value:U,onChange:te=>T(te.target.value),className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-700 rounded-xl text-white outline-none focus:border-red-500 transition-all",autoCapitalize:"none",autoCorrect:"off"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-xs font-black text-slate-400 uppercase ml-1",children:"Senha"}),a.jsx("input",{type:"password",value:S,onChange:te=>I(te.target.value),className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-700 rounded-xl text-white outline-none focus:border-red-500 transition-all",placeholder:"****"})]})]}),m&&a.jsx("p",{className:"text-red-400 text-xs font-bold text-center",children:m}),a.jsx("button",{type:"submit",disabled:b,className:"w-full py-4 bg-emerald-600 hover:bg-emerald-700 text-white font-black rounded-xl shadow-lg transition-all active:scale-95 flex items-center justify-center gap-2",children:b?a.jsx(Yo,{className:"w-5 h-5 animate-spin"}):a.jsxs(a.Fragment,{children:[a.jsx(tl,{className:"w-5 h-5"})," INICIAR SISTEMA"]})})]}):a.jsxs("form",{onSubmit:z,className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-xs font-black text-slate-400 uppercase ml-1",children:"Usurio"}),a.jsxs("div",{className:"relative group",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:a.jsx(sm,{className:"h-5 w-5 text-slate-500 group-focus-within:text-red-500 transition-colors"})}),a.jsx("input",{type:"text",value:l,onChange:te=>u(te.target.value),className:"w-full pl-12 pr-4 py-4 bg-slate-800/50 border border-slate-700 rounded-xl text-white placeholder-slate-500 focus:ring-2 focus:ring-red-500 focus:border-transparent outline-none transition-all font-medium",placeholder:"Seu usurio de acesso",autoComplete:"username",autoCapitalize:"none",autoCorrect:"off",spellCheck:!1,autoFocus:!0})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-xs font-black text-slate-400 uppercase ml-1",children:"Senha"}),a.jsxs("div",{className:"relative group",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:a.jsx(G5,{className:"h-5 w-5 text-slate-500 group-focus-within:text-red-500 transition-colors"})}),a.jsx("input",{type:"password",value:d,onChange:te=>h(te.target.value),className:"w-full pl-12 pr-4 py-4 bg-slate-800/50 border border-slate-700 rounded-xl text-white placeholder-slate-500 focus:ring-2 focus:ring-red-500 focus:border-transparent outline-none transition-all font-medium tracking-wide",placeholder:"",autoComplete:"current-password"})]})]}),m&&a.jsx("div",{className:"p-3 rounded-lg bg-red-500/10 border border-red-500/20 text-red-400 text-sm font-bold text-center animate-in shake",children:m}),a.jsx("button",{type:"submit",disabled:b,className:"w-full py-4 bg-gradient-to-r from-red-600 to-red-800 hover:from-red-500 hover:to-red-700 text-white font-black rounded-xl shadow-lg shadow-red-900/25 flex items-center justify-center gap-2 transition-all active:scale-95 disabled:opacity-70 disabled:cursor-not-allowed group",children:b?a.jsx(Yo,{className:"w-5 h-5 animate-spin"}):a.jsxs(a.Fragment,{children:["ACESSAR SISTEMA",a.jsx(EE,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})})]})]}),a.jsx("div",{className:"absolute bottom-4 text-slate-600 text-[10px] font-mono",children:"v2.5.0  Build 2025"})]})},B7="data:audio/mp3;base64,//uQxAAAAANIAAAAAExBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq//uQxAAAAANIAAAAAExBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq//uQxAAAAANIAAAAAExBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq//uQxAAAAANIAAAAAExBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq//uQxAAAAANIAAAAAExBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq",N7=({currentUser:t,onJobStart:e})=>{const[r,n]=P.useState(!1),[i,l]=P.useState(Date.now()),u=P.useRef(null);P.useEffect(()=>{u.current=new Audio(B7),u.current.loop=!1,u.current.volume=1},[]),P.useEffect(()=>{if(!r)return;const h=async()=>{await updateDriverHeartbeat(t,void 0,void 0,"DISPONIVEL"),l(Date.now()),(await listDeliveryJobs()).find(N=>N.assignedDriverId===t.id&&N.status==="EM_ROTA")&&(u.current&&u.current.play().catch(N=>console.log("udio bloqueado pelo navegador",N)),navigator.vibrate&&navigator.vibrate([500,200,500]),e())},m=setInterval(()=>{h()},3e3);return h(),()=>{clearInterval(m),u.current&&(u.current.pause(),u.current.currentTime=0)}},[r,t,e]);const d=()=>{r?updateDriverHeartbeat(t,void 0,void 0,"OFFLINE").finally(()=>n(!1)):(u.current&&u.current.play().then(()=>{var h;(h=u.current)==null||h.pause(),u.current.currentTime=0}).catch(h=>console.log("Erro ao desbloquear udio:",h)),n(!0))};return a.jsxs("div",{className:"h-full bg-slate-950 flex flex-col text-slate-200",children:[a.jsxs("div",{className:"px-6 py-8 flex flex-col items-center justify-center border-b border-slate-900 bg-slate-900/50",children:[a.jsx("div",{className:`w-24 h-24 rounded-full flex items-center justify-center mb-4 transition-all duration-500 ${r?"bg-emerald-500/10 shadow-[0_0_40px_rgba(16,185,129,0.2)]":"bg-slate-800"}`,children:r?a.jsxs("div",{className:"relative",children:[a.jsx(Y5,{className:"w-10 h-10 text-emerald-500 animate-pulse"}),a.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-emerald-500/30 animate-ping"})]}):a.jsx(X5,{className:"w-10 h-10 text-slate-500"})}),a.jsx("h2",{className:"text-xl font-bold text-white mb-1",children:r?"Aguardando Chamados...":"Voc est Offline"}),a.jsx("p",{className:"text-xs text-slate-500 font-medium",children:r?"O operador enviar entregas para voc":"Ative para receber entregas"})]}),a.jsx("div",{className:"flex-1 flex flex-col items-center justify-center p-8 relative overflow-hidden",children:r?a.jsxs("div",{className:"relative w-64 h-64",children:[a.jsx("div",{className:"absolute inset-0 border border-emerald-500/20 rounded-full animate-[ping_3s_linear_infinite]"}),a.jsx("div",{className:"absolute inset-4 border border-emerald-500/30 rounded-full animate-[ping_3s_linear_infinite_1s]"}),a.jsx("div",{className:"absolute inset-12 border border-emerald-500/10 rounded-full"}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsx(rm,{className:"w-16 h-16 text-slate-600 opacity-50"})}),a.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-t from-emerald-500/20 to-transparent w-full h-1/2 top-1/2 origin-top animate-spin-slow opacity-30 pointer-events-none"})]}):a.jsxs("div",{className:"flex flex-col items-center text-slate-600 gap-4",children:[a.jsx(sS,{className:"w-20 h-20 opacity-20"}),a.jsx("p",{className:"font-medium text-sm",children:"Modo Pausa Ativo"})]})}),a.jsxs("div",{className:"p-6 bg-slate-900 border-t border-slate-800",children:[a.jsxs("button",{onClick:d,className:`w-full py-4 rounded-xl font-black text-lg shadow-lg flex items-center justify-center gap-3 transition-all active:scale-95 ${r?"bg-red-500/10 text-red-500 border border-red-500/50 hover:bg-red-500 hover:text-white":"bg-emerald-600 text-white hover:bg-emerald-500"}`,children:[a.jsx(A3,{className:"w-6 h-6"}),r?"FICAR OFFLINE":"INICIAR TURNO"]}),a.jsxs("p",{className:"text-center text-[10px] text-slate-600 mt-4 font-mono",children:["ltima conexo: ",new Date(i).toLocaleTimeString()]})]})]})},C7=({currentUser:t,onJobFinished:e})=>{const[r,n]=P.useState(null);if(P.useEffect(()=>{let d=!0;const h=async()=>{const b=(await listDeliveryJobsByDriver(t.id)).find(N=>N.status==="EM_ROTA");d&&(b?(n(b),await updateDriverHeartbeat(t,void 0,void 0,"OCUPADO")):e())};h();const m=setInterval(()=>{h()},5e3);return()=>{d=!1,clearInterval(m)}},[t,e]),!r)return a.jsx("div",{className:"p-10 text-center text-white",children:"Carregando dados da entrega..."});const i=()=>{confirm("Confirmar entrega realizada e recebimento do valor?")&&completeJob(r.id).then(()=>e())},l=()=>{const d=prompt("Motivo da devoluo/falha:");d&&returnJob(r.id,d).then(()=>e())},u=()=>{const d=encodeURIComponent(r.address.full+", Rio Verde - GO");window.open(`https://www.google.com/maps/search/?api=1&query=${d}`,"_blank")};return a.jsxs("div",{className:"flex flex-col h-full bg-slate-950 text-white overflow-hidden relative",children:[a.jsxs("div",{className:"h-1/3 bg-slate-800 relative w-full overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 opacity-30 bg-[url('https://upload.wikimedia.org/wikipedia/commons/e/ec/OpenStreetMap_Logo.png')] bg-cover bg-center grayscale mix-blend-overlay"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent to-slate-950"}),a.jsxs("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 px-4 py-1.5 rounded-full bg-slate-900/80 backdrop-blur border border-slate-700 text-xs font-bold uppercase tracking-widest flex items-center gap-2",children:[a.jsx(nw,{className:"w-4 h-4 text-blue-500 animate-pulse"}),"Em Deslocamento"]})]}),a.jsxs("div",{className:"flex-1 bg-slate-900 rounded-t-[2rem] -mt-10 relative z-10 flex flex-col p-6 shadow-[0_-10px_40px_rgba(0,0,0,0.5)] border-t border-slate-800",children:[a.jsx("div",{className:"w-12 h-1.5 bg-slate-700 rounded-full mx-auto mb-6 opacity-50"}),a.jsxs("div",{className:"space-y-6 flex-1 overflow-y-auto pb-4",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black leading-tight mb-1",children:r.customerName}),a.jsxs("div",{className:"flex items-center gap-2 text-indigo-400 font-bold text-sm",onClick:()=>window.open(`tel:${r.customerPhone}`),children:[a.jsx(Gb,{className:"w-4 h-4"})," ",r.customerPhone||"Sem telefone"]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-xs text-slate-500 font-bold uppercase",children:"Total a Receber"}),a.jsxs("div",{className:"text-2xl font-black text-emerald-400",children:["R$ ",r.totalValue.toFixed(2)]})]})]}),a.jsxs("div",{className:"bg-slate-800 p-4 rounded-2xl border border-slate-700 flex gap-4",children:[a.jsx(IA,{className:"w-6 h-6 text-indigo-500 shrink-0 mt-1"}),a.jsx("div",{children:a.jsx("p",{className:"text-sm font-medium text-slate-200 leading-snug",children:r.address.full})})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between text-sm border-b border-slate-800 pb-2",children:[a.jsx("span",{className:"text-slate-500",children:"Pagamento"}),a.jsx("span",{className:"font-bold",children:r.paymentMethod})]}),a.jsxs("div",{className:"flex justify-between text-sm border-b border-slate-800 pb-2",children:[a.jsx("span",{className:"text-slate-500",children:"Itens"}),a.jsx("span",{className:"font-bold text-right max-w-[200px] truncate",children:r.itemsSummary})]}),r.observation&&a.jsxs("div",{className:"bg-amber-500/10 border border-amber-500/20 p-3 rounded-xl text-xs text-amber-200",children:[a.jsx("span",{className:"font-bold block mb-1",children:"Observao:"}),r.observation]})]})]}),a.jsxs("div",{className:"mt-4 space-y-3",children:[a.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[a.jsx("button",{onClick:u,className:"col-span-1 bg-slate-800 hover:bg-slate-700 text-white rounded-xl flex items-center justify-center py-4",children:a.jsx(nw,{className:"w-6 h-6"})}),a.jsxs("button",{onClick:i,className:"col-span-3 py-4 bg-emerald-600 hover:bg-emerald-700 text-white rounded-xl font-black text-base shadow-lg shadow-emerald-500/20 flex items-center justify-center gap-2",children:[a.jsx(tA,{className:"w-5 h-5"})," FINALIZAR"]})]}),a.jsx("button",{onClick:l,className:"w-full py-3 text-xs font-bold text-slate-500 hover:text-red-500 transition-colors",children:"Relatar Problema / Devolver"})]})]})]})},E7=({currentUser:t,onLogout:e})=>{const[r,n]=P.useState("WAITING");return P.useEffect(()=>{(async()=>{(await listDeliveryJobsByDriver(t.id)).find(d=>d.status==="EM_ROTA")&&n("ACTIVE")})()},[t]),a.jsxs("div",{className:"h-screen w-full overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"bg-slate-950 p-4 flex justify-between items-center border-b border-slate-800 shrink-0 z-50",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-800 border border-slate-700 flex items-center justify-center text-xs font-bold text-slate-300",children:t.nome.substring(0,2).toUpperCase()}),a.jsx("span",{className:"font-bold text-slate-200 text-sm",children:t.nome})]}),a.jsx("button",{onClick:e,className:"p-2 text-slate-500 hover:text-red-500 transition-colors",children:a.jsx(V5,{className:"w-5 h-5"})})]}),a.jsx("div",{className:"flex-1 relative",children:r==="WAITING"?a.jsx(N7,{currentUser:t,onJobStart:()=>n("ACTIVE")}):a.jsx(C7,{currentUser:t,onJobFinished:()=>n("WAITING")})})]})},S7=t=>{typeof window>"u"||window.dispatchEvent(new CustomEvent("gp:navigate",{detail:t}))},j7=()=>{const[t,e]=P.useState({x:window.innerWidth-150,y:window.innerHeight-150}),[r,n]=P.useState(!1),[i,l]=P.useState({x:0,y:0}),[u,d]=P.useState({x:0,y:0}),[h,m]=P.useState(0),[g,b]=P.useState(!1),[N,w]=P.useState(null),[C,U]=P.useState(!1),T=[],S=T.length,I=S>0?T[h%S]:null,O=P.useMemo(()=>T.some(ge=>ge.type==="critical"),[T]),M=O?"critical":S>0?"worried":"happy",ne=P.useRef(null);P.useEffect(()=>{if(S<=1)return;const ge=setInterval(()=>{m(Z=>(Z+1)%S)},5e3);return()=>clearInterval(ge)},[S]),P.useEffect(()=>{h>=S&&m(0)},[h,S]),P.useEffect(()=>{const ge=W=>{if(r&&(e({x:W.clientX-i.x,y:W.clientY-i.y}),N)){const ae=Math.abs(W.clientX-N.x),K=Math.abs(W.clientY-N.y);(ae>4||K>4)&&U(!0)}if(ne.current){const ae=ne.current.getBoundingClientRect(),K=ae.left+ae.width/2,ue=ae.top+ae.height/2,Q=Math.atan2(W.clientY-ue,W.clientX-K),Ae=Math.min(3,Math.hypot(W.clientX-K,W.clientY-ue)/20);d({x:Math.cos(Q)*Ae,y:Math.sin(Q)*Ae})}},Z=()=>{n(!1),N&&(C||b(W=>!W),U(!1),w(null))};return window.addEventListener("mousemove",ge),window.addEventListener("mouseup",Z),()=>{window.removeEventListener("mousemove",ge),window.removeEventListener("mouseup",Z)}},[r,i,N,C]);const z=ge=>{n(!0),l({x:ge.clientX-t.x,y:ge.clientY-t.y}),w({x:ge.clientX,y:ge.clientY}),U(!1)},oe=()=>M==="critical"?"bg-red-500 shadow-[0_0_15px_rgba(239,68,68,0.9)]":M==="worried"?"bg-amber-400 shadow-[0_0_10px_rgba(251,191,36,0.8)]":"bg-cyan-400 shadow-[0_0_10px_rgba(34,211,238,0.8)]",te=()=>M==="critical"?"bg-red-950/80 border-red-800":M==="worried"?"bg-amber-950/80 border-amber-800":"bg-slate-800 border-slate-600",X=ge=>{S7(ge),b(!1)};return a.jsxs("div",{ref:ne,className:`fixed z-[9999] touch-none select-none cursor-move group transition-shadow duration-300 ${r?"scale-105":""}`,style:{left:t.x,top:t.y,filter:r?"drop-shadow(0 20px 20px rgba(0,0,0,0.3))":"drop-shadow(0 10px 10px rgba(0,0,0,0.2))"},onMouseDown:z,children:[I&&a.jsx("div",{className:"absolute -top-24 left-1/2 -translate-x-1/2",children:a.jsxs("div",{className:`relative bg-white text-gray-900 border rounded-2xl shadow-xl px-4 py-3 text-xs w-64 animate-in fade-in duration-300 ${O?"border-red-500":"border-gray-200"}`,children:[a.jsx("div",{className:`text-[10px] font-black uppercase ${I.type==="critical"?"text-red-600":"text-amber-600"}`,children:I.type==="critical"?"Critico":"Aviso"}),a.jsx("div",{className:"text-xs font-semibold text-gray-900",children:I.message}),a.jsx("div",{className:`absolute -bottom-3 left-8 w-3 h-3 rounded-full bg-white border ${O?"border-red-500":"border-gray-200"}`}),a.jsx("div",{className:`absolute -bottom-8 left-14 w-2 h-2 rounded-full bg-white border ${O?"border-red-500":"border-gray-200"}`}),a.jsx("div",{className:`absolute -bottom-16 left-20 w-1.5 h-1.5 rounded-full bg-white border ${O?"border-red-500":"border-gray-200"}`})]})}),S>0&&a.jsx("div",{className:"absolute -top-2 -right-2 bg-red-600 text-white text-[10px] font-black w-6 h-6 flex items-center justify-center rounded-full border-2 border-white z-20 animate-bounce",children:S}),a.jsx("div",{className:`relative ${r?"":"animate-float"}`,children:a.jsxs("div",{className:"relative w-20 h-24",children:[a.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-10 h-3 bg-slate-300 rounded-full border border-slate-400 z-10"}),a.jsx("div",{className:"absolute top-1 left-1/2 -translate-x-1/2 w-5 h-5 bg-slate-300 z-0 rounded-sm"}),a.jsxs("div",{className:"absolute top-5 w-full h-full bg-gradient-to-br from-slate-200 via-slate-300 to-slate-400 rounded-3xl border border-slate-400 shadow-inner flex flex-col items-center justify-center overflow-hidden",children:[a.jsx("div",{className:"absolute top-3 left-3 w-4 h-10 bg-white/40 rounded-full blur-[2px]"}),a.jsxs("div",{className:`w-14 h-9 rounded-xl mt-3 flex items-center justify-center gap-2 shadow-[inset_0_2px_4px_rgba(0,0,0,0.5)] border relative overflow-hidden transition-colors duration-500 ${te()}`,children:[a.jsxs("div",{className:"flex gap-2 transition-transform duration-100",style:{transform:`translate(${u.x}px, ${u.y}px)`},children:[a.jsx("div",{className:`w-3 h-3 rounded-full transition-colors duration-500 ${oe()} ${M==="worried"?"rounded-t-sm":""} ${M==="critical"?"animate-pulse":""}`}),a.jsx("div",{className:`w-3 h-3 rounded-full transition-colors duration-500 ${oe()} ${M==="worried"?"rounded-t-sm":""} ${M==="critical"?"animate-pulse":""}`})]}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-white/5 to-transparent animate-scan"})]}),a.jsxs("div",{className:"mt-3 flex flex-col gap-1 items-center",children:[a.jsx("div",{className:`w-8 h-0.5 rounded-full transition-colors ${M==="critical"?"bg-red-400":"bg-slate-500"}`}),a.jsx("div",{className:`w-6 h-0.5 rounded-full transition-colors ${M==="critical"?"bg-red-400":"bg-slate-500"}`})]}),a.jsx("div",{className:"absolute bottom-4 w-full border-t border-slate-400/30"})]}),a.jsx("div",{className:`absolute top-12 -left-3 w-4 h-4 bg-slate-400 rounded-full shadow-sm border border-slate-500 transition-transform ${r?"-rotate-12":"animate-wiggle-left"}`}),a.jsx("div",{className:`absolute top-12 -right-3 w-4 h-4 bg-slate-400 rounded-full shadow-sm border border-slate-500 transition-transform ${r?"rotate-12":"animate-wiggle-right"}`}),a.jsxs("div",{className:"absolute -top-6 left-1/2 -translate-x-1/2 opacity-0 group-hover:opacity-100 transition-opacity bg-slate-800 text-white text-[10px] px-2 py-1 rounded-full whitespace-nowrap pointer-events-none flex items-center gap-1",children:[a.jsx(JS,{className:"w-3 h-3"})," Arraste-me"]})]})}),g&&a.jsxs("div",{className:"absolute left-full top-0 ml-4 w-72 bg-white text-gray-900 border border-gray-200 rounded-xl shadow-xl overflow-hidden animate-in fade-in duration-200",onMouseDown:ge=>ge.stopPropagation(),onClick:ge=>ge.stopPropagation(),children:[a.jsxs("div",{className:"px-4 py-3 border-b border-gray-200 text-[10px] font-black uppercase text-gray-500",children:["Alertas do sistema (",S,")"]}),a.jsx("div",{className:"max-h-64 overflow-y-auto",children:T.length===0?a.jsx("div",{className:"px-4 py-4 text-xs text-gray-500",children:"Nenhum alerta ativo."}):T.map(ge=>a.jsxs("button",{type:"button",onClick:()=>X(ge.link),className:"w-full text-left px-4 py-3 border-b border-gray-100 last:border-b-0 hover:bg-gray-50",children:[a.jsx("div",{className:`text-[10px] font-black uppercase ${ge.type==="critical"?"text-red-600":"text-amber-600"}`,children:ge.type==="critical"?"Critico":"Aviso"}),a.jsx("div",{className:"text-xs text-gray-800",children:ge.message})]},ge.id))})]}),a.jsx("style",{children:`

        @keyframes float {

          0%, 100% { transform: translateY(0); }

          50% { transform: translateY(-8px); }

        }

        .animate-float {

          animation: float 3s infinite ease-in-out;

        }

        @keyframes scan {

          0% { transform: translateY(-100%); }

          100% { transform: translateY(100%); }

        }

        .animate-scan {

          animation: scan 2s linear infinite;

        }

      `})]})},U7=({user:t})=>{const{openShift:e}=Zm(),[r,n]=P.useState(""),[i,l]=P.useState({}),[u,d]=P.useState([]),[h,m]=P.useState({}),[g,b]=P.useState(!1),[N,w]=P.useState(null),[C,U]=P.useState(t.depositoId||""),T=sa(()=>{var oe;return(oe=Or.deposits)==null?void 0:oe.toArray()},[])??[],S=sa(()=>C?Or.deposits.get(C):void 0,[C]),I=!!((S==null?void 0:S.require_stock_audit)??(S==null?void 0:S.requireStockAudit)),O=oe=>oe.deposit_id??oe.depositId??oe.depositoId??null;P.useEffect(()=>{let oe=!0;return(async()=>{if(C)try{const ge=(await yc.getAll()).filter(ae=>{if(ae.track_stock===!1||ae.type==="SERVICE")return!1;const K=O(ae);return K===null||K===C}),Z=await $R.getBalancesByDeposit(C),W={};if(Z.forEach((ae,K)=>{W[K]=ae}),!oe)return;d(ge),m(W)}catch(X){console.error("Erro ao carregar produtos/estoque",X),ms.error("Erro ao carregar produtos ou estoque para auditoria")}})(),()=>{oe=!1}},[C]);const M=P.useMemo(()=>!I||!u.length?!1:u.some(oe=>i[oe.id]===""||i[oe.id]===void 0),[I,u,i]),ne=(oe,te)=>{const X=parseInt(te);l(ge=>({...ge,[oe]:Number.isNaN(X)?"":Math.max(0,X)}))},z=async()=>{if(w(null),!C){w("Erro: Usurio sem depsito vinculado.");return}const oe=Number(r.replace(",","."));if(!Number.isFinite(oe)||oe<0){w("Informe um valor valido para o fundo de troco.");return}if(M){w("Preencha a contagem inicial de estoque.");return}b(!0);try{await e({openingBalance:oe})}catch{w("Falha ao abrir o turno.")}finally{b(!1)}};return a.jsx("div",{className:"fixed inset-0 z-[70] bg-black/70 flex items-center justify-center p-6",children:a.jsxs("div",{className:"w-full max-w-3xl bg-surface border border-bdr rounded-2xl shadow-xl overflow-hidden",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-bdr flex items-center gap-3",children:[a.jsx("div",{className:"bg-primary/10 p-2 rounded-lg border border-primary/20",children:a.jsx(qb,{className:"w-5 h-5 text-primary"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-base font-black text-txt-main",children:"Abertura de Caixa"}),a.jsx("p",{className:"text-xs text-txt-muted",children:"Turno obrigatorio para acesso ao sistema."})]})]}),a.jsxs("div",{className:"p-6 space-y-6",children:[!t.depositoId&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-bold text-txt-main",children:"Selecione o Depsito *"}),a.jsxs("select",{value:C,onChange:oe=>U(oe.target.value),className:"w-full px-4 py-3 border border-bdr rounded-lg bg-app text-txt-main focus:ring-2 focus:ring-primary",required:!0,children:[a.jsx("option",{value:"",children:"-- Selecione um depsito --"}),T.map(oe=>a.jsx("option",{value:oe.id,children:oe.nome},oe.id))]}),a.jsx("p",{className:"text-xs text-txt-muted",children:"Selecione o depsito onde deseja abrir turno."})]}),N&&a.jsx("div",{className:"bg-red-500/10 border border-red-500/30 rounded-xl p-4",children:a.jsxs("div",{className:"flex items-center gap-2 text-red-500 font-bold text-sm",children:[a.jsx($c,{className:"w-4 h-4"}),N]})}),a.jsxs("div",{className:"bg-app border border-bdr rounded-xl p-4 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-app rounded-full border border-bdr",children:a.jsx(z5,{className:"w-5 h-5 text-txt-muted"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-txt-muted uppercase font-bold",children:"Deposito"}),a.jsx("div",{className:"text-sm font-black text-txt-main",children:(S==null?void 0:S.nome)||"Selecione um depsito"})]})]}),I&&a.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-amber-500 bg-amber-500/10 border border-amber-500/20 px-2 py-1 rounded",children:[a.jsx($c,{className:"w-4 h-4"}),"Auditoria de estoque obrigatoria"]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 items-end",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-xs font-bold text-txt-muted uppercase ml-1",children:"Fundo de Troco / Suprimento Inicial"}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute left-3 top-2.5 text-txt-muted font-medium",children:"R$"}),a.jsx("input",{type:"number",min:"0",value:r,onChange:oe=>n(oe.target.value),className:"w-full pl-10 pr-4 py-2 bg-app border border-bdr rounded-lg focus:ring-2 focus:ring-primary/20 outline-none font-bold text-txt-main",placeholder:"0.00"})]})]})}),I&&u.length>0&&a.jsxs("div",{className:"bg-app border border-bdr rounded-xl overflow-hidden",children:[a.jsx("div",{className:"px-4 py-3 border-b border-bdr",children:a.jsx("h4",{className:"text-xs font-black text-txt-muted uppercase tracking-widest",children:"Contagem Inicial de Estoque"})}),a.jsxs("table",{className:"w-full text-sm text-left",children:[a.jsx("thead",{className:"bg-surface text-[10px] text-txt-muted uppercase font-black border-b border-bdr",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3",children:"Produto"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"Estoque Sistema"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"Contado"})]})}),a.jsx("tbody",{className:"divide-y divide-bdr",children:u.map(oe=>a.jsxs("tr",{className:"hover:bg-app/60 transition-colors",children:[a.jsx("td",{className:"px-4 py-3 font-medium text-txt-main",children:oe.nome}),a.jsx("td",{className:"px-4 py-3 text-center font-mono text-txt-muted",children:h[oe.id]??0}),a.jsx("td",{className:"px-4 py-3 text-center",children:a.jsx("input",{type:"number",min:"0",value:i[oe.id]??"",onChange:te=>ne(oe.id,te.target.value),className:"w-24 text-center font-black bg-surface border border-bdr rounded-lg py-1 text-txt-main focus:ring-2 focus:ring-primary/20 outline-none",placeholder:"-"})})]},oe.id))})]})]}),N&&a.jsx("div",{className:"text-xs font-bold text-red-500 bg-red-500/10 border border-red-500/20 px-3 py-2 rounded",children:N})]}),a.jsx("div",{className:"px-6 py-4 border-t border-bdr bg-app flex justify-end",children:a.jsxs("button",{onClick:z,disabled:g,className:"bg-primary hover:bg-primary/90 text-white px-6 py-2 rounded-lg font-black text-sm flex items-center gap-2 disabled:opacity-60",children:[a.jsx(tl,{className:"w-4 h-4"}),g?"Abrindo...":"Abrir Turno"]})})]})})},k7=({currentUser:t,children:e})=>{const{activeShift:r,loading:n}=Zm();return t.cargo==="ENTREGADOR"||t.cargo==="GERENTE"?a.jsx(a.Fragment,{children:e}):a.jsxs(a.Fragment,{children:[e,n&&a.jsx("div",{className:"fixed inset-0 z-[70] bg-black/70 flex items-center justify-center text-white text-sm font-bold",children:"Carregando turno..."}),!n&&!r&&a.jsx(U7,{user:t})]})},L7=()=>{const{showGasRobot:t}=YC(),[e,r]=P.useState(null),[n,i]=P.useState(null),[l,u]=P.useState(""),[d,h]=P.useState([]),[m,g]=P.useState(()=>localStorage.getItem("gp_theme")||"light"),b=null,N=.1;P.useEffect(()=>{(async()=>{console.log("Iniciando o sistema...");const M=localStorage.getItem("gp_session");if(M)try{const ne=JSON.parse(M);r(ne)}catch(ne){console.error("Session parse error",ne),localStorage.removeItem("gp_session")}})()},[]),P.useEffect(()=>{},[]),P.useEffect(()=>{const O=Ih.find(ne=>ne.id===m)||Ih[0],M=document.documentElement;M.style.setProperty("--app-bg",O.colors.appBg),M.style.setProperty("--surface-bg",O.colors.surfaceBg),M.style.setProperty("--text-main",O.colors.textMain),M.style.setProperty("--text-muted",O.colors.textMuted),M.style.setProperty("--border-color",O.colors.border),M.style.setProperty("--primary",O.colors.primary),M.style.setProperty("--app-pattern",O.pattern??"none"),M.style.setProperty("--bg-image","none"),M.style.setProperty("--bg-opacity",String(N)),localStorage.setItem("gp_theme",m),localStorage.removeItem("gp_bg_image"),localStorage.removeItem("gp_bg_opacity")},[m,b,N]);const w=P.useMemo(()=>e?e.cargo==="GERENTE"||e.username==="admin"?Zc:Zc.filter(O=>{var M;return(M=e.permissoes)==null?void 0:M.includes(O.id)}):[],[e]),C=()=>{const O=l.trim().toLowerCase();if(!O){h([]);return}const M=w.filter(ne=>ne.label.toLowerCase().includes(O)||ne.id.toLowerCase().includes(O)).map(ne=>ne.id);h(M)},U=O=>{O.key==="Enter"&&(O.preventDefault(),C())},T=()=>{localStorage.removeItem("gp_session"),r(null),i(null)},S=O=>{switch(O){case"/stock":return"estoque";case"/finance":return"financeiro";case"/orders":return"nova-os";default:return null}};if(P.useEffect(()=>{const O=M=>{const ne=M.detail;if(!ne)return;const z=S(ne);z&&i(z)};return window.addEventListener("gp:navigate",O),()=>window.removeEventListener("gp:navigate",O)},[]),!e)return a.jsx(_7,{onLoginSuccess:O=>{r(O),localStorage.setItem("gp_session",JSON.stringify(O))}});if(e.cargo==="ENTREGADOR")return a.jsx(E7,{currentUser:e,onLogout:T});const I=()=>{const M=["dispatch","sales-modalities","transaction-modalities","delivery-settings"].includes(n||"")||w.some(ne=>ne.id===n);if(n&&!M)return null;switch(n){case"dispatch":return a.jsx(d7,{onClose:()=>i(null)});case"nova-os":return a.jsx(RD,{onClose:()=>i(null),currentUser:e});case"clientes":return a.jsx(uM,{onClose:()=>i(null),userRole:e.cargo==="GERENTE"?"ADMIN":"COLABORADOR"});case"painel":return a.jsx(DD,{onClose:()=>i(null),onNavigate:ne=>i(ne)});case"resumo":return a.jsx(MD,{onClose:()=>i(null)});case"financeiro":return a.jsx(YD,{onClose:()=>i(null),onNavigate:ne=>i(ne)});case"sales-modalities":return a.jsx(tM,{onClose:()=>i(null)});case"transaction-modalities":return a.jsx(rM,{onClose:()=>i(null)});case"fechar-caixa":return a.jsx(nM,{onClose:()=>i(null)});case"auditoria":return a.jsx(pM,{onClose:()=>i(null)});case"rel-entregas":return a.jsx(ZP,{onClose:()=>i(null)});case"delivery-settings":return a.jsx(u7,{onClose:()=>i(null)});case"alertas":return a.jsx(b7,{onClose:()=>i(null)});case"colaboradores":return a.jsx(w7,{onClose:()=>i(null)});case"depositos-estoque":return a.jsx(f7,{onClose:()=>i(null),currentUser:e});case"temas":return a.jsx(mM,{onClose:()=>i(null),currentTheme:m,onThemeChange:g,backgroundImage:b,backgroundOpacity:N,onBackgroundImageChange:async ne=>{console.warn("Background customizado desabilitado na v3.0")},onBackgroundOpacityChange:ne=>{console.warn("Opacidade desabilitada na v3.0")}});default:return null}};return a.jsxs(XD,{currentUser:e,children:[a.jsx(k7,{currentUser:e,children:a.jsxs("div",{className:"min-h-screen text-txt-main flex flex-col transition-colors duration-300",children:[a.jsxs("header",{className:"bg-surface border-b border-bdr p-6 shadow-sm flex justify-between items-center transition-colors duration-300",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-black tracking-tighter flex items-center gap-2 text-red-600",children:[a.jsx(H5,{className:"w-8 h-8 text-red-600"}),"GS REAL"]}),a.jsx("p",{className:"text-txt-muted text-xs font-medium mt-1",children:"SISTEMA INTEGRADO DE GESTO"})]}),a.jsxs("div",{className:"flex items-center gap-6",children:[(e.cargo==="GERENTE"||e.cargo==="ATENDENTE")&&a.jsx("button",{onClick:()=>i("dispatch"),className:"hidden md:flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-bold text-xs uppercase tracking-wide transition-transform active:scale-95 shadow-md",children:"Despacho de Entregas"}),a.jsxs("div",{className:"text-right hidden sm:block",children:[a.jsx("p",{className:"text-sm font-bold text-txt-main",children:e.nome}),a.jsxs("p",{className:"text-[10px] text-primary font-bold uppercase tracking-widest",children:[e.cargo,"  ",e.depositoId]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-primary border-2 border-surface flex items-center justify-center font-bold text-white shadow-lg",children:e.nome.substring(0,2).toUpperCase()}),a.jsx("button",{onClick:T,className:"p-2 text-txt-muted hover:text-red-500 hover:bg-red-50 rounded-full transition-colors",title:"Sair",children:a.jsx(V5,{className:"w-5 h-5"})})]})]})]}),a.jsx("main",{className:"flex-1 p-6 md:p-12",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-10 flex flex-col md:flex-row md:items-end justify-between gap-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-4xl font-black text-txt-main tracking-tight mb-2",children:"Painel Operacional"}),a.jsx("p",{className:"text-txt-muted font-medium",children:"Selecione uma funcionalidade para iniciar o trabalho"})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full md:w-auto md:min-w-[360px]",children:[a.jsx("div",{className:"relative flex-1",children:a.jsx("input",{type:"text",value:l,onChange:O=>u(O.target.value),onKeyDown:U,placeholder:"Buscar funo do sistema e pressionar Enter",className:"w-full bg-surface border-2 border-bdr rounded-xl px-4 py-3 text-sm font-bold text-txt-main placeholder:text-txt-muted focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none"})}),a.jsx("button",{onClick:C,className:"px-4 py-3 bg-primary text-white font-black text-xs uppercase tracking-widest rounded-xl shadow-md hover:bg-primary/90 active:scale-95 transition-all",children:"Buscar"}),d.length>0&&a.jsx("button",{onClick:()=>{h([]),u("")},className:"px-3 py-3 bg-surface border border-bdr text-txt-muted hover:text-red-500 hover:border-red-300 rounded-xl text-xs font-black uppercase tracking-widest transition-all",children:"Limpar"})]})]}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6",children:w.map(O=>a.jsx(aj,{item:O,onClick:i,highlight:d.includes(O.id)},O.id))})]})}),a.jsx("footer",{className:"bg-surface border-t border-bdr p-4 text-center text-txt-muted text-xs font-medium transition-colors duration-300",children:" 2025 Gs Real - Sistema de Gesto Inteligente"}),I(),t&&a.jsx(j7,{})]})}),a.jsx(BD,{richColors:!0,closeButton:!0,position:"top-right"})]})},F7=()=>a.jsx(m7,{children:a.jsx(L7,{})}),JC=document.getElementById("root");if(!JC)throw new Error("Could not find root element to mount to");const T7=gE.createRoot(JC);T7.render(a.jsx(Dt.StrictMode,{children:a.jsx(F7,{})}));export{Dt as R,Wn as _,ou as a,Q7 as c,Bm as g,Os as l,P as r,Yh as u};
