var N4=Object.defineProperty;var C4=(r,e,t)=>e in r?N4(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var Dn=(r,e,t)=>C4(r,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();var dP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Rh(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Yg={exports:{}},$d={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vy;function E4(){if(vy)return $d;vy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,a,o){var c=null;if(o!==void 0&&(c=""+o),a.key!==void 0&&(c=""+a.key),"key"in a){o={};for(var d in a)d!=="key"&&(o[d]=a[d])}else o=a;return a=o.ref,{$$typeof:r,type:n,key:c,ref:a!==void 0?a:null,props:o}}return $d.Fragment=e,$d.jsx=t,$d.jsxs=t,$d}var yy;function S4(){return yy||(yy=1,Yg.exports=E4()),Yg.exports}var i=S4(),Xg={exports:{}},qr={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wy;function L4(){if(wy)return qr;wy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),B=Symbol.iterator;function _(V){return V===null||typeof V!="object"?null:(V=B&&V[B]||V["@@iterator"],typeof V=="function"?V:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,T={};function C(V,O,G){this.props=V,this.context=O,this.refs=T,this.updater=G||k}C.prototype.isReactComponent={},C.prototype.setState=function(V,O){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,O,"setState")},C.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function I(){}I.prototype=C.prototype;function F(V,O,G){this.props=V,this.context=O,this.refs=T,this.updater=G||k}var R=F.prototype=new I;R.constructor=F,j(R,C.prototype),R.isPureReactComponent=!0;var ae=Array.isArray;function Z(){}var me={H:null,A:null,T:null,S:null},ee=Object.prototype.hasOwnProperty;function H(V,O,G){var Q=G.ref;return{$$typeof:r,type:V,key:O,ref:Q!==void 0?Q:null,props:G}}function W(V,O){return H(V.type,O,V.props)}function K(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function $(V){var O={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(G){return O[G]})}var re=/\/+/g;function le(V,O){return typeof V=="object"&&V!==null&&V.key!=null?$(""+V.key):O.toString(36)}function ge(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(Z,Z):(V.status="pending",V.then(function(O){V.status==="pending"&&(V.status="fulfilled",V.value=O)},function(O){V.status==="pending"&&(V.status="rejected",V.reason=O)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function Y(V,O,G,Q,oe){var ce=typeof V;(ce==="undefined"||ce==="boolean")&&(V=null);var Be=!1;if(V===null)Be=!0;else switch(ce){case"bigint":case"string":case"number":Be=!0;break;case"object":switch(V.$$typeof){case r:case e:Be=!0;break;case g:return Be=V._init,Y(Be(V._payload),O,G,Q,oe)}}if(Be)return oe=oe(V),Be=Q===""?"."+le(V,0):Q,ae(oe)?(G="",Be!=null&&(G=Be.replace(re,"$&/")+"/"),Y(oe,O,G,"",function(He){return He})):oe!=null&&(K(oe)&&(oe=W(oe,G+(oe.key==null||V&&V.key===oe.key?"":(""+oe.key).replace(re,"$&/")+"/")+Be)),O.push(oe)),1;Be=0;var Se=Q===""?".":Q+":";if(ae(V))for(var Fe=0;Fe<V.length;Fe++)Q=V[Fe],ce=Se+le(Q,Fe),Be+=Y(Q,O,G,ce,oe);else if(Fe=_(V),typeof Fe=="function")for(V=Fe.call(V),Fe=0;!(Q=V.next()).done;)Q=Q.value,ce=Se+le(Q,Fe++),Be+=Y(Q,O,G,ce,oe);else if(ce==="object"){if(typeof V.then=="function")return Y(ge(V),O,G,Q,oe);throw O=String(V),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.")}return Be}function pe(V,O,G){if(V==null)return V;var Q=[],oe=0;return Y(V,Q,"","",function(ce){return O.call(G,ce,oe++)}),Q}function z(V){if(V._status===-1){var O=V._result;O=O(),O.then(function(G){(V._status===0||V._status===-1)&&(V._status=1,V._result=G)},function(G){(V._status===0||V._status===-1)&&(V._status=2,V._result=G)}),V._status===-1&&(V._status=0,V._result=O)}if(V._status===1)return V._result.default;throw V._result}var ve=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var O=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(O))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},we={map:pe,forEach:function(V,O,G){pe(V,function(){O.apply(this,arguments)},G)},count:function(V){var O=0;return pe(V,function(){O++}),O},toArray:function(V){return pe(V,function(O){return O})||[]},only:function(V){if(!K(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return qr.Activity=b,qr.Children=we,qr.Component=C,qr.Fragment=t,qr.Profiler=a,qr.PureComponent=F,qr.StrictMode=n,qr.Suspense=h,qr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=me,qr.__COMPILER_RUNTIME={__proto__:null,c:function(V){return me.H.useMemoCache(V)}},qr.cache=function(V){return function(){return V.apply(null,arguments)}},qr.cacheSignal=function(){return null},qr.cloneElement=function(V,O,G){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var Q=j({},V.props),oe=V.key;if(O!=null)for(ce in O.key!==void 0&&(oe=""+O.key),O)!ee.call(O,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&O.ref===void 0||(Q[ce]=O[ce]);var ce=arguments.length-2;if(ce===1)Q.children=G;else if(1<ce){for(var Be=Array(ce),Se=0;Se<ce;Se++)Be[Se]=arguments[Se+2];Q.children=Be}return H(V.type,oe,Q)},qr.createContext=function(V){return V={$$typeof:c,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:o,_context:V},V},qr.createElement=function(V,O,G){var Q,oe={},ce=null;if(O!=null)for(Q in O.key!==void 0&&(ce=""+O.key),O)ee.call(O,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(oe[Q]=O[Q]);var Be=arguments.length-2;if(Be===1)oe.children=G;else if(1<Be){for(var Se=Array(Be),Fe=0;Fe<Be;Fe++)Se[Fe]=arguments[Fe+2];oe.children=Se}if(V&&V.defaultProps)for(Q in Be=V.defaultProps,Be)oe[Q]===void 0&&(oe[Q]=Be[Q]);return H(V,ce,oe)},qr.createRef=function(){return{current:null}},qr.forwardRef=function(V){return{$$typeof:d,render:V}},qr.isValidElement=K,qr.lazy=function(V){return{$$typeof:g,_payload:{_status:-1,_result:V},_init:z}},qr.memo=function(V,O){return{$$typeof:m,type:V,compare:O===void 0?null:O}},qr.startTransition=function(V){var O=me.T,G={};me.T=G;try{var Q=V(),oe=me.S;oe!==null&&oe(G,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(Z,ve)}catch(ce){ve(ce)}finally{O!==null&&G.types!==null&&(O.types=G.types),me.T=O}},qr.unstable_useCacheRefresh=function(){return me.H.useCacheRefresh()},qr.use=function(V){return me.H.use(V)},qr.useActionState=function(V,O,G){return me.H.useActionState(V,O,G)},qr.useCallback=function(V,O){return me.H.useCallback(V,O)},qr.useContext=function(V){return me.H.useContext(V)},qr.useDebugValue=function(){},qr.useDeferredValue=function(V,O){return me.H.useDeferredValue(V,O)},qr.useEffect=function(V,O){return me.H.useEffect(V,O)},qr.useEffectEvent=function(V){return me.H.useEffectEvent(V)},qr.useId=function(){return me.H.useId()},qr.useImperativeHandle=function(V,O,G){return me.H.useImperativeHandle(V,O,G)},qr.useInsertionEffect=function(V,O){return me.H.useInsertionEffect(V,O)},qr.useLayoutEffect=function(V,O){return me.H.useLayoutEffect(V,O)},qr.useMemo=function(V,O){return me.H.useMemo(V,O)},qr.useOptimistic=function(V,O){return me.H.useOptimistic(V,O)},qr.useReducer=function(V,O,G){return me.H.useReducer(V,O,G)},qr.useRef=function(V){return me.H.useRef(V)},qr.useState=function(V){return me.H.useState(V)},qr.useSyncExternalStore=function(V,O,G){return me.H.useSyncExternalStore(V,O,G)},qr.useTransition=function(){return me.H.useTransition()},qr.version="19.2.3",qr}var _y;function wb(){return _y||(_y=1,Xg.exports=L4()),Xg.exports}var q=wb();const Ot=Rh(q);var Jg={exports:{}},Yd={},Wg={exports:{}},e0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var By;function j4(){return By||(By=1,(function(r){function e(Y,pe){var z=Y.length;Y.push(pe);e:for(;0<z;){var ve=z-1>>>1,we=Y[ve];if(0<a(we,pe))Y[ve]=pe,Y[z]=we,z=ve;else break e}}function t(Y){return Y.length===0?null:Y[0]}function n(Y){if(Y.length===0)return null;var pe=Y[0],z=Y.pop();if(z!==pe){Y[0]=z;e:for(var ve=0,we=Y.length,V=we>>>1;ve<V;){var O=2*(ve+1)-1,G=Y[O],Q=O+1,oe=Y[Q];if(0>a(G,z))Q<we&&0>a(oe,G)?(Y[ve]=oe,Y[Q]=z,ve=Q):(Y[ve]=G,Y[O]=z,ve=O);else if(Q<we&&0>a(oe,z))Y[ve]=oe,Y[Q]=z,ve=Q;else break e}}return pe}function a(Y,pe){var z=Y.sortIndex-pe.sortIndex;return z!==0?z:Y.id-pe.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;r.unstable_now=function(){return o.now()}}else{var c=Date,d=c.now();r.unstable_now=function(){return c.now()-d}}var h=[],m=[],g=1,b=null,B=3,_=!1,k=!1,j=!1,T=!1,C=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function R(Y){for(var pe=t(m);pe!==null;){if(pe.callback===null)n(m);else if(pe.startTime<=Y)n(m),pe.sortIndex=pe.expirationTime,e(h,pe);else break;pe=t(m)}}function ae(Y){if(j=!1,R(Y),!k)if(t(h)!==null)k=!0,Z||(Z=!0,$());else{var pe=t(m);pe!==null&&ge(ae,pe.startTime-Y)}}var Z=!1,me=-1,ee=5,H=-1;function W(){return T?!0:!(r.unstable_now()-H<ee)}function K(){if(T=!1,Z){var Y=r.unstable_now();H=Y;var pe=!0;try{e:{k=!1,j&&(j=!1,I(me),me=-1),_=!0;var z=B;try{t:{for(R(Y),b=t(h);b!==null&&!(b.expirationTime>Y&&W());){var ve=b.callback;if(typeof ve=="function"){b.callback=null,B=b.priorityLevel;var we=ve(b.expirationTime<=Y);if(Y=r.unstable_now(),typeof we=="function"){b.callback=we,R(Y),pe=!0;break t}b===t(h)&&n(h),R(Y)}else n(h);b=t(h)}if(b!==null)pe=!0;else{var V=t(m);V!==null&&ge(ae,V.startTime-Y),pe=!1}}break e}finally{b=null,B=z,_=!1}pe=void 0}}finally{pe?$():Z=!1}}}var $;if(typeof F=="function")$=function(){F(K)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,le=re.port2;re.port1.onmessage=K,$=function(){le.postMessage(null)}}else $=function(){C(K,0)};function ge(Y,pe){me=C(function(){Y(r.unstable_now())},pe)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Y){Y.callback=null},r.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ee=0<Y?Math.floor(1e3/Y):5},r.unstable_getCurrentPriorityLevel=function(){return B},r.unstable_next=function(Y){switch(B){case 1:case 2:case 3:var pe=3;break;default:pe=B}var z=B;B=pe;try{return Y()}finally{B=z}},r.unstable_requestPaint=function(){T=!0},r.unstable_runWithPriority=function(Y,pe){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var z=B;B=Y;try{return pe()}finally{B=z}},r.unstable_scheduleCallback=function(Y,pe,z){var ve=r.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?ve+z:ve):z=ve,Y){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=z+we,Y={id:g++,callback:pe,priorityLevel:Y,startTime:z,expirationTime:we,sortIndex:-1},z>ve?(Y.sortIndex=z,e(m,Y),t(h)===null&&Y===t(m)&&(j?(I(me),me=-1):j=!0,ge(ae,z-ve))):(Y.sortIndex=we,e(h,Y),k||_||(k=!0,Z||(Z=!0,$()))),Y},r.unstable_shouldYield=W,r.unstable_wrapCallback=function(Y){var pe=B;return function(){var z=B;B=pe;try{return Y.apply(this,arguments)}finally{B=z}}}})(e0)),e0}var Ny;function k4(){return Ny||(Ny=1,Wg.exports=j4()),Wg.exports}var t0={exports:{}},pi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cy;function U4(){if(Cy)return pi;Cy=1;var r=wb();function e(h){var m="https://react.dev/errors/"+h;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var n={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(h,m,g){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:h,containerInfo:m,implementation:g}}var c=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(h,m){if(h==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return pi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,pi.createPortal=function(h,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return o(h,m,null,g)},pi.flushSync=function(h){var m=c.T,g=n.p;try{if(c.T=null,n.p=2,h)return h()}finally{c.T=m,n.p=g,n.d.f()}},pi.preconnect=function(h,m){typeof h=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,n.d.C(h,m))},pi.prefetchDNS=function(h){typeof h=="string"&&n.d.D(h)},pi.preinit=function(h,m){if(typeof h=="string"&&m&&typeof m.as=="string"){var g=m.as,b=d(g,m.crossOrigin),B=typeof m.integrity=="string"?m.integrity:void 0,_=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?n.d.S(h,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:b,integrity:B,fetchPriority:_}):g==="script"&&n.d.X(h,{crossOrigin:b,integrity:B,fetchPriority:_,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},pi.preinitModule=function(h,m){if(typeof h=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=d(m.as,m.crossOrigin);n.d.M(h,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&n.d.M(h)},pi.preload=function(h,m){if(typeof h=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,b=d(g,m.crossOrigin);n.d.L(h,g,{crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},pi.preloadModule=function(h,m){if(typeof h=="string")if(m){var g=d(m.as,m.crossOrigin);n.d.m(h,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else n.d.m(h)},pi.requestFormReset=function(h){n.d.r(h)},pi.unstable_batchedUpdates=function(h,m){return h(m)},pi.useFormState=function(h,m,g){return c.H.useFormState(h,m,g)},pi.useFormStatus=function(){return c.H.useHostTransitionStatus()},pi.version="19.2.3",pi}var Ey;function u5(){if(Ey)return t0.exports;Ey=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),t0.exports=U4(),t0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sy;function T4(){if(Sy)return Yd;Sy=1;var r=k4(),e=wb(),t=u5();function n(s){var l="https://react.dev/errors/"+s;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)l+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+s+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var l=s,u=s;if(s.alternate)for(;l.return;)l=l.return;else{s=l;do l=s,(l.flags&4098)!==0&&(u=l.return),s=l.return;while(s)}return l.tag===3?u:null}function c(s){if(s.tag===13){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function d(s){if(s.tag===31){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function h(s){if(o(s)!==s)throw Error(n(188))}function m(s){var l=s.alternate;if(!l){if(l=o(s),l===null)throw Error(n(188));return l!==s?null:s}for(var u=s,p=l;;){var y=u.return;if(y===null)break;var N=y.alternate;if(N===null){if(p=y.return,p!==null){u=p;continue}break}if(y.child===N.child){for(N=y.child;N;){if(N===u)return h(y),s;if(N===p)return h(y),l;N=N.sibling}throw Error(n(188))}if(u.return!==p.return)u=y,p=N;else{for(var P=!1,Ae=y.child;Ae;){if(Ae===u){P=!0,u=y,p=N;break}if(Ae===p){P=!0,p=y,u=N;break}Ae=Ae.sibling}if(!P){for(Ae=N.child;Ae;){if(Ae===u){P=!0,u=N,p=y;break}if(Ae===p){P=!0,p=N,u=y;break}Ae=Ae.sibling}if(!P)throw Error(n(189))}}if(u.alternate!==p)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?s:l}function g(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s;for(s=s.child;s!==null;){if(l=g(s),l!==null)return l;s=s.sibling}return null}var b=Object.assign,B=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),I=Symbol.for("react.consumer"),F=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),me=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),H=Symbol.for("react.activity"),W=Symbol.for("react.memo_cache_sentinel"),K=Symbol.iterator;function $(s){return s===null||typeof s!="object"?null:(s=K&&s[K]||s["@@iterator"],typeof s=="function"?s:null)}var re=Symbol.for("react.client.reference");function le(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===re?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case j:return"Fragment";case C:return"Profiler";case T:return"StrictMode";case ae:return"Suspense";case Z:return"SuspenseList";case H:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case k:return"Portal";case F:return s.displayName||"Context";case I:return(s._context.displayName||"Context")+".Consumer";case R:var l=s.render;return s=s.displayName,s||(s=l.displayName||l.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case me:return l=s.displayName||null,l!==null?l:le(s.type)||"Memo";case ee:l=s._payload,s=s._init;try{return le(s(l))}catch{}}return null}var ge=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z={pending:!1,data:null,method:null,action:null},ve=[],we=-1;function V(s){return{current:s}}function O(s){0>we||(s.current=ve[we],ve[we]=null,we--)}function G(s,l){we++,ve[we]=s.current,s.current=l}var Q=V(null),oe=V(null),ce=V(null),Be=V(null);function Se(s,l){switch(G(ce,l),G(oe,s),G(Q,null),l.nodeType){case 9:case 11:s=(s=l.documentElement)&&(s=s.namespaceURI)?z1(s):0;break;default:if(s=l.tagName,l=l.namespaceURI)l=z1(l),s=q1(l,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}O(Q),G(Q,s)}function Fe(){O(Q),O(oe),O(ce)}function He(s){s.memoizedState!==null&&G(Be,s);var l=Q.current,u=q1(l,s.type);l!==u&&(G(oe,s),G(Q,u))}function it(s){oe.current===s&&(O(Q),O(oe)),Be.current===s&&(O(Be),Kd._currentValue=z)}var Re,_t;function It(s){if(Re===void 0)try{throw Error()}catch(u){var l=u.stack.trim().match(/\n( *(at )?)/);Re=l&&l[1]||"",_t=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Re+s+_t}var he=!1;function ct(s,l){if(!s||he)return"";he=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(l){var mt=function(){throw Error()};if(Object.defineProperty(mt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(mt,[])}catch(Je){var Ze=Je}Reflect.construct(s,[],mt)}else{try{mt.call()}catch(Je){Ze=Je}s.call(mt.prototype)}}else{try{throw Error()}catch(Je){Ze=Je}(mt=s())&&typeof mt.catch=="function"&&mt.catch(function(){})}}catch(Je){if(Je&&Ze&&typeof Je.stack=="string")return[Je.stack,Ze.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=p.DetermineComponentFrameRoot(),P=N[0],Ae=N[1];if(P&&Ae){var Ee=P.split(`
`),Ge=Ae.split(`
`);for(y=p=0;p<Ee.length&&!Ee[p].includes("DetermineComponentFrameRoot");)p++;for(;y<Ge.length&&!Ge[y].includes("DetermineComponentFrameRoot");)y++;if(p===Ee.length||y===Ge.length)for(p=Ee.length-1,y=Ge.length-1;1<=p&&0<=y&&Ee[p]!==Ge[y];)y--;for(;1<=p&&0<=y;p--,y--)if(Ee[p]!==Ge[y]){if(p!==1||y!==1)do if(p--,y--,0>y||Ee[p]!==Ge[y]){var lt=`
`+Ee[p].replace(" at new "," at ");return s.displayName&&lt.includes("<anonymous>")&&(lt=lt.replace("<anonymous>",s.displayName)),lt}while(1<=p&&0<=y);break}}}finally{he=!1,Error.prepareStackTrace=u}return(u=s?s.displayName||s.name:"")?It(u):""}function yt(s,l){switch(s.tag){case 26:case 27:case 5:return It(s.type);case 16:return It("Lazy");case 13:return s.child!==l&&l!==null?It("Suspense Fallback"):It("Suspense");case 19:return It("SuspenseList");case 0:case 15:return ct(s.type,!1);case 11:return ct(s.type.render,!1);case 1:return ct(s.type,!0);case 31:return It("Activity");default:return""}}function qt(s){try{var l="",u=null;do l+=yt(s,u),u=s,s=s.return;while(s);return l}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var $e=Object.prototype.hasOwnProperty,Zt=r.unstable_scheduleCallback,Qt=r.unstable_cancelCallback,kt=r.unstable_shouldYield,Kt=r.unstable_requestPaint,Jt=r.unstable_now,mr=r.unstable_getCurrentPriorityLevel,Yt=r.unstable_ImmediatePriority,ar=r.unstable_UserBlockingPriority,cr=r.unstable_NormalPriority,Ht=r.unstable_LowPriority,Vt=r.unstable_IdlePriority,Dt=r.log,Ne=r.unstable_setDisableYieldValue,et=null,ft=null;function Lt(s){if(typeof Dt=="function"&&Ne(s),ft&&typeof ft.setStrictMode=="function")try{ft.setStrictMode(et,s)}catch{}}var Ut=Math.clz32?Math.clz32:Rt,Et=Math.log,xr=Math.LN2;function Rt(s){return s>>>=0,s===0?32:31-(Et(s)/xr|0)|0}var de=256,Ke=262144,Ye=4194304;function We(s){var l=s&42;if(l!==0)return l;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function tt(s,l,u){var p=s.pendingLanes;if(p===0)return 0;var y=0,N=s.suspendedLanes,P=s.pingedLanes;s=s.warmLanes;var Ae=p&134217727;return Ae!==0?(p=Ae&~N,p!==0?y=We(p):(P&=Ae,P!==0?y=We(P):u||(u=Ae&~s,u!==0&&(y=We(u))))):(Ae=p&~N,Ae!==0?y=We(Ae):P!==0?y=We(P):u||(u=p&~s,u!==0&&(y=We(u)))),y===0?0:l!==0&&l!==y&&(l&N)===0&&(N=y&-y,u=l&-l,N>=u||N===32&&(u&4194048)!==0)?l:y}function Tt(s,l){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&l)===0}function zt(s,l){switch(s){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wt(){var s=Ye;return Ye<<=1,(Ye&62914560)===0&&(Ye=4194304),s}function Lr(s){for(var l=[],u=0;31>u;u++)l.push(s);return l}function vt(s,l){s.pendingLanes|=l,l!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Rr(s,l,u,p,y,N){var P=s.pendingLanes;s.pendingLanes=u,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=u,s.entangledLanes&=u,s.errorRecoveryDisabledLanes&=u,s.shellSuspendCounter=0;var Ae=s.entanglements,Ee=s.expirationTimes,Ge=s.hiddenUpdates;for(u=P&~u;0<u;){var lt=31-Ut(u),mt=1<<lt;Ae[lt]=0,Ee[lt]=-1;var Ze=Ge[lt];if(Ze!==null)for(Ge[lt]=null,lt=0;lt<Ze.length;lt++){var Je=Ze[lt];Je!==null&&(Je.lane&=-536870913)}u&=~mt}p!==0&&fr(s,p,0),N!==0&&y===0&&s.tag!==0&&(s.suspendedLanes|=N&~(P&~l))}function fr(s,l,u){s.pendingLanes|=l,s.suspendedLanes&=~l;var p=31-Ut(l);s.entangledLanes|=l,s.entanglements[p]=s.entanglements[p]|1073741824|u&261930}function pr(s,l){var u=s.entangledLanes|=l;for(s=s.entanglements;u;){var p=31-Ut(u),y=1<<p;y&l|s[p]&l&&(s[p]|=l),u&=~y}}function Pr(s,l){var u=l&-l;return u=(u&42)!==0?1:je(u),(u&(s.suspendedLanes|l))!==0?0:u}function je(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Me(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function $t(){var s=pe.p;return s!==0?s:(s=window.event,s===void 0?32:hy(s.type))}function Ir(s,l){var u=pe.p;try{return pe.p=s,l()}finally{pe.p=u}}var jr=Math.random().toString(36).slice(2),Gr="__reactFiber$"+jr,Xr="__reactProps$"+jr,Fn="__reactContainer$"+jr,wn="__reactEvents$"+jr,Hn="__reactListeners$"+jr,jn="__reactHandles$"+jr,Ns="__reactResources$"+jr,wr="__reactMarker$"+jr;function xa(s){delete s[Gr],delete s[Xr],delete s[wn],delete s[Hn],delete s[jn]}function fs(s){var l=s[Gr];if(l)return l;for(var u=s.parentNode;u;){if(l=u[Fn]||u[Gr]){if(u=l.alternate,l.child!==null||u!==null&&u.child!==null)for(s=X1(s);s!==null;){if(u=s[Gr])return u;s=X1(s)}return l}s=u,u=s.parentNode}return null}function Zs(s){if(s=s[Gr]||s[Fn]){var l=s.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return s}return null}function se(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s.stateNode;throw Error(n(33))}function pt(s){var l=s[Ns];return l||(l=s[Ns]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function bt(s){s[wr]=!0}var ut=new Set,Gt={};function ur(s,l){Fr(s,l),Fr(s+"Capture",l)}function Fr(s,l){for(Gt[s]=l,s=0;s<l.length;s++)ut.add(l[s])}var ln=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fs={},ps={};function Cs(s){return $e.call(ps,s)?!0:$e.call(Fs,s)?!1:ln.test(s)?ps[s]=!0:(Fs[s]=!0,!1)}function br(s,l,u){if(Cs(l))if(u===null)s.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":s.removeAttribute(l);return;case"boolean":var p=l.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){s.removeAttribute(l);return}}s.setAttribute(l,""+u)}}function Qr(s,l,u){if(u===null)s.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttribute(l,""+u)}}function Jn(s,l,u,p){if(p===null)s.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(u);return}s.setAttributeNS(l,u,""+p)}}function _e(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function nt(s){var l=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Ft(s,l,u){var p=Object.getOwnPropertyDescriptor(s.constructor.prototype,l);if(!s.hasOwnProperty(l)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var y=p.get,N=p.set;return Object.defineProperty(s,l,{configurable:!0,get:function(){return y.call(this)},set:function(P){u=""+P,N.call(this,P)}}),Object.defineProperty(s,l,{enumerable:p.enumerable}),{getValue:function(){return u},setValue:function(P){u=""+P},stopTracking:function(){s._valueTracker=null,delete s[l]}}}}function rt(s){if(!s._valueTracker){var l=nt(s)?"checked":"value";s._valueTracker=Ft(s,l,""+s[l])}}function Bt(s){if(!s)return!1;var l=s._valueTracker;if(!l)return!0;var u=l.getValue(),p="";return s&&(p=nt(s)?s.checked?"true":"false":s.value),s=p,s!==u?(l.setValue(s),!0):!1}function Nt(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var St=/[\n"\\]/g;function nr(s){return s.replace(St,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function tn(s,l,u,p,y,N,P,Ae){s.name="",P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?s.type=P:s.removeAttribute("type"),l!=null?P==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+_e(l)):s.value!==""+_e(l)&&(s.value=""+_e(l)):P!=="submit"&&P!=="reset"||s.removeAttribute("value"),l!=null?ss(s,P,_e(l)):u!=null?ss(s,P,_e(u)):p!=null&&s.removeAttribute("value"),y==null&&N!=null&&(s.defaultChecked=!!N),y!=null&&(s.checked=y&&typeof y!="function"&&typeof y!="symbol"),Ae!=null&&typeof Ae!="function"&&typeof Ae!="symbol"&&typeof Ae!="boolean"?s.name=""+_e(Ae):s.removeAttribute("name")}function Hr(s,l,u,p,y,N,P,Ae){if(N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(s.type=N),l!=null||u!=null){if(!(N!=="submit"&&N!=="reset"||l!=null)){rt(s);return}u=u!=null?""+_e(u):"",l=l!=null?""+_e(l):u,Ae||l===s.value||(s.value=l),s.defaultValue=l}p=p??y,p=typeof p!="function"&&typeof p!="symbol"&&!!p,s.checked=Ae?s.checked:!!p,s.defaultChecked=!!p,P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"&&(s.name=P),rt(s)}function ss(s,l,u){l==="number"&&Nt(s.ownerDocument)===s||s.defaultValue===""+u||(s.defaultValue=""+u)}function Cr(s,l,u,p){if(s=s.options,l){l={};for(var y=0;y<u.length;y++)l["$"+u[y]]=!0;for(u=0;u<s.length;u++)y=l.hasOwnProperty("$"+s[u].value),s[u].selected!==y&&(s[u].selected=y),y&&p&&(s[u].defaultSelected=!0)}else{for(u=""+_e(u),l=null,y=0;y<s.length;y++){if(s[y].value===u){s[y].selected=!0,p&&(s[y].defaultSelected=!0);return}l!==null||s[y].disabled||(l=s[y])}l!==null&&(l.selected=!0)}}function la(s,l,u){if(l!=null&&(l=""+_e(l),l!==s.value&&(s.value=l),u==null)){s.defaultValue!==l&&(s.defaultValue=l);return}s.defaultValue=u!=null?""+_e(u):""}function si(s,l,u,p){if(l==null){if(p!=null){if(u!=null)throw Error(n(92));if(ge(p)){if(1<p.length)throw Error(n(93));p=p[0]}u=p}u==null&&(u=""),l=u}u=_e(l),s.defaultValue=u,p=s.textContent,p===u&&p!==""&&p!==null&&(s.value=p),rt(s)}function $s(s,l){if(l){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=l;return}}s.textContent=l}var _i=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Co(s,l,u){var p=l.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?p?s.setProperty(l,""):l==="float"?s.cssFloat="":s[l]="":p?s.setProperty(l,u):typeof u!="number"||u===0||_i.has(l)?l==="float"?s.cssFloat=u:s[l]=(""+u).trim():s[l]=u+"px"}function bl(s,l,u){if(l!=null&&typeof l!="object")throw Error(n(62));if(s=s.style,u!=null){for(var p in u)!u.hasOwnProperty(p)||l!=null&&l.hasOwnProperty(p)||(p.indexOf("--")===0?s.setProperty(p,""):p==="float"?s.cssFloat="":s[p]="");for(var y in l)p=l[y],l.hasOwnProperty(y)&&u[y]!==p&&Co(s,y,p)}else for(var N in l)l.hasOwnProperty(N)&&Co(s,N,l[N])}function Go(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Eo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vl=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Aa(s){return vl.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function ka(){}var Ui=null;function no(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var So=null,jt=null;function Ra(s){var l=Zs(s);if(l&&(s=l.stateNode)){var u=s[Xr]||null;e:switch(s=l.stateNode,l.type){case"input":if(tn(s,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),l=u.name,u.type==="radio"&&l!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+nr(""+l)+'"][type="radio"]'),l=0;l<u.length;l++){var p=u[l];if(p!==s&&p.form===s.form){var y=p[Xr]||null;if(!y)throw Error(n(90));tn(p,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(l=0;l<u.length;l++)p=u[l],p.form===s.form&&Bt(p)}break e;case"textarea":la(s,u.value,u.defaultValue);break e;case"select":l=u.value,l!=null&&Cr(s,!!u.multiple,l,!1)}}}var pn=!1;function tA(s,l,u){if(pn)return s(l,u);pn=!0;try{var p=s(l);return p}finally{if(pn=!1,(So!==null||jt!==null)&&(mf(),So&&(l=So,s=jt,jt=So=null,Ra(l),s)))for(l=0;l<s.length;l++)Ra(s[l])}}function ba(s,l){var u=s.stateNode;if(u===null)return null;var p=u[Xr]||null;if(p===null)return null;u=p[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(s=s.type,p=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!p;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(n(231,l,typeof u));return u}var Es=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vo=!1;if(Es)try{var Pa={};Object.defineProperty(Pa,"passive",{get:function(){Vo=!0}}),window.addEventListener("test",Pa,Pa),window.removeEventListener("test",Pa,Pa)}catch{Vo=!1}var va=null,Bi=null,kn=null;function Ti(){if(kn)return kn;var s,l=Bi,u=l.length,p,y="value"in va?va.value:va.textContent,N=y.length;for(s=0;s<u&&l[s]===y[s];s++);var P=u-s;for(p=1;p<=P&&l[u-p]===y[N-p];p++);return kn=y.slice(s,1<p?1-p:void 0)}function Ha(s){var l=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&l===13&&(s=13)):s=l,s===10&&(s=13),32<=s||s===13?s:0}function Zo(){return!0}function yl(){return!1}function Ss(s){function l(u,p,y,N,P){this._reactName=u,this._targetInst=y,this.type=p,this.nativeEvent=N,this.target=P,this.currentTarget=null;for(var Ae in s)s.hasOwnProperty(Ae)&&(u=s[Ae],this[Ae]=u?u(N):N[Ae]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?Zo:yl,this.isPropagationStopped=yl,this}return b(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Zo)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Zo)},persist:function(){},isPersistent:Zo}),l}var ai={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ii=Ss(ai),Fi=b({},ai,{view:0,detail:0}),Vr=Ss(Fi),$o,Ls,za,Lo=b({},Fi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Er,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==za&&(za&&s.type==="mousemove"?($o=s.screenX-za.screenX,Ls=s.screenY-za.screenY):Ls=$o=0,za=s),$o)},movementY:function(s){return"movementY"in s?s.movementY:Ls}}),rA=Ss(Lo),Ni=b({},Lo,{dataTransfer:0}),so=Ss(Ni),nA=b({},Fi,{relatedTarget:0}),ao=Ss(nA),FA=b({},ai,{animationName:0,elapsedTime:0,pseudoElement:0}),S=Ss(FA),X=b({},ai,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),xe=Ss(X),Le=b({},ai,{data:0}),Qe=Ss(Le),st={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function or(s){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(s):(s=sr[s])?!!l[s]:!1}function Er(){return or}var Or=b({},Fi,{key:function(s){if(s.key){var l=st[s.key]||s.key;if(l!=="Unidentified")return l}return s.type==="keypress"?(s=Ha(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?xt[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Er,charCode:function(s){return s.type==="keypress"?Ha(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ha(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),rn=Ss(Or),Zn=b({},Lo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),as=Ss(Zn),_n=b({},Fi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Er}),js=Ss(_n),is=b({},ai,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qs=Ss(is),oi=b({},Lo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Ys=Ss(oi),io=b({},ai,{newState:0,oldState:0}),oo=Ss(io),Xs=[9,13,27,32],Ci=Es&&"CompositionEvent"in window,li=null;Es&&"documentMode"in document&&(li=document.documentMode);var Yo=Es&&"TextEvent"in window&&!li,Ei=Es&&(!Ci||li&&8<li&&11>=li),ms=" ",jo=!1;function ko(s,l){switch(s){case"keyup":return Xs.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xo(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Qi=!1;function Qn(s,l){switch(s){case"compositionend":return Xo(l);case"keypress":return l.which!==32?null:(jo=!0,ms);case"textInput":return s=l.data,s===ms&&jo?null:s;default:return null}}function Ua(s,l){if(Qi)return s==="compositionend"||!Ci&&ko(s,l)?(s=Ti(),kn=Bi=va=null,Qi=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Ei&&l.locale!=="ko"?null:l.data;default:return null}}var wl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qa(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l==="input"?!!wl[s.type]:l==="textarea"}function Ka(s,l,u,p){So?jt?jt.push(p):jt=[p]:So=p,l=_f(l,"onChange"),0<l.length&&(u=new ii("onChange","change",null,u,p),s.push({event:u,listeners:l}))}var ca=null,lo=null;function Ao(s){O1(s,0)}function Ai(s){var l=se(s);if(Bt(l))return s}function Si(s,l){if(s==="change")return l}var Ta=!1;if(Es){var Wn;if(Es){var Ga="oninput"in document;if(!Ga){var Ii=document.createElement("div");Ii.setAttribute("oninput","return;"),Ga=typeof Ii.oninput=="function"}Wn=Ga}else Wn=!1;Ta=Wn&&(!document.documentMode||9<document.documentMode)}function Li(){ca&&(ca.detachEvent("onpropertychange",_l),lo=ca=null)}function _l(s){if(s.propertyName==="value"&&Ai(lo)){var l=[];Ka(l,lo,s,no(s)),tA(Ao,l)}}function Fa(s,l,u){s==="focusin"?(Li(),ca=l,lo=u,ca.attachEvent("onpropertychange",_l)):s==="focusout"&&Li()}function os(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Ai(lo)}function co(s,l){if(s==="click")return Ai(l)}function Oi(s,l){if(s==="input"||s==="change")return Ai(l)}function Is(s,l){return s===l&&(s!==0||1/s===1/l)||s!==s&&l!==l}var gs=typeof Object.is=="function"?Object.is:Is;function Mi(s,l){if(gs(s,l))return!0;if(typeof s!="object"||s===null||typeof l!="object"||l===null)return!1;var u=Object.keys(s),p=Object.keys(l);if(u.length!==p.length)return!1;for(p=0;p<u.length;p++){var y=u[p];if(!$e.call(l,y)||!gs(s[y],l[y]))return!1}return!0}function Uo(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function uo(s,l){var u=Uo(s);s=0;for(var p;u;){if(u.nodeType===3){if(p=s+u.textContent.length,s<=l&&p>=l)return{node:u,offset:l-s};s=p}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Uo(u)}}function ji(s,l){return s&&l?s===l?!0:s&&s.nodeType===3?!1:l&&l.nodeType===3?ji(s,l.parentNode):"contains"in s?s.contains(l):s.compareDocumentPosition?!!(s.compareDocumentPosition(l)&16):!1:!1}function ci(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var l=Nt(s.document);l instanceof s.HTMLIFrameElement;){try{var u=typeof l.contentWindow.location.href=="string"}catch{u=!1}if(u)s=l.contentWindow;else break;l=Nt(s.document)}return l}function ya(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l&&(l==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||l==="textarea"||s.contentEditable==="true")}var Di=Es&&"documentMode"in document&&11>=document.documentMode,wa=null,Ri=null,ua=null,_a=!1;function hn(s,l,u){var p=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;_a||wa==null||wa!==Nt(p)||(p=wa,"selectionStart"in p&&ya(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),ua&&Mi(ua,p)||(ua=p,p=_f(Ri,"onSelect"),0<p.length&&(l=new ii("onSelect","select",null,l,u),s.push({event:l,listeners:p}),l.target=wa)))}function nn(s,l){var u={};return u[s.toLowerCase()]=l.toLowerCase(),u["Webkit"+s]="webkit"+l,u["Moz"+s]="moz"+l,u}var Un={animationend:nn("Animation","AnimationEnd"),animationiteration:nn("Animation","AnimationIteration"),animationstart:nn("Animation","AnimationStart"),transitionrun:nn("Transition","TransitionRun"),transitionstart:nn("Transition","TransitionStart"),transitioncancel:nn("Transition","TransitionCancel"),transitionend:nn("Transition","TransitionEnd")},es={},Pi={};Es&&(Pi=document.createElement("div").style,"AnimationEvent"in window||(delete Un.animationend.animation,delete Un.animationiteration.animation,delete Un.animationstart.animation),"TransitionEvent"in window||delete Un.transitionend.transition);function xs(s){if(es[s])return es[s];if(!Un[s])return s;var l=Un[s],u;for(u in l)if(l.hasOwnProperty(u)&&u in Pi)return es[s]=l[u];return s}var Hi=xs("animationend"),sA=xs("animationiteration"),Bl=xs("animationstart"),ru=xs("transitionrun"),bc=xs("transitionstart"),nu=xs("transitioncancel"),Jo=xs("transitionend"),vc=new Map,ui="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ui.push("scrollEnd");function Va(s,l){vc.set(s,l),ur(l,[s])}var Nl=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Za=[],Ba=0,aA=0;function Cl(){for(var s=Ba,l=aA=Ba=0;l<s;){var u=Za[l];Za[l++]=null;var p=Za[l];Za[l++]=null;var y=Za[l];Za[l++]=null;var N=Za[l];if(Za[l++]=null,p!==null&&y!==null){var P=p.pending;P===null?y.next=y:(y.next=P.next,P.next=y),p.pending=y}N!==0&&fo(u,y,N)}}function ho(s,l,u,p){Za[Ba++]=s,Za[Ba++]=l,Za[Ba++]=u,Za[Ba++]=p,aA|=p,s.lanes|=p,s=s.alternate,s!==null&&(s.lanes|=p)}function QA(s,l,u,p){return ho(s,l,u,p),Js(s)}function di(s,l){return ho(s,null,null,l),Js(s)}function fo(s,l,u){s.lanes|=u;var p=s.alternate;p!==null&&(p.lanes|=u);for(var y=!1,N=s.return;N!==null;)N.childLanes|=u,p=N.alternate,p!==null&&(p.childLanes|=u),N.tag===22&&(s=N.stateNode,s===null||s._visibility&1||(y=!0)),s=N,N=N.return;return s.tag===3?(N=s.stateNode,y&&l!==null&&(y=31-Ut(u),s=N.hiddenUpdates,p=s[y],p===null?s[y]=[l]:p.push(l),l.lane=u|536870912),N):null}function Js(s){if(50<Md)throw Md=0,vg=null,Error(n(185));for(var l=s.return;l!==null;)s=l,l=s.return;return s.tag===3?s.stateNode:null}var Os={};function IA(s,l,u,p){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ws(s,l,u,p){return new IA(s,l,u,p)}function iA(s){return s=s.prototype,!(!s||!s.isReactComponent)}function $a(s,l){var u=s.alternate;return u===null?(u=Ws(s.tag,l,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=l,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&65011712,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,l=s.dependencies,u.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u.refCleanup=s.refCleanup,u}function El(s,l){s.flags&=65011714;var u=s.alternate;return u===null?(s.childLanes=0,s.lanes=l,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,l=u.dependencies,s.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),s}function Wo(s,l,u,p,y,N){var P=0;if(p=s,typeof s=="function")iA(s)&&(P=1);else if(typeof s=="string")P=h4(s,u,Q.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case H:return s=Ws(31,u,l,y),s.elementType=H,s.lanes=N,s;case j:return To(u.children,y,N,l);case T:P=8,y|=24;break;case C:return s=Ws(12,u,l,y|2),s.elementType=C,s.lanes=N,s;case ae:return s=Ws(13,u,l,y),s.elementType=ae,s.lanes=N,s;case Z:return s=Ws(19,u,l,y),s.elementType=Z,s.lanes=N,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case F:P=10;break e;case I:P=9;break e;case R:P=11;break e;case me:P=14;break e;case ee:P=16,p=null;break e}P=29,u=Error(n(130,s===null?"null":typeof s,"")),p=null}return l=Ws(P,u,l,y),l.elementType=s,l.type=p,l.lanes=N,l}function To(s,l,u,p){return s=Ws(7,s,p,l),s.lanes=u,s}function Sl(s,l,u){return s=Ws(6,s,null,l),s.lanes=u,s}function oA(s){var l=Ws(18,null,null,0);return l.stateNode=s,l}function Ll(s,l,u){return l=Ws(4,s.children!==null?s.children:[],s.key,l),l.lanes=u,l.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},l}var A=new WeakMap;function f(s,l){if(typeof s=="object"&&s!==null){var u=A.get(s);return u!==void 0?u:(l={value:s,source:l,stack:qt(l)},A.set(s,l),l)}return{value:s,source:l,stack:qt(l)}}var v=[],E=0,D=null,ne=0,Ce=[],Ie=0,Ve=null,dt=1,Mt="";function lr(s,l){v[E++]=ne,v[E++]=D,D=s,ne=l}function Zr(s,l,u){Ce[Ie++]=dt,Ce[Ie++]=Mt,Ce[Ie++]=Ve,Ve=s;var p=dt;s=Mt;var y=32-Ut(p)-1;p&=~(1<<y),u+=1;var N=32-Ut(l)+y;if(30<N){var P=y-y%5;N=(p&(1<<P)-1).toString(32),p>>=P,y-=P,dt=1<<32-Ut(l)+y|u<<y|p,Mt=N+s}else dt=1<<N|u<<y|p,Mt=s}function ea(s){s.return!==null&&(lr(s,1),Zr(s,1,0))}function ls(s){for(;s===D;)D=v[--E],v[E]=null,ne=v[--E],v[E]=null;for(;s===Ve;)Ve=Ce[--Ie],Ce[Ie]=null,Mt=Ce[--Ie],Ce[Ie]=null,dt=Ce[--Ie],Ce[Ie]=null}function Ya(s,l){Ce[Ie++]=dt,Ce[Ie++]=Mt,Ce[Ie++]=Ve,dt=l.id,Mt=l.overflow,Ve=s}var mn=null,gn=null,en=!1,Na=null,ts=!1,hi=Error(n(519));function Fo(s){var l=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw jl(f(l,s)),hi}function OA(s){var l=s.stateNode,u=s.type,p=s.memoizedProps;switch(l[Gr]=s,l[Xr]=p,u){case"dialog":on("cancel",l),on("close",l);break;case"iframe":case"object":case"embed":on("load",l);break;case"video":case"audio":for(u=0;u<Rd.length;u++)on(Rd[u],l);break;case"source":on("error",l);break;case"img":case"image":case"link":on("error",l),on("load",l);break;case"details":on("toggle",l);break;case"input":on("invalid",l),Hr(l,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":on("invalid",l);break;case"textarea":on("invalid",l),si(l,p.value,p.defaultValue,p.children)}u=p.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||l.textContent===""+u||p.suppressHydrationWarning===!0||P1(l.textContent,u)?(p.popover!=null&&(on("beforetoggle",l),on("toggle",l)),p.onScroll!=null&&on("scroll",l),p.onScrollEnd!=null&&on("scrollend",l),p.onClick!=null&&(l.onclick=ka),l=!0):l=!1,l||Fo(s,!0)}function Bn(s){for(mn=s.return;mn;)switch(mn.tag){case 5:case 31:case 13:ts=!1;return;case 27:case 3:ts=!0;return;default:mn=mn.return}}function bs(s){if(s!==mn)return!1;if(!en)return Bn(s),en=!0,!1;var l=s.tag,u;if((u=l!==3&&l!==27)&&((u=l===5)&&(u=s.type,u=!(u!=="form"&&u!=="button")||Qg(s.type,s.memoizedProps)),u=!u),u&&gn&&Fo(s),Bn(s),l===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));gn=Y1(s)}else if(l===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));gn=Y1(s)}else l===27?(l=gn,XA(s.type)?(s=Rg,Rg=null,gn=s):gn=l):gn=mn?Oo(s.stateNode.nextSibling):null;return!0}function el(){gn=mn=null,en=!1}function yc(){var s=Na;return s!==null&&($i===null?$i=s:$i.push.apply($i,s),Na=null),s}function jl(s){Na===null?Na=[s]:Na.push(s)}var kl=V(null),po=null,zi=null;function Ul(s,l,u){G(kl,l._currentValue),l._currentValue=u}function qi(s){s._currentValue=kl.current,O(kl)}function MA(s,l,u){for(;s!==null;){var p=s.alternate;if((s.childLanes&l)!==l?(s.childLanes|=l,p!==null&&(p.childLanes|=l)):p!==null&&(p.childLanes&l)!==l&&(p.childLanes|=l),s===u)break;s=s.return}}function lA(s,l,u,p){var y=s.child;for(y!==null&&(y.return=s);y!==null;){var N=y.dependencies;if(N!==null){var P=y.child;N=N.firstContext;e:for(;N!==null;){var Ae=N;N=y;for(var Ee=0;Ee<l.length;Ee++)if(Ae.context===l[Ee]){N.lanes|=u,Ae=N.alternate,Ae!==null&&(Ae.lanes|=u),MA(N.return,u,s),p||(P=null);break e}N=Ae.next}}else if(y.tag===18){if(P=y.return,P===null)throw Error(n(341));P.lanes|=u,N=P.alternate,N!==null&&(N.lanes|=u),MA(P,u,s),P=null}else P=y.child;if(P!==null)P.return=y;else for(P=y;P!==null;){if(P===s){P=null;break}if(y=P.sibling,y!==null){y.return=P.return,P=y;break}P=P.return}y=P}}function Tl(s,l,u,p){s=null;for(var y=l,N=!1;y!==null;){if(!N){if((y.flags&524288)!==0)N=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var P=y.alternate;if(P===null)throw Error(n(387));if(P=P.memoizedProps,P!==null){var Ae=y.type;gs(y.pendingProps.value,P.value)||(s!==null?s.push(Ae):s=[Ae])}}else if(y===Be.current){if(P=y.alternate,P===null)throw Error(n(387));P.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(s!==null?s.push(Kd):s=[Kd])}y=y.return}s!==null&&lA(l,s,u,p),l.flags|=262144}function su(s){for(s=s.firstContext;s!==null;){if(!gs(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Fl(s){po=s,zi=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Ca(s){return Yh(po,s)}function au(s,l){return po===null&&Fl(s),Yh(s,l)}function Yh(s,l){var u=l._currentValue;if(l={context:l,memoizedValue:u,next:null},zi===null){if(s===null)throw Error(n(308));zi=l,s.dependencies={lanes:0,firstContext:l},s.flags|=524288}else zi=zi.next=l;return u}var Dm=typeof AbortController<"u"?AbortController:function(){var s=[],l=this.signal={aborted:!1,addEventListener:function(u,p){s.push(p)}};this.abort=function(){l.aborted=!0,s.forEach(function(u){return u()})}},Rm=r.unstable_scheduleCallback,Pm=r.unstable_NormalPriority,ks={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function DA(){return{controller:new Dm,data:new Map,refCount:0}}function wc(s){s.refCount--,s.refCount===0&&Rm(Pm,function(){s.controller.abort()})}var _c=null,iu=0,x=0,w=null;function U(s,l){if(_c===null){var u=_c=[];iu=0,x=Cg(),w={status:"pending",value:void 0,then:function(p){u.push(p)}}}return iu++,l.then(M,M),l}function M(){if(--iu===0&&_c!==null){w!==null&&(w.status="fulfilled");var s=_c;_c=null,x=0,w=null;for(var l=0;l<s.length;l++)(0,s[l])()}}function J(s,l){var u=[],p={status:"pending",value:null,reason:null,then:function(y){u.push(y)}};return s.then(function(){p.status="fulfilled",p.value=l;for(var y=0;y<u.length;y++)(0,u[y])(l)},function(y){for(p.status="rejected",p.reason=y,y=0;y<u.length;y++)(0,u[y])(void 0)}),p}var te=Y.S;Y.S=function(s,l){u1=Jt(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&U(s,l),te!==null&&te(s,l)};var ie=V(null);function ue(){var s=ie.current;return s!==null?s:Yn.pooledCache}function fe(s,l){l===null?G(ie,ie.current):G(ie,l.pool)}function ye(){var s=ue();return s===null?null:{parent:ks._currentValue,pool:s}}var ke=Error(n(460)),ze=Error(n(474)),be=Error(n(542)),Te={then:function(){}};function De(s){return s=s.status,s==="fulfilled"||s==="rejected"}function ot(s,l,u){switch(u=s[u],u===void 0?s.push(l):u!==l&&(l.then(ka,ka),l=u),l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,Ct(s),s;default:if(typeof l.status=="string")l.then(ka,ka);else{if(s=Yn,s!==null&&100<s.shellSuspendCounter)throw Error(n(482));s=l,s.status="pending",s.then(function(p){if(l.status==="pending"){var y=l;y.status="fulfilled",y.value=p}},function(p){if(l.status==="pending"){var y=l;y.status="rejected",y.reason=p}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,Ct(s),s}throw at=l,ke}}function Pe(s){try{var l=s._init;return l(s._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(at=u,ke):u}}var at=null;function At(){if(at===null)throw Error(n(459));var s=at;return at=null,s}function Ct(s){if(s===ke||s===be)throw Error(n(483))}var gt=null,dr=0;function er(s){var l=dr;return dr+=1,gt===null&&(gt=[]),ot(gt,s,l)}function Mr(s,l){l=l.props.ref,s.ref=l!==void 0?l:null}function ir(s,l){throw l.$$typeof===B?Error(n(525)):(s=Object.prototype.toString.call(l),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":s)))}function sn(s){function l(Oe,Ue){if(s){var qe=Oe.deletions;qe===null?(Oe.deletions=[Ue],Oe.flags|=16):qe.push(Ue)}}function u(Oe,Ue){if(!s)return null;for(;Ue!==null;)l(Oe,Ue),Ue=Ue.sibling;return null}function p(Oe){for(var Ue=new Map;Oe!==null;)Oe.key!==null?Ue.set(Oe.key,Oe):Ue.set(Oe.index,Oe),Oe=Oe.sibling;return Ue}function y(Oe,Ue){return Oe=$a(Oe,Ue),Oe.index=0,Oe.sibling=null,Oe}function N(Oe,Ue,qe){return Oe.index=qe,s?(qe=Oe.alternate,qe!==null?(qe=qe.index,qe<Ue?(Oe.flags|=67108866,Ue):qe):(Oe.flags|=67108866,Ue)):(Oe.flags|=1048576,Ue)}function P(Oe){return s&&Oe.alternate===null&&(Oe.flags|=67108866),Oe}function Ae(Oe,Ue,qe,ht){return Ue===null||Ue.tag!==6?(Ue=Sl(qe,Oe.mode,ht),Ue.return=Oe,Ue):(Ue=y(Ue,qe),Ue.return=Oe,Ue)}function Ee(Oe,Ue,qe,ht){var Nr=qe.type;return Nr===j?lt(Oe,Ue,qe.props.children,ht,qe.key):Ue!==null&&(Ue.elementType===Nr||typeof Nr=="object"&&Nr!==null&&Nr.$$typeof===ee&&Pe(Nr)===Ue.type)?(Ue=y(Ue,qe.props),Mr(Ue,qe),Ue.return=Oe,Ue):(Ue=Wo(qe.type,qe.key,qe.props,null,Oe.mode,ht),Mr(Ue,qe),Ue.return=Oe,Ue)}function Ge(Oe,Ue,qe,ht){return Ue===null||Ue.tag!==4||Ue.stateNode.containerInfo!==qe.containerInfo||Ue.stateNode.implementation!==qe.implementation?(Ue=Ll(qe,Oe.mode,ht),Ue.return=Oe,Ue):(Ue=y(Ue,qe.children||[]),Ue.return=Oe,Ue)}function lt(Oe,Ue,qe,ht,Nr){return Ue===null||Ue.tag!==7?(Ue=To(qe,Oe.mode,ht,Nr),Ue.return=Oe,Ue):(Ue=y(Ue,qe),Ue.return=Oe,Ue)}function mt(Oe,Ue,qe){if(typeof Ue=="string"&&Ue!==""||typeof Ue=="number"||typeof Ue=="bigint")return Ue=Sl(""+Ue,Oe.mode,qe),Ue.return=Oe,Ue;if(typeof Ue=="object"&&Ue!==null){switch(Ue.$$typeof){case _:return qe=Wo(Ue.type,Ue.key,Ue.props,null,Oe.mode,qe),Mr(qe,Ue),qe.return=Oe,qe;case k:return Ue=Ll(Ue,Oe.mode,qe),Ue.return=Oe,Ue;case ee:return Ue=Pe(Ue),mt(Oe,Ue,qe)}if(ge(Ue)||$(Ue))return Ue=To(Ue,Oe.mode,qe,null),Ue.return=Oe,Ue;if(typeof Ue.then=="function")return mt(Oe,er(Ue),qe);if(Ue.$$typeof===F)return mt(Oe,au(Oe,Ue),qe);ir(Oe,Ue)}return null}function Ze(Oe,Ue,qe,ht){var Nr=Ue!==null?Ue.key:null;if(typeof qe=="string"&&qe!==""||typeof qe=="number"||typeof qe=="bigint")return Nr!==null?null:Ae(Oe,Ue,""+qe,ht);if(typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case _:return qe.key===Nr?Ee(Oe,Ue,qe,ht):null;case k:return qe.key===Nr?Ge(Oe,Ue,qe,ht):null;case ee:return qe=Pe(qe),Ze(Oe,Ue,qe,ht)}if(ge(qe)||$(qe))return Nr!==null?null:lt(Oe,Ue,qe,ht,null);if(typeof qe.then=="function")return Ze(Oe,Ue,er(qe),ht);if(qe.$$typeof===F)return Ze(Oe,Ue,au(Oe,qe),ht);ir(Oe,qe)}return null}function Je(Oe,Ue,qe,ht,Nr){if(typeof ht=="string"&&ht!==""||typeof ht=="number"||typeof ht=="bigint")return Oe=Oe.get(qe)||null,Ae(Ue,Oe,""+ht,Nr);if(typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case _:return Oe=Oe.get(ht.key===null?qe:ht.key)||null,Ee(Ue,Oe,ht,Nr);case k:return Oe=Oe.get(ht.key===null?qe:ht.key)||null,Ge(Ue,Oe,ht,Nr);case ee:return ht=Pe(ht),Je(Oe,Ue,qe,ht,Nr)}if(ge(ht)||$(ht))return Oe=Oe.get(qe)||null,lt(Ue,Oe,ht,Nr,null);if(typeof ht.then=="function")return Je(Oe,Ue,qe,er(ht),Nr);if(ht.$$typeof===F)return Je(Oe,Ue,qe,au(Ue,ht),Nr);ir(Ue,ht)}return null}function Ar(Oe,Ue,qe,ht){for(var Nr=null,Nn=null,gr=Ue,Jr=Ue=0,cn=null;gr!==null&&Jr<qe.length;Jr++){gr.index>Jr?(cn=gr,gr=null):cn=gr.sibling;var Cn=Ze(Oe,gr,qe[Jr],ht);if(Cn===null){gr===null&&(gr=cn);break}s&&gr&&Cn.alternate===null&&l(Oe,gr),Ue=N(Cn,Ue,Jr),Nn===null?Nr=Cn:Nn.sibling=Cn,Nn=Cn,gr=cn}if(Jr===qe.length)return u(Oe,gr),en&&lr(Oe,Jr),Nr;if(gr===null){for(;Jr<qe.length;Jr++)gr=mt(Oe,qe[Jr],ht),gr!==null&&(Ue=N(gr,Ue,Jr),Nn===null?Nr=gr:Nn.sibling=gr,Nn=gr);return en&&lr(Oe,Jr),Nr}for(gr=p(gr);Jr<qe.length;Jr++)cn=Je(gr,Oe,Jr,qe[Jr],ht),cn!==null&&(s&&cn.alternate!==null&&gr.delete(cn.key===null?Jr:cn.key),Ue=N(cn,Ue,Jr),Nn===null?Nr=cn:Nn.sibling=cn,Nn=cn);return s&&gr.forEach(function(rc){return l(Oe,rc)}),en&&lr(Oe,Jr),Nr}function kr(Oe,Ue,qe,ht){if(qe==null)throw Error(n(151));for(var Nr=null,Nn=null,gr=Ue,Jr=Ue=0,cn=null,Cn=qe.next();gr!==null&&!Cn.done;Jr++,Cn=qe.next()){gr.index>Jr?(cn=gr,gr=null):cn=gr.sibling;var rc=Ze(Oe,gr,Cn.value,ht);if(rc===null){gr===null&&(gr=cn);break}s&&gr&&rc.alternate===null&&l(Oe,gr),Ue=N(rc,Ue,Jr),Nn===null?Nr=rc:Nn.sibling=rc,Nn=rc,gr=cn}if(Cn.done)return u(Oe,gr),en&&lr(Oe,Jr),Nr;if(gr===null){for(;!Cn.done;Jr++,Cn=qe.next())Cn=mt(Oe,Cn.value,ht),Cn!==null&&(Ue=N(Cn,Ue,Jr),Nn===null?Nr=Cn:Nn.sibling=Cn,Nn=Cn);return en&&lr(Oe,Jr),Nr}for(gr=p(gr);!Cn.done;Jr++,Cn=qe.next())Cn=Je(gr,Oe,Jr,Cn.value,ht),Cn!==null&&(s&&Cn.alternate!==null&&gr.delete(Cn.key===null?Jr:Cn.key),Ue=N(Cn,Ue,Jr),Nn===null?Nr=Cn:Nn.sibling=Cn,Nn=Cn);return s&&gr.forEach(function(B4){return l(Oe,B4)}),en&&lr(Oe,Jr),Nr}function Gn(Oe,Ue,qe,ht){if(typeof qe=="object"&&qe!==null&&qe.type===j&&qe.key===null&&(qe=qe.props.children),typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case _:e:{for(var Nr=qe.key;Ue!==null;){if(Ue.key===Nr){if(Nr=qe.type,Nr===j){if(Ue.tag===7){u(Oe,Ue.sibling),ht=y(Ue,qe.props.children),ht.return=Oe,Oe=ht;break e}}else if(Ue.elementType===Nr||typeof Nr=="object"&&Nr!==null&&Nr.$$typeof===ee&&Pe(Nr)===Ue.type){u(Oe,Ue.sibling),ht=y(Ue,qe.props),Mr(ht,qe),ht.return=Oe,Oe=ht;break e}u(Oe,Ue);break}else l(Oe,Ue);Ue=Ue.sibling}qe.type===j?(ht=To(qe.props.children,Oe.mode,ht,qe.key),ht.return=Oe,Oe=ht):(ht=Wo(qe.type,qe.key,qe.props,null,Oe.mode,ht),Mr(ht,qe),ht.return=Oe,Oe=ht)}return P(Oe);case k:e:{for(Nr=qe.key;Ue!==null;){if(Ue.key===Nr)if(Ue.tag===4&&Ue.stateNode.containerInfo===qe.containerInfo&&Ue.stateNode.implementation===qe.implementation){u(Oe,Ue.sibling),ht=y(Ue,qe.children||[]),ht.return=Oe,Oe=ht;break e}else{u(Oe,Ue);break}else l(Oe,Ue);Ue=Ue.sibling}ht=Ll(qe,Oe.mode,ht),ht.return=Oe,Oe=ht}return P(Oe);case ee:return qe=Pe(qe),Gn(Oe,Ue,qe,ht)}if(ge(qe))return Ar(Oe,Ue,qe,ht);if($(qe)){if(Nr=$(qe),typeof Nr!="function")throw Error(n(150));return qe=Nr.call(qe),kr(Oe,Ue,qe,ht)}if(typeof qe.then=="function")return Gn(Oe,Ue,er(qe),ht);if(qe.$$typeof===F)return Gn(Oe,Ue,au(Oe,qe),ht);ir(Oe,qe)}return typeof qe=="string"&&qe!==""||typeof qe=="number"||typeof qe=="bigint"?(qe=""+qe,Ue!==null&&Ue.tag===6?(u(Oe,Ue.sibling),ht=y(Ue,qe),ht.return=Oe,Oe=ht):(u(Oe,Ue),ht=Sl(qe,Oe.mode,ht),ht.return=Oe,Oe=ht),P(Oe)):u(Oe,Ue)}return function(Oe,Ue,qe,ht){try{dr=0;var Nr=Gn(Oe,Ue,qe,ht);return gt=null,Nr}catch(gr){if(gr===ke||gr===be)throw gr;var Nn=Ws(29,gr,null,Oe.mode);return Nn.lanes=ht,Nn.return=Oe,Nn}finally{}}}var $n=sn(!0),zr=sn(!1),tr=!1;function Pt(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function As(s,l){s=s.updateQueue,l.updateQueue===s&&(l.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Sr(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function $r(s,l,u){var p=s.updateQueue;if(p===null)return null;if(p=p.shared,(Ln&2)!==0){var y=p.pending;return y===null?l.next=l:(l.next=y.next,y.next=l),p.pending=l,l=Js(s),fo(s,null,u),l}return ho(s,p,l,u),Js(s)}function En(s,l,u){if(l=l.updateQueue,l!==null&&(l=l.shared,(u&4194048)!==0)){var p=l.lanes;p&=s.pendingLanes,u|=p,l.lanes=u,pr(s,u)}}function ta(s,l){var u=s.updateQueue,p=s.alternate;if(p!==null&&(p=p.updateQueue,u===p)){var y=null,N=null;if(u=u.firstBaseUpdate,u!==null){do{var P={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};N===null?y=N=P:N=N.next=P,u=u.next}while(u!==null);N===null?y=N=l:N=N.next=l}else y=N=l;u={baseState:p.baseState,firstBaseUpdate:y,lastBaseUpdate:N,shared:p.shared,callbacks:p.callbacks},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=l:s.next=l,u.lastBaseUpdate=l}var Ea=!1;function zn(){if(Ea){var s=w;if(s!==null)throw s}}function Ms(s,l,u,p){Ea=!1;var y=s.updateQueue;tr=!1;var N=y.firstBaseUpdate,P=y.lastBaseUpdate,Ae=y.shared.pending;if(Ae!==null){y.shared.pending=null;var Ee=Ae,Ge=Ee.next;Ee.next=null,P===null?N=Ge:P.next=Ge,P=Ee;var lt=s.alternate;lt!==null&&(lt=lt.updateQueue,Ae=lt.lastBaseUpdate,Ae!==P&&(Ae===null?lt.firstBaseUpdate=Ge:Ae.next=Ge,lt.lastBaseUpdate=Ee))}if(N!==null){var mt=y.baseState;P=0,lt=Ge=Ee=null,Ae=N;do{var Ze=Ae.lane&-536870913,Je=Ze!==Ae.lane;if(Je?(An&Ze)===Ze:(p&Ze)===Ze){Ze!==0&&Ze===x&&(Ea=!0),lt!==null&&(lt=lt.next={lane:0,tag:Ae.tag,payload:Ae.payload,callback:null,next:null});e:{var Ar=s,kr=Ae;Ze=l;var Gn=u;switch(kr.tag){case 1:if(Ar=kr.payload,typeof Ar=="function"){mt=Ar.call(Gn,mt,Ze);break e}mt=Ar;break e;case 3:Ar.flags=Ar.flags&-65537|128;case 0:if(Ar=kr.payload,Ze=typeof Ar=="function"?Ar.call(Gn,mt,Ze):Ar,Ze==null)break e;mt=b({},mt,Ze);break e;case 2:tr=!0}}Ze=Ae.callback,Ze!==null&&(s.flags|=64,Je&&(s.flags|=8192),Je=y.callbacks,Je===null?y.callbacks=[Ze]:Je.push(Ze))}else Je={lane:Ze,tag:Ae.tag,payload:Ae.payload,callback:Ae.callback,next:null},lt===null?(Ge=lt=Je,Ee=mt):lt=lt.next=Je,P|=Ze;if(Ae=Ae.next,Ae===null){if(Ae=y.shared.pending,Ae===null)break;Je=Ae,Ae=Je.next,Je.next=null,y.lastBaseUpdate=Je,y.shared.pending=null}}while(!0);lt===null&&(Ee=mt),y.baseState=Ee,y.firstBaseUpdate=Ge,y.lastBaseUpdate=lt,N===null&&(y.shared.lanes=0),GA|=P,s.lanes=P,s.memoizedState=mt}}function Qa(s,l){if(typeof s!="function")throw Error(n(191,s));s.call(l)}function Ds(s,l){var u=s.callbacks;if(u!==null)for(s.callbacks=null,s=0;s<u.length;s++)Qa(u[s],l)}var Wr=V(null),xn=V(0);function cs(s,l){s=xA,G(xn,s),G(Wr,l),xA=s|l.baseLanes}function yn(){G(xn,xA),G(Wr,Wr.current)}function ra(){xA=xn.current,O(Wr),O(xn)}var us=V(null),bn=null;function Us(s){var l=s.alternate;G(fn,fn.current&1),G(us,s),bn===null&&(l===null||Wr.current!==null||l.memoizedState!==null)&&(bn=s)}function Sn(s){G(fn,fn.current),G(us,s),bn===null&&(bn=s)}function Rs(s){s.tag===22?(G(fn,fn.current),G(us,s),bn===null&&(bn=s)):Ps()}function Ps(){G(fn,fn.current),G(us,us.current)}function In(s){O(us),bn===s&&(bn=null),O(fn)}var fn=V(0);function Ia(s){for(var l=s;l!==null;){if(l.tag===13){var u=l.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||Mg(u)||Dg(u)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var vs=0,_r=null,Br=null,vn=null,fi=!1,Ki=!1,Xa=!1,Hs=0,Ql=0,Il=null,ou=0;function qn(){throw Error(n(321))}function vd(s,l){if(l===null)return!1;for(var u=0;u<l.length&&u<s.length;u++)if(!gs(s[u],l[u]))return!1;return!0}function yd(s,l,u,p,y,N){return vs=N,_r=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Y.H=s===null||s.memoizedState===null?wv:$m,Xa=!1,N=u(p,y),Xa=!1,Ki&&(N=tl(l,u,p,y)),lu(s),N}function lu(s){Y.H=Ld;var l=Br!==null&&Br.next!==null;if(vs=0,vn=Br=_r=null,fi=!1,Ql=0,Il=null,l)throw Error(n(300));s===null||ha||(s=s.dependencies,s!==null&&su(s)&&(ha=!0))}function tl(s,l,u,p){_r=s;var y=0;do{if(Ki&&(Il=null),Ql=0,Ki=!1,25<=y)throw Error(n(301));if(y+=1,vn=Br=null,s.updateQueue!=null){var N=s.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}Y.H=_v,N=l(u,p)}while(Ki);return N}function Hm(){var s=Y.H,l=s.useState()[0];return l=typeof l.then=="function"?Ol(l):l,s=s.useState()[0],(Br!==null?Br.memoizedState:null)!==s&&(_r.flags|=1024),l}function wd(){var s=Hs!==0;return Hs=0,s}function _d(s,l,u){l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~u}function Au(s){if(fi){for(s=s.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}fi=!1}vs=0,vn=Br=_r=null,Ki=!1,Ql=Hs=0,Il=null}function da(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vn===null?_r.memoizedState=vn=s:vn=vn.next=s,vn}function ys(){if(Br===null){var s=_r.alternate;s=s!==null?s.memoizedState:null}else s=Br.next;var l=vn===null?_r.memoizedState:vn.next;if(l!==null)vn=l,Br=s;else{if(s===null)throw _r.alternate===null?Error(n(467)):Error(n(310));Br=s,s={memoizedState:Br.memoizedState,baseState:Br.baseState,baseQueue:Br.baseQueue,queue:Br.queue,next:null},vn===null?_r.memoizedState=vn=s:vn=vn.next=s}return vn}function Bc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ol(s){var l=Ql;return Ql+=1,Il===null&&(Il=[]),s=ot(Il,s,l),l=_r,(vn===null?l.memoizedState:vn.next)===null&&(l=l.alternate,Y.H=l===null||l.memoizedState===null?wv:$m),s}function RA(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Ol(s);if(s.$$typeof===F)return Ca(s)}throw Error(n(438,String(s)))}function AA(s){var l=null,u=_r.updateQueue;if(u!==null&&(l=u.memoCache),l==null){var p=_r.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(l={data:p.data.map(function(y){return y.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),u===null&&(u=Bc(),_r.updateQueue=u),u.memoCache=l,u=l.data[l.index],u===void 0)for(u=l.data[l.index]=Array(s),p=0;p<s;p++)u[p]=W;return l.index++,u}function Qo(s,l){return typeof l=="function"?l(s):l}function cu(s){var l=ys();return PA(l,Br,s)}function PA(s,l,u){var p=s.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=u;var y=s.baseQueue,N=p.pending;if(N!==null){if(y!==null){var P=y.next;y.next=N.next,N.next=P}l.baseQueue=y=N,p.pending=null}if(N=s.baseState,y===null)s.memoizedState=N;else{l=y.next;var Ae=P=null,Ee=null,Ge=l,lt=!1;do{var mt=Ge.lane&-536870913;if(mt!==Ge.lane?(An&mt)===mt:(vs&mt)===mt){var Ze=Ge.revertLane;if(Ze===0)Ee!==null&&(Ee=Ee.next={lane:0,revertLane:0,gesture:null,action:Ge.action,hasEagerState:Ge.hasEagerState,eagerState:Ge.eagerState,next:null}),mt===x&&(lt=!0);else if((vs&Ze)===Ze){Ge=Ge.next,Ze===x&&(lt=!0);continue}else mt={lane:0,revertLane:Ge.revertLane,gesture:null,action:Ge.action,hasEagerState:Ge.hasEagerState,eagerState:Ge.eagerState,next:null},Ee===null?(Ae=Ee=mt,P=N):Ee=Ee.next=mt,_r.lanes|=Ze,GA|=Ze;mt=Ge.action,Xa&&u(N,mt),N=Ge.hasEagerState?Ge.eagerState:u(N,mt)}else Ze={lane:mt,revertLane:Ge.revertLane,gesture:Ge.gesture,action:Ge.action,hasEagerState:Ge.hasEagerState,eagerState:Ge.eagerState,next:null},Ee===null?(Ae=Ee=Ze,P=N):Ee=Ee.next=Ze,_r.lanes|=mt,GA|=mt;Ge=Ge.next}while(Ge!==null&&Ge!==l);if(Ee===null?P=N:Ee.next=Ae,!gs(N,s.memoizedState)&&(ha=!0,lt&&(u=w,u!==null)))throw u;s.memoizedState=N,s.baseState=P,s.baseQueue=Ee,p.lastRenderedState=N}return y===null&&(p.lanes=0),[s.memoizedState,p.dispatch]}function uu(s){var l=ys(),u=l.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=s;var p=u.dispatch,y=u.pending,N=l.memoizedState;if(y!==null){u.pending=null;var P=y=y.next;do N=s(N,P.action),P=P.next;while(P!==y);gs(N,l.memoizedState)||(ha=!0),l.memoizedState=N,l.baseQueue===null&&(l.baseState=N),u.lastRenderedState=N}return[N,p]}function du(s,l,u){var p=_r,y=ys(),N=en;if(N){if(u===void 0)throw Error(n(407));u=u()}else u=l();var P=!gs((Br||y).memoizedState,u);if(P&&(y.memoizedState=u,ha=!0),y=y.queue,zm(Nd.bind(null,p,y,s),[s]),y.getSnapshot!==l||P||vn!==null&&vn.memoizedState.tag&1){if(p.flags|=2048,uA(9,{destroy:void 0},Bd.bind(null,p,y,u,l),null),Yn===null)throw Error(n(349));N||(vs&127)!==0||rl(p,l,u)}return u}function rl(s,l,u){s.flags|=16384,s={getSnapshot:l,value:u},l=_r.updateQueue,l===null?(l=Bc(),_r.updateQueue=l,l.stores=[s]):(u=l.stores,u===null?l.stores=[s]:u.push(s))}function Bd(s,l,u,p){l.value=u,l.getSnapshot=p,Xh(l)&&Cd(s)}function Nd(s,l,u){return u(function(){Xh(l)&&Cd(s)})}function Xh(s){var l=s.getSnapshot;s=s.value;try{var u=l();return!gs(s,u)}catch{return!0}}function Cd(s){var l=di(s,2);l!==null&&Yi(l,s,2)}function Ml(s){var l=da();if(typeof s=="function"){var u=s;if(s=u(),Xa){Lt(!0);try{u()}finally{Lt(!1)}}}return l.memoizedState=l.baseState=s,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qo,lastRenderedState:s},l}function Jh(s,l,u,p){return s.baseState=u,PA(s,Br,typeof p=="function"?p:Qo)}function Wh(s,l,u,p,y){if(nf(s))throw Error(n(485));if(s=l.action,s!==null){var N={payload:y,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(P){N.listeners.push(P)}};Y.T!==null?u(!0):N.isTransition=!1,p(N),u=l.pending,u===null?(N.next=l.pending=N,ef(l,N)):(N.next=u.next,l.pending=u.next=N)}}function ef(s,l){var u=l.action,p=l.payload,y=s.state;if(l.isTransition){var N=Y.T,P={};Y.T=P;try{var Ae=u(y,p),Ee=Y.S;Ee!==null&&Ee(P,Ae),Ed(s,l,Ae)}catch(Ge){cA(s,l,Ge)}finally{N!==null&&P.types!==null&&(N.types=P.types),Y.T=N}}else try{N=u(y,p),Ed(s,l,N)}catch(Ge){cA(s,l,Ge)}}function Ed(s,l,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(p){tf(s,l,p)},function(p){return cA(s,l,p)}):tf(s,l,u)}function tf(s,l,u){l.status="fulfilled",l.value=u,hu(l),s.state=u,l=s.pending,l!==null&&(u=l.next,u===l?s.pending=null:(u=u.next,l.next=u,ef(s,u)))}function cA(s,l,u){var p=s.pending;if(s.pending=null,p!==null){p=p.next;do l.status="rejected",l.reason=u,hu(l),l=l.next;while(l!==p)}s.action=null}function hu(s){s=s.listeners;for(var l=0;l<s.length;l++)(0,s[l])()}function Nc(s,l){return l}function Io(s,l){if(en){var u=Yn.formState;if(u!==null){e:{var p=_r;if(en){if(gn){t:{for(var y=gn,N=ts;y.nodeType!==8;){if(!N){y=null;break t}if(y=Oo(y.nextSibling),y===null){y=null;break t}}N=y.data,y=N==="F!"||N==="F"?y:null}if(y){gn=Oo(y.nextSibling),p=y.data==="F!";break e}}Fo(p)}p=!1}p&&(l=u[0])}}return u=da(),u.memoizedState=u.baseState=l,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nc,lastRenderedState:l},u.queue=p,u=bv.bind(null,_r,p),p.dispatch=u,p=Ml(!1),N=Zm.bind(null,_r,!1,p.queue),p=da(),y={state:l,dispatch:null,action:s,pending:null},p.queue=y,u=Wh.bind(null,_r,y,N,u),y.dispatch=u,p.memoizedState=s,[l,u,!1]}function nl(s){var l=ys();return sl(l,Br,s)}function sl(s,l,u){if(l=PA(s,l,Nc)[0],s=cu(Qo)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var p=Ol(l)}catch(P){throw P===ke?be:P}else p=l;l=ys();var y=l.queue,N=y.dispatch;return u!==l.memoizedState&&(_r.flags|=2048,uA(9,{destroy:void 0},fu.bind(null,y,u),null)),[p,N,s]}function fu(s,l){s.action=l}function pu(s){var l=ys(),u=Br;if(u!==null)return sl(l,u,s);ys(),l=l.memoizedState,u=ys();var p=u.queue.dispatch;return u.memoizedState=s,[l,p,!1]}function uA(s,l,u,p){return s={tag:s,create:u,deps:p,inst:l,next:null},l=_r.updateQueue,l===null&&(l=Bc(),_r.updateQueue=l),u=l.lastEffect,u===null?l.lastEffect=s.next=s:(p=u.next,u.next=s,s.next=p,l.lastEffect=s),s}function rf(){return ys().memoizedState}function HA(s,l,u,p){var y=da();_r.flags|=s,y.memoizedState=uA(1|l,{destroy:void 0},u,p===void 0?null:p)}function zA(s,l,u,p){var y=ys();p=p===void 0?null:p;var N=y.memoizedState.inst;Br!==null&&p!==null&&vd(p,Br.memoizedState.deps)?y.memoizedState=uA(l,N,u,p):(_r.flags|=s,y.memoizedState=uA(1|l,N,u,p))}function av(s,l){HA(8390656,8,s,l)}function zm(s,l){zA(2048,8,s,l)}function xC(s){_r.flags|=4;var l=_r.updateQueue;if(l===null)l=Bc(),_r.updateQueue=l,l.events=[s];else{var u=l.events;u===null?l.events=[s]:u.push(s)}}function iv(s){var l=ys().memoizedState;return xC({ref:l,nextImpl:s}),function(){if((Ln&2)!==0)throw Error(n(440));return l.impl.apply(void 0,arguments)}}function ov(s,l){return zA(4,2,s,l)}function lv(s,l){return zA(4,4,s,l)}function Av(s,l){if(typeof l=="function"){s=s();var u=l(s);return function(){typeof u=="function"?u():l(null)}}if(l!=null)return s=s(),l.current=s,function(){l.current=null}}function cv(s,l,u){u=u!=null?u.concat([s]):null,zA(4,4,Av.bind(null,l,s),u)}function qm(){}function uv(s,l){var u=ys();l=l===void 0?null:l;var p=u.memoizedState;return l!==null&&vd(l,p[1])?p[0]:(u.memoizedState=[s,l],s)}function dv(s,l){var u=ys();l=l===void 0?null:l;var p=u.memoizedState;if(l!==null&&vd(l,p[1]))return p[0];if(p=s(),Xa){Lt(!0);try{s()}finally{Lt(!1)}}return u.memoizedState=[p,l],p}function Km(s,l,u){return u===void 0||(vs&1073741824)!==0&&(An&261930)===0?s.memoizedState=l:(s.memoizedState=u,s=h1(),_r.lanes|=s,GA|=s,u)}function hv(s,l,u,p){return gs(u,l)?u:Wr.current!==null?(s=Km(s,u,p),gs(s,l)||(ha=!0),s):(vs&42)===0||(vs&1073741824)!==0&&(An&261930)===0?(ha=!0,s.memoizedState=u):(s=h1(),_r.lanes|=s,GA|=s,l)}function fv(s,l,u,p,y){var N=pe.p;pe.p=N!==0&&8>N?N:8;var P=Y.T,Ae={};Y.T=Ae,Zm(s,!1,l,u);try{var Ee=y(),Ge=Y.S;if(Ge!==null&&Ge(Ae,Ee),Ee!==null&&typeof Ee=="object"&&typeof Ee.then=="function"){var lt=J(Ee,p);Sd(s,l,lt,xo(s))}else Sd(s,l,p,xo(s))}catch(mt){Sd(s,l,{then:function(){},status:"rejected",reason:mt},xo())}finally{pe.p=N,P!==null&&Ae.types!==null&&(P.types=Ae.types),Y.T=P}}function bC(){}function Gm(s,l,u,p){if(s.tag!==5)throw Error(n(476));var y=pv(s).queue;fv(s,y,l,z,u===null?bC:function(){return mv(s),u(p)})}function pv(s){var l=s.memoizedState;if(l!==null)return l;l={memoizedState:z,baseState:z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qo,lastRenderedState:z},next:null};var u={};return l.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qo,lastRenderedState:u},next:null},s.memoizedState=l,s=s.alternate,s!==null&&(s.memoizedState=l),l}function mv(s){var l=pv(s);l.next===null&&(l=s.alternate.memoizedState),Sd(s,l.next.queue,{},xo())}function Vm(){return Ca(Kd)}function gv(){return ys().memoizedState}function xv(){return ys().memoizedState}function vC(s){for(var l=s.return;l!==null;){switch(l.tag){case 24:case 3:var u=xo();s=Sr(u);var p=$r(l,s,u);p!==null&&(Yi(p,l,u),En(p,l,u)),l={cache:DA()},s.payload=l;return}l=l.return}}function yC(s,l,u){var p=xo();u={lane:p,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},nf(s)?vv(l,u):(u=QA(s,l,u,p),u!==null&&(Yi(u,s,p),yv(u,l,p)))}function bv(s,l,u){var p=xo();Sd(s,l,u,p)}function Sd(s,l,u,p){var y={lane:p,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(nf(s))vv(l,y);else{var N=s.alternate;if(s.lanes===0&&(N===null||N.lanes===0)&&(N=l.lastRenderedReducer,N!==null))try{var P=l.lastRenderedState,Ae=N(P,u);if(y.hasEagerState=!0,y.eagerState=Ae,gs(Ae,P))return ho(s,l,y,0),Yn===null&&Cl(),!1}catch{}finally{}if(u=QA(s,l,y,p),u!==null)return Yi(u,s,p),yv(u,l,p),!0}return!1}function Zm(s,l,u,p){if(p={lane:2,revertLane:Cg(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},nf(s)){if(l)throw Error(n(479))}else l=QA(s,u,p,2),l!==null&&Yi(l,s,2)}function nf(s){var l=s.alternate;return s===_r||l!==null&&l===_r}function vv(s,l){Ki=fi=!0;var u=s.pending;u===null?l.next=l:(l.next=u.next,u.next=l),s.pending=l}function yv(s,l,u){if((u&4194048)!==0){var p=l.lanes;p&=s.pendingLanes,u|=p,l.lanes=u,pr(s,u)}}var Ld={readContext:Ca,use:RA,useCallback:qn,useContext:qn,useEffect:qn,useImperativeHandle:qn,useLayoutEffect:qn,useInsertionEffect:qn,useMemo:qn,useReducer:qn,useRef:qn,useState:qn,useDebugValue:qn,useDeferredValue:qn,useTransition:qn,useSyncExternalStore:qn,useId:qn,useHostTransitionStatus:qn,useFormState:qn,useActionState:qn,useOptimistic:qn,useMemoCache:qn,useCacheRefresh:qn};Ld.useEffectEvent=qn;var wv={readContext:Ca,use:RA,useCallback:function(s,l){return da().memoizedState=[s,l===void 0?null:l],s},useContext:Ca,useEffect:av,useImperativeHandle:function(s,l,u){u=u!=null?u.concat([s]):null,HA(4194308,4,Av.bind(null,l,s),u)},useLayoutEffect:function(s,l){return HA(4194308,4,s,l)},useInsertionEffect:function(s,l){HA(4,2,s,l)},useMemo:function(s,l){var u=da();l=l===void 0?null:l;var p=s();if(Xa){Lt(!0);try{s()}finally{Lt(!1)}}return u.memoizedState=[p,l],p},useReducer:function(s,l,u){var p=da();if(u!==void 0){var y=u(l);if(Xa){Lt(!0);try{u(l)}finally{Lt(!1)}}}else y=l;return p.memoizedState=p.baseState=y,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:y},p.queue=s,s=s.dispatch=yC.bind(null,_r,s),[p.memoizedState,s]},useRef:function(s){var l=da();return s={current:s},l.memoizedState=s},useState:function(s){s=Ml(s);var l=s.queue,u=bv.bind(null,_r,l);return l.dispatch=u,[s.memoizedState,u]},useDebugValue:qm,useDeferredValue:function(s,l){var u=da();return Km(u,s,l)},useTransition:function(){var s=Ml(!1);return s=fv.bind(null,_r,s.queue,!0,!1),da().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,l,u){var p=_r,y=da();if(en){if(u===void 0)throw Error(n(407));u=u()}else{if(u=l(),Yn===null)throw Error(n(349));(An&127)!==0||rl(p,l,u)}y.memoizedState=u;var N={value:u,getSnapshot:l};return y.queue=N,av(Nd.bind(null,p,N,s),[s]),p.flags|=2048,uA(9,{destroy:void 0},Bd.bind(null,p,N,u,l),null),u},useId:function(){var s=da(),l=Yn.identifierPrefix;if(en){var u=Mt,p=dt;u=(p&~(1<<32-Ut(p)-1)).toString(32)+u,l="_"+l+"R_"+u,u=Hs++,0<u&&(l+="H"+u.toString(32)),l+="_"}else u=ou++,l="_"+l+"r_"+u.toString(32)+"_";return s.memoizedState=l},useHostTransitionStatus:Vm,useFormState:Io,useActionState:Io,useOptimistic:function(s){var l=da();l.memoizedState=l.baseState=s;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=u,l=Zm.bind(null,_r,!0,u),u.dispatch=l,[s,l]},useMemoCache:AA,useCacheRefresh:function(){return da().memoizedState=vC.bind(null,_r)},useEffectEvent:function(s){var l=da(),u={impl:s};return l.memoizedState=u,function(){if((Ln&2)!==0)throw Error(n(440));return u.impl.apply(void 0,arguments)}}},$m={readContext:Ca,use:RA,useCallback:uv,useContext:Ca,useEffect:zm,useImperativeHandle:cv,useInsertionEffect:ov,useLayoutEffect:lv,useMemo:dv,useReducer:cu,useRef:rf,useState:function(){return cu(Qo)},useDebugValue:qm,useDeferredValue:function(s,l){var u=ys();return hv(u,Br.memoizedState,s,l)},useTransition:function(){var s=cu(Qo)[0],l=ys().memoizedState;return[typeof s=="boolean"?s:Ol(s),l]},useSyncExternalStore:du,useId:gv,useHostTransitionStatus:Vm,useFormState:nl,useActionState:nl,useOptimistic:function(s,l){var u=ys();return Jh(u,Br,s,l)},useMemoCache:AA,useCacheRefresh:xv};$m.useEffectEvent=iv;var _v={readContext:Ca,use:RA,useCallback:uv,useContext:Ca,useEffect:zm,useImperativeHandle:cv,useInsertionEffect:ov,useLayoutEffect:lv,useMemo:dv,useReducer:uu,useRef:rf,useState:function(){return uu(Qo)},useDebugValue:qm,useDeferredValue:function(s,l){var u=ys();return Br===null?Km(u,s,l):hv(u,Br.memoizedState,s,l)},useTransition:function(){var s=uu(Qo)[0],l=ys().memoizedState;return[typeof s=="boolean"?s:Ol(s),l]},useSyncExternalStore:du,useId:gv,useHostTransitionStatus:Vm,useFormState:pu,useActionState:pu,useOptimistic:function(s,l){var u=ys();return Br!==null?Jh(u,Br,s,l):(u.baseState=s,[s,u.queue.dispatch])},useMemoCache:AA,useCacheRefresh:xv};_v.useEffectEvent=iv;function Ym(s,l,u,p){l=s.memoizedState,u=u(p,l),u=u==null?l:b({},l,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var Xm={enqueueSetState:function(s,l,u){s=s._reactInternals;var p=xo(),y=Sr(p);y.payload=l,u!=null&&(y.callback=u),l=$r(s,y,p),l!==null&&(Yi(l,s,p),En(l,s,p))},enqueueReplaceState:function(s,l,u){s=s._reactInternals;var p=xo(),y=Sr(p);y.tag=1,y.payload=l,u!=null&&(y.callback=u),l=$r(s,y,p),l!==null&&(Yi(l,s,p),En(l,s,p))},enqueueForceUpdate:function(s,l){s=s._reactInternals;var u=xo(),p=Sr(u);p.tag=2,l!=null&&(p.callback=l),l=$r(s,p,u),l!==null&&(Yi(l,s,u),En(l,s,u))}};function Bv(s,l,u,p,y,N,P){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(p,N,P):l.prototype&&l.prototype.isPureReactComponent?!Mi(u,p)||!Mi(y,N):!0}function Nv(s,l,u,p){s=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(u,p),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(u,p),l.state!==s&&Xm.enqueueReplaceState(l,l.state,null)}function Cc(s,l){var u=l;if("ref"in l){u={};for(var p in l)p!=="ref"&&(u[p]=l[p])}if(s=s.defaultProps){u===l&&(u=b({},u));for(var y in s)u[y]===void 0&&(u[y]=s[y])}return u}function Cv(s){Nl(s)}function Ev(s){console.error(s)}function Sv(s){Nl(s)}function sf(s,l){try{var u=s.onUncaughtError;u(l.value,{componentStack:l.stack})}catch(p){setTimeout(function(){throw p})}}function Lv(s,l,u){try{var p=s.onCaughtError;p(u.value,{componentStack:u.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Jm(s,l,u){return u=Sr(u),u.tag=3,u.payload={element:null},u.callback=function(){sf(s,l)},u}function jv(s){return s=Sr(s),s.tag=3,s}function kv(s,l,u,p){var y=u.type.getDerivedStateFromError;if(typeof y=="function"){var N=p.value;s.payload=function(){return y(N)},s.callback=function(){Lv(l,u,p)}}var P=u.stateNode;P!==null&&typeof P.componentDidCatch=="function"&&(s.callback=function(){Lv(l,u,p),typeof y!="function"&&(VA===null?VA=new Set([this]):VA.add(this));var Ae=p.stack;this.componentDidCatch(p.value,{componentStack:Ae!==null?Ae:""})})}function wC(s,l,u,p,y){if(u.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(l=u.alternate,l!==null&&Tl(l,u,y,!0),u=us.current,u!==null){switch(u.tag){case 31:case 13:return bn===null?gf():u.alternate===null&&zs===0&&(zs=3),u.flags&=-257,u.flags|=65536,u.lanes=y,p===Te?u.flags|=16384:(l=u.updateQueue,l===null?u.updateQueue=new Set([p]):l.add(p),_g(s,p,y)),!1;case 22:return u.flags|=65536,p===Te?u.flags|=16384:(l=u.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([p])},u.updateQueue=l):(u=l.retryQueue,u===null?l.retryQueue=new Set([p]):u.add(p)),_g(s,p,y)),!1}throw Error(n(435,u.tag))}return _g(s,p,y),gf(),!1}if(en)return l=us.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=y,p!==hi&&(s=Error(n(422),{cause:p}),jl(f(s,u)))):(p!==hi&&(l=Error(n(423),{cause:p}),jl(f(l,u))),s=s.current.alternate,s.flags|=65536,y&=-y,s.lanes|=y,p=f(p,u),y=Jm(s.stateNode,p,y),ta(s,y),zs!==4&&(zs=2)),!1;var N=Error(n(520),{cause:p});if(N=f(N,u),Od===null?Od=[N]:Od.push(N),zs!==4&&(zs=2),l===null)return!0;p=f(p,u),u=l;do{switch(u.tag){case 3:return u.flags|=65536,s=y&-y,u.lanes|=s,s=Jm(u.stateNode,p,s),ta(u,s),!1;case 1:if(l=u.type,N=u.stateNode,(u.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(VA===null||!VA.has(N))))return u.flags|=65536,y&=-y,u.lanes|=y,y=jv(y),kv(y,s,u,p),ta(u,y),!1}u=u.return}while(u!==null);return!1}var Wm=Error(n(461)),ha=!1;function Ja(s,l,u,p){l.child=s===null?zr(l,null,u,p):$n(l,s.child,u,p)}function Uv(s,l,u,p,y){u=u.render;var N=l.ref;if("ref"in p){var P={};for(var Ae in p)Ae!=="ref"&&(P[Ae]=p[Ae])}else P=p;return Fl(l),p=yd(s,l,u,P,N,y),Ae=wd(),s!==null&&!ha?(_d(s,l,y),dA(s,l,y)):(en&&Ae&&ea(l),l.flags|=1,Ja(s,l,p,y),l.child)}function Tv(s,l,u,p,y){if(s===null){var N=u.type;return typeof N=="function"&&!iA(N)&&N.defaultProps===void 0&&u.compare===null?(l.tag=15,l.type=N,Fv(s,l,N,p,y)):(s=Wo(u.type,null,p,l,l.mode,y),s.ref=l.ref,s.return=l,l.child=s)}if(N=s.child,!og(s,y)){var P=N.memoizedProps;if(u=u.compare,u=u!==null?u:Mi,u(P,p)&&s.ref===l.ref)return dA(s,l,y)}return l.flags|=1,s=$a(N,p),s.ref=l.ref,s.return=l,l.child=s}function Fv(s,l,u,p,y){if(s!==null){var N=s.memoizedProps;if(Mi(N,p)&&s.ref===l.ref)if(ha=!1,l.pendingProps=p=N,og(s,y))(s.flags&131072)!==0&&(ha=!0);else return l.lanes=s.lanes,dA(s,l,y)}return eg(s,l,u,p,y)}function Qv(s,l,u,p){var y=p.children,N=s!==null?s.memoizedState:null;if(s===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((l.flags&128)!==0){if(N=N!==null?N.baseLanes|u:u,s!==null){for(p=l.child=s.child,y=0;p!==null;)y=y|p.lanes|p.childLanes,p=p.sibling;p=y&~N}else p=0,l.child=null;return Iv(s,l,N,u,p)}if((u&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},s!==null&&fe(l,N!==null?N.cachePool:null),N!==null?cs(l,N):yn(),Rs(l);else return p=l.lanes=536870912,Iv(s,l,N!==null?N.baseLanes|u:u,u,p)}else N!==null?(fe(l,N.cachePool),cs(l,N),Ps(),l.memoizedState=null):(s!==null&&fe(l,null),yn(),Ps());return Ja(s,l,y,u),l.child}function jd(s,l){return s!==null&&s.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function Iv(s,l,u,p,y){var N=ue();return N=N===null?null:{parent:ks._currentValue,pool:N},l.memoizedState={baseLanes:u,cachePool:N},s!==null&&fe(l,null),yn(),Rs(l),s!==null&&Tl(s,l,p,!0),l.childLanes=y,null}function af(s,l){return l=lf({mode:l.mode,children:l.children},s.mode),l.ref=s.ref,s.child=l,l.return=s,l}function Ov(s,l,u){return $n(l,s.child,null,u),s=af(l,l.pendingProps),s.flags|=2,In(l),l.memoizedState=null,s}function _C(s,l,u){var p=l.pendingProps,y=(l.flags&128)!==0;if(l.flags&=-129,s===null){if(en){if(p.mode==="hidden")return s=af(l,p),l.lanes=536870912,jd(null,s);if(Sn(l),(s=gn)?(s=$1(s,ts),s=s!==null&&s.data==="&"?s:null,s!==null&&(l.memoizedState={dehydrated:s,treeContext:Ve!==null?{id:dt,overflow:Mt}:null,retryLane:536870912,hydrationErrors:null},u=oA(s),u.return=l,l.child=u,mn=l,gn=null)):s=null,s===null)throw Fo(l);return l.lanes=536870912,null}return af(l,p)}var N=s.memoizedState;if(N!==null){var P=N.dehydrated;if(Sn(l),y)if(l.flags&256)l.flags&=-257,l=Ov(s,l,u);else if(l.memoizedState!==null)l.child=s.child,l.flags|=128,l=null;else throw Error(n(558));else if(ha||Tl(s,l,u,!1),y=(u&s.childLanes)!==0,ha||y){if(p=Yn,p!==null&&(P=Pr(p,u),P!==0&&P!==N.retryLane))throw N.retryLane=P,di(s,P),Yi(p,s,P),Wm;gf(),l=Ov(s,l,u)}else s=N.treeContext,gn=Oo(P.nextSibling),mn=l,en=!0,Na=null,ts=!1,s!==null&&Ya(l,s),l=af(l,p),l.flags|=4096;return l}return s=$a(s.child,{mode:p.mode,children:p.children}),s.ref=l.ref,l.child=s,s.return=l,s}function of(s,l){var u=l.ref;if(u===null)s!==null&&s.ref!==null&&(l.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(n(284));(s===null||s.ref!==u)&&(l.flags|=4194816)}}function eg(s,l,u,p,y){return Fl(l),u=yd(s,l,u,p,void 0,y),p=wd(),s!==null&&!ha?(_d(s,l,y),dA(s,l,y)):(en&&p&&ea(l),l.flags|=1,Ja(s,l,u,y),l.child)}function Mv(s,l,u,p,y,N){return Fl(l),l.updateQueue=null,u=tl(l,p,u,y),lu(s),p=wd(),s!==null&&!ha?(_d(s,l,N),dA(s,l,N)):(en&&p&&ea(l),l.flags|=1,Ja(s,l,u,N),l.child)}function Dv(s,l,u,p,y){if(Fl(l),l.stateNode===null){var N=Os,P=u.contextType;typeof P=="object"&&P!==null&&(N=Ca(P)),N=new u(p,N),l.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=Xm,l.stateNode=N,N._reactInternals=l,N=l.stateNode,N.props=p,N.state=l.memoizedState,N.refs={},Pt(l),P=u.contextType,N.context=typeof P=="object"&&P!==null?Ca(P):Os,N.state=l.memoizedState,P=u.getDerivedStateFromProps,typeof P=="function"&&(Ym(l,u,P,p),N.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(P=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),P!==N.state&&Xm.enqueueReplaceState(N,N.state,null),Ms(l,p,N,y),zn(),N.state=l.memoizedState),typeof N.componentDidMount=="function"&&(l.flags|=4194308),p=!0}else if(s===null){N=l.stateNode;var Ae=l.memoizedProps,Ee=Cc(u,Ae);N.props=Ee;var Ge=N.context,lt=u.contextType;P=Os,typeof lt=="object"&&lt!==null&&(P=Ca(lt));var mt=u.getDerivedStateFromProps;lt=typeof mt=="function"||typeof N.getSnapshotBeforeUpdate=="function",Ae=l.pendingProps!==Ae,lt||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(Ae||Ge!==P)&&Nv(l,N,p,P),tr=!1;var Ze=l.memoizedState;N.state=Ze,Ms(l,p,N,y),zn(),Ge=l.memoizedState,Ae||Ze!==Ge||tr?(typeof mt=="function"&&(Ym(l,u,mt,p),Ge=l.memoizedState),(Ee=tr||Bv(l,u,Ee,p,Ze,Ge,P))?(lt||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(l.flags|=4194308)):(typeof N.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=p,l.memoizedState=Ge),N.props=p,N.state=Ge,N.context=P,p=Ee):(typeof N.componentDidMount=="function"&&(l.flags|=4194308),p=!1)}else{N=l.stateNode,As(s,l),P=l.memoizedProps,lt=Cc(u,P),N.props=lt,mt=l.pendingProps,Ze=N.context,Ge=u.contextType,Ee=Os,typeof Ge=="object"&&Ge!==null&&(Ee=Ca(Ge)),Ae=u.getDerivedStateFromProps,(Ge=typeof Ae=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(P!==mt||Ze!==Ee)&&Nv(l,N,p,Ee),tr=!1,Ze=l.memoizedState,N.state=Ze,Ms(l,p,N,y),zn();var Je=l.memoizedState;P!==mt||Ze!==Je||tr||s!==null&&s.dependencies!==null&&su(s.dependencies)?(typeof Ae=="function"&&(Ym(l,u,Ae,p),Je=l.memoizedState),(lt=tr||Bv(l,u,lt,p,Ze,Je,Ee)||s!==null&&s.dependencies!==null&&su(s.dependencies))?(Ge||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(p,Je,Ee),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(p,Je,Ee)),typeof N.componentDidUpdate=="function"&&(l.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof N.componentDidUpdate!="function"||P===s.memoizedProps&&Ze===s.memoizedState||(l.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||P===s.memoizedProps&&Ze===s.memoizedState||(l.flags|=1024),l.memoizedProps=p,l.memoizedState=Je),N.props=p,N.state=Je,N.context=Ee,p=lt):(typeof N.componentDidUpdate!="function"||P===s.memoizedProps&&Ze===s.memoizedState||(l.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||P===s.memoizedProps&&Ze===s.memoizedState||(l.flags|=1024),p=!1)}return N=p,of(s,l),p=(l.flags&128)!==0,N||p?(N=l.stateNode,u=p&&typeof u.getDerivedStateFromError!="function"?null:N.render(),l.flags|=1,s!==null&&p?(l.child=$n(l,s.child,null,y),l.child=$n(l,null,u,y)):Ja(s,l,u,y),l.memoizedState=N.state,s=l.child):s=dA(s,l,y),s}function Rv(s,l,u,p){return el(),l.flags|=256,Ja(s,l,u,p),l.child}var tg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function rg(s){return{baseLanes:s,cachePool:ye()}}function ng(s,l,u){return s=s!==null?s.childLanes&~u:0,l&&(s|=go),s}function Pv(s,l,u){var p=l.pendingProps,y=!1,N=(l.flags&128)!==0,P;if((P=N)||(P=s!==null&&s.memoizedState===null?!1:(fn.current&2)!==0),P&&(y=!0,l.flags&=-129),P=(l.flags&32)!==0,l.flags&=-33,s===null){if(en){if(y?Us(l):Ps(),(s=gn)?(s=$1(s,ts),s=s!==null&&s.data!=="&"?s:null,s!==null&&(l.memoizedState={dehydrated:s,treeContext:Ve!==null?{id:dt,overflow:Mt}:null,retryLane:536870912,hydrationErrors:null},u=oA(s),u.return=l,l.child=u,mn=l,gn=null)):s=null,s===null)throw Fo(l);return Dg(s)?l.lanes=32:l.lanes=536870912,null}var Ae=p.children;return p=p.fallback,y?(Ps(),y=l.mode,Ae=lf({mode:"hidden",children:Ae},y),p=To(p,y,u,null),Ae.return=l,p.return=l,Ae.sibling=p,l.child=Ae,p=l.child,p.memoizedState=rg(u),p.childLanes=ng(s,P,u),l.memoizedState=tg,jd(null,p)):(Us(l),sg(l,Ae))}var Ee=s.memoizedState;if(Ee!==null&&(Ae=Ee.dehydrated,Ae!==null)){if(N)l.flags&256?(Us(l),l.flags&=-257,l=ag(s,l,u)):l.memoizedState!==null?(Ps(),l.child=s.child,l.flags|=128,l=null):(Ps(),Ae=p.fallback,y=l.mode,p=lf({mode:"visible",children:p.children},y),Ae=To(Ae,y,u,null),Ae.flags|=2,p.return=l,Ae.return=l,p.sibling=Ae,l.child=p,$n(l,s.child,null,u),p=l.child,p.memoizedState=rg(u),p.childLanes=ng(s,P,u),l.memoizedState=tg,l=jd(null,p));else if(Us(l),Dg(Ae)){if(P=Ae.nextSibling&&Ae.nextSibling.dataset,P)var Ge=P.dgst;P=Ge,p=Error(n(419)),p.stack="",p.digest=P,jl({value:p,source:null,stack:null}),l=ag(s,l,u)}else if(ha||Tl(s,l,u,!1),P=(u&s.childLanes)!==0,ha||P){if(P=Yn,P!==null&&(p=Pr(P,u),p!==0&&p!==Ee.retryLane))throw Ee.retryLane=p,di(s,p),Yi(P,s,p),Wm;Mg(Ae)||gf(),l=ag(s,l,u)}else Mg(Ae)?(l.flags|=192,l.child=s.child,l=null):(s=Ee.treeContext,gn=Oo(Ae.nextSibling),mn=l,en=!0,Na=null,ts=!1,s!==null&&Ya(l,s),l=sg(l,p.children),l.flags|=4096);return l}return y?(Ps(),Ae=p.fallback,y=l.mode,Ee=s.child,Ge=Ee.sibling,p=$a(Ee,{mode:"hidden",children:p.children}),p.subtreeFlags=Ee.subtreeFlags&65011712,Ge!==null?Ae=$a(Ge,Ae):(Ae=To(Ae,y,u,null),Ae.flags|=2),Ae.return=l,p.return=l,p.sibling=Ae,l.child=p,jd(null,p),p=l.child,Ae=s.child.memoizedState,Ae===null?Ae=rg(u):(y=Ae.cachePool,y!==null?(Ee=ks._currentValue,y=y.parent!==Ee?{parent:Ee,pool:Ee}:y):y=ye(),Ae={baseLanes:Ae.baseLanes|u,cachePool:y}),p.memoizedState=Ae,p.childLanes=ng(s,P,u),l.memoizedState=tg,jd(s.child,p)):(Us(l),u=s.child,s=u.sibling,u=$a(u,{mode:"visible",children:p.children}),u.return=l,u.sibling=null,s!==null&&(P=l.deletions,P===null?(l.deletions=[s],l.flags|=16):P.push(s)),l.child=u,l.memoizedState=null,u)}function sg(s,l){return l=lf({mode:"visible",children:l},s.mode),l.return=s,s.child=l}function lf(s,l){return s=Ws(22,s,null,l),s.lanes=0,s}function ag(s,l,u){return $n(l,s.child,null,u),s=sg(l,l.pendingProps.children),s.flags|=2,l.memoizedState=null,s}function Hv(s,l,u){s.lanes|=l;var p=s.alternate;p!==null&&(p.lanes|=l),MA(s.return,l,u)}function ig(s,l,u,p,y,N){var P=s.memoizedState;P===null?s.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:p,tail:u,tailMode:y,treeForkCount:N}:(P.isBackwards=l,P.rendering=null,P.renderingStartTime=0,P.last=p,P.tail=u,P.tailMode=y,P.treeForkCount=N)}function zv(s,l,u){var p=l.pendingProps,y=p.revealOrder,N=p.tail;p=p.children;var P=fn.current,Ae=(P&2)!==0;if(Ae?(P=P&1|2,l.flags|=128):P&=1,G(fn,P),Ja(s,l,p,u),p=en?ne:0,!Ae&&s!==null&&(s.flags&128)!==0)e:for(s=l.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Hv(s,u,l);else if(s.tag===19)Hv(s,u,l);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===l)break e;for(;s.sibling===null;){if(s.return===null||s.return===l)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(y){case"forwards":for(u=l.child,y=null;u!==null;)s=u.alternate,s!==null&&Ia(s)===null&&(y=u),u=u.sibling;u=y,u===null?(y=l.child,l.child=null):(y=u.sibling,u.sibling=null),ig(l,!1,y,u,N,p);break;case"backwards":case"unstable_legacy-backwards":for(u=null,y=l.child,l.child=null;y!==null;){if(s=y.alternate,s!==null&&Ia(s)===null){l.child=y;break}s=y.sibling,y.sibling=u,u=y,y=s}ig(l,!0,u,null,N,p);break;case"together":ig(l,!1,null,null,void 0,p);break;default:l.memoizedState=null}return l.child}function dA(s,l,u){if(s!==null&&(l.dependencies=s.dependencies),GA|=l.lanes,(u&l.childLanes)===0)if(s!==null){if(Tl(s,l,u,!1),(u&l.childLanes)===0)return null}else return null;if(s!==null&&l.child!==s.child)throw Error(n(153));if(l.child!==null){for(s=l.child,u=$a(s,s.pendingProps),l.child=u,u.return=l;s.sibling!==null;)s=s.sibling,u=u.sibling=$a(s,s.pendingProps),u.return=l;u.sibling=null}return l.child}function og(s,l){return(s.lanes&l)!==0?!0:(s=s.dependencies,!!(s!==null&&su(s)))}function BC(s,l,u){switch(l.tag){case 3:Se(l,l.stateNode.containerInfo),Ul(l,ks,s.memoizedState.cache),el();break;case 27:case 5:He(l);break;case 4:Se(l,l.stateNode.containerInfo);break;case 10:Ul(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,Sn(l),null;break;case 13:var p=l.memoizedState;if(p!==null)return p.dehydrated!==null?(Us(l),l.flags|=128,null):(u&l.child.childLanes)!==0?Pv(s,l,u):(Us(l),s=dA(s,l,u),s!==null?s.sibling:null);Us(l);break;case 19:var y=(s.flags&128)!==0;if(p=(u&l.childLanes)!==0,p||(Tl(s,l,u,!1),p=(u&l.childLanes)!==0),y){if(p)return zv(s,l,u);l.flags|=128}if(y=l.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),G(fn,fn.current),p)break;return null;case 22:return l.lanes=0,Qv(s,l,u,l.pendingProps);case 24:Ul(l,ks,s.memoizedState.cache)}return dA(s,l,u)}function qv(s,l,u){if(s!==null)if(s.memoizedProps!==l.pendingProps)ha=!0;else{if(!og(s,u)&&(l.flags&128)===0)return ha=!1,BC(s,l,u);ha=(s.flags&131072)!==0}else ha=!1,en&&(l.flags&1048576)!==0&&Zr(l,ne,l.index);switch(l.lanes=0,l.tag){case 16:e:{var p=l.pendingProps;if(s=Pe(l.elementType),l.type=s,typeof s=="function")iA(s)?(p=Cc(s,p),l.tag=1,l=Dv(null,l,s,p,u)):(l.tag=0,l=eg(null,l,s,p,u));else{if(s!=null){var y=s.$$typeof;if(y===R){l.tag=11,l=Uv(null,l,s,p,u);break e}else if(y===me){l.tag=14,l=Tv(null,l,s,p,u);break e}}throw l=le(s)||s,Error(n(306,l,""))}}return l;case 0:return eg(s,l,l.type,l.pendingProps,u);case 1:return p=l.type,y=Cc(p,l.pendingProps),Dv(s,l,p,y,u);case 3:e:{if(Se(l,l.stateNode.containerInfo),s===null)throw Error(n(387));p=l.pendingProps;var N=l.memoizedState;y=N.element,As(s,l),Ms(l,p,null,u);var P=l.memoizedState;if(p=P.cache,Ul(l,ks,p),p!==N.cache&&lA(l,[ks],u,!0),zn(),p=P.element,N.isDehydrated)if(N={element:p,isDehydrated:!1,cache:P.cache},l.updateQueue.baseState=N,l.memoizedState=N,l.flags&256){l=Rv(s,l,p,u);break e}else if(p!==y){y=f(Error(n(424)),l),jl(y),l=Rv(s,l,p,u);break e}else{switch(s=l.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(gn=Oo(s.firstChild),mn=l,en=!0,Na=null,ts=!0,u=zr(l,null,p,u),l.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(el(),p===y){l=dA(s,l,u);break e}Ja(s,l,p,u)}l=l.child}return l;case 26:return of(s,l),s===null?(u=ty(l.type,null,l.pendingProps,null))?l.memoizedState=u:en||(u=l.type,s=l.pendingProps,p=Bf(ce.current).createElement(u),p[Gr]=l,p[Xr]=s,Wa(p,u,s),bt(p),l.stateNode=p):l.memoizedState=ty(l.type,s.memoizedProps,l.pendingProps,s.memoizedState),null;case 27:return He(l),s===null&&en&&(p=l.stateNode=J1(l.type,l.pendingProps,ce.current),mn=l,ts=!0,y=gn,XA(l.type)?(Rg=y,gn=Oo(p.firstChild)):gn=y),Ja(s,l,l.pendingProps.children,u),of(s,l),s===null&&(l.flags|=4194304),l.child;case 5:return s===null&&en&&((y=p=gn)&&(p=e4(p,l.type,l.pendingProps,ts),p!==null?(l.stateNode=p,mn=l,gn=Oo(p.firstChild),ts=!1,y=!0):y=!1),y||Fo(l)),He(l),y=l.type,N=l.pendingProps,P=s!==null?s.memoizedProps:null,p=N.children,Qg(y,N)?p=null:P!==null&&Qg(y,P)&&(l.flags|=32),l.memoizedState!==null&&(y=yd(s,l,Hm,null,null,u),Kd._currentValue=y),of(s,l),Ja(s,l,p,u),l.child;case 6:return s===null&&en&&((s=u=gn)&&(u=t4(u,l.pendingProps,ts),u!==null?(l.stateNode=u,mn=l,gn=null,s=!0):s=!1),s||Fo(l)),null;case 13:return Pv(s,l,u);case 4:return Se(l,l.stateNode.containerInfo),p=l.pendingProps,s===null?l.child=$n(l,null,p,u):Ja(s,l,p,u),l.child;case 11:return Uv(s,l,l.type,l.pendingProps,u);case 7:return Ja(s,l,l.pendingProps,u),l.child;case 8:return Ja(s,l,l.pendingProps.children,u),l.child;case 12:return Ja(s,l,l.pendingProps.children,u),l.child;case 10:return p=l.pendingProps,Ul(l,l.type,p.value),Ja(s,l,p.children,u),l.child;case 9:return y=l.type._context,p=l.pendingProps.children,Fl(l),y=Ca(y),p=p(y),l.flags|=1,Ja(s,l,p,u),l.child;case 14:return Tv(s,l,l.type,l.pendingProps,u);case 15:return Fv(s,l,l.type,l.pendingProps,u);case 19:return zv(s,l,u);case 31:return _C(s,l,u);case 22:return Qv(s,l,u,l.pendingProps);case 24:return Fl(l),p=Ca(ks),s===null?(y=ue(),y===null&&(y=Yn,N=DA(),y.pooledCache=N,N.refCount++,N!==null&&(y.pooledCacheLanes|=u),y=N),l.memoizedState={parent:p,cache:y},Pt(l),Ul(l,ks,y)):((s.lanes&u)!==0&&(As(s,l),Ms(l,null,null,u),zn()),y=s.memoizedState,N=l.memoizedState,y.parent!==p?(y={parent:p,cache:p},l.memoizedState=y,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=y),Ul(l,ks,p)):(p=N.cache,Ul(l,ks,p),p!==y.cache&&lA(l,[ks],u,!0))),Ja(s,l,l.pendingProps.children,u),l.child;case 29:throw l.pendingProps}throw Error(n(156,l.tag))}function hA(s){s.flags|=4}function lg(s,l,u,p,y){if((l=(s.mode&32)!==0)&&(l=!1),l){if(s.flags|=16777216,(y&335544128)===y)if(s.stateNode.complete)s.flags|=8192;else if(g1())s.flags|=8192;else throw at=Te,ze}else s.flags&=-16777217}function Kv(s,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!iy(l))if(g1())s.flags|=8192;else throw at=Te,ze}function Af(s,l){l!==null&&(s.flags|=4),s.flags&16384&&(l=s.tag!==22?Wt():536870912,s.lanes|=l,bu|=l)}function kd(s,l){if(!en)switch(s.tailMode){case"hidden":l=s.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?l||s.tail===null?s.tail=null:s.tail.sibling=null:p.sibling=null}}function ds(s){var l=s.alternate!==null&&s.alternate.child===s.child,u=0,p=0;if(l)for(var y=s.child;y!==null;)u|=y.lanes|y.childLanes,p|=y.subtreeFlags&65011712,p|=y.flags&65011712,y.return=s,y=y.sibling;else for(y=s.child;y!==null;)u|=y.lanes|y.childLanes,p|=y.subtreeFlags,p|=y.flags,y.return=s,y=y.sibling;return s.subtreeFlags|=p,s.childLanes=u,l}function NC(s,l,u){var p=l.pendingProps;switch(ls(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ds(l),null;case 1:return ds(l),null;case 3:return u=l.stateNode,p=null,s!==null&&(p=s.memoizedState.cache),l.memoizedState.cache!==p&&(l.flags|=2048),qi(ks),Fe(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(s===null||s.child===null)&&(bs(l)?hA(l):s===null||s.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,yc())),ds(l),null;case 26:var y=l.type,N=l.memoizedState;return s===null?(hA(l),N!==null?(ds(l),Kv(l,N)):(ds(l),lg(l,y,null,p,u))):N?N!==s.memoizedState?(hA(l),ds(l),Kv(l,N)):(ds(l),l.flags&=-16777217):(s=s.memoizedProps,s!==p&&hA(l),ds(l),lg(l,y,s,p,u)),null;case 27:if(it(l),u=ce.current,y=l.type,s!==null&&l.stateNode!=null)s.memoizedProps!==p&&hA(l);else{if(!p){if(l.stateNode===null)throw Error(n(166));return ds(l),null}s=Q.current,bs(l)?OA(l):(s=J1(y,p,u),l.stateNode=s,hA(l))}return ds(l),null;case 5:if(it(l),y=l.type,s!==null&&l.stateNode!=null)s.memoizedProps!==p&&hA(l);else{if(!p){if(l.stateNode===null)throw Error(n(166));return ds(l),null}if(N=Q.current,bs(l))OA(l);else{var P=Bf(ce.current);switch(N){case 1:N=P.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:N=P.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":N=P.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":N=P.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":N=P.createElement("div"),N.innerHTML="<script><\/script>",N=N.removeChild(N.firstChild);break;case"select":N=typeof p.is=="string"?P.createElement("select",{is:p.is}):P.createElement("select"),p.multiple?N.multiple=!0:p.size&&(N.size=p.size);break;default:N=typeof p.is=="string"?P.createElement(y,{is:p.is}):P.createElement(y)}}N[Gr]=l,N[Xr]=p;e:for(P=l.child;P!==null;){if(P.tag===5||P.tag===6)N.appendChild(P.stateNode);else if(P.tag!==4&&P.tag!==27&&P.child!==null){P.child.return=P,P=P.child;continue}if(P===l)break e;for(;P.sibling===null;){if(P.return===null||P.return===l)break e;P=P.return}P.sibling.return=P.return,P=P.sibling}l.stateNode=N;e:switch(Wa(N,y,p),y){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&hA(l)}}return ds(l),lg(l,l.type,s===null?null:s.memoizedProps,l.pendingProps,u),null;case 6:if(s&&l.stateNode!=null)s.memoizedProps!==p&&hA(l);else{if(typeof p!="string"&&l.stateNode===null)throw Error(n(166));if(s=ce.current,bs(l)){if(s=l.stateNode,u=l.memoizedProps,p=null,y=mn,y!==null)switch(y.tag){case 27:case 5:p=y.memoizedProps}s[Gr]=l,s=!!(s.nodeValue===u||p!==null&&p.suppressHydrationWarning===!0||P1(s.nodeValue,u)),s||Fo(l,!0)}else s=Bf(s).createTextNode(p),s[Gr]=l,l.stateNode=s}return ds(l),null;case 31:if(u=l.memoizedState,s===null||s.memoizedState!==null){if(p=bs(l),u!==null){if(s===null){if(!p)throw Error(n(318));if(s=l.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(557));s[Gr]=l}else el(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;ds(l),s=!1}else u=yc(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=u),s=!0;if(!s)return l.flags&256?(In(l),l):(In(l),null);if((l.flags&128)!==0)throw Error(n(558))}return ds(l),null;case 13:if(p=l.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(y=bs(l),p!==null&&p.dehydrated!==null){if(s===null){if(!y)throw Error(n(318));if(y=l.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(n(317));y[Gr]=l}else el(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;ds(l),y=!1}else y=yc(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=y),y=!0;if(!y)return l.flags&256?(In(l),l):(In(l),null)}return In(l),(l.flags&128)!==0?(l.lanes=u,l):(u=p!==null,s=s!==null&&s.memoizedState!==null,u&&(p=l.child,y=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(y=p.alternate.memoizedState.cachePool.pool),N=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(N=p.memoizedState.cachePool.pool),N!==y&&(p.flags|=2048)),u!==s&&u&&(l.child.flags|=8192),Af(l,l.updateQueue),ds(l),null);case 4:return Fe(),s===null&&jg(l.stateNode.containerInfo),ds(l),null;case 10:return qi(l.type),ds(l),null;case 19:if(O(fn),p=l.memoizedState,p===null)return ds(l),null;if(y=(l.flags&128)!==0,N=p.rendering,N===null)if(y)kd(p,!1);else{if(zs!==0||s!==null&&(s.flags&128)!==0)for(s=l.child;s!==null;){if(N=Ia(s),N!==null){for(l.flags|=128,kd(p,!1),s=N.updateQueue,l.updateQueue=s,Af(l,s),l.subtreeFlags=0,s=u,u=l.child;u!==null;)El(u,s),u=u.sibling;return G(fn,fn.current&1|2),en&&lr(l,p.treeForkCount),l.child}s=s.sibling}p.tail!==null&&Jt()>ff&&(l.flags|=128,y=!0,kd(p,!1),l.lanes=4194304)}else{if(!y)if(s=Ia(N),s!==null){if(l.flags|=128,y=!0,s=s.updateQueue,l.updateQueue=s,Af(l,s),kd(p,!0),p.tail===null&&p.tailMode==="hidden"&&!N.alternate&&!en)return ds(l),null}else 2*Jt()-p.renderingStartTime>ff&&u!==536870912&&(l.flags|=128,y=!0,kd(p,!1),l.lanes=4194304);p.isBackwards?(N.sibling=l.child,l.child=N):(s=p.last,s!==null?s.sibling=N:l.child=N,p.last=N)}return p.tail!==null?(s=p.tail,p.rendering=s,p.tail=s.sibling,p.renderingStartTime=Jt(),s.sibling=null,u=fn.current,G(fn,y?u&1|2:u&1),en&&lr(l,p.treeForkCount),s):(ds(l),null);case 22:case 23:return In(l),ra(),p=l.memoizedState!==null,s!==null?s.memoizedState!==null!==p&&(l.flags|=8192):p&&(l.flags|=8192),p?(u&536870912)!==0&&(l.flags&128)===0&&(ds(l),l.subtreeFlags&6&&(l.flags|=8192)):ds(l),u=l.updateQueue,u!==null&&Af(l,u.retryQueue),u=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),p=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==u&&(l.flags|=2048),s!==null&&O(ie),null;case 24:return u=null,s!==null&&(u=s.memoizedState.cache),l.memoizedState.cache!==u&&(l.flags|=2048),qi(ks),ds(l),null;case 25:return null;case 30:return null}throw Error(n(156,l.tag))}function CC(s,l){switch(ls(l),l.tag){case 1:return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 3:return qi(ks),Fe(),s=l.flags,(s&65536)!==0&&(s&128)===0?(l.flags=s&-65537|128,l):null;case 26:case 27:case 5:return it(l),null;case 31:if(l.memoizedState!==null){if(In(l),l.alternate===null)throw Error(n(340));el()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 13:if(In(l),s=l.memoizedState,s!==null&&s.dehydrated!==null){if(l.alternate===null)throw Error(n(340));el()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 19:return O(fn),null;case 4:return Fe(),null;case 10:return qi(l.type),null;case 22:case 23:return In(l),ra(),s!==null&&O(ie),s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 24:return qi(ks),null;case 25:return null;default:return null}}function Gv(s,l){switch(ls(l),l.tag){case 3:qi(ks),Fe();break;case 26:case 27:case 5:it(l);break;case 4:Fe();break;case 31:l.memoizedState!==null&&In(l);break;case 13:In(l);break;case 19:O(fn);break;case 10:qi(l.type);break;case 22:case 23:In(l),ra(),s!==null&&O(ie);break;case 24:qi(ks)}}function Ud(s,l){try{var u=l.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var y=p.next;u=y;do{if((u.tag&s)===s){p=void 0;var N=u.create,P=u.inst;p=N(),P.destroy=p}u=u.next}while(u!==y)}}catch(Ae){Mn(l,l.return,Ae)}}function qA(s,l,u){try{var p=l.updateQueue,y=p!==null?p.lastEffect:null;if(y!==null){var N=y.next;p=N;do{if((p.tag&s)===s){var P=p.inst,Ae=P.destroy;if(Ae!==void 0){P.destroy=void 0,y=l;var Ee=u,Ge=Ae;try{Ge()}catch(lt){Mn(y,Ee,lt)}}}p=p.next}while(p!==N)}}catch(lt){Mn(l,l.return,lt)}}function Vv(s){var l=s.updateQueue;if(l!==null){var u=s.stateNode;try{Ds(l,u)}catch(p){Mn(s,s.return,p)}}}function Zv(s,l,u){u.props=Cc(s.type,s.memoizedProps),u.state=s.memoizedState;try{u.componentWillUnmount()}catch(p){Mn(s,l,p)}}function Td(s,l){try{var u=s.ref;if(u!==null){switch(s.tag){case 26:case 27:case 5:var p=s.stateNode;break;case 30:p=s.stateNode;break;default:p=s.stateNode}typeof u=="function"?s.refCleanup=u(p):u.current=p}}catch(y){Mn(s,l,y)}}function Dl(s,l){var u=s.ref,p=s.refCleanup;if(u!==null)if(typeof p=="function")try{p()}catch(y){Mn(s,l,y)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(y){Mn(s,l,y)}else u.current=null}function $v(s){var l=s.type,u=s.memoizedProps,p=s.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":u.autoFocus&&p.focus();break e;case"img":u.src?p.src=u.src:u.srcSet&&(p.srcset=u.srcSet)}}catch(y){Mn(s,s.return,y)}}function Ag(s,l,u){try{var p=s.stateNode;ZC(p,s.type,u,l),p[Xr]=l}catch(y){Mn(s,s.return,y)}}function Yv(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&XA(s.type)||s.tag===4}function cg(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Yv(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&XA(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function ug(s,l,u){var p=s.tag;if(p===5||p===6)s=s.stateNode,l?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(s,l):(l=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,l.appendChild(s),u=u._reactRootContainer,u!=null||l.onclick!==null||(l.onclick=ka));else if(p!==4&&(p===27&&XA(s.type)&&(u=s.stateNode,l=null),s=s.child,s!==null))for(ug(s,l,u),s=s.sibling;s!==null;)ug(s,l,u),s=s.sibling}function cf(s,l,u){var p=s.tag;if(p===5||p===6)s=s.stateNode,l?u.insertBefore(s,l):u.appendChild(s);else if(p!==4&&(p===27&&XA(s.type)&&(u=s.stateNode),s=s.child,s!==null))for(cf(s,l,u),s=s.sibling;s!==null;)cf(s,l,u),s=s.sibling}function Xv(s){var l=s.stateNode,u=s.memoizedProps;try{for(var p=s.type,y=l.attributes;y.length;)l.removeAttributeNode(y[0]);Wa(l,p,u),l[Gr]=s,l[Xr]=u}catch(N){Mn(s,s.return,N)}}var fA=!1,fa=!1,dg=!1,Jv=typeof WeakSet=="function"?WeakSet:Set,Oa=null;function EC(s,l){if(s=s.containerInfo,Tg=kf,s=ci(s),ya(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var p=u.getSelection&&u.getSelection();if(p&&p.rangeCount!==0){u=p.anchorNode;var y=p.anchorOffset,N=p.focusNode;p=p.focusOffset;try{u.nodeType,N.nodeType}catch{u=null;break e}var P=0,Ae=-1,Ee=-1,Ge=0,lt=0,mt=s,Ze=null;t:for(;;){for(var Je;mt!==u||y!==0&&mt.nodeType!==3||(Ae=P+y),mt!==N||p!==0&&mt.nodeType!==3||(Ee=P+p),mt.nodeType===3&&(P+=mt.nodeValue.length),(Je=mt.firstChild)!==null;)Ze=mt,mt=Je;for(;;){if(mt===s)break t;if(Ze===u&&++Ge===y&&(Ae=P),Ze===N&&++lt===p&&(Ee=P),(Je=mt.nextSibling)!==null)break;mt=Ze,Ze=mt.parentNode}mt=Je}u=Ae===-1||Ee===-1?null:{start:Ae,end:Ee}}else u=null}u=u||{start:0,end:0}}else u=null;for(Fg={focusedElem:s,selectionRange:u},kf=!1,Oa=l;Oa!==null;)if(l=Oa,s=l.child,(l.subtreeFlags&1028)!==0&&s!==null)s.return=l,Oa=s;else for(;Oa!==null;){switch(l=Oa,N=l.alternate,s=l.flags,l.tag){case 0:if((s&4)!==0&&(s=l.updateQueue,s=s!==null?s.events:null,s!==null))for(u=0;u<s.length;u++)y=s[u],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&N!==null){s=void 0,u=l,y=N.memoizedProps,N=N.memoizedState,p=u.stateNode;try{var Ar=Cc(u.type,y);s=p.getSnapshotBeforeUpdate(Ar,N),p.__reactInternalSnapshotBeforeUpdate=s}catch(kr){Mn(u,u.return,kr)}}break;case 3:if((s&1024)!==0){if(s=l.stateNode.containerInfo,u=s.nodeType,u===9)Og(s);else if(u===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Og(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(n(163))}if(s=l.sibling,s!==null){s.return=l.return,Oa=s;break}Oa=l.return}}function Wv(s,l,u){var p=u.flags;switch(u.tag){case 0:case 11:case 15:mA(s,u),p&4&&Ud(5,u);break;case 1:if(mA(s,u),p&4)if(s=u.stateNode,l===null)try{s.componentDidMount()}catch(P){Mn(u,u.return,P)}else{var y=Cc(u.type,l.memoizedProps);l=l.memoizedState;try{s.componentDidUpdate(y,l,s.__reactInternalSnapshotBeforeUpdate)}catch(P){Mn(u,u.return,P)}}p&64&&Vv(u),p&512&&Td(u,u.return);break;case 3:if(mA(s,u),p&64&&(s=u.updateQueue,s!==null)){if(l=null,u.child!==null)switch(u.child.tag){case 27:case 5:l=u.child.stateNode;break;case 1:l=u.child.stateNode}try{Ds(s,l)}catch(P){Mn(u,u.return,P)}}break;case 27:l===null&&p&4&&Xv(u);case 26:case 5:mA(s,u),l===null&&p&4&&$v(u),p&512&&Td(u,u.return);break;case 12:mA(s,u);break;case 31:mA(s,u),p&4&&r1(s,u);break;case 13:mA(s,u),p&4&&n1(s,u),p&64&&(s=u.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(u=IC.bind(null,u),r4(s,u))));break;case 22:if(p=u.memoizedState!==null||fA,!p){l=l!==null&&l.memoizedState!==null||fa,y=fA;var N=fa;fA=p,(fa=l)&&!N?gA(s,u,(u.subtreeFlags&8772)!==0):mA(s,u),fA=y,fa=N}break;case 30:break;default:mA(s,u)}}function e1(s){var l=s.alternate;l!==null&&(s.alternate=null,e1(l)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(l=s.stateNode,l!==null&&xa(l)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var ws=null,Gi=!1;function pA(s,l,u){for(u=u.child;u!==null;)t1(s,l,u),u=u.sibling}function t1(s,l,u){if(ft&&typeof ft.onCommitFiberUnmount=="function")try{ft.onCommitFiberUnmount(et,u)}catch{}switch(u.tag){case 26:fa||Dl(u,l),pA(s,l,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:fa||Dl(u,l);var p=ws,y=Gi;XA(u.type)&&(ws=u.stateNode,Gi=!1),pA(s,l,u),Hd(u.stateNode),ws=p,Gi=y;break;case 5:fa||Dl(u,l);case 6:if(p=ws,y=Gi,ws=null,pA(s,l,u),ws=p,Gi=y,ws!==null)if(Gi)try{(ws.nodeType===9?ws.body:ws.nodeName==="HTML"?ws.ownerDocument.body:ws).removeChild(u.stateNode)}catch(N){Mn(u,l,N)}else try{ws.removeChild(u.stateNode)}catch(N){Mn(u,l,N)}break;case 18:ws!==null&&(Gi?(s=ws,V1(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,u.stateNode),Eu(s)):V1(ws,u.stateNode));break;case 4:p=ws,y=Gi,ws=u.stateNode.containerInfo,Gi=!0,pA(s,l,u),ws=p,Gi=y;break;case 0:case 11:case 14:case 15:qA(2,u,l),fa||qA(4,u,l),pA(s,l,u);break;case 1:fa||(Dl(u,l),p=u.stateNode,typeof p.componentWillUnmount=="function"&&Zv(u,l,p)),pA(s,l,u);break;case 21:pA(s,l,u);break;case 22:fa=(p=fa)||u.memoizedState!==null,pA(s,l,u),fa=p;break;default:pA(s,l,u)}}function r1(s,l){if(l.memoizedState===null&&(s=l.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Eu(s)}catch(u){Mn(l,l.return,u)}}}function n1(s,l){if(l.memoizedState===null&&(s=l.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Eu(s)}catch(u){Mn(l,l.return,u)}}function SC(s){switch(s.tag){case 31:case 13:case 19:var l=s.stateNode;return l===null&&(l=s.stateNode=new Jv),l;case 22:return s=s.stateNode,l=s._retryCache,l===null&&(l=s._retryCache=new Jv),l;default:throw Error(n(435,s.tag))}}function uf(s,l){var u=SC(s);l.forEach(function(p){if(!u.has(p)){u.add(p);var y=OC.bind(null,s,p);p.then(y,y)}})}function Vi(s,l){var u=l.deletions;if(u!==null)for(var p=0;p<u.length;p++){var y=u[p],N=s,P=l,Ae=P;e:for(;Ae!==null;){switch(Ae.tag){case 27:if(XA(Ae.type)){ws=Ae.stateNode,Gi=!1;break e}break;case 5:ws=Ae.stateNode,Gi=!1;break e;case 3:case 4:ws=Ae.stateNode.containerInfo,Gi=!0;break e}Ae=Ae.return}if(ws===null)throw Error(n(160));t1(N,P,y),ws=null,Gi=!1,N=y.alternate,N!==null&&(N.return=null),y.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)s1(l,s),l=l.sibling}var al=null;function s1(s,l){var u=s.alternate,p=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Vi(l,s),Zi(s),p&4&&(qA(3,s,s.return),Ud(3,s),qA(5,s,s.return));break;case 1:Vi(l,s),Zi(s),p&512&&(fa||u===null||Dl(u,u.return)),p&64&&fA&&(s=s.updateQueue,s!==null&&(p=s.callbacks,p!==null&&(u=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=u===null?p:u.concat(p))));break;case 26:var y=al;if(Vi(l,s),Zi(s),p&512&&(fa||u===null||Dl(u,u.return)),p&4){var N=u!==null?u.memoizedState:null;if(p=s.memoizedState,u===null)if(p===null)if(s.stateNode===null){e:{p=s.type,u=s.memoizedProps,y=y.ownerDocument||y;t:switch(p){case"title":N=y.getElementsByTagName("title")[0],(!N||N[wr]||N[Gr]||N.namespaceURI==="http://www.w3.org/2000/svg"||N.hasAttribute("itemprop"))&&(N=y.createElement(p),y.head.insertBefore(N,y.querySelector("head > title"))),Wa(N,p,u),N[Gr]=s,bt(N),p=N;break e;case"link":var P=sy("link","href",y).get(p+(u.href||""));if(P){for(var Ae=0;Ae<P.length;Ae++)if(N=P[Ae],N.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&N.getAttribute("rel")===(u.rel==null?null:u.rel)&&N.getAttribute("title")===(u.title==null?null:u.title)&&N.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){P.splice(Ae,1);break t}}N=y.createElement(p),Wa(N,p,u),y.head.appendChild(N);break;case"meta":if(P=sy("meta","content",y).get(p+(u.content||""))){for(Ae=0;Ae<P.length;Ae++)if(N=P[Ae],N.getAttribute("content")===(u.content==null?null:""+u.content)&&N.getAttribute("name")===(u.name==null?null:u.name)&&N.getAttribute("property")===(u.property==null?null:u.property)&&N.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&N.getAttribute("charset")===(u.charSet==null?null:u.charSet)){P.splice(Ae,1);break t}}N=y.createElement(p),Wa(N,p,u),y.head.appendChild(N);break;default:throw Error(n(468,p))}N[Gr]=s,bt(N),p=N}s.stateNode=p}else ay(y,s.type,s.stateNode);else s.stateNode=ny(y,p,s.memoizedProps);else N!==p?(N===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):N.count--,p===null?ay(y,s.type,s.stateNode):ny(y,p,s.memoizedProps)):p===null&&s.stateNode!==null&&Ag(s,s.memoizedProps,u.memoizedProps)}break;case 27:Vi(l,s),Zi(s),p&512&&(fa||u===null||Dl(u,u.return)),u!==null&&p&4&&Ag(s,s.memoizedProps,u.memoizedProps);break;case 5:if(Vi(l,s),Zi(s),p&512&&(fa||u===null||Dl(u,u.return)),s.flags&32){y=s.stateNode;try{$s(y,"")}catch(Ar){Mn(s,s.return,Ar)}}p&4&&s.stateNode!=null&&(y=s.memoizedProps,Ag(s,y,u!==null?u.memoizedProps:y)),p&1024&&(dg=!0);break;case 6:if(Vi(l,s),Zi(s),p&4){if(s.stateNode===null)throw Error(n(162));p=s.memoizedProps,u=s.stateNode;try{u.nodeValue=p}catch(Ar){Mn(s,s.return,Ar)}}break;case 3:if(Ef=null,y=al,al=Nf(l.containerInfo),Vi(l,s),al=y,Zi(s),p&4&&u!==null&&u.memoizedState.isDehydrated)try{Eu(l.containerInfo)}catch(Ar){Mn(s,s.return,Ar)}dg&&(dg=!1,a1(s));break;case 4:p=al,al=Nf(s.stateNode.containerInfo),Vi(l,s),Zi(s),al=p;break;case 12:Vi(l,s),Zi(s);break;case 31:Vi(l,s),Zi(s),p&4&&(p=s.updateQueue,p!==null&&(s.updateQueue=null,uf(s,p)));break;case 13:Vi(l,s),Zi(s),s.child.flags&8192&&s.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(hf=Jt()),p&4&&(p=s.updateQueue,p!==null&&(s.updateQueue=null,uf(s,p)));break;case 22:y=s.memoizedState!==null;var Ee=u!==null&&u.memoizedState!==null,Ge=fA,lt=fa;if(fA=Ge||y,fa=lt||Ee,Vi(l,s),fa=lt,fA=Ge,Zi(s),p&8192)e:for(l=s.stateNode,l._visibility=y?l._visibility&-2:l._visibility|1,y&&(u===null||Ee||fA||fa||Ec(s)),u=null,l=s;;){if(l.tag===5||l.tag===26){if(u===null){Ee=u=l;try{if(N=Ee.stateNode,y)P=N.style,typeof P.setProperty=="function"?P.setProperty("display","none","important"):P.display="none";else{Ae=Ee.stateNode;var mt=Ee.memoizedProps.style,Ze=mt!=null&&mt.hasOwnProperty("display")?mt.display:null;Ae.style.display=Ze==null||typeof Ze=="boolean"?"":(""+Ze).trim()}}catch(Ar){Mn(Ee,Ee.return,Ar)}}}else if(l.tag===6){if(u===null){Ee=l;try{Ee.stateNode.nodeValue=y?"":Ee.memoizedProps}catch(Ar){Mn(Ee,Ee.return,Ar)}}}else if(l.tag===18){if(u===null){Ee=l;try{var Je=Ee.stateNode;y?Z1(Je,!0):Z1(Ee.stateNode,!1)}catch(Ar){Mn(Ee,Ee.return,Ar)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===s)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break e;for(;l.sibling===null;){if(l.return===null||l.return===s)break e;u===l&&(u=null),l=l.return}u===l&&(u=null),l.sibling.return=l.return,l=l.sibling}p&4&&(p=s.updateQueue,p!==null&&(u=p.retryQueue,u!==null&&(p.retryQueue=null,uf(s,u))));break;case 19:Vi(l,s),Zi(s),p&4&&(p=s.updateQueue,p!==null&&(s.updateQueue=null,uf(s,p)));break;case 30:break;case 21:break;default:Vi(l,s),Zi(s)}}function Zi(s){var l=s.flags;if(l&2){try{for(var u,p=s.return;p!==null;){if(Yv(p)){u=p;break}p=p.return}if(u==null)throw Error(n(160));switch(u.tag){case 27:var y=u.stateNode,N=cg(s);cf(s,N,y);break;case 5:var P=u.stateNode;u.flags&32&&($s(P,""),u.flags&=-33);var Ae=cg(s);cf(s,Ae,P);break;case 3:case 4:var Ee=u.stateNode.containerInfo,Ge=cg(s);ug(s,Ge,Ee);break;default:throw Error(n(161))}}catch(lt){Mn(s,s.return,lt)}s.flags&=-3}l&4096&&(s.flags&=-4097)}function a1(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var l=s;a1(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),s=s.sibling}}function mA(s,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)Wv(s,l.alternate,l),l=l.sibling}function Ec(s){for(s=s.child;s!==null;){var l=s;switch(l.tag){case 0:case 11:case 14:case 15:qA(4,l,l.return),Ec(l);break;case 1:Dl(l,l.return);var u=l.stateNode;typeof u.componentWillUnmount=="function"&&Zv(l,l.return,u),Ec(l);break;case 27:Hd(l.stateNode);case 26:case 5:Dl(l,l.return),Ec(l);break;case 22:l.memoizedState===null&&Ec(l);break;case 30:Ec(l);break;default:Ec(l)}s=s.sibling}}function gA(s,l,u){for(u=u&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var p=l.alternate,y=s,N=l,P=N.flags;switch(N.tag){case 0:case 11:case 15:gA(y,N,u),Ud(4,N);break;case 1:if(gA(y,N,u),p=N,y=p.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(Ge){Mn(p,p.return,Ge)}if(p=N,y=p.updateQueue,y!==null){var Ae=p.stateNode;try{var Ee=y.shared.hiddenCallbacks;if(Ee!==null)for(y.shared.hiddenCallbacks=null,y=0;y<Ee.length;y++)Qa(Ee[y],Ae)}catch(Ge){Mn(p,p.return,Ge)}}u&&P&64&&Vv(N),Td(N,N.return);break;case 27:Xv(N);case 26:case 5:gA(y,N,u),u&&p===null&&P&4&&$v(N),Td(N,N.return);break;case 12:gA(y,N,u);break;case 31:gA(y,N,u),u&&P&4&&r1(y,N);break;case 13:gA(y,N,u),u&&P&4&&n1(y,N);break;case 22:N.memoizedState===null&&gA(y,N,u),Td(N,N.return);break;case 30:break;default:gA(y,N,u)}l=l.sibling}}function hg(s,l){var u=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),s=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(s=l.memoizedState.cachePool.pool),s!==u&&(s!=null&&s.refCount++,u!=null&&wc(u))}function fg(s,l){s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&wc(s))}function il(s,l,u,p){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)i1(s,l,u,p),l=l.sibling}function i1(s,l,u,p){var y=l.flags;switch(l.tag){case 0:case 11:case 15:il(s,l,u,p),y&2048&&Ud(9,l);break;case 1:il(s,l,u,p);break;case 3:il(s,l,u,p),y&2048&&(s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&wc(s)));break;case 12:if(y&2048){il(s,l,u,p),s=l.stateNode;try{var N=l.memoizedProps,P=N.id,Ae=N.onPostCommit;typeof Ae=="function"&&Ae(P,l.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(Ee){Mn(l,l.return,Ee)}}else il(s,l,u,p);break;case 31:il(s,l,u,p);break;case 13:il(s,l,u,p);break;case 23:break;case 22:N=l.stateNode,P=l.alternate,l.memoizedState!==null?N._visibility&2?il(s,l,u,p):Fd(s,l):N._visibility&2?il(s,l,u,p):(N._visibility|=2,mu(s,l,u,p,(l.subtreeFlags&10256)!==0||!1)),y&2048&&hg(P,l);break;case 24:il(s,l,u,p),y&2048&&fg(l.alternate,l);break;default:il(s,l,u,p)}}function mu(s,l,u,p,y){for(y=y&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var N=s,P=l,Ae=u,Ee=p,Ge=P.flags;switch(P.tag){case 0:case 11:case 15:mu(N,P,Ae,Ee,y),Ud(8,P);break;case 23:break;case 22:var lt=P.stateNode;P.memoizedState!==null?lt._visibility&2?mu(N,P,Ae,Ee,y):Fd(N,P):(lt._visibility|=2,mu(N,P,Ae,Ee,y)),y&&Ge&2048&&hg(P.alternate,P);break;case 24:mu(N,P,Ae,Ee,y),y&&Ge&2048&&fg(P.alternate,P);break;default:mu(N,P,Ae,Ee,y)}l=l.sibling}}function Fd(s,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var u=s,p=l,y=p.flags;switch(p.tag){case 22:Fd(u,p),y&2048&&hg(p.alternate,p);break;case 24:Fd(u,p),y&2048&&fg(p.alternate,p);break;default:Fd(u,p)}l=l.sibling}}var Qd=8192;function gu(s,l,u){if(s.subtreeFlags&Qd)for(s=s.child;s!==null;)o1(s,l,u),s=s.sibling}function o1(s,l,u){switch(s.tag){case 26:gu(s,l,u),s.flags&Qd&&s.memoizedState!==null&&f4(u,al,s.memoizedState,s.memoizedProps);break;case 5:gu(s,l,u);break;case 3:case 4:var p=al;al=Nf(s.stateNode.containerInfo),gu(s,l,u),al=p;break;case 22:s.memoizedState===null&&(p=s.alternate,p!==null&&p.memoizedState!==null?(p=Qd,Qd=16777216,gu(s,l,u),Qd=p):gu(s,l,u));break;default:gu(s,l,u)}}function l1(s){var l=s.alternate;if(l!==null&&(s=l.child,s!==null)){l.child=null;do l=s.sibling,s.sibling=null,s=l;while(s!==null)}}function Id(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var u=0;u<l.length;u++){var p=l[u];Oa=p,c1(p,s)}l1(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)A1(s),s=s.sibling}function A1(s){switch(s.tag){case 0:case 11:case 15:Id(s),s.flags&2048&&qA(9,s,s.return);break;case 3:Id(s);break;case 12:Id(s);break;case 22:var l=s.stateNode;s.memoizedState!==null&&l._visibility&2&&(s.return===null||s.return.tag!==13)?(l._visibility&=-3,df(s)):Id(s);break;default:Id(s)}}function df(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var u=0;u<l.length;u++){var p=l[u];Oa=p,c1(p,s)}l1(s)}for(s=s.child;s!==null;){switch(l=s,l.tag){case 0:case 11:case 15:qA(8,l,l.return),df(l);break;case 22:u=l.stateNode,u._visibility&2&&(u._visibility&=-3,df(l));break;default:df(l)}s=s.sibling}}function c1(s,l){for(;Oa!==null;){var u=Oa;switch(u.tag){case 0:case 11:case 15:qA(8,u,l);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var p=u.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:wc(u.memoizedState.cache)}if(p=u.child,p!==null)p.return=u,Oa=p;else e:for(u=s;Oa!==null;){p=Oa;var y=p.sibling,N=p.return;if(e1(p),p===u){Oa=null;break e}if(y!==null){y.return=N,Oa=y;break e}Oa=N}}}var LC={getCacheForType:function(s){var l=Ca(ks),u=l.data.get(s);return u===void 0&&(u=s(),l.data.set(s,u)),u},cacheSignal:function(){return Ca(ks).controller.signal}},jC=typeof WeakMap=="function"?WeakMap:Map,Ln=0,Yn=null,an=null,An=0,On=0,mo=null,KA=!1,xu=!1,pg=!1,xA=0,zs=0,GA=0,Sc=0,mg=0,go=0,bu=0,Od=null,$i=null,gg=!1,hf=0,u1=0,ff=1/0,pf=null,VA=null,Sa=0,ZA=null,vu=null,bA=0,xg=0,bg=null,d1=null,Md=0,vg=null;function xo(){return(Ln&2)!==0&&An!==0?An&-An:Y.T!==null?Cg():$t()}function h1(){if(go===0)if((An&536870912)===0||en){var s=Ke;Ke<<=1,(Ke&3932160)===0&&(Ke=262144),go=s}else go=536870912;return s=us.current,s!==null&&(s.flags|=32),go}function Yi(s,l,u){(s===Yn&&(On===2||On===9)||s.cancelPendingCommit!==null)&&(yu(s,0),$A(s,An,go,!1)),vt(s,u),((Ln&2)===0||s!==Yn)&&(s===Yn&&((Ln&2)===0&&(Sc|=u),zs===4&&$A(s,An,go,!1)),Rl(s))}function f1(s,l,u){if((Ln&6)!==0)throw Error(n(327));var p=!u&&(l&127)===0&&(l&s.expiredLanes)===0||Tt(s,l),y=p?TC(s,l):wg(s,l,!0),N=p;do{if(y===0){xu&&!p&&$A(s,l,0,!1);break}else{if(u=s.current.alternate,N&&!kC(u)){y=wg(s,l,!1),N=!1;continue}if(y===2){if(N=l,s.errorRecoveryDisabledLanes&N)var P=0;else P=s.pendingLanes&-536870913,P=P!==0?P:P&536870912?536870912:0;if(P!==0){l=P;e:{var Ae=s;y=Od;var Ee=Ae.current.memoizedState.isDehydrated;if(Ee&&(yu(Ae,P).flags|=256),P=wg(Ae,P,!1),P!==2){if(pg&&!Ee){Ae.errorRecoveryDisabledLanes|=N,Sc|=N,y=4;break e}N=$i,$i=y,N!==null&&($i===null?$i=N:$i.push.apply($i,N))}y=P}if(N=!1,y!==2)continue}}if(y===1){yu(s,0),$A(s,l,0,!0);break}e:{switch(p=s,N=y,N){case 0:case 1:throw Error(n(345));case 4:if((l&4194048)!==l)break;case 6:$A(p,l,go,!KA);break e;case 2:$i=null;break;case 3:case 5:break;default:throw Error(n(329))}if((l&62914560)===l&&(y=hf+300-Jt(),10<y)){if($A(p,l,go,!KA),tt(p,0,!0)!==0)break e;bA=l,p.timeoutHandle=K1(p1.bind(null,p,u,$i,pf,gg,l,go,Sc,bu,KA,N,"Throttled",-0,0),y);break e}p1(p,u,$i,pf,gg,l,go,Sc,bu,KA,N,null,-0,0)}}break}while(!0);Rl(s)}function p1(s,l,u,p,y,N,P,Ae,Ee,Ge,lt,mt,Ze,Je){if(s.timeoutHandle=-1,mt=l.subtreeFlags,mt&8192||(mt&16785408)===16785408){mt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ka},o1(l,N,mt);var Ar=(N&62914560)===N?hf-Jt():(N&4194048)===N?u1-Jt():0;if(Ar=p4(mt,Ar),Ar!==null){bA=N,s.cancelPendingCommit=Ar(_1.bind(null,s,l,N,u,p,y,P,Ae,Ee,lt,mt,null,Ze,Je)),$A(s,N,P,!Ge);return}}_1(s,l,N,u,p,y,P,Ae,Ee)}function kC(s){for(var l=s;;){var u=l.tag;if((u===0||u===11||u===15)&&l.flags&16384&&(u=l.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var p=0;p<u.length;p++){var y=u[p],N=y.getSnapshot;y=y.value;try{if(!gs(N(),y))return!1}catch{return!1}}if(u=l.child,l.subtreeFlags&16384&&u!==null)u.return=l,l=u;else{if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function $A(s,l,u,p){l&=~mg,l&=~Sc,s.suspendedLanes|=l,s.pingedLanes&=~l,p&&(s.warmLanes|=l),p=s.expirationTimes;for(var y=l;0<y;){var N=31-Ut(y),P=1<<N;p[N]=-1,y&=~P}u!==0&&fr(s,u,l)}function mf(){return(Ln&6)===0?(Dd(0),!1):!0}function yg(){if(an!==null){if(On===0)var s=an.return;else s=an,zi=po=null,Au(s),gt=null,dr=0,s=an;for(;s!==null;)Gv(s.alternate,s),s=s.return;an=null}}function yu(s,l){var u=s.timeoutHandle;u!==-1&&(s.timeoutHandle=-1,XC(u)),u=s.cancelPendingCommit,u!==null&&(s.cancelPendingCommit=null,u()),bA=0,yg(),Yn=s,an=u=$a(s.current,null),An=l,On=0,mo=null,KA=!1,xu=Tt(s,l),pg=!1,bu=go=mg=Sc=GA=zs=0,$i=Od=null,gg=!1,(l&8)!==0&&(l|=l&32);var p=s.entangledLanes;if(p!==0)for(s=s.entanglements,p&=l;0<p;){var y=31-Ut(p),N=1<<y;l|=s[y],p&=~N}return xA=l,Cl(),u}function m1(s,l){_r=null,Y.H=Ld,l===ke||l===be?(l=At(),On=3):l===ze?(l=At(),On=4):On=l===Wm?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,mo=l,an===null&&(zs=1,sf(s,f(l,s.current)))}function g1(){var s=us.current;return s===null?!0:(An&4194048)===An?bn===null:(An&62914560)===An||(An&536870912)!==0?s===bn:!1}function x1(){var s=Y.H;return Y.H=Ld,s===null?Ld:s}function b1(){var s=Y.A;return Y.A=LC,s}function gf(){zs=4,KA||(An&4194048)!==An&&us.current!==null||(xu=!0),(GA&134217727)===0&&(Sc&134217727)===0||Yn===null||$A(Yn,An,go,!1)}function wg(s,l,u){var p=Ln;Ln|=2;var y=x1(),N=b1();(Yn!==s||An!==l)&&(pf=null,yu(s,l)),l=!1;var P=zs;e:do try{if(On!==0&&an!==null){var Ae=an,Ee=mo;switch(On){case 8:yg(),P=6;break e;case 3:case 2:case 9:case 6:us.current===null&&(l=!0);var Ge=On;if(On=0,mo=null,wu(s,Ae,Ee,Ge),u&&xu){P=0;break e}break;default:Ge=On,On=0,mo=null,wu(s,Ae,Ee,Ge)}}UC(),P=zs;break}catch(lt){m1(s,lt)}while(!0);return l&&s.shellSuspendCounter++,zi=po=null,Ln=p,Y.H=y,Y.A=N,an===null&&(Yn=null,An=0,Cl()),P}function UC(){for(;an!==null;)v1(an)}function TC(s,l){var u=Ln;Ln|=2;var p=x1(),y=b1();Yn!==s||An!==l?(pf=null,ff=Jt()+500,yu(s,l)):xu=Tt(s,l);e:do try{if(On!==0&&an!==null){l=an;var N=mo;t:switch(On){case 1:On=0,mo=null,wu(s,l,N,1);break;case 2:case 9:if(De(N)){On=0,mo=null,y1(l);break}l=function(){On!==2&&On!==9||Yn!==s||(On=7),Rl(s)},N.then(l,l);break e;case 3:On=7;break e;case 4:On=5;break e;case 7:De(N)?(On=0,mo=null,y1(l)):(On=0,mo=null,wu(s,l,N,7));break;case 5:var P=null;switch(an.tag){case 26:P=an.memoizedState;case 5:case 27:var Ae=an;if(P?iy(P):Ae.stateNode.complete){On=0,mo=null;var Ee=Ae.sibling;if(Ee!==null)an=Ee;else{var Ge=Ae.return;Ge!==null?(an=Ge,xf(Ge)):an=null}break t}}On=0,mo=null,wu(s,l,N,5);break;case 6:On=0,mo=null,wu(s,l,N,6);break;case 8:yg(),zs=6;break e;default:throw Error(n(462))}}FC();break}catch(lt){m1(s,lt)}while(!0);return zi=po=null,Y.H=p,Y.A=y,Ln=u,an!==null?0:(Yn=null,An=0,Cl(),zs)}function FC(){for(;an!==null&&!kt();)v1(an)}function v1(s){var l=qv(s.alternate,s,xA);s.memoizedProps=s.pendingProps,l===null?xf(s):an=l}function y1(s){var l=s,u=l.alternate;switch(l.tag){case 15:case 0:l=Mv(u,l,l.pendingProps,l.type,void 0,An);break;case 11:l=Mv(u,l,l.pendingProps,l.type.render,l.ref,An);break;case 5:Au(l);default:Gv(u,l),l=an=El(l,xA),l=qv(u,l,xA)}s.memoizedProps=s.pendingProps,l===null?xf(s):an=l}function wu(s,l,u,p){zi=po=null,Au(l),gt=null,dr=0;var y=l.return;try{if(wC(s,y,l,u,An)){zs=1,sf(s,f(u,s.current)),an=null;return}}catch(N){if(y!==null)throw an=y,N;zs=1,sf(s,f(u,s.current)),an=null;return}l.flags&32768?(en||p===1?s=!0:xu||(An&536870912)!==0?s=!1:(KA=s=!0,(p===2||p===9||p===3||p===6)&&(p=us.current,p!==null&&p.tag===13&&(p.flags|=16384))),w1(l,s)):xf(l)}function xf(s){var l=s;do{if((l.flags&32768)!==0){w1(l,KA);return}s=l.return;var u=NC(l.alternate,l,xA);if(u!==null){an=u;return}if(l=l.sibling,l!==null){an=l;return}an=l=s}while(l!==null);zs===0&&(zs=5)}function w1(s,l){do{var u=CC(s.alternate,s);if(u!==null){u.flags&=32767,an=u;return}if(u=s.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!l&&(s=s.sibling,s!==null)){an=s;return}an=s=u}while(s!==null);zs=6,an=null}function _1(s,l,u,p,y,N,P,Ae,Ee){s.cancelPendingCommit=null;do bf();while(Sa!==0);if((Ln&6)!==0)throw Error(n(327));if(l!==null){if(l===s.current)throw Error(n(177));if(N=l.lanes|l.childLanes,N|=aA,Rr(s,u,N,P,Ae,Ee),s===Yn&&(an=Yn=null,An=0),vu=l,ZA=s,bA=u,xg=N,bg=y,d1=p,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,MC(cr,function(){return S1(),null})):(s.callbackNode=null,s.callbackPriority=0),p=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||p){p=Y.T,Y.T=null,y=pe.p,pe.p=2,P=Ln,Ln|=4;try{EC(s,l,u)}finally{Ln=P,pe.p=y,Y.T=p}}Sa=1,B1(),N1(),C1()}}function B1(){if(Sa===1){Sa=0;var s=ZA,l=vu,u=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||u){u=Y.T,Y.T=null;var p=pe.p;pe.p=2;var y=Ln;Ln|=4;try{s1(l,s);var N=Fg,P=ci(s.containerInfo),Ae=N.focusedElem,Ee=N.selectionRange;if(P!==Ae&&Ae&&Ae.ownerDocument&&ji(Ae.ownerDocument.documentElement,Ae)){if(Ee!==null&&ya(Ae)){var Ge=Ee.start,lt=Ee.end;if(lt===void 0&&(lt=Ge),"selectionStart"in Ae)Ae.selectionStart=Ge,Ae.selectionEnd=Math.min(lt,Ae.value.length);else{var mt=Ae.ownerDocument||document,Ze=mt&&mt.defaultView||window;if(Ze.getSelection){var Je=Ze.getSelection(),Ar=Ae.textContent.length,kr=Math.min(Ee.start,Ar),Gn=Ee.end===void 0?kr:Math.min(Ee.end,Ar);!Je.extend&&kr>Gn&&(P=Gn,Gn=kr,kr=P);var Oe=uo(Ae,kr),Ue=uo(Ae,Gn);if(Oe&&Ue&&(Je.rangeCount!==1||Je.anchorNode!==Oe.node||Je.anchorOffset!==Oe.offset||Je.focusNode!==Ue.node||Je.focusOffset!==Ue.offset)){var qe=mt.createRange();qe.setStart(Oe.node,Oe.offset),Je.removeAllRanges(),kr>Gn?(Je.addRange(qe),Je.extend(Ue.node,Ue.offset)):(qe.setEnd(Ue.node,Ue.offset),Je.addRange(qe))}}}}for(mt=[],Je=Ae;Je=Je.parentNode;)Je.nodeType===1&&mt.push({element:Je,left:Je.scrollLeft,top:Je.scrollTop});for(typeof Ae.focus=="function"&&Ae.focus(),Ae=0;Ae<mt.length;Ae++){var ht=mt[Ae];ht.element.scrollLeft=ht.left,ht.element.scrollTop=ht.top}}kf=!!Tg,Fg=Tg=null}finally{Ln=y,pe.p=p,Y.T=u}}s.current=l,Sa=2}}function N1(){if(Sa===2){Sa=0;var s=ZA,l=vu,u=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||u){u=Y.T,Y.T=null;var p=pe.p;pe.p=2;var y=Ln;Ln|=4;try{Wv(s,l.alternate,l)}finally{Ln=y,pe.p=p,Y.T=u}}Sa=3}}function C1(){if(Sa===4||Sa===3){Sa=0,Kt();var s=ZA,l=vu,u=bA,p=d1;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Sa=5:(Sa=0,vu=ZA=null,E1(s,s.pendingLanes));var y=s.pendingLanes;if(y===0&&(VA=null),Me(u),l=l.stateNode,ft&&typeof ft.onCommitFiberRoot=="function")try{ft.onCommitFiberRoot(et,l,void 0,(l.current.flags&128)===128)}catch{}if(p!==null){l=Y.T,y=pe.p,pe.p=2,Y.T=null;try{for(var N=s.onRecoverableError,P=0;P<p.length;P++){var Ae=p[P];N(Ae.value,{componentStack:Ae.stack})}}finally{Y.T=l,pe.p=y}}(bA&3)!==0&&bf(),Rl(s),y=s.pendingLanes,(u&261930)!==0&&(y&42)!==0?s===vg?Md++:(Md=0,vg=s):Md=0,Dd(0)}}function E1(s,l){(s.pooledCacheLanes&=l)===0&&(l=s.pooledCache,l!=null&&(s.pooledCache=null,wc(l)))}function bf(){return B1(),N1(),C1(),S1()}function S1(){if(Sa!==5)return!1;var s=ZA,l=xg;xg=0;var u=Me(bA),p=Y.T,y=pe.p;try{pe.p=32>u?32:u,Y.T=null,u=bg,bg=null;var N=ZA,P=bA;if(Sa=0,vu=ZA=null,bA=0,(Ln&6)!==0)throw Error(n(331));var Ae=Ln;if(Ln|=4,A1(N.current),i1(N,N.current,P,u),Ln=Ae,Dd(0,!1),ft&&typeof ft.onPostCommitFiberRoot=="function")try{ft.onPostCommitFiberRoot(et,N)}catch{}return!0}finally{pe.p=y,Y.T=p,E1(s,l)}}function L1(s,l,u){l=f(u,l),l=Jm(s.stateNode,l,2),s=$r(s,l,2),s!==null&&(vt(s,2),Rl(s))}function Mn(s,l,u){if(s.tag===3)L1(s,s,u);else for(;l!==null;){if(l.tag===3){L1(l,s,u);break}else if(l.tag===1){var p=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(VA===null||!VA.has(p))){s=f(u,s),u=jv(2),p=$r(l,u,2),p!==null&&(kv(u,p,l,s),vt(p,2),Rl(p));break}}l=l.return}}function _g(s,l,u){var p=s.pingCache;if(p===null){p=s.pingCache=new jC;var y=new Set;p.set(l,y)}else y=p.get(l),y===void 0&&(y=new Set,p.set(l,y));y.has(u)||(pg=!0,y.add(u),s=QC.bind(null,s,l,u),l.then(s,s))}function QC(s,l,u){var p=s.pingCache;p!==null&&p.delete(l),s.pingedLanes|=s.suspendedLanes&u,s.warmLanes&=~u,Yn===s&&(An&u)===u&&(zs===4||zs===3&&(An&62914560)===An&&300>Jt()-hf?(Ln&2)===0&&yu(s,0):mg|=u,bu===An&&(bu=0)),Rl(s)}function j1(s,l){l===0&&(l=Wt()),s=di(s,l),s!==null&&(vt(s,l),Rl(s))}function IC(s){var l=s.memoizedState,u=0;l!==null&&(u=l.retryLane),j1(s,u)}function OC(s,l){var u=0;switch(s.tag){case 31:case 13:var p=s.stateNode,y=s.memoizedState;y!==null&&(u=y.retryLane);break;case 19:p=s.stateNode;break;case 22:p=s.stateNode._retryCache;break;default:throw Error(n(314))}p!==null&&p.delete(l),j1(s,u)}function MC(s,l){return Zt(s,l)}var vf=null,_u=null,Bg=!1,yf=!1,Ng=!1,YA=0;function Rl(s){s!==_u&&s.next===null&&(_u===null?vf=_u=s:_u=_u.next=s),yf=!0,Bg||(Bg=!0,RC())}function Dd(s,l){if(!Ng&&yf){Ng=!0;do for(var u=!1,p=vf;p!==null;){if(s!==0){var y=p.pendingLanes;if(y===0)var N=0;else{var P=p.suspendedLanes,Ae=p.pingedLanes;N=(1<<31-Ut(42|s)+1)-1,N&=y&~(P&~Ae),N=N&201326741?N&201326741|1:N?N|2:0}N!==0&&(u=!0,F1(p,N))}else N=An,N=tt(p,p===Yn?N:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(N&3)===0||Tt(p,N)||(u=!0,F1(p,N));p=p.next}while(u);Ng=!1}}function DC(){k1()}function k1(){yf=Bg=!1;var s=0;YA!==0&&YC()&&(s=YA);for(var l=Jt(),u=null,p=vf;p!==null;){var y=p.next,N=U1(p,l);N===0?(p.next=null,u===null?vf=y:u.next=y,y===null&&(_u=u)):(u=p,(s!==0||(N&3)!==0)&&(yf=!0)),p=y}Sa!==0&&Sa!==5||Dd(s),YA!==0&&(YA=0)}function U1(s,l){for(var u=s.suspendedLanes,p=s.pingedLanes,y=s.expirationTimes,N=s.pendingLanes&-62914561;0<N;){var P=31-Ut(N),Ae=1<<P,Ee=y[P];Ee===-1?((Ae&u)===0||(Ae&p)!==0)&&(y[P]=zt(Ae,l)):Ee<=l&&(s.expiredLanes|=Ae),N&=~Ae}if(l=Yn,u=An,u=tt(s,s===l?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),p=s.callbackNode,u===0||s===l&&(On===2||On===9)||s.cancelPendingCommit!==null)return p!==null&&p!==null&&Qt(p),s.callbackNode=null,s.callbackPriority=0;if((u&3)===0||Tt(s,u)){if(l=u&-u,l===s.callbackPriority)return l;switch(p!==null&&Qt(p),Me(u)){case 2:case 8:u=ar;break;case 32:u=cr;break;case 268435456:u=Vt;break;default:u=cr}return p=T1.bind(null,s),u=Zt(u,p),s.callbackPriority=l,s.callbackNode=u,l}return p!==null&&p!==null&&Qt(p),s.callbackPriority=2,s.callbackNode=null,2}function T1(s,l){if(Sa!==0&&Sa!==5)return s.callbackNode=null,s.callbackPriority=0,null;var u=s.callbackNode;if(bf()&&s.callbackNode!==u)return null;var p=An;return p=tt(s,s===Yn?p:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),p===0?null:(f1(s,p,l),U1(s,Jt()),s.callbackNode!=null&&s.callbackNode===u?T1.bind(null,s):null)}function F1(s,l){if(bf())return null;f1(s,l,!0)}function RC(){JC(function(){(Ln&6)!==0?Zt(Yt,DC):k1()})}function Cg(){if(YA===0){var s=x;s===0&&(s=de,de<<=1,(de&261888)===0&&(de=256)),YA=s}return YA}function Q1(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Aa(""+s)}function I1(s,l){var u=l.ownerDocument.createElement("input");return u.name=l.name,u.value=l.value,s.id&&u.setAttribute("form",s.id),l.parentNode.insertBefore(u,l),s=new FormData(s),u.parentNode.removeChild(u),s}function PC(s,l,u,p,y){if(l==="submit"&&u&&u.stateNode===y){var N=Q1((y[Xr]||null).action),P=p.submitter;P&&(l=(l=P[Xr]||null)?Q1(l.formAction):P.getAttribute("formAction"),l!==null&&(N=l,P=null));var Ae=new ii("action","action",null,p,y);s.push({event:Ae,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(YA!==0){var Ee=P?I1(y,P):new FormData(y);Gm(u,{pending:!0,data:Ee,method:y.method,action:N},null,Ee)}}else typeof N=="function"&&(Ae.preventDefault(),Ee=P?I1(y,P):new FormData(y),Gm(u,{pending:!0,data:Ee,method:y.method,action:N},N,Ee))},currentTarget:y}]})}}for(var Eg=0;Eg<ui.length;Eg++){var Sg=ui[Eg],HC=Sg.toLowerCase(),zC=Sg[0].toUpperCase()+Sg.slice(1);Va(HC,"on"+zC)}Va(Hi,"onAnimationEnd"),Va(sA,"onAnimationIteration"),Va(Bl,"onAnimationStart"),Va("dblclick","onDoubleClick"),Va("focusin","onFocus"),Va("focusout","onBlur"),Va(ru,"onTransitionRun"),Va(bc,"onTransitionStart"),Va(nu,"onTransitionCancel"),Va(Jo,"onTransitionEnd"),Fr("onMouseEnter",["mouseout","mouseover"]),Fr("onMouseLeave",["mouseout","mouseover"]),Fr("onPointerEnter",["pointerout","pointerover"]),Fr("onPointerLeave",["pointerout","pointerover"]),ur("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ur("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ur("onBeforeInput",["compositionend","keypress","textInput","paste"]),ur("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ur("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ur("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rd));function O1(s,l){l=(l&4)!==0;for(var u=0;u<s.length;u++){var p=s[u],y=p.event;p=p.listeners;e:{var N=void 0;if(l)for(var P=p.length-1;0<=P;P--){var Ae=p[P],Ee=Ae.instance,Ge=Ae.currentTarget;if(Ae=Ae.listener,Ee!==N&&y.isPropagationStopped())break e;N=Ae,y.currentTarget=Ge;try{N(y)}catch(lt){Nl(lt)}y.currentTarget=null,N=Ee}else for(P=0;P<p.length;P++){if(Ae=p[P],Ee=Ae.instance,Ge=Ae.currentTarget,Ae=Ae.listener,Ee!==N&&y.isPropagationStopped())break e;N=Ae,y.currentTarget=Ge;try{N(y)}catch(lt){Nl(lt)}y.currentTarget=null,N=Ee}}}}function on(s,l){var u=l[wn];u===void 0&&(u=l[wn]=new Set);var p=s+"__bubble";u.has(p)||(M1(l,s,2,!1),u.add(p))}function Lg(s,l,u){var p=0;l&&(p|=4),M1(u,s,p,l)}var wf="_reactListening"+Math.random().toString(36).slice(2);function jg(s){if(!s[wf]){s[wf]=!0,ut.forEach(function(u){u!=="selectionchange"&&(qC.has(u)||Lg(u,!1,s),Lg(u,!0,s))});var l=s.nodeType===9?s:s.ownerDocument;l===null||l[wf]||(l[wf]=!0,Lg("selectionchange",!1,l))}}function M1(s,l,u,p){switch(hy(l)){case 2:var y=x4;break;case 8:y=b4;break;default:y=Kg}u=y.bind(null,l,u,s),y=void 0,!Vo||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(y=!0),p?y!==void 0?s.addEventListener(l,u,{capture:!0,passive:y}):s.addEventListener(l,u,!0):y!==void 0?s.addEventListener(l,u,{passive:y}):s.addEventListener(l,u,!1)}function kg(s,l,u,p,y){var N=p;if((l&1)===0&&(l&2)===0&&p!==null)e:for(;;){if(p===null)return;var P=p.tag;if(P===3||P===4){var Ae=p.stateNode.containerInfo;if(Ae===y)break;if(P===4)for(P=p.return;P!==null;){var Ee=P.tag;if((Ee===3||Ee===4)&&P.stateNode.containerInfo===y)return;P=P.return}for(;Ae!==null;){if(P=fs(Ae),P===null)return;if(Ee=P.tag,Ee===5||Ee===6||Ee===26||Ee===27){p=N=P;continue e}Ae=Ae.parentNode}}p=p.return}tA(function(){var Ge=N,lt=no(u),mt=[];e:{var Ze=vc.get(s);if(Ze!==void 0){var Je=ii,Ar=s;switch(s){case"keypress":if(Ha(u)===0)break e;case"keydown":case"keyup":Je=rn;break;case"focusin":Ar="focus",Je=ao;break;case"focusout":Ar="blur",Je=ao;break;case"beforeblur":case"afterblur":Je=ao;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Je=rA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Je=so;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Je=js;break;case Hi:case sA:case Bl:Je=S;break;case Jo:Je=Qs;break;case"scroll":case"scrollend":Je=Vr;break;case"wheel":Je=Ys;break;case"copy":case"cut":case"paste":Je=xe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Je=as;break;case"toggle":case"beforetoggle":Je=oo}var kr=(l&4)!==0,Gn=!kr&&(s==="scroll"||s==="scrollend"),Oe=kr?Ze!==null?Ze+"Capture":null:Ze;kr=[];for(var Ue=Ge,qe;Ue!==null;){var ht=Ue;if(qe=ht.stateNode,ht=ht.tag,ht!==5&&ht!==26&&ht!==27||qe===null||Oe===null||(ht=ba(Ue,Oe),ht!=null&&kr.push(Pd(Ue,ht,qe))),Gn)break;Ue=Ue.return}0<kr.length&&(Ze=new Je(Ze,Ar,null,u,lt),mt.push({event:Ze,listeners:kr}))}}if((l&7)===0){e:{if(Ze=s==="mouseover"||s==="pointerover",Je=s==="mouseout"||s==="pointerout",Ze&&u!==Ui&&(Ar=u.relatedTarget||u.fromElement)&&(fs(Ar)||Ar[Fn]))break e;if((Je||Ze)&&(Ze=lt.window===lt?lt:(Ze=lt.ownerDocument)?Ze.defaultView||Ze.parentWindow:window,Je?(Ar=u.relatedTarget||u.toElement,Je=Ge,Ar=Ar?fs(Ar):null,Ar!==null&&(Gn=o(Ar),kr=Ar.tag,Ar!==Gn||kr!==5&&kr!==27&&kr!==6)&&(Ar=null)):(Je=null,Ar=Ge),Je!==Ar)){if(kr=rA,ht="onMouseLeave",Oe="onMouseEnter",Ue="mouse",(s==="pointerout"||s==="pointerover")&&(kr=as,ht="onPointerLeave",Oe="onPointerEnter",Ue="pointer"),Gn=Je==null?Ze:se(Je),qe=Ar==null?Ze:se(Ar),Ze=new kr(ht,Ue+"leave",Je,u,lt),Ze.target=Gn,Ze.relatedTarget=qe,ht=null,fs(lt)===Ge&&(kr=new kr(Oe,Ue+"enter",Ar,u,lt),kr.target=qe,kr.relatedTarget=Gn,ht=kr),Gn=ht,Je&&Ar)t:{for(kr=KC,Oe=Je,Ue=Ar,qe=0,ht=Oe;ht;ht=kr(ht))qe++;ht=0;for(var Nr=Ue;Nr;Nr=kr(Nr))ht++;for(;0<qe-ht;)Oe=kr(Oe),qe--;for(;0<ht-qe;)Ue=kr(Ue),ht--;for(;qe--;){if(Oe===Ue||Ue!==null&&Oe===Ue.alternate){kr=Oe;break t}Oe=kr(Oe),Ue=kr(Ue)}kr=null}else kr=null;Je!==null&&D1(mt,Ze,Je,kr,!1),Ar!==null&&Gn!==null&&D1(mt,Gn,Ar,kr,!0)}}e:{if(Ze=Ge?se(Ge):window,Je=Ze.nodeName&&Ze.nodeName.toLowerCase(),Je==="select"||Je==="input"&&Ze.type==="file")var Nn=Si;else if(qa(Ze))if(Ta)Nn=Oi;else{Nn=os;var gr=Fa}else Je=Ze.nodeName,!Je||Je.toLowerCase()!=="input"||Ze.type!=="checkbox"&&Ze.type!=="radio"?Ge&&Go(Ge.elementType)&&(Nn=Si):Nn=co;if(Nn&&(Nn=Nn(s,Ge))){Ka(mt,Nn,u,lt);break e}gr&&gr(s,Ze,Ge),s==="focusout"&&Ge&&Ze.type==="number"&&Ge.memoizedProps.value!=null&&ss(Ze,"number",Ze.value)}switch(gr=Ge?se(Ge):window,s){case"focusin":(qa(gr)||gr.contentEditable==="true")&&(wa=gr,Ri=Ge,ua=null);break;case"focusout":ua=Ri=wa=null;break;case"mousedown":_a=!0;break;case"contextmenu":case"mouseup":case"dragend":_a=!1,hn(mt,u,lt);break;case"selectionchange":if(Di)break;case"keydown":case"keyup":hn(mt,u,lt)}var Jr;if(Ci)e:{switch(s){case"compositionstart":var cn="onCompositionStart";break e;case"compositionend":cn="onCompositionEnd";break e;case"compositionupdate":cn="onCompositionUpdate";break e}cn=void 0}else Qi?ko(s,u)&&(cn="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(cn="onCompositionStart");cn&&(Ei&&u.locale!=="ko"&&(Qi||cn!=="onCompositionStart"?cn==="onCompositionEnd"&&Qi&&(Jr=Ti()):(va=lt,Bi="value"in va?va.value:va.textContent,Qi=!0)),gr=_f(Ge,cn),0<gr.length&&(cn=new Qe(cn,s,null,u,lt),mt.push({event:cn,listeners:gr}),Jr?cn.data=Jr:(Jr=Xo(u),Jr!==null&&(cn.data=Jr)))),(Jr=Yo?Qn(s,u):Ua(s,u))&&(cn=_f(Ge,"onBeforeInput"),0<cn.length&&(gr=new Qe("onBeforeInput","beforeinput",null,u,lt),mt.push({event:gr,listeners:cn}),gr.data=Jr)),PC(mt,s,Ge,u,lt)}O1(mt,l)})}function Pd(s,l,u){return{instance:s,listener:l,currentTarget:u}}function _f(s,l){for(var u=l+"Capture",p=[];s!==null;){var y=s,N=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||N===null||(y=ba(s,u),y!=null&&p.unshift(Pd(s,y,N)),y=ba(s,l),y!=null&&p.push(Pd(s,y,N))),s.tag===3)return p;s=s.return}return[]}function KC(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function D1(s,l,u,p,y){for(var N=l._reactName,P=[];u!==null&&u!==p;){var Ae=u,Ee=Ae.alternate,Ge=Ae.stateNode;if(Ae=Ae.tag,Ee!==null&&Ee===p)break;Ae!==5&&Ae!==26&&Ae!==27||Ge===null||(Ee=Ge,y?(Ge=ba(u,N),Ge!=null&&P.unshift(Pd(u,Ge,Ee))):y||(Ge=ba(u,N),Ge!=null&&P.push(Pd(u,Ge,Ee)))),u=u.return}P.length!==0&&s.push({event:l,listeners:P})}var GC=/\r\n?/g,VC=/\u0000|\uFFFD/g;function R1(s){return(typeof s=="string"?s:""+s).replace(GC,`
`).replace(VC,"")}function P1(s,l){return l=R1(l),R1(s)===l}function Kn(s,l,u,p,y,N){switch(u){case"children":typeof p=="string"?l==="body"||l==="textarea"&&p===""||$s(s,p):(typeof p=="number"||typeof p=="bigint")&&l!=="body"&&$s(s,""+p);break;case"className":Qr(s,"class",p);break;case"tabIndex":Qr(s,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":Qr(s,u,p);break;case"style":bl(s,p,N);break;case"data":if(l!=="object"){Qr(s,"data",p);break}case"src":case"href":if(p===""&&(l!=="a"||u!=="href")){s.removeAttribute(u);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){s.removeAttribute(u);break}p=Aa(""+p),s.setAttribute(u,p);break;case"action":case"formAction":if(typeof p=="function"){s.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof N=="function"&&(u==="formAction"?(l!=="input"&&Kn(s,l,"name",y.name,y,null),Kn(s,l,"formEncType",y.formEncType,y,null),Kn(s,l,"formMethod",y.formMethod,y,null),Kn(s,l,"formTarget",y.formTarget,y,null)):(Kn(s,l,"encType",y.encType,y,null),Kn(s,l,"method",y.method,y,null),Kn(s,l,"target",y.target,y,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){s.removeAttribute(u);break}p=Aa(""+p),s.setAttribute(u,p);break;case"onClick":p!=null&&(s.onclick=ka);break;case"onScroll":p!=null&&on("scroll",s);break;case"onScrollEnd":p!=null&&on("scrollend",s);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(n(61));if(u=p.__html,u!=null){if(y.children!=null)throw Error(n(60));s.innerHTML=u}}break;case"multiple":s.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":s.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){s.removeAttribute("xlink:href");break}u=Aa(""+p),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?s.setAttribute(u,""+p):s.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?s.setAttribute(u,""):s.removeAttribute(u);break;case"capture":case"download":p===!0?s.setAttribute(u,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?s.setAttribute(u,p):s.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?s.setAttribute(u,p):s.removeAttribute(u);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?s.removeAttribute(u):s.setAttribute(u,p);break;case"popover":on("beforetoggle",s),on("toggle",s),br(s,"popover",p);break;case"xlinkActuate":Jn(s,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":Jn(s,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":Jn(s,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":Jn(s,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":Jn(s,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":Jn(s,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":Jn(s,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":Jn(s,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":Jn(s,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":br(s,"is",p);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=Eo.get(u)||u,br(s,u,p))}}function Ug(s,l,u,p,y,N){switch(u){case"style":bl(s,p,N);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(n(61));if(u=p.__html,u!=null){if(y.children!=null)throw Error(n(60));s.innerHTML=u}}break;case"children":typeof p=="string"?$s(s,p):(typeof p=="number"||typeof p=="bigint")&&$s(s,""+p);break;case"onScroll":p!=null&&on("scroll",s);break;case"onScrollEnd":p!=null&&on("scrollend",s);break;case"onClick":p!=null&&(s.onclick=ka);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Gt.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(y=u.endsWith("Capture"),l=u.slice(2,y?u.length-7:void 0),N=s[Xr]||null,N=N!=null?N[u]:null,typeof N=="function"&&s.removeEventListener(l,N,y),typeof p=="function")){typeof N!="function"&&N!==null&&(u in s?s[u]=null:s.hasAttribute(u)&&s.removeAttribute(u)),s.addEventListener(l,p,y);break e}u in s?s[u]=p:p===!0?s.setAttribute(u,""):br(s,u,p)}}}function Wa(s,l,u){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":on("error",s),on("load",s);var p=!1,y=!1,N;for(N in u)if(u.hasOwnProperty(N)){var P=u[N];if(P!=null)switch(N){case"src":p=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,l));default:Kn(s,l,N,P,u,null)}}y&&Kn(s,l,"srcSet",u.srcSet,u,null),p&&Kn(s,l,"src",u.src,u,null);return;case"input":on("invalid",s);var Ae=N=P=y=null,Ee=null,Ge=null;for(p in u)if(u.hasOwnProperty(p)){var lt=u[p];if(lt!=null)switch(p){case"name":y=lt;break;case"type":P=lt;break;case"checked":Ee=lt;break;case"defaultChecked":Ge=lt;break;case"value":N=lt;break;case"defaultValue":Ae=lt;break;case"children":case"dangerouslySetInnerHTML":if(lt!=null)throw Error(n(137,l));break;default:Kn(s,l,p,lt,u,null)}}Hr(s,N,Ae,Ee,Ge,P,y,!1);return;case"select":on("invalid",s),p=P=N=null;for(y in u)if(u.hasOwnProperty(y)&&(Ae=u[y],Ae!=null))switch(y){case"value":N=Ae;break;case"defaultValue":P=Ae;break;case"multiple":p=Ae;default:Kn(s,l,y,Ae,u,null)}l=N,u=P,s.multiple=!!p,l!=null?Cr(s,!!p,l,!1):u!=null&&Cr(s,!!p,u,!0);return;case"textarea":on("invalid",s),N=y=p=null;for(P in u)if(u.hasOwnProperty(P)&&(Ae=u[P],Ae!=null))switch(P){case"value":p=Ae;break;case"defaultValue":y=Ae;break;case"children":N=Ae;break;case"dangerouslySetInnerHTML":if(Ae!=null)throw Error(n(91));break;default:Kn(s,l,P,Ae,u,null)}si(s,p,y,N);return;case"option":for(Ee in u)if(u.hasOwnProperty(Ee)&&(p=u[Ee],p!=null))switch(Ee){case"selected":s.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:Kn(s,l,Ee,p,u,null)}return;case"dialog":on("beforetoggle",s),on("toggle",s),on("cancel",s),on("close",s);break;case"iframe":case"object":on("load",s);break;case"video":case"audio":for(p=0;p<Rd.length;p++)on(Rd[p],s);break;case"image":on("error",s),on("load",s);break;case"details":on("toggle",s);break;case"embed":case"source":case"link":on("error",s),on("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ge in u)if(u.hasOwnProperty(Ge)&&(p=u[Ge],p!=null))switch(Ge){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,l));default:Kn(s,l,Ge,p,u,null)}return;default:if(Go(l)){for(lt in u)u.hasOwnProperty(lt)&&(p=u[lt],p!==void 0&&Ug(s,l,lt,p,u,void 0));return}}for(Ae in u)u.hasOwnProperty(Ae)&&(p=u[Ae],p!=null&&Kn(s,l,Ae,p,u,null))}function ZC(s,l,u,p){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,N=null,P=null,Ae=null,Ee=null,Ge=null,lt=null;for(Je in u){var mt=u[Je];if(u.hasOwnProperty(Je)&&mt!=null)switch(Je){case"checked":break;case"value":break;case"defaultValue":Ee=mt;default:p.hasOwnProperty(Je)||Kn(s,l,Je,null,p,mt)}}for(var Ze in p){var Je=p[Ze];if(mt=u[Ze],p.hasOwnProperty(Ze)&&(Je!=null||mt!=null))switch(Ze){case"type":N=Je;break;case"name":y=Je;break;case"checked":Ge=Je;break;case"defaultChecked":lt=Je;break;case"value":P=Je;break;case"defaultValue":Ae=Je;break;case"children":case"dangerouslySetInnerHTML":if(Je!=null)throw Error(n(137,l));break;default:Je!==mt&&Kn(s,l,Ze,Je,p,mt)}}tn(s,P,Ae,Ee,Ge,lt,N,y);return;case"select":Je=P=Ae=Ze=null;for(N in u)if(Ee=u[N],u.hasOwnProperty(N)&&Ee!=null)switch(N){case"value":break;case"multiple":Je=Ee;default:p.hasOwnProperty(N)||Kn(s,l,N,null,p,Ee)}for(y in p)if(N=p[y],Ee=u[y],p.hasOwnProperty(y)&&(N!=null||Ee!=null))switch(y){case"value":Ze=N;break;case"defaultValue":Ae=N;break;case"multiple":P=N;default:N!==Ee&&Kn(s,l,y,N,p,Ee)}l=Ae,u=P,p=Je,Ze!=null?Cr(s,!!u,Ze,!1):!!p!=!!u&&(l!=null?Cr(s,!!u,l,!0):Cr(s,!!u,u?[]:"",!1));return;case"textarea":Je=Ze=null;for(Ae in u)if(y=u[Ae],u.hasOwnProperty(Ae)&&y!=null&&!p.hasOwnProperty(Ae))switch(Ae){case"value":break;case"children":break;default:Kn(s,l,Ae,null,p,y)}for(P in p)if(y=p[P],N=u[P],p.hasOwnProperty(P)&&(y!=null||N!=null))switch(P){case"value":Ze=y;break;case"defaultValue":Je=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(n(91));break;default:y!==N&&Kn(s,l,P,y,p,N)}la(s,Ze,Je);return;case"option":for(var Ar in u)if(Ze=u[Ar],u.hasOwnProperty(Ar)&&Ze!=null&&!p.hasOwnProperty(Ar))switch(Ar){case"selected":s.selected=!1;break;default:Kn(s,l,Ar,null,p,Ze)}for(Ee in p)if(Ze=p[Ee],Je=u[Ee],p.hasOwnProperty(Ee)&&Ze!==Je&&(Ze!=null||Je!=null))switch(Ee){case"selected":s.selected=Ze&&typeof Ze!="function"&&typeof Ze!="symbol";break;default:Kn(s,l,Ee,Ze,p,Je)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var kr in u)Ze=u[kr],u.hasOwnProperty(kr)&&Ze!=null&&!p.hasOwnProperty(kr)&&Kn(s,l,kr,null,p,Ze);for(Ge in p)if(Ze=p[Ge],Je=u[Ge],p.hasOwnProperty(Ge)&&Ze!==Je&&(Ze!=null||Je!=null))switch(Ge){case"children":case"dangerouslySetInnerHTML":if(Ze!=null)throw Error(n(137,l));break;default:Kn(s,l,Ge,Ze,p,Je)}return;default:if(Go(l)){for(var Gn in u)Ze=u[Gn],u.hasOwnProperty(Gn)&&Ze!==void 0&&!p.hasOwnProperty(Gn)&&Ug(s,l,Gn,void 0,p,Ze);for(lt in p)Ze=p[lt],Je=u[lt],!p.hasOwnProperty(lt)||Ze===Je||Ze===void 0&&Je===void 0||Ug(s,l,lt,Ze,p,Je);return}}for(var Oe in u)Ze=u[Oe],u.hasOwnProperty(Oe)&&Ze!=null&&!p.hasOwnProperty(Oe)&&Kn(s,l,Oe,null,p,Ze);for(mt in p)Ze=p[mt],Je=u[mt],!p.hasOwnProperty(mt)||Ze===Je||Ze==null&&Je==null||Kn(s,l,mt,Ze,p,Je)}function H1(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function $C(){if(typeof performance.getEntriesByType=="function"){for(var s=0,l=0,u=performance.getEntriesByType("resource"),p=0;p<u.length;p++){var y=u[p],N=y.transferSize,P=y.initiatorType,Ae=y.duration;if(N&&Ae&&H1(P)){for(P=0,Ae=y.responseEnd,p+=1;p<u.length;p++){var Ee=u[p],Ge=Ee.startTime;if(Ge>Ae)break;var lt=Ee.transferSize,mt=Ee.initiatorType;lt&&H1(mt)&&(Ee=Ee.responseEnd,P+=lt*(Ee<Ae?1:(Ae-Ge)/(Ee-Ge)))}if(--p,l+=8*(N+P)/(y.duration/1e3),s++,10<s)break}}if(0<s)return l/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var Tg=null,Fg=null;function Bf(s){return s.nodeType===9?s:s.ownerDocument}function z1(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function q1(s,l){if(s===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&l==="foreignObject"?0:s}function Qg(s,l){return s==="textarea"||s==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Ig=null;function YC(){var s=window.event;return s&&s.type==="popstate"?s===Ig?!1:(Ig=s,!0):(Ig=null,!1)}var K1=typeof setTimeout=="function"?setTimeout:void 0,XC=typeof clearTimeout=="function"?clearTimeout:void 0,G1=typeof Promise=="function"?Promise:void 0,JC=typeof queueMicrotask=="function"?queueMicrotask:typeof G1<"u"?function(s){return G1.resolve(null).then(s).catch(WC)}:K1;function WC(s){setTimeout(function(){throw s})}function XA(s){return s==="head"}function V1(s,l){var u=l,p=0;do{var y=u.nextSibling;if(s.removeChild(u),y&&y.nodeType===8)if(u=y.data,u==="/$"||u==="/&"){if(p===0){s.removeChild(y),Eu(l);return}p--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")p++;else if(u==="html")Hd(s.ownerDocument.documentElement);else if(u==="head"){u=s.ownerDocument.head,Hd(u);for(var N=u.firstChild;N;){var P=N.nextSibling,Ae=N.nodeName;N[wr]||Ae==="SCRIPT"||Ae==="STYLE"||Ae==="LINK"&&N.rel.toLowerCase()==="stylesheet"||u.removeChild(N),N=P}}else u==="body"&&Hd(s.ownerDocument.body);u=y}while(u);Eu(l)}function Z1(s,l){var u=s;s=0;do{var p=u.nextSibling;if(u.nodeType===1?l?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(l?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),p&&p.nodeType===8)if(u=p.data,u==="/$"){if(s===0)break;s--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||s++;u=p}while(u)}function Og(s){var l=s.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var u=l;switch(l=l.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Og(u),xa(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}s.removeChild(u)}}function e4(s,l,u,p){for(;s.nodeType===1;){var y=u;if(s.nodeName.toLowerCase()!==l.toLowerCase()){if(!p&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(p){if(!s[wr])switch(l){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(N=s.getAttribute("rel"),N==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(N!==y.rel||s.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||s.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||s.getAttribute("title")!==(y.title==null?null:y.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(N=s.getAttribute("src"),(N!==(y.src==null?null:y.src)||s.getAttribute("type")!==(y.type==null?null:y.type)||s.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&N&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(l==="input"&&s.type==="hidden"){var N=y.name==null?null:""+y.name;if(y.type==="hidden"&&s.getAttribute("name")===N)return s}else return s;if(s=Oo(s.nextSibling),s===null)break}return null}function t4(s,l,u){if(l==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!u||(s=Oo(s.nextSibling),s===null))return null;return s}function $1(s,l){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=Oo(s.nextSibling),s===null))return null;return s}function Mg(s){return s.data==="$?"||s.data==="$~"}function Dg(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function r4(s,l){var u=s.ownerDocument;if(s.data==="$~")s._reactRetry=l;else if(s.data!=="$?"||u.readyState!=="loading")l();else{var p=function(){l(),u.removeEventListener("DOMContentLoaded",p)};u.addEventListener("DOMContentLoaded",p),s._reactRetry=p}}function Oo(s){for(;s!=null;s=s.nextSibling){var l=s.nodeType;if(l===1||l===3)break;if(l===8){if(l=s.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return s}var Rg=null;function Y1(s){s=s.nextSibling;for(var l=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"||u==="/&"){if(l===0)return Oo(s.nextSibling);l--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||l++}s=s.nextSibling}return null}function X1(s){s=s.previousSibling;for(var l=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(l===0)return s;l--}else u!=="/$"&&u!=="/&"||l++}s=s.previousSibling}return null}function J1(s,l,u){switch(l=Bf(u),s){case"html":if(s=l.documentElement,!s)throw Error(n(452));return s;case"head":if(s=l.head,!s)throw Error(n(453));return s;case"body":if(s=l.body,!s)throw Error(n(454));return s;default:throw Error(n(451))}}function Hd(s){for(var l=s.attributes;l.length;)s.removeAttributeNode(l[0]);xa(s)}var Mo=new Map,W1=new Set;function Nf(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var vA=pe.d;pe.d={f:n4,r:s4,D:a4,C:i4,L:o4,m:l4,X:c4,S:A4,M:u4};function n4(){var s=vA.f(),l=mf();return s||l}function s4(s){var l=Zs(s);l!==null&&l.tag===5&&l.type==="form"?mv(l):vA.r(s)}var Bu=typeof document>"u"?null:document;function ey(s,l,u){var p=Bu;if(p&&typeof l=="string"&&l){var y=nr(l);y='link[rel="'+s+'"][href="'+y+'"]',typeof u=="string"&&(y+='[crossorigin="'+u+'"]'),W1.has(y)||(W1.add(y),s={rel:s,crossOrigin:u,href:l},p.querySelector(y)===null&&(l=p.createElement("link"),Wa(l,"link",s),bt(l),p.head.appendChild(l)))}}function a4(s){vA.D(s),ey("dns-prefetch",s,null)}function i4(s,l){vA.C(s,l),ey("preconnect",s,l)}function o4(s,l,u){vA.L(s,l,u);var p=Bu;if(p&&s&&l){var y='link[rel="preload"][as="'+nr(l)+'"]';l==="image"&&u&&u.imageSrcSet?(y+='[imagesrcset="'+nr(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(y+='[imagesizes="'+nr(u.imageSizes)+'"]')):y+='[href="'+nr(s)+'"]';var N=y;switch(l){case"style":N=Nu(s);break;case"script":N=Cu(s)}Mo.has(N)||(s=b({rel:"preload",href:l==="image"&&u&&u.imageSrcSet?void 0:s,as:l},u),Mo.set(N,s),p.querySelector(y)!==null||l==="style"&&p.querySelector(zd(N))||l==="script"&&p.querySelector(qd(N))||(l=p.createElement("link"),Wa(l,"link",s),bt(l),p.head.appendChild(l)))}}function l4(s,l){vA.m(s,l);var u=Bu;if(u&&s){var p=l&&typeof l.as=="string"?l.as:"script",y='link[rel="modulepreload"][as="'+nr(p)+'"][href="'+nr(s)+'"]',N=y;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":N=Cu(s)}if(!Mo.has(N)&&(s=b({rel:"modulepreload",href:s},l),Mo.set(N,s),u.querySelector(y)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(qd(N)))return}p=u.createElement("link"),Wa(p,"link",s),bt(p),u.head.appendChild(p)}}}function A4(s,l,u){vA.S(s,l,u);var p=Bu;if(p&&s){var y=pt(p).hoistableStyles,N=Nu(s);l=l||"default";var P=y.get(N);if(!P){var Ae={loading:0,preload:null};if(P=p.querySelector(zd(N)))Ae.loading=5;else{s=b({rel:"stylesheet",href:s,"data-precedence":l},u),(u=Mo.get(N))&&Pg(s,u);var Ee=P=p.createElement("link");bt(Ee),Wa(Ee,"link",s),Ee._p=new Promise(function(Ge,lt){Ee.onload=Ge,Ee.onerror=lt}),Ee.addEventListener("load",function(){Ae.loading|=1}),Ee.addEventListener("error",function(){Ae.loading|=2}),Ae.loading|=4,Cf(P,l,p)}P={type:"stylesheet",instance:P,count:1,state:Ae},y.set(N,P)}}}function c4(s,l){vA.X(s,l);var u=Bu;if(u&&s){var p=pt(u).hoistableScripts,y=Cu(s),N=p.get(y);N||(N=u.querySelector(qd(y)),N||(s=b({src:s,async:!0},l),(l=Mo.get(y))&&Hg(s,l),N=u.createElement("script"),bt(N),Wa(N,"link",s),u.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},p.set(y,N))}}function u4(s,l){vA.M(s,l);var u=Bu;if(u&&s){var p=pt(u).hoistableScripts,y=Cu(s),N=p.get(y);N||(N=u.querySelector(qd(y)),N||(s=b({src:s,async:!0,type:"module"},l),(l=Mo.get(y))&&Hg(s,l),N=u.createElement("script"),bt(N),Wa(N,"link",s),u.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},p.set(y,N))}}function ty(s,l,u,p){var y=(y=ce.current)?Nf(y):null;if(!y)throw Error(n(446));switch(s){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(l=Nu(u.href),u=pt(y).hoistableStyles,p=u.get(l),p||(p={type:"style",instance:null,count:0,state:null},u.set(l,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){s=Nu(u.href);var N=pt(y).hoistableStyles,P=N.get(s);if(P||(y=y.ownerDocument||y,P={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},N.set(s,P),(N=y.querySelector(zd(s)))&&!N._p&&(P.instance=N,P.state.loading=5),Mo.has(s)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Mo.set(s,u),N||d4(y,s,u,P.state))),l&&p===null)throw Error(n(528,""));return P}if(l&&p!==null)throw Error(n(529,""));return null;case"script":return l=u.async,u=u.src,typeof u=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Cu(u),u=pt(y).hoistableScripts,p=u.get(l),p||(p={type:"script",instance:null,count:0,state:null},u.set(l,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,s))}}function Nu(s){return'href="'+nr(s)+'"'}function zd(s){return'link[rel="stylesheet"]['+s+"]"}function ry(s){return b({},s,{"data-precedence":s.precedence,precedence:null})}function d4(s,l,u,p){s.querySelector('link[rel="preload"][as="style"]['+l+"]")?p.loading=1:(l=s.createElement("link"),p.preload=l,l.addEventListener("load",function(){return p.loading|=1}),l.addEventListener("error",function(){return p.loading|=2}),Wa(l,"link",u),bt(l),s.head.appendChild(l))}function Cu(s){return'[src="'+nr(s)+'"]'}function qd(s){return"script[async]"+s}function ny(s,l,u){if(l.count++,l.instance===null)switch(l.type){case"style":var p=s.querySelector('style[data-href~="'+nr(u.href)+'"]');if(p)return l.instance=p,bt(p),p;var y=b({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return p=(s.ownerDocument||s).createElement("style"),bt(p),Wa(p,"style",y),Cf(p,u.precedence,s),l.instance=p;case"stylesheet":y=Nu(u.href);var N=s.querySelector(zd(y));if(N)return l.state.loading|=4,l.instance=N,bt(N),N;p=ry(u),(y=Mo.get(y))&&Pg(p,y),N=(s.ownerDocument||s).createElement("link"),bt(N);var P=N;return P._p=new Promise(function(Ae,Ee){P.onload=Ae,P.onerror=Ee}),Wa(N,"link",p),l.state.loading|=4,Cf(N,u.precedence,s),l.instance=N;case"script":return N=Cu(u.src),(y=s.querySelector(qd(N)))?(l.instance=y,bt(y),y):(p=u,(y=Mo.get(N))&&(p=b({},u),Hg(p,y)),s=s.ownerDocument||s,y=s.createElement("script"),bt(y),Wa(y,"link",p),s.head.appendChild(y),l.instance=y);case"void":return null;default:throw Error(n(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(p=l.instance,l.state.loading|=4,Cf(p,u.precedence,s));return l.instance}function Cf(s,l,u){for(var p=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=p.length?p[p.length-1]:null,N=y,P=0;P<p.length;P++){var Ae=p[P];if(Ae.dataset.precedence===l)N=Ae;else if(N!==y)break}N?N.parentNode.insertBefore(s,N.nextSibling):(l=u.nodeType===9?u.head:u,l.insertBefore(s,l.firstChild))}function Pg(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.title==null&&(s.title=l.title)}function Hg(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.integrity==null&&(s.integrity=l.integrity)}var Ef=null;function sy(s,l,u){if(Ef===null){var p=new Map,y=Ef=new Map;y.set(u,p)}else y=Ef,p=y.get(u),p||(p=new Map,y.set(u,p));if(p.has(s))return p;for(p.set(s,null),u=u.getElementsByTagName(s),y=0;y<u.length;y++){var N=u[y];if(!(N[wr]||N[Gr]||s==="link"&&N.getAttribute("rel")==="stylesheet")&&N.namespaceURI!=="http://www.w3.org/2000/svg"){var P=N.getAttribute(l)||"";P=s+P;var Ae=p.get(P);Ae?Ae.push(N):p.set(P,[N])}}return p}function ay(s,l,u){s=s.ownerDocument||s,s.head.insertBefore(u,l==="title"?s.querySelector("head > title"):null)}function h4(s,l,u){if(u===1||l.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return s=l.disabled,typeof l.precedence=="string"&&s==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function iy(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function f4(s,l,u,p){if(u.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var y=Nu(p.href),N=l.querySelector(zd(y));if(N){l=N._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(s.count++,s=Sf.bind(s),l.then(s,s)),u.state.loading|=4,u.instance=N,bt(N);return}N=l.ownerDocument||l,p=ry(p),(y=Mo.get(y))&&Pg(p,y),N=N.createElement("link"),bt(N);var P=N;P._p=new Promise(function(Ae,Ee){P.onload=Ae,P.onerror=Ee}),Wa(N,"link",p),u.instance=N}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(u,l),(l=u.state.preload)&&(u.state.loading&3)===0&&(s.count++,u=Sf.bind(s),l.addEventListener("load",u),l.addEventListener("error",u))}}var zg=0;function p4(s,l){return s.stylesheets&&s.count===0&&jf(s,s.stylesheets),0<s.count||0<s.imgCount?function(u){var p=setTimeout(function(){if(s.stylesheets&&jf(s,s.stylesheets),s.unsuspend){var N=s.unsuspend;s.unsuspend=null,N()}},6e4+l);0<s.imgBytes&&zg===0&&(zg=62500*$C());var y=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&jf(s,s.stylesheets),s.unsuspend)){var N=s.unsuspend;s.unsuspend=null,N()}},(s.imgBytes>zg?50:800)+l);return s.unsuspend=u,function(){s.unsuspend=null,clearTimeout(p),clearTimeout(y)}}:null}function Sf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)jf(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Lf=null;function jf(s,l){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Lf=new Map,l.forEach(m4,s),Lf=null,Sf.call(s))}function m4(s,l){if(!(l.state.loading&4)){var u=Lf.get(s);if(u)var p=u.get(null);else{u=new Map,Lf.set(s,u);for(var y=s.querySelectorAll("link[data-precedence],style[data-precedence]"),N=0;N<y.length;N++){var P=y[N];(P.nodeName==="LINK"||P.getAttribute("media")!=="not all")&&(u.set(P.dataset.precedence,P),p=P)}p&&u.set(null,p)}y=l.instance,P=y.getAttribute("data-precedence"),N=u.get(P)||p,N===p&&u.set(null,y),u.set(P,y),this.count++,p=Sf.bind(this),y.addEventListener("load",p),y.addEventListener("error",p),N?N.parentNode.insertBefore(y,N.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(y,s.firstChild)),l.state.loading|=4}}var Kd={$$typeof:F,Provider:null,Consumer:null,_currentValue:z,_currentValue2:z,_threadCount:0};function g4(s,l,u,p,y,N,P,Ae,Ee){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Lr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lr(0),this.hiddenUpdates=Lr(null),this.identifierPrefix=p,this.onUncaughtError=y,this.onCaughtError=N,this.onRecoverableError=P,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Ee,this.incompleteTransitions=new Map}function oy(s,l,u,p,y,N,P,Ae,Ee,Ge,lt,mt){return s=new g4(s,l,u,P,Ee,Ge,lt,mt,Ae),l=1,N===!0&&(l|=24),N=Ws(3,null,null,l),s.current=N,N.stateNode=s,l=DA(),l.refCount++,s.pooledCache=l,l.refCount++,N.memoizedState={element:p,isDehydrated:u,cache:l},Pt(N),s}function ly(s){return s?(s=Os,s):Os}function Ay(s,l,u,p,y,N){y=ly(y),p.context===null?p.context=y:p.pendingContext=y,p=Sr(l),p.payload={element:u},N=N===void 0?null:N,N!==null&&(p.callback=N),u=$r(s,p,l),u!==null&&(Yi(u,s,l),En(u,s,l))}function cy(s,l){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<l?u:l}}function qg(s,l){cy(s,l),(s=s.alternate)&&cy(s,l)}function uy(s){if(s.tag===13||s.tag===31){var l=di(s,67108864);l!==null&&Yi(l,s,67108864),qg(s,67108864)}}function dy(s){if(s.tag===13||s.tag===31){var l=xo();l=je(l);var u=di(s,l);u!==null&&Yi(u,s,l),qg(s,l)}}var kf=!0;function x4(s,l,u,p){var y=Y.T;Y.T=null;var N=pe.p;try{pe.p=2,Kg(s,l,u,p)}finally{pe.p=N,Y.T=y}}function b4(s,l,u,p){var y=Y.T;Y.T=null;var N=pe.p;try{pe.p=8,Kg(s,l,u,p)}finally{pe.p=N,Y.T=y}}function Kg(s,l,u,p){if(kf){var y=Gg(p);if(y===null)kg(s,l,p,Uf,u),fy(s,p);else if(y4(y,s,l,u,p))p.stopPropagation();else if(fy(s,p),l&4&&-1<v4.indexOf(s)){for(;y!==null;){var N=Zs(y);if(N!==null)switch(N.tag){case 3:if(N=N.stateNode,N.current.memoizedState.isDehydrated){var P=We(N.pendingLanes);if(P!==0){var Ae=N;for(Ae.pendingLanes|=2,Ae.entangledLanes|=2;P;){var Ee=1<<31-Ut(P);Ae.entanglements[1]|=Ee,P&=~Ee}Rl(N),(Ln&6)===0&&(ff=Jt()+500,Dd(0))}}break;case 31:case 13:Ae=di(N,2),Ae!==null&&Yi(Ae,N,2),mf(),qg(N,2)}if(N=Gg(p),N===null&&kg(s,l,p,Uf,u),N===y)break;y=N}y!==null&&p.stopPropagation()}else kg(s,l,p,null,u)}}function Gg(s){return s=no(s),Vg(s)}var Uf=null;function Vg(s){if(Uf=null,s=fs(s),s!==null){var l=o(s);if(l===null)s=null;else{var u=l.tag;if(u===13){if(s=c(l),s!==null)return s;s=null}else if(u===31){if(s=d(l),s!==null)return s;s=null}else if(u===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;s=null}else l!==s&&(s=null)}}return Uf=s,null}function hy(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(mr()){case Yt:return 2;case ar:return 8;case cr:case Ht:return 32;case Vt:return 268435456;default:return 32}default:return 32}}var Zg=!1,JA=null,WA=null,ec=null,Gd=new Map,Vd=new Map,tc=[],v4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function fy(s,l){switch(s){case"focusin":case"focusout":JA=null;break;case"dragenter":case"dragleave":WA=null;break;case"mouseover":case"mouseout":ec=null;break;case"pointerover":case"pointerout":Gd.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vd.delete(l.pointerId)}}function Zd(s,l,u,p,y,N){return s===null||s.nativeEvent!==N?(s={blockedOn:l,domEventName:u,eventSystemFlags:p,nativeEvent:N,targetContainers:[y]},l!==null&&(l=Zs(l),l!==null&&uy(l)),s):(s.eventSystemFlags|=p,l=s.targetContainers,y!==null&&l.indexOf(y)===-1&&l.push(y),s)}function y4(s,l,u,p,y){switch(l){case"focusin":return JA=Zd(JA,s,l,u,p,y),!0;case"dragenter":return WA=Zd(WA,s,l,u,p,y),!0;case"mouseover":return ec=Zd(ec,s,l,u,p,y),!0;case"pointerover":var N=y.pointerId;return Gd.set(N,Zd(Gd.get(N)||null,s,l,u,p,y)),!0;case"gotpointercapture":return N=y.pointerId,Vd.set(N,Zd(Vd.get(N)||null,s,l,u,p,y)),!0}return!1}function py(s){var l=fs(s.target);if(l!==null){var u=o(l);if(u!==null){if(l=u.tag,l===13){if(l=c(u),l!==null){s.blockedOn=l,Ir(s.priority,function(){dy(u)});return}}else if(l===31){if(l=d(u),l!==null){s.blockedOn=l,Ir(s.priority,function(){dy(u)});return}}else if(l===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Tf(s){if(s.blockedOn!==null)return!1;for(var l=s.targetContainers;0<l.length;){var u=Gg(s.nativeEvent);if(u===null){u=s.nativeEvent;var p=new u.constructor(u.type,u);Ui=p,u.target.dispatchEvent(p),Ui=null}else return l=Zs(u),l!==null&&uy(l),s.blockedOn=u,!1;l.shift()}return!0}function my(s,l,u){Tf(s)&&u.delete(l)}function w4(){Zg=!1,JA!==null&&Tf(JA)&&(JA=null),WA!==null&&Tf(WA)&&(WA=null),ec!==null&&Tf(ec)&&(ec=null),Gd.forEach(my),Vd.forEach(my)}function Ff(s,l){s.blockedOn===l&&(s.blockedOn=null,Zg||(Zg=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,w4)))}var Qf=null;function gy(s){Qf!==s&&(Qf=s,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Qf===s&&(Qf=null);for(var l=0;l<s.length;l+=3){var u=s[l],p=s[l+1],y=s[l+2];if(typeof p!="function"){if(Vg(p||u)===null)continue;break}var N=Zs(u);N!==null&&(s.splice(l,3),l-=3,Gm(N,{pending:!0,data:y,method:u.method,action:p},p,y))}}))}function Eu(s){function l(Ee){return Ff(Ee,s)}JA!==null&&Ff(JA,s),WA!==null&&Ff(WA,s),ec!==null&&Ff(ec,s),Gd.forEach(l),Vd.forEach(l);for(var u=0;u<tc.length;u++){var p=tc[u];p.blockedOn===s&&(p.blockedOn=null)}for(;0<tc.length&&(u=tc[0],u.blockedOn===null);)py(u),u.blockedOn===null&&tc.shift();if(u=(s.ownerDocument||s).$$reactFormReplay,u!=null)for(p=0;p<u.length;p+=3){var y=u[p],N=u[p+1],P=y[Xr]||null;if(typeof N=="function")P||gy(u);else if(P){var Ae=null;if(N&&N.hasAttribute("formAction")){if(y=N,P=N[Xr]||null)Ae=P.formAction;else if(Vg(y)!==null)continue}else Ae=P.action;typeof Ae=="function"?u[p+1]=Ae:(u.splice(p,3),p-=3),gy(u)}}}function xy(){function s(N){N.canIntercept&&N.info==="react-transition"&&N.intercept({handler:function(){return new Promise(function(P){return y=P})},focusReset:"manual",scroll:"manual"})}function l(){y!==null&&(y(),y=null),p||setTimeout(u,20)}function u(){if(!p&&!navigation.transition){var N=navigation.currentEntry;N&&N.url!=null&&navigation.navigate(N.url,{state:N.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,y=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(u,100),function(){p=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),y!==null&&(y(),y=null)}}}function $g(s){this._internalRoot=s}If.prototype.render=$g.prototype.render=function(s){var l=this._internalRoot;if(l===null)throw Error(n(409));var u=l.current,p=xo();Ay(u,p,s,l,null,null)},If.prototype.unmount=$g.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var l=s.containerInfo;Ay(s.current,2,null,s,null,null),mf(),l[Fn]=null}};function If(s){this._internalRoot=s}If.prototype.unstable_scheduleHydration=function(s){if(s){var l=$t();s={blockedOn:null,target:s,priority:l};for(var u=0;u<tc.length&&l!==0&&l<tc[u].priority;u++);tc.splice(u,0,s),u===0&&py(s)}};var by=e.version;if(by!=="19.2.3")throw Error(n(527,by,"19.2.3"));pe.findDOMNode=function(s){var l=s._reactInternals;if(l===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=m(l),s=s!==null?g(s):null,s=s===null?null:s.stateNode,s};var _4={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Of=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Of.isDisabled&&Of.supportsFiber)try{et=Of.inject(_4),ft=Of}catch{}}return Yd.createRoot=function(s,l){if(!a(s))throw Error(n(299));var u=!1,p="",y=Cv,N=Ev,P=Sv;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(N=l.onCaughtError),l.onRecoverableError!==void 0&&(P=l.onRecoverableError)),l=oy(s,1,!1,null,null,u,p,null,y,N,P,xy),s[Fn]=l.current,jg(s),new $g(l)},Yd.hydrateRoot=function(s,l,u){if(!a(s))throw Error(n(299));var p=!1,y="",N=Cv,P=Ev,Ae=Sv,Ee=null;return u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onUncaughtError!==void 0&&(N=u.onUncaughtError),u.onCaughtError!==void 0&&(P=u.onCaughtError),u.onRecoverableError!==void 0&&(Ae=u.onRecoverableError),u.formState!==void 0&&(Ee=u.formState)),l=oy(s,1,!0,l,u??null,p,y,Ee,N,P,Ae,xy),l.context=ly(null),u=l.current,p=xo(),p=je(p),y=Sr(p),y.callback=null,$r(u,y,p),u=p,l.current.lanes=u,vt(l,u),Rl(l),s[Fn]=l.current,jg(s),new If(l)},Yd.version="19.2.3",Yd}var Ly;function F4(){if(Ly)return Jg.exports;Ly=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Jg.exports=T4(),Jg.exports}var Q4=F4();const I4=Rh(Q4);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),M4=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()),jy=r=>{const e=M4(r);return e.charAt(0).toUpperCase()+e.slice(1)},d5=(...r)=>r.filter((e,t,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===t).join(" ").trim(),D4=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var R4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P4=q.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:n,className:a="",children:o,iconNode:c,...d},h)=>q.createElement("svg",{ref:h,...R4,width:e,height:e,stroke:r,strokeWidth:n?Number(t)*24/Number(e):t,className:d5("lucide",a),...!o&&!D4(d)&&{"aria-hidden":"true"},...d},[...c.map(([m,g])=>q.createElement(m,g)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=(r,e)=>{const t=q.forwardRef(({className:n,...a},o)=>q.createElement(P4,{ref:o,iconNode:e,className:d5(`lucide-${O4(jy(r))}`,`lucide-${r}`,n),...a}));return t.displayName=jy(r),t};/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],dm=wt("activity",H4);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z4=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],h5=wt("arrow-down-right",z4);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q4=[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]],r0=wt("arrow-left-right",q4);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],G4=wt("arrow-right",K4);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],Lp=wt("arrow-up-right",V4);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],ky=wt("badge-check",Z4);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $4=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ch=wt("ban",$4);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y4=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],f5=wt("banknote",Y4);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]],xx=wt("barcode",X4);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J4=[["circle",{cx:"18.5",cy:"17.5",r:"3.5",key:"15x4ox"}],["circle",{cx:"5.5",cy:"17.5",r:"3.5",key:"1noe27"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["path",{d:"M12 17.5V14l-3-3 4-3 2 3h2",key:"1npguv"}]],Kp=wt("bike",J4);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W4=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],jp=wt("box",W4);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eE=[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],Uy=wt("calendar-clock",eE);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tE=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],hm=wt("calendar",tE);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rE=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],nE=wt("chart-column",rE);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sE=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],Ty=wt("chart-pie",sE);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aE=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],iE=wt("check-check",aE);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oE=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ac=wt("check",oE);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lE=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],_b=wt("chevron-right",lE);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],bx=wt("circle-alert",AE);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Yl=wt("circle-check",cE);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]],dE=wt("circle-dollar-sign",uE);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],n0=wt("circle-x",hE);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fE=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],Bb=wt("clipboard-check",fE);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pE=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Gp=wt("clipboard-list",pE);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mE=[["path",{d:"M12 6v6h4",key:"135r8i"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],gE=wt("clock-3",mE);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],cd=wt("clock",xE);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bE=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],vE=wt("coffee",bE);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],wE=wt("copy",yE);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _E=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],p5=wt("credit-card",_E);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BE=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],NE=wt("crown",BE);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CE=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5v14a9 3 0 0 0 18 0V5",key:"aqi0yr"}]],m5=wt("cylinder",CE);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EE=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],SE=wt("database",EE);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LE=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],g5=wt("dollar-sign",LE);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jE=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],kE=wt("external-link",jE);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UE=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],TE=wt("eye-off",UE);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FE=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],QE=wt("eye",FE);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IE=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"M3 19a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8.5a.5.5 0 0 0-.769-.422l-4.462 2.844A.5.5 0 0 1 15 10.5v-2a.5.5 0 0 0-.769-.422L9.77 10.922A.5.5 0 0 1 9 10.5V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2z",key:"1iv0i2"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],x5=wt("factory",IE);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OE=[["path",{d:"M16 22h2a2 2 0 0 0 2-2V8a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 14 2H6a2 2 0 0 0-2 2v2.85",key:"ryk6xj"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 14v2.2l1.6 1",key:"6m4bie"}],["circle",{cx:"8",cy:"16",r:"6",key:"10v15b"}]],b5=wt("file-clock",OE);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ME=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Eh=wt("file-text",ME);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DE=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],RE=wt("flame",DE);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PE=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],HE=wt("funnel",PE);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zE=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],qE=wt("hash",zE);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KE=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],GE=wt("heart",KE);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VE=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],ZE=wt("history",VE);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $E=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],YE=wt("image",$E);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XE=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],JE=wt("key",XE);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WE=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Fy=wt("layers",WE);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eS=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],tS=wt("layout-dashboard",eS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rS=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],Qy=wt("layout-grid",rS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nS=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],dl=wt("loader-circle",nS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sS=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],v5=wt("lock",sS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aS=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],y5=wt("log-out",aS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iS=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],jA=wt("map-pin",iS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oS=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],Nb=wt("map",oS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lS=[["path",{d:"M5 12h14",key:"1ays0h"}]],AS=wt("minus",lS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],uS=wt("monitor",cS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dS=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]],hS=wt("move",dS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],Iy=wt("navigation",fS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pS=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]],kp=wt("octagon-alert",pS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mS=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Zl=wt("package",mS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],fm=wt("palette",gS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Ph=wt("pen",xS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bS=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Cb=wt("pencil",bS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Eb=wt("phone",vS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yS=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Oy=wt("play",yS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Wi=wt("plus",wS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _S=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],BS=wt("power",_S);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NS=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],CS=wt("printer",NS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ES=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],SS=wt("receipt",ES);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LS=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],vx=wt("refresh-cw",LS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jS=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],kS=wt("repeat",jS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const US=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],TS=wt("rotate-ccw",US);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FS=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],qo=wt("save",FS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QS=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Xl=wt("search",QS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IS=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],hd=wt("settings",IS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OS=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],MS=wt("shield-alert",OS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DS=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],RS=wt("shield-check",DS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PS=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],HS=wt("shield",PS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zS=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],qS=wt("shopping-bag",zS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KS=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],My=wt("shopping-cart",KS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GS=[["path",{d:"M7 18v-6a5 5 0 1 1 10 0v6",key:"pcx96s"}],["path",{d:"M5 21a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-1a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2z",key:"1b4s83"}],["path",{d:"M21 12h1",key:"jtio3y"}],["path",{d:"M18.5 4.5 18 5",key:"g5sp9y"}],["path",{d:"M2 12h1",key:"1uaihz"}],["path",{d:"M12 2v1",key:"11qlp1"}],["path",{d:"m4.929 4.929.707.707",key:"1i51kw"}],["path",{d:"M12 12v6",key:"3ahymv"}]],Sb=wt("siren",GS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VS=[["path",{d:"M10 5H3",key:"1qgfaw"}],["path",{d:"M12 19H3",key:"yhmn1j"}],["path",{d:"M14 3v4",key:"1sua03"}],["path",{d:"M16 17v4",key:"1q0r14"}],["path",{d:"M21 12h-9",key:"1o4lsq"}],["path",{d:"M21 19h-5",key:"1rlt1p"}],["path",{d:"M21 5h-7",key:"1oszz2"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M8 12H3",key:"a7s4jb"}]],ZS=wt("sliders-horizontal",VS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $S=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],s0=wt("smartphone",$S);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YS=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],w5=wt("square-check-big",YS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XS=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],JS=wt("square",XS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WS=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],e3=wt("store",WS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t3=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],yx=wt("tag",t3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],n3=wt("target",r3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s3=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Gs=wt("trash-2",s3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a3=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],wx=wt("trending-down",a3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i3=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],ah=wt("trending-up",i3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Hc=wt("triangle-alert",o3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l3=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],No=wt("truck",l3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A3=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],c3=wt("user-check",A3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Dy=wt("user-plus",u3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d3=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Vp=wt("user",d3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],SA=wt("users",h3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f3=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],_x=wt("wallet",f3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p3=[["path",{d:"M18 21V10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v11",key:"pb2vm6"}],["path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 1.132-1.803l7.95-3.974a2 2 0 0 1 1.837 0l7.948 3.974A2 2 0 0 1 22 8z",key:"doq5xv"}],["path",{d:"M6 13h12",key:"yf64js"}],["path",{d:"M6 17h12",key:"1jwigz"}]],Fc=wt("warehouse",p3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m3=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],_5=wt("wifi-off",m3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g3=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],B5=wt("wifi",g3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x3=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Pn=wt("x",x3);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b3=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],v3=wt("zap",b3),zc=[{id:"nova-os",label:"O.S",icon:Gp,color:"text-purple-600",bgColor:"bg-purple-100"},{id:"clientes",label:"Clientes",icon:SA,color:"text-indigo-600",bgColor:"bg-indigo-100"},{id:"fechar-caixa",label:"Fechar Caixa",icon:f5,color:"text-green-600",bgColor:"bg-green-100"},{id:"financeiro",label:"Financeiro",icon:dE,color:"text-yellow-600",bgColor:"bg-yellow-100"},{id:"temas",label:"Temas",icon:fm,color:"text-pink-600",bgColor:"bg-pink-100"},{id:"painel",label:"Painel",icon:tS,color:"text-gray-600",bgColor:"bg-gray-100"},{id:"depositos-estoque",label:"Depsitos & Estoque",icon:Fc,color:"text-purple-600",bgColor:"bg-purple-100"},{id:"colaboradores",label:"Colaboradores",icon:SA,color:"text-indigo-600",bgColor:"bg-indigo-100"},{id:"rel-entregas",label:"Rel. Entregas",icon:No,color:"text-orange-500",bgColor:"bg-orange-100"},{id:"auditoria",label:"Auditoria",icon:Gp,color:"text-orange-400",bgColor:"bg-orange-50"},{id:"resumo",label:"Resumo",icon:nE,color:"text-blue-500",bgColor:"bg-blue-100"},{id:"alertas",label:"Alertas",icon:Sb,color:"text-red-500",bgColor:"bg-red-100"}],y3=({item:r,onClick:e,highlight:t})=>{const n=r.icon,a=t?"ring-4 ring-red-500/90 shadow-[0_0_30px_rgba(239,68,68,0.45)] border-red-400 animate-pulse":"";return i.jsxs("button",{onClick:()=>e(r.id),className:`group flex flex-col items-center justify-center p-6 bg-surface rounded-2xl shadow-sm border border-bdr hover:shadow-xl hover:border-slate-400 transition-all duration-300 ease-out transform hover:-translate-y-2 h-36 w-full relative overflow-hidden ${a}`,children:[i.jsx("div",{className:`absolute inset-0 opacity-0 group-hover:opacity-10 transition-opacity duration-500 bg-gradient-to-br ${r.bgColor.replace("bg-","from-")} to-transparent`}),i.jsx("div",{className:`p-3 rounded-full mb-3 ${r.bgColor} group-hover:scale-110 group-hover:rotate-3 transition-transform duration-300 z-10`,children:i.jsx(n,{className:`w-8 h-8 ${r.color}`,strokeWidth:2})}),i.jsx("span",{className:"text-txt-muted font-bold text-sm tracking-wide group-hover:text-txt-main z-10 transition-colors",children:r.label})]})};var ih={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var w3=ih.exports,Ry;function _3(){return Ry||(Ry=1,(function(r,e){(function(t,n){n(e)})(w3,(function(t){var n="1.9.4";function a(A){var f,v,E,D;for(v=1,E=arguments.length;v<E;v++){D=arguments[v];for(f in D)A[f]=D[f]}return A}var o=Object.create||(function(){function A(){}return function(f){return A.prototype=f,new A}})();function c(A,f){var v=Array.prototype.slice;if(A.bind)return A.bind.apply(A,v.call(arguments,1));var E=v.call(arguments,2);return function(){return A.apply(f,E.length?E.concat(v.call(arguments)):arguments)}}var d=0;function h(A){return"_leaflet_id"in A||(A._leaflet_id=++d),A._leaflet_id}function m(A,f,v){var E,D,ne,Ce;return Ce=function(){E=!1,D&&(ne.apply(v,D),D=!1)},ne=function(){E?D=arguments:(A.apply(v,arguments),setTimeout(Ce,f),E=!0)},ne}function g(A,f,v){var E=f[1],D=f[0],ne=E-D;return A===E&&v?A:((A-D)%ne+ne)%ne+D}function b(){return!1}function B(A,f){if(f===!1)return A;var v=Math.pow(10,f===void 0?6:f);return Math.round(A*v)/v}function _(A){return A.trim?A.trim():A.replace(/^\s+|\s+$/g,"")}function k(A){return _(A).split(/\s+/)}function j(A,f){Object.prototype.hasOwnProperty.call(A,"options")||(A.options=A.options?o(A.options):{});for(var v in f)A.options[v]=f[v];return A.options}function T(A,f,v){var E=[];for(var D in A)E.push(encodeURIComponent(v?D.toUpperCase():D)+"="+encodeURIComponent(A[D]));return(!f||f.indexOf("?")===-1?"?":"&")+E.join("&")}var C=/\{ *([\w_ -]+) *\}/g;function I(A,f){return A.replace(C,function(v,E){var D=f[E];if(D===void 0)throw new Error("No value provided for variable "+v);return typeof D=="function"&&(D=D(f)),D})}var F=Array.isArray||function(A){return Object.prototype.toString.call(A)==="[object Array]"};function R(A,f){for(var v=0;v<A.length;v++)if(A[v]===f)return v;return-1}var ae="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Z(A){return window["webkit"+A]||window["moz"+A]||window["ms"+A]}var me=0;function ee(A){var f=+new Date,v=Math.max(0,16-(f-me));return me=f+v,window.setTimeout(A,v)}var H=window.requestAnimationFrame||Z("RequestAnimationFrame")||ee,W=window.cancelAnimationFrame||Z("CancelAnimationFrame")||Z("CancelRequestAnimationFrame")||function(A){window.clearTimeout(A)};function K(A,f,v){if(v&&H===ee)A.call(f);else return H.call(window,c(A,f))}function $(A){A&&W.call(window,A)}var re={__proto__:null,extend:a,create:o,bind:c,get lastId(){return d},stamp:h,throttle:m,wrapNum:g,falseFn:b,formatNum:B,trim:_,splitWords:k,setOptions:j,getParamString:T,template:I,isArray:F,indexOf:R,emptyImageUrl:ae,requestFn:H,cancelFn:W,requestAnimFrame:K,cancelAnimFrame:$};function le(){}le.extend=function(A){var f=function(){j(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},v=f.__super__=this.prototype,E=o(v);E.constructor=f,f.prototype=E;for(var D in this)Object.prototype.hasOwnProperty.call(this,D)&&D!=="prototype"&&D!=="__super__"&&(f[D]=this[D]);return A.statics&&a(f,A.statics),A.includes&&(ge(A.includes),a.apply(null,[E].concat(A.includes))),a(E,A),delete E.statics,delete E.includes,E.options&&(E.options=v.options?o(v.options):{},a(E.options,A.options)),E._initHooks=[],E.callInitHooks=function(){if(!this._initHooksCalled){v.callInitHooks&&v.callInitHooks.call(this),this._initHooksCalled=!0;for(var ne=0,Ce=E._initHooks.length;ne<Ce;ne++)E._initHooks[ne].call(this)}},f},le.include=function(A){var f=this.prototype.options;return a(this.prototype,A),A.options&&(this.prototype.options=f,this.mergeOptions(A.options)),this},le.mergeOptions=function(A){return a(this.prototype.options,A),this},le.addInitHook=function(A){var f=Array.prototype.slice.call(arguments,1),v=typeof A=="function"?A:function(){this[A].apply(this,f)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(v),this};function ge(A){if(!(typeof L>"u"||!L||!L.Mixin)){A=F(A)?A:[A];for(var f=0;f<A.length;f++)A[f]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Y={on:function(A,f,v){if(typeof A=="object")for(var E in A)this._on(E,A[E],f);else{A=k(A);for(var D=0,ne=A.length;D<ne;D++)this._on(A[D],f,v)}return this},off:function(A,f,v){if(!arguments.length)delete this._events;else if(typeof A=="object")for(var E in A)this._off(E,A[E],f);else{A=k(A);for(var D=arguments.length===1,ne=0,Ce=A.length;ne<Ce;ne++)D?this._off(A[ne]):this._off(A[ne],f,v)}return this},_on:function(A,f,v,E){if(typeof f!="function"){console.warn("wrong listener type: "+typeof f);return}if(this._listens(A,f,v)===!1){v===this&&(v=void 0);var D={fn:f,ctx:v};E&&(D.once=!0),this._events=this._events||{},this._events[A]=this._events[A]||[],this._events[A].push(D)}},_off:function(A,f,v){var E,D,ne;if(this._events&&(E=this._events[A],!!E)){if(arguments.length===1){if(this._firingCount)for(D=0,ne=E.length;D<ne;D++)E[D].fn=b;delete this._events[A];return}if(typeof f!="function"){console.warn("wrong listener type: "+typeof f);return}var Ce=this._listens(A,f,v);if(Ce!==!1){var Ie=E[Ce];this._firingCount&&(Ie.fn=b,this._events[A]=E=E.slice()),E.splice(Ce,1)}}},fire:function(A,f,v){if(!this.listens(A,v))return this;var E=a({},f,{type:A,target:this,sourceTarget:f&&f.sourceTarget||this});if(this._events){var D=this._events[A];if(D){this._firingCount=this._firingCount+1||1;for(var ne=0,Ce=D.length;ne<Ce;ne++){var Ie=D[ne],Ve=Ie.fn;Ie.once&&this.off(A,Ve,Ie.ctx),Ve.call(Ie.ctx||this,E)}this._firingCount--}}return v&&this._propagateEvent(E),this},listens:function(A,f,v,E){typeof A!="string"&&console.warn('"string" type argument expected');var D=f;typeof f!="function"&&(E=!!f,D=void 0,v=void 0);var ne=this._events&&this._events[A];if(ne&&ne.length&&this._listens(A,D,v)!==!1)return!0;if(E){for(var Ce in this._eventParents)if(this._eventParents[Ce].listens(A,f,v,E))return!0}return!1},_listens:function(A,f,v){if(!this._events)return!1;var E=this._events[A]||[];if(!f)return!!E.length;v===this&&(v=void 0);for(var D=0,ne=E.length;D<ne;D++)if(E[D].fn===f&&E[D].ctx===v)return D;return!1},once:function(A,f,v){if(typeof A=="object")for(var E in A)this._on(E,A[E],f,!0);else{A=k(A);for(var D=0,ne=A.length;D<ne;D++)this._on(A[D],f,v,!0)}return this},addEventParent:function(A){return this._eventParents=this._eventParents||{},this._eventParents[h(A)]=A,this},removeEventParent:function(A){return this._eventParents&&delete this._eventParents[h(A)],this},_propagateEvent:function(A){for(var f in this._eventParents)this._eventParents[f].fire(A.type,a({layer:A.target,propagatedFrom:A.target},A),!0)}};Y.addEventListener=Y.on,Y.removeEventListener=Y.clearAllEventListeners=Y.off,Y.addOneTimeEventListener=Y.once,Y.fireEvent=Y.fire,Y.hasEventListeners=Y.listens;var pe=le.extend(Y);function z(A,f,v){this.x=v?Math.round(A):A,this.y=v?Math.round(f):f}var ve=Math.trunc||function(A){return A>0?Math.floor(A):Math.ceil(A)};z.prototype={clone:function(){return new z(this.x,this.y)},add:function(A){return this.clone()._add(we(A))},_add:function(A){return this.x+=A.x,this.y+=A.y,this},subtract:function(A){return this.clone()._subtract(we(A))},_subtract:function(A){return this.x-=A.x,this.y-=A.y,this},divideBy:function(A){return this.clone()._divideBy(A)},_divideBy:function(A){return this.x/=A,this.y/=A,this},multiplyBy:function(A){return this.clone()._multiplyBy(A)},_multiplyBy:function(A){return this.x*=A,this.y*=A,this},scaleBy:function(A){return new z(this.x*A.x,this.y*A.y)},unscaleBy:function(A){return new z(this.x/A.x,this.y/A.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ve(this.x),this.y=ve(this.y),this},distanceTo:function(A){A=we(A);var f=A.x-this.x,v=A.y-this.y;return Math.sqrt(f*f+v*v)},equals:function(A){return A=we(A),A.x===this.x&&A.y===this.y},contains:function(A){return A=we(A),Math.abs(A.x)<=Math.abs(this.x)&&Math.abs(A.y)<=Math.abs(this.y)},toString:function(){return"Point("+B(this.x)+", "+B(this.y)+")"}};function we(A,f,v){return A instanceof z?A:F(A)?new z(A[0],A[1]):A==null?A:typeof A=="object"&&"x"in A&&"y"in A?new z(A.x,A.y):new z(A,f,v)}function V(A,f){if(A)for(var v=f?[A,f]:A,E=0,D=v.length;E<D;E++)this.extend(v[E])}V.prototype={extend:function(A){var f,v;if(!A)return this;if(A instanceof z||typeof A[0]=="number"||"x"in A)f=v=we(A);else if(A=O(A),f=A.min,v=A.max,!f||!v)return this;return!this.min&&!this.max?(this.min=f.clone(),this.max=v.clone()):(this.min.x=Math.min(f.x,this.min.x),this.max.x=Math.max(v.x,this.max.x),this.min.y=Math.min(f.y,this.min.y),this.max.y=Math.max(v.y,this.max.y)),this},getCenter:function(A){return we((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,A)},getBottomLeft:function(){return we(this.min.x,this.max.y)},getTopRight:function(){return we(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(A){var f,v;return typeof A[0]=="number"||A instanceof z?A=we(A):A=O(A),A instanceof V?(f=A.min,v=A.max):f=v=A,f.x>=this.min.x&&v.x<=this.max.x&&f.y>=this.min.y&&v.y<=this.max.y},intersects:function(A){A=O(A);var f=this.min,v=this.max,E=A.min,D=A.max,ne=D.x>=f.x&&E.x<=v.x,Ce=D.y>=f.y&&E.y<=v.y;return ne&&Ce},overlaps:function(A){A=O(A);var f=this.min,v=this.max,E=A.min,D=A.max,ne=D.x>f.x&&E.x<v.x,Ce=D.y>f.y&&E.y<v.y;return ne&&Ce},isValid:function(){return!!(this.min&&this.max)},pad:function(A){var f=this.min,v=this.max,E=Math.abs(f.x-v.x)*A,D=Math.abs(f.y-v.y)*A;return O(we(f.x-E,f.y-D),we(v.x+E,v.y+D))},equals:function(A){return A?(A=O(A),this.min.equals(A.getTopLeft())&&this.max.equals(A.getBottomRight())):!1}};function O(A,f){return!A||A instanceof V?A:new V(A,f)}function G(A,f){if(A)for(var v=f?[A,f]:A,E=0,D=v.length;E<D;E++)this.extend(v[E])}G.prototype={extend:function(A){var f=this._southWest,v=this._northEast,E,D;if(A instanceof oe)E=A,D=A;else if(A instanceof G){if(E=A._southWest,D=A._northEast,!E||!D)return this}else return A?this.extend(ce(A)||Q(A)):this;return!f&&!v?(this._southWest=new oe(E.lat,E.lng),this._northEast=new oe(D.lat,D.lng)):(f.lat=Math.min(E.lat,f.lat),f.lng=Math.min(E.lng,f.lng),v.lat=Math.max(D.lat,v.lat),v.lng=Math.max(D.lng,v.lng)),this},pad:function(A){var f=this._southWest,v=this._northEast,E=Math.abs(f.lat-v.lat)*A,D=Math.abs(f.lng-v.lng)*A;return new G(new oe(f.lat-E,f.lng-D),new oe(v.lat+E,v.lng+D))},getCenter:function(){return new oe((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new oe(this.getNorth(),this.getWest())},getSouthEast:function(){return new oe(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(A){typeof A[0]=="number"||A instanceof oe||"lat"in A?A=ce(A):A=Q(A);var f=this._southWest,v=this._northEast,E,D;return A instanceof G?(E=A.getSouthWest(),D=A.getNorthEast()):E=D=A,E.lat>=f.lat&&D.lat<=v.lat&&E.lng>=f.lng&&D.lng<=v.lng},intersects:function(A){A=Q(A);var f=this._southWest,v=this._northEast,E=A.getSouthWest(),D=A.getNorthEast(),ne=D.lat>=f.lat&&E.lat<=v.lat,Ce=D.lng>=f.lng&&E.lng<=v.lng;return ne&&Ce},overlaps:function(A){A=Q(A);var f=this._southWest,v=this._northEast,E=A.getSouthWest(),D=A.getNorthEast(),ne=D.lat>f.lat&&E.lat<v.lat,Ce=D.lng>f.lng&&E.lng<v.lng;return ne&&Ce},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(A,f){return A?(A=Q(A),this._southWest.equals(A.getSouthWest(),f)&&this._northEast.equals(A.getNorthEast(),f)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Q(A,f){return A instanceof G?A:new G(A,f)}function oe(A,f,v){if(isNaN(A)||isNaN(f))throw new Error("Invalid LatLng object: ("+A+", "+f+")");this.lat=+A,this.lng=+f,v!==void 0&&(this.alt=+v)}oe.prototype={equals:function(A,f){if(!A)return!1;A=ce(A);var v=Math.max(Math.abs(this.lat-A.lat),Math.abs(this.lng-A.lng));return v<=(f===void 0?1e-9:f)},toString:function(A){return"LatLng("+B(this.lat,A)+", "+B(this.lng,A)+")"},distanceTo:function(A){return Se.distance(this,ce(A))},wrap:function(){return Se.wrapLatLng(this)},toBounds:function(A){var f=180*A/40075017,v=f/Math.cos(Math.PI/180*this.lat);return Q([this.lat-f,this.lng-v],[this.lat+f,this.lng+v])},clone:function(){return new oe(this.lat,this.lng,this.alt)}};function ce(A,f,v){return A instanceof oe?A:F(A)&&typeof A[0]!="object"?A.length===3?new oe(A[0],A[1],A[2]):A.length===2?new oe(A[0],A[1]):null:A==null?A:typeof A=="object"&&"lat"in A?new oe(A.lat,"lng"in A?A.lng:A.lon,A.alt):f===void 0?null:new oe(A,f,v)}var Be={latLngToPoint:function(A,f){var v=this.projection.project(A),E=this.scale(f);return this.transformation._transform(v,E)},pointToLatLng:function(A,f){var v=this.scale(f),E=this.transformation.untransform(A,v);return this.projection.unproject(E)},project:function(A){return this.projection.project(A)},unproject:function(A){return this.projection.unproject(A)},scale:function(A){return 256*Math.pow(2,A)},zoom:function(A){return Math.log(A/256)/Math.LN2},getProjectedBounds:function(A){if(this.infinite)return null;var f=this.projection.bounds,v=this.scale(A),E=this.transformation.transform(f.min,v),D=this.transformation.transform(f.max,v);return new V(E,D)},infinite:!1,wrapLatLng:function(A){var f=this.wrapLng?g(A.lng,this.wrapLng,!0):A.lng,v=this.wrapLat?g(A.lat,this.wrapLat,!0):A.lat,E=A.alt;return new oe(v,f,E)},wrapLatLngBounds:function(A){var f=A.getCenter(),v=this.wrapLatLng(f),E=f.lat-v.lat,D=f.lng-v.lng;if(E===0&&D===0)return A;var ne=A.getSouthWest(),Ce=A.getNorthEast(),Ie=new oe(ne.lat-E,ne.lng-D),Ve=new oe(Ce.lat-E,Ce.lng-D);return new G(Ie,Ve)}},Se=a({},Be,{wrapLng:[-180,180],R:6371e3,distance:function(A,f){var v=Math.PI/180,E=A.lat*v,D=f.lat*v,ne=Math.sin((f.lat-A.lat)*v/2),Ce=Math.sin((f.lng-A.lng)*v/2),Ie=ne*ne+Math.cos(E)*Math.cos(D)*Ce*Ce,Ve=2*Math.atan2(Math.sqrt(Ie),Math.sqrt(1-Ie));return this.R*Ve}}),Fe=6378137,He={R:Fe,MAX_LATITUDE:85.0511287798,project:function(A){var f=Math.PI/180,v=this.MAX_LATITUDE,E=Math.max(Math.min(v,A.lat),-v),D=Math.sin(E*f);return new z(this.R*A.lng*f,this.R*Math.log((1+D)/(1-D))/2)},unproject:function(A){var f=180/Math.PI;return new oe((2*Math.atan(Math.exp(A.y/this.R))-Math.PI/2)*f,A.x*f/this.R)},bounds:(function(){var A=Fe*Math.PI;return new V([-A,-A],[A,A])})()};function it(A,f,v,E){if(F(A)){this._a=A[0],this._b=A[1],this._c=A[2],this._d=A[3];return}this._a=A,this._b=f,this._c=v,this._d=E}it.prototype={transform:function(A,f){return this._transform(A.clone(),f)},_transform:function(A,f){return f=f||1,A.x=f*(this._a*A.x+this._b),A.y=f*(this._c*A.y+this._d),A},untransform:function(A,f){return f=f||1,new z((A.x/f-this._b)/this._a,(A.y/f-this._d)/this._c)}};function Re(A,f,v,E){return new it(A,f,v,E)}var _t=a({},Se,{code:"EPSG:3857",projection:He,transformation:(function(){var A=.5/(Math.PI*He.R);return Re(A,.5,-A,.5)})()}),It=a({},_t,{code:"EPSG:900913"});function he(A){return document.createElementNS("http://www.w3.org/2000/svg",A)}function ct(A,f){var v="",E,D,ne,Ce,Ie,Ve;for(E=0,ne=A.length;E<ne;E++){for(Ie=A[E],D=0,Ce=Ie.length;D<Ce;D++)Ve=Ie[D],v+=(D?"L":"M")+Ve.x+" "+Ve.y;v+=f?Me.svg?"z":"x":""}return v||"M0 0"}var yt=document.documentElement.style,qt="ActiveXObject"in window,$e=qt&&!document.addEventListener,Zt="msLaunchUri"in navigator&&!("documentMode"in document),Qt=je("webkit"),kt=je("android"),Kt=je("android 2")||je("android 3"),Jt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),mr=kt&&je("Google")&&Jt<537&&!("AudioNode"in window),Yt=!!window.opera,ar=!Zt&&je("chrome"),cr=je("gecko")&&!Qt&&!Yt&&!qt,Ht=!ar&&je("safari"),Vt=je("phantom"),Dt="OTransition"in yt,Ne=navigator.platform.indexOf("Win")===0,et=qt&&"transition"in yt,ft="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Kt,Lt="MozPerspective"in yt,Ut=!window.L_DISABLE_3D&&(et||ft||Lt)&&!Dt&&!Vt,Et=typeof orientation<"u"||je("mobile"),xr=Et&&Qt,Rt=Et&&ft,de=!window.PointerEvent&&window.MSPointerEvent,Ke=!!(window.PointerEvent||de),Ye="ontouchstart"in window||!!window.TouchEvent,We=!window.L_NO_TOUCH&&(Ye||Ke),tt=Et&&Yt,Tt=Et&&cr,zt=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Wt=(function(){var A=!1;try{var f=Object.defineProperty({},"passive",{get:function(){A=!0}});window.addEventListener("testPassiveEventSupport",b,f),window.removeEventListener("testPassiveEventSupport",b,f)}catch{}return A})(),Lr=(function(){return!!document.createElement("canvas").getContext})(),vt=!!(document.createElementNS&&he("svg").createSVGRect),Rr=!!vt&&(function(){var A=document.createElement("div");return A.innerHTML="<svg/>",(A.firstChild&&A.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),fr=!vt&&(function(){try{var A=document.createElement("div");A.innerHTML='<v:shape adj="1"/>';var f=A.firstChild;return f.style.behavior="url(#default#VML)",f&&typeof f.adj=="object"}catch{return!1}})(),pr=navigator.platform.indexOf("Mac")===0,Pr=navigator.platform.indexOf("Linux")===0;function je(A){return navigator.userAgent.toLowerCase().indexOf(A)>=0}var Me={ie:qt,ielt9:$e,edge:Zt,webkit:Qt,android:kt,android23:Kt,androidStock:mr,opera:Yt,chrome:ar,gecko:cr,safari:Ht,phantom:Vt,opera12:Dt,win:Ne,ie3d:et,webkit3d:ft,gecko3d:Lt,any3d:Ut,mobile:Et,mobileWebkit:xr,mobileWebkit3d:Rt,msPointer:de,pointer:Ke,touch:We,touchNative:Ye,mobileOpera:tt,mobileGecko:Tt,retina:zt,passiveEvents:Wt,canvas:Lr,svg:vt,vml:fr,inlineSvg:Rr,mac:pr,linux:Pr},$t=Me.msPointer?"MSPointerDown":"pointerdown",Ir=Me.msPointer?"MSPointerMove":"pointermove",jr=Me.msPointer?"MSPointerUp":"pointerup",Gr=Me.msPointer?"MSPointerCancel":"pointercancel",Xr={touchstart:$t,touchmove:Ir,touchend:jr,touchcancel:Gr},Fn={touchstart:pt,touchmove:se,touchend:se,touchcancel:se},wn={},Hn=!1;function jn(A,f,v){return f==="touchstart"&&Zs(),Fn[f]?(v=Fn[f].bind(this,v),A.addEventListener(Xr[f],v,!1),v):(console.warn("wrong event specified:",f),b)}function Ns(A,f,v){if(!Xr[f]){console.warn("wrong event specified:",f);return}A.removeEventListener(Xr[f],v,!1)}function wr(A){wn[A.pointerId]=A}function xa(A){wn[A.pointerId]&&(wn[A.pointerId]=A)}function fs(A){delete wn[A.pointerId]}function Zs(){Hn||(document.addEventListener($t,wr,!0),document.addEventListener(Ir,xa,!0),document.addEventListener(jr,fs,!0),document.addEventListener(Gr,fs,!0),Hn=!0)}function se(A,f){if(f.pointerType!==(f.MSPOINTER_TYPE_MOUSE||"mouse")){f.touches=[];for(var v in wn)f.touches.push(wn[v]);f.changedTouches=[f],A(f)}}function pt(A,f){f.MSPOINTER_TYPE_TOUCH&&f.pointerType===f.MSPOINTER_TYPE_TOUCH&&kn(f),se(A,f)}function bt(A){var f={},v,E;for(E in A)v=A[E],f[E]=v&&v.bind?v.bind(A):v;return A=f,f.type="dblclick",f.detail=2,f.isTrusted=!1,f._simulated=!0,f}var ut=200;function Gt(A,f){A.addEventListener("dblclick",f);var v=0,E;function D(ne){if(ne.detail!==1){E=ne.detail;return}if(!(ne.pointerType==="mouse"||ne.sourceCapabilities&&!ne.sourceCapabilities.firesTouchEvents)){var Ce=Ha(ne);if(!(Ce.some(function(Ve){return Ve instanceof HTMLLabelElement&&Ve.attributes.for})&&!Ce.some(function(Ve){return Ve instanceof HTMLInputElement||Ve instanceof HTMLSelectElement}))){var Ie=Date.now();Ie-v<=ut?(E++,E===2&&f(bt(ne))):E=1,v=Ie}}}return A.addEventListener("click",D),{dblclick:f,simDblclick:D}}function ur(A,f){A.removeEventListener("dblclick",f.dblclick),A.removeEventListener("click",f.simDblclick)}var Fr=Hr(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ln=Hr(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Fs=ln==="webkitTransition"||ln==="OTransition"?ln+"End":"transitionend";function ps(A){return typeof A=="string"?document.getElementById(A):A}function Cs(A,f){var v=A.style[f]||A.currentStyle&&A.currentStyle[f];if((!v||v==="auto")&&document.defaultView){var E=document.defaultView.getComputedStyle(A,null);v=E?E[f]:null}return v==="auto"?null:v}function br(A,f,v){var E=document.createElement(A);return E.className=f||"",v&&v.appendChild(E),E}function Qr(A){var f=A.parentNode;f&&f.removeChild(A)}function Jn(A){for(;A.firstChild;)A.removeChild(A.firstChild)}function _e(A){var f=A.parentNode;f&&f.lastChild!==A&&f.appendChild(A)}function nt(A){var f=A.parentNode;f&&f.firstChild!==A&&f.insertBefore(A,f.firstChild)}function Ft(A,f){if(A.classList!==void 0)return A.classList.contains(f);var v=St(A);return v.length>0&&new RegExp("(^|\\s)"+f+"(\\s|$)").test(v)}function rt(A,f){if(A.classList!==void 0)for(var v=k(f),E=0,D=v.length;E<D;E++)A.classList.add(v[E]);else if(!Ft(A,f)){var ne=St(A);Nt(A,(ne?ne+" ":"")+f)}}function Bt(A,f){A.classList!==void 0?A.classList.remove(f):Nt(A,_((" "+St(A)+" ").replace(" "+f+" "," ")))}function Nt(A,f){A.className.baseVal===void 0?A.className=f:A.className.baseVal=f}function St(A){return A.correspondingElement&&(A=A.correspondingElement),A.className.baseVal===void 0?A.className:A.className.baseVal}function nr(A,f){"opacity"in A.style?A.style.opacity=f:"filter"in A.style&&tn(A,f)}function tn(A,f){var v=!1,E="DXImageTransform.Microsoft.Alpha";try{v=A.filters.item(E)}catch{if(f===1)return}f=Math.round(f*100),v?(v.Enabled=f!==100,v.Opacity=f):A.style.filter+=" progid:"+E+"(opacity="+f+")"}function Hr(A){for(var f=document.documentElement.style,v=0;v<A.length;v++)if(A[v]in f)return A[v];return!1}function ss(A,f,v){var E=f||new z(0,0);A.style[Fr]=(Me.ie3d?"translate("+E.x+"px,"+E.y+"px)":"translate3d("+E.x+"px,"+E.y+"px,0)")+(v?" scale("+v+")":"")}function Cr(A,f){A._leaflet_pos=f,Me.any3d?ss(A,f):(A.style.left=f.x+"px",A.style.top=f.y+"px")}function la(A){return A._leaflet_pos||new z(0,0)}var si,$s,_i;if("onselectstart"in document)si=function(){jt(window,"selectstart",kn)},$s=function(){pn(window,"selectstart",kn)};else{var Co=Hr(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);si=function(){if(Co){var A=document.documentElement.style;_i=A[Co],A[Co]="none"}},$s=function(){Co&&(document.documentElement.style[Co]=_i,_i=void 0)}}function bl(){jt(window,"dragstart",kn)}function Go(){pn(window,"dragstart",kn)}var Eo,vl;function Aa(A){for(;A.tabIndex===-1;)A=A.parentNode;A.style&&(ka(),Eo=A,vl=A.style.outlineStyle,A.style.outlineStyle="none",jt(window,"keydown",ka))}function ka(){Eo&&(Eo.style.outlineStyle=vl,Eo=void 0,vl=void 0,pn(window,"keydown",ka))}function Ui(A){do A=A.parentNode;while((!A.offsetWidth||!A.offsetHeight)&&A!==document.body);return A}function no(A){var f=A.getBoundingClientRect();return{x:f.width/A.offsetWidth||1,y:f.height/A.offsetHeight||1,boundingClientRect:f}}var So={__proto__:null,TRANSFORM:Fr,TRANSITION:ln,TRANSITION_END:Fs,get:ps,getStyle:Cs,create:br,remove:Qr,empty:Jn,toFront:_e,toBack:nt,hasClass:Ft,addClass:rt,removeClass:Bt,setClass:Nt,getClass:St,setOpacity:nr,testProp:Hr,setTransform:ss,setPosition:Cr,getPosition:la,get disableTextSelection(){return si},get enableTextSelection(){return $s},disableImageDrag:bl,enableImageDrag:Go,preventOutline:Aa,restoreOutline:ka,getSizedParentNode:Ui,getScale:no};function jt(A,f,v,E){if(f&&typeof f=="object")for(var D in f)Es(A,D,f[D],v);else{f=k(f);for(var ne=0,Ce=f.length;ne<Ce;ne++)Es(A,f[ne],v,E)}return this}var Ra="_leaflet_events";function pn(A,f,v,E){if(arguments.length===1)tA(A),delete A[Ra];else if(f&&typeof f=="object")for(var D in f)Vo(A,D,f[D],v);else if(f=k(f),arguments.length===2)tA(A,function(Ie){return R(f,Ie)!==-1});else for(var ne=0,Ce=f.length;ne<Ce;ne++)Vo(A,f[ne],v,E);return this}function tA(A,f){for(var v in A[Ra]){var E=v.split(/\d/)[0];(!f||f(E))&&Vo(A,E,null,null,v)}}var ba={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Es(A,f,v,E){var D=f+h(v)+(E?"_"+h(E):"");if(A[Ra]&&A[Ra][D])return this;var ne=function(Ie){return v.call(E||A,Ie||window.event)},Ce=ne;!Me.touchNative&&Me.pointer&&f.indexOf("touch")===0?ne=jn(A,f,ne):Me.touch&&f==="dblclick"?ne=Gt(A,ne):"addEventListener"in A?f==="touchstart"||f==="touchmove"||f==="wheel"||f==="mousewheel"?A.addEventListener(ba[f]||f,ne,Me.passiveEvents?{passive:!1}:!1):f==="mouseenter"||f==="mouseleave"?(ne=function(Ie){Ie=Ie||window.event,ai(A,Ie)&&Ce(Ie)},A.addEventListener(ba[f],ne,!1)):A.addEventListener(f,Ce,!1):A.attachEvent("on"+f,ne),A[Ra]=A[Ra]||{},A[Ra][D]=ne}function Vo(A,f,v,E,D){D=D||f+h(v)+(E?"_"+h(E):"");var ne=A[Ra]&&A[Ra][D];if(!ne)return this;!Me.touchNative&&Me.pointer&&f.indexOf("touch")===0?Ns(A,f,ne):Me.touch&&f==="dblclick"?ur(A,ne):"removeEventListener"in A?A.removeEventListener(ba[f]||f,ne,!1):A.detachEvent("on"+f,ne),A[Ra][D]=null}function Pa(A){return A.stopPropagation?A.stopPropagation():A.originalEvent?A.originalEvent._stopped=!0:A.cancelBubble=!0,this}function va(A){return Es(A,"wheel",Pa),this}function Bi(A){return jt(A,"mousedown touchstart dblclick contextmenu",Pa),A._leaflet_disable_click=!0,this}function kn(A){return A.preventDefault?A.preventDefault():A.returnValue=!1,this}function Ti(A){return kn(A),Pa(A),this}function Ha(A){if(A.composedPath)return A.composedPath();for(var f=[],v=A.target;v;)f.push(v),v=v.parentNode;return f}function Zo(A,f){if(!f)return new z(A.clientX,A.clientY);var v=no(f),E=v.boundingClientRect;return new z((A.clientX-E.left)/v.x-f.clientLeft,(A.clientY-E.top)/v.y-f.clientTop)}var yl=Me.linux&&Me.chrome?window.devicePixelRatio:Me.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Ss(A){return Me.edge?A.wheelDeltaY/2:A.deltaY&&A.deltaMode===0?-A.deltaY/yl:A.deltaY&&A.deltaMode===1?-A.deltaY*20:A.deltaY&&A.deltaMode===2?-A.deltaY*60:A.deltaX||A.deltaZ?0:A.wheelDelta?(A.wheelDeltaY||A.wheelDelta)/2:A.detail&&Math.abs(A.detail)<32765?-A.detail*20:A.detail?A.detail/-32765*60:0}function ai(A,f){var v=f.relatedTarget;if(!v)return!0;try{for(;v&&v!==A;)v=v.parentNode}catch{return!1}return v!==A}var ii={__proto__:null,on:jt,off:pn,stopPropagation:Pa,disableScrollPropagation:va,disableClickPropagation:Bi,preventDefault:kn,stop:Ti,getPropagationPath:Ha,getMousePosition:Zo,getWheelDelta:Ss,isExternalTarget:ai,addListener:jt,removeListener:pn},Fi=pe.extend({run:function(A,f,v,E){this.stop(),this._el=A,this._inProgress=!0,this._duration=v||.25,this._easeOutPower=1/Math.max(E||.5,.2),this._startPos=la(A),this._offset=f.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=K(this._animate,this),this._step()},_step:function(A){var f=+new Date-this._startTime,v=this._duration*1e3;f<v?this._runFrame(this._easeOut(f/v),A):(this._runFrame(1),this._complete())},_runFrame:function(A,f){var v=this._startPos.add(this._offset.multiplyBy(A));f&&v._round(),Cr(this._el,v),this.fire("step")},_complete:function(){$(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(A){return 1-Math.pow(1-A,this._easeOutPower)}}),Vr=pe.extend({options:{crs:_t,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(A,f){f=j(this,f),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(A),this._initLayout(),this._onResize=c(this._onResize,this),this._initEvents(),f.maxBounds&&this.setMaxBounds(f.maxBounds),f.zoom!==void 0&&(this._zoom=this._limitZoom(f.zoom)),f.center&&f.zoom!==void 0&&this.setView(ce(f.center),f.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ln&&Me.any3d&&!Me.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),jt(this._proxy,Fs,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(A,f,v){if(f=f===void 0?this._zoom:this._limitZoom(f),A=this._limitCenter(ce(A),f,this.options.maxBounds),v=v||{},this._stop(),this._loaded&&!v.reset&&v!==!0){v.animate!==void 0&&(v.zoom=a({animate:v.animate},v.zoom),v.pan=a({animate:v.animate,duration:v.duration},v.pan));var E=this._zoom!==f?this._tryAnimatedZoom&&this._tryAnimatedZoom(A,f,v.zoom):this._tryAnimatedPan(A,v.pan);if(E)return clearTimeout(this._sizeTimer),this}return this._resetView(A,f,v.pan&&v.pan.noMoveStart),this},setZoom:function(A,f){return this._loaded?this.setView(this.getCenter(),A,{zoom:f}):(this._zoom=A,this)},zoomIn:function(A,f){return A=A||(Me.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+A,f)},zoomOut:function(A,f){return A=A||(Me.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-A,f)},setZoomAround:function(A,f,v){var E=this.getZoomScale(f),D=this.getSize().divideBy(2),ne=A instanceof z?A:this.latLngToContainerPoint(A),Ce=ne.subtract(D).multiplyBy(1-1/E),Ie=this.containerPointToLatLng(D.add(Ce));return this.setView(Ie,f,{zoom:v})},_getBoundsCenterZoom:function(A,f){f=f||{},A=A.getBounds?A.getBounds():Q(A);var v=we(f.paddingTopLeft||f.padding||[0,0]),E=we(f.paddingBottomRight||f.padding||[0,0]),D=this.getBoundsZoom(A,!1,v.add(E));if(D=typeof f.maxZoom=="number"?Math.min(f.maxZoom,D):D,D===1/0)return{center:A.getCenter(),zoom:D};var ne=E.subtract(v).divideBy(2),Ce=this.project(A.getSouthWest(),D),Ie=this.project(A.getNorthEast(),D),Ve=this.unproject(Ce.add(Ie).divideBy(2).add(ne),D);return{center:Ve,zoom:D}},fitBounds:function(A,f){if(A=Q(A),!A.isValid())throw new Error("Bounds are not valid.");var v=this._getBoundsCenterZoom(A,f);return this.setView(v.center,v.zoom,f)},fitWorld:function(A){return this.fitBounds([[-90,-180],[90,180]],A)},panTo:function(A,f){return this.setView(A,this._zoom,{pan:f})},panBy:function(A,f){if(A=we(A).round(),f=f||{},!A.x&&!A.y)return this.fire("moveend");if(f.animate!==!0&&!this.getSize().contains(A))return this._resetView(this.unproject(this.project(this.getCenter()).add(A)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Fi,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),f.noMoveStart||this.fire("movestart"),f.animate!==!1){rt(this._mapPane,"leaflet-pan-anim");var v=this._getMapPanePos().subtract(A).round();this._panAnim.run(this._mapPane,v,f.duration||.25,f.easeLinearity)}else this._rawPanBy(A),this.fire("move").fire("moveend");return this},flyTo:function(A,f,v){if(v=v||{},v.animate===!1||!Me.any3d)return this.setView(A,f,v);this._stop();var E=this.project(this.getCenter()),D=this.project(A),ne=this.getSize(),Ce=this._zoom;A=ce(A),f=f===void 0?Ce:f;var Ie=Math.max(ne.x,ne.y),Ve=Ie*this.getZoomScale(Ce,f),dt=D.distanceTo(E)||1,Mt=1.42,lr=Mt*Mt;function Zr(Bn){var bs=Bn?-1:1,el=Bn?Ve:Ie,yc=Ve*Ve-Ie*Ie+bs*lr*lr*dt*dt,jl=2*el*lr*dt,kl=yc/jl,po=Math.sqrt(kl*kl+1)-kl,zi=po<1e-9?-18:Math.log(po);return zi}function ea(Bn){return(Math.exp(Bn)-Math.exp(-Bn))/2}function ls(Bn){return(Math.exp(Bn)+Math.exp(-Bn))/2}function Ya(Bn){return ea(Bn)/ls(Bn)}var mn=Zr(0);function gn(Bn){return Ie*(ls(mn)/ls(mn+Mt*Bn))}function en(Bn){return Ie*(ls(mn)*Ya(mn+Mt*Bn)-ea(mn))/lr}function Na(Bn){return 1-Math.pow(1-Bn,1.5)}var ts=Date.now(),hi=(Zr(1)-mn)/Mt,Fo=v.duration?1e3*v.duration:1e3*hi*.8;function OA(){var Bn=(Date.now()-ts)/Fo,bs=Na(Bn)*hi;Bn<=1?(this._flyToFrame=K(OA,this),this._move(this.unproject(E.add(D.subtract(E).multiplyBy(en(bs)/dt)),Ce),this.getScaleZoom(Ie/gn(bs),Ce),{flyTo:!0})):this._move(A,f)._moveEnd(!0)}return this._moveStart(!0,v.noMoveStart),OA.call(this),this},flyToBounds:function(A,f){var v=this._getBoundsCenterZoom(A,f);return this.flyTo(v.center,v.zoom,f)},setMaxBounds:function(A){return A=Q(A),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),A.isValid()?(this.options.maxBounds=A,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(A){var f=this.options.minZoom;return this.options.minZoom=A,this._loaded&&f!==A&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(A):this},setMaxZoom:function(A){var f=this.options.maxZoom;return this.options.maxZoom=A,this._loaded&&f!==A&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(A):this},panInsideBounds:function(A,f){this._enforcingBounds=!0;var v=this.getCenter(),E=this._limitCenter(v,this._zoom,Q(A));return v.equals(E)||this.panTo(E,f),this._enforcingBounds=!1,this},panInside:function(A,f){f=f||{};var v=we(f.paddingTopLeft||f.padding||[0,0]),E=we(f.paddingBottomRight||f.padding||[0,0]),D=this.project(this.getCenter()),ne=this.project(A),Ce=this.getPixelBounds(),Ie=O([Ce.min.add(v),Ce.max.subtract(E)]),Ve=Ie.getSize();if(!Ie.contains(ne)){this._enforcingBounds=!0;var dt=ne.subtract(Ie.getCenter()),Mt=Ie.extend(ne).getSize().subtract(Ve);D.x+=dt.x<0?-Mt.x:Mt.x,D.y+=dt.y<0?-Mt.y:Mt.y,this.panTo(this.unproject(D),f),this._enforcingBounds=!1}return this},invalidateSize:function(A){if(!this._loaded)return this;A=a({animate:!1,pan:!0},A===!0?{animate:!0}:A);var f=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var v=this.getSize(),E=f.divideBy(2).round(),D=v.divideBy(2).round(),ne=E.subtract(D);return!ne.x&&!ne.y?this:(A.animate&&A.pan?this.panBy(ne):(A.pan&&this._rawPanBy(ne),this.fire("move"),A.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(c(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:f,newSize:v}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(A){if(A=this._locateOptions=a({timeout:1e4,watch:!1},A),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var f=c(this._handleGeolocationResponse,this),v=c(this._handleGeolocationError,this);return A.watch?this._locationWatchId=navigator.geolocation.watchPosition(f,v,A):navigator.geolocation.getCurrentPosition(f,v,A),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(A){if(this._container._leaflet_id){var f=A.code,v=A.message||(f===1?"permission denied":f===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:f,message:"Geolocation error: "+v+"."})}},_handleGeolocationResponse:function(A){if(this._container._leaflet_id){var f=A.coords.latitude,v=A.coords.longitude,E=new oe(f,v),D=E.toBounds(A.coords.accuracy*2),ne=this._locateOptions;if(ne.setView){var Ce=this.getBoundsZoom(D);this.setView(E,ne.maxZoom?Math.min(Ce,ne.maxZoom):Ce)}var Ie={latlng:E,bounds:D,timestamp:A.timestamp};for(var Ve in A.coords)typeof A.coords[Ve]=="number"&&(Ie[Ve]=A.coords[Ve]);this.fire("locationfound",Ie)}},addHandler:function(A,f){if(!f)return this;var v=this[A]=new f(this);return this._handlers.push(v),this.options[A]&&v.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Qr(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&($(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var A;for(A in this._layers)this._layers[A].remove();for(A in this._panes)Qr(this._panes[A]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(A,f){var v="leaflet-pane"+(A?" leaflet-"+A.replace("Pane","")+"-pane":""),E=br("div",v,f||this._mapPane);return A&&(this._panes[A]=E),E},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var A=this.getPixelBounds(),f=this.unproject(A.getBottomLeft()),v=this.unproject(A.getTopRight());return new G(f,v)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(A,f,v){A=Q(A),v=we(v||[0,0]);var E=this.getZoom()||0,D=this.getMinZoom(),ne=this.getMaxZoom(),Ce=A.getNorthWest(),Ie=A.getSouthEast(),Ve=this.getSize().subtract(v),dt=O(this.project(Ie,E),this.project(Ce,E)).getSize(),Mt=Me.any3d?this.options.zoomSnap:1,lr=Ve.x/dt.x,Zr=Ve.y/dt.y,ea=f?Math.max(lr,Zr):Math.min(lr,Zr);return E=this.getScaleZoom(ea,E),Mt&&(E=Math.round(E/(Mt/100))*(Mt/100),E=f?Math.ceil(E/Mt)*Mt:Math.floor(E/Mt)*Mt),Math.max(D,Math.min(ne,E))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new z(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(A,f){var v=this._getTopLeftPoint(A,f);return new V(v,v.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(A){return this.options.crs.getProjectedBounds(A===void 0?this.getZoom():A)},getPane:function(A){return typeof A=="string"?this._panes[A]:A},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(A,f){var v=this.options.crs;return f=f===void 0?this._zoom:f,v.scale(A)/v.scale(f)},getScaleZoom:function(A,f){var v=this.options.crs;f=f===void 0?this._zoom:f;var E=v.zoom(A*v.scale(f));return isNaN(E)?1/0:E},project:function(A,f){return f=f===void 0?this._zoom:f,this.options.crs.latLngToPoint(ce(A),f)},unproject:function(A,f){return f=f===void 0?this._zoom:f,this.options.crs.pointToLatLng(we(A),f)},layerPointToLatLng:function(A){var f=we(A).add(this.getPixelOrigin());return this.unproject(f)},latLngToLayerPoint:function(A){var f=this.project(ce(A))._round();return f._subtract(this.getPixelOrigin())},wrapLatLng:function(A){return this.options.crs.wrapLatLng(ce(A))},wrapLatLngBounds:function(A){return this.options.crs.wrapLatLngBounds(Q(A))},distance:function(A,f){return this.options.crs.distance(ce(A),ce(f))},containerPointToLayerPoint:function(A){return we(A).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(A){return we(A).add(this._getMapPanePos())},containerPointToLatLng:function(A){var f=this.containerPointToLayerPoint(we(A));return this.layerPointToLatLng(f)},latLngToContainerPoint:function(A){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ce(A)))},mouseEventToContainerPoint:function(A){return Zo(A,this._container)},mouseEventToLayerPoint:function(A){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(A))},mouseEventToLatLng:function(A){return this.layerPointToLatLng(this.mouseEventToLayerPoint(A))},_initContainer:function(A){var f=this._container=ps(A);if(f){if(f._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");jt(f,"scroll",this._onScroll,this),this._containerId=h(f)},_initLayout:function(){var A=this._container;this._fadeAnimated=this.options.fadeAnimation&&Me.any3d,rt(A,"leaflet-container"+(Me.touch?" leaflet-touch":"")+(Me.retina?" leaflet-retina":"")+(Me.ielt9?" leaflet-oldie":"")+(Me.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var f=Cs(A,"position");f!=="absolute"&&f!=="relative"&&f!=="fixed"&&f!=="sticky"&&(A.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var A=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Cr(this._mapPane,new z(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(rt(A.markerPane,"leaflet-zoom-hide"),rt(A.shadowPane,"leaflet-zoom-hide"))},_resetView:function(A,f,v){Cr(this._mapPane,new z(0,0));var E=!this._loaded;this._loaded=!0,f=this._limitZoom(f),this.fire("viewprereset");var D=this._zoom!==f;this._moveStart(D,v)._move(A,f)._moveEnd(D),this.fire("viewreset"),E&&this.fire("load")},_moveStart:function(A,f){return A&&this.fire("zoomstart"),f||this.fire("movestart"),this},_move:function(A,f,v,E){f===void 0&&(f=this._zoom);var D=this._zoom!==f;return this._zoom=f,this._lastCenter=A,this._pixelOrigin=this._getNewPixelOrigin(A),E?v&&v.pinch&&this.fire("zoom",v):((D||v&&v.pinch)&&this.fire("zoom",v),this.fire("move",v)),this},_moveEnd:function(A){return A&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return $(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(A){Cr(this._mapPane,this._getMapPanePos().subtract(A))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(A){this._targets={},this._targets[h(this._container)]=this;var f=A?pn:jt;f(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&f(window,"resize",this._onResize,this),Me.any3d&&this.options.transform3DLimit&&(A?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){$(this._resizeRequest),this._resizeRequest=K(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var A=this._getMapPanePos();Math.max(Math.abs(A.x),Math.abs(A.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(A,f){for(var v=[],E,D=f==="mouseout"||f==="mouseover",ne=A.target||A.srcElement,Ce=!1;ne;){if(E=this._targets[h(ne)],E&&(f==="click"||f==="preclick")&&this._draggableMoved(E)){Ce=!0;break}if(E&&E.listens(f,!0)&&(D&&!ai(ne,A)||(v.push(E),D))||ne===this._container)break;ne=ne.parentNode}return!v.length&&!Ce&&!D&&this.listens(f,!0)&&(v=[this]),v},_isClickDisabled:function(A){for(;A&&A!==this._container;){if(A._leaflet_disable_click)return!0;A=A.parentNode}},_handleDOMEvent:function(A){var f=A.target||A.srcElement;if(!(!this._loaded||f._leaflet_disable_events||A.type==="click"&&this._isClickDisabled(f))){var v=A.type;v==="mousedown"&&Aa(f),this._fireDOMEvent(A,v)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(A,f,v){if(A.type==="click"){var E=a({},A);E.type="preclick",this._fireDOMEvent(E,E.type,v)}var D=this._findEventTargets(A,f);if(v){for(var ne=[],Ce=0;Ce<v.length;Ce++)v[Ce].listens(f,!0)&&ne.push(v[Ce]);D=ne.concat(D)}if(D.length){f==="contextmenu"&&kn(A);var Ie=D[0],Ve={originalEvent:A};if(A.type!=="keypress"&&A.type!=="keydown"&&A.type!=="keyup"){var dt=Ie.getLatLng&&(!Ie._radius||Ie._radius<=10);Ve.containerPoint=dt?this.latLngToContainerPoint(Ie.getLatLng()):this.mouseEventToContainerPoint(A),Ve.layerPoint=this.containerPointToLayerPoint(Ve.containerPoint),Ve.latlng=dt?Ie.getLatLng():this.layerPointToLatLng(Ve.layerPoint)}for(Ce=0;Ce<D.length;Ce++)if(D[Ce].fire(f,Ve,!0),Ve.originalEvent._stopped||D[Ce].options.bubblingMouseEvents===!1&&R(this._mouseEvents,f)!==-1)return}},_draggableMoved:function(A){return A=A.dragging&&A.dragging.enabled()?A:this,A.dragging&&A.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var A=0,f=this._handlers.length;A<f;A++)this._handlers[A].disable()},whenReady:function(A,f){return this._loaded?A.call(f||this,{target:this}):this.on("load",A,f),this},_getMapPanePos:function(){return la(this._mapPane)||new z(0,0)},_moved:function(){var A=this._getMapPanePos();return A&&!A.equals([0,0])},_getTopLeftPoint:function(A,f){var v=A&&f!==void 0?this._getNewPixelOrigin(A,f):this.getPixelOrigin();return v.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(A,f){var v=this.getSize()._divideBy(2);return this.project(A,f)._subtract(v)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(A,f,v){var E=this._getNewPixelOrigin(v,f);return this.project(A,f)._subtract(E)},_latLngBoundsToNewLayerBounds:function(A,f,v){var E=this._getNewPixelOrigin(v,f);return O([this.project(A.getSouthWest(),f)._subtract(E),this.project(A.getNorthWest(),f)._subtract(E),this.project(A.getSouthEast(),f)._subtract(E),this.project(A.getNorthEast(),f)._subtract(E)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(A){return this.latLngToLayerPoint(A).subtract(this._getCenterLayerPoint())},_limitCenter:function(A,f,v){if(!v)return A;var E=this.project(A,f),D=this.getSize().divideBy(2),ne=new V(E.subtract(D),E.add(D)),Ce=this._getBoundsOffset(ne,v,f);return Math.abs(Ce.x)<=1&&Math.abs(Ce.y)<=1?A:this.unproject(E.add(Ce),f)},_limitOffset:function(A,f){if(!f)return A;var v=this.getPixelBounds(),E=new V(v.min.add(A),v.max.add(A));return A.add(this._getBoundsOffset(E,f))},_getBoundsOffset:function(A,f,v){var E=O(this.project(f.getNorthEast(),v),this.project(f.getSouthWest(),v)),D=E.min.subtract(A.min),ne=E.max.subtract(A.max),Ce=this._rebound(D.x,-ne.x),Ie=this._rebound(D.y,-ne.y);return new z(Ce,Ie)},_rebound:function(A,f){return A+f>0?Math.round(A-f)/2:Math.max(0,Math.ceil(A))-Math.max(0,Math.floor(f))},_limitZoom:function(A){var f=this.getMinZoom(),v=this.getMaxZoom(),E=Me.any3d?this.options.zoomSnap:1;return E&&(A=Math.round(A/E)*E),Math.max(f,Math.min(v,A))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Bt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(A,f){var v=this._getCenterOffset(A)._trunc();return(f&&f.animate)!==!0&&!this.getSize().contains(v)?!1:(this.panBy(v,f),!0)},_createAnimProxy:function(){var A=this._proxy=br("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(A),this.on("zoomanim",function(f){var v=Fr,E=this._proxy.style[v];ss(this._proxy,this.project(f.center,f.zoom),this.getZoomScale(f.zoom,1)),E===this._proxy.style[v]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Qr(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var A=this.getCenter(),f=this.getZoom();ss(this._proxy,this.project(A,f),this.getZoomScale(f,1))},_catchTransitionEnd:function(A){this._animatingZoom&&A.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(A,f,v){if(this._animatingZoom)return!0;if(v=v||{},!this._zoomAnimated||v.animate===!1||this._nothingToAnimate()||Math.abs(f-this._zoom)>this.options.zoomAnimationThreshold)return!1;var E=this.getZoomScale(f),D=this._getCenterOffset(A)._divideBy(1-1/E);return v.animate!==!0&&!this.getSize().contains(D)?!1:(K(function(){this._moveStart(!0,v.noMoveStart||!1)._animateZoom(A,f,!0)},this),!0)},_animateZoom:function(A,f,v,E){this._mapPane&&(v&&(this._animatingZoom=!0,this._animateToCenter=A,this._animateToZoom=f,rt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:A,zoom:f,noUpdate:E}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(c(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Bt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function $o(A,f){return new Vr(A,f)}var Ls=le.extend({options:{position:"topright"},initialize:function(A){j(this,A)},getPosition:function(){return this.options.position},setPosition:function(A){var f=this._map;return f&&f.removeControl(this),this.options.position=A,f&&f.addControl(this),this},getContainer:function(){return this._container},addTo:function(A){this.remove(),this._map=A;var f=this._container=this.onAdd(A),v=this.getPosition(),E=A._controlCorners[v];return rt(f,"leaflet-control"),v.indexOf("bottom")!==-1?E.insertBefore(f,E.firstChild):E.appendChild(f),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Qr(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(A){this._map&&A&&A.screenX>0&&A.screenY>0&&this._map.getContainer().focus()}}),za=function(A){return new Ls(A)};Vr.include({addControl:function(A){return A.addTo(this),this},removeControl:function(A){return A.remove(),this},_initControlPos:function(){var A=this._controlCorners={},f="leaflet-",v=this._controlContainer=br("div",f+"control-container",this._container);function E(D,ne){var Ce=f+D+" "+f+ne;A[D+ne]=br("div",Ce,v)}E("top","left"),E("top","right"),E("bottom","left"),E("bottom","right")},_clearControlPos:function(){for(var A in this._controlCorners)Qr(this._controlCorners[A]);Qr(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Lo=Ls.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(A,f,v,E){return v<E?-1:E<v?1:0}},initialize:function(A,f,v){j(this,v),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var E in A)this._addLayer(A[E],E);for(E in f)this._addLayer(f[E],E,!0)},onAdd:function(A){this._initLayout(),this._update(),this._map=A,A.on("zoomend",this._checkDisabledLayers,this);for(var f=0;f<this._layers.length;f++)this._layers[f].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(A){return Ls.prototype.addTo.call(this,A),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var A=0;A<this._layers.length;A++)this._layers[A].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(A,f){return this._addLayer(A,f),this._map?this._update():this},addOverlay:function(A,f){return this._addLayer(A,f,!0),this._map?this._update():this},removeLayer:function(A){A.off("add remove",this._onLayerChange,this);var f=this._getLayer(h(A));return f&&this._layers.splice(this._layers.indexOf(f),1),this._map?this._update():this},expand:function(){rt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var A=this._map.getSize().y-(this._container.offsetTop+50);return A<this._section.clientHeight?(rt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=A+"px"):Bt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Bt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var A="leaflet-control-layers",f=this._container=br("div",A),v=this.options.collapsed;f.setAttribute("aria-haspopup",!0),Bi(f),va(f);var E=this._section=br("section",A+"-list");v&&(this._map.on("click",this.collapse,this),jt(f,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var D=this._layersLink=br("a",A+"-toggle",f);D.href="#",D.title="Layers",D.setAttribute("role","button"),jt(D,{keydown:function(ne){ne.keyCode===13&&this._expandSafely()},click:function(ne){kn(ne),this._expandSafely()}},this),v||this.expand(),this._baseLayersList=br("div",A+"-base",E),this._separator=br("div",A+"-separator",E),this._overlaysList=br("div",A+"-overlays",E),f.appendChild(E)},_getLayer:function(A){for(var f=0;f<this._layers.length;f++)if(this._layers[f]&&h(this._layers[f].layer)===A)return this._layers[f]},_addLayer:function(A,f,v){this._map&&A.on("add remove",this._onLayerChange,this),this._layers.push({layer:A,name:f,overlay:v}),this.options.sortLayers&&this._layers.sort(c(function(E,D){return this.options.sortFunction(E.layer,D.layer,E.name,D.name)},this)),this.options.autoZIndex&&A.setZIndex&&(this._lastZIndex++,A.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Jn(this._baseLayersList),Jn(this._overlaysList),this._layerControlInputs=[];var A,f,v,E,D=0;for(v=0;v<this._layers.length;v++)E=this._layers[v],this._addItem(E),f=f||E.overlay,A=A||!E.overlay,D+=E.overlay?0:1;return this.options.hideSingleBase&&(A=A&&D>1,this._baseLayersList.style.display=A?"":"none"),this._separator.style.display=f&&A?"":"none",this},_onLayerChange:function(A){this._handlingClick||this._update();var f=this._getLayer(h(A.target)),v=f.overlay?A.type==="add"?"overlayadd":"overlayremove":A.type==="add"?"baselayerchange":null;v&&this._map.fire(v,f)},_createRadioElement:function(A,f){var v='<input type="radio" class="leaflet-control-layers-selector" name="'+A+'"'+(f?' checked="checked"':"")+"/>",E=document.createElement("div");return E.innerHTML=v,E.firstChild},_addItem:function(A){var f=document.createElement("label"),v=this._map.hasLayer(A.layer),E;A.overlay?(E=document.createElement("input"),E.type="checkbox",E.className="leaflet-control-layers-selector",E.defaultChecked=v):E=this._createRadioElement("leaflet-base-layers_"+h(this),v),this._layerControlInputs.push(E),E.layerId=h(A.layer),jt(E,"click",this._onInputClick,this);var D=document.createElement("span");D.innerHTML=" "+A.name;var ne=document.createElement("span");f.appendChild(ne),ne.appendChild(E),ne.appendChild(D);var Ce=A.overlay?this._overlaysList:this._baseLayersList;return Ce.appendChild(f),this._checkDisabledLayers(),f},_onInputClick:function(){if(!this._preventClick){var A=this._layerControlInputs,f,v,E=[],D=[];this._handlingClick=!0;for(var ne=A.length-1;ne>=0;ne--)f=A[ne],v=this._getLayer(f.layerId).layer,f.checked?E.push(v):f.checked||D.push(v);for(ne=0;ne<D.length;ne++)this._map.hasLayer(D[ne])&&this._map.removeLayer(D[ne]);for(ne=0;ne<E.length;ne++)this._map.hasLayer(E[ne])||this._map.addLayer(E[ne]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var A=this._layerControlInputs,f,v,E=this._map.getZoom(),D=A.length-1;D>=0;D--)f=A[D],v=this._getLayer(f.layerId).layer,f.disabled=v.options.minZoom!==void 0&&E<v.options.minZoom||v.options.maxZoom!==void 0&&E>v.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var A=this._section;this._preventClick=!0,jt(A,"click",kn),this.expand();var f=this;setTimeout(function(){pn(A,"click",kn),f._preventClick=!1})}}),rA=function(A,f,v){return new Lo(A,f,v)},Ni=Ls.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(A){var f="leaflet-control-zoom",v=br("div",f+" leaflet-bar"),E=this.options;return this._zoomInButton=this._createButton(E.zoomInText,E.zoomInTitle,f+"-in",v,this._zoomIn),this._zoomOutButton=this._createButton(E.zoomOutText,E.zoomOutTitle,f+"-out",v,this._zoomOut),this._updateDisabled(),A.on("zoomend zoomlevelschange",this._updateDisabled,this),v},onRemove:function(A){A.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(A){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(A.shiftKey?3:1))},_zoomOut:function(A){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(A.shiftKey?3:1))},_createButton:function(A,f,v,E,D){var ne=br("a",v,E);return ne.innerHTML=A,ne.href="#",ne.title=f,ne.setAttribute("role","button"),ne.setAttribute("aria-label",f),Bi(ne),jt(ne,"click",Ti),jt(ne,"click",D,this),jt(ne,"click",this._refocusOnMap,this),ne},_updateDisabled:function(){var A=this._map,f="leaflet-disabled";Bt(this._zoomInButton,f),Bt(this._zoomOutButton,f),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||A._zoom===A.getMinZoom())&&(rt(this._zoomOutButton,f),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||A._zoom===A.getMaxZoom())&&(rt(this._zoomInButton,f),this._zoomInButton.setAttribute("aria-disabled","true"))}});Vr.mergeOptions({zoomControl:!0}),Vr.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ni,this.addControl(this.zoomControl))});var so=function(A){return new Ni(A)},nA=Ls.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(A){var f="leaflet-control-scale",v=br("div",f),E=this.options;return this._addScales(E,f+"-line",v),A.on(E.updateWhenIdle?"moveend":"move",this._update,this),A.whenReady(this._update,this),v},onRemove:function(A){A.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(A,f,v){A.metric&&(this._mScale=br("div",f,v)),A.imperial&&(this._iScale=br("div",f,v))},_update:function(){var A=this._map,f=A.getSize().y/2,v=A.distance(A.containerPointToLatLng([0,f]),A.containerPointToLatLng([this.options.maxWidth,f]));this._updateScales(v)},_updateScales:function(A){this.options.metric&&A&&this._updateMetric(A),this.options.imperial&&A&&this._updateImperial(A)},_updateMetric:function(A){var f=this._getRoundNum(A),v=f<1e3?f+" m":f/1e3+" km";this._updateScale(this._mScale,v,f/A)},_updateImperial:function(A){var f=A*3.2808399,v,E,D;f>5280?(v=f/5280,E=this._getRoundNum(v),this._updateScale(this._iScale,E+" mi",E/v)):(D=this._getRoundNum(f),this._updateScale(this._iScale,D+" ft",D/f))},_updateScale:function(A,f,v){A.style.width=Math.round(this.options.maxWidth*v)+"px",A.innerHTML=f},_getRoundNum:function(A){var f=Math.pow(10,(Math.floor(A)+"").length-1),v=A/f;return v=v>=10?10:v>=5?5:v>=3?3:v>=2?2:1,f*v}}),ao=function(A){return new nA(A)},FA='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',S=Ls.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Me.inlineSvg?FA+" ":"")+"Leaflet</a>"},initialize:function(A){j(this,A),this._attributions={}},onAdd:function(A){A.attributionControl=this,this._container=br("div","leaflet-control-attribution"),Bi(this._container);for(var f in A._layers)A._layers[f].getAttribution&&this.addAttribution(A._layers[f].getAttribution());return this._update(),A.on("layeradd",this._addAttribution,this),this._container},onRemove:function(A){A.off("layeradd",this._addAttribution,this)},_addAttribution:function(A){A.layer.getAttribution&&(this.addAttribution(A.layer.getAttribution()),A.layer.once("remove",function(){this.removeAttribution(A.layer.getAttribution())},this))},setPrefix:function(A){return this.options.prefix=A,this._update(),this},addAttribution:function(A){return A?(this._attributions[A]||(this._attributions[A]=0),this._attributions[A]++,this._update(),this):this},removeAttribution:function(A){return A?(this._attributions[A]&&(this._attributions[A]--,this._update()),this):this},_update:function(){if(this._map){var A=[];for(var f in this._attributions)this._attributions[f]&&A.push(f);var v=[];this.options.prefix&&v.push(this.options.prefix),A.length&&v.push(A.join(", ")),this._container.innerHTML=v.join(' <span aria-hidden="true">|</span> ')}}});Vr.mergeOptions({attributionControl:!0}),Vr.addInitHook(function(){this.options.attributionControl&&new S().addTo(this)});var X=function(A){return new S(A)};Ls.Layers=Lo,Ls.Zoom=Ni,Ls.Scale=nA,Ls.Attribution=S,za.layers=rA,za.zoom=so,za.scale=ao,za.attribution=X;var xe=le.extend({initialize:function(A){this._map=A},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});xe.addTo=function(A,f){return A.addHandler(f,this),this};var Le={Events:Y},Qe=Me.touch?"touchstart mousedown":"mousedown",st=pe.extend({options:{clickTolerance:3},initialize:function(A,f,v,E){j(this,E),this._element=A,this._dragStartTarget=f||A,this._preventOutline=v},enable:function(){this._enabled||(jt(this._dragStartTarget,Qe,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(st._dragging===this&&this.finishDrag(!0),pn(this._dragStartTarget,Qe,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(A){if(this._enabled&&(this._moved=!1,!Ft(this._element,"leaflet-zoom-anim"))){if(A.touches&&A.touches.length!==1){st._dragging===this&&this.finishDrag();return}if(!(st._dragging||A.shiftKey||A.which!==1&&A.button!==1&&!A.touches)&&(st._dragging=this,this._preventOutline&&Aa(this._element),bl(),si(),!this._moving)){this.fire("down");var f=A.touches?A.touches[0]:A,v=Ui(this._element);this._startPoint=new z(f.clientX,f.clientY),this._startPos=la(this._element),this._parentScale=no(v);var E=A.type==="mousedown";jt(document,E?"mousemove":"touchmove",this._onMove,this),jt(document,E?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(A){if(this._enabled){if(A.touches&&A.touches.length>1){this._moved=!0;return}var f=A.touches&&A.touches.length===1?A.touches[0]:A,v=new z(f.clientX,f.clientY)._subtract(this._startPoint);!v.x&&!v.y||Math.abs(v.x)+Math.abs(v.y)<this.options.clickTolerance||(v.x/=this._parentScale.x,v.y/=this._parentScale.y,kn(A),this._moved||(this.fire("dragstart"),this._moved=!0,rt(document.body,"leaflet-dragging"),this._lastTarget=A.target||A.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),rt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(v),this._moving=!0,this._lastEvent=A,this._updatePosition())}},_updatePosition:function(){var A={originalEvent:this._lastEvent};this.fire("predrag",A),Cr(this._element,this._newPos),this.fire("drag",A)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(A){Bt(document.body,"leaflet-dragging"),this._lastTarget&&(Bt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),pn(document,"mousemove touchmove",this._onMove,this),pn(document,"mouseup touchend touchcancel",this._onUp,this),Go(),$s();var f=this._moved&&this._moving;this._moving=!1,st._dragging=!1,f&&this.fire("dragend",{noInertia:A,distance:this._newPos.distanceTo(this._startPos)})}});function xt(A,f,v){var E,D=[1,4,2,8],ne,Ce,Ie,Ve,dt,Mt,lr,Zr;for(ne=0,Mt=A.length;ne<Mt;ne++)A[ne]._code=Ys(A[ne],f);for(Ie=0;Ie<4;Ie++){for(lr=D[Ie],E=[],ne=0,Mt=A.length,Ce=Mt-1;ne<Mt;Ce=ne++)Ve=A[ne],dt=A[Ce],Ve._code&lr?dt._code&lr||(Zr=oi(dt,Ve,lr,f,v),Zr._code=Ys(Zr,f),E.push(Zr)):(dt._code&lr&&(Zr=oi(dt,Ve,lr,f,v),Zr._code=Ys(Zr,f),E.push(Zr)),E.push(Ve));A=E}return A}function sr(A,f){var v,E,D,ne,Ce,Ie,Ve,dt,Mt;if(!A||A.length===0)throw new Error("latlngs not passed");Xs(A)||(console.warn("latlngs are not flat! Only the first ring will be used"),A=A[0]);var lr=ce([0,0]),Zr=Q(A),ea=Zr.getNorthWest().distanceTo(Zr.getSouthWest())*Zr.getNorthEast().distanceTo(Zr.getNorthWest());ea<1700&&(lr=or(A));var ls=A.length,Ya=[];for(v=0;v<ls;v++){var mn=ce(A[v]);Ya.push(f.project(ce([mn.lat-lr.lat,mn.lng-lr.lng])))}for(Ie=Ve=dt=0,v=0,E=ls-1;v<ls;E=v++)D=Ya[v],ne=Ya[E],Ce=D.y*ne.x-ne.y*D.x,Ve+=(D.x+ne.x)*Ce,dt+=(D.y+ne.y)*Ce,Ie+=Ce*3;Ie===0?Mt=Ya[0]:Mt=[Ve/Ie,dt/Ie];var gn=f.unproject(we(Mt));return ce([gn.lat+lr.lat,gn.lng+lr.lng])}function or(A){for(var f=0,v=0,E=0,D=0;D<A.length;D++){var ne=ce(A[D]);f+=ne.lat,v+=ne.lng,E++}return ce([f/E,v/E])}var Er={__proto__:null,clipPolygon:xt,polygonCenter:sr,centroid:or};function Or(A,f){if(!f||!A.length)return A.slice();var v=f*f;return A=js(A,v),A=as(A,v),A}function rn(A,f,v){return Math.sqrt(oo(A,f,v,!0))}function Zn(A,f,v){return oo(A,f,v)}function as(A,f){var v=A.length,E=typeof Uint8Array<"u"?Uint8Array:Array,D=new E(v);D[0]=D[v-1]=1,_n(A,D,f,0,v-1);var ne,Ce=[];for(ne=0;ne<v;ne++)D[ne]&&Ce.push(A[ne]);return Ce}function _n(A,f,v,E,D){var ne=0,Ce,Ie,Ve;for(Ie=E+1;Ie<=D-1;Ie++)Ve=oo(A[Ie],A[E],A[D],!0),Ve>ne&&(Ce=Ie,ne=Ve);ne>v&&(f[Ce]=1,_n(A,f,v,E,Ce),_n(A,f,v,Ce,D))}function js(A,f){for(var v=[A[0]],E=1,D=0,ne=A.length;E<ne;E++)io(A[E],A[D])>f&&(v.push(A[E]),D=E);return D<ne-1&&v.push(A[ne-1]),v}var is;function Qs(A,f,v,E,D){var ne=E?is:Ys(A,v),Ce=Ys(f,v),Ie,Ve,dt;for(is=Ce;;){if(!(ne|Ce))return[A,f];if(ne&Ce)return!1;Ie=ne||Ce,Ve=oi(A,f,Ie,v,D),dt=Ys(Ve,v),Ie===ne?(A=Ve,ne=dt):(f=Ve,Ce=dt)}}function oi(A,f,v,E,D){var ne=f.x-A.x,Ce=f.y-A.y,Ie=E.min,Ve=E.max,dt,Mt;return v&8?(dt=A.x+ne*(Ve.y-A.y)/Ce,Mt=Ve.y):v&4?(dt=A.x+ne*(Ie.y-A.y)/Ce,Mt=Ie.y):v&2?(dt=Ve.x,Mt=A.y+Ce*(Ve.x-A.x)/ne):v&1&&(dt=Ie.x,Mt=A.y+Ce*(Ie.x-A.x)/ne),new z(dt,Mt,D)}function Ys(A,f){var v=0;return A.x<f.min.x?v|=1:A.x>f.max.x&&(v|=2),A.y<f.min.y?v|=4:A.y>f.max.y&&(v|=8),v}function io(A,f){var v=f.x-A.x,E=f.y-A.y;return v*v+E*E}function oo(A,f,v,E){var D=f.x,ne=f.y,Ce=v.x-D,Ie=v.y-ne,Ve=Ce*Ce+Ie*Ie,dt;return Ve>0&&(dt=((A.x-D)*Ce+(A.y-ne)*Ie)/Ve,dt>1?(D=v.x,ne=v.y):dt>0&&(D+=Ce*dt,ne+=Ie*dt)),Ce=A.x-D,Ie=A.y-ne,E?Ce*Ce+Ie*Ie:new z(D,ne)}function Xs(A){return!F(A[0])||typeof A[0][0]!="object"&&typeof A[0][0]<"u"}function Ci(A){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Xs(A)}function li(A,f){var v,E,D,ne,Ce,Ie,Ve,dt;if(!A||A.length===0)throw new Error("latlngs not passed");Xs(A)||(console.warn("latlngs are not flat! Only the first ring will be used"),A=A[0]);var Mt=ce([0,0]),lr=Q(A),Zr=lr.getNorthWest().distanceTo(lr.getSouthWest())*lr.getNorthEast().distanceTo(lr.getNorthWest());Zr<1700&&(Mt=or(A));var ea=A.length,ls=[];for(v=0;v<ea;v++){var Ya=ce(A[v]);ls.push(f.project(ce([Ya.lat-Mt.lat,Ya.lng-Mt.lng])))}for(v=0,E=0;v<ea-1;v++)E+=ls[v].distanceTo(ls[v+1])/2;if(E===0)dt=ls[0];else for(v=0,ne=0;v<ea-1;v++)if(Ce=ls[v],Ie=ls[v+1],D=Ce.distanceTo(Ie),ne+=D,ne>E){Ve=(ne-E)/D,dt=[Ie.x-Ve*(Ie.x-Ce.x),Ie.y-Ve*(Ie.y-Ce.y)];break}var mn=f.unproject(we(dt));return ce([mn.lat+Mt.lat,mn.lng+Mt.lng])}var Yo={__proto__:null,simplify:Or,pointToSegmentDistance:rn,closestPointOnSegment:Zn,clipSegment:Qs,_getEdgeIntersection:oi,_getBitCode:Ys,_sqClosestPointOnSegment:oo,isFlat:Xs,_flat:Ci,polylineCenter:li},Ei={project:function(A){return new z(A.lng,A.lat)},unproject:function(A){return new oe(A.y,A.x)},bounds:new V([-180,-90],[180,90])},ms={R:6378137,R_MINOR:6356752314245179e-9,bounds:new V([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(A){var f=Math.PI/180,v=this.R,E=A.lat*f,D=this.R_MINOR/v,ne=Math.sqrt(1-D*D),Ce=ne*Math.sin(E),Ie=Math.tan(Math.PI/4-E/2)/Math.pow((1-Ce)/(1+Ce),ne/2);return E=-v*Math.log(Math.max(Ie,1e-10)),new z(A.lng*f*v,E)},unproject:function(A){for(var f=180/Math.PI,v=this.R,E=this.R_MINOR/v,D=Math.sqrt(1-E*E),ne=Math.exp(-A.y/v),Ce=Math.PI/2-2*Math.atan(ne),Ie=0,Ve=.1,dt;Ie<15&&Math.abs(Ve)>1e-7;Ie++)dt=D*Math.sin(Ce),dt=Math.pow((1-dt)/(1+dt),D/2),Ve=Math.PI/2-2*Math.atan(ne*dt)-Ce,Ce+=Ve;return new oe(Ce*f,A.x*f/v)}},jo={__proto__:null,LonLat:Ei,Mercator:ms,SphericalMercator:He},ko=a({},Se,{code:"EPSG:3395",projection:ms,transformation:(function(){var A=.5/(Math.PI*ms.R);return Re(A,.5,-A,.5)})()}),Xo=a({},Se,{code:"EPSG:4326",projection:Ei,transformation:Re(1/180,1,-1/180,.5)}),Qi=a({},Be,{projection:Ei,transformation:Re(1,0,-1,0),scale:function(A){return Math.pow(2,A)},zoom:function(A){return Math.log(A)/Math.LN2},distance:function(A,f){var v=f.lng-A.lng,E=f.lat-A.lat;return Math.sqrt(v*v+E*E)},infinite:!0});Be.Earth=Se,Be.EPSG3395=ko,Be.EPSG3857=_t,Be.EPSG900913=It,Be.EPSG4326=Xo,Be.Simple=Qi;var Qn=pe.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(A){return A.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(A){return A&&A.removeLayer(this),this},getPane:function(A){return this._map.getPane(A?this.options[A]||A:this.options.pane)},addInteractiveTarget:function(A){return this._map._targets[h(A)]=this,this},removeInteractiveTarget:function(A){return delete this._map._targets[h(A)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(A){var f=A.target;if(f.hasLayer(this)){if(this._map=f,this._zoomAnimated=f._zoomAnimated,this.getEvents){var v=this.getEvents();f.on(v,this),this.once("remove",function(){f.off(v,this)},this)}this.onAdd(f),this.fire("add"),f.fire("layeradd",{layer:this})}}});Vr.include({addLayer:function(A){if(!A._layerAdd)throw new Error("The provided object is not a Layer.");var f=h(A);return this._layers[f]?this:(this._layers[f]=A,A._mapToAdd=this,A.beforeAdd&&A.beforeAdd(this),this.whenReady(A._layerAdd,A),this)},removeLayer:function(A){var f=h(A);return this._layers[f]?(this._loaded&&A.onRemove(this),delete this._layers[f],this._loaded&&(this.fire("layerremove",{layer:A}),A.fire("remove")),A._map=A._mapToAdd=null,this):this},hasLayer:function(A){return h(A)in this._layers},eachLayer:function(A,f){for(var v in this._layers)A.call(f,this._layers[v]);return this},_addLayers:function(A){A=A?F(A)?A:[A]:[];for(var f=0,v=A.length;f<v;f++)this.addLayer(A[f])},_addZoomLimit:function(A){(!isNaN(A.options.maxZoom)||!isNaN(A.options.minZoom))&&(this._zoomBoundLayers[h(A)]=A,this._updateZoomLevels())},_removeZoomLimit:function(A){var f=h(A);this._zoomBoundLayers[f]&&(delete this._zoomBoundLayers[f],this._updateZoomLevels())},_updateZoomLevels:function(){var A=1/0,f=-1/0,v=this._getZoomSpan();for(var E in this._zoomBoundLayers){var D=this._zoomBoundLayers[E].options;A=D.minZoom===void 0?A:Math.min(A,D.minZoom),f=D.maxZoom===void 0?f:Math.max(f,D.maxZoom)}this._layersMaxZoom=f===-1/0?void 0:f,this._layersMinZoom=A===1/0?void 0:A,v!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ua=Qn.extend({initialize:function(A,f){j(this,f),this._layers={};var v,E;if(A)for(v=0,E=A.length;v<E;v++)this.addLayer(A[v])},addLayer:function(A){var f=this.getLayerId(A);return this._layers[f]=A,this._map&&this._map.addLayer(A),this},removeLayer:function(A){var f=A in this._layers?A:this.getLayerId(A);return this._map&&this._layers[f]&&this._map.removeLayer(this._layers[f]),delete this._layers[f],this},hasLayer:function(A){var f=typeof A=="number"?A:this.getLayerId(A);return f in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(A){var f=Array.prototype.slice.call(arguments,1),v,E;for(v in this._layers)E=this._layers[v],E[A]&&E[A].apply(E,f);return this},onAdd:function(A){this.eachLayer(A.addLayer,A)},onRemove:function(A){this.eachLayer(A.removeLayer,A)},eachLayer:function(A,f){for(var v in this._layers)A.call(f,this._layers[v]);return this},getLayer:function(A){return this._layers[A]},getLayers:function(){var A=[];return this.eachLayer(A.push,A),A},setZIndex:function(A){return this.invoke("setZIndex",A)},getLayerId:function(A){return h(A)}}),wl=function(A,f){return new Ua(A,f)},qa=Ua.extend({addLayer:function(A){return this.hasLayer(A)?this:(A.addEventParent(this),Ua.prototype.addLayer.call(this,A),this.fire("layeradd",{layer:A}))},removeLayer:function(A){return this.hasLayer(A)?(A in this._layers&&(A=this._layers[A]),A.removeEventParent(this),Ua.prototype.removeLayer.call(this,A),this.fire("layerremove",{layer:A})):this},setStyle:function(A){return this.invoke("setStyle",A)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var A=new G;for(var f in this._layers){var v=this._layers[f];A.extend(v.getBounds?v.getBounds():v.getLatLng())}return A}}),Ka=function(A,f){return new qa(A,f)},ca=le.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(A){j(this,A)},createIcon:function(A){return this._createIcon("icon",A)},createShadow:function(A){return this._createIcon("shadow",A)},_createIcon:function(A,f){var v=this._getIconUrl(A);if(!v){if(A==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var E=this._createImg(v,f&&f.tagName==="IMG"?f:null);return this._setIconStyles(E,A),(this.options.crossOrigin||this.options.crossOrigin==="")&&(E.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),E},_setIconStyles:function(A,f){var v=this.options,E=v[f+"Size"];typeof E=="number"&&(E=[E,E]);var D=we(E),ne=we(f==="shadow"&&v.shadowAnchor||v.iconAnchor||D&&D.divideBy(2,!0));A.className="leaflet-marker-"+f+" "+(v.className||""),ne&&(A.style.marginLeft=-ne.x+"px",A.style.marginTop=-ne.y+"px"),D&&(A.style.width=D.x+"px",A.style.height=D.y+"px")},_createImg:function(A,f){return f=f||document.createElement("img"),f.src=A,f},_getIconUrl:function(A){return Me.retina&&this.options[A+"RetinaUrl"]||this.options[A+"Url"]}});function lo(A){return new ca(A)}var Ao=ca.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(A){return typeof Ao.imagePath!="string"&&(Ao.imagePath=this._detectIconPath()),(this.options.imagePath||Ao.imagePath)+ca.prototype._getIconUrl.call(this,A)},_stripUrl:function(A){var f=function(v,E,D){var ne=E.exec(v);return ne&&ne[D]};return A=f(A,/^url\((['"])?(.+)\1\)$/,2),A&&f(A,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var A=br("div","leaflet-default-icon-path",document.body),f=Cs(A,"background-image")||Cs(A,"backgroundImage");if(document.body.removeChild(A),f=this._stripUrl(f),f)return f;var v=document.querySelector('link[href$="leaflet.css"]');return v?v.href.substring(0,v.href.length-11-1):""}}),Ai=xe.extend({initialize:function(A){this._marker=A},addHooks:function(){var A=this._marker._icon;this._draggable||(this._draggable=new st(A,A,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),rt(A,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Bt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(A){var f=this._marker,v=f._map,E=this._marker.options.autoPanSpeed,D=this._marker.options.autoPanPadding,ne=la(f._icon),Ce=v.getPixelBounds(),Ie=v.getPixelOrigin(),Ve=O(Ce.min._subtract(Ie).add(D),Ce.max._subtract(Ie).subtract(D));if(!Ve.contains(ne)){var dt=we((Math.max(Ve.max.x,ne.x)-Ve.max.x)/(Ce.max.x-Ve.max.x)-(Math.min(Ve.min.x,ne.x)-Ve.min.x)/(Ce.min.x-Ve.min.x),(Math.max(Ve.max.y,ne.y)-Ve.max.y)/(Ce.max.y-Ve.max.y)-(Math.min(Ve.min.y,ne.y)-Ve.min.y)/(Ce.min.y-Ve.min.y)).multiplyBy(E);v.panBy(dt,{animate:!1}),this._draggable._newPos._add(dt),this._draggable._startPos._add(dt),Cr(f._icon,this._draggable._newPos),this._onDrag(A),this._panRequest=K(this._adjustPan.bind(this,A))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(A){this._marker.options.autoPan&&($(this._panRequest),this._panRequest=K(this._adjustPan.bind(this,A)))},_onDrag:function(A){var f=this._marker,v=f._shadow,E=la(f._icon),D=f._map.layerPointToLatLng(E);v&&Cr(v,E),f._latlng=D,A.latlng=D,A.oldLatLng=this._oldLatLng,f.fire("move",A).fire("drag",A)},_onDragEnd:function(A){$(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",A)}}),Si=Qn.extend({options:{icon:new Ao,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(A,f){j(this,f),this._latlng=ce(A)},onAdd:function(A){this._zoomAnimated=this._zoomAnimated&&A.options.markerZoomAnimation,this._zoomAnimated&&A.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(A){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&A.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(A){var f=this._latlng;return this._latlng=ce(A),this.update(),this.fire("move",{oldLatLng:f,latlng:this._latlng})},setZIndexOffset:function(A){return this.options.zIndexOffset=A,this.update()},getIcon:function(){return this.options.icon},setIcon:function(A){return this.options.icon=A,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var A=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(A)}return this},_initIcon:function(){var A=this.options,f="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),v=A.icon.createIcon(this._icon),E=!1;v!==this._icon&&(this._icon&&this._removeIcon(),E=!0,A.title&&(v.title=A.title),v.tagName==="IMG"&&(v.alt=A.alt||"")),rt(v,f),A.keyboard&&(v.tabIndex="0",v.setAttribute("role","button")),this._icon=v,A.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&jt(v,"focus",this._panOnFocus,this);var D=A.icon.createShadow(this._shadow),ne=!1;D!==this._shadow&&(this._removeShadow(),ne=!0),D&&(rt(D,f),D.alt=""),this._shadow=D,A.opacity<1&&this._updateOpacity(),E&&this.getPane().appendChild(this._icon),this._initInteraction(),D&&ne&&this.getPane(A.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&pn(this._icon,"focus",this._panOnFocus,this),Qr(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Qr(this._shadow),this._shadow=null},_setPos:function(A){this._icon&&Cr(this._icon,A),this._shadow&&Cr(this._shadow,A),this._zIndex=A.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(A){this._icon&&(this._icon.style.zIndex=this._zIndex+A)},_animateZoom:function(A){var f=this._map._latLngToNewLayerPoint(this._latlng,A.zoom,A.center).round();this._setPos(f)},_initInteraction:function(){if(this.options.interactive&&(rt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Ai)){var A=this.options.draggable;this.dragging&&(A=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Ai(this),A&&this.dragging.enable()}},setOpacity:function(A){return this.options.opacity=A,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var A=this.options.opacity;this._icon&&nr(this._icon,A),this._shadow&&nr(this._shadow,A)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var A=this._map;if(A){var f=this.options.icon.options,v=f.iconSize?we(f.iconSize):we(0,0),E=f.iconAnchor?we(f.iconAnchor):we(0,0);A.panInside(this._latlng,{paddingTopLeft:E,paddingBottomRight:v.subtract(E)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Ta(A,f){return new Si(A,f)}var Wn=Qn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(A){this._renderer=A.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(A){return j(this,A),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&A&&Object.prototype.hasOwnProperty.call(A,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ga=Wn.extend({options:{fill:!0,radius:10},initialize:function(A,f){j(this,f),this._latlng=ce(A),this._radius=this.options.radius},setLatLng:function(A){var f=this._latlng;return this._latlng=ce(A),this.redraw(),this.fire("move",{oldLatLng:f,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(A){return this.options.radius=this._radius=A,this.redraw()},getRadius:function(){return this._radius},setStyle:function(A){var f=A&&A.radius||this._radius;return Wn.prototype.setStyle.call(this,A),this.setRadius(f),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var A=this._radius,f=this._radiusY||A,v=this._clickTolerance(),E=[A+v,f+v];this._pxBounds=new V(this._point.subtract(E),this._point.add(E))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(A){return A.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Ii(A,f){return new Ga(A,f)}var Li=Ga.extend({initialize:function(A,f,v){if(typeof f=="number"&&(f=a({},v,{radius:f})),j(this,f),this._latlng=ce(A),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(A){return this._mRadius=A,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var A=[this._radius,this._radiusY||this._radius];return new G(this._map.layerPointToLatLng(this._point.subtract(A)),this._map.layerPointToLatLng(this._point.add(A)))},setStyle:Wn.prototype.setStyle,_project:function(){var A=this._latlng.lng,f=this._latlng.lat,v=this._map,E=v.options.crs;if(E.distance===Se.distance){var D=Math.PI/180,ne=this._mRadius/Se.R/D,Ce=v.project([f+ne,A]),Ie=v.project([f-ne,A]),Ve=Ce.add(Ie).divideBy(2),dt=v.unproject(Ve).lat,Mt=Math.acos((Math.cos(ne*D)-Math.sin(f*D)*Math.sin(dt*D))/(Math.cos(f*D)*Math.cos(dt*D)))/D;(isNaN(Mt)||Mt===0)&&(Mt=ne/Math.cos(Math.PI/180*f)),this._point=Ve.subtract(v.getPixelOrigin()),this._radius=isNaN(Mt)?0:Ve.x-v.project([dt,A-Mt]).x,this._radiusY=Ve.y-Ce.y}else{var lr=E.unproject(E.project(this._latlng).subtract([this._mRadius,0]));this._point=v.latLngToLayerPoint(this._latlng),this._radius=this._point.x-v.latLngToLayerPoint(lr).x}this._updateBounds()}});function _l(A,f,v){return new Li(A,f,v)}var Fa=Wn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(A,f){j(this,f),this._setLatLngs(A)},getLatLngs:function(){return this._latlngs},setLatLngs:function(A){return this._setLatLngs(A),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(A){for(var f=1/0,v=null,E=oo,D,ne,Ce=0,Ie=this._parts.length;Ce<Ie;Ce++)for(var Ve=this._parts[Ce],dt=1,Mt=Ve.length;dt<Mt;dt++){D=Ve[dt-1],ne=Ve[dt];var lr=E(A,D,ne,!0);lr<f&&(f=lr,v=E(A,D,ne))}return v&&(v.distance=Math.sqrt(f)),v},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return li(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(A,f){return f=f||this._defaultShape(),A=ce(A),f.push(A),this._bounds.extend(A),this.redraw()},_setLatLngs:function(A){this._bounds=new G,this._latlngs=this._convertLatLngs(A)},_defaultShape:function(){return Xs(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(A){for(var f=[],v=Xs(A),E=0,D=A.length;E<D;E++)v?(f[E]=ce(A[E]),this._bounds.extend(f[E])):f[E]=this._convertLatLngs(A[E]);return f},_project:function(){var A=new V;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,A),this._bounds.isValid()&&A.isValid()&&(this._rawPxBounds=A,this._updateBounds())},_updateBounds:function(){var A=this._clickTolerance(),f=new z(A,A);this._rawPxBounds&&(this._pxBounds=new V([this._rawPxBounds.min.subtract(f),this._rawPxBounds.max.add(f)]))},_projectLatlngs:function(A,f,v){var E=A[0]instanceof oe,D=A.length,ne,Ce;if(E){for(Ce=[],ne=0;ne<D;ne++)Ce[ne]=this._map.latLngToLayerPoint(A[ne]),v.extend(Ce[ne]);f.push(Ce)}else for(ne=0;ne<D;ne++)this._projectLatlngs(A[ne],f,v)},_clipPoints:function(){var A=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(A))){if(this.options.noClip){this._parts=this._rings;return}var f=this._parts,v,E,D,ne,Ce,Ie,Ve;for(v=0,D=0,ne=this._rings.length;v<ne;v++)for(Ve=this._rings[v],E=0,Ce=Ve.length;E<Ce-1;E++)Ie=Qs(Ve[E],Ve[E+1],A,E,!0),Ie&&(f[D]=f[D]||[],f[D].push(Ie[0]),(Ie[1]!==Ve[E+1]||E===Ce-2)&&(f[D].push(Ie[1]),D++))}},_simplifyPoints:function(){for(var A=this._parts,f=this.options.smoothFactor,v=0,E=A.length;v<E;v++)A[v]=Or(A[v],f)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(A,f){var v,E,D,ne,Ce,Ie,Ve=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(A))return!1;for(v=0,ne=this._parts.length;v<ne;v++)for(Ie=this._parts[v],E=0,Ce=Ie.length,D=Ce-1;E<Ce;D=E++)if(!(!f&&E===0)&&rn(A,Ie[D],Ie[E])<=Ve)return!0;return!1}});function os(A,f){return new Fa(A,f)}Fa._flat=Ci;var co=Fa.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return sr(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(A){var f=Fa.prototype._convertLatLngs.call(this,A),v=f.length;return v>=2&&f[0]instanceof oe&&f[0].equals(f[v-1])&&f.pop(),f},_setLatLngs:function(A){Fa.prototype._setLatLngs.call(this,A),Xs(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Xs(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var A=this._renderer._bounds,f=this.options.weight,v=new z(f,f);if(A=new V(A.min.subtract(v),A.max.add(v)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(A))){if(this.options.noClip){this._parts=this._rings;return}for(var E=0,D=this._rings.length,ne;E<D;E++)ne=xt(this._rings[E],A,!0),ne.length&&this._parts.push(ne)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(A){var f=!1,v,E,D,ne,Ce,Ie,Ve,dt;if(!this._pxBounds||!this._pxBounds.contains(A))return!1;for(ne=0,Ve=this._parts.length;ne<Ve;ne++)for(v=this._parts[ne],Ce=0,dt=v.length,Ie=dt-1;Ce<dt;Ie=Ce++)E=v[Ce],D=v[Ie],E.y>A.y!=D.y>A.y&&A.x<(D.x-E.x)*(A.y-E.y)/(D.y-E.y)+E.x&&(f=!f);return f||Fa.prototype._containsPoint.call(this,A,!0)}});function Oi(A,f){return new co(A,f)}var Is=qa.extend({initialize:function(A,f){j(this,f),this._layers={},A&&this.addData(A)},addData:function(A){var f=F(A)?A:A.features,v,E,D;if(f){for(v=0,E=f.length;v<E;v++)D=f[v],(D.geometries||D.geometry||D.features||D.coordinates)&&this.addData(D);return this}var ne=this.options;if(ne.filter&&!ne.filter(A))return this;var Ce=gs(A,ne);return Ce?(Ce.feature=Di(A),Ce.defaultOptions=Ce.options,this.resetStyle(Ce),ne.onEachFeature&&ne.onEachFeature(A,Ce),this.addLayer(Ce)):this},resetStyle:function(A){return A===void 0?this.eachLayer(this.resetStyle,this):(A.options=a({},A.defaultOptions),this._setLayerStyle(A,this.options.style),this)},setStyle:function(A){return this.eachLayer(function(f){this._setLayerStyle(f,A)},this)},_setLayerStyle:function(A,f){A.setStyle&&(typeof f=="function"&&(f=f(A.feature)),A.setStyle(f))}});function gs(A,f){var v=A.type==="Feature"?A.geometry:A,E=v?v.coordinates:null,D=[],ne=f&&f.pointToLayer,Ce=f&&f.coordsToLatLng||Uo,Ie,Ve,dt,Mt;if(!E&&!v)return null;switch(v.type){case"Point":return Ie=Ce(E),Mi(ne,A,Ie,f);case"MultiPoint":for(dt=0,Mt=E.length;dt<Mt;dt++)Ie=Ce(E[dt]),D.push(Mi(ne,A,Ie,f));return new qa(D);case"LineString":case"MultiLineString":return Ve=uo(E,v.type==="LineString"?0:1,Ce),new Fa(Ve,f);case"Polygon":case"MultiPolygon":return Ve=uo(E,v.type==="Polygon"?1:2,Ce),new co(Ve,f);case"GeometryCollection":for(dt=0,Mt=v.geometries.length;dt<Mt;dt++){var lr=gs({geometry:v.geometries[dt],type:"Feature",properties:A.properties},f);lr&&D.push(lr)}return new qa(D);case"FeatureCollection":for(dt=0,Mt=v.features.length;dt<Mt;dt++){var Zr=gs(v.features[dt],f);Zr&&D.push(Zr)}return new qa(D);default:throw new Error("Invalid GeoJSON object.")}}function Mi(A,f,v,E){return A?A(f,v):new Si(v,E&&E.markersInheritOptions&&E)}function Uo(A){return new oe(A[1],A[0],A[2])}function uo(A,f,v){for(var E=[],D=0,ne=A.length,Ce;D<ne;D++)Ce=f?uo(A[D],f-1,v):(v||Uo)(A[D]),E.push(Ce);return E}function ji(A,f){return A=ce(A),A.alt!==void 0?[B(A.lng,f),B(A.lat,f),B(A.alt,f)]:[B(A.lng,f),B(A.lat,f)]}function ci(A,f,v,E){for(var D=[],ne=0,Ce=A.length;ne<Ce;ne++)D.push(f?ci(A[ne],Xs(A[ne])?0:f-1,v,E):ji(A[ne],E));return!f&&v&&D.length>0&&D.push(D[0].slice()),D}function ya(A,f){return A.feature?a({},A.feature,{geometry:f}):Di(f)}function Di(A){return A.type==="Feature"||A.type==="FeatureCollection"?A:{type:"Feature",properties:{},geometry:A}}var wa={toGeoJSON:function(A){return ya(this,{type:"Point",coordinates:ji(this.getLatLng(),A)})}};Si.include(wa),Li.include(wa),Ga.include(wa),Fa.include({toGeoJSON:function(A){var f=!Xs(this._latlngs),v=ci(this._latlngs,f?1:0,!1,A);return ya(this,{type:(f?"Multi":"")+"LineString",coordinates:v})}}),co.include({toGeoJSON:function(A){var f=!Xs(this._latlngs),v=f&&!Xs(this._latlngs[0]),E=ci(this._latlngs,v?2:f?1:0,!0,A);return f||(E=[E]),ya(this,{type:(v?"Multi":"")+"Polygon",coordinates:E})}}),Ua.include({toMultiPoint:function(A){var f=[];return this.eachLayer(function(v){f.push(v.toGeoJSON(A).geometry.coordinates)}),ya(this,{type:"MultiPoint",coordinates:f})},toGeoJSON:function(A){var f=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(f==="MultiPoint")return this.toMultiPoint(A);var v=f==="GeometryCollection",E=[];return this.eachLayer(function(D){if(D.toGeoJSON){var ne=D.toGeoJSON(A);if(v)E.push(ne.geometry);else{var Ce=Di(ne);Ce.type==="FeatureCollection"?E.push.apply(E,Ce.features):E.push(Ce)}}}),v?ya(this,{geometries:E,type:"GeometryCollection"}):{type:"FeatureCollection",features:E}}});function Ri(A,f){return new Is(A,f)}var ua=Ri,_a=Qn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(A,f,v){this._url=A,this._bounds=Q(f),j(this,v)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(rt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Qr(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(A){return this.options.opacity=A,this._image&&this._updateOpacity(),this},setStyle:function(A){return A.opacity&&this.setOpacity(A.opacity),this},bringToFront:function(){return this._map&&_e(this._image),this},bringToBack:function(){return this._map&&nt(this._image),this},setUrl:function(A){return this._url=A,this._image&&(this._image.src=A),this},setBounds:function(A){return this._bounds=Q(A),this._map&&this._reset(),this},getEvents:function(){var A={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(A.zoomanim=this._animateZoom),A},setZIndex:function(A){return this.options.zIndex=A,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var A=this._url.tagName==="IMG",f=this._image=A?this._url:br("img");if(rt(f,"leaflet-image-layer"),this._zoomAnimated&&rt(f,"leaflet-zoom-animated"),this.options.className&&rt(f,this.options.className),f.onselectstart=b,f.onmousemove=b,f.onload=c(this.fire,this,"load"),f.onerror=c(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),A){this._url=f.src;return}f.src=this._url,f.alt=this.options.alt},_animateZoom:function(A){var f=this._map.getZoomScale(A.zoom),v=this._map._latLngBoundsToNewLayerBounds(this._bounds,A.zoom,A.center).min;ss(this._image,v,f)},_reset:function(){var A=this._image,f=new V(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),v=f.getSize();Cr(A,f.min),A.style.width=v.x+"px",A.style.height=v.y+"px"},_updateOpacity:function(){nr(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var A=this.options.errorOverlayUrl;A&&this._url!==A&&(this._url=A,this._image.src=A)},getCenter:function(){return this._bounds.getCenter()}}),hn=function(A,f,v){return new _a(A,f,v)},nn=_a.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var A=this._url.tagName==="VIDEO",f=this._image=A?this._url:br("video");if(rt(f,"leaflet-image-layer"),this._zoomAnimated&&rt(f,"leaflet-zoom-animated"),this.options.className&&rt(f,this.options.className),f.onselectstart=b,f.onmousemove=b,f.onloadeddata=c(this.fire,this,"load"),A){for(var v=f.getElementsByTagName("source"),E=[],D=0;D<v.length;D++)E.push(v[D].src);this._url=v.length>0?E:[f.src];return}F(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(f.style,"objectFit")&&(f.style.objectFit="fill"),f.autoplay=!!this.options.autoplay,f.loop=!!this.options.loop,f.muted=!!this.options.muted,f.playsInline=!!this.options.playsInline;for(var ne=0;ne<this._url.length;ne++){var Ce=br("source");Ce.src=this._url[ne],f.appendChild(Ce)}}});function Un(A,f,v){return new nn(A,f,v)}var es=_a.extend({_initImage:function(){var A=this._image=this._url;rt(A,"leaflet-image-layer"),this._zoomAnimated&&rt(A,"leaflet-zoom-animated"),this.options.className&&rt(A,this.options.className),A.onselectstart=b,A.onmousemove=b}});function Pi(A,f,v){return new es(A,f,v)}var xs=Qn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(A,f){A&&(A instanceof oe||F(A))?(this._latlng=ce(A),j(this,f)):(j(this,A),this._source=f),this.options.content&&(this._content=this.options.content)},openOn:function(A){return A=arguments.length?A:this._source._map,A.hasLayer(this)||A.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(A){return this._map?this.close():(arguments.length?this._source=A:A=this._source,this._prepareOpen(),this.openOn(A._map)),this},onAdd:function(A){this._zoomAnimated=A._zoomAnimated,this._container||this._initLayout(),A._fadeAnimated&&nr(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),A._fadeAnimated&&nr(this._container,1),this.bringToFront(),this.options.interactive&&(rt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(A){A._fadeAnimated?(nr(this._container,0),this._removeTimeout=setTimeout(c(Qr,void 0,this._container),200)):Qr(this._container),this.options.interactive&&(Bt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(A){return this._latlng=ce(A),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(A){return this._content=A,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var A={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(A.zoomanim=this._animateZoom),A},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&_e(this._container),this},bringToBack:function(){return this._map&&nt(this._container),this},_prepareOpen:function(A){var f=this._source;if(!f._map)return!1;if(f instanceof qa){f=null;var v=this._source._layers;for(var E in v)if(v[E]._map){f=v[E];break}if(!f)return!1;this._source=f}if(!A)if(f.getCenter)A=f.getCenter();else if(f.getLatLng)A=f.getLatLng();else if(f.getBounds)A=f.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(A),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var A=this._contentNode,f=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof f=="string")A.innerHTML=f;else{for(;A.hasChildNodes();)A.removeChild(A.firstChild);A.appendChild(f)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var A=this._map.latLngToLayerPoint(this._latlng),f=we(this.options.offset),v=this._getAnchor();this._zoomAnimated?Cr(this._container,A.add(v)):f=f.add(A).add(v);var E=this._containerBottom=-f.y,D=this._containerLeft=-Math.round(this._containerWidth/2)+f.x;this._container.style.bottom=E+"px",this._container.style.left=D+"px"}},_getAnchor:function(){return[0,0]}});Vr.include({_initOverlay:function(A,f,v,E){var D=f;return D instanceof A||(D=new A(E).setContent(f)),v&&D.setLatLng(v),D}}),Qn.include({_initOverlay:function(A,f,v,E){var D=v;return D instanceof A?(j(D,E),D._source=this):(D=f&&!E?f:new A(E,this),D.setContent(v)),D}});var Hi=xs.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(A){return A=arguments.length?A:this._source._map,!A.hasLayer(this)&&A._popup&&A._popup.options.autoClose&&A.removeLayer(A._popup),A._popup=this,xs.prototype.openOn.call(this,A)},onAdd:function(A){xs.prototype.onAdd.call(this,A),A.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Wn||this._source.on("preclick",Pa))},onRemove:function(A){xs.prototype.onRemove.call(this,A),A.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Wn||this._source.off("preclick",Pa))},getEvents:function(){var A=xs.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(A.preclick=this.close),this.options.keepInView&&(A.moveend=this._adjustPan),A},_initLayout:function(){var A="leaflet-popup",f=this._container=br("div",A+" "+(this.options.className||"")+" leaflet-zoom-animated"),v=this._wrapper=br("div",A+"-content-wrapper",f);if(this._contentNode=br("div",A+"-content",v),Bi(f),va(this._contentNode),jt(f,"contextmenu",Pa),this._tipContainer=br("div",A+"-tip-container",f),this._tip=br("div",A+"-tip",this._tipContainer),this.options.closeButton){var E=this._closeButton=br("a",A+"-close-button",f);E.setAttribute("role","button"),E.setAttribute("aria-label","Close popup"),E.href="#close",E.innerHTML='<span aria-hidden="true">&#215;</span>',jt(E,"click",function(D){kn(D),this.close()},this)}},_updateLayout:function(){var A=this._contentNode,f=A.style;f.width="",f.whiteSpace="nowrap";var v=A.offsetWidth;v=Math.min(v,this.options.maxWidth),v=Math.max(v,this.options.minWidth),f.width=v+1+"px",f.whiteSpace="",f.height="";var E=A.offsetHeight,D=this.options.maxHeight,ne="leaflet-popup-scrolled";D&&E>D?(f.height=D+"px",rt(A,ne)):Bt(A,ne),this._containerWidth=this._container.offsetWidth},_animateZoom:function(A){var f=this._map._latLngToNewLayerPoint(this._latlng,A.zoom,A.center),v=this._getAnchor();Cr(this._container,f.add(v))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var A=this._map,f=parseInt(Cs(this._container,"marginBottom"),10)||0,v=this._container.offsetHeight+f,E=this._containerWidth,D=new z(this._containerLeft,-v-this._containerBottom);D._add(la(this._container));var ne=A.layerPointToContainerPoint(D),Ce=we(this.options.autoPanPadding),Ie=we(this.options.autoPanPaddingTopLeft||Ce),Ve=we(this.options.autoPanPaddingBottomRight||Ce),dt=A.getSize(),Mt=0,lr=0;ne.x+E+Ve.x>dt.x&&(Mt=ne.x+E-dt.x+Ve.x),ne.x-Mt-Ie.x<0&&(Mt=ne.x-Ie.x),ne.y+v+Ve.y>dt.y&&(lr=ne.y+v-dt.y+Ve.y),ne.y-lr-Ie.y<0&&(lr=ne.y-Ie.y),(Mt||lr)&&(this.options.keepInView&&(this._autopanning=!0),A.fire("autopanstart").panBy([Mt,lr]))}},_getAnchor:function(){return we(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),sA=function(A,f){return new Hi(A,f)};Vr.mergeOptions({closePopupOnClick:!0}),Vr.include({openPopup:function(A,f,v){return this._initOverlay(Hi,A,f,v).openOn(this),this},closePopup:function(A){return A=arguments.length?A:this._popup,A&&A.close(),this}}),Qn.include({bindPopup:function(A,f){return this._popup=this._initOverlay(Hi,this._popup,A,f),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(A){return this._popup&&(this instanceof qa||(this._popup._source=this),this._popup._prepareOpen(A||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(A){return this._popup&&this._popup.setContent(A),this},getPopup:function(){return this._popup},_openPopup:function(A){if(!(!this._popup||!this._map)){Ti(A);var f=A.layer||A.target;if(this._popup._source===f&&!(f instanceof Wn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(A.latlng);return}this._popup._source=f,this.openPopup(A.latlng)}},_movePopup:function(A){this._popup.setLatLng(A.latlng)},_onKeyPress:function(A){A.originalEvent.keyCode===13&&this._openPopup(A)}});var Bl=xs.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(A){xs.prototype.onAdd.call(this,A),this.setOpacity(this.options.opacity),A.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(A){xs.prototype.onRemove.call(this,A),A.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var A=xs.prototype.getEvents.call(this);return this.options.permanent||(A.preclick=this.close),A},_initLayout:function(){var A="leaflet-tooltip",f=A+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=br("div",f),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+h(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(A){var f,v,E=this._map,D=this._container,ne=E.latLngToContainerPoint(E.getCenter()),Ce=E.layerPointToContainerPoint(A),Ie=this.options.direction,Ve=D.offsetWidth,dt=D.offsetHeight,Mt=we(this.options.offset),lr=this._getAnchor();Ie==="top"?(f=Ve/2,v=dt):Ie==="bottom"?(f=Ve/2,v=0):Ie==="center"?(f=Ve/2,v=dt/2):Ie==="right"?(f=0,v=dt/2):Ie==="left"?(f=Ve,v=dt/2):Ce.x<ne.x?(Ie="right",f=0,v=dt/2):(Ie="left",f=Ve+(Mt.x+lr.x)*2,v=dt/2),A=A.subtract(we(f,v,!0)).add(Mt).add(lr),Bt(D,"leaflet-tooltip-right"),Bt(D,"leaflet-tooltip-left"),Bt(D,"leaflet-tooltip-top"),Bt(D,"leaflet-tooltip-bottom"),rt(D,"leaflet-tooltip-"+Ie),Cr(D,A)},_updatePosition:function(){var A=this._map.latLngToLayerPoint(this._latlng);this._setPosition(A)},setOpacity:function(A){this.options.opacity=A,this._container&&nr(this._container,A)},_animateZoom:function(A){var f=this._map._latLngToNewLayerPoint(this._latlng,A.zoom,A.center);this._setPosition(f)},_getAnchor:function(){return we(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),ru=function(A,f){return new Bl(A,f)};Vr.include({openTooltip:function(A,f,v){return this._initOverlay(Bl,A,f,v).openOn(this),this},closeTooltip:function(A){return A.close(),this}}),Qn.include({bindTooltip:function(A,f){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Bl,this._tooltip,A,f),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(A){if(!(!A&&this._tooltipHandlersAdded)){var f=A?"off":"on",v={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?v.add=this._openTooltip:(v.mouseover=this._openTooltip,v.mouseout=this.closeTooltip,v.click=this._openTooltip,this._map?this._addFocusListeners():v.add=this._addFocusListeners),this._tooltip.options.sticky&&(v.mousemove=this._moveTooltip),this[f](v),this._tooltipHandlersAdded=!A}},openTooltip:function(A){return this._tooltip&&(this instanceof qa||(this._tooltip._source=this),this._tooltip._prepareOpen(A)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(A){return this._tooltip&&this._tooltip.setContent(A),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(A){var f=typeof A.getElement=="function"&&A.getElement();f&&(jt(f,"focus",function(){this._tooltip._source=A,this.openTooltip()},this),jt(f,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(A){var f=typeof A.getElement=="function"&&A.getElement();f&&f.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(A){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var f=this;this._map.once("moveend",function(){f._openOnceFlag=!1,f._openTooltip(A)});return}this._tooltip._source=A.layer||A.target,this.openTooltip(this._tooltip.options.sticky?A.latlng:void 0)}},_moveTooltip:function(A){var f=A.latlng,v,E;this._tooltip.options.sticky&&A.originalEvent&&(v=this._map.mouseEventToContainerPoint(A.originalEvent),E=this._map.containerPointToLayerPoint(v),f=this._map.layerPointToLatLng(E)),this._tooltip.setLatLng(f)}});var bc=ca.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(A){var f=A&&A.tagName==="DIV"?A:document.createElement("div"),v=this.options;if(v.html instanceof Element?(Jn(f),f.appendChild(v.html)):f.innerHTML=v.html!==!1?v.html:"",v.bgPos){var E=we(v.bgPos);f.style.backgroundPosition=-E.x+"px "+-E.y+"px"}return this._setIconStyles(f,"icon"),f},createShadow:function(){return null}});function nu(A){return new bc(A)}ca.Default=Ao;var Jo=Qn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Me.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(A){j(this,A)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(A){A._addZoomLimit(this)},onRemove:function(A){this._removeAllTiles(),Qr(this._container),A._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(_e(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(nt(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(A){return this.options.opacity=A,this._updateOpacity(),this},setZIndex:function(A){return this.options.zIndex=A,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var A=this._clampZoom(this._map.getZoom());A!==this._tileZoom&&(this._tileZoom=A,this._updateLevels()),this._update()}return this},getEvents:function(){var A={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=m(this._onMoveEnd,this.options.updateInterval,this)),A.move=this._onMove),this._zoomAnimated&&(A.zoomanim=this._animateZoom),A},createTile:function(){return document.createElement("div")},getTileSize:function(){var A=this.options.tileSize;return A instanceof z?A:new z(A,A)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(A){for(var f=this.getPane().children,v=-A(-1/0,1/0),E=0,D=f.length,ne;E<D;E++)ne=f[E].style.zIndex,f[E]!==this._container&&ne&&(v=A(v,+ne));isFinite(v)&&(this.options.zIndex=v+A(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Me.ielt9){nr(this._container,this.options.opacity);var A=+new Date,f=!1,v=!1;for(var E in this._tiles){var D=this._tiles[E];if(!(!D.current||!D.loaded)){var ne=Math.min(1,(A-D.loaded)/200);nr(D.el,ne),ne<1?f=!0:(D.active?v=!0:this._onOpaqueTile(D),D.active=!0)}}v&&!this._noPrune&&this._pruneTiles(),f&&($(this._fadeFrame),this._fadeFrame=K(this._updateOpacity,this))}},_onOpaqueTile:b,_initContainer:function(){this._container||(this._container=br("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var A=this._tileZoom,f=this.options.maxZoom;if(A!==void 0){for(var v in this._levels)v=Number(v),this._levels[v].el.children.length||v===A?(this._levels[v].el.style.zIndex=f-Math.abs(A-v),this._onUpdateLevel(v)):(Qr(this._levels[v].el),this._removeTilesAtZoom(v),this._onRemoveLevel(v),delete this._levels[v]);var E=this._levels[A],D=this._map;return E||(E=this._levels[A]={},E.el=br("div","leaflet-tile-container leaflet-zoom-animated",this._container),E.el.style.zIndex=f,E.origin=D.project(D.unproject(D.getPixelOrigin()),A).round(),E.zoom=A,this._setZoomTransform(E,D.getCenter(),D.getZoom()),b(E.el.offsetWidth),this._onCreateLevel(E)),this._level=E,E}},_onUpdateLevel:b,_onRemoveLevel:b,_onCreateLevel:b,_pruneTiles:function(){if(this._map){var A,f,v=this._map.getZoom();if(v>this.options.maxZoom||v<this.options.minZoom){this._removeAllTiles();return}for(A in this._tiles)f=this._tiles[A],f.retain=f.current;for(A in this._tiles)if(f=this._tiles[A],f.current&&!f.active){var E=f.coords;this._retainParent(E.x,E.y,E.z,E.z-5)||this._retainChildren(E.x,E.y,E.z,E.z+2)}for(A in this._tiles)this._tiles[A].retain||this._removeTile(A)}},_removeTilesAtZoom:function(A){for(var f in this._tiles)this._tiles[f].coords.z===A&&this._removeTile(f)},_removeAllTiles:function(){for(var A in this._tiles)this._removeTile(A)},_invalidateAll:function(){for(var A in this._levels)Qr(this._levels[A].el),this._onRemoveLevel(Number(A)),delete this._levels[A];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(A,f,v,E){var D=Math.floor(A/2),ne=Math.floor(f/2),Ce=v-1,Ie=new z(+D,+ne);Ie.z=+Ce;var Ve=this._tileCoordsToKey(Ie),dt=this._tiles[Ve];return dt&&dt.active?(dt.retain=!0,!0):(dt&&dt.loaded&&(dt.retain=!0),Ce>E?this._retainParent(D,ne,Ce,E):!1)},_retainChildren:function(A,f,v,E){for(var D=2*A;D<2*A+2;D++)for(var ne=2*f;ne<2*f+2;ne++){var Ce=new z(D,ne);Ce.z=v+1;var Ie=this._tileCoordsToKey(Ce),Ve=this._tiles[Ie];if(Ve&&Ve.active){Ve.retain=!0;continue}else Ve&&Ve.loaded&&(Ve.retain=!0);v+1<E&&this._retainChildren(D,ne,v+1,E)}},_resetView:function(A){var f=A&&(A.pinch||A.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),f,f)},_animateZoom:function(A){this._setView(A.center,A.zoom,!0,A.noUpdate)},_clampZoom:function(A){var f=this.options;return f.minNativeZoom!==void 0&&A<f.minNativeZoom?f.minNativeZoom:f.maxNativeZoom!==void 0&&f.maxNativeZoom<A?f.maxNativeZoom:A},_setView:function(A,f,v,E){var D=Math.round(f);this.options.maxZoom!==void 0&&D>this.options.maxZoom||this.options.minZoom!==void 0&&D<this.options.minZoom?D=void 0:D=this._clampZoom(D);var ne=this.options.updateWhenZooming&&D!==this._tileZoom;(!E||ne)&&(this._tileZoom=D,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),D!==void 0&&this._update(A),v||this._pruneTiles(),this._noPrune=!!v),this._setZoomTransforms(A,f)},_setZoomTransforms:function(A,f){for(var v in this._levels)this._setZoomTransform(this._levels[v],A,f)},_setZoomTransform:function(A,f,v){var E=this._map.getZoomScale(v,A.zoom),D=A.origin.multiplyBy(E).subtract(this._map._getNewPixelOrigin(f,v)).round();Me.any3d?ss(A.el,D,E):Cr(A.el,D)},_resetGrid:function(){var A=this._map,f=A.options.crs,v=this._tileSize=this.getTileSize(),E=this._tileZoom,D=this._map.getPixelWorldBounds(this._tileZoom);D&&(this._globalTileRange=this._pxBoundsToTileRange(D)),this._wrapX=f.wrapLng&&!this.options.noWrap&&[Math.floor(A.project([0,f.wrapLng[0]],E).x/v.x),Math.ceil(A.project([0,f.wrapLng[1]],E).x/v.y)],this._wrapY=f.wrapLat&&!this.options.noWrap&&[Math.floor(A.project([f.wrapLat[0],0],E).y/v.x),Math.ceil(A.project([f.wrapLat[1],0],E).y/v.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(A){var f=this._map,v=f._animatingZoom?Math.max(f._animateToZoom,f.getZoom()):f.getZoom(),E=f.getZoomScale(v,this._tileZoom),D=f.project(A,this._tileZoom).floor(),ne=f.getSize().divideBy(E*2);return new V(D.subtract(ne),D.add(ne))},_update:function(A){var f=this._map;if(f){var v=this._clampZoom(f.getZoom());if(A===void 0&&(A=f.getCenter()),this._tileZoom!==void 0){var E=this._getTiledPixelBounds(A),D=this._pxBoundsToTileRange(E),ne=D.getCenter(),Ce=[],Ie=this.options.keepBuffer,Ve=new V(D.getBottomLeft().subtract([Ie,-Ie]),D.getTopRight().add([Ie,-Ie]));if(!(isFinite(D.min.x)&&isFinite(D.min.y)&&isFinite(D.max.x)&&isFinite(D.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var dt in this._tiles){var Mt=this._tiles[dt].coords;(Mt.z!==this._tileZoom||!Ve.contains(new z(Mt.x,Mt.y)))&&(this._tiles[dt].current=!1)}if(Math.abs(v-this._tileZoom)>1){this._setView(A,v);return}for(var lr=D.min.y;lr<=D.max.y;lr++)for(var Zr=D.min.x;Zr<=D.max.x;Zr++){var ea=new z(Zr,lr);if(ea.z=this._tileZoom,!!this._isValidTile(ea)){var ls=this._tiles[this._tileCoordsToKey(ea)];ls?ls.current=!0:Ce.push(ea)}}if(Ce.sort(function(mn,gn){return mn.distanceTo(ne)-gn.distanceTo(ne)}),Ce.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Ya=document.createDocumentFragment();for(Zr=0;Zr<Ce.length;Zr++)this._addTile(Ce[Zr],Ya);this._level.el.appendChild(Ya)}}}},_isValidTile:function(A){var f=this._map.options.crs;if(!f.infinite){var v=this._globalTileRange;if(!f.wrapLng&&(A.x<v.min.x||A.x>v.max.x)||!f.wrapLat&&(A.y<v.min.y||A.y>v.max.y))return!1}if(!this.options.bounds)return!0;var E=this._tileCoordsToBounds(A);return Q(this.options.bounds).overlaps(E)},_keyToBounds:function(A){return this._tileCoordsToBounds(this._keyToTileCoords(A))},_tileCoordsToNwSe:function(A){var f=this._map,v=this.getTileSize(),E=A.scaleBy(v),D=E.add(v),ne=f.unproject(E,A.z),Ce=f.unproject(D,A.z);return[ne,Ce]},_tileCoordsToBounds:function(A){var f=this._tileCoordsToNwSe(A),v=new G(f[0],f[1]);return this.options.noWrap||(v=this._map.wrapLatLngBounds(v)),v},_tileCoordsToKey:function(A){return A.x+":"+A.y+":"+A.z},_keyToTileCoords:function(A){var f=A.split(":"),v=new z(+f[0],+f[1]);return v.z=+f[2],v},_removeTile:function(A){var f=this._tiles[A];f&&(Qr(f.el),delete this._tiles[A],this.fire("tileunload",{tile:f.el,coords:this._keyToTileCoords(A)}))},_initTile:function(A){rt(A,"leaflet-tile");var f=this.getTileSize();A.style.width=f.x+"px",A.style.height=f.y+"px",A.onselectstart=b,A.onmousemove=b,Me.ielt9&&this.options.opacity<1&&nr(A,this.options.opacity)},_addTile:function(A,f){var v=this._getTilePos(A),E=this._tileCoordsToKey(A),D=this.createTile(this._wrapCoords(A),c(this._tileReady,this,A));this._initTile(D),this.createTile.length<2&&K(c(this._tileReady,this,A,null,D)),Cr(D,v),this._tiles[E]={el:D,coords:A,current:!0},f.appendChild(D),this.fire("tileloadstart",{tile:D,coords:A})},_tileReady:function(A,f,v){f&&this.fire("tileerror",{error:f,tile:v,coords:A});var E=this._tileCoordsToKey(A);v=this._tiles[E],v&&(v.loaded=+new Date,this._map._fadeAnimated?(nr(v.el,0),$(this._fadeFrame),this._fadeFrame=K(this._updateOpacity,this)):(v.active=!0,this._pruneTiles()),f||(rt(v.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:v.el,coords:A})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Me.ielt9||!this._map._fadeAnimated?K(this._pruneTiles,this):setTimeout(c(this._pruneTiles,this),250)))},_getTilePos:function(A){return A.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(A){var f=new z(this._wrapX?g(A.x,this._wrapX):A.x,this._wrapY?g(A.y,this._wrapY):A.y);return f.z=A.z,f},_pxBoundsToTileRange:function(A){var f=this.getTileSize();return new V(A.min.unscaleBy(f).floor(),A.max.unscaleBy(f).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var A in this._tiles)if(!this._tiles[A].loaded)return!1;return!0}});function vc(A){return new Jo(A)}var ui=Jo.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(A,f){this._url=A,f=j(this,f),f.detectRetina&&Me.retina&&f.maxZoom>0?(f.tileSize=Math.floor(f.tileSize/2),f.zoomReverse?(f.zoomOffset--,f.minZoom=Math.min(f.maxZoom,f.minZoom+1)):(f.zoomOffset++,f.maxZoom=Math.max(f.minZoom,f.maxZoom-1)),f.minZoom=Math.max(0,f.minZoom)):f.zoomReverse?f.minZoom=Math.min(f.maxZoom,f.minZoom):f.maxZoom=Math.max(f.minZoom,f.maxZoom),typeof f.subdomains=="string"&&(f.subdomains=f.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(A,f){return this._url===A&&f===void 0&&(f=!0),this._url=A,f||this.redraw(),this},createTile:function(A,f){var v=document.createElement("img");return jt(v,"load",c(this._tileOnLoad,this,f,v)),jt(v,"error",c(this._tileOnError,this,f,v)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(v.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(v.referrerPolicy=this.options.referrerPolicy),v.alt="",v.src=this.getTileUrl(A),v},getTileUrl:function(A){var f={r:Me.retina?"@2x":"",s:this._getSubdomain(A),x:A.x,y:A.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var v=this._globalTileRange.max.y-A.y;this.options.tms&&(f.y=v),f["-y"]=v}return I(this._url,a(f,this.options))},_tileOnLoad:function(A,f){Me.ielt9?setTimeout(c(A,this,null,f),0):A(null,f)},_tileOnError:function(A,f,v){var E=this.options.errorTileUrl;E&&f.getAttribute("src")!==E&&(f.src=E),A(v,f)},_onTileRemove:function(A){A.tile.onload=null},_getZoomForUrl:function(){var A=this._tileZoom,f=this.options.maxZoom,v=this.options.zoomReverse,E=this.options.zoomOffset;return v&&(A=f-A),A+E},_getSubdomain:function(A){var f=Math.abs(A.x+A.y)%this.options.subdomains.length;return this.options.subdomains[f]},_abortLoading:function(){var A,f;for(A in this._tiles)if(this._tiles[A].coords.z!==this._tileZoom&&(f=this._tiles[A].el,f.onload=b,f.onerror=b,!f.complete)){f.src=ae;var v=this._tiles[A].coords;Qr(f),delete this._tiles[A],this.fire("tileabort",{tile:f,coords:v})}},_removeTile:function(A){var f=this._tiles[A];if(f)return f.el.setAttribute("src",ae),Jo.prototype._removeTile.call(this,A)},_tileReady:function(A,f,v){if(!(!this._map||v&&v.getAttribute("src")===ae))return Jo.prototype._tileReady.call(this,A,f,v)}});function Va(A,f){return new ui(A,f)}var Nl=ui.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(A,f){this._url=A;var v=a({},this.defaultWmsParams);for(var E in f)E in this.options||(v[E]=f[E]);f=j(this,f);var D=f.detectRetina&&Me.retina?2:1,ne=this.getTileSize();v.width=ne.x*D,v.height=ne.y*D,this.wmsParams=v},onAdd:function(A){this._crs=this.options.crs||A.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var f=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[f]=this._crs.code,ui.prototype.onAdd.call(this,A)},getTileUrl:function(A){var f=this._tileCoordsToNwSe(A),v=this._crs,E=O(v.project(f[0]),v.project(f[1])),D=E.min,ne=E.max,Ce=(this._wmsVersion>=1.3&&this._crs===Xo?[D.y,D.x,ne.y,ne.x]:[D.x,D.y,ne.x,ne.y]).join(","),Ie=ui.prototype.getTileUrl.call(this,A);return Ie+T(this.wmsParams,Ie,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Ce},setParams:function(A,f){return a(this.wmsParams,A),f||this.redraw(),this}});function Za(A,f){return new Nl(A,f)}ui.WMS=Nl,Va.wms=Za;var Ba=Qn.extend({options:{padding:.1},initialize:function(A){j(this,A),h(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),rt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var A={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(A.zoomanim=this._onAnimZoom),A},_onAnimZoom:function(A){this._updateTransform(A.center,A.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(A,f){var v=this._map.getZoomScale(f,this._zoom),E=this._map.getSize().multiplyBy(.5+this.options.padding),D=this._map.project(this._center,f),ne=E.multiplyBy(-v).add(D).subtract(this._map._getNewPixelOrigin(A,f));Me.any3d?ss(this._container,ne,v):Cr(this._container,ne)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var A in this._layers)this._layers[A]._reset()},_onZoomEnd:function(){for(var A in this._layers)this._layers[A]._project()},_updatePaths:function(){for(var A in this._layers)this._layers[A]._update()},_update:function(){var A=this.options.padding,f=this._map.getSize(),v=this._map.containerPointToLayerPoint(f.multiplyBy(-A)).round();this._bounds=new V(v,v.add(f.multiplyBy(1+A*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),aA=Ba.extend({options:{tolerance:0},getEvents:function(){var A=Ba.prototype.getEvents.call(this);return A.viewprereset=this._onViewPreReset,A},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ba.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var A=this._container=document.createElement("canvas");jt(A,"mousemove",this._onMouseMove,this),jt(A,"click dblclick mousedown mouseup contextmenu",this._onClick,this),jt(A,"mouseout",this._handleMouseOut,this),A._leaflet_disable_events=!0,this._ctx=A.getContext("2d")},_destroyContainer:function(){$(this._redrawRequest),delete this._ctx,Qr(this._container),pn(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var A;this._redrawBounds=null;for(var f in this._layers)A=this._layers[f],A._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ba.prototype._update.call(this);var A=this._bounds,f=this._container,v=A.getSize(),E=Me.retina?2:1;Cr(f,A.min),f.width=E*v.x,f.height=E*v.y,f.style.width=v.x+"px",f.style.height=v.y+"px",Me.retina&&this._ctx.scale(2,2),this._ctx.translate(-A.min.x,-A.min.y),this.fire("update")}},_reset:function(){Ba.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(A){this._updateDashArray(A),this._layers[h(A)]=A;var f=A._order={layer:A,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=f),this._drawLast=f,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(A){this._requestRedraw(A)},_removePath:function(A){var f=A._order,v=f.next,E=f.prev;v?v.prev=E:this._drawLast=E,E?E.next=v:this._drawFirst=v,delete A._order,delete this._layers[h(A)],this._requestRedraw(A)},_updatePath:function(A){this._extendRedrawBounds(A),A._project(),A._update(),this._requestRedraw(A)},_updateStyle:function(A){this._updateDashArray(A),this._requestRedraw(A)},_updateDashArray:function(A){if(typeof A.options.dashArray=="string"){var f=A.options.dashArray.split(/[, ]+/),v=[],E,D;for(D=0;D<f.length;D++){if(E=Number(f[D]),isNaN(E))return;v.push(E)}A.options._dashArray=v}else A.options._dashArray=A.options.dashArray},_requestRedraw:function(A){this._map&&(this._extendRedrawBounds(A),this._redrawRequest=this._redrawRequest||K(this._redraw,this))},_extendRedrawBounds:function(A){if(A._pxBounds){var f=(A.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new V,this._redrawBounds.extend(A._pxBounds.min.subtract([f,f])),this._redrawBounds.extend(A._pxBounds.max.add([f,f]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var A=this._redrawBounds;if(A){var f=A.getSize();this._ctx.clearRect(A.min.x,A.min.y,f.x,f.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var A,f=this._redrawBounds;if(this._ctx.save(),f){var v=f.getSize();this._ctx.beginPath(),this._ctx.rect(f.min.x,f.min.y,v.x,v.y),this._ctx.clip()}this._drawing=!0;for(var E=this._drawFirst;E;E=E.next)A=E.layer,(!f||A._pxBounds&&A._pxBounds.intersects(f))&&A._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(A,f){if(this._drawing){var v,E,D,ne,Ce=A._parts,Ie=Ce.length,Ve=this._ctx;if(Ie){for(Ve.beginPath(),v=0;v<Ie;v++){for(E=0,D=Ce[v].length;E<D;E++)ne=Ce[v][E],Ve[E?"lineTo":"moveTo"](ne.x,ne.y);f&&Ve.closePath()}this._fillStroke(Ve,A)}}},_updateCircle:function(A){if(!(!this._drawing||A._empty())){var f=A._point,v=this._ctx,E=Math.max(Math.round(A._radius),1),D=(Math.max(Math.round(A._radiusY),1)||E)/E;D!==1&&(v.save(),v.scale(1,D)),v.beginPath(),v.arc(f.x,f.y/D,E,0,Math.PI*2,!1),D!==1&&v.restore(),this._fillStroke(v,A)}},_fillStroke:function(A,f){var v=f.options;v.fill&&(A.globalAlpha=v.fillOpacity,A.fillStyle=v.fillColor||v.color,A.fill(v.fillRule||"evenodd")),v.stroke&&v.weight!==0&&(A.setLineDash&&A.setLineDash(f.options&&f.options._dashArray||[]),A.globalAlpha=v.opacity,A.lineWidth=v.weight,A.strokeStyle=v.color,A.lineCap=v.lineCap,A.lineJoin=v.lineJoin,A.stroke())},_onClick:function(A){for(var f=this._map.mouseEventToLayerPoint(A),v,E,D=this._drawFirst;D;D=D.next)v=D.layer,v.options.interactive&&v._containsPoint(f)&&(!(A.type==="click"||A.type==="preclick")||!this._map._draggableMoved(v))&&(E=v);this._fireEvent(E?[E]:!1,A)},_onMouseMove:function(A){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var f=this._map.mouseEventToLayerPoint(A);this._handleMouseHover(A,f)}},_handleMouseOut:function(A){var f=this._hoveredLayer;f&&(Bt(this._container,"leaflet-interactive"),this._fireEvent([f],A,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(A,f){if(!this._mouseHoverThrottled){for(var v,E,D=this._drawFirst;D;D=D.next)v=D.layer,v.options.interactive&&v._containsPoint(f)&&(E=v);E!==this._hoveredLayer&&(this._handleMouseOut(A),E&&(rt(this._container,"leaflet-interactive"),this._fireEvent([E],A,"mouseover"),this._hoveredLayer=E)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,A),this._mouseHoverThrottled=!0,setTimeout(c(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(A,f,v){this._map._fireDOMEvent(f,v||f.type,A)},_bringToFront:function(A){var f=A._order;if(f){var v=f.next,E=f.prev;if(v)v.prev=E;else return;E?E.next=v:v&&(this._drawFirst=v),f.prev=this._drawLast,this._drawLast.next=f,f.next=null,this._drawLast=f,this._requestRedraw(A)}},_bringToBack:function(A){var f=A._order;if(f){var v=f.next,E=f.prev;if(E)E.next=v;else return;v?v.prev=E:E&&(this._drawLast=E),f.prev=null,f.next=this._drawFirst,this._drawFirst.prev=f,this._drawFirst=f,this._requestRedraw(A)}}});function Cl(A){return Me.canvas?new aA(A):null}var ho=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(A){return document.createElement("<lvml:"+A+' class="lvml">')}}catch{}return function(A){return document.createElement("<"+A+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),QA={_initContainer:function(){this._container=br("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ba.prototype._update.call(this),this.fire("update"))},_initPath:function(A){var f=A._container=ho("shape");rt(f,"leaflet-vml-shape "+(this.options.className||"")),f.coordsize="1 1",A._path=ho("path"),f.appendChild(A._path),this._updateStyle(A),this._layers[h(A)]=A},_addPath:function(A){var f=A._container;this._container.appendChild(f),A.options.interactive&&A.addInteractiveTarget(f)},_removePath:function(A){var f=A._container;Qr(f),A.removeInteractiveTarget(f),delete this._layers[h(A)]},_updateStyle:function(A){var f=A._stroke,v=A._fill,E=A.options,D=A._container;D.stroked=!!E.stroke,D.filled=!!E.fill,E.stroke?(f||(f=A._stroke=ho("stroke")),D.appendChild(f),f.weight=E.weight+"px",f.color=E.color,f.opacity=E.opacity,E.dashArray?f.dashStyle=F(E.dashArray)?E.dashArray.join(" "):E.dashArray.replace(/( *, *)/g," "):f.dashStyle="",f.endcap=E.lineCap.replace("butt","flat"),f.joinstyle=E.lineJoin):f&&(D.removeChild(f),A._stroke=null),E.fill?(v||(v=A._fill=ho("fill")),D.appendChild(v),v.color=E.fillColor||E.color,v.opacity=E.fillOpacity):v&&(D.removeChild(v),A._fill=null)},_updateCircle:function(A){var f=A._point.round(),v=Math.round(A._radius),E=Math.round(A._radiusY||v);this._setPath(A,A._empty()?"M0 0":"AL "+f.x+","+f.y+" "+v+","+E+" 0,"+65535*360)},_setPath:function(A,f){A._path.v=f},_bringToFront:function(A){_e(A._container)},_bringToBack:function(A){nt(A._container)}},di=Me.vml?ho:he,fo=Ba.extend({_initContainer:function(){this._container=di("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=di("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Qr(this._container),pn(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ba.prototype._update.call(this);var A=this._bounds,f=A.getSize(),v=this._container;(!this._svgSize||!this._svgSize.equals(f))&&(this._svgSize=f,v.setAttribute("width",f.x),v.setAttribute("height",f.y)),Cr(v,A.min),v.setAttribute("viewBox",[A.min.x,A.min.y,f.x,f.y].join(" ")),this.fire("update")}},_initPath:function(A){var f=A._path=di("path");A.options.className&&rt(f,A.options.className),A.options.interactive&&rt(f,"leaflet-interactive"),this._updateStyle(A),this._layers[h(A)]=A},_addPath:function(A){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(A._path),A.addInteractiveTarget(A._path)},_removePath:function(A){Qr(A._path),A.removeInteractiveTarget(A._path),delete this._layers[h(A)]},_updatePath:function(A){A._project(),A._update()},_updateStyle:function(A){var f=A._path,v=A.options;f&&(v.stroke?(f.setAttribute("stroke",v.color),f.setAttribute("stroke-opacity",v.opacity),f.setAttribute("stroke-width",v.weight),f.setAttribute("stroke-linecap",v.lineCap),f.setAttribute("stroke-linejoin",v.lineJoin),v.dashArray?f.setAttribute("stroke-dasharray",v.dashArray):f.removeAttribute("stroke-dasharray"),v.dashOffset?f.setAttribute("stroke-dashoffset",v.dashOffset):f.removeAttribute("stroke-dashoffset")):f.setAttribute("stroke","none"),v.fill?(f.setAttribute("fill",v.fillColor||v.color),f.setAttribute("fill-opacity",v.fillOpacity),f.setAttribute("fill-rule",v.fillRule||"evenodd")):f.setAttribute("fill","none"))},_updatePoly:function(A,f){this._setPath(A,ct(A._parts,f))},_updateCircle:function(A){var f=A._point,v=Math.max(Math.round(A._radius),1),E=Math.max(Math.round(A._radiusY),1)||v,D="a"+v+","+E+" 0 1,0 ",ne=A._empty()?"M0 0":"M"+(f.x-v)+","+f.y+D+v*2+",0 "+D+-v*2+",0 ";this._setPath(A,ne)},_setPath:function(A,f){A._path.setAttribute("d",f)},_bringToFront:function(A){_e(A._path)},_bringToBack:function(A){nt(A._path)}});Me.vml&&fo.include(QA);function Js(A){return Me.svg||Me.vml?new fo(A):null}Vr.include({getRenderer:function(A){var f=A.options.renderer||this._getPaneRenderer(A.options.pane)||this.options.renderer||this._renderer;return f||(f=this._renderer=this._createRenderer()),this.hasLayer(f)||this.addLayer(f),f},_getPaneRenderer:function(A){if(A==="overlayPane"||A===void 0)return!1;var f=this._paneRenderers[A];return f===void 0&&(f=this._createRenderer({pane:A}),this._paneRenderers[A]=f),f},_createRenderer:function(A){return this.options.preferCanvas&&Cl(A)||Js(A)}});var Os=co.extend({initialize:function(A,f){co.prototype.initialize.call(this,this._boundsToLatLngs(A),f)},setBounds:function(A){return this.setLatLngs(this._boundsToLatLngs(A))},_boundsToLatLngs:function(A){return A=Q(A),[A.getSouthWest(),A.getNorthWest(),A.getNorthEast(),A.getSouthEast()]}});function IA(A,f){return new Os(A,f)}fo.create=di,fo.pointsToPath=ct,Is.geometryToLayer=gs,Is.coordsToLatLng=Uo,Is.coordsToLatLngs=uo,Is.latLngToCoords=ji,Is.latLngsToCoords=ci,Is.getFeature=ya,Is.asFeature=Di,Vr.mergeOptions({boxZoom:!0});var Ws=xe.extend({initialize:function(A){this._map=A,this._container=A._container,this._pane=A._panes.overlayPane,this._resetStateTimeout=0,A.on("unload",this._destroy,this)},addHooks:function(){jt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){pn(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Qr(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(A){if(!A.shiftKey||A.which!==1&&A.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),si(),bl(),this._startPoint=this._map.mouseEventToContainerPoint(A),jt(document,{contextmenu:Ti,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(A){this._moved||(this._moved=!0,this._box=br("div","leaflet-zoom-box",this._container),rt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(A);var f=new V(this._point,this._startPoint),v=f.getSize();Cr(this._box,f.min),this._box.style.width=v.x+"px",this._box.style.height=v.y+"px"},_finish:function(){this._moved&&(Qr(this._box),Bt(this._container,"leaflet-crosshair")),$s(),Go(),pn(document,{contextmenu:Ti,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(A){if(!(A.which!==1&&A.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(c(this._resetState,this),0);var f=new G(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(f).fire("boxzoomend",{boxZoomBounds:f})}},_onKeyDown:function(A){A.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Vr.addInitHook("addHandler","boxZoom",Ws),Vr.mergeOptions({doubleClickZoom:!0});var iA=xe.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(A){var f=this._map,v=f.getZoom(),E=f.options.zoomDelta,D=A.originalEvent.shiftKey?v-E:v+E;f.options.doubleClickZoom==="center"?f.setZoom(D):f.setZoomAround(A.containerPoint,D)}});Vr.addInitHook("addHandler","doubleClickZoom",iA),Vr.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var $a=xe.extend({addHooks:function(){if(!this._draggable){var A=this._map;this._draggable=new st(A._mapPane,A._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),A.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),A.on("zoomend",this._onZoomEnd,this),A.whenReady(this._onZoomEnd,this))}rt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Bt(this._map._container,"leaflet-grab"),Bt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var A=this._map;if(A._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var f=Q(this._map.options.maxBounds);this._offsetLimit=O(this._map.latLngToContainerPoint(f.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(f.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;A.fire("movestart").fire("dragstart"),A.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(A){if(this._map.options.inertia){var f=this._lastTime=+new Date,v=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(v),this._times.push(f),this._prunePositions(f)}this._map.fire("move",A).fire("drag",A)},_prunePositions:function(A){for(;this._positions.length>1&&A-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var A=this._map.getSize().divideBy(2),f=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=f.subtract(A).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(A,f){return A-(A-f)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var A=this._draggable._newPos.subtract(this._draggable._startPos),f=this._offsetLimit;A.x<f.min.x&&(A.x=this._viscousLimit(A.x,f.min.x)),A.y<f.min.y&&(A.y=this._viscousLimit(A.y,f.min.y)),A.x>f.max.x&&(A.x=this._viscousLimit(A.x,f.max.x)),A.y>f.max.y&&(A.y=this._viscousLimit(A.y,f.max.y)),this._draggable._newPos=this._draggable._startPos.add(A)}},_onPreDragWrap:function(){var A=this._worldWidth,f=Math.round(A/2),v=this._initialWorldOffset,E=this._draggable._newPos.x,D=(E-f+v)%A+f-v,ne=(E+f+v)%A-f-v,Ce=Math.abs(D+v)<Math.abs(ne+v)?D:ne;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Ce},_onDragEnd:function(A){var f=this._map,v=f.options,E=!v.inertia||A.noInertia||this._times.length<2;if(f.fire("dragend",A),E)f.fire("moveend");else{this._prunePositions(+new Date);var D=this._lastPos.subtract(this._positions[0]),ne=(this._lastTime-this._times[0])/1e3,Ce=v.easeLinearity,Ie=D.multiplyBy(Ce/ne),Ve=Ie.distanceTo([0,0]),dt=Math.min(v.inertiaMaxSpeed,Ve),Mt=Ie.multiplyBy(dt/Ve),lr=dt/(v.inertiaDeceleration*Ce),Zr=Mt.multiplyBy(-lr/2).round();!Zr.x&&!Zr.y?f.fire("moveend"):(Zr=f._limitOffset(Zr,f.options.maxBounds),K(function(){f.panBy(Zr,{duration:lr,easeLinearity:Ce,noMoveStart:!0,animate:!0})}))}}});Vr.addInitHook("addHandler","dragging",$a),Vr.mergeOptions({keyboard:!0,keyboardPanDelta:80});var El=xe.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(A){this._map=A,this._setPanDelta(A.options.keyboardPanDelta),this._setZoomDelta(A.options.zoomDelta)},addHooks:function(){var A=this._map._container;A.tabIndex<=0&&(A.tabIndex="0"),jt(A,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),pn(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var A=document.body,f=document.documentElement,v=A.scrollTop||f.scrollTop,E=A.scrollLeft||f.scrollLeft;this._map._container.focus(),window.scrollTo(E,v)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(A){var f=this._panKeys={},v=this.keyCodes,E,D;for(E=0,D=v.left.length;E<D;E++)f[v.left[E]]=[-1*A,0];for(E=0,D=v.right.length;E<D;E++)f[v.right[E]]=[A,0];for(E=0,D=v.down.length;E<D;E++)f[v.down[E]]=[0,A];for(E=0,D=v.up.length;E<D;E++)f[v.up[E]]=[0,-1*A]},_setZoomDelta:function(A){var f=this._zoomKeys={},v=this.keyCodes,E,D;for(E=0,D=v.zoomIn.length;E<D;E++)f[v.zoomIn[E]]=A;for(E=0,D=v.zoomOut.length;E<D;E++)f[v.zoomOut[E]]=-A},_addHooks:function(){jt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){pn(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(A){if(!(A.altKey||A.ctrlKey||A.metaKey)){var f=A.keyCode,v=this._map,E;if(f in this._panKeys){if(!v._panAnim||!v._panAnim._inProgress)if(E=this._panKeys[f],A.shiftKey&&(E=we(E).multiplyBy(3)),v.options.maxBounds&&(E=v._limitOffset(we(E),v.options.maxBounds)),v.options.worldCopyJump){var D=v.wrapLatLng(v.unproject(v.project(v.getCenter()).add(E)));v.panTo(D)}else v.panBy(E)}else if(f in this._zoomKeys)v.setZoom(v.getZoom()+(A.shiftKey?3:1)*this._zoomKeys[f]);else if(f===27&&v._popup&&v._popup.options.closeOnEscapeKey)v.closePopup();else return;Ti(A)}}});Vr.addInitHook("addHandler","keyboard",El),Vr.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Wo=xe.extend({addHooks:function(){jt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){pn(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(A){var f=Ss(A),v=this._map.options.wheelDebounceTime;this._delta+=f,this._lastMousePos=this._map.mouseEventToContainerPoint(A),this._startTime||(this._startTime=+new Date);var E=Math.max(v-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(c(this._performZoom,this),E),Ti(A)},_performZoom:function(){var A=this._map,f=A.getZoom(),v=this._map.options.zoomSnap||0;A._stop();var E=this._delta/(this._map.options.wheelPxPerZoomLevel*4),D=4*Math.log(2/(1+Math.exp(-Math.abs(E))))/Math.LN2,ne=v?Math.ceil(D/v)*v:D,Ce=A._limitZoom(f+(this._delta>0?ne:-ne))-f;this._delta=0,this._startTime=null,Ce&&(A.options.scrollWheelZoom==="center"?A.setZoom(f+Ce):A.setZoomAround(this._lastMousePos,f+Ce))}});Vr.addInitHook("addHandler","scrollWheelZoom",Wo);var To=600;Vr.mergeOptions({tapHold:Me.touchNative&&Me.safari&&Me.mobile,tapTolerance:15});var Sl=xe.extend({addHooks:function(){jt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){pn(this._map._container,"touchstart",this._onDown,this)},_onDown:function(A){if(clearTimeout(this._holdTimeout),A.touches.length===1){var f=A.touches[0];this._startPos=this._newPos=new z(f.clientX,f.clientY),this._holdTimeout=setTimeout(c(function(){this._cancel(),this._isTapValid()&&(jt(document,"touchend",kn),jt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",f))},this),To),jt(document,"touchend touchcancel contextmenu",this._cancel,this),jt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function A(){pn(document,"touchend",kn),pn(document,"touchend touchcancel",A)},_cancel:function(){clearTimeout(this._holdTimeout),pn(document,"touchend touchcancel contextmenu",this._cancel,this),pn(document,"touchmove",this._onMove,this)},_onMove:function(A){var f=A.touches[0];this._newPos=new z(f.clientX,f.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(A,f){var v=new MouseEvent(A,{bubbles:!0,cancelable:!0,view:window,screenX:f.screenX,screenY:f.screenY,clientX:f.clientX,clientY:f.clientY});v._simulated=!0,f.target.dispatchEvent(v)}});Vr.addInitHook("addHandler","tapHold",Sl),Vr.mergeOptions({touchZoom:Me.touch,bounceAtZoomLimits:!0});var oA=xe.extend({addHooks:function(){rt(this._map._container,"leaflet-touch-zoom"),jt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Bt(this._map._container,"leaflet-touch-zoom"),pn(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(A){var f=this._map;if(!(!A.touches||A.touches.length!==2||f._animatingZoom||this._zooming)){var v=f.mouseEventToContainerPoint(A.touches[0]),E=f.mouseEventToContainerPoint(A.touches[1]);this._centerPoint=f.getSize()._divideBy(2),this._startLatLng=f.containerPointToLatLng(this._centerPoint),f.options.touchZoom!=="center"&&(this._pinchStartLatLng=f.containerPointToLatLng(v.add(E)._divideBy(2))),this._startDist=v.distanceTo(E),this._startZoom=f.getZoom(),this._moved=!1,this._zooming=!0,f._stop(),jt(document,"touchmove",this._onTouchMove,this),jt(document,"touchend touchcancel",this._onTouchEnd,this),kn(A)}},_onTouchMove:function(A){if(!(!A.touches||A.touches.length!==2||!this._zooming)){var f=this._map,v=f.mouseEventToContainerPoint(A.touches[0]),E=f.mouseEventToContainerPoint(A.touches[1]),D=v.distanceTo(E)/this._startDist;if(this._zoom=f.getScaleZoom(D,this._startZoom),!f.options.bounceAtZoomLimits&&(this._zoom<f.getMinZoom()&&D<1||this._zoom>f.getMaxZoom()&&D>1)&&(this._zoom=f._limitZoom(this._zoom)),f.options.touchZoom==="center"){if(this._center=this._startLatLng,D===1)return}else{var ne=v._add(E)._divideBy(2)._subtract(this._centerPoint);if(D===1&&ne.x===0&&ne.y===0)return;this._center=f.unproject(f.project(this._pinchStartLatLng,this._zoom).subtract(ne),this._zoom)}this._moved||(f._moveStart(!0,!1),this._moved=!0),$(this._animRequest);var Ce=c(f._move,f,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=K(Ce,this,!0),kn(A)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,$(this._animRequest),pn(document,"touchmove",this._onTouchMove,this),pn(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Vr.addInitHook("addHandler","touchZoom",oA),Vr.BoxZoom=Ws,Vr.DoubleClickZoom=iA,Vr.Drag=$a,Vr.Keyboard=El,Vr.ScrollWheelZoom=Wo,Vr.TapHold=Sl,Vr.TouchZoom=oA,t.Bounds=V,t.Browser=Me,t.CRS=Be,t.Canvas=aA,t.Circle=Li,t.CircleMarker=Ga,t.Class=le,t.Control=Ls,t.DivIcon=bc,t.DivOverlay=xs,t.DomEvent=ii,t.DomUtil=So,t.Draggable=st,t.Evented=pe,t.FeatureGroup=qa,t.GeoJSON=Is,t.GridLayer=Jo,t.Handler=xe,t.Icon=ca,t.ImageOverlay=_a,t.LatLng=oe,t.LatLngBounds=G,t.Layer=Qn,t.LayerGroup=Ua,t.LineUtil=Yo,t.Map=Vr,t.Marker=Si,t.Mixin=Le,t.Path=Wn,t.Point=z,t.PolyUtil=Er,t.Polygon=co,t.Polyline=Fa,t.Popup=Hi,t.PosAnimation=Fi,t.Projection=jo,t.Rectangle=Os,t.Renderer=Ba,t.SVG=fo,t.SVGOverlay=es,t.TileLayer=ui,t.Tooltip=Bl,t.Transformation=it,t.Util=re,t.VideoOverlay=nn,t.bind=c,t.bounds=O,t.canvas=Cl,t.circle=_l,t.circleMarker=Ii,t.control=za,t.divIcon=nu,t.extend=a,t.featureGroup=Ka,t.geoJSON=Ri,t.geoJson=ua,t.gridLayer=vc,t.icon=lo,t.imageOverlay=hn,t.latLng=ce,t.latLngBounds=Q,t.layerGroup=wl,t.map=$o,t.marker=Ta,t.point=we,t.polygon=Oi,t.polyline=os,t.popup=sA,t.rectangle=IA,t.setOptions=j,t.stamp=h,t.svg=Js,t.svgOverlay=Pi,t.tileLayer=Va,t.tooltip=ru,t.transformation=Re,t.version=n,t.videoOverlay=Un;var Ll=window.L;t.noConflict=function(){return window.L=Ll,this},window.L=t}))})(ih,ih.exports)),ih.exports}var UA=_3();const ma=Rh(UA);function N5(r,e){const t=q.useRef(e);q.useEffect(function(){e!==t.current&&r.attributionControl!=null&&(t.current!=null&&r.attributionControl.removeAttribution(t.current),e!=null&&r.attributionControl.addAttribution(e)),t.current=e},[r,e])}var Lb=u5();const B3=Rh(Lb),N3=1;function C3(r){return Object.freeze({__version:N3,map:r})}function C5(r,e){return Object.freeze({...r,...e})}const pm=q.createContext(null);function fd(){const r=q.use(pm);if(r==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return r}function E3(r){function e(t,n){const{instance:a,context:o}=r(t).current;q.useImperativeHandle(n,()=>a);const{children:c}=t;return c==null?null:Ot.createElement(pm,{value:o},c)}return q.forwardRef(e)}function S3(r){function e(t,n){const[a,o]=q.useState(!1),{instance:c}=r(t,o).current;q.useImperativeHandle(n,()=>c),q.useEffect(function(){a&&c.update()},[c,a,t.children]);const d=c._contentNode;return d?Lb.createPortal(t.children,d):null}return q.forwardRef(e)}function L3(r){function e(t,n){const{instance:a}=r(t).current;return q.useImperativeHandle(n,()=>a),null}return q.forwardRef(e)}function jb(r,e){const t=q.useRef(void 0);q.useEffect(function(){return e!=null&&r.instance.on(e),t.current=e,function(){t.current!=null&&r.instance.off(t.current),t.current=null}},[r,e])}function mm(r,e){const t=r.pane??e.pane;return t?{...r,pane:t}:r}function j3(r,e){return function(n,a){const o=fd(),c=r(mm(n,o),o);return N5(o.map,n.attribution),jb(c.current,n.eventHandlers),e(c.current,o,n,a),c}}function k3(r){return r.split(" ").filter(Boolean)}function U3(r,e){for(const t of k3(e))UA.DomUtil.addClass(r,t)}function gm(r,e,t){return Object.freeze({instance:r,context:e,container:t})}function kb(r,e){return e==null?function(n,a){const o=q.useRef(void 0);return o.current||(o.current=r(n,a)),o}:function(n,a){const o=q.useRef(void 0);o.current||(o.current=r(n,a));const c=q.useRef(n),{instance:d}=o.current;return q.useEffect(function(){c.current!==n&&(e(d,n,c.current),c.current=n)},[d,n,e]),o}}function E5(r,e){q.useEffect(function(){return(e.layerContainer??e.map).addLayer(r.instance),function(){var o;(o=e.layerContainer)==null||o.removeLayer(r.instance),e.map.removeLayer(r.instance)}},[e,r])}function T3(r){return function(t){const n=fd(),a=r(mm(t,n),n);return N5(n.map,t.attribution),jb(a.current,t.eventHandlers),E5(a.current,n),a}}function F3(r,e){const t=q.useRef(void 0);q.useEffect(function(){if(e.pathOptions!==t.current){const a=e.pathOptions??{};r.instance.setStyle(a),t.current=a}},[r,e])}function Q3(r){return function(t){const n=fd(),a=r(mm(t,n),n);return jb(a.current,t.eventHandlers),E5(a.current,n),F3(a.current,t),a}}function I3(r,e){const t=kb(r),n=j3(t,e);return S3(n)}function S5(r,e){const t=kb(r,e),n=Q3(t);return E3(n)}function O3(r,e){const t=kb(r,e),n=T3(t);return L3(n)}function M3(r,e,t){const{opacity:n,zIndex:a}=e;n!=null&&n!==t.opacity&&r.setOpacity(n),a!=null&&a!==t.zIndex&&r.setZIndex(a)}function pd(){return fd().map}const L5=S5(function({children:e,...t},n){const a=new UA.FeatureGroup([],t);return gm(a,C5(n,{layerContainer:a,overlayContainer:a}))});function D3({bounds:r,boundsOptions:e,center:t,children:n,className:a,id:o,placeholder:c,style:d,whenReady:h,zoom:m,...g},b){const[B]=q.useState({className:a,id:o,style:d}),[_,k]=q.useState(null),j=q.useRef(void 0);q.useImperativeHandle(b,()=>(_==null?void 0:_.map)??null,[_]);const T=q.useCallback(I=>{if(I!==null&&!j.current){const F=new UA.Map(I,g);j.current=F,t!=null&&m!=null?F.setView(t,m):r!=null&&F.fitBounds(r,e),h!=null&&F.whenReady(h),k(C3(F))}},[]);q.useEffect(()=>()=>{_==null||_.map.remove()},[_]);const C=_?Ot.createElement(pm,{value:_},n):c??null;return Ot.createElement("div",{...B,ref:T},C)}const Ub=q.forwardRef(D3),R3=["mapPane","markerPane","overlayPane","popupPane","shadowPane","tilePane","tooltipPane"];function Py(r,e){const{[e]:t,...n}=r;return n}function P3(r,e,t){if(R3.indexOf(r)!==-1)throw new Error(`You must use a unique name for a pane that is not a default Leaflet pane: ${r}`);if(t.map.getPane(r)!=null)throw new Error(`A pane with this name already exists: ${r}`);const n=e.pane??t.pane,a=n?t.map.getPane(n):void 0,o=t.map.createPane(r,a);if(e.className!=null&&U3(o,e.className),e.style!=null)for(const c of Object.keys(e.style))o.style[c]=e.style[c];return o}function H3(r,e){const[t]=q.useState(r.name),[n,a]=q.useState(null);q.useImperativeHandle(e,()=>n,[n]);const o=fd(),c=q.useMemo(()=>({...o,pane:t}),[o]);return q.useEffect(()=>(a(P3(t,r,o)),function(){var m;const h=o.map.getPane(t);(m=h==null?void 0:h.remove)==null||m.call(h),o.map._panes!=null&&(o.map._panes=Py(o.map._panes,t),o.map._paneRenderers=Py(o.map._paneRenderers,t))}),[]),r.children!=null&&n!=null?Lb.createPortal(Ot.createElement(pm,{value:c},r.children),n):null}const j5=q.forwardRef(H3),Tb=S5(function({positions:e,...t},n){const a=new UA.Polygon(e,t);return gm(a,C5(n,{overlayContainer:a}))},function(e,t,n){t.positions!==n.positions&&e.setLatLngs(t.positions)}),Fb=O3(function({url:e,...t},n){const a=new UA.TileLayer(e,mm(t,n));return gm(a,n)},function(e,t,n){M3(e,t,n);const{url:a}=t;a!=null&&a!==n.url&&e.setUrl(a)}),Qb=I3(function(e,t){const n=new UA.Tooltip(e,t.overlayContainer);return gm(n,t)},function(e,t,{position:n},a){q.useEffect(function(){const c=t.overlayContainer;if(c==null)return;const{instance:d}=e,h=g=>{g.tooltip===d&&(n!=null&&d.setLatLng(n),d.update(),a(!0))},m=g=>{g.tooltip===d&&a(!1)};return c.on({tooltipopen:h,tooltipclose:m}),c.bindTooltip(d),function(){c.off({tooltipopen:h,tooltipclose:m}),c._map!=null&&c.unbindTooltip()}},[e,t,a,n])});/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Bx=function(r,e){return Bx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},Bx(r,e)};function pl(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Bx(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Nx=function(){return Nx=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Nx.apply(this,arguments)};function ki(r,e,t,n){function a(o){return o instanceof t?o:new t(function(c){c(o)})}return new(t||(t=Promise))(function(o,c){function d(g){try{m(n.next(g))}catch(b){c(b)}}function h(g){try{m(n.throw(g))}catch(b){c(b)}}function m(g){g.done?o(g.value):a(g.value).then(d,h)}m((n=n.apply(r,[])).next())})}function vi(r,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,a,o,c;return c={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function d(m){return function(g){return h([m,g])}}function h(m){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,a&&(o=m[0]&2?a.return:m[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,m[1])).done)return o;switch(a=0,o&&(m=[m[0]&2,o.value]),m[0]){case 0:case 1:o=m;break;case 4:return t.label++,{value:m[1],done:!1};case 5:t.label++,a=m[1],m=[0];continue;case 7:m=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(m[0]===6||m[0]===2)){t=0;continue}if(m[0]===3&&(!o||m[1]>o[0]&&m[1]<o[3])){t.label=m[1];break}if(m[0]===6&&t.label<o[1]){t.label=o[1],o=m;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(m);break}o[2]&&t.ops.pop(),t.trys.pop();continue}m=e.call(r,t)}catch(g){m=[6,g],a=0}finally{n=o=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}}function Mf(r,e,t){if(arguments.length===2)for(var n=0,a=e.length,o;n<a;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||e)}var kA=(function(){function r(e,t,n,a){this.left=e,this.top=t,this.width=n,this.height=a}return r.prototype.add=function(e,t,n,a){return new r(this.left+e,this.top+t,this.width+n,this.height+a)},r.fromClientRect=function(e,t){return new r(t.left+e.windowBounds.left,t.top+e.windowBounds.top,t.width,t.height)},r.fromDOMRectList=function(e,t){var n=Array.from(t).find(function(a){return a.width!==0});return n?new r(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height):r.EMPTY},r.EMPTY=new r(0,0,0,0),r})(),xm=function(r,e){return kA.fromClientRect(r,e.getBoundingClientRect())},z3=function(r){var e=r.body,t=r.documentElement;if(!e||!t)throw new Error("Unable to get document size");var n=Math.max(Math.max(e.scrollWidth,t.scrollWidth),Math.max(e.offsetWidth,t.offsetWidth),Math.max(e.clientWidth,t.clientWidth)),a=Math.max(Math.max(e.scrollHeight,t.scrollHeight),Math.max(e.offsetHeight,t.offsetHeight),Math.max(e.clientHeight,t.clientHeight));return new kA(0,0,n,a)},bm=function(r){for(var e=[],t=0,n=r.length;t<n;){var a=r.charCodeAt(t++);if(a>=55296&&a<=56319&&t<n){var o=r.charCodeAt(t++);(o&64512)===56320?e.push(((a&1023)<<10)+(o&1023)+65536):(e.push(a),t--)}else e.push(a)}return e},sa=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,r);var t=r.length;if(!t)return"";for(var n=[],a=-1,o="";++a<t;){var c=r[a];c<=65535?n.push(c):(c-=65536,n.push((c>>10)+55296,c%1024+56320)),(a+1===t||n.length>16384)&&(o+=String.fromCharCode.apply(String,n),n.length=0)}return o},Hy="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",q3=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Df=0;Df<Hy.length;Df++)q3[Hy.charCodeAt(Df)]=Df;var zy="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",oh=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Rf=0;Rf<zy.length;Rf++)oh[zy.charCodeAt(Rf)]=Rf;var K3=function(r){var e=r.length*.75,t=r.length,n,a=0,o,c,d,h;r[r.length-1]==="="&&(e--,r[r.length-2]==="="&&e--);var m=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),g=Array.isArray(m)?m:new Uint8Array(m);for(n=0;n<t;n+=4)o=oh[r.charCodeAt(n)],c=oh[r.charCodeAt(n+1)],d=oh[r.charCodeAt(n+2)],h=oh[r.charCodeAt(n+3)],g[a++]=o<<2|c>>4,g[a++]=(c&15)<<4|d>>2,g[a++]=(d&3)<<6|h&63;return m},G3=function(r){for(var e=r.length,t=[],n=0;n<e;n+=2)t.push(r[n+1]<<8|r[n]);return t},V3=function(r){for(var e=r.length,t=[],n=0;n<e;n+=4)t.push(r[n+3]<<24|r[n+2]<<16|r[n+1]<<8|r[n]);return t},Vc=5,Ib=11,a0=2,Z3=Ib-Vc,k5=65536>>Vc,$3=1<<Vc,i0=$3-1,Y3=1024>>Vc,X3=k5+Y3,J3=X3,W3=32,eL=J3+W3,tL=65536>>Ib,rL=1<<Z3,nL=rL-1,qy=function(r,e,t){return r.slice?r.slice(e,t):new Uint16Array(Array.prototype.slice.call(r,e,t))},sL=function(r,e,t){return r.slice?r.slice(e,t):new Uint32Array(Array.prototype.slice.call(r,e,t))},aL=function(r,e){var t=K3(r),n=Array.isArray(t)?V3(t):new Uint32Array(t),a=Array.isArray(t)?G3(t):new Uint16Array(t),o=24,c=qy(a,o/2,n[4]/2),d=n[5]===2?qy(a,(o+n[4])/2):sL(n,Math.ceil((o+n[4])/4));return new iL(n[0],n[1],n[2],n[3],c,d)},iL=(function(){function r(e,t,n,a,o,c){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=a,this.index=o,this.data=c}return r.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>Vc],t=(t<<a0)+(e&i0),this.data[t];if(e<=65535)return t=this.index[k5+(e-55296>>Vc)],t=(t<<a0)+(e&i0),this.data[t];if(e<this.highStart)return t=eL-tL+(e>>Ib),t=this.index[t],t+=e>>Vc&nL,t=this.index[t],t=(t<<a0)+(e&i0),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},r})(),Ky="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",oL=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Pf=0;Pf<Ky.length;Pf++)oL[Ky.charCodeAt(Pf)]=Pf;var lL="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",Gy=50,AL=1,U5=2,T5=3,cL=4,uL=5,Vy=7,F5=8,Zy=9,uc=10,Cx=11,$y=12,Ex=13,dL=14,lh=15,Sx=16,Hf=17,Xd=18,hL=19,Yy=20,Lx=21,Jd=22,o0=23,Su=24,vo=25,Ah=26,ch=27,Lu=28,fL=29,Mc=30,pL=31,zf=32,qf=33,jx=34,kx=35,Ux=36,Sh=37,Tx=38,Up=39,Tp=40,l0=41,Q5=42,mL=43,gL=[9001,65288],I5="!",dn="",Kf="",Fx=aL(lL),yA=[Mc,Ux],Qx=[AL,U5,T5,uL],O5=[uc,F5],Xy=[ch,Ah],xL=Qx.concat(O5),Jy=[Tx,Up,Tp,jx,kx],bL=[lh,Ex],vL=function(r,e){e===void 0&&(e="strict");var t=[],n=[],a=[];return r.forEach(function(o,c){var d=Fx.get(o);if(d>Gy?(a.push(!0),d-=Gy):a.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(o)!==-1)return n.push(c),t.push(Sx);if(d===cL||d===Cx){if(c===0)return n.push(c),t.push(Mc);var h=t[c-1];return xL.indexOf(h)===-1?(n.push(n[c-1]),t.push(h)):(n.push(c),t.push(Mc))}if(n.push(c),d===pL)return t.push(e==="strict"?Lx:Sh);if(d===Q5||d===fL)return t.push(Mc);if(d===mL)return o>=131072&&o<=196605||o>=196608&&o<=262141?t.push(Sh):t.push(Mc);t.push(d)}),[n,t,a]},A0=function(r,e,t,n){var a=n[t];if(Array.isArray(r)?r.indexOf(a)!==-1:r===a)for(var o=t;o<=n.length;){o++;var c=n[o];if(c===e)return!0;if(c!==uc)break}if(a===uc)for(var o=t;o>0;){o--;var d=n[o];if(Array.isArray(r)?r.indexOf(d)!==-1:r===d)for(var h=t;h<=n.length;){h++;var c=n[h];if(c===e)return!0;if(c!==uc)break}if(d!==uc)break}return!1},Wy=function(r,e){for(var t=r;t>=0;){var n=e[t];if(n===uc)t--;else return n}return 0},yL=function(r,e,t,n,a){if(t[n]===0)return dn;var o=n-1;if(Array.isArray(a)&&a[o]===!0)return dn;var c=o-1,d=o+1,h=e[o],m=c>=0?e[c]:0,g=e[d];if(h===U5&&g===T5)return dn;if(Qx.indexOf(h)!==-1)return I5;if(Qx.indexOf(g)!==-1||O5.indexOf(g)!==-1)return dn;if(Wy(o,e)===F5)return Kf;if(Fx.get(r[o])===Cx||(h===zf||h===qf)&&Fx.get(r[d])===Cx||h===Vy||g===Vy||h===Zy||[uc,Ex,lh].indexOf(h)===-1&&g===Zy||[Hf,Xd,hL,Su,Lu].indexOf(g)!==-1||Wy(o,e)===Jd||A0(o0,Jd,o,e)||A0([Hf,Xd],Lx,o,e)||A0($y,$y,o,e))return dn;if(h===uc)return Kf;if(h===o0||g===o0)return dn;if(g===Sx||h===Sx)return Kf;if([Ex,lh,Lx].indexOf(g)!==-1||h===dL||m===Ux&&bL.indexOf(h)!==-1||h===Lu&&g===Ux||g===Yy||yA.indexOf(g)!==-1&&h===vo||yA.indexOf(h)!==-1&&g===vo||h===ch&&[Sh,zf,qf].indexOf(g)!==-1||[Sh,zf,qf].indexOf(h)!==-1&&g===Ah||yA.indexOf(h)!==-1&&Xy.indexOf(g)!==-1||Xy.indexOf(h)!==-1&&yA.indexOf(g)!==-1||[ch,Ah].indexOf(h)!==-1&&(g===vo||[Jd,lh].indexOf(g)!==-1&&e[d+1]===vo)||[Jd,lh].indexOf(h)!==-1&&g===vo||h===vo&&[vo,Lu,Su].indexOf(g)!==-1)return dn;if([vo,Lu,Su,Hf,Xd].indexOf(g)!==-1)for(var b=o;b>=0;){var B=e[b];if(B===vo)return dn;if([Lu,Su].indexOf(B)!==-1)b--;else break}if([ch,Ah].indexOf(g)!==-1)for(var b=[Hf,Xd].indexOf(h)!==-1?c:o;b>=0;){var B=e[b];if(B===vo)return dn;if([Lu,Su].indexOf(B)!==-1)b--;else break}if(Tx===h&&[Tx,Up,jx,kx].indexOf(g)!==-1||[Up,jx].indexOf(h)!==-1&&[Up,Tp].indexOf(g)!==-1||[Tp,kx].indexOf(h)!==-1&&g===Tp||Jy.indexOf(h)!==-1&&[Yy,Ah].indexOf(g)!==-1||Jy.indexOf(g)!==-1&&h===ch||yA.indexOf(h)!==-1&&yA.indexOf(g)!==-1||h===Su&&yA.indexOf(g)!==-1||yA.concat(vo).indexOf(h)!==-1&&g===Jd&&gL.indexOf(r[d])===-1||yA.concat(vo).indexOf(g)!==-1&&h===Xd)return dn;if(h===l0&&g===l0){for(var _=t[o],k=1;_>0&&(_--,e[_]===l0);)k++;if(k%2!==0)return dn}return h===zf&&g===qf?dn:Kf},wL=function(r,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var t=vL(r,e.lineBreak),n=t[0],a=t[1],o=t[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(a=a.map(function(d){return[vo,Mc,Q5].indexOf(d)!==-1?Sh:d}));var c=e.wordBreak==="keep-all"?o.map(function(d,h){return d&&r[h]>=19968&&r[h]<=40959}):void 0;return[n,a,c]},_L=(function(){function r(e,t,n,a){this.codePoints=e,this.required=t===I5,this.start=n,this.end=a}return r.prototype.slice=function(){return sa.apply(void 0,this.codePoints.slice(this.start,this.end))},r})(),BL=function(r,e){var t=bm(r),n=wL(t,e),a=n[0],o=n[1],c=n[2],d=t.length,h=0,m=0;return{next:function(){if(m>=d)return{done:!0,value:null};for(var g=dn;m<d&&(g=yL(t,o,a,++m,c))===dn;);if(g!==dn||m===d){var b=new _L(t,g,h,m);return h=m,{value:b,done:!1}}return{done:!0,value:null}}}},NL=1,CL=2,Hh=4,ew=8,Zp=10,tw=47,ph=92,EL=9,SL=32,Gf=34,Wd=61,LL=35,jL=36,kL=37,Vf=39,Zf=40,eh=41,UL=95,Ji=45,TL=33,FL=60,QL=62,IL=64,OL=91,ML=93,DL=61,RL=123,$f=63,PL=125,rw=124,HL=126,zL=128,nw=65533,c0=42,qc=43,qL=44,KL=58,GL=59,Lh=46,VL=0,ZL=8,$L=11,YL=14,XL=31,JL=127,Pl=-1,M5=48,D5=97,R5=101,WL=102,ej=117,tj=122,P5=65,H5=69,z5=70,rj=85,nj=90,yi=function(r){return r>=M5&&r<=57},sj=function(r){return r>=55296&&r<=57343},ju=function(r){return yi(r)||r>=P5&&r<=z5||r>=D5&&r<=WL},aj=function(r){return r>=D5&&r<=tj},ij=function(r){return r>=P5&&r<=nj},oj=function(r){return aj(r)||ij(r)},lj=function(r){return r>=zL},Yf=function(r){return r===Zp||r===EL||r===SL},$p=function(r){return oj(r)||lj(r)||r===UL},sw=function(r){return $p(r)||yi(r)||r===Ji},Aj=function(r){return r>=VL&&r<=ZL||r===$L||r>=YL&&r<=XL||r===JL},oc=function(r,e){return r!==ph?!1:e!==Zp},Xf=function(r,e,t){return r===Ji?$p(e)||oc(e,t):$p(r)?!0:!!(r===ph&&oc(r,e))},u0=function(r,e,t){return r===qc||r===Ji?yi(e)?!0:e===Lh&&yi(t):yi(r===Lh?e:r)},cj=function(r){var e=0,t=1;(r[e]===qc||r[e]===Ji)&&(r[e]===Ji&&(t=-1),e++);for(var n=[];yi(r[e]);)n.push(r[e++]);var a=n.length?parseInt(sa.apply(void 0,n),10):0;r[e]===Lh&&e++;for(var o=[];yi(r[e]);)o.push(r[e++]);var c=o.length,d=c?parseInt(sa.apply(void 0,o),10):0;(r[e]===H5||r[e]===R5)&&e++;var h=1;(r[e]===qc||r[e]===Ji)&&(r[e]===Ji&&(h=-1),e++);for(var m=[];yi(r[e]);)m.push(r[e++]);var g=m.length?parseInt(sa.apply(void 0,m),10):0;return t*(a+d*Math.pow(10,-c))*Math.pow(10,h*g)},uj={type:2},dj={type:3},hj={type:4},fj={type:13},pj={type:8},mj={type:21},gj={type:9},xj={type:10},bj={type:11},vj={type:12},yj={type:14},Jf={type:23},wj={type:1},_j={type:25},Bj={type:24},Nj={type:26},Cj={type:27},Ej={type:28},Sj={type:29},Lj={type:31},Ix={type:32},q5=(function(){function r(){this._value=[]}return r.prototype.write=function(e){this._value=this._value.concat(bm(e))},r.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==Ix;)e.push(t),t=this.consumeToken();return e},r.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case Gf:return this.consumeStringToken(Gf);case LL:var t=this.peekCodePoint(0),n=this.peekCodePoint(1),a=this.peekCodePoint(2);if(sw(t)||oc(n,a)){var o=Xf(t,n,a)?CL:NL,c=this.consumeName();return{type:5,value:c,flags:o}}break;case jL:if(this.peekCodePoint(0)===Wd)return this.consumeCodePoint(),fj;break;case Vf:return this.consumeStringToken(Vf);case Zf:return uj;case eh:return dj;case c0:if(this.peekCodePoint(0)===Wd)return this.consumeCodePoint(),yj;break;case qc:if(u0(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case qL:return hj;case Ji:var d=e,h=this.peekCodePoint(0),m=this.peekCodePoint(1);if(u0(d,h,m))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(Xf(d,h,m))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(h===Ji&&m===QL)return this.consumeCodePoint(),this.consumeCodePoint(),Bj;break;case Lh:if(u0(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case tw:if(this.peekCodePoint(0)===c0)for(this.consumeCodePoint();;){var g=this.consumeCodePoint();if(g===c0&&(g=this.consumeCodePoint(),g===tw))return this.consumeToken();if(g===Pl)return this.consumeToken()}break;case KL:return Nj;case GL:return Cj;case FL:if(this.peekCodePoint(0)===TL&&this.peekCodePoint(1)===Ji&&this.peekCodePoint(2)===Ji)return this.consumeCodePoint(),this.consumeCodePoint(),_j;break;case IL:var b=this.peekCodePoint(0),B=this.peekCodePoint(1),_=this.peekCodePoint(2);if(Xf(b,B,_)){var c=this.consumeName();return{type:7,value:c}}break;case OL:return Ej;case ph:if(oc(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case ML:return Sj;case DL:if(this.peekCodePoint(0)===Wd)return this.consumeCodePoint(),pj;break;case RL:return bj;case PL:return vj;case ej:case rj:var k=this.peekCodePoint(0),j=this.peekCodePoint(1);return k===qc&&(ju(j)||j===$f)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case rw:if(this.peekCodePoint(0)===Wd)return this.consumeCodePoint(),gj;if(this.peekCodePoint(0)===rw)return this.consumeCodePoint(),mj;break;case HL:if(this.peekCodePoint(0)===Wd)return this.consumeCodePoint(),xj;break;case Pl:return Ix}return Yf(e)?(this.consumeWhiteSpace(),Lj):yi(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):$p(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:sa(e)}},r.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},r.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},r.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},r.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();ju(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var n=!1;t===$f&&e.length<6;)e.push(t),t=this.consumeCodePoint(),n=!0;if(n){var a=parseInt(sa.apply(void 0,e.map(function(h){return h===$f?M5:h})),16),o=parseInt(sa.apply(void 0,e.map(function(h){return h===$f?z5:h})),16);return{type:30,start:a,end:o}}var c=parseInt(sa.apply(void 0,e),16);if(this.peekCodePoint(0)===Ji&&ju(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var d=[];ju(t)&&d.length<6;)d.push(t),t=this.consumeCodePoint();var o=parseInt(sa.apply(void 0,d),16);return{type:30,start:c,end:o}}else return{type:30,start:c,end:c}},r.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===Zf?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Zf?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},r.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Pl)return{type:22,value:""};var t=this.peekCodePoint(0);if(t===Vf||t===Gf){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Pl||this.peekCodePoint(0)===eh)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),Jf)}for(;;){var a=this.consumeCodePoint();if(a===Pl||a===eh)return{type:22,value:sa.apply(void 0,e)};if(Yf(a))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Pl||this.peekCodePoint(0)===eh?(this.consumeCodePoint(),{type:22,value:sa.apply(void 0,e)}):(this.consumeBadUrlRemnants(),Jf);if(a===Gf||a===Vf||a===Zf||Aj(a))return this.consumeBadUrlRemnants(),Jf;if(a===ph)if(oc(a,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),Jf;else e.push(a)}},r.prototype.consumeWhiteSpace=function(){for(;Yf(this.peekCodePoint(0));)this.consumeCodePoint()},r.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===eh||e===Pl)return;oc(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},r.prototype.consumeStringSlice=function(e){for(var t=5e4,n="";e>0;){var a=Math.min(t,e);n+=sa.apply(void 0,this._value.splice(0,a)),e-=a}return this._value.shift(),n},r.prototype.consumeStringToken=function(e){var t="",n=0;do{var a=this._value[n];if(a===Pl||a===void 0||a===e)return t+=this.consumeStringSlice(n),{type:0,value:t};if(a===Zp)return this._value.splice(0,n),wj;if(a===ph){var o=this._value[n+1];o!==Pl&&o!==void 0&&(o===Zp?(t+=this.consumeStringSlice(n),n=-1,this._value.shift()):oc(a,o)&&(t+=this.consumeStringSlice(n),t+=sa(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},r.prototype.consumeNumber=function(){var e=[],t=Hh,n=this.peekCodePoint(0);for((n===qc||n===Ji)&&e.push(this.consumeCodePoint());yi(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var a=this.peekCodePoint(1);if(n===Lh&&yi(a))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=ew;yi(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),a=this.peekCodePoint(1);var o=this.peekCodePoint(2);if((n===H5||n===R5)&&((a===qc||a===Ji)&&yi(o)||yi(a)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=ew;yi(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[cj(e),t]},r.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],n=e[1],a=this.peekCodePoint(0),o=this.peekCodePoint(1),c=this.peekCodePoint(2);if(Xf(a,o,c)){var d=this.consumeName();return{type:15,number:t,flags:n,unit:d}}return a===kL?(this.consumeCodePoint(),{type:16,number:t,flags:n}):{type:17,number:t,flags:n}},r.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(ju(e)){for(var t=sa(e);ju(this.peekCodePoint(0))&&t.length<6;)t+=sa(this.consumeCodePoint());Yf(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(t,16);return n===0||sj(n)||n>1114111?nw:n}return e===Pl?nw:e},r.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(sw(t))e+=sa(t);else if(oc(t,this.peekCodePoint(0)))e+=sa(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(t),e}},r})(),K5=(function(){function r(e){this._tokens=e}return r.create=function(e){var t=new q5;return t.write(e),new r(t.read())},r.parseValue=function(e){return r.create(e).parseComponentValue()},r.parseValues=function(e){return r.create(e).parseComponentValues()},r.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var t=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},r.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(t.type===32)return e;e.push(t),e.push()}},r.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},r.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},n=this.consumeToken();;){if(n.type===32||kj(n,e))return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue()),n=this.consumeToken()}},r.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue())}},r.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?Ix:e},r.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},r})(),zh=function(r){return r.type===15},md=function(r){return r.type===17},Vn=function(r){return r.type===20},jj=function(r){return r.type===0},Ox=function(r,e){return Vn(r)&&r.value===e},G5=function(r){return r.type!==31},ud=function(r){return r.type!==31&&r.type!==4},Jl=function(r){var e=[],t=[];return r.forEach(function(n){if(n.type===4){if(t.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(t),t=[];return}n.type!==31&&t.push(n)}),t.length&&e.push(t),e},kj=function(r,e){return e===11&&r.type===12||e===28&&r.type===29?!0:e===2&&r.type===3},gc=function(r){return r.type===17||r.type===15},ga=function(r){return r.type===16||gc(r)},V5=function(r){return r.length>1?[r[0],r[1]]:[r[0]]},ni={type:17,number:0,flags:Hh},Ob={type:16,number:50,flags:Hh},dc={type:16,number:100,flags:Hh},uh=function(r,e,t){var n=r[0],a=r[1];return[ns(n,e),ns(typeof a<"u"?a:n,t)]},ns=function(r,e){if(r.type===16)return r.number/100*e;if(zh(r))switch(r.unit){case"rem":case"em":return 16*r.number;case"px":default:return r.number}return r.number},Z5="deg",$5="grad",Y5="rad",X5="turn",vm={name:"angle",parse:function(r,e){if(e.type===15)switch(e.unit){case Z5:return Math.PI*e.number/180;case $5:return Math.PI/200*e.number;case Y5:return e.number;case X5:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},J5=function(r){return r.type===15&&(r.unit===Z5||r.unit===$5||r.unit===Y5||r.unit===X5)},W5=function(r){var e=r.filter(Vn).map(function(t){return t.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[ni,ni];case"to top":case"bottom":return Ho(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[ni,dc];case"to right":case"left":return Ho(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[dc,dc];case"to bottom":case"top":return Ho(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[dc,ni];case"to left":case"right":return Ho(270)}return 0},Ho=function(r){return Math.PI*r/180},pc={name:"color",parse:function(r,e){if(e.type===18){var t=Uj[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return t(r,e.values)}if(e.type===5){if(e.value.length===3){var n=e.value.substring(0,1),a=e.value.substring(1,2),o=e.value.substring(2,3);return hc(parseInt(n+n,16),parseInt(a+a,16),parseInt(o+o,16),1)}if(e.value.length===4){var n=e.value.substring(0,1),a=e.value.substring(1,2),o=e.value.substring(2,3),c=e.value.substring(3,4);return hc(parseInt(n+n,16),parseInt(a+a,16),parseInt(o+o,16),parseInt(c+c,16)/255)}if(e.value.length===6){var n=e.value.substring(0,2),a=e.value.substring(2,4),o=e.value.substring(4,6);return hc(parseInt(n,16),parseInt(a,16),parseInt(o,16),1)}if(e.value.length===8){var n=e.value.substring(0,2),a=e.value.substring(2,4),o=e.value.substring(4,6),c=e.value.substring(6,8);return hc(parseInt(n,16),parseInt(a,16),parseInt(o,16),parseInt(c,16)/255)}}if(e.type===20){var d=LA[e.value.toUpperCase()];if(typeof d<"u")return d}return LA.TRANSPARENT}},mc=function(r){return(255&r)===0},Ma=function(r){var e=255&r,t=255&r>>8,n=255&r>>16,a=255&r>>24;return e<255?"rgba("+a+","+n+","+t+","+e/255+")":"rgb("+a+","+n+","+t+")"},hc=function(r,e,t,n){return(r<<24|e<<16|t<<8|Math.round(n*255)<<0)>>>0},aw=function(r,e){if(r.type===17)return r.number;if(r.type===16){var t=e===3?1:255;return e===3?r.number/100*t:Math.round(r.number/100*t)}return 0},iw=function(r,e){var t=e.filter(ud);if(t.length===3){var n=t.map(aw),a=n[0],o=n[1],c=n[2];return hc(a,o,c,1)}if(t.length===4){var d=t.map(aw),a=d[0],o=d[1],c=d[2],h=d[3];return hc(a,o,c,h)}return 0};function d0(r,e,t){return t<0&&(t+=1),t>=1&&(t-=1),t<1/6?(e-r)*t*6+r:t<1/2?e:t<2/3?(e-r)*6*(2/3-t)+r:r}var ow=function(r,e){var t=e.filter(ud),n=t[0],a=t[1],o=t[2],c=t[3],d=(n.type===17?Ho(n.number):vm.parse(r,n))/(Math.PI*2),h=ga(a)?a.number/100:0,m=ga(o)?o.number/100:0,g=typeof c<"u"&&ga(c)?ns(c,1):1;if(h===0)return hc(m*255,m*255,m*255,1);var b=m<=.5?m*(h+1):m+h-m*h,B=m*2-b,_=d0(B,b,d+1/3),k=d0(B,b,d),j=d0(B,b,d-1/3);return hc(_*255,k*255,j*255,g)},Uj={hsl:ow,hsla:ow,rgb:iw,rgba:iw},mh=function(r,e){return pc.parse(r,K5.create(e).parseComponentValue())},LA={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},Tj={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(r,e){return e.map(function(t){if(Vn(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Fj={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},ym=function(r,e){var t=pc.parse(r,e[0]),n=e[1];return n&&ga(n)?{color:t,stop:n}:{color:t,stop:null}},lw=function(r,e){var t=r[0],n=r[r.length-1];t.stop===null&&(t.stop=ni),n.stop===null&&(n.stop=dc);for(var a=[],o=0,c=0;c<r.length;c++){var d=r[c].stop;if(d!==null){var h=ns(d,e);h>o?a.push(h):a.push(o),o=h}else a.push(null)}for(var m=null,c=0;c<a.length;c++){var g=a[c];if(g===null)m===null&&(m=c);else if(m!==null){for(var b=c-m,B=a[m-1],_=(g-B)/(b+1),k=1;k<=b;k++)a[m+k-1]=_*k;m=null}}return r.map(function(j,T){var C=j.color;return{color:C,stop:Math.max(Math.min(1,a[T]/e),0)}})},Qj=function(r,e,t){var n=e/2,a=t/2,o=ns(r[0],e)-n,c=a-ns(r[1],t);return(Math.atan2(c,o)+Math.PI*2)%(Math.PI*2)},Ij=function(r,e,t){var n=typeof r=="number"?r:Qj(r,e,t),a=Math.abs(e*Math.sin(n))+Math.abs(t*Math.cos(n)),o=e/2,c=t/2,d=a/2,h=Math.sin(n-Math.PI/2)*d,m=Math.cos(n-Math.PI/2)*d;return[a,o-m,o+m,c-h,c+h]},Al=function(r,e){return Math.sqrt(r*r+e*e)},Aw=function(r,e,t,n,a){var o=[[0,0],[0,e],[r,0],[r,e]];return o.reduce(function(c,d){var h=d[0],m=d[1],g=Al(t-h,n-m);return(a?g<c.optimumDistance:g>c.optimumDistance)?{optimumCorner:d,optimumDistance:g}:c},{optimumDistance:a?1/0:-1/0,optimumCorner:null}).optimumCorner},Oj=function(r,e,t,n,a){var o=0,c=0;switch(r.size){case 0:r.shape===0?o=c=Math.min(Math.abs(e),Math.abs(e-n),Math.abs(t),Math.abs(t-a)):r.shape===1&&(o=Math.min(Math.abs(e),Math.abs(e-n)),c=Math.min(Math.abs(t),Math.abs(t-a)));break;case 2:if(r.shape===0)o=c=Math.min(Al(e,t),Al(e,t-a),Al(e-n,t),Al(e-n,t-a));else if(r.shape===1){var d=Math.min(Math.abs(t),Math.abs(t-a))/Math.min(Math.abs(e),Math.abs(e-n)),h=Aw(n,a,e,t,!0),m=h[0],g=h[1];o=Al(m-e,(g-t)/d),c=d*o}break;case 1:r.shape===0?o=c=Math.max(Math.abs(e),Math.abs(e-n),Math.abs(t),Math.abs(t-a)):r.shape===1&&(o=Math.max(Math.abs(e),Math.abs(e-n)),c=Math.max(Math.abs(t),Math.abs(t-a)));break;case 3:if(r.shape===0)o=c=Math.max(Al(e,t),Al(e,t-a),Al(e-n,t),Al(e-n,t-a));else if(r.shape===1){var d=Math.max(Math.abs(t),Math.abs(t-a))/Math.max(Math.abs(e),Math.abs(e-n)),b=Aw(n,a,e,t,!1),m=b[0],g=b[1];o=Al(m-e,(g-t)/d),c=d*o}break}return Array.isArray(r.size)&&(o=ns(r.size[0],n),c=r.size.length===2?ns(r.size[1],a):o),[o,c]},Mj=function(r,e){var t=Ho(180),n=[];return Jl(e).forEach(function(a,o){if(o===0){var c=a[0];if(c.type===20&&c.value==="to"){t=W5(a);return}else if(J5(c)){t=vm.parse(r,c);return}}var d=ym(r,a);n.push(d)}),{angle:t,stops:n,type:1}},Wf=function(r,e){var t=Ho(180),n=[];return Jl(e).forEach(function(a,o){if(o===0){var c=a[0];if(c.type===20&&["top","left","right","bottom"].indexOf(c.value)!==-1){t=W5(a);return}else if(J5(c)){t=(vm.parse(r,c)+Ho(270))%Ho(360);return}}var d=ym(r,a);n.push(d)}),{angle:t,stops:n,type:1}},Dj=function(r,e){var t=Ho(180),n=[],a=1,o=0,c=3,d=[];return Jl(e).forEach(function(h,m){var g=h[0];if(m===0){if(Vn(g)&&g.value==="linear"){a=1;return}else if(Vn(g)&&g.value==="radial"){a=2;return}}if(g.type===18){if(g.name==="from"){var b=pc.parse(r,g.values[0]);n.push({stop:ni,color:b})}else if(g.name==="to"){var b=pc.parse(r,g.values[0]);n.push({stop:dc,color:b})}else if(g.name==="color-stop"){var B=g.values.filter(ud);if(B.length===2){var b=pc.parse(r,B[1]),_=B[0];md(_)&&n.push({stop:{type:16,number:_.number*100,flags:_.flags},color:b})}}}}),a===1?{angle:(t+Ho(180))%Ho(360),stops:n,type:a}:{size:c,shape:o,stops:n,position:d,type:a}},eB="closest-side",tB="farthest-side",rB="closest-corner",nB="farthest-corner",sB="circle",aB="ellipse",iB="cover",oB="contain",Rj=function(r,e){var t=0,n=3,a=[],o=[];return Jl(e).forEach(function(c,d){var h=!0;if(d===0){var m=!1;h=c.reduce(function(b,B){if(m)if(Vn(B))switch(B.value){case"center":return o.push(Ob),b;case"top":case"left":return o.push(ni),b;case"right":case"bottom":return o.push(dc),b}else(ga(B)||gc(B))&&o.push(B);else if(Vn(B))switch(B.value){case sB:return t=0,!1;case aB:return t=1,!1;case"at":return m=!0,!1;case eB:return n=0,!1;case iB:case tB:return n=1,!1;case oB:case rB:return n=2,!1;case nB:return n=3,!1}else if(gc(B)||ga(B))return Array.isArray(n)||(n=[]),n.push(B),!1;return b},h)}if(h){var g=ym(r,c);a.push(g)}}),{size:n,shape:t,stops:a,position:o,type:2}},ep=function(r,e){var t=0,n=3,a=[],o=[];return Jl(e).forEach(function(c,d){var h=!0;if(d===0?h=c.reduce(function(g,b){if(Vn(b))switch(b.value){case"center":return o.push(Ob),!1;case"top":case"left":return o.push(ni),!1;case"right":case"bottom":return o.push(dc),!1}else if(ga(b)||gc(b))return o.push(b),!1;return g},h):d===1&&(h=c.reduce(function(g,b){if(Vn(b))switch(b.value){case sB:return t=0,!1;case aB:return t=1,!1;case oB:case eB:return n=0,!1;case tB:return n=1,!1;case rB:return n=2,!1;case iB:case nB:return n=3,!1}else if(gc(b)||ga(b))return Array.isArray(n)||(n=[]),n.push(b),!1;return g},h)),h){var m=ym(r,c);a.push(m)}}),{size:n,shape:t,stops:a,position:o,type:2}},Pj=function(r){return r.type===1},Hj=function(r){return r.type===2},Mb={name:"image",parse:function(r,e){if(e.type===22){var t={url:e.value,type:0};return r.cache.addImage(e.value),t}if(e.type===18){var n=lB[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(r,e.values)}throw new Error("Unsupported image type "+e.type)}};function zj(r){return!(r.type===20&&r.value==="none")&&(r.type!==18||!!lB[r.name])}var lB={"linear-gradient":Mj,"-moz-linear-gradient":Wf,"-ms-linear-gradient":Wf,"-o-linear-gradient":Wf,"-webkit-linear-gradient":Wf,"radial-gradient":Rj,"-moz-radial-gradient":ep,"-ms-radial-gradient":ep,"-o-radial-gradient":ep,"-webkit-radial-gradient":ep,"-webkit-gradient":Dj},qj={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(r,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e.filter(function(n){return ud(n)&&zj(n)}).map(function(n){return Mb.parse(r,n)})}},Kj={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(r,e){return e.map(function(t){if(Vn(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Gj={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(r,e){return Jl(e).map(function(t){return t.filter(ga)}).map(V5)}},Vj={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(r,e){return Jl(e).map(function(t){return t.filter(Vn).map(function(n){return n.value}).join(" ")}).map(Zj)}},Zj=function(r){switch(r){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},rd;(function(r){r.AUTO="auto",r.CONTAIN="contain",r.COVER="cover"})(rd||(rd={}));var $j={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(r,e){return Jl(e).map(function(t){return t.filter(Yj)})}},Yj=function(r){return Vn(r)||ga(r)},wm=function(r){return{name:"border-"+r+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Xj=wm("top"),Jj=wm("right"),Wj=wm("bottom"),ek=wm("left"),_m=function(r){return{name:"border-radius-"+r,initialValue:"0 0",prefix:!1,type:1,parse:function(e,t){return V5(t.filter(ga))}}},tk=_m("top-left"),rk=_m("top-right"),nk=_m("bottom-right"),sk=_m("bottom-left"),Bm=function(r){return{name:"border-"+r+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},ak=Bm("top"),ik=Bm("right"),ok=Bm("bottom"),lk=Bm("left"),Nm=function(r){return{name:"border-"+r+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return zh(t)?t.number:0}}},Ak=Nm("top"),ck=Nm("right"),uk=Nm("bottom"),dk=Nm("left"),hk={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},fk={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(r,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},pk={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(r,e){return e.filter(Vn).reduce(function(t,n){return t|mk(n.value)},0)}},mk=function(r){switch(r){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},gk={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(r,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},xk={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(r,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},Yp;(function(r){r.NORMAL="normal",r.STRICT="strict"})(Yp||(Yp={}));var bk={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(r,e){switch(e){case"strict":return Yp.STRICT;case"normal":default:return Yp.NORMAL}}},vk={name:"line-height",initialValue:"normal",prefix:!1,type:4},cw=function(r,e){return Vn(r)&&r.value==="normal"?1.2*e:r.type===17?e*r.number:ga(r)?ns(r,e):e},yk={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(r,e){return e.type===20&&e.value==="none"?null:Mb.parse(r,e)}},wk={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(r,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},Mx={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(r,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Cm=function(r){return{name:"margin-"+r,initialValue:"0",prefix:!1,type:4}},_k=Cm("top"),Bk=Cm("right"),Nk=Cm("bottom"),Ck=Cm("left"),Ek={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(r,e){return e.filter(Vn).map(function(t){switch(t.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},Sk={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(r,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},Em=function(r){return{name:"padding-"+r,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Lk=Em("top"),jk=Em("right"),kk=Em("bottom"),Uk=Em("left"),Tk={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(r,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},Fk={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(r,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Qk={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(r,e){return e.length===1&&Ox(e[0],"none")?[]:Jl(e).map(function(t){for(var n={color:LA.TRANSPARENT,offsetX:ni,offsetY:ni,blur:ni},a=0,o=0;o<t.length;o++){var c=t[o];gc(c)?(a===0?n.offsetX=c:a===1?n.offsetY=c:n.blur=c,a++):n.color=pc.parse(r,c)}return n})}},Ik={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(r,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Ok={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(r,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var t=Rk[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return t(e.values)}return null}},Mk=function(r){var e=r.filter(function(t){return t.type===17}).map(function(t){return t.number});return e.length===6?e:null},Dk=function(r){var e=r.filter(function(h){return h.type===17}).map(function(h){return h.number}),t=e[0],n=e[1];e[2],e[3];var a=e[4],o=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var c=e[12],d=e[13];return e[14],e[15],e.length===16?[t,n,a,o,c,d]:null},Rk={matrix:Mk,matrix3d:Dk},uw={type:16,number:50,flags:Hh},Pk=[uw,uw],Hk={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(r,e){var t=e.filter(ga);return t.length!==2?Pk:[t[0],t[1]]}},zk={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(r,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},gh;(function(r){r.NORMAL="normal",r.BREAK_ALL="break-all",r.KEEP_ALL="keep-all"})(gh||(gh={}));var qk={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(r,e){switch(e){case"break-all":return gh.BREAK_ALL;case"keep-all":return gh.KEEP_ALL;case"normal":default:return gh.NORMAL}}},Kk={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(r,e){if(e.type===20)return{auto:!0,order:0};if(md(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},AB={name:"time",parse:function(r,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},Gk={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(r,e){return md(e)?e.number:1}},Vk={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Zk={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(r,e){return e.filter(Vn).map(function(t){switch(t.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(t){return t!==0})}},$k={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(r,e){var t=[],n=[];return e.forEach(function(a){switch(a.type){case 20:case 0:t.push(a.value);break;case 17:t.push(a.number.toString());break;case 4:n.push(t.join(" ")),t.length=0;break}}),t.length&&n.push(t.join(" ")),n.map(function(a){return a.indexOf(" ")===-1?a:"'"+a+"'"})}},Yk={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},Xk={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(r,e){if(md(e))return e.number;if(Vn(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},Jk={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(r,e){return e.filter(Vn).map(function(t){return t.value})}},Wk={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(r,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},ja=function(r,e){return(r&e)!==0},eU={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(r,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e}},tU={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(r,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;for(var n=[],a=e.filter(G5),o=0;o<a.length;o++){var c=a[o],d=a[o+1];if(c.type===20){var h=d&&md(d)?d.number:1;n.push({counter:c.value,increment:h})}}return n}},rU={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(r,e){if(e.length===0)return[];for(var t=[],n=e.filter(G5),a=0;a<n.length;a++){var o=n[a],c=n[a+1];if(Vn(o)&&o.value!=="none"){var d=c&&md(c)?c.number:0;t.push({counter:o.value,reset:d})}}return t}},nU={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(r,e){return e.filter(zh).map(function(t){return AB.parse(r,t)})}},sU={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(r,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;var n=[],a=e.filter(jj);if(a.length%2!==0)return null;for(var o=0;o<a.length;o+=2){var c=a[o].value,d=a[o+1].value;n.push({open:c,close:d})}return n}},dw=function(r,e,t){if(!r)return"";var n=r[Math.min(e,r.length-1)];return n?t?n.open:n.close:""},aU={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(r,e){return e.length===1&&Ox(e[0],"none")?[]:Jl(e).map(function(t){for(var n={color:255,offsetX:ni,offsetY:ni,blur:ni,spread:ni,inset:!1},a=0,o=0;o<t.length;o++){var c=t[o];Ox(c,"inset")?n.inset=!0:gc(c)?(a===0?n.offsetX=c:a===1?n.offsetY=c:a===2?n.blur=c:n.spread=c,a++):n.color=pc.parse(r,c)}return n})}},iU={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(r,e){var t=[0,1,2],n=[];return e.filter(Vn).forEach(function(a){switch(a.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),t.forEach(function(a){n.indexOf(a)===-1&&n.push(a)}),n}},oU={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},lU={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(r,e){return zh(e)?e.number:0}},AU=(function(){function r(e,t){var n,a;this.animationDuration=rr(e,nU,t.animationDuration),this.backgroundClip=rr(e,Tj,t.backgroundClip),this.backgroundColor=rr(e,Fj,t.backgroundColor),this.backgroundImage=rr(e,qj,t.backgroundImage),this.backgroundOrigin=rr(e,Kj,t.backgroundOrigin),this.backgroundPosition=rr(e,Gj,t.backgroundPosition),this.backgroundRepeat=rr(e,Vj,t.backgroundRepeat),this.backgroundSize=rr(e,$j,t.backgroundSize),this.borderTopColor=rr(e,Xj,t.borderTopColor),this.borderRightColor=rr(e,Jj,t.borderRightColor),this.borderBottomColor=rr(e,Wj,t.borderBottomColor),this.borderLeftColor=rr(e,ek,t.borderLeftColor),this.borderTopLeftRadius=rr(e,tk,t.borderTopLeftRadius),this.borderTopRightRadius=rr(e,rk,t.borderTopRightRadius),this.borderBottomRightRadius=rr(e,nk,t.borderBottomRightRadius),this.borderBottomLeftRadius=rr(e,sk,t.borderBottomLeftRadius),this.borderTopStyle=rr(e,ak,t.borderTopStyle),this.borderRightStyle=rr(e,ik,t.borderRightStyle),this.borderBottomStyle=rr(e,ok,t.borderBottomStyle),this.borderLeftStyle=rr(e,lk,t.borderLeftStyle),this.borderTopWidth=rr(e,Ak,t.borderTopWidth),this.borderRightWidth=rr(e,ck,t.borderRightWidth),this.borderBottomWidth=rr(e,uk,t.borderBottomWidth),this.borderLeftWidth=rr(e,dk,t.borderLeftWidth),this.boxShadow=rr(e,aU,t.boxShadow),this.color=rr(e,hk,t.color),this.direction=rr(e,fk,t.direction),this.display=rr(e,pk,t.display),this.float=rr(e,gk,t.cssFloat),this.fontFamily=rr(e,$k,t.fontFamily),this.fontSize=rr(e,Yk,t.fontSize),this.fontStyle=rr(e,Wk,t.fontStyle),this.fontVariant=rr(e,Jk,t.fontVariant),this.fontWeight=rr(e,Xk,t.fontWeight),this.letterSpacing=rr(e,xk,t.letterSpacing),this.lineBreak=rr(e,bk,t.lineBreak),this.lineHeight=rr(e,vk,t.lineHeight),this.listStyleImage=rr(e,yk,t.listStyleImage),this.listStylePosition=rr(e,wk,t.listStylePosition),this.listStyleType=rr(e,Mx,t.listStyleType),this.marginTop=rr(e,_k,t.marginTop),this.marginRight=rr(e,Bk,t.marginRight),this.marginBottom=rr(e,Nk,t.marginBottom),this.marginLeft=rr(e,Ck,t.marginLeft),this.opacity=rr(e,Gk,t.opacity);var o=rr(e,Ek,t.overflow);this.overflowX=o[0],this.overflowY=o[o.length>1?1:0],this.overflowWrap=rr(e,Sk,t.overflowWrap),this.paddingTop=rr(e,Lk,t.paddingTop),this.paddingRight=rr(e,jk,t.paddingRight),this.paddingBottom=rr(e,kk,t.paddingBottom),this.paddingLeft=rr(e,Uk,t.paddingLeft),this.paintOrder=rr(e,iU,t.paintOrder),this.position=rr(e,Fk,t.position),this.textAlign=rr(e,Tk,t.textAlign),this.textDecorationColor=rr(e,Vk,(n=t.textDecorationColor)!==null&&n!==void 0?n:t.color),this.textDecorationLine=rr(e,Zk,(a=t.textDecorationLine)!==null&&a!==void 0?a:t.textDecoration),this.textShadow=rr(e,Qk,t.textShadow),this.textTransform=rr(e,Ik,t.textTransform),this.transform=rr(e,Ok,t.transform),this.transformOrigin=rr(e,Hk,t.transformOrigin),this.visibility=rr(e,zk,t.visibility),this.webkitTextStrokeColor=rr(e,oU,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=rr(e,lU,t.webkitTextStrokeWidth),this.wordBreak=rr(e,qk,t.wordBreak),this.zIndex=rr(e,Kk,t.zIndex)}return r.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},r.prototype.isTransparent=function(){return mc(this.backgroundColor)},r.prototype.isTransformed=function(){return this.transform!==null},r.prototype.isPositioned=function(){return this.position!==0},r.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},r.prototype.isFloating=function(){return this.float!==0},r.prototype.isInlineLevel=function(){return ja(this.display,4)||ja(this.display,33554432)||ja(this.display,268435456)||ja(this.display,536870912)||ja(this.display,67108864)||ja(this.display,134217728)},r})(),cU=(function(){function r(e,t){this.content=rr(e,eU,t.content),this.quotes=rr(e,sU,t.quotes)}return r})(),hw=(function(){function r(e,t){this.counterIncrement=rr(e,tU,t.counterIncrement),this.counterReset=rr(e,rU,t.counterReset)}return r})(),rr=function(r,e,t){var n=new q5,a=t!==null&&typeof t<"u"?t.toString():e.initialValue;n.write(a);var o=new K5(n.read());switch(e.type){case 2:var c=o.parseComponentValue();return e.parse(r,Vn(c)?c.value:e.initialValue);case 0:return e.parse(r,o.parseComponentValue());case 1:return e.parse(r,o.parseComponentValues());case 4:return o.parseComponentValue();case 3:switch(e.format){case"angle":return vm.parse(r,o.parseComponentValue());case"color":return pc.parse(r,o.parseComponentValue());case"image":return Mb.parse(r,o.parseComponentValue());case"length":var d=o.parseComponentValue();return gc(d)?d:ni;case"length-percentage":var h=o.parseComponentValue();return ga(h)?h:ni;case"time":return AB.parse(r,o.parseComponentValue())}break}},uU="data-html2canvas-debug",dU=function(r){var e=r.getAttribute(uU);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},Dx=function(r,e){var t=dU(r);return t===1||e===t},Wl=(function(){function r(e,t){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,Dx(t,3))debugger;this.styles=new AU(e,window.getComputedStyle(t,null)),Hx(t)&&(this.styles.animationDuration.some(function(n){return n>0})&&(t.style.animationDuration="0s"),this.styles.transform!==null&&(t.style.transform="none")),this.bounds=xm(this.context,t),Dx(t,4)&&(this.flags|=16)}return r})(),hU="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",fw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",dh=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var tp=0;tp<fw.length;tp++)dh[fw.charCodeAt(tp)]=tp;var fU=function(r){var e=r.length*.75,t=r.length,n,a=0,o,c,d,h;r[r.length-1]==="="&&(e--,r[r.length-2]==="="&&e--);var m=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),g=Array.isArray(m)?m:new Uint8Array(m);for(n=0;n<t;n+=4)o=dh[r.charCodeAt(n)],c=dh[r.charCodeAt(n+1)],d=dh[r.charCodeAt(n+2)],h=dh[r.charCodeAt(n+3)],g[a++]=o<<2|c>>4,g[a++]=(c&15)<<4|d>>2,g[a++]=(d&3)<<6|h&63;return m},pU=function(r){for(var e=r.length,t=[],n=0;n<e;n+=2)t.push(r[n+1]<<8|r[n]);return t},mU=function(r){for(var e=r.length,t=[],n=0;n<e;n+=4)t.push(r[n+3]<<24|r[n+2]<<16|r[n+1]<<8|r[n]);return t},Zc=5,Db=11,h0=2,gU=Db-Zc,cB=65536>>Zc,xU=1<<Zc,f0=xU-1,bU=1024>>Zc,vU=cB+bU,yU=vU,wU=32,_U=yU+wU,BU=65536>>Db,NU=1<<gU,CU=NU-1,pw=function(r,e,t){return r.slice?r.slice(e,t):new Uint16Array(Array.prototype.slice.call(r,e,t))},EU=function(r,e,t){return r.slice?r.slice(e,t):new Uint32Array(Array.prototype.slice.call(r,e,t))},SU=function(r,e){var t=fU(r),n=Array.isArray(t)?mU(t):new Uint32Array(t),a=Array.isArray(t)?pU(t):new Uint16Array(t),o=24,c=pw(a,o/2,n[4]/2),d=n[5]===2?pw(a,(o+n[4])/2):EU(n,Math.ceil((o+n[4])/4));return new LU(n[0],n[1],n[2],n[3],c,d)},LU=(function(){function r(e,t,n,a,o,c){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=a,this.index=o,this.data=c}return r.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>Zc],t=(t<<h0)+(e&f0),this.data[t];if(e<=65535)return t=this.index[cB+(e-55296>>Zc)],t=(t<<h0)+(e&f0),this.data[t];if(e<this.highStart)return t=_U-BU+(e>>Db),t=this.index[t],t+=e>>Zc&CU,t=this.index[t],t=(t<<h0)+(e&f0),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},r})(),mw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",jU=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var rp=0;rp<mw.length;rp++)jU[mw.charCodeAt(rp)]=rp;var kU=1,p0=2,m0=3,gw=4,xw=5,UU=7,bw=8,g0=9,x0=10,vw=11,yw=12,ww=13,_w=14,b0=15,TU=function(r){for(var e=[],t=0,n=r.length;t<n;){var a=r.charCodeAt(t++);if(a>=55296&&a<=56319&&t<n){var o=r.charCodeAt(t++);(o&64512)===56320?e.push(((a&1023)<<10)+(o&1023)+65536):(e.push(a),t--)}else e.push(a)}return e},FU=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,r);var t=r.length;if(!t)return"";for(var n=[],a=-1,o="";++a<t;){var c=r[a];c<=65535?n.push(c):(c-=65536,n.push((c>>10)+55296,c%1024+56320)),(a+1===t||n.length>16384)&&(o+=String.fromCharCode.apply(String,n),n.length=0)}return o},QU=SU(hU),Ro="",v0="",IU=function(r){return QU.get(r)},OU=function(r,e,t){var n=t-2,a=e[n],o=e[t-1],c=e[t];if(o===p0&&c===m0)return Ro;if(o===p0||o===m0||o===gw||c===p0||c===m0||c===gw)return v0;if(o===bw&&[bw,g0,vw,yw].indexOf(c)!==-1||(o===vw||o===g0)&&(c===g0||c===x0)||(o===yw||o===x0)&&c===x0||c===ww||c===xw||c===UU||o===kU)return Ro;if(o===ww&&c===_w){for(;a===xw;)a=e[--n];if(a===_w)return Ro}if(o===b0&&c===b0){for(var d=0;a===b0;)d++,a=e[--n];if(d%2===0)return Ro}return v0},MU=function(r){var e=TU(r),t=e.length,n=0,a=0,o=e.map(IU);return{next:function(){if(n>=t)return{done:!0,value:null};for(var c=Ro;n<t&&(c=OU(e,o,++n))===Ro;);if(c!==Ro||n===t){var d=FU.apply(null,e.slice(a,n));return a=n,{value:d,done:!1}}return{done:!0,value:null}}}},DU=function(r){for(var e=MU(r),t=[],n;!(n=e.next()).done;)n.value&&t.push(n.value.slice());return t},RU=function(r){var e=123;if(r.createRange){var t=r.createRange();if(t.getBoundingClientRect){var n=r.createElement("boundtest");n.style.height=e+"px",n.style.display="block",r.body.appendChild(n),t.selectNode(n);var a=t.getBoundingClientRect(),o=Math.round(a.height);if(r.body.removeChild(n),o===e)return!0}}return!1},PU=function(r){var e=r.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",r.body.appendChild(e);var t=r.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=e.firstChild,a=bm(n.data).map(function(h){return sa(h)}),o=0,c={},d=a.every(function(h,m){t.setStart(n,o),t.setEnd(n,o+h.length);var g=t.getBoundingClientRect();o+=h.length;var b=g.x>c.x||g.y>c.y;return c=g,m===0?!0:b});return r.body.removeChild(e),d},HU=function(){return typeof new Image().crossOrigin<"u"},zU=function(){return typeof new XMLHttpRequest().responseType=="string"},qU=function(r){var e=new Image,t=r.createElement("canvas"),n=t.getContext("2d");if(!n)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),t.toDataURL()}catch{return!1}return!0},Bw=function(r){return r[0]===0&&r[1]===255&&r[2]===0&&r[3]===255},KU=function(r){var e=r.createElement("canvas"),t=100;e.width=t,e.height=t;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,t,t);var a=new Image,o=e.toDataURL();a.src=o;var c=Rx(t,t,0,0,a);return n.fillStyle="red",n.fillRect(0,0,t,t),Nw(c).then(function(d){n.drawImage(d,0,0);var h=n.getImageData(0,0,t,t).data;n.fillStyle="red",n.fillRect(0,0,t,t);var m=r.createElement("div");return m.style.backgroundImage="url("+o+")",m.style.height=t+"px",Bw(h)?Nw(Rx(t,t,0,0,m)):Promise.reject(!1)}).then(function(d){return n.drawImage(d,0,0),Bw(n.getImageData(0,0,t,t).data)}).catch(function(){return!1})},Rx=function(r,e,t,n,a){var o="http://www.w3.org/2000/svg",c=document.createElementNS(o,"svg"),d=document.createElementNS(o,"foreignObject");return c.setAttributeNS(null,"width",r.toString()),c.setAttributeNS(null,"height",e.toString()),d.setAttributeNS(null,"width","100%"),d.setAttributeNS(null,"height","100%"),d.setAttributeNS(null,"x",t.toString()),d.setAttributeNS(null,"y",n.toString()),d.setAttributeNS(null,"externalResourcesRequired","true"),c.appendChild(d),d.appendChild(a),c},Nw=function(r){return new Promise(function(e,t){var n=new Image;n.onload=function(){return e(n)},n.onerror=t,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(r))})},ri={get SUPPORT_RANGE_BOUNDS(){var r=RU(document);return Object.defineProperty(ri,"SUPPORT_RANGE_BOUNDS",{value:r}),r},get SUPPORT_WORD_BREAKING(){var r=ri.SUPPORT_RANGE_BOUNDS&&PU(document);return Object.defineProperty(ri,"SUPPORT_WORD_BREAKING",{value:r}),r},get SUPPORT_SVG_DRAWING(){var r=qU(document);return Object.defineProperty(ri,"SUPPORT_SVG_DRAWING",{value:r}),r},get SUPPORT_FOREIGNOBJECT_DRAWING(){var r=typeof Array.from=="function"&&typeof window.fetch=="function"?KU(document):Promise.resolve(!1);return Object.defineProperty(ri,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:r}),r},get SUPPORT_CORS_IMAGES(){var r=HU();return Object.defineProperty(ri,"SUPPORT_CORS_IMAGES",{value:r}),r},get SUPPORT_RESPONSE_TYPE(){var r=zU();return Object.defineProperty(ri,"SUPPORT_RESPONSE_TYPE",{value:r}),r},get SUPPORT_CORS_XHR(){var r="withCredentials"in new XMLHttpRequest;return Object.defineProperty(ri,"SUPPORT_CORS_XHR",{value:r}),r},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var r=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(ri,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:r}),r}},xh=(function(){function r(e,t){this.text=e,this.bounds=t}return r})(),GU=function(r,e,t,n){var a=$U(e,t),o=[],c=0;return a.forEach(function(d){if(t.textDecorationLine.length||d.trim().length>0)if(ri.SUPPORT_RANGE_BOUNDS){var h=Cw(n,c,d.length).getClientRects();if(h.length>1){var m=Rb(d),g=0;m.forEach(function(B){o.push(new xh(B,kA.fromDOMRectList(r,Cw(n,g+c,B.length).getClientRects()))),g+=B.length})}else o.push(new xh(d,kA.fromDOMRectList(r,h)))}else{var b=n.splitText(d.length);o.push(new xh(d,VU(r,n))),n=b}else ri.SUPPORT_RANGE_BOUNDS||(n=n.splitText(d.length));c+=d.length}),o},VU=function(r,e){var t=e.ownerDocument;if(t){var n=t.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var a=e.parentNode;if(a){a.replaceChild(n,e);var o=xm(r,n);return n.firstChild&&a.replaceChild(n.firstChild,n),o}}return kA.EMPTY},Cw=function(r,e,t){var n=r.ownerDocument;if(!n)throw new Error("Node has no owner document");var a=n.createRange();return a.setStart(r,e),a.setEnd(r,e+t),a},Rb=function(r){if(ri.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(r)).map(function(t){return t.segment})}return DU(r)},ZU=function(r,e){if(ri.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(t.segment(r)).map(function(n){return n.segment})}return XU(r,e)},$U=function(r,e){return e.letterSpacing!==0?Rb(r):ZU(r,e)},YU=[32,160,4961,65792,65793,4153,4241],XU=function(r,e){for(var t=BL(r,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),n=[],a,o=function(){if(a.value){var c=a.value.slice(),d=bm(c),h="";d.forEach(function(m){YU.indexOf(m)===-1?h+=sa(m):(h.length&&n.push(h),n.push(sa(m)),h="")}),h.length&&n.push(h)}};!(a=t.next()).done;)o();return n},JU=(function(){function r(e,t,n){this.text=WU(t.data,n.textTransform),this.textBounds=GU(e,this.text,n,t)}return r})(),WU=function(r,e){switch(e){case 1:return r.toLowerCase();case 3:return r.replace(e6,t6);case 2:return r.toUpperCase();default:return r}},e6=/(^|\s|:|-|\(|\))([a-z])/g,t6=function(r,e,t){return r.length>0?e+t.toUpperCase():r},uB=(function(r){pl(e,r);function e(t,n){var a=r.call(this,t,n)||this;return a.src=n.currentSrc||n.src,a.intrinsicWidth=n.naturalWidth,a.intrinsicHeight=n.naturalHeight,a.context.cache.addImage(a.src),a}return e})(Wl),dB=(function(r){pl(e,r);function e(t,n){var a=r.call(this,t,n)||this;return a.canvas=n,a.intrinsicWidth=n.width,a.intrinsicHeight=n.height,a}return e})(Wl),hB=(function(r){pl(e,r);function e(t,n){var a=r.call(this,t,n)||this,o=new XMLSerializer,c=xm(t,n);return n.setAttribute("width",c.width+"px"),n.setAttribute("height",c.height+"px"),a.svg="data:image/svg+xml,"+encodeURIComponent(o.serializeToString(n)),a.intrinsicWidth=n.width.baseVal.value,a.intrinsicHeight=n.height.baseVal.value,a.context.cache.addImage(a.svg),a}return e})(Wl),fB=(function(r){pl(e,r);function e(t,n){var a=r.call(this,t,n)||this;return a.value=n.value,a}return e})(Wl),Px=(function(r){pl(e,r);function e(t,n){var a=r.call(this,t,n)||this;return a.start=n.start,a.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,a}return e})(Wl),r6=[{type:15,flags:0,unit:"px",number:3}],n6=[{type:16,flags:0,number:50}],s6=function(r){return r.width>r.height?new kA(r.left+(r.width-r.height)/2,r.top,r.height,r.height):r.width<r.height?new kA(r.left,r.top+(r.height-r.width)/2,r.width,r.width):r},a6=function(r){var e=r.type===i6?new Array(r.value.length+1).join(""):r.value;return e.length===0?r.placeholder||"":e},Xp="checkbox",Jp="radio",i6="password",Ew=707406591,Pb=(function(r){pl(e,r);function e(t,n){var a=r.call(this,t,n)||this;switch(a.type=n.type.toLowerCase(),a.checked=n.checked,a.value=a6(n),(a.type===Xp||a.type===Jp)&&(a.styles.backgroundColor=3739148031,a.styles.borderTopColor=a.styles.borderRightColor=a.styles.borderBottomColor=a.styles.borderLeftColor=2779096575,a.styles.borderTopWidth=a.styles.borderRightWidth=a.styles.borderBottomWidth=a.styles.borderLeftWidth=1,a.styles.borderTopStyle=a.styles.borderRightStyle=a.styles.borderBottomStyle=a.styles.borderLeftStyle=1,a.styles.backgroundClip=[0],a.styles.backgroundOrigin=[0],a.bounds=s6(a.bounds)),a.type){case Xp:a.styles.borderTopRightRadius=a.styles.borderTopLeftRadius=a.styles.borderBottomRightRadius=a.styles.borderBottomLeftRadius=r6;break;case Jp:a.styles.borderTopRightRadius=a.styles.borderTopLeftRadius=a.styles.borderBottomRightRadius=a.styles.borderBottomLeftRadius=n6;break}return a}return e})(Wl),pB=(function(r){pl(e,r);function e(t,n){var a=r.call(this,t,n)||this,o=n.options[n.selectedIndex||0];return a.value=o&&o.text||"",a}return e})(Wl),mB=(function(r){pl(e,r);function e(t,n){var a=r.call(this,t,n)||this;return a.value=n.value,a}return e})(Wl),gB=(function(r){pl(e,r);function e(t,n){var a=r.call(this,t,n)||this;a.src=n.src,a.width=parseInt(n.width,10)||0,a.height=parseInt(n.height,10)||0,a.backgroundColor=a.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){a.tree=bB(t,n.contentWindow.document.documentElement);var o=n.contentWindow.document.documentElement?mh(t,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):LA.TRANSPARENT,c=n.contentWindow.document.body?mh(t,getComputedStyle(n.contentWindow.document.body).backgroundColor):LA.TRANSPARENT;a.backgroundColor=mc(o)?mc(c)?a.styles.backgroundColor:c:o}}catch{}return a}return e})(Wl),o6=["OL","UL","MENU"],Fp=function(r,e,t,n){for(var a=e.firstChild,o=void 0;a;a=o)if(o=a.nextSibling,vB(a)&&a.data.trim().length>0)t.textNodes.push(new JU(r,a,t.styles));else if(Ju(a))if(BB(a)&&a.assignedNodes)a.assignedNodes().forEach(function(d){return Fp(r,d,t,n)});else{var c=xB(r,a);c.styles.isVisible()&&(l6(a,c,n)?c.flags|=4:A6(c.styles)&&(c.flags|=2),o6.indexOf(a.tagName)!==-1&&(c.flags|=8),t.elements.push(c),a.slot,a.shadowRoot?Fp(r,a.shadowRoot,c,n):!Wp(a)&&!yB(a)&&!em(a)&&Fp(r,a,c,n))}},xB=function(r,e){return zx(e)?new uB(r,e):wB(e)?new dB(r,e):yB(e)?new hB(r,e):c6(e)?new fB(r,e):u6(e)?new Px(r,e):d6(e)?new Pb(r,e):em(e)?new pB(r,e):Wp(e)?new mB(r,e):_B(e)?new gB(r,e):new Wl(r,e)},bB=function(r,e){var t=xB(r,e);return t.flags|=4,Fp(r,e,t,t),t},l6=function(r,e,t){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||Hb(r)&&t.styles.isTransparent()},A6=function(r){return r.isPositioned()||r.isFloating()},vB=function(r){return r.nodeType===Node.TEXT_NODE},Ju=function(r){return r.nodeType===Node.ELEMENT_NODE},Hx=function(r){return Ju(r)&&typeof r.style<"u"&&!Qp(r)},Qp=function(r){return typeof r.className=="object"},c6=function(r){return r.tagName==="LI"},u6=function(r){return r.tagName==="OL"},d6=function(r){return r.tagName==="INPUT"},h6=function(r){return r.tagName==="HTML"},yB=function(r){return r.tagName==="svg"},Hb=function(r){return r.tagName==="BODY"},wB=function(r){return r.tagName==="CANVAS"},Sw=function(r){return r.tagName==="VIDEO"},zx=function(r){return r.tagName==="IMG"},_B=function(r){return r.tagName==="IFRAME"},Lw=function(r){return r.tagName==="STYLE"},f6=function(r){return r.tagName==="SCRIPT"},Wp=function(r){return r.tagName==="TEXTAREA"},em=function(r){return r.tagName==="SELECT"},BB=function(r){return r.tagName==="SLOT"},jw=function(r){return r.tagName.indexOf("-")>0},p6=(function(){function r(){this.counters={}}return r.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},r.prototype.getCounterValues=function(e){var t=this.counters[e];return t||[]},r.prototype.pop=function(e){var t=this;e.forEach(function(n){return t.counters[n].pop()})},r.prototype.parse=function(e){var t=this,n=e.counterIncrement,a=e.counterReset,o=!0;n!==null&&n.forEach(function(d){var h=t.counters[d.counter];h&&d.increment!==0&&(o=!1,h.length||h.push(1),h[Math.max(0,h.length-1)]+=d.increment)});var c=[];return o&&a.forEach(function(d){var h=t.counters[d.counter];c.push(d.counter),h||(h=t.counters[d.counter]=[]),h.push(d.reset)}),c},r})(),kw={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Uw={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},m6={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},g6={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},ku=function(r,e,t,n,a,o){return r<e||r>t?jh(r,a,o.length>0):n.integers.reduce(function(c,d,h){for(;r>=d;)r-=d,c+=n.values[h];return c},"")+o},NB=function(r,e,t,n){var a="";do t||r--,a=n(r)+a,r/=e;while(r*e>=e);return a},na=function(r,e,t,n,a){var o=t-e+1;return(r<0?"-":"")+(NB(Math.abs(r),o,n,function(c){return sa(Math.floor(c%o)+e)})+a)},Lc=function(r,e,t){t===void 0&&(t=". ");var n=e.length;return NB(Math.abs(r),n,!1,function(a){return e[Math.floor(a%n)]})+t},Ku=1,ac=2,ic=4,hh=8,wA=function(r,e,t,n,a,o){if(r<-9999||r>9999)return jh(r,4,a.length>0);var c=Math.abs(r),d=a;if(c===0)return e[0]+d;for(var h=0;c>0&&h<=4;h++){var m=c%10;m===0&&ja(o,Ku)&&d!==""?d=e[m]+d:m>1||m===1&&h===0||m===1&&h===1&&ja(o,ac)||m===1&&h===1&&ja(o,ic)&&r>100||m===1&&h>1&&ja(o,hh)?d=e[m]+(h>0?t[h-1]:"")+d:m===1&&h>0&&(d=t[h-1]+d),c=Math.floor(c/10)}return(r<0?n:"")+d},Tw="",Fw="",Qw="",y0="",jh=function(r,e,t){var n=t?". ":"",a=t?"":"",o=t?", ":"",c=t?" ":"";switch(e){case 0:return""+c;case 1:return""+c;case 2:return""+c;case 5:var d=na(r,48,57,!0,n);return d.length<4?"0"+d:d;case 4:return Lc(r,"",a);case 6:return ku(r,1,3999,kw,3,n).toLowerCase();case 7:return ku(r,1,3999,kw,3,n);case 8:return na(r,945,969,!1,n);case 9:return na(r,97,122,!1,n);case 10:return na(r,65,90,!1,n);case 11:return na(r,1632,1641,!0,n);case 12:case 49:return ku(r,1,9999,Uw,3,n);case 35:return ku(r,1,9999,Uw,3,n).toLowerCase();case 13:return na(r,2534,2543,!0,n);case 14:case 30:return na(r,6112,6121,!0,n);case 15:return Lc(r,"",a);case 16:return Lc(r,"",a);case 17:case 48:return wA(r,"",Tw,"",a,ac|ic|hh);case 47:return wA(r,"",Fw,"",a,Ku|ac|ic|hh);case 42:return wA(r,"",Tw,"",a,ac|ic|hh);case 41:return wA(r,"",Fw,"",a,Ku|ac|ic|hh);case 26:return wA(r,"","",Qw,a,0);case 25:return wA(r,"","",Qw,a,Ku|ac|ic);case 31:return wA(r,"","",y0,o,Ku|ac|ic);case 33:return wA(r,"","",y0,o,0);case 32:return wA(r,"","",y0,o,Ku|ac|ic);case 18:return na(r,2406,2415,!0,n);case 20:return ku(r,1,19999,g6,3,n);case 21:return na(r,2790,2799,!0,n);case 22:return na(r,2662,2671,!0,n);case 22:return ku(r,1,10999,m6,3,n);case 23:return Lc(r,"");case 24:return Lc(r,"");case 27:return na(r,3302,3311,!0,n);case 28:return Lc(r,"",a);case 29:return Lc(r,"",a);case 34:return na(r,3792,3801,!0,n);case 37:return na(r,6160,6169,!0,n);case 38:return na(r,4160,4169,!0,n);case 39:return na(r,2918,2927,!0,n);case 40:return na(r,1776,1785,!0,n);case 43:return na(r,3046,3055,!0,n);case 44:return na(r,3174,3183,!0,n);case 45:return na(r,3664,3673,!0,n);case 46:return na(r,3872,3881,!0,n);case 3:default:return na(r,48,57,!0,n)}},CB="data-html2canvas-ignore",Iw=(function(){function r(e,t,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=t,this.counters=new p6,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return r.prototype.toIFrame=function(e,t){var n=this,a=x6(e,t);if(!a.contentWindow)return Promise.reject("Unable to find iframe window");var o=e.defaultView.pageXOffset,c=e.defaultView.pageYOffset,d=a.contentWindow,h=d.document,m=y6(a).then(function(){return ki(n,void 0,void 0,function(){var g,b;return vi(this,function(B){switch(B.label){case 0:return this.scrolledElements.forEach(N6),d&&(d.scrollTo(t.left,t.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(d.scrollY!==t.top||d.scrollX!==t.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(d.scrollX-t.left,d.scrollY-t.top,0,0))),g=this.options.onclone,b=this.clonedReferenceElement,typeof b>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:h.fonts&&h.fonts.ready?[4,h.fonts.ready]:[3,2];case 1:B.sent(),B.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,v6(h)]:[3,4];case 3:B.sent(),B.label=4;case 4:return typeof g=="function"?[2,Promise.resolve().then(function(){return g(h,b)}).then(function(){return a})]:[2,a]}})})});return h.open(),h.write(_6(document.doctype)+"<html></html>"),B6(this.referenceElement.ownerDocument,o,c),h.replaceChild(h.adoptNode(this.documentElement),h.documentElement),h.close(),m},r.prototype.createElementClone=function(e){if(Dx(e,2))debugger;if(wB(e))return this.createCanvasClone(e);if(Sw(e))return this.createVideoClone(e);if(Lw(e))return this.createStyleClone(e);var t=e.cloneNode(!1);return zx(t)&&(zx(e)&&e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),t.loading==="lazy"&&(t.loading="eager")),jw(t)?this.createCustomElementClone(t):t},r.prototype.createCustomElementClone=function(e){var t=document.createElement("html2canvascustomelement");return w0(e.style,t),t},r.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var n=[].slice.call(t.cssRules,0).reduce(function(o,c){return c&&typeof c.cssText=="string"?o+c.cssText:o},""),a=e.cloneNode(!1);return a.textContent=n,a}}catch(o){if(this.context.logger.error("Unable to access cssRules property",o),o.name!=="SecurityError")throw o}return e.cloneNode(!1)},r.prototype.createCanvasClone=function(e){var t;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var a=e.cloneNode(!1);try{a.width=e.width,a.height=e.height;var o=e.getContext("2d"),c=a.getContext("2d");if(c)if(!this.options.allowTaint&&o)c.putImageData(o.getImageData(0,0,e.width,e.height),0,0);else{var d=(t=e.getContext("webgl2"))!==null&&t!==void 0?t:e.getContext("webgl");if(d){var h=d.getContextAttributes();(h==null?void 0:h.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}c.drawImage(e,0,0)}return a}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return a},r.prototype.createVideoClone=function(e){var t=e.ownerDocument.createElement("canvas");t.width=e.offsetWidth,t.height=e.offsetHeight;var n=t.getContext("2d");try{return n&&(n.drawImage(e,0,0,t.width,t.height),this.options.allowTaint||n.getImageData(0,0,t.width,t.height)),t}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var a=e.ownerDocument.createElement("canvas");return a.width=e.offsetWidth,a.height=e.offsetHeight,a},r.prototype.appendChildNode=function(e,t,n){(!Ju(t)||!f6(t)&&!t.hasAttribute(CB)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(t)))&&(!this.options.copyStyles||!Ju(t)||!Lw(t))&&e.appendChild(this.cloneNode(t,n))},r.prototype.cloneChildNodes=function(e,t,n){for(var a=this,o=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;o;o=o.nextSibling)if(Ju(o)&&BB(o)&&typeof o.assignedNodes=="function"){var c=o.assignedNodes();c.length&&c.forEach(function(d){return a.appendChildNode(t,d,n)})}else this.appendChildNode(t,o,n)},r.prototype.cloneNode=function(e,t){if(vB(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&Ju(e)&&(Hx(e)||Qp(e))){var a=this.createElementClone(e);a.style.transitionProperty="none";var o=n.getComputedStyle(e),c=n.getComputedStyle(e,":before"),d=n.getComputedStyle(e,":after");this.referenceElement===e&&Hx(a)&&(this.clonedReferenceElement=a),Hb(a)&&S6(a);var h=this.counters.parse(new hw(this.context,o)),m=this.resolvePseudoContent(e,a,c,bh.BEFORE);jw(e)&&(t=!0),Sw(e)||this.cloneChildNodes(e,a,t),m&&a.insertBefore(m,a.firstChild);var g=this.resolvePseudoContent(e,a,d,bh.AFTER);return g&&a.appendChild(g),this.counters.pop(h),(o&&(this.options.copyStyles||Qp(e))&&!_B(e)||t)&&w0(o,a),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([a,e.scrollLeft,e.scrollTop]),(Wp(e)||em(e))&&(Wp(a)||em(a))&&(a.value=e.value),a}return e.cloneNode(!1)},r.prototype.resolvePseudoContent=function(e,t,n,a){var o=this;if(n){var c=n.content,d=t.ownerDocument;if(!(!d||!c||c==="none"||c==="-moz-alt-content"||n.display==="none")){this.counters.parse(new hw(this.context,n));var h=new cU(this.context,n),m=d.createElement("html2canvaspseudoelement");w0(n,m),h.content.forEach(function(b){if(b.type===0)m.appendChild(d.createTextNode(b.value));else if(b.type===22){var B=d.createElement("img");B.src=b.value,B.style.opacity="1",m.appendChild(B)}else if(b.type===18){if(b.name==="attr"){var _=b.values.filter(Vn);_.length&&m.appendChild(d.createTextNode(e.getAttribute(_[0].value)||""))}else if(b.name==="counter"){var k=b.values.filter(ud),j=k[0],T=k[1];if(j&&Vn(j)){var C=o.counters.getCounterValue(j.value),I=T&&Vn(T)?Mx.parse(o.context,T.value):3;m.appendChild(d.createTextNode(jh(C,I,!1)))}}else if(b.name==="counters"){var F=b.values.filter(ud),j=F[0],R=F[1],T=F[2];if(j&&Vn(j)){var ae=o.counters.getCounterValues(j.value),Z=T&&Vn(T)?Mx.parse(o.context,T.value):3,me=R&&R.type===0?R.value:"",ee=ae.map(function(K){return jh(K,Z,!1)}).join(me);m.appendChild(d.createTextNode(ee))}}}else if(b.type===20)switch(b.value){case"open-quote":m.appendChild(d.createTextNode(dw(h.quotes,o.quoteDepth++,!0)));break;case"close-quote":m.appendChild(d.createTextNode(dw(h.quotes,--o.quoteDepth,!1)));break;default:m.appendChild(d.createTextNode(b.value))}}),m.className=qx+" "+Kx;var g=a===bh.BEFORE?" "+qx:" "+Kx;return Qp(t)?t.className.baseValue+=g:t.className+=g,m}}},r.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},r})(),bh;(function(r){r[r.BEFORE=0]="BEFORE",r[r.AFTER=1]="AFTER"})(bh||(bh={}));var x6=function(r,e){var t=r.createElement("iframe");return t.className="html2canvas-container",t.style.visibility="hidden",t.style.position="fixed",t.style.left="-10000px",t.style.top="0px",t.style.border="0",t.width=e.width.toString(),t.height=e.height.toString(),t.scrolling="no",t.setAttribute(CB,"true"),r.body.appendChild(t),t},b6=function(r){return new Promise(function(e){if(r.complete){e();return}if(!r.src){e();return}r.onload=e,r.onerror=e})},v6=function(r){return Promise.all([].slice.call(r.images,0).map(b6))},y6=function(r){return new Promise(function(e,t){var n=r.contentWindow;if(!n)return t("No window assigned for iframe");var a=n.document;n.onload=r.onload=function(){n.onload=r.onload=null;var o=setInterval(function(){a.body.childNodes.length>0&&a.readyState==="complete"&&(clearInterval(o),e(r))},50)}})},w6=["all","d","content"],w0=function(r,e){for(var t=r.length-1;t>=0;t--){var n=r.item(t);w6.indexOf(n)===-1&&e.style.setProperty(n,r.getPropertyValue(n))}return e},_6=function(r){var e="";return r&&(e+="<!DOCTYPE ",r.name&&(e+=r.name),r.internalSubset&&(e+=r.internalSubset),r.publicId&&(e+='"'+r.publicId+'"'),r.systemId&&(e+='"'+r.systemId+'"'),e+=">"),e},B6=function(r,e,t){r&&r.defaultView&&(e!==r.defaultView.pageXOffset||t!==r.defaultView.pageYOffset)&&r.defaultView.scrollTo(e,t)},N6=function(r){var e=r[0],t=r[1],n=r[2];e.scrollLeft=t,e.scrollTop=n},C6=":before",E6=":after",qx="___html2canvas___pseudoelement_before",Kx="___html2canvas___pseudoelement_after",Ow=`{
    content: "" !important;
    display: none !important;
}`,S6=function(r){L6(r,"."+qx+C6+Ow+`
         .`+Kx+E6+Ow)},L6=function(r,e){var t=r.ownerDocument;if(t){var n=t.createElement("style");n.textContent=e,r.appendChild(n)}},EB=(function(){function r(){}return r.getOrigin=function(e){var t=r._link;return t?(t.href=e,t.href=t.href,t.protocol+t.hostname+t.port):"about:blank"},r.isSameOrigin=function(e){return r.getOrigin(e)===r._origin},r.setContext=function(e){r._link=e.document.createElement("a"),r._origin=r.getOrigin(e.location.href)},r._origin="about:blank",r})(),j6=(function(){function r(e,t){this.context=e,this._options=t,this._cache={}}return r.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)||(B0(e)||F6(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),t},r.prototype.match=function(e){return this._cache[e]},r.prototype.loadImage=function(e){return ki(this,void 0,void 0,function(){var t,n,a,o,c=this;return vi(this,function(d){switch(d.label){case 0:return t=EB.isSameOrigin(e),n=!_0(e)&&this._options.useCORS===!0&&ri.SUPPORT_CORS_IMAGES&&!t,a=!_0(e)&&!t&&!B0(e)&&typeof this._options.proxy=="string"&&ri.SUPPORT_CORS_XHR&&!n,!t&&this._options.allowTaint===!1&&!_0(e)&&!B0(e)&&!a&&!n?[2]:(o=e,a?[4,this.proxy(o)]:[3,2]);case 1:o=d.sent(),d.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(h,m){var g=new Image;g.onload=function(){return h(g)},g.onerror=m,(Q6(o)||n)&&(g.crossOrigin="anonymous"),g.src=o,g.complete===!0&&setTimeout(function(){return h(g)},500),c._options.imageTimeout>0&&setTimeout(function(){return m("Timed out ("+c._options.imageTimeout+"ms) loading image")},c._options.imageTimeout)})];case 3:return[2,d.sent()]}})})},r.prototype.has=function(e){return typeof this._cache[e]<"u"},r.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},r.prototype.proxy=function(e){var t=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var a=e.substring(0,256);return new Promise(function(o,c){var d=ri.SUPPORT_RESPONSE_TYPE?"blob":"text",h=new XMLHttpRequest;h.onload=function(){if(h.status===200)if(d==="text")o(h.response);else{var b=new FileReader;b.addEventListener("load",function(){return o(b.result)},!1),b.addEventListener("error",function(B){return c(B)},!1),b.readAsDataURL(h.response)}else c("Failed to proxy resource "+a+" with status code "+h.status)},h.onerror=c;var m=n.indexOf("?")>-1?"&":"?";if(h.open("GET",""+n+m+"url="+encodeURIComponent(e)+"&responseType="+d),d!=="text"&&h instanceof XMLHttpRequest&&(h.responseType=d),t._options.imageTimeout){var g=t._options.imageTimeout;h.timeout=g,h.ontimeout=function(){return c("Timed out ("+g+"ms) proxying "+a)}}h.send()})},r})(),k6=/^data:image\/svg\+xml/i,U6=/^data:image\/.*;base64,/i,T6=/^data:image\/.*/i,F6=function(r){return ri.SUPPORT_SVG_DRAWING||!I6(r)},_0=function(r){return T6.test(r)},Q6=function(r){return U6.test(r)},B0=function(r){return r.substr(0,4)==="blob"},I6=function(r){return r.substr(-3).toLowerCase()==="svg"||k6.test(r)},Xt=(function(){function r(e,t){this.type=0,this.x=e,this.y=t}return r.prototype.add=function(e,t){return new r(this.x+e,this.y+t)},r})(),Uu=function(r,e,t){return new Xt(r.x+(e.x-r.x)*t,r.y+(e.y-r.y)*t)},np=(function(){function r(e,t,n,a){this.type=1,this.start=e,this.startControl=t,this.endControl=n,this.end=a}return r.prototype.subdivide=function(e,t){var n=Uu(this.start,this.startControl,e),a=Uu(this.startControl,this.endControl,e),o=Uu(this.endControl,this.end,e),c=Uu(n,a,e),d=Uu(a,o,e),h=Uu(c,d,e);return t?new r(this.start,n,c,h):new r(h,d,o,this.end)},r.prototype.add=function(e,t){return new r(this.start.add(e,t),this.startControl.add(e,t),this.endControl.add(e,t),this.end.add(e,t))},r.prototype.reverse=function(){return new r(this.end,this.endControl,this.startControl,this.start)},r})(),Po=function(r){return r.type===1},O6=(function(){function r(e){var t=e.styles,n=e.bounds,a=uh(t.borderTopLeftRadius,n.width,n.height),o=a[0],c=a[1],d=uh(t.borderTopRightRadius,n.width,n.height),h=d[0],m=d[1],g=uh(t.borderBottomRightRadius,n.width,n.height),b=g[0],B=g[1],_=uh(t.borderBottomLeftRadius,n.width,n.height),k=_[0],j=_[1],T=[];T.push((o+h)/n.width),T.push((k+b)/n.width),T.push((c+j)/n.height),T.push((m+B)/n.height);var C=Math.max.apply(Math,T);C>1&&(o/=C,c/=C,h/=C,m/=C,b/=C,B/=C,k/=C,j/=C);var I=n.width-h,F=n.height-B,R=n.width-b,ae=n.height-j,Z=t.borderTopWidth,me=t.borderRightWidth,ee=t.borderBottomWidth,H=t.borderLeftWidth,W=ns(t.paddingTop,e.bounds.width),K=ns(t.paddingRight,e.bounds.width),$=ns(t.paddingBottom,e.bounds.width),re=ns(t.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=o>0||c>0?_s(n.left+H/3,n.top+Z/3,o-H/3,c-Z/3,Tn.TOP_LEFT):new Xt(n.left+H/3,n.top+Z/3),this.topRightBorderDoubleOuterBox=o>0||c>0?_s(n.left+I,n.top+Z/3,h-me/3,m-Z/3,Tn.TOP_RIGHT):new Xt(n.left+n.width-me/3,n.top+Z/3),this.bottomRightBorderDoubleOuterBox=b>0||B>0?_s(n.left+R,n.top+F,b-me/3,B-ee/3,Tn.BOTTOM_RIGHT):new Xt(n.left+n.width-me/3,n.top+n.height-ee/3),this.bottomLeftBorderDoubleOuterBox=k>0||j>0?_s(n.left+H/3,n.top+ae,k-H/3,j-ee/3,Tn.BOTTOM_LEFT):new Xt(n.left+H/3,n.top+n.height-ee/3),this.topLeftBorderDoubleInnerBox=o>0||c>0?_s(n.left+H*2/3,n.top+Z*2/3,o-H*2/3,c-Z*2/3,Tn.TOP_LEFT):new Xt(n.left+H*2/3,n.top+Z*2/3),this.topRightBorderDoubleInnerBox=o>0||c>0?_s(n.left+I,n.top+Z*2/3,h-me*2/3,m-Z*2/3,Tn.TOP_RIGHT):new Xt(n.left+n.width-me*2/3,n.top+Z*2/3),this.bottomRightBorderDoubleInnerBox=b>0||B>0?_s(n.left+R,n.top+F,b-me*2/3,B-ee*2/3,Tn.BOTTOM_RIGHT):new Xt(n.left+n.width-me*2/3,n.top+n.height-ee*2/3),this.bottomLeftBorderDoubleInnerBox=k>0||j>0?_s(n.left+H*2/3,n.top+ae,k-H*2/3,j-ee*2/3,Tn.BOTTOM_LEFT):new Xt(n.left+H*2/3,n.top+n.height-ee*2/3),this.topLeftBorderStroke=o>0||c>0?_s(n.left+H/2,n.top+Z/2,o-H/2,c-Z/2,Tn.TOP_LEFT):new Xt(n.left+H/2,n.top+Z/2),this.topRightBorderStroke=o>0||c>0?_s(n.left+I,n.top+Z/2,h-me/2,m-Z/2,Tn.TOP_RIGHT):new Xt(n.left+n.width-me/2,n.top+Z/2),this.bottomRightBorderStroke=b>0||B>0?_s(n.left+R,n.top+F,b-me/2,B-ee/2,Tn.BOTTOM_RIGHT):new Xt(n.left+n.width-me/2,n.top+n.height-ee/2),this.bottomLeftBorderStroke=k>0||j>0?_s(n.left+H/2,n.top+ae,k-H/2,j-ee/2,Tn.BOTTOM_LEFT):new Xt(n.left+H/2,n.top+n.height-ee/2),this.topLeftBorderBox=o>0||c>0?_s(n.left,n.top,o,c,Tn.TOP_LEFT):new Xt(n.left,n.top),this.topRightBorderBox=h>0||m>0?_s(n.left+I,n.top,h,m,Tn.TOP_RIGHT):new Xt(n.left+n.width,n.top),this.bottomRightBorderBox=b>0||B>0?_s(n.left+R,n.top+F,b,B,Tn.BOTTOM_RIGHT):new Xt(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=k>0||j>0?_s(n.left,n.top+ae,k,j,Tn.BOTTOM_LEFT):new Xt(n.left,n.top+n.height),this.topLeftPaddingBox=o>0||c>0?_s(n.left+H,n.top+Z,Math.max(0,o-H),Math.max(0,c-Z),Tn.TOP_LEFT):new Xt(n.left+H,n.top+Z),this.topRightPaddingBox=h>0||m>0?_s(n.left+Math.min(I,n.width-me),n.top+Z,I>n.width+me?0:Math.max(0,h-me),Math.max(0,m-Z),Tn.TOP_RIGHT):new Xt(n.left+n.width-me,n.top+Z),this.bottomRightPaddingBox=b>0||B>0?_s(n.left+Math.min(R,n.width-H),n.top+Math.min(F,n.height-ee),Math.max(0,b-me),Math.max(0,B-ee),Tn.BOTTOM_RIGHT):new Xt(n.left+n.width-me,n.top+n.height-ee),this.bottomLeftPaddingBox=k>0||j>0?_s(n.left+H,n.top+Math.min(ae,n.height-ee),Math.max(0,k-H),Math.max(0,j-ee),Tn.BOTTOM_LEFT):new Xt(n.left+H,n.top+n.height-ee),this.topLeftContentBox=o>0||c>0?_s(n.left+H+re,n.top+Z+W,Math.max(0,o-(H+re)),Math.max(0,c-(Z+W)),Tn.TOP_LEFT):new Xt(n.left+H+re,n.top+Z+W),this.topRightContentBox=h>0||m>0?_s(n.left+Math.min(I,n.width+H+re),n.top+Z+W,I>n.width+H+re?0:h-H+re,m-(Z+W),Tn.TOP_RIGHT):new Xt(n.left+n.width-(me+K),n.top+Z+W),this.bottomRightContentBox=b>0||B>0?_s(n.left+Math.min(R,n.width-(H+re)),n.top+Math.min(F,n.height+Z+W),Math.max(0,b-(me+K)),B-(ee+$),Tn.BOTTOM_RIGHT):new Xt(n.left+n.width-(me+K),n.top+n.height-(ee+$)),this.bottomLeftContentBox=k>0||j>0?_s(n.left+H+re,n.top+ae,Math.max(0,k-(H+re)),j-(ee+$),Tn.BOTTOM_LEFT):new Xt(n.left+H+re,n.top+n.height-(ee+$))}return r})(),Tn;(function(r){r[r.TOP_LEFT=0]="TOP_LEFT",r[r.TOP_RIGHT=1]="TOP_RIGHT",r[r.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",r[r.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Tn||(Tn={}));var _s=function(r,e,t,n,a){var o=4*((Math.sqrt(2)-1)/3),c=t*o,d=n*o,h=r+t,m=e+n;switch(a){case Tn.TOP_LEFT:return new np(new Xt(r,m),new Xt(r,m-d),new Xt(h-c,e),new Xt(h,e));case Tn.TOP_RIGHT:return new np(new Xt(r,e),new Xt(r+c,e),new Xt(h,m-d),new Xt(h,m));case Tn.BOTTOM_RIGHT:return new np(new Xt(h,e),new Xt(h,e+d),new Xt(r+c,m),new Xt(r,m));case Tn.BOTTOM_LEFT:default:return new np(new Xt(h,m),new Xt(h-c,m),new Xt(r,e+d),new Xt(r,e))}},tm=function(r){return[r.topLeftBorderBox,r.topRightBorderBox,r.bottomRightBorderBox,r.bottomLeftBorderBox]},M6=function(r){return[r.topLeftContentBox,r.topRightContentBox,r.bottomRightContentBox,r.bottomLeftContentBox]},rm=function(r){return[r.topLeftPaddingBox,r.topRightPaddingBox,r.bottomRightPaddingBox,r.bottomLeftPaddingBox]},D6=(function(){function r(e,t,n){this.offsetX=e,this.offsetY=t,this.matrix=n,this.type=0,this.target=6}return r})(),sp=(function(){function r(e,t){this.path=e,this.target=t,this.type=1}return r})(),R6=(function(){function r(e){this.opacity=e,this.type=2,this.target=6}return r})(),P6=function(r){return r.type===0},SB=function(r){return r.type===1},H6=function(r){return r.type===2},Mw=function(r,e){return r.length===e.length?r.some(function(t,n){return t===e[n]}):!1},z6=function(r,e,t,n,a){return r.map(function(o,c){switch(c){case 0:return o.add(e,t);case 1:return o.add(e+n,t);case 2:return o.add(e+n,t+a);case 3:return o.add(e,t+a)}return o})},LB=(function(){function r(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return r})(),jB=(function(){function r(e,t){if(this.container=e,this.parent=t,this.effects=[],this.curves=new O6(this.container),this.container.styles.opacity<1&&this.effects.push(new R6(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,a=this.container.bounds.top+this.container.styles.transformOrigin[1].number,o=this.container.styles.transform;this.effects.push(new D6(n,a,o))}if(this.container.styles.overflowX!==0){var c=tm(this.curves),d=rm(this.curves);Mw(c,d)?this.effects.push(new sp(c,6)):(this.effects.push(new sp(c,2)),this.effects.push(new sp(d,4)))}}return r.prototype.getEffects=function(e){for(var t=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,a=this.effects.slice(0);n;){var o=n.effects.filter(function(h){return!SB(h)});if(t||n.container.styles.position!==0||!n.parent){if(a.unshift.apply(a,o),t=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var c=tm(n.curves),d=rm(n.curves);Mw(c,d)||a.unshift(new sp(d,6))}}else a.unshift.apply(a,o);n=n.parent}return a.filter(function(h){return ja(h.target,e)})},r})(),Gx=function(r,e,t,n){r.container.elements.forEach(function(a){var o=ja(a.flags,4),c=ja(a.flags,2),d=new jB(a,r);ja(a.styles.display,2048)&&n.push(d);var h=ja(a.flags,8)?[]:n;if(o||c){var m=o||a.styles.isPositioned()?t:e,g=new LB(d);if(a.styles.isPositioned()||a.styles.opacity<1||a.styles.isTransformed()){var b=a.styles.zIndex.order;if(b<0){var B=0;m.negativeZIndex.some(function(k,j){return b>k.element.container.styles.zIndex.order?(B=j,!1):B>0}),m.negativeZIndex.splice(B,0,g)}else if(b>0){var _=0;m.positiveZIndex.some(function(k,j){return b>=k.element.container.styles.zIndex.order?(_=j+1,!1):_>0}),m.positiveZIndex.splice(_,0,g)}else m.zeroOrAutoZIndexOrTransformedOrOpacity.push(g)}else a.styles.isFloating()?m.nonPositionedFloats.push(g):m.nonPositionedInlineLevel.push(g);Gx(d,g,o?g:t,h)}else a.styles.isInlineLevel()?e.inlineLevel.push(d):e.nonInlineLevel.push(d),Gx(d,e,t,h);ja(a.flags,8)&&kB(a,h)})},kB=function(r,e){for(var t=r instanceof Px?r.start:1,n=r instanceof Px?r.reversed:!1,a=0;a<e.length;a++){var o=e[a];o.container instanceof fB&&typeof o.container.value=="number"&&o.container.value!==0&&(t=o.container.value),o.listValue=jh(t,o.container.styles.listStyleType,!0),t+=n?-1:1}},q6=function(r){var e=new jB(r,null),t=new LB(e),n=[];return Gx(e,t,t,n),kB(e.container,n),t},Dw=function(r,e){switch(e){case 0:return zo(r.topLeftBorderBox,r.topLeftPaddingBox,r.topRightBorderBox,r.topRightPaddingBox);case 1:return zo(r.topRightBorderBox,r.topRightPaddingBox,r.bottomRightBorderBox,r.bottomRightPaddingBox);case 2:return zo(r.bottomRightBorderBox,r.bottomRightPaddingBox,r.bottomLeftBorderBox,r.bottomLeftPaddingBox);case 3:default:return zo(r.bottomLeftBorderBox,r.bottomLeftPaddingBox,r.topLeftBorderBox,r.topLeftPaddingBox)}},K6=function(r,e){switch(e){case 0:return zo(r.topLeftBorderBox,r.topLeftBorderDoubleOuterBox,r.topRightBorderBox,r.topRightBorderDoubleOuterBox);case 1:return zo(r.topRightBorderBox,r.topRightBorderDoubleOuterBox,r.bottomRightBorderBox,r.bottomRightBorderDoubleOuterBox);case 2:return zo(r.bottomRightBorderBox,r.bottomRightBorderDoubleOuterBox,r.bottomLeftBorderBox,r.bottomLeftBorderDoubleOuterBox);case 3:default:return zo(r.bottomLeftBorderBox,r.bottomLeftBorderDoubleOuterBox,r.topLeftBorderBox,r.topLeftBorderDoubleOuterBox)}},G6=function(r,e){switch(e){case 0:return zo(r.topLeftBorderDoubleInnerBox,r.topLeftPaddingBox,r.topRightBorderDoubleInnerBox,r.topRightPaddingBox);case 1:return zo(r.topRightBorderDoubleInnerBox,r.topRightPaddingBox,r.bottomRightBorderDoubleInnerBox,r.bottomRightPaddingBox);case 2:return zo(r.bottomRightBorderDoubleInnerBox,r.bottomRightPaddingBox,r.bottomLeftBorderDoubleInnerBox,r.bottomLeftPaddingBox);case 3:default:return zo(r.bottomLeftBorderDoubleInnerBox,r.bottomLeftPaddingBox,r.topLeftBorderDoubleInnerBox,r.topLeftPaddingBox)}},V6=function(r,e){switch(e){case 0:return ap(r.topLeftBorderStroke,r.topRightBorderStroke);case 1:return ap(r.topRightBorderStroke,r.bottomRightBorderStroke);case 2:return ap(r.bottomRightBorderStroke,r.bottomLeftBorderStroke);case 3:default:return ap(r.bottomLeftBorderStroke,r.topLeftBorderStroke)}},ap=function(r,e){var t=[];return Po(r)?t.push(r.subdivide(.5,!1)):t.push(r),Po(e)?t.push(e.subdivide(.5,!0)):t.push(e),t},zo=function(r,e,t,n){var a=[];return Po(r)?a.push(r.subdivide(.5,!1)):a.push(r),Po(t)?a.push(t.subdivide(.5,!0)):a.push(t),Po(n)?a.push(n.subdivide(.5,!0).reverse()):a.push(n),Po(e)?a.push(e.subdivide(.5,!1).reverse()):a.push(e),a},UB=function(r){var e=r.bounds,t=r.styles;return e.add(t.borderLeftWidth,t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth),-(t.borderTopWidth+t.borderBottomWidth))},nm=function(r){var e=r.styles,t=r.bounds,n=ns(e.paddingLeft,t.width),a=ns(e.paddingRight,t.width),o=ns(e.paddingTop,t.width),c=ns(e.paddingBottom,t.width);return t.add(n+e.borderLeftWidth,o+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+a),-(e.borderTopWidth+e.borderBottomWidth+o+c))},Z6=function(r,e){return r===0?e.bounds:r===2?nm(e):UB(e)},$6=function(r,e){return r===0?e.bounds:r===2?nm(e):UB(e)},N0=function(r,e,t){var n=Z6(Gu(r.styles.backgroundOrigin,e),r),a=$6(Gu(r.styles.backgroundClip,e),r),o=Y6(Gu(r.styles.backgroundSize,e),t,n),c=o[0],d=o[1],h=uh(Gu(r.styles.backgroundPosition,e),n.width-c,n.height-d),m=X6(Gu(r.styles.backgroundRepeat,e),h,o,n,a),g=Math.round(n.left+h[0]),b=Math.round(n.top+h[1]);return[m,g,b,c,d]},Tu=function(r){return Vn(r)&&r.value===rd.AUTO},ip=function(r){return typeof r=="number"},Y6=function(r,e,t){var n=e[0],a=e[1],o=e[2],c=r[0],d=r[1];if(!c)return[0,0];if(ga(c)&&d&&ga(d))return[ns(c,t.width),ns(d,t.height)];var h=ip(o);if(Vn(c)&&(c.value===rd.CONTAIN||c.value===rd.COVER)){if(ip(o)){var m=t.width/t.height;return m<o!=(c.value===rd.COVER)?[t.width,t.width/o]:[t.height*o,t.height]}return[t.width,t.height]}var g=ip(n),b=ip(a),B=g||b;if(Tu(c)&&(!d||Tu(d))){if(g&&b)return[n,a];if(!h&&!B)return[t.width,t.height];if(B&&h){var _=g?n:a*o,k=b?a:n/o;return[_,k]}var j=g?n:t.width,T=b?a:t.height;return[j,T]}if(h){var C=0,I=0;return ga(c)?C=ns(c,t.width):ga(d)&&(I=ns(d,t.height)),Tu(c)?C=I*o:(!d||Tu(d))&&(I=C/o),[C,I]}var F=null,R=null;if(ga(c)?F=ns(c,t.width):d&&ga(d)&&(R=ns(d,t.height)),F!==null&&(!d||Tu(d))&&(R=g&&b?F/n*a:t.height),R!==null&&Tu(c)&&(F=g&&b?R/a*n:t.width),F!==null&&R!==null)return[F,R];throw new Error("Unable to calculate background-size for element")},Gu=function(r,e){var t=r[e];return typeof t>"u"?r[0]:t},X6=function(r,e,t,n,a){var o=e[0],c=e[1],d=t[0],h=t[1];switch(r){case 2:return[new Xt(Math.round(n.left),Math.round(n.top+c)),new Xt(Math.round(n.left+n.width),Math.round(n.top+c)),new Xt(Math.round(n.left+n.width),Math.round(h+n.top+c)),new Xt(Math.round(n.left),Math.round(h+n.top+c))];case 3:return[new Xt(Math.round(n.left+o),Math.round(n.top)),new Xt(Math.round(n.left+o+d),Math.round(n.top)),new Xt(Math.round(n.left+o+d),Math.round(n.height+n.top)),new Xt(Math.round(n.left+o),Math.round(n.height+n.top))];case 1:return[new Xt(Math.round(n.left+o),Math.round(n.top+c)),new Xt(Math.round(n.left+o+d),Math.round(n.top+c)),new Xt(Math.round(n.left+o+d),Math.round(n.top+c+h)),new Xt(Math.round(n.left+o),Math.round(n.top+c+h))];default:return[new Xt(Math.round(a.left),Math.round(a.top)),new Xt(Math.round(a.left+a.width),Math.round(a.top)),new Xt(Math.round(a.left+a.width),Math.round(a.height+a.top)),new Xt(Math.round(a.left),Math.round(a.height+a.top))]}},J6="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",Rw="Hidden Text",W6=(function(){function r(e){this._data={},this._document=e}return r.prototype.parseMetrics=function(e,t){var n=this._document.createElement("div"),a=this._document.createElement("img"),o=this._document.createElement("span"),c=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=t,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",c.appendChild(n),a.src=J6,a.width=1,a.height=1,a.style.margin="0",a.style.padding="0",a.style.verticalAlign="baseline",o.style.fontFamily=e,o.style.fontSize=t,o.style.margin="0",o.style.padding="0",o.appendChild(this._document.createTextNode(Rw)),n.appendChild(o),n.appendChild(a);var d=a.offsetTop-o.offsetTop+2;n.removeChild(o),n.appendChild(this._document.createTextNode(Rw)),n.style.lineHeight="normal",a.style.verticalAlign="super";var h=a.offsetTop-n.offsetTop+2;return c.removeChild(n),{baseline:d,middle:h}},r.prototype.getMetrics=function(e,t){var n=e+" "+t;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(e,t)),this._data[n]},r})(),TB=(function(){function r(e,t){this.context=e,this.options=t}return r})(),eT=1e4,tT=(function(r){pl(e,r);function e(t,n){var a=r.call(this,t,n)||this;return a._activeEffects=[],a.canvas=n.canvas?n.canvas:document.createElement("canvas"),a.ctx=a.canvas.getContext("2d"),n.canvas||(a.canvas.width=Math.floor(n.width*n.scale),a.canvas.height=Math.floor(n.height*n.scale),a.canvas.style.width=n.width+"px",a.canvas.style.height=n.height+"px"),a.fontMetrics=new W6(document),a.ctx.scale(a.options.scale,a.options.scale),a.ctx.translate(-n.x,-n.y),a.ctx.textBaseline="bottom",a._activeEffects=[],a.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),a}return e.prototype.applyEffects=function(t){for(var n=this;this._activeEffects.length;)this.popEffect();t.forEach(function(a){return n.applyEffect(a)})},e.prototype.applyEffect=function(t){this.ctx.save(),H6(t)&&(this.ctx.globalAlpha=t.opacity),P6(t)&&(this.ctx.translate(t.offsetX,t.offsetY),this.ctx.transform(t.matrix[0],t.matrix[1],t.matrix[2],t.matrix[3],t.matrix[4],t.matrix[5]),this.ctx.translate(-t.offsetX,-t.offsetY)),SB(t)&&(this.path(t.path),this.ctx.clip()),this._activeEffects.push(t)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(t){return ki(this,void 0,void 0,function(){var n;return vi(this,function(a){switch(a.label){case 0:return n=t.element.container.styles,n.isVisible()?[4,this.renderStackContent(t)]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(t){return ki(this,void 0,void 0,function(){return vi(this,function(n){switch(n.label){case 0:if(ja(t.container.flags,16))debugger;return t.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(t)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(t)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(t,n,a){var o=this;if(n===0)this.ctx.fillText(t.text,t.bounds.left,t.bounds.top+a);else{var c=Rb(t.text);c.reduce(function(d,h){return o.ctx.fillText(h,d,t.bounds.top+a),d+o.ctx.measureText(h).width},t.bounds.left)}},e.prototype.createFontStyle=function(t){var n=t.fontVariant.filter(function(c){return c==="normal"||c==="small-caps"}).join(""),a=iT(t.fontFamily).join(", "),o=zh(t.fontSize)?""+t.fontSize.number+t.fontSize.unit:t.fontSize.number+"px";return[[t.fontStyle,n,t.fontWeight,o,a].join(" "),a,o]},e.prototype.renderTextNode=function(t,n){return ki(this,void 0,void 0,function(){var a,o,c,d,h,m,g,b,B=this;return vi(this,function(_){return a=this.createFontStyle(n),o=a[0],c=a[1],d=a[2],this.ctx.font=o,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",h=this.fontMetrics.getMetrics(c,d),m=h.baseline,g=h.middle,b=n.paintOrder,t.textBounds.forEach(function(k){b.forEach(function(j){switch(j){case 0:B.ctx.fillStyle=Ma(n.color),B.renderTextWithLetterSpacing(k,n.letterSpacing,m);var T=n.textShadow;T.length&&k.text.trim().length&&(T.slice(0).reverse().forEach(function(C){B.ctx.shadowColor=Ma(C.color),B.ctx.shadowOffsetX=C.offsetX.number*B.options.scale,B.ctx.shadowOffsetY=C.offsetY.number*B.options.scale,B.ctx.shadowBlur=C.blur.number,B.renderTextWithLetterSpacing(k,n.letterSpacing,m)}),B.ctx.shadowColor="",B.ctx.shadowOffsetX=0,B.ctx.shadowOffsetY=0,B.ctx.shadowBlur=0),n.textDecorationLine.length&&(B.ctx.fillStyle=Ma(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(C){switch(C){case 1:B.ctx.fillRect(k.bounds.left,Math.round(k.bounds.top+m),k.bounds.width,1);break;case 2:B.ctx.fillRect(k.bounds.left,Math.round(k.bounds.top),k.bounds.width,1);break;case 3:B.ctx.fillRect(k.bounds.left,Math.ceil(k.bounds.top+g),k.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&k.text.trim().length&&(B.ctx.strokeStyle=Ma(n.webkitTextStrokeColor),B.ctx.lineWidth=n.webkitTextStrokeWidth,B.ctx.lineJoin=window.chrome?"miter":"round",B.ctx.strokeText(k.text,k.bounds.left,k.bounds.top+m)),B.ctx.strokeStyle="",B.ctx.lineWidth=0,B.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(t,n,a){if(a&&t.intrinsicWidth>0&&t.intrinsicHeight>0){var o=nm(t),c=rm(n);this.path(c),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(a,0,0,t.intrinsicWidth,t.intrinsicHeight,o.left,o.top,o.width,o.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(t){return ki(this,void 0,void 0,function(){var n,a,o,c,d,h,I,I,m,g,b,B,R,_,k,ae,j,T,C,I,F,R,ae;return vi(this,function(Z){switch(Z.label){case 0:this.applyEffects(t.getEffects(4)),n=t.container,a=t.curves,o=n.styles,c=0,d=n.textNodes,Z.label=1;case 1:return c<d.length?(h=d[c],[4,this.renderTextNode(h,o)]):[3,4];case 2:Z.sent(),Z.label=3;case 3:return c++,[3,1];case 4:if(!(n instanceof uB))return[3,8];Z.label=5;case 5:return Z.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return I=Z.sent(),this.renderReplacedElement(n,a,I),[3,8];case 7:return Z.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof dB&&this.renderReplacedElement(n,a,n.canvas),!(n instanceof hB))return[3,12];Z.label=9;case 9:return Z.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return I=Z.sent(),this.renderReplacedElement(n,a,I),[3,12];case 11:return Z.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof gB&&n.tree?(m=new e(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,m.render(n.tree)]):[3,14];case 13:g=Z.sent(),n.width&&n.height&&this.ctx.drawImage(g,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),Z.label=14;case 14:if(n instanceof Pb&&(b=Math.min(n.bounds.width,n.bounds.height),n.type===Xp?n.checked&&(this.ctx.save(),this.path([new Xt(n.bounds.left+b*.39363,n.bounds.top+b*.79),new Xt(n.bounds.left+b*.16,n.bounds.top+b*.5549),new Xt(n.bounds.left+b*.27347,n.bounds.top+b*.44071),new Xt(n.bounds.left+b*.39694,n.bounds.top+b*.5649),new Xt(n.bounds.left+b*.72983,n.bounds.top+b*.23),new Xt(n.bounds.left+b*.84,n.bounds.top+b*.34085),new Xt(n.bounds.left+b*.39363,n.bounds.top+b*.79)]),this.ctx.fillStyle=Ma(Ew),this.ctx.fill(),this.ctx.restore()):n.type===Jp&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+b/2,n.bounds.top+b/2,b/4,0,Math.PI*2,!0),this.ctx.fillStyle=Ma(Ew),this.ctx.fill(),this.ctx.restore())),rT(n)&&n.value.length){switch(B=this.createFontStyle(o),R=B[0],_=B[1],k=this.fontMetrics.getMetrics(R,_).baseline,this.ctx.font=R,this.ctx.fillStyle=Ma(o.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=sT(n.styles.textAlign),ae=nm(n),j=0,n.styles.textAlign){case 1:j+=ae.width/2;break;case 2:j+=ae.width;break}T=ae.add(j,0,0,-ae.height/2+1),this.ctx.save(),this.path([new Xt(ae.left,ae.top),new Xt(ae.left+ae.width,ae.top),new Xt(ae.left+ae.width,ae.top+ae.height),new Xt(ae.left,ae.top+ae.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new xh(n.value,T),o.letterSpacing,k),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!ja(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(C=n.styles.listStyleImage,C.type!==0)return[3,18];I=void 0,F=C.url,Z.label=15;case 15:return Z.trys.push([15,17,,18]),[4,this.context.cache.match(F)];case 16:return I=Z.sent(),this.ctx.drawImage(I,n.bounds.left-(I.width+10),n.bounds.top),[3,18];case 17:return Z.sent(),this.context.logger.error("Error loading list-style-image "+F),[3,18];case 18:return[3,20];case 19:t.listValue&&n.styles.listStyleType!==-1&&(R=this.createFontStyle(o)[0],this.ctx.font=R,this.ctx.fillStyle=Ma(o.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",ae=new kA(n.bounds.left,n.bounds.top+ns(n.styles.paddingTop,n.bounds.width),n.bounds.width,cw(o.lineHeight,o.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new xh(t.listValue,ae),o.letterSpacing,cw(o.lineHeight,o.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),Z.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(t){return ki(this,void 0,void 0,function(){var n,a,C,o,c,C,d,h,C,m,g,C,b,B,C,_,k,C,j,T,C;return vi(this,function(I){switch(I.label){case 0:if(ja(t.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(t.element)];case 1:I.sent(),n=0,a=t.negativeZIndex,I.label=2;case 2:return n<a.length?(C=a[n],[4,this.renderStack(C)]):[3,5];case 3:I.sent(),I.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(t.element)];case 6:I.sent(),o=0,c=t.nonInlineLevel,I.label=7;case 7:return o<c.length?(C=c[o],[4,this.renderNode(C)]):[3,10];case 8:I.sent(),I.label=9;case 9:return o++,[3,7];case 10:d=0,h=t.nonPositionedFloats,I.label=11;case 11:return d<h.length?(C=h[d],[4,this.renderStack(C)]):[3,14];case 12:I.sent(),I.label=13;case 13:return d++,[3,11];case 14:m=0,g=t.nonPositionedInlineLevel,I.label=15;case 15:return m<g.length?(C=g[m],[4,this.renderStack(C)]):[3,18];case 16:I.sent(),I.label=17;case 17:return m++,[3,15];case 18:b=0,B=t.inlineLevel,I.label=19;case 19:return b<B.length?(C=B[b],[4,this.renderNode(C)]):[3,22];case 20:I.sent(),I.label=21;case 21:return b++,[3,19];case 22:_=0,k=t.zeroOrAutoZIndexOrTransformedOrOpacity,I.label=23;case 23:return _<k.length?(C=k[_],[4,this.renderStack(C)]):[3,26];case 24:I.sent(),I.label=25;case 25:return _++,[3,23];case 26:j=0,T=t.positiveZIndex,I.label=27;case 27:return j<T.length?(C=T[j],[4,this.renderStack(C)]):[3,30];case 28:I.sent(),I.label=29;case 29:return j++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(t){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(t.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(t){this.ctx.beginPath(),this.formatPath(t),this.ctx.closePath()},e.prototype.formatPath=function(t){var n=this;t.forEach(function(a,o){var c=Po(a)?a.start:a;o===0?n.ctx.moveTo(c.x,c.y):n.ctx.lineTo(c.x,c.y),Po(a)&&n.ctx.bezierCurveTo(a.startControl.x,a.startControl.y,a.endControl.x,a.endControl.y,a.end.x,a.end.y)})},e.prototype.renderRepeat=function(t,n,a,o){this.path(t),this.ctx.fillStyle=n,this.ctx.translate(a,o),this.ctx.fill(),this.ctx.translate(-a,-o)},e.prototype.resizeImage=function(t,n,a){var o;if(t.width===n&&t.height===a)return t;var c=(o=this.canvas.ownerDocument)!==null&&o!==void 0?o:document,d=c.createElement("canvas");d.width=Math.max(1,n),d.height=Math.max(1,a);var h=d.getContext("2d");return h.drawImage(t,0,0,t.width,t.height,0,0,n,a),d},e.prototype.renderBackgroundImage=function(t){return ki(this,void 0,void 0,function(){var n,a,o,c,d,h;return vi(this,function(m){switch(m.label){case 0:n=t.styles.backgroundImage.length-1,a=function(g){var b,B,_,W,Y,pe,re,le,ee,k,W,Y,pe,re,le,j,T,C,I,F,R,ae,Z,me,ee,H,W,K,$,re,le,ge,Y,pe,z,ve,we,V,O,G,Q,oe;return vi(this,function(ce){switch(ce.label){case 0:if(g.type!==0)return[3,5];b=void 0,B=g.url,ce.label=1;case 1:return ce.trys.push([1,3,,4]),[4,o.context.cache.match(B)];case 2:return b=ce.sent(),[3,4];case 3:return ce.sent(),o.context.logger.error("Error loading background-image "+B),[3,4];case 4:return b&&(_=N0(t,n,[b.width,b.height,b.width/b.height]),W=_[0],Y=_[1],pe=_[2],re=_[3],le=_[4],ee=o.ctx.createPattern(o.resizeImage(b,re,le),"repeat"),o.renderRepeat(W,ee,Y,pe)),[3,6];case 5:Pj(g)?(k=N0(t,n,[null,null,null]),W=k[0],Y=k[1],pe=k[2],re=k[3],le=k[4],j=Ij(g.angle,re,le),T=j[0],C=j[1],I=j[2],F=j[3],R=j[4],ae=document.createElement("canvas"),ae.width=re,ae.height=le,Z=ae.getContext("2d"),me=Z.createLinearGradient(C,F,I,R),lw(g.stops,T).forEach(function(Be){return me.addColorStop(Be.stop,Ma(Be.color))}),Z.fillStyle=me,Z.fillRect(0,0,re,le),re>0&&le>0&&(ee=o.ctx.createPattern(ae,"repeat"),o.renderRepeat(W,ee,Y,pe))):Hj(g)&&(H=N0(t,n,[null,null,null]),W=H[0],K=H[1],$=H[2],re=H[3],le=H[4],ge=g.position.length===0?[Ob]:g.position,Y=ns(ge[0],re),pe=ns(ge[ge.length-1],le),z=Oj(g,Y,pe,re,le),ve=z[0],we=z[1],ve>0&&we>0&&(V=o.ctx.createRadialGradient(K+Y,$+pe,0,K+Y,$+pe,ve),lw(g.stops,ve*2).forEach(function(Be){return V.addColorStop(Be.stop,Ma(Be.color))}),o.path(W),o.ctx.fillStyle=V,ve!==we?(O=t.bounds.left+.5*t.bounds.width,G=t.bounds.top+.5*t.bounds.height,Q=we/ve,oe=1/Q,o.ctx.save(),o.ctx.translate(O,G),o.ctx.transform(1,0,0,Q,0,0),o.ctx.translate(-O,-G),o.ctx.fillRect(K,oe*($-G)+G,re,le*oe),o.ctx.restore()):o.ctx.fill())),ce.label=6;case 6:return n--,[2]}})},o=this,c=0,d=t.styles.backgroundImage.slice(0).reverse(),m.label=1;case 1:return c<d.length?(h=d[c],[5,a(h)]):[3,4];case 2:m.sent(),m.label=3;case 3:return c++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(t,n,a){return ki(this,void 0,void 0,function(){return vi(this,function(o){return this.path(Dw(a,n)),this.ctx.fillStyle=Ma(t),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(t,n,a,o){return ki(this,void 0,void 0,function(){var c,d;return vi(this,function(h){switch(h.label){case 0:return n<3?[4,this.renderSolidBorder(t,a,o)]:[3,2];case 1:return h.sent(),[2];case 2:return c=K6(o,a),this.path(c),this.ctx.fillStyle=Ma(t),this.ctx.fill(),d=G6(o,a),this.path(d),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(t){return ki(this,void 0,void 0,function(){var n,a,o,c,d,h,m,g,b=this;return vi(this,function(B){switch(B.label){case 0:return this.applyEffects(t.getEffects(2)),n=t.container.styles,a=!mc(n.backgroundColor)||n.backgroundImage.length,o=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],c=nT(Gu(n.backgroundClip,0),t.curves),a||n.boxShadow.length?(this.ctx.save(),this.path(c),this.ctx.clip(),mc(n.backgroundColor)||(this.ctx.fillStyle=Ma(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(t.container)]):[3,2];case 1:B.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(_){b.ctx.save();var k=tm(t.curves),j=_.inset?0:eT,T=z6(k,-j+(_.inset?1:-1)*_.spread.number,(_.inset?1:-1)*_.spread.number,_.spread.number*(_.inset?-2:2),_.spread.number*(_.inset?-2:2));_.inset?(b.path(k),b.ctx.clip(),b.mask(T)):(b.mask(k),b.ctx.clip(),b.path(T)),b.ctx.shadowOffsetX=_.offsetX.number+j,b.ctx.shadowOffsetY=_.offsetY.number,b.ctx.shadowColor=Ma(_.color),b.ctx.shadowBlur=_.blur.number,b.ctx.fillStyle=_.inset?Ma(_.color):"rgba(0,0,0,1)",b.ctx.fill(),b.ctx.restore()}),B.label=2;case 2:d=0,h=0,m=o,B.label=3;case 3:return h<m.length?(g=m[h],g.style!==0&&!mc(g.color)&&g.width>0?g.style!==2?[3,5]:[4,this.renderDashedDottedBorder(g.color,g.width,d,t.curves,2)]:[3,11]):[3,13];case 4:return B.sent(),[3,11];case 5:return g.style!==3?[3,7]:[4,this.renderDashedDottedBorder(g.color,g.width,d,t.curves,3)];case 6:return B.sent(),[3,11];case 7:return g.style!==4?[3,9]:[4,this.renderDoubleBorder(g.color,g.width,d,t.curves)];case 8:return B.sent(),[3,11];case 9:return[4,this.renderSolidBorder(g.color,d,t.curves)];case 10:B.sent(),B.label=11;case 11:d++,B.label=12;case 12:return h++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(t,n,a,o,c){return ki(this,void 0,void 0,function(){var d,h,m,g,b,B,_,k,j,T,C,I,F,R,ae,Z,ae,Z;return vi(this,function(me){return this.ctx.save(),d=V6(o,a),h=Dw(o,a),c===2&&(this.path(h),this.ctx.clip()),Po(h[0])?(m=h[0].start.x,g=h[0].start.y):(m=h[0].x,g=h[0].y),Po(h[1])?(b=h[1].end.x,B=h[1].end.y):(b=h[1].x,B=h[1].y),a===0||a===2?_=Math.abs(m-b):_=Math.abs(g-B),this.ctx.beginPath(),c===3?this.formatPath(d):this.formatPath(h.slice(0,2)),k=n<3?n*3:n*2,j=n<3?n*2:n,c===3&&(k=n,j=n),T=!0,_<=k*2?T=!1:_<=k*2+j?(C=_/(2*k+j),k*=C,j*=C):(I=Math.floor((_+j)/(k+j)),F=(_-I*k)/(I-1),R=(_-(I+1)*k)/I,j=R<=0||Math.abs(j-F)<Math.abs(j-R)?F:R),T&&(c===3?this.ctx.setLineDash([0,k+j]):this.ctx.setLineDash([k,j])),c===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=Ma(t),this.ctx.stroke(),this.ctx.setLineDash([]),c===2&&(Po(h[0])&&(ae=h[3],Z=h[0],this.ctx.beginPath(),this.formatPath([new Xt(ae.end.x,ae.end.y),new Xt(Z.start.x,Z.start.y)]),this.ctx.stroke()),Po(h[1])&&(ae=h[1],Z=h[2],this.ctx.beginPath(),this.formatPath([new Xt(ae.end.x,ae.end.y),new Xt(Z.start.x,Z.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(t){return ki(this,void 0,void 0,function(){var n;return vi(this,function(a){switch(a.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Ma(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=q6(t),[4,this.renderStack(n)];case 1:return a.sent(),this.applyEffects([]),[2,this.canvas]}})})},e})(TB),rT=function(r){return r instanceof mB||r instanceof pB?!0:r instanceof Pb&&r.type!==Jp&&r.type!==Xp},nT=function(r,e){switch(r){case 0:return tm(e);case 2:return M6(e);case 1:default:return rm(e)}},sT=function(r){switch(r){case 1:return"center";case 2:return"right";case 0:default:return"left"}},aT=["-apple-system","system-ui"],iT=function(r){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?r.filter(function(e){return aT.indexOf(e)===-1}):r},oT=(function(r){pl(e,r);function e(t,n){var a=r.call(this,t,n)||this;return a.canvas=n.canvas?n.canvas:document.createElement("canvas"),a.ctx=a.canvas.getContext("2d"),a.options=n,a.canvas.width=Math.floor(n.width*n.scale),a.canvas.height=Math.floor(n.height*n.scale),a.canvas.style.width=n.width+"px",a.canvas.style.height=n.height+"px",a.ctx.scale(a.options.scale,a.options.scale),a.ctx.translate(-n.x,-n.y),a.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),a}return e.prototype.render=function(t){return ki(this,void 0,void 0,function(){var n,a;return vi(this,function(o){switch(o.label){case 0:return n=Rx(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,t),[4,lT(n)];case 1:return a=o.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Ma(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(a,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e})(TB),lT=function(r){return new Promise(function(e,t){var n=new Image;n.onload=function(){e(n)},n.onerror=t,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(r))})},AT=(function(){function r(e){var t=e.id,n=e.enabled;this.id=t,this.enabled=n,this.start=Date.now()}return r.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,Mf([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},r.prototype.getTime=function(){return Date.now()-this.start},r.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,Mf([this.id,this.getTime()+"ms"],e))},r.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,Mf([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},r.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,Mf([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},r.instances={},r})(),cT=(function(){function r(e,t){var n;this.windowBounds=t,this.instanceName="#"+r.instanceCount++,this.logger=new AT({id:this.instanceName,enabled:e.logging}),this.cache=(n=e.cache)!==null&&n!==void 0?n:new j6(this,e)}return r.instanceCount=1,r})(),FB=function(r,e){return e===void 0&&(e={}),uT(r,e)};typeof window<"u"&&EB.setContext(window);var uT=function(r,e){return ki(void 0,void 0,void 0,function(){var t,n,a,o,c,d,h,m,g,b,B,_,k,j,T,C,I,F,R,ae,me,Z,me,ee,H,W,K,$,re,le,ge,Y,pe,z,ve,we,V,O,G,Q;return vi(this,function(oe){switch(oe.label){case 0:if(!r||typeof r!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(t=r.ownerDocument,!t)throw new Error("Element is not attached to a Document");if(n=t.defaultView,!n)throw new Error("Document is not attached to a Window");return a={allowTaint:(ee=e.allowTaint)!==null&&ee!==void 0?ee:!1,imageTimeout:(H=e.imageTimeout)!==null&&H!==void 0?H:15e3,proxy:e.proxy,useCORS:(W=e.useCORS)!==null&&W!==void 0?W:!1},o=Nx({logging:(K=e.logging)!==null&&K!==void 0?K:!0,cache:e.cache},a),c={windowWidth:($=e.windowWidth)!==null&&$!==void 0?$:n.innerWidth,windowHeight:(re=e.windowHeight)!==null&&re!==void 0?re:n.innerHeight,scrollX:(le=e.scrollX)!==null&&le!==void 0?le:n.pageXOffset,scrollY:(ge=e.scrollY)!==null&&ge!==void 0?ge:n.pageYOffset},d=new kA(c.scrollX,c.scrollY,c.windowWidth,c.windowHeight),h=new cT(o,d),m=(Y=e.foreignObjectRendering)!==null&&Y!==void 0?Y:!1,g={allowTaint:(pe=e.allowTaint)!==null&&pe!==void 0?pe:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:m,copyStyles:m},h.logger.debug("Starting document clone with size "+d.width+"x"+d.height+" scrolled to "+-d.left+","+-d.top),b=new Iw(h,r,g),B=b.clonedReferenceElement,B?[4,b.toIFrame(t,d)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return _=oe.sent(),k=Hb(B)||h6(B)?z3(B.ownerDocument):xm(h,B),j=k.width,T=k.height,C=k.left,I=k.top,F=dT(h,B,e.backgroundColor),R={canvas:e.canvas,backgroundColor:F,scale:(ve=(z=e.scale)!==null&&z!==void 0?z:n.devicePixelRatio)!==null&&ve!==void 0?ve:1,x:((we=e.x)!==null&&we!==void 0?we:0)+C,y:((V=e.y)!==null&&V!==void 0?V:0)+I,width:(O=e.width)!==null&&O!==void 0?O:Math.ceil(j),height:(G=e.height)!==null&&G!==void 0?G:Math.ceil(T)},m?(h.logger.debug("Document cloned, using foreign object rendering"),me=new oT(h,R),[4,me.render(B)]):[3,3];case 2:return ae=oe.sent(),[3,5];case 3:return h.logger.debug("Document cloned, element located at "+C+","+I+" with size "+j+"x"+T+" using computed rendering"),h.logger.debug("Starting DOM parsing"),Z=bB(h,B),F===Z.styles.backgroundColor&&(Z.styles.backgroundColor=LA.TRANSPARENT),h.logger.debug("Starting renderer for element at "+R.x+","+R.y+" with size "+R.width+"x"+R.height),me=new tT(h,R),[4,me.render(Z)];case 4:ae=oe.sent(),oe.label=5;case 5:return(!((Q=e.removeContainer)!==null&&Q!==void 0)||Q)&&(Iw.destroy(_)||h.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),h.logger.debug("Finished rendering"),[2,ae]}})})},dT=function(r,e,t){var n=e.ownerDocument,a=n.documentElement?mh(r,getComputedStyle(n.documentElement).backgroundColor):LA.TRANSPARENT,o=n.body?mh(r,getComputedStyle(n.body).backgroundColor):LA.TRANSPARENT,c=typeof t=="string"?mh(r,t):t===null?LA.TRANSPARENT:4294967295;return e===n.documentElement?mc(a)?mc(o)?c:o:a:c};const hT=Object.freeze(Object.defineProperty({__proto__:null,default:FB},Symbol.toStringTag,{value:"Module"})),fT="modulepreload",pT=function(r){return"/"+r},Pw={},C0=function(e,t,n){let a=Promise.resolve();if(t&&t.length>0){let c=function(m){return Promise.all(m.map(g=>Promise.resolve(g).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),h=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));a=c(t.map(m=>{if(m=pT(m),m in Pw)return;Pw[m]=!0;const g=m.endsWith(".css"),b=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${b}`))return;const B=document.createElement("link");if(B.rel=g?"stylesheet":fT,g||(B.as="script"),B.crossOrigin="",B.href=m,h&&B.setAttribute("nonce",h),document.head.appendChild(B),g)return new Promise((_,k)=>{B.addEventListener("load",_),B.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${m}`)))})}))}function o(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return a.then(c=>{for(const d of c||[])d.status==="rejected"&&o(d.reason);return e().catch(o)})};function Rn(r){"@babel/helpers - typeof";return Rn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rn(r)}var fl=Uint8Array,Bo=Uint16Array,zb=Int32Array,qb=new fl([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Kb=new fl([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Hw=new fl([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),QB=function(r,e){for(var t=new Bo(31),n=0;n<31;++n)t[n]=e+=1<<r[n-1];for(var a=new zb(t[30]),n=1;n<30;++n)for(var o=t[n];o<t[n+1];++o)a[o]=o-t[n]<<5|n;return{b:t,r:a}},IB=QB(qb,2),mT=IB.b,Vx=IB.r;mT[28]=258,Vx[258]=28;var gT=QB(Kb,0),zw=gT.r,Zx=new Bo(32768);for(var hs=0;hs<32768;++hs){var nc=(hs&43690)>>1|(hs&21845)<<1;nc=(nc&52428)>>2|(nc&13107)<<2,nc=(nc&61680)>>4|(nc&3855)<<4,Zx[hs]=((nc&65280)>>8|(nc&255)<<8)>>1}var vh=(function(r,e,t){for(var n=r.length,a=0,o=new Bo(e);a<n;++a)r[a]&&++o[r[a]-1];var c=new Bo(e);for(a=1;a<e;++a)c[a]=c[a-1]+o[a-1]<<1;var d;if(t){d=new Bo(1<<e);var h=15-e;for(a=0;a<n;++a)if(r[a])for(var m=a<<4|r[a],g=e-r[a],b=c[r[a]-1]++<<g,B=b|(1<<g)-1;b<=B;++b)d[Zx[b]>>h]=m}else for(d=new Bo(n),a=0;a<n;++a)r[a]&&(d[a]=Zx[c[r[a]-1]++]>>15-r[a]);return d}),Xc=new fl(288);for(var hs=0;hs<144;++hs)Xc[hs]=8;for(var hs=144;hs<256;++hs)Xc[hs]=9;for(var hs=256;hs<280;++hs)Xc[hs]=7;for(var hs=280;hs<288;++hs)Xc[hs]=8;var sm=new fl(32);for(var hs=0;hs<32;++hs)sm[hs]=5;var xT=vh(Xc,9,0),bT=vh(sm,5,0),OB=function(r){return(r+7)/8|0},vT=function(r,e,t){return(t==null||t>r.length)&&(t=r.length),new fl(r.subarray(e,t))},_A=function(r,e,t){t<<=e&7;var n=e/8|0;r[n]|=t,r[n+1]|=t>>8},th=function(r,e,t){t<<=e&7;var n=e/8|0;r[n]|=t,r[n+1]|=t>>8,r[n+2]|=t>>16},E0=function(r,e){for(var t=[],n=0;n<r.length;++n)r[n]&&t.push({s:n,f:r[n]});var a=t.length,o=t.slice();if(!a)return{t:DB,l:0};if(a==1){var c=new fl(t[0].s+1);return c[t[0].s]=1,{t:c,l:1}}t.sort(function(ae,Z){return ae.f-Z.f}),t.push({s:-1,f:25001});var d=t[0],h=t[1],m=0,g=1,b=2;for(t[0]={s:-1,f:d.f+h.f,l:d,r:h};g!=a-1;)d=t[t[m].f<t[b].f?m++:b++],h=t[m!=g&&t[m].f<t[b].f?m++:b++],t[g++]={s:-1,f:d.f+h.f,l:d,r:h};for(var B=o[0].s,n=1;n<a;++n)o[n].s>B&&(B=o[n].s);var _=new Bo(B+1),k=$x(t[g-1],_,0);if(k>e){var n=0,j=0,T=k-e,C=1<<T;for(o.sort(function(Z,me){return _[me.s]-_[Z.s]||Z.f-me.f});n<a;++n){var I=o[n].s;if(_[I]>e)j+=C-(1<<k-_[I]),_[I]=e;else break}for(j>>=T;j>0;){var F=o[n].s;_[F]<e?j-=1<<e-_[F]++-1:++n}for(;n>=0&&j;--n){var R=o[n].s;_[R]==e&&(--_[R],++j)}k=e}return{t:new fl(_),l:k}},$x=function(r,e,t){return r.s==-1?Math.max($x(r.l,e,t+1),$x(r.r,e,t+1)):e[r.s]=t},qw=function(r){for(var e=r.length;e&&!r[--e];);for(var t=new Bo(++e),n=0,a=r[0],o=1,c=function(h){t[n++]=h},d=1;d<=e;++d)if(r[d]==a&&d!=e)++o;else{if(!a&&o>2){for(;o>138;o-=138)c(32754);o>2&&(c(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(c(a),--o;o>6;o-=6)c(8304);o>2&&(c(o-3<<5|8208),o=0)}for(;o--;)c(a);o=1,a=r[d]}return{c:t.subarray(0,n),n:e}},rh=function(r,e){for(var t=0,n=0;n<e.length;++n)t+=r[n]*e[n];return t},MB=function(r,e,t){var n=t.length,a=OB(e+2);r[a]=n&255,r[a+1]=n>>8,r[a+2]=r[a]^255,r[a+3]=r[a+1]^255;for(var o=0;o<n;++o)r[a+o+4]=t[o];return(a+4+n)*8},Kw=function(r,e,t,n,a,o,c,d,h,m,g){_A(e,g++,t),++a[256];for(var b=E0(a,15),B=b.t,_=b.l,k=E0(o,15),j=k.t,T=k.l,C=qw(B),I=C.c,F=C.n,R=qw(j),ae=R.c,Z=R.n,me=new Bo(19),ee=0;ee<I.length;++ee)++me[I[ee]&31];for(var ee=0;ee<ae.length;++ee)++me[ae[ee]&31];for(var H=E0(me,7),W=H.t,K=H.l,$=19;$>4&&!W[Hw[$-1]];--$);var re=m+5<<3,le=rh(a,Xc)+rh(o,sm)+c,ge=rh(a,B)+rh(o,j)+c+14+3*$+rh(me,W)+2*me[16]+3*me[17]+7*me[18];if(h>=0&&re<=le&&re<=ge)return MB(e,g,r.subarray(h,h+m));var Y,pe,z,ve;if(_A(e,g,1+(ge<le)),g+=2,ge<le){Y=vh(B,_,0),pe=B,z=vh(j,T,0),ve=j;var we=vh(W,K,0);_A(e,g,F-257),_A(e,g+5,Z-1),_A(e,g+10,$-4),g+=14;for(var ee=0;ee<$;++ee)_A(e,g+3*ee,W[Hw[ee]]);g+=3*$;for(var V=[I,ae],O=0;O<2;++O)for(var G=V[O],ee=0;ee<G.length;++ee){var Q=G[ee]&31;_A(e,g,we[Q]),g+=W[Q],Q>15&&(_A(e,g,G[ee]>>5&127),g+=G[ee]>>12)}}else Y=xT,pe=Xc,z=bT,ve=sm;for(var ee=0;ee<d;++ee){var oe=n[ee];if(oe>255){var Q=oe>>18&31;th(e,g,Y[Q+257]),g+=pe[Q+257],Q>7&&(_A(e,g,oe>>23&31),g+=qb[Q]);var ce=oe&31;th(e,g,z[ce]),g+=ve[ce],ce>3&&(th(e,g,oe>>5&8191),g+=Kb[ce])}else th(e,g,Y[oe]),g+=pe[oe]}return th(e,g,Y[256]),g+pe[256]},yT=new zb([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),DB=new fl(0),wT=function(r,e,t,n,a,o){var c=o.z||r.length,d=new fl(n+c+5*(1+Math.ceil(c/7e3))+a),h=d.subarray(n,d.length-a),m=o.l,g=(o.r||0)&7;if(e){g&&(h[0]=o.r>>3);for(var b=yT[e-1],B=b>>13,_=b&8191,k=(1<<t)-1,j=o.p||new Bo(32768),T=o.h||new Bo(k+1),C=Math.ceil(t/3),I=2*C,F=function(It){return(r[It]^r[It+1]<<C^r[It+2]<<I)&k},R=new zb(25e3),ae=new Bo(288),Z=new Bo(32),me=0,ee=0,H=o.i||0,W=0,K=o.w||0,$=0;H+2<c;++H){var re=F(H),le=H&32767,ge=T[re];if(j[le]=ge,T[re]=le,K<=H){var Y=c-H;if((me>7e3||W>24576)&&(Y>423||!m)){g=Kw(r,h,0,R,ae,Z,ee,W,$,H-$,g),W=me=ee=0,$=H;for(var pe=0;pe<286;++pe)ae[pe]=0;for(var pe=0;pe<30;++pe)Z[pe]=0}var z=2,ve=0,we=_,V=le-ge&32767;if(Y>2&&re==F(H-V))for(var O=Math.min(B,Y)-1,G=Math.min(32767,H),Q=Math.min(258,Y);V<=G&&--we&&le!=ge;){if(r[H+z]==r[H+z-V]){for(var oe=0;oe<Q&&r[H+oe]==r[H+oe-V];++oe);if(oe>z){if(z=oe,ve=V,oe>O)break;for(var ce=Math.min(V,oe-2),Be=0,pe=0;pe<ce;++pe){var Se=H-V+pe&32767,Fe=j[Se],He=Se-Fe&32767;He>Be&&(Be=He,ge=Se)}}}le=ge,ge=j[le],V+=le-ge&32767}if(ve){R[W++]=268435456|Vx[z]<<18|zw[ve];var it=Vx[z]&31,Re=zw[ve]&31;ee+=qb[it]+Kb[Re],++ae[257+it],++Z[Re],K=H+z,++me}else R[W++]=r[H],++ae[r[H]]}}for(H=Math.max(H,K);H<c;++H)R[W++]=r[H],++ae[r[H]];g=Kw(r,h,m,R,ae,Z,ee,W,$,H-$,g),m||(o.r=g&7|h[g/8|0]<<3,g-=7,o.h=T,o.p=j,o.i=H,o.w=K)}else{for(var H=o.w||0;H<c+m;H+=65535){var _t=H+65535;_t>=c&&(h[g/8|0]=m,_t=c),g=MB(h,g+1,r.subarray(H,_t))}o.i=c}return vT(d,0,n+OB(g)+a)},RB=function(){var r=1,e=0;return{p:function(t){for(var n=r,a=e,o=t.length|0,c=0;c!=o;){for(var d=Math.min(c+2655,o);c<d;++c)a+=n+=t[c];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}r=n,e=a},d:function(){return r%=65521,e%=65521,(r&255)<<24|(r&65280)<<8|(e&255)<<8|e>>8}}},_T=function(r,e,t,n,a){if(!a&&(a={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),c=new fl(o.length+r.length);c.set(o),c.set(r,o.length),r=c,a.w=o.length}return wT(r,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(r.length)))*1.5):20:12+e.mem,t,n,a)},PB=function(r,e,t){for(;t;++e)r[e]=t,t>>>=8},BT=function(r,e){var t=e.level,n=t==0?0:t<6?1:t==9?3:2;if(r[0]=120,r[1]=n<<6|(e.dictionary&&32),r[1]|=31-(r[0]<<8|r[1])%31,e.dictionary){var a=RB();a.p(e.dictionary),PB(r,2,a.d())}};function Yx(r,e){e||(e={});var t=RB();t.p(r);var n=_T(r,e,e.dictionary?6:2,4);return BT(n,e),PB(n,n.length-4,t.d()),n}var NT=typeof TextDecoder<"u"&&new TextDecoder,CT=0;try{NT.decode(DB,{stream:!0}),CT=1}catch{}function ET(r){if(Array.isArray(r))return r}function ST(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,a,o,c,d=[],h=!0,m=!1;try{if(o=(t=t.call(r)).next,e!==0)for(;!(h=(n=o.call(t)).done)&&(d.push(n.value),d.length!==e);h=!0);}catch(g){m=!0,a=g}finally{try{if(!h&&t.return!=null&&(c=t.return(),Object(c)!==c))return}finally{if(m)throw a}}return d}}function Gw(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=Array(e);t<e;t++)n[t]=r[t];return n}function LT(r,e){if(r){if(typeof r=="string")return Gw(r,e);var t={}.toString.call(r).slice(8,-1);return t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set"?Array.from(r):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Gw(r,e):void 0}}function jT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vw(r,e){return ET(r)||ST(r,e)||LT(r,e)||jT()}function Zw(r,e="utf8"){return new TextDecoder(e).decode(r)}const kT=new TextEncoder;function UT(r){return kT.encode(r)}const TT=1024*8,FT=(()=>{const r=new Uint8Array(4),e=new Uint32Array(r.buffer);return!((e[0]=1)&r[0])})(),S0={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Gb{constructor(e=TT,t={}){Dn(this,"buffer");Dn(this,"byteLength");Dn(this,"byteOffset");Dn(this,"length");Dn(this,"offset");Dn(this,"lastWrittenByte");Dn(this,"littleEndian");Dn(this,"_data");Dn(this,"_mark");Dn(this,"_marks");let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const a=t.offset?t.offset>>>0:0,o=e.byteLength-a;let c=a;(ArrayBuffer.isView(e)||e instanceof Gb)&&(e.byteLength!==e.buffer.byteLength&&(c=e.byteOffset+a),e=e.buffer),n?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=e,this.length=o,this.byteLength=o,this.byteOffset=c,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,c,o),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,a=new Uint8Array(n);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const n=S0[t].BYTES_PER_ELEMENT*e,a=this.byteOffset+this.offset,o=this.buffer.slice(a,a+n);if(this.littleEndian===FT&&t!=="uint8"&&t!=="int8"){const d=new Uint8Array(this.buffer.slice(a,a+n));d.reverse();const h=new S0[t](d.buffer);return this.offset+=n,h.reverse(),h}const c=new S0[t](o);return this.offset+=n,c}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let n=0;n<e;n++)t+=this.readChar();return t}readUtf8(e=1){return Zw(this.readBytes(e))}decodeText(e=1,t="utf8"){return Zw(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(UT(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function gd(r){let e=r.length;for(;--e>=0;)r[e]=0}const QT=3,IT=258,HB=29,OT=256,MT=OT+1+HB,zB=30,DT=512,RT=new Array((MT+2)*2);gd(RT);const PT=new Array(zB*2);gd(PT);const HT=new Array(DT);gd(HT);const zT=new Array(IT-QT+1);gd(zT);const qT=new Array(HB);gd(qT);const KT=new Array(zB);gd(KT);const GT=(r,e,t,n)=>{let a=r&65535|0,o=r>>>16&65535|0,c=0;for(;t!==0;){c=t>2e3?2e3:t,t-=c;do a=a+e[n++]|0,o=o+a|0;while(--c);a%=65521,o%=65521}return a|o<<16|0};var Xx=GT;const VT=()=>{let r,e=[];for(var t=0;t<256;t++){r=t;for(var n=0;n<8;n++)r=r&1?3988292384^r>>>1:r>>>1;e[t]=r}return e},ZT=new Uint32Array(VT()),$T=(r,e,t,n)=>{const a=ZT,o=n+t;r^=-1;for(let c=n;c<o;c++)r=r>>>8^a[(r^e[c])&255];return r^-1};var Hl=$T,Jx={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},qB={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const YT=(r,e)=>Object.prototype.hasOwnProperty.call(r,e);var XT=function(r){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const n in t)YT(t,n)&&(r[n]=t[n])}}return r},JT=r=>{let e=0;for(let n=0,a=r.length;n<a;n++)e+=r[n].length;const t=new Uint8Array(e);for(let n=0,a=0,o=r.length;n<o;n++){let c=r[n];t.set(c,a),a+=c.length}return t},KB={assign:XT,flattenChunks:JT};let GB=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{GB=!1}const kh=new Uint8Array(256);for(let r=0;r<256;r++)kh[r]=r>=252?6:r>=248?5:r>=240?4:r>=224?3:r>=192?2:1;kh[254]=kh[254]=1;var WT=r=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(r);let e,t,n,a,o,c=r.length,d=0;for(a=0;a<c;a++)t=r.charCodeAt(a),(t&64512)===55296&&a+1<c&&(n=r.charCodeAt(a+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),a++)),d+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(d),o=0,a=0;o<d;a++)t=r.charCodeAt(a),(t&64512)===55296&&a+1<c&&(n=r.charCodeAt(a+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),a++)),t<128?e[o++]=t:t<2048?(e[o++]=192|t>>>6,e[o++]=128|t&63):t<65536?(e[o++]=224|t>>>12,e[o++]=128|t>>>6&63,e[o++]=128|t&63):(e[o++]=240|t>>>18,e[o++]=128|t>>>12&63,e[o++]=128|t>>>6&63,e[o++]=128|t&63);return e};const eF=(r,e)=>{if(e<65534&&r.subarray&&GB)return String.fromCharCode.apply(null,r.length===e?r:r.subarray(0,e));let t="";for(let n=0;n<e;n++)t+=String.fromCharCode(r[n]);return t};var tF=(r,e)=>{const t=e||r.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(r.subarray(0,e));let n,a;const o=new Array(t*2);for(a=0,n=0;n<t;){let c=r[n++];if(c<128){o[a++]=c;continue}let d=kh[c];if(d>4){o[a++]=65533,n+=d-1;continue}for(c&=d===2?31:d===3?15:7;d>1&&n<t;)c=c<<6|r[n++]&63,d--;if(d>1){o[a++]=65533;continue}c<65536?o[a++]=c:(c-=65536,o[a++]=55296|c>>10&1023,o[a++]=56320|c&1023)}return eF(o,a)},rF=(r,e)=>{e=e||r.length,e>r.length&&(e=r.length);let t=e-1;for(;t>=0&&(r[t]&192)===128;)t--;return t<0||t===0?e:t+kh[r[t]]>e?t:e},Wx={string2buf:WT,buf2string:tF,utf8border:rF};function nF(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var sF=nF;const op=16209,aF=16191;var iF=function(e,t){let n,a,o,c,d,h,m,g,b,B,_,k,j,T,C,I,F,R,ae,Z,me,ee,H,W;const K=e.state;n=e.next_in,H=e.input,a=n+(e.avail_in-5),o=e.next_out,W=e.output,c=o-(t-e.avail_out),d=o+(e.avail_out-257),h=K.dmax,m=K.wsize,g=K.whave,b=K.wnext,B=K.window,_=K.hold,k=K.bits,j=K.lencode,T=K.distcode,C=(1<<K.lenbits)-1,I=(1<<K.distbits)-1;e:do{k<15&&(_+=H[n++]<<k,k+=8,_+=H[n++]<<k,k+=8),F=j[_&C];t:for(;;){if(R=F>>>24,_>>>=R,k-=R,R=F>>>16&255,R===0)W[o++]=F&65535;else if(R&16){ae=F&65535,R&=15,R&&(k<R&&(_+=H[n++]<<k,k+=8),ae+=_&(1<<R)-1,_>>>=R,k-=R),k<15&&(_+=H[n++]<<k,k+=8,_+=H[n++]<<k,k+=8),F=T[_&I];r:for(;;){if(R=F>>>24,_>>>=R,k-=R,R=F>>>16&255,R&16){if(Z=F&65535,R&=15,k<R&&(_+=H[n++]<<k,k+=8,k<R&&(_+=H[n++]<<k,k+=8)),Z+=_&(1<<R)-1,Z>h){e.msg="invalid distance too far back",K.mode=op;break e}if(_>>>=R,k-=R,R=o-c,Z>R){if(R=Z-R,R>g&&K.sane){e.msg="invalid distance too far back",K.mode=op;break e}if(me=0,ee=B,b===0){if(me+=m-R,R<ae){ae-=R;do W[o++]=B[me++];while(--R);me=o-Z,ee=W}}else if(b<R){if(me+=m+b-R,R-=b,R<ae){ae-=R;do W[o++]=B[me++];while(--R);if(me=0,b<ae){R=b,ae-=R;do W[o++]=B[me++];while(--R);me=o-Z,ee=W}}}else if(me+=b-R,R<ae){ae-=R;do W[o++]=B[me++];while(--R);me=o-Z,ee=W}for(;ae>2;)W[o++]=ee[me++],W[o++]=ee[me++],W[o++]=ee[me++],ae-=3;ae&&(W[o++]=ee[me++],ae>1&&(W[o++]=ee[me++]))}else{me=o-Z;do W[o++]=W[me++],W[o++]=W[me++],W[o++]=W[me++],ae-=3;while(ae>2);ae&&(W[o++]=W[me++],ae>1&&(W[o++]=W[me++]))}}else if((R&64)===0){F=T[(F&65535)+(_&(1<<R)-1)];continue r}else{e.msg="invalid distance code",K.mode=op;break e}break}}else if((R&64)===0){F=j[(F&65535)+(_&(1<<R)-1)];continue t}else if(R&32){K.mode=aF;break e}else{e.msg="invalid literal/length code",K.mode=op;break e}break}}while(n<a&&o<d);ae=k>>3,n-=ae,k-=ae<<3,_&=(1<<k)-1,e.next_in=n,e.next_out=o,e.avail_in=n<a?5+(a-n):5-(n-a),e.avail_out=o<d?257+(d-o):257-(o-d),K.hold=_,K.bits=k};const Fu=15,$w=852,Yw=592,Xw=0,L0=1,Jw=2,oF=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),lF=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),AF=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),cF=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),uF=(r,e,t,n,a,o,c,d)=>{const h=d.bits;let m=0,g=0,b=0,B=0,_=0,k=0,j=0,T=0,C=0,I=0,F,R,ae,Z,me,ee=null,H;const W=new Uint16Array(Fu+1),K=new Uint16Array(Fu+1);let $=null,re,le,ge;for(m=0;m<=Fu;m++)W[m]=0;for(g=0;g<n;g++)W[e[t+g]]++;for(_=h,B=Fu;B>=1&&W[B]===0;B--);if(_>B&&(_=B),B===0)return a[o++]=1<<24|64<<16|0,a[o++]=1<<24|64<<16|0,d.bits=1,0;for(b=1;b<B&&W[b]===0;b++);for(_<b&&(_=b),T=1,m=1;m<=Fu;m++)if(T<<=1,T-=W[m],T<0)return-1;if(T>0&&(r===Xw||B!==1))return-1;for(K[1]=0,m=1;m<Fu;m++)K[m+1]=K[m]+W[m];for(g=0;g<n;g++)e[t+g]!==0&&(c[K[e[t+g]]++]=g);if(r===Xw?(ee=$=c,H=20):r===L0?(ee=oF,$=lF,H=257):(ee=AF,$=cF,H=0),I=0,g=0,m=b,me=o,k=_,j=0,ae=-1,C=1<<_,Z=C-1,r===L0&&C>$w||r===Jw&&C>Yw)return 1;for(;;){re=m-j,c[g]+1<H?(le=0,ge=c[g]):c[g]>=H?(le=$[c[g]-H],ge=ee[c[g]-H]):(le=96,ge=0),F=1<<m-j,R=1<<k,b=R;do R-=F,a[me+(I>>j)+R]=re<<24|le<<16|ge|0;while(R!==0);for(F=1<<m-1;I&F;)F>>=1;if(F!==0?(I&=F-1,I+=F):I=0,g++,--W[m]===0){if(m===B)break;m=e[t+c[g]]}if(m>_&&(I&Z)!==ae){for(j===0&&(j=_),me+=b,k=m-j,T=1<<k;k+j<B&&(T-=W[k+j],!(T<=0));)k++,T<<=1;if(C+=1<<k,r===L0&&C>$w||r===Jw&&C>Yw)return 1;ae=I&Z,a[ae]=_<<24|k<<16|me-o|0}}return I!==0&&(a[me+I]=m-j<<24|64<<16|0),d.bits=_,0};var yh=uF;const dF=0,VB=1,ZB=2,{Z_FINISH:Ww,Z_BLOCK:hF,Z_TREES:lp,Z_OK:Jc,Z_STREAM_END:fF,Z_NEED_DICT:pF,Z_STREAM_ERROR:Ko,Z_DATA_ERROR:$B,Z_MEM_ERROR:YB,Z_BUF_ERROR:mF,Z_DEFLATED:e2}=qB,Sm=16180,t2=16181,r2=16182,n2=16183,s2=16184,a2=16185,i2=16186,o2=16187,l2=16188,A2=16189,am=16190,BA=16191,j0=16192,c2=16193,k0=16194,u2=16195,d2=16196,h2=16197,f2=16198,Ap=16199,cp=16200,p2=16201,m2=16202,g2=16203,x2=16204,b2=16205,U0=16206,v2=16207,y2=16208,Bs=16209,XB=16210,JB=16211,gF=852,xF=592,bF=15,vF=bF,w2=r=>(r>>>24&255)+(r>>>8&65280)+((r&65280)<<8)+((r&255)<<24);function yF(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const eu=r=>{if(!r)return 1;const e=r.state;return!e||e.strm!==r||e.mode<Sm||e.mode>JB?1:0},WB=r=>{if(eu(r))return Ko;const e=r.state;return r.total_in=r.total_out=e.total=0,r.msg="",e.wrap&&(r.adler=e.wrap&1),e.mode=Sm,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(gF),e.distcode=e.distdyn=new Int32Array(xF),e.sane=1,e.back=-1,Jc},eN=r=>{if(eu(r))return Ko;const e=r.state;return e.wsize=0,e.whave=0,e.wnext=0,WB(r)},tN=(r,e)=>{let t;if(eu(r))return Ko;const n=r.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Ko:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=t,n.wbits=e,eN(r))},rN=(r,e)=>{if(!r)return Ko;const t=new yF;r.state=t,t.strm=r,t.window=null,t.mode=Sm;const n=tN(r,e);return n!==Jc&&(r.state=null),n},wF=r=>rN(r,vF);let _2=!0,T0,F0;const _F=r=>{if(_2){T0=new Int32Array(512),F0=new Int32Array(32);let e=0;for(;e<144;)r.lens[e++]=8;for(;e<256;)r.lens[e++]=9;for(;e<280;)r.lens[e++]=7;for(;e<288;)r.lens[e++]=8;for(yh(VB,r.lens,0,288,T0,0,r.work,{bits:9}),e=0;e<32;)r.lens[e++]=5;yh(ZB,r.lens,0,32,F0,0,r.work,{bits:5}),_2=!1}r.lencode=T0,r.lenbits=9,r.distcode=F0,r.distbits=5},nN=(r,e,t,n)=>{let a;const o=r.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),n>=o.wsize?(o.window.set(e.subarray(t-o.wsize,t),0),o.wnext=0,o.whave=o.wsize):(a=o.wsize-o.wnext,a>n&&(a=n),o.window.set(e.subarray(t-n,t-n+a),o.wnext),n-=a,n?(o.window.set(e.subarray(t-n,t),0),o.wnext=n,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0},BF=(r,e)=>{let t,n,a,o,c,d,h,m,g,b,B,_,k,j,T=0,C,I,F,R,ae,Z,me,ee;const H=new Uint8Array(4);let W,K;const $=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(eu(r)||!r.output||!r.input&&r.avail_in!==0)return Ko;t=r.state,t.mode===BA&&(t.mode=j0),c=r.next_out,a=r.output,h=r.avail_out,o=r.next_in,n=r.input,d=r.avail_in,m=t.hold,g=t.bits,b=d,B=h,ee=Jc;e:for(;;)switch(t.mode){case Sm:if(t.wrap===0){t.mode=j0;break}for(;g<16;){if(d===0)break e;d--,m+=n[o++]<<g,g+=8}if(t.wrap&2&&m===35615){t.wbits===0&&(t.wbits=15),t.check=0,H[0]=m&255,H[1]=m>>>8&255,t.check=Hl(t.check,H,2,0),m=0,g=0,t.mode=t2;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((m&255)<<8)+(m>>8))%31){r.msg="incorrect header check",t.mode=Bs;break}if((m&15)!==e2){r.msg="unknown compression method",t.mode=Bs;break}if(m>>>=4,g-=4,me=(m&15)+8,t.wbits===0&&(t.wbits=me),me>15||me>t.wbits){r.msg="invalid window size",t.mode=Bs;break}t.dmax=1<<t.wbits,t.flags=0,r.adler=t.check=1,t.mode=m&512?A2:BA,m=0,g=0;break;case t2:for(;g<16;){if(d===0)break e;d--,m+=n[o++]<<g,g+=8}if(t.flags=m,(t.flags&255)!==e2){r.msg="unknown compression method",t.mode=Bs;break}if(t.flags&57344){r.msg="unknown header flags set",t.mode=Bs;break}t.head&&(t.head.text=m>>8&1),t.flags&512&&t.wrap&4&&(H[0]=m&255,H[1]=m>>>8&255,t.check=Hl(t.check,H,2,0)),m=0,g=0,t.mode=r2;case r2:for(;g<32;){if(d===0)break e;d--,m+=n[o++]<<g,g+=8}t.head&&(t.head.time=m),t.flags&512&&t.wrap&4&&(H[0]=m&255,H[1]=m>>>8&255,H[2]=m>>>16&255,H[3]=m>>>24&255,t.check=Hl(t.check,H,4,0)),m=0,g=0,t.mode=n2;case n2:for(;g<16;){if(d===0)break e;d--,m+=n[o++]<<g,g+=8}t.head&&(t.head.xflags=m&255,t.head.os=m>>8),t.flags&512&&t.wrap&4&&(H[0]=m&255,H[1]=m>>>8&255,t.check=Hl(t.check,H,2,0)),m=0,g=0,t.mode=s2;case s2:if(t.flags&1024){for(;g<16;){if(d===0)break e;d--,m+=n[o++]<<g,g+=8}t.length=m,t.head&&(t.head.extra_len=m),t.flags&512&&t.wrap&4&&(H[0]=m&255,H[1]=m>>>8&255,t.check=Hl(t.check,H,2,0)),m=0,g=0}else t.head&&(t.head.extra=null);t.mode=a2;case a2:if(t.flags&1024&&(_=t.length,_>d&&(_=d),_&&(t.head&&(me=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(n.subarray(o,o+_),me)),t.flags&512&&t.wrap&4&&(t.check=Hl(t.check,n,_,o)),d-=_,o+=_,t.length-=_),t.length))break e;t.length=0,t.mode=i2;case i2:if(t.flags&2048){if(d===0)break e;_=0;do me=n[o+_++],t.head&&me&&t.length<65536&&(t.head.name+=String.fromCharCode(me));while(me&&_<d);if(t.flags&512&&t.wrap&4&&(t.check=Hl(t.check,n,_,o)),d-=_,o+=_,me)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=o2;case o2:if(t.flags&4096){if(d===0)break e;_=0;do me=n[o+_++],t.head&&me&&t.length<65536&&(t.head.comment+=String.fromCharCode(me));while(me&&_<d);if(t.flags&512&&t.wrap&4&&(t.check=Hl(t.check,n,_,o)),d-=_,o+=_,me)break e}else t.head&&(t.head.comment=null);t.mode=l2;case l2:if(t.flags&512){for(;g<16;){if(d===0)break e;d--,m+=n[o++]<<g,g+=8}if(t.wrap&4&&m!==(t.check&65535)){r.msg="header crc mismatch",t.mode=Bs;break}m=0,g=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),r.adler=t.check=0,t.mode=BA;break;case A2:for(;g<32;){if(d===0)break e;d--,m+=n[o++]<<g,g+=8}r.adler=t.check=w2(m),m=0,g=0,t.mode=am;case am:if(t.havedict===0)return r.next_out=c,r.avail_out=h,r.next_in=o,r.avail_in=d,t.hold=m,t.bits=g,pF;r.adler=t.check=1,t.mode=BA;case BA:if(e===hF||e===lp)break e;case j0:if(t.last){m>>>=g&7,g-=g&7,t.mode=U0;break}for(;g<3;){if(d===0)break e;d--,m+=n[o++]<<g,g+=8}switch(t.last=m&1,m>>>=1,g-=1,m&3){case 0:t.mode=c2;break;case 1:if(_F(t),t.mode=Ap,e===lp){m>>>=2,g-=2;break e}break;case 2:t.mode=d2;break;case 3:r.msg="invalid block type",t.mode=Bs}m>>>=2,g-=2;break;case c2:for(m>>>=g&7,g-=g&7;g<32;){if(d===0)break e;d--,m+=n[o++]<<g,g+=8}if((m&65535)!==(m>>>16^65535)){r.msg="invalid stored block lengths",t.mode=Bs;break}if(t.length=m&65535,m=0,g=0,t.mode=k0,e===lp)break e;case k0:t.mode=u2;case u2:if(_=t.length,_){if(_>d&&(_=d),_>h&&(_=h),_===0)break e;a.set(n.subarray(o,o+_),c),d-=_,o+=_,h-=_,c+=_,t.length-=_;break}t.mode=BA;break;case d2:for(;g<14;){if(d===0)break e;d--,m+=n[o++]<<g,g+=8}if(t.nlen=(m&31)+257,m>>>=5,g-=5,t.ndist=(m&31)+1,m>>>=5,g-=5,t.ncode=(m&15)+4,m>>>=4,g-=4,t.nlen>286||t.ndist>30){r.msg="too many length or distance symbols",t.mode=Bs;break}t.have=0,t.mode=h2;case h2:for(;t.have<t.ncode;){for(;g<3;){if(d===0)break e;d--,m+=n[o++]<<g,g+=8}t.lens[$[t.have++]]=m&7,m>>>=3,g-=3}for(;t.have<19;)t.lens[$[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,W={bits:t.lenbits},ee=yh(dF,t.lens,0,19,t.lencode,0,t.work,W),t.lenbits=W.bits,ee){r.msg="invalid code lengths set",t.mode=Bs;break}t.have=0,t.mode=f2;case f2:for(;t.have<t.nlen+t.ndist;){for(;T=t.lencode[m&(1<<t.lenbits)-1],C=T>>>24,I=T>>>16&255,F=T&65535,!(C<=g);){if(d===0)break e;d--,m+=n[o++]<<g,g+=8}if(F<16)m>>>=C,g-=C,t.lens[t.have++]=F;else{if(F===16){for(K=C+2;g<K;){if(d===0)break e;d--,m+=n[o++]<<g,g+=8}if(m>>>=C,g-=C,t.have===0){r.msg="invalid bit length repeat",t.mode=Bs;break}me=t.lens[t.have-1],_=3+(m&3),m>>>=2,g-=2}else if(F===17){for(K=C+3;g<K;){if(d===0)break e;d--,m+=n[o++]<<g,g+=8}m>>>=C,g-=C,me=0,_=3+(m&7),m>>>=3,g-=3}else{for(K=C+7;g<K;){if(d===0)break e;d--,m+=n[o++]<<g,g+=8}m>>>=C,g-=C,me=0,_=11+(m&127),m>>>=7,g-=7}if(t.have+_>t.nlen+t.ndist){r.msg="invalid bit length repeat",t.mode=Bs;break}for(;_--;)t.lens[t.have++]=me}}if(t.mode===Bs)break;if(t.lens[256]===0){r.msg="invalid code -- missing end-of-block",t.mode=Bs;break}if(t.lenbits=9,W={bits:t.lenbits},ee=yh(VB,t.lens,0,t.nlen,t.lencode,0,t.work,W),t.lenbits=W.bits,ee){r.msg="invalid literal/lengths set",t.mode=Bs;break}if(t.distbits=6,t.distcode=t.distdyn,W={bits:t.distbits},ee=yh(ZB,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,W),t.distbits=W.bits,ee){r.msg="invalid distances set",t.mode=Bs;break}if(t.mode=Ap,e===lp)break e;case Ap:t.mode=cp;case cp:if(d>=6&&h>=258){r.next_out=c,r.avail_out=h,r.next_in=o,r.avail_in=d,t.hold=m,t.bits=g,iF(r,B),c=r.next_out,a=r.output,h=r.avail_out,o=r.next_in,n=r.input,d=r.avail_in,m=t.hold,g=t.bits,t.mode===BA&&(t.back=-1);break}for(t.back=0;T=t.lencode[m&(1<<t.lenbits)-1],C=T>>>24,I=T>>>16&255,F=T&65535,!(C<=g);){if(d===0)break e;d--,m+=n[o++]<<g,g+=8}if(I&&(I&240)===0){for(R=C,ae=I,Z=F;T=t.lencode[Z+((m&(1<<R+ae)-1)>>R)],C=T>>>24,I=T>>>16&255,F=T&65535,!(R+C<=g);){if(d===0)break e;d--,m+=n[o++]<<g,g+=8}m>>>=R,g-=R,t.back+=R}if(m>>>=C,g-=C,t.back+=C,t.length=F,I===0){t.mode=b2;break}if(I&32){t.back=-1,t.mode=BA;break}if(I&64){r.msg="invalid literal/length code",t.mode=Bs;break}t.extra=I&15,t.mode=p2;case p2:if(t.extra){for(K=t.extra;g<K;){if(d===0)break e;d--,m+=n[o++]<<g,g+=8}t.length+=m&(1<<t.extra)-1,m>>>=t.extra,g-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=m2;case m2:for(;T=t.distcode[m&(1<<t.distbits)-1],C=T>>>24,I=T>>>16&255,F=T&65535,!(C<=g);){if(d===0)break e;d--,m+=n[o++]<<g,g+=8}if((I&240)===0){for(R=C,ae=I,Z=F;T=t.distcode[Z+((m&(1<<R+ae)-1)>>R)],C=T>>>24,I=T>>>16&255,F=T&65535,!(R+C<=g);){if(d===0)break e;d--,m+=n[o++]<<g,g+=8}m>>>=R,g-=R,t.back+=R}if(m>>>=C,g-=C,t.back+=C,I&64){r.msg="invalid distance code",t.mode=Bs;break}t.offset=F,t.extra=I&15,t.mode=g2;case g2:if(t.extra){for(K=t.extra;g<K;){if(d===0)break e;d--,m+=n[o++]<<g,g+=8}t.offset+=m&(1<<t.extra)-1,m>>>=t.extra,g-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){r.msg="invalid distance too far back",t.mode=Bs;break}t.mode=x2;case x2:if(h===0)break e;if(_=B-h,t.offset>_){if(_=t.offset-_,_>t.whave&&t.sane){r.msg="invalid distance too far back",t.mode=Bs;break}_>t.wnext?(_-=t.wnext,k=t.wsize-_):k=t.wnext-_,_>t.length&&(_=t.length),j=t.window}else j=a,k=c-t.offset,_=t.length;_>h&&(_=h),h-=_,t.length-=_;do a[c++]=j[k++];while(--_);t.length===0&&(t.mode=cp);break;case b2:if(h===0)break e;a[c++]=t.length,h--,t.mode=cp;break;case U0:if(t.wrap){for(;g<32;){if(d===0)break e;d--,m|=n[o++]<<g,g+=8}if(B-=h,r.total_out+=B,t.total+=B,t.wrap&4&&B&&(r.adler=t.check=t.flags?Hl(t.check,a,B,c-B):Xx(t.check,a,B,c-B)),B=h,t.wrap&4&&(t.flags?m:w2(m))!==t.check){r.msg="incorrect data check",t.mode=Bs;break}m=0,g=0}t.mode=v2;case v2:if(t.wrap&&t.flags){for(;g<32;){if(d===0)break e;d--,m+=n[o++]<<g,g+=8}if(t.wrap&4&&m!==(t.total&4294967295)){r.msg="incorrect length check",t.mode=Bs;break}m=0,g=0}t.mode=y2;case y2:ee=fF;break e;case Bs:ee=$B;break e;case XB:return YB;case JB:default:return Ko}return r.next_out=c,r.avail_out=h,r.next_in=o,r.avail_in=d,t.hold=m,t.bits=g,(t.wsize||B!==r.avail_out&&t.mode<Bs&&(t.mode<U0||e!==Ww))&&nN(r,r.output,r.next_out,B-r.avail_out),b-=r.avail_in,B-=r.avail_out,r.total_in+=b,r.total_out+=B,t.total+=B,t.wrap&4&&B&&(r.adler=t.check=t.flags?Hl(t.check,a,B,r.next_out-B):Xx(t.check,a,B,r.next_out-B)),r.data_type=t.bits+(t.last?64:0)+(t.mode===BA?128:0)+(t.mode===Ap||t.mode===k0?256:0),(b===0&&B===0||e===Ww)&&ee===Jc&&(ee=mF),ee},NF=r=>{if(eu(r))return Ko;let e=r.state;return e.window&&(e.window=null),r.state=null,Jc},CF=(r,e)=>{if(eu(r))return Ko;const t=r.state;return(t.wrap&2)===0?Ko:(t.head=e,e.done=!1,Jc)},EF=(r,e)=>{const t=e.length;let n,a,o;return eu(r)||(n=r.state,n.wrap!==0&&n.mode!==am)?Ko:n.mode===am&&(a=1,a=Xx(a,e,t,0),a!==n.check)?$B:(o=nN(r,e,t,t),o?(n.mode=XB,YB):(n.havedict=1,Jc))};var SF=eN,LF=tN,jF=WB,kF=wF,UF=rN,TF=BF,FF=NF,QF=CF,IF=EF,OF="pako inflate (from Nodeca project)",CA={inflateReset:SF,inflateReset2:LF,inflateResetKeep:jF,inflateInit:kF,inflateInit2:UF,inflate:TF,inflateEnd:FF,inflateGetHeader:QF,inflateSetDictionary:IF,inflateInfo:OF};function MF(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var DF=MF;const sN=Object.prototype.toString,{Z_NO_FLUSH:RF,Z_FINISH:PF,Z_OK:Uh,Z_STREAM_END:Q0,Z_NEED_DICT:I0,Z_STREAM_ERROR:HF,Z_DATA_ERROR:B2,Z_MEM_ERROR:zF}=qB;function qh(r){this.options=KB.assign({chunkSize:1024*64,windowBits:15,to:""},r||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(r&&r.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new sF,this.strm.avail_out=0;let t=CA.inflateInit2(this.strm,e.windowBits);if(t!==Uh)throw new Error(Jx[t]);if(this.header=new DF,CA.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=Wx.string2buf(e.dictionary):sN.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=CA.inflateSetDictionary(this.strm,e.dictionary),t!==Uh)))throw new Error(Jx[t])}qh.prototype.push=function(r,e){const t=this.strm,n=this.options.chunkSize,a=this.options.dictionary;let o,c,d;if(this.ended)return!1;for(e===~~e?c=e:c=e===!0?PF:RF,sN.call(r)==="[object ArrayBuffer]"?t.input=new Uint8Array(r):t.input=r,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(n),t.next_out=0,t.avail_out=n),o=CA.inflate(t,c),o===I0&&a&&(o=CA.inflateSetDictionary(t,a),o===Uh?o=CA.inflate(t,c):o===B2&&(o=I0));t.avail_in>0&&o===Q0&&t.state.wrap>0&&r[t.next_in]!==0;)CA.inflateReset(t),o=CA.inflate(t,c);switch(o){case HF:case B2:case I0:case zF:return this.onEnd(o),this.ended=!0,!1}if(d=t.avail_out,t.next_out&&(t.avail_out===0||o===Q0))if(this.options.to==="string"){let h=Wx.utf8border(t.output,t.next_out),m=t.next_out-h,g=Wx.buf2string(t.output,h);t.next_out=m,t.avail_out=n-m,m&&t.output.set(t.output.subarray(h,h+m),0),this.onData(g)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(o===Uh&&d===0)){if(o===Q0)return o=CA.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};qh.prototype.onData=function(r){this.chunks.push(r)};qh.prototype.onEnd=function(r){r===Uh&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=KB.flattenChunks(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg};function qF(r,e){const t=new qh(e);if(t.push(r),t.err)throw t.msg||Jx[t.err];return t.result}var KF=qh,GF=qF,VF={Inflate:KF,inflate:GF};const{Inflate:ZF,inflate:$F}=VF;var N2=ZF,YF=$F;const aN=[];for(let r=0;r<256;r++){let e=r;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;aN[r]=e}const C2=4294967295;function XF(r,e,t){let n=r;for(let a=0;a<t;a++)n=aN[(n^e[a])&255]^n>>>8;return n}function JF(r,e){return(XF(C2,r,e)^C2)>>>0}function E2(r,e,t){const n=r.readUint32(),a=JF(new Uint8Array(r.buffer,r.byteOffset+r.offset-e-4,e),e);if(a!==n)throw new Error(`CRC mismatch for chunk ${t}. Expected ${n}, found ${a}`)}function iN(r,e,t){for(let n=0;n<t;n++)e[n]=r[n]}function oN(r,e,t,n){let a=0;for(;a<n;a++)e[a]=r[a];for(;a<t;a++)e[a]=r[a]+e[a-n]&255}function lN(r,e,t,n){let a=0;if(t.length===0)for(;a<n;a++)e[a]=r[a];else for(;a<n;a++)e[a]=r[a]+t[a]&255}function AN(r,e,t,n,a){let o=0;if(t.length===0){for(;o<a;o++)e[o]=r[o];for(;o<n;o++)e[o]=r[o]+(e[o-a]>>1)&255}else{for(;o<a;o++)e[o]=r[o]+(t[o]>>1)&255;for(;o<n;o++)e[o]=r[o]+(e[o-a]+t[o]>>1)&255}}function cN(r,e,t,n,a){let o=0;if(t.length===0){for(;o<a;o++)e[o]=r[o];for(;o<n;o++)e[o]=r[o]+e[o-a]&255}else{for(;o<a;o++)e[o]=r[o]+t[o]&255;for(;o<n;o++)e[o]=r[o]+WF(e[o-a],t[o],t[o-a])&255}}function WF(r,e,t){const n=r+e-t,a=Math.abs(n-r),o=Math.abs(n-e),c=Math.abs(n-t);return a<=o&&a<=c?r:o<=c?e:t}function eQ(r,e,t,n,a,o){switch(r){case 0:iN(e,t,a);break;case 1:oN(e,t,a,o);break;case 2:lN(e,t,n,a);break;case 3:AN(e,t,n,a,o);break;case 4:cN(e,t,n,a,o);break;default:throw new Error(`Unsupported filter: ${r}`)}}const tQ=new Uint16Array([255]),rQ=new Uint8Array(tQ.buffer),nQ=rQ[0]===255;function sQ(r){const{data:e,width:t,height:n,channels:a,depth:o}=r,c=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],d=Math.ceil(o/8)*a,h=new Uint8Array(n*t*d);let m=0;for(let g=0;g<7;g++){const b=c[g],B=Math.ceil((t-b.x)/b.xStep),_=Math.ceil((n-b.y)/b.yStep);if(B<=0||_<=0)continue;const k=B*d,j=new Uint8Array(k);for(let T=0;T<_;T++){const C=e[m++],I=e.subarray(m,m+k);m+=k;const F=new Uint8Array(k);eQ(C,I,F,j,k,d),j.set(F);for(let R=0;R<B;R++){const ae=b.x+R*b.xStep,Z=b.y+T*b.yStep;if(!(ae>=t||Z>=n))for(let me=0;me<d;me++)h[(Z*t+ae)*d+me]=F[R*d+me]}}}if(o===16){const g=new Uint16Array(h.buffer);if(nQ)for(let b=0;b<g.length;b++)g[b]=aQ(g[b]);return g}else return h}function aQ(r){return(r&255)<<8|r>>8&255}const iQ=new Uint16Array([255]),oQ=new Uint8Array(iQ.buffer),lQ=oQ[0]===255,AQ=new Uint8Array(0);function S2(r){const{data:e,width:t,height:n,channels:a,depth:o}=r,c=Math.ceil(o/8)*a,d=Math.ceil(o/8*a*t),h=new Uint8Array(n*d);let m=AQ,g=0,b,B;for(let _=0;_<n;_++){switch(b=e.subarray(g+1,g+1+d),B=h.subarray(_*d,(_+1)*d),e[g]){case 0:iN(b,B,d);break;case 1:oN(b,B,d,c);break;case 2:lN(b,B,m,d);break;case 3:AN(b,B,m,d,c);break;case 4:cN(b,B,m,d,c);break;default:throw new Error(`Unsupported filter: ${e[g]}`)}m=B,g+=d+1}if(o===16){const _=new Uint16Array(h.buffer);if(lQ)for(let k=0;k<_.length;k++)_[k]=cQ(_[k]);return _}else return h}function cQ(r){return(r&255)<<8|r>>8&255}const Ip=Uint8Array.of(137,80,78,71,13,10,26,10);function L2(r){if(!uQ(r.readBytes(Ip.length)))throw new Error("wrong PNG signature")}function uQ(r){if(r.length<Ip.length)return!1;for(let e=0;e<Ip.length;e++)if(r[e]!==Ip[e])return!1;return!0}const dQ="tEXt",hQ=0,uN=new TextDecoder("latin1");function fQ(r){if(mQ(r),r.length===0||r.length>79)throw new Error("keyword length must be between 1 and 79")}const pQ=/^[\u0000-\u00FF]*$/;function mQ(r){if(!pQ.test(r))throw new Error("invalid latin1 text")}function gQ(r,e,t){const n=dN(e);r[n]=xQ(e,t-n.length-1)}function dN(r){for(r.mark();r.readByte()!==hQ;);const e=r.offset;r.reset();const t=uN.decode(r.readBytes(e-r.offset-1));return r.skip(1),fQ(t),t}function xQ(r,e){return uN.decode(r.readBytes(e))}const bo={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},O0={UNKNOWN:-1,DEFLATE:0},j2={UNKNOWN:-1,ADAPTIVE:0},M0={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},up={NONE:0,BACKGROUND:1,PREVIOUS:2},D0={SOURCE:0,OVER:1};class bQ extends Gb{constructor(t,n={}){super(t);Dn(this,"_checkCrc");Dn(this,"_inflator");Dn(this,"_png");Dn(this,"_apng");Dn(this,"_end");Dn(this,"_hasPalette");Dn(this,"_palette");Dn(this,"_hasTransparency");Dn(this,"_transparency");Dn(this,"_compressionMethod");Dn(this,"_filterMethod");Dn(this,"_interlaceMethod");Dn(this,"_colorType");Dn(this,"_isAnimated");Dn(this,"_numberOfFrames");Dn(this,"_numberOfPlays");Dn(this,"_frames");Dn(this,"_writingDataChunks");const{checkCrc:a=!1}=n;this._checkCrc=a,this._inflator=new N2,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=O0.UNKNOWN,this._filterMethod=j2.UNKNOWN,this._interlaceMethod=M0.UNKNOWN,this._colorType=bo.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(L2(this);!this._end;){const t=this.readUint32(),n=this.readChars(4);this.decodeChunk(t,n)}return this.decodeImage(),this._png}decodeApng(){for(L2(this);!this._end;){const t=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(t,n)}return this.decodeApngImage(),this._apng}decodeChunk(t,n){const a=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case dQ:gQ(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-a!==t)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?E2(this,t+4,n):this.skip(4)}decodeApngChunk(t,n){const a=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,n),this.offset=a+t;break}if(this.offset-a!==t)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?E2(this,t+4,n):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=vQ(this.readUint8());const n=this.readUint8();this._colorType=n;let a;switch(n){case bo.GREYSCALE:a=1;break;case bo.TRUECOLOUR:a=3;break;case bo.INDEXED_COLOUR:a=1;break;case bo.GREYSCALE_ALPHA:a=2;break;case bo.TRUECOLOUR_ALPHA:a=4;break;case bo.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=a,this._compressionMethod=this.readUint8(),this._compressionMethod!==O0.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const n=t/3;this._hasPalette=!0;const a=[];this._palette=a;for(let o=0;o<n;o++)a.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const n=t,a=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let n=t,a=this.offset+this.byteOffset;if(a+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case bo.GREYSCALE:case bo.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let n=0;n<t/2;n++)this._transparency[n]=this.readUint16();break}case bo.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let n=0;for(;n<t;n++){const a=this.readByte();this._palette[n].push(a)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case bo.UNKNOWN:case bo.GREYSCALE_ALPHA:case bo.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const n=dN(this),a=this.readUint8();if(a!==O0.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${a}`);const o=this.readBytes(t-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:YF(o)}}decodepHYs(){const t=this.readUint32(),n=this.readUint32(),a=this.readByte();this._png.resolution={x:t,y:n,unit:a}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const n={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},a=this._frames.at(t);if(a){if(a.data=S2({data:a.data,width:a.width,height:a.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||a.xOffset===0&&a.yOffset===0&&a.width===this._png.width&&a.height===this._png.height)n.data=a.data;else{const o=this._apng.frames.at(t-1);this.disposeFrame(a,o,n),this.addFrameDataToCanvas(n,a)}this._apng.frames.push(n)}}return this._apng}disposeFrame(t,n,a){switch(t.disposeOp){case up.NONE:break;case up.BACKGROUND:for(let o=0;o<this._png.height;o++)for(let c=0;c<this._png.width;c++){const d=(o*t.width+c)*this._png.channels;for(let h=0;h<this._png.channels;h++)a.data[d+h]=0}break;case up.PREVIOUS:a.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,n){const a=1<<this._png.depth,o=(c,d)=>{const h=((c+n.yOffset)*this._png.width+n.xOffset+d)*this._png.channels,m=(c*n.width+d)*this._png.channels;return{index:h,frameIndex:m}};switch(n.blendOp){case D0.SOURCE:for(let c=0;c<n.height;c++)for(let d=0;d<n.width;d++){const{index:h,frameIndex:m}=o(c,d);for(let g=0;g<this._png.channels;g++)t.data[h+g]=n.data[m+g]}break;case D0.OVER:for(let c=0;c<n.height;c++)for(let d=0;d<n.width;d++){const{index:h,frameIndex:m}=o(c,d);for(let g=0;g<this._png.channels;g++){const b=n.data[m+this._png.channels-1]/a,B=g%(this._png.channels-1)===0?1:n.data[m+g],_=Math.floor(b*B+(1-b)*t.data[h+g]);t.data[h+g]+=_}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==j2.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===M0.NO_INTERLACE)this._png.data=S2({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===M0.ADAM7)this._png.data=sQ({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,n=this._frames.at(-1);n?n.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:up.NONE,blendOp:D0.SOURCE,data:t}),this._inflator=new N2,this._writingDataChunks=!1}}function vQ(r){if(r!==1&&r!==2&&r!==4&&r!==8&&r!==16)throw new Error(`invalid bit depth: ${r}`);return r}var k2;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.METRE=1]="METRE"})(k2||(k2={}));function yQ(r,e){return new bQ(r,e).decode()}var Dr=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function R0(){Dr.console&&typeof Dr.console.log=="function"&&Dr.console.log.apply(Dr.console,arguments)}var Xn={log:R0,warn:function(r){Dr.console&&(typeof Dr.console.warn=="function"?Dr.console.warn.apply(Dr.console,arguments):R0.call(null,arguments))},error:function(r){Dr.console&&(typeof Dr.console.error=="function"?Dr.console.error.apply(Dr.console,arguments):R0(r))}};function P0(r,e,t){var n=new XMLHttpRequest;n.open("GET",r),n.responseType="blob",n.onload=function(){Qc(n.response,e,t)},n.onerror=function(){Xn.error("could not download file")},n.send()}function U2(r){var e=new XMLHttpRequest;e.open("HEAD",r,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function dp(r){try{r.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),r.dispatchEvent(e)}}var Qc=Dr.saveAs||((typeof window>"u"?"undefined":Rn(window))!=="object"||window!==Dr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(r,e,t){var n=Dr.URL||Dr.webkitURL,a=document.createElement("a");e=e||r.name||"download",a.download=e,a.rel="noopener",typeof r=="string"?(a.href=r,a.origin!==location.origin?U2(a.href)?P0(r,e,t):dp(a,a.target="_blank"):dp(a)):(a.href=n.createObjectURL(r),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){dp(a)},0))}:"msSaveOrOpenBlob"in navigator?function(r,e,t){if(e=e||r.name||"download",typeof r=="string")if(U2(r))P0(r,e,t);else{var n=document.createElement("a");n.href=r,n.target="_blank",setTimeout(function(){dp(n)})}else navigator.msSaveOrOpenBlob((function(a,o){return o===void 0?o={autoBom:!1}:Rn(o)!=="object"&&(Xn.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(r,t),e)}:function(r,e,t,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof r=="string")return P0(r,e,t);var a=r.type==="application/octet-stream",o=/constructor/i.test(Dr.HTMLElement)||Dr.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||a&&o)&&(typeof FileReader>"u"?"undefined":Rn(FileReader))==="object"){var d=new FileReader;d.onloadend=function(){var g=d.result;g=c?g:g.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=g:location=g,n=null},d.readAsDataURL(r)}else{var h=Dr.URL||Dr.webkitURL,m=h.createObjectURL(r);n?n.location=m:location.href=m,n=null,setTimeout(function(){h.revokeObjectURL(m)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function hN(r){var e;r=r||"",this.ok=!1,r.charAt(0)=="#"&&(r=r.substr(1,6)),r={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[r=(r=r.replace(/ /g,"")).toLowerCase()]||r;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(d){return[parseInt(d[1]),parseInt(d[2]),parseInt(d[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(d){return[parseInt(d[1],16),parseInt(d[2],16),parseInt(d[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(d){return[parseInt(d[1]+d[1],16),parseInt(d[2]+d[2],16),parseInt(d[3]+d[3],16)]}}],n=0;n<t.length;n++){var a=t[n].re,o=t[n].process,c=a.exec(r);c&&(e=o(c),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var d=this.r.toString(16),h=this.g.toString(16),m=this.b.toString(16);return d.length==1&&(d="0"+d),h.length==1&&(h="0"+h),m.length==1&&(m="0"+m),"#"+d+h+m}}var Op=Dr.atob.bind(Dr),T2=Dr.btoa.bind(Dr);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function H0(r,e){var t=r[0],n=r[1],a=r[2],o=r[3];t=mi(t,n,a,o,e[0],7,-680876936),o=mi(o,t,n,a,e[1],12,-389564586),a=mi(a,o,t,n,e[2],17,606105819),n=mi(n,a,o,t,e[3],22,-1044525330),t=mi(t,n,a,o,e[4],7,-176418897),o=mi(o,t,n,a,e[5],12,1200080426),a=mi(a,o,t,n,e[6],17,-1473231341),n=mi(n,a,o,t,e[7],22,-45705983),t=mi(t,n,a,o,e[8],7,1770035416),o=mi(o,t,n,a,e[9],12,-1958414417),a=mi(a,o,t,n,e[10],17,-42063),n=mi(n,a,o,t,e[11],22,-1990404162),t=mi(t,n,a,o,e[12],7,1804603682),o=mi(o,t,n,a,e[13],12,-40341101),a=mi(a,o,t,n,e[14],17,-1502002290),t=gi(t,n=mi(n,a,o,t,e[15],22,1236535329),a,o,e[1],5,-165796510),o=gi(o,t,n,a,e[6],9,-1069501632),a=gi(a,o,t,n,e[11],14,643717713),n=gi(n,a,o,t,e[0],20,-373897302),t=gi(t,n,a,o,e[5],5,-701558691),o=gi(o,t,n,a,e[10],9,38016083),a=gi(a,o,t,n,e[15],14,-660478335),n=gi(n,a,o,t,e[4],20,-405537848),t=gi(t,n,a,o,e[9],5,568446438),o=gi(o,t,n,a,e[14],9,-1019803690),a=gi(a,o,t,n,e[3],14,-187363961),n=gi(n,a,o,t,e[8],20,1163531501),t=gi(t,n,a,o,e[13],5,-1444681467),o=gi(o,t,n,a,e[2],9,-51403784),a=gi(a,o,t,n,e[7],14,1735328473),t=xi(t,n=gi(n,a,o,t,e[12],20,-1926607734),a,o,e[5],4,-378558),o=xi(o,t,n,a,e[8],11,-2022574463),a=xi(a,o,t,n,e[11],16,1839030562),n=xi(n,a,o,t,e[14],23,-35309556),t=xi(t,n,a,o,e[1],4,-1530992060),o=xi(o,t,n,a,e[4],11,1272893353),a=xi(a,o,t,n,e[7],16,-155497632),n=xi(n,a,o,t,e[10],23,-1094730640),t=xi(t,n,a,o,e[13],4,681279174),o=xi(o,t,n,a,e[0],11,-358537222),a=xi(a,o,t,n,e[3],16,-722521979),n=xi(n,a,o,t,e[6],23,76029189),t=xi(t,n,a,o,e[9],4,-640364487),o=xi(o,t,n,a,e[12],11,-421815835),a=xi(a,o,t,n,e[15],16,530742520),t=bi(t,n=xi(n,a,o,t,e[2],23,-995338651),a,o,e[0],6,-198630844),o=bi(o,t,n,a,e[7],10,1126891415),a=bi(a,o,t,n,e[14],15,-1416354905),n=bi(n,a,o,t,e[5],21,-57434055),t=bi(t,n,a,o,e[12],6,1700485571),o=bi(o,t,n,a,e[3],10,-1894986606),a=bi(a,o,t,n,e[10],15,-1051523),n=bi(n,a,o,t,e[1],21,-2054922799),t=bi(t,n,a,o,e[8],6,1873313359),o=bi(o,t,n,a,e[15],10,-30611744),a=bi(a,o,t,n,e[6],15,-1560198380),n=bi(n,a,o,t,e[13],21,1309151649),t=bi(t,n,a,o,e[4],6,-145523070),o=bi(o,t,n,a,e[11],10,-1120210379),a=bi(a,o,t,n,e[2],15,718787259),n=bi(n,a,o,t,e[9],21,-343485551),r[0]=fc(t,r[0]),r[1]=fc(n,r[1]),r[2]=fc(a,r[2]),r[3]=fc(o,r[3])}function Lm(r,e,t,n,a,o){return e=fc(fc(e,r),fc(n,o)),fc(e<<a|e>>>32-a,t)}function mi(r,e,t,n,a,o,c){return Lm(e&t|~e&n,r,e,a,o,c)}function gi(r,e,t,n,a,o,c){return Lm(e&n|t&~n,r,e,a,o,c)}function xi(r,e,t,n,a,o,c){return Lm(e^t^n,r,e,a,o,c)}function bi(r,e,t,n,a,o,c){return Lm(t^(e|~n),r,e,a,o,c)}function fN(r){var e,t=r.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=r.length;e+=64)H0(n,wQ(r.substring(e-64,e)));r=r.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<r.length;e++)a[e>>2]|=r.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(H0(n,a),e=0;e<16;e++)a[e]=0;return a[14]=8*t,H0(n,a),n}function wQ(r){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=r.charCodeAt(e)+(r.charCodeAt(e+1)<<8)+(r.charCodeAt(e+2)<<16)+(r.charCodeAt(e+3)<<24);return t}var F2="0123456789abcdef".split("");function _Q(r){for(var e="",t=0;t<4;t++)e+=F2[r>>8*t+4&15]+F2[r>>8*t&15];return e}function BQ(r){return String.fromCharCode(255&r,(65280&r)>>8,(16711680&r)>>16,(4278190080&r)>>24)}function eb(r){return fN(r).map(BQ).join("")}var NQ=(function(r){for(var e=0;e<r.length;e++)r[e]=_Q(r[e]);return r.join("")})(fN("hello"))!="5d41402abc4b2a76b9719d911017c592";function fc(r,e){if(NQ){var t=(65535&r)+(65535&e);return(r>>16)+(e>>16)+(t>>16)<<16|65535&t}return r+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function tb(r,e){var t,n,a,o;if(r!==t){for(var c=(a=r,o=1+(256/r.length|0),new Array(o+1).join(a)),d=[],h=0;h<256;h++)d[h]=h;var m=0;for(h=0;h<256;h++){var g=d[h];m=(m+g+c.charCodeAt(h))%256,d[h]=d[m],d[m]=g}t=r,n=d}else d=n;var b=e.length,B=0,_=0,k="";for(h=0;h<b;h++)_=(_+(g=d[B=(B+1)%256]))%256,d[B]=d[_],d[_]=g,c=d[(d[B]+d[_])%256],k+=String.fromCharCode(e.charCodeAt(h)^c);return k}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Q2={print:4,modify:8,copy:16,"annot-forms":32};function Vu(r,e,t,n){this.v=1,this.r=2;var a=192;r.forEach(function(d){if(Q2.perm!==void 0)throw new Error("Invalid permission: "+d);a+=Q2[d]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(e+this.padding).substr(0,32),c=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,c),this.P=-(1+(255^a)),this.encryptionKey=eb(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=tb(this.encryptionKey,this.padding)}function Zu(r){if(/[^\u0000-\u00ff]/.test(r))throw new Error("Invalid PDF Name Object: "+r+", Only accept ASCII characters.");for(var e="",t=r.length,n=0;n<t;n++){var a=r.charCodeAt(n);e+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):r[n]}return e}function I2(r){if(Rn(r)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,n,a){if(a=a||!1,typeof t!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var o=Math.random().toString(35);return e[t][o]=[n,!!a],o},this.unsubscribe=function(t){for(var n in e)if(e[n][t])return delete e[n][t],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var o in e[t]){var c=e[t][o];try{c[0].apply(r,n)}catch(d){Dr.console&&Xn.error("jsPDF PubSub Error",d.message,d)}c[1]&&a.push(o)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function im(r){if(!(this instanceof im))return new im(r);var e="opacity,stroke-opacity".split(",");for(var t in r)r.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=r[t]);this.id="",this.objectNumber=-1}function pN(r,e){this.gState=r,this.matrix=e,this.id="",this.objectNumber=-1}function Dc(r,e,t,n,a){if(!(this instanceof Dc))return new Dc(r,e,t,n,a);this.type=r==="axial"?2:3,this.coords=e,this.colors=t,pN.call(this,n,a)}function Wu(r,e,t,n,a){if(!(this instanceof Wu))return new Wu(r,e,t,n,a);this.boundingBox=r,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,pN.call(this,n,a)}function yr(r){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],o=arguments[3],c=[],d=1,h=16,m="S",g=null;Rn(r=r||{})==="object"&&(t=r.orientation,n=r.unit||n,a=r.format||a,o=r.compress||r.compressPdf||o,(g=r.encryption||null)!==null&&(g.userPassword=g.userPassword||"",g.ownerPassword=g.ownerPassword||"",g.userPermissions=g.userPermissions||[]),d=typeof r.userUnit=="number"?Math.abs(r.userUnit):1,r.precision!==void 0&&(e=r.precision),r.floatPrecision!==void 0&&(h=r.floatPrecision),m=r.defaultPathOperation||"S"),c=r.filters||(o===!0?["FlateEncode"]:c),n=n||"mm",t=(""+(t||"P")).toLowerCase();var b=r.putOnlyUsedFonts||!1,B={},_={internal:{},__private__:{}};_.__private__.PubSub=I2;var k="1.3",j=_.__private__.getPdfVersion=function(){return k};_.__private__.setPdfVersion=function(S){k=S};var T={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};_.__private__.getPageFormats=function(){return T};var C=_.__private__.getPageFormat=function(S){return T[S]};a=a||"a4";var I="compat",F="advanced",R=I;function ae(){this.saveGraphicsState(),he(new vt(Vt,0,0,-Vt,0,ao()*Vt).toString()+" cm"),this.setFontSize(this.getFontSize()/Vt),m="n",R=F}function Z(){this.restoreGraphicsState(),m="S",R=I}var me=_.__private__.combineFontStyleAndFontWeight=function(S,X){if(S=="bold"&&X=="normal"||S=="bold"&&X==400||S=="normal"&&X=="italic"||S=="bold"&&X=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return X&&(S=X==400||X==="normal"?S==="italic"?"italic":"normal":X!=700&&X!=="bold"||S!=="normal"?(X==700?"bold":X)+""+S:"bold"),S};_.advancedAPI=function(S){var X=R===I;return X&&ae.call(this),typeof S!="function"||(S(this),X&&Z.call(this)),this},_.compatAPI=function(S){var X=R===F;return X&&Z.call(this),typeof S!="function"||(S(this),X&&ae.call(this)),this},_.isAdvancedAPI=function(){return R===F};var ee,H=function(S){if(R!==F)throw new Error(S+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},W=_.roundToPrecision=_.__private__.roundToPrecision=function(S,X){var xe=e||X;if(isNaN(S)||isNaN(xe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return S.toFixed(xe).replace(/0+$/,"")};ee=_.hpf=_.__private__.hpf=typeof h=="number"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return W(S,h)}:h==="smart"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return W(S,S>-1&&S<1?16:5)}:function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return W(S,16)};var K=_.f2=_.__private__.f2=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f2");return W(S,2)},$=_.__private__.f3=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f3");return W(S,3)},re=_.scale=_.__private__.scale=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.scale");return R===I?S*Vt:R===F?S:void 0},le=function(S){return re((function(X){return R===I?ao()-X:R===F?X:void 0})(S))};_.__private__.setPrecision=_.setPrecision=function(S){typeof parseInt(S,10)=="number"&&(e=parseInt(S,10))};var ge,Y="00000000000000000000000000000000",pe=_.__private__.getFileId=function(){return Y},z=_.__private__.setFileId=function(S){return Y=S!==void 0&&/^[a-fA-F0-9]{32}$/.test(S)?S.toUpperCase():Y.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),g!==null&&(St=new Vu(g.userPermissions,g.userPassword,g.ownerPassword,Y)),Y};_.setFileId=function(S){return z(S),this},_.getFileId=function(){return pe()};var ve=_.__private__.convertDateToPDFDate=function(S){var X=S.getTimezoneOffset(),xe=X<0?"+":"-",Le=Math.floor(Math.abs(X/60)),Qe=Math.abs(X%60),st=[xe,Q(Le),"'",Q(Qe),"'"].join("");return["D:",S.getFullYear(),Q(S.getMonth()+1),Q(S.getDate()),Q(S.getHours()),Q(S.getMinutes()),Q(S.getSeconds()),st].join("")},we=_.__private__.convertPDFDateToDate=function(S){var X=parseInt(S.substr(2,4),10),xe=parseInt(S.substr(6,2),10)-1,Le=parseInt(S.substr(8,2),10),Qe=parseInt(S.substr(10,2),10),st=parseInt(S.substr(12,2),10),xt=parseInt(S.substr(14,2),10);return new Date(X,xe,Le,Qe,st,xt,0)},V=_.__private__.setCreationDate=function(S){var X;if(S===void 0&&(S=new Date),S instanceof Date)X=ve(S);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(S))throw new Error("Invalid argument passed to jsPDF.setCreationDate");X=S}return ge=X},O=_.__private__.getCreationDate=function(S){var X=ge;return S==="jsDate"&&(X=we(ge)),X};_.setCreationDate=function(S){return V(S),this},_.getCreationDate=function(S){return O(S)};var G,Q=_.__private__.padd2=function(S){return("0"+parseInt(S)).slice(-2)},oe=_.__private__.padd2Hex=function(S){return("00"+(S=S.toString())).substr(S.length)},ce=0,Be=[],Se=[],Fe=0,He=[],it=[],Re=!1,_t=Se;_.__private__.setCustomOutputDestination=function(S){Re=!0,_t=S};var It=function(S){Re||(_t=S)};_.__private__.resetCustomOutputDestination=function(){Re=!1,_t=Se};var he=_.__private__.out=function(S){return S=S.toString(),Fe+=S.length+1,_t.push(S),_t},ct=_.__private__.write=function(S){return he(arguments.length===1?S.toString():Array.prototype.join.call(arguments," "))},yt=_.__private__.getArrayBuffer=function(S){for(var X=S.length,xe=new ArrayBuffer(X),Le=new Uint8Array(xe);X--;)Le[X]=S.charCodeAt(X);return xe},qt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];_.__private__.getStandardFonts=function(){return qt};var $e=r.fontSize||16;_.__private__.setFontSize=_.setFontSize=function(S){return $e=R===F?S/Vt:S,this};var Zt,Qt=_.__private__.getFontSize=_.getFontSize=function(){return R===I?$e:$e*Vt},kt=r.R2L||!1;_.__private__.setR2L=_.setR2L=function(S){return kt=S,this},_.__private__.getR2L=_.getR2L=function(){return kt};var Kt,Jt=_.__private__.setZoomMode=function(S){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(S))Zt=S;else if(isNaN(S)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(S)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+S+'" is not recognized.');Zt=S}else Zt=parseInt(S,10)};_.__private__.getZoomMode=function(){return Zt};var mr,Yt=_.__private__.setPageMode=function(S){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(S)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+S+'" is not recognized.');Kt=S};_.__private__.getPageMode=function(){return Kt};var ar=_.__private__.setLayoutMode=function(S){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(S)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+S+'" is not recognized.');mr=S};_.__private__.getLayoutMode=function(){return mr},_.__private__.setDisplayMode=_.setDisplayMode=function(S,X,xe){return Jt(S),ar(X),Yt(xe),this};var cr={title:"",subject:"",author:"",keywords:"",creator:""};_.__private__.getDocumentProperty=function(S){if(Object.keys(cr).indexOf(S)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return cr[S]},_.__private__.getDocumentProperties=function(){return cr},_.__private__.setDocumentProperties=_.setProperties=_.setDocumentProperties=function(S){for(var X in cr)cr.hasOwnProperty(X)&&S[X]&&(cr[X]=S[X]);return this},_.__private__.setDocumentProperty=function(S,X){if(Object.keys(cr).indexOf(S)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return cr[S]=X};var Ht,Vt,Dt,Ne,et,ft={},Lt={},Ut=[],Et={},xr={},Rt={},de={},Ke=null,Ye=0,We=[],tt=new I2(_),Tt=r.hotfixes||[],zt={},Wt={},Lr=[],vt=function S(X,xe,Le,Qe,st,xt){if(!(this instanceof S))return new S(X,xe,Le,Qe,st,xt);isNaN(X)&&(X=1),isNaN(xe)&&(xe=0),isNaN(Le)&&(Le=0),isNaN(Qe)&&(Qe=1),isNaN(st)&&(st=0),isNaN(xt)&&(xt=0),this._matrix=[X,xe,Le,Qe,st,xt]};Object.defineProperty(vt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(vt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(vt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(vt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(vt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(vt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(vt.prototype,"a",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(vt.prototype,"b",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(vt.prototype,"c",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(vt.prototype,"d",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(vt.prototype,"e",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(vt.prototype,"f",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(vt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(vt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(vt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(vt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),vt.prototype.join=function(S){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(ee).join(S)},vt.prototype.multiply=function(S){var X=S.sx*this.sx+S.shy*this.shx,xe=S.sx*this.shy+S.shy*this.sy,Le=S.shx*this.sx+S.sy*this.shx,Qe=S.shx*this.shy+S.sy*this.sy,st=S.tx*this.sx+S.ty*this.shx+this.tx,xt=S.tx*this.shy+S.ty*this.sy+this.ty;return new vt(X,xe,Le,Qe,st,xt)},vt.prototype.decompose=function(){var S=this.sx,X=this.shy,xe=this.shx,Le=this.sy,Qe=this.tx,st=this.ty,xt=Math.sqrt(S*S+X*X),sr=(S/=xt)*xe+(X/=xt)*Le;xe-=S*sr,Le-=X*sr;var or=Math.sqrt(xe*xe+Le*Le);return sr/=or,S*(Le/=or)<X*(xe/=or)&&(S=-S,X=-X,sr=-sr,xt=-xt),{scale:new vt(xt,0,0,or,0,0),translate:new vt(1,0,0,1,Qe,st),rotate:new vt(S,X,-X,S,0,0),skew:new vt(1,0,sr,1,0,0)}},vt.prototype.toString=function(S){return this.join(" ")},vt.prototype.inversed=function(){var S=this.sx,X=this.shy,xe=this.shx,Le=this.sy,Qe=this.tx,st=this.ty,xt=1/(S*Le-X*xe),sr=Le*xt,or=-X*xt,Er=-xe*xt,Or=S*xt;return new vt(sr,or,Er,Or,-sr*Qe-Er*st,-or*Qe-Or*st)},vt.prototype.applyToPoint=function(S){var X=S.x*this.sx+S.y*this.shx+this.tx,xe=S.x*this.shy+S.y*this.sy+this.ty;return new ii(X,xe)},vt.prototype.applyToRectangle=function(S){var X=this.applyToPoint(S),xe=this.applyToPoint(new ii(S.x+S.w,S.y+S.h));return new Fi(X.x,X.y,xe.x-X.x,xe.y-X.y)},vt.prototype.clone=function(){var S=this.sx,X=this.shy,xe=this.shx,Le=this.sy,Qe=this.tx,st=this.ty;return new vt(S,X,xe,Le,Qe,st)},_.Matrix=vt;var Rr=_.matrixMult=function(S,X){return X.multiply(S)},fr=new vt(1,0,0,1,0,0);_.unitMatrix=_.identityMatrix=fr;var pr=function(S,X){if(!xr[S]){var xe=(X instanceof Dc?"Sh":"P")+(Object.keys(Et).length+1).toString(10);X.id=xe,xr[S]=xe,Et[xe]=X,tt.publish("addPattern",X)}};_.ShadingPattern=Dc,_.TilingPattern=Wu,_.addShadingPattern=function(S,X){return H("addShadingPattern()"),pr(S,X),this},_.beginTilingPattern=function(S){H("beginTilingPattern()"),$o(S.boundingBox[0],S.boundingBox[1],S.boundingBox[2]-S.boundingBox[0],S.boundingBox[3]-S.boundingBox[1],S.matrix)},_.endTilingPattern=function(S,X){H("endTilingPattern()"),X.stream=it[G].join(`
`),pr(S,X),tt.publish("endTilingPattern",X),Lr.pop().restore()};var Pr,je=_.__private__.newObject=function(){var S=Me();return $t(S,!0),S},Me=_.__private__.newObjectDeferred=function(){return ce++,Be[ce]=function(){return Fe},ce},$t=function(S,X){return X=typeof X=="boolean"&&X,Be[S]=Fe,X&&he(S+" 0 obj"),S},Ir=_.__private__.newAdditionalObject=function(){var S={objId:Me(),content:""};return He.push(S),S},jr=Me(),Gr=Me(),Xr=_.__private__.decodeColorString=function(S){var X=S.split(" ");if(X.length!==2||X[1]!=="g"&&X[1]!=="G")X.length!==5||X[4]!=="k"&&X[4]!=="K"||(X=[(1-X[0])*(1-X[3]),(1-X[1])*(1-X[3]),(1-X[2])*(1-X[3]),"r"]);else{var xe=parseFloat(X[0]);X=[xe,xe,xe,"r"]}for(var Le="#",Qe=0;Qe<3;Qe++)Le+=("0"+Math.floor(255*parseFloat(X[Qe])).toString(16)).slice(-2);return Le},Fn=_.__private__.encodeColorString=function(S){var X;typeof S=="string"&&(S={ch1:S});var xe=S.ch1,Le=S.ch2,Qe=S.ch3,st=S.ch4,xt=S.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof xe=="string"&&xe.charAt(0)!=="#"){var sr=new hN(xe);if(sr.ok)xe=sr.toHex();else if(!/^\d*\.?\d*$/.test(xe))throw new Error('Invalid color "'+xe+'" passed to jsPDF.encodeColorString.')}if(typeof xe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(xe)&&(xe="#"+xe[1]+xe[1]+xe[2]+xe[2]+xe[3]+xe[3]),typeof xe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(xe)){var or=parseInt(xe.substr(1),16);xe=or>>16&255,Le=or>>8&255,Qe=255&or}if(Le===void 0||st===void 0&&xe===Le&&Le===Qe)X=typeof xe=="string"?xe+" "+xt[0]:S.precision===2?K(xe/255)+" "+xt[0]:$(xe/255)+" "+xt[0];else if(st===void 0||Rn(st)==="object"){if(st&&!isNaN(st.a)&&st.a===0)return["1.","1.","1.",xt[1]].join(" ");X=typeof xe=="string"?[xe,Le,Qe,xt[1]].join(" "):S.precision===2?[K(xe/255),K(Le/255),K(Qe/255),xt[1]].join(" "):[$(xe/255),$(Le/255),$(Qe/255),xt[1]].join(" ")}else X=typeof xe=="string"?[xe,Le,Qe,st,xt[2]].join(" "):S.precision===2?[K(xe),K(Le),K(Qe),K(st),xt[2]].join(" "):[$(xe),$(Le),$(Qe),$(st),xt[2]].join(" ");return X},wn=_.__private__.getFilters=function(){return c},Hn=_.__private__.putStream=function(S){var X=(S=S||{}).data||"",xe=S.filters||wn(),Le=S.alreadyAppliedFilters||[],Qe=S.addLength1||!1,st=X.length,xt=S.objectId,sr=function(js){return js};if(g!==null&&xt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");g!==null&&(sr=St.encryptor(xt,0));var or={};xe===!0&&(xe=["FlateEncode"]);var Er=S.additionalKeyValues||[],Or=(or=yr.API.processDataByFilters!==void 0?yr.API.processDataByFilters(X,xe):{data:X,reverseChain:[]}).reverseChain+(Array.isArray(Le)?Le.join(" "):Le.toString());if(or.data.length!==0&&(Er.push({key:"Length",value:or.data.length}),Qe===!0&&Er.push({key:"Length1",value:st})),Or.length!=0)if(Or.split("/").length-1==1)Er.push({key:"Filter",value:Or});else{Er.push({key:"Filter",value:"["+Or+"]"});for(var rn=0;rn<Er.length;rn+=1)if(Er[rn].key==="DecodeParms"){for(var Zn=[],as=0;as<or.reverseChain.split("/").length-1;as+=1)Zn.push("null");Zn.push(Er[rn].value),Er[rn].value="["+Zn.join(" ")+"]"}}he("<<");for(var _n=0;_n<Er.length;_n++)he("/"+Er[_n].key+" "+Er[_n].value);he(">>"),or.data.length!==0&&(he("stream"),he(sr(or.data)),he("endstream"))},jn=_.__private__.putPage=function(S){var X=S.number,xe=S.data,Le=S.objId,Qe=S.contentsObjId;$t(Le,!0),he("<</Type /Page"),he("/Parent "+S.rootDictionaryObjId+" 0 R"),he("/Resources "+S.resourceDictionaryObjId+" 0 R"),he("/MediaBox ["+parseFloat(ee(S.mediaBox.bottomLeftX))+" "+parseFloat(ee(S.mediaBox.bottomLeftY))+" "+ee(S.mediaBox.topRightX)+" "+ee(S.mediaBox.topRightY)+"]"),S.cropBox!==null&&he("/CropBox ["+ee(S.cropBox.bottomLeftX)+" "+ee(S.cropBox.bottomLeftY)+" "+ee(S.cropBox.topRightX)+" "+ee(S.cropBox.topRightY)+"]"),S.bleedBox!==null&&he("/BleedBox ["+ee(S.bleedBox.bottomLeftX)+" "+ee(S.bleedBox.bottomLeftY)+" "+ee(S.bleedBox.topRightX)+" "+ee(S.bleedBox.topRightY)+"]"),S.trimBox!==null&&he("/TrimBox ["+ee(S.trimBox.bottomLeftX)+" "+ee(S.trimBox.bottomLeftY)+" "+ee(S.trimBox.topRightX)+" "+ee(S.trimBox.topRightY)+"]"),S.artBox!==null&&he("/ArtBox ["+ee(S.artBox.bottomLeftX)+" "+ee(S.artBox.bottomLeftY)+" "+ee(S.artBox.topRightX)+" "+ee(S.artBox.topRightY)+"]"),typeof S.userUnit=="number"&&S.userUnit!==1&&he("/UserUnit "+S.userUnit),tt.publish("putPage",{objId:Le,pageContext:We[X],pageNumber:X,page:xe}),he("/Contents "+Qe+" 0 R"),he(">>"),he("endobj");var st=xe.join(`
`);return R===F&&(st+=`
Q`),$t(Qe,!0),Hn({data:st,filters:wn(),objectId:Qe}),he("endobj"),Le},Ns=_.__private__.putPages=function(){var S,X,xe=[];for(S=1;S<=Ye;S++)We[S].objId=Me(),We[S].contentsObjId=Me();for(S=1;S<=Ye;S++)xe.push(jn({number:S,data:it[S],objId:We[S].objId,contentsObjId:We[S].contentsObjId,mediaBox:We[S].mediaBox,cropBox:We[S].cropBox,bleedBox:We[S].bleedBox,trimBox:We[S].trimBox,artBox:We[S].artBox,userUnit:We[S].userUnit,rootDictionaryObjId:jr,resourceDictionaryObjId:Gr}));$t(jr,!0),he("<</Type /Pages");var Le="/Kids [";for(X=0;X<Ye;X++)Le+=xe[X]+" 0 R ";he(Le+"]"),he("/Count "+Ye),he(">>"),he("endobj"),tt.publish("postPutPages")},wr=function(S){tt.publish("putFont",{font:S,out:he,newObject:je,putStream:Hn}),S.isAlreadyPutted!==!0&&(S.objectNumber=je(),he("<<"),he("/Type /Font"),he("/BaseFont /"+Zu(S.postScriptName)),he("/Subtype /Type1"),typeof S.encoding=="string"&&he("/Encoding /"+S.encoding),he("/FirstChar 32"),he("/LastChar 255"),he(">>"),he("endobj"))},xa=function(S){S.objectNumber=je();var X=[];X.push({key:"Type",value:"/XObject"}),X.push({key:"Subtype",value:"/Form"}),X.push({key:"BBox",value:"["+[ee(S.x),ee(S.y),ee(S.x+S.width),ee(S.y+S.height)].join(" ")+"]"}),X.push({key:"Matrix",value:"["+S.matrix.toString()+"]"});var xe=S.pages[1].join(`
`);Hn({data:xe,additionalKeyValues:X,objectId:S.objectNumber}),he("endobj")},fs=function(S,X){X||(X=21);var xe=je(),Le=(function(xt,sr){var or,Er=[],Or=1/(sr-1);for(or=0;or<1;or+=Or)Er.push(or);if(Er.push(1),xt[0].offset!=0){var rn={offset:0,color:xt[0].color};xt.unshift(rn)}if(xt[xt.length-1].offset!=1){var Zn={offset:1,color:xt[xt.length-1].color};xt.push(Zn)}for(var as="",_n=0,js=0;js<Er.length;js++){for(or=Er[js];or>xt[_n+1].offset;)_n++;var is=xt[_n].offset,Qs=(or-is)/(xt[_n+1].offset-is),oi=xt[_n].color,Ys=xt[_n+1].color;as+=oe(Math.round((1-Qs)*oi[0]+Qs*Ys[0]).toString(16))+oe(Math.round((1-Qs)*oi[1]+Qs*Ys[1]).toString(16))+oe(Math.round((1-Qs)*oi[2]+Qs*Ys[2]).toString(16))}return as.trim()})(S.colors,X),Qe=[];Qe.push({key:"FunctionType",value:"0"}),Qe.push({key:"Domain",value:"[0.0 1.0]"}),Qe.push({key:"Size",value:"["+X+"]"}),Qe.push({key:"BitsPerSample",value:"8"}),Qe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Qe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Hn({data:Le,additionalKeyValues:Qe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:xe}),he("endobj"),S.objectNumber=je(),he("<< /ShadingType "+S.type),he("/ColorSpace /DeviceRGB");var st="/Coords ["+ee(parseFloat(S.coords[0]))+" "+ee(parseFloat(S.coords[1]))+" ";S.type===2?st+=ee(parseFloat(S.coords[2]))+" "+ee(parseFloat(S.coords[3])):st+=ee(parseFloat(S.coords[2]))+" "+ee(parseFloat(S.coords[3]))+" "+ee(parseFloat(S.coords[4]))+" "+ee(parseFloat(S.coords[5])),he(st+="]"),S.matrix&&he("/Matrix ["+S.matrix.toString()+"]"),he("/Function "+xe+" 0 R"),he("/Extend [true true]"),he(">>"),he("endobj")},Zs=function(S,X){var xe=Me(),Le=je();X.push({resourcesOid:xe,objectOid:Le}),S.objectNumber=Le;var Qe=[];Qe.push({key:"Type",value:"/Pattern"}),Qe.push({key:"PatternType",value:"1"}),Qe.push({key:"PaintType",value:"1"}),Qe.push({key:"TilingType",value:"1"}),Qe.push({key:"BBox",value:"["+S.boundingBox.map(ee).join(" ")+"]"}),Qe.push({key:"XStep",value:ee(S.xStep)}),Qe.push({key:"YStep",value:ee(S.yStep)}),Qe.push({key:"Resources",value:xe+" 0 R"}),S.matrix&&Qe.push({key:"Matrix",value:"["+S.matrix.toString()+"]"}),Hn({data:S.stream,additionalKeyValues:Qe,objectId:S.objectNumber}),he("endobj")},se=function(S){for(var X in S.objectNumber=je(),he("<<"),S)switch(X){case"opacity":he("/ca "+K(S[X]));break;case"stroke-opacity":he("/CA "+K(S[X]))}he(">>"),he("endobj")},pt=function(S){$t(S.resourcesOid,!0),he("<<"),he("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var X in he("/Font <<"),ft)ft.hasOwnProperty(X)&&(b===!1||b===!0&&B.hasOwnProperty(X))&&he("/"+X+" "+ft[X].objectNumber+" 0 R");he(">>")})(),(function(){if(Object.keys(Et).length>0){for(var X in he("/Shading <<"),Et)Et.hasOwnProperty(X)&&Et[X]instanceof Dc&&Et[X].objectNumber>=0&&he("/"+X+" "+Et[X].objectNumber+" 0 R");tt.publish("putShadingPatternDict"),he(">>")}})(),(function(X){if(Object.keys(Et).length>0){for(var xe in he("/Pattern <<"),Et)Et.hasOwnProperty(xe)&&Et[xe]instanceof _.TilingPattern&&Et[xe].objectNumber>=0&&Et[xe].objectNumber<X&&he("/"+xe+" "+Et[xe].objectNumber+" 0 R");tt.publish("putTilingPatternDict"),he(">>")}})(S.objectOid),(function(){if(Object.keys(Rt).length>0){var X;for(X in he("/ExtGState <<"),Rt)Rt.hasOwnProperty(X)&&Rt[X].objectNumber>=0&&he("/"+X+" "+Rt[X].objectNumber+" 0 R");tt.publish("putGStateDict"),he(">>")}})(),(function(){for(var X in he("/XObject <<"),zt)zt.hasOwnProperty(X)&&zt[X].objectNumber>=0&&he("/"+X+" "+zt[X].objectNumber+" 0 R");tt.publish("putXobjectDict"),he(">>")})(),he(">>"),he("endobj")},bt=function(S){Lt[S.fontName]=Lt[S.fontName]||{},Lt[S.fontName][S.fontStyle]=S.id},ut=function(S,X,xe,Le,Qe){var st={id:"F"+(Object.keys(ft).length+1).toString(10),postScriptName:S,fontName:X,fontStyle:xe,encoding:Le,isStandardFont:Qe||!1,metadata:{}};return tt.publish("addFont",{font:st,instance:this}),ft[st.id]=st,bt(st),st.id},Gt=_.__private__.pdfEscape=_.pdfEscape=function(S,X){return(function(xe,Le){var Qe,st,xt,sr,or,Er,Or,rn,Zn;if(xt=(Le=Le||{}).sourceEncoding||"Unicode",or=Le.outputEncoding,(Le.autoencode||or)&&ft[Ht].metadata&&ft[Ht].metadata[xt]&&ft[Ht].metadata[xt].encoding&&(sr=ft[Ht].metadata[xt].encoding,!or&&ft[Ht].encoding&&(or=ft[Ht].encoding),!or&&sr.codePages&&(or=sr.codePages[0]),typeof or=="string"&&(or=sr[or]),or)){for(Or=!1,Er=[],Qe=0,st=xe.length;Qe<st;Qe++)(rn=or[xe.charCodeAt(Qe)])?Er.push(String.fromCharCode(rn)):Er.push(xe[Qe]),Er[Qe].charCodeAt(0)>>8&&(Or=!0);xe=Er.join("")}for(Qe=xe.length;Or===void 0&&Qe!==0;)xe.charCodeAt(Qe-1)>>8&&(Or=!0),Qe--;if(!Or)return xe;for(Er=Le.noBOM?[]:[254,255],Qe=0,st=xe.length;Qe<st;Qe++){if((Zn=(rn=xe.charCodeAt(Qe))>>8)>>8)throw new Error("Character at position "+Qe+" of string '"+xe+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Er.push(Zn),Er.push(rn-(Zn<<8))}return String.fromCharCode.apply(void 0,Er)})(S,X).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ur=_.__private__.beginPage=function(S){it[++Ye]=[],We[Ye]={objId:0,contentsObjId:0,userUnit:Number(d),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(S[0]),topRightY:Number(S[1])}},Fs(Ye),It(it[G])},Fr=function(S,X){var xe,Le,Qe;switch(t=X||t,typeof S=="string"&&(xe=C(S.toLowerCase()),Array.isArray(xe)&&(Le=xe[0],Qe=xe[1])),Array.isArray(S)&&(Le=S[0]*Vt,Qe=S[1]*Vt),isNaN(Le)&&(Le=a[0],Qe=a[1]),(Le>14400||Qe>14400)&&(Xn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Le=Math.min(14400,Le),Qe=Math.min(14400,Qe)),a=[Le,Qe],t.substr(0,1)){case"l":Qe>Le&&(a=[Qe,Le]);break;case"p":Le>Qe&&(a=[Qe,Le])}ur(a),jt(no),he(va),yl!==0&&he(yl+" J"),Ss!==0&&he(Ss+" j"),tt.publish("addPage",{pageNumber:Ye})},ln=function(S){S>0&&S<=Ye&&(it.splice(S,1),We.splice(S,1),Ye--,G>Ye&&(G=Ye),this.setPage(G))},Fs=function(S){S>0&&S<=Ye&&(G=S)},ps=_.__private__.getNumberOfPages=_.getNumberOfPages=function(){return it.length-1},Cs=function(S,X,xe){var Le,Qe=void 0;return xe=xe||{},S=S!==void 0?S:ft[Ht].fontName,X=X!==void 0?X:ft[Ht].fontStyle,Le=S.toLowerCase(),Lt[Le]!==void 0&&Lt[Le][X]!==void 0?Qe=Lt[Le][X]:Lt[S]!==void 0&&Lt[S][X]!==void 0?Qe=Lt[S][X]:xe.disableWarning===!1&&Xn.warn("Unable to look up font label for font '"+S+"', '"+X+"'. Refer to getFontList() for available fonts."),Qe||xe.noFallback||(Qe=Lt.times[X])==null&&(Qe=Lt.times.normal),Qe},br=_.__private__.putInfo=function(){var S=je(),X=function(Le){return Le};for(var xe in g!==null&&(X=St.encryptor(S,0)),he("<<"),he("/Producer ("+Gt(X("jsPDF "+yr.version))+")"),cr)cr.hasOwnProperty(xe)&&cr[xe]&&he("/"+xe.substr(0,1).toUpperCase()+xe.substr(1)+" ("+Gt(X(cr[xe]))+")");he("/CreationDate ("+Gt(X(ge))+")"),he(">>"),he("endobj")},Qr=_.__private__.putCatalog=function(S){var X=(S=S||{}).rootDictionaryObjId||jr;switch(je(),he("<<"),he("/Type /Catalog"),he("/Pages "+X+" 0 R"),Zt||(Zt="fullwidth"),Zt){case"fullwidth":he("/OpenAction [3 0 R /FitH null]");break;case"fullheight":he("/OpenAction [3 0 R /FitV null]");break;case"fullpage":he("/OpenAction [3 0 R /Fit]");break;case"original":he("/OpenAction [3 0 R /XYZ null null 1]");break;default:var xe=""+Zt;xe.substr(xe.length-1)==="%"&&(Zt=parseInt(Zt)/100),typeof Zt=="number"&&he("/OpenAction [3 0 R /XYZ null null "+K(Zt)+"]")}switch(mr||(mr="continuous"),mr){case"continuous":he("/PageLayout /OneColumn");break;case"single":he("/PageLayout /SinglePage");break;case"two":case"twoleft":he("/PageLayout /TwoColumnLeft");break;case"tworight":he("/PageLayout /TwoColumnRight")}Kt&&he("/PageMode /"+Kt),tt.publish("putCatalog"),he(">>"),he("endobj")},Jn=_.__private__.putTrailer=function(){he("trailer"),he("<<"),he("/Size "+(ce+1)),he("/Root "+ce+" 0 R"),he("/Info "+(ce-1)+" 0 R"),g!==null&&he("/Encrypt "+St.oid+" 0 R"),he("/ID [ <"+Y+"> <"+Y+"> ]"),he(">>")},_e=_.__private__.putHeader=function(){he("%PDF-"+k),he("%")},nt=_.__private__.putXRef=function(){var S="0000000000";he("xref"),he("0 "+(ce+1)),he("0000000000 65535 f ");for(var X=1;X<=ce;X++)typeof Be[X]=="function"?he((S+Be[X]()).slice(-10)+" 00000 n "):Be[X]!==void 0?he((S+Be[X]).slice(-10)+" 00000 n "):he("0000000000 00000 n ")},Ft=_.__private__.buildDocument=function(){var S;ce=0,Fe=0,Se=[],Be=[],He=[],jr=Me(),Gr=Me(),It(Se),tt.publish("buildDocument"),_e(),Ns(),(function(){tt.publish("putAdditionalObjects");for(var xe=0;xe<He.length;xe++){var Le=He[xe];$t(Le.objId,!0),he(Le.content),he("endobj")}tt.publish("postPutAdditionalObjects")})(),S=[],(function(){for(var xe in ft)ft.hasOwnProperty(xe)&&(b===!1||b===!0&&B.hasOwnProperty(xe))&&wr(ft[xe])})(),(function(){var xe;for(xe in Rt)Rt.hasOwnProperty(xe)&&se(Rt[xe])})(),(function(){for(var xe in zt)zt.hasOwnProperty(xe)&&xa(zt[xe])})(),(function(xe){var Le;for(Le in Et)Et.hasOwnProperty(Le)&&(Et[Le]instanceof Dc?fs(Et[Le]):Et[Le]instanceof Wu&&Zs(Et[Le],xe))})(S),tt.publish("putResources"),S.forEach(pt),pt({resourcesOid:Gr,objectOid:Number.MAX_SAFE_INTEGER}),tt.publish("postPutResources"),g!==null&&(St.oid=je(),he("<<"),he("/Filter /Standard"),he("/V "+St.v),he("/R "+St.r),he("/U <"+St.toHexString(St.U)+">"),he("/O <"+St.toHexString(St.O)+">"),he("/P "+St.P),he(">>"),he("endobj")),br(),Qr();var X=Fe;return nt(),Jn(),he("startxref"),he(""+X),he("%%EOF"),It(it[G]),Se.join(`
`)},rt=_.__private__.getBlob=function(S){return new Blob([yt(S)],{type:"application/pdf"})},Bt=_.output=_.__private__.output=(Pr=function(S,X){switch(typeof(X=X||{})=="string"?X={filename:X}:X.filename=X.filename||"generated.pdf",S){case void 0:return Ft();case"save":_.save(X.filename);break;case"arraybuffer":return yt(Ft());case"blob":return rt(Ft());case"bloburi":case"bloburl":if(Dr.URL!==void 0&&typeof Dr.URL.createObjectURL=="function")return Dr.URL&&Dr.URL.createObjectURL(rt(Ft()))||void 0;Xn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var xe="",Le=Ft();try{xe=T2(Le)}catch{xe=T2(unescape(encodeURIComponent(Le)))}return"data:application/pdf;filename="+X.filename+";base64,"+xe;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Dr)==="[object Window]"){var Qe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",st=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';X.pdfObjectUrl&&(Qe=X.pdfObjectUrl,st="");var xt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Qe+'"'+st+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(X)+");<\/script></body></html>",sr=Dr.open();return sr!==null&&sr.document.write(xt),sr}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Dr)==="[object Window]"){var or='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(X.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+X.filename+'" width="500px" height="400px" /></body></html>',Er=Dr.open();if(Er!==null){Er.document.write(or);var Or=this;Er.document.documentElement.querySelector("#pdfViewer").onload=function(){Er.document.title=X.filename,Er.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Or.output("bloburl"))}}return Er}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Dr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var rn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",X)+'"></iframe></body></html>',Zn=Dr.open();if(Zn!==null&&(Zn.document.write(rn),Zn.document.title=X.filename),Zn||typeof safari>"u")return Zn;break;case"datauri":case"dataurl":return Dr.document.location.href=this.output("datauristring",X);default:return null}},Pr.foo=function(){try{return Pr.apply(this,arguments)}catch(xe){var S=xe.stack||"";~S.indexOf(" at ")&&(S=S.split(" at ")[1]);var X="Error in function "+S.split(`
`)[0].split("<")[0]+": "+xe.message;if(!Dr.console)throw new Error(X);Dr.console.error(X,xe),Dr.alert&&alert(X)}},Pr.foo.bar=Pr,Pr.foo),Nt=function(S){return Array.isArray(Tt)===!0&&Tt.indexOf(S)>-1};switch(n){case"pt":Vt=1;break;case"mm":Vt=72/25.4;break;case"cm":Vt=72/2.54;break;case"in":Vt=72;break;case"px":Vt=Nt("px_scaling")==1?.75:96/72;break;case"pc":case"em":Vt=12;break;case"ex":Vt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Vt=n}var St=null;V(),z();var nr=_.__private__.getPageInfo=_.getPageInfo=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:We[S].objId,pageNumber:S,pageContext:We[S]}},tn=_.__private__.getPageInfoByObjId=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var X in We)if(We[X].objId===S)break;return nr(X)},Hr=_.__private__.getCurrentPageInfo=_.getCurrentPageInfo=function(){return{objId:We[G].objId,pageNumber:G,pageContext:We[G]}};_.addPage=function(){return Fr.apply(this,arguments),this},_.setPage=function(){return Fs.apply(this,arguments),It.call(this,it[G]),this},_.insertPage=function(S){return this.addPage(),this.movePage(G,S),this},_.movePage=function(S,X){var xe,Le;if(S>X){xe=it[S],Le=We[S];for(var Qe=S;Qe>X;Qe--)it[Qe]=it[Qe-1],We[Qe]=We[Qe-1];it[X]=xe,We[X]=Le,this.setPage(X)}else if(S<X){xe=it[S],Le=We[S];for(var st=S;st<X;st++)it[st]=it[st+1],We[st]=We[st+1];it[X]=xe,We[X]=Le,this.setPage(X)}return this},_.deletePage=function(){return ln.apply(this,arguments),this},_.__private__.text=_.text=function(S,X,xe,Le,Qe){var st,xt,sr,or,Er,Or,rn,Zn,as,_n=(Le=Le||{}).scope||this;if(typeof S=="number"&&typeof X=="number"&&(typeof xe=="string"||Array.isArray(xe))){var js=xe;xe=X,X=S,S=js}if(arguments[3]instanceof vt==0?(sr=arguments[4],or=arguments[5],Rn(rn=arguments[3])==="object"&&rn!==null||(typeof sr=="string"&&(or=sr,sr=null),typeof rn=="string"&&(or=rn,rn=null),typeof rn=="number"&&(sr=rn,rn=null),Le={flags:rn,angle:sr,align:or})):(H("The transform parameter of text() with a Matrix value"),as=Qe),isNaN(X)||isNaN(xe)||S==null)throw new Error("Invalid arguments passed to jsPDF.text");if(S.length===0)return _n;var is,Qs="",oi=typeof Le.lineHeightFactor=="number"?Le.lineHeightFactor:Ui,Ys=_n.internal.scaleFactor;function io(hn){return hn=hn.split("	").join(Array(Le.TabLen||9).join(" ")),Gt(hn,rn)}function oo(hn){for(var nn,Un=hn.concat(),es=[],Pi=Un.length;Pi--;)typeof(nn=Un.shift())=="string"?es.push(nn):Array.isArray(hn)&&(nn.length===1||nn[1]===void 0&&nn[2]===void 0)?es.push(nn[0]):es.push([nn[0],nn[1],nn[2]]);return es}function Xs(hn,nn){var Un;if(typeof hn=="string")Un=nn(hn)[0];else if(Array.isArray(hn)){for(var es,Pi,xs=hn.concat(),Hi=[],sA=xs.length;sA--;)typeof(es=xs.shift())=="string"?Hi.push(nn(es)[0]):Array.isArray(es)&&typeof es[0]=="string"&&(Pi=nn(es[0],es[1],es[2]),Hi.push([Pi[0],Pi[1],Pi[2]]));Un=Hi}return Un}var Ci=!1,li=!0;if(typeof S=="string")Ci=!0;else if(Array.isArray(S)){var Yo=S.concat();xt=[];for(var Ei,ms=Yo.length;ms--;)(typeof(Ei=Yo.shift())!="string"||Array.isArray(Ei)&&typeof Ei[0]!="string")&&(li=!1);Ci=li}if(Ci===!1)throw new Error('Type of text must be string or Array. "'+S+'" is not recognized.');typeof S=="string"&&(S=S.match(/[\r?\n]/)?S.split(/\r\n|\r|\n/g):[S]);var jo=$e/_n.internal.scaleFactor,ko=jo*(oi-1);switch(Le.baseline){case"bottom":xe-=ko;break;case"top":xe+=jo-ko;break;case"hanging":xe+=jo-2*ko;break;case"middle":xe+=jo/2-ko}if((Or=Le.maxWidth||0)>0&&(typeof S=="string"?S=_n.splitTextToSize(S,Or):Object.prototype.toString.call(S)==="[object Array]"&&(S=S.reduce(function(hn,nn){return hn.concat(_n.splitTextToSize(nn,Or))},[]))),st={text:S,x:X,y:xe,options:Le,mutex:{pdfEscape:Gt,activeFontKey:Ht,fonts:ft,activeFontSize:$e}},tt.publish("preProcessText",st),S=st.text,sr=(Le=st.options).angle,as instanceof vt==0&&sr&&typeof sr=="number"){sr*=Math.PI/180,Le.rotationDirection===0&&(sr=-sr),R===F&&(sr=-sr);var Xo=Math.cos(sr),Qi=Math.sin(sr);as=new vt(Xo,Qi,-Qi,Xo,0,0)}else sr&&sr instanceof vt&&(as=sr);R!==F||as||(as=fr),(Er=Le.charSpace||Ha)!==void 0&&(Qs+=ee(re(Er))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Zn=Le.horizontalScale)!==void 0&&(Qs+=ee(100*Zn)+` Tz
`),Le.lang;var Qn=-1,Ua=Le.renderingMode!==void 0?Le.renderingMode:Le.stroke,wl=_n.internal.getCurrentPageInfo().pageContext;switch(Ua){case 0:case!1:case"fill":Qn=0;break;case 1:case!0:case"stroke":Qn=1;break;case 2:case"fillThenStroke":Qn=2;break;case 3:case"invisible":Qn=3;break;case 4:case"fillAndAddForClipping":Qn=4;break;case 5:case"strokeAndAddPathForClipping":Qn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Qn=6;break;case 7:case"addToPathForClipping":Qn=7}var qa=wl.usedRenderingMode!==void 0?wl.usedRenderingMode:-1;Qn!==-1?Qs+=Qn+` Tr
`:qa!==-1&&(Qs+=`0 Tr
`),Qn!==-1&&(wl.usedRenderingMode=Qn),or=Le.align||"left";var Ka,ca=$e*oi,lo=_n.internal.pageSize.getWidth(),Ao=ft[Ht];Er=Le.charSpace||Ha,Or=Le.maxWidth||0,rn=Object.assign({autoencode:!0,noBOM:!0},Le.flags);var Ai=[],Si=function(hn){return _n.getStringUnitWidth(hn,{font:Ao,charSpace:Er,fontSize:$e,doKerning:!1})*$e/Ys};if(Object.prototype.toString.call(S)==="[object Array]"){var Ta;xt=oo(S),or!=="left"&&(Ka=xt.map(Si));var Wn,Ga=0;if(or==="right"){X-=Ka[0],S=[],ms=xt.length;for(var Ii=0;Ii<ms;Ii++)Ii===0?(Wn=ba(X),Ta=Es(xe)):(Wn=re(Ga-Ka[Ii]),Ta=-ca),S.push([xt[Ii],Wn,Ta]),Ga=Ka[Ii]}else if(or==="center"){X-=Ka[0]/2,S=[],ms=xt.length;for(var Li=0;Li<ms;Li++)Li===0?(Wn=ba(X),Ta=Es(xe)):(Wn=re((Ga-Ka[Li])/2),Ta=-ca),S.push([xt[Li],Wn,Ta]),Ga=Ka[Li]}else if(or==="left"){S=[],ms=xt.length;for(var _l=0;_l<ms;_l++)S.push(xt[_l])}else if(or==="justify"&&Ao.encoding==="Identity-H"){S=[],ms=xt.length,Or=Or!==0?Or:lo;for(var Fa=0,os=0;os<ms;os++)if(Ta=os===0?Es(xe):-ca,Wn=os===0?ba(X):Fa,os<ms-1){var co=re((Or-Ka[os])/(xt[os].split(" ").length-1)),Oi=xt[os].split(" ");S.push([Oi[0]+" ",Wn,Ta]),Fa=0;for(var Is=1;Is<Oi.length;Is++){var gs=(Si(Oi[Is-1]+" "+Oi[Is])-Si(Oi[Is]))*Ys+co;Is==Oi.length-1?S.push([Oi[Is],gs,0]):S.push([Oi[Is]+" ",gs,0]),Fa-=gs}}else S.push([xt[os],Wn,Ta]);S.push(["",Fa,0])}else{if(or!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(S=[],ms=xt.length,Or=Or!==0?Or:lo,os=0;os<ms;os++){Ta=os===0?Es(xe):-ca,Wn=os===0?ba(X):0;var Mi=xt[os].split(" ").length-1,Uo=Mi>0?(Or-Ka[os])/Mi:0;os<ms-1?Ai.push(ee(re(Uo))):Ai.push(0),S.push([xt[os],Wn,Ta])}}}(typeof Le.R2L=="boolean"?Le.R2L:kt)===!0&&(S=Xs(S,function(hn,nn,Un){return[hn.split("").reverse().join(""),nn,Un]})),st={text:S,x:X,y:xe,options:Le,mutex:{pdfEscape:Gt,activeFontKey:Ht,fonts:ft,activeFontSize:$e}},tt.publish("postProcessText",st),S=st.text,is=st.mutex.isHex||!1;var uo=ft[Ht].encoding;uo!=="WinAnsiEncoding"&&uo!=="StandardEncoding"||(S=Xs(S,function(hn,nn,Un){return[io(hn),nn,Un]})),xt=oo(S),S=[];for(var ji,ci,ya,Di=Array.isArray(xt[0])?1:0,wa="",Ri=function(hn,nn,Un){var es="";return Un instanceof vt?(Un=typeof Le.angle=="number"?Rr(Un,new vt(1,0,0,1,hn,nn)):Rr(new vt(1,0,0,1,hn,nn),Un),R===F&&(Un=Rr(new vt(1,0,0,-1,0,0),Un)),es=Un.join(" ")+` Tm
`):es=ee(hn)+" "+ee(nn)+` Td
`,es},ua=0;ua<xt.length;ua++){switch(wa="",Di){case 1:ya=(is?"<":"(")+xt[ua][0]+(is?">":")"),ji=parseFloat(xt[ua][1]),ci=parseFloat(xt[ua][2]);break;case 0:ya=(is?"<":"(")+xt[ua]+(is?">":")"),ji=ba(X),ci=Es(xe)}Ai!==void 0&&Ai[ua]!==void 0&&(wa=Ai[ua]+` Tw
`),ua===0?S.push(wa+Ri(ji,ci,as)+ya):Di===0?S.push(wa+ya):Di===1&&S.push(wa+Ri(ji,ci,as)+ya)}S=Di===0?S.join(` Tj
T* `):S.join(` Tj
`),S+=` Tj
`;var _a=`BT
/`;return _a+=Ht+" "+$e+` Tf
`,_a+=ee($e*oi)+` TL
`,_a+=kn+`
`,_a+=Qs,_a+=S,he(_a+="ET"),B[Ht]=!0,_n};var ss=_.__private__.clip=_.clip=function(S){return he(S==="evenodd"?"W*":"W"),this};_.clipEvenOdd=function(){return ss("evenodd")},_.__private__.discardPath=_.discardPath=function(){return he("n"),this};var Cr=_.__private__.isValidStyle=function(S){var X=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(S)!==-1&&(X=!0),X};_.__private__.setDefaultPathOperation=_.setDefaultPathOperation=function(S){return Cr(S)&&(m=S),this};var la=_.__private__.getStyle=_.getStyle=function(S){var X=m;switch(S){case"D":case"S":X="S";break;case"F":X="f";break;case"FD":case"DF":X="B";break;case"f":case"f*":case"B":case"B*":X=S}return X},si=_.close=function(){return he("h"),this};_.stroke=function(){return he("S"),this},_.fill=function(S){return $s("f",S),this},_.fillEvenOdd=function(S){return $s("f*",S),this},_.fillStroke=function(S){return $s("B",S),this},_.fillStrokeEvenOdd=function(S){return $s("B*",S),this};var $s=function(S,X){Rn(X)==="object"?bl(X,S):he(S)},_i=function(S){S===null||R===F&&S===void 0||(S=la(S),he(S))};function Co(S,X,xe,Le,Qe){var st=new Wu(X||this.boundingBox,xe||this.xStep,Le||this.yStep,this.gState,Qe||this.matrix);st.stream=this.stream;var xt=S+"$$"+this.cloneIndex+++"$$";return pr(xt,st),st}var bl=function(S,X){var xe=xr[S.key],Le=Et[xe];if(Le instanceof Dc)he("q"),he(Go(X)),Le.gState&&_.setGState(Le.gState),he(S.matrix.toString()+" cm"),he("/"+xe+" sh"),he("Q");else if(Le instanceof Wu){var Qe=new vt(1,0,0,-1,0,ao());S.matrix&&(Qe=Qe.multiply(S.matrix||fr),xe=Co.call(Le,S.key,S.boundingBox,S.xStep,S.yStep,Qe).id),he("q"),he("/Pattern cs"),he("/"+xe+" scn"),Le.gState&&_.setGState(Le.gState),he(X),he("Q")}},Go=function(S){switch(S){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Eo=_.moveTo=function(S,X){return he(ee(re(S))+" "+ee(le(X))+" m"),this},vl=_.lineTo=function(S,X){return he(ee(re(S))+" "+ee(le(X))+" l"),this},Aa=_.curveTo=function(S,X,xe,Le,Qe,st){return he([ee(re(S)),ee(le(X)),ee(re(xe)),ee(le(Le)),ee(re(Qe)),ee(le(st)),"c"].join(" ")),this};_.__private__.line=_.line=function(S,X,xe,Le,Qe){if(isNaN(S)||isNaN(X)||isNaN(xe)||isNaN(Le)||!Cr(Qe))throw new Error("Invalid arguments passed to jsPDF.line");return R===I?this.lines([[xe-S,Le-X]],S,X,[1,1],Qe||"S"):this.lines([[xe-S,Le-X]],S,X,[1,1]).stroke()},_.__private__.lines=_.lines=function(S,X,xe,Le,Qe,st){var xt,sr,or,Er,Or,rn,Zn,as,_n,js,is,Qs;if(typeof S=="number"&&(Qs=xe,xe=X,X=S,S=Qs),Le=Le||[1,1],st=st||!1,isNaN(X)||isNaN(xe)||!Array.isArray(S)||!Array.isArray(Le)||!Cr(Qe)||typeof st!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Eo(X,xe),xt=Le[0],sr=Le[1],Er=S.length,js=X,is=xe,or=0;or<Er;or++)(Or=S[or]).length===2?(js=Or[0]*xt+js,is=Or[1]*sr+is,vl(js,is)):(rn=Or[0]*xt+js,Zn=Or[1]*sr+is,as=Or[2]*xt+js,_n=Or[3]*sr+is,js=Or[4]*xt+js,is=Or[5]*sr+is,Aa(rn,Zn,as,_n,js,is));return st&&si(),_i(Qe),this},_.path=function(S){for(var X=0;X<S.length;X++){var xe=S[X],Le=xe.c;switch(xe.op){case"m":Eo(Le[0],Le[1]);break;case"l":vl(Le[0],Le[1]);break;case"c":Aa.apply(this,Le);break;case"h":si()}}return this},_.__private__.rect=_.rect=function(S,X,xe,Le,Qe){if(isNaN(S)||isNaN(X)||isNaN(xe)||isNaN(Le)||!Cr(Qe))throw new Error("Invalid arguments passed to jsPDF.rect");return R===I&&(Le=-Le),he([ee(re(S)),ee(le(X)),ee(re(xe)),ee(re(Le)),"re"].join(" ")),_i(Qe),this},_.__private__.triangle=_.triangle=function(S,X,xe,Le,Qe,st,xt){if(isNaN(S)||isNaN(X)||isNaN(xe)||isNaN(Le)||isNaN(Qe)||isNaN(st)||!Cr(xt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[xe-S,Le-X],[Qe-xe,st-Le],[S-Qe,X-st]],S,X,[1,1],xt,!0),this},_.__private__.roundedRect=_.roundedRect=function(S,X,xe,Le,Qe,st,xt){if(isNaN(S)||isNaN(X)||isNaN(xe)||isNaN(Le)||isNaN(Qe)||isNaN(st)||!Cr(xt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var sr=4/3*(Math.SQRT2-1);return Qe=Math.min(Qe,.5*xe),st=Math.min(st,.5*Le),this.lines([[xe-2*Qe,0],[Qe*sr,0,Qe,st-st*sr,Qe,st],[0,Le-2*st],[0,st*sr,-Qe*sr,st,-Qe,st],[2*Qe-xe,0],[-Qe*sr,0,-Qe,-st*sr,-Qe,-st],[0,2*st-Le],[0,-st*sr,Qe*sr,-st,Qe,-st]],S+Qe,X,[1,1],xt,!0),this},_.__private__.ellipse=_.ellipse=function(S,X,xe,Le,Qe){if(isNaN(S)||isNaN(X)||isNaN(xe)||isNaN(Le)||!Cr(Qe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var st=4/3*(Math.SQRT2-1)*xe,xt=4/3*(Math.SQRT2-1)*Le;return Eo(S+xe,X),Aa(S+xe,X-xt,S+st,X-Le,S,X-Le),Aa(S-st,X-Le,S-xe,X-xt,S-xe,X),Aa(S-xe,X+xt,S-st,X+Le,S,X+Le),Aa(S+st,X+Le,S+xe,X+xt,S+xe,X),_i(Qe),this},_.__private__.circle=_.circle=function(S,X,xe,Le){if(isNaN(S)||isNaN(X)||isNaN(xe)||!Cr(Le))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(S,X,xe,xe,Le)},_.setFont=function(S,X,xe){return xe&&(X=me(X,xe)),Ht=Cs(S,X,{disableWarning:!1}),this};var ka=_.__private__.getFont=_.getFont=function(){return ft[Cs.apply(_,arguments)]};_.__private__.getFontList=_.getFontList=function(){var S,X,xe={};for(S in Lt)if(Lt.hasOwnProperty(S))for(X in xe[S]=[],Lt[S])Lt[S].hasOwnProperty(X)&&xe[S].push(X);return xe},_.addFont=function(S,X,xe,Le,Qe){var st=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&st.indexOf(arguments[3])!==-1?Qe=arguments[3]:arguments[3]&&st.indexOf(arguments[3])==-1&&(xe=me(xe,Le)),ut.call(this,S,X,xe,Qe=Qe||"Identity-H")};var Ui,no=r.lineWidth||.200025,So=_.__private__.getLineWidth=_.getLineWidth=function(){return no},jt=_.__private__.setLineWidth=_.setLineWidth=function(S){return no=S,he(ee(re(S))+" w"),this};_.__private__.setLineDash=yr.API.setLineDash=yr.API.setLineDashPattern=function(S,X){if(S=S||[],X=X||0,isNaN(X)||!Array.isArray(S))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return S=S.map(function(xe){return ee(re(xe))}).join(" "),X=ee(re(X)),he("["+S+"] "+X+" d"),this};var Ra=_.__private__.getLineHeight=_.getLineHeight=function(){return $e*Ui};_.__private__.getLineHeight=_.getLineHeight=function(){return $e*Ui};var pn=_.__private__.setLineHeightFactor=_.setLineHeightFactor=function(S){return typeof(S=S||1.15)=="number"&&(Ui=S),this},tA=_.__private__.getLineHeightFactor=_.getLineHeightFactor=function(){return Ui};pn(r.lineHeight);var ba=_.__private__.getHorizontalCoordinate=function(S){return re(S)},Es=_.__private__.getVerticalCoordinate=function(S){return R===F?S:We[G].mediaBox.topRightY-We[G].mediaBox.bottomLeftY-re(S)},Vo=_.__private__.getHorizontalCoordinateString=_.getHorizontalCoordinateString=function(S){return ee(ba(S))},Pa=_.__private__.getVerticalCoordinateString=_.getVerticalCoordinateString=function(S){return ee(Es(S))},va=r.strokeColor||"0 G";_.__private__.getStrokeColor=_.getDrawColor=function(){return Xr(va)},_.__private__.setStrokeColor=_.setDrawColor=function(S,X,xe,Le){return va=Fn({ch1:S,ch2:X,ch3:xe,ch4:Le,pdfColorType:"draw",precision:2}),he(va),this};var Bi=r.fillColor||"0 g";_.__private__.getFillColor=_.getFillColor=function(){return Xr(Bi)},_.__private__.setFillColor=_.setFillColor=function(S,X,xe,Le){return Bi=Fn({ch1:S,ch2:X,ch3:xe,ch4:Le,pdfColorType:"fill",precision:2}),he(Bi),this};var kn=r.textColor||"0 g",Ti=_.__private__.getTextColor=_.getTextColor=function(){return Xr(kn)};_.__private__.setTextColor=_.setTextColor=function(S,X,xe,Le){return kn=Fn({ch1:S,ch2:X,ch3:xe,ch4:Le,pdfColorType:"text",precision:3}),this};var Ha=r.charSpace,Zo=_.__private__.getCharSpace=_.getCharSpace=function(){return parseFloat(Ha||0)};_.__private__.setCharSpace=_.setCharSpace=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ha=S,this};var yl=0;_.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},_.__private__.setLineCap=_.setLineCap=function(S){var X=_.CapJoinStyles[S];if(X===void 0)throw new Error("Line cap style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return yl=X,he(X+" J"),this};var Ss=0;_.__private__.setLineJoin=_.setLineJoin=function(S){var X=_.CapJoinStyles[S];if(X===void 0)throw new Error("Line join style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ss=X,he(X+" j"),this},_.__private__.setLineMiterLimit=_.__private__.setMiterLimit=_.setLineMiterLimit=_.setMiterLimit=function(S){if(S=S||0,isNaN(S))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return he(ee(re(S))+" M"),this},_.GState=im,_.setGState=function(S){(S=typeof S=="string"?Rt[de[S]]:ai(null,S)).equals(Ke)||(he("/"+S.id+" gs"),Ke=S)};var ai=function(S,X){if(!S||!de[S]){var xe=!1;for(var Le in Rt)if(Rt.hasOwnProperty(Le)&&Rt[Le].equals(X)){xe=!0;break}if(xe)X=Rt[Le];else{var Qe="GS"+(Object.keys(Rt).length+1).toString(10);Rt[Qe]=X,X.id=Qe}return S&&(de[S]=X.id),tt.publish("addGState",X),X}};_.addGState=function(S,X){return ai(S,X),this},_.saveGraphicsState=function(){return he("q"),Ut.push({key:Ht,size:$e,color:kn}),this},_.restoreGraphicsState=function(){he("Q");var S=Ut.pop();return Ht=S.key,$e=S.size,kn=S.color,Ke=null,this},_.setCurrentTransformationMatrix=function(S){return he(S.toString()+" cm"),this},_.comment=function(S){return he("#"+S),this};var ii=function(S,X){var xe=S||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return xe},set:function(st){isNaN(st)||(xe=parseFloat(st))}});var Le=X||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Le},set:function(st){isNaN(st)||(Le=parseFloat(st))}});var Qe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Qe},set:function(st){Qe=st.toString()}}),this},Fi=function(S,X,xe,Le){ii.call(this,S,X),this.type="rect";var Qe=xe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Qe},set:function(xt){isNaN(xt)||(Qe=parseFloat(xt))}});var st=Le||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return st},set:function(xt){isNaN(xt)||(st=parseFloat(xt))}}),this},Vr=function(){this.page=Ye,this.currentPage=G,this.pages=it.slice(0),this.pagesContext=We.slice(0),this.x=Dt,this.y=Ne,this.matrix=et,this.width=za(G),this.height=rA(G),this.outputDestination=_t,this.id="",this.objectNumber=-1};Vr.prototype.restore=function(){Ye=this.page,G=this.currentPage,We=this.pagesContext,it=this.pages,Dt=this.x,Ne=this.y,et=this.matrix,Lo(G,this.width),Ni(G,this.height),_t=this.outputDestination};var $o=function(S,X,xe,Le,Qe){Lr.push(new Vr),Ye=G=0,it=[],Dt=S,Ne=X,et=Qe,ur([xe,Le])};for(var Ls in _.beginFormObject=function(S,X,xe,Le,Qe){return $o(S,X,xe,Le,Qe),this},_.endFormObject=function(S){return(function(X){if(Wt[X])Lr.pop().restore();else{var xe=new Vr,Le="Xo"+(Object.keys(zt).length+1).toString(10);xe.id=Le,Wt[X]=Le,zt[Le]=xe,tt.publish("addFormObject",xe),Lr.pop().restore()}})(S),this},_.doFormObject=function(S,X){var xe=zt[Wt[S]];return he("q"),he(X.toString()+" cm"),he("/"+xe.id+" Do"),he("Q"),this},_.getFormObject=function(S){var X=zt[Wt[S]];return{x:X.x,y:X.y,width:X.width,height:X.height,matrix:X.matrix}},_.save=function(S,X){return S=S||"generated.pdf",(X=X||{}).returnPromise=X.returnPromise||!1,X.returnPromise===!1?(Qc(rt(Ft()),S),typeof Qc.unload=="function"&&Dr.setTimeout&&setTimeout(Qc.unload,911),this):new Promise(function(xe,Le){try{var Qe=Qc(rt(Ft()),S);typeof Qc.unload=="function"&&Dr.setTimeout&&setTimeout(Qc.unload,911),xe(Qe)}catch(st){Le(st.message)}})},yr.API)yr.API.hasOwnProperty(Ls)&&(Ls==="events"&&yr.API.events.length?(function(S,X){var xe,Le,Qe;for(Qe=X.length-1;Qe!==-1;Qe--)xe=X[Qe][0],Le=X[Qe][1],S.subscribe.apply(S,[xe].concat(typeof Le=="function"?[Le]:Le))})(tt,yr.API.events):_[Ls]=yr.API[Ls]);function za(S){return We[S].mediaBox.topRightX-We[S].mediaBox.bottomLeftX}function Lo(S,X){We[S].mediaBox.topRightX=X+We[S].mediaBox.bottomLeftX}function rA(S){return We[S].mediaBox.topRightY-We[S].mediaBox.bottomLeftY}function Ni(S,X){We[S].mediaBox.topRightY=X+We[S].mediaBox.bottomLeftY}var so=_.getPageWidth=function(S){return za(S=S||G)/Vt},nA=_.setPageWidth=function(S,X){Lo(S,X*Vt)},ao=_.getPageHeight=function(S){return rA(S=S||G)/Vt},FA=_.setPageHeight=function(S,X){Ni(S,X*Vt)};return _.internal={pdfEscape:Gt,getStyle:la,getFont:ka,getFontSize:Qt,getCharSpace:Zo,getTextColor:Ti,getLineHeight:Ra,getLineHeightFactor:tA,getLineWidth:So,write:ct,getHorizontalCoordinate:ba,getVerticalCoordinate:Es,getCoordinateString:Vo,getVerticalCoordinateString:Pa,collections:{},newObject:je,newAdditionalObject:Ir,newObjectDeferred:Me,newObjectDeferredBegin:$t,getFilters:wn,putStream:Hn,events:tt,scaleFactor:Vt,pageSize:{getWidth:function(){return so(G)},setWidth:function(S){nA(G,S)},getHeight:function(){return ao(G)},setHeight:function(S){FA(G,S)}},encryptionOptions:g,encryption:St,getEncryptor:function(S){return g!==null?St.encryptor(S,0):function(X){return X}},output:Bt,getNumberOfPages:ps,get pages(){return it},out:he,f2:K,f3:$,getPageInfo:nr,getPageInfoByObjId:tn,getCurrentPageInfo:Hr,getPDFVersion:j,Point:ii,Rectangle:Fi,Matrix:vt,hasHotfix:Nt},Object.defineProperty(_.internal.pageSize,"width",{get:function(){return so(G)},set:function(S){nA(G,S)},enumerable:!0,configurable:!0}),Object.defineProperty(_.internal.pageSize,"height",{get:function(){return ao(G)},set:function(S){FA(G,S)},enumerable:!0,configurable:!0}),(function(S){for(var X=0,xe=qt.length;X<xe;X++){var Le=ut.call(this,S[X][0],S[X][1],S[X][2],qt[X][3],!0);b===!1&&(B[Le]=!0);var Qe=S[X][0].split("-");bt({id:Le,fontName:Qe[0],fontStyle:Qe[1]||""})}tt.publish("addFonts",{fonts:ft,dictionary:Lt})}).call(_,qt),Ht="F1",Fr(a,t),tt.publish("initialized"),_}Vu.prototype.lsbFirstWord=function(r){return String.fromCharCode(255&r,r>>8&255,r>>16&255,r>>24&255)},Vu.prototype.toHexString=function(r){return r.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Vu.prototype.hexToBytes=function(r){for(var e=[],t=0;t<r.length;t+=2)e.push(String.fromCharCode(parseInt(r.substr(t,2),16)));return e.join("")},Vu.prototype.processOwnerPassword=function(r,e){return tb(eb(e).substr(0,5),r)},Vu.prototype.encryptor=function(r,e){var t=eb(this.encryptionKey+String.fromCharCode(255&r,r>>8&255,r>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return tb(t,n)}},im.prototype.equals=function(r){var e,t="id,objectNumber,equals";if(!r||Rn(r)!==Rn(this))return!1;var n=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!r.hasOwnProperty(e)||this[e]!==r[e])return!1;n++}for(e in r)r.hasOwnProperty(e)&&t.indexOf(e)<0&&n--;return n===0},yr.API={events:[]},yr.version="3.0.4";var qs=yr.API,Vb=1,tu=function(r){return r.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Qu=function(r){return r.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Kr=function(r){return r.toFixed(2)},sc=function(r){return r.toFixed(5)};qs.__acroform__={};var ro=function(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r},O2=function(r){return r*Vb},Kl=function(r){var e=new gN,t=hr.internal.getHeight(r)||0,n=hr.internal.getWidth(r)||0;return e.BBox=[0,0,Number(Kr(n)),Number(Kr(t))],e},CQ=qs.__acroform__.setBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return r|1<<e},EQ=qs.__acroform__.clearBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return r&~(1<<e)},SQ=qs.__acroform__.getBit=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return r&1<<e?1:0},aa=qs.__acroform__.getBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return SQ(r,e-1)},ia=qs.__acroform__.setBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return CQ(r,e-1)},oa=qs.__acroform__.clearBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return EQ(r,e-1)},LQ=qs.__acroform__.calculateCoordinates=function(r,e){var t=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,a=r[0],o=r[1],c=r[2],d=r[3],h={};return h.lowerLeft_X=t(a)||0,h.lowerLeft_Y=n(o+d)||0,h.upperRight_X=t(a+c)||0,h.upperRight_Y=n(o)||0,[Number(Kr(h.lowerLeft_X)),Number(Kr(h.lowerLeft_Y)),Number(Kr(h.upperRight_X)),Number(Kr(h.upperRight_Y))]},jQ=function(r){if(r.appearanceStreamContent)return r.appearanceStreamContent;if(r.V||r.DV){var e=[],t=r._V||r.DV,n=rb(r,t),a=r.scope.internal.getFont(r.fontName,r.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(r.scope.__private__.encodeColorString(r.color)),e.push("/"+a+" "+Kr(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=Kl(r);return o.scope=r.scope,o.stream=e.join(`
`),o}},rb=function(r,e){var t=r.fontSize===0?r.maxFontSize:r.fontSize,n={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=r.multiline?a.map(function(K){return K.split(`
`)}):a.map(function(K){return[K]});var o=t,c=hr.internal.getHeight(r)||0;c=c<0?-c:c;var d=hr.internal.getWidth(r)||0;d=d<0?-d:d;var h=function(K,$,re){if(K+1<a.length){var le=$+" "+a[K+1][0];return hp(le,r,re).width<=d-4}return!1};o++;e:for(;o>0;){e="",o--;var m,g,b=hp("3",r,o).height,B=r.multiline?c-o:(c-b)/2,_=B+=2,k=0,j=0,T=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+hp(e,r,o=12).width+", FieldWidth:"+d+`
`;break}for(var C="",I=0,F=0;F<a.length;F++)if(a.hasOwnProperty(F)){var R=!1;if(a[F].length!==1&&T!==a[F].length-1){if((b+2)*(I+2)+2>c)continue e;C+=a[F][T],R=!0,j=F,F--}else{C=(C+=a[F][T]+" ").substr(C.length-1)==" "?C.substr(0,C.length-1):C;var ae=parseInt(F),Z=h(ae,C,o),me=F>=a.length-1;if(Z&&!me){C+=" ",T=0;continue}if(Z||me){if(me)j=ae;else if(r.multiline&&(b+2)*(I+2)+2>c)continue e}else{if(!r.multiline||(b+2)*(I+2)+2>c)continue e;j=ae}}for(var ee="",H=k;H<=j;H++){var W=a[H];if(r.multiline){if(H===j){ee+=W[T]+" ",T=(T+1)%W.length;continue}if(H===k){ee+=W[W.length-1]+" ";continue}}ee+=W[0]+" "}switch(ee=ee.substr(ee.length-1)==" "?ee.substr(0,ee.length-1):ee,g=hp(ee,r,o).width,r.textAlign){case"right":m=d-g-2;break;case"center":m=(d-g)/2;break;default:m=2}e+=Kr(m)+" "+Kr(_)+` Td
`,e+="("+tu(ee)+`) Tj
`,e+=-Kr(m)+` 0 Td
`,_=-(o+2),g=0,k=R?j:j+1,I++,C=""}break}return n.text=e,n.fontSize=o,n},hp=function(r,e,t){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(r,{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:a}},kQ={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},UQ=function(r,e){var t={type:"reference",object:r};e.internal.getPageInfo(r.page).pageContext.annotations.find(function(n){return n.type===t.type&&n.object===t.object})===void 0&&e.internal.getPageInfo(r.page).pageContext.annotations.push(t)},TQ=function(r,e){if(e.scope=r,r.internal!==void 0&&(r.internal.acroformPlugin===void 0||r.internal.acroformPlugin.isInitialized===!1)){if(ml.FieldNum=0,r.internal.acroformPlugin=JSON.parse(JSON.stringify(kQ)),r.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Vb=r.internal.scaleFactor,r.internal.acroformPlugin.acroFormDictionaryRoot=new xN,r.internal.acroformPlugin.acroFormDictionaryRoot.scope=r,r.internal.acroformPlugin.acroFormDictionaryRoot._eventID=r.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(r)}),r.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var o=n[a];o.objId=void 0,o.hasAnnotation&&UQ(o,t)}})(r)}),r.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(r)}),r.internal.events.subscribe("postPutPages",function(t){(function(n,a){var o=!n;for(var c in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(c)){var d=n[c],h=[],m=d.Rect;if(d.Rect&&(d.Rect=LQ(d.Rect,a)),a.internal.newObjectDeferredBegin(d.objId,!0),d.DA=hr.createDefaultAppearanceStream(d),Rn(d)==="object"&&typeof d.getKeyValueListForStream=="function"&&(h=d.getKeyValueListForStream()),d.Rect=m,d.hasAppearanceStream&&!d.appearanceStreamContent){var g=jQ(d);h.push({key:"AP",value:"<</N "+g+">>"}),a.internal.acroformPlugin.xForms.push(g)}if(d.appearanceStreamContent){var b="";for(var B in d.appearanceStreamContent)if(d.appearanceStreamContent.hasOwnProperty(B)){var _=d.appearanceStreamContent[B];if(b+="/"+B+" ",b+="<<",Object.keys(_).length>=1||Array.isArray(_)){for(var c in _)if(_.hasOwnProperty(c)){var k=_[c];typeof k=="function"&&(k=k.call(a,d)),b+="/"+c+" "+k+" ",a.internal.acroformPlugin.xForms.indexOf(k)>=0||a.internal.acroformPlugin.xForms.push(k)}}else typeof(k=_)=="function"&&(k=k.call(a,d)),b+="/"+c+" "+k,a.internal.acroformPlugin.xForms.indexOf(k)>=0||a.internal.acroformPlugin.xForms.push(k);b+=">>"}h.push({key:"AP",value:`<<
`+b+">>"})}a.internal.putStream({additionalKeyValues:h,objectId:d.objId}),a.internal.out("endobj")}o&&(function(j,T){for(var C in j)if(j.hasOwnProperty(C)){var I=C,F=j[C];T.internal.newObjectDeferredBegin(F.objId,!0),Rn(F)==="object"&&typeof F.putStream=="function"&&F.putStream(),delete j[I]}})(a.internal.acroformPlugin.xForms,a)})(t,r)}),r.internal.acroformPlugin.isInitialized=!0}},mN=qs.__acroform__.arrayToPdfArray=function(r,e,t){var n=function(c){return c};if(Array.isArray(r)){for(var a="[",o=0;o<r.length;o++)switch(o!==0&&(a+=" "),Rn(r[o])){case"boolean":case"number":case"object":a+=r[o].toString();break;case"string":r[o].substr(0,1)!=="/"?(e!==void 0&&t&&(n=t.internal.getEncryptor(e)),a+="("+tu(n(r[o].toString()))+")"):a+=r[o].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},z0=function(r,e,t){var n=function(a){return a};return e!==void 0&&t&&(n=t.internal.getEncryptor(e)),(r=r||"").toString(),"("+tu(n(r))+")"},$l=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(r){this._objId=r}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};$l.prototype.toString=function(){return this.objId+" 0 R"},$l.prototype.putStream=function(){var r=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:r,objectId:this.objId}),this.scope.internal.out("endobj")},$l.prototype.getKeyValueListForStream=function(){var r=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var n=e[t],a=this[n];a&&(Array.isArray(a)?r.push({key:n,value:mN(a,this.objId,this.scope)}):a instanceof $l?(a.scope=this.scope,r.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&r.push({key:n,value:a}))}return r};var gN=function(){$l.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var r,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){r=t.trim()},get:function(){return r||null}})};ro(gN,$l);var xN=function(){$l.call(this);var r,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(r){var t=function(n){return n};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+tu(t(r))+")"}},set:function(t){r=t}})};ro(xN,$l);var ml=function r(){$l.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(C){if(isNaN(C))throw new Error('Invalid value "'+C+'" for attribute F supplied.');e=C}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!aa(e,3)},set:function(C){C?this.F=ia(e,3):this.F=oa(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(C){if(isNaN(C))throw new Error('Invalid value "'+C+'" for attribute Ff supplied.');t=C}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(C){n=C!==void 0?C:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(C){n[0]=C}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(C){n[1]=C}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(C){n[2]=C}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(C){n[3]=C}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(C){switch(C){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=C;break;default:throw new Error('Invalid value "'+C+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof om)return;o="FieldObject"+r.FieldNum++}var C=function(I){return I};return this.scope&&(C=this.scope.internal.getEncryptor(this.objId)),"("+tu(C(o))+")"},set:function(C){o=C.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(C){o=C}});var c="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return c},set:function(C){c=C}});var d="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return d},set:function(C){d=C}});var h=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return h},set:function(C){h=C}});var m=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return m===void 0?50/Vb:m},set:function(C){m=C}});var g="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return g},set:function(C){g=C}});var b="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!b||this instanceof om||this instanceof $c))return z0(b,this.objId,this.scope)},set:function(C){C=C.toString(),b=C}});var B=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(B)return this instanceof Da==0?z0(B,this.objId,this.scope):B},set:function(C){C=C.toString(),B=this instanceof Da==0?C.substr(0,1)==="("?Qu(C.substr(1,C.length-2)):Qu(C):C}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Da==1?Qu(B.substr(1,B.length-1)):B},set:function(C){C=C.toString(),B=this instanceof Da==1?"/"+C:C}});var _=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(_)return _},set:function(C){this.V=C}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(_)return this instanceof Da==0?z0(_,this.objId,this.scope):_},set:function(C){C=C.toString(),_=this instanceof Da==0?C.substr(0,1)==="("?Qu(C.substr(1,C.length-2)):Qu(C):C}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Da==1?Qu(_.substr(1,_.length-1)):_},set:function(C){C=C.toString(),_=this instanceof Da==1?"/"+C:C}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var k,j=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return j},set:function(C){C=!!C,j=C}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(k)return k},set:function(C){k=C}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!aa(this.Ff,1)},set:function(C){C?this.Ff=ia(this.Ff,1):this.Ff=oa(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!aa(this.Ff,2)},set:function(C){C?this.Ff=ia(this.Ff,2):this.Ff=oa(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!aa(this.Ff,3)},set:function(C){C?this.Ff=ia(this.Ff,3):this.Ff=oa(this.Ff,3)}});var T=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(T!==null)return T},set:function(C){if([0,1,2].indexOf(C)===-1)throw new Error('Invalid value "'+C+'" for attribute Q supplied.');T=C}}),Object.defineProperty(this,"textAlign",{get:function(){var C;switch(T){case 0:default:C="left";break;case 1:C="center";break;case 2:C="right"}return C},configurable:!0,enumerable:!0,set:function(C){switch(C){case"right":case 2:T=2;break;case"center":case 1:T=1;break;default:T=0}}})};ro(ml,$l);var nd=function(){ml.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var r=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return r},set:function(t){r=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return mN(e,this.objId,this.scope)},set:function(t){var n,a;a=[],typeof(n=t)=="string"&&(a=(function(o,c,d){d||(d=1);for(var h,m=[];h=c.exec(o);)m.push(h[d]);return m})(n,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,n){for(n=n||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!aa(this.Ff,18)},set:function(t){t?this.Ff=ia(this.Ff,18):this.Ff=oa(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!aa(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=ia(this.Ff,19):this.Ff=oa(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!aa(this.Ff,20)},set:function(t){t?(this.Ff=ia(this.Ff,20),e.sort()):this.Ff=oa(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!aa(this.Ff,22)},set:function(t){t?this.Ff=ia(this.Ff,22):this.Ff=oa(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!aa(this.Ff,23)},set:function(t){t?this.Ff=ia(this.Ff,23):this.Ff=oa(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!aa(this.Ff,27)},set:function(t){t?this.Ff=ia(this.Ff,27):this.Ff=oa(this.Ff,27)}}),this.hasAppearanceStream=!1};ro(nd,ml);var sd=function(){nd.call(this),this.fontName="helvetica",this.combo=!1};ro(sd,nd);var ad=function(){sd.call(this),this.combo=!0};ro(ad,sd);var Mp=function(){ad.call(this),this.edit=!0};ro(Mp,ad);var Da=function(){ml.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!aa(this.Ff,15)},set:function(t){t?this.Ff=ia(this.Ff,15):this.Ff=oa(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!aa(this.Ff,16)},set:function(t){t?this.Ff=ia(this.Ff,16):this.Ff=oa(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!aa(this.Ff,17)},set:function(t){t?this.Ff=ia(this.Ff,17):this.Ff=oa(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!aa(this.Ff,26)},set:function(t){t?this.Ff=ia(this.Ff,26):this.Ff=oa(this.Ff,26)}});var r,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(o){return o};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,a=[];for(n in a.push("<<"),e)a.push("/"+n+" ("+tu(t(e[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(t){Rn(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(t){r="/"+t}})};ro(Da,ml);var Dp=function(){Da.call(this),this.pushButton=!0};ro(Dp,Da);var id=function(){Da.call(this),this.radio=!0,this.pushButton=!1;var r=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e!==void 0?e:[]}})};ro(id,Da);var om=function(){var r,e;ml.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var t,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(d){return d};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var o,c=[];for(o in c.push("<<"),n)c.push("/"+o+" ("+tu(a(n[o]))+")");return c.push(">>"),c.join(`
`)},set:function(a){Rn(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(a){t="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=hr.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ro(om,ml),id.prototype.setAppearance=function(r){if(!("createAppearanceStream"in r)||!("getCA"in r))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=r.createAppearanceStream(t.optionName),t.caption=r.getCA()}},id.prototype.createOption=function(r){var e=new om;return e.Parent=this,e.optionName=r,this.Kids.push(e),FQ.call(this.scope,e),e};var Rp=function(){Da.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=hr.CheckBox.createAppearanceStream()};ro(Rp,Da);var $c=function(){ml.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!aa(this.Ff,13)},set:function(e){e?this.Ff=ia(this.Ff,13):this.Ff=oa(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!aa(this.Ff,21)},set:function(e){e?this.Ff=ia(this.Ff,21):this.Ff=oa(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!aa(this.Ff,23)},set:function(e){e?this.Ff=ia(this.Ff,23):this.Ff=oa(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!aa(this.Ff,24)},set:function(e){e?this.Ff=ia(this.Ff,24):this.Ff=oa(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!aa(this.Ff,25)},set:function(e){e?this.Ff=ia(this.Ff,25):this.Ff=oa(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!aa(this.Ff,26)},set:function(e){e?this.Ff=ia(this.Ff,26):this.Ff=oa(this.Ff,26)}});var r=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return r},set:function(e){Number.isInteger(e)&&(r=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ro($c,ml);var Pp=function(){$c.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!aa(this.Ff,14)},set:function(r){r?this.Ff=ia(this.Ff,14):this.Ff=oa(this.Ff,14)}}),this.password=!0};ro(Pp,$c);var hr={CheckBox:{createAppearanceStream:function(){return{N:{On:hr.CheckBox.YesNormal},D:{On:hr.CheckBox.YesPushDown,Off:hr.CheckBox.OffPushDown}}},YesPushDown:function(r){var e=Kl(r);e.scope=r.scope;var t=[],n=r.scope.internal.getFont(r.fontName,r.fontStyle).id,a=r.scope.__private__.encodeColorString(r.color),o=rb(r,r.caption);return t.push("0.749023 g"),t.push("0 0 "+Kr(hr.internal.getWidth(r))+" "+Kr(hr.internal.getHeight(r))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+n+" "+Kr(o.fontSize)+" Tf "+a),t.push("BT"),t.push(o.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(r){var e=Kl(r);e.scope=r.scope;var t=r.scope.internal.getFont(r.fontName,r.fontStyle).id,n=r.scope.__private__.encodeColorString(r.color),a=[],o=hr.internal.getHeight(r),c=hr.internal.getWidth(r),d=rb(r,r.caption);return a.push("1 g"),a.push("0 0 "+Kr(c)+" "+Kr(o)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+Kr(c-1)+" "+Kr(o-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+t+" "+Kr(d.fontSize)+" Tf "+n),a.push(d.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(r){var e=Kl(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Kr(hr.internal.getWidth(r))+" "+Kr(hr.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(r){var e={D:{Off:hr.RadioButton.Circle.OffPushDown},N:{}};return e.N[r]=hr.RadioButton.Circle.YesNormal,e.D[r]=hr.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(r){var e=Kl(r);e.scope=r.scope;var t=[],n=hr.internal.getWidth(r)<=hr.internal.getHeight(r)?hr.internal.getWidth(r)/4:hr.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var a=hr.internal.Bezier_C,o=Number((n*a).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+sc(hr.internal.getWidth(r)/2)+" "+sc(hr.internal.getHeight(r)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),t.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),t.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),t.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=Kl(r);e.scope=r.scope;var t=[],n=hr.internal.getWidth(r)<=hr.internal.getHeight(r)?hr.internal.getWidth(r)/4:hr.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),o=Number((a*hr.internal.Bezier_C).toFixed(5)),c=Number((n*hr.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+sc(hr.internal.getWidth(r)/2)+" "+sc(hr.internal.getHeight(r)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),t.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),t.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),t.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+sc(hr.internal.getWidth(r)/2)+" "+sc(hr.internal.getHeight(r)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+c+" "+c+" "+n+" 0 "+n+" c"),t.push("-"+c+" "+n+" -"+n+" "+c+" -"+n+" 0 c"),t.push("-"+n+" -"+c+" -"+c+" -"+n+" 0 -"+n+" c"),t.push(c+" -"+n+" "+n+" -"+c+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(r){var e=Kl(r);e.scope=r.scope;var t=[],n=hr.internal.getWidth(r)<=hr.internal.getHeight(r)?hr.internal.getWidth(r)/4:hr.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),o=Number((a*hr.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+sc(hr.internal.getWidth(r)/2)+" "+sc(hr.internal.getHeight(r)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),t.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),t.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),t.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(r){var e={D:{Off:hr.RadioButton.Cross.OffPushDown},N:{}};return e.N[r]=hr.RadioButton.Cross.YesNormal,e.D[r]=hr.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(r){var e=Kl(r);e.scope=r.scope;var t=[],n=hr.internal.calculateCross(r);return t.push("q"),t.push("1 1 "+Kr(hr.internal.getWidth(r)-2)+" "+Kr(hr.internal.getHeight(r)-2)+" re"),t.push("W"),t.push("n"),t.push(Kr(n.x1.x)+" "+Kr(n.x1.y)+" m"),t.push(Kr(n.x2.x)+" "+Kr(n.x2.y)+" l"),t.push(Kr(n.x4.x)+" "+Kr(n.x4.y)+" m"),t.push(Kr(n.x3.x)+" "+Kr(n.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=Kl(r);e.scope=r.scope;var t=hr.internal.calculateCross(r),n=[];return n.push("0.749023 g"),n.push("0 0 "+Kr(hr.internal.getWidth(r))+" "+Kr(hr.internal.getHeight(r))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Kr(hr.internal.getWidth(r)-2)+" "+Kr(hr.internal.getHeight(r)-2)+" re"),n.push("W"),n.push("n"),n.push(Kr(t.x1.x)+" "+Kr(t.x1.y)+" m"),n.push(Kr(t.x2.x)+" "+Kr(t.x2.y)+" l"),n.push(Kr(t.x4.x)+" "+Kr(t.x4.y)+" m"),n.push(Kr(t.x3.x)+" "+Kr(t.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(r){var e=Kl(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Kr(hr.internal.getWidth(r))+" "+Kr(hr.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(r){var e=r.scope.internal.getFont(r.fontName,r.fontStyle).id,t=r.scope.__private__.encodeColorString(r.color);return"/"+e+" "+r.fontSize+" Tf "+t}};hr.internal={Bezier_C:.551915024494,calculateCross:function(r){var e=hr.internal.getWidth(r),t=hr.internal.getHeight(r),n=Math.min(e,t);return{x1:{x:(e-n)/2,y:(t-n)/2+n},x2:{x:(e-n)/2+n,y:(t-n)/2},x3:{x:(e-n)/2,y:(t-n)/2},x4:{x:(e-n)/2+n,y:(t-n)/2+n}}}},hr.internal.getWidth=function(r){var e=0;return Rn(r)==="object"&&(e=O2(r.Rect[2])),e},hr.internal.getHeight=function(r){var e=0;return Rn(r)==="object"&&(e=O2(r.Rect[3])),e};var FQ=qs.addField=function(r){if(TQ(this,r),!(r instanceof ml))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=r).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),r.page=r.scope.internal.getCurrentPageInfo().pageNumber,this};qs.AcroFormChoiceField=nd,qs.AcroFormListBox=sd,qs.AcroFormComboBox=ad,qs.AcroFormEditBox=Mp,qs.AcroFormButton=Da,qs.AcroFormPushButton=Dp,qs.AcroFormRadioButton=id,qs.AcroFormCheckBox=Rp,qs.AcroFormTextField=$c,qs.AcroFormPasswordField=Pp,qs.AcroFormAppearance=hr,qs.AcroForm={ChoiceField:nd,ListBox:sd,ComboBox:ad,EditBox:Mp,Button:Da,PushButton:Dp,RadioButton:id,CheckBox:Rp,TextField:$c,PasswordField:Pp,Appearance:hr},yr.AcroForm={ChoiceField:nd,ListBox:sd,ComboBox:ad,EditBox:Mp,Button:Da,PushButton:Dp,RadioButton:id,CheckBox:Rp,TextField:$c,PasswordField:Pp,Appearance:hr};yr.AcroForm;function bN(r){return r.reduce(function(e,t,n){return e[t]=n,e},{})}(function(r){var e="addImage_";r.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=r.__addimage__.getImageFileTypeByImageData=function(K,$){var re,le,ge,Y,pe,z=t;if(($=$||t)==="RGBA"||K.data!==void 0&&K.data instanceof Uint8ClampedArray&&"height"in K&&"width"in K)return"RGBA";if(Z(K))for(pe in n)for(ge=n[pe],re=0;re<ge.length;re+=1){for(Y=!0,le=0;le<ge[re].length;le+=1)if(ge[re][le]!==void 0&&ge[re][le]!==K[le]){Y=!1;break}if(Y===!0){z=pe;break}}else for(pe in n)for(ge=n[pe],re=0;re<ge.length;re+=1){for(Y=!0,le=0;le<ge[re].length;le+=1)if(ge[re][le]!==void 0&&ge[re][le]!==K.charCodeAt(le)){Y=!1;break}if(Y===!0){z=pe;break}}return z===t&&$!==t&&(z=$),z},o=function K($){for(var re=this.internal.write,le=this.internal.putStream,ge=(0,this.internal.getFilters)();ge.indexOf("FlateEncode")!==-1;)ge.splice(ge.indexOf("FlateEncode"),1);$.objectId=this.internal.newObject();var Y=[];if(Y.push({key:"Type",value:"/XObject"}),Y.push({key:"Subtype",value:"/Image"}),Y.push({key:"Width",value:$.width}),Y.push({key:"Height",value:$.height}),$.colorSpace===C.INDEXED?Y.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+($.palette.length/3-1)+" "+("sMask"in $&&$.sMask!==void 0?$.objectId+2:$.objectId+1)+" 0 R]"}):(Y.push({key:"ColorSpace",value:"/"+$.colorSpace}),$.colorSpace===C.DEVICE_CMYK&&Y.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Y.push({key:"BitsPerComponent",value:$.bitsPerComponent}),"decodeParameters"in $&&$.decodeParameters!==void 0&&Y.push({key:"DecodeParms",value:"<<"+$.decodeParameters+">>"}),"transparency"in $&&Array.isArray($.transparency)&&$.transparency.length>0){for(var pe="",z=0,ve=$.transparency.length;z<ve;z++)pe+=$.transparency[z]+" "+$.transparency[z]+" ";Y.push({key:"Mask",value:"["+pe+"]"})}$.sMask!==void 0&&Y.push({key:"SMask",value:$.objectId+1+" 0 R"});var we=$.filter!==void 0?["/"+$.filter]:void 0;if(le({data:$.data,additionalKeyValues:Y,alreadyAppliedFilters:we,objectId:$.objectId}),re("endobj"),"sMask"in $&&$.sMask!==void 0){var V,O=(V=$.sMaskBitsPerComponent)!==null&&V!==void 0?V:$.bitsPerComponent,G={width:$.width,height:$.height,colorSpace:"DeviceGray",bitsPerComponent:O,data:$.sMask};"filter"in $&&(G.decodeParameters="/Predictor ".concat($.predictor," /Colors 1 /BitsPerComponent ").concat(O," /Columns ").concat($.width),G.filter=$.filter),K.call(this,G)}if($.colorSpace===C.INDEXED){var Q=this.internal.newObject();le({data:ee(new Uint8Array($.palette)),objectId:Q}),re("endobj")}},c=function(){var K=this.internal.collections[e+"images"];for(var $ in K)o.call(this,K[$])},d=function(){var K,$=this.internal.collections[e+"images"],re=this.internal.write;for(var le in $)re("/I"+(K=$[le]).index,K.objectId,"0","R")},h=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",c),this.internal.events.subscribe("putXobjectDict",d))},m=function(){var K=this.internal.collections[e+"images"];return h.call(this),K},g=function(){return Object.keys(this.internal.collections[e+"images"]).length},b=function(K){return typeof r["process"+K.toUpperCase()]=="function"},B=function(K){return Rn(K)==="object"&&K.nodeType===1},_=function(K,$){if(K.nodeName==="IMG"&&K.hasAttribute("src")){var re=""+K.getAttribute("src");if(re.indexOf("data:image/")===0)return Op(unescape(re).split("base64,").pop());var le=r.loadFile(re,!0);if(le!==void 0)return le}if(K.nodeName==="CANVAS"){if(K.width===0||K.height===0)throw new Error("Given canvas must have data. Canvas width: "+K.width+", height: "+K.height);var ge;switch($){case"PNG":ge="image/png";break;case"WEBP":ge="image/webp";break;default:ge="image/jpeg"}return Op(K.toDataURL(ge,1).split("base64,").pop())}},k=function(K){var $=this.internal.collections[e+"images"];if($){for(var re in $)if(K===$[re].alias)return $[re]}},j=function(K,$,re){return K||$||(K=-96,$=-96),K<0&&(K=-1*re.width*72/K/this.internal.scaleFactor),$<0&&($=-1*re.height*72/$/this.internal.scaleFactor),K===0&&(K=$*re.width/re.height),$===0&&($=K*re.height/re.width),[K,$]},T=function(K,$,re,le,ge,Y){var pe=j.call(this,re,le,ge),z=this.internal.getCoordinateString,ve=this.internal.getVerticalCoordinateString,we=m.call(this);if(re=pe[0],le=pe[1],we[ge.index]=ge,Y){Y*=Math.PI/180;var V=Math.cos(Y),O=Math.sin(Y),G=function(oe){return oe.toFixed(4)},Q=[G(V),G(O),G(-1*O),G(V),0,0,"cm"]}this.internal.write("q"),Y?(this.internal.write([1,"0","0",1,z(K),ve($+le),"cm"].join(" ")),this.internal.write(Q.join(" ")),this.internal.write([z(re),"0","0",z(le),"0","0","cm"].join(" "))):this.internal.write([z(re),"0","0",z(le),z(K),ve($+le),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ge.index+" Do"),this.internal.write("Q")},C=r.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};r.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var I=r.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},F=r.__addimage__.sHashCode=function(K){var $,re,le=0;if(typeof K=="string")for(re=K.length,$=0;$<re;$++)le=(le<<5)-le+K.charCodeAt($),le|=0;else if(Z(K))for(re=K.byteLength/2,$=0;$<re;$++)le=(le<<5)-le+K[$],le|=0;return le},R=r.__addimage__.validateStringAsBase64=function(K){(K=K||"").toString().trim();var $=!0;return K.length===0&&($=!1),K.length%4!=0&&($=!1),/^[A-Za-z0-9+/]+$/.test(K.substr(0,K.length-2))===!1&&($=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(K.substr(-2))===!1&&($=!1),$},ae=r.__addimage__.extractImageFromDataUrl=function(K){if(K==null||!(K=K.trim()).startsWith("data:"))return null;var $=K.indexOf(",");return $<0?null:K.substring(0,$).trim().endsWith("base64")?K.substring($+1):null};r.__addimage__.isArrayBuffer=function(K){return K instanceof ArrayBuffer};var Z=r.__addimage__.isArrayBufferView=function(K){return K instanceof Int8Array||K instanceof Uint8Array||K instanceof Uint8ClampedArray||K instanceof Int16Array||K instanceof Uint16Array||K instanceof Int32Array||K instanceof Uint32Array||K instanceof Float32Array||K instanceof Float64Array},me=r.__addimage__.binaryStringToUint8Array=function(K){for(var $=K.length,re=new Uint8Array($),le=0;le<$;le++)re[le]=K.charCodeAt(le);return re},ee=r.__addimage__.arrayBufferToBinaryString=function(K){for(var $="",re=Z(K)?K:new Uint8Array(K),le=0;le<re.length;le+=8192)$+=String.fromCharCode.apply(null,re.subarray(le,le+8192));return $};r.addImage=function(){var K,$,re,le,ge,Y,pe,z,ve;if(typeof arguments[1]=="number"?($=t,re=arguments[1],le=arguments[2],ge=arguments[3],Y=arguments[4],pe=arguments[5],z=arguments[6],ve=arguments[7]):($=arguments[1],re=arguments[2],le=arguments[3],ge=arguments[4],Y=arguments[5],pe=arguments[6],z=arguments[7],ve=arguments[8]),Rn(K=arguments[0])==="object"&&!B(K)&&"imageData"in K){var we=K;K=we.imageData,$=we.format||$||t,re=we.x||re||0,le=we.y||le||0,ge=we.w||we.width||ge,Y=we.h||we.height||Y,pe=we.alias||pe,z=we.compression||z,ve=we.rotation||we.angle||ve}var V=this.internal.getFilters();if(z===void 0&&V.indexOf("FlateEncode")!==-1&&(z="SLOW"),isNaN(re)||isNaN(le))throw new Error("Invalid coordinates passed to jsPDF.addImage");h.call(this);var O=H.call(this,K,$,pe,z);return T.call(this,re,le,ge,Y,O,ve),this};var H=function(K,$,re,le){var ge,Y,pe;if(typeof K=="string"&&a(K)===t){K=unescape(K);var z=W(K,!1);(z!==""||(z=r.loadFile(K,!0))!==void 0)&&(K=z)}if(B(K)&&(K=_(K,$)),$=a(K,$),!b($))throw new Error("addImage does not support files of type '"+$+"', please ensure that a plugin for '"+$+"' support is added.");if(((pe=re)==null||pe.length===0)&&(re=(function(ve){return typeof ve=="string"||Z(ve)?F(ve):Z(ve.data)?F(ve.data):null})(K)),(ge=k.call(this,re))||(K instanceof Uint8Array||$==="RGBA"||(Y=K,K=me(K)),ge=this["process"+$.toUpperCase()](K,g.call(this),re,(function(ve){return ve&&typeof ve=="string"&&(ve=ve.toUpperCase()),ve in r.image_compression?ve:I.NONE})(le),Y)),!ge)throw new Error("An unknown error occurred whilst processing the image.");return ge},W=r.__addimage__.convertBase64ToBinaryString=function(K,$){$=typeof $!="boolean"||$;var re,le="";if(typeof K=="string"){var ge;re=(ge=ae(K))!==null&&ge!==void 0?ge:K;try{le=Op(re)}catch(Y){if($)throw R(re)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Y.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return le};r.getImageProperties=function(K){var $,re,le="";if(B(K)&&(K=_(K)),typeof K=="string"&&a(K)===t&&((le=W(K,!1))===""&&(le=r.loadFile(K)||""),K=le),re=a(K),!b(re))throw new Error("addImage does not support files of type '"+re+"', please ensure that a plugin for '"+re+"' support is added.");if(K instanceof Uint8Array||(K=me(K)),!($=this["process"+re.toUpperCase()](K)))throw new Error("An unknown error occurred whilst processing the image");return $.fileType=re,$}})(yr.API),(function(r){var e=function(t){if(t!==void 0&&t!="")return!0};yr.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),r.events.push(["putPage",function(t){for(var n,a,o,c=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString,h=this.internal.getPageInfoByObjId(t.objId),m=t.pageContext.annotations,g=!1,b=0;b<m.length&&!g;b++)switch((n=m[b]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(g=!0);break;case"reference":case"text":case"freetext":g=!0}if(g!=0){this.internal.write("/Annots [");for(var B=0;B<m.length;B++){n=m[B];var _=this.internal.pdfEscape,k=this.internal.getEncryptor(t.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var j=this.internal.newAdditionalObject(),T=this.internal.newAdditionalObject(),C=this.internal.getEncryptor(j.objId),I=n.title||"Note";o="<</Type /Annot /Subtype /Text "+(a="/Rect ["+c(n.bounds.x)+" "+d(n.bounds.y+n.bounds.h)+" "+c(n.bounds.x+n.bounds.w)+" "+d(n.bounds.y)+"] ")+"/Contents ("+_(C(n.contents))+")",o+=" /Popup "+T.objId+" 0 R",o+=" /P "+h.objId+" 0 R",o+=" /T ("+_(C(I))+") >>",j.content=o;var F=j.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+c(n.bounds.x+30)+" "+d(n.bounds.y+n.bounds.h)+" "+c(n.bounds.x+n.bounds.w+30)+" "+d(n.bounds.y)+"] ")+" /Parent "+F,n.open&&(o+=" /Open true"),o+=" >>",T.content=o,this.internal.write(j.objId,"0 R",T.objId,"0 R");break;case"freetext":a="/Rect ["+c(n.bounds.x)+" "+d(n.bounds.y)+" "+c(n.bounds.x+n.bounds.w)+" "+d(n.bounds.y+n.bounds.h)+"] ";var R=n.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+_(k(n.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+R+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(n.options.name){var ae=this.annotations._nameMap[n.options.name];n.options.pageNumber=ae.page,n.options.top=ae.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",o="",n.options.url)o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+_(k(n.options.url))+") >>";else if(n.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,o+=" /FitV "+n.options.left+"]";break;default:var Z=d(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),o+=" /XYZ "+n.options.left+" "+Z+" "+n.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),r.createAnnotation=function(t){var n=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":n.pageContext.annotations.push(t)}},r.link=function(t,n,a,o,c){var d=this.internal.getCurrentPageInfo(),h=this.internal.getCoordinateString,m=this.internal.getVerticalCoordinateString;d.pageContext.annotations.push({finalBounds:{x:h(t),y:m(n),w:h(t+a),h:m(n+o)},options:c,type:"link"})},r.textWithLink=function(t,n,a,o){var c,d,h=this.getTextWidth(t),m=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){d=o.maxWidth;var g=this.splitTextToSize(t,d).length;c=Math.ceil(m*g)}else d=h,c=m;return this.text(t,n,a,o),a+=.2*m,o.align==="center"&&(n-=h/2),o.align==="right"&&(n-=h),this.link(n,a-m,d,c,o),h},r.getTextWidth=function(t){var n=this.internal.getFontSize();return this.getStringUnitWidth(t)*n/this.internal.scaleFactor}})(yr.API),(function(r){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];r.__arabicParser__={};var o=r.__arabicParser__.isInArabicSubstitutionA=function(j){return e[j.charCodeAt(0)]!==void 0},c=r.__arabicParser__.isArabicLetter=function(j){return typeof j=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(j)},d=r.__arabicParser__.isArabicEndLetter=function(j){return c(j)&&o(j)&&e[j.charCodeAt(0)].length<=2},h=r.__arabicParser__.isArabicAlfLetter=function(j){return c(j)&&a.indexOf(j.charCodeAt(0))>=0};r.__arabicParser__.arabicLetterHasIsolatedForm=function(j){return c(j)&&o(j)&&e[j.charCodeAt(0)].length>=1};var m=r.__arabicParser__.arabicLetterHasFinalForm=function(j){return c(j)&&o(j)&&e[j.charCodeAt(0)].length>=2};r.__arabicParser__.arabicLetterHasInitialForm=function(j){return c(j)&&o(j)&&e[j.charCodeAt(0)].length>=3};var g=r.__arabicParser__.arabicLetterHasMedialForm=function(j){return c(j)&&o(j)&&e[j.charCodeAt(0)].length==4},b=r.__arabicParser__.resolveLigatures=function(j){var T=0,C=t,I="",F=0;for(T=0;T<j.length;T+=1)C[j.charCodeAt(T)]!==void 0?(F++,typeof(C=C[j.charCodeAt(T)])=="number"&&(I+=String.fromCharCode(C),C=t,F=0),T===j.length-1&&(C=t,I+=j.charAt(T-(F-1)),T-=F-1,F=0)):(C=t,I+=j.charAt(T-F),T-=F,F=0);return I};r.__arabicParser__.isArabicDiacritic=function(j){return j!==void 0&&n[j.charCodeAt(0)]!==void 0};var B=r.__arabicParser__.getCorrectForm=function(j,T,C){return c(j)?o(j)===!1?-1:!m(j)||!c(T)&&!c(C)||!c(C)&&d(T)||d(j)&&!c(T)||d(j)&&h(T)||d(j)&&d(T)?0:g(j)&&c(T)&&!d(T)&&c(C)&&m(C)?3:d(j)||!c(C)?1:2:-1},_=function(j){var T=0,C=0,I=0,F="",R="",ae="",Z=(j=j||"").split("\\s+"),me=[];for(T=0;T<Z.length;T+=1){for(me.push(""),C=0;C<Z[T].length;C+=1)F=Z[T][C],R=Z[T][C-1],ae=Z[T][C+1],c(F)?(I=B(F,R,ae),me[T]+=I!==-1?String.fromCharCode(e[F.charCodeAt(0)][I]):F):me[T]+=F;me[T]=b(me[T])}return me.join(" ")},k=r.__arabicParser__.processArabic=r.processArabic=function(){var j,T=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,C=[];if(Array.isArray(T)){var I=0;for(C=[],I=0;I<T.length;I+=1)Array.isArray(T[I])?C.push([_(T[I][0]),T[I][1],T[I][2]]):C.push([_(T[I])]);j=C}else j=_(T);return typeof arguments[0]=="string"?j:(arguments[0].text=j,arguments[0])};r.events.push(["preProcessText",k])})(yr.API),yr.API.autoPrint=function(r){var e;return(r=r||{}).variant=r.variant||"non-conform",r.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(r){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(d){t=d}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(d){n=isNaN(d)||Number.isInteger(d)===!1||d<0?150:d,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(d){a=isNaN(d)||Number.isInteger(d)===!1||d<0?300:d,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(d){o=d}});var c={};Object.defineProperty(this,"style",{get:function(){return c},set:function(d){c=d}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,n){var a;if((t=t||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},r.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(yr.API),(function(r){var e={left:0,top:0,bottom:0,right:0},t=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var h=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return h},set:function(j){h=j}});var m=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return m},set:function(j){m=j}});var g=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return g},set:function(j){g=j}});var b=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return b},set:function(j){b=j}});var B=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return B},set:function(j){B=j}});var _=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return _},set:function(j){_=j}});var k=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return k},set:function(j){k=j}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},r.setHeaderFunction=function(h){return n.call(this),this.internal.__cell__.headerFunction=typeof h=="function"?h:void 0,this},r.getTextDimensions=function(h,m){n.call(this);var g=(m=m||{}).fontSize||this.getFontSize(),b=m.font||this.getFont(),B=m.scaleFactor||this.internal.scaleFactor,_=0,k=0,j=0,T=this;if(!Array.isArray(h)&&typeof h!="string"){if(typeof h!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");h=String(h)}var C=m.maxWidth;C>0?typeof h=="string"?h=this.splitTextToSize(h,C):Object.prototype.toString.call(h)==="[object Array]"&&(h=h.reduce(function(F,R){return F.concat(T.splitTextToSize(R,C))},[])):h=Array.isArray(h)?h:[h];for(var I=0;I<h.length;I++)_<(j=this.getStringUnitWidth(h[I],{font:b})*g)&&(_=j);return _!==0&&(k=h.length),{w:_/=B,h:Math.max((k*g*this.getLineHeightFactor()-g*(this.getLineHeightFactor()-1))/B,0)}},r.cellAddPage=function(){n.call(this),this.addPage();var h=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(h.left,h.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var c=r.cell=function(){var h;h=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var m=this.internal.__cell__.lastCell,g=this.internal.__cell__.padding,b=this.internal.__cell__.margins||e,B=this.internal.__cell__.tableHeaderRow,_=this.internal.__cell__.printHeaders;return m.lineNumber!==void 0&&(m.lineNumber===h.lineNumber?(h.x=(m.x||0)+(m.width||0),h.y=m.y||0):m.y+m.height+h.height+b.bottom>this.getPageHeight()?(this.cellAddPage(),h.y=b.top,_&&B&&(this.printHeaderRow(h.lineNumber,!0),h.y+=B[0].height)):h.y=m.y+m.height||h.y),h.text[0]!==void 0&&(this.rect(h.x,h.y,h.width,h.height,t===!0?"FD":void 0),h.align==="right"?this.text(h.text,h.x+h.width-g,h.y+g,{align:"right",baseline:"top"}):h.align==="center"?this.text(h.text,h.x+h.width/2,h.y+g,{align:"center",baseline:"top",maxWidth:h.width-g-g}):this.text(h.text,h.x+g,h.y+g,{align:"left",baseline:"top",maxWidth:h.width-g-g})),this.internal.__cell__.lastCell=h,this};r.table=function(h,m,g,b,B){if(n.call(this),!g)throw new Error("No data for PDF table.");var _,k,j,T,C=[],I=[],F=[],R={},ae={},Z=[],me=[],ee=(B=B||{}).autoSize||!1,H=B.printHeaders!==!1,W=B.css&&B.css["font-size"]!==void 0?16*B.css["font-size"]:B.fontSize||12,K=B.margins||Object.assign({width:this.getPageWidth()},e),$=typeof B.padding=="number"?B.padding:3,re=B.headerBackgroundColor||"#c8c8c8",le=B.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=H,this.internal.__cell__.margins=K,this.internal.__cell__.table_font_size=W,this.internal.__cell__.padding=$,this.internal.__cell__.headerBackgroundColor=re,this.internal.__cell__.headerTextColor=le,this.setFontSize(W),b==null)I=C=Object.keys(g[0]),F=C.map(function(){return"left"});else if(Array.isArray(b)&&Rn(b[0])==="object")for(C=b.map(function(we){return we.name}),I=b.map(function(we){return we.prompt||we.name||""}),F=b.map(function(we){return we.align||"left"}),_=0;_<b.length;_+=1)ae[b[_].name]=.7499990551181103*b[_].width;else Array.isArray(b)&&typeof b[0]=="string"&&(I=C=b,F=C.map(function(){return"left"}));if(ee||Array.isArray(b)&&typeof b[0]=="string")for(_=0;_<C.length;_+=1){for(R[T=C[_]]=g.map(function(we){return we[T]}),this.setFont(void 0,"bold"),Z.push(this.getTextDimensions(I[_],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),k=R[T],this.setFont(void 0,"normal"),j=0;j<k.length;j+=1)Z.push(this.getTextDimensions(k[j],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);ae[T]=Math.max.apply(null,Z)+$+$,Z=[]}if(H){var ge={};for(_=0;_<C.length;_+=1)ge[C[_]]={},ge[C[_]].text=I[_],ge[C[_]].align=F[_];var Y=d.call(this,ge,ae);me=C.map(function(we){return new o(h,m,ae[we],Y,ge[we].text,void 0,ge[we].align)}),this.setTableHeaderRow(me),this.printHeaderRow(1,!1)}var pe=b.reduce(function(we,V){return we[V.name]=V.align,we},{});for(_=0;_<g.length;_+=1){"rowStart"in B&&B.rowStart instanceof Function&&B.rowStart({row:_,data:g[_]},this);var z=d.call(this,g[_],ae);for(j=0;j<C.length;j+=1){var ve=g[_][C[j]];"cellStart"in B&&B.cellStart instanceof Function&&B.cellStart({row:_,col:j,data:ve},this),c.call(this,new o(h,m,ae[C[j]],z,ve,_+2,pe[C[j]]))}}return this.internal.__cell__.table_x=h,this.internal.__cell__.table_y=m,this};var d=function(h,m){var g=this.internal.__cell__.padding,b=this.internal.__cell__.table_font_size,B=this.internal.scaleFactor;return Object.keys(h).map(function(_){var k=h[_];return this.splitTextToSize(k.hasOwnProperty("text")?k.text:k,m[_]-g-g)},this).map(function(_){return this.getLineHeightFactor()*_.length*b/B+g+g},this).reduce(function(_,k){return Math.max(_,k)},0)};r.setTableHeaderRow=function(h){n.call(this),this.internal.__cell__.tableHeaderRow=h},r.printHeaderRow=function(h,m){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var g;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var b=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(b[0],b[1],b[2],b[3],void 0,-1)}this.setFont(void 0,"bold");for(var B=[],_=0;_<this.internal.__cell__.tableHeaderRow.length;_+=1){g=this.internal.__cell__.tableHeaderRow[_].clone(),m&&(g.y=this.internal.__cell__.margins.top||0,B.push(g)),g.lineNumber=h;var k=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),c.call(this,g),this.setTextColor(k)}B.length>0&&this.setTableHeaderRow(B),this.setFont(void 0,"normal"),t=!1}})(yr.API);var vN={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},yN=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],nb=bN(yN),wN=[100,200,300,400,500,600,700,800,900],QQ=bN(wN);function q0(r){var e=r.family.replace(/"|'/g,"").toLowerCase(),t=(function(o){return vN[o=o||"normal"]?o:"normal"})(r.style),n=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(r.weight),a=(function(o){return typeof nb[o=o||"normal"]=="number"?o:"normal"})(r.stretch);return{family:e,style:t,weight:n,stretch:a,src:r.src||[],ref:r.ref||{name:e,style:[a,t,n].join(" ")}}}function M2(r,e,t,n){var a;for(a=t;a>=0&&a<e.length;a+=n)if(r[e[a]])return r[e[a]];for(a=t;a>=0&&a<e.length;a-=n)if(r[e[a]])return r[e[a]]}var IQ={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},D2={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function R2(r){return[r.stretch,r.style,r.weight,r.family].join(" ")}function P2(r){return r.trimLeft()}function OQ(r,e){for(var t=0;t<r.length;){if(r.charAt(t)===e)return[r.substring(0,t),r.substring(t+1)];t+=1}return null}function MQ(r){var e=r.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],r.substring(e[0].length)]}var fp,H2,z2,Iu,pp,q2,K2,G2,K0=["times"];function V2(r,e,t,n,a){var o=4,c=$2;switch(a){case yr.API.image_compression.FAST:o=1,c=Z2;break;case yr.API.image_compression.MEDIUM:o=6,c=Y2;break;case yr.API.image_compression.SLOW:o=9,c=X2}r=(function(h,m,g,b){for(var B,_=h.length/m,k=new Uint8Array(h.length+_),j=[DQ,Z2,$2,Y2,X2],T=0;T<_;T+=1){var C=T*m,I=h.subarray(C,C+m);if(b)k.set(b(I,g,B),C+T);else{for(var F=j.length,R=[],ae=0;ae<F;ae+=1)R[ae]=j[ae](I,g,B);var Z=PQ(R.concat());k.set(R[Z],C+T)}B=I}return k})(r,e,Math.ceil(t*n/8),c);var d=Yx(r,{level:o});return yr.API.__addimage__.arrayBufferToBinaryString(d)}function DQ(r){var e=Array.apply([],r);return e.unshift(0),e}function Z2(r,e){var t=r.length,n=[];n[0]=1;for(var a=0;a<t;a+=1){var o=r[a-e]||0;n[a+1]=r[a]-o+256&255}return n}function $2(r,e,t){var n=r.length,a=[];a[0]=2;for(var o=0;o<n;o+=1){var c=t&&t[o]||0;a[o+1]=r[o]-c+256&255}return a}function Y2(r,e,t){var n=r.length,a=[];a[0]=3;for(var o=0;o<n;o+=1){var c=r[o-e]||0,d=t&&t[o]||0;a[o+1]=r[o]+256-(c+d>>>1)&255}return a}function X2(r,e,t){var n=r.length,a=[];a[0]=4;for(var o=0;o<n;o+=1){var c=RQ(r[o-e]||0,t&&t[o]||0,t&&t[o-e]||0);a[o+1]=r[o]-c+256&255}return a}function RQ(r,e,t){if(r===e&&e===t)return r;var n=Math.abs(e-t),a=Math.abs(r-t),o=Math.abs(r+e-t-t);return n<=a&&n<=o?r:a<=o?e:t}function PQ(r){var e=r.map(function(t){return t.reduce(function(n,a){return n+Math.abs(a)},0)});return e.indexOf(Math.min.apply(null,e))}function G0(r,e,t){var n=e*t,a=Math.floor(n/8),o=16-(n-8*a+t),c=(1<<t)-1;return _N(r,a)>>o&c}function J2(r,e,t,n){var a=t*n,o=Math.floor(a/8),c=16-(a-8*o+n),d=(1<<n)-1,h=(e&d)<<c;(function(m,g,b){if(g+1<m.byteLength)m.setUint16(g,b,!1);else{var B=b>>8&255;m.setUint8(g,B)}})(r,o,_N(r,o)&~(d<<c)&65535|h)}function _N(r,e){return e+1<r.byteLength?r.getUint16(e,!1):r.getUint8(e)<<8}function HQ(r){var e=0;if(r[e++]!==71||r[e++]!==73||r[e++]!==70||r[e++]!==56||(r[e++]+1&253)!=56||r[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=r[e++]|r[e++]<<8,n=r[e++]|r[e++]<<8,a=r[e++],o=a>>7,c=1<<1+(7&a);r[e++],r[e++];var d=null,h=null;o&&(d=e,h=c,e+=3*c);var m=!0,g=[],b=0,B=null,_=0,k=null;for(this.width=t,this.height=n;m&&e<r.length;)switch(r[e++]){case 33:switch(r[e++]){case 255:if(r[e]!==11||r[e+1]==78&&r[e+2]==69&&r[e+3]==84&&r[e+4]==83&&r[e+5]==67&&r[e+6]==65&&r[e+7]==80&&r[e+8]==69&&r[e+9]==50&&r[e+10]==46&&r[e+11]==48&&r[e+12]==3&&r[e+13]==1&&r[e+16]==0)e+=14,k=r[e++]|r[e++]<<8,e++;else for(e+=12;;){if(!((K=r[e++])>=0))throw Error("Invalid block size");if(K===0)break;e+=K}break;case 249:if(r[e++]!==4||r[e+4]!==0)throw new Error("Invalid graphics extension block.");var j=r[e++];b=r[e++]|r[e++]<<8,B=r[e++],1&j||(B=null),_=j>>2&7,e++;break;case 254:for(;;){if(!((K=r[e++])>=0))throw Error("Invalid block size");if(K===0)break;e+=K}break;default:throw new Error("Unknown graphic control label: 0x"+r[e-1].toString(16))}break;case 44:var T=r[e++]|r[e++]<<8,C=r[e++]|r[e++]<<8,I=r[e++]|r[e++]<<8,F=r[e++]|r[e++]<<8,R=r[e++],ae=R>>6&1,Z=1<<1+(7&R),me=d,ee=h,H=!1;R>>7&&(H=!0,me=e,ee=Z,e+=3*Z);var W=e;for(e++;;){var K;if(!((K=r[e++])>=0))throw Error("Invalid block size");if(K===0)break;e+=K}g.push({x:T,y:C,width:I,height:F,has_local_palette:H,palette_offset:me,palette_size:ee,data_offset:W,data_length:e-W,transparent_index:B,interlaced:!!ae,delay:b,disposal:_});break;case 59:m=!1;break;default:throw new Error("Unknown gif block: 0x"+r[e-1].toString(16))}this.numFrames=function(){return g.length},this.loopCount=function(){return k},this.frameInfo=function($){if($<0||$>=g.length)throw new Error("Frame index out of range.");return g[$]},this.decodeAndBlitFrameBGRA=function($,re){var le=this.frameInfo($),ge=le.width*le.height,Y=new Uint8Array(ge);W2(r,le.data_offset,Y,ge);var pe=le.palette_offset,z=le.transparent_index;z===null&&(z=256);var ve=le.width,we=t-ve,V=ve,O=4*(le.y*t+le.x),G=4*((le.y+le.height)*t+le.x),Q=O,oe=4*we;le.interlaced===!0&&(oe+=4*t*7);for(var ce=8,Be=0,Se=Y.length;Be<Se;++Be){var Fe=Y[Be];if(V===0&&(V=ve,(Q+=oe)>=G&&(oe=4*we+4*t*(ce-1),Q=O+(ve+we)*(ce<<1),ce>>=1)),Fe===z)Q+=4;else{var He=r[pe+3*Fe],it=r[pe+3*Fe+1],Re=r[pe+3*Fe+2];re[Q++]=Re,re[Q++]=it,re[Q++]=He,re[Q++]=255}--V}},this.decodeAndBlitFrameRGBA=function($,re){var le=this.frameInfo($),ge=le.width*le.height,Y=new Uint8Array(ge);W2(r,le.data_offset,Y,ge);var pe=le.palette_offset,z=le.transparent_index;z===null&&(z=256);var ve=le.width,we=t-ve,V=ve,O=4*(le.y*t+le.x),G=4*((le.y+le.height)*t+le.x),Q=O,oe=4*we;le.interlaced===!0&&(oe+=4*t*7);for(var ce=8,Be=0,Se=Y.length;Be<Se;++Be){var Fe=Y[Be];if(V===0&&(V=ve,(Q+=oe)>=G&&(oe=4*we+4*t*(ce-1),Q=O+(ve+we)*(ce<<1),ce>>=1)),Fe===z)Q+=4;else{var He=r[pe+3*Fe],it=r[pe+3*Fe+1],Re=r[pe+3*Fe+2];re[Q++]=He,re[Q++]=it,re[Q++]=Re,re[Q++]=255}--V}}}function W2(r,e,t,n){for(var a=r[e++],o=1<<a,c=o+1,d=c+1,h=a+1,m=(1<<h)-1,g=0,b=0,B=0,_=r[e++],k=new Int32Array(4096),j=null;;){for(;g<16&&_!==0;)b|=r[e++]<<g,g+=8,_===1?_=r[e++]:--_;if(g<h)break;var T=b&m;if(b>>=h,g-=h,T!==o){if(T===c)break;for(var C=T<d?T:j,I=0,F=C;F>o;)F=k[F]>>8,++I;var R=F;if(B+I+(C!==T?1:0)>n)return void Xn.log("Warning, gif stream longer than expected.");t[B++]=R;var ae=B+=I;for(C!==T&&(t[B++]=R),F=C;I--;)F=k[F],t[--ae]=255&F,F>>=8;j!==null&&d<4096&&(k[d++]=j<<8|R,d>=m+1&&h<12&&(++h,m=m<<1|1)),j=T}else d=c+1,m=(1<<(h=a+1))-1,j=null}return B!==n&&Xn.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function V0(r){var e,t,n,a,o,c=Math.floor,d=new Array(64),h=new Array(64),m=new Array(64),g=new Array(64),b=new Array(65535),B=new Array(65535),_=new Array(64),k=new Array(64),j=[],T=0,C=7,I=new Array(64),F=new Array(64),R=new Array(64),ae=new Array(256),Z=new Array(2048),me=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],ee=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],H=[0,1,2,3,4,5,6,7,8,9,10,11],W=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],K=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],$=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],re=[0,1,2,3,4,5,6,7,8,9,10,11],le=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ge=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Y(O,G){for(var Q=0,oe=0,ce=new Array,Be=1;Be<=16;Be++){for(var Se=1;Se<=O[Be];Se++)ce[G[oe]]=[],ce[G[oe]][0]=Q,ce[G[oe]][1]=Be,oe++,Q++;Q*=2}return ce}function pe(O){for(var G=O[0],Q=O[1]-1;Q>=0;)G&1<<Q&&(T|=1<<C),Q--,--C<0&&(T==255?(z(255),z(0)):z(T),C=7,T=0)}function z(O){j.push(O)}function ve(O){z(O>>8&255),z(255&O)}function we(O,G,Q,oe,ce){for(var Be,Se=ce[0],Fe=ce[240],He=(function($e,Zt){var Qt,kt,Kt,Jt,mr,Yt,ar,cr,Ht,Vt,Dt=0;for(Ht=0;Ht<8;++Ht){Qt=$e[Dt],kt=$e[Dt+1],Kt=$e[Dt+2],Jt=$e[Dt+3],mr=$e[Dt+4],Yt=$e[Dt+5],ar=$e[Dt+6];var Ne=Qt+(cr=$e[Dt+7]),et=Qt-cr,ft=kt+ar,Lt=kt-ar,Ut=Kt+Yt,Et=Kt-Yt,xr=Jt+mr,Rt=Jt-mr,de=Ne+xr,Ke=Ne-xr,Ye=ft+Ut,We=ft-Ut;$e[Dt]=de+Ye,$e[Dt+4]=de-Ye;var tt=.707106781*(We+Ke);$e[Dt+2]=Ke+tt,$e[Dt+6]=Ke-tt;var Tt=.382683433*((de=Rt+Et)-(We=Lt+et)),zt=.5411961*de+Tt,Wt=1.306562965*We+Tt,Lr=.707106781*(Ye=Et+Lt),vt=et+Lr,Rr=et-Lr;$e[Dt+5]=Rr+zt,$e[Dt+3]=Rr-zt,$e[Dt+1]=vt+Wt,$e[Dt+7]=vt-Wt,Dt+=8}for(Dt=0,Ht=0;Ht<8;++Ht){Qt=$e[Dt],kt=$e[Dt+8],Kt=$e[Dt+16],Jt=$e[Dt+24],mr=$e[Dt+32],Yt=$e[Dt+40],ar=$e[Dt+48];var fr=Qt+(cr=$e[Dt+56]),pr=Qt-cr,Pr=kt+ar,je=kt-ar,Me=Kt+Yt,$t=Kt-Yt,Ir=Jt+mr,jr=Jt-mr,Gr=fr+Ir,Xr=fr-Ir,Fn=Pr+Me,wn=Pr-Me;$e[Dt]=Gr+Fn,$e[Dt+32]=Gr-Fn;var Hn=.707106781*(wn+Xr);$e[Dt+16]=Xr+Hn,$e[Dt+48]=Xr-Hn;var jn=.382683433*((Gr=jr+$t)-(wn=je+pr)),Ns=.5411961*Gr+jn,wr=1.306562965*wn+jn,xa=.707106781*(Fn=$t+je),fs=pr+xa,Zs=pr-xa;$e[Dt+40]=Zs+Ns,$e[Dt+24]=Zs-Ns,$e[Dt+8]=fs+wr,$e[Dt+56]=fs-wr,Dt++}for(Ht=0;Ht<64;++Ht)Vt=$e[Ht]*Zt[Ht],_[Ht]=Vt>0?Vt+.5|0:Vt-.5|0;return _})(O,G),it=0;it<64;++it)k[me[it]]=He[it];var Re=k[0]-Q;Q=k[0],Re==0?pe(oe[0]):(pe(oe[B[Be=32767+Re]]),pe(b[Be]));for(var _t=63;_t>0&&k[_t]==0;)_t--;if(_t==0)return pe(Se),Q;for(var It,he=1;he<=_t;){for(var ct=he;k[he]==0&&he<=_t;)++he;var yt=he-ct;if(yt>=16){It=yt>>4;for(var qt=1;qt<=It;++qt)pe(Fe);yt&=15}Be=32767+k[he],pe(ce[(yt<<4)+B[Be]]),pe(b[Be]),he++}return _t!=63&&pe(Se),Q}function V(O){O=Math.min(Math.max(O,1),100),o!=O&&((function(G){for(var Q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],oe=0;oe<64;oe++){var ce=c((Q[oe]*G+50)/100);ce=Math.min(Math.max(ce,1),255),d[me[oe]]=ce}for(var Be=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Se=0;Se<64;Se++){var Fe=c((Be[Se]*G+50)/100);Fe=Math.min(Math.max(Fe,1),255),h[me[Se]]=Fe}for(var He=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],it=0,Re=0;Re<8;Re++)for(var _t=0;_t<8;_t++)m[it]=1/(d[me[it]]*He[Re]*He[_t]*8),g[it]=1/(h[me[it]]*He[Re]*He[_t]*8),it++})(O<50?Math.floor(5e3/O):Math.floor(200-2*O)),o=O)}this.encode=function(O,G){G&&V(G),j=new Array,T=0,C=7,ve(65496),ve(65504),ve(16),z(74),z(70),z(73),z(70),z(0),z(1),z(1),z(0),ve(1),ve(1),z(0),z(0),(function(){ve(65499),ve(132),z(0);for(var kt=0;kt<64;kt++)z(d[kt]);z(1);for(var Kt=0;Kt<64;Kt++)z(h[Kt])})(),(function(kt,Kt){ve(65472),ve(17),z(8),ve(Kt),ve(kt),z(3),z(1),z(17),z(0),z(2),z(17),z(1),z(3),z(17),z(1)})(O.width,O.height),(function(){ve(65476),ve(418),z(0);for(var kt=0;kt<16;kt++)z(ee[kt+1]);for(var Kt=0;Kt<=11;Kt++)z(H[Kt]);z(16);for(var Jt=0;Jt<16;Jt++)z(W[Jt+1]);for(var mr=0;mr<=161;mr++)z(K[mr]);z(1);for(var Yt=0;Yt<16;Yt++)z($[Yt+1]);for(var ar=0;ar<=11;ar++)z(re[ar]);z(17);for(var cr=0;cr<16;cr++)z(le[cr+1]);for(var Ht=0;Ht<=161;Ht++)z(ge[Ht])})(),ve(65498),ve(12),z(3),z(1),z(0),z(2),z(17),z(3),z(17),z(0),z(63),z(0);var Q=0,oe=0,ce=0;T=0,C=7,this.encode.displayName="_encode_";for(var Be,Se,Fe,He,it,Re,_t,It,he,ct=O.data,yt=O.width,qt=O.height,$e=4*yt,Zt=0;Zt<qt;){for(Be=0;Be<$e;){for(it=$e*Zt+Be,_t=-1,It=0,he=0;he<64;he++)Re=it+(It=he>>3)*$e+(_t=4*(7&he)),Zt+It>=qt&&(Re-=$e*(Zt+1+It-qt)),Be+_t>=$e&&(Re-=Be+_t-$e+4),Se=ct[Re++],Fe=ct[Re++],He=ct[Re++],I[he]=(Z[Se]+Z[Fe+256|0]+Z[He+512|0]>>16)-128,F[he]=(Z[Se+768|0]+Z[Fe+1024|0]+Z[He+1280|0]>>16)-128,R[he]=(Z[Se+1280|0]+Z[Fe+1536|0]+Z[He+1792|0]>>16)-128;Q=we(I,m,Q,e,n),oe=we(F,g,oe,t,a),ce=we(R,g,ce,t,a),Be+=32}Zt+=8}if(C>=0){var Qt=[];Qt[1]=C+1,Qt[0]=(1<<C+1)-1,pe(Qt)}return ve(65497),new Uint8Array(j)},r=r||50,(function(){for(var O=String.fromCharCode,G=0;G<256;G++)ae[G]=O(G)})(),e=Y(ee,H),t=Y($,re),n=Y(W,K),a=Y(le,ge),(function(){for(var O=1,G=2,Q=1;Q<=15;Q++){for(var oe=O;oe<G;oe++)B[32767+oe]=Q,b[32767+oe]=[],b[32767+oe][1]=Q,b[32767+oe][0]=oe;for(var ce=-(G-1);ce<=-O;ce++)B[32767+ce]=Q,b[32767+ce]=[],b[32767+ce][1]=Q,b[32767+ce][0]=G-1+ce;O<<=1,G<<=1}})(),(function(){for(var O=0;O<256;O++)Z[O]=19595*O,Z[O+256|0]=38470*O,Z[O+512|0]=7471*O+32768,Z[O+768|0]=-11059*O,Z[O+1024|0]=-21709*O,Z[O+1280|0]=32768*O+8421375,Z[O+1536|0]=-27439*O,Z[O+1792|0]=-5329*O})(),V(r)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ol(r,e){if(this.pos=0,this.buffer=r,this.datav=new DataView(r.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function e_(r){function e(H){if(!H)throw Error("assert :P")}function t(H,W,K){for(var $=0;4>$;$++)if(H[W+$]!=K.charCodeAt($))return!0;return!1}function n(H,W,K,$,re){for(var le=0;le<re;le++)H[W+le]=K[$+le]}function a(H,W,K,$){for(var re=0;re<$;re++)H[W+re]=K}function o(H){return new Int32Array(H)}function c(H,W){for(var K=[],$=0;$<H;$++)K.push(new W);return K}function d(H,W){var K=[];return(function $(re,le,ge){for(var Y=ge[le],pe=0;pe<Y&&(re.push(ge.length>le+1?[]:new W),!(ge.length<le+1));pe++)$(re[pe],le+1,ge)})(K,0,H),K}var h=function(){var H=this;function W(x,w){for(var U=1<<w-1>>>0;x&U;)U>>>=1;return U?(x&U-1)+U:x}function K(x,w,U,M,J){e(!(M%U));do x[w+(M-=U)]=J;while(0<M)}function $(x,w,U,M,J){if(e(2328>=J),512>=J)var te=o(512);else if((te=o(J))==null)return 0;return(function(ie,ue,fe,ye,ke,ze){var be,Te,De=ue,ot=1<<fe,Pe=o(16),at=o(16);for(e(ke!=0),e(ye!=null),e(ie!=null),e(0<fe),Te=0;Te<ke;++Te){if(15<ye[Te])return 0;++Pe[ye[Te]]}if(Pe[0]==ke)return 0;for(at[1]=0,be=1;15>be;++be){if(Pe[be]>1<<be)return 0;at[be+1]=at[be]+Pe[be]}for(Te=0;Te<ke;++Te)be=ye[Te],0<ye[Te]&&(ze[at[be]++]=Te);if(at[15]==1)return(ye=new re).g=0,ye.value=ze[0],K(ie,De,1,ot,ye),ot;var At,Ct=-1,gt=ot-1,dr=0,er=1,Mr=1,ir=1<<fe;for(Te=0,be=1,ke=2;be<=fe;++be,ke<<=1){if(er+=Mr<<=1,0>(Mr-=Pe[be]))return 0;for(;0<Pe[be];--Pe[be])(ye=new re).g=be,ye.value=ze[Te++],K(ie,De+dr,ke,ir,ye),dr=W(dr,be)}for(be=fe+1,ke=2;15>=be;++be,ke<<=1){if(er+=Mr<<=1,0>(Mr-=Pe[be]))return 0;for(;0<Pe[be];--Pe[be]){if(ye=new re,(dr&gt)!=Ct){for(De+=ir,At=1<<(Ct=be)-fe;15>Ct&&!(0>=(At-=Pe[Ct]));)++Ct,At<<=1;ot+=ir=1<<(At=Ct-fe),ie[ue+(Ct=dr&gt)].g=At+fe,ie[ue+Ct].value=De-ue-Ct}ye.g=be-fe,ye.value=ze[Te++],K(ie,De+(dr>>fe),ke,ir,ye),dr=W(dr,be)}}return er!=2*at[15]-1?0:ot})(x,w,U,M,J,te)}function re(){this.value=this.g=0}function le(){this.value=this.g=0}function ge(){this.G=c(5,re),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=c(Si,le)}function Y(x,w,U,M){e(x!=null),e(w!=null),e(2147483648>M),x.Ca=254,x.I=0,x.b=-8,x.Ka=0,x.oa=w,x.pa=U,x.Jd=w,x.Yc=U+M,x.Zc=4<=M?U+M-4+1:U,Se(x)}function pe(x,w){for(var U=0;0<w--;)U|=He(x,128)<<w;return U}function z(x,w){var U=pe(x,w);return Fe(x)?-U:U}function ve(x,w,U,M){var J,te=0;for(e(x!=null),e(w!=null),e(4294967288>M),x.Sb=M,x.Ra=0,x.u=0,x.h=0,4<M&&(M=4),J=0;J<M;++J)te+=w[U+J]<<8*J;x.Ra=te,x.bb=M,x.oa=w,x.pa=U}function we(x){for(;8<=x.u&&x.bb<x.Sb;)x.Ra>>>=8,x.Ra+=x.oa[x.pa+x.bb]<<Ga-8>>>0,++x.bb,x.u-=8;oe(x)&&(x.h=1,x.u=0)}function V(x,w){if(e(0<=w),!x.h&&w<=Wn){var U=Q(x)&Ta[w];return x.u+=w,we(x),U}return x.h=1,x.u=0}function O(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function G(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Q(x){return x.Ra>>>(x.u&Ga-1)>>>0}function oe(x){return e(x.bb<=x.Sb),x.h||x.bb==x.Sb&&x.u>Ga}function ce(x,w){x.u=w,x.h=oe(x)}function Be(x){x.u>=Ii&&(e(x.u>=Ii),we(x))}function Se(x){e(x!=null&&x.oa!=null),x.pa<x.Zc?(x.I=(x.oa[x.pa++]|x.I<<8)>>>0,x.b+=8):(e(x!=null&&x.oa!=null),x.pa<x.Yc?(x.b+=8,x.I=x.oa[x.pa++]|x.I<<8):x.Ka?x.b=0:(x.I<<=8,x.b+=8,x.Ka=1))}function Fe(x){return pe(x,1)}function He(x,w){var U=x.Ca;0>x.b&&Se(x);var M=x.b,J=U*w>>>8,te=(x.I>>>M>J)+0;for(te?(U-=J,x.I-=J+1<<M>>>0):U=J+1,M=U,J=0;256<=M;)J+=8,M>>=8;return M=7^J+Li[M],x.b-=M,x.Ca=(U<<M)-1,te}function it(x,w,U){x[w+0]=U>>24&255,x[w+1]=U>>16&255,x[w+2]=U>>8&255,x[w+3]=255&U}function Re(x,w){return x[w+0]|x[w+1]<<8}function _t(x,w){return Re(x,w)|x[w+2]<<16}function It(x,w){return Re(x,w)|Re(x,w+2)<<16}function he(x,w){var U=1<<w;return e(x!=null),e(0<w),x.X=o(U),x.X==null?0:(x.Mb=32-w,x.Xa=w,1)}function ct(x,w){e(x!=null),e(w!=null),e(x.Xa==w.Xa),n(w.X,0,x.X,0,1<<w.Xa)}function yt(){this.X=[],this.Xa=this.Mb=0}function qt(x,w,U,M){e(U!=null),e(M!=null);var J=U[0],te=M[0];return J==0&&(J=(x*te+w/2)/w),te==0&&(te=(w*J+x/2)/x),0>=J||0>=te?0:(U[0]=J,M[0]=te,1)}function $e(x,w){return x+(1<<w)-1>>>w}function Zt(x,w){return((4278255360&x)+(4278255360&w)>>>0&4278255360)+((16711935&x)+(16711935&w)>>>0&16711935)>>>0}function Qt(x,w){H[w]=function(U,M,J,te,ie,ue,fe){var ye;for(ye=0;ye<ie;++ye){var ke=H[x](ue[fe+ye-1],J,te+ye);ue[fe+ye]=Zt(U[M+ye],ke)}}}function kt(){this.ud=this.hd=this.jd=0}function Kt(x,w){return((4278124286&(x^w))>>>1)+(x&w)>>>0}function Jt(x){return 0<=x&&256>x?x:0>x?0:255<x?255:void 0}function mr(x,w){return Jt(x+(x-w+.5>>1))}function Yt(x,w,U){return Math.abs(w-U)-Math.abs(x-U)}function ar(x,w,U,M,J,te,ie){for(M=te[ie-1],U=0;U<J;++U)te[ie+U]=M=Zt(x[w+U],M)}function cr(x,w,U,M,J){var te;for(te=0;te<U;++te){var ie=x[w+te],ue=ie>>8&255,fe=16711935&(fe=(fe=16711935&ie)+((ue<<16)+ue));M[J+te]=(4278255360&ie)+fe>>>0}}function Ht(x,w){w.jd=255&x,w.hd=x>>8&255,w.ud=x>>16&255}function Vt(x,w,U,M,J,te){var ie;for(ie=0;ie<M;++ie){var ue=w[U+ie],fe=ue>>>8,ye=ue,ke=255&(ke=(ke=ue>>>16)+((x.jd<<24>>24)*(fe<<24>>24)>>>5));ye=255&(ye=(ye+=(x.hd<<24>>24)*(fe<<24>>24)>>>5)+((x.ud<<24>>24)*(ke<<24>>24)>>>5)),J[te+ie]=(4278255360&ue)+(ke<<16)+ye}}function Dt(x,w,U,M,J){H[w]=function(te,ie,ue,fe,ye,ke,ze,be,Te){for(fe=ze;fe<be;++fe)for(ze=0;ze<Te;++ze)ye[ke++]=J(ue[M(te[ie++])])},H[x]=function(te,ie,ue,fe,ye,ke,ze){var be=8>>te.b,Te=te.Ea,De=te.K[0],ot=te.w;if(8>be)for(te=(1<<te.b)-1,ot=(1<<be)-1;ie<ue;++ie){var Pe,at=0;for(Pe=0;Pe<Te;++Pe)Pe&te||(at=M(fe[ye++])),ke[ze++]=J(De[at&ot]),at>>=be}else H["VP8LMapColor"+U](fe,ye,De,ot,ke,ze,ie,ue,Te)}}function Ne(x,w,U,M,J){for(U=w+U;w<U;){var te=x[w++];M[J++]=te>>16&255,M[J++]=te>>8&255,M[J++]=255&te}}function et(x,w,U,M,J){for(U=w+U;w<U;){var te=x[w++];M[J++]=te>>16&255,M[J++]=te>>8&255,M[J++]=255&te,M[J++]=te>>24&255}}function ft(x,w,U,M,J){for(U=w+U;w<U;){var te=(ie=x[w++])>>16&240|ie>>12&15,ie=240&ie|ie>>28&15;M[J++]=te,M[J++]=ie}}function Lt(x,w,U,M,J){for(U=w+U;w<U;){var te=(ie=x[w++])>>16&248|ie>>13&7,ie=ie>>5&224|ie>>3&31;M[J++]=te,M[J++]=ie}}function Ut(x,w,U,M,J){for(U=w+U;w<U;){var te=x[w++];M[J++]=255&te,M[J++]=te>>8&255,M[J++]=te>>16&255}}function Et(x,w,U,M,J,te){if(te==0)for(U=w+U;w<U;)it(M,((te=x[w++])[0]>>24|te[1]>>8&65280|te[2]<<8&16711680|te[3]<<24)>>>0),J+=32;else n(M,J,x,w,U)}function xr(x,w){H[w][0]=H[x+"0"],H[w][1]=H[x+"1"],H[w][2]=H[x+"2"],H[w][3]=H[x+"3"],H[w][4]=H[x+"4"],H[w][5]=H[x+"5"],H[w][6]=H[x+"6"],H[w][7]=H[x+"7"],H[w][8]=H[x+"8"],H[w][9]=H[x+"9"],H[w][10]=H[x+"10"],H[w][11]=H[x+"11"],H[w][12]=H[x+"12"],H[w][13]=H[x+"13"],H[w][14]=H[x+"0"],H[w][15]=H[x+"0"]}function Rt(x){return x==Sl||x==oA||x==Ll||x==A}function de(){this.eb=[],this.size=this.A=this.fb=0}function Ke(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ye(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new de,this.f.kb=new Ke,this.sd=null}function We(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function tt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Tt(x){return alert("todo:WebPSamplerProcessPlane"),x.T}function zt(x,w){var U=x.T,M=w.ba.f.RGBA,J=M.eb,te=M.fb+x.ka*M.A,ie=bs[w.ba.S],ue=x.y,fe=x.O,ye=x.f,ke=x.N,ze=x.ea,be=x.W,Te=w.cc,De=w.dc,ot=w.Mc,Pe=w.Nc,at=x.ka,At=x.ka+x.T,Ct=x.U,gt=Ct+1>>1;for(at==0?ie(ue,fe,null,null,ye,ke,ze,be,ye,ke,ze,be,J,te,null,null,Ct):(ie(w.ec,w.fc,ue,fe,Te,De,ot,Pe,ye,ke,ze,be,J,te-M.A,J,te,Ct),++U);at+2<At;at+=2)Te=ye,De=ke,ot=ze,Pe=be,ke+=x.Rc,be+=x.Rc,te+=2*M.A,ie(ue,(fe+=2*x.fa)-x.fa,ue,fe,Te,De,ot,Pe,ye,ke,ze,be,J,te-M.A,J,te,Ct);return fe+=x.fa,x.j+At<x.o?(n(w.ec,w.fc,ue,fe,Ct),n(w.cc,w.dc,ye,ke,gt),n(w.Mc,w.Nc,ze,be,gt),U--):1&At||ie(ue,fe,null,null,ye,ke,ze,be,ye,ke,ze,be,J,te+M.A,null,null,Ct),U}function Wt(x,w,U){var M=x.F,J=[x.J];if(M!=null){var te=x.U,ie=w.ba.S,ue=ie==El||ie==Ll;w=w.ba.f.RGBA;var fe=[0],ye=x.ka;fe[0]=x.T,x.Kb&&(ye==0?--fe[0]:(--ye,J[0]-=x.width),x.j+x.ka+x.T==x.o&&(fe[0]=x.o-x.j-ye));var ke=w.eb;ye=w.fb+ye*w.A,x=Nl(M,J[0],x.width,te,fe,ke,ye+(ue?0:3),w.A),e(U==fe),x&&Rt(ie)&&ui(ke,ye,ue,te,fe,w.A)}return 0}function Lr(x){var w=x.ma,U=w.ba.S,M=11>U,J=U==Ws||U==$a||U==El||U==Wo||U==12||Rt(U);if(w.memory=null,w.Ib=null,w.Jb=null,w.Nd=null,!lo(w.Oa,x,J?11:12))return 0;if(J&&Rt(U)&&oo(),x.da)alert("todo:use_scaling");else{if(M){if(w.Ib=Tt,x.Kb){if(U=x.U+1>>1,w.memory=o(x.U+2*U),w.memory==null)return 0;w.ec=w.memory,w.fc=0,w.cc=w.ec,w.dc=w.fc+x.U,w.Mc=w.cc,w.Nc=w.dc+U,w.Ib=zt,oo()}}else alert("todo:EmitYUV");J&&(w.Jb=Wt,M&&Ys())}if(M&&!Fl){for(x=0;256>x;++x)Ca[x]=89858*(x-128)+MA>>qi,Dm[x]=-22014*(x-128)+MA,Yh[x]=-45773*(x-128),au[x]=113618*(x-128)+MA>>qi;for(x=lA;x<Tl;++x)w=76283*(x-16)+MA>>qi,Rm[x-lA]=br(w,255),Pm[x-lA]=br(w+8>>4,15);Fl=1}return 1}function vt(x){var w=x.ma,U=x.U,M=x.T;return e(!(1&x.ka)),0>=U||0>=M?0:(U=w.Ib(x,w),w.Jb!=null&&w.Jb(x,w,U),w.Dc+=U,1)}function Rr(x){x.ma.memory=null}function fr(x,w,U,M){return V(x,8)!=47?0:(w[0]=V(x,14)+1,U[0]=V(x,14)+1,M[0]=V(x,1),V(x,3)!=0?0:!x.h)}function pr(x,w){if(4>x)return x+1;var U=x-2>>1;return(2+(1&x)<<U)+V(w,U)+1}function Pr(x,w){return 120<w?w-120:1<=(U=((U=Ce[w-1])>>4)*x+(8-(15&U)))?U:1;var U}function je(x,w,U){var M=Q(U),J=x[w+=255&M].g-8;return 0<J&&(ce(U,U.u+8),M=Q(U),w+=x[w].value,w+=M&(1<<J)-1),ce(U,U.u+x[w].g),x[w].value}function Me(x,w,U){return U.g+=x.g,U.value+=x.value<<w>>>0,e(8>=U.g),x.g}function $t(x,w,U){var M=x.xc;return e((w=M==0?0:x.vc[x.md*(U>>M)+(w>>M)])<x.Wb),x.Ya[w]}function Ir(x,w,U,M){var J=x.ab,te=x.c*w,ie=x.C;w=ie+w;var ue=U,fe=M;for(M=x.Ta,U=x.Ua;0<J--;){var ye=x.gc[J],ke=ie,ze=w,be=ue,Te=fe,De=(fe=M,ue=U,ye.Ea);switch(e(ke<ze),e(ze<=ye.nc),ye.hc){case 2:os(be,Te,(ze-ke)*De,fe,ue);break;case 0:var ot=ke,Pe=ze,at=fe,At=ue,Ct=(ir=ye).Ea;ot==0&&(_l(be,Te,null,null,1,at,At),ar(be,Te+1,0,0,Ct-1,at,At+1),Te+=Ct,At+=Ct,++ot);for(var gt=1<<ir.b,dr=gt-1,er=$e(Ct,ir.b),Mr=ir.K,ir=ir.w+(ot>>ir.b)*er;ot<Pe;){var sn=Mr,$n=ir,zr=1;for(Fa(be,Te,at,At-Ct,1,at,At);zr<Ct;){var tr=(zr&~dr)+gt;tr>Ct&&(tr=Ct),(0,Mi[sn[$n++]>>8&15])(be,Te+ +zr,at,At+zr-Ct,tr-zr,at,At+zr),zr=tr}Te+=Ct,At+=Ct,++ot&dr||(ir+=er)}ze!=ye.nc&&n(fe,ue-De,fe,ue+(ze-ke-1)*De,De);break;case 1:for(De=be,Pe=Te,Ct=(be=ye.Ea)-(At=be&~(at=(Te=1<<ye.b)-1)),ot=$e(be,ye.b),gt=ye.K,ye=ye.w+(ke>>ye.b)*ot;ke<ze;){for(dr=gt,er=ye,Mr=new kt,ir=Pe+At,sn=Pe+be;Pe<ir;)Ht(dr[er++],Mr),Uo(Mr,De,Pe,Te,fe,ue),Pe+=Te,ue+=Te;Pe<sn&&(Ht(dr[er++],Mr),Uo(Mr,De,Pe,Ct,fe,ue),Pe+=Ct,ue+=Ct),++ke&at||(ye+=ot)}break;case 3:if(be==fe&&Te==ue&&0<ye.b){for(Pe=fe,be=De=ue+(ze-ke)*De-(At=(ze-ke)*$e(ye.Ea,ye.b)),Te=fe,at=ue,ot=[],At=(Ct=At)-1;0<=At;--At)ot[At]=Te[at+At];for(At=Ct-1;0<=At;--At)Pe[be+At]=ot[At];co(ye,ke,ze,fe,De,fe,ue)}else co(ye,ke,ze,be,Te,fe,ue)}ue=M,fe=U}fe!=U&&n(M,U,ue,fe,te)}function jr(x,w){var U=x.V,M=x.Ba+x.c*x.C,J=w-x.C;if(e(w<=x.l.o),e(16>=J),0<J){var te=x.l,ie=x.Ta,ue=x.Ua,fe=te.width;if(Ir(x,J,U,M),J=ue=[ue],e((U=x.C)<(M=w)),e(te.v<te.va),M>te.o&&(M=te.o),U<te.j){var ye=te.j-U;U=te.j,J[0]+=ye*fe}if(U>=M?U=0:(J[0]+=4*te.v,te.ka=U-te.j,te.U=te.va-te.v,te.T=M-U,U=1),U){if(ue=ue[0],11>(U=x.ca).S){var ke=U.f.RGBA,ze=(M=U.S,J=te.U,te=te.T,ye=ke.eb,ke.A),be=te;for(ke=ke.fb+x.Ma*ke.A;0<be--;){var Te=ie,De=ue,ot=J,Pe=ye,at=ke;switch(M){case IA:uo(Te,De,ot,Pe,at);break;case Ws:ji(Te,De,ot,Pe,at);break;case Sl:ji(Te,De,ot,Pe,at),ui(Pe,at,0,ot,1,0);break;case iA:Di(Te,De,ot,Pe,at);break;case $a:Et(Te,De,ot,Pe,at,1);break;case oA:Et(Te,De,ot,Pe,at,1),ui(Pe,at,0,ot,1,0);break;case El:Et(Te,De,ot,Pe,at,0);break;case Ll:Et(Te,De,ot,Pe,at,0),ui(Pe,at,1,ot,1,0);break;case Wo:ci(Te,De,ot,Pe,at);break;case A:ci(Te,De,ot,Pe,at),Va(Pe,at,ot,1,0);break;case To:ya(Te,De,ot,Pe,at);break;default:e(0)}ue+=fe,ke+=ze}x.Ma+=te}else alert("todo:EmitRescaledRowsYUVA");e(x.Ma<=U.height)}}x.C=w,e(x.C<=x.i)}function Gr(x){var w;if(0<x.ua)return 0;for(w=0;w<x.Wb;++w){var U=x.Ya[w].G,M=x.Ya[w].H;if(0<U[1][M[1]+0].g||0<U[2][M[2]+0].g||0<U[3][M[3]+0].g)return 0}return 1}function Xr(x,w,U,M,J,te){if(x.Z!=0){var ie=x.qd,ue=x.rd;for(e(Bn[x.Z]!=null);w<U;++w)Bn[x.Z](ie,ue,M,J,M,J,te),ie=M,ue=J,J+=te;x.qd=ie,x.rd=ue}}function Fn(x,w){var U=x.l.ma,M=U.Z==0||U.Z==1?x.l.j:x.C;if(M=x.C<M?M:x.C,e(w<=x.l.o),w>M){var J=x.l.width,te=U.ca,ie=U.tb+J*M,ue=x.V,fe=x.Ba+x.c*M,ye=x.gc;e(x.ab==1),e(ye[0].hc==3),Is(ye[0],M,w,ue,fe,te,ie),Xr(U,M,w,te,ie,J)}x.C=x.Ma=w}function wn(x,w,U,M,J,te,ie){var ue=x.$/M,fe=x.$%M,ye=x.m,ke=x.s,ze=U+x.$,be=ze;J=U+M*J;var Te=U+M*te,De=280+ke.ua,ot=x.Pb?ue:16777216,Pe=0<ke.ua?ke.Wa:null,at=ke.wc,At=ze<Te?$t(ke,fe,ue):null;e(x.C<te),e(Te<=J);var Ct=!1;e:for(;;){for(;Ct||ze<Te;){var gt=0;if(ue>=ot){var dr=ze-U;e((ot=x).Pb),ot.wd=ot.m,ot.xd=dr,0<ot.s.ua&&ct(ot.s.Wa,ot.s.vb),ot=ue+Ve}if(fe&at||(At=$t(ke,fe,ue)),e(At!=null),At.Qb&&(w[ze]=At.qb,Ct=!0),!Ct)if(Be(ye),At.jc){gt=ye,dr=w;var er=ze,Mr=At.pd[Q(gt)&Si-1];e(At.jc),256>Mr.g?(ce(gt,gt.u+Mr.g),dr[er]=Mr.value,gt=0):(ce(gt,gt.u+Mr.g-256),e(256<=Mr.value),gt=Mr.value),gt==0&&(Ct=!0)}else gt=je(At.G[0],At.H[0],ye);if(ye.h)break;if(Ct||256>gt){if(!Ct)if(At.nd)w[ze]=(At.qb|gt<<8)>>>0;else{if(Be(ye),Ct=je(At.G[1],At.H[1],ye),Be(ye),dr=je(At.G[2],At.H[2],ye),er=je(At.G[3],At.H[3],ye),ye.h)break;w[ze]=(er<<24|Ct<<16|gt<<8|dr)>>>0}if(Ct=!1,++ze,++fe>=M&&(fe=0,++ue,ie!=null&&ue<=te&&!(ue%16)&&ie(x,ue),Pe!=null))for(;be<ze;)gt=w[be++],Pe.X[(506832829*gt&4294967295)>>>Pe.Mb]=gt}else if(280>gt){if(gt=pr(gt-256,ye),dr=je(At.G[4],At.H[4],ye),Be(ye),dr=Pr(M,dr=pr(dr,ye)),ye.h)break;if(ze-U<dr||J-ze<gt)break e;for(er=0;er<gt;++er)w[ze+er]=w[ze+er-dr];for(ze+=gt,fe+=gt;fe>=M;)fe-=M,++ue,ie!=null&&ue<=te&&!(ue%16)&&ie(x,ue);if(e(ze<=J),fe&at&&(At=$t(ke,fe,ue)),Pe!=null)for(;be<ze;)gt=w[be++],Pe.X[(506832829*gt&4294967295)>>>Pe.Mb]=gt}else{if(!(gt<De))break e;for(Ct=gt-280,e(Pe!=null);be<ze;)gt=w[be++],Pe.X[(506832829*gt&4294967295)>>>Pe.Mb]=gt;gt=ze,e(!(Ct>>>(dr=Pe).Xa)),w[gt]=dr.X[Ct],Ct=!0}Ct||e(ye.h==oe(ye))}if(x.Pb&&ye.h&&ze<J)e(x.m.h),x.a=5,x.m=x.wd,x.$=x.xd,0<x.s.ua&&ct(x.s.vb,x.s.Wa);else{if(ye.h)break e;ie!=null&&ie(x,ue>te?te:ue),x.a=0,x.$=ze-U}return 1}return x.a=3,0}function Hn(x){e(x!=null),x.vc=null,x.yc=null,x.Ya=null;var w=x.Wa;w!=null&&(w.X=null),x.vb=null,e(x!=null)}function jn(){var x=new Er;return x==null?null:(x.a=0,x.xb=OA,xr("Predictor","VP8LPredictors"),xr("Predictor","VP8LPredictors_C"),xr("PredictorAdd","VP8LPredictorsAdd"),xr("PredictorAdd","VP8LPredictorsAdd_C"),os=cr,Uo=Vt,uo=Ne,ji=et,ci=ft,ya=Lt,Di=Ut,H.VP8LMapColor32b=Oi,H.VP8LMapColor8b=gs,x)}function Ns(x,w,U,M,J){var te=1,ie=[x],ue=[w],fe=M.m,ye=M.s,ke=null,ze=0;e:for(;;){if(U)for(;te&&V(fe,1);){var be=ie,Te=ue,De=M,ot=1,Pe=De.m,at=De.gc[De.ab],At=V(Pe,2);if(De.Oc&1<<At)te=0;else{switch(De.Oc|=1<<At,at.hc=At,at.Ea=be[0],at.nc=Te[0],at.K=[null],++De.ab,e(4>=De.ab),At){case 0:case 1:at.b=V(Pe,3)+2,ot=Ns($e(at.Ea,at.b),$e(at.nc,at.b),0,De,at.K),at.K=at.K[0];break;case 3:var Ct,gt=V(Pe,8)+1,dr=16<gt?0:4<gt?1:2<gt?2:3;if(be[0]=$e(at.Ea,dr),at.b=dr,Ct=ot=Ns(gt,1,0,De,at.K)){var er,Mr=gt,ir=at,sn=1<<(8>>ir.b),$n=o(sn);if($n==null)Ct=0;else{var zr=ir.K[0],tr=ir.w;for($n[0]=ir.K[0][0],er=1;er<1*Mr;++er)$n[er]=Zt(zr[tr+er],$n[er-1]);for(;er<4*sn;++er)$n[er]=0;ir.K[0]=null,ir.K[0]=$n,Ct=1}}ot=Ct;break;case 2:break;default:e(0)}te=ot}}if(ie=ie[0],ue=ue[0],te&&V(fe,1)&&!(te=1<=(ze=V(fe,4))&&11>=ze)){M.a=3;break e}var Pt;if(Pt=te)t:{var As,Sr,$r,En=M,ta=ie,Ea=ue,zn=ze,Ms=U,Qa=En.m,Ds=En.s,Wr=[null],xn=1,cs=0,yn=Ie[zn];r:for(;;){if(Ms&&V(Qa,1)){var ra=V(Qa,3)+2,us=$e(ta,ra),bn=$e(Ea,ra),Us=us*bn;if(!Ns(us,bn,0,En,Wr))break r;for(Wr=Wr[0],Ds.xc=ra,As=0;As<Us;++As){var Sn=Wr[As]>>8&65535;Wr[As]=Sn,Sn>=xn&&(xn=Sn+1)}}if(Qa.h)break r;for(Sr=0;5>Sr;++Sr){var Rs=E[Sr];!Sr&&0<zn&&(Rs+=1<<zn),cs<Rs&&(cs=Rs)}var Ps=c(xn*yn,re),In=xn,fn=c(In,ge);if(fn==null)var Ia=null;else e(65536>=In),Ia=fn;var vs=o(cs);if(Ia==null||vs==null||Ps==null){En.a=1;break r}var _r=Ps;for(As=$r=0;As<xn;++As){var Br=Ia[As],vn=Br.G,fi=Br.H,Ki=0,Xa=1,Hs=0;for(Sr=0;5>Sr;++Sr){Rs=E[Sr],vn[Sr]=_r,fi[Sr]=$r,!Sr&&0<zn&&(Rs+=1<<zn);s:{var Ql,Il=Rs,ou=En,qn=vs,vd=_r,yd=$r,lu=0,tl=ou.m,Hm=V(tl,1);if(a(qn,0,0,Il),Hm){var wd=V(tl,1)+1,_d=V(tl,1),Au=V(tl,_d==0?1:8);qn[Au]=1,wd==2&&(qn[Au=V(tl,8)]=1);var da=1}else{var ys=o(19),Bc=V(tl,4)+4;if(19<Bc){ou.a=3;var Ol=0;break s}for(Ql=0;Ql<Bc;++Ql)ys[ne[Ql]]=V(tl,3);var RA=void 0,AA=void 0,Qo=ou,cu=ys,PA=Il,uu=qn,du=0,rl=Qo.m,Bd=8,Nd=c(128,re);n:for(;$(Nd,0,7,cu,19);){if(V(rl,1)){var Xh=2+2*V(rl,3);if((RA=2+V(rl,Xh))>PA)break n}else RA=PA;for(AA=0;AA<PA&&RA--;){Be(rl);var Cd=Nd[0+(127&Q(rl))];ce(rl,rl.u+Cd.g);var Ml=Cd.value;if(16>Ml)uu[AA++]=Ml,Ml!=0&&(Bd=Ml);else{var Jh=Ml==16,Wh=Ml-16,ef=v[Wh],Ed=V(rl,f[Wh])+ef;if(AA+Ed>PA)break n;for(var tf=Jh?Bd:0;0<Ed--;)uu[AA++]=tf}}du=1;break n}du||(Qo.a=3),da=du}(da=da&&!tl.h)&&(lu=$(vd,yd,8,qn,Il)),da&&lu!=0?Ol=lu:(ou.a=3,Ol=0)}if(Ol==0)break r;if(Xa&&D[Sr]==1&&(Xa=_r[$r].g==0),Ki+=_r[$r].g,$r+=Ol,3>=Sr){var cA,hu=vs[0];for(cA=1;cA<Rs;++cA)vs[cA]>hu&&(hu=vs[cA]);Hs+=hu}}if(Br.nd=Xa,Br.Qb=0,Xa&&(Br.qb=(vn[3][fi[3]+0].value<<24|vn[1][fi[1]+0].value<<16|vn[2][fi[2]+0].value)>>>0,Ki==0&&256>vn[0][fi[0]+0].value&&(Br.Qb=1,Br.qb+=vn[0][fi[0]+0].value<<8)),Br.jc=!Br.Qb&&6>Hs,Br.jc){var Nc,Io=Br;for(Nc=0;Nc<Si;++Nc){var nl=Nc,sl=Io.pd[nl],fu=Io.G[0][Io.H[0]+nl];256<=fu.value?(sl.g=fu.g+256,sl.value=fu.value):(sl.g=0,sl.value=0,nl>>=Me(fu,8,sl),nl>>=Me(Io.G[1][Io.H[1]+nl],16,sl),nl>>=Me(Io.G[2][Io.H[2]+nl],0,sl),Me(Io.G[3][Io.H[3]+nl],24,sl))}}}Ds.vc=Wr,Ds.Wb=xn,Ds.Ya=Ia,Ds.yc=Ps,Pt=1;break t}Pt=0}if(!(te=Pt)){M.a=3;break e}if(0<ze){if(ye.ua=1<<ze,!he(ye.Wa,ze)){M.a=1,te=0;break e}}else ye.ua=0;var pu=M,uA=ie,rf=ue,HA=pu.s,zA=HA.xc;if(pu.c=uA,pu.i=rf,HA.md=$e(uA,zA),HA.wc=zA==0?-1:(1<<zA)-1,U){M.xb=Fo;break e}if((ke=o(ie*ue))==null){M.a=1,te=0;break e}te=(te=wn(M,ke,0,ie,ue,ue,null))&&!fe.h;break e}return te?(J!=null?J[0]=ke:(e(ke==null),e(U)),M.$=0,U||Hn(ye)):Hn(ye),te}function wr(x,w){var U=x.c*x.i,M=U+w+16*w;return e(x.c<=w),x.V=o(M),x.V==null?(x.Ta=null,x.Ua=0,x.a=1,0):(x.Ta=x.V,x.Ua=x.Ba+U+w,1)}function xa(x,w){var U=x.C,M=w-U,J=x.V,te=x.Ba+x.c*U;for(e(w<=x.l.o);0<M;){var ie=16<M?16:M,ue=x.l.ma,fe=x.l.width,ye=fe*ie,ke=ue.ca,ze=ue.tb+fe*U,be=x.Ta,Te=x.Ua;Ir(x,ie,J,te),Za(be,Te,ke,ze,ye),Xr(ue,U,U+ie,ke,ze,fe),M-=ie,J+=ie*x.c,U+=ie}e(U==w),x.C=x.Ma=w}function fs(){this.ub=this.yd=this.td=this.Rb=0}function Zs(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function se(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function pt(){this.Yb=(function(){var x=[];return(function w(U,M,J){for(var te=J[M],ie=0;ie<te&&(U.push(J.length>M+1?[]:0),!(J.length<M+1));ie++)w(U[ie],M+1,J)})(x,0,[3,11]),x})()}function bt(){this.jb=o(3),this.Wc=d([4,8],pt),this.Xc=d([4,17],pt)}function ut(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function Gt(){this.ld=this.La=this.dd=this.tc=0}function ur(){this.Na=this.la=0}function Fr(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function ln(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Fs(){this.uc=this.M=this.Nb=0,this.wa=Array(new Gt),this.Y=0,this.ya=Array(new ln),this.aa=0,this.l=new Qr}function ps(){this.y=o(16),this.f=o(8),this.ea=o(8)}function Cs(){this.cb=this.a=0,this.sc="",this.m=new O,this.Od=new fs,this.Kc=new Zs,this.ed=new ut,this.Qa=new se,this.Ic=this.$c=this.Aa=0,this.D=new Fs,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=c(8,O),this.ia=0,this.pb=c(4,Fr),this.Pa=new bt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ps),this.Hd=0,this.rb=Array(new ur),this.sb=0,this.wa=Array(new Gt),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new ln),this.L=this.aa=0,this.gd=d([4,2],Gt),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function br(x,w){return 0>x?0:x>w?w:x}function Qr(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Jn(){var x=new Cs;return x!=null&&(x.a=0,x.sc="OK",x.cb=0,x.Xb=0,lr||(lr=rt)),x}function _e(x,w,U){return x.a==0&&(x.a=w,x.sc=U,x.cb=0),0}function nt(x,w,U){return 3<=U&&x[w+0]==157&&x[w+1]==1&&x[w+2]==42}function Ft(x,w){if(x==null)return 0;if(x.a=0,x.sc="OK",w==null)return _e(x,2,"null VP8Io passed to VP8GetHeaders()");var U=w.data,M=w.w,J=w.ha;if(4>J)return _e(x,7,"Truncated header.");var te=U[M+0]|U[M+1]<<8|U[M+2]<<16,ie=x.Od;if(ie.Rb=!(1&te),ie.td=te>>1&7,ie.yd=te>>4&1,ie.ub=te>>5,3<ie.td)return _e(x,3,"Incorrect keyframe parameters.");if(!ie.yd)return _e(x,4,"Frame not displayable.");M+=3,J-=3;var ue=x.Kc;if(ie.Rb){if(7>J)return _e(x,7,"cannot parse picture header");if(!nt(U,M,J))return _e(x,3,"Bad code word");ue.c=16383&(U[M+4]<<8|U[M+3]),ue.Td=U[M+4]>>6,ue.i=16383&(U[M+6]<<8|U[M+5]),ue.Ud=U[M+6]>>6,M+=7,J-=7,x.za=ue.c+15>>4,x.Ub=ue.i+15>>4,w.width=ue.c,w.height=ue.i,w.Da=0,w.j=0,w.v=0,w.va=w.width,w.o=w.height,w.da=0,w.ib=w.width,w.hb=w.height,w.U=w.width,w.T=w.height,a((te=x.Pa).jb,0,255,te.jb.length),e((te=x.Qa)!=null),te.Cb=0,te.Bb=0,te.Fb=1,a(te.Zb,0,0,te.Zb.length),a(te.Lb,0,0,te.Lb)}if(ie.ub>J)return _e(x,7,"bad partition length");Y(te=x.m,U,M,ie.ub),M+=ie.ub,J-=ie.ub,ie.Rb&&(ue.Ld=Fe(te),ue.Kd=Fe(te)),ue=x.Qa;var fe,ye=x.Pa;if(e(te!=null),e(ue!=null),ue.Cb=Fe(te),ue.Cb){if(ue.Bb=Fe(te),Fe(te)){for(ue.Fb=Fe(te),fe=0;4>fe;++fe)ue.Zb[fe]=Fe(te)?z(te,7):0;for(fe=0;4>fe;++fe)ue.Lb[fe]=Fe(te)?z(te,6):0}if(ue.Bb)for(fe=0;3>fe;++fe)ye.jb[fe]=Fe(te)?pe(te,8):255}else ue.Bb=0;if(te.Ka)return _e(x,3,"cannot parse segment header");if((ue=x.ed).zd=Fe(te),ue.Tb=pe(te,6),ue.wb=pe(te,3),ue.Pc=Fe(te),ue.Pc&&Fe(te)){for(ye=0;4>ye;++ye)Fe(te)&&(ue.vd[ye]=z(te,6));for(ye=0;4>ye;++ye)Fe(te)&&(ue.od[ye]=z(te,6))}if(x.L=ue.Tb==0?0:ue.zd?1:2,te.Ka)return _e(x,3,"cannot parse filter header");var ke=J;if(J=fe=M,M=fe+ke,ue=ke,x.Xb=(1<<pe(x.m,2))-1,ke<3*(ye=x.Xb))U=7;else{for(fe+=3*ye,ue-=3*ye,ke=0;ke<ye;++ke){var ze=U[J+0]|U[J+1]<<8|U[J+2]<<16;ze>ue&&(ze=ue),Y(x.Jc[+ke],U,fe,ze),fe+=ze,ue-=ze,J+=3}Y(x.Jc[+ye],U,fe,ue),U=fe<M?0:5}if(U!=0)return _e(x,U,"cannot parse partitions");for(U=pe(fe=x.m,7),J=Fe(fe)?z(fe,4):0,M=Fe(fe)?z(fe,4):0,ue=Fe(fe)?z(fe,4):0,ye=Fe(fe)?z(fe,4):0,fe=Fe(fe)?z(fe,4):0,ke=x.Qa,ze=0;4>ze;++ze){if(ke.Cb){var be=ke.Zb[ze];ke.Fb||(be+=U)}else{if(0<ze){x.pb[ze]=x.pb[0];continue}be=U}var Te=x.pb[ze];Te.Sc[0]=dt[br(be+J,127)],Te.Sc[1]=Mt[br(be+0,127)],Te.Eb[0]=2*dt[br(be+M,127)],Te.Eb[1]=101581*Mt[br(be+ue,127)]>>16,8>Te.Eb[1]&&(Te.Eb[1]=8),Te.Qc[0]=dt[br(be+ye,117)],Te.Qc[1]=Mt[br(be+fe,127)],Te.lc=be+fe}if(!ie.Rb)return _e(x,4,"Not a key frame.");for(Fe(te),ie=x.Pa,U=0;4>U;++U){for(J=0;8>J;++J)for(M=0;3>M;++M)for(ue=0;11>ue;++ue)ye=He(te,gn[U][J][M][ue])?pe(te,8):Ya[U][J][M][ue],ie.Wc[U][J].Yb[M][ue]=ye;for(J=0;17>J;++J)ie.Xc[U][J]=ie.Wc[U][en[J]]}return x.kc=Fe(te),x.kc&&(x.Bd=pe(te,8)),x.cb=1}function rt(x,w,U,M,J,te,ie){var ue=w[J].Yb[U];for(U=0;16>J;++J){if(!He(x,ue[U+0]))return J;for(;!He(x,ue[U+1]);)if(ue=w[++J].Yb[0],U=0,J==16)return 16;var fe=w[J+1].Yb;if(He(x,ue[U+2])){var ye=x,ke=0;if(He(ye,(be=ue)[(ze=U)+3]))if(He(ye,be[ze+6])){for(ue=0,ze=2*(ke=He(ye,be[ze+8]))+(be=He(ye,be[ze+9+ke])),ke=0,be=Zr[ze];be[ue];++ue)ke+=ke+He(ye,be[ue]);ke+=3+(8<<ze)}else He(ye,be[ze+7])?(ke=7+2*He(ye,165),ke+=He(ye,145)):ke=5+He(ye,159);else ke=He(ye,be[ze+4])?3+He(ye,be[ze+5]):2;ue=fe[2]}else ke=1,ue=fe[1];fe=ie+ea[J],0>(ye=x).b&&Se(ye);var ze,be=ye.b,Te=(ze=ye.Ca>>1)-(ye.I>>be)>>31;--ye.b,ye.Ca+=Te,ye.Ca|=1,ye.I-=(ze+1&Te)<<be,te[fe]=((ke^Te)-Te)*M[(0<J)+0]}return 16}function Bt(x){var w=x.rb[x.sb-1];w.la=0,w.Na=0,a(x.zc,0,0,x.zc.length),x.ja=0}function Nt(x,w,U,M,J){J=x[w+U+32*M]+(J>>3),x[w+U+32*M]=-256&J?0>J?0:255:J}function St(x,w,U,M,J,te){Nt(x,w,0,U,M+J),Nt(x,w,1,U,M+te),Nt(x,w,2,U,M-te),Nt(x,w,3,U,M-J)}function nr(x){return(20091*x>>16)+x}function tn(x,w,U,M){var J,te=0,ie=o(16);for(J=0;4>J;++J){var ue=x[w+0]+x[w+8],fe=x[w+0]-x[w+8],ye=(35468*x[w+4]>>16)-nr(x[w+12]),ke=nr(x[w+4])+(35468*x[w+12]>>16);ie[te+0]=ue+ke,ie[te+1]=fe+ye,ie[te+2]=fe-ye,ie[te+3]=ue-ke,te+=4,w++}for(J=te=0;4>J;++J)ue=(x=ie[te+0]+4)+ie[te+8],fe=x-ie[te+8],ye=(35468*ie[te+4]>>16)-nr(ie[te+12]),Nt(U,M,0,0,ue+(ke=nr(ie[te+4])+(35468*ie[te+12]>>16))),Nt(U,M,1,0,fe+ye),Nt(U,M,2,0,fe-ye),Nt(U,M,3,0,ue-ke),te++,M+=32}function Hr(x,w,U,M){var J=x[w+0]+4,te=35468*x[w+4]>>16,ie=nr(x[w+4]),ue=35468*x[w+1]>>16;St(U,M,0,J+ie,x=nr(x[w+1]),ue),St(U,M,1,J+te,x,ue),St(U,M,2,J-te,x,ue),St(U,M,3,J-ie,x,ue)}function ss(x,w,U,M,J){tn(x,w,U,M),J&&tn(x,w+16,U,M+4)}function Cr(x,w,U,M){Ri(x,w+0,U,M,1),Ri(x,w+32,U,M+128,1)}function la(x,w,U,M){var J;for(x=x[w+0]+4,J=0;4>J;++J)for(w=0;4>w;++w)Nt(U,M,w,J,x)}function si(x,w,U,M){x[w+0]&&hn(x,w+0,U,M),x[w+16]&&hn(x,w+16,U,M+4),x[w+32]&&hn(x,w+32,U,M+128),x[w+48]&&hn(x,w+48,U,M+128+4)}function $s(x,w,U,M){var J,te=o(16);for(J=0;4>J;++J){var ie=x[w+0+J]+x[w+12+J],ue=x[w+4+J]+x[w+8+J],fe=x[w+4+J]-x[w+8+J],ye=x[w+0+J]-x[w+12+J];te[0+J]=ie+ue,te[8+J]=ie-ue,te[4+J]=ye+fe,te[12+J]=ye-fe}for(J=0;4>J;++J)ie=(x=te[0+4*J]+3)+te[3+4*J],ue=te[1+4*J]+te[2+4*J],fe=te[1+4*J]-te[2+4*J],ye=x-te[3+4*J],U[M+0]=ie+ue>>3,U[M+16]=ye+fe>>3,U[M+32]=ie-ue>>3,U[M+48]=ye-fe>>3,M+=64}function _i(x,w,U){var M,J=w-32,te=Js,ie=255-x[J-1];for(M=0;M<U;++M){var ue,fe=te,ye=ie+x[w-1];for(ue=0;ue<U;++ue)x[w+ue]=fe[ye+x[J+ue]];w+=32}}function Co(x,w){_i(x,w,4)}function bl(x,w){_i(x,w,8)}function Go(x,w){_i(x,w,16)}function Eo(x,w){var U;for(U=0;16>U;++U)n(x,w+32*U,x,w-32,16)}function vl(x,w){var U;for(U=16;0<U;--U)a(x,w,x[w-1],16),w+=32}function Aa(x,w,U){var M;for(M=0;16>M;++M)a(w,U+32*M,x,16)}function ka(x,w){var U,M=16;for(U=0;16>U;++U)M+=x[w-1+32*U]+x[w+U-32];Aa(M>>5,x,w)}function Ui(x,w){var U,M=8;for(U=0;16>U;++U)M+=x[w-1+32*U];Aa(M>>4,x,w)}function no(x,w){var U,M=8;for(U=0;16>U;++U)M+=x[w+U-32];Aa(M>>4,x,w)}function So(x,w){Aa(128,x,w)}function jt(x,w,U){return x+2*w+U+2>>2}function Ra(x,w){var U,M=w-32;for(M=new Uint8Array([jt(x[M-1],x[M+0],x[M+1]),jt(x[M+0],x[M+1],x[M+2]),jt(x[M+1],x[M+2],x[M+3]),jt(x[M+2],x[M+3],x[M+4])]),U=0;4>U;++U)n(x,w+32*U,M,0,M.length)}function pn(x,w){var U=x[w-1],M=x[w-1+32],J=x[w-1+64],te=x[w-1+96];it(x,w+0,16843009*jt(x[w-1-32],U,M)),it(x,w+32,16843009*jt(U,M,J)),it(x,w+64,16843009*jt(M,J,te)),it(x,w+96,16843009*jt(J,te,te))}function tA(x,w){var U,M=4;for(U=0;4>U;++U)M+=x[w+U-32]+x[w-1+32*U];for(M>>=3,U=0;4>U;++U)a(x,w+32*U,M,4)}function ba(x,w){var U=x[w-1+0],M=x[w-1+32],J=x[w-1+64],te=x[w-1-32],ie=x[w+0-32],ue=x[w+1-32],fe=x[w+2-32],ye=x[w+3-32];x[w+0+96]=jt(M,J,x[w-1+96]),x[w+1+96]=x[w+0+64]=jt(U,M,J),x[w+2+96]=x[w+1+64]=x[w+0+32]=jt(te,U,M),x[w+3+96]=x[w+2+64]=x[w+1+32]=x[w+0+0]=jt(ie,te,U),x[w+3+64]=x[w+2+32]=x[w+1+0]=jt(ue,ie,te),x[w+3+32]=x[w+2+0]=jt(fe,ue,ie),x[w+3+0]=jt(ye,fe,ue)}function Es(x,w){var U=x[w+1-32],M=x[w+2-32],J=x[w+3-32],te=x[w+4-32],ie=x[w+5-32],ue=x[w+6-32],fe=x[w+7-32];x[w+0+0]=jt(x[w+0-32],U,M),x[w+1+0]=x[w+0+32]=jt(U,M,J),x[w+2+0]=x[w+1+32]=x[w+0+64]=jt(M,J,te),x[w+3+0]=x[w+2+32]=x[w+1+64]=x[w+0+96]=jt(J,te,ie),x[w+3+32]=x[w+2+64]=x[w+1+96]=jt(te,ie,ue),x[w+3+64]=x[w+2+96]=jt(ie,ue,fe),x[w+3+96]=jt(ue,fe,fe)}function Vo(x,w){var U=x[w-1+0],M=x[w-1+32],J=x[w-1+64],te=x[w-1-32],ie=x[w+0-32],ue=x[w+1-32],fe=x[w+2-32],ye=x[w+3-32];x[w+0+0]=x[w+1+64]=te+ie+1>>1,x[w+1+0]=x[w+2+64]=ie+ue+1>>1,x[w+2+0]=x[w+3+64]=ue+fe+1>>1,x[w+3+0]=fe+ye+1>>1,x[w+0+96]=jt(J,M,U),x[w+0+64]=jt(M,U,te),x[w+0+32]=x[w+1+96]=jt(U,te,ie),x[w+1+32]=x[w+2+96]=jt(te,ie,ue),x[w+2+32]=x[w+3+96]=jt(ie,ue,fe),x[w+3+32]=jt(ue,fe,ye)}function Pa(x,w){var U=x[w+0-32],M=x[w+1-32],J=x[w+2-32],te=x[w+3-32],ie=x[w+4-32],ue=x[w+5-32],fe=x[w+6-32],ye=x[w+7-32];x[w+0+0]=U+M+1>>1,x[w+1+0]=x[w+0+64]=M+J+1>>1,x[w+2+0]=x[w+1+64]=J+te+1>>1,x[w+3+0]=x[w+2+64]=te+ie+1>>1,x[w+0+32]=jt(U,M,J),x[w+1+32]=x[w+0+96]=jt(M,J,te),x[w+2+32]=x[w+1+96]=jt(J,te,ie),x[w+3+32]=x[w+2+96]=jt(te,ie,ue),x[w+3+64]=jt(ie,ue,fe),x[w+3+96]=jt(ue,fe,ye)}function va(x,w){var U=x[w-1+0],M=x[w-1+32],J=x[w-1+64],te=x[w-1+96];x[w+0+0]=U+M+1>>1,x[w+2+0]=x[w+0+32]=M+J+1>>1,x[w+2+32]=x[w+0+64]=J+te+1>>1,x[w+1+0]=jt(U,M,J),x[w+3+0]=x[w+1+32]=jt(M,J,te),x[w+3+32]=x[w+1+64]=jt(J,te,te),x[w+3+64]=x[w+2+64]=x[w+0+96]=x[w+1+96]=x[w+2+96]=x[w+3+96]=te}function Bi(x,w){var U=x[w-1+0],M=x[w-1+32],J=x[w-1+64],te=x[w-1+96],ie=x[w-1-32],ue=x[w+0-32],fe=x[w+1-32],ye=x[w+2-32];x[w+0+0]=x[w+2+32]=U+ie+1>>1,x[w+0+32]=x[w+2+64]=M+U+1>>1,x[w+0+64]=x[w+2+96]=J+M+1>>1,x[w+0+96]=te+J+1>>1,x[w+3+0]=jt(ue,fe,ye),x[w+2+0]=jt(ie,ue,fe),x[w+1+0]=x[w+3+32]=jt(U,ie,ue),x[w+1+32]=x[w+3+64]=jt(M,U,ie),x[w+1+64]=x[w+3+96]=jt(J,M,U),x[w+1+96]=jt(te,J,M)}function kn(x,w){var U;for(U=0;8>U;++U)n(x,w+32*U,x,w-32,8)}function Ti(x,w){var U;for(U=0;8>U;++U)a(x,w,x[w-1],8),w+=32}function Ha(x,w,U){var M;for(M=0;8>M;++M)a(w,U+32*M,x,8)}function Zo(x,w){var U,M=8;for(U=0;8>U;++U)M+=x[w+U-32]+x[w-1+32*U];Ha(M>>4,x,w)}function yl(x,w){var U,M=4;for(U=0;8>U;++U)M+=x[w+U-32];Ha(M>>3,x,w)}function Ss(x,w){var U,M=4;for(U=0;8>U;++U)M+=x[w-1+32*U];Ha(M>>3,x,w)}function ai(x,w){Ha(128,x,w)}function ii(x,w,U){var M=x[w-U],J=x[w+0],te=3*(J-M)+di[1020+x[w-2*U]-x[w+U]],ie=fo[112+(te+4>>3)];x[w-U]=Js[255+M+fo[112+(te+3>>3)]],x[w+0]=Js[255+J-ie]}function Fi(x,w,U,M){var J=x[w+0],te=x[w+U];return Os[255+x[w-2*U]-x[w-U]]>M||Os[255+te-J]>M}function Vr(x,w,U,M){return 4*Os[255+x[w-U]-x[w+0]]+Os[255+x[w-2*U]-x[w+U]]<=M}function $o(x,w,U,M,J){var te=x[w-3*U],ie=x[w-2*U],ue=x[w-U],fe=x[w+0],ye=x[w+U],ke=x[w+2*U],ze=x[w+3*U];return 4*Os[255+ue-fe]+Os[255+ie-ye]>M?0:Os[255+x[w-4*U]-te]<=J&&Os[255+te-ie]<=J&&Os[255+ie-ue]<=J&&Os[255+ze-ke]<=J&&Os[255+ke-ye]<=J&&Os[255+ye-fe]<=J}function Ls(x,w,U,M){var J=2*M+1;for(M=0;16>M;++M)Vr(x,w+M,U,J)&&ii(x,w+M,U)}function za(x,w,U,M){var J=2*M+1;for(M=0;16>M;++M)Vr(x,w+M*U,1,J)&&ii(x,w+M*U,1)}function Lo(x,w,U,M){var J;for(J=3;0<J;--J)Ls(x,w+=4*U,U,M)}function rA(x,w,U,M){var J;for(J=3;0<J;--J)za(x,w+=4,U,M)}function Ni(x,w,U,M,J,te,ie,ue){for(te=2*te+1;0<J--;){if($o(x,w,U,te,ie))if(Fi(x,w,U,ue))ii(x,w,U);else{var fe=x,ye=w,ke=U,ze=fe[ye-2*ke],be=fe[ye-ke],Te=fe[ye+0],De=fe[ye+ke],ot=fe[ye+2*ke],Pe=27*(At=di[1020+3*(Te-be)+di[1020+ze-De]])+63>>7,at=18*At+63>>7,At=9*At+63>>7;fe[ye-3*ke]=Js[255+fe[ye-3*ke]+At],fe[ye-2*ke]=Js[255+ze+at],fe[ye-ke]=Js[255+be+Pe],fe[ye+0]=Js[255+Te-Pe],fe[ye+ke]=Js[255+De-at],fe[ye+2*ke]=Js[255+ot-At]}w+=M}}function so(x,w,U,M,J,te,ie,ue){for(te=2*te+1;0<J--;){if($o(x,w,U,te,ie))if(Fi(x,w,U,ue))ii(x,w,U);else{var fe=x,ye=w,ke=U,ze=fe[ye-ke],be=fe[ye+0],Te=fe[ye+ke],De=fo[112+(4+(ot=3*(be-ze))>>3)],ot=fo[112+(ot+3>>3)],Pe=De+1>>1;fe[ye-2*ke]=Js[255+fe[ye-2*ke]+Pe],fe[ye-ke]=Js[255+ze+ot],fe[ye+0]=Js[255+be-De],fe[ye+ke]=Js[255+Te-Pe]}w+=M}}function nA(x,w,U,M,J,te){Ni(x,w,U,1,16,M,J,te)}function ao(x,w,U,M,J,te){Ni(x,w,1,U,16,M,J,te)}function FA(x,w,U,M,J,te){var ie;for(ie=3;0<ie;--ie)so(x,w+=4*U,U,1,16,M,J,te)}function S(x,w,U,M,J,te){var ie;for(ie=3;0<ie;--ie)so(x,w+=4,1,U,16,M,J,te)}function X(x,w,U,M,J,te,ie,ue){Ni(x,w,J,1,8,te,ie,ue),Ni(U,M,J,1,8,te,ie,ue)}function xe(x,w,U,M,J,te,ie,ue){Ni(x,w,1,J,8,te,ie,ue),Ni(U,M,1,J,8,te,ie,ue)}function Le(x,w,U,M,J,te,ie,ue){so(x,w+4*J,J,1,8,te,ie,ue),so(U,M+4*J,J,1,8,te,ie,ue)}function Qe(x,w,U,M,J,te,ie,ue){so(x,w+4,1,J,8,te,ie,ue),so(U,M+4,1,J,8,te,ie,ue)}function st(){this.ba=new Ye,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new tt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function xt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function sr(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function or(){this.ua=0,this.Wa=new yt,this.vb=new yt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ge,this.yc=new re}function Er(){this.xb=this.a=0,this.l=new Qr,this.ca=new Ye,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new G,this.Pb=0,this.wd=new G,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new or,this.ab=0,this.gc=c(4,sr),this.Oc=0}function Or(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Qr,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function rn(x,w,U,M,J,te,ie){for(x=x==null?0:x[w+0],w=0;w<ie;++w)J[te+w]=x+U[M+w]&255,x=J[te+w]}function Zn(x,w,U,M,J,te,ie){var ue;if(x==null)rn(null,null,U,M,J,te,ie);else for(ue=0;ue<ie;++ue)J[te+ue]=x[w+ue]+U[M+ue]&255}function as(x,w,U,M,J,te,ie){if(x==null)rn(null,null,U,M,J,te,ie);else{var ue,fe=x[w+0],ye=fe,ke=fe;for(ue=0;ue<ie;++ue)ye=ke+(fe=x[w+ue])-ye,ke=U[M+ue]+(-256&ye?0>ye?0:255:ye)&255,ye=fe,J[te+ue]=ke}}function _n(x,w,U,M){var J=w.width,te=w.o;if(e(x!=null&&w!=null),0>U||0>=M||U+M>te)return null;if(!x.Cc){if(x.ga==null){var ie;if(x.ga=new Or,(ie=x.ga==null)||(ie=w.width*w.o,e(x.Gb.length==0),x.Gb=o(ie),x.Uc=0,x.Gb==null?ie=0:(x.mb=x.Gb,x.nb=x.Uc,x.rc=null,ie=1),ie=!ie),!ie){ie=x.ga;var ue=x.Fa,fe=x.P,ye=x.qc,ke=x.mb,ze=x.nb,be=fe+1,Te=ye-1,De=ie.l;if(e(ue!=null&&ke!=null&&w!=null),Bn[0]=null,Bn[1]=rn,Bn[2]=Zn,Bn[3]=as,ie.ca=ke,ie.tb=ze,ie.c=w.width,ie.i=w.height,e(0<ie.c&&0<ie.i),1>=ye)w=0;else if(ie.$a=3&ue[fe+0],ie.Z=ue[fe+0]>>2&3,ie.Lc=ue[fe+0]>>4&3,fe=ue[fe+0]>>6&3,0>ie.$a||1<ie.$a||4<=ie.Z||1<ie.Lc||fe)w=0;else if(De.put=vt,De.ac=Lr,De.bc=Rr,De.ma=ie,De.width=w.width,De.height=w.height,De.Da=w.Da,De.v=w.v,De.va=w.va,De.j=w.j,De.o=w.o,ie.$a)e:{e(ie.$a==1),w=jn();t:for(;;){if(w==null){w=0;break e}if(e(ie!=null),ie.mc=w,w.c=ie.c,w.i=ie.i,w.l=ie.l,w.l.ma=ie,w.l.width=ie.c,w.l.height=ie.i,w.a=0,ve(w.m,ue,be,Te),!Ns(ie.c,ie.i,1,w,null)||(w.ab==1&&w.gc[0].hc==3&&Gr(w.s)?(ie.ic=1,ue=w.c*w.i,w.Ta=null,w.Ua=0,w.V=o(ue),w.Ba=0,w.V==null?(w.a=1,w=0):w=1):(ie.ic=0,w=wr(w,ie.c)),!w))break t;w=1;break e}ie.mc=null,w=0}else w=Te>=ie.c*ie.i;ie=!w}if(ie)return null;x.ga.Lc!=1?x.Ga=0:M=te-U}e(x.ga!=null),e(U+M<=te);e:{if(w=(ue=x.ga).c,te=ue.l.o,ue.$a==0){if(be=x.rc,Te=x.Vc,De=x.Fa,fe=x.P+1+U*w,ye=x.mb,ke=x.nb+U*w,e(fe<=x.P+x.qc),ue.Z!=0)for(e(Bn[ue.Z]!=null),ie=0;ie<M;++ie)Bn[ue.Z](be,Te,De,fe,ye,ke,w),be=ye,Te=ke,ke+=w,fe+=w;else for(ie=0;ie<M;++ie)n(ye,ke,De,fe,w),be=ye,Te=ke,ke+=w,fe+=w;x.rc=be,x.Vc=Te}else{if(e(ue.mc!=null),w=U+M,e((ie=ue.mc)!=null),e(w<=ie.i),ie.C>=w)w=1;else if(ue.ic||Ys(),ue.ic){ue=ie.V,be=ie.Ba,Te=ie.c;var ot=ie.i,Pe=(De=1,fe=ie.$/Te,ye=ie.$%Te,ke=ie.m,ze=ie.s,ie.$),at=Te*ot,At=Te*w,Ct=ze.wc,gt=Pe<At?$t(ze,ye,fe):null;e(Pe<=at),e(w<=ot),e(Gr(ze));t:for(;;){for(;!ke.h&&Pe<At;){if(ye&Ct||(gt=$t(ze,ye,fe)),e(gt!=null),Be(ke),256>(ot=je(gt.G[0],gt.H[0],ke)))ue[be+Pe]=ot,++Pe,++ye>=Te&&(ye=0,++fe<=w&&!(fe%16)&&Fn(ie,fe));else{if(!(280>ot)){De=0;break t}ot=pr(ot-256,ke);var dr,er=je(gt.G[4],gt.H[4],ke);if(Be(ke),!(Pe>=(er=Pr(Te,er=pr(er,ke)))&&at-Pe>=ot)){De=0;break t}for(dr=0;dr<ot;++dr)ue[be+Pe+dr]=ue[be+Pe+dr-er];for(Pe+=ot,ye+=ot;ye>=Te;)ye-=Te,++fe<=w&&!(fe%16)&&Fn(ie,fe);Pe<At&&ye&Ct&&(gt=$t(ze,ye,fe))}e(ke.h==oe(ke))}Fn(ie,fe>w?w:fe);break t}!De||ke.h&&Pe<at?(De=0,ie.a=ke.h?5:3):ie.$=Pe,w=De}else w=wn(ie,ie.V,ie.Ba,ie.c,ie.i,w,xa);if(!w){M=0;break e}}U+M>=te&&(x.Cc=1),M=1}if(!M)return null;if(x.Cc&&((M=x.ga)!=null&&(M.mc=null),x.ga=null,0<x.Ga))return alert("todo:WebPDequantizeLevels"),null}return x.nb+U*J}function js(x,w,U,M,J,te){for(;0<J--;){var ie,ue=x,fe=w+(U?1:0),ye=x,ke=w+(U?0:3);for(ie=0;ie<M;++ie){var ze=ye[ke+4*ie];ze!=255&&(ze*=32897,ue[fe+4*ie+0]=ue[fe+4*ie+0]*ze>>23,ue[fe+4*ie+1]=ue[fe+4*ie+1]*ze>>23,ue[fe+4*ie+2]=ue[fe+4*ie+2]*ze>>23)}w+=te}}function is(x,w,U,M,J){for(;0<M--;){var te;for(te=0;te<U;++te){var ie=x[w+2*te+0],ue=15&(ye=x[w+2*te+1]),fe=4369*ue,ye=(240&ye|ye>>4)*fe>>16;x[w+2*te+0]=(240&ie|ie>>4)*fe>>16&240|(15&ie|ie<<4)*fe>>16>>4&15,x[w+2*te+1]=240&ye|ue}w+=J}}function Qs(x,w,U,M,J,te,ie,ue){var fe,ye,ke=255;for(ye=0;ye<J;++ye){for(fe=0;fe<M;++fe){var ze=x[w+fe];te[ie+4*fe]=ze,ke&=ze}w+=U,ie+=ue}return ke!=255}function oi(x,w,U,M,J){var te;for(te=0;te<J;++te)U[M+te]=x[w+te]>>8}function Ys(){ui=js,Va=is,Nl=Qs,Za=oi}function io(x,w,U){H[x]=function(M,J,te,ie,ue,fe,ye,ke,ze,be,Te,De,ot,Pe,at,At,Ct){var gt,dr=Ct-1>>1,er=ue[fe+0]|ye[ke+0]<<16,Mr=ze[be+0]|Te[De+0]<<16;e(M!=null);var ir=3*er+Mr+131074>>2;for(w(M[J+0],255&ir,ir>>16,ot,Pe),te!=null&&(ir=3*Mr+er+131074>>2,w(te[ie+0],255&ir,ir>>16,at,At)),gt=1;gt<=dr;++gt){var sn=ue[fe+gt]|ye[ke+gt]<<16,$n=ze[be+gt]|Te[De+gt]<<16,zr=er+sn+Mr+$n+524296,tr=zr+2*(sn+Mr)>>3;ir=tr+er>>1,er=(zr=zr+2*(er+$n)>>3)+sn>>1,w(M[J+2*gt-1],255&ir,ir>>16,ot,Pe+(2*gt-1)*U),w(M[J+2*gt-0],255&er,er>>16,ot,Pe+(2*gt-0)*U),te!=null&&(ir=zr+Mr>>1,er=tr+$n>>1,w(te[ie+2*gt-1],255&ir,ir>>16,at,At+(2*gt-1)*U),w(te[ie+2*gt+0],255&er,er>>16,at,At+(2*gt+0)*U)),er=sn,Mr=$n}1&Ct||(ir=3*er+Mr+131074>>2,w(M[J+Ct-1],255&ir,ir>>16,ot,Pe+(Ct-1)*U),te!=null&&(ir=3*Mr+er+131074>>2,w(te[ie+Ct-1],255&ir,ir>>16,at,At+(Ct-1)*U)))}}function oo(){bs[IA]=el,bs[Ws]=jl,bs[iA]=yc,bs[$a]=kl,bs[El]=po,bs[Wo]=zi,bs[To]=Ul,bs[Sl]=jl,bs[oA]=kl,bs[Ll]=po,bs[A]=zi}function Xs(x){return x&-16384?0>x?0:255:x>>su}function Ci(x,w){return Xs((19077*x>>8)+(26149*w>>8)-14234)}function li(x,w,U){return Xs((19077*x>>8)-(6419*w>>8)-(13320*U>>8)+8708)}function Yo(x,w){return Xs((19077*x>>8)+(33050*w>>8)-17685)}function Ei(x,w,U,M,J){M[J+0]=Ci(x,U),M[J+1]=li(x,w,U),M[J+2]=Yo(x,w)}function ms(x,w,U,M,J){M[J+0]=Yo(x,w),M[J+1]=li(x,w,U),M[J+2]=Ci(x,U)}function jo(x,w,U,M,J){var te=li(x,w,U);w=te<<3&224|Yo(x,w)>>3,M[J+0]=248&Ci(x,U)|te>>5,M[J+1]=w}function ko(x,w,U,M,J){var te=240&Yo(x,w)|15;M[J+0]=240&Ci(x,U)|li(x,w,U)>>4,M[J+1]=te}function Xo(x,w,U,M,J){M[J+0]=255,Ei(x,w,U,M,J+1)}function Qi(x,w,U,M,J){ms(x,w,U,M,J),M[J+3]=255}function Qn(x,w,U,M,J){Ei(x,w,U,M,J),M[J+3]=255}function Ua(x,w,U){H[x]=function(M,J,te,ie,ue,fe,ye,ke,ze){for(var be=ke+(-2&ze)*U;ke!=be;)w(M[J+0],te[ie+0],ue[fe+0],ye,ke),w(M[J+1],te[ie+0],ue[fe+0],ye,ke+U),J+=2,++ie,++fe,ke+=2*U;1&ze&&w(M[J+0],te[ie+0],ue[fe+0],ye,ke)}}function wl(x,w,U){return U==0?x==0?w==0?6:5:w==0?4:0:U}function qa(x,w,U,M,J){switch(x>>>30){case 3:Ri(w,U,M,J,0);break;case 2:ua(w,U,M,J);break;case 1:hn(w,U,M,J)}}function Ka(x,w){var U,M,J=w.M,te=w.Nb,ie=x.oc,ue=x.pc+40,fe=x.oc,ye=x.pc+584,ke=x.oc,ze=x.pc+600;for(U=0;16>U;++U)ie[ue+32*U-1]=129;for(U=0;8>U;++U)fe[ye+32*U-1]=129,ke[ze+32*U-1]=129;for(0<J?ie[ue-1-32]=fe[ye-1-32]=ke[ze-1-32]=129:(a(ie,ue-32-1,127,21),a(fe,ye-32-1,127,9),a(ke,ze-32-1,127,9)),M=0;M<x.za;++M){var be=w.ya[w.aa+M];if(0<M){for(U=-1;16>U;++U)n(ie,ue+32*U-4,ie,ue+32*U+12,4);for(U=-1;8>U;++U)n(fe,ye+32*U-4,fe,ye+32*U+4,4),n(ke,ze+32*U-4,ke,ze+32*U+4,4)}var Te=x.Gd,De=x.Hd+M,ot=be.ad,Pe=be.Hc;if(0<J&&(n(ie,ue-32,Te[De].y,0,16),n(fe,ye-32,Te[De].f,0,8),n(ke,ze-32,Te[De].ea,0,8)),be.Za){var at=ie,At=ue-32+16;for(0<J&&(M>=x.za-1?a(at,At,Te[De].y[15],4):n(at,At,Te[De+1].y,0,4)),U=0;4>U;U++)at[At+128+U]=at[At+256+U]=at[At+384+U]=at[At+0+U];for(U=0;16>U;++U,Pe<<=2)at=ie,At=ue+ks[U],ts[be.Ob[U]](at,At),qa(Pe,ot,16*+U,at,At)}else if(at=wl(M,J,be.Ob[0]),Na[at](ie,ue),Pe!=0)for(U=0;16>U;++U,Pe<<=2)qa(Pe,ot,16*+U,ie,ue+ks[U]);for(U=be.Gc,at=wl(M,J,be.Dd),hi[at](fe,ye),hi[at](ke,ze),Pe=ot,at=fe,At=ye,255&(be=0|U)&&(170&be?_a(Pe,256,at,At):nn(Pe,256,at,At)),be=ke,Pe=ze,255&(U>>=8)&&(170&U?_a(ot,320,be,Pe):nn(ot,320,be,Pe)),J<x.Ub-1&&(n(Te[De].y,0,ie,ue+480,16),n(Te[De].f,0,fe,ye+224,8),n(Te[De].ea,0,ke,ze+224,8)),U=8*te*x.B,Te=x.sa,De=x.ta+16*M+16*te*x.R,ot=x.qa,be=x.ra+8*M+U,Pe=x.Ha,at=x.Ia+8*M+U,U=0;16>U;++U)n(Te,De+U*x.R,ie,ue+32*U,16);for(U=0;8>U;++U)n(ot,be+U*x.B,fe,ye+32*U,8),n(Pe,at+U*x.B,ke,ze+32*U,8)}}function ca(x,w,U,M,J,te,ie,ue,fe){var ye=[0],ke=[0],ze=0,be=fe!=null?fe.kd:0,Te=fe??new xt;if(x==null||12>U)return 7;Te.data=x,Te.w=w,Te.ha=U,w=[w],U=[U],Te.gb=[Te.gb];e:{var De=w,ot=U,Pe=Te.gb;if(e(x!=null),e(ot!=null),e(Pe!=null),Pe[0]=0,12<=ot[0]&&!t(x,De[0],"RIFF")){if(t(x,De[0]+8,"WEBP")){Pe=3;break e}var at=It(x,De[0]+4);if(12>at||4294967286<at){Pe=3;break e}if(be&&at>ot[0]-8){Pe=7;break e}Pe[0]=at,De[0]+=12,ot[0]-=12}Pe=0}if(Pe!=0)return Pe;for(at=0<Te.gb[0],U=U[0];;){e:{var At=x;ot=w,Pe=U;var Ct=ye,gt=ke,dr=De=[0];if((ir=ze=[ze])[0]=0,8>Pe[0])Pe=7;else{if(!t(At,ot[0],"VP8X")){if(It(At,ot[0]+4)!=10){Pe=3;break e}if(18>Pe[0]){Pe=7;break e}var er=It(At,ot[0]+8),Mr=1+_t(At,ot[0]+12);if(2147483648<=Mr*(At=1+_t(At,ot[0]+15))){Pe=3;break e}dr!=null&&(dr[0]=er),Ct!=null&&(Ct[0]=Mr),gt!=null&&(gt[0]=At),ot[0]+=18,Pe[0]-=18,ir[0]=1}Pe=0}}if(ze=ze[0],De=De[0],Pe!=0)return Pe;if(ot=!!(2&De),!at&&ze)return 3;if(te!=null&&(te[0]=!!(16&De)),ie!=null&&(ie[0]=ot),ue!=null&&(ue[0]=0),ie=ye[0],De=ke[0],ze&&ot&&fe==null){Pe=0;break}if(4>U){Pe=7;break}if(at&&ze||!at&&!ze&&!t(x,w[0],"ALPH")){U=[U],Te.na=[Te.na],Te.P=[Te.P],Te.Sa=[Te.Sa];e:{er=x,Pe=w,at=U;var ir=Te.gb;Ct=Te.na,gt=Te.P,dr=Te.Sa,Mr=22,e(er!=null),e(at!=null),At=Pe[0];var sn=at[0];for(e(Ct!=null),e(dr!=null),Ct[0]=null,gt[0]=null,dr[0]=0;;){if(Pe[0]=At,at[0]=sn,8>sn){Pe=7;break e}var $n=It(er,At+4);if(4294967286<$n){Pe=3;break e}var zr=8+$n+1&-2;if(Mr+=zr,0<ir&&Mr>ir){Pe=3;break e}if(!t(er,At,"VP8 ")||!t(er,At,"VP8L")){Pe=0;break e}if(sn[0]<zr){Pe=7;break e}t(er,At,"ALPH")||(Ct[0]=er,gt[0]=At+8,dr[0]=$n),At+=zr,sn-=zr}}if(U=U[0],Te.na=Te.na[0],Te.P=Te.P[0],Te.Sa=Te.Sa[0],Pe!=0)break}U=[U],Te.Ja=[Te.Ja],Te.xa=[Te.xa];e:if(ir=x,Pe=w,at=U,Ct=Te.gb[0],gt=Te.Ja,dr=Te.xa,er=Pe[0],At=!t(ir,er,"VP8 "),Mr=!t(ir,er,"VP8L"),e(ir!=null),e(at!=null),e(gt!=null),e(dr!=null),8>at[0])Pe=7;else{if(At||Mr){if(ir=It(ir,er+4),12<=Ct&&ir>Ct-12){Pe=3;break e}if(be&&ir>at[0]-8){Pe=7;break e}gt[0]=ir,Pe[0]+=8,at[0]-=8,dr[0]=Mr}else dr[0]=5<=at[0]&&ir[er+0]==47&&!(ir[er+4]>>5),gt[0]=at[0];Pe=0}if(U=U[0],Te.Ja=Te.Ja[0],Te.xa=Te.xa[0],w=w[0],Pe!=0)break;if(4294967286<Te.Ja)return 3;if(ue==null||ot||(ue[0]=Te.xa?2:1),ie=[ie],De=[De],Te.xa){if(5>U){Pe=7;break}ue=ie,be=De,ot=te,x==null||5>U?x=0:5<=U&&x[w+0]==47&&!(x[w+4]>>5)?(at=[0],ir=[0],Ct=[0],ve(gt=new G,x,w,U),fr(gt,at,ir,Ct)?(ue!=null&&(ue[0]=at[0]),be!=null&&(be[0]=ir[0]),ot!=null&&(ot[0]=Ct[0]),x=1):x=0):x=0}else{if(10>U){Pe=7;break}ue=De,x==null||10>U||!nt(x,w+3,U-3)?x=0:(be=x[w+0]|x[w+1]<<8|x[w+2]<<16,ot=16383&(x[w+7]<<8|x[w+6]),x=16383&(x[w+9]<<8|x[w+8]),1&be||3<(be>>1&7)||!(be>>4&1)||be>>5>=Te.Ja||!ot||!x?x=0:(ie&&(ie[0]=ot),ue&&(ue[0]=x),x=1))}if(!x||(ie=ie[0],De=De[0],ze&&(ye[0]!=ie||ke[0]!=De)))return 3;fe!=null&&(fe[0]=Te,fe.offset=w-fe.w,e(4294967286>w-fe.w),e(fe.offset==fe.ha-U));break}return Pe==0||Pe==7&&ze&&fe==null?(te!=null&&(te[0]|=Te.na!=null&&0<Te.na.length),M!=null&&(M[0]=ie),J!=null&&(J[0]=De),0):Pe}function lo(x,w,U){var M=w.width,J=w.height,te=0,ie=0,ue=M,fe=J;if(w.Da=x!=null&&0<x.Da,w.Da&&(ue=x.cd,fe=x.bd,te=x.v,ie=x.j,11>U||(te&=-2,ie&=-2),0>te||0>ie||0>=ue||0>=fe||te+ue>M||ie+fe>J))return 0;if(w.v=te,w.j=ie,w.va=te+ue,w.o=ie+fe,w.U=ue,w.T=fe,w.da=x!=null&&0<x.da,w.da){if(!qt(ue,fe,U=[x.ib],te=[x.hb]))return 0;w.ib=U[0],w.hb=te[0]}return w.ob=x!=null&&x.ob,w.Kb=x==null||!x.Sd,w.da&&(w.ob=w.ib<3*M/4&&w.hb<3*J/4,w.Kb=0),1}function Ao(x){if(x==null)return 2;if(11>x.S){var w=x.f.RGBA;w.fb+=(x.height-1)*w.A,w.A=-w.A}else w=x.f.kb,x=x.height,w.O+=(x-1)*w.fa,w.fa=-w.fa,w.N+=(x-1>>1)*w.Ab,w.Ab=-w.Ab,w.W+=(x-1>>1)*w.Db,w.Db=-w.Db,w.F!=null&&(w.J+=(x-1)*w.lb,w.lb=-w.lb);return 0}function Ai(x,w,U,M){if(M==null||0>=x||0>=w)return 2;if(U!=null){if(U.Da){var J=U.cd,te=U.bd,ie=-2&U.v,ue=-2&U.j;if(0>ie||0>ue||0>=J||0>=te||ie+J>x||ue+te>w)return 2;x=J,w=te}if(U.da){if(!qt(x,w,J=[U.ib],te=[U.hb]))return 2;x=J[0],w=te[0]}}M.width=x,M.height=w;e:{var fe=M.width,ye=M.height;if(x=M.S,0>=fe||0>=ye||!(x>=IA&&13>x))x=2;else{if(0>=M.Rd&&M.sd==null){ie=te=J=w=0;var ke=(ue=fe*iu[x])*ye;if(11>x||(te=(ye+1)/2*(w=(fe+1)/2),x==12&&(ie=(J=fe)*ye)),(ye=o(ke+2*te+ie))==null){x=1;break e}M.sd=ye,11>x?((fe=M.f.RGBA).eb=ye,fe.fb=0,fe.A=ue,fe.size=ke):((fe=M.f.kb).y=ye,fe.O=0,fe.fa=ue,fe.Fd=ke,fe.f=ye,fe.N=0+ke,fe.Ab=w,fe.Cd=te,fe.ea=ye,fe.W=0+ke+te,fe.Db=w,fe.Ed=te,x==12&&(fe.F=ye,fe.J=0+ke+2*te),fe.Tc=ie,fe.lb=J)}if(w=1,J=M.S,te=M.width,ie=M.height,J>=IA&&13>J)if(11>J)x=M.f.RGBA,w&=(ue=Math.abs(x.A))*(ie-1)+te<=x.size,w&=ue>=te*iu[J],w&=x.eb!=null;else{x=M.f.kb,ue=(te+1)/2,ke=(ie+1)/2,fe=Math.abs(x.fa),ye=Math.abs(x.Ab);var ze=Math.abs(x.Db),be=Math.abs(x.lb),Te=be*(ie-1)+te;w&=fe*(ie-1)+te<=x.Fd,w&=ye*(ke-1)+ue<=x.Cd,w=(w&=ze*(ke-1)+ue<=x.Ed)&fe>=te&ye>=ue&ze>=ue,w&=x.y!=null,w&=x.f!=null,w&=x.ea!=null,J==12&&(w&=be>=te,w&=Te<=x.Tc,w&=x.F!=null)}else w=0;x=w?0:2}}return x!=0||U!=null&&U.fd&&(x=Ao(M)),x}var Si=64,Ta=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Wn=24,Ga=32,Ii=8,Li=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Qt("Predictor0","PredictorAdd0"),H.Predictor0=function(){return 4278190080},H.Predictor1=function(x){return x},H.Predictor2=function(x,w,U){return w[U+0]},H.Predictor3=function(x,w,U){return w[U+1]},H.Predictor4=function(x,w,U){return w[U-1]},H.Predictor5=function(x,w,U){return Kt(Kt(x,w[U+1]),w[U+0])},H.Predictor6=function(x,w,U){return Kt(x,w[U-1])},H.Predictor7=function(x,w,U){return Kt(x,w[U+0])},H.Predictor8=function(x,w,U){return Kt(w[U-1],w[U+0])},H.Predictor9=function(x,w,U){return Kt(w[U+0],w[U+1])},H.Predictor10=function(x,w,U){return Kt(Kt(x,w[U-1]),Kt(w[U+0],w[U+1]))},H.Predictor11=function(x,w,U){var M=w[U+0];return 0>=Yt(M>>24&255,x>>24&255,(w=w[U-1])>>24&255)+Yt(M>>16&255,x>>16&255,w>>16&255)+Yt(M>>8&255,x>>8&255,w>>8&255)+Yt(255&M,255&x,255&w)?M:x},H.Predictor12=function(x,w,U){var M=w[U+0];return(Jt((x>>24&255)+(M>>24&255)-((w=w[U-1])>>24&255))<<24|Jt((x>>16&255)+(M>>16&255)-(w>>16&255))<<16|Jt((x>>8&255)+(M>>8&255)-(w>>8&255))<<8|Jt((255&x)+(255&M)-(255&w)))>>>0},H.Predictor13=function(x,w,U){var M=w[U-1];return(mr((x=Kt(x,w[U+0]))>>24&255,M>>24&255)<<24|mr(x>>16&255,M>>16&255)<<16|mr(x>>8&255,M>>8&255)<<8|mr(255&x,255&M))>>>0};var _l=H.PredictorAdd0;H.PredictorAdd1=ar,Qt("Predictor2","PredictorAdd2"),Qt("Predictor3","PredictorAdd3"),Qt("Predictor4","PredictorAdd4"),Qt("Predictor5","PredictorAdd5"),Qt("Predictor6","PredictorAdd6"),Qt("Predictor7","PredictorAdd7"),Qt("Predictor8","PredictorAdd8"),Qt("Predictor9","PredictorAdd9"),Qt("Predictor10","PredictorAdd10"),Qt("Predictor11","PredictorAdd11"),Qt("Predictor12","PredictorAdd12"),Qt("Predictor13","PredictorAdd13");var Fa=H.PredictorAdd2;Dt("ColorIndexInverseTransform","MapARGB","32b",function(x){return x>>8&255},function(x){return x}),Dt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(x){return x},function(x){return x>>8&255});var os,co=H.ColorIndexInverseTransform,Oi=H.MapARGB,Is=H.VP8LColorIndexInverseTransformAlpha,gs=H.MapAlpha,Mi=H.VP8LPredictorsAdd=[];Mi.length=16,(H.VP8LPredictors=[]).length=16,(H.VP8LPredictorsAdd_C=[]).length=16,(H.VP8LPredictors_C=[]).length=16;var Uo,uo,ji,ci,ya,Di,wa,Ri,ua,_a,hn,nn,Un,es,Pi,xs,Hi,sA,Bl,ru,bc,nu,Jo,vc,ui,Va,Nl,Za,Ba=o(511),aA=o(2041),Cl=o(225),ho=o(767),QA=0,di=aA,fo=Cl,Js=ho,Os=Ba,IA=0,Ws=1,iA=2,$a=3,El=4,Wo=5,To=6,Sl=7,oA=8,Ll=9,A=10,f=[2,3,7],v=[3,3,11],E=[280,256,256,256,40],D=[0,1,1,1,0],ne=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Ce=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Ie=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Ve=8,dt=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Mt=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],lr=null,Zr=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],ea=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],ls=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Ya=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],mn=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],gn=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],en=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Na=[],ts=[],hi=[],Fo=1,OA=2,Bn=[],bs=[];io("UpsampleRgbLinePair",Ei,3),io("UpsampleBgrLinePair",ms,3),io("UpsampleRgbaLinePair",Qn,4),io("UpsampleBgraLinePair",Qi,4),io("UpsampleArgbLinePair",Xo,4),io("UpsampleRgba4444LinePair",ko,2),io("UpsampleRgb565LinePair",jo,2);var el=H.UpsampleRgbLinePair,yc=H.UpsampleBgrLinePair,jl=H.UpsampleRgbaLinePair,kl=H.UpsampleBgraLinePair,po=H.UpsampleArgbLinePair,zi=H.UpsampleRgba4444LinePair,Ul=H.UpsampleRgb565LinePair,qi=16,MA=1<<qi-1,lA=-227,Tl=482,su=6,Fl=0,Ca=o(256),au=o(256),Yh=o(256),Dm=o(256),Rm=o(Tl-lA),Pm=o(Tl-lA);Ua("YuvToRgbRow",Ei,3),Ua("YuvToBgrRow",ms,3),Ua("YuvToRgbaRow",Qn,4),Ua("YuvToBgraRow",Qi,4),Ua("YuvToArgbRow",Xo,4),Ua("YuvToRgba4444Row",ko,2),Ua("YuvToRgb565Row",jo,2);var ks=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],DA=[0,2,8],wc=[8,7,6,4,4,2,2,2,1,1,1,1],_c=1;this.WebPDecodeRGBA=function(x,w,U,M,J){var te=Ws,ie=new st,ue=new Ye;ie.ba=ue,ue.S=te,ue.width=[ue.width],ue.height=[ue.height];var fe=ue.width,ye=ue.height,ke=new We;if(ke==null||x==null)var ze=2;else e(ke!=null),ze=ca(x,w,U,ke.width,ke.height,ke.Pd,ke.Qd,ke.format,null);if(ze!=0?fe=0:(fe!=null&&(fe[0]=ke.width[0]),ye!=null&&(ye[0]=ke.height[0]),fe=1),fe){ue.width=ue.width[0],ue.height=ue.height[0],M!=null&&(M[0]=ue.width),J!=null&&(J[0]=ue.height);e:{if(M=new Qr,(J=new xt).data=x,J.w=w,J.ha=U,J.kd=1,w=[0],e(J!=null),((x=ca(J.data,J.w,J.ha,null,null,null,w,null,J))==0||x==7)&&w[0]&&(x=4),(w=x)==0){if(e(ie!=null),M.data=J.data,M.w=J.w+J.offset,M.ha=J.ha-J.offset,M.put=vt,M.ac=Lr,M.bc=Rr,M.ma=ie,J.xa){if((x=jn())==null){ie=1;break e}if((function(be,Te){var De=[0],ot=[0],Pe=[0];t:for(;;){if(be==null)return 0;if(Te==null)return be.a=2,0;if(be.l=Te,be.a=0,ve(be.m,Te.data,Te.w,Te.ha),!fr(be.m,De,ot,Pe)){be.a=3;break t}if(be.xb=OA,Te.width=De[0],Te.height=ot[0],!Ns(De[0],ot[0],1,be,null))break t;return 1}return e(be.a!=0),0})(x,M)){if(M=(w=Ai(M.width,M.height,ie.Oa,ie.ba))==0){t:{M=x;r:for(;;){if(M==null){M=0;break t}if(e(M.s.yc!=null),e(M.s.Ya!=null),e(0<M.s.Wb),e((U=M.l)!=null),e((J=U.ma)!=null),M.xb!=0){if(M.ca=J.ba,M.tb=J.tb,e(M.ca!=null),!lo(J.Oa,U,$a)){M.a=2;break r}if(!wr(M,U.width)||U.da)break r;if((U.da||Rt(M.ca.S))&&Ys(),11>M.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),M.ca.f.kb.F!=null&&Ys()),M.Pb&&0<M.s.ua&&M.s.vb.X==null&&!he(M.s.vb,M.s.Wa.Xa)){M.a=1;break r}M.xb=0}if(!wn(M,M.V,M.Ba,M.c,M.i,U.o,jr))break r;J.Dc=M.Ma,M=1;break t}e(M.a!=0),M=0}M=!M}M&&(w=x.a)}else w=x.a}else{if((x=new Jn)==null){ie=1;break e}if(x.Fa=J.na,x.P=J.P,x.qc=J.Sa,Ft(x,M)){if((w=Ai(M.width,M.height,ie.Oa,ie.ba))==0){if(x.Aa=0,U=ie.Oa,e((J=x)!=null),U!=null){if(0<(fe=0>(fe=U.Md)?0:100<fe?255:255*fe/100)){for(ye=ke=0;4>ye;++ye)12>(ze=J.pb[ye]).lc&&(ze.ia=fe*wc[0>ze.lc?0:ze.lc]>>3),ke|=ze.ia;ke&&(alert("todo:VP8InitRandom"),J.ia=1)}J.Ga=U.Id,100<J.Ga?J.Ga=100:0>J.Ga&&(J.Ga=0)}(function(be,Te){if(be==null)return 0;if(Te==null)return _e(be,2,"NULL VP8Io parameter in VP8Decode().");if(!be.cb&&!Ft(be,Te))return 0;if(e(be.cb),Te.ac==null||Te.ac(Te)){Te.ob&&(be.L=0);var De=DA[be.L];if(be.L==2?(be.yb=0,be.zb=0):(be.yb=Te.v-De>>4,be.zb=Te.j-De>>4,0>be.yb&&(be.yb=0),0>be.zb&&(be.zb=0)),be.Va=Te.o+15+De>>4,be.Hb=Te.va+15+De>>4,be.Hb>be.za&&(be.Hb=be.za),be.Va>be.Ub&&(be.Va=be.Ub),0<be.L){var ot=be.ed;for(De=0;4>De;++De){var Pe;if(be.Qa.Cb){var at=be.Qa.Lb[De];be.Qa.Fb||(at+=ot.Tb)}else at=ot.Tb;for(Pe=0;1>=Pe;++Pe){var At=be.gd[De][Pe],Ct=at;if(ot.Pc&&(Ct+=ot.vd[0],Pe&&(Ct+=ot.od[0])),0<(Ct=0>Ct?0:63<Ct?63:Ct)){var gt=Ct;0<ot.wb&&(gt=4<ot.wb?gt>>2:gt>>1)>9-ot.wb&&(gt=9-ot.wb),1>gt&&(gt=1),At.dd=gt,At.tc=2*Ct+gt,At.ld=40<=Ct?2:15<=Ct?1:0}else At.tc=0;At.La=Pe}}}De=0}else _e(be,6,"Frame setup failed"),De=be.a;if(De=De==0){if(De){be.$c=0,0<be.Aa||(be.Ic=_c);t:{De=be.Ic,ot=4*(gt=be.za);var dr=32*gt,er=gt+1,Mr=0<be.L?gt*(0<be.Aa?2:1):0,ir=(be.Aa==2?2:1)*gt;if((At=ot+832+(Pe=3*(16*De+DA[be.L])/2*dr)+(at=be.Fa!=null&&0<be.Fa.length?be.Kc.c*be.Kc.i:0))!=At)De=0;else{if(At>be.Vb){if(be.Vb=0,be.Ec=o(At),be.Fc=0,be.Ec==null){De=_e(be,1,"no memory during frame initialization.");break t}be.Vb=At}At=be.Ec,Ct=be.Fc,be.Ac=At,be.Bc=Ct,Ct+=ot,be.Gd=c(dr,ps),be.Hd=0,be.rb=c(er+1,ur),be.sb=1,be.wa=Mr?c(Mr,Gt):null,be.Y=0,be.D.Nb=0,be.D.wa=be.wa,be.D.Y=be.Y,0<be.Aa&&(be.D.Y+=gt),e(!0),be.oc=At,be.pc=Ct,Ct+=832,be.ya=c(ir,ln),be.aa=0,be.D.ya=be.ya,be.D.aa=be.aa,be.Aa==2&&(be.D.aa+=gt),be.R=16*gt,be.B=8*gt,gt=(dr=DA[be.L])*be.R,dr=dr/2*be.B,be.sa=At,be.ta=Ct+gt,be.qa=be.sa,be.ra=be.ta+16*De*be.R+dr,be.Ha=be.qa,be.Ia=be.ra+8*De*be.B+dr,be.$c=0,Ct+=Pe,be.mb=at?At:null,be.nb=at?Ct:null,e(Ct+at<=be.Fc+be.Vb),Bt(be),a(be.Ac,be.Bc,0,ot),De=1}}if(De){if(Te.ka=0,Te.y=be.sa,Te.O=be.ta,Te.f=be.qa,Te.N=be.ra,Te.ea=be.Ha,Te.Vd=be.Ia,Te.fa=be.R,Te.Rc=be.B,Te.F=null,Te.J=0,!QA){for(De=-255;255>=De;++De)Ba[255+De]=0>De?-De:De;for(De=-1020;1020>=De;++De)aA[1020+De]=-128>De?-128:127<De?127:De;for(De=-112;112>=De;++De)Cl[112+De]=-16>De?-16:15<De?15:De;for(De=-255;510>=De;++De)ho[255+De]=0>De?0:255<De?255:De;QA=1}wa=$s,Ri=ss,_a=Cr,hn=la,nn=si,ua=Hr,Un=nA,es=ao,Pi=X,xs=xe,Hi=FA,sA=S,Bl=Le,ru=Qe,bc=Ls,nu=za,Jo=Lo,vc=rA,ts[0]=tA,ts[1]=Co,ts[2]=Ra,ts[3]=pn,ts[4]=ba,ts[5]=Vo,ts[6]=Es,ts[7]=Pa,ts[8]=Bi,ts[9]=va,Na[0]=ka,Na[1]=Go,Na[2]=Eo,Na[3]=vl,Na[4]=Ui,Na[5]=no,Na[6]=So,hi[0]=Zo,hi[1]=bl,hi[2]=kn,hi[3]=Ti,hi[4]=Ss,hi[5]=yl,hi[6]=ai,De=1}else De=0}De&&(De=(function(sn,$n){for(sn.M=0;sn.M<sn.Va;++sn.M){var zr,tr=sn.Jc[sn.M&sn.Xb],Pt=sn.m,As=sn;for(zr=0;zr<As.za;++zr){var Sr=Pt,$r=As,En=$r.Ac,ta=$r.Bc+4*zr,Ea=$r.zc,zn=$r.ya[$r.aa+zr];if($r.Qa.Bb?zn.$b=He(Sr,$r.Pa.jb[0])?2+He(Sr,$r.Pa.jb[2]):He(Sr,$r.Pa.jb[1]):zn.$b=0,$r.kc&&(zn.Ad=He(Sr,$r.Bd)),zn.Za=!He(Sr,145)+0,zn.Za){var Ms=zn.Ob,Qa=0;for($r=0;4>$r;++$r){var Ds,Wr=Ea[0+$r];for(Ds=0;4>Ds;++Ds){Wr=mn[En[ta+Ds]][Wr];for(var xn=ls[He(Sr,Wr[0])];0<xn;)xn=ls[2*xn+He(Sr,Wr[xn])];Wr=-xn,En[ta+Ds]=Wr}n(Ms,Qa,En,ta,4),Qa+=4,Ea[0+$r]=Wr}}else Wr=He(Sr,156)?He(Sr,128)?1:3:He(Sr,163)?2:0,zn.Ob[0]=Wr,a(En,ta,Wr,4),a(Ea,0,Wr,4);zn.Dd=He(Sr,142)?He(Sr,114)?He(Sr,183)?1:3:2:0}if(As.m.Ka)return _e(sn,7,"Premature end-of-partition0 encountered.");for(;sn.ja<sn.za;++sn.ja){if(As=tr,Sr=(Pt=sn).rb[Pt.sb-1],En=Pt.rb[Pt.sb+Pt.ja],zr=Pt.ya[Pt.aa+Pt.ja],ta=Pt.kc?zr.Ad:0)Sr.la=En.la=0,zr.Za||(Sr.Na=En.Na=0),zr.Hc=0,zr.Gc=0,zr.ia=0;else{var cs,yn;if(Sr=En,En=As,ta=Pt.Pa.Xc,Ea=Pt.ya[Pt.aa+Pt.ja],zn=Pt.pb[Ea.$b],$r=Ea.ad,Ms=0,Qa=Pt.rb[Pt.sb-1],Wr=Ds=0,a($r,Ms,0,384),Ea.Za)var ra=0,us=ta[3];else{xn=o(16);var bn=Sr.Na+Qa.Na;if(bn=lr(En,ta[1],bn,zn.Eb,0,xn,0),Sr.Na=Qa.Na=(0<bn)+0,1<bn)wa(xn,0,$r,Ms);else{var Us=xn[0]+3>>3;for(xn=0;256>xn;xn+=16)$r[Ms+xn]=Us}ra=1,us=ta[0]}var Sn=15&Sr.la,Rs=15&Qa.la;for(xn=0;4>xn;++xn){var Ps=1&Rs;for(Us=yn=0;4>Us;++Us)Sn=Sn>>1|(Ps=(bn=lr(En,us,bn=Ps+(1&Sn),zn.Sc,ra,$r,Ms))>ra)<<7,yn=yn<<2|(3<bn?3:1<bn?2:$r[Ms+0]!=0),Ms+=16;Sn>>=4,Rs=Rs>>1|Ps<<7,Ds=(Ds<<8|yn)>>>0}for(us=Sn,ra=Rs>>4,cs=0;4>cs;cs+=2){for(yn=0,Sn=Sr.la>>4+cs,Rs=Qa.la>>4+cs,xn=0;2>xn;++xn){for(Ps=1&Rs,Us=0;2>Us;++Us)bn=Ps+(1&Sn),Sn=Sn>>1|(Ps=0<(bn=lr(En,ta[2],bn,zn.Qc,0,$r,Ms)))<<3,yn=yn<<2|(3<bn?3:1<bn?2:$r[Ms+0]!=0),Ms+=16;Sn>>=2,Rs=Rs>>1|Ps<<5}Wr|=yn<<4*cs,us|=Sn<<4<<cs,ra|=(240&Rs)<<cs}Sr.la=us,Qa.la=ra,Ea.Hc=Ds,Ea.Gc=Wr,Ea.ia=43690&Wr?0:zn.ia,ta=!(Ds|Wr)}if(0<Pt.L&&(Pt.wa[Pt.Y+Pt.ja]=Pt.gd[zr.$b][zr.Za],Pt.wa[Pt.Y+Pt.ja].La|=!ta),As.Ka)return _e(sn,7,"Premature end-of-file encountered.")}if(Bt(sn),Pt=$n,As=1,zr=(tr=sn).D,Sr=0<tr.L&&tr.M>=tr.zb&&tr.M<=tr.Va,tr.Aa==0)t:{if(zr.M=tr.M,zr.uc=Sr,Ka(tr,zr),As=1,zr=(yn=tr.D).Nb,Sr=(Wr=DA[tr.L])*tr.R,En=Wr/2*tr.B,xn=16*zr*tr.R,Us=8*zr*tr.B,ta=tr.sa,Ea=tr.ta-Sr+xn,zn=tr.qa,$r=tr.ra-En+Us,Ms=tr.Ha,Qa=tr.Ia-En+Us,Rs=(Sn=yn.M)==0,Ds=Sn>=tr.Va-1,tr.Aa==2&&Ka(tr,yn),yn.uc)for(Ps=(bn=tr).D.M,e(bn.D.uc),yn=bn.yb;yn<bn.Hb;++yn){ra=yn,us=Ps;var In=(fn=(Hs=bn).D).Nb;cs=Hs.R;var fn=fn.wa[fn.Y+ra],Ia=Hs.sa,vs=Hs.ta+16*In*cs+16*ra,_r=fn.dd,Br=fn.tc;if(Br!=0)if(e(3<=Br),Hs.L==1)0<ra&&nu(Ia,vs,cs,Br+4),fn.La&&vc(Ia,vs,cs,Br),0<us&&bc(Ia,vs,cs,Br+4),fn.La&&Jo(Ia,vs,cs,Br);else{var vn=Hs.B,fi=Hs.qa,Ki=Hs.ra+8*In*vn+8*ra,Xa=Hs.Ha,Hs=Hs.Ia+8*In*vn+8*ra;In=fn.ld,0<ra&&(es(Ia,vs,cs,Br+4,_r,In),xs(fi,Ki,Xa,Hs,vn,Br+4,_r,In)),fn.La&&(sA(Ia,vs,cs,Br,_r,In),ru(fi,Ki,Xa,Hs,vn,Br,_r,In)),0<us&&(Un(Ia,vs,cs,Br+4,_r,In),Pi(fi,Ki,Xa,Hs,vn,Br+4,_r,In)),fn.La&&(Hi(Ia,vs,cs,Br,_r,In),Bl(fi,Ki,Xa,Hs,vn,Br,_r,In))}}if(tr.ia&&alert("todo:DitherRow"),Pt.put!=null){if(yn=16*Sn,Sn=16*(Sn+1),Rs?(Pt.y=tr.sa,Pt.O=tr.ta+xn,Pt.f=tr.qa,Pt.N=tr.ra+Us,Pt.ea=tr.Ha,Pt.W=tr.Ia+Us):(yn-=Wr,Pt.y=ta,Pt.O=Ea,Pt.f=zn,Pt.N=$r,Pt.ea=Ms,Pt.W=Qa),Ds||(Sn-=Wr),Sn>Pt.o&&(Sn=Pt.o),Pt.F=null,Pt.J=null,tr.Fa!=null&&0<tr.Fa.length&&yn<Sn&&(Pt.J=_n(tr,Pt,yn,Sn-yn),Pt.F=tr.mb,Pt.F==null&&Pt.F.length==0)){As=_e(tr,3,"Could not decode alpha data.");break t}yn<Pt.j&&(Wr=Pt.j-yn,yn=Pt.j,e(!(1&Wr)),Pt.O+=tr.R*Wr,Pt.N+=tr.B*(Wr>>1),Pt.W+=tr.B*(Wr>>1),Pt.F!=null&&(Pt.J+=Pt.width*Wr)),yn<Sn&&(Pt.O+=Pt.v,Pt.N+=Pt.v>>1,Pt.W+=Pt.v>>1,Pt.F!=null&&(Pt.J+=Pt.v),Pt.ka=yn-Pt.j,Pt.U=Pt.va-Pt.v,Pt.T=Sn-yn,As=Pt.put(Pt))}zr+1!=tr.Ic||Ds||(n(tr.sa,tr.ta-Sr,ta,Ea+16*tr.R,Sr),n(tr.qa,tr.ra-En,zn,$r+8*tr.B,En),n(tr.Ha,tr.Ia-En,Ms,Qa+8*tr.B,En))}if(!As)return _e(sn,6,"Output aborted.")}return 1})(be,Te)),Te.bc!=null&&Te.bc(Te),De&=1}return De?(be.cb=0,De):0})(x,M)||(w=x.a)}}else w=x.a}w==0&&ie.Oa!=null&&ie.Oa.fd&&(w=Ao(ie.ba))}ie=w}te=ie!=0?null:11>te?ue.f.RGBA.eb:ue.f.kb.y}else te=null;return te};var iu=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function m(H,W){for(var K="",$=0;$<4;$++)K+=String.fromCharCode(H[W++]);return K}function g(H,W){return H[W+0]|H[W+1]<<8}function b(H,W){return(H[W+0]|H[W+1]<<8|H[W+2]<<16)>>>0}function B(H,W){return(H[W+0]|H[W+1]<<8|H[W+2]<<16|H[W+3]<<24)>>>0}new h;var _=[0],k=[0],j=[],T=new h,C=r,I=(function(H,W){var K={},$=0,re=!1,le=0,ge=0;if(K.frames=[],!(function(O,G){for(var Q=0;Q<4;Q++)if(O[G+Q]!="RIFF".charCodeAt(Q))return!0;return!1})(H,W)){for(B(H,W+=4),W+=8;W<H.length;){var Y=m(H,W),pe=B(H,W+=4);W+=4;var z=pe+(1&pe);switch(Y){case"VP8 ":case"VP8L":K.frames[$]===void 0&&(K.frames[$]={}),(V=K.frames[$]).src_off=re?ge:W-8,V.src_size=le+pe+8,$++,re&&(re=!1,le=0,ge=0);break;case"VP8X":(V=K.header={}).feature_flags=H[W];var ve=W+4;V.canvas_width=1+b(H,ve),ve+=3,V.canvas_height=1+b(H,ve),ve+=3;break;case"ALPH":re=!0,le=z+8,ge=W-8;break;case"ANIM":(V=K.header).bgcolor=B(H,W),ve=W+4,V.loop_count=g(H,ve),ve+=2;break;case"ANMF":var we,V;(V=K.frames[$]={}).offset_x=2*b(H,W),W+=3,V.offset_y=2*b(H,W),W+=3,V.width=1+b(H,W),W+=3,V.height=1+b(H,W),W+=3,V.duration=b(H,W),W+=3,we=H[W++],V.dispose=1&we,V.blend=we>>1&1}Y!="ANMF"&&(W+=z)}return K}})(C,0);I.response=C,I.rgbaoutput=!0,I.dataurl=!1;var F=I.header?I.header:null,R=I.frames?I.frames:null;if(F){F.loop_counter=F.loop_count,_=[F.canvas_height],k=[F.canvas_width];for(var ae=0;ae<R.length&&R[ae].blend!=0;ae++);}var Z=R[0],me=T.WebPDecodeRGBA(C,Z.src_off,Z.src_size,k,_);Z.rgba=me,Z.imgwidth=k[0],Z.imgheight=_[0];for(var ee=0;ee<k[0]*_[0]*4;ee++)j[ee]=me[ee];return this.width=k,this.height=_,this.data=j,this}(function(r){var e,t,n,a,o,c,d,h,m,g=function(O){return O=O||{},this.isStrokeTransparent=O.isStrokeTransparent||!1,this.strokeOpacity=O.strokeOpacity||1,this.strokeStyle=O.strokeStyle||"#000000",this.fillStyle=O.fillStyle||"#000000",this.isFillTransparent=O.isFillTransparent||!1,this.fillOpacity=O.fillOpacity||1,this.font=O.font||"10px sans-serif",this.textBaseline=O.textBaseline||"alphabetic",this.textAlign=O.textAlign||"left",this.lineWidth=O.lineWidth||1,this.lineJoin=O.lineJoin||"miter",this.lineCap=O.lineCap||"butt",this.path=O.path||[],this.transform=O.transform!==void 0?O.transform.clone():new h,this.globalCompositeOperation=O.globalCompositeOperation||"normal",this.globalAlpha=O.globalAlpha||1,this.clip_path=O.clip_path||[],this.currentPoint=O.currentPoint||new c,this.miterLimit=O.miterLimit||10,this.lastPoint=O.lastPoint||new c,this.lineDashOffset=O.lineDashOffset||0,this.lineDash=O.lineDash||[],this.margin=O.margin||[0,0,0,0],this.prevPageLastElemOffset=O.prevPageLastElemOffset||0,this.ignoreClearRect=typeof O.ignoreClearRect!="boolean"||O.ignoreClearRect,this};r.events.push(["initialized",function(){this.context2d=new b(this),e=this.internal.f2,t=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,c=this.internal.Point,d=this.internal.Rectangle,h=this.internal.Matrix,m=new g}]);var b=function(O){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var G=O;Object.defineProperty(this,"pdf",{get:function(){return G}});var Q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Q},set:function(he){Q=!!he}});var oe=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return oe},set:function(he){oe=!!he}});var ce=0;Object.defineProperty(this,"posX",{get:function(){return ce},set:function(he){isNaN(he)||(ce=he)}});var Be=0;Object.defineProperty(this,"posY",{get:function(){return Be},set:function(he){isNaN(he)||(Be=he)}}),Object.defineProperty(this,"margin",{get:function(){return m.margin},set:function(he){var ct;typeof he=="number"?ct=[he,he,he,he]:((ct=new Array(4))[0]=he[0],ct[1]=he.length>=2?he[1]:ct[0],ct[2]=he.length>=3?he[2]:ct[0],ct[3]=he.length>=4?he[3]:ct[1]),m.margin=ct}});var Se=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Se},set:function(he){Se=he}});var Fe=0;Object.defineProperty(this,"lastBreak",{get:function(){return Fe},set:function(he){Fe=he}});var He=[];Object.defineProperty(this,"pageBreaks",{get:function(){return He},set:function(he){He=he}}),Object.defineProperty(this,"ctx",{get:function(){return m},set:function(he){he instanceof g&&(m=he)}}),Object.defineProperty(this,"path",{get:function(){return m.path},set:function(he){m.path=he}});var it=[];Object.defineProperty(this,"ctxStack",{get:function(){return it},set:function(he){it=he}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(he){var ct;ct=B(he),this.ctx.fillStyle=ct.style,this.ctx.isFillTransparent=ct.a===0,this.ctx.fillOpacity=ct.a,this.pdf.setFillColor(ct.r,ct.g,ct.b,{a:ct.a}),this.pdf.setTextColor(ct.r,ct.g,ct.b,{a:ct.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(he){var ct=B(he);this.ctx.strokeStyle=ct.style,this.ctx.isStrokeTransparent=ct.a===0,this.ctx.strokeOpacity=ct.a,ct.a===0?this.pdf.setDrawColor(255,255,255):(ct.a,this.pdf.setDrawColor(ct.r,ct.g,ct.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(he){["butt","round","square"].indexOf(he)!==-1&&(this.ctx.lineCap=he,this.pdf.setLineCap(he))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(he){isNaN(he)||(this.ctx.lineWidth=he,this.pdf.setLineWidth(he))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(he){["bevel","round","miter"].indexOf(he)!==-1&&(this.ctx.lineJoin=he,this.pdf.setLineJoin(he))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(he){isNaN(he)||(this.ctx.miterLimit=he,this.pdf.setMiterLimit(he))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(he){this.ctx.textBaseline=he}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(he){["right","end","center","left","start"].indexOf(he)!==-1&&(this.ctx.textAlign=he)}});var Re=null,_t=null,It=null;Object.defineProperty(this,"fontFaces",{get:function(){return It},set:function(he){Re=null,_t=null,It=he}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(he){var ct;if(this.ctx.font=he,(ct=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(he))!==null){var yt=ct[1];ct[2];var qt=ct[3],$e=ct[4];ct[5];var Zt=ct[6],Qt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec($e)[2];$e=Math.floor(Qt==="px"?parseFloat($e)*this.pdf.internal.scaleFactor:Qt==="em"?parseFloat($e)*this.pdf.getFontSize():parseFloat($e)*this.pdf.internal.scaleFactor),this.pdf.setFontSize($e);var kt=(function(Dt){var Ne,et,ft=[],Lt=Dt.trim();if(Lt==="")return K0;if(Lt in D2)return[D2[Lt]];for(;Lt!=="";){switch(et=null,Ne=(Lt=P2(Lt)).charAt(0)){case'"':case"'":et=OQ(Lt.substring(1),Ne);break;default:et=MQ(Lt)}if(et===null||(ft.push(et[0]),(Lt=P2(et[1]))!==""&&Lt.charAt(0)!==","))return K0;Lt=Lt.replace(/^,/,"")}return ft})(Zt);if(this.fontFaces){var Kt=(function(Dt,Ne){var et=Dt.getFontList(),ft=JSON.stringify(et);if(Re===null||_t!==ft){var Lt=(function(Ut){var Et=[];return Object.keys(Ut).forEach(function(xr){Ut[xr].forEach(function(Rt){var de=null;switch(Rt){case"bold":de={family:xr,weight:"bold"};break;case"italic":de={family:xr,style:"italic"};break;case"bolditalic":de={family:xr,weight:"bold",style:"italic"};break;case"":case"normal":de={family:xr}}de!==null&&(de.ref={name:xr,style:Rt},Et.push(de))})}),Et})(et);Re=(function(Ut){for(var Et={},xr=0;xr<Ut.length;++xr){var Rt=q0(Ut[xr]),de=Rt.family,Ke=Rt.stretch,Ye=Rt.style,We=Rt.weight;Et[de]=Et[de]||{},Et[de][Ke]=Et[de][Ke]||{},Et[de][Ke][Ye]=Et[de][Ke][Ye]||{},Et[de][Ke][Ye][We]=Rt}return Et})(Lt.concat(Ne)),_t=ft}return Re})(this.pdf,this.fontFaces),Jt=kt.map(function(Dt){return{family:Dt,stretch:"normal",weight:qt,style:yt}}),mr=(function(Dt,Ne,et){for(var ft=(et=et||{}).defaultFontFamily||"times",Lt=Object.assign({},IQ,et.genericFontFamilies||{}),Ut=null,Et=null,xr=0;xr<Ne.length;++xr)if(Lt[(Ut=q0(Ne[xr])).family]&&(Ut.family=Lt[Ut.family]),Dt.hasOwnProperty(Ut.family)){Et=Dt[Ut.family];break}if(!(Et=Et||Dt[ft]))throw new Error("Could not find a font-family for the rule '"+R2(Ut)+"' and default family '"+ft+"'.");if(Et=(function(Rt,de){if(de[Rt])return de[Rt];var Ke=nb[Rt],Ye=Ke<=nb.normal?-1:1,We=M2(de,yN,Ke,Ye);if(!We)throw new Error("Could not find a matching font-stretch value for "+Rt);return We})(Ut.stretch,Et),Et=(function(Rt,de){if(de[Rt])return de[Rt];for(var Ke=vN[Rt],Ye=0;Ye<Ke.length;++Ye)if(de[Ke[Ye]])return de[Ke[Ye]];throw new Error("Could not find a matching font-style for "+Rt)})(Ut.style,Et),!(Et=(function(Rt,de){if(de[Rt])return de[Rt];if(Rt===400&&de[500])return de[500];if(Rt===500&&de[400])return de[400];var Ke=QQ[Rt],Ye=M2(de,wN,Ke,Rt<400?-1:1);if(!Ye)throw new Error("Could not find a matching font-weight for value "+Rt);return Ye})(Ut.weight,Et)))throw new Error("Failed to resolve a font for the rule '"+R2(Ut)+"'.");return Et})(Kt,Jt);this.pdf.setFont(mr.ref.name,mr.ref.style)}else{var Yt="";(qt==="bold"||parseInt(qt,10)>=700||yt==="bold")&&(Yt="bold"),yt==="italic"&&(Yt+="italic"),Yt.length===0&&(Yt="normal");for(var ar="",cr={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ht=0;Ht<kt.length;Ht++){if(this.pdf.internal.getFont(kt[Ht],Yt,{noFallback:!0,disableWarning:!0})!==void 0){ar=kt[Ht];break}if(Yt==="bolditalic"&&this.pdf.internal.getFont(kt[Ht],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ar=kt[Ht],Yt="bold";else if(this.pdf.internal.getFont(kt[Ht],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ar=kt[Ht],Yt="normal";break}}if(ar===""){for(var Vt=0;Vt<kt.length;Vt++)if(cr[kt[Vt]]){ar=cr[kt[Vt]];break}}ar=ar===""?"Times":ar,this.pdf.setFont(ar,Yt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(he){this.ctx.globalCompositeOperation=he}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(he){this.ctx.globalAlpha=he}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(he){this.ctx.lineDashOffset=he,V.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(he){this.ctx.lineDash=he,V.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(he){this.ctx.ignoreClearRect=!!he}})};b.prototype.setLineDash=function(O){this.lineDash=O},b.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},b.prototype.fill=function(){R.call(this,"fill",!1)},b.prototype.stroke=function(){R.call(this,"stroke",!1)},b.prototype.beginPath=function(){this.path=[{type:"begin"}]},b.prototype.moveTo=function(O,G){if(isNaN(O)||isNaN(G))throw Xn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Q=this.ctx.transform.applyToPoint(new c(O,G));this.path.push({type:"mt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new c(O,G)},b.prototype.closePath=function(){var O=new c(0,0),G=0;for(G=this.path.length-1;G!==-1;G--)if(this.path[G].type==="begin"&&Rn(this.path[G+1])==="object"&&typeof this.path[G+1].x=="number"){O=new c(this.path[G+1].x,this.path[G+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new c(O.x,O.y)},b.prototype.lineTo=function(O,G){if(isNaN(O)||isNaN(G))throw Xn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Q=this.ctx.transform.applyToPoint(new c(O,G));this.path.push({type:"lt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new c(Q.x,Q.y)},b.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),R.call(this,null,!0)},b.prototype.quadraticCurveTo=function(O,G,Q,oe){if(isNaN(Q)||isNaN(oe)||isNaN(O)||isNaN(G))throw Xn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ce=this.ctx.transform.applyToPoint(new c(Q,oe)),Be=this.ctx.transform.applyToPoint(new c(O,G));this.path.push({type:"qct",x1:Be.x,y1:Be.y,x:ce.x,y:ce.y}),this.ctx.lastPoint=new c(ce.x,ce.y)},b.prototype.bezierCurveTo=function(O,G,Q,oe,ce,Be){if(isNaN(ce)||isNaN(Be)||isNaN(O)||isNaN(G)||isNaN(Q)||isNaN(oe))throw Xn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Se=this.ctx.transform.applyToPoint(new c(ce,Be)),Fe=this.ctx.transform.applyToPoint(new c(O,G)),He=this.ctx.transform.applyToPoint(new c(Q,oe));this.path.push({type:"bct",x1:Fe.x,y1:Fe.y,x2:He.x,y2:He.y,x:Se.x,y:Se.y}),this.ctx.lastPoint=new c(Se.x,Se.y)},b.prototype.arc=function(O,G,Q,oe,ce,Be){if(isNaN(O)||isNaN(G)||isNaN(Q)||isNaN(oe)||isNaN(ce))throw Xn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Be=!!Be,!this.ctx.transform.isIdentity){var Se=this.ctx.transform.applyToPoint(new c(O,G));O=Se.x,G=Se.y;var Fe=this.ctx.transform.applyToPoint(new c(0,Q)),He=this.ctx.transform.applyToPoint(new c(0,0));Q=Math.sqrt(Math.pow(Fe.x-He.x,2)+Math.pow(Fe.y-He.y,2))}Math.abs(ce-oe)>=2*Math.PI&&(oe=0,ce=2*Math.PI),this.path.push({type:"arc",x:O,y:G,radius:Q,startAngle:oe,endAngle:ce,counterclockwise:Be})},b.prototype.arcTo=function(O,G,Q,oe,ce){throw new Error("arcTo not implemented.")},b.prototype.rect=function(O,G,Q,oe){if(isNaN(O)||isNaN(G)||isNaN(Q)||isNaN(oe))throw Xn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(O,G),this.lineTo(O+Q,G),this.lineTo(O+Q,G+oe),this.lineTo(O,G+oe),this.lineTo(O,G),this.lineTo(O+Q,G),this.lineTo(O,G)},b.prototype.fillRect=function(O,G,Q,oe){if(isNaN(O)||isNaN(G)||isNaN(Q)||isNaN(oe))throw Xn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!_.call(this)){var ce={};this.lineCap!=="butt"&&(ce.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ce.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(O,G,Q,oe),this.fill(),ce.hasOwnProperty("lineCap")&&(this.lineCap=ce.lineCap),ce.hasOwnProperty("lineJoin")&&(this.lineJoin=ce.lineJoin)}},b.prototype.strokeRect=function(O,G,Q,oe){if(isNaN(O)||isNaN(G)||isNaN(Q)||isNaN(oe))throw Xn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");k.call(this)||(this.beginPath(),this.rect(O,G,Q,oe),this.stroke())},b.prototype.clearRect=function(O,G,Q,oe){if(isNaN(O)||isNaN(G)||isNaN(Q)||isNaN(oe))throw Xn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(O,G,Q,oe))},b.prototype.save=function(O){O=typeof O!="boolean"||O;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("q");if(this.pdf.setPage(G),O){this.ctx.fontSize=this.pdf.internal.getFontSize();var oe=new g(this.ctx);this.ctxStack.push(this.ctx),this.ctx=oe}},b.prototype.restore=function(O){O=typeof O!="boolean"||O;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("Q");this.pdf.setPage(G),O&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},b.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var B=function(O){var G,Q,oe,ce;if(O.isCanvasGradient===!0&&(O=O.getColor()),!O)return{r:0,g:0,b:0,a:0,style:O};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(O))G=0,Q=0,oe=0,ce=0;else{var Be=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(O);if(Be!==null)G=parseInt(Be[1]),Q=parseInt(Be[2]),oe=parseInt(Be[3]),ce=1;else if((Be=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(O))!==null)G=parseInt(Be[1]),Q=parseInt(Be[2]),oe=parseInt(Be[3]),ce=parseFloat(Be[4]);else{if(ce=1,typeof O=="string"&&O.charAt(0)!=="#"){var Se=new hN(O);O=Se.ok?Se.toHex():"#000000"}O.length===4?(G=O.substring(1,2),G+=G,Q=O.substring(2,3),Q+=Q,oe=O.substring(3,4),oe+=oe):(G=O.substring(1,3),Q=O.substring(3,5),oe=O.substring(5,7)),G=parseInt(G,16),Q=parseInt(Q,16),oe=parseInt(oe,16)}}return{r:G,g:Q,b:oe,a:ce,style:O}},_=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},k=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};b.prototype.fillText=function(O,G,Q,oe){if(isNaN(G)||isNaN(Q)||typeof O!="string")throw Xn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(oe=isNaN(oe)?void 0:oe,!_.call(this)){var ce=z(this.ctx.transform.rotation),Be=this.ctx.transform.scaleX;$.call(this,{text:O,x:G,y:Q,scale:Be,angle:ce,align:this.textAlign,maxWidth:oe})}},b.prototype.strokeText=function(O,G,Q,oe){if(isNaN(G)||isNaN(Q)||typeof O!="string")throw Xn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!k.call(this)){oe=isNaN(oe)?void 0:oe;var ce=z(this.ctx.transform.rotation),Be=this.ctx.transform.scaleX;$.call(this,{text:O,x:G,y:Q,scale:Be,renderingMode:"stroke",angle:ce,align:this.textAlign,maxWidth:oe})}},b.prototype.measureText=function(O){if(typeof O!="string")throw Xn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var G=this.pdf,Q=this.pdf.internal.scaleFactor,oe=G.internal.getFontSize(),ce=G.getStringUnitWidth(O)*oe/G.internal.scaleFactor;return new function(Be){var Se=(Be=Be||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Se}}),this}({width:ce*=Math.round(96*Q/72*1e4)/1e4})},b.prototype.scale=function(O,G){if(isNaN(O)||isNaN(G))throw Xn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Q=new h(O,0,0,G,0,0);this.ctx.transform=this.ctx.transform.multiply(Q)},b.prototype.rotate=function(O){if(isNaN(O))throw Xn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var G=new h(Math.cos(O),Math.sin(O),-Math.sin(O),Math.cos(O),0,0);this.ctx.transform=this.ctx.transform.multiply(G)},b.prototype.translate=function(O,G){if(isNaN(O)||isNaN(G))throw Xn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Q=new h(1,0,0,1,O,G);this.ctx.transform=this.ctx.transform.multiply(Q)},b.prototype.transform=function(O,G,Q,oe,ce,Be){if(isNaN(O)||isNaN(G)||isNaN(Q)||isNaN(oe)||isNaN(ce)||isNaN(Be))throw Xn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Se=new h(O,G,Q,oe,ce,Be);this.ctx.transform=this.ctx.transform.multiply(Se)},b.prototype.setTransform=function(O,G,Q,oe,ce,Be){O=isNaN(O)?1:O,G=isNaN(G)?0:G,Q=isNaN(Q)?0:Q,oe=isNaN(oe)?1:oe,ce=isNaN(ce)?0:ce,Be=isNaN(Be)?0:Be,this.ctx.transform=new h(O,G,Q,oe,ce,Be)};var j=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};b.prototype.drawImage=function(O,G,Q,oe,ce,Be,Se,Fe,He){var it=this.pdf.getImageProperties(O),Re=1,_t=1,It=1,he=1;oe!==void 0&&Fe!==void 0&&(It=Fe/oe,he=He/ce,Re=it.width/oe*Fe/oe,_t=it.height/ce*He/ce),Be===void 0&&(Be=G,Se=Q,G=0,Q=0),oe!==void 0&&Fe===void 0&&(Fe=oe,He=ce),oe===void 0&&Fe===void 0&&(Fe=it.width,He=it.height);var ct=this.ctx.transform.decompose(),yt=z(ct.rotate.shx),qt=new h,$e=(qt=(qt=(qt=qt.multiply(ct.translate)).multiply(ct.skew)).multiply(ct.scale)).applyToRectangle(new d(Be-G*It,Se-Q*he,oe*Re,ce*_t));if(this.autoPaging){for(var Zt,Qt=T.call(this,$e),kt=[],Kt=0;Kt<Qt.length;Kt+=1)kt.indexOf(Qt[Kt])===-1&&kt.push(Qt[Kt]);F(kt);for(var Jt=kt[0],mr=kt[kt.length-1],Yt=Jt;Yt<mr+1;Yt++){this.pdf.setPage(Yt);var ar=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],cr=Yt===1?this.posY+this.margin[0]:this.margin[0],Ht=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Vt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Dt=Yt===1?0:Ht+(Yt-2)*Vt;if(this.ctx.clip_path.length!==0){var Ne=this.path;Zt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=I(Zt,this.posX+this.margin[3],-Dt+cr+this.ctx.prevPageLastElemOffset),ae.call(this,"fill",!0),this.path=Ne}var et=JSON.parse(JSON.stringify($e));et=I([et],this.posX+this.margin[3],-Dt+cr+this.ctx.prevPageLastElemOffset)[0];var ft=(Yt>Jt||Yt<mr)&&j.call(this);ft&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ar,Vt,null).clip().discardPath()),this.pdf.addImage(O,"JPEG",et.x,et.y,et.w,et.h,null,null,yt),ft&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(O,"JPEG",$e.x,$e.y,$e.w,$e.h,null,null,yt)};var T=function(O,G,Q){var oe=[];G=G||this.pdf.internal.pageSize.width,Q=Q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ce=this.posY+this.ctx.prevPageLastElemOffset;switch(O.type){default:case"mt":case"lt":oe.push(Math.floor((O.y+ce)/Q)+1);break;case"arc":oe.push(Math.floor((O.y+ce-O.radius)/Q)+1),oe.push(Math.floor((O.y+ce+O.radius)/Q)+1);break;case"qct":var Be=ve(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x,O.y);oe.push(Math.floor((Be.y+ce)/Q)+1),oe.push(Math.floor((Be.y+Be.h+ce)/Q)+1);break;case"bct":var Se=we(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x2,O.y2,O.x,O.y);oe.push(Math.floor((Se.y+ce)/Q)+1),oe.push(Math.floor((Se.y+Se.h+ce)/Q)+1);break;case"rect":oe.push(Math.floor((O.y+ce)/Q)+1),oe.push(Math.floor((O.y+O.h+ce)/Q)+1)}for(var Fe=0;Fe<oe.length;Fe+=1)for(;this.pdf.internal.getNumberOfPages()<oe[Fe];)C.call(this);return oe},C=function(){var O=this.fillStyle,G=this.strokeStyle,Q=this.font,oe=this.lineCap,ce=this.lineWidth,Be=this.lineJoin;this.pdf.addPage(),this.fillStyle=O,this.strokeStyle=G,this.font=Q,this.lineCap=oe,this.lineWidth=ce,this.lineJoin=Be},I=function(O,G,Q){for(var oe=0;oe<O.length;oe++)switch(O[oe].type){case"bct":O[oe].x2+=G,O[oe].y2+=Q;case"qct":O[oe].x1+=G,O[oe].y1+=Q;default:O[oe].x+=G,O[oe].y+=Q}return O},F=function(O){return O.sort(function(G,Q){return G-Q})},R=function(O,G){var Q=this.fillStyle,oe=this.strokeStyle,ce=this.lineCap,Be=this.lineWidth,Se=Math.abs(Be*this.ctx.transform.scaleX),Fe=this.lineJoin;if(this.autoPaging){for(var He,it,Re=JSON.parse(JSON.stringify(this.path)),_t=JSON.parse(JSON.stringify(this.path)),It=[],he=0;he<_t.length;he++)if(_t[he].x!==void 0)for(var ct=T.call(this,_t[he]),yt=0;yt<ct.length;yt+=1)It.indexOf(ct[yt])===-1&&It.push(ct[yt]);for(var qt=0;qt<It.length;qt++)for(;this.pdf.internal.getNumberOfPages()<It[qt];)C.call(this);F(It);for(var $e=It[0],Zt=It[It.length-1],Qt=$e;Qt<Zt+1;Qt++){this.pdf.setPage(Qt),this.fillStyle=Q,this.strokeStyle=oe,this.lineCap=ce,this.lineWidth=Se,this.lineJoin=Fe;var kt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Kt=Qt===1?this.posY+this.margin[0]:this.margin[0],Jt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],mr=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Yt=Qt===1?0:Jt+(Qt-2)*mr;if(this.ctx.clip_path.length!==0){var ar=this.path;He=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=I(He,this.posX+this.margin[3],-Yt+Kt+this.ctx.prevPageLastElemOffset),ae.call(this,O,!0),this.path=ar}if(it=JSON.parse(JSON.stringify(Re)),this.path=I(it,this.posX+this.margin[3],-Yt+Kt+this.ctx.prevPageLastElemOffset),G===!1||Qt===0){var cr=(Qt>$e||Qt<Zt)&&j.call(this);cr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],kt,mr,null).clip().discardPath()),ae.call(this,O,G),cr&&this.pdf.restoreGraphicsState()}this.lineWidth=Be}this.path=Re}else this.lineWidth=Se,ae.call(this,O,G),this.lineWidth=Be},ae=function(O,G){if((O!=="stroke"||G||!k.call(this))&&(O==="stroke"||G||!_.call(this))){for(var Q,oe,ce=[],Be=this.path,Se=0;Se<Be.length;Se++){var Fe=Be[Se];switch(Fe.type){case"begin":ce.push({begin:!0});break;case"close":ce.push({close:!0});break;case"mt":ce.push({start:Fe,deltas:[],abs:[]});break;case"lt":var He=ce.length;if(Be[Se-1]&&!isNaN(Be[Se-1].x)&&(Q=[Fe.x-Be[Se-1].x,Fe.y-Be[Se-1].y],He>0)){for(;He>=0;He--)if(ce[He-1].close!==!0&&ce[He-1].begin!==!0){ce[He-1].deltas.push(Q),ce[He-1].abs.push(Fe);break}}break;case"bct":Q=[Fe.x1-Be[Se-1].x,Fe.y1-Be[Se-1].y,Fe.x2-Be[Se-1].x,Fe.y2-Be[Se-1].y,Fe.x-Be[Se-1].x,Fe.y-Be[Se-1].y],ce[ce.length-1].deltas.push(Q);break;case"qct":var it=Be[Se-1].x+2/3*(Fe.x1-Be[Se-1].x),Re=Be[Se-1].y+2/3*(Fe.y1-Be[Se-1].y),_t=Fe.x+2/3*(Fe.x1-Fe.x),It=Fe.y+2/3*(Fe.y1-Fe.y),he=Fe.x,ct=Fe.y;Q=[it-Be[Se-1].x,Re-Be[Se-1].y,_t-Be[Se-1].x,It-Be[Se-1].y,he-Be[Se-1].x,ct-Be[Se-1].y],ce[ce.length-1].deltas.push(Q);break;case"arc":ce.push({deltas:[],abs:[],arc:!0}),Array.isArray(ce[ce.length-1].abs)&&ce[ce.length-1].abs.push(Fe)}}oe=G?null:O==="stroke"?"stroke":"fill";for(var yt=!1,qt=0;qt<ce.length;qt++)if(ce[qt].arc)for(var $e=ce[qt].abs,Zt=0;Zt<$e.length;Zt++){var Qt=$e[Zt];Qt.type==="arc"?ee.call(this,Qt.x,Qt.y,Qt.radius,Qt.startAngle,Qt.endAngle,Qt.counterclockwise,void 0,G,!yt):re.call(this,Qt.x,Qt.y),yt=!0}else if(ce[qt].close===!0)this.pdf.internal.out("h"),yt=!1;else if(ce[qt].begin!==!0){var kt=ce[qt].start.x,Kt=ce[qt].start.y;le.call(this,ce[qt].deltas,kt,Kt),yt=!0}oe&&H.call(this,oe),G&&W.call(this)}},Z=function(O){var G=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Q=G*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return O-Q;case"top":return O+G-Q;case"hanging":return O+G-2*Q;case"middle":return O+G/2-Q;default:return O}},me=function(O){return O+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};b.prototype.createLinearGradient=function(){var O=function(){};return O.colorStops=[],O.addColorStop=function(G,Q){this.colorStops.push([G,Q])},O.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},O.isCanvasGradient=!0,O},b.prototype.createPattern=function(){return this.createLinearGradient()},b.prototype.createRadialGradient=function(){return this.createLinearGradient()};var ee=function(O,G,Q,oe,ce,Be,Se,Fe,He){for(var it=Y.call(this,Q,oe,ce,Be),Re=0;Re<it.length;Re++){var _t=it[Re];Re===0&&(He?K.call(this,_t.x1+O,_t.y1+G):re.call(this,_t.x1+O,_t.y1+G)),ge.call(this,O,G,_t.x2,_t.y2,_t.x3,_t.y3,_t.x4,_t.y4)}Fe?W.call(this):H.call(this,Se)},H=function(O){switch(O){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},W=function(){this.pdf.clip(),this.pdf.discardPath()},K=function(O,G){this.pdf.internal.out(t(O)+" "+n(G)+" m")},$=function(O){var G;switch(O.align){case"right":case"end":G="right";break;case"center":G="center";break;default:G="left"}var Q,oe,ce,Be=this.pdf.getTextDimensions(O.text),Se=Z.call(this,O.y),Fe=me.call(this,Se)-Be.h,He=this.ctx.transform.applyToPoint(new c(O.x,Se));if(this.autoPaging){var it=this.ctx.transform.decompose(),Re=new h;Re=(Re=(Re=Re.multiply(it.translate)).multiply(it.skew)).multiply(it.scale);for(var _t=this.ctx.transform.applyToRectangle(new d(O.x,Se,Be.w,Be.h)),It=Re.applyToRectangle(new d(O.x,Fe,Be.w,Be.h)),he=T.call(this,It),ct=[],yt=0;yt<he.length;yt+=1)ct.indexOf(he[yt])===-1&&ct.push(he[yt]);F(ct);for(var qt=ct[0],$e=ct[ct.length-1],Zt=qt;Zt<$e+1;Zt++){this.pdf.setPage(Zt);var Qt=Zt===1?this.posY+this.margin[0]:this.margin[0],kt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Kt=this.pdf.internal.pageSize.height-this.margin[2],Jt=Kt-this.margin[0],mr=this.pdf.internal.pageSize.width-this.margin[1],Yt=mr-this.margin[3],ar=Zt===1?0:kt+(Zt-2)*Jt;if(this.ctx.clip_path.length!==0){var cr=this.path;Q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=I(Q,this.posX+this.margin[3],-1*ar+Qt),ae.call(this,"fill",!0),this.path=cr}var Ht=I([JSON.parse(JSON.stringify(It))],this.posX+this.margin[3],-ar+Qt+this.ctx.prevPageLastElemOffset)[0];O.scale>=.01&&(oe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(oe*O.scale),ce=this.lineWidth,this.lineWidth=ce*O.scale);var Vt=this.autoPaging!=="text";if(Vt||Ht.y+Ht.h<=Kt){if(Vt||Ht.y>=Qt&&Ht.x<=mr){var Dt=Vt?O.text:this.pdf.splitTextToSize(O.text,O.maxWidth||mr-Ht.x)[0],Ne=I([JSON.parse(JSON.stringify(_t))],this.posX+this.margin[3],-ar+Qt+this.ctx.prevPageLastElemOffset)[0],et=Vt&&(Zt>qt||Zt<$e)&&j.call(this);et&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Yt,Jt,null).clip().discardPath()),this.pdf.text(Dt,Ne.x,Ne.y,{angle:O.angle,align:G,renderingMode:O.renderingMode}),et&&this.pdf.restoreGraphicsState()}}else Ht.y<Kt&&(this.ctx.prevPageLastElemOffset+=Kt-Ht.y);O.scale>=.01&&(this.pdf.setFontSize(oe),this.lineWidth=ce)}}else O.scale>=.01&&(oe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(oe*O.scale),ce=this.lineWidth,this.lineWidth=ce*O.scale),this.pdf.text(O.text,He.x+this.posX,He.y+this.posY,{angle:O.angle,align:G,renderingMode:O.renderingMode,maxWidth:O.maxWidth}),O.scale>=.01&&(this.pdf.setFontSize(oe),this.lineWidth=ce)},re=function(O,G,Q,oe){Q=Q||0,oe=oe||0,this.pdf.internal.out(t(O+Q)+" "+n(G+oe)+" l")},le=function(O,G,Q){return this.pdf.lines(O,G,Q,null,null)},ge=function(O,G,Q,oe,ce,Be,Se,Fe){this.pdf.internal.out([e(a(Q+O)),e(o(oe+G)),e(a(ce+O)),e(o(Be+G)),e(a(Se+O)),e(o(Fe+G)),"c"].join(" "))},Y=function(O,G,Q,oe){for(var ce=2*Math.PI,Be=Math.PI/2;G>Q;)G-=ce;var Se=Math.abs(Q-G);Se<ce&&oe&&(Se=ce-Se);for(var Fe=[],He=oe?-1:1,it=G;Se>1e-5;){var Re=it+He*Math.min(Se,Be);Fe.push(pe.call(this,O,it,Re)),Se-=Math.abs(Re-it),it=Re}return Fe},pe=function(O,G,Q){var oe=(Q-G)/2,ce=O*Math.cos(oe),Be=O*Math.sin(oe),Se=ce,Fe=-Be,He=Se*Se+Fe*Fe,it=He+Se*ce+Fe*Be,Re=4/3*(Math.sqrt(2*He*it)-it)/(Se*Be-Fe*ce),_t=Se-Re*Fe,It=Fe+Re*Se,he=_t,ct=-It,yt=oe+G,qt=Math.cos(yt),$e=Math.sin(yt);return{x1:O*Math.cos(G),y1:O*Math.sin(G),x2:_t*qt-It*$e,y2:_t*$e+It*qt,x3:he*qt-ct*$e,y3:he*$e+ct*qt,x4:O*Math.cos(Q),y4:O*Math.sin(Q)}},z=function(O){return 180*O/Math.PI},ve=function(O,G,Q,oe,ce,Be){var Se=O+.5*(Q-O),Fe=G+.5*(oe-G),He=ce+.5*(Q-ce),it=Be+.5*(oe-Be),Re=Math.min(O,ce,Se,He),_t=Math.max(O,ce,Se,He),It=Math.min(G,Be,Fe,it),he=Math.max(G,Be,Fe,it);return new d(Re,It,_t-Re,he-It)},we=function(O,G,Q,oe,ce,Be,Se,Fe){var He,it,Re,_t,It,he,ct,yt,qt,$e,Zt,Qt,kt,Kt,Jt=Q-O,mr=oe-G,Yt=ce-Q,ar=Be-oe,cr=Se-ce,Ht=Fe-Be;for(it=0;it<41;it++)qt=(ct=(Re=O+(He=it/40)*Jt)+He*((It=Q+He*Yt)-Re))+He*(It+He*(ce+He*cr-It)-ct),$e=(yt=(_t=G+He*mr)+He*((he=oe+He*ar)-_t))+He*(he+He*(Be+He*Ht-he)-yt),it==0?(Zt=qt,Qt=$e,kt=qt,Kt=$e):(Zt=Math.min(Zt,qt),Qt=Math.min(Qt,$e),kt=Math.max(kt,qt),Kt=Math.max(Kt,$e));return new d(Math.round(Zt),Math.round(Qt),Math.round(kt-Zt),Math.round(Kt-Qt))},V=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var O,G,Q=(O=this.ctx.lineDash,G=this.ctx.lineDashOffset,JSON.stringify({lineDash:O,lineDashOffset:G}));this.prevLineDash!==Q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Q)}}})(yr.API),(function(r){var e=function(c){var d,h,m,g,b,B,_,k,j,T;for(h=[],m=0,g=(c+=d="\0\0\0\0".slice(c.length%4||4)).length;g>m;m+=4)(b=(c.charCodeAt(m)<<24)+(c.charCodeAt(m+1)<<16)+(c.charCodeAt(m+2)<<8)+c.charCodeAt(m+3))!==0?(B=(b=((b=((b=((b=(b-(T=b%85))/85)-(j=b%85))/85)-(k=b%85))/85)-(_=b%85))/85)%85,h.push(B+33,_+33,k+33,j+33,T+33)):h.push(122);return(function(C,I){for(var F=I;F>0;F--)C.pop()})(h,d.length),String.fromCharCode.apply(String,h)+"~>"},t=function(c){var d,h,m,g,b,B=String,_="length",k=255,j="charCodeAt",T="slice",C="replace";for(c[T](-2),c=c[T](0,-2)[C](/\s/g,"")[C]("z","!!!!!"),m=[],g=0,b=(c+=d="uuuuu"[T](c[_]%5||5))[_];b>g;g+=5)h=52200625*(c[j](g)-33)+614125*(c[j](g+1)-33)+7225*(c[j](g+2)-33)+85*(c[j](g+3)-33)+(c[j](g+4)-33),m.push(k&h>>24,k&h>>16,k&h>>8,k&h);return(function(I,F){for(var R=F;R>0;R--)I.pop()})(m,d[_]),B.fromCharCode.apply(B,m)},n=function(c){return c.split("").map(function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(c){var d=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((c=c.replace(/\s/g,"")).indexOf(">")!==-1&&(c=c.substr(0,c.indexOf(">"))),c.length%2&&(c+="0"),d.test(c)===!1)return"";for(var h="",m=0;m<c.length;m+=2)h+=String.fromCharCode("0x"+(c[m]+c[m+1]));return h},o=function(c){for(var d=new Uint8Array(c.length),h=c.length;h--;)d[h]=c.charCodeAt(h);return(d=Yx(d)).reduce(function(m,g){return m+String.fromCharCode(g)},"")};r.processDataByFilters=function(c,d){var h=0,m=c||"",g=[];for(typeof(d=d||[])=="string"&&(d=[d]),h=0;h<d.length;h+=1)switch(d[h]){case"ASCII85Decode":case"/ASCII85Decode":m=t(m),g.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":m=e(m),g.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":m=a(m),g.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":m=n(m),g.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":m=o(m),g.push("/FlateDecode");break;default:throw new Error('The filter: "'+d[h]+'" is not implemented')}return{data:m,reverseChain:g.reverse().join(" ")}}})(yr.API),(function(r){r.loadFile=function(e,t,n){return(function(a,o,c){o=o!==!1,c=typeof c=="function"?c:function(){};var d=void 0;try{d=(function(h,m,g){var b=new XMLHttpRequest,B=0,_=function(k){var j=k.length,T=[],C=String.fromCharCode;for(B=0;B<j;B+=1)T.push(C(255&k.charCodeAt(B)));return T.join("")};if(b.open("GET",h,!m),b.overrideMimeType("text/plain; charset=x-user-defined"),m===!1&&(b.onload=function(){b.status===200?g(_(this.responseText)):g(void 0)}),b.send(null),m&&b.status===200)return _(b.responseText)})(a,o,c)}catch{}return d})(e,t,n)},r.loadImageFile=r.loadFile})(yr.API),(function(r){function e(){return(Dr.html2canvas?Promise.resolve(Dr.html2canvas):C0(()=>Promise.resolve().then(()=>hT),void 0)).catch(function(d){return Promise.reject(new Error("Could not load html2canvas: "+d))}).then(function(d){return d.default?d.default:d})}function t(){return(Dr.DOMPurify?Promise.resolve(Dr.DOMPurify):C0(()=>import("./purify.es-B9ZVCkUG.js"),[])).catch(function(d){return Promise.reject(new Error("Could not load dompurify: "+d))}).then(function(d){return d.default?d.default:d})}var n=function(d){var h=Rn(d);return h==="undefined"?"undefined":h==="string"||d instanceof String?"string":h==="number"||d instanceof Number?"number":h==="function"||d instanceof Function?"function":d&&d.constructor===Array?"array":d&&d.nodeType===1?"element":h==="object"?"object":"unknown"},a=function(d,h){var m=document.createElement(d);for(var g in h.className&&(m.className=h.className),h.innerHTML&&h.dompurify&&(m.innerHTML=h.dompurify.sanitize(h.innerHTML)),h.style)m.style[g]=h.style[g];return m},o=function d(h,m){for(var g=h.nodeType===3?document.createTextNode(h.nodeValue):h.cloneNode(!1),b=h.firstChild;b;b=b.nextSibling)m!==!0&&b.nodeType===1&&b.nodeName==="SCRIPT"||g.appendChild(d(b,m));return h.nodeType===1&&(h.nodeName==="CANVAS"?(g.width=h.width,g.height=h.height,g.getContext("2d").drawImage(h,0,0)):h.nodeName!=="TEXTAREA"&&h.nodeName!=="SELECT"||(g.value=h.value),g.addEventListener("load",function(){g.scrollTop=h.scrollTop,g.scrollLeft=h.scrollLeft},!0)),g},c=function d(h){var m=Object.assign(d.convert(Promise.resolve()),JSON.parse(JSON.stringify(d.template))),g=d.convert(Promise.resolve(),m);return(g=g.setProgress(1,d,1,[d])).set(h)};(c.prototype=Object.create(Promise.prototype)).constructor=c,c.convert=function(d,h){return d.__proto__=h||c.prototype,d},c.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},c.prototype.from=function(d,h){return this.then(function(){switch(h=h||(function(m){switch(n(m)){case"string":return"string";case"element":return m.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(d),h){case"string":return this.then(t).then(function(m){return this.set({src:a("div",{innerHTML:d,dompurify:m})})});case"element":return this.set({src:d});case"canvas":return this.set({canvas:d});case"img":return this.set({img:d});default:return this.error("Unknown source type.")}})},c.prototype.to=function(d){switch(d){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},c.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var d={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},h=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);h.tagName==="BODY"&&(d.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:d}),this.prop.container.appendChild(h),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},c.prototype.toCanvas=function(){var d=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(d).then(e).then(function(h){var m=Object.assign({},this.opt.html2canvas);return delete m.onrendered,h(this.prop.container,m)}).then(function(h){(this.opt.html2canvas.onrendered||function(){})(h),this.prop.canvas=h,document.body.removeChild(this.prop.overlay)})},c.prototype.toContext2d=function(){var d=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(d).then(e).then(function(h){var m=this.opt.jsPDF,g=this.opt.fontFaces,b=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,B=Object.assign({async:!0,allowTaint:!0,scale:b,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete B.onrendered,m.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,m.context2d.posX=this.opt.x,m.context2d.posY=this.opt.y,m.context2d.margin=this.opt.margin,m.context2d.fontFaces=g,g)for(var _=0;_<g.length;++_){var k=g[_],j=k.src.find(function(T){return T.format==="truetype"});j&&m.addFont(j.url,k.ref.name,k.ref.style)}return B.windowHeight=B.windowHeight||0,B.windowHeight=B.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):B.windowHeight,m.context2d.save(!0),h(this.prop.container,B)}).then(function(h){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(h),this.prop.canvas=h,document.body.removeChild(this.prop.overlay)})},c.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var d=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=d})},c.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},c.prototype.output=function(d,h,m){return(m=m||"pdf").toLowerCase()==="img"||m.toLowerCase()==="image"?this.outputImg(d,h):this.outputPdf(d,h)},c.prototype.outputPdf=function(d,h){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(d,h)})},c.prototype.outputImg=function(d){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(d){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+d+'" is not supported.'}})},c.prototype.save=function(d){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(d?{filename:d}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},c.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},c.prototype.set=function(d){if(n(d)!=="object")return this;var h=Object.keys(d||{}).map(function(m){if(m in c.template.prop)return function(){this.prop[m]=d[m]};switch(m){case"margin":return this.setMargin.bind(this,d.margin);case"jsPDF":return function(){return this.opt.jsPDF=d.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,d.pageSize);default:return function(){this.opt[m]=d[m]}}},this);return this.then(function(){return this.thenList(h)})},c.prototype.get=function(d,h){return this.then(function(){var m=d in c.template.prop?this.prop[d]:this.opt[d];return h?h(m):m})},c.prototype.setMargin=function(d){return this.then(function(){switch(n(d)){case"number":d=[d,d,d,d];case"array":if(d.length===2&&(d=[d[0],d[1],d[0],d[1]]),d.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=d}).then(this.setPageSize)},c.prototype.setPageSize=function(d){function h(m,g){return Math.floor(m*g/72*96)}return this.then(function(){(d=d||yr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(d.inner={width:d.width-this.opt.margin[1]-this.opt.margin[3],height:d.height-this.opt.margin[0]-this.opt.margin[2]},d.inner.px={width:h(d.inner.width,d.k),height:h(d.inner.height,d.k)},d.inner.ratio=d.inner.height/d.inner.width),this.prop.pageSize=d})},c.prototype.setProgress=function(d,h,m,g){return d!=null&&(this.progress.val=d),h!=null&&(this.progress.state=h),m!=null&&(this.progress.n=m),g!=null&&(this.progress.stack=g),this.progress.ratio=this.progress.val/this.progress.state,this},c.prototype.updateProgress=function(d,h,m,g){return this.setProgress(d?this.progress.val+d:null,h||null,m?this.progress.n+m:null,g?this.progress.stack.concat(g):null)},c.prototype.then=function(d,h){var m=this;return this.thenCore(d,h,function(g,b){return m.updateProgress(null,null,1,[g]),Promise.prototype.then.call(this,function(B){return m.updateProgress(null,g),B}).then(g,b).then(function(B){return m.updateProgress(1),B})})},c.prototype.thenCore=function(d,h,m){m=m||Promise.prototype.then;var g=this;d&&(d=d.bind(g)),h&&(h=h.bind(g));var b=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?g:c.convert(Object.assign({},g),Promise.prototype),B=m.call(b,d,h);return c.convert(B,g.__proto__)},c.prototype.thenExternal=function(d,h){return Promise.prototype.then.call(this,d,h)},c.prototype.thenList=function(d){var h=this;return d.forEach(function(m){h=h.thenCore(m)}),h},c.prototype.catch=function(d){d&&(d=d.bind(this));var h=Promise.prototype.catch.call(this,d);return c.convert(h,this)},c.prototype.catchExternal=function(d){return Promise.prototype.catch.call(this,d)},c.prototype.error=function(d){return this.then(function(){throw new Error(d)})},c.prototype.using=c.prototype.set,c.prototype.saveAs=c.prototype.save,c.prototype.export=c.prototype.output,c.prototype.run=c.prototype.then,yr.getPageSize=function(d,h,m){if(Rn(d)==="object"){var g=d;d=g.orientation,h=g.unit||h,m=g.format||m}h=h||"mm",m=m||"a4",d=(""+(d||"P")).toLowerCase();var b,B=(""+m).toLowerCase(),_={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(h){case"pt":b=1;break;case"mm":b=72/25.4;break;case"cm":b=72/2.54;break;case"in":b=72;break;case"px":b=.75;break;case"pc":case"em":b=12;break;case"ex":b=6;break;default:throw"Invalid unit: "+h}var k,j=0,T=0;if(_.hasOwnProperty(B))j=_[B][1]/b,T=_[B][0]/b;else try{j=m[1],T=m[0]}catch{throw new Error("Invalid format: "+m)}if(d==="p"||d==="portrait")d="p",T>j&&(k=T,T=j,j=k);else{if(d!=="l"&&d!=="landscape")throw"Invalid orientation: "+d;d="l",j>T&&(k=T,T=j,j=k)}return{width:T,height:j,unit:h,k:b,orientation:d}},r.html=function(d,h){(h=h||{}).callback=h.callback||function(){},h.html2canvas=h.html2canvas||{},h.html2canvas.canvas=h.html2canvas.canvas||this.canvas,h.jsPDF=h.jsPDF||this,h.fontFaces=h.fontFaces?h.fontFaces.map(q0):null;var m=new c(h);return h.worker?m:m.from(d).doCallback()}})(yr.API),yr.API.addJS=function(r){return z2=r,this.internal.events.subscribe("postPutResources",function(){fp=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(fp+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),H2=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+z2+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){fp!==void 0&&H2!==void 0&&this.internal.out("/Names <</JavaScript "+fp+" 0 R>>")}),this},(function(r){var e;r.events.push(["postPutResources",function(){var t=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=t.outline.render().split(/\r\n/),o=0;o<a.length;o++){var c=a[o],d=n.exec(c);if(d!=null){var h=d[1];t.internal.newObjectDeferredBegin(h,!1)}t.internal.write(c)}if(this.outline.createNamedDestinations){var m=this.internal.pages.length,g=[];for(o=0;o<m;o++){var b=t.internal.newObject();g.push(b);var B=t.internal.getPageInfo(o+1);t.internal.write("<< /D["+B.objId+" 0 R /XYZ null null null]>> endobj")}var _=t.internal.newObject();for(t.internal.write("<< /Names [ "),o=0;o<g.length;o++)t.internal.write("(page_"+(o+1)+")"+g[o]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+_+" 0 R"),t.internal.write(">>","endobj")}}]),r.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),r.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(n,a,o){var c={title:a,options:o,children:[]};return n==null&&(n=this.root),n.children.push(c),c},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(n){n.id=t.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},t.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},t.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<n.children.length;o++){var c=n.children[o];this.objStart(c),this.line("/Title "+this.makeString(c.title)),this.line("/Parent "+this.makeRef(n)),o>0&&this.line("/Prev "+this.makeRef(n.children[o-1])),o<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[o+1])),c.children.length>0&&(this.line("/First "+this.makeRef(c.children[0])),this.line("/Last "+this.makeRef(c.children[c.children.length-1])));var d=this.count=this.count_r({count:0},c);if(d>0&&this.line("/Count "+d),c.options&&c.options.pageNumber){var h=t.internal.getPageInfo(c.options.pageNumber);this.line("/Dest ["+h.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var m=0;m<n.children.length;m++)this.renderItems(n.children[m])},t.outline.line=function(n){this.ctx.val+=n+`\r
`},t.outline.makeRef=function(n){return n.id+" 0 R"},t.outline.makeString=function(n){return"("+t.internal.pdfEscape(n)+")"},t.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(n,a){for(var o=0;o<a.children.length;o++)n.count++,this.count_r(n,a.children[o]);return n.count}}])})(yr.API),(function(r){var e=[192,193,194,195,196,197,198,199];r.processJPEG=function(t,n,a,o,c,d){var h,m=this.decode.DCT_DECODE,g=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=c||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,h=(function(b){for(var B,_=256*b.charCodeAt(4)+b.charCodeAt(5),k=b.length,j={width:0,height:0,numcomponents:1},T=4;T<k;T+=2){if(T+=_,e.indexOf(b.charCodeAt(T+1))!==-1){B=256*b.charCodeAt(T+5)+b.charCodeAt(T+6),j={width:256*b.charCodeAt(T+7)+b.charCodeAt(T+8),height:B,numcomponents:b.charCodeAt(T+9)};break}_=256*b.charCodeAt(T+2)+b.charCodeAt(T+3)}return j})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),h.numcomponents){case 1:d=this.color_spaces.DEVICE_GRAY;break;case 4:d=this.color_spaces.DEVICE_CMYK;break;case 3:d=this.color_spaces.DEVICE_RGB}g={data:t,width:h.width,height:h.height,colorSpace:d,bitsPerComponent:8,filter:m,index:n,alias:a}}return g}})(yr.API),yr.API.processPNG=function(r,e,t,n){if(this.__addimage__.isArrayBuffer(r)&&(r=new Uint8Array(r)),this.__addimage__.isArrayBufferView(r)){var a,o=yQ(r,{checkCrc:!0}),c=o.width,d=o.height,h=o.channels,m=o.palette,g=o.depth;a=m&&h===1?(function(ee){for(var H=ee.width,W=ee.height,K=ee.data,$=ee.palette,re=ee.depth,le=!1,ge=[],Y=[],pe=void 0,z=!1,ve=0,we=0;we<$.length;we++){var V=Vw($[we],4),O=V[0],G=V[1],Q=V[2],oe=V[3];ge.push(O,G,Q),oe!=null&&(oe===0?(ve++,Y.length<1&&Y.push(we)):oe<255&&(z=!0))}if(z||ve>1){le=!0,Y=void 0;var ce=H*W;pe=new Uint8Array(ce);for(var Be=new DataView(K.buffer),Se=0;Se<ce;Se++){var Fe=G0(Be,Se,re),He=Vw($[Fe],4)[3];pe[Se]=He}}else ve===0&&(Y=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:le?8:void 0,colorBytes:K,alphaBytes:pe,needSMask:le,palette:ge,mask:Y}})(o):h===2||h===4?(function(ee){for(var H=ee.data,W=ee.width,K=ee.height,$=ee.channels,re=ee.depth,le=$===2?"DeviceGray":"DeviceRGB",ge=$-1,Y=W*K,pe=ge,z=Y*pe,ve=1*Y,we=Math.ceil(z*re/8),V=Math.ceil(ve*re/8),O=new Uint8Array(we),G=new Uint8Array(V),Q=new DataView(H.buffer),oe=new DataView(O.buffer),ce=new DataView(G.buffer),Be=!1,Se=0;Se<Y;Se++){for(var Fe=Se*$,He=0;He<pe;He++)J2(oe,G0(Q,Fe+He,re),Se*pe+He,re);var it=G0(Q,Fe+pe,re);it<(1<<re)-1&&(Be=!0),J2(ce,it,1*Se,re)}return{colorSpace:le,colorsPerPixel:ge,sMaskBitsPerComponent:Be?re:void 0,colorBytes:O,alphaBytes:G,needSMask:Be}})(o):(function(ee){var H=ee.data,W=ee.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:W,colorsPerPixel:W==="DeviceGray"?1:3,colorBytes:H instanceof Uint16Array?(function(K){for(var $=K.length,re=new Uint8Array(2*$),le=new DataView(re.buffer,re.byteOffset,re.byteLength),ge=0;ge<$;ge++)le.setUint16(2*ge,K[ge],!1);return re})(H):H,needSMask:!1}})(o);var b,B,_,k=a,j=k.colorSpace,T=k.colorsPerPixel,C=k.sMaskBitsPerComponent,I=k.colorBytes,F=k.alphaBytes,R=k.needSMask,ae=k.palette,Z=k.mask,me=null;return n!==yr.API.image_compression.NONE&&typeof Yx=="function"?(me=(function(ee){var H;switch(ee){case yr.API.image_compression.FAST:H=11;break;case yr.API.image_compression.MEDIUM:H=13;break;case yr.API.image_compression.SLOW:H=14;break;default:H=12}return H})(n),b=this.decode.FLATE_DECODE,B="/Predictor ".concat(me," /Colors ").concat(T," /BitsPerComponent ").concat(g," /Columns ").concat(c),r=V2(I,Math.ceil(c*T*g/8),T,g,n),R&&(_=V2(F,Math.ceil(c*C/8),1,C,n))):(b=void 0,B=void 0,r=I,R&&(_=F)),(this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r))&&(r=this.__addimage__.arrayBufferToBinaryString(r)),(_&&this.__addimage__.isArrayBuffer(_)||this.__addimage__.isArrayBufferView(_))&&(_=this.__addimage__.arrayBufferToBinaryString(_)),{alias:t,data:r,index:e,filter:b,decodeParameters:B,transparency:Z,palette:ae,sMask:_,predictor:me,width:c,height:d,bitsPerComponent:g,sMaskBitsPerComponent:C,colorSpace:j}}},(function(r){r.processGIF89A=function(e,t,n,a){var o=new HQ(e),c=o.width,d=o.height,h=[];o.decodeAndBlitFrameRGBA(0,h);var m={data:h,width:c,height:d},g=new V0(100).encode(m,100);return r.processJPEG.call(this,g,t,n,a)},r.processGIF87A=r.processGIF89A})(yr.API),ol.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var r=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(r);for(var e=0;e<r;e++){var t=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:n,blue:t,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ol.prototype.parseBGR=function(){this.pos=this.offset;try{var r="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[r]()}catch(t){Xn.log("bit decode error:"+t)}},ol.prototype.bit1=function(){var r,e=Math.ceil(this.width/8),t=e%4;for(r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<e;a++)for(var o=this.datav.getUint8(this.pos++,!0),c=n*this.width*4+8*a*4,d=0;d<8&&8*a+d<this.width;d++){var h=this.palette[o>>7-d&1];this.data[c+4*d]=h.blue,this.data[c+4*d+1]=h.green,this.data[c+4*d+2]=h.red,this.data[c+4*d+3]=255}t!==0&&(this.pos+=4-t)}},ol.prototype.bit4=function(){for(var r=Math.ceil(this.width/2),e=r%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,a=0;a<r;a++){var o=this.datav.getUint8(this.pos++,!0),c=n*this.width*4+2*a*4,d=o>>4,h=15&o,m=this.palette[d];if(this.data[c]=m.blue,this.data[c+1]=m.green,this.data[c+2]=m.red,this.data[c+3]=255,2*a+1>=this.width)break;m=this.palette[h],this.data[c+4]=m.blue,this.data[c+4+1]=m.green,this.data[c+4+2]=m.red,this.data[c+4+3]=255}e!==0&&(this.pos+=4-e)}},ol.prototype.bit8=function(){for(var r=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*n;if(a<this.palette.length){var c=this.palette[a];this.data[o]=c.red,this.data[o+1]=c.green,this.data[o+2]=c.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}r!==0&&(this.pos+=4-r)}},ol.prototype.bit15=function(){for(var r=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(o&e)/e*255|0,d=(o>>5&e)/e*255|0,h=(o>>10&e)/e*255|0,m=o>>15?255:0,g=n*this.width*4+4*a;this.data[g]=h,this.data[g+1]=d,this.data[g+2]=c,this.data[g+3]=m}this.pos+=r}},ol.prototype.bit16=function(){for(var r=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,o=0;o<this.width;o++){var c=this.datav.getUint16(this.pos,!0);this.pos+=2;var d=(c&e)/e*255|0,h=(c>>5&t)/t*255|0,m=(c>>11)/e*255|0,g=a*this.width*4+4*o;this.data[g]=m,this.data[g+1]=h,this.data[g+2]=d,this.data[g+3]=255}this.pos+=r}},ol.prototype.bit24=function(){for(var r=this.height-1;r>=0;r--){for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*t;this.data[c]=o,this.data[c+1]=a,this.data[c+2]=n,this.data[c+3]=255}this.pos+=this.width%4}},ol.prototype.bit32=function(){for(var r=this.height-1;r>=0;r--)for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),d=e*this.width*4+4*t;this.data[d]=o,this.data[d+1]=a,this.data[d+2]=n,this.data[d+3]=c}},ol.prototype.getData=function(){return this.data},(function(r){r.processBMP=function(e,t,n,a){var o=new ol(e,!1),c=o.width,d=o.height,h={data:o.getData(),width:c,height:d},m=new V0(100).encode(h,100);return r.processJPEG.call(this,m,t,n,a)}})(yr.API),e_.prototype.getData=function(){return this.data},(function(r){r.processWEBP=function(e,t,n,a){var o=new e_(e),c=o.width,d=o.height,h={data:o.getData(),width:c,height:d},m=new V0(100).encode(h,100);return r.processJPEG.call(this,m,t,n,a)}})(yr.API),yr.API.processRGBA=function(r,e,t){for(var n=r.data,a=n.length,o=new Uint8Array(a/4*3),c=new Uint8Array(a/4),d=0,h=0,m=0;m<a;m+=4){var g=n[m],b=n[m+1],B=n[m+2],_=n[m+3];o[d++]=g,o[d++]=b,o[d++]=B,c[h++]=_}var k=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(c),data:k,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:r.width,height:r.height}},yr.API.setLanguage=function(r){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[r]!==void 0&&(this.internal.languageSettings.languageCode=r,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Iu=yr.API,pp=Iu.getCharWidthsArray=function(r,e){var t,n,a=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),c=e.charSpace||this.internal.getCharSpace(),d=e.widths?e.widths:a.metadata.Unicode.widths,h=d.fof?d.fof:1,m=e.kerning?e.kerning:a.metadata.Unicode.kerning,g=m.fof?m.fof:1,b=e.doKerning!==!1,B=0,_=r.length,k=0,j=d[0]||h,T=[];for(t=0;t<_;t++)n=r.charCodeAt(t),typeof a.metadata.widthOfString=="function"?T.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+c*(1e3/o)||0)/1e3):(B=b&&Rn(m[n])==="object"&&!isNaN(parseInt(m[n][k],10))?m[n][k]/g:0,T.push((d[n]||j)/h+B)),k=n;return T},q2=Iu.getStringUnitWidth=function(r,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return Iu.processArabic&&(r=Iu.processArabic(r)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(r,t,a)/t:pp.apply(this,arguments).reduce(function(o,c){return o+c},0)},K2=function(r,e,t,n){for(var a=[],o=0,c=r.length,d=0;o!==c&&d+e[o]<t;)d+=e[o],o++;a.push(r.slice(0,o));var h=o;for(d=0;o!==c;)d+e[o]>n&&(a.push(r.slice(h,o)),d=0,h=o),d+=e[o],o++;return h!==o&&a.push(r.slice(h,o)),a},G2=function(r,e,t){t||(t={});var n,a,o,c,d,h,m,g=[],b=[g],B=t.textIndent||0,_=0,k=0,j=r.split(" "),T=pp.apply(this,[" ",t])[0];if(h=t.lineIndent===-1?j[0].length+2:t.lineIndent||0){var C=Array(h).join(" "),I=[];j.map(function(R){(R=R.split(/\s*\n/)).length>1?I=I.concat(R.map(function(ae,Z){return(Z&&ae.length?`
`:"")+ae})):I.push(R[0])}),j=I,h=q2.apply(this,[C,t])}for(o=0,c=j.length;o<c;o++){var F=0;if(n=j[o],h&&n[0]==`
`&&(n=n.substr(1),F=1),B+_+(k=(a=pp.apply(this,[n,t])).reduce(function(R,ae){return R+ae},0))>e||F){if(k>e){for(d=K2.apply(this,[n,a,e-(B+_),e]),g.push(d.shift()),g=[d.pop()];d.length;)b.push([d.shift()]);k=a.slice(n.length-(g[0]?g[0].length:0)).reduce(function(R,ae){return R+ae},0)}else g=[n];b.push(g),B=k+h,_=T}else g.push(n),B+=_+k,_=T}return m=h?function(R,ae){return(ae?C:"")+R.join(" ")}:function(R){return R.join(" ")},b.map(m)},Iu.splitTextToSize=function(r,e,t){var n,a=(t=t||{}).fontSize||this.internal.getFontSize(),o=(function(g){if(g.widths&&g.kerning)return{widths:g.widths,kerning:g.kerning};var b=this.internal.getFont(g.fontName,g.fontStyle),B="Unicode";return b.metadata[B]?{widths:b.metadata[B].widths||{0:1},kerning:b.metadata[B].kerning||{}}:{font:b.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);n=Array.isArray(r)?r:String(r).split(/\r?\n/);var c=1*this.internal.scaleFactor*e/a;o.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/a:0,o.lineIndent=t.lineIndent;var d,h,m=[];for(d=0,h=n.length;d<h;d++)m=m.concat(G2.apply(this,[n[d],c,o]));return m},(function(r){r.__fontmetrics__=r.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",n={},a={},o=0;o<16;o++)n[t[o]]=e[o],a[e[o]]=t[o];var c=function(B){return"0x"+parseInt(B,10).toString(16)},d=r.__fontmetrics__.compress=function(B){var _,k,j,T,C=["{"];for(var I in B){if(_=B[I],isNaN(parseInt(I,10))?k="'"+I+"'":(I=parseInt(I,10),k=(k=c(I).slice(2)).slice(0,-1)+a[k.slice(-1)]),typeof _=="number")_<0?(j=c(_).slice(3),T="-"):(j=c(_).slice(2),T=""),j=T+j.slice(0,-1)+a[j.slice(-1)];else{if(Rn(_)!=="object")throw new Error("Don't know what to do with value type "+Rn(_)+".");j=d(_)}C.push(k+j)}return C.push("}"),C.join("")},h=r.__fontmetrics__.uncompress=function(B){if(typeof B!="string")throw new Error("Invalid argument passed to uncompress.");for(var _,k,j,T,C={},I=1,F=C,R=[],ae="",Z="",me=B.length-1,ee=1;ee<me;ee+=1)(T=B[ee])=="'"?_?(j=_.join(""),_=void 0):_=[]:_?_.push(T):T=="{"?(R.push([F,j]),F={},j=void 0):T=="}"?((k=R.pop())[0][k[1]]=F,j=void 0,F=k[0]):T=="-"?I=-1:j===void 0?n.hasOwnProperty(T)?(ae+=n[T],j=parseInt(ae,16)*I,I=1,ae=""):ae+=T:n.hasOwnProperty(T)?(Z+=n[T],F[j]=parseInt(Z,16)*I,I=1,j=void 0,Z=""):Z+=T;return C},m={codePages:["WinAnsiEncoding"],WinAnsiEncoding:h("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},g={Unicode:{Courier:m,"Courier-Bold":m,"Courier-BoldOblique":m,"Courier-Oblique":m,Helvetica:m,"Helvetica-Bold":m,"Helvetica-BoldOblique":m,"Helvetica-Oblique":m,"Times-Roman":m,"Times-Bold":m,"Times-BoldItalic":m,"Times-Italic":m}},b={Unicode:{"Courier-Oblique":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":h("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":h("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":h("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:h("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:h("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":h("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:h("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":h("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":h("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":h("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};r.events.push(["addFont",function(B){var _=B.font,k=b.Unicode[_.postScriptName];k&&(_.metadata.Unicode={},_.metadata.Unicode.widths=k.widths,_.metadata.Unicode.kerning=k.kerning);var j=g.Unicode[_.postScriptName];j&&(_.metadata.Unicode.encoding=j,_.encoding=j.codePages[0])}])})(yr.API),(function(r){var e=function(t){for(var n=t.length,a=new Uint8Array(n),o=0;o<n;o++)a[o]=t.charCodeAt(o);return a};r.API.events.push(["addFont",function(t){var n=void 0,a=t.font,o=t.instance;if(!a.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=o.existsFileInVFS(a.postScriptName)===!1?o.loadFile(a.postScriptName):o.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(c,d){d=/^\x00\x01\x00\x00/.test(d)?e(d):e(Op(d)),c.metadata=r.API.TTFFont.open(d),c.metadata.Unicode=c.metadata.Unicode||{encoding:{},kerning:{},widths:[]},c.metadata.glyIdsUsed=[0]})(a,n)}}])})(yr),yr.API.addSvgAsImage=function(r,e,t,n,a,o,c,d){if(isNaN(e)||isNaN(t))throw Xn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(a))throw Xn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var h=document.createElement("canvas");h.width=n,h.height=a;var m=h.getContext("2d");m.fillStyle="#fff",m.fillRect(0,0,h.width,h.height);var g={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},b=this;return(Dr.canvg?Promise.resolve(Dr.canvg):C0(()=>import("./index.es-Spt07jqy.js"),[])).catch(function(B){return Promise.reject(new Error("Could not load canvg: "+B))}).then(function(B){return B.default?B.default:B}).then(function(B){return B.fromString(m,r,g)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(B){return B.render(g)}).then(function(){b.addImage(h.toDataURL("image/jpeg",1),e,t,n,a,c,d)})},yr.API.putTotalPages=function(r){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(r,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(r,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(e,t);return this},yr.API.viewerPreferences=function(r,e){var t;r=r||{},e=e||!1;var n,a,o,c={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},d=Object.keys(c),h=[],m=0,g=0,b=0;function B(k,j){var T,C=!1;for(T=0;T<k.length;T+=1)k[T]===j&&(C=!0);return C}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(c)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,r==="reset"||e===!0){var _=d.length;for(b=0;b<_;b+=1)t[d[b]].value=t[d[b]].defaultValue,t[d[b]].explicitSet=!1}if(Rn(r)==="object"){for(a in r)if(o=r[a],B(d,a)&&o!==void 0){if(t[a].type==="boolean"&&typeof o=="boolean")t[a].value=o;else if(t[a].type==="name"&&B(t[a].valueSet,o))t[a].value=o;else if(t[a].type==="integer"&&Number.isInteger(o))t[a].value=o;else if(t[a].type==="array"){for(m=0;m<o.length;m+=1)if(n=!0,o[m].length===1&&typeof o[m][0]=="number")h.push(String(o[m]-1));else if(o[m].length>1){for(g=0;g<o[m].length;g+=1)typeof o[m][g]!="number"&&(n=!1);n===!0&&h.push([o[m][0]-1,o[m][1]-1].join(" "))}t[a].value="["+h.join(" ")+"]"}else t[a].value=t[a].defaultValue;t[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var k,j=[];for(k in t)t[k].explicitSet===!0&&(t[k].type==="name"?j.push("/"+k+" /"+t[k].value):j.push("/"+k+" "+t[k].value));j.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+j.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(r){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(n)),c=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),d=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),h=unescape(encodeURIComponent("</x:xmpmeta>")),m=o.length+c.length+d.length+a.length+h.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+m+" >>"),this.internal.write("stream"),this.internal.write(a+o+c+d+h),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};r.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}})(yr.API),(function(r){var e=r.API,t=e.pdfEscape16=function(o,c){for(var d,h=c.metadata.Unicode.widths,m=["","0","00","000","0000"],g=[""],b=0,B=o.length;b<B;++b){if(d=c.metadata.characterToGlyph(o.charCodeAt(b)),c.metadata.glyIdsUsed.push(d),c.metadata.toUnicode[d]=o.charCodeAt(b),h.indexOf(d)==-1&&(h.push(d),h.push([parseInt(c.metadata.widthOfGlyph(d),10)])),d=="0")return g.join("");d=d.toString(16),g.push(m[4-d.length],d)}return g.join("")},n=function(o){var c,d,h,m,g,b,B;for(g=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,h=[],b=0,B=(d=Object.keys(o).sort(function(_,k){return _-k})).length;b<B;b++)c=d[b],h.length>=100&&(g+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar`,h=[]),o[c]!==void 0&&o[c]!==null&&typeof o[c].toString=="function"&&(m=("0000"+o[c].toString(16)).slice(-4),c=("0000"+(+c).toString(16)).slice(-4),h.push("<"+c+"><"+m+">"));return h.length&&(g+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar
`),g+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(c){var d=c.font,h=c.out,m=c.newObject,g=c.putStream;if(d.metadata instanceof r.API.TTFFont&&d.encoding==="Identity-H"){for(var b=d.metadata.Unicode.widths,B=d.metadata.subset.encode(d.metadata.glyIdsUsed,1),_="",k=0;k<B.length;k++)_+=String.fromCharCode(B[k]);var j=m();g({data:_,addLength1:!0,objectId:j}),h("endobj");var T=m();g({data:n(d.metadata.toUnicode),addLength1:!0,objectId:T}),h("endobj");var C=m();h("<<"),h("/Type /FontDescriptor"),h("/FontName /"+Zu(d.fontName)),h("/FontFile2 "+j+" 0 R"),h("/FontBBox "+r.API.PDFObject.convert(d.metadata.bbox)),h("/Flags "+d.metadata.flags),h("/StemV "+d.metadata.stemV),h("/ItalicAngle "+d.metadata.italicAngle),h("/Ascent "+d.metadata.ascender),h("/Descent "+d.metadata.decender),h("/CapHeight "+d.metadata.capHeight),h(">>"),h("endobj");var I=m();h("<<"),h("/Type /Font"),h("/BaseFont /"+Zu(d.fontName)),h("/FontDescriptor "+C+" 0 R"),h("/W "+r.API.PDFObject.convert(b)),h("/CIDToGIDMap /Identity"),h("/DW 1000"),h("/Subtype /CIDFontType2"),h("/CIDSystemInfo"),h("<<"),h("/Supplement 0"),h("/Registry (Adobe)"),h("/Ordering ("+d.encoding+")"),h(">>"),h(">>"),h("endobj"),d.objectNumber=m(),h("<<"),h("/Type /Font"),h("/Subtype /Type0"),h("/ToUnicode "+T+" 0 R"),h("/BaseFont /"+Zu(d.fontName)),h("/Encoding /"+d.encoding),h("/DescendantFonts ["+I+" 0 R]"),h(">>"),h("endobj"),d.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(c){var d=c.font,h=c.out,m=c.newObject,g=c.putStream;if(d.metadata instanceof r.API.TTFFont&&d.encoding==="WinAnsiEncoding"){for(var b=d.metadata.rawData,B="",_=0;_<b.length;_++)B+=String.fromCharCode(b[_]);var k=m();g({data:B,addLength1:!0,objectId:k}),h("endobj");var j=m();g({data:n(d.metadata.toUnicode),addLength1:!0,objectId:j}),h("endobj");var T=m();h("<<"),h("/Descent "+d.metadata.decender),h("/CapHeight "+d.metadata.capHeight),h("/StemV "+d.metadata.stemV),h("/Type /FontDescriptor"),h("/FontFile2 "+k+" 0 R"),h("/Flags 96"),h("/FontBBox "+r.API.PDFObject.convert(d.metadata.bbox)),h("/FontName /"+Zu(d.fontName)),h("/ItalicAngle "+d.metadata.italicAngle),h("/Ascent "+d.metadata.ascender),h(">>"),h("endobj"),d.objectNumber=m();for(var C=0;C<d.metadata.hmtx.widths.length;C++)d.metadata.hmtx.widths[C]=parseInt(d.metadata.hmtx.widths[C]*(1e3/d.metadata.head.unitsPerEm));h("<</Subtype/TrueType/Type/Font/ToUnicode "+j+" 0 R/BaseFont/"+Zu(d.fontName)+"/FontDescriptor "+T+" 0 R/Encoding/"+d.encoding+" /FirstChar 29 /LastChar 255 /Widths "+r.API.PDFObject.convert(d.metadata.hmtx.widths)+">>"),h("endobj"),d.isAlreadyPutted=!0}})(o)}]);var a=function(o){var c,d=o.text||"",h=o.x,m=o.y,g=o.options||{},b=o.mutex||{},B=b.pdfEscape,_=b.activeFontKey,k=b.fonts,j=_,T="",C=0,I="",F=k[j].encoding;if(k[j].encoding!=="Identity-H")return{text:d,x:h,y:m,options:g,mutex:b};for(I=d,j=_,Array.isArray(d)&&(I=d[0]),C=0;C<I.length;C+=1)k[j].metadata.hasOwnProperty("cmap")&&(c=k[j].metadata.cmap.unicode.codeMap[I[C].charCodeAt(0)]),c||I[C].charCodeAt(0)<256&&k[j].metadata.hasOwnProperty("Unicode")?T+=I[C]:T+="";var R="";return parseInt(j.slice(1))<14||F==="WinAnsiEncoding"?R=B(T,j).split("").map(function(ae){return ae.charCodeAt(0).toString(16)}).join(""):F==="Identity-H"&&(R=t(T,k[j])),b.isHex=!0,{text:R,x:h,y:m,options:g,mutex:b}};e.events.push(["postProcessText",function(o){var c=o.text||"",d=[],h={text:c,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(c)){var m=0;for(m=0;m<c.length;m+=1)Array.isArray(c[m])&&c[m].length===3?d.push([a(Object.assign({},h,{text:c[m][0]})).text,c[m][1],c[m][2]]):d.push(a(Object.assign({},h,{text:c[m]})).text);o.text=d}else o.text=a(Object.assign({},h,{text:c})).text}])})(yr),(function(r){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};r.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},r.addFileToVFS=function(t,n){return e.call(this),this.internal.vFS[t]=n,this},r.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(yr.API),(function(r){r.__bidiEngine__=r.prototype.__bidiEngine__=function(n){var a,o,c,d,h,m,g,b=e,B=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],_=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],k={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},j={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},T=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],C=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),I=!1,F=0;this.__bidiEngine__={};var R=function(K){var $=K.charCodeAt(),re=$>>8,le=j[re];return le!==void 0?b[256*le+(255&$)]:re===252||re===253?"AL":C.test(re)?"L":re===8?"R":"N"},ae=function(K){for(var $,re=0;re<K.length;re++){if(($=R(K.charAt(re)))==="L")return!1;if($==="R")return!0}return!1},Z=function(K,$,re,le){var ge,Y,pe,z,ve=$[le];switch(ve){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":I=!1;break;case"N":case"AN":break;case"EN":I&&(ve="AN");break;case"AL":I=!0,ve="R";break;case"WS":case"BN":ve="N";break;case"CS":le<1||le+1>=$.length||(ge=re[le-1])!=="EN"&&ge!=="AN"||(Y=$[le+1])!=="EN"&&Y!=="AN"?ve="N":I&&(Y="AN"),ve=Y===ge?Y:"N";break;case"ES":ve=(ge=le>0?re[le-1]:"B")==="EN"&&le+1<$.length&&$[le+1]==="EN"?"EN":"N";break;case"ET":if(le>0&&re[le-1]==="EN"){ve="EN";break}if(I){ve="N";break}for(pe=le+1,z=$.length;pe<z&&$[pe]==="ET";)pe++;ve=pe<z&&$[pe]==="EN"?"EN":"N";break;case"NSM":if(c&&!d){for(z=$.length,pe=le+1;pe<z&&$[pe]==="NSM";)pe++;if(pe<z){var we=K[le],V=we>=1425&&we<=2303||we===64286;if(ge=$[pe],V&&(ge==="R"||ge==="AL")){ve="R";break}}}ve=le<1||(ge=$[le-1])==="B"?"N":re[le-1];break;case"B":I=!1,a=!0,ve=F;break;case"S":o=!0,ve="N"}return ve},me=function(K,$,re){var le=K.split("");return re&&ee(le,re,{hiLevel:F}),le.reverse(),$&&$.reverse(),le.join("")},ee=function(K,$,re){var le,ge,Y,pe,z,ve=-1,we=K.length,V=0,O=[],G=F?_:B,Q=[];for(I=!1,a=!1,o=!1,ge=0;ge<we;ge++)Q[ge]=R(K[ge]);for(Y=0;Y<we;Y++){if(z=V,O[Y]=Z(K,Q,O,Y),le=240&(V=G[z][k[O[Y]]]),V&=15,$[Y]=pe=G[V][5],le>0)if(le===16){for(ge=ve;ge<Y;ge++)$[ge]=1;ve=-1}else ve=-1;if(G[V][6])ve===-1&&(ve=Y);else if(ve>-1){for(ge=ve;ge<Y;ge++)$[ge]=pe;ve=-1}Q[Y]==="B"&&($[Y]=0),re.hiLevel|=pe}o&&(function(oe,ce,Be){for(var Se=0;Se<Be;Se++)if(oe[Se]==="S"){ce[Se]=F;for(var Fe=Se-1;Fe>=0&&oe[Fe]==="WS";Fe--)ce[Fe]=F}})(Q,$,we)},H=function(K,$,re,le,ge){if(!(ge.hiLevel<K)){if(K===1&&F===1&&!a)return $.reverse(),void(re&&re.reverse());for(var Y,pe,z,ve,we=$.length,V=0;V<we;){if(le[V]>=K){for(z=V+1;z<we&&le[z]>=K;)z++;for(ve=V,pe=z-1;ve<pe;ve++,pe--)Y=$[ve],$[ve]=$[pe],$[pe]=Y,re&&(Y=re[ve],re[ve]=re[pe],re[pe]=Y);V=z}V++}}},W=function(K,$,re){var le=K.split(""),ge={hiLevel:F};return re||(re=[]),ee(le,re,ge),(function(Y,pe,z){if(z.hiLevel!==0&&g)for(var ve,we=0;we<Y.length;we++)pe[we]===1&&(ve=T.indexOf(Y[we]))>=0&&(Y[we]=T[ve+1])})(le,re,ge),H(2,le,$,re,ge),H(1,le,$,re,ge),le.join("")};return this.__bidiEngine__.doBidiReorder=function(K,$,re){if((function(ge,Y){if(Y)for(var pe=0;pe<ge.length;pe++)Y[pe]=pe;d===void 0&&(d=ae(ge)),m===void 0&&(m=ae(ge))})(K,$),c||!h||m)if(c&&h&&d^m)F=d?1:0,K=me(K,$,re);else if(!c&&h&&m)F=d?1:0,K=W(K,$,re),K=me(K,$);else if(!c||d||h||m){if(c&&!h&&d^m)K=me(K,$),d?(F=0,K=W(K,$,re)):(F=1,K=W(K,$,re),K=me(K,$));else if(c&&d&&!h&&m)F=1,K=W(K,$,re),K=me(K,$);else if(!c&&!h&&d^m){var le=g;d?(F=1,K=W(K,$,re),F=0,g=!1,K=W(K,$,re),g=le):(F=0,K=W(K,$,re),K=me(K,$),F=1,g=!1,K=W(K,$,re),g=le,K=me(K,$))}}else F=0,K=W(K,$,re);else F=d?1:0,K=W(K,$,re);return K},this.__bidiEngine__.setOptions=function(K){K&&(c=K.isInputVisual,h=K.isOutputVisual,d=K.isInputRtl,m=K.isOutputRtl,g=K.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new r.__bidiEngine__({isInputVisual:!0});r.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var o=n.options||{};n.mutex,o.lang;var c=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,t.setOptions(o),Object.prototype.toString.call(a)==="[object Array]"){var d=0;for(c=[],d=0;d<a.length;d+=1)Object.prototype.toString.call(a[d])==="[object Array]"?c.push([t.doBidiReorder(a[d][0]),a[d][1],a[d][2]]):c.push([t.doBidiReorder(a[d])]);n.text=c}else n.text=t.doBidiReorder(a);t.setOptions({isInputVisual:!0})}])})(yr),yr.API.TTFFont=(function(){function r(e){var t;if(this.rawData=e,t=this.contents=new xc(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new nI(this),this.registerTTF()}return r.open=function(e){return new r(e)},r.prototype.parse=function(){return this.directory=new zQ(this.contents),this.head=new KQ(this),this.name=new YQ(this),this.cmap=new BN(this),this.toUnicode={},this.hhea=new GQ(this),this.maxp=new XQ(this),this.hmtx=new JQ(this),this.post=new ZQ(this),this.os2=new VQ(this),this.loca=new rI(this),this.glyf=new WQ(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},r.prototype.registerTTF=function(){var e,t,n,a,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var c,d,h,m;for(m=[],c=0,d=(h=this.bbox).length;c<d;c++)e=h[c],m.push(Math.round(e*this.scaleFactor));return m}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(t=a>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},r.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},r.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},r.prototype.widthOfString=function(e,t,n){var a,o,c,d;for(c=0,o=0,d=(e=""+e).length;0<=d?o<d:o>d;o=0<=d?++o:--o)a=e.charCodeAt(o),c+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/t)||0;return c*(t/1e3)},r.prototype.lineHeight=function(e,t){var n;return t==null&&(t=!1),n=t?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},r})();var gl,xc=(function(){function r(e){this.data=e??[],this.pos=0,this.length=this.data.length}return r.prototype.readByte=function(){return this.data[this.pos++]},r.prototype.writeByte=function(e){return this.data[this.pos++]=e},r.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},r.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},r.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},r.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},r.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},r.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},r.prototype.readString=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)n[t]=String.fromCharCode(this.readByte());return n.join("")},r.prototype.writeString=function(e){var t,n,a;for(a=[],t=0,n=e.length;0<=n?t<n:t>n;t=0<=n?++t:--t)a.push(this.writeByte(e.charCodeAt(t)));return a},r.prototype.readShort=function(){return this.readInt16()},r.prototype.writeShort=function(e){return this.writeInt16(e)},r.prototype.readLongLong=function(){var e,t,n,a,o,c,d,h;return e=this.readByte(),t=this.readByte(),n=this.readByte(),a=this.readByte(),o=this.readByte(),c=this.readByte(),d=this.readByte(),h=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^o)+65536*(255^c)+256*(255^d)+(255^h)+1):72057594037927940*e+281474976710656*t+1099511627776*n+4294967296*a+16777216*o+65536*c+256*d+h},r.prototype.writeLongLong=function(e){var t,n;return t=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},r.prototype.readInt=function(){return this.readInt32()},r.prototype.writeInt=function(e){return this.writeInt32(e)},r.prototype.read=function(e){var t,n;for(t=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)t.push(this.readByte());return t},r.prototype.write=function(e){var t,n,a,o;for(o=[],n=0,a=e.length;n<a;n++)t=e[n],o.push(this.writeByte(t));return o},r})(),zQ=(function(){var r;function e(t){var n,a,o;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},a=0,o=this.tableCount;0<=o?a<o:a>o;a=0<=o?++a:--a)n={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(t){var n,a,o,c,d,h,m,g,b,B,_,k,j;for(j in _=Object.keys(t).length,h=Math.log(2),b=16*Math.floor(Math.log(_)/h),c=Math.floor(b/h),g=16*_-b,(a=new xc).writeInt(this.scalarType),a.writeShort(_),a.writeShort(b),a.writeShort(c),a.writeShort(g),o=16*_,m=a.pos+o,d=null,k=[],t)for(B=t[j],a.writeString(j),a.writeInt(r(B)),a.writeInt(m),a.writeInt(B.length),k=k.concat(B),j==="head"&&(d=m),m+=B.length;m%4;)k.push(0),m++;return a.write(k),n=2981146554-r(a.data),a.pos=d+8,a.writeUInt32(n),a.data},r=function(t){var n,a,o,c;for(t=NN.call(t);t.length%4;)t.push(0);for(o=new xc(t),a=0,n=0,c=t.length;n<c;n=n+=4)a+=o.readUInt32();return 4294967295&a},e})(),qQ={}.hasOwnProperty,eA=function(r,e){for(var t in e)qQ.call(e,t)&&(r[t]=e[t]);function n(){this.constructor=r}return n.prototype=e.prototype,r.prototype=new n,r.__super__=e.prototype,r};gl=(function(){function r(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return r.prototype.parse=function(){},r.prototype.encode=function(){},r.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},r})();var KQ=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return eA(r,gl),r.prototype.tag="head",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},r.prototype.encode=function(e){var t;return(t=new xc).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},r})(),t_=(function(){function r(e,t){var n,a,o,c,d,h,m,g,b,B,_,k,j,T,C,I,F;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),b=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(h=0;h<256;++h)this.codeMap[h]=e.readByte();break;case 4:for(_=e.readUInt16(),B=_/2,e.pos+=6,o=(function(){var R,ae;for(ae=[],h=R=0;0<=B?R<B:R>B;h=0<=B?++R:--R)ae.push(e.readUInt16());return ae})(),e.pos+=2,j=(function(){var R,ae;for(ae=[],h=R=0;0<=B?R<B:R>B;h=0<=B?++R:--R)ae.push(e.readUInt16());return ae})(),m=(function(){var R,ae;for(ae=[],h=R=0;0<=B?R<B:R>B;h=0<=B?++R:--R)ae.push(e.readUInt16());return ae})(),g=(function(){var R,ae;for(ae=[],h=R=0;0<=B?R<B:R>B;h=0<=B?++R:--R)ae.push(e.readUInt16());return ae})(),a=(this.length-e.pos+this.offset)/2,d=(function(){var R,ae;for(ae=[],h=R=0;0<=a?R<a:R>a;h=0<=a?++R:--R)ae.push(e.readUInt16());return ae})(),h=C=0,F=o.length;C<F;h=++C)for(T=o[h],n=I=k=j[h];k<=T?I<=T:I>=T;n=k<=T?++I:--I)g[h]===0?c=n+m[h]:(c=d[g[h]/2+(n-k)-(B-h)]||0)!==0&&(c+=m[h]),this.codeMap[n]=65535&c}e.pos=b}return r.encode=function(e,t){var n,a,o,c,d,h,m,g,b,B,_,k,j,T,C,I,F,R,ae,Z,me,ee,H,W,K,$,re,le,ge,Y,pe,z,ve,we,V,O,G,Q,oe,ce,Be,Se,Fe,He,it,Re;switch(le=new xc,c=Object.keys(e).sort(function(_t,It){return _t-It}),t){case"macroman":for(j=0,T=(function(){var _t=[];for(k=0;k<256;++k)_t.push(0);return _t})(),I={0:0},o={},ge=0,ve=c.length;ge<ve;ge++)I[Fe=e[a=c[ge]]]==null&&(I[Fe]=++j),o[a]={old:e[a],new:I[e[a]]},T[a]=I[e[a]];return le.writeUInt16(1),le.writeUInt16(0),le.writeUInt32(12),le.writeUInt16(0),le.writeUInt16(262),le.writeUInt16(0),le.write(T),{charMap:o,subtable:le.data,maxGlyphID:j+1};case"unicode":for($=[],b=[],F=0,I={},n={},C=m=null,Y=0,we=c.length;Y<we;Y++)I[ae=e[a=c[Y]]]==null&&(I[ae]=++F),n[a]={old:ae,new:I[ae]},d=I[ae]-a,C!=null&&d===m||(C&&b.push(C),$.push(a),m=d),C=a;for(C&&b.push(C),b.push(65535),$.push(65535),W=2*(H=$.length),ee=2*Math.pow(Math.log(H)/Math.LN2,2),B=Math.log(ee/2)/Math.LN2,me=2*H-ee,h=[],Z=[],_=[],k=pe=0,V=$.length;pe<V;k=++pe){if(K=$[k],g=b[k],K===65535){h.push(0),Z.push(0);break}if(K-(re=n[K].new)>=32768)for(h.push(0),Z.push(2*(_.length+H-k)),a=z=K;K<=g?z<=g:z>=g;a=K<=g?++z:--z)_.push(n[a].new);else h.push(re-K),Z.push(0)}for(le.writeUInt16(3),le.writeUInt16(1),le.writeUInt32(12),le.writeUInt16(4),le.writeUInt16(16+8*H+2*_.length),le.writeUInt16(0),le.writeUInt16(W),le.writeUInt16(ee),le.writeUInt16(B),le.writeUInt16(me),Be=0,O=b.length;Be<O;Be++)a=b[Be],le.writeUInt16(a);for(le.writeUInt16(0),Se=0,G=$.length;Se<G;Se++)a=$[Se],le.writeUInt16(a);for(He=0,Q=h.length;He<Q;He++)d=h[He],le.writeUInt16(d);for(it=0,oe=Z.length;it<oe;it++)R=Z[it],le.writeUInt16(R);for(Re=0,ce=_.length;Re<ce;Re++)j=_[Re],le.writeUInt16(j);return{charMap:n,subtable:le.data,maxGlyphID:F+1}}},r})(),BN=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return eA(r,gl),r.prototype.tag="cmap",r.prototype.parse=function(e){var t,n,a;for(e.pos=this.offset,this.version=e.readUInt16(),a=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=a?n<a:n>a;n=0<=a?++n:--n)t=new t_(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},r.encode=function(e,t){var n,a;return t==null&&(t="macroman"),n=t_.encode(e,t),(a=new xc).writeUInt16(0),a.writeUInt16(1),n.table=a.data.concat(n.subtable),n},r})(),GQ=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return eA(r,gl),r.prototype.tag="hhea",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},r})(),VQ=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return eA(r,gl),r.prototype.tag="OS/2",r.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,n;for(n=[],t=0;t<10;++t)n.push(e.readByte());return n})(),this.charRange=(function(){var t,n;for(n=[],t=0;t<4;++t)n.push(e.readInt());return n})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,n;for(n=[],t=0;t<2;t=++t)n.push(e.readInt());return n})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},r})(),ZQ=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return eA(r,gl),r.prototype.tag="post",r.prototype.parse=function(e){var t,n,a;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(n=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],a=[];e.pos<this.offset+this.length;)t=e.readByte(),a.push(this.names.push(e.readString(t)));return a;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var c,d,h;for(h=[],o=c=0,d=this.file.maxp.numGlyphs;0<=d?c<d:c>d;o=0<=d?++c:--c)h.push(e.readUInt32());return h}).call(this)}},r})(),$Q=function(r,e){this.raw=r,this.length=r.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},YQ=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return eA(r,gl),r.prototype.tag="name",r.prototype.parse=function(e){var t,n,a,o,c,d,h,m,g,b,B;for(e.pos=this.offset,e.readShort(),t=e.readShort(),d=e.readShort(),n=[],o=0;0<=t?o<t:o>t;o=0<=t?++o:--o)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+d+e.readShort()});for(h={},o=g=0,b=n.length;g<b;o=++g)a=n[o],e.pos=a.offset,m=e.readString(a.length),c=new $Q(m,a),h[B=a.nameID]==null&&(h[B]=[]),h[a.nameID].push(c);this.strings=h,this.copyright=h[0],this.fontFamily=h[1],this.fontSubfamily=h[2],this.uniqueSubfamily=h[3],this.fontName=h[4],this.version=h[5];try{this.postscriptName=h[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=h[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=h[7],this.manufacturer=h[8],this.designer=h[9],this.description=h[10],this.vendorUrl=h[11],this.designerUrl=h[12],this.license=h[13],this.licenseUrl=h[14],this.preferredFamily=h[15],this.preferredSubfamily=h[17],this.compatibleFull=h[18],this.sampleText=h[19]},r})(),XQ=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return eA(r,gl),r.prototype.tag="maxp",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},r})(),JQ=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return eA(r,gl),r.prototype.tag="hmtx",r.prototype.parse=function(e){var t,n,a,o,c,d,h;for(e.pos=this.offset,this.metrics=[],t=0,d=this.file.hhea.numberOfMetrics;0<=d?t<d:t>d;t=0<=d?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var m,g;for(g=[],t=m=0;0<=a?m<a:m>a;t=0<=a?++m:--m)g.push(e.readInt16());return g})(),this.widths=(function(){var m,g,b,B;for(B=[],m=0,g=(b=this.metrics).length;m<g;m++)o=b[m],B.push(o.advance);return B}).call(this),n=this.widths[this.widths.length-1],h=[],t=c=0;0<=a?c<a:c>a;t=0<=a?++c:--c)h.push(this.widths.push(n));return h},r.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},r})(),NN=[].slice,WQ=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return eA(r,gl),r.prototype.tag="glyf",r.prototype.parse=function(){return this.cache={}},r.prototype.glyphFor=function(e){var t,n,a,o,c,d,h,m,g,b;return e in this.cache?this.cache[e]:(o=this.file.loca,t=this.file.contents,n=o.indexOf(e),(a=o.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+n,c=(d=new xc(t.read(a))).readShort(),m=d.readShort(),b=d.readShort(),h=d.readShort(),g=d.readShort(),this.cache[e]=c===-1?new tI(d,m,b,h,g):new eI(d,c,m,b,h,g),this.cache[e]))},r.prototype.encode=function(e,t,n){var a,o,c,d,h;for(c=[],o=[],d=0,h=t.length;d<h;d++)a=e[t[d]],o.push(c.length),a&&(c=c.concat(a.encode(n)));return o.push(c.length),{table:c,offsets:o}},r})(),eI=(function(){function r(e,t,n,a,o,c){this.raw=e,this.numberOfContours=t,this.xMin=n,this.yMin=a,this.xMax=o,this.yMax=c,this.compound=!1}return r.prototype.encode=function(){return this.raw.data},r})(),tI=(function(){function r(e,t,n,a,o){var c,d;for(this.raw=e,this.xMin=t,this.yMin=n,this.xMax=a,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],c=this.raw;d=c.readShort(),this.glyphOffsets.push(c.pos),this.glyphIDs.push(c.readUInt16()),32&d;)c.pos+=1&d?4:2,128&d?c.pos+=8:64&d?c.pos+=4:8&d&&(c.pos+=2)}return r.prototype.encode=function(){var e,t,n;for(t=new xc(NN.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)t.pos=this.glyphOffsets[e];return t.data},r})(),rI=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return eA(r,gl),r.prototype.tag="loca",r.prototype.parse=function(e){var t,n;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var a,o;for(o=[],n=0,a=this.length;n<a;n+=2)o.push(2*e.readUInt16());return o}).call(this):(function(){var a,o;for(o=[],n=0,a=this.length;n<a;n+=4)o.push(e.readUInt32());return o}).call(this)},r.prototype.indexOf=function(e){return this.offsets[e]},r.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},r.prototype.encode=function(e,t){for(var n=new Uint32Array(this.offsets.length),a=0,o=0,c=0;c<n.length;++c)if(n[c]=a,o<t.length&&t[o]==c){++o,n[c]=a;var d=this.offsets[c],h=this.offsets[c+1]-d;h>0&&(a+=h)}for(var m=new Array(4*n.length),g=0;g<n.length;++g)m[4*g+3]=255&n[g],m[4*g+2]=(65280&n[g])>>8,m[4*g+1]=(16711680&n[g])>>16,m[4*g]=(4278190080&n[g])>>24;return m},r})(),nI=(function(){function r(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return r.prototype.generateCmap=function(){var e,t,n,a,o;for(t in a=this.font.cmap.tables[0].codeMap,e={},o=this.subset)n=o[t],e[t]=a[n];return e},r.prototype.glyphsFor=function(e){var t,n,a,o,c,d,h;for(a={},c=0,d=e.length;c<d;c++)a[o=e[c]]=this.font.glyf.glyphFor(o);for(o in t=[],a)(n=a[o])!=null&&n.compound&&t.push.apply(t,n.glyphIDs);if(t.length>0)for(o in h=this.glyphsFor(t))n=h[o],a[o]=n;return a},r.prototype.encode=function(e,t){var n,a,o,c,d,h,m,g,b,B,_,k,j,T,C;for(a in n=BN.encode(this.generateCmap(),"unicode"),c=this.glyphsFor(e),_={0:0},C=n.charMap)_[(h=C[a]).old]=h.new;for(k in B=n.maxGlyphID,c)k in _||(_[k]=B++);return g=(function(I){var F,R;for(F in R={},I)R[I[F]]=F;return R})(_),b=Object.keys(g).sort(function(I,F){return I-F}),j=(function(){var I,F,R;for(R=[],I=0,F=b.length;I<F;I++)d=b[I],R.push(g[d]);return R})(),o=this.font.glyf.encode(c,j,_),m=this.font.loca.encode(o.offsets,j),T={cmap:this.font.cmap.raw(),glyf:o.table,loca:m,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(T["OS/2"]=this.font.os2.raw()),this.font.directory.encode(T)},r})();yr.API.PDFObject=(function(){var r;function e(){}return r=function(t,n){return(Array(n+1).join("0")+t).slice(-n)},e.convert=function(t){var n,a,o,c;if(Array.isArray(t))return"["+(function(){var d,h,m;for(m=[],d=0,h=t.length;d<h;d++)n=t[d],m.push(e.convert(n));return m})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+r(t.getUTCFullYear(),4)+r(t.getUTCMonth(),2)+r(t.getUTCDate(),2)+r(t.getUTCHours(),2)+r(t.getUTCMinutes(),2)+r(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(a in o=["<<"],t)c=t[a],o.push("/"+a+" "+e.convert(c));return o.push(">>"),o.join(`
`)}return""+t},e})();const sI=({onClose:r,onSave:e})=>{const[t,n]=q.useState({name:"",address:"",reference:"",phone:"",cpf:"",birthDate:"",deliveryZoneId:""}),[a,o]=q.useState(!1),c=useLiveQuery(()=>{var k;return(k=db.delivery_zones)==null?void 0:k.toArray()},[])||[],d=useLiveQuery(()=>{var k;return(k=db.delivery_zones)==null?void 0:k.toArray()},[])||[],h=k=>k.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),m=k=>{const j=h(k||"");if(!j)return null;const T=d.map(I=>({sector:I,key:h((I==null?void 0:I.name)||"")})).filter(I=>I.key.length>2&&j.includes(I.key)).sort((I,F)=>F.key.length-I.key.length)[0];if(T!=null&&T.sector){const I=c.find(F=>F.id===T.sector.zone_id)??null;if(I)return{zoneId:I.id,zoneName:I.name??I.nome??"",source:"setor"}}const C=c.map(I=>({zone:I,key:h((I==null?void 0:I.name)||(I==null?void 0:I.nome)||"")})).filter(I=>I.key.length>2&&j.includes(I.key)).sort((I,F)=>F.key.length-I.key.length)[0];return C!=null&&C.zone?{zoneId:C.zone.id,zoneName:C.zone.name??C.zone.nome??"",source:"zona"}:null},g=q.useMemo(()=>m(t.address),[t.address,c,d]),b=k=>{const{name:j,value:T}=k.target;n({...t,[j]:T}),j==="address"&&o(!1)},B=k=>{n({...t,deliveryZoneId:k.target.value}),o(!0)};q.useEffect(()=>{if(a)return;const k=(g==null?void 0:g.zoneId)??"";t.deliveryZoneId!==k&&n(j=>({...j,deliveryZoneId:k}))},[g,a,t.deliveryZoneId]);const _=k=>{if(k.preventDefault(),!t.name||!t.address){alert("Nome e Endereo so obrigatrios.");return}const j={...t,nome:(t.name||"").trim(),name:(t.name||"").trim(),endereco:(t.address||"").trim(),address:(t.address||"").trim(),referencia:(t.reference||"").trim(),referencia_pt:(t.reference||"").trim(),telefone:(t.phone||"").trim(),phone:(t.phone||"").trim(),cpf:(t.cpf||"").trim(),dataNascimento:t.birthDate||"",deliveryZoneId:t.deliveryZoneId||null};console.log("Saving from Modal:",j),e&&e(j),r()};return i.jsxs("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",children:[i.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",onClick:r}),i.jsxs("div",{className:"bg-surface w-full max-w-md rounded-2xl shadow-2xl overflow-hidden relative z-10 animate-in zoom-in-95 fade-in duration-200 border border-bdr transition-colors duration-300 flex flex-col max-h-[90vh]",children:[i.jsxs("div",{className:"bg-app border-b border-bdr px-6 py-4 flex justify-between items-center shrink-0",children:[i.jsxs("h3",{className:"text-txt-main font-bold text-lg flex items-center gap-2",children:[i.jsx(Vp,{className:"w-5 h-5 text-primary"}),"Novo Cliente"]}),i.jsx("button",{onClick:r,className:"text-txt-muted hover:text-txt-main hover:bg-bdr p-1.5 rounded-full transition-colors",children:i.jsx(Pn,{className:"w-5 h-5"})})]}),i.jsxs("form",{onSubmit:_,className:"p-6 space-y-5 overflow-y-auto",children:[i.jsxs("div",{className:"space-y-1.5",children:[i.jsx("label",{className:"text-xs font-bold text-txt-muted uppercase ml-1",children:"Nome Completo *"}),i.jsxs("div",{className:"relative",children:[i.jsx(Vp,{className:"w-4 h-4 text-txt-muted absolute left-3 top-3"}),i.jsx("input",{type:"text",name:"name",value:t.name,onChange:b,placeholder:"Ex: Joo da Silva",className:"w-full pl-10 pr-4 py-2.5 border border-bdr bg-app rounded-xl focus:ring-2 focus:ring-primary focus:border-primary outline-none text-txt-main text-sm font-medium transition-all",autoFocus:!0})]})]}),i.jsxs("div",{className:"space-y-1.5",children:[i.jsx("label",{className:"text-xs font-bold text-txt-muted uppercase ml-1",children:"Endereo Completo *"}),i.jsxs("div",{className:"relative",children:[i.jsx(jA,{className:"w-4 h-4 text-txt-muted absolute left-3 top-3"}),i.jsx("input",{type:"text",name:"address",value:t.address,onChange:b,placeholder:"Rua, Nmero, Bairro",className:"w-full pl-10 pr-4 py-2.5 border border-bdr bg-app rounded-xl focus:ring-2 focus:ring-primary focus:border-primary outline-none text-txt-main text-sm font-medium transition-all"})]})]}),i.jsxs("div",{className:"space-y-1.5",children:[i.jsx("label",{className:"text-xs font-bold text-txt-muted uppercase ml-1",children:"Ponto de Referncia"}),i.jsxs("div",{className:"relative",children:[i.jsx(Nb,{className:"w-4 h-4 text-txt-muted absolute left-3 top-3"}),i.jsx("input",{type:"text",name:"reference",value:t.reference,onChange:b,placeholder:"Ex: Prximo ao mercado X",className:"w-full pl-10 pr-4 py-2.5 border border-bdr bg-app rounded-xl focus:ring-2 focus:ring-primary focus:border-primary outline-none text-txt-main text-sm font-medium transition-all"})]})]}),i.jsxs("div",{className:"space-y-1.5",children:[i.jsx("label",{className:"text-xs font-bold text-txt-muted uppercase ml-1",children:"Zona de entrega"}),i.jsxs("select",{value:t.deliveryZoneId,onChange:B,className:"w-full px-4 py-2.5 border border-bdr bg-app rounded-xl focus:ring-2 focus:ring-primary focus:border-primary outline-none text-txt-main text-sm font-medium transition-all",children:[i.jsx("option",{value:"",children:"Sem zona definida"}),c.map(k=>i.jsx("option",{value:k.id,children:k.name??k.nome??k.id},k.id))]}),g&&g.zoneId===t.deliveryZoneId&&i.jsxs("div",{className:"text-[11px] text-emerald-600",children:["Zona detectada automaticamente: ",g.zoneName||"Zona encontrada","."]}),g&&g.zoneId!==t.deliveryZoneId&&i.jsxs("div",{className:"text-[11px] text-amber-600",children:["Zona sugerida pelo endereco: ",g.zoneName||"Zona encontrada","."]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-5",children:[i.jsxs("div",{className:"space-y-1.5",children:[i.jsx("label",{className:"text-xs font-bold text-txt-muted uppercase ml-1",children:"Telefone / Whats"}),i.jsxs("div",{className:"relative",children:[i.jsx(Eb,{className:"w-4 h-4 text-txt-muted absolute left-3 top-3"}),i.jsx("input",{type:"tel",name:"phone",value:t.phone,onChange:b,placeholder:"(00) 00000-0000",className:"w-full pl-10 pr-4 py-2.5 border border-bdr bg-app rounded-xl focus:ring-2 focus:ring-primary focus:border-primary outline-none text-txt-main text-sm font-medium transition-all"})]})]}),i.jsxs("div",{className:"space-y-1.5",children:[i.jsx("label",{className:"text-xs font-bold text-txt-muted uppercase ml-1",children:"Nascimento"}),i.jsxs("div",{className:"relative",children:[i.jsx(hm,{className:"w-4 h-4 text-txt-muted absolute left-3 top-3"}),i.jsx("input",{type:"date",name:"birthDate",value:t.birthDate,onChange:b,className:"w-full pl-10 pr-4 py-2.5 border border-bdr bg-app rounded-xl focus:ring-2 focus:ring-primary focus:border-primary outline-none text-txt-main text-sm font-medium transition-all"})]})]})]}),i.jsxs("div",{className:"space-y-1.5",children:[i.jsx("label",{className:"text-xs font-bold text-txt-muted uppercase ml-1",children:"CPF"}),i.jsxs("div",{className:"relative",children:[i.jsx(p5,{className:"w-4 h-4 text-txt-muted absolute left-3 top-3"}),i.jsx("input",{type:"text",name:"cpf",value:t.cpf,onChange:b,placeholder:"000.000.000-00",className:"w-full pl-10 pr-4 py-2.5 border border-bdr bg-app rounded-xl focus:ring-2 focus:ring-primary focus:border-primary outline-none text-txt-main text-sm font-medium transition-all"})]})]}),i.jsxs("div",{className:"pt-2 flex items-center gap-3",children:[i.jsx("button",{type:"button",onClick:r,className:"flex-1 py-3 text-sm font-bold text-txt-muted hover:bg-app rounded-xl transition-colors",children:"Cancelar"}),i.jsxs("button",{type:"submit",className:"flex-[2] py-3 bg-primary hover:bg-primary/90 text-white text-sm font-bold rounded-xl shadow-lg shadow-primary/20 transition-all active:scale-[0.98] flex items-center justify-center gap-2",children:[i.jsx(qo,{className:"w-4 h-4"}),"Cadastrar Cliente"]})]})]})]})]})};function aI({selectedDepositId:r,items:e,setItems:t,includeProductIds:n,lockedProductIds:a,onRemoveItem:o}){const[c,d]=q.useState(""),[h,m]=q.useState("1"),g=(n||[]).join("|"),b=F=>((F==null?void 0:F.is_delivery_fee)??(F==null?void 0:F.isDeliveryFee))===!0||String((F==null?void 0:F.product_group)??(F==null?void 0:F.codigo)??"").toLowerCase()==="delivery_fee"?!0:String((F==null?void 0:F.nome)??(F==null?void 0:F.name)??"").toLowerCase()==="taxa de entrega",B=F=>b(F)||((F==null?void 0:F.track_stock)??(F==null?void 0:F.trackStock))===!1?!0:(F==null?void 0:F.type)==="SERVICE",_=useLiveQuery(async()=>!r&&!(n||[]).length?[]:(await db.products.toArray()).filter(R=>{if(!((R.ativo??R.is_active??!0)!==!1))return!1;const Z=R.deposit_id??R.depositoId??R.depositId??R.deposito_id??null;return!!(B(R)||(n||[]).includes(R.id)||Z===null||Z===""||r&&Z===r)}),[r,g])||[],k=q.useMemo(()=>{const F=new Map;return _.forEach(R=>F.set(R.id,R)),F},[_]),j=()=>{const F=k.get(c);if(!F)return;const R=Math.max(1,Number(h)||1),ae=Number(F.preco_padrao??F.preco??F.price??0)||0,Z=F.nome??F.name??"",me=B(F)?"SERVICO":F.tipo??F.type??"",ee=e.find(H=>H.produtoId===F.id);if(ee){const H=e.map(W=>W.id===ee.id?{...W,quantidade:W.quantidade+R}:W);t(H)}else{const H={id:crypto.randomUUID(),produtoId:F.id,nome:Z,tipo:me,precoUnitario:ae,quantidade:R};t([...e,H])}m("1"),d("")},T=(F,R)=>{const ae=Math.max(1,Number(R)||1),Z=e.map(me=>me.id===F?{...me,quantidade:ae}:me);t(Z)},C=F=>{const R=e.find(ae=>ae.id===F);R&&o&&o(R),t(e.filter(ae=>ae.id!==F))},I=F=>{F.key==="Enter"&&(F.preventDefault(),j())};return r?i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex flex-wrap items-end gap-2",children:[i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx("label",{className:"text-xs text-gray-500",children:"Produto"}),i.jsxs("select",{value:c,onChange:F=>d(F.target.value),className:"h-8 px-2 border border-gray-300 rounded text-sm bg-white",children:[i.jsx("option",{value:"",children:"Selecionar produto"}),_.filter(F=>!(a!=null&&a.includes(F.id))).map(F=>i.jsx("option",{value:F.id,children:F.nome??F.name},F.id))]})]}),i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx("label",{className:"text-xs text-gray-500",children:"Qtd"}),i.jsx("input",{type:"number",min:"1",value:h,onChange:F=>m(F.target.value),onKeyDown:I,className:"h-8 w-24 px-2 border border-gray-300 rounded text-sm"})]}),i.jsx("button",{type:"button",onClick:j,className:"h-8 px-3 rounded bg-blue-600 text-white text-sm",children:"Adicionar"})]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm text-gray-700 border border-gray-200",children:[i.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-2 py-2 text-left",children:"Produto"}),i.jsx("th",{className:"px-2 py-2 text-left",children:"Tipo"}),i.jsx("th",{className:"px-2 py-2 text-left",children:"Preco Unit."}),i.jsx("th",{className:"px-2 py-2 text-left",children:"Qtd"}),i.jsx("th",{className:"px-2 py-2 text-left",children:"Total"}),i.jsx("th",{className:"px-2 py-2 text-left",children:"Acoes"})]})}),i.jsx("tbody",{children:e.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:6,className:"px-3 py-6 text-center text-gray-400",children:"Nenhum item adicionado."})}):e.map(F=>{const R=a==null?void 0:a.includes(F.produtoId),ae=F.sale_movement_type==="EXCHANGE"?" TROCA":F.sale_movement_type==="FULL"?" COMPLETA":null;return i.jsxs("tr",{className:"border-t border-gray-200",children:[i.jsx("td",{className:"px-2 py-2",children:i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx("span",{children:F.nome}),ae&&i.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded w-fit ${F.sale_movement_type==="EXCHANGE"?"bg-green-100 text-green-700":"bg-blue-100 text-blue-700"}`,children:ae})]})}),i.jsx("td",{className:"px-2 py-2",children:F.tipo}),i.jsxs("td",{className:"px-2 py-2",children:["R$ ",F.precoUnitario.toFixed(2)]}),i.jsx("td",{className:"px-2 py-2",children:i.jsx("input",{type:"number",min:"1",value:F.quantidade,onChange:Z=>T(F.id,Z.target.value),disabled:R,className:`w-20 h-7 px-2 border border-gray-300 rounded ${R?"bg-gray-100 text-gray-400 cursor-not-allowed":""}`})}),i.jsxs("td",{className:"px-2 py-2",children:["R$ ",(F.precoUnitario*F.quantidade).toFixed(2)]}),i.jsx("td",{className:"px-2 py-2",children:i.jsx("button",{type:"button",onClick:()=>C(F.id),className:"text-red-600 hover:text-red-700","aria-label":"Remover item",children:i.jsx(Gs,{className:"w-4 h-4"})})})]},F.id)})})]})})]}):i.jsx("div",{className:"text-sm text-gray-600",children:"Selecione um deposito primeiro"})}const CN=()=>{if(typeof localStorage>"u")return null;const r=localStorage.getItem("gp_session");if(!r)return null;try{const e=JSON.parse(r);return(e==null?void 0:e.nome)||(e==null?void 0:e.username)||(e==null?void 0:e.id)||null}catch{return null}},Gl="delivery_fee",Vl="Taxa de entrega",EN=r=>((r==null?void 0:r.is_delivery_fee)??(r==null?void 0:r.isDeliveryFee))===!0||String((r==null?void 0:r.product_group)??(r==null?void 0:r.codigo)??"").toLowerCase()===Gl?!0:String((r==null?void 0:r.nome)??"").toLowerCase()===Vl.toLowerCase(),r_=r=>EN(r)||((r==null?void 0:r.track_stock)??(r==null?void 0:r.trackStock))===!1?!0:(r==null?void 0:r.type)==="SERVICE",n_={lat:-17.7915,lng:-50.9197},od=r=>r.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),Z0=r=>{if(!r)return null;if(Array.isArray(r)&&r.length>=2){const e=Number(r[0]),t=Number(r[1]);return Number.isFinite(e)&&Number.isFinite(t)?[e,t]:null}if(typeof r=="object"){const e=Number(r.lat??r.latitude),t=Number(r.lng??r.lon??r.longitude);if(Number.isFinite(e)&&Number.isFinite(t))return[e,t]}return null},iI=r=>{if(!r)return null;let e=r;if(typeof e=="string")try{e=JSON.parse(e)}catch{return null}if(!Array.isArray(e)||e.length===0)return null;if(Z0(e[0])){const a=e.map(Z0).filter(Boolean);return a.length?[a]:null}const n=[];for(const a of e){if(!Array.isArray(a))continue;const o=a.map(Z0).filter(Boolean);o.length&&n.push(o)}return n.length?n:null},$0=(r,e,t)=>{const n=od(r||"");if(!n)return null;const a=t.map(c=>({sector:c,key:od((c==null?void 0:c.nome)||"")})).filter(c=>c.key.length>2&&n.includes(c.key)).sort((c,d)=>d.key.length-c.key.length)[0];if(a!=null&&a.sector){const c=e.find(d=>d.id===a.sector.zone_id)??null;if(c)return{zone:c,sector:a.sector,source:"setor"}}const o=e.map(c=>({zone:c,key:od((c==null?void 0:c.nome)||"")})).filter(c=>c.key.length>2&&n.includes(c.key)).sort((c,d)=>d.key.length-c.key.length)[0];return o!=null&&o.zone?{zone:o.zone,sector:null,source:"zona"}:null},oI=({polygons:r,activePolygon:e})=>{const t=pd();return q.useEffect(()=>{const n=ma.latLngBounds([]);let a=!1;[...r,...e?[e]:[]].forEach(c=>{if(!c||!c.length)return;const d=ma.polygon(c);n.extend(d.getBounds()),a=!0}),a&&t.fitBounds(n,{padding:[12,12]})},[r,e,t]),null},lI=()=>{const r=pd();return q.useEffect(()=>{const e=()=>{var h;const d=(h=r.getContainer)==null?void 0:h.call(r);!d||!d.isConnected||r._loaded&&r.invalidateSize()};r.whenReady(()=>e()),requestAnimationFrame(e);const t=setTimeout(e,120),n=setTimeout(e,360),a=()=>e();window.addEventListener("resize",a);let o=null;const c=r.getContainer();return typeof ResizeObserver<"u"&&c&&(o=new ResizeObserver(()=>e()),o.observe(c)),()=>{clearTimeout(t),clearTimeout(n),window.removeEventListener("resize",a),o&&o.disconnect()}},[r]),null},AI=({logs:r})=>!r||r.length===0?i.jsx("div",{className:"text-xs text-txt-muted italic",children:"Sem histrico"}):i.jsxs("div",{className:"space-y-4 relative pl-2",children:[i.jsx("div",{className:"absolute left-[11px] top-2 bottom-2 w-px bg-bdr"}),r.map((e,t)=>i.jsxs("div",{className:"relative flex gap-3 items-start group",children:[i.jsx("div",{className:"w-6 h-6 rounded-full bg-surface border-2 border-bdr flex items-center justify-center shrink-0 z-10 group-hover:border-primary transition-colors",children:i.jsx("div",{className:"w-2 h-2 rounded-full bg-txt-muted group-hover:bg-primary transition-colors"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-bold text-txt-main",children:e.acao}),i.jsx("p",{className:"text-[10px] text-txt-muted",children:e.detalhe}),i.jsxs("div",{className:"flex gap-2 mt-1",children:[i.jsx("span",{className:"text-[9px] bg-app px-1.5 py-0.5 rounded border border-bdr text-txt-muted uppercase font-bold",children:e.usuario}),i.jsx("span",{className:"text-[9px] text-txt-muted",children:new Date(e.data).toLocaleString()})]})]})]},t))]}),cI=({createdAt:r,status:e})=>{const[t,n]=q.useState(""),[a,o]=q.useState("text-green-600");return q.useEffect(()=>{if(e==="CONCLUIDA"||e==="CANCELADA"){n("--:--");return}const c=()=>{const m=Date.now()-r,g=Math.floor(m/36e5),b=Math.floor(m%36e5/6e4),B=Math.floor(m%6e4/1e3),_=`${g.toString().padStart(2,"0")}:${b.toString().padStart(2,"0")}:${B.toString().padStart(2,"0")}`;n(_),b>=30?o("text-red-600 animate-pulse"):b>=15?o("text-amber-500"):o("text-green-600")};c();const d=setInterval(c,1e3);return()=>clearInterval(d)},[r,e]),i.jsxs("div",{className:`font-mono font-bold text-sm flex items-center gap-1 ${a} bg-surface px-2 py-1 rounded border border-bdr`,children:[i.jsx(cd,{className:"w-3 h-3"}),t]})},uI=({onCancel:r,onSuccess:e,initialData:t,currentUser:n})=>{var Qr,Jn;const[a,o]=q.useState([]),[c,d]=q.useState([]),[h,m]=q.useState([]);q.useEffect(()=>{let _e=!0;return(async()=>{const[nt,Ft,rt]=await Promise.all([listProducts(),db.payment_methods.filter(St=>St.is_active===!0).toArray(),listClients()]);let Bt=nt,Nt=nt.find(St=>St.is_delivery_fee===!0||St.isDeliveryFee===!0)||nt.find(St=>(St.product_group??"")===Gl)||nt.find(St=>(St.codigo??"")===Gl)||nt.find(St=>(St.nome??"").toLowerCase()===Vl.toLowerCase());if(Nt&&EN(Nt)){const St=normalizeDepositId(Nt);if(!r_(Nt)||St.depositoId!==null||Nt.product_group!==Gl||Nt.codigo!==Gl||Nt.is_delivery_fee!==!0||Nt.preco_padrao!==0||Nt.preco_venda!==0||Nt.preco_custo!==0)try{const tn=await updateProduct(Nt.id,{nome:Vl,tipo:"OUTROS",unidade:"serv",product_group:Gl,codigo:Gl,depositoId:null,preco_padrao:0,preco_custo:0,preco_venda:0,marcacao:null,tracks_empties:!1,ativo:!0,track_stock:!1,type:"SERVICE",is_delivery_fee:!0,current_stock:null,min_stock:null});Nt=tn,Bt=nt.map(Hr=>Hr.id===tn.id?tn:Hr)}catch(tn){console.error("Erro ao atualizar servico de taxa de entrega:",tn)}}if(!Nt)try{Nt=await createProduct({nome:Vl,tipo:"SERVICO",unidade:"serv",product_group:Gl,codigo:Gl,depositoId:null,preco_padrao:0,preco_custo:0,preco_venda:0,marcacao:null,tracks_empties:!1,ativo:!0,track_stock:!1,type:"SERVICE",is_delivery_fee:!0,current_stock:null,min_stock:null}),Bt=[...nt,Nt]}catch(St){console.error("Erro ao criar produto de taxa de entrega:",St)}_e&&(o(Bt),d(Ft),m(rt),oe((Nt==null?void 0:Nt.id)??null))})(),()=>{_e=!1}},[]);const g=useLiveQuery(async()=>{const _e=await db.employees.filter(Nt=>(Nt.is_active??Nt.ativo)!==!1).toArray(),nt=(getEmployees()||[]).filter(Nt=>((Nt==null?void 0:Nt.ativo)??(Nt==null?void 0:Nt.is_active))!==!1),Ft=new Set;return[..._e,...nt].filter(Nt=>!(Nt!=null&&Nt.id)||Ft.has(Nt.id)?!1:(Ft.add(Nt.id),!0)).filter(Nt=>{if(!(Nt!=null&&Nt.cargo))return!1;const St=String(Nt.cargo??"").toUpperCase().trim();return St.includes("ENTREG")||St.includes("MOTOR")})},[])||[];q.useEffect(()=>{try{console.log("Available drivers (main form):",g.map(_e=>({id:_e.id,nome:_e.nome??_e.username,cargo:_e.cargo,ativo:_e.ativo??_e.is_active})))}catch{}},[g]);try{console.log("Entregadores encontrados:",g)}catch{}const b=useLiveQuery(()=>db.deposits.filter(_e=>(_e.is_active??_e.ativo)!==!1).toArray(),[])||[],B=useLiveQuery(()=>{var _e;return(_e=db.delivery_zones)==null?void 0:_e.toArray()},[])||[],_=useLiveQuery(()=>{var _e;return(_e=db.delivery_zones)==null?void 0:_e.toArray()},[])||[],k=useLiveQuery(()=>{var _e;return(_e=db.zone_pricing)==null?void 0:_e.toArray()},[])||[],j=q.useMemo(()=>{const _e=new Map;return B.forEach(nt=>{nt!=null&&nt.id&&_e.set(nt.id,nt)}),_e},[B]);q.useEffect(()=>{(!W||W==="")&&b.length===1&&K(b[0].id),(!ee||ee==="")&&g.length===1&&H(g[0].id)},[b,g]);const[T,C]=q.useState("DELIVERY"),[I,F]=q.useState(""),[R,ae]=q.useState(()=>new Date().toISOString().slice(0,16)),[Z,me]=q.useState("Pendente"),[ee,H]=q.useState(""),[W,K]=q.useState(""),[$,re]=q.useState(""),[le,ge]=q.useState(null),[Y,pe]=q.useState(""),[z,ve]=q.useState(!1),[we,V]=q.useState(0),[O,G]=q.useState(null),[Q,oe]=q.useState(null),[ce,Be]=q.useState(!1),[Se,Fe]=q.useState(!1),[He,it]=q.useState(""),[Re,_t]=q.useState(null),[It,he]=q.useState(!1),[ct,yt]=q.useState([]),[qt,$e]=q.useState(""),[Zt,Qt]=q.useState(!1),[kt,Kt]=q.useState(null),[Jt,mr]=q.useState([]),[Yt,ar]=q.useState(""),[cr,Ht]=q.useState(""),[Vt,Dt]=q.useState(""),[Ne,et]=q.useState(null),[ft,Lt]=q.useState(""),[Ut,Et]=q.useState(""),xr=q.useMemo(()=>{const _e=new Map;return W&&k.forEach(nt=>{normalizeDepositId(nt).depositoId===W&&_e.set(nt.zone_id,nt)}),_e},[k,W]),Rt=q.useMemo(()=>$0($,B,_),[$,B,_]),de=q.useMemo(()=>$0(Y,B,_),[Y,B,_]),Ke=q.useMemo(()=>le?j.get(le)??null:(Rt==null?void 0:Rt.zone)??(de==null?void 0:de.zone)??null,[le,j,Rt,de]),Ye=(Ke==null?void 0:Ke.id)??null,We=(Ke==null?void 0:Ke.nome)??"",tt=q.useMemo(()=>B.map(_e=>({id:_e.id,nome:_e.nome??"",cor:_e.cor||"#f97316",polygon:iI(_e.map_polygon)})).filter(_e=>_e.polygon),[B]),Tt=q.useMemo(()=>{if(!Ye)return null;const _e=tt.find(nt=>nt.id===Ye);return(_e==null?void 0:_e.polygon)??null},[tt,Ye]),zt=Re?Re.deliveryZoneId??Re.delivery_zone_id??null:null,Wt=zt?((Qr=j.get(zt))==null?void 0:Qr.nome)??"":"",Lr=q.useMemo(()=>{if(!Re)return null;const _e=od(Re.endereco||""),nt=od(Y||"");return!_e&&!nt?null:_e===nt},[Re,Y]);q.useEffect(()=>{if(t){C(t.tipoAtendimento),F(t.observacoes||""),K(t.depositoId||""),H(t.entregadorId||""),it(""),he(!1);const nt=h.find(St=>St.id===t.clienteId)??{id:t.clienteId,nome:t.clienteNome,endereco:t.enderecoEntrega||"",telefone:t.clienteTelefone,ativo:!0,criado_em:0,atualizado_em:0};_t(nt),pe(t.enderecoEntrega||nt.endereco||""),ve(!1);const Ft=nt.deliveryZoneId??nt.delivery_zone_id??null;if(Ft){const St=j.get(Ft),nr=(St==null?void 0:St.nome)??"";ge(Ft),nr&&re(nr)}else ge(null),re("");const rt=t.itens.map(St=>{const nr=a.find(Hr=>Hr.id===St.produtoId),tn=Q&&St.produtoId===Q||nr&&(nr.product_group??"")===Gl;return{id:St.id,produtoId:St.produtoId,nome:(nr==null?void 0:nr.nome)||(tn?Vl:"Item removido"),quantidade:St.quantidade,precoUnitario:St.precoUnitario,tipo:nr&&r_(nr)?"SERVICO":(nr==null?void 0:nr.tipo)||"OUTRO",sale_movement_type:St.sale_movement_type??null}});yt(rt);const Bt=t.pagamentos.map((St,nr)=>{const tn=c.find(Hr=>Hr.id===St.payment_method_id||St.formaPagamentoId);return{id:`pay-${nr}`,methodId:St.payment_method_id||St.formaPagamentoId,methodName:(tn==null?void 0:tn.nome)||"Pagamento",value:St.amount??St.valor,methodType:(tn==null?void 0:tn.receipt_type)??St.type??"other"}});mr(Bt);const Nt=t.delivery_fee??t.deliveryFee??t.deliveryFeeValue??0;V(Number(Nt)||0),Be(!1)}},[t,h,a,c,Q,j]),q.useEffect(()=>{n&&!(Ft=>Ft==="ENTREGADOR"||Ft==="GERENTE")(n.cargo)&&n.depositoId&&W!==n.depositoId&&K(n.depositoId)},[n==null?void 0:n.depositoId,n==null?void 0:n.cargo,W]),q.useEffect(()=>{if(z)return;const _e=(de==null?void 0:de.zone)??null;if(!_e)return;const nt=_e.nome??"";_e.id!==le&&ge(_e.id),nt&&nt!==$&&re(nt)},[z,de,le,$]);const vt=T!=="DELIVERY";q.useEffect(()=>{vt&&ee&&H("")},[vt,ee]);const Rr=_e=>!!Q&&_e.produtoId===Q||_e.nome===Vl,fr=ct.reduce((_e,nt)=>Rr(nt)?_e:_e+nt.quantidade*nt.precoUnitario,0),pr=ce?0:we,Pr=fr+pr,je=Jt.reduce((_e,nt)=>_e+nt.value,0),Me=Math.max(0,Pr-je),$t=c.find(_e=>_e.id===Yt),Ir=($t==null?void 0:$t.receipt_type)==="cash"?parseFloat(Vt||"0"):0,jr=Ir>0?Math.max(0,Ir-Pr):Math.max(0,je-Pr);Jt.some(_e=>_e.methodType==="cash")||($t==null||$t.receipt_type),q.useEffect(()=>{if(T!=="DELIVERY"){we!==0&&V(0),O&&G(null),ce&&Be(!1);return}if(ce){we!==0&&V(0),O&&G(null);return}if(!od($)&&!le&&!(de!=null&&de.zone)){const tn=(t==null?void 0:t.delivery_fee)??(t==null?void 0:t.deliveryFee)??(t==null?void 0:t.deliveryFeeValue)??0,Hr=Number(tn)||0;we!==Hr&&V(Hr),O&&G(null);return}const nt=(le?j.get(le)??null:null)??(Rt==null?void 0:Rt.zone)??(de==null?void 0:de.zone)??null,Ft=W||(t==null?void 0:t.depositoId)||"",rt=b.find(tn=>tn.id===Ft),Bt=(rt==null?void 0:rt.free_shipping_min_value)??(rt==null?void 0:rt.freeShippingMinValue)??(rt==null?void 0:rt.freeShippingMin)??0,Nt=Number(Bt)||0,St=nt&&Ft?k.find(tn=>{const Hr=normalizeDepositId(tn);return tn.zone_id===nt.id&&Hr.depositoId===Ft}):null;let nr=St?Number(St.price??0):0;G(nt&&Ft&&!St?"Este deposito nao possui preco para esta zona.":null),Nt>0&&fr>=Nt&&(nr=0),we!==nr&&V(nr)},[T,$,le,we,j,fr,W,b,k,t,O,ce,Rt,de]),q.useEffect(()=>{Q&&yt(_e=>{const nt=_e.find(rt=>rt.produtoId===Q);return T!=="DELIVERY"||ce?nt?_e.filter(rt=>rt.produtoId!==Q):_e:nt?nt.precoUnitario!==pr||nt.quantidade!==1?_e.map(rt=>rt.produtoId===Q?{...rt,precoUnitario:pr,quantidade:1}:rt):_e:[..._e,{id:crypto.randomUUID(),produtoId:Q,nome:Vl,quantidade:1,precoUnitario:pr,tipo:"OUTROS"}]})},[Q,pr,ce,T]),q.useEffect(()=>{if(!Q||!ce)return;ct.some(nt=>nt.produtoId===Q||nt.nome===Vl)&&Be(!1)},[ct,Q,ce]);const Gr=_e=>{(Q&&_e.produtoId===Q||_e.nome===Vl)&&(Be(!0),we!==0&&V(0))},Xr=_e=>{_t(_e),it(""),he(!1),Be(!1),pe(_e.endereco||""),ve(!1);const nt=_e.deliveryZoneId??_e.delivery_zone_id??null;if(nt){const Ft=j.get(nt),rt=(Ft==null?void 0:Ft.nome)??"";ge(nt),rt&&re(rt)}else ge(null),re("");console.log("Client selected:",_e)},Fn=()=>{he(!0)},[wn,Hn]=q.useState(!1);q.useEffect(()=>{const _e="receipt-print-style";if(document.getElementById(_e))return;const nt=document.createElement("style");return nt.id=_e,nt.textContent=`
@media print {
  body * { visibility: hidden; }
  #receipt-print-area, #receipt-print-area * { visibility: visible; }
  #receipt-print-area {
    position: absolute;
    left: 0;
    top: 0;
    width: 100%;
    margin: 0;
    padding: 0;
    background: white;
    color: black;
  }
}`,document.head.appendChild(nt),()=>{nt.remove()}},[]);const jn=()=>{window.print()},Ns=async()=>{const _e=document.getElementById("receipt-print-area");if(!_e)return;const nt=await FB(_e,{scale:2,backgroundColor:"#ffffff"}),Ft=nt.toDataURL("image/png"),rt=new yr({orientation:"portrait",unit:"pt",format:[nt.width,nt.height]});rt.addImage(Ft,"PNG",0,0,nt.width,nt.height),rt.save(`nota-${Date.now()}.pdf`)},wr=_e=>_e.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}),xa=(_e,nt,Ft=40)=>{const rt=_e.length>Ft?_e.slice(0,Ft):_e,Bt=Math.max(1,Ft-rt.length-nt.length);return`${rt}${".".repeat(Bt)}${nt}`},fs=()=>{const _e=new Date().toLocaleString("pt-BR"),nt=(Re==null?void 0:Re.nome)||"Nao informado",Ft=Y.trim()||(Re==null?void 0:Re.endereco)||"Nao informado",rt=(Re==null?void 0:Re.telefone)||"Nao informado",Bt=fr,Nt=pr,St=0,nr=Bt+Nt-St,tn=ct.length===0?["(Sem itens)"]:ct.map(Cr=>{const la=Cr.quantidade*Cr.precoUnitario,si=Cr.sale_movement_type==="EXCHANGE"?" (TROCA)":Cr.sale_movement_type==="FULL"?" (COMPLETA)":"",$s=`${Cr.quantidade}x ${Cr.nome}${si}`,_i=`R$ ${wr(la)}`;return xa($s,_i,36)}),Hr=Jt.length===0?["Pagamento: Nao informado"]:Jt.map(Cr=>`- ${Cr.methodName}: R$ ${wr(Cr.value)}`),ss=jr>0?`Troco: R$ ${wr(jr)}`:null;return["GAS REAL",_e,"--------------------------------",`Cliente: ${nt}`,`Endereco: ${Ft}`,`Telefone: ${rt}`,"--------------------------------",...tn,"--------------------------------",`Subtotal: R$ ${wr(Bt)}`,`Entrega: R$ ${wr(Nt)}`,`Descontos: R$ ${wr(St)}`,`TOTAL A PAGAR: R$ ${wr(nr)}`,"--------------------------------",...Hr,...ss?[ss]:[],"--------------------------------","Obrigado pela preferencia!"].join(`
`)},Zs=_e=>{(async()=>{const nt=Date.now(),Ft=await upsertClient({nome:_e.nome,endereco:_e.endereco,referencia:_e.referencia,cpf:_e.cpf,telefone:_e.telefone,dataNascimento:_e.dataNascimento,deliveryZoneId:_e.deliveryZoneId??null,ativo:!0,criado_em:nt,atualizado_em:nt}),rt=await listClients();m(rt);let Bt;typeof Ft=="string"?Bt=rt.find(Nt=>Nt.id===Ft):Ft&&Ft.id&&(Bt=rt.find(Nt=>Nt.id===Ft.id)||Ft),Bt||(Bt=rt.find(Nt=>Nt.nome===_e.nome&&(Nt.cpf===_e.cpf||!_e.cpf))),Bt&&Xr(Bt)})()},se=(_e,nt)=>{const Ft=ct.find(Nt=>Nt.produtoId===_e.id&&Nt.sale_movement_type===nt);if(Ft){ut(Ft.id,Ft.quantidade+1);return}let rt=_e.preco_padrao;nt==="EXCHANGE"?rt=_e.preco_troca??_e.preco_padrao:nt==="FULL"&&(rt=_e.preco_completa??_e.preco_padrao);const Bt={id:crypto.randomUUID(),produtoId:_e.id,nome:_e.nome,quantidade:1,precoUnitario:rt,tipo:_e.tipo,sale_movement_type:nt};yt([...ct,Bt])},pt=_e=>{kt&&(se(kt,_e),Kt(null),Qt(!1))},bt=()=>{Kt(null),Qt(!1)},ut=(_e,nt)=>{const Ft=typeof nt=="string"?parseInt(nt):nt;typeof Ft=="number"&&!isNaN(Ft)&&Ft>0&&yt(ct.map(rt=>rt.id===_e?{...rt,quantidade:Ft}:rt))},Gt=()=>{if(!Yt)return;const _e=c.find(Nt=>Nt.id===Yt);if(!_e)return;const Ft=_e.receipt_type==="cash"?Vt?parseFloat(Vt):0:cr?parseFloat(cr):Me,rt=Ft>0?Ft:Me;if(rt<=0)return;const Bt={id:crypto.randomUUID(),methodId:_e.id,methodName:_e.nome,methodType:_e.receipt_type,value:rt};mr([...Jt,Bt]),Ht(""),Dt(""),rt>=Me&&ar(""),t!=null&&t.id&&ps("PAGAMENTO_ADICIONADO",`Adicionado ${_e.nome}: R$ ${rt.toFixed(2)}`)},ur=_e=>{et(_e),Lt(_e.methodId),Et(_e.value.toFixed(2))},Fr=()=>{if(!Ne||!ft)return;const _e=parseFloat(Ut);if(isNaN(_e)||_e<=0)return;const nt=c.find(Bt=>Bt.id===ft);if(!nt)return;const Ft=Ne,rt={...Ft,methodId:nt.id,methodName:nt.nome,methodType:nt.receipt_type,value:_e};if(mr(Jt.map(Bt=>Bt.id===Ft.id?rt:Bt)),t!=null&&t.id){const Bt=[];Ft.methodName!==nt.nome&&Bt.push(`Forma: ${Ft.methodName}  ${nt.nome}`),Ft.value!==_e&&Bt.push(`Valor: R$ ${Ft.value.toFixed(2)}  R$ ${_e.toFixed(2)}`),Bt.length>0&&ps("PAGAMENTO_EDITADO",Bt.join(", "))}et(null),Lt(""),Et("")},ln=()=>{et(null),Lt(""),Et("")},Fs=_e=>{mr(Jt.filter(nt=>nt.id!==_e.id)),t!=null&&t.id&&ps("PAGAMENTO_REMOVIDO",`Removido ${_e.methodName}: R$ ${_e.value.toFixed(2)}`)},ps=async(_e,nt)=>{if(!(t!=null&&t.id))return;const Ft={id:crypto.randomUUID(),data:new Date().toISOString(),usuario:(n==null?void 0:n.nome)||"Sistema",usuarioId:(n==null?void 0:n.id)||"system",acao:_e,detalhe:nt},rt=await db.service_orders.get(t.id);if(rt){const Bt=[...rt.historico||[]];Bt.unshift(Ft),await db.service_orders.update(t.id,{historico:Bt})}};q.useEffect(()=>{Yt&&Me>0&&!cr&&Ht(Me.toFixed(2))},[Yt,Me,cr]);const Cs=q.useMemo(()=>{if(!It)return[];const _e=He.trim().toLowerCase();return h.filter(nt=>{var Bt;if(!_e)return!0;const Ft=(nt.nome??"").toLowerCase(),rt=(nt.endereco??"").toLowerCase();return Ft.includes(_e)||((Bt=nt.telefone)==null?void 0:Bt.includes(_e))||rt.includes(_e)})},[He,h,It]),br=async()=>{if(!Re||ct.length===0)return;if(!W&&!(t!=null&&t.depositoId)){alert("Selecione um deposito para a O.S.");return}if(T==="DELIVERY"&&!ee){alert("Selecione um entregador para entrega.");return}const _e=ct.map(St=>{const nr=Q&&St.produtoId===Q||St.nome===Vl;return{id:St.id,produtoId:St.produtoId,quantidade:St.quantidade,precoUnitario:St.precoUnitario,modalidade:nr?"SERVICO":"VENDA",sale_movement_type:St.sale_movement_type??null}}),nt=Jt.map(St=>({payment_method_id:St.methodId,amount:St.value,type:St.methodType}));let Ft="PENDENTE";T==="DELIVERY"&&(Ft="PENDENTE_ENTREGA");const rt={id:(t==null?void 0:t.id)||crypto.randomUUID(),numeroOs:(t==null?void 0:t.numeroOs)||Date.now().toString().slice(-6),depositoId:W||(t==null?void 0:t.depositoId)||"DEP1",clienteId:Re.id,clienteNome:Re.nome,clienteTelefone:Re.telefone,enderecoEntrega:Y.trim()||Re.endereco,status:Ft,tipoAtendimento:T,entregadorId:ee||null,observacoes:I,itens:_e,pagamentos:nt,total:Pr,delivery_fee:pr,dataHoraCriacao:(t==null?void 0:t.dataHoraCriacao)||Date.now(),updated_at:Date.now(),historico:(t==null?void 0:t.historico)||[]},Bt={data:Date.now(),usuario:CN()||"Operador",acao:t?"Edio Manual":"Criao",detalhe:t?"Alterou dados da O.S.":`Nova O.S. tipo ${T}`},Nt=[...rt.historico||[]];Nt.unshift(Bt),await upsertServiceOrder({...rt,historico:Nt}),T==="DELIVERY"&&!t&&await createDeliveryJobFromOS(rt),e()};return i.jsxs("div",{className:"w-full h-full flex flex-col bg-transparent text-gray-900",children:[i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[minmax(0,1fr)_360px] gap-4",children:[i.jsxs("div",{className:"space-y-4 min-w-0",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("span",{className:"inline-block text-xs font-bold text-blue-700 bg-white px-2 py-0.5 rounded shadow-sm",children:"Dados Gerais"}),i.jsxs("div",{className:"border border-gray-300 rounded bg-white p-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 text-sm",children:[i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx("label",{className:"font-semibold text-gray-700",children:"Data/Hora:"}),i.jsx("input",{type:"datetime-local",value:R,onChange:_e=>ae(_e.target.value),className:"h-8 px-2 rounded border border-gray-300 bg-white"})]}),i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx("label",{className:"font-semibold text-gray-700",children:"Status:"}),i.jsxs("select",{value:Z,onChange:_e=>me(_e.target.value),className:"h-8 px-2 rounded border border-gray-300 bg-white",children:[i.jsx("option",{children:"Pendente"}),i.jsx("option",{children:"Em Andamento"}),i.jsx("option",{children:"Concluda"})]})]}),i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx("label",{className:"font-semibold text-gray-700",children:"Tipo de atendimento:"}),i.jsxs("select",{value:T,onChange:_e=>C(_e.target.value),className:"h-8 px-2 rounded border border-gray-300 bg-white",children:[i.jsx("option",{value:"DELIVERY",children:"Delivery"}),i.jsx("option",{value:"BALCAO",children:"Balco"})]})]}),i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx("label",{className:"font-semibold text-gray-700",children:"Entregador:"}),i.jsxs("select",{value:ee||"",onChange:_e=>H(_e.target.value),disabled:vt,className:"w-full h-9 px-2 border border-gray-300 rounded focus:border-blue-500 outline-none text-sm bg-white disabled:bg-gray-100 disabled:text-gray-400",children:[i.jsx("option",{value:"",children:vt?"Nao se aplica (Balcao)":"Selecione o Entregador..."}),g.map(_e=>i.jsx("option",{value:_e.id,children:_e.nome||_e.username},_e.id))]})]}),i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx("label",{className:"font-semibold text-gray-700",children:"Depsito:"}),(()=>{var Ft;return n&&!(rt=>rt==="ENTREGADOR"||rt==="GERENTE")(n.cargo)&&n.depositoId?i.jsxs("div",{className:"px-2 py-2 rounded border border-gray-300 bg-gray-100 text-gray-700 font-semibold text-sm",children:[" ",((Ft=b.find(rt=>rt.id===W))==null?void 0:Ft.nome)||"Carregando..."]}):i.jsxs("select",{value:W||"",onChange:rt=>K(rt.target.value),className:"w-full h-9 px-2 border border-gray-300 rounded focus:border-blue-500 outline-none text-sm bg-white",children:[i.jsx("option",{value:"",children:"Selecione o Depsito..."}),b.map(rt=>i.jsx("option",{value:rt.id,children:rt.nome},rt.id))]})})()]}),i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx("label",{className:"font-semibold text-gray-700",children:"Bairro/Zona:"}),i.jsx("input",{type:"text",value:$,onChange:_e=>{var rt;const nt=_e.target.value;re(nt),ve(!0);const Ft=$0(nt,B,_);ge(((rt=Ft==null?void 0:Ft.zone)==null?void 0:rt.id)??null),ce&&Be(!1)},className:"h-8 px-2 rounded border border-gray-300 bg-white"}),O&&i.jsx("div",{className:"text-[10px] text-amber-600",children:O})]})]}),i.jsx("div",{className:"mt-3 grid grid-cols-1 gap-3 text-sm",children:i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx("label",{className:"font-semibold text-gray-700",children:"Endereco para entrega:"}),i.jsx("input",{type:"text",value:Y,onChange:_e=>{pe(_e.target.value),ve(!1)},placeholder:"Rua, numero, bairro",className:"h-8 px-2 rounded border border-gray-300 bg-white"}),Lr===!0&&i.jsx("div",{className:"text-[10px] text-emerald-600",children:"Endereco igual ao cadastro do cliente."}),Lr===!1&&i.jsx("div",{className:"text-[10px] text-amber-600",children:"Endereco da entrega diferente do cadastro do cliente."})]})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("span",{className:"inline-block text-xs font-bold text-blue-700 bg-white px-2 py-0.5 rounded shadow-sm",children:"Cliente"}),i.jsxs("div",{className:"border border-gray-300 rounded bg-white p-4 space-y-3 text-sm",children:[i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-6 gap-3 items-end",children:[i.jsxs("div",{className:"flex flex-col gap-1 lg:col-span-3",children:[i.jsx("label",{className:"font-semibold text-gray-700",children:"Cliente selecionado:"}),i.jsx("input",{type:"text",value:(Re==null?void 0:Re.nome)||"",readOnly:!0,placeholder:"Nenhum cliente selecionado",className:"h-8 px-2 rounded border border-gray-300 bg-white text-gray-700"})]}),i.jsxs("div",{className:"flex flex-col gap-1 lg:col-span-3",children:[i.jsx("label",{className:"font-semibold text-gray-700",children:"Buscar cliente:"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx("input",{type:"text",value:He,onChange:_e=>{it(_e.target.value),he(!0)},placeholder:"Digite para buscar",className:"h-8 px-2 rounded border border-gray-300 bg-white w-full"}),It&&i.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded shadow-lg z-50 max-h-40 overflow-y-auto",children:Cs.length===0?i.jsx("div",{className:"px-2 py-2 text-xs text-gray-500",children:"Nenhum cliente encontrado."}):Cs.map(_e=>i.jsxs("button",{onClick:()=>Xr(_e),className:"w-full text-left px-2 py-1.5 hover:bg-gray-50",children:[i.jsx("div",{className:"font-semibold",children:_e.nome}),i.jsx("div",{className:"text-xs text-gray-500",children:_e.endereco})]},_e.id))})]}),i.jsx("button",{onClick:Fn,className:"h-8 w-8 flex items-center justify-center rounded border border-gray-300 text-gray-600 hover:text-blue-700 hover:border-blue-400",title:"Buscar cliente",children:i.jsx(Xl,{className:"w-4 h-4"})}),i.jsx("button",{onClick:()=>Fe(!0),className:"h-8 px-3 rounded border border-gray-300 text-blue-700 font-semibold hover:border-blue-400",children:"+ Novo"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-3",children:[i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx("label",{className:"font-semibold text-gray-700",children:"Telefone:"}),i.jsx("input",{type:"text",value:(Re==null?void 0:Re.telefone)||"",readOnly:!0,placeholder:"(00) 00000-0000",className:"h-8 px-2 rounded border border-gray-300 bg-white text-gray-500"})]}),i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx("label",{className:"font-semibold text-gray-700",children:"Endereo:"}),i.jsx("input",{type:"text",value:(Re==null?void 0:Re.endereco)||"",readOnly:!0,placeholder:"Endereo completo",className:"h-8 px-2 rounded border border-gray-300 bg-white text-gray-500"})]}),i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx("label",{className:"font-semibold text-gray-700",children:"CPF:"}),i.jsx("input",{type:"text",value:(Re==null?void 0:Re.cpf)||"",readOnly:!0,placeholder:"CPF (opcional)",className:"h-8 px-2 rounded border border-gray-300 bg-white text-gray-500"})]})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("span",{className:"inline-block text-xs font-bold text-blue-700 bg-white px-2 py-0.5 rounded shadow-sm",children:"Itens da Ordem"}),i.jsx("div",{className:"border border-gray-300 rounded bg-white p-4 space-y-3",children:i.jsx(aI,{selectedDepositId:W||null,items:ct,setItems:yt,includeProductIds:Q?[Q]:[],lockedProductIds:Q?[Q]:[],onRemoveItem:Gr})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("span",{className:"inline-block text-xs font-bold text-blue-700 bg-white px-2 py-0.5 rounded shadow-sm",children:"Pagamentos"}),i.jsxs("div",{className:"border border-gray-300 rounded bg-white p-4 space-y-3",children:[i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm text-gray-700 border border-gray-200",children:[i.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-2 py-2 text-left",children:"Forma"}),i.jsx("th",{className:"px-2 py-2 text-left",children:"Valor"}),i.jsx("th",{className:"px-2 py-2 text-left",children:"Parcelas"}),i.jsx("th",{className:"px-2 py-2 text-left",children:"1 Venc."}),i.jsx("th",{className:"px-2 py-2 text-left",children:"Mquina"}),i.jsx("th",{className:"px-2 py-2 text-left",children:"Observao"}),i.jsx("th",{className:"px-2 py-2 text-left",children:"Aes"})]})}),i.jsx("tbody",{children:Jt.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:7,className:"px-3 py-8 text-center text-gray-400",children:"Nenhum pagamento adicionado."})}):Jt.map(_e=>i.jsxs("tr",{className:"border-t border-gray-200",children:[i.jsx("td",{className:"px-2 py-2",children:_e.methodName}),i.jsxs("td",{className:"px-2 py-2",children:["R$ ",_e.value.toFixed(2)]}),i.jsx("td",{className:"px-2 py-2",children:"1"}),i.jsx("td",{className:"px-2 py-2",children:"-"}),i.jsx("td",{className:"px-2 py-2",children:"-"}),i.jsx("td",{className:"px-2 py-2",children:"-"}),i.jsx("td",{className:"px-2 py-2",children:i.jsxs("div",{className:"flex gap-1",children:[i.jsx("button",{onClick:()=>ur(_e),className:"text-orange-600 hover:text-orange-800 p-1",title:"Editar pagamento",children:i.jsx(Ph,{className:"w-4 h-4"})}),i.jsx("button",{onClick:()=>Fs(_e),className:"text-red-600 hover:text-red-800 p-1",title:"Remover pagamento",children:i.jsx(Gs,{className:"w-4 h-4"})})]})})]},_e.id))})]})}),Ne&&i.jsxs("div",{className:"border border-orange-400 rounded bg-orange-50 p-3 space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm font-bold text-orange-800",children:"Editando Pagamento"}),i.jsx("button",{onClick:ln,className:"text-gray-500 hover:text-gray-700",children:i.jsx(Pn,{className:"w-4 h-4"})})]}),i.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[i.jsxs("select",{value:ft,onChange:_e=>Lt(_e.target.value),className:"h-8 px-2 border border-gray-300 rounded text-gray-700 bg-white",children:[i.jsx("option",{value:"",children:"Forma"}),c.map(_e=>i.jsx("option",{value:_e.id,children:_e.nome},_e.id))]}),i.jsx("input",{type:"number",value:Ut,onChange:_e=>Et(_e.target.value),placeholder:"Valor",className:"h-8 w-28 px-2 border border-gray-300 rounded text-gray-700 bg-white"}),i.jsxs("button",{onClick:Fr,className:"flex items-center gap-1 text-green-600 hover:text-green-800 font-semibold",children:[i.jsx(qo,{className:"w-4 h-4"})," Salvar"]}),i.jsx("button",{onClick:ln,className:"flex items-center gap-1 text-gray-600 hover:text-gray-800",children:"Cancelar"})]})]}),!Ne&&i.jsxs("div",{className:"flex flex-wrap gap-3 items-center text-sm text-blue-700 font-semibold",children:[i.jsxs("select",{value:Yt,onChange:_e=>ar(_e.target.value),className:"h-8 px-2 border border-gray-300 rounded text-gray-700 bg-white",children:[i.jsx("option",{value:"",children:"Forma"}),c.map(_e=>i.jsx("option",{value:_e.id,children:_e.nome},_e.id))]}),i.jsx("input",{type:"number",value:cr,onChange:_e=>Ht(_e.target.value),placeholder:"Valor",className:"h-8 w-28 px-2 border border-gray-300 rounded text-gray-700 bg-white"}),i.jsx("button",{onClick:Gt,className:"flex items-center gap-1",children:"+ Adicionar Pagamento"})]}),($t==null?void 0:$t.receipt_type)==="cash"&&i.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[i.jsx("label",{className:"font-semibold",children:"Valor Recebido (Dinheiro):"}),i.jsx("input",{type:"number",value:Vt,onChange:_e=>Dt(_e.target.value),className:"h-8 w-32 px-2 border border-gray-300 rounded"}),jr>0&&i.jsxs("span",{className:"text-green-600 font-semibold",children:["Troco: R$ ",jr.toFixed(2)]})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("span",{className:"inline-block text-xs font-bold text-blue-700 bg-white px-2 py-0.5 rounded shadow-sm",children:"Resumo Financeiro"}),i.jsxs("div",{className:"border border-gray-300 rounded bg-white p-4 space-y-3 text-sm",children:[i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3",children:[i.jsxs("div",{className:"flex flex-col gap-1 lg:col-span-1",children:[i.jsx("label",{className:"font-semibold text-gray-700",children:"Subtotal:"}),i.jsx("input",{className:"h-8 px-2 border border-gray-300 rounded bg-white",value:`R$ ${fr.toFixed(2)}`,readOnly:!0})]}),i.jsxs("div",{className:"flex flex-col gap-1 lg:col-span-1",children:[i.jsx("label",{className:"font-semibold text-gray-700",children:"Taxa de entrega:"}),i.jsx("input",{className:"h-8 px-2 border border-gray-300 rounded bg-white",value:`R$ ${pr.toFixed(2)}`,readOnly:!0}),ce&&i.jsx("div",{className:"text-[10px] text-amber-600",children:"Taxa removida manualmente."})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-3",children:[i.jsxs("div",{className:"flex flex-col gap-1 lg:col-span-1",children:[i.jsx("label",{className:"font-semibold text-gray-700",children:"Valor Total:"}),i.jsx("input",{className:"h-8 px-2 border border-gray-300 rounded bg-white",value:`R$ ${Pr.toFixed(2)}`,readOnly:!0})]}),i.jsxs("div",{className:"flex flex-col gap-1 lg:col-span-1",children:[i.jsx("label",{className:"font-semibold text-gray-700",children:"Total Pago:"}),i.jsx("input",{className:"h-8 px-2 border border-gray-300 rounded bg-white",value:`R$ ${je.toFixed(2)}`,readOnly:!0})]}),i.jsxs("div",{className:"flex flex-col gap-1 lg:col-span-1",children:[i.jsx("label",{className:"font-semibold text-green-700",children:"Restante:"}),i.jsx("input",{className:"h-8 px-2 border border-gray-300 rounded bg-white text-green-700 font-semibold",value:`R$ ${Me.toFixed(2)}`,readOnly:!0})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3",children:[i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx("label",{className:"font-semibold text-gray-700",children:"Observaes:"}),i.jsx("textarea",{value:I,onChange:_e=>F(_e.target.value),className:"min-h-[90px] px-2 py-2 border border-gray-300 rounded"})]}),i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx("label",{className:"font-semibold text-gray-700",children:"Resumo Nota:"}),i.jsx("div",{id:"receipt-print-area",className:"bg-yellow-50 border border-gray-300 p-4 h-full overflow-y-auto font-mono text-xs text-black shadow-inner leading-tight",children:i.jsx("pre",{className:"whitespace-pre-wrap",children:fs()})})]})]})]})]})]}),i.jsx("div",{className:"space-y-4 min-w-0 self-start",children:i.jsxs("div",{className:"space-y-2",children:[i.jsx("span",{className:"inline-block text-xs font-bold text-blue-700 bg-white px-2 py-0.5 rounded shadow-sm",children:"Zonas e mapa"}),i.jsxs("div",{className:"border border-gray-300 rounded bg-white p-4 space-y-3 text-sm",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-[11px] font-bold text-gray-600 uppercase",children:"Orientacao de zona"}),i.jsxs("span",{className:"text-[11px] text-gray-500",children:["Deposito: ",((Jn=b.find(_e=>_e.id===(W||(t==null?void 0:t.depositoId))))==null?void 0:Jn.nome)||"Nao selecionado"]})]}),zt&&Ye&&zt!==Ye&&i.jsxs("div",{className:"text-[11px] text-amber-600",children:["Zona do cadastro: ",Wt||"Nao definida"," / Zona detectada: ",We||"Nao definida"]}),!Ye&&$&&i.jsxs("div",{className:"text-[11px] text-amber-600",children:['Zona nao encontrada para "',$,'".']}),i.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[i.jsx("div",{className:"relative z-0 h-48 rounded border border-gray-200 overflow-hidden",children:i.jsxs(Ub,{center:[n_.lat,n_.lng],zoom:12,className:"w-full h-full",children:[i.jsx(Fb,{attribution:" OSM contributors",url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),i.jsx(lI,{}),i.jsx(oI,{polygons:tt.map(_e=>_e.polygon),activePolygon:Tt}),tt.map(_e=>{const nt=_e.id===Ye;return i.jsx(Tb,{positions:_e.polygon,pathOptions:{color:nt?_e.cor:"#94a3b8",fillColor:_e.cor,fillOpacity:nt?.35:.12,weight:nt?2:1},children:i.jsx(Qb,{sticky:!0,children:_e.nome})},_e.id)})]})}),i.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto pr-1",children:B.length===0?i.jsx("div",{className:"text-xs text-gray-500",children:"Nenhuma zona cadastrada."}):B.map(_e=>{const nt=xr.get(_e.id),Ft=W?nt?`R$ ${Number(nt.price||0).toFixed(2)}`:"Sem preco":"Selecione deposito",rt=_e.id===Ye;return i.jsxs("div",{className:`flex items-center justify-between gap-2 rounded border px-2 py-1 ${rt?"border-blue-400 bg-blue-50":"border-gray-200"}`,children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:_e.cor||"#f97316"}}),i.jsx("span",{className:"text-xs font-semibold text-gray-800",children:_e.nome})]}),i.jsx("span",{className:`text-[11px] font-bold ${rt?"text-blue-700":"text-gray-600"}`,children:Ft})]},_e.id)})})]})]})]})})]}),i.jsxs("div",{className:"flex flex-col gap-3 mt-6 text-sm lg:flex-row lg:items-center",children:[Me>0&&i.jsxs("div",{className:"flex items-center gap-2 text-amber-700 bg-amber-50 border border-amber-200 px-3 py-2 rounded",children:[i.jsx(cd,{className:"w-4 h-4"}),i.jsxs("span",{className:"font-semibold",children:["Pagamento pendente: R$ ",wr(Me)]})]}),i.jsxs("div",{className:"flex justify-end gap-3 lg:ml-auto",children:[i.jsx("button",{onClick:Ns,className:"px-4 py-2 rounded border border-gray-300 text-purple-700 font-semibold",children:"Salvar Nota"}),i.jsx("button",{onClick:jn,className:"px-4 py-2 rounded border border-gray-300 text-purple-700 font-semibold",children:"Imprimir Nota"}),i.jsx("button",{onClick:()=>Hn(!0),className:"px-4 py-2 rounded border border-gray-300 text-purple-700 font-semibold",children:"Pre-visualizar Nota"}),i.jsx("button",{onClick:r,className:"px-4 py-2 rounded border border-gray-300 text-gray-700 font-semibold",children:"Cancelar"}),i.jsx("button",{onClick:br,disabled:ct.length===0||!Re,className:"px-4 py-2 rounded bg-blue-700 hover:bg-blue-800 text-white font-bold disabled:bg-gray-300 disabled:cursor-not-allowed",children:"Salvar O.S"})]})]}),Zt&&kt&&(()=>{const _e=kt.preco_troca??kt.preco_padrao,nt=kt.preco_completa??kt.preco_padrao;return i.jsx("div",{className:"fixed inset-0 z-[80] bg-black/60 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md overflow-hidden",children:[i.jsxs("div",{className:"bg-orange-600 text-white px-4 py-3 flex items-center gap-2",children:[i.jsx("span",{className:"text-xl",children:""}),i.jsx("span",{className:"font-bold",children:"Tipo de Venda"})]}),i.jsxs("div",{className:"p-6",children:[i.jsxs("p",{className:"text-gray-700 mb-2",children:["Voc est vendendo: ",i.jsx("strong",{children:kt.nome})]}),i.jsx("p",{className:"text-gray-600 text-sm mb-6",children:"Como ser a venda deste produto?"}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("button",{onClick:()=>pt("EXCHANGE"),className:"w-full p-4 rounded-lg border-2 border-green-500 bg-green-50 hover:bg-green-100 transition-colors text-left",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("span",{className:"text-2xl",children:""}),i.jsxs("div",{children:[i.jsx("div",{className:"font-bold text-green-800",children:"TROCA"}),i.jsx("div",{className:"text-sm text-green-700",children:"Cliente devolve casco vazio"})]})]}),i.jsx("div",{className:"text-right",children:i.jsxs("div",{className:"text-xl font-black text-green-700",children:["R$ ",_e.toFixed(2)]})})]})}),i.jsx("button",{onClick:()=>pt("FULL"),className:"w-full p-4 rounded-lg border-2 border-blue-500 bg-blue-50 hover:bg-blue-100 transition-colors text-left",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("span",{className:"text-2xl",children:""}),i.jsxs("div",{children:[i.jsx("div",{className:"font-bold text-blue-800",children:"COMPLETA"}),i.jsx("div",{className:"text-sm text-blue-700",children:"Cliente leva o casco (cliente novo)"})]})]}),i.jsx("div",{className:"text-right",children:i.jsxs("div",{className:"text-xl font-black text-blue-700",children:["R$ ",nt.toFixed(2)]})})]})})]})]}),i.jsx("div",{className:"bg-gray-50 px-4 py-3 flex justify-end",children:i.jsx("button",{onClick:bt,className:"px-4 py-2 rounded border border-gray-300 text-gray-600 hover:bg-gray-100",children:"Cancelar"})})]})})})(),Se&&i.jsx(sI,{onClose:()=>Fe(!1),onSave:Zs}),wn&&i.jsx("div",{className:"fixed inset-0 z-[70] bg-black/70 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white w-full max-w-2xl h-[90vh] rounded shadow-2xl border border-gray-300 flex flex-col overflow-hidden",children:[i.jsxs("div",{className:"bg-gray-800 px-4 py-3 flex items-center justify-between text-white",children:[i.jsx("span",{className:"text-sm font-bold uppercase tracking-wide",children:"Pre-visualizacao da Nota"}),i.jsx("button",{onClick:()=>Hn(!1),className:"p-1.5 hover:text-gray-200",children:i.jsx(Pn,{size:18})})]}),i.jsx("div",{className:"flex-1 overflow-y-auto p-4 bg-gray-100",children:i.jsx("div",{className:"bg-yellow-50 border border-gray-300 p-4 h-full font-mono text-xs text-black shadow-inner leading-tight",children:i.jsx("pre",{className:"whitespace-pre-wrap",children:fs()})})}),i.jsx("div",{className:"bg-white border-t border-gray-300 px-4 py-3 flex justify-end gap-2",children:i.jsx("button",{onClick:()=>Hn(!1),className:"px-4 py-2 rounded border border-gray-300 text-gray-700 font-semibold",children:"Fechar"})})]})})]})},dI=({onClose:r,currentUser:e})=>{const[t,n]=q.useState("list"),[a,o]=q.useState("PENDENTE"),[c,d]=q.useState([]),[h,m]=q.useState([]),[g,b]=q.useState([]),[B,_]=q.useState([]),[k,j]=q.useState(null),[T,C]=q.useState(null),I=()=>{n("list"),j(null),C(null)},F=W=>Number(W||0).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),R=W=>{if(!W)return null;const K=B.find($=>$.id===W);return(K==null?void 0:K.nome)||(K==null?void 0:K.username)||W},ae=async()=>{d(await listServiceOrders()),n("list"),j(null),C(null)};q.useEffect(()=>{let W=!0;return(async()=>{const[K,$,re,le]=await Promise.all([listServiceOrders(),listProducts(),listPaymentMethods(),listEmployees()]);if(!W)return;d(K),m($),b(re);const ge=getEmployees()||[],Y=new Set,pe=[...le,...ge].filter(z=>!(z!=null&&z.id)||Y.has(z.id)?!1:(Y.add(z.id),!0));_(pe)})(),()=>{W=!1}},[t]);const Z=q.useMemo(()=>c.filter(W=>a==="TODOS"?!0:a==="PENDENTE"?W.status==="PENDENTE"||W.status==="PENDENTE_ENTREGA":W.status===a).sort((W,K)=>K.dataHoraCriacao-W.dataHoraCriacao),[c,a]),me=async(W,K,$)=>{if(!(K==="CANCELADA"&&!confirm("Deseja realmente cancelar esta O.S?")))try{await updateServiceOrderStatus(W,K,$,CN()||"Operador"),d(await listServiceOrders())}catch(re){console.error(re),alert("No foi possvel atualizar o status da O.S. Verifique os dados e tente novamente.")}},ee=W=>{j(W),n("create")},H=()=>{j(null),n("create")};return t==="create"?i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:i.jsxs("div",{className:"w-full max-w-[1200px] h-[90vh] bg-white rounded shadow-2xl border border-gray-300 flex flex-col overflow-hidden",style:{"--app-bg":"#f7f7f7","--surface-bg":"#ffffff","--text-main":"#1f2937","--text-muted":"#4b5563","--border-color":"#cbd5e1","--primary":"#0b3a64"},children:[i.jsxs("div",{className:"bg-gray-800 px-5 py-3 border-b border-gray-300 flex justify-between items-center shrink-0 text-white",children:[i.jsxs("h2",{className:"text-lg font-bold uppercase tracking-wide flex items-center gap-2",children:[i.jsx(Wi,{className:"w-5 h-5 text-green-300"})," Nova Ordem de Servio"]}),i.jsx("button",{onClick:I,className:"text-gray-200 hover:text-white p-2 rounded",children:i.jsx(Pn,{size:20})})]}),i.jsx("div",{className:"flex-1 overflow-y-auto p-4 bg-[#f2f2f2]",children:i.jsx("div",{className:"bg-white border border-gray-300 rounded-md h-full overflow-y-auto px-3 py-4 shadow-sm text-black",children:i.jsx(uI,{onCancel:I,onSuccess:ae,initialData:k,currentUser:e})})})]})}):i.jsxs("div",{className:"fixed inset-0 bg-app z-50 flex flex-col animate-in slide-in-from-bottom-4 duration-300",children:[i.jsxs("div",{className:"bg-surface border-b border-bdr px-6 py-4 flex flex-col sm:flex-row justify-between items-center shadow-sm shrink-0 gap-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"bg-purple-500/10 p-2.5 rounded-xl border border-purple-500/20",children:i.jsx(Gp,{className:"w-6 h-6 text-purple-600"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-black text-txt-main tracking-tight",children:"Gesto de Ordens de Servio"}),i.jsx("p",{className:"text-xs text-txt-muted font-bold uppercase tracking-widest",children:"Acompanhamento Operacional"})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("button",{onClick:H,className:"bg-purple-600 hover:bg-purple-700 text-white px-5 py-2.5 rounded-xl font-black text-sm shadow-lg shadow-purple-500/20 flex items-center gap-2 transition-transform active:scale-95",children:[i.jsx(Wi,{className:"w-5 h-5"})," NOVA O.S"]}),i.jsx("div",{className:"h-8 w-px bg-bdr mx-2 hidden sm:block"}),i.jsx("button",{onClick:r,className:"p-2 hover:bg-red-500/10 text-txt-muted hover:text-red-500 rounded-full transition-colors",children:i.jsx(Pn,{className:"w-6 h-6"})})]})]}),i.jsx("div",{className:"bg-surface border-b border-bdr px-6",children:i.jsx("div",{className:"flex gap-6 overflow-x-auto",children:[{id:"PENDENTE",label:"Pendentes (Geral)",cor:"text-amber-500 border-amber-500",icon:cd},{id:"PENDENTE_ENTREGA",label:"Aguardando Entrega",cor:"text-orange-500 border-orange-500",icon:Kp},{id:"EM_ANDAMENTO",label:"Em Trnsito/Andamento",cor:"text-blue-500 border-blue-500",icon:No},{id:"CONCLUIDA",label:"Concludas",cor:"text-green-500 border-green-500",icon:Yl},{id:"CANCELADA",label:"Canceladas",cor:"text-red-500 border-red-500",icon:Ch},{id:"TODOS",label:"Todas",cor:"text-txt-main border-txt-main",icon:HE}].map(W=>{const K=W.icon,$=a===W.id;return i.jsxs("button",{onClick:()=>o(W.id),className:`pb-4 pt-4 text-sm font-bold border-b-4 transition-all flex items-center gap-2 whitespace-nowrap ${$?W.cor:"border-transparent text-txt-muted hover:text-txt-main"}`,children:[i.jsx(K,{className:"w-4 h-4"}),W.label]},W.id)})})}),i.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-app",children:i.jsx("div",{className:"max-w-7xl mx-auto space-y-4",children:Z.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-txt-muted opacity-50",children:[i.jsx(Gp,{className:"w-16 h-16 mb-4"}),i.jsx("p",{className:"font-bold text-lg",children:"Nenhuma O.S encontrada nesta categoria."})]}):Z.map(W=>i.jsxs("div",{className:"bg-surface rounded-2xl p-5 border border-bdr shadow-sm hover:shadow-md transition-all flex flex-col md:flex-row items-start md:items-center justify-between gap-6 group relative",children:[i.jsxs("div",{className:"absolute top-5 right-5 md:static md:order-last flex flex-col items-end gap-2",children:[i.jsx(cI,{createdAt:W.dataHoraCriacao,status:W.status}),i.jsxs("button",{onClick:()=>C(W),className:"text-[10px] font-bold text-primary hover:underline flex items-center gap-1",children:[i.jsx(ZE,{className:"w-3 h-3"})," Ver Histrico"]})]}),i.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[i.jsxs("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center text-lg font-black shrink-0 ${W.status==="PENDENTE"?"bg-amber-100 text-amber-600":W.status==="PENDENTE_ENTREGA"?"bg-orange-100 text-orange-600":W.status==="EM_ANDAMENTO"?"bg-blue-100 text-blue-600":W.status==="CONCLUIDA"?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:[W.status==="PENDENTE"&&i.jsx(cd,{className:"w-6 h-6"}),W.status==="PENDENTE_ENTREGA"&&i.jsx(Kp,{className:"w-6 h-6"}),W.status==="EM_ANDAMENTO"&&i.jsx(No,{className:"w-6 h-6"}),W.status==="CONCLUIDA"&&i.jsx(Yl,{className:"w-6 h-6"}),W.status==="CANCELADA"&&i.jsx(Ch,{className:"w-6 h-6"})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsxs("span",{className:"font-mono text-xs font-bold text-txt-muted bg-app px-2 py-0.5 rounded",children:["#",W.numeroOs]}),i.jsx("span",{className:"text-[10px] font-black uppercase text-txt-muted",children:new Date(W.dataHoraCriacao).toLocaleTimeString().slice(0,5)}),W.tipoAtendimento&&i.jsx("span",{className:"text-[9px] font-bold uppercase bg-primary/10 text-primary px-1.5 py-0.5 rounded",children:W.tipoAtendimento})]}),i.jsx("h3",{className:"font-black text-lg text-txt-main",children:W.clienteNome}),i.jsxs("div",{className:"flex items-center gap-1 text-xs text-txt-muted mb-2",children:[i.jsx(jA,{className:"w-3 h-3"}),i.jsx("span",{className:"truncate max-w-md",children:W.enderecoEntrega||"Endereo no informado"})]}),i.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:W.itens.map((K,$)=>{var re;return i.jsxs("span",{className:"text-xs font-bold text-txt-muted bg-app px-2 py-1 rounded border border-bdr",children:[K.quantidade,"x ",(re=h.find(le=>le.id===K.produtoId))==null?void 0:re.nome]},$)})})]})]}),i.jsxs("div",{className:"flex flex-col items-end gap-3 min-w-[150px] mt-4 md:mt-0",children:[i.jsxs("span",{className:"text-xl font-black text-primary",children:["R$ ",W.total.toFixed(2)]}),i.jsx("div",{className:"flex items-center gap-2 opacity-100 transition-opacity",children:W.status!=="CANCELADA"&&W.status!=="CONCLUIDA"&&i.jsxs(i.Fragment,{children:[i.jsxs("button",{onClick:()=>ee(W),className:"px-3 py-1.5 bg-surface border border-bdr hover:bg-app text-txt-main rounded-lg text-xs font-bold shadow-sm flex items-center gap-1",title:"Editar O.S",children:[i.jsx(Ph,{className:"w-3 h-3"})," Editar"]}),i.jsxs("button",{onClick:()=>me(W.id,"CONCLUIDA","Conclusao manual"),className:"px-3 py-1.5 bg-green-500 hover:bg-green-600 text-white rounded-lg text-xs font-bold flex items-center gap-1 shadow-sm",title:"Concluir e lancar financeiro/estoque",children:["Concluir ",i.jsx(Yl,{className:"w-3 h-3"})]}),i.jsx("button",{onClick:()=>me(W.id,"CANCELADA","Cancelamento Manual"),className:"px-3 py-1.5 bg-app border border-bdr hover:bg-red-50 hover:text-red-500 text-txt-muted rounded-lg text-xs font-bold shadow-sm",children:"Cancelar"})]})})]})]},W.id))})}),T&&i.jsx("div",{className:"fixed inset-0 bg-black/60 z-[60] flex items-center justify-center p-4 backdrop-blur-sm animate-in fade-in",children:i.jsxs("div",{className:"bg-surface w-full max-w-3xl rounded-2xl shadow-2xl border border-bdr p-6 space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center border-b border-bdr pb-4",children:[i.jsxs("h3",{className:"text-lg font-black text-txt-main flex items-center gap-2",children:[i.jsx(dm,{className:"w-5 h-5 text-primary"})," Detalhes da O.S #",T.numeroOs]}),i.jsx("button",{onClick:()=>C(null),className:"p-1 hover:bg-app rounded-full",children:i.jsx(Pn,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"rounded-xl border border-bdr bg-app px-4 py-3 space-y-2",children:[i.jsx("p",{className:"text-xs font-bold text-txt-muted uppercase",children:"Cliente"}),i.jsx("p",{className:"text-sm font-black text-txt-main",children:T.clienteNome}),i.jsx("p",{className:"text-xs text-txt-muted",children:T.enderecoEntrega||"Endereco nao informado"}),i.jsxs("div",{className:"flex gap-2 text-[10px] text-txt-muted uppercase font-bold",children:[i.jsx("span",{className:"bg-primary/10 text-primary px-2 py-1 rounded",children:T.tipoAtendimento}),T.entregadorId&&i.jsxs("span",{className:"bg-blue-500/10 text-blue-400 px-2 py-1 rounded",children:["Entregador: ",R(T.entregadorId)]})]})]}),i.jsxs("div",{className:"rounded-xl border border-bdr bg-app px-4 py-3 space-y-2",children:[i.jsx("p",{className:"text-xs font-bold text-txt-muted uppercase",children:"Resumo financeiro"}),i.jsxs("div",{className:"flex items-center justify-between text-sm font-black",children:[i.jsx("span",{className:"text-txt-muted",children:"Total"}),i.jsx("span",{className:"text-primary",children:F(T.total)})]}),i.jsx("div",{className:"space-y-1",children:(T.pagamentos||[]).length===0?i.jsxs("div",{className:"flex items-center justify-between text-xs font-bold text-txt-muted bg-surface px-3 py-2 rounded border border-bdr",children:[i.jsx("span",{children:"Pagamento nao informado"}),i.jsx("span",{className:"text-txt-main",children:F(0)})]}):(T.pagamentos||[]).map((W,K)=>{const $=W.formaPagamentoId??W.payment_method_id??W.paymentMethodId,re=W.valor??W.amount??W.value??0,le=g.find(ge=>ge.id===$);return i.jsxs("div",{className:"flex items-center justify-between text-xs font-bold text-txt-muted bg-surface px-3 py-2 rounded border border-bdr",children:[i.jsx("span",{children:(le==null?void 0:le.nome)||$||"Pagamento"}),i.jsx("span",{className:"text-txt-main",children:F(re)})]},K)})}),i.jsxs("div",{className:"text-[10px] text-txt-muted",children:["Status: ",T.status]})]})]}),i.jsxs("div",{className:"rounded-xl border border-bdr bg-app px-4 py-3 space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("p",{className:"text-xs font-bold text-txt-muted uppercase",children:"Itens"}),i.jsxs("span",{className:"text-[11px] font-bold text-primary",children:[(T.itens||[]).length," itens"]})]}),i.jsx("div",{className:"divide-y divide-bdr",children:(T.itens||[]).map((W,K)=>{const $=h.find(le=>le.id===W.produtoId),re=W.quantidade*W.precoUnitario;return i.jsxs("div",{className:"py-2 flex items-center justify-between text-sm",children:[i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"font-bold text-txt-main",children:($==null?void 0:$.nome)||W.produtoId}),i.jsxs("span",{className:"text-[11px] text-txt-muted uppercase",children:["Qtd ",W.quantidade," - ",F(W.precoUnitario)]})]}),i.jsx("span",{className:"font-black text-primary",children:F(re)})]},K)})})]}),i.jsxs("div",{className:"max-h-[45vh] overflow-y-auto",children:[i.jsx("p",{className:"text-xs font-bold text-txt-muted uppercase mb-2",children:"Linha do tempo"}),i.jsx(AI,{logs:T.historico||[]})]})]})})]})},hI=({onClose:r,onNavigate:e})=>{const[t,n]=q.useState(!1),[a,o]=q.useState(""),[c,d]=q.useState(!1),h=b=>{e&&e(b)},m=()=>{a!=="RESETAR TUDO"||!c||(performFactoryReset(),window.location.reload())},g=({icon:b,title:B,desc:_,onClick:k,colorClass:j="text-primary"})=>i.jsxs("button",{onClick:k,className:"relative group w-full flex items-center justify-between p-6 bg-surface border border-bdr rounded-2xl hover:border-primary/50 hover:shadow-xl transition-all duration-300 overflow-hidden text-left",children:[i.jsxs("div",{className:"z-10 flex flex-col gap-3 max-w-[75%]",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`p-2.5 rounded-xl bg-app border border-bdr ${j} group-hover:scale-110 transition-transform duration-300`,children:i.jsx(b,{className:"w-5 h-5"})}),i.jsx("h3",{className:"font-black text-txt-main text-sm uppercase tracking-wide group-hover:text-primary transition-colors",children:B})]}),i.jsx("p",{className:"text-xs text-txt-muted font-medium leading-relaxed pl-1",children:_})]}),i.jsx("div",{className:`absolute -right-6 top-1/2 -translate-y-1/2 opacity-5 group-hover:opacity-20 transition-opacity transform group-hover:scale-110 group-hover:-rotate-12 duration-500 ${j}`,children:i.jsx(b,{className:"w-32 h-32"})}),i.jsx("div",{className:"absolute right-6 top-1/2 -translate-y-1/2 z-20 opacity-0 group-hover:opacity-100 transition-all duration-300 transform translate-x-4 group-hover:translate-x-0",children:i.jsx("div",{className:"bg-app p-2 rounded-full border border-bdr shadow-sm",children:i.jsx(_b,{className:`w-5 h-5 ${j}`})})})]});return i.jsxs("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md z-50 flex items-center justify-center p-4 sm:p-8 animate-in fade-in duration-300",children:[i.jsxs("div",{className:"bg-app w-full h-full max-w-[1400px] rounded-[2rem] shadow-2xl flex flex-col overflow-hidden relative border border-bdr",children:[i.jsxs("div",{className:"bg-surface border-b border-bdr px-8 py-6 flex justify-between items-center shrink-0",children:[i.jsxs("div",{children:[i.jsxs("h2",{className:"text-2xl font-black text-txt-main tracking-tight flex items-center gap-3",children:[i.jsx(hd,{className:"w-8 h-8 text-primary animate-spin-slow"}),"Painel de Controle"]}),i.jsx("p",{className:"text-sm text-txt-muted font-bold mt-1",children:"Central Administrativa & Configuraes do Sistema"})]}),i.jsxs("button",{onClick:r,className:"group flex items-center gap-2 px-5 py-2.5 rounded-full border border-bdr hover:bg-red-50 hover:border-red-200 hover:text-red-500 transition-all text-txt-muted font-bold text-xs uppercase tracking-widest",children:[i.jsx("span",{children:"Fechar Painel"}),i.jsx("div",{className:"bg-txt-muted group-hover:bg-red-500 w-5 h-5 rounded-full flex items-center justify-center text-white transition-colors",children:i.jsx(Pn,{className:"w-3 h-3"})})]})]}),i.jsx("div",{className:"flex-1 overflow-y-auto p-8 bg-app",children:i.jsxs("div",{className:"max-w-7xl mx-auto space-y-12",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("h3",{className:"text-xs font-black text-primary uppercase tracking-[0.2em] flex items-center gap-2 border-b border-bdr pb-2",children:[i.jsx(RS,{className:"w-4 h-4"}),"Estrutura & Acessos"]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.jsx(g,{icon:SA,title:"Colaboradores",desc:"Gerencie acessos, logins e permisses de usurios por depsito.",onClick:()=>h("colaboradores"),colorClass:"text-blue-500"})})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("h3",{className:"text-xs font-black text-primary uppercase tracking-[0.2em] flex items-center gap-2 border-b border-bdr pb-2",children:[i.jsx(_x,{className:"w-4 h-4"}),"Financeiro & Regras de Venda"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsx(g,{icon:p5,title:"Formas de Pagamento & Mquinas",desc:"Cadastre taxas de maquininhas, prazos de recebimento e mtodos aceitos.",onClick:()=>h("sales-modalities"),colorClass:"text-emerald-500"}),i.jsx(g,{icon:Eh,title:"Modalidades de Venda",desc:"Configure regras para Venda, Troca, Casco e como movimentam o estoque.",onClick:()=>h("transaction-modalities"),colorClass:"text-teal-500"}),i.jsx(g,{icon:No,title:"Taxas de Entrega",desc:"Defina zonas, bairros e valores de taxa de entrega por deposito.",onClick:()=>h("delivery-settings"),colorClass:"text-orange-500"})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("h3",{className:"text-xs font-black text-primary uppercase tracking-[0.2em] flex items-center gap-2 border-b border-bdr pb-2",children:[i.jsx(v5,{className:"w-4 h-4"}),"Segurana & Logs"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[i.jsx(g,{icon:Sb,title:"Centro de Alertas",desc:"Ative ou desative notificaes financeiras e operacionais.",onClick:()=>h("alertas"),colorClass:"text-orange-500"}),i.jsx(g,{icon:b5,title:"Auditoria Completa",desc:"Visualize o log detalhado de todas as aes realizadas no sistema.",onClick:()=>h("auditoria"),colorClass:"text-amber-500"}),i.jsxs("button",{onClick:()=>n(!0),className:"group relative flex flex-col items-center justify-center p-6 bg-red-50 border-2 border-red-100 rounded-2xl hover:bg-red-600 hover:border-red-600 transition-all duration-300 text-center overflow-hidden",children:[i.jsx("div",{className:"absolute right-0 top-0 opacity-5 group-hover:opacity-20 text-white transition-opacity transform translate-x-4 -translate-y-4",children:i.jsx(kp,{className:"w-32 h-32"})}),i.jsx("div",{className:"bg-red-200 text-red-600 group-hover:bg-white group-hover:text-red-600 p-4 rounded-full mb-3 transition-colors z-10 shadow-sm",children:i.jsx(kp,{className:"w-8 h-8"})}),i.jsx("h3",{className:"font-black text-red-700 group-hover:text-white text-sm uppercase tracking-widest mb-1 z-10 transition-colors",children:"Reset Geral"}),i.jsx("p",{className:"text-xs text-red-500 group-hover:text-red-100 leading-tight px-4 z-10 font-medium transition-colors",children:"Apagar todos os dados e reiniciar o sistema"})]})]})]})]})}),i.jsx("div",{className:"bg-app border-t border-bdr p-4 text-center",children:i.jsx("p",{className:"text-[10px] text-txt-muted font-bold uppercase tracking-widest opacity-60",children:"Sistema Verso 2.5.0  Acesso Administrativo Concedido"})})]}),t&&i.jsx("div",{className:"fixed inset-0 bg-red-950/80 backdrop-blur-sm z-[60] flex items-center justify-center p-4 animate-in fade-in duration-200",children:i.jsxs("div",{className:"bg-white w-full max-w-lg rounded-3xl shadow-2xl p-8 border-4 border-red-600 text-center space-y-6",children:[i.jsx("div",{className:"mx-auto w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mb-2 animate-bounce",children:i.jsx(kp,{className:"w-10 h-10 text-red-600"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-3xl font-black text-red-700 mb-2",children:"PERIGO!"}),i.jsxs("p",{className:"text-gray-600 font-medium",children:["Esta ao ir ",i.jsx("strong",{children:"APAGAR TODOS OS DADOS"})," do sistema: Estoque, Vendas, Clientes, Colaboradores e Configuraes."]}),i.jsx("p",{className:"text-red-600 font-bold text-sm mt-2 uppercase bg-red-50 inline-block px-3 py-1 rounded",children:"Esta ao  irreversvel."})]}),i.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl text-left space-y-3 border border-gray-200 shadow-inner",children:[i.jsxs("label",{className:"block text-xs font-bold text-gray-500 uppercase",children:["Digite ",i.jsx("span",{className:"text-red-600",children:"RESETAR TUDO"})," para confirmar:"]}),i.jsx("input",{type:"text",value:a,onChange:b=>o(b.target.value),className:"w-full border-2 border-gray-300 rounded-lg p-3 font-black text-red-600 focus:border-red-600 outline-none uppercase placeholder:text-gray-300",placeholder:"RESETAR TUDO"}),i.jsxs("label",{className:"flex items-center gap-3 cursor-pointer mt-2 select-none",children:[i.jsx("input",{type:"checkbox",checked:c,onChange:b=>d(b.target.checked),className:"w-5 h-5 accent-red-600"}),i.jsx("span",{className:"text-sm font-bold text-gray-700",children:"Entendo que perderei todos os dados."})]})]}),i.jsxs("div",{className:"flex gap-4",children:[i.jsx("button",{onClick:()=>n(!1),className:"flex-1 py-4 font-bold text-gray-500 hover:bg-gray-100 rounded-xl transition-colors",children:"Cancelar"}),i.jsxs("button",{onClick:m,disabled:a!=="RESETAR TUDO"||!c,className:"flex-1 py-4 bg-red-600 hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed text-white font-black rounded-xl shadow-lg shadow-red-500/30 transition-all flex items-center justify-center gap-2",children:[i.jsx(Gs,{className:"w-5 h-5"})," APAGAR TUDO"]})]})]})})]})},ll=r=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(r||0),mp=({label:r,value:e,trend:t,trendValue:n,icon:a,color:o})=>i.jsxs("div",{className:"bg-surface p-5 rounded-xl shadow-sm border border-bdr relative overflow-hidden group transition-colors duration-300",children:[i.jsx("div",{className:`absolute right-0 top-0 p-4 opacity-5 group-hover:opacity-10 transition-opacity ${o}`,children:i.jsx(a,{className:"w-16 h-16"})}),i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx("div",{className:`p-2 rounded-lg ${o.replace("text-","bg-").replace("600","100")} ${o} bg-opacity-10`,children:i.jsx(a,{className:"w-5 h-5"})}),i.jsx("span",{className:"text-txt-muted text-sm font-medium",children:r})]}),i.jsx("div",{className:"text-2xl font-bold text-txt-main mb-1",children:e}),t&&i.jsxs("div",{className:`flex items-center text-xs font-medium ${t==="up"?"text-green-500":"text-red-500"}`,children:[t==="up"?i.jsx(Lp,{className:"w-3 h-3 mr-1"}):i.jsx(h5,{className:"w-3 h-3 mr-1"}),n," vs. ontem"]})]}),fI=({onClose:r})=>{const[e,t]=q.useState("deposito"),[n,a]=q.useState([]),[o,c]=q.useState([]),[d,h]=q.useState([]),[m,g]=q.useState(!1),[b,B]=q.useState(null),[_,k]=q.useState(()=>new Date().toISOString().slice(0,10)),[j,T]=q.useState(()=>new Date().toISOString().slice(0,10)),C=Z=>new Date(`${Z}T00:00:00`).getTime(),I=Z=>{if(!Z)return 0;if(typeof Z=="number")return Z;if(typeof Z=="string"){const ee=Z.trim();if(ee&&!Number.isNaN(Number(ee)))return Number(ee)}const me=new Date(Z).getTime();return Number.isNaN(me)?0:me},F=Z=>{const me=Z.historico_json??Z.historico??Z.history??[],ee=I(Z.data_hora_criacao??Z.dataHoraCriacao??Z.created_at_ms??Z.created_at??Z.createdAt??0),H=I(Z.data_hora_conclusao??Z.dataHoraConclusao??Z.completed_at??Z.completedAt??0),W=normalizeDepositId(Z);return{id:String(Z.id??""),numeroOs:String(Z.numero_os??Z.numeroOs??Z.order_number??Z.orderNumber??Z.number??Z.id??""),depositoId:W.depositoId,clienteId:Z.cliente_id??Z.clienteId??Z.client_id??Z.clientId??null,clienteNome:Z.cliente_nome??Z.clienteNome??Z.client_name??Z.clientName??"",entregadorId:Z.entregador_id??Z.entregadorId??Z.driver_id??Z.driverId??null,status:Z.status??Z.order_status??"PENDENTE",statusEntrega:Z.status_entrega??Z.statusEntrega??Z.delivery_status??null,tipoAtendimento:Z.tipo_atendimento??Z.tipoAtendimento??Z.service_type??"BALCAO",total:Number(Z.total??Z.total_amount??Z.amount??0)||0,historico:Array.isArray(me)?me:[],createdAtMs:ee,concludedAtMs:H}};q.useEffect(()=>{(async()=>{g(!0);try{const[me,ee,H]=await Promise.all([listServiceOrders(),listDeposits(),listEmployees()]),W=C(_),K=C(j)+1440*60*1e3-1,re=me.map(F).filter(le=>le.createdAtMs>=W&&le.createdAtMs<=K);a(re),c(ee),h(H)}catch(me){console.error("Erro ao buscar dados do resumo:",me),B(me.message)}finally{g(!1)}})()},[_,j]);const R=q.useMemo(()=>{const Z=new Map;o.forEach(z=>{const ve=z.nome??z.name??z.id??"";z.id&&Z.set(String(z.id),String(ve))});const me=new Map;d.forEach(z=>{const ve=z.nome??z.name??z.username??z.id??"";z.id&&me.set(String(z.id),String(ve))});const ee=n.reduce((z,ve)=>z+(ve.total||0),0),H=n.filter(z=>z.status==="CONCLUIDA").length,W=new Set(n.map(z=>z.clienteId||z.clienteNome||"")).size,K=n.filter(z=>z.statusEntrega==="CONCLUIDA").length,$=n.length?Math.round(K/n.length*100):0,re=n.reduce((z,ve)=>{const V=normalizeDepositId(ve).depositoId||"SEM_DEP",O=Z.get(String(V))||String(V);return z[V]||(z[V]={depositoId:String(V),depositoNome:O,count:0,deliveries:0,pickups:0,gross:0,discounts:0}),z[V].count+=1,z[V].gross+=ve.total||0,z[V].deliveries+=ve.tipoAtendimento==="DELIVERY"?1:0,z[V].pickups+=ve.tipoAtendimento==="BALCAO"?1:0,z},{}),le=z=>{const we=(Array.isArray(z.historico)?z.historico:[]).find(O=>String(O.acao??O.action??"").toLowerCase().includes("cri"));return((we==null?void 0:we.usuario)??(we==null?void 0:we.user)??(we==null?void 0:we.username)??(we==null?void 0:we.usuarioNome)??null)||"Sistema"},ge=n.reduce((z,ve)=>{const we=le(ve);return z[we]||(z[we]={name:we,count:0,gross:0}),z[we].count+=1,z[we].gross+=ve.total||0,z},{}),Y=n.reduce((z,ve)=>{const we=ve.entregadorId?String(ve.entregadorId):"";if(!we)return z;const V=me.get(we)||we;return z[we]||(z[we]={id:we,name:V,count:0,gross:0}),z[we].count+=1,z[we].gross+=ve.total||0,z},{}),pe=Object.values(re).reduce((z,ve)=>(z.count+=ve.count,z.deliveries+=ve.deliveries,z.pickups+=ve.pickups,z.gross+=ve.gross,z.discounts+=ve.discounts,z),{count:0,deliveries:0,pickups:0,gross:0,discounts:0});return{totalSales:ee,concluded:H,uniqueClients:W,deliveryRate:$,byDeposit:Object.values(re),bySeller:Object.values(ge),byDriver:Object.values(Y),consolidated:pe}},[n,o,d]),ae=q.useMemo(()=>{const Z=[];n.forEach(ee=>{ee.historico&&ee.historico.forEach(H=>{Z.push({osNum:ee.numeroOs,log:H})})});const me=ee=>{if(typeof ee=="number")return ee;const H=new Date(ee).getTime();return Number.isNaN(H)?0:H};return Z.sort((ee,H)=>me(H.log.data)-me(ee.log.data)),Z.slice(0,50)},[n]);return i.jsxs("div",{className:"fixed inset-0 bg-app z-50 flex flex-col animate-in slide-in-from-bottom-4 duration-300 transition-colors",children:[i.jsxs("div",{className:"bg-surface border-b border-bdr px-6 py-4 flex flex-col sm:flex-row justify-between items-start sm:items-center shadow-sm shrink-0 gap-4 transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"bg-indigo-600 p-2.5 rounded-xl shadow-md shadow-indigo-500/20",children:i.jsx(ah,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold text-txt-main tracking-tight",children:"Resumo Gerencial"}),i.jsx("p",{className:"text-sm text-txt-muted",children:"Viso geral de desempenho e estoque"})]})]}),i.jsxs("div",{className:"flex items-center gap-4 w-full sm:w-auto",children:[i.jsxs("div",{className:"flex items-center bg-app border border-bdr rounded-xl p-1 shadow-sm w-full sm:w-auto transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-2 px-3 border-r border-bdr",children:[i.jsx(hm,{className:"w-4 h-4 text-txt-muted"}),i.jsx("input",{type:"date",className:"bg-transparent border-none text-xs font-bold text-txt-main focus:ring-0 p-0 w-28 appearance-none outline-none",value:_,onChange:Z=>k(Z.target.value)})]}),i.jsxs("div",{className:"flex items-center gap-2 px-3",children:[i.jsx("span",{className:"text-[10px] font-black text-txt-muted uppercase tracking-tighter",children:"at"}),i.jsx("input",{type:"date",className:"bg-transparent border-none text-xs font-bold text-txt-main focus:ring-0 p-0 w-28 appearance-none outline-none",value:j,onChange:Z=>T(Z.target.value)})]}),i.jsx("button",{className:"bg-indigo-600 hover:bg-indigo-700 text-white px-5 py-2 rounded-lg text-xs font-bold transition-all active:scale-95 shadow-sm ml-1",children:"Atualizar"})]}),i.jsx("button",{onClick:r,className:"p-2 bg-app hover:bg-red-50 text-txt-muted hover:text-red-500 rounded-full transition-colors shrink-0 border border-bdr",title:"Fechar",children:i.jsx(Pn,{className:"w-6 h-6"})})]})]}),i.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-8 bg-app transition-colors",children:i.jsxs("div",{className:"max-w-[1600px] mx-auto space-y-8",children:[m&&i.jsx("div",{className:"text-xs font-bold text-txt-muted",children:"Carregando dados do resumo..."}),!m&&b&&i.jsxs("div",{className:"text-xs font-bold text-red-500",children:["Erro ao carregar resumo: ",b]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xs font-bold text-txt-muted uppercase tracking-wider mb-4 px-1",children:"Indicadores do Perodo"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsx(mp,{label:"Vendas Totais",value:ll(R.totalSales),trend:null,icon:g5,color:"text-emerald-600"}),i.jsx(mp,{label:"Pedidos Concludos",value:R.concluded,trend:null,icon:Zl,color:"text-blue-600"}),i.jsx(mp,{label:"Novos Clientes",value:R.uniqueClients,trend:null,icon:SA,color:"text-violet-600"}),i.jsx(mp,{label:"Entregas Realizadas",value:`${R.deliveryRate}%`,trend:null,icon:No,color:"text-orange-500"})]})]}),i.jsxs("div",{className:"bg-surface rounded-xl shadow-sm border border-bdr overflow-hidden transition-colors",children:[i.jsx("div",{className:"border-b border-bdr px-6 pt-4 bg-app/30",children:i.jsx("div",{className:"flex gap-8",children:[{id:"deposito",label:"Por Depsito"},{id:"vendedor",label:"Por Vendedor"},{id:"entregador",label:"Por Entregador"},{id:"logs",label:"Rastreio & Logs"}].map(Z=>i.jsxs("button",{onClick:()=>t(Z.id),className:`pb-4 text-sm font-bold transition-all relative ${e===Z.id?"text-indigo-600":"text-txt-muted hover:text-txt-main"}`,children:[Z.label,e===Z.id&&i.jsx("div",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-indigo-600 rounded-t-full"})]},Z.id))})}),i.jsx("div",{className:"p-6",children:e==="logs"?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("h3",{className:"text-sm font-black text-txt-main uppercase flex items-center gap-2",children:[i.jsx(dm,{className:"w-4 h-4 text-orange-500"}),"ltimas Atividades do Sistema"]}),i.jsx("div",{className:"border border-bdr rounded-xl overflow-hidden",children:i.jsxs("table",{className:"w-full text-sm text-left",children:[i.jsx("thead",{className:"bg-app text-xs font-bold text-txt-muted uppercase border-b border-bdr",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3",children:"Data / Hora"}),i.jsx("th",{className:"px-6 py-3",children:"O.S #"}),i.jsx("th",{className:"px-6 py-3",children:"Usurio"}),i.jsx("th",{className:"px-6 py-3",children:"Ao"}),i.jsx("th",{className:"px-6 py-3",children:"Detalhes"})]})}),i.jsxs("tbody",{className:"divide-y divide-bdr",children:[ae.map((Z,me)=>i.jsxs("tr",{className:"hover:bg-app transition-colors",children:[i.jsx("td",{className:"px-6 py-3 font-mono text-xs text-txt-muted",children:new Date(Z.log.data).toLocaleString()}),i.jsx("td",{className:"px-6 py-3 font-bold text-indigo-600",children:Z.osNum}),i.jsx("td",{className:"px-6 py-3 font-medium text-txt-main",children:Z.log.usuario}),i.jsx("td",{className:"px-6 py-3",children:i.jsx("span",{className:`px-2 py-1 rounded text-[10px] font-black uppercase ${Z.log.acao.includes("Edio")?"bg-amber-100 text-amber-700":Z.log.acao.includes("Criao")?"bg-green-100 text-green-700":"bg-blue-100 text-blue-700"}`,children:Z.log.acao})}),i.jsx("td",{className:"px-6 py-3 text-txt-muted italic",children:Z.log.detalhe})]},me)),ae.length===0&&i.jsx("tr",{children:i.jsx("td",{colSpan:5,className:"p-8 text-center text-txt-muted",children:"Nenhum registro recente encontrado."})})]})]})})]}):e==="deposito"?i.jsxs("table",{className:"w-full text-sm text-left",children:[i.jsx("thead",{className:"bg-app text-xs uppercase font-bold text-txt-muted border-b border-bdr",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3 rounded-l-lg",children:"Depsito"}),i.jsx("th",{className:"px-4 py-3 text-center",children:"Qtd. O.S"}),i.jsx("th",{className:"px-4 py-3 text-center",children:"Entregas"}),i.jsx("th",{className:"px-4 py-3 text-center",children:"Balco"}),i.jsx("th",{className:"px-4 py-3 text-right",children:"Valor Bruto"}),i.jsx("th",{className:"px-4 py-3 text-right",children:"Descontos"}),i.jsx("th",{className:"px-4 py-3 rounded-r-lg text-right",children:"Valor Lquido"})]})}),i.jsxs("tbody",{className:"divide-y divide-bdr",children:[R.byDeposit.length===0&&i.jsx("tr",{children:i.jsx("td",{colSpan:7,className:"px-4 py-6 text-center text-txt-muted font-medium",children:"Nenhum dado encontrado para o perodo."})}),R.byDeposit.map(Z=>i.jsxs("tr",{className:"hover:bg-app transition-colors",children:[i.jsx("td",{className:"px-4 py-4 font-bold text-txt-main",children:Z.depositoNome}),i.jsx("td",{className:"px-4 py-4 text-center font-medium text-txt-main",children:Z.count}),i.jsx("td",{className:"px-4 py-4 text-center font-medium text-txt-main",children:Z.deliveries}),i.jsx("td",{className:"px-4 py-4 text-center font-medium text-txt-main",children:Z.pickups}),i.jsx("td",{className:"px-4 py-4 text-right font-medium text-txt-main",children:ll(Z.gross)}),i.jsx("td",{className:"px-4 py-4 text-right text-red-500 font-bold",children:Z.discounts?`-${ll(Z.discounts)}`:ll(0)}),i.jsx("td",{className:"px-4 py-4 font-black text-txt-main text-right",children:ll(Z.gross-Z.discounts)})]},Z.depositoId))]}),R.byDeposit.length>0&&i.jsx("tfoot",{className:"border-t-2 border-bdr bg-app/50",children:i.jsxs("tr",{className:"font-black text-txt-main",children:[i.jsx("td",{className:"px-4 py-5 text-indigo-600 uppercase text-xs",children:"Total Consolidado"}),i.jsx("td",{className:"px-4 py-5 text-center",children:R.consolidated.count}),i.jsx("td",{className:"px-4 py-5 text-center",children:R.consolidated.deliveries}),i.jsx("td",{className:"px-4 py-5 text-center",children:R.consolidated.pickups}),i.jsx("td",{className:"px-4 py-5 text-right text-txt-muted",children:ll(R.consolidated.gross)}),i.jsx("td",{className:"px-4 py-5 text-right text-red-600",children:R.consolidated.discounts?`-${ll(R.consolidated.discounts)}`:ll(0)}),i.jsx("td",{className:"px-4 py-5 text-indigo-600 text-lg text-right",children:ll(R.consolidated.gross-R.consolidated.discounts)})]})})]}):e==="vendedor"?i.jsxs("table",{className:"w-full text-sm text-left",children:[i.jsx("thead",{className:"bg-app text-xs uppercase font-bold text-txt-muted border-b border-bdr",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3 rounded-l-lg",children:"Vendedor"}),i.jsx("th",{className:"px-4 py-3 text-center",children:"Qtd. O.S"}),i.jsx("th",{className:"px-4 py-3 text-right rounded-r-lg",children:"Valor Bruto"})]})}),i.jsxs("tbody",{className:"divide-y divide-bdr",children:[R.bySeller.length===0&&i.jsx("tr",{children:i.jsx("td",{colSpan:3,className:"px-4 py-6 text-center text-txt-muted font-medium",children:"Nenhum dado encontrado para o periodo."})}),R.bySeller.map(Z=>i.jsxs("tr",{className:"hover:bg-app transition-colors",children:[i.jsx("td",{className:"px-4 py-4 font-bold text-txt-main",children:Z.name}),i.jsx("td",{className:"px-4 py-4 text-center font-medium text-txt-main",children:Z.count}),i.jsx("td",{className:"px-4 py-4 text-right font-medium text-txt-main",children:ll(Z.gross)})]},Z.name))]})]}):e==="entregador"?i.jsxs("table",{className:"w-full text-sm text-left",children:[i.jsx("thead",{className:"bg-app text-xs uppercase font-bold text-txt-muted border-b border-bdr",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3 rounded-l-lg",children:"Entregador"}),i.jsx("th",{className:"px-4 py-3 text-center",children:"Qtd. O.S"}),i.jsx("th",{className:"px-4 py-3 text-right rounded-r-lg",children:"Valor Bruto"})]})}),i.jsxs("tbody",{className:"divide-y divide-bdr",children:[R.byDriver.length===0&&i.jsx("tr",{children:i.jsx("td",{colSpan:3,className:"px-4 py-6 text-center text-txt-muted font-medium",children:"Nenhum dado encontrado para o periodo."})}),R.byDriver.map(Z=>i.jsxs("tr",{className:"hover:bg-app transition-colors",children:[i.jsx("td",{className:"px-4 py-4 font-bold text-txt-main",children:Z.name}),i.jsx("td",{className:"px-4 py-4 text-center font-medium text-txt-main",children:Z.count}),i.jsx("td",{className:"px-4 py-4 text-right font-medium text-txt-main",children:ll(Z.gross)})]},Z.id))]})]}):i.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-txt-muted bg-app/50 rounded-2xl border border-dashed border-bdr",children:[i.jsx("div",{className:"bg-surface p-6 rounded-full mb-4 shadow-sm border border-bdr",children:i.jsx(Xl,{className:"w-10 h-10 text-txt-muted"})}),i.jsx("p",{className:"font-bold text-txt-muted",children:"Nenhum dado encontrado"}),i.jsx("p",{className:"text-xs mt-1",children:"Selecione um filtro ou altere a data para visualizar os detalhes desta aba."})]})})]})]})})]})};function pI(){return crypto.randomUUID()}function mI({isOpen:r,onClose:e}){const[t,n]=q.useState(""),[a,o]=q.useState(""),[c,d]=q.useState(""),[h,m]=q.useState("FIXA"),[g,b]=q.useState(0),[B,_]=q.useState(!1),[k,j]=q.useState(!1);if(!r)return null;const T=async()=>{if(!t||!a||!c){alert("Preencha os campos obrigatrios.");return}try{j(!0);const C=new Date().toISOString(),I={id:pI(),description:t,amount:parseFloat(a),due_date:c,status:B?"PAGO":"PENDENTE",paid_date:B?C:null,category:h,is_fixed:h==="FIXA"||h==="SALARIO",deposit_id:null,alert_days_before:Number(g),created_at:C,updated_at:C};await db.expenses.put(I),await enqueueOutboxEvent({entity:"expenses",action:"UPSERT",entity_id:I.id,payload_json:I}),alert("Despesa salva com sucesso!"),e()}catch(C){console.error("Erro ao salvar despesa:",C),alert("Erro ao salvar.")}finally{j(!1)}};return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg w-full max-w-md text-white",children:[i.jsx("h2",{className:"text-xl font-bold mb-4",children:"Nova Despesa"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm mb-1",children:"Descrio"}),i.jsx("input",{className:"w-full p-2 rounded bg-gray-700 border border-gray-600",value:t,onChange:C=>n(C.target.value),placeholder:"Ex: Conta de Luz"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm mb-1",children:"Valor (R$)"}),i.jsx("input",{type:"number",className:"w-full p-2 rounded bg-gray-700 border border-gray-600",value:a,onChange:C=>o(C.target.value),placeholder:"0.00"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm mb-1",children:"Vencimento"}),i.jsx("input",{type:"date",className:"w-full p-2 rounded bg-gray-700 border border-gray-600",value:c,onChange:C=>d(C.target.value)})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm mb-1",children:"Categoria"}),i.jsxs("select",{className:"w-full p-2 rounded bg-gray-700 border border-gray-600",value:h,onChange:C=>m(C.target.value),children:[i.jsx("option",{value:"FIXA",children:"Despesa Fixa"}),i.jsx("option",{value:"VARIAVEL",children:"Despesa Varivel"}),i.jsx("option",{value:"SALARIO",children:"Salrio / Pessoal"}),i.jsx("option",{value:"IMPOSTO",children:"Imposto"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm mb-1",children:"Alerta Vencimento"}),i.jsxs("select",{className:"w-full p-2 rounded bg-gray-700 border border-gray-600",value:g,onChange:C=>b(Number(C.target.value)),children:[i.jsx("option",{value:0,children:"Sem alerta"}),i.jsx("option",{value:1,children:"1 dia antes"}),i.jsx("option",{value:2,children:"2 dias antes"}),i.jsx("option",{value:3,children:"3 dias antes"})]})]})]}),i.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[i.jsx("input",{type:"checkbox",id:"paidCheck",checked:B,onChange:C=>_(C.target.checked),className:"w-4 h-4"}),i.jsx("label",{htmlFor:"paidCheck",className:"text-sm cursor-pointer select-none",children:"J est pago? (Baixa automtica)"})]})]}),i.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[i.jsx("button",{onClick:e,className:"px-4 py-2 rounded bg-gray-600 hover:bg-gray-500",children:"Cancelar"}),i.jsx("button",{onClick:T,disabled:k,className:"px-4 py-2 rounded bg-orange-500 hover:bg-orange-600 disabled:opacity-50",children:k?"Salvando...":"Salvar Despesa"})]})]})})}function gI({isOpen:r,onClose:e}){const[t,n]=q.useState(""),[a,o]=q.useState(""),[c,d]=q.useState(""),[h,m]=q.useState(""),[g,b]=q.useState(!1),[B,_]=q.useState(1),[k,j]=q.useState([]),[T,C]=q.useState(!1);if(q.useEffect(()=>{r&&db.clients.toArray().then(F=>j(F))},[r]),!r)return null;const I=async()=>{var F;if(!t||!a||!c){alert("Preencha descrio, valor e vencimento.");return}try{C(!0);const R=parseFloat(a);if(Number.isNaN(R)||R<=0){alert("Informe um valor vlido.");return}const ae=new Date(`${c}T00:00:00`).getTime();if(!Number.isFinite(ae)){alert("Data de vencimento invlida.");return}await createReceivable({os_id:null,payment_method_id:null,deposit_id:null,devedor_nome:h?((F=k.find(Z=>Z.id===h))==null?void 0:F.nome)||"Cliente":t,valor_total:R,status:"ABERTO",criado_em:Date.now(),vencimento_em:ae,description:t,client_id:h||null,is_personal:g,alert_days_before:B,installment_no:1,installments_total:1}),alert("Conta a receber criada com sucesso!"),e(),n(""),o(""),d(""),m(""),b(!1),_(1)}catch(R){console.error(R),alert("Erro ao salvar.")}finally{C(!1)}};return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg w-full max-w-md text-white",children:[i.jsx("h2",{className:"text-xl font-bold mb-4 text-green-400",children:"Nova Conta a Receber"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm mb-1",children:"Descrio"}),i.jsx("input",{className:"w-full p-2 rounded bg-gray-700 border border-gray-600",value:t,onChange:F=>n(F.target.value),placeholder:"Ex: Emprstimo, Venda sem nota..."})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm mb-1",children:"Valor (R$)"}),i.jsx("input",{type:"number",className:"w-full p-2 rounded bg-gray-700 border border-gray-600",value:a,onChange:F=>o(F.target.value),placeholder:"0.00"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm mb-1",children:"Vencimento"}),i.jsx("input",{type:"date",className:"w-full p-2 rounded bg-gray-700 border border-gray-600",value:c,onChange:F=>d(F.target.value)})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm mb-1",children:"Cliente (Opcional)"}),i.jsxs("select",{className:"w-full p-2 rounded bg-gray-700 border border-gray-600",value:h,onChange:F=>m(F.target.value),children:[i.jsx("option",{value:"",children:"Selecione um cliente..."}),k.map(F=>i.jsx("option",{value:F.id,children:F.nome},F.id))]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[i.jsx("input",{type:"checkbox",className:"w-4 h-4",checked:g,onChange:F=>b(F.target.checked)}),"Marcar como conta pessoal"]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm mb-1",children:"Alertar antes"}),i.jsxs("select",{className:"w-full p-2 rounded bg-gray-700 border border-gray-600",value:B,onChange:F=>_(Number(F.target.value)),children:[i.jsx("option",{value:0,children:"Sem alerta"}),i.jsx("option",{value:1,children:"1 dia"}),i.jsx("option",{value:2,children:"2 dias"}),i.jsx("option",{value:3,children:"3 dias"}),i.jsx("option",{value:5,children:"5 dias"})]})]})]})]}),i.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[i.jsx("button",{onClick:e,className:"px-4 py-2 rounded bg-gray-600 hover:bg-gray-500",children:"Cancelar"}),i.jsx("button",{onClick:I,disabled:T,className:"px-4 py-2 rounded bg-green-600 hover:bg-green-700 disabled:opacity-50",children:T?"Salvando...":"Criar Conta"})]})]})})}const s_=2e4,Y0="00000000-0000-0000-0000-000000000001";function xI({isOpen:r,onClose:e,defaultGoal:t}){const[n,a]=q.useState(""),[o,c]=q.useState(""),[d,h]=q.useState(!1);if(q.useEffect(()=>{if(!r)return;(async()=>{const b=db.financial_settings,k=await b.get(Y0)??await b.toCollection().first()??null,j=(k==null?void 0:k.id)??Y0;c(j),(k==null?void 0:k.monthly_goal)!=null?a(String(k.monthly_goal)):t!=null?a(String(t)):a(String(s_))})()},[r,t]),!r)return null;const m=async()=>{const g=Number(n);if(Number.isNaN(g)||g<0){alert("Informe um valor vlido para a meta mensal.");return}try{h(!0);const b=Y0,B={id:b,monthly_goal:g,updated_at:new Date().toISOString()};await db.financial_settings.put(B),await enqueueOutboxEvent({entity:"financial_settings",action:"UPSERT",entity_id:b,payload_json:B}),e()}catch(b){console.error("Erro ao salvar meta mensal",b),alert("No foi possvel salvar a meta.")}finally{h(!1)}};return i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:i.jsxs("div",{className:"w-full max-w-md rounded-xl bg-surface border border-bdr shadow-2xl p-6 space-y-6 animate-in zoom-in-95 duration-200",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-black uppercase tracking-widest text-txt-muted",children:"Configurao"}),i.jsx("h2",{className:"text-xl font-black text-txt-main",children:"Meta Mensal de Faturamento"})]}),i.jsx("button",{onClick:e,className:"text-txt-muted hover:text-txt-main transition-colors","aria-label":"Fechar",children:""})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-bold text-txt-muted uppercase tracking-wide",children:"Valor da Meta (R$)"}),i.jsxs("div",{className:"relative",children:[i.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-txt-muted font-bold",children:"R$"}),i.jsx("input",{type:"number",min:"0",step:"100",className:"w-full bg-app border border-bdr rounded-xl p-3 pl-10 text-lg font-black text-txt-main focus:ring-2 focus:ring-yellow-500 outline-none",value:n,onChange:g=>a(g.target.value),placeholder:String(s_)})]}),i.jsx("p",{className:"text-[11px] text-txt-muted font-medium",children:'Defina o alvo mensal que aparecer no carto de "Meta Mensal" e ser sincronizado com o servidor.'})]}),i.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[i.jsx("button",{onClick:e,className:"px-4 py-2 rounded-lg border border-bdr text-txt-muted hover:text-txt-main hover:border-txt-main/40 transition-colors",type:"button",children:"Cancelar"}),i.jsx("button",{onClick:m,disabled:d,className:"px-5 py-2 rounded-lg bg-yellow-500 hover:bg-yellow-600 text-white font-black uppercase tracking-wide shadow-lg shadow-yellow-500/20 disabled:opacity-60",type:"button",children:d?"Salvando...":"Salvar"})]})]})})}const a_={bank_name:"",wallet:"",our_number:"",barcode:"",digitable_line:"",pdf_url:"",status:"PENDENTE",due_date:""},bI={PENDENTE:{label:"Pendente",badge:"bg-amber-500/10 text-amber-500 border-amber-500/30"},GERADO:{label:"Gerado",badge:"bg-yellow-500/10 text-yellow-500 border-yellow-500/30"},ENVIADO:{label:"Enviado",badge:"bg-blue-500/10 text-blue-400 border-blue-500/30"},PAGO:{label:"Pago",badge:"bg-green-500/10 text-green-500 border-green-500/30"},CANCELADO:{label:"Cancelado",badge:"bg-red-500/10 text-red-500 border-red-500/30"}},X0=r=>r?r.slice(0,10):"",vI=r=>r.toLocaleString("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:2}),yI=({receivable:r,onClose:e,onSaved:t})=>{const[n,a]=q.useState(!0),[o,c]=q.useState(!1),[d,h]=q.useState(!1),[m,g]=q.useState(null),[b,B]=q.useState(null),[_,k]=q.useState({...a_}),[j,T]=q.useState(!1),[C,I]=q.useState(!1);q.useEffect(()=>{let ee=!0;return(async()=>{a(!0),g(null);try{const W=await boletosRepo.getByReceivableId(r.id);if(!ee)return;B(W),W?(k({bank_name:W.bank_name??"",wallet:W.wallet??"",our_number:W.our_number??"",barcode:W.barcode??"",digitable_line:W.digitable_line??"",pdf_url:W.pdf_url??"",status:W.status??"PENDENTE",due_date:X0(W.due_date)||X0(new Date(r.vencimento_em).toISOString())}),T(!1)):(k({...a_,due_date:X0(new Date(r.vencimento_em).toISOString())}),T(!0))}catch{if(!ee)return;g("Nao foi possivel carregar o boleto."),B(null),T(!0)}finally{ee&&a(!1)}})(),()=>{ee=!1}},[r.id,r.vencimento_em]);const F=q.useMemo(()=>{const ee=(b==null?void 0:b.status)??"PENDENTE";return bI[ee]},[b==null?void 0:b.status]),R=(ee,H)=>{k(W=>({...W,[ee]:H}))},ae=async()=>{if(g(null),!_.bank_name||!_.wallet||!_.our_number||!_.digitable_line){g("Preencha banco, carteira, nosso numero e linha digitavel.");return}try{c(!0);const ee={id:b==null?void 0:b.id,receivable_id:r.id,bank_name:_.bank_name.trim(),wallet:_.wallet.trim(),our_number:_.our_number.trim(),barcode:_.barcode.trim()||null,digitable_line:_.digitable_line.trim(),pdf_url:_.pdf_url.trim()||null,status:_.status||"PENDENTE",due_date:_.due_date||null},H=await boletosRepo.upsert(ee);B(H),T(!1),t==null||t(H)}catch(ee){console.error(ee),g("Nao foi possivel salvar o boleto.")}finally{c(!1)}},Z=async()=>{var ee;if(b!=null&&b.digitable_line)try{await((ee=navigator.clipboard)==null?void 0:ee.writeText(b.digitable_line)),I(!0),setTimeout(()=>I(!1),1500)}catch{g("Falha ao copiar a linha digitavel.")}},me=async()=>{if(b!=null&&b.id){g(null);try{h(!0);const ee=await boletosRepo.updateStatus(b.id,"PAGO");await updateReceivable(r.id,{status:"PAGO",valor_pago:r.valor_total}),B(ee),t==null||t(ee)}catch(ee){console.error(ee),g("Nao foi possivel marcar como pago.")}finally{h(!1)}}};return i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:i.jsxs("div",{className:"w-full max-w-3xl rounded-2xl border border-bdr bg-surface shadow-2xl",children:[i.jsxs("div",{className:"flex items-center justify-between border-b border-bdr px-6 py-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"rounded-lg bg-yellow-500/10 p-2 border border-yellow-500/20",children:i.jsx(xx,{className:"h-5 w-5 text-yellow-500"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[11px] font-black uppercase tracking-widest text-txt-muted",children:"Gestao de Boleto"}),i.jsx("h3",{className:"text-lg font-black text-txt-main",children:j||!b?"Cadastrar boleto":"Resumo do boleto"}),i.jsxs("p",{className:"text-xs text-txt-muted font-semibold",children:["Conta: ",r.description||r.devedor_nome||"Conta"]}),i.jsxs("p",{className:"text-[11px] text-txt-muted",children:["Valor ",vI(r.valor_total)," | Venc. ",new Date(r.vencimento_em).toLocaleDateString("pt-BR")]})]})]}),i.jsx("button",{onClick:e,className:"rounded-full p-2 text-txt-muted hover:bg-app hover:text-txt-main transition-colors",title:"Fechar",children:i.jsx(Pn,{className:"h-5 w-5"})})]}),n?i.jsxs("div",{className:"px-6 py-6 space-y-4 animate-pulse",children:[i.jsx("div",{className:"h-5 w-40 rounded bg-app"}),i.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[i.jsx("div",{className:"h-20 rounded bg-app"}),i.jsx("div",{className:"h-20 rounded bg-app"})]}),i.jsx("div",{className:"h-24 rounded bg-app"})]}):i.jsxs("div",{className:"px-6 py-4 space-y-4",children:[m&&i.jsx("div",{className:"rounded-lg border border-red-500/40 bg-red-500/10 px-4 py-3 text-sm text-red-200",children:m}),j||!b?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-xs font-bold uppercase tracking-wide text-txt-muted",children:"Banco"}),i.jsx("input",{className:"w-full rounded-lg border border-bdr bg-app px-3 py-2 text-sm text-txt-main focus:border-yellow-600 focus:outline-none",value:_.bank_name,onChange:ee=>R("bank_name",ee.target.value),placeholder:"Banco do Brasil"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-xs font-bold uppercase tracking-wide text-txt-muted",children:"Carteira"}),i.jsx("input",{className:"w-full rounded-lg border border-bdr bg-app px-3 py-2 text-sm text-txt-main focus:border-yellow-600 focus:outline-none",value:_.wallet,onChange:ee=>R("wallet",ee.target.value),placeholder:"17/019"})]})]}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-xs font-bold uppercase tracking-wide text-txt-muted",children:"Nosso numero"}),i.jsx("input",{className:"w-full rounded-lg border border-bdr bg-app px-3 py-2 text-sm text-txt-main focus:border-yellow-600 focus:outline-none",value:_.our_number,onChange:ee=>R("our_number",ee.target.value),placeholder:"Identificador principal"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-xs font-bold uppercase tracking-wide text-txt-muted",children:"Codigo de barras"}),i.jsx("input",{className:"w-full rounded-lg border border-bdr bg-app px-3 py-2 text-sm text-txt-main focus:border-yellow-600 focus:outline-none",value:_.barcode,onChange:ee=>R("barcode",ee.target.value),placeholder:"Opcional"})]})]}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-xs font-bold uppercase tracking-wide text-txt-muted",children:"Linha digitavel"}),i.jsx("input",{className:"w-full rounded-lg border border-bdr bg-app px-3 py-2 text-sm text-txt-main focus:border-yellow-600 focus:outline-none",value:_.digitable_line,onChange:ee=>R("digitable_line",ee.target.value),placeholder:"00000.00000 00000.000000 00000.000000 0 00000000000000"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-xs font-bold uppercase tracking-wide text-txt-muted",children:"Link PDF"}),i.jsx("input",{className:"w-full rounded-lg border border-bdr bg-app px-3 py-2 text-sm text-txt-main focus:border-yellow-600 focus:outline-none",value:_.pdf_url,onChange:ee=>R("pdf_url",ee.target.value),placeholder:"https://..."})]})]}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-xs font-bold uppercase tracking-wide text-txt-muted",children:"Vencimento"}),i.jsx("input",{type:"date",className:"w-full rounded-lg border border-bdr bg-app px-3 py-2 text-sm text-txt-main focus:border-yellow-600 focus:outline-none",value:_.due_date,onChange:ee=>R("due_date",ee.target.value)})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-xs font-bold uppercase tracking-wide text-txt-muted",children:"Status"}),i.jsxs("select",{className:"w-full rounded-lg border border-bdr bg-app px-3 py-2 text-sm text-txt-main focus:border-yellow-600 focus:outline-none",value:_.status,onChange:ee=>R("status",ee.target.value),children:[i.jsx("option",{value:"PENDENTE",children:"Pendente"}),i.jsx("option",{value:"GERADO",children:"Gerado"}),i.jsx("option",{value:"ENVIADO",children:"Enviado"}),i.jsx("option",{value:"PAGO",children:"Pago"}),i.jsx("option",{value:"CANCELADO",children:"Cancelado"})]})]})]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsxs("div",{className:"rounded-xl border border-bdr bg-app p-4",children:[i.jsx("div",{className:"text-xs font-bold uppercase tracking-wide text-txt-muted",children:"Banco"}),i.jsx("div",{className:"text-sm font-black text-txt-main",children:b.bank_name||"-"}),i.jsx("div",{className:"mt-3 text-xs font-bold uppercase tracking-wide text-txt-muted",children:"Carteira"}),i.jsx("div",{className:"text-sm font-semibold text-txt-main",children:b.wallet||"-"})]}),i.jsxs("div",{className:"rounded-xl border border-bdr bg-app p-4",children:[i.jsx("div",{className:"text-xs font-bold uppercase tracking-wide text-txt-muted",children:"Status"}),i.jsx("div",{className:`inline-flex items-center rounded border px-2 py-1 text-[10px] font-black uppercase ${F.badge}`,children:F.label}),i.jsx("div",{className:"mt-3 text-xs font-bold uppercase tracking-wide text-txt-muted",children:"Nosso numero"}),i.jsx("div",{className:"text-lg font-black text-txt-main",children:b.our_number||"-"})]})]}),i.jsxs("div",{className:"rounded-xl border border-bdr bg-app p-4 space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between gap-3",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-xs font-bold uppercase tracking-wide text-txt-muted",children:"Linha digitavel"}),i.jsx("div",{className:"font-mono text-xs text-txt-main break-all",children:b.digitable_line||"-"})]}),i.jsxs("button",{onClick:Z,className:"inline-flex items-center gap-2 rounded-lg border border-bdr bg-surface px-3 py-2 text-xs font-bold text-txt-muted hover:text-txt-main",disabled:!b.digitable_line,children:[C?i.jsx(Ac,{className:"h-4 w-4"}):i.jsx(wE,{className:"h-4 w-4"}),C?"Copiado":"Copiar"]})]}),i.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-xs font-bold uppercase tracking-wide text-txt-muted",children:"Codigo de barras"}),i.jsx("div",{className:"text-sm text-txt-main",children:b.barcode||"-"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-xs font-bold uppercase tracking-wide text-txt-muted",children:"Vencimento"}),i.jsx("div",{className:"text-sm text-txt-main",children:b.due_date?new Date(b.due_date).toLocaleDateString("pt-BR"):"-"})]})]})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[b.pdf_url&&i.jsxs("a",{href:b.pdf_url,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 rounded-lg border border-bdr bg-app px-3 py-2 text-xs font-bold text-txt-muted hover:text-txt-main",children:[i.jsx(kE,{className:"h-4 w-4"}),"Ver PDF"]}),i.jsxs("button",{onClick:()=>T(!0),className:"inline-flex items-center gap-2 rounded-lg border border-bdr bg-app px-3 py-2 text-xs font-bold text-txt-muted hover:text-txt-main",children:[i.jsx(Cb,{className:"h-4 w-4"}),"Editar"]}),i.jsxs("button",{onClick:me,className:"inline-flex items-center gap-2 rounded-lg bg-green-600 px-3 py-2 text-xs font-black uppercase tracking-wide text-white hover:bg-green-700 disabled:opacity-60",disabled:d||b.status==="PAGO",children:[d?i.jsx(dl,{className:"h-4 w-4 animate-spin"}):i.jsx(Ac,{className:"h-4 w-4"}),"Marcar como pago"]})]})]})]}),i.jsxs("div",{className:"flex items-center justify-end gap-3 border-t border-bdr px-6 py-4",children:[i.jsx("button",{onClick:e,className:"rounded-lg border border-bdr px-4 py-2 text-sm font-bold text-txt-muted hover:bg-app transition-colors",disabled:o||d,children:"Fechar"}),(j||!b)&&i.jsxs("button",{onClick:ae,disabled:o,className:"inline-flex items-center gap-2 rounded-lg bg-yellow-500 px-4 py-2 text-sm font-black uppercase tracking-wide text-black transition-colors hover:bg-yellow-600 disabled:opacity-50",children:[o?i.jsx(dl,{className:"h-4 w-4 animate-spin"}):i.jsx(xx,{className:"h-4 w-4"}),"Salvar dados do boleto"]})]})]})})},SN=q.createContext(void 0),wI=({currentUser:r,children:e})=>{const[t,n]=q.useState(null),[a,o]=q.useState(!0),c=q.useCallback(async()=>{if(!(r!=null&&r.id)||!(r!=null&&r.depositoId)){n(null),o(!1);return}o(!0);const g=await getOpenShiftForUser(r.id,r.depositoId);n(g),o(!1)},[r==null?void 0:r.id,r==null?void 0:r.depositoId]);q.useEffect(()=>{c()},[c]);const d=q.useCallback(async g=>{if(!(r!=null&&r.id)||!(r!=null&&r.depositoId))return null;const b=await openShiftRepo({userId:r.id,userName:r.nome,depositId:r.depositoId,openingBalance:g.openingBalance,notes:g.notes??null});return n(b),b},[r==null?void 0:r.id,r==null?void 0:r.depositoId,r==null?void 0:r.nome]),h=q.useCallback(async g=>{if(!t)return null;const b=await closeShiftRepo({shift:t,status:g.status,declared:g.declared,system:g.system,notes:g.notes??null});return n(null),b},[t]),m=q.useMemo(()=>({activeShift:t,loading:a,refresh:c,openShift:d,closeShift:h}),[t,a,c,d,h]);return i.jsx(SN.Provider,{value:m,children:e})},jm=()=>{const r=q.useContext(SN);if(!r)throw new Error("useShift must be used within ShiftProvider");return r},_I=({onClose:r,onNavigate:e})=>{const[t,n]=q.useState("overview"),[a,o]=q.useState(!1),[c,d]=q.useState(!1),[h,m]=q.useState(!1),[g,b]=q.useState("all"),[B,_]=q.useState(null),[k,j]=q.useState(null),[T,C]=q.useState(""),[I,F]=q.useState(""),[R,ae]=q.useState(()=>new Date().toISOString().slice(0,10)),[Z,me]=q.useState(""),[ee,H]=q.useState(""),[W,K]=q.useState(""),[$,re]=q.useState(()=>new Date().toISOString().slice(0,10)),[le,ge]=q.useState(!1),[Y,pe]=q.useState(null),[z,ve]=q.useState({}),[we,V]=q.useState(()=>new Date().toISOString().slice(0,10)),[O,G]=q.useState(()=>{const se=new Date;return se.setDate(se.getDate()+30),se.toISOString().slice(0,10)}),Q=useLiveQuery(()=>{var se;return(se=db.financial_settings)==null?void 0:se.toCollection().first()},[]),oe=useLiveQuery(()=>{var se;return(se=db.accounts_receivable)==null?void 0:se.toArray()},[]),ce=useLiveQuery(()=>{var se;return(se=db.payment_methods)==null?void 0:se.toArray()},[]),Be=useLiveQuery(()=>{var se;return B?(se=db.receivable_payments)==null?void 0:se.where("receivable_id").equals(B).toArray():[]},[B]),Se=useLiveQuery(()=>{var se;return(se=db.service_orders)==null?void 0:se.toArray()},[]),Fe=useLiveQuery(()=>{var se;return(se=db.employees)==null?void 0:se.toArray()},[]),He=useLiveQuery(()=>{var se;return(se=db.deposits)==null?void 0:se.toArray()},[]),it=useLiveQuery(()=>{var se;return(se=db.clients)==null?void 0:se.toArray()},[]),{activeShift:Re}=jm(),_t=useLiveQuery(()=>{var se;return Re!=null&&Re.id?(se=db.cash_flow_entries)==null?void 0:se.where("shift_id").equals(Re.id).toArray():[]},[Re==null?void 0:Re.id]),It=useLiveQuery(()=>{var se;return(se=db.stock_movements)==null?void 0:se.toArray()},[]),[he,ct]=q.useState({monthlyGoal:2e4,minCashAlert:500,showCents:!0}),yt=(Q==null?void 0:Q.monthly_goal)??he.monthlyGoal;q.useEffect(()=>{const se=localStorage.getItem("gp_fin_config");se&&ct(JSON.parse(se))},[]);const qt=({id:se,label:pt,icon:bt})=>i.jsxs("button",{onClick:()=>n(se),className:`flex items-center gap-2 px-4 py-3 text-sm font-medium transition-all relative ${t===se?"text-yellow-600 bg-yellow-500/10":"text-txt-muted hover:text-txt-main hover:bg-surface"}`,children:[i.jsx(bt,{className:`w-4 h-4 ${t===se?"text-yellow-600":"text-txt-muted"}`}),pt,t===se&&i.jsx("div",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-yellow-500"})]}),$e=se=>se.toLocaleString("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:he.showCents?2:0}),Zt=se=>new Date(`${se}T00:00:00`).getTime(),Qt=se=>{if(!se)return 0;if(typeof se=="number")return se;if(typeof se=="string"){const bt=se.trim();if(bt&&!Number.isNaN(Number(bt)))return Number(bt)}const pt=new Date(se).getTime();return Number.isNaN(pt)?0:pt},kt=se=>{if(!Number.isFinite(se))return;const pt=Zt(we),bt=Zt(O)+1440*60*1e3-1,ut=new Date(se).toISOString().slice(0,10);se<pt&&V(ut),se>bt&&G(ut)},Kt=se=>{const pt=se.historico_json??se.historico??se.history??[],bt=se.pagamentos_json??se.pagamentos??se.payments??[],ut=Qt(se.data_hora_criacao??se.dataHoraCriacao??se.created_at_ms??se.created_at??se.createdAt??0),Gt=Qt(se.data_hora_conclusao??se.dataHoraConclusao??se.completed_at??se.completedAt??0),ur=normalizeDepositId(se);return{id:String(se.id??""),numeroOs:String(se.numero_os??se.numeroOs??se.order_number??se.orderNumber??se.number??se.id??""),depositoId:ur.depositoId,clienteId:se.cliente_id??se.clienteId??se.client_id??se.clientId??null,clienteNome:se.cliente_nome??se.clienteNome??se.client_name??se.clientName??"",entregadorId:se.entregador_id??se.entregadorId??se.driver_id??se.driverId??null,status:se.status??se.order_status??"PENDENTE",statusEntrega:se.status_entrega??se.statusEntrega??se.delivery_status??null,tipoAtendimento:se.tipo_atendimento??se.tipoAtendimento??se.service_type??"BALCAO",total:Number(se.total??se.total_amount??se.amount??0)||0,createdAtMs:ut,concludedAtMs:Gt,historico:Array.isArray(pt)?pt:[],pagamentos:Array.isArray(bt)?bt:[]}},Jt=se=>{const pt=String(se.status??"").toUpperCase(),bt=String(se.statusEntrega??"").toUpperCase();return pt==="ABERTO"||pt==="OPEN"||pt==="PENDENTE"||pt==="EM_ANDAMENTO"||pt==="PENDENTE_ENTREGA"||bt==="EM_ROTA"},mr=Zt(we),Yt=Zt(O),ar=Yt+1440*60*1e3-1,cr=t==="audit"&&(Se===void 0||Fe===void 0||He===void 0||it===void 0),Ht=null,Vt=q.useMemo(()=>(Se??[]).map(Kt).filter(se=>se.createdAtMs?se.createdAtMs>=mr&&se.createdAtMs<=ar:!1).sort((se,pt)=>pt.createdAtMs-se.createdAtMs),[Se,mr,ar]),Dt=Fe??[],Ne=He??[],et=it??[],ft=(oe||[]).map(se=>{const pt=Number(se.valor_total??0),bt=Number(se.valor_pago??0),ut=Math.max(0,pt-bt),ur=se.vencimento_em<Date.now()&&ut>0,Fr=ur?"VENCIDO":se.status,ln=se.requires_boleto??!1;return{...se,total:pt,paid:bt,remaining:ut,overdue:ur,status:Fr,requires_boleto:ln}}),Lt=new Map((ce||[]).map(se=>[se.id,se.nome])),Ut=B&&ft.find(se=>se.id===B)||null,Et=Y&&ft.find(se=>se.id===Y)||null,xr=ft.filter(se=>!(!Number.isFinite(se.vencimento_em)||mr&&se.vencimento_em<mr||Yt&&se.vencimento_em>Yt+1440*60*1e3||g==="personal"&&!se.is_personal||g==="with-client"&&!se.client_id));ft.filter(se=>se.status!=="PAGO").reduce((se,pt)=>se+pt.remaining,0);const Rt=xr.filter(se=>se.status!=="PAGO").reduce((se,pt)=>se+pt.remaining,0);q.useEffect(()=>{if(t!=="receivable")return;let se=!0;return(async()=>{const bt=xr.filter(Gt=>Gt.requires_boleto).map(Gt=>Gt.id).filter(Gt=>!Object.prototype.hasOwnProperty.call(z,Gt));if(!bt.length)return;const ut=await Promise.all(bt.map(async Gt=>{try{const ur=await boletosRepo.getByReceivableId(Gt);return{id:Gt,boleto:ur,ok:!0}}catch{return{id:Gt,boleto:null,ok:!1}}}));se&&ve(Gt=>{const ur={...Gt};for(const Fr of ut)Fr.ok&&(Object.prototype.hasOwnProperty.call(ur,Fr.id)||(ur[Fr.id]=Fr.boleto));return ur})})(),()=>{se=!1}},[t,xr,z]);const de=se=>se?se.status==="PAGO"?"bg-green-500/10 text-green-500 border-green-500/30 hover:bg-green-500/20":se.status==="CANCELADO"?"bg-red-500/10 text-red-500 border-red-500/30 hover:bg-red-500/20":"bg-amber-500/10 text-amber-500 border-amber-500/30 hover:bg-amber-500/20":"bg-app text-txt-muted border-bdr hover:text-txt-main",Ke=se=>se?"Ver boleto":"Emitir",Ye=se=>{pe(se),ge(!0)},We=se=>{ve(pt=>({...pt,[se.receivable_id]:se}))},tt=()=>{ge(!1),pe(null)},Tt=async(se,pt,bt,ut)=>{const Gt=ft.find(ln=>ln.id===se);if(!Gt)return;const ur=Gt.remaining;if(ur<=0)return alert("Nada pendente para quitar.");const Fr=bt?new Date(`${bt}T00:00:00`).getTime():void 0;await addReceivablePayment(se,ur,"user-1",pt||null,Fr,ut)},zt=async(se,pt,bt,ut,Gt)=>{const ur=ft.find(ps=>ps.id===se);if(!ur)return;const Fr=ur.remaining,ln=Number(pt.replace(",","."));if(!Number.isFinite(ln)||ln<=0)return alert("Valor invlido.");if(ln>Fr)return alert("Valor maior que o pendente.");await addReceivablePayment(se,ln,"user-1",null,void 0,Gt)},Wt=async(se,pt)=>{const bt=new Date(pt+"T00:00:00").getTime();if(!Number.isFinite(bt))return alert("Data invlida.");await updateReceivable(se,{vencimento_em:bt}),H(""),kt(bt)},Lr=async(se,pt,bt)=>{if(!se)return alert("Selecione uma conta.");const ut=Number(pt.replace(",",".")),Gt=new Date(bt+"T00:00:00").getTime();if(!Number.isFinite(ut)||ut<=0)return alert("Valor invlido.");if(!Number.isFinite(Gt))return alert("Data invlida.");const ur=await createReceivable({os_id:se.os_id??null,payment_method_id:null,depositoId:normalizeDepositId(se).depositoId,devedor_nome:se.devedor_nome??se.description??"Cliente",valor_total:ut,status:"ABERTO",criado_em:Date.now(),vencimento_em:Gt,description:se.description??null,client_id:se.client_id??null,is_personal:se.is_personal??!1,alert_days_before:se.alert_days_before??1,installment_no:(se.installment_no??1)+1,installments_total:se.installments_total??1});K(""),kt(Gt),ur!=null&&ur.id&&_(ur.id)},vt=async()=>{if(!Ut)return;const se=T||`${Ut.remaining}`,pt=Number(se.replace(",","."));if(!Number.isFinite(pt)||pt<=0)return alert("Valor invlido.");const bt=R?new Date(`${R}T00:00:00`).getTime():void 0;if(k){const ut=(Be||[]).find(Fr=>Fr.id===k),Gt=ut?`editado de ${ut.valor} para ${pt} em ${new Date().toLocaleString("pt-BR")}`:"editado",ur=[Z||null,Gt].filter(Boolean).join(" | ");await updateReceivablePayment(k,{valor:pt,data_hora:bt??Date.now(),payment_method_id:I||null,obs:ur||null},"user-1")}else await addReceivablePayment(Ut.id,pt,"user-1",I||null,bt,Z);C(""),F(""),me(""),j(null)},Rr=async se=>{confirm("Excluir esta conta a receber?")&&await deleteReceivable(se)},fr=async se=>{if(!(Re!=null&&Re.id))return alert("Nenhum turno aberto para registrar movimentacao.");const bt=prompt(`Valor da ${se==="SANGRIA"?"sangria":"suprimento"}?`);if(!bt)return;const ut=Number(bt.replace(",","."));if(!Number.isFinite(ut)||ut<=0)return alert("Valor invalido.");const Gt=prompt("Observacao (opcional)")||null;await registerCashFlow({category:se,amount:ut,direction:se==="SANGRIA"?"OUT":"IN",paymentType:"cash",notes:Gt,depositId:normalizeDepositId(Re).depositoId,userName:void 0})},pr=Rt,Pr=0,je=[],Me=[],$t=q.useMemo(()=>{const se=(_t??[]).filter(bt=>{const ut=Number(bt.created_at??0)||0;return ut>=mr&&ut<=ar}).sort((bt,ut)=>(bt.created_at??0)-(ut.created_at??0));let pt=0;return se.map(bt=>{const ut=Number(bt.created_at??0)||0,Gt=Number(bt.amount??0)||0,ur=bt.direction==="OUT"?-1:1;pt+=ur*Gt;const Fr=String(bt.category??"MOVIMENTO").toUpperCase(),ln=ur>0?"green":ur<0?"red":"neutral";return{id:bt.id,time:ut?new Date(ut).toLocaleString("pt-BR"):"-",description:bt.notes??bt.reference_type??"Movimento",category:Fr,categoryTone:ln,user:bt.user_name??bt.user_id??"-",value:ur*Gt,status:bt.status??"POSTED",balance:pt,direction:bt.direction??"IN"}})},[_t,mr,ar]),Ir=q.useMemo(()=>{const se=normalizeDepositId(Re||{});if(!(Re!=null&&Re.opened_at)||!se.depositoId)return!1;const pt=Re.opened_at,bt=Re.closed_at??Date.now();return(Se??[]).map(Kt).filter(ut=>{const Gt=ut.createdAtMs??0;return!Gt||ut.depositoId&&ut.depositoId!==se.depositoId?!1:Gt>=pt&&Gt<=bt}).some(ut=>Jt(ut))},[Re,Se]),jr=q.useMemo(()=>{const se=new Map;return Dt.forEach(pt=>{const bt=pt.nome??pt.name??pt.username??pt.id??"";pt.id&&se.set(String(pt.id),String(bt))}),se},[Dt]),Gr=q.useMemo(()=>{if(!(Re!=null&&Re.opened_at))return[];const se=normalizeDepositId(Re),pt=Re.opened_at,bt=Re.closed_at??Date.now();return(Se??[]).map(Kt).filter(ut=>{const Gt=ut.createdAtMs??0;return!Gt||se.depositoId&&ut.depositoId&&ut.depositoId!==se.depositoId?!1:Gt>=pt&&Gt<=bt}).map(ut=>{var br;const Gt=Array.isArray(ut.historico)?ut.historico:[],ur=Gt.find(Qr=>String((Qr==null?void 0:Qr.acao)??"").toLowerCase().includes("cri")),Fr=(ur==null?void 0:ur.usuario)??((br=Gt[0])==null?void 0:br.usuario)??"-",ln=ut.entregadorId&&jr.get(String(ut.entregadorId))||ut.entregadorId||"-",Fs=ut.createdAtMs??0,ps=Fs?new Date(Fs).toLocaleString("pt-BR"):"-",Cs=[ut.status,ut.statusEntrega].filter(Boolean).map(Qr=>String(Qr));return{id:ut.id,osNumber:ut.numeroOs||ut.id,openedAt:ps,openedAtMs:Fs,operador:Fr,entregador:ln,status:Cs.length?Cs.join(" / "):"-",isOpen:Jt(ut)}}).sort((ut,Gt)=>(Gt.openedAtMs||0)-(ut.openedAtMs||0))},[Re,Se,jr]),Xr=q.useMemo(()=>{if(!(Re!=null&&Re.opened_at))return[];const se=normalizeDepositId(Re),pt=Re.opened_at,bt=Re.closed_at??Date.now();return(It??[]).map(ut=>{const Gt=new Date(ut.dataHora).getTime();return{...ut,whenMs:Gt}}).filter(ut=>!ut.whenMs||se.depositoId&&ut.depositoId&&ut.depositoId!==se.depositoId?!1:ut.whenMs>=pt&&ut.whenMs<=bt).map(ut=>({id:ut.id,when:ut.whenMs?new Date(ut.whenMs).toLocaleString("pt-BR"):"-",produto:ut.produtoNome??"-",tipo:ut.tipo??"-",quantidade:Number(ut.quantidade??0)||0,operador:ut.usuarioNome??ut.usuarioId??"-",motivo:ut.motivo??ut.origem??"-",whenMs:ut.whenMs??0})).sort((ut,Gt)=>(Gt.whenMs||0)-(ut.whenMs||0))},[Re,It]),Fn=q.useMemo(()=>{const se=new Map;return Ne.forEach(pt=>{const bt=pt.nome??pt.name??pt.id??"";pt.id&&se.set(String(pt.id),String(bt))}),se},[Ne]),wn=q.useMemo(()=>{const se=new Map;return et.forEach(pt=>{const bt=pt.nome??pt.name??pt.id??"";pt.id&&se.set(String(pt.id),String(bt))}),se},[et]),Hn=q.useMemo(()=>Vt.map(se=>{const pt=se.entregadorId&&jr.get(String(se.entregadorId))||se.entregadorId||"-",bt=se.clienteNome||se.clienteId&&wn.get(String(se.clienteId))||se.clienteId||"-",ut=se.createdAtMs?new Date(se.createdAtMs).toLocaleString("pt-BR"):"-",Gt=se.concludedAtMs?new Date(se.concludedAtMs).toLocaleString("pt-BR"):"-",ur=se.createdAtMs&&se.concludedAtMs&&se.concludedAtMs>=se.createdAtMs?Math.round((se.concludedAtMs-se.createdAtMs)/6e4):0,Fr=String(se.status??"").toUpperCase(),ln=Fr==="CONCLUIDA"||Fr==="CONCLUIDO"?"CONCLUIDO":Fr==="CANCELADA"||Fr==="CANCELADO"?"CANCELADO":"PENDENTE";return{osNumber:se.numeroOs||se.id,client:bt,driver:pt,openedAt:ut,closedAt:Gt,durationMinutes:ur,status:ln}}),[Vt,wn,jr]),jn=q.useMemo(()=>{const se=Bt=>String(Bt??"").toLowerCase().normalize("NFD").replace(new RegExp("\\p{Diacritic}","gu"),""),pt={},bt={},ut={},Gt={},ur={},Fr={};Vt.forEach(Bt=>{const Nt=String(Bt.status??"").toUpperCase()==="CONCLUIDA",St=String(Bt.tipoAtendimento??"").toUpperCase()==="DELIVERY";if(Nt&&St&&Bt.entregadorId){const Hr=String(Bt.entregadorId);if(pt[Hr]=(pt[Hr]||0)+1,Bt.createdAtMs&&Bt.concludedAtMs&&Bt.concludedAtMs>=Bt.createdAtMs){const ss=(Bt.concludedAtMs-Bt.createdAtMs)/6e4;bt[Hr]||(bt[Hr]={total:0,count:0}),bt[Hr].total+=ss,bt[Hr].count+=1}}if(Nt&&Bt.depositoId){const Hr=String(Bt.depositoId);ut[Hr]=(ut[Hr]||0)+Number(Bt.total??0)}const nr=String(Bt.clienteId??Bt.clienteNome??"");nr&&(String(Bt.status??"").toUpperCase()!=="CANCELADA"&&(Gt[nr]=(Gt[nr]||0)+1),Nt&&(ur[nr]=(ur[nr]||0)+Number(Bt.total??0))),(Array.isArray(Bt.historico)?Bt.historico:[]).forEach(Hr=>{const ss=Hr.usuario??Hr.user??Hr.username??Hr.usuarioNome??Hr.user_name??"Sistema",Cr=se(Hr.acao??Hr.action??""),la=se(Hr.detalhe??Hr.detail??"");Fr[ss]||(Fr[ss]={open:0,close:0}),Cr.includes("cri")&&(Fr[ss].open+=1),(Cr.includes("conclu")||Cr.includes("mudan")&&la.includes("conclu")||Cr.includes("status")&&la.includes("conclu"))&&(Fr[ss].close+=1)})});const ln=Bt=>{let Nt="",St=0;return Object.entries(Bt).forEach(([nr,tn])=>{tn>St&&(Nt=nr,St=tn)}),{key:Nt,value:St}},Fs=ln(pt);let ps="",Cs=0;Object.entries(bt).forEach(([Bt,Nt])=>{if(!Nt.count)return;const St=Nt.total/Nt.count;(!ps||St<Cs)&&(ps=Bt,Cs=St)});const br=ln(ut),Qr=ln(Gt),Jn=ln(ur);let _e="",nt=0,Ft=0,rt=0;return Object.entries(Fr).forEach(([Bt,Nt])=>{const St=Nt.open+Nt.close;St>nt&&(_e=Bt,nt=St,Ft=Nt.open,rt=Nt.close)}),{topDriver:{name:Fs.key?jr.get(Fs.key)||Fs.key:"-",count:Fs.value},fastestDriver:{name:ps?jr.get(ps)||ps:"-",avgMinutes:Cs?Math.round(Cs):0},topDeposit:{name:br.key?Fn.get(br.key)||br.key:"-",total:br.value},topCashier:{name:_e||"-",open:Ft,close:rt},topClientByValue:{name:Jn.key?wn.get(Jn.key)||Jn.key:"-",total:Jn.value},topClientByOrders:{name:Qr.key?wn.get(Qr.key)||Qr.key:"-",count:Qr.value}}},[Vt,wn,Fn,jr]),Ns=yt>0?Math.min(100,Math.round(pr/yt*100)):0,wr=Math.max(0,yt-pr),xa=$t.reduce((se,pt)=>pt.value>0?se+pt.value:se,0),fs=$t.reduce((se,pt)=>pt.value<0?se+Math.abs(pt.value):se,0),Zs=$t.length?$t[$t.length-1].balance:pr-Pr;return i.jsxs("div",{className:"fixed inset-0 bg-app z-50 flex flex-col animate-in slide-in-from-bottom-4 duration-300",children:[i.jsxs("div",{className:"bg-surface border-b border-bdr px-6 py-3 shadow-sm shrink-0 z-20 transition-colors",children:[i.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"bg-yellow-500/10 p-2 rounded-lg border border-yellow-500/20",children:i.jsx(g5,{className:"w-6 h-6 text-yellow-600"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-black text-txt-main tracking-tight",children:"Mdulo Financeiro"}),i.jsx("p",{className:"text-xs text-txt-muted font-bold uppercase tracking-widest",children:"Gesto completa de fluxo e resultados"})]})]}),i.jsxs("div",{className:"flex items-center gap-3 bg-app p-1.5 rounded-lg border border-bdr",children:[i.jsxs("div",{className:"flex items-center gap-2 px-2 border-r border-bdr",children:[i.jsx(hm,{className:"w-4 h-4 text-txt-muted"}),i.jsx("input",{type:"date",className:"bg-transparent border-none text-xs font-bold text-txt-main focus:ring-0 w-24 outline-none",value:we,onChange:se=>V(se.target.value)})]}),i.jsxs("div",{className:"flex items-center gap-2 px-2",children:[i.jsx("span",{className:"text-xs text-txt-muted font-bold uppercase",children:"at"}),i.jsx("input",{type:"date",className:"bg-transparent border-none text-xs font-bold text-txt-main focus:ring-0 w-24 outline-none",value:O,onChange:se=>G(se.target.value)})]}),i.jsx("button",{className:"bg-yellow-600 hover:bg-yellow-700 text-white px-3 py-1.5 rounded text-xs font-black uppercase tracking-wide transition-colors shadow-sm",children:"Filtrar"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("button",{className:"flex items-center gap-2 px-3 py-2 text-txt-muted hover:text-txt-main hover:bg-app rounded-lg text-sm font-bold transition-colors border border-transparent hover:border-bdr",children:[i.jsx(CS,{className:"w-4 h-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Imprimir"})]}),e&&i.jsxs("button",{onClick:()=>e("delivery-settings"),className:"flex items-center gap-2 px-3 py-2 text-txt-muted hover:text-txt-main hover:bg-app rounded-lg text-sm font-bold transition-colors border border-transparent hover:border-bdr",children:[i.jsx(No,{className:"w-4 h-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Taxas de Entrega"})]}),i.jsxs("button",{onClick:()=>o(!0),className:"flex items-center gap-2 px-3 py-2 text-txt-muted hover:text-txt-main hover:bg-app rounded-lg text-sm font-bold transition-colors border border-transparent hover:border-bdr",children:[i.jsx(hd,{className:"w-4 h-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Configurar"})]}),i.jsx("button",{onClick:r,className:"ml-2 p-2 hover:bg-red-500/10 text-txt-muted hover:text-red-500 rounded-full transition-colors",children:i.jsx(Pn,{className:"w-6 h-6"})})]})]}),i.jsxs("div",{className:"flex items-center gap-1 mt-6 border-b border-bdr overflow-x-auto no-scrollbar",children:[i.jsx(qt,{id:"overview",label:"Viso Geral",icon:Ty}),i.jsx(qt,{id:"cashflow",label:"Fluxo de Caixa",icon:ah}),i.jsx(qt,{id:"audit",label:"Auditoria de O.S.",icon:cd}),i.jsx(qt,{id:"receivable",label:"Contas a Receber",icon:h5}),i.jsx(qt,{id:"payable",label:"Contas a Pagar",icon:Lp})]})]}),i.jsx("div",{className:"flex-1 overflow-y-auto bg-app p-6 transition-colors",children:i.jsxs("div",{className:"max-w-[1600px] mx-auto space-y-6",children:[t==="overview"&&i.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"bg-surface p-6 rounded-xl shadow-sm border border-bdr flex flex-col relative overflow-hidden transition-colors",children:[i.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5 text-green-600",children:i.jsx(ah,{className:"w-24 h-24"})}),i.jsx("span",{className:"text-xs font-black text-txt-muted uppercase tracking-widest mb-2",children:"Contas a Receber (perodo)"}),i.jsx("div",{className:"text-3xl font-black text-txt-main mb-2",children:$e(pr)}),i.jsxs("div",{className:"flex items-center text-xs font-bold w-fit px-2 py-1 rounded border border-bdr text-txt-muted bg-app",children:[i.jsx(Lp,{className:"w-3 h-3 mr-1"})," Previsto para o perodo selecionado"]})]}),i.jsxs("div",{className:"bg-surface p-6 rounded-xl shadow-sm border border-bdr flex flex-col relative overflow-hidden transition-colors",children:[i.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5 text-red-600",children:i.jsx(wx,{className:"w-24 h-24"})}),i.jsx("span",{className:"text-xs font-black text-txt-muted uppercase tracking-widest mb-2",children:"Custos & Despesas"}),i.jsx("div",{className:"text-3xl font-black text-txt-main mb-2",children:$e(Pr)}),i.jsxs("div",{className:"flex items-center text-xs font-bold w-fit px-2 py-1 rounded border border-bdr text-txt-muted bg-app",children:[i.jsx(Lp,{className:"w-3 h-3 mr-1"})," Previsto para o perodo selecionado"]})]}),i.jsxs("div",{className:"bg-gradient-to-br from-yellow-500 to-amber-600 p-6 rounded-xl shadow-lg flex flex-col text-white relative overflow-hidden",children:[i.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 text-white",children:i.jsx(n3,{className:"w-24 h-24"})}),i.jsxs("div",{className:"flex justify-between items-start z-10",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-xs font-black text-yellow-100 uppercase tracking-widest mb-1 block",children:"Meta Mensal"}),i.jsxs("div",{className:"text-3xl font-black text-white mb-1",children:[Ns,"%"]}),i.jsx("span",{className:"text-[10px] text-yellow-100 font-bold uppercase tracking-wide",children:"Atingida"})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("span",{className:"text-xs font-bold text-yellow-100 block",children:["Alvo: R$ ",yt.toLocaleString("pt-BR")]}),i.jsxs("span",{className:"text-xs font-bold text-white block mt-1",children:["Falta: R$ ",wr.toLocaleString("pt-BR")]})]})]}),i.jsx("div",{className:"w-full bg-black/20 rounded-full h-3 mt-4 overflow-hidden border border-white/10 z-10",children:i.jsx("div",{className:"bg-white rounded-full h-full shadow-[0_0_15px_rgba(255,255,255,0.6)] transition-all duration-1000",style:{width:`${Ns}%`}})})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-surface p-6 rounded-xl shadow-sm border border-bdr transition-colors",children:[i.jsxs("h3",{className:"font-black text-txt-main mb-6 flex items-center gap-2 text-sm uppercase tracking-wide",children:[i.jsx(Ty,{className:"w-4 h-4 text-txt-muted"}),"Formas de Pagamento"]}),je.length===0?i.jsxs("div",{className:"p-6 text-center text-sm text-txt-muted border border-dashed border-bdr rounded-xl bg-app",children:[i.jsx("p",{className:"font-bold",children:"Nenhum dado financeiro disponvel."}),i.jsx("p",{className:"text-xs mt-1",children:"Conecte s fontes reais para ver formas de pagamento."})]}):i.jsx("div",{className:"space-y-5",children:je.map((se,pt)=>i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between text-xs font-bold mb-2",children:[i.jsx("span",{className:"text-txt-muted uppercase tracking-wide",children:se.label}),i.jsxs("span",{className:"text-txt-main",children:[$e(se.val)," (",se.pct,"%)"]})]}),i.jsx("div",{className:"w-full bg-app rounded-full h-2.5 border border-bdr",children:i.jsx("div",{className:`h-full rounded-full ${se.color}`,style:{width:`${se.pct}%`}})})]},pt))})]}),i.jsxs("div",{className:"bg-surface p-6 rounded-xl shadow-sm border border-bdr transition-colors",children:[i.jsxs("h3",{className:"font-black text-txt-main mb-4 flex items-center gap-2 text-sm uppercase tracking-wide",children:[i.jsx(ah,{className:"w-4 h-4 text-txt-muted"}),"Top Produtos (Rentabilidade)"]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm text-left",children:[i.jsx("thead",{className:"text-[10px] text-txt-muted uppercase font-black border-b border-bdr tracking-wider",children:i.jsxs("tr",{children:[i.jsx("th",{className:"pb-3 pl-2",children:"Produto"}),i.jsx("th",{className:"pb-3 text-right",children:"Vendas"}),i.jsx("th",{className:"pb-3 text-right",children:"Lucro Un."}),i.jsx("th",{className:"pb-3 text-right pr-2",children:"Total"})]})}),i.jsx("tbody",{className:"divide-y divide-bdr",children:Me.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:4,className:"py-6 text-center text-txt-muted font-bold",children:"Nenhum produto com dados de rentabilidade no perodo."})}):Me.map((se,pt)=>i.jsxs("tr",{className:"group hover:bg-app transition-colors",children:[i.jsx("td",{className:"py-3 pl-2 font-bold text-txt-main",children:se.nome}),i.jsxs("td",{className:"py-3 text-right font-medium text-txt-muted",children:[se.sales," un"]}),i.jsx("td",{className:"py-3 text-right text-green-600 font-bold",children:$e(se.unitProfit)}),i.jsx("td",{className:"py-3 pr-2 text-right font-black text-txt-main",children:$e(se.total)})]},pt))})]})})]})]})]}),t==="cashflow"&&i.jsxs("div",{className:"bg-surface rounded-xl shadow-sm border border-bdr flex flex-col min-h-[600px] animate-in fade-in slide-in-from-bottom-2 duration-300 transition-colors",children:[i.jsxs("div",{className:"p-6 border-b border-bdr flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsxs("h3",{className:"font-black text-txt-main flex items-center gap-2 text-sm uppercase tracking-wide",children:[i.jsx(ah,{className:"w-5 h-5 text-blue-500"}),"Movimentacao do Caixa"]}),(Re==null?void 0:Re.opened_at)&&i.jsxs("p",{className:"text-[11px] font-bold text-txt-muted mt-1",children:["Turno aberto em ",new Date(Re.opened_at).toLocaleString("pt-BR")]})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsxs("button",{onClick:()=>fr("SANGRIA"),className:"flex items-center gap-2 px-4 py-2 bg-red-500/10 text-red-600 hover:bg-red-500/20 rounded-lg text-xs font-black uppercase tracking-wide transition-colors border border-red-500/20",children:[i.jsx(AS,{className:"w-4 h-4"}),"Sangria"]}),i.jsxs("button",{onClick:()=>fr("SUPRIMENTO"),className:"flex items-center gap-2 px-4 py-2 bg-green-500/10 text-green-600 hover:bg-green-500/20 rounded-lg text-xs font-black uppercase tracking-wide transition-colors border border-green-500/20",children:[i.jsx(Wi,{className:"w-4 h-4"}),"Suprimento"]})]})]}),Ir&&i.jsx("div",{className:"px-6 py-3 bg-red-500/10 border-b border-red-500/20 text-red-500 text-xs font-bold",children:"Ha O.S em aberto ou em rota vinculadas a este turno. Finalize antes de fechar o caixa."}),i.jsx("div",{className:"px-6 py-4 border-b border-bdr bg-app/30",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[i.jsxs("div",{className:"bg-surface border border-bdr rounded-lg px-4 py-3",children:[i.jsx("div",{className:"text-[10px] uppercase font-black text-txt-muted",children:"Entradas"}),i.jsx("div",{className:"text-sm font-black text-green-600",children:$e(xa)})]}),i.jsxs("div",{className:"bg-surface border border-bdr rounded-lg px-4 py-3",children:[i.jsx("div",{className:"text-[10px] uppercase font-black text-txt-muted",children:"Saidas"}),i.jsx("div",{className:"text-sm font-black text-red-500",children:$e(fs)})]}),i.jsxs("div",{className:"bg-surface border border-bdr rounded-lg px-4 py-3",children:[i.jsx("div",{className:"text-[10px] uppercase font-black text-txt-muted",children:"Saldo"}),i.jsx("div",{className:"text-sm font-black text-txt-main",children:$e(Zs)})]})]})}),i.jsxs("div",{className:"flex-1 overflow-y-auto",children:[i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm text-left",children:[i.jsx("thead",{className:"bg-app text-[10px] text-txt-muted uppercase font-black tracking-wider border-b border-bdr",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-4",children:"Data/Hora"}),i.jsx("th",{className:"px-6 py-4",children:"Operador"}),i.jsx("th",{className:"px-6 py-4",children:"Tipo"}),i.jsx("th",{className:"px-6 py-4 text-right",children:"Valor"}),i.jsx("th",{className:"px-6 py-4",children:"Status"})]})}),i.jsx("tbody",{className:"divide-y divide-bdr",children:$t.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:5,className:"px-6 py-10 text-center text-txt-muted font-bold",children:"Nenhuma movimentacao no periodo selecionado."})}):$t.map(se=>i.jsxs("tr",{className:"hover:bg-app transition-colors",children:[i.jsx("td",{className:"px-6 py-3 font-mono text-txt-muted text-xs",children:se.time}),i.jsx("td",{className:"px-6 py-3 font-medium text-txt-muted",children:se.user}),i.jsx("td",{className:"px-6 py-3",children:i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx("span",{className:`px-2 py-1 rounded-md text-[10px] font-black uppercase border ${se.categoryTone==="green"?"bg-green-500/10 text-green-600 border-green-500/20":se.categoryTone==="red"?"bg-red-500/10 text-red-600 border-red-500/20":"bg-surface text-txt-muted border-bdr"}`,children:se.category}),se.description&&i.jsx("span",{className:"text-xs text-txt-muted",children:se.description})]})}),i.jsx("td",{className:`px-6 py-3 text-right font-black ${se.value<0?"text-red-500":"text-green-600"}`,children:$e(se.value)}),i.jsx("td",{className:"px-6 py-3",children:i.jsx("span",{className:"px-2 py-1 rounded text-[10px] font-black uppercase border border-bdr bg-app text-txt-muted",children:se.status})})]},se.id))})]})}),i.jsx("div",{className:"border-t border-bdr bg-app/30 px-6 py-4",children:i.jsx("h4",{className:"text-xs font-black text-txt-main uppercase tracking-widest",children:"O.S. do Turno"})}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm text-left",children:[i.jsx("thead",{className:"bg-app text-[10px] text-txt-muted uppercase font-black tracking-wider border-b border-bdr",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-4",children:"O.S."}),i.jsx("th",{className:"px-6 py-4",children:"Abertura"}),i.jsx("th",{className:"px-6 py-4",children:"Operador"}),i.jsx("th",{className:"px-6 py-4",children:"Entregador"}),i.jsx("th",{className:"px-6 py-4",children:"Status"})]})}),i.jsx("tbody",{className:"divide-y divide-bdr",children:Gr.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-txt-muted font-bold",children:"Nenhuma O.S. registrada neste turno."})}):Gr.map(se=>i.jsxs("tr",{className:`hover:bg-app transition-colors ${se.isOpen?"bg-red-500/5":""}`,children:[i.jsx("td",{className:"px-6 py-3 font-black text-txt-main",children:se.osNumber}),i.jsx("td",{className:"px-6 py-3 text-xs text-txt-muted",children:se.openedAt}),i.jsx("td",{className:"px-6 py-3 text-txt-muted",children:se.operador}),i.jsx("td",{className:"px-6 py-3 text-txt-muted",children:se.entregador}),i.jsx("td",{className:"px-6 py-3",children:i.jsx("span",{className:`px-2 py-1 rounded text-[10px] font-black uppercase border ${se.isOpen?"bg-red-500/10 text-red-500 border-red-500/20":"bg-green-500/10 text-green-600 border-green-500/20"}`,children:se.status})})]},se.id))})]})}),i.jsx("div",{className:"border-t border-bdr bg-app/30 px-6 py-4",children:i.jsx("h4",{className:"text-xs font-black text-txt-main uppercase tracking-widest",children:"Movimentos de Estoque"})}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm text-left",children:[i.jsx("thead",{className:"bg-app text-[10px] text-txt-muted uppercase font-black tracking-wider border-b border-bdr",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-4",children:"Data/Hora"}),i.jsx("th",{className:"px-6 py-4",children:"Produto"}),i.jsx("th",{className:"px-6 py-4",children:"Tipo"}),i.jsx("th",{className:"px-6 py-4 text-right",children:"Qtd."}),i.jsx("th",{className:"px-6 py-4",children:"Operador"}),i.jsx("th",{className:"px-6 py-4",children:"Motivo"})]})}),i.jsx("tbody",{className:"divide-y divide-bdr",children:Xr.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-txt-muted font-bold",children:"Nenhum movimento de estoque neste turno."})}):Xr.map(se=>i.jsxs("tr",{className:"hover:bg-app transition-colors",children:[i.jsx("td",{className:"px-6 py-3 text-xs text-txt-muted",children:se.when}),i.jsx("td",{className:"px-6 py-3 font-medium text-txt-main",children:se.produto}),i.jsx("td",{className:"px-6 py-3",children:i.jsx("span",{className:"px-2 py-1 rounded text-[10px] font-black uppercase border border-bdr bg-app text-txt-muted",children:se.tipo})}),i.jsx("td",{className:"px-6 py-3 text-right font-black text-txt-main",children:se.quantidade}),i.jsx("td",{className:"px-6 py-3 text-txt-muted",children:se.operador}),i.jsx("td",{className:"px-6 py-3 text-xs text-txt-muted",children:se.motivo})]},se.id))})]})})]})]}),t==="audit"&&i.jsxs("div",{className:"bg-surface rounded-xl shadow-sm border border-bdr flex flex-col min-h-[600px] animate-in fade-in slide-in-from-bottom-2 duration-300 transition-colors",children:[i.jsx("div",{className:"p-6 border-b border-bdr bg-app/30",children:i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsxs("h3",{className:"font-black text-txt-main flex items-center gap-2 text-sm uppercase tracking-wide",children:[i.jsx(cd,{className:"w-5 h-5 text-orange-500"}),"Tempo de Ciclo de Pedidos (Timeline)"]}),i.jsxs("div",{className:"flex gap-2 text-[10px] font-bold uppercase tracking-wide",children:[i.jsx("span",{className:"px-2 py-1 rounded bg-green-500/10 text-green-600 border border-green-500/20",children:"Rpido (< 30min)"}),i.jsx("span",{className:"px-2 py-1 rounded bg-yellow-500/10 text-yellow-600 border border-yellow-500/20",children:"Mdio (30-60min)"}),i.jsx("span",{className:"px-2 py-1 rounded bg-red-500/10 text-red-600 border border-red-500/20",children:"Crtico (> 60min)"})]})]})}),i.jsxs("div",{className:"px-6 py-4 border-b border-bdr bg-app/10",children:[cr&&i.jsx("p",{className:"text-xs font-bold text-txt-muted mb-3",children:"Carregando dados da auditoria..."}),!cr&&Ht,i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-3",children:[i.jsxs("div",{className:"bg-surface border border-bdr rounded-xl p-4",children:[i.jsx("p",{className:"text-[10px] uppercase font-black text-txt-muted",children:"Entregador com mais entregas"}),i.jsx("p",{className:"text-sm font-black text-txt-main mt-2",children:jn.topDriver.nome}),i.jsxs("p",{className:"text-xs text-txt-muted",children:[jn.topDriver.count," entregas"]})]}),i.jsxs("div",{className:"bg-surface border border-bdr rounded-xl p-4",children:[i.jsx("p",{className:"text-[10px] uppercase font-black text-txt-muted",children:"Entregador mais rapido"}),i.jsx("p",{className:"text-sm font-black text-txt-main mt-2",children:jn.fastestDriver.nome}),i.jsxs("p",{className:"text-xs text-txt-muted",children:[jn.fastestDriver.avgMinutes," min medio"]})]}),i.jsxs("div",{className:"bg-surface border border-bdr rounded-xl p-4",children:[i.jsx("p",{className:"text-[10px] uppercase font-black text-txt-muted",children:"Deposito que mais vendeu"}),i.jsx("p",{className:"text-sm font-black text-txt-main mt-2",children:jn.topDeposit.nome}),i.jsx("p",{className:"text-xs text-txt-muted",children:$e(jn.topDeposit.total)})]}),i.jsxs("div",{className:"bg-surface border border-bdr rounded-xl p-4",children:[i.jsx("p",{className:"text-[10px] uppercase font-black text-txt-muted",children:"Caixa com mais abertura/fechamento"}),i.jsx("p",{className:"text-sm font-black text-txt-main mt-2",children:jn.topCashier.nome}),i.jsxs("p",{className:"text-xs text-txt-muted",children:[jn.topCashier.open," aberturas | ",jn.topCashier.close," fechamentos"]})]}),i.jsxs("div",{className:"bg-surface border border-bdr rounded-xl p-4",children:[i.jsx("p",{className:"text-[10px] uppercase font-black text-txt-muted",children:"Cliente com maior valor"}),i.jsx("p",{className:"text-sm font-black text-txt-main mt-2",children:jn.topClientByValue.nome}),i.jsx("p",{className:"text-xs text-txt-muted",children:$e(jn.topClientByValue.total)})]}),i.jsxs("div",{className:"bg-surface border border-bdr rounded-xl p-4",children:[i.jsx("p",{className:"text-[10px] uppercase font-black text-txt-muted",children:"Cliente com mais pedidos"}),i.jsx("p",{className:"text-sm font-black text-txt-main mt-2",children:jn.topClientByOrders.nome}),i.jsxs("p",{className:"text-xs text-txt-muted",children:[jn.topClientByOrders.count," pedidos"]})]})]})]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm text-left",children:[i.jsx("thead",{className:"bg-surface text-[10px] text-txt-muted uppercase font-black border-b border-bdr tracking-wider",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-4",children:"N O.S."}),i.jsx("th",{className:"px-6 py-4",children:"Cliente"}),i.jsx("th",{className:"px-6 py-4",children:"Entregador"}),i.jsx("th",{className:"px-6 py-4",children:"Abertura"}),i.jsx("th",{className:"px-6 py-4",children:"Concluso"}),i.jsx("th",{className:"px-6 py-4 text-center",children:"Durao Total"}),i.jsx("th",{className:"px-6 py-4 text-center",children:"Status"})]})}),i.jsx("tbody",{className:"divide-y divide-bdr",children:Hn.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:7,className:"px-6 py-10 text-center text-txt-muted font-bold",children:"Nenhum registro de O.S. no perodo selecionado."})}):Hn.map((se,pt)=>i.jsxs("tr",{className:"hover:bg-app transition-colors",children:[i.jsx("td",{className:"px-6 py-4 font-mono font-bold text-txt-main",children:se.osNumber}),i.jsx("td",{className:"px-6 py-4 font-medium text-txt-muted",children:se.client}),i.jsx("td",{className:"px-6 py-4 font-medium text-txt-muted",children:se.driver}),i.jsx("td",{className:"px-6 py-4 text-txt-muted text-xs",children:se.openedAt}),i.jsx("td",{className:"px-6 py-4 text-txt-muted text-xs",children:se.closedAt}),i.jsx("td",{className:"px-6 py-4 text-center",children:i.jsxs("span",{className:"font-black text-green-600",children:[se.durationMinutes," min"]})}),i.jsx("td",{className:"px-6 py-4 text-center",children:i.jsx("span",{className:`px-2 py-1 rounded-md text-[10px] font-black uppercase border ${se.status==="CONCLUIDO"?"bg-green-500/10 text-green-600 border-green-500/20":se.status==="PENDENTE"?"bg-yellow-500/10 text-yellow-600 border-yellow-500/20":"bg-red-500/10 text-red-600 border-red-500/20"}`,children:se.status==="CONCLUIDO"?"CONCLUDO":se.status==="PENDENTE"?"PENDENTE":"CANCELADO"})})]},pt))})]})})]}),t==="receivable"&&i.jsxs("div",{className:"bg-surface rounded-xl shadow-sm border border-bdr flex flex-col min-h-[600px] animate-in fade-in slide-in-from-bottom-2 duration-300 transition-colors",children:[i.jsxs("div",{className:"p-6 border-b border-bdr flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsxs("h3",{className:"font-black text-txt-main flex items-center gap-2 text-sm uppercase tracking-wide",children:[i.jsx(Eh,{className:"w-5 h-5 text-green-500"}),"Contas a Receber"]}),i.jsx("p",{className:"text-xs text-txt-muted font-bold",children:"Prximas no perodo filtrado"})]}),i.jsxs("button",{onClick:()=>m(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg text-xs font-black uppercase tracking-wide text-white shadow-sm transition-transform active:scale-95 bg-green-600 hover:bg-green-700",children:[i.jsx(Wi,{className:"w-4 h-4"}),"Nova Conta"]})]}),i.jsxs("div",{className:"px-6 py-4 border-b border-bdr flex flex-wrap items-center justify-between gap-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm font-semibold text-txt-muted uppercase",children:"Total previsto"}),i.jsx("span",{className:"text-2xl font-black text-green-500",children:$e(Rt)})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-[11px] font-bold text-txt-muted uppercase",children:"Filtro"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>b("all"),className:`px-3 py-1.5 rounded text-xs font-black border ${g==="all"?"bg-green-600 text-white border-green-500":"bg-app text-txt-muted border-bdr"}`,children:"Todos"}),i.jsx("button",{onClick:()=>b("personal"),className:`px-3 py-1.5 rounded text-xs font-black border ${g==="personal"?"bg-purple-600 text-white border-purple-500":"bg-app text-txt-muted border-bdr"}`,children:"Pessoais"}),i.jsx("button",{onClick:()=>b("with-client"),className:`px-3 py-1.5 rounded text-xs font-black border ${g==="with-client"?"bg-blue-600 text-white border-blue-500":"bg-app text-txt-muted border-bdr"}`,children:"Com cliente"})]})]})]}),i.jsx("div",{className:"flex-1 overflow-x-auto",children:xr.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center text-txt-muted p-12",children:[i.jsx(bx,{className:"w-16 h-16 mb-4 opacity-20"}),i.jsx("p",{className:"text-lg font-bold mb-2 text-txt-main",children:"Nenhum registro encontrado neste perodo"}),i.jsx("p",{className:"text-sm font-medium opacity-70",children:"Use o filtro de datas ou adicione novas contas."})]}):i.jsxs("table",{className:"w-full text-sm text-left",children:[i.jsx("thead",{className:"bg-app text-[10px] text-txt-muted uppercase font-black tracking-wider border-b border-bdr",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3",children:"Descrio / Cliente"}),i.jsx("th",{className:"px-4 py-3",children:"Vencimento"}),i.jsx("th",{className:"px-4 py-3 text-right",children:"Valor"}),i.jsx("th",{className:"px-4 py-3 text-right",children:"Pago"}),i.jsx("th",{className:"px-4 py-3 text-right",children:"Pendente"}),i.jsx("th",{className:"px-4 py-3 text-center",children:"Status"}),i.jsx("th",{className:"px-4 py-3 text-center",children:"Tipo"}),i.jsx("th",{className:"px-4 py-3 text-right",children:"Aes"})]})}),i.jsx("tbody",{className:"divide-y divide-bdr",children:xr.sort((se,pt)=>(se.vencimento_em||0)-(pt.vencimento_em||0)).map(se=>{const pt=z[se.id];return i.jsxs("tr",{className:"hover:bg-app transition-colors",children:[i.jsxs("td",{className:"px-4 py-3",children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsx("span",{className:"font-bold text-txt-main",children:se.description||se.devedor_nome||"Conta"}),se.requires_boleto&&i.jsx("span",{className:"px-2 py-0.5 rounded border border-amber-500/30 bg-amber-500/10 text-[10px] font-black uppercase tracking-wide text-amber-400",children:"Boleto"})]}),se.devedor_nome&&i.jsx("div",{className:"text-xs text-txt-muted",children:se.devedor_nome})]}),i.jsx("td",{className:"px-4 py-3 text-txt-muted",children:new Date(se.vencimento_em).toLocaleDateString("pt-BR")}),i.jsx("td",{className:"px-4 py-3 text-right font-semibold",children:$e(se.total)}),i.jsx("td",{className:"px-4 py-3 text-right text-txt-muted",children:$e(se.paid)}),i.jsx("td",{className:"px-4 py-3 text-right font-black text-green-500",children:$e(se.remaining)}),i.jsx("td",{className:"px-4 py-3 text-center",children:i.jsx("span",{className:`px-2 py-1 rounded-md text-[10px] font-black uppercase border ${se.overdue?"bg-red-500/10 text-red-600 border-red-500/20":"bg-amber-500/10 text-amber-600 border-amber-500/20"}`,children:se.overdue?"Vencido":se.status})}),i.jsx("td",{className:"px-4 py-3 text-center",children:se.is_personal?i.jsx("span",{className:"px-2 py-1 rounded bg-purple-500/10 text-purple-500 text-[10px] font-black uppercase border border-purple-500/20",children:"Pessoal"}):i.jsx("span",{className:"px-2 py-1 rounded bg-green-500/10 text-green-600 text-[10px] font-black uppercase border border-green-500/20",children:"Comrcio"})}),i.jsx("td",{className:"px-4 py-3 text-right",children:i.jsxs("div",{className:"flex items-center justify-end gap-2",children:[se.requires_boleto?i.jsxs("button",{title:pt?"Ver boleto":"Emitir boleto",onClick:()=>Ye(se.id),className:`flex items-center gap-1 px-2 py-1 rounded text-xs font-bold border ${de(pt)}`,children:[i.jsx(xx,{className:"w-4 h-4"}),Ke(pt)]}):null,i.jsx("button",{title:"Detalhes",onClick:()=>{_(se.id),H(new Date(se.vencimento_em).toISOString().slice(0,10)),C(""),F(""),ae(new Date().toISOString().slice(0,10))},className:"px-2 py-1 rounded text-xs font-bold bg-app border border-bdr text-txt-muted",children:"Detalhes"}),i.jsx("button",{title:"Registrar pagamento parcial",onClick:()=>{const bt=prompt("Valor a registrar?",se.remaining.toFixed(2));bt&&zt(se.id,bt)},className:"p-2 rounded border border-bdr hover:bg-app text-txt-muted",children:i.jsx(_x,{className:"w-4 h-4"})}),i.jsx("button",{title:"Quitar",onClick:()=>Tt(se.id,"",void 0),className:"px-2 py-1 rounded text-xs font-bold bg-green-600 text-white",children:"Baixar"}),i.jsx("button",{title:"Excluir",onClick:()=>Rr(se.id),className:"p-2 rounded border border-red-500/40 text-red-500 hover:bg-red-500/10",children:i.jsx(Gs,{className:"w-4 h-4"})})]})})]},se.id)})})]})})]}),t==="payable"&&i.jsxs("div",{className:"bg-surface rounded-xl shadow-sm border border-bdr flex flex-col min-h-[600px] animate-in fade-in slide-in-from-bottom-2 duration-300 transition-colors",children:[i.jsxs("div",{className:"p-6 border-b border-bdr flex justify-between items-center",children:[i.jsxs("h3",{className:"font-black text-txt-main flex items-center gap-2 text-sm uppercase tracking-wide",children:[i.jsx(Eh,{className:"w-5 h-5 text-red-500"}),"Contas a Pagar"]}),i.jsxs("button",{onClick:()=>d(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg text-xs font-black uppercase tracking-wide text-white shadow-sm transition-transform active:scale-95 bg-red-600 hover:bg-red-700",children:[i.jsx(Wi,{className:"w-4 h-4"}),"Nova Despesa"]})]}),i.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-txt-muted p-12",children:[i.jsx(bx,{className:"w-16 h-16 mb-4 opacity-20"}),i.jsx("p",{className:"text-lg font-bold mb-2 text-txt-main",children:"Nenhum registro encontrado neste perodo"}),i.jsx("p",{className:"text-sm font-medium opacity-70",children:"Utilize o boto acima para adicionar novos registros manualmente ou altere o filtro de datas."})]})]})]})}),B&&Ut&&i.jsx("div",{className:"fixed inset-0 bg-black/70 z-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-surface w-full max-w-3xl rounded-xl border border-bdr shadow-xl text-white flex flex-col max-h-[90vh]",children:[i.jsxs("div",{className:"flex items-center justify-between px-5 py-4 border-b border-bdr",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-black",children:"Detalhes da Conta"}),i.jsxs("p",{className:"text-xs text-txt-muted",children:[Ut.description||Ut.devedor_nome||"Conta","  Vence em ",new Date(Ut.vencimento_em).toLocaleDateString("pt-BR")]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>window.print(),className:"px-3 py-2 rounded bg-app border border-bdr text-sm font-bold",children:"Imprimir"}),i.jsx("button",{onClick:()=>_(null),className:"p-2 rounded hover:bg-red-500/10 text-txt-muted hover:text-red-400",children:"Fechar"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 px-5 py-4 border-b border-bdr text-sm",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-txt-muted text-xs uppercase font-bold",children:"Valor"}),i.jsx("div",{className:"text-xl font-black",children:$e(Ut.total)})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-txt-muted text-xs uppercase font-bold",children:"Pago"}),i.jsx("div",{className:"text-lg font-semibold text-green-400",children:$e(Ut.paid)})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-txt-muted text-xs uppercase font-bold",children:"Pendente"}),i.jsx("div",{className:"text-lg font-black text-amber-400",children:$e(Ut.remaining)})]})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto px-5 py-4 space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"p-4 rounded border border-bdr bg-app/60",children:[i.jsxs("h4",{className:"text-sm font-black mb-3 flex items-center gap-2",children:[i.jsx(_x,{className:"w-4 h-4"})," Registrar pagamento"]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("input",{value:T,onChange:se=>C(se.target.value),placeholder:"Valor",className:"w-full p-2 rounded bg-app border border-bdr text-white"}),i.jsx("input",{type:"date",value:R,onChange:se=>ae(se.target.value),className:"w-full p-2 rounded bg-app border border-bdr text-white"}),i.jsxs("select",{value:I,onChange:se=>F(se.target.value),className:"w-full p-2 rounded bg-app border border-bdr text-white",children:[i.jsx("option",{value:"",children:"Forma de pagamento"}),(ce||[]).map(se=>i.jsx("option",{value:se.id,children:se.nome},se.id))]}),i.jsx("input",{value:Z,onChange:se=>me(se.target.value),placeholder:"Observaes (opcional)",className:"w-full p-2 rounded bg-app border border-bdr text-white"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:vt,className:"flex-1 bg-amber-500 text-black font-black py-2 rounded disabled:opacity-60",children:k?"Atualizar":"Salvar pagamento"}),i.jsx("button",{onClick:()=>Tt(Ut.id,I,R,Z),className:"flex-1 bg-green-600 text-white font-black py-2 rounded",children:"Quitar pendente"})]}),k&&i.jsx("button",{onClick:()=>{j(null),C(""),me("")},className:"text-xs text-txt-muted underline",children:"Cancelar edio"})]})]}),i.jsxs("div",{className:"p-4 rounded border border-bdr bg-app/60",children:[i.jsx("h4",{className:"text-sm font-black mb-3",children:"Ajustar vencimento"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("input",{type:"date",value:ee||new Date(Ut.vencimento_em).toISOString().slice(0,10),onChange:se=>H(se.target.value),className:"w-full p-2 rounded bg-app border border-bdr text-white"}),i.jsx("button",{onClick:()=>Wt(Ut.id,ee||new Date(Ut.vencimento_em).toISOString().slice(0,10)),className:"w-full bg-blue-600 text-white font-black py-2 rounded",children:"Salvar nova data"})]})]})]}),i.jsxs("div",{className:"p-4 rounded border border-bdr bg-app/60",children:[i.jsx("h4",{className:"text-sm font-black mb-3",children:"Histrico de pagamentos"}),Be&&Be.length>0?i.jsx("div",{className:"space-y-2",children:Be.sort((se,pt)=>pt.data_hora-se.data_hora).map(se=>i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between text-sm bg-app rounded px-3 py-2 border border-bdr gap-2",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold",children:$e(se.valor)}),i.jsxs("div",{className:"text-xs text-txt-muted",children:[new Date(se.data_hora).toLocaleString("pt-BR"),se.payment_method_id?`  Forma: ${Lt.get(se.payment_method_id)||se.payment_method_id}`:""]}),se.obs&&i.jsxs("div",{className:"text-xs text-amber-400",children:["Obs: ",se.obs]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("span",{className:"text-xs text-txt-muted",children:["Usurio: ",se.usuario_id]}),i.jsx("button",{className:"px-2 py-1 rounded text-xs font-bold bg-app border border-bdr text-txt-muted",onClick:()=>{j(se.id),C(String(se.valor)),F(se.payment_method_id||""),ae(new Date(se.data_hora).toISOString().slice(0,10)),me(se.obs||"")},children:"Editar"})]})]},se.id))}):i.jsx("p",{className:"text-sm text-txt-muted",children:"Nenhum pagamento registrado."})]}),i.jsxs("div",{className:"p-4 rounded border border-bdr bg-app/60",children:[i.jsx("h4",{className:"text-sm font-black mb-3",children:"Nova parcela"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:[i.jsx("input",{value:W,onChange:se=>K(se.target.value),placeholder:"Valor da parcela",className:"p-2 rounded bg-app border border-bdr text-white"}),i.jsx("input",{type:"date",value:$,onChange:se=>re(se.target.value),className:"p-2 rounded bg-app border border-bdr text-white"}),i.jsx("button",{onClick:()=>Lr(Ut,W,$),className:"bg-amber-500 text-black font-black py-2 rounded disabled:opacity-60",disabled:!W,children:"Gerar parcela"})]})]})]})]})}),i.jsx(xI,{isOpen:a,onClose:()=>o(!1),defaultGoal:yt}),i.jsx(mI,{isOpen:c,onClose:()=>d(!1)}),i.jsx(gI,{isOpen:h,onClose:()=>m(!1)}),le&&Et&&i.jsx(yI,{receivable:Et,onClose:tt,onSaved:We})]})};function BI({isOpen:r,onClose:e,initialMethod:t,onSaved:n}){const[a,o]=q.useState(""),[c,d]=q.useState("cash"),[h,m]=q.useState(!1),[g,b]=q.useState(0),[B,_]=q.useState(!0),[k,j]=q.useState(""),[T,C]=q.useState(!1),I=c==="cash"||c==="pix";q.useEffect(()=>{if(!r)return;o((t==null?void 0:t.name)??"");const ae=(t==null?void 0:t.receipt_type)??"cash";d(ae),m((t==null?void 0:t.enters_receivables)??(ae==="card"||ae==="fiado")),b((t==null?void 0:t.default_due_days)??0),_((t==null?void 0:t.is_active)??!0),j((t==null?void 0:t.machine_label)??"")},[r,t]),q.useEffect(()=>{I&&(m(!1),b(0))},[I]);const F=q.useMemo(()=>a.trim().length>0&&!!c,[a,c]);if(!r)return null;const R=async()=>{if(!F){alert("Preencha o nome e selecione um tipo.");return}try{C(!0);const ae={id:(t==null?void 0:t.id)??crypto.randomUUID(),name:a.trim(),receipt_type:c,enters_receivables:I?!1:h,default_due_days:I?0:Number(g)||0,is_active:B,machine_label:k||void 0,created_at:t==null?void 0:t.created_at,updated_at:t==null?void 0:t.updated_at},Z=await upsertPaymentMethod(ae);n==null||n(Z),e()}catch(ae){console.error(ae),alert("Erro ao salvar forma de pagamento.")}finally{C(!1)}};return i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:i.jsxs("div",{className:"w-full max-w-lg bg-surface border border-bdr rounded-2xl shadow-2xl p-6 space-y-6 animate-in zoom-in-95 duration-200",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-black uppercase tracking-widest text-txt-muted",children:"Cadastro"}),i.jsx("h2",{className:"text-xl font-black text-txt-main",children:"Forma de Pagamento"})]}),i.jsx("button",{onClick:e,className:"text-txt-muted hover:text-txt-main transition-colors","aria-label":"Fechar",children:i.jsx(Pn,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-xs font-black uppercase tracking-widest text-txt-muted",children:"Nome"}),i.jsx("input",{className:"w-full bg-app border border-bdr rounded-lg px-3 py-2 text-sm font-bold text-txt-main focus:ring-2 focus:ring-emerald-500 outline-none",value:a,onChange:ae=>o(ae.target.value),placeholder:"Ex.: Dinheiro, Carto Crdito"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-xs font-black uppercase tracking-widest text-txt-muted",children:"Tipo"}),i.jsxs("select",{className:"w-full bg-app border border-bdr rounded-lg px-3 py-2 text-sm font-bold text-txt-main focus:ring-2 focus:ring-emerald-500 outline-none",value:c,onChange:ae=>d(ae.target.value),children:[i.jsx("option",{value:"cash",children:"Dinheiro"}),i.jsx("option",{value:"card",children:"Carto"}),i.jsx("option",{value:"pix",children:"Pix"}),i.jsx("option",{value:"fiado",children:"Fiado/Boleto"}),i.jsx("option",{value:"boleto",children:"Boleto"}),i.jsx("option",{value:"other",children:"Outro"})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("label",{className:"flex items-center gap-2 text-sm font-bold text-txt-main",children:[i.jsx("input",{type:"checkbox",className:"w-4 h-4",checked:I?!1:h,onChange:ae=>m(ae.target.checked),disabled:I}),"Gera Conta a Receber?"]}),i.jsx("span",{className:"text-xs text-txt-muted",children:"Dinheiro/Pix sempre recebem  vista."})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-xs font-black uppercase tracking-widest text-txt-muted",children:"Prazo Padro (dias)"}),i.jsx("input",{type:"number",min:0,className:"w-full bg-app border border-bdr rounded-lg px-3 py-2 text-sm font-bold text-txt-main focus:ring-2 focus:ring-emerald-500 outline-none",value:g,onChange:ae=>b(Number(ae.target.value)||0),disabled:I||!h})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-xs font-black uppercase tracking-widest text-txt-muted",children:"Rtulo Mquina (opcional)"}),i.jsx("input",{className:"w-full bg-app border border-bdr rounded-lg px-3 py-2 text-sm font-bold text-txt-main focus:ring-2 focus:ring-emerald-500 outline-none",value:k,onChange:ae=>j(ae.target.value),placeholder:"Ex.: Stone-01"})]})]}),i.jsxs("label",{className:"flex items-center gap-2 text-sm font-bold text-txt-main",children:[i.jsx("input",{type:"checkbox",className:"w-4 h-4",checked:B,onChange:ae=>_(ae.target.checked)}),"Ativo"]})]}),i.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[i.jsx("button",{onClick:e,className:"px-4 py-2 rounded-lg border border-bdr text-txt-muted hover:text-txt-main hover:border-txt-main/40 transition-colors",type:"button",children:"Cancelar"}),i.jsx("button",{onClick:R,disabled:!F||T,className:"px-5 py-2 rounded-lg bg-emerald-600 hover:bg-emerald-700 text-white font-black uppercase tracking-wide shadow-lg shadow-emerald-600/20 disabled:opacity-60",type:"button",children:T?"Salvando...":"Salvar"})]})]})})}const NI={cash:"Dinheiro",card:"Carto",pix:"Pix",fiado:"Fiado/Boleto",boleto:"Boleto",other:"Outros"};function CI({methods:r,onEdit:e,onDelete:t}){return r.length?i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:r.map(n=>i.jsxs("div",{className:"bg-surface border border-bdr rounded-xl p-4 shadow-sm flex flex-col gap-3",children:[i.jsxs("div",{className:"flex justify-between items-start gap-3",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-black uppercase tracking-widest text-txt-muted",children:"Nome"}),i.jsx("h4",{className:"text-lg font-black text-txt-main",children:n.name})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>e(n),className:"p-2 rounded-lg hover:bg-app text-txt-muted hover:text-txt-main transition-colors",title:"Editar",children:i.jsx(Cb,{className:"w-4 h-4"})}),i.jsx("button",{onClick:()=>t(n.id),className:"p-2 rounded-lg hover:bg-red-500/10 text-red-500 transition-colors",title:"Excluir",children:i.jsx(Gs,{className:"w-4 h-4"})})]})]}),i.jsxs("div",{className:"flex flex-wrap gap-2 text-[11px] font-black uppercase tracking-wide",children:[i.jsx("span",{className:"px-2 py-1 rounded-full bg-emerald-500/10 text-emerald-600 border border-emerald-500/20",children:NI[n.receipt_type]??"Tipo"}),i.jsx("span",{className:`px-2 py-1 rounded-full border ${n.enters_receivables?"bg-yellow-500/10 text-yellow-600 border-yellow-500/20":"bg-gray-500/10 text-gray-400 border-gray-500/20"}`,children:n.enters_receivables?"Gera Conta":"No gera"}),i.jsxs("span",{className:"px-2 py-1 rounded-full bg-indigo-500/10 text-indigo-600 border border-indigo-500/20 flex items-center gap-1",children:[i.jsx(gE,{className:"w-3 h-3"})," ",n.default_due_days,"d"]})]}),i.jsx("div",{className:"flex items-center gap-2 text-sm font-black",children:n.is_active?i.jsxs("span",{className:"flex items-center gap-1 text-emerald-600",children:[i.jsx(Yl,{className:"w-4 h-4"})," ATIVO"]}):i.jsxs("span",{className:"flex items-center gap-1 text-red-500",children:[i.jsx(Ch,{className:"w-4 h-4"})," INATIVO"]})})]},n.id))}):i.jsx("div",{className:"p-6 text-center text-txt-muted border border-dashed border-bdr rounded-xl bg-app/30",children:"Nenhuma forma de pagamento cadastrada."})}const EI=({onClose:r})=>{const[e,t]=q.useState("methods"),[n,a]=q.useState([]),[o,c]=q.useState([]),[d,h]=q.useState([]),[m,g]=q.useState(!1),[b,B]=q.useState(!1),[_,k]=q.useState(""),[j,T]=q.useState(null),[C,I]=q.useState({}),F=q.useCallback(async()=>{const H=await listPaymentMethods();a(H)},[]);q.useEffect(()=>{let H=!0;return(async()=>{const[W,K,$]=await Promise.all([listPaymentMethods(),listMachines(),listDeposits()]);H&&(a(W),c(K),h($))})(),()=>{H=!1}},[]);const R=async H=>{confirm("Tem certeza? Isso pode afetar relatrios antigos.")&&(await deletePaymentMethod(H),await F())},ae=async()=>{if(!C.nome)return alert("Nome da maquininha  obrigatrio");const H={id:C.id||crypto.randomUUID(),nome:C.nome,taxaDebito:Number(C.taxaDebito)||0,taxaCreditoVista:Number(C.taxaCreditoVista)||0,taxaCreditoParcelado:Number(C.taxaCreditoParcelado)||0,depositosPermitidos:C.depositosPermitidos||[],ativo:C.ativo??!0};await upsertMachine(H);const W=await listMachines();c(W),B(!1),await recordAudit({usuario_id:"ADMIN",deposit_id:void 0,entidade:"PAGAMENTO",entidade_id:H.id,acao:"UPDATE",depois_json:H,antes_json:C.id?o.find(K=>K.id===C.id):void 0})},Z=async H=>{if(!confirm("Excluir maquininha?"))return;await deleteMachine(H);const W=await listMachines();c(W)},me=n.filter(H=>(H.name??"").toLowerCase().includes(_.toLowerCase())),ee=o.filter(H=>H.nome.toLowerCase().includes(_.toLowerCase()));return i.jsxs("div",{className:"fixed inset-0 bg-app/90 backdrop-blur-sm z-50 flex flex-col animate-in fade-in duration-300",children:[i.jsxs("div",{className:"bg-surface border-b border-bdr px-6 py-4 flex justify-between items-center shadow-sm shrink-0",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"bg-emerald-500/10 p-2 rounded-xl border border-emerald-500/20",children:i.jsx(hd,{className:"w-6 h-6 text-emerald-600"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-black text-txt-main tracking-tight",children:"Formas de Pagamento & Mquinas"}),i.jsx("p",{className:"text-xs text-txt-muted font-bold uppercase tracking-widest",children:"Configurao Financeira"})]})]}),i.jsx("button",{onClick:r,className:"p-2 hover:bg-red-500/10 hover:text-red-500 text-txt-muted rounded-full transition-colors",children:i.jsx(Pn,{className:"w-6 h-6"})})]}),i.jsx("div",{className:"bg-surface border-b border-bdr px-6",children:i.jsxs("div",{className:"flex gap-8",children:[i.jsxs("button",{onClick:()=>t("methods"),className:`pb-4 pt-4 text-sm font-black uppercase tracking-widest border-b-4 transition-all flex items-center gap-2 ${e==="methods"?"border-emerald-500 text-emerald-600":"border-transparent text-txt-muted hover:text-txt-main"}`,children:[i.jsx(f5,{className:"w-4 h-4"})," Formas de Pagamento"]}),i.jsxs("button",{onClick:()=>t("machines"),className:`pb-4 pt-4 text-sm font-black uppercase tracking-widest border-b-4 transition-all flex items-center gap-2 ${e==="machines"?"border-emerald-500 text-emerald-600":"border-transparent text-txt-muted hover:text-txt-main"}`,children:[i.jsx(s0,{className:"w-4 h-4"})," Mquinas de Carto"]})]})}),i.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-app",children:i.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[i.jsxs("div",{className:"bg-surface p-4 rounded-xl shadow-sm border border-bdr flex flex-col md:flex-row justify-between items-center gap-4",children:[i.jsxs("div",{className:"relative w-full md:w-96",children:[i.jsx(Xl,{className:"w-4 h-4 text-txt-muted absolute left-3 top-3"}),i.jsx("input",{type:"text",placeholder:e==="methods"?"Buscar forma de pagamento...":"Buscar maquininha...",value:_,onChange:H=>k(H.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-app border border-bdr rounded-xl text-sm focus:ring-2 focus:ring-emerald-500 outline-none text-txt-main font-bold"})]}),i.jsxs("button",{onClick:()=>{e==="methods"?(T(null),g(!0)):(I({ativo:!0,depositosPermitidos:[]}),B(!0))},className:"w-full md:w-auto bg-emerald-500 hover:bg-emerald-600 text-white px-6 py-2.5 rounded-xl font-black text-sm shadow-lg shadow-emerald-500/20 flex items-center justify-center gap-2 transition-transform active:scale-95",children:[i.jsx(Wi,{className:"w-4 h-4"}),e==="methods"?"NOVA FORMA PAGTO":"NOVA MAQUININHA"]})]}),e==="methods"&&i.jsx("div",{className:"bg-surface rounded-2xl shadow-sm border border-bdr p-4 overflow-hidden animate-in fade-in",children:i.jsx(CI,{methods:me,onEdit:H=>{T(H),g(!0)},onDelete:R})}),e==="machines"&&i.jsx("div",{className:"bg-surface rounded-2xl shadow-sm border border-bdr overflow-hidden animate-in fade-in",children:i.jsxs("table",{className:"w-full text-left text-sm",children:[i.jsx("thead",{className:"bg-app border-b border-bdr text-xs font-black text-txt-muted uppercase tracking-widest",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-4",children:"Nome da Maquininha"}),i.jsx("th",{className:"px-6 py-4 text-center",children:"Taxa Dbito"}),i.jsx("th",{className:"px-6 py-4 text-center",children:"Taxa Crdito Vista"}),i.jsx("th",{className:"px-6 py-4 text-center",children:"Taxa Crdito Parc."}),i.jsx("th",{className:"px-6 py-4",children:"Depsitos Permitidos"}),i.jsx("th",{className:"px-6 py-4 text-right",children:"Aes"})]})}),i.jsx("tbody",{className:"divide-y divide-bdr",children:ee.map(H=>i.jsxs("tr",{className:"hover:bg-app transition-colors group",children:[i.jsxs("td",{className:"px-6 py-4 font-bold text-txt-main flex items-center gap-2",children:[i.jsx(s0,{className:"w-4 h-4 text-txt-muted"}),H.nome]}),i.jsxs("td",{className:"px-6 py-4 text-center font-mono text-txt-main",children:[H.taxaDebito,"%"]}),i.jsxs("td",{className:"px-6 py-4 text-center font-mono text-txt-main",children:[H.taxaCreditoVista,"%"]}),i.jsxs("td",{className:"px-6 py-4 text-center font-mono text-txt-main",children:[H.taxaCreditoParcelado,"%"]}),i.jsx("td",{className:"px-6 py-4",children:i.jsx("div",{className:"flex gap-1 flex-wrap",children:H.depositosPermitidos.map(W=>i.jsx("span",{className:"px-2 py-0.5 bg-app border border-bdr rounded text-[10px] font-bold text-txt-muted uppercase",children:W},W))})}),i.jsx("td",{className:"px-6 py-4 text-right",children:i.jsxs("div",{className:"flex items-center justify-end gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[i.jsx("button",{onClick:()=>{I(H),B(!0)},className:"p-2 hover:bg-blue-50 text-blue-500 rounded-lg",children:i.jsx(Cb,{className:"w-4 h-4"})}),i.jsx("button",{onClick:()=>Z(H.id),className:"p-2 hover:bg-red-50 text-red-500 rounded-lg",children:i.jsx(Gs,{className:"w-4 h-4"})})]})})]},H.id))})]})})]})}),i.jsx(BI,{isOpen:m,onClose:()=>g(!1),initialMethod:j,onSaved:async H=>{await F(),await recordAudit({usuario_id:"ADMIN",deposit_id:void 0,entidade:"PAGAMENTO",entidade_id:H.id,acao:"UPDATE",depois_json:H,antes_json:j})}}),b&&i.jsx("div",{className:"fixed inset-0 bg-black/60 z-[60] flex items-center justify-center p-4 backdrop-blur-sm",children:i.jsxs("div",{className:"bg-surface w-full max-w-lg rounded-2xl shadow-2xl border border-bdr overflow-hidden animate-in zoom-in-95 duration-200",children:[i.jsxs("div",{className:"bg-app px-6 py-4 border-b border-bdr flex justify-between items-center",children:[i.jsxs("h3",{className:"font-black text-lg text-txt-main flex items-center gap-2",children:[i.jsx(s0,{className:"w-5 h-5 text-emerald-500"}),C.id?"Editar Maquininha":"Nova Maquininha"]}),i.jsx("button",{onClick:()=>B(!1),className:"hover:bg-bdr p-1 rounded-full",children:i.jsx(Pn,{className:"w-5 h-5 text-txt-muted"})})]}),i.jsxs("div",{className:"p-6 space-y-5",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold text-txt-muted uppercase mb-1.5",children:"Nome da Maquininha"}),i.jsx("input",{type:"text",value:C.nome||"",onChange:H=>I({...C,nome:H.target.value}),className:"w-full bg-app border border-bdr rounded-xl p-3 text-sm font-bold text-txt-main focus:ring-2 focus:ring-emerald-500 outline-none",placeholder:"Ex: Stone - Loja 1"})]}),i.jsx("div",{className:"grid grid-cols-3 gap-4",children:[{label:"Taxa Dbito",key:"taxaDebito"},{label:"Crdito Vista",key:"taxaCreditoVista"},{label:"Crdito Parc.",key:"taxaCreditoParcelado"}].map(H=>i.jsxs("div",{children:[i.jsx("label",{className:"block text-[10px] font-bold text-txt-muted uppercase mb-1.5 truncate",children:H.label}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"number",value:C[H.key]||"",onChange:W=>I({...C,[H.key]:W.target.value}),className:"w-full bg-app border border-bdr rounded-xl p-3 text-sm font-bold text-txt-main focus:ring-2 focus:ring-emerald-500 outline-none pr-8",placeholder:"0.00"}),i.jsx("span",{className:"absolute right-3 top-3 text-xs font-bold text-txt-muted",children:"%"})]})]},H.key))}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold text-txt-muted uppercase mb-2",children:"Depsitos Autorizados"}),i.jsx("div",{className:"space-y-2 bg-app p-4 rounded-xl border border-bdr",children:d.map(H=>{var W,K,$;return i.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-2 hover:bg-surface rounded-lg transition-colors",children:[i.jsx("div",{className:`w-5 h-5 border-2 rounded flex items-center justify-center transition-colors ${(W=C.depositosPermitidos)!=null&&W.includes(H.id)?"bg-emerald-500 border-emerald-500":"border-txt-muted bg-surface"}`,children:((K=C.depositosPermitidos)==null?void 0:K.includes(H.id))&&i.jsx(Yl,{className:"w-3.5 h-3.5 text-white"})}),i.jsx("input",{type:"checkbox",className:"hidden",checked:($=C.depositosPermitidos)==null?void 0:$.includes(H.id),onChange:()=>{const re=C.depositosPermitidos||[];re.includes(H.id)?I({...C,depositosPermitidos:re.filter(le=>le!==H.id)}):I({...C,depositosPermitidos:[...re,H.id]})}}),i.jsx("span",{className:"text-sm font-bold text-txt-main",children:H.name})]},H.id)})})]})]}),i.jsxs("div",{className:"p-6 border-t border-bdr bg-app flex justify-end gap-3",children:[i.jsx("button",{onClick:()=>B(!1),className:"px-4 py-2 text-txt-muted font-bold hover:bg-bdr rounded-lg transition-colors",children:"Cancelar"}),i.jsx("button",{onClick:ae,className:"px-6 py-2 bg-emerald-500 hover:bg-emerald-600 text-white font-bold rounded-lg shadow-lg shadow-emerald-500/20 transition-all active:scale-95",children:"Salvar"})]})]})})]})},SI=({onClose:r})=>{const[e,t]=q.useState("modalities"),[n,a]=q.useState(!0),[o,c]=q.useState([]),[d,h]=q.useState([]),[m,g]=q.useState([]),[b,B]=q.useState([]),[_,k]=q.useState([]),[j,T]=q.useState({}),[C,I]=q.useState(!1),[F,R]=q.useState("DEP1"),[ae,Z]=q.useState("");q.useEffect(()=>{(async()=>{const[ge,Y,pe,z,ve]=await Promise.all([Promise.resolve(getSalesModalities()),Promise.resolve(getModalityLabels()),Promise.resolve(getStockRules()),Promise.resolve(getProducts()),listDeposits()]);c(ge),h(Y),g(pe),B(z),k(ve),ve.length>0&&R(ve[0].id),a(!1)})()},[]),q.useEffect(()=>{o.length>0&&!ae&&Z(o[0].id)},[o]);const me=()=>{if(!j.nomePadrao||!j.codigo)return alert("Nome e Cdigo so obrigatrios.");const ge={id:j.id||crypto.randomUUID(),codigo:j.codigo.toUpperCase(),nomePadrao:j.nomePadrao,ordem:j.ordem||o.length+1,ativo:j.ativo??!0};let Y;j.id?Y=o.map(pe=>pe.id===ge.id?ge:pe):Y=[...o,ge],Y.sort((pe,z)=>pe.ordem-z.ordem),saveSalesModalities(Y),c(Y),I(!1)},ee=ge=>{if(!confirm("Excluir modalidade? Regras associadas podem quebrar."))return;const Y=o.filter(pe=>pe.id!==ge);saveSalesModalities(Y),c(Y)},H=(ge,Y)=>{var pe;return((pe=d.find(z=>z.modalidadeId===ge&&z.depositoId===Y))==null?void 0:pe.nomeExibicao)||""},W=(ge,Y)=>{const pe=d.findIndex(ve=>ve.modalidadeId===ge&&ve.depositoId===F);let z=[...d];pe>=0?Y.trim()===""?z.splice(pe,1):z[pe]={...z[pe],nomeExibicao:Y}:Y.trim()!==""&&z.push({id:crypto.randomUUID(),modalidadeId:ge,depositoId:F,nomeExibicao:Y}),h(z),saveModalityLabels(z)},K=q.useMemo(()=>m.filter(ge=>ge.modalidadeId===ae),[m,ae]),$=()=>{var pe;const ge={id:crypto.randomUUID(),modalidadeId:ae,produtoPrincipalId:((pe=b[0])==null?void 0:pe.id)||"",produtoSaidaId:null,fatorSaida:1,produtoEntradaId:null,fatorEntrada:1},Y=[...m,ge];g(Y),saveStockRules(Y)},re=(ge,Y,pe)=>{const z=m.map(ve=>ve.id===ge?{...ve,[Y]:pe}:ve);g(z),saveStockRules(z)},le=ge=>{const Y=m.filter(pe=>pe.id!==ge);g(Y),saveStockRules(Y)};return i.jsxs("div",{className:"fixed inset-0 bg-app z-50 flex flex-col animate-in fade-in duration-300",children:[i.jsxs("div",{className:"bg-surface border-b border-bdr px-6 py-4 flex justify-between items-center shadow-sm shrink-0",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"bg-teal-500/10 p-2 rounded-xl border border-teal-500/20",children:i.jsx(hd,{className:"w-6 h-6 text-teal-600"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-black text-txt-main tracking-tight",children:"Modalidades de Venda"}),i.jsx("p",{className:"text-xs text-txt-muted font-bold uppercase tracking-widest",children:"Configurao de Regras de Negcio"})]})]}),i.jsx("button",{onClick:r,className:"p-2 hover:bg-red-500/10 hover:text-red-500 text-txt-muted rounded-full transition-colors",children:i.jsx(Pn,{className:"w-6 h-6"})})]}),i.jsx("div",{className:"bg-surface border-b border-bdr px-6",children:i.jsxs("div",{className:"flex gap-8",children:[i.jsxs("button",{onClick:()=>t("modalities"),className:`pb-4 pt-4 text-sm font-black uppercase tracking-widest border-b-4 transition-all flex items-center gap-2 ${e==="modalities"?"border-teal-500 text-teal-600":"border-transparent text-txt-muted hover:text-txt-main"}`,children:[i.jsx(Fy,{className:"w-4 h-4"})," Cadastro de Modalidades"]}),i.jsxs("button",{onClick:()=>t("labels"),className:`pb-4 pt-4 text-sm font-black uppercase tracking-widest border-b-4 transition-all flex items-center gap-2 ${e==="labels"?"border-teal-500 text-teal-600":"border-transparent text-txt-muted hover:text-txt-main"}`,children:[i.jsx(yx,{className:"w-4 h-4"})," Rtulos por Depsito"]}),i.jsxs("button",{onClick:()=>t("rules"),className:`pb-4 pt-4 text-sm font-black uppercase tracking-widest border-b-4 transition-all flex items-center gap-2 ${e==="rules"?"border-teal-500 text-teal-600":"border-transparent text-txt-muted hover:text-txt-main"}`,children:[i.jsx(jp,{className:"w-4 h-4"})," Regras de Estoque"]})]})}),i.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-app",children:i.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[e==="modalities"&&i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"flex justify-end",children:i.jsxs("button",{onClick:()=>{T({ativo:!0,ordem:o.length+1}),I(!0)},className:"bg-teal-500 hover:bg-teal-600 text-white px-6 py-2.5 rounded-xl font-black text-sm shadow-lg shadow-teal-500/20 flex items-center gap-2 transition-transform active:scale-95",children:[i.jsx(Wi,{className:"w-4 h-4"})," NOVA MODALIDADE"]})}),i.jsx("div",{className:"bg-surface rounded-2xl shadow-sm border border-bdr overflow-hidden",children:i.jsxs("table",{className:"w-full text-left text-sm",children:[i.jsx("thead",{className:"bg-app border-b border-bdr text-xs font-black text-txt-muted uppercase tracking-widest",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-4 w-20 text-center",children:"Ordem"}),i.jsx("th",{className:"px-6 py-4",children:"Cdigo"}),i.jsx("th",{className:"px-6 py-4",children:"Nome Padro"}),i.jsx("th",{className:"px-6 py-4 text-center",children:"Status"}),i.jsx("th",{className:"px-6 py-4 text-right",children:"Aes"})]})}),i.jsx("tbody",{className:"divide-y divide-bdr",children:o.map(ge=>i.jsxs("tr",{className:"hover:bg-app transition-colors group",children:[i.jsx("td",{className:"px-6 py-4 text-center font-bold text-txt-muted",children:ge.ordem}),i.jsx("td",{className:"px-6 py-4 font-mono font-bold text-teal-600",children:ge.codigo}),i.jsx("td",{className:"px-6 py-4 font-medium text-txt-main",children:ge.nomePadrao}),i.jsx("td",{className:"px-6 py-4 text-center",children:ge.ativo?i.jsx("span",{className:"inline-flex items-center gap-1 text-[10px] bg-green-100 text-green-700 px-2 py-0.5 rounded font-black uppercase",children:"Ativo"}):i.jsx("span",{className:"inline-flex items-center gap-1 text-[10px] bg-red-100 text-red-700 px-2 py-0.5 rounded font-black uppercase",children:"Inativo"})}),i.jsx("td",{className:"px-6 py-4 text-right",children:i.jsxs("div",{className:"flex items-center justify-end gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[i.jsx("button",{onClick:()=>{T(ge),I(!0)},className:"p-2 hover:bg-blue-50 text-blue-500 rounded-lg",children:i.jsx(Ph,{className:"w-4 h-4"})}),i.jsx("button",{onClick:()=>ee(ge.id),className:"p-2 hover:bg-red-50 text-red-500 rounded-lg",children:i.jsx(Gs,{className:"w-4 h-4"})})]})})]},ge.id))})]})})]}),e==="labels"&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"bg-surface p-4 rounded-xl border border-bdr flex items-center gap-4",children:[i.jsx("label",{className:"text-xs font-black text-txt-muted uppercase",children:"Selecione o Depsito:"}),i.jsx("select",{value:F,onChange:ge=>R(ge.target.value),className:"bg-app border border-bdr rounded-lg p-2 text-sm font-bold text-txt-main outline-none focus:ring-2 focus:ring-teal-500",children:_.map(ge=>i.jsx("option",{value:ge.id,children:ge.name},ge.id))})]}),i.jsx("div",{className:"bg-surface rounded-2xl shadow-sm border border-bdr overflow-hidden",children:i.jsxs("table",{className:"w-full text-left text-sm",children:[i.jsx("thead",{className:"bg-app border-b border-bdr text-xs font-black text-txt-muted uppercase tracking-widest",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-4 w-32",children:"Cdigo"}),i.jsx("th",{className:"px-6 py-4 w-1/3",children:"Nome Padro (Sistema)"}),i.jsx("th",{className:"px-6 py-4",children:"Rtulo no Depsito Selecionado"})]})}),i.jsx("tbody",{className:"divide-y divide-bdr",children:o.map(ge=>{const Y=H(ge.id,F);return i.jsxs("tr",{className:"hover:bg-app transition-colors",children:[i.jsx("td",{className:"px-6 py-4 font-mono font-bold text-teal-600",children:ge.codigo}),i.jsx("td",{className:"px-6 py-4 text-txt-muted",children:ge.nomePadrao}),i.jsxs("td",{className:"px-6 py-4",children:[i.jsx("input",{type:"text",value:Y,placeholder:ge.nomePadrao,onChange:pe=>W(ge.id,pe.target.value),className:`w-full bg-app border border-bdr rounded-lg p-2 text-sm font-bold focus:ring-2 focus:ring-teal-500 outline-none ${Y?"text-teal-700 border-teal-200 bg-teal-50":"text-txt-main"}`}),Y&&i.jsx("span",{className:"text-[10px] text-teal-600 font-medium mt-1 block",children:"Personalizado"})]})]},ge.id)})})]})})]}),e==="rules"&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"bg-surface p-4 rounded-xl border border-bdr flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("label",{className:"text-xs font-black text-txt-muted uppercase",children:"Configurar Regras para:"}),i.jsx("select",{value:ae,onChange:ge=>Z(ge.target.value),className:"bg-app border border-bdr rounded-lg p-2 text-sm font-bold text-txt-main outline-none focus:ring-2 focus:ring-teal-500 min-w-[200px]",children:o.map(ge=>i.jsx("option",{value:ge.id,children:ge.nomePadrao},ge.id))})]}),i.jsxs("button",{onClick:$,className:"bg-teal-500 hover:bg-teal-600 text-white px-4 py-2 rounded-lg font-black text-xs shadow-lg shadow-teal-500/20 flex items-center gap-2 transition-transform active:scale-95",children:[i.jsx(Wi,{className:"w-3 h-3"})," NOVA REGRA"]})]}),i.jsx("div",{className:"bg-surface rounded-2xl shadow-sm border border-bdr overflow-hidden",children:i.jsxs("table",{className:"w-full text-left text-sm",children:[i.jsx("thead",{className:"bg-app border-b border-bdr text-xs font-black text-txt-muted uppercase tracking-widest",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3 w-1/4",children:"Quando vender... (Produto Principal)"}),i.jsx("th",{className:"px-4 py-3 w-1/4 border-l border-bdr/50",children:"Deve sair do Estoque..."}),i.jsx("th",{className:"px-4 py-3 w-20 text-center",children:"Fator"}),i.jsx("th",{className:"px-4 py-3 w-1/4 border-l border-bdr/50",children:"Deve entrar no Estoque..."}),i.jsx("th",{className:"px-4 py-3 w-20 text-center",children:"Fator"}),i.jsx("th",{className:"px-4 py-3 text-right",children:"Ao"})]})}),i.jsx("tbody",{className:"divide-y divide-bdr",children:K.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:6,className:"p-8 text-center text-txt-muted italic",children:"Nenhuma regra configurada para esta modalidade. O estoque no ser movimentado automaticamente."})}):K.map(ge=>i.jsxs("tr",{className:"hover:bg-app transition-colors",children:[i.jsx("td",{className:"px-4 py-3",children:i.jsx("select",{value:ge.produtoPrincipalId,onChange:Y=>re(ge.id,"produtoPrincipalId",Y.target.value),className:"w-full bg-app border border-bdr rounded-lg p-2 text-xs font-bold text-txt-main focus:ring-teal-500 outline-none",children:b.map(Y=>i.jsx("option",{value:Y.id,children:Y.nome},Y.id))})}),i.jsx("td",{className:"px-4 py-3 border-l border-bdr/50 bg-red-50/10",children:i.jsxs("select",{value:ge.produtoSaidaId||"",onChange:Y=>re(ge.id,"produtoSaidaId",Y.target.value||null),className:"w-full bg-surface border border-bdr rounded-lg p-2 text-xs text-txt-main outline-none focus:ring-red-500",children:[i.jsx("option",{value:"",children:"(Nada)"}),b.map(Y=>i.jsx("option",{value:Y.id,children:Y.nome},Y.id))]})}),i.jsx("td",{className:"px-4 py-3 text-center",children:i.jsx("input",{type:"number",value:ge.fatorSaida,onChange:Y=>re(ge.id,"fatorSaida",parseFloat(Y.target.value)),className:"w-16 text-center bg-surface border border-bdr rounded p-1 text-xs font-mono"})}),i.jsx("td",{className:"px-4 py-3 border-l border-bdr/50 bg-green-50/10",children:i.jsxs("select",{value:ge.produtoEntradaId||"",onChange:Y=>re(ge.id,"produtoEntradaId",Y.target.value||null),className:"w-full bg-surface border border-bdr rounded-lg p-2 text-xs text-txt-main outline-none focus:ring-green-500",children:[i.jsx("option",{value:"",children:"(Nada)"}),b.map(Y=>i.jsx("option",{value:Y.id,children:Y.nome},Y.id))]})}),i.jsx("td",{className:"px-4 py-3 text-center",children:i.jsx("input",{type:"number",value:ge.fatorEntrada,onChange:Y=>re(ge.id,"fatorEntrada",parseFloat(Y.target.value)),className:"w-16 text-center bg-surface border border-bdr rounded p-1 text-xs font-mono"})}),i.jsx("td",{className:"px-4 py-3 text-right",children:i.jsx("button",{onClick:()=>le(ge.id),className:"text-txt-muted hover:text-red-500 p-2",children:i.jsx(Gs,{className:"w-4 h-4"})})})]},ge.id))})]})})]})]})}),C&&i.jsx("div",{className:"fixed inset-0 bg-black/60 z-[60] flex items-center justify-center p-4 backdrop-blur-sm",children:i.jsxs("div",{className:"bg-surface w-full max-w-md rounded-2xl shadow-2xl border border-bdr overflow-hidden animate-in zoom-in-95 duration-200",children:[i.jsxs("div",{className:"bg-app px-6 py-4 border-b border-bdr flex justify-between items-center",children:[i.jsxs("h3",{className:"font-black text-lg text-txt-main flex items-center gap-2",children:[i.jsx(Fy,{className:"w-5 h-5 text-teal-500"}),j.id?"Editar Modalidade":"Nova Modalidade"]}),i.jsx("button",{onClick:()=>I(!1),className:"hover:bg-bdr p-1 rounded-full",children:i.jsx(Pn,{className:"w-5 h-5 text-txt-muted"})})]}),i.jsxs("div",{className:"p-6 space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold text-txt-muted uppercase mb-1",children:"Nome Padro"}),i.jsx("input",{type:"text",value:j.nomePadrao||"",onChange:ge=>T({...j,nomePadrao:ge.target.value}),className:"w-full bg-app border border-bdr rounded-xl p-3 text-sm font-bold text-txt-main outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Ex: Venda Direta",autoFocus:!0})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold text-txt-muted uppercase mb-1",children:"Cdigo (Sistema)"}),i.jsx("input",{type:"text",value:j.codigo||"",onChange:ge=>T({...j,codigo:ge.target.value.toUpperCase()}),className:"w-full bg-app border border-bdr rounded-xl p-3 text-sm font-mono font-bold text-teal-600 outline-none focus:ring-2 focus:ring-teal-500 uppercase",placeholder:"VENDA"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold text-txt-muted uppercase mb-1",children:"Ordem"}),i.jsx("input",{type:"number",value:j.ordem||0,onChange:ge=>T({...j,ordem:parseInt(ge.target.value)}),className:"w-full bg-app border border-bdr rounded-xl p-3 text-sm font-bold text-txt-main outline-none focus:ring-2 focus:ring-teal-500"})]})]}),i.jsxs("div",{className:"flex items-center gap-3 p-3 bg-app rounded-xl border border-bdr",children:[i.jsx("input",{type:"checkbox",id:"modActive",checked:j.ativo??!0,onChange:ge=>T({...j,ativo:ge.target.checked}),className:"w-5 h-5 text-teal-500 rounded focus:ring-teal-500"}),i.jsx("label",{htmlFor:"modActive",className:"text-sm font-bold text-txt-main cursor-pointer select-none",children:"Modalidade Ativa"})]})]}),i.jsxs("div",{className:"p-6 border-t border-bdr bg-app flex justify-end gap-3",children:[i.jsx("button",{onClick:()=>I(!1),className:"px-4 py-2 text-txt-muted font-bold hover:bg-bdr rounded-lg transition-colors",children:"Cancelar"}),i.jsx("button",{onClick:me,className:"px-6 py-2 bg-teal-500 hover:bg-teal-600 text-white font-bold rounded-lg shadow-lg shadow-teal-500/20 transition-all active:scale-95",children:"Salvar"})]})]})})]})},J0=r=>{const e=Number(r.replace(",","."));return Number.isFinite(e)?e:0},LI=({onClose:r})=>{const{activeShift:e,closeShift:t}=jm(),[n,a]=q.useState({cash:"",card:"",pix:""}),[o,c]=q.useState({}),[d,h]=q.useState([]),[m,g]=q.useState({}),[b,B]=q.useState(!1),[_,k]=q.useState(!1),[j,T]=q.useState(null),[C,I]=q.useState(null),F=useLiveQuery(()=>e!=null&&e.depositoId?db.deposits.get(e.depositoId):void 0,[e==null?void 0:e.depositoId]),R=!!((F==null?void 0:F.require_stock_audit)??(F==null?void 0:F.requireStockAudit)),ae=useLiveQuery(()=>e!=null&&e.id?db.cash_flow_entries.where("shift_id").equals(e.id).toArray():[],[e==null?void 0:e.id]),Z=re=>re.depositoId??null,me=re=>(re.is_delivery_fee??re.isDeliveryFee)===!0||String(re.product_group??re.codigo??"").toLowerCase()==="delivery_fee"?!0:String(re.nome??"").toLowerCase()==="taxa de entrega",ee=re=>me(re)||(re.track_stock??re.trackStock)===!1?!0:re.type==="SERVICE";q.useEffect(()=>{let re=!0;return(async()=>{if(!(e!=null&&e.depositoId))return;const Y=(await db.products.toArray()).filter(z=>{if(ee(z))return!1;const ve=Z(z);return ve===null||ve===e.depositoId}),pe=await getStockMapForDeposit(e.depositoId);re&&(h(Y),g(pe))})(),()=>{re=!1}},[e==null?void 0:e.depositoId]);const H=q.useMemo(()=>{const re={cash:0,card:0,pix:0};return(ae||[]).forEach(le=>{const ge=Number(le.amount??0)||0,Y=le.direction==="OUT"?-ge:ge,pe=le.payment_type??(le.category==="SALE"?"other":"cash");pe==="cash"&&(re.cash+=Y),pe==="card"&&(re.card+=Y),pe==="pix"&&(re.pix+=Y)}),re},[ae]),W=q.useMemo(()=>!R||!d.length?!1:d.some(re=>o[re.id]===""||o[re.id]===void 0),[R,d,o]),K=(re,le)=>{const ge=parseInt(le);c(Y=>({...Y,[re]:Number.isNaN(ge)?"":Math.max(0,ge)}))},$=async()=>{if(!e)return;I(null);const re=J0(n.cash),le=J0(n.card),ge=J0(n.pix);if(re<0||le<0||ge<0){I("Valores declarados invalidos.");return}if(W){I("Preencha a contagem de estoque antes de fechar.");return}const Y=re-H.cash,pe=le-H.card,z=ge-H.pix,ve=Math.abs(Y)>.009||Math.abs(pe)>.009||Math.abs(z)>.009,we=[];R&&d.forEach(O=>{const G=o[O.id];if(G===""||G===void 0)return;const Q=Number(m[O.id]??0)||0,oe=Number(G)-Q;oe!==0&&we.push({id:crypto.randomUUID(),shift_id:e.id,depositoId:e.depositoId,product_id:O.id,counted_qty:Number(G),system_qty:Q,diff_qty:oe,created_at:Date.now(),user_id:e.user_id})});const V=ve||we.length>0?"DISCREPANCY":"CLOSED";k(!0);try{we.length>0&&await saveShiftStockAudits(we),await t({declared:{cash:re,card:le,pix:ge},system:H,status:V,notes:V==="DISCREPANCY"?"Discrepancia detectada no fechamento.":null}),T(V)}catch{I("Falha ao fechar o turno.")}finally{k(!1)}};return!e&&!j?i.jsx("div",{className:"fixed inset-0 bg-app z-50 flex items-center justify-center text-txt-muted",children:"Nenhum turno aberto para fechamento."}):j?i.jsx("div",{className:"fixed inset-0 bg-black/70 z-50 flex items-center justify-center p-6",children:i.jsxs("div",{className:"bg-surface border border-bdr rounded-2xl p-6 max-w-md w-full text-center space-y-4",children:[i.jsx("div",{className:`mx-auto w-12 h-12 rounded-full flex items-center justify-center ${j==="DISCREPANCY"?"bg-red-500/10":"bg-emerald-500/10"}`,children:i.jsx(Hc,{className:`w-6 h-6 ${j==="DISCREPANCY"?"text-red-500":"text-emerald-500"}`})}),i.jsx("h3",{className:"text-base font-black text-txt-main",children:"Turno Finalizado"}),i.jsx("p",{className:"text-sm text-txt-muted",children:j==="DISCREPANCY"?"Diferenca identificada. O gerente sera notificado.":"Fechamento concluido sem divergencias."}),i.jsx("button",{onClick:r,className:"w-full bg-primary text-white py-2 rounded-lg font-black",children:"Voltar"})]})}):i.jsxs("div",{className:"fixed inset-0 bg-app z-50 flex flex-col animate-in slide-in-from-bottom-4 duration-300 transition-colors",children:[i.jsxs("div",{className:"bg-surface border-b border-bdr px-6 py-3 shadow-sm shrink-0 z-20 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"bg-emerald-600 p-2 rounded-lg shadow-sm",children:i.jsx(Bb,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-black text-txt-main",children:"Fechamento de Caixa"}),i.jsxs("p",{className:"text-xs text-txt-muted",children:["Turno #",e==null?void 0:e.id.slice(-6)]})]})]}),i.jsx("button",{onClick:r,className:"p-2 hover:bg-red-500/10 rounded-full text-txt-muted hover:text-red-500",children:i.jsx(Pn,{className:"w-5 h-5"})})]}),i.jsx("div",{className:"flex-1 overflow-y-auto bg-app p-6",children:i.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[i.jsxs("div",{className:"bg-surface rounded-xl border border-bdr overflow-hidden",children:[i.jsxs("div",{className:"px-6 py-4 border-b border-bdr bg-app/50 flex items-center justify-between",children:[i.jsxs("h3",{className:"text-sm font-black text-txt-main uppercase tracking-wide flex items-center gap-2",children:[i.jsx(w5,{className:"w-4 h-4 text-emerald-500"}),"Conferencia Cega"]}),!b&&i.jsx("button",{onClick:()=>B(!0),className:"text-xs font-black text-txt-main bg-app border border-bdr px-3 py-1 rounded",children:"Mostrar valores do sistema"})]}),i.jsx("div",{className:"p-6 grid grid-cols-1 md:grid-cols-3 gap-6",children:[{key:"cash",label:"Dinheiro"},{key:"card",label:"Cartao"},{key:"pix",label:"Pix"}].map(re=>i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-xs font-bold text-txt-muted uppercase",children:re.label}),i.jsxs("div",{className:"relative",children:[i.jsx("span",{className:"absolute left-3 top-2.5 text-txt-muted font-medium",children:"R$"}),i.jsx("input",{type:"number",value:n[re.key],onChange:le=>a(ge=>({...ge,[re.key]:le.target.value})),className:"w-full pl-10 pr-4 py-2 bg-app border border-bdr rounded-lg focus:ring-2 focus:ring-primary/20 outline-none font-bold text-txt-main",placeholder:"0.00"})]}),b&&i.jsxs("div",{className:"text-[11px] text-txt-muted",children:["Sistema: R$ ",H[re.key].toFixed(2)]})]},re.key))})]}),R&&d.length>0&&i.jsxs("div",{className:"bg-surface rounded-xl border border-bdr overflow-hidden",children:[i.jsx("div",{className:"px-6 py-4 border-b border-bdr bg-app/50",children:i.jsx("h3",{className:"text-sm font-black text-txt-main uppercase tracking-wide",children:"Auditoria de Estoque"})}),i.jsxs("table",{className:"w-full text-sm text-left",children:[i.jsx("thead",{className:"bg-surface text-[10px] text-txt-muted uppercase font-black border-b border-bdr",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3",children:"Produto"}),i.jsx("th",{className:"px-4 py-3 text-center",children:"Sistema"}),i.jsx("th",{className:"px-4 py-3 text-center",children:"Contado"})]})}),i.jsx("tbody",{className:"divide-y divide-bdr",children:d.map(re=>i.jsxs("tr",{className:"hover:bg-app/60 transition-colors",children:[i.jsx("td",{className:"px-4 py-3 font-medium text-txt-main",children:re.nome}),i.jsx("td",{className:"px-4 py-3 text-center font-mono text-txt-muted",children:m[re.id]??0}),i.jsx("td",{className:"px-4 py-3 text-center",children:i.jsx("input",{type:"number",min:"0",value:o[re.id]??"",onChange:le=>K(re.id,le.target.value),className:"w-24 text-center font-black bg-surface border border-bdr rounded-lg py-1 text-txt-main focus:ring-2 focus:ring-primary/20 outline-none",placeholder:"-"})})]},re.id))})]})]}),C&&i.jsx("div",{className:"text-xs font-bold text-red-500 bg-red-500/10 border border-red-500/20 px-3 py-2 rounded",children:C}),i.jsx("div",{className:"flex justify-end",children:i.jsxs("button",{onClick:$,disabled:_,className:"bg-emerald-600 hover:bg-emerald-700 text-white px-6 py-3 rounded-xl font-black shadow-lg disabled:opacity-60 flex items-center gap-2",children:[i.jsx(qo,{className:"w-4 h-4"}),_?"Fechando...":"Fechar Turno"]})})]})})]})},jI=["SIMPLE","EXCHANGE","FULL"],W0={nome:"",endereco:"",telefone:"",cpf:"",referencia:"",dataNascimento:"",deliveryZoneId:null},kI=({onClose:r,userRole:e})=>{const t=e==="ADMIN",[n,a]=q.useState([]),[o,c]=q.useState([]),[d,h]=q.useState([]),[m,g]=q.useState(""),[b,B]=q.useState(null),[_,k]=q.useState("dados"),[j,T]=q.useState(!1),[C,I]=q.useState(W0),[F,R]=q.useState({produtoId:"P13",depositoId:"GLOBAL",modalidade:"VENDA",preco:""}),[ae,Z]=q.useState([]),me=useLiveQuery(()=>{var Q;return(Q=db.delivery_zones)==null?void 0:Q.toArray()},[])||[],[ee,H]=q.useState({tipoDesconto:"VALOR",valorDesconto:0,modalidadeAlvo:null,produtoIdAlvo:null});q.useEffect(()=>{let Q=!0;return(async()=>{const[oe,ce,Be]=await Promise.all([listClients(),listClientPrices(),listClientDiscounts()]);Q&&(a(oe),c(ce),h(Be))})(),()=>{Q=!1}},[]),q.useEffect(()=>{let Q=!0;return(async()=>{try{const oe=await listDeposits();if(!Q)return;Z(oe.map(ce=>({id:ce.id,nome:ce.nome})))}catch{}})(),()=>{Q=!1}},[]);const W=async()=>{const[Q,oe,ce]=await Promise.all([listClients(),listClientPrices(),listClientDiscounts()]);a(Q),c(oe),h(ce)},K=n.filter(Q=>{const oe=(Q.nome||"").toString().toLowerCase(),ce=(Q.endereco||"").toString().toLowerCase(),Be=(Q.telefone||"").toString(),Se=(m||"").toString().toLowerCase();return oe.includes(Se)||Be.includes(m)||ce.includes(Se)}),$=q.useMemo(()=>n.find(Q=>Q.id===b),[b,n]),re=q.useMemo(()=>o.filter(Q=>Q.clienteId===b),[b,o]),le=q.useMemo(()=>d.find(Q=>Q.clienteId===b&&!Q.usado),[b,d]),ge=()=>{B(null),I(W0),T(!0),k("dados")},Y=Q=>{B(Q);const oe=n.find(ce=>ce.id===Q);oe&&(I(oe),T(!1))},pe=async()=>{var oe;if(!C.nome||!C.endereco)return alert("Preencha Nome e Endereo.");const Q=Date.now();b?await upsertClient({id:b,nome:C.nome,endereco:C.endereco,telefone:C.telefone,cpf:C.cpf,referencia:C.referencia,dataNascimento:C.dataNascimento,deliveryZoneId:C.deliveryZoneId??null,ativo:C.ativo??!0,criado_em:((oe=n.find(ce=>ce.id===b))==null?void 0:oe.criado_em)??Q,atualizado_em:Q}):await upsertClient({nome:C.nome,endereco:C.endereco,telefone:C.telefone,cpf:C.cpf,referencia:C.referencia,dataNascimento:C.dataNascimento,deliveryZoneId:C.deliveryZoneId??null,ativo:!0,criado_em:Q,atualizado_em:Q}),await W(),T(!1)},z=async()=>{if(!b)return;const Q=n.find(oe=>oe.id===b);Q&&(await upsertClient({...Q,ativo:!Q.ativo,atualizado_em:Date.now()}),await W())},ve=async()=>{if(!b)return;const Q=n.find(Be=>Be.id===b),oe=(Q==null?void 0:Q.nome)||"cliente";window.confirm(`Excluir permanentemente ${oe}? Essa ao no pode ser desfeita.`)&&(await deleteClient(b),await W(),B(null),I(W0),T(!1),k("dados"))},we=async()=>{if(!b||!F.preco)return;const Q={id:crypto.randomUUID(),clienteId:b,produtoId:F.produtoId,depositoId:F.depositoId==="GLOBAL"?null:F.depositoId,modalidade:F.modalidade,precoEspecial:parseFloat(F.preco),ativo:!0,atualizado_em:Date.now()};await upsertClientPrice(Q),await W(),R({...F,preco:""})},V=async Q=>{await deleteClientPrice(Q),await W()},O=async()=>{if(!b)return;const Q={id:crypto.randomUUID(),clienteId:b,depositoId:null,tipoDesconto:ee.tipoDesconto,valorDesconto:ee.valorDesconto||0,usado:!1,criado_em:Date.now()};await upsertClientDiscount(Q),await W(),alert("Desconto pendente salvo com sucesso!")},G=async()=>{!le||!window.confirm("Remover o bnus pendente deste cliente?")||(await deleteClientDiscount(le.id),await W(),alert("Bnus desativado com sucesso."))};return i.jsxs("div",{className:"fixed inset-0 bg-app z-50 flex flex-col animate-in slide-in-from-bottom-4 duration-300",children:[i.jsxs("div",{className:"bg-surface border-b border-bdr px-6 py-4 flex justify-between items-center shadow-sm z-10 transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"bg-primary/10 p-3 rounded-2xl shadow-sm border border-primary/20",children:i.jsx(SA,{className:"w-6 h-6 text-primary"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-black text-txt-main tracking-tighter",children:"Clientes & Precificao"}),i.jsx("p",{className:"text-xs text-primary font-bold uppercase tracking-widest",children:"Painel Administrativo Pro"})]})]}),i.jsxs("div",{className:"flex items-center gap-6",children:[i.jsxs("div",{className:"relative group",children:[i.jsx(Xl,{className:"w-4 h-4 text-primary absolute left-3 top-3 group-focus-within:scale-110 transition-transform"}),i.jsx("input",{type:"text",placeholder:"Localizar cliente...",value:m,onChange:Q=>g(Q.target.value),className:"pl-10 pr-4 py-2.5 bg-app border border-bdr rounded-xl text-sm text-txt-main font-bold placeholder:text-txt-muted focus:ring-2 focus:ring-primary focus:border-primary outline-none w-72 transition-all"})]}),i.jsxs("button",{onClick:ge,className:"bg-primary hover:bg-primary/90 text-white px-6 py-2.5 rounded-xl text-sm font-black flex items-center gap-2 transition-all active:scale-95 shadow-lg shadow-primary/20",children:[i.jsx(Wi,{className:"w-5 h-5"})," NOVO CLIENTE"]}),i.jsx("button",{onClick:r,className:"p-2 hover:bg-red-500/10 hover:text-red-500 rounded-full text-txt-muted transition-all active:rotate-90",children:i.jsx(Pn,{className:"w-7 h-7"})})]})]}),i.jsxs("div",{className:"flex-1 overflow-hidden flex p-6 gap-6",children:[i.jsxs("div",{className:"w-1/3 bg-surface rounded-3xl shadow-lg border border-bdr flex flex-col overflow-hidden transition-colors",children:[i.jsxs("div",{className:"p-5 bg-app/50 border-b border-bdr flex items-center justify-between",children:[i.jsx("span",{className:"text-[10px] font-black text-txt-muted uppercase tracking-[0.2em]",children:"Registros Ativos"}),i.jsx("span",{className:"bg-primary/10 text-primary text-xs font-black px-2 py-0.5 rounded-full",children:K.length})]}),i.jsx("div",{className:"flex-1 overflow-y-auto divide-y divide-bdr no-scrollbar",children:K.length===0?i.jsxs("div",{className:"p-12 text-center flex flex-col items-center justify-center h-full opacity-40",children:[i.jsx(SA,{className:"w-16 h-16 text-txt-muted mb-4"}),i.jsx("p",{className:"text-txt-muted font-black italic text-sm",children:"Nenhum cliente disponvel"})]}):K.map(Q=>i.jsxs("button",{onClick:()=>Y(Q.id),className:`w-full text-left p-6 hover:bg-app transition-all flex justify-between items-center group relative ${b===Q.id?"bg-primary/5 border-r-4 border-primary":""}`,children:[i.jsxs("div",{className:"space-y-1.5",children:[i.jsxs("h4",{className:`font-black text-lg transition-colors ${b===Q.id?"text-primary":"text-txt-main"}`,children:[Q.nome," ",!Q.ativo&&i.jsx("span",{className:"text-[10px] text-white font-black ml-2 uppercase px-2 py-0.5 bg-red-600 rounded-md",children:"Inativo"})]}),i.jsx("p",{className:"text-xs text-txt-muted font-bold truncate w-64 uppercase tracking-tight",children:Q.endereco}),i.jsxs("div",{className:"flex gap-2",children:[o.some(oe=>oe.clienteId===Q.id)&&i.jsx("span",{className:"text-[9px] font-black bg-amber-500 text-white px-2.5 py-1 rounded shadow-md uppercase tracking-widest",children:"Precificado"}),d.some(oe=>oe.clienteId===Q.id&&!oe.usado)&&i.jsx("span",{className:"text-[9px] font-black bg-emerald-500 text-white px-2.5 py-1 rounded shadow-md uppercase tracking-widest",children:"Bonus"})]})]}),i.jsx(_b,{className:`w-6 h-6 transition-all ${b===Q.id?"translate-x-2 text-primary opacity-100 scale-125":"text-txt-muted opacity-0 group-hover:opacity-100 group-hover:translate-x-1"}`})]},Q.id))})]}),i.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:!b&&!j?i.jsxs("div",{className:"flex-1 bg-surface rounded-3xl border-4 border-dashed border-bdr flex flex-col items-center justify-center text-txt-muted p-12 text-center shadow-inner group transition-colors",children:[i.jsx("div",{className:"bg-app p-10 rounded-[2.5rem] mb-8 border-2 border-bdr group-hover:scale-110 transition-transform duration-500",children:i.jsx(SA,{className:"w-20 h-20 text-primary/30"})}),i.jsx("p",{className:"font-black text-2xl text-txt-main tracking-tight",children:"Nenhum Registro Selecionado"}),i.jsx("p",{className:"text-sm mt-3 max-w-xs font-bold text-txt-muted leading-relaxed",children:"Clique em um cliente da lista ou inicie um novo cadastro para gerenciar suas condies especiais."})]}):i.jsxs("div",{className:"bg-surface rounded-[2.5rem] shadow-2xl border-2 border-bdr flex flex-col h-full overflow-hidden animate-in fade-in slide-in-from-right-10 duration-500 transition-colors",children:[i.jsxs("div",{className:"px-10 py-6 border-b-2 border-bdr bg-app/50 flex items-center justify-between",children:[i.jsxs("div",{className:"flex gap-4",children:[i.jsxs("button",{onClick:()=>k("dados"),className:`flex items-center gap-3 px-6 py-3 rounded-2xl text-xs font-black uppercase tracking-widest transition-all duration-300 ${_==="dados"?"bg-primary text-white shadow-xl shadow-primary/20 scale-105":"bg-surface text-txt-muted border border-bdr hover:border-primary/50 hover:text-primary"}`,children:[i.jsx(Eh,{className:"w-4 h-4"})," Ficha Cadastral"]}),t&&i.jsxs(i.Fragment,{children:[i.jsxs("button",{disabled:!b,onClick:()=>k("precos"),className:`flex items-center gap-3 px-6 py-3 rounded-2xl text-xs font-black uppercase tracking-widest transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed ${_==="precos"?"bg-amber-500 text-white shadow-xl shadow-amber-200 scale-105":"bg-surface text-txt-muted border border-bdr hover:border-amber-400 hover:text-amber-600"}`,children:[i.jsx(SS,{className:"w-4 h-4"})," Precificao Especial"]}),i.jsxs("button",{disabled:!b,onClick:()=>k("desconto"),className:`flex items-center gap-3 px-6 py-3 rounded-2xl text-xs font-black uppercase tracking-widest transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed ${_==="desconto"?"bg-emerald-600 text-white shadow-xl shadow-emerald-200 scale-105":"bg-surface text-txt-muted border border-bdr hover:border-emerald-400 hover:text-emerald-600"}`,children:[i.jsx(yx,{className:"w-4 h-4"})," Bonificaes"]})]})]}),b&&i.jsxs("div",{className:"bg-surface px-4 py-2 rounded-xl border border-bdr flex items-center gap-3 shadow-sm",children:[i.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse"}),i.jsxs("span",{className:"text-[10px] font-black text-txt-muted uppercase tracking-widest",children:["ID: ",b.split("-")[0]]})]})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-12 no-scrollbar",children:[_==="dados"&&i.jsxs("div",{className:"space-y-12 max-w-4xl animate-in fade-in duration-500",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-10",children:[i.jsxs("div",{className:"col-span-2 group",children:[i.jsx("label",{className:"block text-[11px] font-black text-primary uppercase mb-3 tracking-[0.2em] ml-1",children:"Nome Completo / Razo Social *"}),i.jsxs("div",{className:"relative",children:[i.jsx(Vp,{className:"absolute left-5 top-1/2 -translate-y-1/2 w-5 h-5 text-txt-muted group-focus-within:text-primary transition-colors"}),i.jsx("input",{type:"text",value:C.nome,onChange:Q=>I({...C,nome:Q.target.value}),placeholder:"NOME DO CLIENTE",className:"w-full bg-app border-2 border-bdr rounded-[1.25rem] p-5 pl-14 text-base text-txt-main font-black focus:ring-4 focus:ring-primary/10 focus:bg-surface focus:border-primary outline-none shadow-sm transition-all placeholder:text-txt-muted/50 uppercase"})]})]}),i.jsxs("div",{className:"col-span-2 group",children:[i.jsx("label",{className:"block text-[11px] font-black text-primary uppercase mb-3 tracking-[0.2em] ml-1",children:"Endereo Completo de Entrega *"}),i.jsxs("div",{className:"relative",children:[i.jsx(jA,{className:"absolute left-5 top-1/2 -translate-y-1/2 w-5 h-5 text-txt-muted group-focus-within:text-primary transition-colors"}),i.jsx("input",{type:"text",value:C.endereco,onChange:Q=>I({...C,endereco:Q.target.value}),placeholder:"LOGRADOURO, NMERO, BAIRRO...",className:"w-full bg-app border-2 border-bdr rounded-[1.25rem] p-5 pl-14 text-base text-txt-main font-black focus:ring-4 focus:ring-primary/10 focus:bg-surface focus:border-primary outline-none shadow-sm transition-all placeholder:text-txt-muted/50 uppercase"})]})]}),i.jsxs("div",{className:"col-span-2 group",children:[i.jsx("label",{className:"block text-[11px] font-black text-primary uppercase mb-3 tracking-[0.2em] ml-1",children:"Zona de entrega"}),i.jsxs("select",{value:C.deliveryZoneId??"",onChange:Q=>I({...C,deliveryZoneId:Q.target.value||null}),className:"w-full bg-app border-2 border-bdr rounded-[1.25rem] p-5 text-base text-txt-main font-black focus:ring-4 focus:ring-primary/10 focus:bg-surface focus:border-primary outline-none shadow-sm transition-all",children:[i.jsx("option",{value:"",children:"Sem zona definida"}),me.map(Q=>i.jsx("option",{value:Q.id,children:Q.nome??Q.id},Q.id))]})]}),i.jsxs("div",{className:"group",children:[i.jsx("label",{className:"block text-[11px] font-black text-primary uppercase mb-3 tracking-[0.2em] ml-1",children:"Telefone Principal"}),i.jsxs("div",{className:"relative",children:[i.jsx(Eb,{className:"absolute left-5 top-1/2 -translate-y-1/2 w-5 h-5 text-txt-muted group-focus-within:text-primary transition-colors"}),i.jsx("input",{type:"text",value:C.telefone,onChange:Q=>I({...C,telefone:Q.target.value}),placeholder:"(00) 00000-0000",className:"w-full bg-app border-2 border-bdr rounded-[1.25rem] p-5 pl-14 text-base text-txt-main font-black focus:ring-4 focus:ring-primary/10 focus:bg-surface focus:border-primary outline-none shadow-sm transition-all placeholder:text-txt-muted/50"})]})]}),i.jsxs("div",{className:"group",children:[i.jsx("label",{className:"block text-[11px] font-black text-primary uppercase mb-3 tracking-[0.2em] ml-1",children:"Identificao (CPF/CNPJ)"}),i.jsxs("div",{className:"relative",children:[i.jsx(Eh,{className:"absolute left-5 top-1/2 -translate-y-1/2 w-5 h-5 text-txt-muted group-focus-within:text-primary transition-colors"}),i.jsx("input",{type:"text",value:C.cpf,onChange:Q=>I({...C,cpf:Q.target.value}),placeholder:"DOCUMENTO",className:"w-full bg-app border-2 border-bdr rounded-[1.25rem] p-5 pl-14 text-base text-txt-main font-black focus:ring-4 focus:ring-primary/10 focus:bg-surface focus:border-primary outline-none shadow-sm transition-all placeholder:text-txt-muted/50"})]})]}),i.jsxs("div",{className:"group",children:[i.jsx("label",{className:"block text-[11px] font-black text-primary uppercase mb-3 tracking-[0.2em] ml-1",children:"Ponto de Referncia"}),i.jsx("input",{type:"text",value:C.referencia,onChange:Q=>I({...C,referencia:Q.target.value}),placeholder:"EX: PRXIMO  PADARIA",className:"w-full bg-app border-2 border-bdr rounded-[1.25rem] p-5 text-base text-txt-main font-black focus:ring-4 focus:ring-primary/10 focus:bg-surface focus:border-primary outline-none shadow-sm transition-all placeholder:text-txt-muted/50 uppercase"})]}),i.jsxs("div",{className:"group",children:[i.jsx("label",{className:"block text-[11px] font-black text-primary uppercase mb-3 tracking-[0.2em] ml-1",children:"Data Comemorativa"}),i.jsx("input",{type:"date",value:C.dataNascimento,onChange:Q=>I({...C,dataNascimento:Q.target.value}),className:"w-full bg-app border-2 border-bdr rounded-[1.25rem] p-5 text-base text-txt-main font-black focus:ring-4 focus:ring-primary/10 focus:bg-surface focus:border-primary outline-none shadow-sm transition-all"})]})]}),i.jsxs("div",{className:"flex gap-6 pt-12 border-t-2 border-bdr items-center justify-between",children:[i.jsxs("div",{className:"flex gap-6",children:[i.jsxs("button",{onClick:pe,className:"bg-primary hover:bg-primary/90 text-white px-12 py-5 rounded-[1.5rem] font-black text-sm shadow-2xl shadow-primary/20 flex items-center gap-3 transition-all active:scale-95",children:[i.jsx(qo,{className:"w-6 h-6"})," CONFIRMAR CADASTRO"]}),t&&b&&i.jsxs("button",{onClick:z,className:`px-10 py-5 rounded-[1.5rem] font-black text-sm border-2 transition-all active:scale-95 flex items-center gap-3 ${$!=null&&$.ativo?"text-red-500 border-red-200 bg-red-500/10 hover:bg-red-500/20":"text-emerald-500 border-emerald-200 bg-emerald-500/10 hover:bg-emerald-500/20"}`,children:[$!=null&&$.ativo?i.jsx(Ch,{className:"w-5 h-5"}):i.jsx(Yl,{className:"w-5 h-5"}),$!=null&&$.ativo?"DESATIVAR REGISTRO":"REATIVAR REGISTRO"]}),t&&b&&i.jsxs("button",{onClick:ve,className:"px-10 py-5 rounded-[1.5rem] font-black text-sm border-2 border-red-300 text-red-500 bg-red-500/10 hover:bg-red-500/20 transition-all active:scale-95 flex items-center gap-3",children:[i.jsx(Gs,{className:"w-5 h-5"})," EXCLUIR PERMANENTEMENTE"]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-[10px] font-black text-txt-muted uppercase tracking-widest mb-1",children:"Status do Registro"}),i.jsx("p",{className:"text-xs font-black text-primary uppercase",children:b?"CLIENTE CADASTRADO":"AGUARDANDO NOVO REGISTRO"})]})]})]}),_==="precos"&&t&&i.jsxs("div",{className:"space-y-12 animate-in fade-in duration-500",children:[i.jsxs("div",{className:"bg-app/50 p-10 rounded-[2.5rem] border-2 border-amber-100/50 grid grid-cols-4 gap-8 items-end shadow-inner",children:[i.jsxs("div",{className:"group",children:[i.jsx("label",{className:"block text-[11px] font-black text-amber-600 uppercase mb-3 tracking-widest ml-1",children:"Produto Base"}),i.jsxs("select",{value:F.produtoId,onChange:Q=>R({...F,produtoId:Q.target.value}),className:"w-full bg-surface border-2 border-amber-200 rounded-2xl p-4 text-sm text-txt-main font-black focus:ring-4 focus:ring-amber-500/10 focus:border-amber-500 outline-none shadow-sm transition-all",children:[i.jsx("option",{value:"P13",children:"GS P13"}),i.jsx("option",{value:"P45",children:"GS P45"}),i.jsx("option",{value:"AGUA20",children:"GUA 20L"})]})]}),i.jsxs("div",{className:"group",children:[i.jsx("label",{className:"block text-[11px] font-black text-amber-600 uppercase mb-3 tracking-widest ml-1",children:"Alvo de Estoque"}),i.jsxs("select",{value:F.depositoId,onChange:Q=>R({...F,depositoId:Q.target.value}),className:"w-full bg-surface border-2 border-amber-200 rounded-2xl p-4 text-sm text-txt-main font-black focus:ring-4 focus:ring-amber-500/10 focus:border-amber-500 outline-none shadow-sm transition-all",children:[i.jsx("option",{value:"GLOBAL",children:"GLOBAL"},"GLOBAL"),ae.map(Q=>i.jsx("option",{value:Q.id,children:Q.nome},Q.id))]})]}),i.jsxs("div",{className:"group",children:[i.jsx("label",{className:"block text-[11px] font-black text-amber-600 uppercase mb-3 tracking-widest ml-1",children:"Tipo de Venda"}),i.jsx("select",{value:F.modalidade,onChange:Q=>R({...F,modalidade:Q.target.value}),className:"w-full bg-surface border-2 border-amber-200 rounded-2xl p-4 text-sm text-txt-main font-black focus:ring-4 focus:ring-amber-500/10 focus:border-amber-500 outline-none shadow-sm transition-all",children:jI.map(Q=>i.jsx("option",{value:Q,children:Q},Q))})]}),i.jsxs("div",{className:"flex gap-4",children:[i.jsxs("div",{className:"flex-1 group",children:[i.jsx("label",{className:"block text-[11px] font-black text-amber-600 uppercase mb-3 tracking-widest ml-1",children:"Valor Unitrio"}),i.jsxs("div",{className:"relative",children:[i.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-amber-600 font-black text-sm",children:"R$"}),i.jsx("input",{type:"number",value:F.preco,onChange:Q=>R({...F,preco:Q.target.value}),placeholder:"0,00",className:"w-full border-2 border-amber-200 rounded-2xl p-4 pl-10 text-sm text-txt-main font-black focus:ring-4 focus:ring-amber-500/10 focus:border-amber-500 outline-none shadow-sm transition-all"})]})]}),i.jsx("button",{onClick:we,className:"bg-amber-500 hover:bg-amber-600 text-white p-4 rounded-2xl shadow-xl shadow-amber-200 flex items-center justify-center active:scale-90 transition-all",children:i.jsx(Wi,{className:"w-7 h-7",strokeWidth:3})})]})]}),i.jsx("div",{className:"bg-surface border-2 border-bdr rounded-[2.5rem] overflow-hidden shadow-2xl",children:i.jsxs("table",{className:"w-full text-left",children:[i.jsx("thead",{className:"bg-txt-main text-[10px] font-black text-surface uppercase tracking-[0.3em]",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-10 py-6",children:"Item Base"}),i.jsx("th",{className:"px-10 py-6",children:"Depsito Alvo"}),i.jsx("th",{className:"px-10 py-6",children:"Modalidade"}),i.jsx("th",{className:"px-10 py-6 text-right",children:"Valor Lquido"}),i.jsx("th",{className:"px-10 py-6 text-center",children:"Ao"})]})}),i.jsx("tbody",{className:"divide-y-2 divide-bdr",children:re.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:5,className:"px-10 py-24 text-center text-txt-muted font-black italic text-sm",children:"NENHUMA CONDIO ESPECIAL DEFINIDA"})}):re.map(Q=>{var oe;return i.jsxs("tr",{className:"hover:bg-app transition-all group",children:[i.jsx("td",{className:"px-10 py-6 font-black text-txt-main text-base",children:Q.produtoId}),i.jsx("td",{className:"px-10 py-6 text-txt-muted font-black text-xs uppercase tracking-widest",children:Q.depositoId||"GLOBAL"}),i.jsx("td",{className:"px-10 py-6",children:i.jsx("span",{className:"px-3 py-1.5 bg-amber-500/10 text-amber-600 text-[10px] font-black rounded-lg border-2 border-amber-500/20 uppercase tracking-widest",children:Q.modalidade})}),i.jsxs("td",{className:"px-10 py-6 text-right font-black text-amber-500 text-xl tracking-tighter",children:["R$ ",(oe=Q.precoEspecial)==null?void 0:oe.toFixed(2)]}),i.jsx("td",{className:"px-10 py-6 text-center",children:i.jsx("button",{onClick:()=>V(Q.id),className:"text-red-400 hover:text-red-600 hover:bg-red-50 p-3 rounded-xl transition-all",children:i.jsx(Gs,{className:"w-6 h-6"})})})]},Q.id)})})]})})]}),_==="desconto"&&t&&i.jsx("div",{className:"space-y-12 animate-in fade-in duration-500 flex flex-col items-center",children:i.jsxs("div",{className:"bg-gradient-to-br from-emerald-600 to-emerald-900 p-12 rounded-[3.5rem] w-full max-w-3xl shadow-2xl shadow-emerald-200/50 relative overflow-hidden group",children:[i.jsx("div",{className:"absolute -right-20 -top-20 w-80 h-80 bg-white/5 rounded-full group-hover:scale-125 transition-transform duration-700"}),i.jsx("div",{className:"absolute -left-20 -bottom-20 w-60 h-60 bg-black/10 rounded-full"}),i.jsxs("div",{className:"flex items-center gap-8 mb-12 relative z-10",children:[i.jsx("div",{className:"bg-white p-5 rounded-[1.75rem] shadow-2xl",children:i.jsx(yx,{className:"w-10 h-10 text-emerald-700",strokeWidth:3})}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-3xl font-black text-white tracking-tighter",children:"Benefcio de Bonificao"}),i.jsx("p",{className:"text-emerald-100 font-bold opacity-80 uppercase text-[10px] tracking-[0.2em] mt-1",children:"Aplicao nica na prxima O.S."})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-10 mb-12 relative z-10",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsx("label",{className:"block text-[11px] font-black text-emerald-200 uppercase tracking-widest ml-1",children:"Modalidade do Cupom"}),i.jsxs("select",{value:ee.tipoDesconto,onChange:Q=>H({...ee,tipoDesconto:Q.target.value}),className:"w-full bg-white/10 border-2 border-white/20 rounded-3xl p-5 text-base text-white font-black focus:ring-8 focus:ring-white/5 focus:bg-white focus:text-emerald-900 outline-none shadow-inner transition-all backdrop-blur-md",children:[i.jsx("option",{value:"VALOR",children:"VALOR FIXO (R$)"}),i.jsx("option",{value:"PERCENTUAL",children:"PERCENTUAL (%)"})]})]}),i.jsxs("div",{className:"mb-8 bg-white/5 border-2 border-white/10 rounded-3xl p-6 text-white flex items-center justify-between gap-4 shadow-inner relative z-10",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-[10px] uppercase tracking-[0.2em] font-black text-white/70",children:"Status do bnus"}),le?i.jsxs("p",{className:"text-sm font-black text-white mt-1",children:["Bnus pendente de ",le.tipoDesconto==="VALOR"?`R$ ${le.valorDesconto.toFixed(2)}`:`${le.valorDesconto}%`," para a prxima O.S."]}):i.jsx("p",{className:"text-sm font-black text-white mt-1",children:"Nenhum bnus pendente para este cliente."})]}),le&&i.jsx("button",{onClick:G,className:"px-5 py-3 rounded-2xl font-black text-sm bg-red-500/90 hover:bg-red-500 text-white shadow-lg shadow-red-500/30 transition-all active:scale-95",children:"DESABILITAR BNUS"})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("label",{className:"block text-[11px] font-black text-emerald-200 uppercase tracking-widest ml-1",children:"Carga do Benefcio"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"number",value:ee.valorDesconto,onChange:Q=>H({...ee,valorDesconto:parseFloat(Q.target.value)}),className:"w-full bg-white/10 border-2 border-white/20 rounded-3xl p-5 text-2xl text-white font-black focus:ring-8 focus:ring-white/5 focus:bg-white focus:text-emerald-900 outline-none shadow-inner transition-all backdrop-blur-md"}),i.jsx("span",{className:"absolute right-6 top-1/2 -translate-y-1/2 font-black text-white/50 text-xl group-focus-within:text-emerald-500",children:ee.tipoDesconto==="VALOR"?"R$":"%"})]})]})]}),i.jsxs("button",{onClick:O,className:"w-full bg-white hover:bg-emerald-50 text-emerald-900 font-black py-6 rounded-3xl shadow-2xl transition-all active:scale-[0.98] flex items-center justify-center gap-4 text-lg relative z-10 group",children:[i.jsx(c3,{className:"w-7 h-7 scale-110",strokeWidth:3}),"ATIVAR BENEFCIO AGORA"]})]})})]})]})})]})]})};function km(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(r);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(r,n[a])&&(t[n[a]]=r[n[a]]);return t}function UI(r,e,t,n){function a(o){return o instanceof t?o:new t(function(c){c(o)})}return new(t||(t=Promise))(function(o,c){function d(g){try{m(n.next(g))}catch(b){c(b)}}function h(g){try{m(n.throw(g))}catch(b){c(b)}}function m(g){g.done?o(g.value):a(g.value).then(d,h)}m((n=n.apply(r,e||[])).next())})}const TI=r=>r?(...e)=>r(...e):(...e)=>fetch(...e);class Zb extends Error{constructor(e,t="FunctionsError",n){super(e),this.name=t,this.context=n}}class FI extends Zb{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class i_ extends Zb{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class o_ extends Zb{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var sb;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(sb||(sb={}));class QI{constructor(e,{headers:t={},customFetch:n,region:a=sb.Any}={}){this.url=e,this.headers=t,this.region=a,this.fetch=TI(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return UI(this,arguments,void 0,function*(t,n={}){var a;let o,c;try{const{headers:d,method:h,body:m,signal:g,timeout:b}=n;let B={},{region:_}=n;_||(_=this.region);const k=new URL(`${this.url}/${t}`);_&&_!=="any"&&(B["x-region"]=_,k.searchParams.set("forceFunctionRegion",_));let j;m&&(d&&!Object.prototype.hasOwnProperty.call(d,"Content-Type")||!d)?typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(B["Content-Type"]="application/octet-stream",j=m):typeof m=="string"?(B["Content-Type"]="text/plain",j=m):typeof FormData<"u"&&m instanceof FormData?j=m:(B["Content-Type"]="application/json",j=JSON.stringify(m)):j=m;let T=g;b&&(c=new AbortController,o=setTimeout(()=>c.abort(),b),g?(T=c.signal,g.addEventListener("abort",()=>c.abort())):T=c.signal);const C=yield this.fetch(k.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},B),this.headers),d),body:j,signal:T}).catch(ae=>{throw new FI(ae)}),I=C.headers.get("x-relay-error");if(I&&I==="true")throw new i_(C);if(!C.ok)throw new o_(C);let F=((a=C.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),R;return F==="application/json"?R=yield C.json():F==="application/octet-stream"||F==="application/pdf"?R=yield C.blob():F==="text/event-stream"?R=C:F==="multipart/form-data"?R=yield C.formData():R=yield C.text(),{data:R,error:null,response:C}}catch(d){return{data:null,error:d,response:d instanceof o_||d instanceof i_?d.context:void 0}}finally{o&&clearTimeout(o)}})}}var II=class extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}},OI=class{constructor(r){var e,t;this.shouldThrowOnError=!1,this.method=r.method,this.url=r.url,this.headers=new Headers(r.headers),this.schema=r.schema,this.body=r.body,this.shouldThrowOnError=(e=r.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=r.signal,this.isMaybeSingle=(t=r.isMaybeSingle)!==null&&t!==void 0?t:!1,r.fetch?this.fetch=r.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(r,e){return this.headers=new Headers(this.headers),this.headers.set(r,e),this}then(r,e){var t=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let c=null,d=null,h=null,m=o.status,g=o.statusText;if(o.ok){var b,B;if(t.method!=="HEAD"){var _;const C=await o.text();C===""||(t.headers.get("Accept")==="text/csv"||t.headers.get("Accept")&&(!((_=t.headers.get("Accept"))===null||_===void 0)&&_.includes("application/vnd.pgrst.plan+text"))?d=C:d=JSON.parse(C))}const j=(b=t.headers.get("Prefer"))===null||b===void 0?void 0:b.match(/count=(exact|planned|estimated)/),T=(B=o.headers.get("content-range"))===null||B===void 0?void 0:B.split("/");j&&T&&T.length>1&&(h=parseInt(T[1])),t.isMaybeSingle&&t.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,m=406,g="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{var k;const j=await o.text();try{c=JSON.parse(j),Array.isArray(c)&&o.status===404&&(d=[],c=null,m=200,g="OK")}catch{o.status===404&&j===""?(m=204,g="No Content"):c={message:j}}if(c&&t.isMaybeSingle&&(!(c==null||(k=c.details)===null||k===void 0)&&k.includes("0 rows"))&&(c=null,m=200,g="OK"),c&&t.shouldThrowOnError)throw new II(c)}return{error:c,data:d,count:h,status:m,statusText:g}});return this.shouldThrowOnError||(a=a.catch(o=>{var c;let d="";const h=o==null?void 0:o.cause;if(h){var m,g,b,B;const k=(m=h==null?void 0:h.message)!==null&&m!==void 0?m:"",j=(g=h==null?void 0:h.code)!==null&&g!==void 0?g:"";d=`${(b=o==null?void 0:o.name)!==null&&b!==void 0?b:"FetchError"}: ${o==null?void 0:o.message}`,d+=`

Caused by: ${(B=h==null?void 0:h.name)!==null&&B!==void 0?B:"Error"}: ${k}`,j&&(d+=` (${j})`),h!=null&&h.stack&&(d+=`
${h.stack}`)}else{var _;d=(_=o==null?void 0:o.stack)!==null&&_!==void 0?_:""}return{error:{message:`${(c=o==null?void 0:o.name)!==null&&c!==void 0?c:"FetchError"}: ${o==null?void 0:o.message}`,details:d,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(r,e)}returns(){return this}overrideTypes(){return this}},MI=class extends OI{select(r){let e=!1;const t=(r??"*").split("").map(n=>/\s/.test(n)&&!e?"":(n==='"'&&(e=!e),n)).join("");return this.url.searchParams.set("select",t),this.headers.append("Prefer","return=representation"),this}order(r,{ascending:e=!0,nullsFirst:t,foreignTable:n,referencedTable:a=n}={}){const o=a?`${a}.order`:"order",c=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${c?`${c},`:""}${r}.${e?"asc":"desc"}${t===void 0?"":t?".nullsfirst":".nullslast"}`),this}limit(r,{foreignTable:e,referencedTable:t=e}={}){const n=typeof t>"u"?"limit":`${t}.limit`;return this.url.searchParams.set(n,`${r}`),this}range(r,e,{foreignTable:t,referencedTable:n=t}={}){const a=typeof n>"u"?"offset":`${n}.offset`,o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${r}`),this.url.searchParams.set(o,`${e-r+1}`),this}abortSignal(r){return this.signal=r,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:r=!1,verbose:e=!1,settings:t=!1,buffers:n=!1,wal:a=!1,format:o="text"}={}){var c;const d=[r?"analyze":null,e?"verbose":null,t?"settings":null,n?"buffers":null,a?"wal":null].filter(Boolean).join("|"),h=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${h}"; options=${d};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(r){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${r}`),this}};const l_=new RegExp("[,()]");var $u=class extends MI{eq(r,e){return this.url.searchParams.append(r,`eq.${e}`),this}neq(r,e){return this.url.searchParams.append(r,`neq.${e}`),this}gt(r,e){return this.url.searchParams.append(r,`gt.${e}`),this}gte(r,e){return this.url.searchParams.append(r,`gte.${e}`),this}lt(r,e){return this.url.searchParams.append(r,`lt.${e}`),this}lte(r,e){return this.url.searchParams.append(r,`lte.${e}`),this}like(r,e){return this.url.searchParams.append(r,`like.${e}`),this}likeAllOf(r,e){return this.url.searchParams.append(r,`like(all).{${e.join(",")}}`),this}likeAnyOf(r,e){return this.url.searchParams.append(r,`like(any).{${e.join(",")}}`),this}ilike(r,e){return this.url.searchParams.append(r,`ilike.${e}`),this}ilikeAllOf(r,e){return this.url.searchParams.append(r,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(r,e){return this.url.searchParams.append(r,`ilike(any).{${e.join(",")}}`),this}regexMatch(r,e){return this.url.searchParams.append(r,`match.${e}`),this}regexIMatch(r,e){return this.url.searchParams.append(r,`imatch.${e}`),this}is(r,e){return this.url.searchParams.append(r,`is.${e}`),this}isDistinct(r,e){return this.url.searchParams.append(r,`isdistinct.${e}`),this}in(r,e){const t=Array.from(new Set(e)).map(n=>typeof n=="string"&&l_.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(r,`in.(${t})`),this}notIn(r,e){const t=Array.from(new Set(e)).map(n=>typeof n=="string"&&l_.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(r,`not.in.(${t})`),this}contains(r,e){return typeof e=="string"?this.url.searchParams.append(r,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(r,`cs.{${e.join(",")}}`):this.url.searchParams.append(r,`cs.${JSON.stringify(e)}`),this}containedBy(r,e){return typeof e=="string"?this.url.searchParams.append(r,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(r,`cd.{${e.join(",")}}`):this.url.searchParams.append(r,`cd.${JSON.stringify(e)}`),this}rangeGt(r,e){return this.url.searchParams.append(r,`sr.${e}`),this}rangeGte(r,e){return this.url.searchParams.append(r,`nxl.${e}`),this}rangeLt(r,e){return this.url.searchParams.append(r,`sl.${e}`),this}rangeLte(r,e){return this.url.searchParams.append(r,`nxr.${e}`),this}rangeAdjacent(r,e){return this.url.searchParams.append(r,`adj.${e}`),this}overlaps(r,e){return typeof e=="string"?this.url.searchParams.append(r,`ov.${e}`):this.url.searchParams.append(r,`ov.{${e.join(",")}}`),this}textSearch(r,e,{config:t,type:n}={}){let a="";n==="plain"?a="pl":n==="phrase"?a="ph":n==="websearch"&&(a="w");const o=t===void 0?"":`(${t})`;return this.url.searchParams.append(r,`${a}fts${o}.${e}`),this}match(r){return Object.entries(r).forEach(([e,t])=>{this.url.searchParams.append(e,`eq.${t}`)}),this}not(r,e,t){return this.url.searchParams.append(r,`not.${e}.${t}`),this}or(r,{foreignTable:e,referencedTable:t=e}={}){const n=t?`${t}.or`:"or";return this.url.searchParams.append(n,`(${r})`),this}filter(r,e,t){return this.url.searchParams.append(r,`${e}.${t}`),this}},DI=class{constructor(r,{headers:e={},schema:t,fetch:n}){this.url=r,this.headers=new Headers(e),this.schema=t,this.fetch=n}select(r,e){const{head:t=!1,count:n}=e??{},a=t?"HEAD":"GET";let o=!1;const c=(r??"*").split("").map(d=>/\s/.test(d)&&!o?"":(d==='"'&&(o=!o),d)).join("");return this.url.searchParams.set("select",c),n&&this.headers.append("Prefer",`count=${n}`),new $u({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(r,{count:e,defaultToNull:t=!0}={}){var n;const a="POST";if(e&&this.headers.append("Prefer",`count=${e}`),t||this.headers.append("Prefer","missing=default"),Array.isArray(r)){const o=r.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(o.length>0){const c=[...new Set(o)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new $u({method:a,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(r,{onConflict:e,ignoreDuplicates:t=!1,count:n,defaultToNull:a=!0}={}){var o;const c="POST";if(this.headers.append("Prefer",`resolution=${t?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),n&&this.headers.append("Prefer",`count=${n}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(r)){const d=r.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(d.length>0){const h=[...new Set(d)].map(m=>`"${m}"`);this.url.searchParams.set("columns",h.join(","))}}return new $u({method:c,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(r,{count:e}={}){var t;const n="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new $u({method:n,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}delete({count:r}={}){var e;const t="DELETE";return r&&this.headers.append("Prefer",`count=${r}`),new $u({method:t,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},RI=class LN{constructor(e,{headers:t={},schema:n,fetch:a}={}){this.url=e,this.headers=new Headers(t),this.schemaName=n,this.fetch=a}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new DI(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new LN(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:n=!1,get:a=!1,count:o}={}){var c;let d;const h=new URL(`${this.url}/rpc/${e}`);let m;n||a?(d=n?"HEAD":"GET",Object.entries(t).filter(([b,B])=>B!==void 0).map(([b,B])=>[b,Array.isArray(B)?`{${B.join(",")}}`:`${B}`]).forEach(([b,B])=>{h.searchParams.append(b,B)})):(d="POST",m=t);const g=new Headers(this.headers);return o&&g.set("Prefer",`count=${o}`),new $u({method:d,url:h,headers:g,schema:this.schemaName,body:m,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}};class PI{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const t=process.versions;if(t&&t.node){const n=t.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){const n=this.getWebSocketConstructor();return new n(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const HI="2.89.0",zI=`realtime-js/${HI}`,jN="1.0.0",qI="2.0.0",A_=jN,ab=1e4,KI=1e3,GI=100;var lc;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(lc||(lc={}));var La;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(La||(La={}));var hl;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(hl||(hl={}));var ib;(function(r){r.websocket="websocket"})(ib||(ib={}));var Rc;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(Rc||(Rc={}));class VI{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,t){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return t(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return t(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var t;return this._isArrayBuffer((t=e.payload)===null||t===void 0?void 0:t.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var t,n;const a=(n=(t=e.payload)===null||t===void 0?void 0:t.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(e){var t,n;const a=(n=(t=e.payload)===null||t===void 0?void 0:t.payload)!==null&&n!==void 0?n:{},c=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(e,t,n){var a,o;const c=e.topic,d=(a=e.ref)!==null&&a!==void 0?a:"",h=(o=e.join_ref)!==null&&o!==void 0?o:"",m=e.payload.event,g=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},b=Object.keys(g).length===0?"":JSON.stringify(g);if(h.length>255)throw new Error(`joinRef length ${h.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`ref length ${d.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`userEvent length ${m.length} exceeds maximum of 255`);if(b.length>255)throw new Error(`metadata length ${b.length} exceeds maximum of 255`);const B=this.USER_BROADCAST_PUSH_META_LENGTH+h.length+d.length+c.length+m.length+b.length,_=new ArrayBuffer(this.HEADER_LENGTH+B);let k=new DataView(_),j=0;k.setUint8(j++,this.KINDS.userBroadcastPush),k.setUint8(j++,h.length),k.setUint8(j++,d.length),k.setUint8(j++,c.length),k.setUint8(j++,m.length),k.setUint8(j++,b.length),k.setUint8(j++,t),Array.from(h,C=>k.setUint8(j++,C.charCodeAt(0))),Array.from(d,C=>k.setUint8(j++,C.charCodeAt(0))),Array.from(c,C=>k.setUint8(j++,C.charCodeAt(0))),Array.from(m,C=>k.setUint8(j++,C.charCodeAt(0))),Array.from(b,C=>k.setUint8(j++,C.charCodeAt(0)));var T=new Uint8Array(_.byteLength+n.byteLength);return T.set(new Uint8Array(_),0),T.set(new Uint8Array(n),_.byteLength),T.buffer}decode(e,t){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return t(n)}if(typeof e=="string"){const n=JSON.parse(e),[a,o,c,d,h]=n;return t({join_ref:a,ref:o,topic:c,event:d,payload:h})}return t({})}_binaryDecode(e){const t=new DataView(e),n=t.getUint8(0),a=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,t,a)}}_decodeUserBroadcast(e,t,n){const a=t.getUint8(1),o=t.getUint8(2),c=t.getUint8(3),d=t.getUint8(4);let h=this.HEADER_LENGTH+4;const m=n.decode(e.slice(h,h+a));h=h+a;const g=n.decode(e.slice(h,h+o));h=h+o;const b=n.decode(e.slice(h,h+c));h=h+c;const B=e.slice(h,e.byteLength),_=d===this.JSON_ENCODING?JSON.parse(n.decode(B)):B,k={type:this.BROADCAST_EVENT,event:g,payload:_};return c>0&&(k.meta=JSON.parse(b)),{join_ref:null,ref:null,topic:m,event:this.BROADCAST_EVENT,payload:k}}_isArrayBuffer(e){var t;return e instanceof ArrayBuffer||((t=e==null?void 0:e.constructor)===null||t===void 0?void 0:t.name)==="ArrayBuffer"}_pick(e,t){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>t.includes(n)))}}class kN{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var rs;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(rs||(rs={}));const c_=(r,e,t={})=>{var n;const a=(n=t.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((o,c)=>(o[c]=ZI(c,r,e,a),o),{}):{}},ZI=(r,e,t,n)=>{const a=e.find(d=>d.name===r),o=a==null?void 0:a.type,c=t[r];return o&&!n.includes(o)?UN(o,c):ob(c)},UN=(r,e)=>{if(r.charAt(0)==="_"){const t=r.slice(1,r.length);return JI(e,t)}switch(r){case rs.bool:return $I(e);case rs.float4:case rs.float8:case rs.int2:case rs.int4:case rs.int8:case rs.numeric:case rs.oid:return YI(e);case rs.json:case rs.jsonb:return XI(e);case rs.timestamp:return WI(e);case rs.abstime:case rs.date:case rs.daterange:case rs.int4range:case rs.int8range:case rs.money:case rs.reltime:case rs.text:case rs.time:case rs.timestamptz:case rs.timetz:case rs.tsrange:case rs.tstzrange:return ob(e);default:return ob(e)}},ob=r=>r,$I=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},YI=r=>{if(typeof r=="string"){const e=parseFloat(r);if(!Number.isNaN(e))return e}return r},XI=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch{return r}return r},JI=(r,e)=>{if(typeof r!="string")return r;const t=r.length-1,n=r[t];if(r[0]==="{"&&n==="}"){let o;const c=r.slice(1,t);try{o=JSON.parse("["+c+"]")}catch{o=c?c.split(","):[]}return o.map(d=>UN(e,d))}return r},WI=r=>typeof r=="string"?r.replace(" ","T"):r,TN=r=>{const e=new URL(r);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class ex{constructor(e,t,n={},a=ab){this.channel=e,this.event=t,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var u_;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(u_||(u_={}));class wh{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:o,onLeave:c,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=wh.syncState(this.state,a,o,c),this.pendingDiffs.forEach(h=>{this.state=wh.syncDiff(this.state,h,o,c)}),this.pendingDiffs=[],d()}),this.channel._on(n.diff,{},a=>{const{onJoin:o,onLeave:c,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=wh.syncDiff(this.state,a,o,c),d())}),this.onJoin((a,o,c)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:o,newPresences:c})}),this.onLeave((a,o,c)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:o,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,n,a){const o=this.cloneDeep(e),c=this.transformState(t),d={},h={};return this.map(o,(m,g)=>{c[m]||(h[m]=g)}),this.map(c,(m,g)=>{const b=o[m];if(b){const B=g.map(T=>T.presence_ref),_=b.map(T=>T.presence_ref),k=g.filter(T=>_.indexOf(T.presence_ref)<0),j=b.filter(T=>B.indexOf(T.presence_ref)<0);k.length>0&&(d[m]=k),j.length>0&&(h[m]=j)}else d[m]=g}),this.syncDiff(o,{joins:d,leaves:h},n,a)}static syncDiff(e,t,n,a){const{joins:o,leaves:c}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(o,(d,h)=>{var m;const g=(m=e[d])!==null&&m!==void 0?m:[];if(e[d]=this.cloneDeep(h),g.length>0){const b=e[d].map(_=>_.presence_ref),B=g.filter(_=>b.indexOf(_.presence_ref)<0);e[d].unshift(...B)}n(d,g,h)}),this.map(c,(d,h)=>{let m=e[d];if(!m)return;const g=h.map(b=>b.presence_ref);m=m.filter(b=>g.indexOf(b.presence_ref)<0),e[d]=m,a(d,m,h),m.length===0&&delete e[d]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(n=>t(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,n)=>{const a=e[n];return"metas"in a?t[n]=a.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):t[n]=a,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var d_;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(d_||(d_={}));var _h;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(_h||(_h={}));var NA;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(NA||(NA={}));class ed{constructor(e,t={config:{}},n){var a,o;if(this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=La.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new ex(this,hl.join,this.params,this.timeout),this.rejoinTimer=new kN(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=La.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=La.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=La.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=La.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=La.errored,this.rejoinTimer.scheduleTimeout())}),this._on(hl.reply,{},(c,d)=>{this._trigger(this._replyEventName(d),c)}),this.presence=new wh(this),this.broadcastEndpointURL=TN(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,t=this.timeout){var n,a,o;if(this.socket.isConnected()||this.socket.connect(),this.state==La.closed){const{config:{broadcast:c,presence:d,private:h}}=this.params,m=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(_=>_.filter))!==null&&a!==void 0?a:[],g=!!this.bindings[_h.PRESENCE]&&this.bindings[_h.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,b={},B={broadcast:c,presence:Object.assign(Object.assign({},d),{enabled:g}),postgres_changes:m,private:h};this.socket.accessTokenValue&&(b.access_token=this.socket.accessTokenValue),this._onError(_=>e==null?void 0:e(NA.CHANNEL_ERROR,_)),this._onClose(()=>e==null?void 0:e(NA.CLOSED)),this.updateJoinPayload(Object.assign({config:B},b)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:_})=>{var k;if(this.socket._isManualToken()||this.socket.setAuth(),_===void 0){e==null||e(NA.SUBSCRIBED);return}else{const j=this.bindings.postgres_changes,T=(k=j==null?void 0:j.length)!==null&&k!==void 0?k:0,C=[];for(let I=0;I<T;I++){const F=j[I],{filter:{event:R,schema:ae,table:Z,filter:me}}=F,ee=_&&_[I];if(ee&&ee.event===R&&ed.isFilterValueEqual(ee.schema,ae)&&ed.isFilterValueEqual(ee.table,Z)&&ed.isFilterValueEqual(ee.filter,me))C.push(Object.assign(Object.assign({},F),{id:ee.id}));else{this.unsubscribe(),this.state=La.errored,e==null||e(NA.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,e&&e(NA.SUBSCRIBED);return}}).receive("error",_=>{this.state=La.errored,e==null||e(NA.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(NA.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this.state===La.joined&&e===_h.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,t,n)}async httpSend(e,t,n={}){var a;if(t==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(d.status===202)return{success:!0};let h=d.statusText;try{const m=await d.json();h=m.error||m.message||h}catch{}return Promise.reject(new Error(h))}async send(e,t={}){var n,a;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:c}=e,d={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(d.Authorization=`Bearer ${this.socket.accessTokenValue}`);const h={method:"POST",headers:d,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:c,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(n=t.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=m.body)===null||a===void 0?void 0:a.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var c,d,h;const m=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((h=(d=(c=this.params)===null||c===void 0?void 0:c.config)===null||d===void 0?void 0:d.broadcast)===null||h===void 0)&&h.ack)&&o("ok"),m.receive("ok",()=>o("ok")),m.receive("error",()=>o("error")),m.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=La.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(hl.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new ex(this,hl.leave,{},e),n.receive("ok",()=>{t(),a("ok")}).receive("timeout",()=>{t(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=La.closed,this.bindings={}}async _fetchWithTimeout(e,t,n){const a=new AbortController,o=setTimeout(()=>a.abort(),n),c=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:a.signal}));return clearTimeout(o),c}_push(e,t,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new ex(this,e,t,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>GI){const t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var a,o;const c=e.toLocaleLowerCase(),{close:d,error:h,leave:m,join:g}=hl;if(n&&[d,h,m,g].indexOf(c)>=0&&n!==this._joinRef())return;let B=this._onMessage(c,t,n);if(t&&!B)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(_=>{var k,j,T;return((k=_.filter)===null||k===void 0?void 0:k.event)==="*"||((T=(j=_.filter)===null||j===void 0?void 0:j.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===c}).map(_=>_.callback(B,n)):(o=this.bindings[c])===null||o===void 0||o.filter(_=>{var k,j,T,C,I,F;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in _){const R=_.id,ae=(k=_.filter)===null||k===void 0?void 0:k.event;return R&&((j=t.ids)===null||j===void 0?void 0:j.includes(R))&&(ae==="*"||(ae==null?void 0:ae.toLocaleLowerCase())===((T=t.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))}else{const R=(I=(C=_==null?void 0:_.filter)===null||C===void 0?void 0:C.event)===null||I===void 0?void 0:I.toLocaleLowerCase();return R==="*"||R===((F=t==null?void 0:t.event)===null||F===void 0?void 0:F.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===c}).map(_=>{if(typeof B=="object"&&"ids"in B){const k=B.data,{schema:j,table:T,commit_timestamp:C,type:I,errors:F}=k;B=Object.assign(Object.assign({},{schema:j,table:T,commit_timestamp:C,eventType:I,new:{},old:{},errors:F}),this._getPayloadRecords(k))}_.callback(B,n)})}_isClosed(){return this.state===La.closed}_isJoined(){return this.state===La.joined}_isJoining(){return this.state===La.joining}_isLeaving(){return this.state===La.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,n){const a=e.toLocaleLowerCase(),o={type:a,filter:t,callback:n};return this.bindings[a]?this.bindings[a].push(o):this.bindings[a]=[o],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var o;return!(((o=a.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&ed.isEqual(a.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}static isFilterValueEqual(e,t){return(e??void 0)===(t??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(hl.close,{},e)}_onError(e){this._on(hl.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=La.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=c_(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=c_(e.columns,e.old_record)),t}}const tx=()=>{},gp={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},eO=[1e3,2e3,5e3,1e4],tO=1e4,rO=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class nO{constructor(e,t){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ab,this.transport=null,this.heartbeatIntervalMs=gp.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=tx,this.ref=0,this.reconnectTimer=null,this.vsn=A_,this.logger=tx,this.conn=null,this.sendBuffer=[],this.serializer=new VI,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...o)=>a(...o):(...o)=>fetch(...o),!(!((n=t==null?void 0:t.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${ib.websocket}`,this.httpEndpoint=TN(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t==null?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=PI.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,t??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case lc.connecting:return Rc.Connecting;case lc.open:return Rc.Open;case lc.closing:return Rc.Closing;default:return Rc.Closed}}isConnected(){return this.connectionState()===Rc.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,t={config:{}}){const n=`realtime:${e}`,a=this.getChannels().find(o=>o.topic===n);if(a)return a;{const o=new ed(`realtime:${e}`,t,this);return this.channels.push(o),o}}push(e){const{topic:t,event:n,payload:a,ref:o}=e,c=()=>{this.encode(e,d=>{var h;(h=this.conn)===null||h===void 0||h.send(d)})};this.log("push",`${t} ${n} (${o})`,a),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(KI,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},gp.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{if(t.topic==="phoenix"&&t.event==="phx_reply")try{this.heartbeatCallback(t.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}t.ref&&t.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:o,ref:c}=t,d=c?`(${c})`:"",h=o.status||"";this.log("receive",`${h} ${n} ${a} ${d}`.trim(),o),this.channels.filter(m=>m._isMember(n)).forEach(m=>m._trigger(a,o,c)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===lc.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===lc.open||this.conn.readyState===lc.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(t=>{this.log("error","error waiting for auth on connect",t),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this._terminateWorker()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(hl.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const n=e.match(/\?/)?"&":"?",a=new URLSearchParams(t);return`${e}${n}${a}`}_workerObjectUrl(e){let t;if(e)t=e;else{const n=new Blob([rO],{type:"application/javascript"});t=URL.createObjectURL(n)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t,n=!1;if(e)t=e,n=!0;else if(this.accessToken)try{t=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),t=this.accessTokenValue}else t=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(a=>{const o={access_token:t,version:zI};t&&a.updateJoinPayload(o),a.joinedOnce&&a._isJoined()&&a._push(hl.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(t=>{this.log("error",`Error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(t)}catch(a){this.log("error",`error in ${e} callback`,a)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new kN(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},gp.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var t,n,a,o,c,d,h,m,g,b,B,_;switch(this.transport=(t=e==null?void 0:e.transport)!==null&&t!==void 0?t:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:ab,this.heartbeatIntervalMs=(a=e==null?void 0:e.heartbeatIntervalMs)!==null&&a!==void 0?a:gp.HEARTBEAT_INTERVAL,this.worker=(o=e==null?void 0:e.worker)!==null&&o!==void 0?o:!1,this.accessToken=(c=e==null?void 0:e.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(d=e==null?void 0:e.heartbeatCallback)!==null&&d!==void 0?d:tx,this.vsn=(h=e==null?void 0:e.vsn)!==null&&h!==void 0?h:A_,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=e==null?void 0:e.reconnectAfterMs)!==null&&m!==void 0?m:(k=>eO[k-1]||tO),this.vsn){case jN:this.encode=(g=e==null?void 0:e.encode)!==null&&g!==void 0?g:((k,j)=>j(JSON.stringify(k))),this.decode=(b=e==null?void 0:e.decode)!==null&&b!==void 0?b:((k,j)=>j(JSON.parse(k)));break;case qI:this.encode=(B=e==null?void 0:e.encode)!==null&&B!==void 0?B:this.serializer.encode.bind(this.serializer),this.decode=(_=e==null?void 0:e.decode)!==null&&_!==void 0?_:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var Th=class extends Error{constructor(r,e){var t;super(r),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((t=e.icebergType)==null?void 0:t.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function sO(r,e,t){const n=new URL(e,r);if(t)for(const[a,o]of Object.entries(t))o!==void 0&&n.searchParams.set(a,o);return n.toString()}async function aO(r){return!r||r.type==="none"?{}:r.type==="bearer"?{Authorization:`Bearer ${r.token}`}:r.type==="header"?{[r.name]:r.value}:r.type==="custom"?await r.getHeaders():{}}function iO(r){const e=r.fetchImpl??globalThis.fetch;return{async request({method:t,path:n,query:a,body:o,headers:c}){const d=sO(r.baseUrl,n,a),h=await aO(r.auth),m=await e(d,{method:t,headers:{...o?{"Content-Type":"application/json"}:{},...h,...c},body:o?JSON.stringify(o):void 0}),g=await m.text(),b=(m.headers.get("content-type")||"").includes("application/json"),B=b&&g?JSON.parse(g):g;if(!m.ok){const _=b?B:void 0,k=_==null?void 0:_.error;throw new Th((k==null?void 0:k.message)??`Request failed with status ${m.status}`,{status:m.status,icebergType:k==null?void 0:k.type,icebergCode:k==null?void 0:k.code,details:_})}return{status:m.status,headers:m.headers,data:B}}}}function xp(r){return r.join("")}var oO=class{constructor(r,e=""){this.client=r,this.prefix=e}async listNamespaces(r){const e=r?{parent:xp(r.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(r,e){const t={namespace:r.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:t})).data}async dropNamespace(r){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${xp(r.namespace)}`})}async loadNamespaceMetadata(r){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${xp(r.namespace)}`})).data.properties}}async namespaceExists(r){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${xp(r.namespace)}`}),!0}catch(e){if(e instanceof Th&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(r,e){try{return await this.createNamespace(r,e)}catch(t){if(t instanceof Th&&t.status===409)return;throw t}}};function Ou(r){return r.join("")}var lO=class{constructor(r,e="",t){this.client=r,this.prefix=e,this.accessDelegation=t}async listTables(r){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ou(r.namespace)}/tables`})).data.identifiers}async createTable(r,e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ou(r.namespace)}/tables`,body:e,headers:t})).data.metadata}async updateTable(r,e){const t=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ou(r.namespace)}/tables/${r.name}`,body:e});return{"metadata-location":t.data["metadata-location"],metadata:t.data.metadata}}async dropTable(r,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ou(r.namespace)}/tables/${r.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(r){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ou(r.namespace)}/tables/${r.name}`,headers:e})).data.metadata}async tableExists(r){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ou(r.namespace)}/tables/${r.name}`,headers:e}),!0}catch(t){if(t instanceof Th&&t.status===404)return!1;throw t}}async createTableIfNotExists(r,e){try{return await this.createTable(r,e)}catch(t){if(t instanceof Th&&t.status===409)return await this.loadTable({namespace:r.namespace,name:e.name});throw t}}},AO=class{constructor(r){var n;let e="v1";r.catalogName&&(e+=`/${r.catalogName}`);const t=r.baseUrl.endsWith("/")?r.baseUrl:`${r.baseUrl}/`;this.client=iO({baseUrl:t,auth:r.auth,fetchImpl:r.fetch}),this.accessDelegation=(n=r.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new oO(this.client,e),this.tableOps=new lO(this.client,e,this.accessDelegation)}async listNamespaces(r){return this.namespaceOps.listNamespaces(r)}async createNamespace(r,e){return this.namespaceOps.createNamespace(r,e)}async dropNamespace(r){await this.namespaceOps.dropNamespace(r)}async loadNamespaceMetadata(r){return this.namespaceOps.loadNamespaceMetadata(r)}async listTables(r){return this.tableOps.listTables(r)}async createTable(r,e){return this.tableOps.createTable(r,e)}async updateTable(r,e){return this.tableOps.updateTable(r,e)}async dropTable(r,e){await this.tableOps.dropTable(r,e)}async loadTable(r){return this.tableOps.loadTable(r)}async namespaceExists(r){return this.namespaceOps.namespaceExists(r)}async tableExists(r){return this.tableOps.tableExists(r)}async createNamespaceIfNotExists(r,e){return this.namespaceOps.createNamespaceIfNotExists(r,e)}async createTableIfNotExists(r,e){return this.tableOps.createTableIfNotExists(r,e)}},Um=class extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}};function Ts(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}var cO=class extends Um{constructor(r,e,t){super(r),this.name="StorageApiError",this.status=e,this.statusCode=t}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},lb=class extends Um{constructor(r,e){super(r),this.name="StorageUnknownError",this.originalError=e}};const $b=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),uO=()=>Response,Ab=r=>{if(Array.isArray(r))return r.map(t=>Ab(t));if(typeof r=="function"||r!==Object(r))return r;const e={};return Object.entries(r).forEach(([t,n])=>{const a=t.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[a]=Ab(n)}),e},dO=r=>{if(typeof r!="object"||r===null)return!1;const e=Object.getPrototypeOf(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},hO=r=>!r||typeof r!="string"||r.length===0||r.length>100||r.trim()!==r||r.includes("/")||r.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(r);function Fh(r){"@babel/helpers - typeof";return Fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fh(r)}function fO(r,e){if(Fh(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(Fh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function pO(r){var e=fO(r,"string");return Fh(e)=="symbol"?e:e+""}function mO(r,e,t){return(e=pO(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function h_(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function Tr(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?h_(Object(t),!0).forEach(function(n){mO(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):h_(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}const rx=r=>{var e;return r.msg||r.message||r.error_description||(typeof r.error=="string"?r.error:(e=r.error)===null||e===void 0?void 0:e.message)||JSON.stringify(r)},gO=async(r,e,t)=>{r instanceof await uO()&&!(t!=null&&t.noResolveJson)?r.json().then(n=>{const a=r.status||500,o=(n==null?void 0:n.statusCode)||a+"";e(new cO(rx(n),a,o))}).catch(n=>{e(new lb(rx(n),n))}):e(new lb(rx(r),r))},xO=(r,e,t,n)=>{const a={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"||!n?a:(dO(n)?(a.headers=Tr({"Content-Type":"application/json"},e==null?void 0:e.headers),a.body=JSON.stringify(n)):a.body=n,e!=null&&e.duplex&&(a.duplex=e.duplex),Tr(Tr({},a),t))};async function Kh(r,e,t,n,a,o){return new Promise((c,d)=>{r(t,xO(e,n,a,o)).then(h=>{if(!h.ok)throw h;return n!=null&&n.noResolveJson?h:h.json()}).then(h=>c(h)).catch(h=>gO(h,d,n))})}async function Qh(r,e,t,n){return Kh(r,"GET",e,t,n)}async function ul(r,e,t,n,a){return Kh(r,"POST",e,n,a,t)}async function cb(r,e,t,n,a){return Kh(r,"PUT",e,n,a,t)}async function bO(r,e,t,n){return Kh(r,"HEAD",e,Tr(Tr({},t),{},{noResolveJson:!0}),n)}async function Yb(r,e,t,n,a){return Kh(r,"DELETE",e,n,a,t)}var vO=class{constructor(r,e){this.downloadFn=r,this.shouldThrowOnError=e}then(r,e){return this.execute().then(r,e)}async execute(){var r=this;try{return{data:(await r.downloadFn()).body,error:null}}catch(e){if(r.shouldThrowOnError)throw e;if(Ts(e))return{data:null,error:e};throw e}}};let FN;FN=Symbol.toStringTag;var yO=class{constructor(r,e){this.downloadFn=r,this.shouldThrowOnError=e,this[FN]="BlobDownloadBuilder",this.promise=null}asStream(){return new vO(this.downloadFn,this.shouldThrowOnError)}then(r,e){return this.getPromise().then(r,e)}catch(r){return this.getPromise().catch(r)}finally(r){return this.getPromise().finally(r)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var r=this;try{return{data:await(await r.downloadFn()).blob(),error:null}}catch(e){if(r.shouldThrowOnError)throw e;if(Ts(e))return{data:null,error:e};throw e}}};const wO={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},f_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var _O=class{constructor(r,e={},t,n){this.shouldThrowOnError=!1,this.url=r,this.headers=e,this.bucketId=t,this.fetch=$b(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(r,e,t,n){var a=this;try{let o;const c=Tr(Tr({},f_),n);let d=Tr(Tr({},a.headers),r==="POST"&&{"x-upsert":String(c.upsert)});const h=c.metadata;typeof Blob<"u"&&t instanceof Blob?(o=new FormData,o.append("cacheControl",c.cacheControl),h&&o.append("metadata",a.encodeMetadata(h)),o.append("",t)):typeof FormData<"u"&&t instanceof FormData?(o=t,o.has("cacheControl")||o.append("cacheControl",c.cacheControl),h&&!o.has("metadata")&&o.append("metadata",a.encodeMetadata(h))):(o=t,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType,h&&(d["x-metadata"]=a.toBase64(a.encodeMetadata(h))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!c.duplex&&(c.duplex="half")),n!=null&&n.headers&&(d=Tr(Tr({},d),n.headers));const m=a._removeEmptyFolders(e),g=a._getFinalPath(m),b=await(r=="PUT"?cb:ul)(a.fetch,`${a.url}/object/${g}`,o,Tr({headers:d},c!=null&&c.duplex?{duplex:c.duplex}:{}));return{data:{path:m,id:b.Id,fullPath:b.Key},error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(Ts(o))return{data:null,error:o};throw o}}async upload(r,e,t){return this.uploadOrUpdate("POST",r,e,t)}async uploadToSignedUrl(r,e,t,n){var a=this;const o=a._removeEmptyFolders(r),c=a._getFinalPath(o),d=new URL(a.url+`/object/upload/sign/${c}`);d.searchParams.set("token",e);try{let h;const m=Tr({upsert:f_.upsert},n),g=Tr(Tr({},a.headers),{"x-upsert":String(m.upsert)});return typeof Blob<"u"&&t instanceof Blob?(h=new FormData,h.append("cacheControl",m.cacheControl),h.append("",t)):typeof FormData<"u"&&t instanceof FormData?(h=t,h.append("cacheControl",m.cacheControl)):(h=t,g["cache-control"]=`max-age=${m.cacheControl}`,g["content-type"]=m.contentType),{data:{path:o,fullPath:(await cb(a.fetch,d.toString(),h,{headers:g})).Key},error:null}}catch(h){if(a.shouldThrowOnError)throw h;if(Ts(h))return{data:null,error:h};throw h}}async createSignedUploadUrl(r,e){var t=this;try{let n=t._getFinalPath(r);const a=Tr({},t.headers);e!=null&&e.upsert&&(a["x-upsert"]="true");const o=await ul(t.fetch,`${t.url}/object/upload/sign/${n}`,{},{headers:a}),c=new URL(t.url+o.url),d=c.searchParams.get("token");if(!d)throw new Um("No token returned by API");return{data:{signedUrl:c.toString(),path:r,token:d},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ts(n))return{data:null,error:n};throw n}}async update(r,e,t){return this.uploadOrUpdate("PUT",r,e,t)}async move(r,e,t){var n=this;try{return{data:await ul(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:r,destinationKey:e,destinationBucket:t==null?void 0:t.destinationBucket},{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(Ts(a))return{data:null,error:a};throw a}}async copy(r,e,t){var n=this;try{return{data:{path:(await ul(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:r,destinationKey:e,destinationBucket:t==null?void 0:t.destinationBucket},{headers:n.headers})).Key},error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(Ts(a))return{data:null,error:a};throw a}}async createSignedUrl(r,e,t){var n=this;try{let a=n._getFinalPath(r),o=await ul(n.fetch,`${n.url}/object/sign/${a}`,Tr({expiresIn:e},t!=null&&t.transform?{transform:t.transform}:{}),{headers:n.headers});const c=t!=null&&t.download?`&download=${t.download===!0?"":t.download}`:"";return o={signedUrl:encodeURI(`${n.url}${o.signedURL}${c}`)},{data:o,error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(Ts(a))return{data:null,error:a};throw a}}async createSignedUrls(r,e,t){var n=this;try{const a=await ul(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:e,paths:r},{headers:n.headers}),o=t!=null&&t.download?`&download=${t.download===!0?"":t.download}`:"";return{data:a.map(c=>Tr(Tr({},c),{},{signedUrl:c.signedURL?encodeURI(`${n.url}${c.signedURL}${o}`):null})),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(Ts(a))return{data:null,error:a};throw a}}download(r,e){const t=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),a=n?`?${n}`:"",o=this._getFinalPath(r),c=()=>Qh(this.fetch,`${this.url}/${t}/${o}${a}`,{headers:this.headers,noResolveJson:!0});return new yO(c,this.shouldThrowOnError)}async info(r){var e=this;const t=e._getFinalPath(r);try{return{data:Ab(await Qh(e.fetch,`${e.url}/object/info/${t}`,{headers:e.headers})),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ts(n))return{data:null,error:n};throw n}}async exists(r){var e=this;const t=e._getFinalPath(r);try{return await bO(e.fetch,`${e.url}/object/${t}`,{headers:e.headers}),{data:!0,error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ts(n)&&n instanceof lb){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}}getPublicUrl(r,e){const t=this._getFinalPath(r),n=[],a=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";a!==""&&n.push(a);const o=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});c!==""&&n.push(c);let d=n.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${t}${d}`)}}}async remove(r){var e=this;try{return{data:await Yb(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:r},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ts(t))return{data:null,error:t};throw t}}async list(r,e,t){var n=this;try{const a=Tr(Tr(Tr({},wO),e),{},{prefix:r||""});return{data:await ul(n.fetch,`${n.url}/object/list/${n.bucketId}`,a,{headers:n.headers},t),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(Ts(a))return{data:null,error:a};throw a}}async listV2(r,e){var t=this;try{const n=Tr({},r);return{data:await ul(t.fetch,`${t.url}/object/list-v2/${t.bucketId}`,n,{headers:t.headers},e),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ts(n))return{data:null,error:n};throw n}}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const e=[];return r.width&&e.push(`width=${r.width}`),r.height&&e.push(`height=${r.height}`),r.resize&&e.push(`resize=${r.resize}`),r.format&&e.push(`format=${r.format}`),r.quality&&e.push(`quality=${r.quality}`),e.join("&")}};const QN="2.89.0",IN={"X-Client-Info":`storage-js/${QN}`};var BO=class{constructor(r,e={},t,n){this.shouldThrowOnError=!1;const a=new URL(r);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Tr(Tr({},IN),e),this.fetch=$b(t)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(r){var e=this;try{const t=e.listBucketOptionsToQueryString(r);return{data:await Qh(e.fetch,`${e.url}/bucket${t}`,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ts(t))return{data:null,error:t};throw t}}async getBucket(r){var e=this;try{return{data:await Qh(e.fetch,`${e.url}/bucket/${r}`,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ts(t))return{data:null,error:t};throw t}}async createBucket(r,e={public:!1}){var t=this;try{return{data:await ul(t.fetch,`${t.url}/bucket`,{id:r,name:r,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ts(n))return{data:null,error:n};throw n}}async updateBucket(r,e){var t=this;try{return{data:await cb(t.fetch,`${t.url}/bucket/${r}`,{id:r,name:r,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ts(n))return{data:null,error:n};throw n}}async emptyBucket(r){var e=this;try{return{data:await ul(e.fetch,`${e.url}/bucket/${r}/empty`,{},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ts(t))return{data:null,error:t};throw t}}async deleteBucket(r){var e=this;try{return{data:await Yb(e.fetch,`${e.url}/bucket/${r}`,{},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ts(t))return{data:null,error:t};throw t}}listBucketOptionsToQueryString(r){const e={};return r&&("limit"in r&&(e.limit=String(r.limit)),"offset"in r&&(e.offset=String(r.offset)),r.search&&(e.search=r.search),r.sortColumn&&(e.sortColumn=r.sortColumn),r.sortOrder&&(e.sortOrder=r.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},NO=class{constructor(r,e={},t){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Tr(Tr({},IN),e),this.fetch=$b(t)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(r){var e=this;try{return{data:await ul(e.fetch,`${e.url}/bucket`,{name:r},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ts(t))return{data:null,error:t};throw t}}async listBuckets(r){var e=this;try{const t=new URLSearchParams;(r==null?void 0:r.limit)!==void 0&&t.set("limit",r.limit.toString()),(r==null?void 0:r.offset)!==void 0&&t.set("offset",r.offset.toString()),r!=null&&r.sortColumn&&t.set("sortColumn",r.sortColumn),r!=null&&r.sortOrder&&t.set("sortOrder",r.sortOrder),r!=null&&r.search&&t.set("search",r.search);const n=t.toString(),a=n?`${e.url}/bucket?${n}`:`${e.url}/bucket`;return{data:await Qh(e.fetch,a,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ts(t))return{data:null,error:t};throw t}}async deleteBucket(r){var e=this;try{return{data:await Yb(e.fetch,`${e.url}/bucket/${r}`,{},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ts(t))return{data:null,error:t};throw t}}from(r){var e=this;if(!hO(r))throw new Um("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const t=new AO({baseUrl:this.url,catalogName:r,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(t,{get(a,o){const c=a[o];return typeof c!="function"?c:async(...d)=>{try{return{data:await c.apply(a,d),error:null}}catch(h){if(n)throw h;return{data:null,error:h}}}}})}};const Xb={"X-Client-Info":`storage-js/${QN}`,"Content-Type":"application/json"};var ON=class extends Error{constructor(r){super(r),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function wo(r){return typeof r=="object"&&r!==null&&"__isStorageVectorsError"in r}var nx=class extends ON{constructor(r,e,t){super(r),this.name="StorageVectorsApiError",this.status=e,this.statusCode=t}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},CO=class extends ON{constructor(r,e){super(r),this.name="StorageVectorsUnknownError",this.originalError=e}};const Jb=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),EO=r=>{if(typeof r!="object"||r===null)return!1;const e=Object.getPrototypeOf(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},p_=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),SO=async(r,e,t)=>{if(r&&typeof r=="object"&&"status"in r&&"ok"in r&&typeof r.status=="number"&&!(t!=null&&t.noResolveJson)){const n=r.status||500,a=r;if(typeof a.json=="function")a.json().then(o=>{const c=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||n+"";e(new nx(p_(o),n,c))}).catch(()=>{const o=n+"";e(new nx(a.statusText||`HTTP ${n} error`,n,o))});else{const o=n+"";e(new nx(a.statusText||`HTTP ${n} error`,n,o))}}else e(new CO(p_(r),r))},LO=(r,e,t,n)=>{const a={method:r,headers:(e==null?void 0:e.headers)||{}};return n?(EO(n)?(a.headers=Tr({"Content-Type":"application/json"},e==null?void 0:e.headers),a.body=JSON.stringify(n)):a.body=n,Tr(Tr({},a),t)):a};async function jO(r,e,t,n,a,o){return new Promise((c,d)=>{r(t,LO(e,n,a,o)).then(h=>{if(!h.ok)throw h;if(n!=null&&n.noResolveJson)return h;const m=h.headers.get("content-type");return!m||!m.includes("application/json")?{}:h.json()}).then(h=>c(h)).catch(h=>SO(h,d,n))})}async function _o(r,e,t,n,a){return jO(r,"POST",e,n,a,t)}var kO=class{constructor(r,e={},t){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Tr(Tr({},Xb),e),this.fetch=Jb(t)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(r){var e=this;try{return{data:await _o(e.fetch,`${e.url}/CreateIndex`,r,{headers:e.headers})||{},error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(wo(t))return{data:null,error:t};throw t}}async getIndex(r,e){var t=this;try{return{data:await _o(t.fetch,`${t.url}/GetIndex`,{vectorBucketName:r,indexName:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(wo(n))return{data:null,error:n};throw n}}async listIndexes(r){var e=this;try{return{data:await _o(e.fetch,`${e.url}/ListIndexes`,r,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(wo(t))return{data:null,error:t};throw t}}async deleteIndex(r,e){var t=this;try{return{data:await _o(t.fetch,`${t.url}/DeleteIndex`,{vectorBucketName:r,indexName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(wo(n))return{data:null,error:n};throw n}}},UO=class{constructor(r,e={},t){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Tr(Tr({},Xb),e),this.fetch=Jb(t)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(r){var e=this;try{if(r.vectors.length<1||r.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await _o(e.fetch,`${e.url}/PutVectors`,r,{headers:e.headers})||{},error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(wo(t))return{data:null,error:t};throw t}}async getVectors(r){var e=this;try{return{data:await _o(e.fetch,`${e.url}/GetVectors`,r,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(wo(t))return{data:null,error:t};throw t}}async listVectors(r){var e=this;try{if(r.segmentCount!==void 0){if(r.segmentCount<1||r.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(r.segmentIndex!==void 0&&(r.segmentIndex<0||r.segmentIndex>=r.segmentCount))throw new Error(`segmentIndex must be between 0 and ${r.segmentCount-1}`)}return{data:await _o(e.fetch,`${e.url}/ListVectors`,r,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(wo(t))return{data:null,error:t};throw t}}async queryVectors(r){var e=this;try{return{data:await _o(e.fetch,`${e.url}/QueryVectors`,r,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(wo(t))return{data:null,error:t};throw t}}async deleteVectors(r){var e=this;try{if(r.keys.length<1||r.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await _o(e.fetch,`${e.url}/DeleteVectors`,r,{headers:e.headers})||{},error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(wo(t))return{data:null,error:t};throw t}}},TO=class{constructor(r,e={},t){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Tr(Tr({},Xb),e),this.fetch=Jb(t)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(r){var e=this;try{return{data:await _o(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:r},{headers:e.headers})||{},error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(wo(t))return{data:null,error:t};throw t}}async getBucket(r){var e=this;try{return{data:await _o(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:r},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(wo(t))return{data:null,error:t};throw t}}async listBuckets(r={}){var e=this;try{return{data:await _o(e.fetch,`${e.url}/ListVectorBuckets`,r,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(wo(t))return{data:null,error:t};throw t}}async deleteBucket(r){var e=this;try{return{data:await _o(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:r},{headers:e.headers})||{},error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(wo(t))return{data:null,error:t};throw t}}},FO=class extends TO{constructor(r,e={}){super(r,e.headers||{},e.fetch)}from(r){return new QO(this.url,this.headers,r,this.fetch)}async createBucket(r){var e=()=>super.createBucket,t=this;return e().call(t,r)}async getBucket(r){var e=()=>super.getBucket,t=this;return e().call(t,r)}async listBuckets(r={}){var e=()=>super.listBuckets,t=this;return e().call(t,r)}async deleteBucket(r){var e=()=>super.deleteBucket,t=this;return e().call(t,r)}},QO=class extends kO{constructor(r,e,t,n){super(r,e,n),this.vectorBucketName=t}async createIndex(r){var e=()=>super.createIndex,t=this;return e().call(t,Tr(Tr({},r),{},{vectorBucketName:t.vectorBucketName}))}async listIndexes(r={}){var e=()=>super.listIndexes,t=this;return e().call(t,Tr(Tr({},r),{},{vectorBucketName:t.vectorBucketName}))}async getIndex(r){var e=()=>super.getIndex,t=this;return e().call(t,t.vectorBucketName,r)}async deleteIndex(r){var e=()=>super.deleteIndex,t=this;return e().call(t,t.vectorBucketName,r)}index(r){return new IO(this.url,this.headers,this.vectorBucketName,r,this.fetch)}},IO=class extends UO{constructor(r,e,t,n,a){super(r,e,a),this.vectorBucketName=t,this.indexName=n}async putVectors(r){var e=()=>super.putVectors,t=this;return e().call(t,Tr(Tr({},r),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async getVectors(r){var e=()=>super.getVectors,t=this;return e().call(t,Tr(Tr({},r),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async listVectors(r={}){var e=()=>super.listVectors,t=this;return e().call(t,Tr(Tr({},r),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async queryVectors(r){var e=()=>super.queryVectors,t=this;return e().call(t,Tr(Tr({},r),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async deleteVectors(r){var e=()=>super.deleteVectors,t=this;return e().call(t,Tr(Tr({},r),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}},OO=class extends BO{constructor(r,e={},t,n){super(r,e,t,n)}from(r){return new _O(this.url,this.headers,r,this.fetch)}get vectors(){return new FO(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new NO(this.url+"/iceberg",this.headers,this.fetch)}};const MN="2.89.0",Yu=30*1e3,ub=3,sx=ub*Yu,MO="http://localhost:9999",DO="supabase.auth.token",RO={"X-Client-Info":`gotrue-js/${MN}`},hb="X-Supabase-Api-Version",DN={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},PO=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,HO=600*1e3;class Ih extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function vr(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class zO extends Ih{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}function qO(r){return vr(r)&&r.name==="AuthApiError"}class Pc extends Ih{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class TA extends Ih{constructor(e,t,n,a){super(e,n,a),this.name=t,this.status=n}}class yo extends TA{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function KO(r){return vr(r)&&r.name==="AuthSessionMissingError"}class Mu extends TA{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class bp extends TA{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class vp extends TA{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function GO(r){return vr(r)&&r.name==="AuthImplicitGrantRedirectError"}class m_ extends TA{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class VO extends TA{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class fb extends TA{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function ax(r){return vr(r)&&r.name==="AuthRetryableFetchError"}class g_ extends TA{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}class pb extends TA{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const lm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),x_=` 	
\r=`.split(""),ZO=(()=>{const r=new Array(128);for(let e=0;e<r.length;e+=1)r[e]=-1;for(let e=0;e<x_.length;e+=1)r[x_[e].charCodeAt(0)]=-2;for(let e=0;e<lm.length;e+=1)r[lm[e].charCodeAt(0)]=e;return r})();function b_(r,e,t){if(r!==null)for(e.queue=e.queue<<8|r,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;t(lm[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;t(lm[n]),e.queuedBits-=6}}function RN(r,e,t){const n=ZO[r];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function v_(r){const e=[],t=c=>{e.push(String.fromCodePoint(c))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},o=c=>{XO(c,n,t)};for(let c=0;c<r.length;c+=1)RN(r.charCodeAt(c),a,o);return e.join("")}function $O(r,e){if(r<=127){e(r);return}else if(r<=2047){e(192|r>>6),e(128|r&63);return}else if(r<=65535){e(224|r>>12),e(128|r>>6&63),e(128|r&63);return}else if(r<=1114111){e(240|r>>18),e(128|r>>12&63),e(128|r>>6&63),e(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function YO(r,e){for(let t=0;t<r.length;t+=1){let n=r.charCodeAt(t);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(r.charCodeAt(t+1)-56320&65535|a)+65536,t+=1}$O(n,e)}}function XO(r,e,t){if(e.utf8seq===0){if(r<=127){t(r);return}for(let n=1;n<6;n+=1)if((r>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=r&31;else if(e.utf8seq===3)e.codepoint=r&15;else if(e.utf8seq===4)e.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|r&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function ld(r){const e=[],t={queue:0,queuedBits:0},n=a=>{e.push(a)};for(let a=0;a<r.length;a+=1)RN(r.charCodeAt(a),t,n);return new Uint8Array(e)}function JO(r){const e=[];return YO(r,t=>e.push(t)),new Uint8Array(e)}function Kc(r){const e=[],t={queue:0,queuedBits:0},n=a=>{e.push(a)};return r.forEach(a=>b_(a,t,n)),b_(null,t,n),e.join("")}function WO(r){return Math.round(Date.now()/1e3)+r}function eM(){return Symbol("auth-callback")}const ti=()=>typeof window<"u"&&typeof document<"u",jc={tested:!1,writable:!1},PN=()=>{if(!ti())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(jc.tested)return jc.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),jc.tested=!0,jc.writable=!0}catch{jc.tested=!0,jc.writable=!1}return jc.writable};function tM(r){const e={},t=new URL(r);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((a,o)=>{e[o]=a})}catch{}return t.searchParams.forEach((n,a)=>{e[a]=n}),e}const HN=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),rM=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",Xu=async(r,e,t)=>{await r.setItem(e,JSON.stringify(t))},kc=async(r,e)=>{const t=await r.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},ei=async(r,e)=>{await r.removeItem(e)};class Tm{constructor(){this.promise=new Tm.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}Tm.promiseConstructor=Promise;function ix(r){const e=r.split(".");if(e.length!==3)throw new pb("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!PO.test(e[n]))throw new pb("JWT not in base64url format");return{header:JSON.parse(v_(e[0])),payload:JSON.parse(v_(e[1])),signature:ld(e[2]),raw:{header:e[0],payload:e[1]}}}async function nM(r){return await new Promise(e=>{setTimeout(()=>e(null),r)})}function sM(r,e){return new Promise((n,a)=>{(async()=>{for(let o=0;o<1/0;o++)try{const c=await r(o);if(!e(o,null,c)){n(c);return}}catch(c){if(!e(o,c)){a(c);return}}})()})}function aM(r){return("0"+r.toString(16)).substr(-2)}function iM(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=t.length;let a="";for(let o=0;o<56;o++)a+=t.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(e),Array.from(e,aM).join("")}async function oM(r){const t=new TextEncoder().encode(r),n=await crypto.subtle.digest("SHA-256",t),a=new Uint8Array(n);return Array.from(a).map(o=>String.fromCharCode(o)).join("")}async function lM(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const t=await oM(r);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Du(r,e,t=!1){const n=iM();let a=n;t&&(a+="/PASSWORD_RECOVERY"),await Xu(r,`${e}-code-verifier`,a);const o=await lM(n);return[o,n===o?"plain":"s256"]}const AM=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function cM(r){const e=r.headers.get(hb);if(!e||!e.match(AM))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function uM(r){if(!r)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(r<=e)throw new Error("JWT has expired")}function dM(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const hM=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ru(r){if(!hM.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ox(){const r={};return new Proxy(r,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const n=t.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function fM(r,e){return new Proxy(r,{get:(t,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const o=n.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(t,n,a)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(t,n,a)}})}function y_(r){return JSON.parse(JSON.stringify(r))}const Ic=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),pM=[502,503,504];async function w_(r){var e;if(!rM(r))throw new fb(Ic(r),0);if(pM.includes(r.status))throw new fb(Ic(r),r.status);let t;try{t=await r.json()}catch(o){throw new Pc(Ic(o),o)}let n;const a=cM(r);if(a&&a.getTime()>=DN["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?n=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(n=t.error_code),n){if(n==="weak_password")throw new g_(Ic(t),r.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new yo}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((o,c)=>o&&typeof c=="string",!0))throw new g_(Ic(t),r.status,t.weak_password.reasons);throw new zO(Ic(t),r.status||500,n)}const mM=(r,e,t,n)=>{const a={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),t))};async function Ur(r,e,t,n){var a;const o=Object.assign({},n==null?void 0:n.headers);o[hb]||(o[hb]=DN["2024-01-01"].name),n!=null&&n.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const c=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(c.redirect_to=n.redirectTo);const d=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",h=await gM(r,e,t+d,{headers:o,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(h):{data:Object.assign({},h),error:null}}async function gM(r,e,t,n,a,o){const c=mM(e,n,a,o);let d;try{d=await r(t,Object.assign({},c))}catch(h){throw console.error(h),new fb(Ic(h),0)}if(d.ok||await w_(d),n!=null&&n.noResolveJson)return d;try{return await d.json()}catch(h){await w_(h)}}function cl(r){var e;let t=null;vM(r)&&(t=Object.assign({},r),r.expires_at||(t.expires_at=WO(r.expires_in)));const n=(e=r.user)!==null&&e!==void 0?e:r;return{data:{session:t,user:n},error:null}}function __(r){const e=cl(r);return!e.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((t,n)=>t&&typeof n=="string",!0)&&(e.data.weak_password=r.weak_password),e}function cc(r){var e;return{data:{user:(e=r.user)!==null&&e!==void 0?e:r},error:null}}function xM(r){return{data:r,error:null}}function bM(r){const{action_link:e,email_otp:t,hashed_token:n,redirect_to:a,verification_type:o}=r,c=km(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:e,email_otp:t,hashed_token:n,redirect_to:a,verification_type:o},h=Object.assign({},c);return{data:{properties:d,user:h},error:null}}function B_(r){return r}function vM(r){return r.access_token&&r.refresh_token&&r.expires_in}const lx=["global","local","others"];class yM{constructor({url:e="",headers:t={},fetch:n}){this.url=e,this.headers=t,this.fetch=HN(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,t=lx[0]){if(lx.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${lx.join(", ")}`);try{return await Ur(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(vr(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,t={}){try{return await Ur(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:cc})}catch(n){if(vr(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:t}=e,n=km(e,["options"]),a=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await Ur(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:bM,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(vr(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await Ur(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:cc})}catch(t){if(vr(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,n,a,o,c,d,h;try{const m={nextPage:null,lastPage:0,total:0},g=await Ur(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&n!==void 0?n:"",per_page:(o=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&o!==void 0?o:""},xform:B_});if(g.error)throw g.error;const b=await g.json(),B=(c=g.headers.get("x-total-count"))!==null&&c!==void 0?c:0,_=(h=(d=g.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return _.length>0&&(_.forEach(k=>{const j=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(k.split(";")[1].split("=")[1]);m[`${T}Page`]=j}),m.total=parseInt(B)),{data:Object.assign(Object.assign({},b),m),error:null}}catch(m){if(vr(m))return{data:{users:[]},error:m};throw m}}async getUserById(e){Ru(e);try{return await Ur(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:cc})}catch(t){if(vr(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){Ru(e);try{return await Ur(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:cc})}catch(n){if(vr(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,t=!1){Ru(e);try{return await Ur(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:cc})}catch(n){if(vr(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Ru(e.userId);try{const{data:t,error:n}=await Ur(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:t,error:n}}catch(t){if(vr(t))return{data:null,error:t};throw t}}async _deleteFactor(e){Ru(e.userId),Ru(e.id);try{return{data:await Ur(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(vr(t))return{data:null,error:t};throw t}}async _listOAuthClients(e){var t,n,a,o,c,d,h;try{const m={nextPage:null,lastPage:0,total:0},g=await Ur(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&n!==void 0?n:"",per_page:(o=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&o!==void 0?o:""},xform:B_});if(g.error)throw g.error;const b=await g.json(),B=(c=g.headers.get("x-total-count"))!==null&&c!==void 0?c:0,_=(h=(d=g.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return _.length>0&&(_.forEach(k=>{const j=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(k.split(";")[1].split("=")[1]);m[`${T}Page`]=j}),m.total=parseInt(B)),{data:Object.assign(Object.assign({},b),m),error:null}}catch(m){if(vr(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(e){try{return await Ur(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(vr(t))return{data:null,error:t};throw t}}async _getOAuthClient(e){try{return await Ur(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(vr(t))return{data:null,error:t};throw t}}async _updateOAuthClient(e,t){try{return await Ur(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(vr(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await Ur(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(t){if(vr(t))return{data:null,error:t};throw t}}async _regenerateOAuthClientSecret(e){try{return await Ur(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(vr(t))return{data:null,error:t};throw t}}}function N_(r={}){return{getItem:e=>r[e]||null,setItem:(e,t)=>{r[e]=t},removeItem:e=>{delete r[e]}}}const Pu={debug:!!(globalThis&&PN()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class zN extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class wM extends zN{}async function _M(r,e,t){Pu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Pu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Pu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,a.name);try{return await t()}finally{Pu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,a.name)}}else{if(e===0)throw Pu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new wM(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(Pu.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}function BM(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function qN(r){if(!/^0x[a-fA-F0-9]{40}$/.test(r))throw new Error(`@supabase/auth-js: Address "${r}" is invalid.`);return r.toLowerCase()}function NM(r){return parseInt(r,16)}function CM(r){const e=new TextEncoder().encode(r);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function EM(r){var e;const{chainId:t,domain:n,expirationTime:a,issuedAt:o=new Date,nonce:c,notBefore:d,requestId:h,resources:m,scheme:g,uri:b,version:B}=r;{if(!Number.isInteger(t))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${t}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!b)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(B!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${B}`);if(!((e=r.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${r.statement}`)}const _=qN(r.address),k=g?`${g}://${n}`:n,j=r.statement?`${r.statement}
`:"",T=`${k} wants you to sign in with your Ethereum account:
${_}

${j}`;let C=`URI: ${b}
Version: ${B}
Chain ID: ${t}${c?`
Nonce: ${c}`:""}
Issued At: ${o.toISOString()}`;if(a&&(C+=`
Expiration Time: ${a.toISOString()}`),d&&(C+=`
Not Before: ${d.toISOString()}`),h&&(C+=`
Request ID: ${h}`),m){let I=`
Resources:`;for(const F of m){if(!F||typeof F!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${F}`);I+=`
- ${F}`}C+=I}return`${T}
${C}`}class pa extends Error{constructor({message:e,code:t,cause:n,name:a}){var o;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(o=a??(n instanceof Error?n.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=t}}class Am extends pa{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}function SM({error:r,options:e}){var t,n,a;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(e.signal instanceof AbortSignal)return new pa({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else if(r.name==="ConstraintError"){if(((t=o.authenticatorSelection)===null||t===void 0?void 0:t.requireResidentKey)===!0)return new pa({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:r});if(e.mediation==="conditional"&&((n=o.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new pa({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:r});if(((a=o.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new pa({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:r})}else{if(r.name==="InvalidStateError")return new pa({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:r});if(r.name==="NotAllowedError")return new pa({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="NotSupportedError")return o.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new pa({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:r}):new pa({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:r});if(r.name==="SecurityError"){const c=window.location.hostname;if(KN(c)){if(o.rp.id!==c)return new pa({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new pa({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new pa({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:r})}else if(r.name==="UnknownError")return new pa({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new pa({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}function LM({error:r,options:e}){const{publicKey:t}=e;if(!t)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(e.signal instanceof AbortSignal)return new pa({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else{if(r.name==="NotAllowedError")return new pa({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="SecurityError"){const n=window.location.hostname;if(KN(n)){if(t.rpId!==n)return new pa({message:`The RP ID "${t.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new pa({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="UnknownError")return new pa({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new pa({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}class jM{createNewAbortSignal(){if(this.controller){const t=new Error("Cancelling existing WebAuthn API call for new one");t.name="AbortError",this.controller.abort(t)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const kM=new jM;function UM(r){if(!r)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(r);const{challenge:e,user:t,excludeCredentials:n}=r,a=km(r,["challenge","user","excludeCredentials"]),o=ld(e).buffer,c=Object.assign(Object.assign({},t),{id:ld(t.id).buffer}),d=Object.assign(Object.assign({},a),{challenge:o,user:c});if(n&&n.length>0){d.excludeCredentials=new Array(n.length);for(let h=0;h<n.length;h++){const m=n[h];d.excludeCredentials[h]=Object.assign(Object.assign({},m),{id:ld(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return d}function TM(r){if(!r)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(r);const{challenge:e,allowCredentials:t}=r,n=km(r,["challenge","allowCredentials"]),a=ld(e).buffer,o=Object.assign(Object.assign({},n),{challenge:a});if(t&&t.length>0){o.allowCredentials=new Array(t.length);for(let c=0;c<t.length;c++){const d=t[c];o.allowCredentials[c]=Object.assign(Object.assign({},d),{id:ld(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return o}function FM(r){var e;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const t=r;return{id:r.id,rawId:r.id,response:{attestationObject:Kc(new Uint8Array(r.response.attestationObject)),clientDataJSON:Kc(new Uint8Array(r.response.clientDataJSON))},type:"public-key",clientExtensionResults:r.getClientExtensionResults(),authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function QM(r){var e;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const t=r,n=r.getClientExtensionResults(),a=r.response;return{id:r.id,rawId:r.id,response:{authenticatorData:Kc(new Uint8Array(a.authenticatorData)),clientDataJSON:Kc(new Uint8Array(a.clientDataJSON)),signature:Kc(new Uint8Array(a.signature)),userHandle:a.userHandle?Kc(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function KN(r){return r==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(r)}function C_(){var r,e;return!!(ti()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((r=navigator==null?void 0:navigator.credentials)===null||r===void 0?void 0:r.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function IM(r){try{const e=await navigator.credentials.create(r);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Am("Browser returned unexpected credential type",e)}:{data:null,error:new Am("Empty credential response",e)}}catch(e){return{data:null,error:SM({error:e,options:r})}}}async function OM(r){try{const e=await navigator.credentials.get(r);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Am("Browser returned unexpected credential type",e)}:{data:null,error:new Am("Empty credential response",e)}}catch(e){return{data:null,error:LM({error:e,options:r})}}}const MM={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},DM={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function cm(...r){const e=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),t=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of r)if(a)for(const o in a){const c=a[o];if(c!==void 0)if(Array.isArray(c))n[o]=c;else if(t(c))n[o]=c;else if(e(c)){const d=n[o];e(d)?n[o]=cm(d,c):n[o]=cm(c)}else n[o]=c}return n}function RM(r,e){return cm(MM,r,e||{})}function PM(r,e){return cm(DM,r,e||{})}class HM{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:t,friendlyName:n,signal:a},o){try{const{data:c,error:d}=await this.client.mfa.challenge({factorId:e,webauthn:t});if(!c)return{data:null,error:d};const h=a??kM.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:m}=c.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${n}`),m.displayName||(m.displayName=m.name)}switch(c.webauthn.type){case"create":{const m=RM(c.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:g,error:b}=await IM({publicKey:m,signal:h});return g?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:g}},error:null}:{data:null,error:b}}case"request":{const m=PM(c.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:g,error:b}=await OM(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:m,signal:h}));return g?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:g}},error:null}:{data:null,error:b}}}}catch(c){return vr(c)?{data:null,error:c}:{data:null,error:new Pc("Unexpected error in challenge",c)}}}async _verify({challengeId:e,factorId:t,webauthn:n}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},o){if(!t)return{data:null,error:new Ih("rpId is required for WebAuthn authentication")};try{if(!C_())return{data:null,error:new Pc("Browser does not support WebAuthn",null)};const{data:c,error:d}=await this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:n},signal:a},{request:o});if(!c)return{data:null,error:d};const{webauthn:h}=c;return this._verify({factorId:e,challengeId:c.challengeId,webauthn:{type:h.type,rpId:t,rpOrigins:n,credential_response:h.credential_response}})}catch(c){return vr(c)?{data:null,error:c}:{data:null,error:new Pc("Unexpected error in authenticate",c)}}}async _register({friendlyName:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},o){if(!t)return{data:null,error:new Ih("rpId is required for WebAuthn registration")};try{if(!C_())return{data:null,error:new Pc("Browser does not support WebAuthn",null)};const{data:c,error:d}=await this._enroll({friendlyName:e});if(!c)return await this.client.mfa.listFactors().then(g=>{var b;return(b=g.data)===null||b===void 0?void 0:b.all.find(B=>B.factor_type==="webauthn"&&B.friendly_name===e&&B.status!=="unverified")}).then(g=>g?this.client.mfa.unenroll({factorId:g==null?void 0:g.id}):void 0),{data:null,error:d};const{data:h,error:m}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:t,rpOrigins:n},signal:a},{create:o});return h?this._verify({factorId:c.id,challengeId:h.challengeId,webauthn:{rpId:t,rpOrigins:n,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:m}}catch(c){return vr(c)?{data:null,error:c}:{data:null,error:new Pc("Unexpected error in register",c)}}}}BM();const zM={url:MO,storageKey:DO,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:RO,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function E_(r,e,t){return await t()}const Hu={};class Oh{get jwks(){var e,t;return(t=(e=Hu[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){Hu[this.storageKey]=Object.assign(Object.assign({},Hu[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=Hu[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Hu[this.storageKey]=Object.assign(Object.assign({},Hu[this.storageKey]),{cachedAt:e})}constructor(e){var t,n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},zM),e);if(this.storageKey=o.storageKey,this.instanceID=(t=Oh.nextInstanceID[this.storageKey])!==null&&t!==void 0?t:0,Oh.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&ti()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new yM({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=HN(o.fetch),this.lock=o.lock||E_,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,o.lock?this.lock=o.lock:this.persistSession&&ti()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=_M:this.lock=E_,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new HM(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:PN()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=N_(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=N_(this.memoryStorage)),ti()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${MN}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let t={},n="none";if(ti()&&(t=tM(window.location.href),this._isImplicitGrantCallback(t)?n="implicit":await this._isPKCECallback(t)&&(n="pkce")),ti()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:o}=await this._getSessionFromURL(t,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),GO(o)){const h=(e=o.details)===null||e===void 0?void 0:e.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:c,redirectType:d}=a;return this._debug("#_initialize()","detected session in URL",c,"redirect type",d),await this._saveSession(c),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return vr(t)?this._returnResult({error:t}):this._returnResult({error:new Pc("Unexpected error during initialization",t)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,a;try{const o=await Ur(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.captchaToken}},xform:cl}),{data:c,error:d}=o;if(d||!c)return this._returnResult({data:{user:null,session:null},error:d});const h=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:m,session:h},error:null})}catch(o){if(vr(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(e){var t,n,a;try{let o;if("email"in e){const{email:g,password:b,options:B}=e;let _=null,k=null;this.flowType==="pkce"&&([_,k]=await Du(this.storage,this.storageKey)),o=await Ur(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:B==null?void 0:B.emailRedirectTo,body:{email:g,password:b,data:(t=B==null?void 0:B.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:B==null?void 0:B.captchaToken},code_challenge:_,code_challenge_method:k},xform:cl})}else if("phone"in e){const{phone:g,password:b,options:B}=e;o=await Ur(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:b,data:(n=B==null?void 0:B.data)!==null&&n!==void 0?n:{},channel:(a=B==null?void 0:B.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:B==null?void 0:B.captchaToken}},xform:cl})}else throw new bp("You must provide either an email or phone number and a password");const{data:c,error:d}=o;if(d||!c)return await ei(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:d});const h=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:m,session:h},error:null})}catch(o){if(await ei(this.storage,`${this.storageKey}-code-verifier`),vr(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(e){try{let t;if("email"in e){const{email:o,password:c,options:d}=e;t=await Ur(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:c,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:__})}else if("phone"in e){const{phone:o,password:c,options:d}=e;t=await Ur(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:c,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:__})}else throw new bp("You must provide either an email or phone number and a password");const{data:n,error:a}=t;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!n||!n.session||!n.user){const o=new Mu;return this._returnResult({data:{user:null,session:null},error:o})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(t){if(vr(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOAuth(e){var t,n,a,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}}async signInWithEthereum(e){var t,n,a,o,c,d,h,m,g,b,B;let _,k;if("message"in e)_=e.message,k=e.signature;else{const{chain:j,wallet:T,statement:C,options:I}=e;let F;if(ti())if(typeof T=="object")F=T;else{const H=window;if("ethereum"in H&&typeof H.ethereum=="object"&&"request"in H.ethereum&&typeof H.ethereum.request=="function")F=H.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!(I!=null&&I.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");F=T}const R=new URL((t=I==null?void 0:I.url)!==null&&t!==void 0?t:window.location.href),ae=await F.request({method:"eth_requestAccounts"}).then(H=>H).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!ae||ae.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const Z=qN(ae[0]);let me=(n=I==null?void 0:I.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!me){const H=await F.request({method:"eth_chainId"});me=NM(H)}const ee={domain:R.host,address:Z,statement:C,uri:R.href,version:"1",chainId:me,nonce:(a=I==null?void 0:I.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(c=(o=I==null?void 0:I.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(d=I==null?void 0:I.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(h=I==null?void 0:I.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(m=I==null?void 0:I.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(g=I==null?void 0:I.signInWithEthereum)===null||g===void 0?void 0:g.resources};_=EM(ee),k=await F.request({method:"personal_sign",params:[CM(_),Z]})}try{const{data:j,error:T}=await Ur(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:_,signature:k},!((b=e.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(B=e.options)===null||B===void 0?void 0:B.captchaToken}}:null),xform:cl});if(T)throw T;if(!j||!j.session||!j.user){const C=new Mu;return this._returnResult({data:{user:null,session:null},error:C})}return j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),this._returnResult({data:Object.assign({},j),error:T})}catch(j){if(vr(j))return this._returnResult({data:{user:null,session:null},error:j});throw j}}async signInWithSolana(e){var t,n,a,o,c,d,h,m,g,b,B,_;let k,j;if("message"in e)k=e.message,j=e.signature;else{const{chain:T,wallet:C,statement:I,options:F}=e;let R;if(ti())if(typeof C=="object")R=C;else{const Z=window;if("solana"in Z&&typeof Z.solana=="object"&&("signIn"in Z.solana&&typeof Z.solana.signIn=="function"||"signMessage"in Z.solana&&typeof Z.solana.signMessage=="function"))R=Z.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!(F!=null&&F.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=C}const ae=new URL((t=F==null?void 0:F.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in R&&R.signIn){const Z=await R.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},F==null?void 0:F.signInWithSolana),{version:"1",domain:ae.host,uri:ae.href}),I?{statement:I}:null));let me;if(Array.isArray(Z)&&Z[0]&&typeof Z[0]=="object")me=Z[0];else if(Z&&typeof Z=="object"&&"signedMessage"in Z&&"signature"in Z)me=Z;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in me&&"signature"in me&&(typeof me.signedMessage=="string"||me.signedMessage instanceof Uint8Array)&&me.signature instanceof Uint8Array)k=typeof me.signedMessage=="string"?me.signedMessage:new TextDecoder().decode(me.signedMessage),j=me.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in R)||typeof R.signMessage!="function"||!("publicKey"in R)||typeof R!="object"||!R.publicKey||!("toBase58"in R.publicKey)||typeof R.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");k=[`${ae.host} wants you to sign in with your Solana account:`,R.publicKey.toBase58(),...I?["",I,""]:[""],"Version: 1",`URI: ${ae.href}`,`Issued At: ${(a=(n=F==null?void 0:F.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((o=F==null?void 0:F.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${F.signInWithSolana.notBefore}`]:[],...!((c=F==null?void 0:F.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${F.signInWithSolana.expirationTime}`]:[],...!((d=F==null?void 0:F.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${F.signInWithSolana.chainId}`]:[],...!((h=F==null?void 0:F.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${F.signInWithSolana.nonce}`]:[],...!((m=F==null?void 0:F.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${F.signInWithSolana.requestId}`]:[],...!((b=(g=F==null?void 0:F.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||b===void 0)&&b.length?["Resources",...F.signInWithSolana.resources.map(me=>`- ${me}`)]:[]].join(`
`);const Z=await R.signMessage(new TextEncoder().encode(k),"utf8");if(!Z||!(Z instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");j=Z}}try{const{data:T,error:C}=await Ur(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:k,signature:Kc(j)},!((B=e.options)===null||B===void 0)&&B.captchaToken?{gotrue_meta_security:{captcha_token:(_=e.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:cl});if(C)throw C;if(!T||!T.session||!T.user){const I=new Mu;return this._returnResult({data:{user:null,session:null},error:I})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:C})}catch(T){if(vr(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async _exchangeCodeForSession(e){const t=await kc(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(t??"").split("/");try{if(!n&&this.flowType==="pkce")throw new VO;const{data:o,error:c}=await Ur(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:cl});if(await ei(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!o||!o.session||!o.user){const d=new Mu;return this._returnResult({data:{user:null,session:null,redirectType:null},error:d})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:a??null}),error:c})}catch(o){if(await ei(this.storage,`${this.storageKey}-code-verifier`),vr(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(e){try{const{options:t,provider:n,token:a,access_token:o,nonce:c}=e,d=await Ur(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:o,nonce:c,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:cl}),{data:h,error:m}=d;if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!h||!h.session||!h.user){const g=new Mu;return this._returnResult({data:{user:null,session:null},error:g})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:h,error:m})}catch(t){if(vr(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOtp(e){var t,n,a,o,c;try{if("email"in e){const{email:d,options:h}=e;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await Du(this.storage,this.storageKey));const{error:b}=await Ur(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(t=h==null?void 0:h.data)!==null&&t!==void 0?t:{},create_user:(n=h==null?void 0:h.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:g},redirectTo:h==null?void 0:h.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:b})}if("phone"in e){const{phone:d,options:h}=e,{data:m,error:g}=await Ur(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(a=h==null?void 0:h.data)!==null&&a!==void 0?a:{},create_user:(o=h==null?void 0:h.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},channel:(c=h==null?void 0:h.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:m==null?void 0:m.message_id},error:g})}throw new bp("You must provide either an email or phone number.")}catch(d){if(await ei(this.storage,`${this.storageKey}-code-verifier`),vr(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async verifyOtp(e){var t,n;try{let a,o;"options"in e&&(a=(t=e.options)===null||t===void 0?void 0:t.redirectTo,o=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:c,error:d}=await Ur(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:a,xform:cl});if(d)throw d;if(!c)throw new Error("An error occurred on token verification.");const h=c.session,m=c.user;return h!=null&&h.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),this._returnResult({data:{user:m,session:h},error:null})}catch(a){if(vr(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(e){var t,n,a,o,c;try{let d=null,h=null;this.flowType==="pkce"&&([d,h]=await Du(this.storage,this.storageKey));const m=await Ur(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=e==null?void 0:e.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:h}),headers:this.headers,xform:xM});return!((o=m.data)===null||o===void 0)&&o.url&&ti()&&!(!((c=e.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(m.data.url),this._returnResult(m)}catch(d){if(await ei(this.storage,`${this.storageKey}-code-verifier`),vr(d))return this._returnResult({data:null,error:d});throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new yo;const{error:a}=await Ur(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(e){if(vr(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:n,type:a,options:o}=e,{error:c}=await Ur(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in e){const{phone:n,type:a,options:o}=e,{data:c,error:d}=await Ur(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d})}throw new bp("You must provide either an email or phone number and a type")}catch(t){if(vr(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await t()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=t();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await kc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<sx:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const c=await kc(this.userStorage,this.storageKey+"-user");c!=null&&c.user?e.user=c.user:e.user=ox()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};e.user=fM(e.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:a,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const t=await this._acquireLock(-1,async()=>await this._getUser());return t.data.user&&(this.suppressGetSessionWarning=!0),t}async _getUser(e){try{return e?await Ur(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:cc}):await this._useSession(async t=>{var n,a,o;const{data:c,error:d}=t;if(d)throw d;return!(!((n=c.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new yo}:await Ur(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(a=c.session)===null||a===void 0?void 0:a.access_token)!==null&&o!==void 0?o:void 0,xform:cc})})}catch(t){if(vr(t))return KO(t)&&(await this._removeSession(),await ei(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:t});throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async n=>{const{data:a,error:o}=n;if(o)throw o;if(!a.session)throw new yo;const c=a.session;let d=null,h=null;this.flowType==="pkce"&&e.email!=null&&([d,h]=await Du(this.storage,this.storageKey));const{data:m,error:g}=await Ur(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:d,code_challenge_method:h}),jwt:c.access_token,xform:cc});if(g)throw g;return c.user=m.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(n){if(await ei(this.storage,`${this.storageKey}-code-verifier`),vr(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new yo;const t=Date.now()/1e3;let n=t,a=!0,o=null;const{payload:c}=ix(e.access_token);if(c.exp&&(n=c.exp,a=n<=t),a){const{data:d,error:h}=await this._callRefreshToken(e.refresh_token);if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!d)return{data:{user:null,session:null},error:null};o=d}else{const{data:d,error:h}=await this._getUser(e.access_token);if(h)throw h;o={access_token:e.access_token,refresh_token:e.refresh_token,user:d.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(t){if(vr(t))return this._returnResult({data:{session:null,user:null},error:t});throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var n;if(!e){const{data:c,error:d}=t;if(d)throw d;e=(n=c.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new yo;const{data:a,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(t){if(vr(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async _getSessionFromURL(e,t){try{if(!ti())throw new vp("No browser detected.");if(e.error||e.error_description||e.error_code)throw new vp(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new m_("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new vp("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new m_("No code detected.");const{data:I,error:F}=await this._exchangeCodeForSession(e.code);if(F)throw F;const R=new URL(window.location.href);return R.searchParams.delete("code"),window.history.replaceState(window.history.state,"",R.toString()),{data:{session:I.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:o,refresh_token:c,expires_in:d,expires_at:h,token_type:m}=e;if(!o||!d||!c||!m)throw new vp("No session defined in URL");const g=Math.round(Date.now()/1e3),b=parseInt(d);let B=g+b;h&&(B=parseInt(h));const _=B-g;_*1e3<=Yu&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${b}s`);const k=B-b;g-k>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",k,B,g):g-k<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",k,B,g);const{data:j,error:T}=await this._getUser(o);if(T)throw T;const C={provider_token:n,provider_refresh_token:a,access_token:o,expires_in:b,expires_at:B,refresh_token:c,token_type:m,user:j.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:C,redirectType:e.type},error:null})}catch(n){if(vr(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await kc(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var n;const{data:a,error:o}=t;if(o)return this._returnResult({error:o});const c=(n=a.session)===null||n===void 0?void 0:n.access_token;if(c){const{error:d}=await this.admin.signOut(c,e);if(d&&!(qO(d)&&(d.status===404||d.status===401||d.status===403)))return this._returnResult({error:d})}return e!=="others"&&(await this._removeSession(),await ei(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const t=eM(),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async t=>{var n,a;try{const{data:{session:o},error:c}=t;if(c)throw c;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,t={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Du(this.storage,this.storageKey,!0));try{return await Ur(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(o){if(await ei(this.storage,`${this.storageKey}-code-verifier`),vr(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(t){if(vr(t))return this._returnResult({data:null,error:t});throw t}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{const{data:n,error:a}=await this._useSession(async o=>{var c,d,h,m,g;const{data:b,error:B}=o;if(B)throw B;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(d=e.options)===null||d===void 0?void 0:d.scopes,queryParams:(h=e.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await Ur(this.fetch,"GET",_,{headers:this.headers,jwt:(g=(m=b.session)===null||m===void 0?void 0:m.access_token)!==null&&g!==void 0?g:void 0})});if(a)throw a;return ti()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(vr(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var n;try{const{error:a,data:{session:o}}=t;if(a)throw a;const{options:c,provider:d,token:h,access_token:m,nonce:g}=e,b=await Ur(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=o==null?void 0:o.access_token)!==null&&n!==void 0?n:void 0,body:{provider:d,id_token:h,access_token:m,nonce:g,link_identity:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:cl}),{data:B,error:_}=b;return _?this._returnResult({data:{user:null,session:null},error:_}):!B||!B.session||!B.user?this._returnResult({data:{user:null,session:null},error:new Mu}):(B.session&&(await this._saveSession(B.session),await this._notifyAllSubscribers("USER_UPDATED",B.session)),this._returnResult({data:B,error:_}))}catch(a){if(await ei(this.storage,`${this.storageKey}-code-verifier`),vr(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var n,a;const{data:o,error:c}=t;if(c)throw c;return await Ur(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(t){if(vr(t))return this._returnResult({data:null,error:t});throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const n=Date.now();return await sM(async a=>(a>0&&await nM(200*Math.pow(2,a-1)),this._debug(t,"refreshing attempt",a),await Ur(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:cl})),(a,o)=>{const c=200*Math.pow(2,a);return o&&ax(o)&&Date.now()+c-n<Yu})}catch(n){if(this._debug(t,"error",n),vr(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),ti()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await kc(this.storage,this.storageKey);if(a&&this.userStorage){let c=await kc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:a.user},await Xu(this.userStorage,this.storageKey+"-user",c)),a.user=(e=c==null?void 0:c.user)!==null&&e!==void 0?e:ox()}else if(a&&!a.user&&!a.user){const c=await kc(this.storage,this.storageKey+"-user");c&&(c!=null&&c.user)?(a.user=c.user,await ei(this.storage,this.storageKey+"-user"),await Xu(this.storage,this.storageKey,a)):a.user=ox()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const o=((t=a.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<sx;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${sx}s`),o){if(this.autoRefreshToken&&a.refresh_token){const{error:c}=await this._callRefreshToken(a.refresh_token);c&&(console.error(c),ax(c)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:d}=await this._getUser(a.access_token);!d&&(c!=null&&c.user)?(a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(n,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new yo;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Tm;const{data:o,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!o.session)throw new yo;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const d={data:o.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(o){if(this._debug(a,"error",o),vr(o)){const c={data:null,error:o};return ax(o)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(c),c}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,t,n=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",t,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const o=[],c=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(e,t)}catch(h){o.push(h)}});if(await Promise.all(c),o.length>0){for(let d=0;d<o.length;d+=1)console.error(o[d]);throw o[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await ei(this.storage,`${this.storageKey}-code-verifier`);const t=Object.assign({},e),n=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&t.user&&await Xu(this.userStorage,this.storageKey+"-user",{user:t.user});const a=Object.assign({},t);delete a.user;const o=y_(a);await Xu(this.storage,this.storageKey,o)}else{const a=y_(t);await Xu(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ei(this.storage,this.storageKey),await ei(this.storage,this.storageKey+"-code-verifier"),await ei(this.storage,this.storageKey+"-user"),this.userStorage&&await ei(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ti()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Yu);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:n}}=t;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-e)/Yu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Yu}ms, refresh threshold is ${ub} ticks`),a<=ub&&await this._callRefreshToken(n.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof zN)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ti()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const a=[`provider=${encodeURIComponent(t)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,c]=await Du(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(c)}`});a.push(d.toString())}if(n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);a.push(o.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var n;const{data:a,error:o}=t;return o?this._returnResult({data:null,error:o}):await Ur(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(t){if(vr(t))return this._returnResult({data:null,error:t});throw t}}async _enroll(e){try{return await this._useSession(async t=>{var n,a;const{data:o,error:c}=t;if(c)return this._returnResult({data:null,error:c});const d=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:h,error:m}=await Ur(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return m?this._returnResult({data:null,error:m}):(e.factorType==="totp"&&h.type==="totp"&&(!((a=h==null?void 0:h.totp)===null||a===void 0)&&a.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),this._returnResult({data:h,error:null}))})}catch(t){if(vr(t))return this._returnResult({data:null,error:t});throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:a,error:o}=t;if(o)return this._returnResult({data:null,error:o});const c=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?FM(e.webauthn.credential_response):QM(e.webauthn.credential_response)})}:{code:e.code}),{data:d,error:h}=await Ur(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:c,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return h?this._returnResult({data:null,error:h}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),this._returnResult({data:d,error:h}))})}catch(t){if(vr(t))return this._returnResult({data:null,error:t});throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:a,error:o}=t;if(o)return this._returnResult({data:null,error:o});const c=await Ur(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});if(c.error)return c;const{data:d}=c;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:UM(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:TM(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(t){if(vr(t))return this._returnResult({data:null,error:t});throw t}})}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=t==null?void 0:t.factors)!==null&&e!==void 0?e:[])a.all.push(o),o.status==="verified"&&a[o.factor_type].push(o);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var e,t;const{data:{session:n},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=ix(n.access_token);let c=null;o.aal&&(c=o.aal);let d=c;((t=(e=n.user.factors)===null||e===void 0?void 0:e.filter(g=>g.status==="verified"))!==null&&t!==void 0?t:[]).length>0&&(d="aal2");const m=o.amr||[];return{data:{currentLevel:c,nextLevel:d,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async t=>{const{data:{session:n},error:a}=t;return a?this._returnResult({data:null,error:a}):n?await Ur(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new yo})})}catch(t){if(vr(t))return this._returnResult({data:null,error:t});throw t}}async _approveAuthorization(e,t){try{return await this._useSession(async n=>{const{data:{session:a},error:o}=n;if(o)return this._returnResult({data:null,error:o});if(!a)return this._returnResult({data:null,error:new yo});const c=await Ur(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:d=>({data:d,error:null})});return c.data&&c.data.redirect_url&&ti()&&!(t!=null&&t.skipBrowserRedirect)&&window.location.assign(c.data.redirect_url),c})}catch(n){if(vr(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,t){try{return await this._useSession(async n=>{const{data:{session:a},error:o}=n;if(o)return this._returnResult({data:null,error:o});if(!a)return this._returnResult({data:null,error:new yo});const c=await Ur(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:d=>({data:d,error:null})});return c.data&&c.data.redirect_url&&ti()&&!(t!=null&&t.skipBrowserRedirect)&&window.location.assign(c.data.redirect_url),c})}catch(n){if(vr(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;return n?this._returnResult({data:null,error:n}):t?await Ur(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:t.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new yo})})}catch(e){if(vr(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async t=>{const{data:{session:n},error:a}=t;return a?this._returnResult({data:null,error:a}):n?(await Ur(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new yo})})}catch(t){if(vr(t))return this._returnResult({data:null,error:t});throw t}}async fetchJwk(e,t={keys:[]}){let n=t.keys.find(d=>d.kid===e);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(d=>d.kid===e),n&&this.jwks_cached_at+HO>a)return n;const{data:o,error:c}=await Ur(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=a,n=o.keys.find(d=>d.kid===e),!n)?null:n}async getClaims(e,t={}){try{let n=e;if(!n){const{data:_,error:k}=await this.getSession();if(k||!_.session)return this._returnResult({data:null,error:k});n=_.session.access_token}const{header:a,payload:o,signature:c,raw:{header:d,payload:h}}=ix(n);t!=null&&t.allowExpired||uM(o.exp);const m=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,t!=null&&t.keys?{keys:t.keys}:t==null?void 0:t.jwks);if(!m){const{error:_}=await this.getUser(n);if(_)throw _;return{data:{claims:o,header:a,signature:c},error:null}}const g=dM(a.alg),b=await crypto.subtle.importKey("jwk",m,g,!0,["verify"]);if(!await crypto.subtle.verify(g,b,c,JO(`${d}.${h}`)))throw new pb("Invalid JWT signature");return{data:{claims:o,header:a,signature:c},error:null}}catch(n){if(vr(n))return this._returnResult({data:null,error:n});throw n}}}Oh.nextInstanceID={};const qM=Oh,KM="2.89.0";let fh="";typeof Deno<"u"?fh="deno":typeof document<"u"?fh="web":typeof navigator<"u"&&navigator.product==="ReactNative"?fh="react-native":fh="node";const GM={"X-Client-Info":`supabase-js-${fh}/${KM}`},VM={headers:GM},ZM={schema:"public"},$M={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},YM={};function Mh(r){"@babel/helpers - typeof";return Mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mh(r)}function XM(r,e){if(Mh(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(Mh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function JM(r){var e=XM(r,"string");return Mh(e)=="symbol"?e:e+""}function WM(r,e,t){return(e=JM(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function S_(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function Ks(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?S_(Object(t),!0).forEach(function(n){WM(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):S_(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}const e8=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),t8=()=>Headers,r8=(r,e,t)=>{const n=e8(t),a=t8();return async(o,c)=>{var d;const h=(d=await e())!==null&&d!==void 0?d:r;let m=new a(c==null?void 0:c.headers);return m.has("apikey")||m.set("apikey",r),m.has("Authorization")||m.set("Authorization",`Bearer ${h}`),n(o,Ks(Ks({},c),{},{headers:m}))}};function n8(r){return r.endsWith("/")?r:r+"/"}function s8(r,e){var t,n;const{db:a,auth:o,realtime:c,global:d}=r,{db:h,auth:m,realtime:g,global:b}=e,B={db:Ks(Ks({},h),a),auth:Ks(Ks({},m),o),realtime:Ks(Ks({},g),c),storage:{},global:Ks(Ks(Ks({},b),d),{},{headers:Ks(Ks({},(t=b==null?void 0:b.headers)!==null&&t!==void 0?t:{}),(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return r.accessToken?B.accessToken=r.accessToken:delete B.accessToken,B}function a8(r){const e=r==null?void 0:r.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(n8(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var i8=class extends qM{constructor(r){super(r)}},o8=class{constructor(r,e,t){var n,a;this.supabaseUrl=r,this.supabaseKey=e;const o=a8(r);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const c=`sb-${o.hostname.split(".")[0]}-auth-token`,d={db:ZM,realtime:YM,auth:Ks(Ks({},$M),{},{storageKey:c}),global:VM},h=s8(t??{},d);if(this.storageKey=(n=h.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(a=h.global.headers)!==null&&a!==void 0?a:{},h.accessToken)this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(g,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}});else{var m;this.auth=this._initSupabaseAuthClient((m=h.auth)!==null&&m!==void 0?m:{},this.headers,h.global.fetch)}this.fetch=r8(e,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Ks({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.accessToken&&this.accessToken().then(g=>this.realtime.setAuth(g)).catch(g=>console.warn("Failed to set initial Realtime auth token:",g)),this.rest=new RI(new URL("rest/v1",o).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new OO(this.storageUrl.href,this.headers,this.fetch,t==null?void 0:t.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new QI(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,e={},t={head:!1,get:!1,count:void 0}){return this.rest.rpc(r,e,t)}channel(r,e={config:{}}){return this.realtime.channel(r,e)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var r=this,e,t;if(r.accessToken)return await r.accessToken();const{data:n}=await r.auth.getSession();return(e=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&e!==void 0?e:r.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:e,detectSessionInUrl:t,storage:n,userStorage:a,storageKey:o,flowType:c,lock:d,debug:h,throwOnError:m},g,b){const B={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new i8({url:this.authUrl.href,headers:Ks(Ks({},B),g),storageKey:o,autoRefreshToken:r,persistSession:e,detectSessionInUrl:t,storage:n,userStorage:a,flowType:c,lock:d,debug:h,throwOnError:m,fetch:b,hasCustomAuthorizationHeader:Object.keys(this.headers).some(_=>_.toLowerCase()==="authorization")})}_initRealtimeClient(r){return new nO(this.realtimeUrl.href,Ks(Ks({},r),{},{params:Ks(Ks({},{apikey:this.supabaseKey}),r==null?void 0:r.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,e)=>{this._handleTokenChanged(r,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(r,e,t){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==t?(this.changedAccessToken=t,this.realtime.setAuth(t)):r==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const l8=(r,e,t)=>new o8(r,e,t);function A8(){if(typeof window<"u"||typeof process>"u")return!1;const r=process.version;if(r==null)return!1;const e=r.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}A8()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const c8="https://ecvfhrbwytwizxikqsyy.supabase.co",u8="sb_publishable_lJUcZH_D8m9u57L00a4PlQ_UnbwK6UJ",td=l8(c8,u8,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0},realtime:{params:{eventsPerSecond:10}}}),d8=r=>Number(r||0).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),Uc=r=>{if(typeof r=="number"&&Number.isFinite(r))return r;if(typeof r=="string"){const e=r.trim();if(!e||e==="-"||e==="--")return 0;const t=e.replace(",","."),n=Number(t);return Number.isFinite(n)?n:0}return 0},Tc=r=>{if(r==null)return"-";const e=String(r).trim();return e||"-"},h8=r=>{var t,n,a,o,c,d,h,m,g,b,B,_,k,j,T,C,I,F,R;const e=(r==null?void 0:r.top_product_sold)??(r==null?void 0:r.top_product)??(r==null?void 0:r.top_sold_product)??(r==null?void 0:r.top_product_by_qty)??{};return{top_driver:{name:Tc((t=r==null?void 0:r.top_driver)==null?void 0:t.name),count:Uc(((n=r==null?void 0:r.top_driver)==null?void 0:n.count)??((a=r==null?void 0:r.top_driver)==null?void 0:a.deliveries))},fastest_driver:{name:Tc((o=r==null?void 0:r.fastest_driver)==null?void 0:o.name),avg_minutes:Uc(((c=r==null?void 0:r.fastest_driver)==null?void 0:c.avg_minutes)??((d=r==null?void 0:r.fastest_driver)==null?void 0:d.avg_min)??((h=r==null?void 0:r.fastest_driver)==null?void 0:h.avg_time))},top_deposit:{name:Tc((m=r==null?void 0:r.top_deposit)==null?void 0:m.name),total:Uc(((g=r==null?void 0:r.top_deposit)==null?void 0:g.total)??((b=r==null?void 0:r.top_deposit)==null?void 0:b.value))},top_cashier:{name:Tc((B=r==null?void 0:r.top_cashier)==null?void 0:B.name),count:Uc(((_=r==null?void 0:r.top_cashier)==null?void 0:_.count)??((k=r==null?void 0:r.top_cashier)==null?void 0:k.orders))},top_client_value:{name:Tc((j=r==null?void 0:r.top_client_value)==null?void 0:j.name),total:Uc(((T=r==null?void 0:r.top_client_value)==null?void 0:T.total)??((C=r==null?void 0:r.top_client_value)==null?void 0:C.value))},top_client_orders:{name:Tc((I=r==null?void 0:r.top_client_orders)==null?void 0:I.name),count:Uc(((F=r==null?void 0:r.top_client_orders)==null?void 0:F.count)??((R=r==null?void 0:r.top_client_orders)==null?void 0:R.orders))},top_product_sold:{name:Tc((e==null?void 0:e.name)??(e==null?void 0:e.product_name)??(e==null?void 0:e.produto_nome)),count:Uc((e==null?void 0:e.count)??(e==null?void 0:e.qty)??(e==null?void 0:e.quantity)??(e==null?void 0:e.total))}}},Ax={top_driver:{name:"-",count:0},fastest_driver:{name:"-",avg_minutes:0},top_deposit:{name:"-",total:0},top_cashier:{name:"-",count:0},top_client_value:{name:"-",total:0},top_client_orders:{name:"-",count:0},top_product_sold:{name:"-",count:0}},f8=()=>{const[r,e]=q.useState(Ax),[t,n]=q.useState(!0),[a,o]=q.useState(null),c=useLiveQuery(()=>db.deposits.toArray(),[]),d=q.useMemo(()=>(c||[]).filter(g=>g.ativo!==!1).sort((g,b)=>String(g.nome??"").localeCompare(String(b.nome??""))),[c]);q.useEffect(()=>{let m=!0;return(async()=>{n(!0);try{const{data:b,error:B}=await td.rpc("get_audit_dashboard_stats",{target_deposit_id:a});if(B){if(!m)return;e(Ax);return}const _=Array.isArray(b)?b[0]:b;let k=_;if(typeof _=="string")try{k=JSON.parse(_)}catch{k={}}const j=h8(k||{});if(!m)return;e(j)}catch{if(!m)return;e(Ax)}finally{m&&n(!1)}})(),()=>{m=!1}},[a]);const h=q.useMemo(()=>{const m=(_,k)=>_>0?`${_} ${k}`:"--",g=_=>_>0?`${_} min medio`:"--",b=_=>_>0?d8(_):"--",B=_=>!_||_==="-"||_==="--";return[{key:"top_driver",title:"Entregador + Produtivo",icon:Kp,name:r.top_driver.name,value:m(r.top_driver.count,"entregas"),isEmpty:B(r.top_driver.name)||r.top_driver.count===0},{key:"fastest_driver",title:"The Flash (Mais Rapido)",icon:v3,name:r.fastest_driver.name,value:g(r.fastest_driver.avg_minutes),isEmpty:B(r.fastest_driver.name)||r.fastest_driver.avg_minutes===0},{key:"top_deposit",title:"Deposito Lider",icon:e3,name:r.top_deposit.name,value:b(r.top_deposit.total),isEmpty:B(r.top_deposit.name)||r.top_deposit.total===0},{key:"top_cashier",title:"Caixa Mais Ativo",icon:uS,name:r.top_cashier.name,value:m(r.top_cashier.count,"ordens"),isEmpty:B(r.top_cashier.name)||r.top_cashier.count===0},{key:"top_client_value",title:"Cliente VIP (Valor)",icon:NE,name:r.top_client_value.name,value:b(r.top_client_value.total),isEmpty:B(r.top_client_value.name)||r.top_client_value.total===0},{key:"top_client_orders",title:"Cliente Fiel (Pedidos)",icon:GE,name:r.top_client_orders.name,value:m(r.top_client_orders.count,"pedidos"),isEmpty:B(r.top_client_orders.name)||r.top_client_orders.count===0},{key:"top_product_sold",title:"Produto + Vendido",icon:Zl,name:r.top_product_sold.name,value:m(r.top_product_sold.count,"un"),isEmpty:B(r.top_product_sold.name)||r.top_product_sold.count===0}]},[r]);return i.jsxs("div",{className:"bg-surface rounded-2xl border border-bdr p-5",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-black text-txt-muted uppercase tracking-widest",children:"Visao Geral"}),i.jsx("h3",{className:"text-sm font-black text-txt-main uppercase tracking-wide",children:"Campeoes Globais"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-[10px] font-black text-txt-muted uppercase",children:"Filtro"}),i.jsxs("select",{value:a??"",onChange:m=>o(m.target.value||null),className:"bg-app border border-bdr rounded-lg px-2 py-1 text-xs font-bold text-txt-main focus:ring-2 focus:ring-primary/20 outline-none",children:[i.jsx("option",{value:"",children:"Visao Global"}),d.length>0&&i.jsx("optgroup",{label:"Filtrar por Deposito",children:d.map(m=>i.jsx("option",{value:m.id,children:m.nome},m.id))})]})]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:t?Array.from({length:h.length}).map((m,g)=>i.jsxs("div",{className:"bg-app border border-bdr rounded-xl p-4 animate-pulse",children:[i.jsx("div",{className:"h-4 w-24 bg-bdr/50 rounded mb-3"}),i.jsx("div",{className:"h-5 w-40 bg-bdr/50 rounded mb-2"}),i.jsx("div",{className:"h-4 w-20 bg-bdr/50 rounded"})]},g)):h.map(m=>{const g=m.icon,b=m.isEmpty?"opacity-60":"",B=m.isEmpty?"text-orange-500/50":"text-orange-500";return i.jsxs("div",{className:`bg-app border border-bdr rounded-xl p-4 flex items-start justify-between ${b}`,children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-[10px] uppercase font-black text-txt-muted",children:m.title}),i.jsx("p",{className:"text-sm font-black text-txt-main mt-2",children:m.name||"--"}),m.isEmpty?i.jsx("p",{className:"text-xs text-txt-muted",children:"Sem dados suficientes"}):i.jsx("p",{className:"text-xs text-txt-muted",children:m.value})]}),i.jsx("div",{className:"bg-surface border border-bdr rounded-lg p-2",children:i.jsx(g,{className:`w-5 h-5 ${B}`})})]},m.key)})}),i.jsx("p",{className:"text-[10px] text-txt-muted mt-4",children:"*Metricas baseadas apenas em vendas finalizadas."})]})},p8=({onClose:r})=>{const[e,t]=q.useState([]),[n,a]=q.useState(""),[o,c]=q.useState(!1),[d,h]=q.useState(null);q.useEffect(()=>{let b=!0;const B=j=>{if(!j)return 0;if(typeof j=="number")return j;if(typeof j=="string"){const C=j.trim();if(C&&!Number.isNaN(Number(C)))return Number(C)}const T=new Date(j).getTime();return Number.isNaN(T)?0:T},_=j=>{const T=j.data_hora??j.dataHora??j.created_at??j.createdAt??new Date().toISOString(),C=normalizeDepositId(j);return{id:String(j.id??""),dataHora:T,depositoId:C.depositoId??"",produtoId:j.produto_id??j.produtoId??j.product_id??j.productId??"",produtoNome:j.produto_nome??j.produtoNome??j.product_name??j.productName??"",tipo:j.tipo??j.type??"AJUSTE",quantidade:Number(j.quantidade??j.qty??j.quantity??0)||0,origem:j.origem??j.source??"",referenciaId:j.referencia_id??j.referenciaId??j.reference_id??j.referenceId??null,usuarioId:j.usuario_id??j.usuarioId??j.user_id??j.userId??"SISTEMA",usuarioNome:j.usuario_nome??j.usuarioNome??j.user_name??j.userName??j.usuario??"Sistema",motivo:j.motivo??j.reason??""}};return(async()=>{c(!0),h(null);try{const{data:j,error:T}=await td.from("stock_movements").select("*");if(T)throw T;const C=Date.now(),I=C-720*60*60*1e3,F=(j??[]).map(_).filter(R=>{const ae=B(R.dataHora);return ae>=I&&ae<=C}).sort((R,ae)=>B(ae.dataHora)-B(R.dataHora));if(!b)return;t(F)}catch(j){if(!b)return;h((j==null?void 0:j.message)||"Falha ao carregar auditoria."),t([])}finally{b&&c(!1)}})(),()=>{b=!1}},[]);const m=n.toLowerCase(),g=e.filter(b=>{const B=String(b.produtoNome??"").toLowerCase(),_=String(b.usuarioNome??"").toLowerCase(),k=String(b.tipo??"").toLowerCase(),j=String(b.motivo??"").toLowerCase();return B.includes(m)||_.includes(m)||k.includes(m)||j.includes(m)});return i.jsxs("div",{className:"fixed inset-0 bg-app z-[60] flex flex-col animate-in slide-in-from-bottom-4 duration-300 transition-colors",children:[i.jsxs("div",{className:"bg-surface border-b border-bdr px-6 py-4 flex justify-between items-center shadow-sm shrink-0 transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"bg-orange-500/10 p-2.5 rounded-xl border border-orange-500/20",children:i.jsx(b5,{className:"w-6 h-6 text-orange-600"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-black text-txt-main tracking-tight",children:"Auditoria e Logs"}),i.jsx("p",{className:"text-xs text-txt-muted font-bold uppercase tracking-widest",children:"Rastreabilidade total de operaes"})]})]}),i.jsx("button",{onClick:r,className:"p-2 hover:bg-red-500/10 text-txt-muted hover:text-red-500 rounded-full transition-colors",children:i.jsx(Pn,{className:"w-6 h-6"})})]}),i.jsxs("div",{className:"bg-app px-6 py-4 flex flex-col md:flex-row gap-4 items-center shrink-0 border-b border-bdr transition-colors",children:[i.jsxs("div",{className:"relative w-full md:w-96",children:[i.jsx(Xl,{className:"w-4 h-4 text-txt-muted absolute left-3 top-3"}),i.jsx("input",{type:"text",placeholder:"Buscar por produto, usurio ou motivo...",value:n,onChange:b=>a(b.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-surface border border-bdr rounded-xl text-sm font-bold text-txt-main focus:ring-2 focus:ring-orange-500 outline-none shadow-sm transition-colors"})]}),i.jsxs("div",{className:"flex items-center gap-2 px-4 py-2.5 bg-surface border border-bdr rounded-xl text-sm font-bold text-txt-muted shadow-sm transition-colors",children:[i.jsx(hm,{className:"w-4 h-4"}),i.jsx("span",{children:"ltimos 30 dias"})]}),i.jsxs("div",{className:"flex-1 text-right text-xs font-bold text-txt-muted uppercase tracking-wider",children:[o&&i.jsx("span",{className:"text-txt-muted",children:"Carregando..."}),!o&&d&&i.jsx("span",{className:"text-red-500",children:d}),!o&&!d&&i.jsxs("span",{children:["Total de registros: ",i.jsx("span",{className:"text-txt-main",children:g.length})]})]})]}),i.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-app transition-colors",children:i.jsxs("div",{className:"max-w-[1600px] mx-auto space-y-6",children:[i.jsx(f8,{}),i.jsx("div",{className:"bg-surface rounded-2xl shadow-sm border border-bdr overflow-hidden transition-colors",children:i.jsxs("table",{className:"w-full text-left text-sm",children:[i.jsx("thead",{className:"bg-app text-[10px] font-black text-txt-muted uppercase tracking-widest border-b border-bdr transition-colors",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-4",children:"Data / Hora"}),i.jsx("th",{className:"px-6 py-4",children:"Usurio"}),i.jsx("th",{className:"px-6 py-4",children:"Tipo de Ao"}),i.jsx("th",{className:"px-6 py-4",children:"Depsito / Origem"}),i.jsx("th",{className:"px-6 py-4",children:"Item Afetado"}),i.jsx("th",{className:"px-6 py-4 text-right",children:"Qtd."}),i.jsx("th",{className:"px-6 py-4",children:"Detalhes / Motivo"})]})}),i.jsx("tbody",{className:"divide-y divide-bdr transition-colors",children:g.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:7,className:"px-6 py-16 text-center text-txt-muted opacity-50",children:i.jsxs("div",{className:"flex flex-col items-center gap-3",children:[i.jsx(bx,{className:"w-10 h-10"}),i.jsx("p",{className:"font-bold text-sm",children:"Nenhum registro de auditoria encontrado."})]})})}):g.map(b=>i.jsxs("tr",{className:"hover:bg-app transition-colors group",children:[i.jsx("td",{className:"px-6 py-4 font-mono text-xs font-bold text-txt-muted",children:new Date(b.dataHora).toLocaleString("pt-BR")}),i.jsx("td",{className:"px-6 py-4",children:i.jsx("span",{className:"font-black text-txt-main text-xs bg-app px-2 py-1 rounded border border-bdr",children:b.usuarioNome})}),i.jsx("td",{className:"px-6 py-4",children:i.jsx("span",{className:`px-2 py-1 rounded text-[10px] font-black uppercase border ${b.tipo.includes("ENTRADA")?"bg-green-500/10 text-green-600 border-green-500/20":b.tipo.includes("SAIDA")?"bg-red-500/10 text-red-600 border-red-500/20":"bg-blue-500/10 text-blue-600 border-blue-500/20"}`,children:b.tipo.replace("_"," ")})}),i.jsx("td",{className:"px-6 py-4 text-txt-muted text-xs font-bold uppercase tracking-wide",children:b.depositoId}),i.jsx("td",{className:"px-6 py-4 font-bold text-txt-main",children:b.produtoNome}),i.jsxs("td",{className:`px-6 py-4 text-right font-black ${b.quantidade>0?"text-emerald-600":"text-txt-main"}`,children:[b.quantidade>0?"+":"",b.quantidade]}),i.jsx("td",{className:"px-6 py-4 text-txt-muted text-xs font-medium italic truncate max-w-xs group-hover:text-txt-main transition-colors",title:b.motivo,children:b.motivo||b.origem})]},b.id))})]})})]})})]})},Bh=[{id:"light",label:"Padro (Claro)",description:"Visual clssico e limpo",colors:{appBg:"#f8fafc",surfaceBg:"#ffffff",textMain:"#0f172a",textMuted:"#64748b",border:"#e2e8f0",primary:"#4f46e5"}},{id:"oled",label:"OLED (Preto Profundo)",description:"Economia mxima de energia",colors:{appBg:"#000000",surfaceBg:"#000000",textMain:"#f8fafc",textMuted:"#cbd5e1",border:"#333333",primary:"#22d3ee"}},{id:"dracula",label:"Dracula (Roxo)",description:"Tema escuro com contraste suave",colors:{appBg:"#0f172a",surfaceBg:"#1e293b",textMain:"#f1f5f9",textMuted:"#cbd5e1",border:"#334155",primary:"#a78bfa"}},{id:"ocean",label:"Oceano Profundo",description:"Azuis profundos com brilho frio",colors:{appBg:"#082f49",surfaceBg:"#0c4a6e",textMain:"#f0f9ff",textMuted:"#e0f2fe",border:"#075985",primary:"#38bdf8"}},{id:"forest",label:"Floresta Noturna",description:"Verdes escuros com atmosfera natural",colors:{appBg:"#022c22",surfaceBg:"#064e3b",textMain:"#ecfdf5",textMuted:"#d1fae5",border:"#065f46",primary:"#34d399"}},{id:"ember",label:"Brasa (Preto & Laranja)",description:"Preto intenso com brilho quente",colors:{appBg:"#0c0a09",surfaceBg:"#1c1917",textMain:"#ffedd5",textMuted:"#d6d3d1",border:"#44403c",primary:"#f97316"}},{id:"sunset",label:"Pr do Sol",description:"Gradiente quente com tons de rosa e laranja",pattern:"radial-gradient(circle at 20% 20%, rgba(251, 146, 60, 0.35), transparent 55%), radial-gradient(circle at 80% 30%, rgba(244, 114, 182, 0.25), transparent 60%), radial-gradient(circle at 50% 80%, rgba(253, 186, 116, 0.2), transparent 65%)",colors:{appBg:"#1b0b14",surfaceBg:"#2a141f",textMain:"#fff1f2",textMuted:"#fecdd3",border:"#3f1c2b",primary:"#fb7185"}},{id:"aurora",label:"Aurora Boreal",description:"Neblinas frias com tons de ciano e verde",pattern:"radial-gradient(circle at 20% 20%, rgba(34, 211, 238, 0.35), transparent 55%), radial-gradient(circle at 80% 30%, rgba(16, 185, 129, 0.3), transparent 60%), radial-gradient(circle at 50% 80%, rgba(139, 92, 246, 0.25), transparent 65%)",colors:{appBg:"#0b1020",surfaceBg:"#131a2d",textMain:"#e2e8f0",textMuted:"#94a3b8",border:"#1f2937",primary:"#22d3ee"}},{id:"nebula",label:"Nebulosa Roxa",description:"Brilhos roxos com contraste espacial",pattern:"radial-gradient(circle at 15% 25%, rgba(217, 70, 239, 0.28), transparent 55%), radial-gradient(circle at 75% 70%, rgba(99, 102, 241, 0.3), transparent 60%), radial-gradient(circle at 50% 40%, rgba(14, 165, 233, 0.2), transparent 65%)",colors:{appBg:"#120b24",surfaceBg:"#1c1236",textMain:"#f5f3ff",textMuted:"#d8b4fe",border:"#312e81",primary:"#c084fc"}}],m8=({onClose:r,currentTheme:e,onThemeChange:t,backgroundImage:n,backgroundOpacity:a,onBackgroundImageChange:o,onBackgroundOpacityChange:c})=>{const m=q.useRef(null),[g,b]=q.useState(null),B=q.useMemo(()=>Bh.find(T=>T.id===e)||Bh[0],[e]),_=()=>{var T;(T=m.current)==null||T.click()},k=T=>{var F;const C=(F=T.target.files)==null?void 0:F[0];if(!C)return;if(b(null),C.size>10485760){b("Imagem muito grande. Use at 10 MB."),T.target.value="";return}const I=new FileReader;I.onload=async()=>{const R=typeof I.result=="string"?I.result:null;if(R)try{await o(R)}catch(ae){b("Imagem grande demais para salvar. Use uma imagem menor."),console.error("Erro ao aplicar imagem de fundo",ae)}},I.onerror=()=>{b("Falha ao ler a imagem. Tente outro arquivo.")},I.readAsDataURL(C),T.target.value=""},j=T=>{const C=Number(T.target.value),I=Number.isFinite(C)?Math.min(1,Math.max(0,C)):.35;c(I)};return i.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-in fade-in duration-300",children:i.jsxs("div",{className:"bg-surface w-full max-w-3xl rounded-3xl shadow-2xl overflow-hidden border border-bdr transform transition-all",children:[i.jsxs("div",{className:"bg-app border-b border-bdr px-8 py-6 flex justify-between items-center",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"bg-pink-100 p-3 rounded-2xl",children:i.jsx(fm,{className:"w-6 h-6 text-pink-600"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-black text-txt-main tracking-tight",children:"Personalizao"}),i.jsx("p",{className:"text-sm text-txt-muted font-medium",children:"Escolha o visual que mais lhe agrada"})]})]}),i.jsx("button",{onClick:r,className:"p-2 hover:bg-black/5 rounded-full text-txt-muted transition-colors",children:i.jsx(Pn,{className:"w-6 h-6"})})]}),i.jsx("div",{className:"p-8 grid grid-cols-1 sm:grid-cols-2 gap-6 bg-app",children:Bh.map(T=>{const C=e===T.id;return i.jsxs("button",{onClick:()=>t(T.id),className:`relative group flex items-center gap-4 p-4 rounded-2xl border-2 transition-all duration-300 text-left ${C?"border-pink-500 bg-surface shadow-lg scale-[1.02]":"border-bdr bg-surface hover:border-pink-300 hover:shadow-md"}`,children:[i.jsx("div",{className:"w-16 h-16 rounded-xl shadow-inner flex items-center justify-center text-xs font-bold shrink-0 border border-white/10",style:{backgroundColor:T.colors.appBg,backgroundImage:T.pattern??"none",color:T.colors.textMain},children:i.jsx("div",{className:"w-8 h-8 rounded-lg shadow-sm",style:{backgroundColor:T.colors.surfaceBg}})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-bold text-lg text-txt-main mb-1",children:T.label}),i.jsx("p",{className:"text-xs text-txt-muted opacity-80",children:T.description})]}),C&&i.jsx("div",{className:"absolute top-4 right-4 bg-pink-500 text-white p-1 rounded-full shadow-sm animate-in zoom-in",children:i.jsx(Ac,{className:"w-4 h-4",strokeWidth:3})})]},T.id)})}),i.jsxs("div",{className:"px-8 pb-8 bg-app space-y-4",children:[i.jsxs("div",{className:"bg-surface border border-bdr rounded-2xl p-5 space-y-4",children:[i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-xl bg-pink-100 flex items-center justify-center",children:i.jsx(YE,{className:"w-5 h-5 text-pink-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-black text-txt-main",children:"Imagem de fundo"}),i.jsx("p",{className:"text-[11px] text-txt-muted",children:"Envie uma imagem e ajuste a transparncia"})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{type:"button",onClick:_,className:"px-4 py-2 text-xs font-black uppercase rounded-xl bg-pink-600 text-white shadow-sm hover:bg-pink-700 transition",children:"Upload"}),i.jsx("button",{type:"button",onClick:()=>{b(null),o(null)},className:"px-3 py-2 text-xs font-black uppercase rounded-xl border border-bdr text-txt-muted hover:text-red-500 hover:border-red-300 transition",children:i.jsx(Gs,{className:"w-4 h-4"})})]})]}),g&&i.jsx("div",{className:"text-xs text-red-500 font-bold",children:g}),n?i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[i.jsx("div",{className:"w-full sm:w-40 h-28 rounded-xl overflow-hidden border border-bdr",children:i.jsx("img",{src:n,alt:"Preview",className:"w-full h-full object-cover",style:{opacity:a}})}),i.jsxs("div",{className:"flex-1 space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-txt-muted",children:[i.jsx(ZS,{className:"w-4 h-4"}),"Transparncia da imagem"]}),i.jsx("input",{type:"range",min:"0",max:"1",step:"0.05",value:a,onChange:j,className:"w-full accent-pink-500"}),i.jsxs("p",{className:"text-[11px] text-txt-muted",children:[Math.round(a*100),"% visvel"]})]})]}):i.jsxs("div",{className:"text-xs text-txt-muted",children:["Nenhuma imagem aplicada. O fundo usa o tema ",B.label,"."]})]}),i.jsx("input",{ref:m,type:"file",accept:"image/*",onChange:k,className:"hidden"})]}),i.jsx("div",{className:"bg-surface border-t border-bdr p-6 flex justify-end",children:i.jsx("button",{onClick:r,className:"px-8 py-3 bg-pink-600 hover:bg-pink-700 text-white font-bold rounded-xl shadow-lg shadow-pink-200 transition-all active:scale-95",children:"Concludo"})})]})})};function GN(r,e){return function(){return r.apply(e,arguments)}}const{toString:g8}=Object.prototype,{getPrototypeOf:Wb}=Object,{iterator:Fm,toStringTag:VN}=Symbol,Qm=(r=>e=>{const t=g8.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),xl=r=>(r=r.toLowerCase(),e=>Qm(e)===r),Im=r=>e=>typeof e===r,{isArray:xd}=Array,dd=Im("undefined");function Gh(r){return r!==null&&!dd(r)&&r.constructor!==null&&!dd(r.constructor)&&eo(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const ZN=xl("ArrayBuffer");function x8(r){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(r):e=r&&r.buffer&&ZN(r.buffer),e}const b8=Im("string"),eo=Im("function"),$N=Im("number"),Vh=r=>r!==null&&typeof r=="object",v8=r=>r===!0||r===!1,Hp=r=>{if(Qm(r)!=="object")return!1;const e=Wb(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(VN in r)&&!(Fm in r)},y8=r=>{if(!Vh(r)||Gh(r))return!1;try{return Object.keys(r).length===0&&Object.getPrototypeOf(r)===Object.prototype}catch{return!1}},w8=xl("Date"),_8=xl("File"),B8=xl("Blob"),N8=xl("FileList"),C8=r=>Vh(r)&&eo(r.pipe),E8=r=>{let e;return r&&(typeof FormData=="function"&&r instanceof FormData||eo(r.append)&&((e=Qm(r))==="formdata"||e==="object"&&eo(r.toString)&&r.toString()==="[object FormData]"))},S8=xl("URLSearchParams"),[L8,j8,k8,U8]=["ReadableStream","Request","Response","Headers"].map(xl),T8=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Zh(r,e,{allOwnKeys:t=!1}={}){if(r===null||typeof r>"u")return;let n,a;if(typeof r!="object"&&(r=[r]),xd(r))for(n=0,a=r.length;n<a;n++)e.call(null,r[n],n,r);else{if(Gh(r))return;const o=t?Object.getOwnPropertyNames(r):Object.keys(r),c=o.length;let d;for(n=0;n<c;n++)d=o[n],e.call(null,r[d],d,r)}}function YN(r,e){if(Gh(r))return null;e=e.toLowerCase();const t=Object.keys(r);let n=t.length,a;for(;n-- >0;)if(a=t[n],e===a.toLowerCase())return a;return null}const Gc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,XN=r=>!dd(r)&&r!==Gc;function mb(){const{caseless:r,skipUndefined:e}=XN(this)&&this||{},t={},n=(a,o)=>{const c=r&&YN(t,o)||o;Hp(t[c])&&Hp(a)?t[c]=mb(t[c],a):Hp(a)?t[c]=mb({},a):xd(a)?t[c]=a.slice():(!e||!dd(a))&&(t[c]=a)};for(let a=0,o=arguments.length;a<o;a++)arguments[a]&&Zh(arguments[a],n);return t}const F8=(r,e,t,{allOwnKeys:n}={})=>(Zh(e,(a,o)=>{t&&eo(a)?r[o]=GN(a,t):r[o]=a},{allOwnKeys:n}),r),Q8=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),I8=(r,e,t,n)=>{r.prototype=Object.create(e.prototype,n),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:e.prototype}),t&&Object.assign(r.prototype,t)},O8=(r,e,t,n)=>{let a,o,c;const d={};if(e=e||{},r==null)return e;do{for(a=Object.getOwnPropertyNames(r),o=a.length;o-- >0;)c=a[o],(!n||n(c,r,e))&&!d[c]&&(e[c]=r[c],d[c]=!0);r=t!==!1&&Wb(r)}while(r&&(!t||t(r,e))&&r!==Object.prototype);return e},M8=(r,e,t)=>{r=String(r),(t===void 0||t>r.length)&&(t=r.length),t-=e.length;const n=r.indexOf(e,t);return n!==-1&&n===t},D8=r=>{if(!r)return null;if(xd(r))return r;let e=r.length;if(!$N(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=r[e];return t},R8=(r=>e=>r&&e instanceof r)(typeof Uint8Array<"u"&&Wb(Uint8Array)),P8=(r,e)=>{const n=(r&&r[Fm]).call(r);let a;for(;(a=n.next())&&!a.done;){const o=a.value;e.call(r,o[0],o[1])}},H8=(r,e)=>{let t;const n=[];for(;(t=r.exec(e))!==null;)n.push(t);return n},z8=xl("HTMLFormElement"),q8=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,n,a){return n.toUpperCase()+a}),L_=(({hasOwnProperty:r})=>(e,t)=>r.call(e,t))(Object.prototype),K8=xl("RegExp"),JN=(r,e)=>{const t=Object.getOwnPropertyDescriptors(r),n={};Zh(t,(a,o)=>{let c;(c=e(a,o,r))!==!1&&(n[o]=c||a)}),Object.defineProperties(r,n)},G8=r=>{JN(r,(e,t)=>{if(eo(r)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const n=r[t];if(eo(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},V8=(r,e)=>{const t={},n=a=>{a.forEach(o=>{t[o]=!0})};return xd(r)?n(r):n(String(r).split(e)),t},Z8=()=>{},$8=(r,e)=>r!=null&&Number.isFinite(r=+r)?r:e;function Y8(r){return!!(r&&eo(r.append)&&r[VN]==="FormData"&&r[Fm])}const X8=r=>{const e=new Array(10),t=(n,a)=>{if(Vh(n)){if(e.indexOf(n)>=0)return;if(Gh(n))return n;if(!("toJSON"in n)){e[a]=n;const o=xd(n)?[]:{};return Zh(n,(c,d)=>{const h=t(c,a+1);!dd(h)&&(o[d]=h)}),e[a]=void 0,o}}return n};return t(r,0)},J8=xl("AsyncFunction"),W8=r=>r&&(Vh(r)||eo(r))&&eo(r.then)&&eo(r.catch),WN=((r,e)=>r?setImmediate:e?((t,n)=>(Gc.addEventListener("message",({source:a,data:o})=>{a===Gc&&o===t&&n.length&&n.shift()()},!1),a=>{n.push(a),Gc.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",eo(Gc.postMessage)),eD=typeof queueMicrotask<"u"?queueMicrotask.bind(Gc):typeof process<"u"&&process.nextTick||WN,tD=r=>r!=null&&eo(r[Fm]),Xe={isArray:xd,isArrayBuffer:ZN,isBuffer:Gh,isFormData:E8,isArrayBufferView:x8,isString:b8,isNumber:$N,isBoolean:v8,isObject:Vh,isPlainObject:Hp,isEmptyObject:y8,isReadableStream:L8,isRequest:j8,isResponse:k8,isHeaders:U8,isUndefined:dd,isDate:w8,isFile:_8,isBlob:B8,isRegExp:K8,isFunction:eo,isStream:C8,isURLSearchParams:S8,isTypedArray:R8,isFileList:N8,forEach:Zh,merge:mb,extend:F8,trim:T8,stripBOM:Q8,inherits:I8,toFlatObject:O8,kindOf:Qm,kindOfTest:xl,endsWith:M8,toArray:D8,forEachEntry:P8,matchAll:H8,isHTMLForm:z8,hasOwnProperty:L_,hasOwnProp:L_,reduceDescriptors:JN,freezeMethods:G8,toObjectSet:V8,toCamelCase:q8,noop:Z8,toFiniteNumber:$8,findKey:YN,global:Gc,isContextDefined:XN,isSpecCompliantForm:Y8,toJSONObject:X8,isAsyncFn:J8,isThenable:W8,setImmediate:WN,asap:eD,isIterable:tD};function Yr(r,e,t,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}Xe.inherits(Yr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Xe.toJSONObject(this.config),code:this.code,status:this.status}}});const eC=Yr.prototype,tC={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{tC[r]={value:r}});Object.defineProperties(Yr,tC);Object.defineProperty(eC,"isAxiosError",{value:!0});Yr.from=(r,e,t,n,a,o)=>{const c=Object.create(eC);Xe.toFlatObject(r,c,function(g){return g!==Error.prototype},m=>m!=="isAxiosError");const d=r&&r.message?r.message:"Error",h=e==null&&r?r.code:e;return Yr.call(c,d,h,t,n,a),r&&c.cause==null&&Object.defineProperty(c,"cause",{value:r,configurable:!0}),c.name=r&&r.name||"Error",o&&Object.assign(c,o),c};const rD=null;function gb(r){return Xe.isPlainObject(r)||Xe.isArray(r)}function rC(r){return Xe.endsWith(r,"[]")?r.slice(0,-2):r}function j_(r,e,t){return r?r.concat(e).map(function(a,o){return a=rC(a),!t&&o?"["+a+"]":a}).join(t?".":""):e}function nD(r){return Xe.isArray(r)&&!r.some(gb)}const sD=Xe.toFlatObject(Xe,{},null,function(e){return/^is[A-Z]/.test(e)});function Om(r,e,t){if(!Xe.isObject(r))throw new TypeError("target must be an object");e=e||new FormData,t=Xe.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(j,T){return!Xe.isUndefined(T[j])});const n=t.metaTokens,a=t.visitor||g,o=t.dots,c=t.indexes,h=(t.Blob||typeof Blob<"u"&&Blob)&&Xe.isSpecCompliantForm(e);if(!Xe.isFunction(a))throw new TypeError("visitor must be a function");function m(k){if(k===null)return"";if(Xe.isDate(k))return k.toISOString();if(Xe.isBoolean(k))return k.toString();if(!h&&Xe.isBlob(k))throw new Yr("Blob is not supported. Use a Buffer instead.");return Xe.isArrayBuffer(k)||Xe.isTypedArray(k)?h&&typeof Blob=="function"?new Blob([k]):Buffer.from(k):k}function g(k,j,T){let C=k;if(k&&!T&&typeof k=="object"){if(Xe.endsWith(j,"{}"))j=n?j:j.slice(0,-2),k=JSON.stringify(k);else if(Xe.isArray(k)&&nD(k)||(Xe.isFileList(k)||Xe.endsWith(j,"[]"))&&(C=Xe.toArray(k)))return j=rC(j),C.forEach(function(F,R){!(Xe.isUndefined(F)||F===null)&&e.append(c===!0?j_([j],R,o):c===null?j:j+"[]",m(F))}),!1}return gb(k)?!0:(e.append(j_(T,j,o),m(k)),!1)}const b=[],B=Object.assign(sD,{defaultVisitor:g,convertValue:m,isVisitable:gb});function _(k,j){if(!Xe.isUndefined(k)){if(b.indexOf(k)!==-1)throw Error("Circular reference detected in "+j.join("."));b.push(k),Xe.forEach(k,function(C,I){(!(Xe.isUndefined(C)||C===null)&&a.call(e,C,Xe.isString(I)?I.trim():I,j,B))===!0&&_(C,j?j.concat(I):[I])}),b.pop()}}if(!Xe.isObject(r))throw new TypeError("data must be an object");return _(r),e}function k_(r){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function ev(r,e){this._pairs=[],r&&Om(r,this,e)}const nC=ev.prototype;nC.append=function(e,t){this._pairs.push([e,t])};nC.toString=function(e){const t=e?function(n){return e.call(this,n,k_)}:k_;return this._pairs.map(function(a){return t(a[0])+"="+t(a[1])},"").join("&")};function aD(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function sC(r,e,t){if(!e)return r;const n=t&&t.encode||aD;Xe.isFunction(t)&&(t={serialize:t});const a=t&&t.serialize;let o;if(a?o=a(e,t):o=Xe.isURLSearchParams(e)?e.toString():new ev(e,t).toString(n),o){const c=r.indexOf("#");c!==-1&&(r=r.slice(0,c)),r+=(r.indexOf("?")===-1?"?":"&")+o}return r}class U_{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Xe.forEach(this.handlers,function(n){n!==null&&e(n)})}}const aC={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},iD=typeof URLSearchParams<"u"?URLSearchParams:ev,oD=typeof FormData<"u"?FormData:null,lD=typeof Blob<"u"?Blob:null,AD={isBrowser:!0,classes:{URLSearchParams:iD,FormData:oD,Blob:lD},protocols:["http","https","file","blob","url","data"]},tv=typeof window<"u"&&typeof document<"u",xb=typeof navigator=="object"&&navigator||void 0,cD=tv&&(!xb||["ReactNative","NativeScript","NS"].indexOf(xb.product)<0),uD=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",dD=tv&&window.location.href||"http://localhost",hD=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:tv,hasStandardBrowserEnv:cD,hasStandardBrowserWebWorkerEnv:uD,navigator:xb,origin:dD},Symbol.toStringTag,{value:"Module"})),wi={...hD,...AD};function fD(r,e){return Om(r,new wi.classes.URLSearchParams,{visitor:function(t,n,a,o){return wi.isNode&&Xe.isBuffer(t)?(this.append(n,t.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...e})}function pD(r){return Xe.matchAll(/\w+|\[(\w*)]/g,r).map(e=>e[0]==="[]"?"":e[1]||e[0])}function mD(r){const e={},t=Object.keys(r);let n;const a=t.length;let o;for(n=0;n<a;n++)o=t[n],e[o]=r[o];return e}function iC(r){function e(t,n,a,o){let c=t[o++];if(c==="__proto__")return!0;const d=Number.isFinite(+c),h=o>=t.length;return c=!c&&Xe.isArray(a)?a.length:c,h?(Xe.hasOwnProp(a,c)?a[c]=[a[c],n]:a[c]=n,!d):((!a[c]||!Xe.isObject(a[c]))&&(a[c]=[]),e(t,n,a[c],o)&&Xe.isArray(a[c])&&(a[c]=mD(a[c])),!d)}if(Xe.isFormData(r)&&Xe.isFunction(r.entries)){const t={};return Xe.forEachEntry(r,(n,a)=>{e(pD(n),a,t,0)}),t}return null}function gD(r,e,t){if(Xe.isString(r))try{return(e||JSON.parse)(r),Xe.trim(r)}catch(n){if(n.name!=="SyntaxError")throw n}return(t||JSON.stringify)(r)}const $h={transitional:aC,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",a=n.indexOf("application/json")>-1,o=Xe.isObject(e);if(o&&Xe.isHTMLForm(e)&&(e=new FormData(e)),Xe.isFormData(e))return a?JSON.stringify(iC(e)):e;if(Xe.isArrayBuffer(e)||Xe.isBuffer(e)||Xe.isStream(e)||Xe.isFile(e)||Xe.isBlob(e)||Xe.isReadableStream(e))return e;if(Xe.isArrayBufferView(e))return e.buffer;if(Xe.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let d;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return fD(e,this.formSerializer).toString();if((d=Xe.isFileList(e))||n.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return Om(d?{"files[]":e}:e,h&&new h,this.formSerializer)}}return o||a?(t.setContentType("application/json",!1),gD(e)):e}],transformResponse:[function(e){const t=this.transitional||$h.transitional,n=t&&t.forcedJSONParsing,a=this.responseType==="json";if(Xe.isResponse(e)||Xe.isReadableStream(e))return e;if(e&&Xe.isString(e)&&(n&&!this.responseType||a)){const c=!(t&&t.silentJSONParsing)&&a;try{return JSON.parse(e,this.parseReviver)}catch(d){if(c)throw d.name==="SyntaxError"?Yr.from(d,Yr.ERR_BAD_RESPONSE,this,null,this.response):d}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:wi.classes.FormData,Blob:wi.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Xe.forEach(["delete","get","head","post","put","patch"],r=>{$h.headers[r]={}});const xD=Xe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),bD=r=>{const e={};let t,n,a;return r&&r.split(`
`).forEach(function(c){a=c.indexOf(":"),t=c.substring(0,a).trim().toLowerCase(),n=c.substring(a+1).trim(),!(!t||e[t]&&xD[t])&&(t==="set-cookie"?e[t]?e[t].push(n):e[t]=[n]:e[t]=e[t]?e[t]+", "+n:n)}),e},T_=Symbol("internals");function nh(r){return r&&String(r).trim().toLowerCase()}function zp(r){return r===!1||r==null?r:Xe.isArray(r)?r.map(zp):String(r)}function vD(r){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=t.exec(r);)e[n[1]]=n[2];return e}const yD=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function cx(r,e,t,n,a){if(Xe.isFunction(n))return n.call(this,e,t);if(a&&(e=t),!!Xe.isString(e)){if(Xe.isString(n))return e.indexOf(n)!==-1;if(Xe.isRegExp(n))return n.test(e)}}function wD(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}function _D(r,e){const t=Xe.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(r,n+t,{value:function(a,o,c){return this[n].call(this,e,a,o,c)},configurable:!0})})}let to=class{constructor(e){e&&this.set(e)}set(e,t,n){const a=this;function o(d,h,m){const g=nh(h);if(!g)throw new Error("header name must be a non-empty string");const b=Xe.findKey(a,g);(!b||a[b]===void 0||m===!0||m===void 0&&a[b]!==!1)&&(a[b||h]=zp(d))}const c=(d,h)=>Xe.forEach(d,(m,g)=>o(m,g,h));if(Xe.isPlainObject(e)||e instanceof this.constructor)c(e,t);else if(Xe.isString(e)&&(e=e.trim())&&!yD(e))c(bD(e),t);else if(Xe.isObject(e)&&Xe.isIterable(e)){let d={},h,m;for(const g of e){if(!Xe.isArray(g))throw TypeError("Object iterator must return a key-value pair");d[m=g[0]]=(h=d[m])?Xe.isArray(h)?[...h,g[1]]:[h,g[1]]:g[1]}c(d,t)}else e!=null&&o(t,e,n);return this}get(e,t){if(e=nh(e),e){const n=Xe.findKey(this,e);if(n){const a=this[n];if(!t)return a;if(t===!0)return vD(a);if(Xe.isFunction(t))return t.call(this,a,n);if(Xe.isRegExp(t))return t.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=nh(e),e){const n=Xe.findKey(this,e);return!!(n&&this[n]!==void 0&&(!t||cx(this,this[n],n,t)))}return!1}delete(e,t){const n=this;let a=!1;function o(c){if(c=nh(c),c){const d=Xe.findKey(n,c);d&&(!t||cx(n,n[d],d,t))&&(delete n[d],a=!0)}}return Xe.isArray(e)?e.forEach(o):o(e),a}clear(e){const t=Object.keys(this);let n=t.length,a=!1;for(;n--;){const o=t[n];(!e||cx(this,this[o],o,e,!0))&&(delete this[o],a=!0)}return a}normalize(e){const t=this,n={};return Xe.forEach(this,(a,o)=>{const c=Xe.findKey(n,o);if(c){t[c]=zp(a),delete t[o];return}const d=e?wD(o):String(o).trim();d!==o&&delete t[o],t[d]=zp(a),n[d]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return Xe.forEach(this,(n,a)=>{n!=null&&n!==!1&&(t[a]=e&&Xe.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach(a=>n.set(a)),n}static accessor(e){const n=(this[T_]=this[T_]={accessors:{}}).accessors,a=this.prototype;function o(c){const d=nh(c);n[d]||(_D(a,c),n[d]=!0)}return Xe.isArray(e)?e.forEach(o):o(e),this}};to.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Xe.reduceDescriptors(to.prototype,({value:r},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>r,set(n){this[t]=n}}});Xe.freezeMethods(to);function ux(r,e){const t=this||$h,n=e||t,a=to.from(n.headers);let o=n.data;return Xe.forEach(r,function(d){o=d.call(t,o,a.normalize(),e?e.status:void 0)}),a.normalize(),o}function oC(r){return!!(r&&r.__CANCEL__)}function bd(r,e,t){Yr.call(this,r??"canceled",Yr.ERR_CANCELED,e,t),this.name="CanceledError"}Xe.inherits(bd,Yr,{__CANCEL__:!0});function lC(r,e,t){const n=t.config.validateStatus;!t.status||!n||n(t.status)?r(t):e(new Yr("Request failed with status code "+t.status,[Yr.ERR_BAD_REQUEST,Yr.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function BD(r){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return e&&e[1]||""}function ND(r,e){r=r||10;const t=new Array(r),n=new Array(r);let a=0,o=0,c;return e=e!==void 0?e:1e3,function(h){const m=Date.now(),g=n[o];c||(c=m),t[a]=h,n[a]=m;let b=o,B=0;for(;b!==a;)B+=t[b++],b=b%r;if(a=(a+1)%r,a===o&&(o=(o+1)%r),m-c<e)return;const _=g&&m-g;return _?Math.round(B*1e3/_):void 0}}function CD(r,e){let t=0,n=1e3/e,a,o;const c=(m,g=Date.now())=>{t=g,a=null,o&&(clearTimeout(o),o=null),r(...m)};return[(...m)=>{const g=Date.now(),b=g-t;b>=n?c(m,g):(a=m,o||(o=setTimeout(()=>{o=null,c(a)},n-b)))},()=>a&&c(a)]}const um=(r,e,t=3)=>{let n=0;const a=ND(50,250);return CD(o=>{const c=o.loaded,d=o.lengthComputable?o.total:void 0,h=c-n,m=a(h),g=c<=d;n=c;const b={loaded:c,total:d,progress:d?c/d:void 0,bytes:h,rate:m||void 0,estimated:m&&d&&g?(d-c)/m:void 0,event:o,lengthComputable:d!=null,[e?"download":"upload"]:!0};r(b)},t)},F_=(r,e)=>{const t=r!=null;return[n=>e[0]({lengthComputable:t,total:r,loaded:n}),e[1]]},Q_=r=>(...e)=>Xe.asap(()=>r(...e)),ED=wi.hasStandardBrowserEnv?((r,e)=>t=>(t=new URL(t,wi.origin),r.protocol===t.protocol&&r.host===t.host&&(e||r.port===t.port)))(new URL(wi.origin),wi.navigator&&/(msie|trident)/i.test(wi.navigator.userAgent)):()=>!0,SD=wi.hasStandardBrowserEnv?{write(r,e,t,n,a,o,c){if(typeof document>"u")return;const d=[`${r}=${encodeURIComponent(e)}`];Xe.isNumber(t)&&d.push(`expires=${new Date(t).toUTCString()}`),Xe.isString(n)&&d.push(`path=${n}`),Xe.isString(a)&&d.push(`domain=${a}`),o===!0&&d.push("secure"),Xe.isString(c)&&d.push(`SameSite=${c}`),document.cookie=d.join("; ")},read(r){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+r+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(r){this.write(r,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function LD(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function jD(r,e){return e?r.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):r}function AC(r,e,t){let n=!LD(e);return r&&(n||t==!1)?jD(r,e):e}const I_=r=>r instanceof to?{...r}:r;function Wc(r,e){e=e||{};const t={};function n(m,g,b,B){return Xe.isPlainObject(m)&&Xe.isPlainObject(g)?Xe.merge.call({caseless:B},m,g):Xe.isPlainObject(g)?Xe.merge({},g):Xe.isArray(g)?g.slice():g}function a(m,g,b,B){if(Xe.isUndefined(g)){if(!Xe.isUndefined(m))return n(void 0,m,b,B)}else return n(m,g,b,B)}function o(m,g){if(!Xe.isUndefined(g))return n(void 0,g)}function c(m,g){if(Xe.isUndefined(g)){if(!Xe.isUndefined(m))return n(void 0,m)}else return n(void 0,g)}function d(m,g,b){if(b in e)return n(m,g);if(b in r)return n(void 0,m)}const h={url:o,method:o,data:o,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:d,headers:(m,g,b)=>a(I_(m),I_(g),b,!0)};return Xe.forEach(Object.keys({...r,...e}),function(g){const b=h[g]||a,B=b(r[g],e[g],g);Xe.isUndefined(B)&&b!==d||(t[g]=B)}),t}const cC=r=>{const e=Wc({},r);let{data:t,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:o,headers:c,auth:d}=e;if(e.headers=c=to.from(c),e.url=sC(AC(e.baseURL,e.url,e.allowAbsoluteUrls),r.params,r.paramsSerializer),d&&c.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):""))),Xe.isFormData(t)){if(wi.hasStandardBrowserEnv||wi.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if(Xe.isFunction(t.getHeaders)){const h=t.getHeaders(),m=["content-type","content-length"];Object.entries(h).forEach(([g,b])=>{m.includes(g.toLowerCase())&&c.set(g,b)})}}if(wi.hasStandardBrowserEnv&&(n&&Xe.isFunction(n)&&(n=n(e)),n||n!==!1&&ED(e.url))){const h=a&&o&&SD.read(o);h&&c.set(a,h)}return e},kD=typeof XMLHttpRequest<"u",UD=kD&&function(r){return new Promise(function(t,n){const a=cC(r);let o=a.data;const c=to.from(a.headers).normalize();let{responseType:d,onUploadProgress:h,onDownloadProgress:m}=a,g,b,B,_,k;function j(){_&&_(),k&&k(),a.cancelToken&&a.cancelToken.unsubscribe(g),a.signal&&a.signal.removeEventListener("abort",g)}let T=new XMLHttpRequest;T.open(a.method.toUpperCase(),a.url,!0),T.timeout=a.timeout;function C(){if(!T)return;const F=to.from("getAllResponseHeaders"in T&&T.getAllResponseHeaders()),ae={data:!d||d==="text"||d==="json"?T.responseText:T.response,status:T.status,statusText:T.statusText,headers:F,config:r,request:T};lC(function(me){t(me),j()},function(me){n(me),j()},ae),T=null}"onloadend"in T?T.onloadend=C:T.onreadystatechange=function(){!T||T.readyState!==4||T.status===0&&!(T.responseURL&&T.responseURL.indexOf("file:")===0)||setTimeout(C)},T.onabort=function(){T&&(n(new Yr("Request aborted",Yr.ECONNABORTED,r,T)),T=null)},T.onerror=function(R){const ae=R&&R.message?R.message:"Network Error",Z=new Yr(ae,Yr.ERR_NETWORK,r,T);Z.event=R||null,n(Z),T=null},T.ontimeout=function(){let R=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const ae=a.transitional||aC;a.timeoutErrorMessage&&(R=a.timeoutErrorMessage),n(new Yr(R,ae.clarifyTimeoutError?Yr.ETIMEDOUT:Yr.ECONNABORTED,r,T)),T=null},o===void 0&&c.setContentType(null),"setRequestHeader"in T&&Xe.forEach(c.toJSON(),function(R,ae){T.setRequestHeader(ae,R)}),Xe.isUndefined(a.withCredentials)||(T.withCredentials=!!a.withCredentials),d&&d!=="json"&&(T.responseType=a.responseType),m&&([B,k]=um(m,!0),T.addEventListener("progress",B)),h&&T.upload&&([b,_]=um(h),T.upload.addEventListener("progress",b),T.upload.addEventListener("loadend",_)),(a.cancelToken||a.signal)&&(g=F=>{T&&(n(!F||F.type?new bd(null,r,T):F),T.abort(),T=null)},a.cancelToken&&a.cancelToken.subscribe(g),a.signal&&(a.signal.aborted?g():a.signal.addEventListener("abort",g)));const I=BD(a.url);if(I&&wi.protocols.indexOf(I)===-1){n(new Yr("Unsupported protocol "+I+":",Yr.ERR_BAD_REQUEST,r));return}T.send(o||null)})},TD=(r,e)=>{const{length:t}=r=r?r.filter(Boolean):[];if(e||t){let n=new AbortController,a;const o=function(m){if(!a){a=!0,d();const g=m instanceof Error?m:this.reason;n.abort(g instanceof Yr?g:new bd(g instanceof Error?g.message:g))}};let c=e&&setTimeout(()=>{c=null,o(new Yr(`timeout ${e} of ms exceeded`,Yr.ETIMEDOUT))},e);const d=()=>{r&&(c&&clearTimeout(c),c=null,r.forEach(m=>{m.unsubscribe?m.unsubscribe(o):m.removeEventListener("abort",o)}),r=null)};r.forEach(m=>m.addEventListener("abort",o));const{signal:h}=n;return h.unsubscribe=()=>Xe.asap(d),h}},FD=function*(r,e){let t=r.byteLength;if(t<e){yield r;return}let n=0,a;for(;n<t;)a=n+e,yield r.slice(n,a),n=a},QD=async function*(r,e){for await(const t of ID(r))yield*FD(t,e)},ID=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const e=r.getReader();try{for(;;){const{done:t,value:n}=await e.read();if(t)break;yield n}}finally{await e.cancel()}},O_=(r,e,t,n)=>{const a=QD(r,e);let o=0,c,d=h=>{c||(c=!0,n&&n(h))};return new ReadableStream({async pull(h){try{const{done:m,value:g}=await a.next();if(m){d(),h.close();return}let b=g.byteLength;if(t){let B=o+=b;t(B)}h.enqueue(new Uint8Array(g))}catch(m){throw d(m),m}},cancel(h){return d(h),a.return()}},{highWaterMark:2})},M_=64*1024,{isFunction:yp}=Xe,OD=(({Request:r,Response:e})=>({Request:r,Response:e}))(Xe.global),{ReadableStream:D_,TextEncoder:R_}=Xe.global,P_=(r,...e)=>{try{return!!r(...e)}catch{return!1}},MD=r=>{r=Xe.merge.call({skipUndefined:!0},OD,r);const{fetch:e,Request:t,Response:n}=r,a=e?yp(e):typeof fetch=="function",o=yp(t),c=yp(n);if(!a)return!1;const d=a&&yp(D_),h=a&&(typeof R_=="function"?(k=>j=>k.encode(j))(new R_):async k=>new Uint8Array(await new t(k).arrayBuffer())),m=o&&d&&P_(()=>{let k=!1;const j=new t(wi.origin,{body:new D_,method:"POST",get duplex(){return k=!0,"half"}}).headers.has("Content-Type");return k&&!j}),g=c&&d&&P_(()=>Xe.isReadableStream(new n("").body)),b={stream:g&&(k=>k.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(k=>{!b[k]&&(b[k]=(j,T)=>{let C=j&&j[k];if(C)return C.call(j);throw new Yr(`Response type '${k}' is not supported`,Yr.ERR_NOT_SUPPORT,T)})});const B=async k=>{if(k==null)return 0;if(Xe.isBlob(k))return k.size;if(Xe.isSpecCompliantForm(k))return(await new t(wi.origin,{method:"POST",body:k}).arrayBuffer()).byteLength;if(Xe.isArrayBufferView(k)||Xe.isArrayBuffer(k))return k.byteLength;if(Xe.isURLSearchParams(k)&&(k=k+""),Xe.isString(k))return(await h(k)).byteLength},_=async(k,j)=>{const T=Xe.toFiniteNumber(k.getContentLength());return T??B(j)};return async k=>{let{url:j,method:T,data:C,signal:I,cancelToken:F,timeout:R,onDownloadProgress:ae,onUploadProgress:Z,responseType:me,headers:ee,withCredentials:H="same-origin",fetchOptions:W}=cC(k),K=e||fetch;me=me?(me+"").toLowerCase():"text";let $=TD([I,F&&F.toAbortSignal()],R),re=null;const le=$&&$.unsubscribe&&(()=>{$.unsubscribe()});let ge;try{if(Z&&m&&T!=="get"&&T!=="head"&&(ge=await _(ee,C))!==0){let V=new t(j,{method:"POST",body:C,duplex:"half"}),O;if(Xe.isFormData(C)&&(O=V.headers.get("content-type"))&&ee.setContentType(O),V.body){const[G,Q]=F_(ge,um(Q_(Z)));C=O_(V.body,M_,G,Q)}}Xe.isString(H)||(H=H?"include":"omit");const Y=o&&"credentials"in t.prototype,pe={...W,signal:$,method:T.toUpperCase(),headers:ee.normalize().toJSON(),body:C,duplex:"half",credentials:Y?H:void 0};re=o&&new t(j,pe);let z=await(o?K(re,W):K(j,pe));const ve=g&&(me==="stream"||me==="response");if(g&&(ae||ve&&le)){const V={};["status","statusText","headers"].forEach(oe=>{V[oe]=z[oe]});const O=Xe.toFiniteNumber(z.headers.get("content-length")),[G,Q]=ae&&F_(O,um(Q_(ae),!0))||[];z=new n(O_(z.body,M_,G,()=>{Q&&Q(),le&&le()}),V)}me=me||"text";let we=await b[Xe.findKey(b,me)||"text"](z,k);return!ve&&le&&le(),await new Promise((V,O)=>{lC(V,O,{data:we,headers:to.from(z.headers),status:z.status,statusText:z.statusText,config:k,request:re})})}catch(Y){throw le&&le(),Y&&Y.name==="TypeError"&&/Load failed|fetch/i.test(Y.message)?Object.assign(new Yr("Network Error",Yr.ERR_NETWORK,k,re),{cause:Y.cause||Y}):Yr.from(Y,Y&&Y.code,k,re)}}},DD=new Map,uC=r=>{let e=r&&r.env||{};const{fetch:t,Request:n,Response:a}=e,o=[n,a,t];let c=o.length,d=c,h,m,g=DD;for(;d--;)h=o[d],m=g.get(h),m===void 0&&g.set(h,m=d?new Map:MD(e)),g=m;return m};uC();const rv={http:rD,xhr:UD,fetch:{get:uC}};Xe.forEach(rv,(r,e)=>{if(r){try{Object.defineProperty(r,"name",{value:e})}catch{}Object.defineProperty(r,"adapterName",{value:e})}});const H_=r=>`- ${r}`,RD=r=>Xe.isFunction(r)||r===null||r===!1;function PD(r,e){r=Xe.isArray(r)?r:[r];const{length:t}=r;let n,a;const o={};for(let c=0;c<t;c++){n=r[c];let d;if(a=n,!RD(n)&&(a=rv[(d=String(n)).toLowerCase()],a===void 0))throw new Yr(`Unknown adapter '${d}'`);if(a&&(Xe.isFunction(a)||(a=a.get(e))))break;o[d||"#"+c]=a}if(!a){const c=Object.entries(o).map(([h,m])=>`adapter ${h} `+(m===!1?"is not supported by the environment":"is not available in the build"));let d=t?c.length>1?`since :
`+c.map(H_).join(`
`):" "+H_(c[0]):"as no adapter specified";throw new Yr("There is no suitable adapter to dispatch the request "+d,"ERR_NOT_SUPPORT")}return a}const dC={getAdapter:PD,adapters:rv};function dx(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new bd(null,r)}function z_(r){return dx(r),r.headers=to.from(r.headers),r.data=ux.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),dC.getAdapter(r.adapter||$h.adapter,r)(r).then(function(n){return dx(r),n.data=ux.call(r,r.transformResponse,n),n.headers=to.from(n.headers),n},function(n){return oC(n)||(dx(r),n&&n.response&&(n.response.data=ux.call(r,r.transformResponse,n.response),n.response.headers=to.from(n.response.headers))),Promise.reject(n)})}const hC="1.13.2",Mm={};["object","boolean","number","function","string","symbol"].forEach((r,e)=>{Mm[r]=function(n){return typeof n===r||"a"+(e<1?"n ":" ")+r}});const q_={};Mm.transitional=function(e,t,n){function a(o,c){return"[Axios v"+hC+"] Transitional option '"+o+"'"+c+(n?". "+n:"")}return(o,c,d)=>{if(e===!1)throw new Yr(a(c," has been removed"+(t?" in "+t:"")),Yr.ERR_DEPRECATED);return t&&!q_[c]&&(q_[c]=!0,console.warn(a(c," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(o,c,d):!0}};Mm.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function HD(r,e,t){if(typeof r!="object")throw new Yr("options must be an object",Yr.ERR_BAD_OPTION_VALUE);const n=Object.keys(r);let a=n.length;for(;a-- >0;){const o=n[a],c=e[o];if(c){const d=r[o],h=d===void 0||c(d,o,r);if(h!==!0)throw new Yr("option "+o+" must be "+h,Yr.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Yr("Unknown option "+o,Yr.ERR_BAD_OPTION)}}const qp={assertOptions:HD,validators:Mm},zl=qp.validators;let Yc=class{constructor(e){this.defaults=e||{},this.interceptors={request:new U_,response:new U_}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const o=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?o&&!String(n.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+o):n.stack=o}catch{}}throw n}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Wc(this.defaults,t);const{transitional:n,paramsSerializer:a,headers:o}=t;n!==void 0&&qp.assertOptions(n,{silentJSONParsing:zl.transitional(zl.boolean),forcedJSONParsing:zl.transitional(zl.boolean),clarifyTimeoutError:zl.transitional(zl.boolean)},!1),a!=null&&(Xe.isFunction(a)?t.paramsSerializer={serialize:a}:qp.assertOptions(a,{encode:zl.function,serialize:zl.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),qp.assertOptions(t,{baseUrl:zl.spelling("baseURL"),withXsrfToken:zl.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let c=o&&Xe.merge(o.common,o[t.method]);o&&Xe.forEach(["delete","get","head","post","put","patch","common"],k=>{delete o[k]}),t.headers=to.concat(c,o);const d=[];let h=!0;this.interceptors.request.forEach(function(j){typeof j.runWhen=="function"&&j.runWhen(t)===!1||(h=h&&j.synchronous,d.unshift(j.fulfilled,j.rejected))});const m=[];this.interceptors.response.forEach(function(j){m.push(j.fulfilled,j.rejected)});let g,b=0,B;if(!h){const k=[z_.bind(this),void 0];for(k.unshift(...d),k.push(...m),B=k.length,g=Promise.resolve(t);b<B;)g=g.then(k[b++],k[b++]);return g}B=d.length;let _=t;for(;b<B;){const k=d[b++],j=d[b++];try{_=k(_)}catch(T){j.call(this,T);break}}try{g=z_.call(this,_)}catch(k){return Promise.reject(k)}for(b=0,B=m.length;b<B;)g=g.then(m[b++],m[b++]);return g}getUri(e){e=Wc(this.defaults,e);const t=AC(e.baseURL,e.url,e.allowAbsoluteUrls);return sC(t,e.params,e.paramsSerializer)}};Xe.forEach(["delete","get","head","options"],function(e){Yc.prototype[e]=function(t,n){return this.request(Wc(n||{},{method:e,url:t,data:(n||{}).data}))}});Xe.forEach(["post","put","patch"],function(e){function t(n){return function(o,c,d){return this.request(Wc(d||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:c}))}}Yc.prototype[e]=t(),Yc.prototype[e+"Form"]=t(!0)});let zD=class fC{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(o){t=o});const n=this;this.promise.then(a=>{if(!n._listeners)return;let o=n._listeners.length;for(;o-- >0;)n._listeners[o](a);n._listeners=null}),this.promise.then=a=>{let o;const c=new Promise(d=>{n.subscribe(d),o=d}).then(a);return c.cancel=function(){n.unsubscribe(o)},c},e(function(o,c,d){n.reason||(n.reason=new bd(o,c,d),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=n=>{e.abort(n)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new fC(function(a){e=a}),cancel:e}}};function qD(r){return function(t){return r.apply(null,t)}}function KD(r){return Xe.isObject(r)&&r.isAxiosError===!0}const bb={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(bb).forEach(([r,e])=>{bb[e]=r});function pC(r){const e=new Yc(r),t=GN(Yc.prototype.request,e);return Xe.extend(t,Yc.prototype,e,{allOwnKeys:!0}),Xe.extend(t,e,null,{allOwnKeys:!0}),t.create=function(a){return pC(Wc(r,a))},t}const Vs=pC($h);Vs.Axios=Yc;Vs.CanceledError=bd;Vs.CancelToken=zD;Vs.isCancel=oC;Vs.VERSION=hC;Vs.toFormData=Om;Vs.AxiosError=Yr;Vs.Cancel=Vs.CanceledError;Vs.all=function(e){return Promise.all(e)};Vs.spread=qD;Vs.isAxiosError=KD;Vs.mergeConfig=Wc;Vs.AxiosHeaders=to;Vs.formToJSON=r=>iC(Xe.isHTMLForm(r)?new FormData(r):r);Vs.getAdapter=dC.getAdapter;Vs.HttpStatusCode=bb;Vs.default=Vs;const{Axios:pP,AxiosError:mP,CanceledError:gP,isCancel:xP,CancelToken:bP,VERSION:vP,all:yP,Cancel:wP,isAxiosError:_P,spread:BP,toFormData:NP,AxiosHeaders:CP,HttpStatusCode:EP,formToJSON:SP,getAdapter:LP,mergeConfig:jP}=Vs;(function(){function r(e){return this instanceof r?(this._canvas=e=typeof e=="string"?document.getElementById(e):e,this._ctx=e.getContext("2d"),this._width=e.width,this._height=e.height,this._max=1,void this.clear()):new r(e)}r.prototype={defaultRadius:25,defaultGradient:{.4:"blue",.6:"cyan",.7:"lime",.8:"yellow",1:"red"},data:function(e,t){return this._data=e,this},max:function(e){return this._max=e,this},add:function(e){return this._data.push(e),this},clear:function(){return this._data=[],this},radius:function(e,t){t=t||15;var n=this._circle=document.createElement("canvas"),a=n.getContext("2d"),o=this._r=e+t;return n.width=n.height=2*o,a.shadowOffsetX=a.shadowOffsetY=200,a.shadowBlur=t,a.shadowColor="black",a.beginPath(),a.arc(o-200,o-200,e,0,2*Math.PI,!0),a.closePath(),a.fill(),this},gradient:function(e){var t=document.createElement("canvas"),n=t.getContext("2d"),a=n.createLinearGradient(0,0,0,256);t.width=1,t.height=256;for(var o in e)a.addColorStop(o,e[o]);return n.fillStyle=a,n.fillRect(0,0,1,256),this._grad=n.getImageData(0,0,1,256).data,this},draw:function(e){this._circle||this.radius(this.defaultRadius),this._grad||this.gradient(this.defaultGradient);var t=this._ctx;t.clearRect(0,0,this._width,this._height);for(var n,a=0,o=this._data.length;o>a;a++)n=this._data[a],t.globalAlpha=Math.max(n[2]/this._max,e||.05),t.drawImage(this._circle,n[0]-this._r,n[1]-this._r);var c=t.getImageData(0,0,this._width,this._height);return this._colorize(c.data,this._grad),t.putImageData(c,0,0),this},_colorize:function(e,t){for(var n,a=3,o=e.length;o>a;a+=4)n=4*e[a],n&&(e[a-3]=t[n],e[a-2]=t[n+1],e[a-1]=t[n+2])}},window.simpleheat=r})(),L.HeatLayer=(L.Layer?L.Layer:L.Class).extend({initialize:function(r,e){this._latlngs=r,L.setOptions(this,e)},setLatLngs:function(r){return this._latlngs=r,this.redraw()},addLatLng:function(r){return this._latlngs.push(r),this.redraw()},setOptions:function(r){return L.setOptions(this,r),this._heat&&this._updateOptions(),this.redraw()},redraw:function(){return!this._heat||this._frame||this._map._animating||(this._frame=L.Util.requestAnimFrame(this._redraw,this)),this},onAdd:function(r){this._map=r,this._canvas||this._initCanvas(),r._panes.overlayPane.appendChild(this._canvas),r.on("moveend",this._reset,this),r.options.zoomAnimation&&L.Browser.any3d&&r.on("zoomanim",this._animateZoom,this),this._reset()},onRemove:function(r){r.getPanes().overlayPane.removeChild(this._canvas),r.off("moveend",this._reset,this),r.options.zoomAnimation&&r.off("zoomanim",this._animateZoom,this)},addTo:function(r){return r.addLayer(this),this},_initCanvas:function(){var r=this._canvas=L.DomUtil.create("canvas","leaflet-heatmap-layer leaflet-layer"),e=L.DomUtil.testProp(["transformOrigin","WebkitTransformOrigin","msTransformOrigin"]);r.style[e]="50% 50%";var t=this._map.getSize();r.width=t.x,r.height=t.y;var n=this._map.options.zoomAnimation&&L.Browser.any3d;L.DomUtil.addClass(r,"leaflet-zoom-"+(n?"animated":"hide")),this._heat=simpleheat(r),this._updateOptions()},_updateOptions:function(){this._heat.radius(this.options.radius||this._heat.defaultRadius,this.options.blur),this.options.gradient&&this._heat.gradient(this.options.gradient),this.options.max&&this._heat.max(this.options.max)},_reset:function(){var r=this._map.containerPointToLayerPoint([0,0]);L.DomUtil.setPosition(this._canvas,r);var e=this._map.getSize();this._heat._width!==e.x&&(this._canvas.width=this._heat._width=e.x),this._heat._height!==e.y&&(this._canvas.height=this._heat._height=e.y),this._redraw()},_redraw:function(){var r,e,t,n,a,o,c,d,h,m=[],g=this._heat._r,b=this._map.getSize(),B=new L.Bounds(L.point([-g,-g]),b.add([g,g])),_=this.options.max===void 0?1:this.options.max,k=this.options.maxZoom===void 0?this._map.getMaxZoom():this.options.maxZoom,j=1/Math.pow(2,Math.max(0,Math.min(k-this._map.getZoom(),12))),T=g/2,C=[],I=this._map._getMapPanePos(),F=I.x%T,R=I.y%T;for(r=0,e=this._latlngs.length;e>r;r++)if(t=this._map.latLngToContainerPoint(this._latlngs[r]),B.contains(t)){a=Math.floor((t.x-F)/T)+2,o=Math.floor((t.y-R)/T)+2;var ae=this._latlngs[r].alt!==void 0?this._latlngs[r].alt:this._latlngs[r][2]!==void 0?+this._latlngs[r][2]:1;h=ae*j,C[o]=C[o]||[],n=C[o][a],n?(n[0]=(n[0]*n[2]+t.x*h)/(n[2]+h),n[1]=(n[1]*n[2]+t.y*h)/(n[2]+h),n[2]+=h):C[o][a]=[t.x,t.y,h]}for(r=0,e=C.length;e>r;r++)if(C[r])for(c=0,d=C[r].length;d>c;c++)n=C[r][c],n&&m.push([Math.round(n[0]),Math.round(n[1]),Math.min(n[2],_)]);this._heat.data(m).draw(this.options.minOpacity),this._frame=null},_animateZoom:function(r){var e=this._map.getZoomScale(r.zoom),t=this._map._getCenterOffset(r.center)._multiplyBy(-e).subtract(this._map._getMapPanePos());L.DomUtil.setTransform?L.DomUtil.setTransform(this._canvas,t,e):this._canvas.style[L.DomUtil.TRANSFORM]=L.DomUtil.getTranslateString(t)+" scale("+e+")"}}),L.heatLayer=function(r,e){return new L.HeatLayer(r,e)};(function(r,e,t){function n(a,o){for(;(a=a.parentElement)&&!a.classList.contains(o););return a}L.drawVersion="1.0.4",L.Draw={},L.drawLocal={draw:{toolbar:{actions:{title:"Cancel drawing",text:"Cancel"},finish:{title:"Finish drawing",text:"Finish"},undo:{title:"Delete last point drawn",text:"Delete last point"},buttons:{polyline:"Draw a polyline",polygon:"Draw a polygon",rectangle:"Draw a rectangle",circle:"Draw a circle",marker:"Draw a marker",circlemarker:"Draw a circlemarker"}},handlers:{circle:{tooltip:{start:"Click and drag to draw circle."},radius:"Radius"},circlemarker:{tooltip:{start:"Click map to place circle marker."}},marker:{tooltip:{start:"Click map to place marker."}},polygon:{tooltip:{start:"Click to start drawing shape.",cont:"Click to continue drawing shape.",end:"Click first point to close this shape."}},polyline:{error:"<strong>Error:</strong> shape edges cannot cross!",tooltip:{start:"Click to start drawing line.",cont:"Click to continue drawing line.",end:"Click last point to finish line."}},rectangle:{tooltip:{start:"Click and drag to draw rectangle."}},simpleshape:{tooltip:{end:"Release mouse to finish drawing."}}}},edit:{toolbar:{actions:{save:{title:"Save changes",text:"Save"},cancel:{title:"Cancel editing, discards all changes",text:"Cancel"},clearAll:{title:"Clear all layers",text:"Clear All"}},buttons:{edit:"Edit layers",editDisabled:"No layers to edit",remove:"Delete layers",removeDisabled:"No layers to delete"}},handlers:{edit:{tooltip:{text:"Drag handles or markers to edit features.",subtext:"Click cancel to undo changes."}},remove:{tooltip:{text:"Click on a feature to remove."}}}}},L.Draw.Event={},L.Draw.Event.CREATED="draw:created",L.Draw.Event.EDITED="draw:edited",L.Draw.Event.DELETED="draw:deleted",L.Draw.Event.DRAWSTART="draw:drawstart",L.Draw.Event.DRAWSTOP="draw:drawstop",L.Draw.Event.DRAWVERTEX="draw:drawvertex",L.Draw.Event.EDITSTART="draw:editstart",L.Draw.Event.EDITMOVE="draw:editmove",L.Draw.Event.EDITRESIZE="draw:editresize",L.Draw.Event.EDITVERTEX="draw:editvertex",L.Draw.Event.EDITSTOP="draw:editstop",L.Draw.Event.DELETESTART="draw:deletestart",L.Draw.Event.DELETESTOP="draw:deletestop",L.Draw.Event.TOOLBAROPENED="draw:toolbaropened",L.Draw.Event.TOOLBARCLOSED="draw:toolbarclosed",L.Draw.Event.MARKERCONTEXT="draw:markercontext",L.Draw=L.Draw||{},L.Draw.Feature=L.Handler.extend({initialize:function(a,o){this._map=a,this._container=a._container,this._overlayPane=a._panes.overlayPane,this._popupPane=a._panes.popupPane,o&&o.shapeOptions&&(o.shapeOptions=L.Util.extend({},this.options.shapeOptions,o.shapeOptions)),L.setOptions(this,o);var c=L.version.split(".");parseInt(c[0],10)===1&&parseInt(c[1],10)>=2?L.Draw.Feature.include(L.Evented.prototype):L.Draw.Feature.include(L.Mixin.Events)},enable:function(){this._enabled||(L.Handler.prototype.enable.call(this),this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DRAWSTART,{layerType:this.type}))},disable:function(){this._enabled&&(L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DRAWSTOP,{layerType:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var a=this._map;a&&(L.DomUtil.disableTextSelection(),a.getContainer().focus(),this._tooltip=new L.Draw.Tooltip(this._map),L.DomEvent.on(this._container,"keyup",this._cancelDrawing,this))},removeHooks:function(){this._map&&(L.DomUtil.enableTextSelection(),this._tooltip.dispose(),this._tooltip=null,L.DomEvent.off(this._container,"keyup",this._cancelDrawing,this))},setOptions:function(a){L.setOptions(this,a)},_fireCreatedEvent:function(a){this._map.fire(L.Draw.Event.CREATED,{layer:a,layerType:this.type})},_cancelDrawing:function(a){a.keyCode===27&&(this._map.fire("draw:canceled",{layerType:this.type}),this.disable())}}),L.Draw.Polyline=L.Draw.Feature.extend({statics:{TYPE:"polyline"},Poly:L.Polyline,options:{allowIntersection:!0,repeatMode:!1,drawError:{color:"#b00b00",timeout:2500},icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),guidelineDistance:20,maxGuideLineLength:4e3,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!1,clickable:!0},metric:!0,feet:!0,nautic:!1,showLength:!0,zIndexOffset:2e3,factor:1,maxPoints:0},initialize:function(a,o){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this.options.drawError.message=L.drawLocal.draw.handlers.polyline.error,o&&o.drawError&&(o.drawError=L.Util.extend({},this.options.drawError,o.drawError)),this.type=L.Draw.Polyline.TYPE,L.Draw.Feature.prototype.initialize.call(this,a,o)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._markers=[],this._markerGroup=new L.LayerGroup,this._map.addLayer(this._markerGroup),this._poly=new L.Polyline([],this.options.shapeOptions),this._tooltip.updateContent(this._getTooltipText()),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("mouseout",this._onMouseOut,this).on("mousemove",this._onMouseMove,this).on("mousedown",this._onMouseDown,this).on("mouseup",this._onMouseUp,this).addTo(this._map),this._map.on("mouseup",this._onMouseUp,this).on("mousemove",this._onMouseMove,this).on("zoomlevelschange",this._onZoomEnd,this).on("touchstart",this._onTouch,this).on("zoomend",this._onZoomEnd,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._clearHideErrorTimeout(),this._cleanUpShape(),this._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers,this._map.removeLayer(this._poly),delete this._poly,this._mouseMarker.off("mousedown",this._onMouseDown,this).off("mouseout",this._onMouseOut,this).off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._clearGuides(),this._map.off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this).off("zoomlevelschange",this._onZoomEnd,this).off("zoomend",this._onZoomEnd,this).off("touchstart",this._onTouch,this).off("click",this._onTouch,this)},deleteLastVertex:function(){if(!(this._markers.length<=1)){var a=this._markers.pop(),o=this._poly,c=o.getLatLngs(),d=c.splice(-1,1)[0];this._poly.setLatLngs(c),this._markerGroup.removeLayer(a),o.getLatLngs().length<2&&this._map.removeLayer(o),this._vertexChanged(d,!1)}},addVertex:function(a){if(this._markers.length>=2&&!this.options.allowIntersection&&this._poly.newLatLngIntersects(a))return void this._showErrorTooltip();this._errorShown&&this._hideErrorTooltip(),this._markers.push(this._createMarker(a)),this._poly.addLatLng(a),this._poly.getLatLngs().length===2&&this._map.addLayer(this._poly),this._vertexChanged(a,!0)},completeShape:function(){this._markers.length<=1||!this._shapeIsValid()||(this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable())},_finishShape:function(){var a=this._poly._defaultShape?this._poly._defaultShape():this._poly.getLatLngs(),o=this._poly.newLatLngIntersects(a[a.length-1]);if(!this.options.allowIntersection&&o||!this._shapeIsValid())return void this._showErrorTooltip();this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_shapeIsValid:function(){return!0},_onZoomEnd:function(){this._markers!==null&&this._updateGuide()},_onMouseMove:function(a){var o=this._map.mouseEventToLayerPoint(a.originalEvent),c=this._map.layerPointToLatLng(o);this._currentLatLng=c,this._updateTooltip(c),this._updateGuide(o),this._mouseMarker.setLatLng(c),L.DomEvent.preventDefault(a.originalEvent)},_vertexChanged:function(a,o){this._map.fire(L.Draw.Event.DRAWVERTEX,{layers:this._markerGroup}),this._updateFinishHandler(),this._updateRunningMeasure(a,o),this._clearGuides(),this._updateTooltip()},_onMouseDown:function(a){if(!this._clickHandled&&!this._touchHandled&&!this._disableMarkers){this._onMouseMove(a),this._clickHandled=!0,this._disableNewMarkers();var o=a.originalEvent,c=o.clientX,d=o.clientY;this._startPoint.call(this,c,d)}},_startPoint:function(a,o){this._mouseDownOrigin=L.point(a,o)},_onMouseUp:function(a){var o=a.originalEvent,c=o.clientX,d=o.clientY;this._endPoint.call(this,c,d,a),this._clickHandled=null},_endPoint:function(a,o,c){if(this._mouseDownOrigin){var d=L.point(a,o).distanceTo(this._mouseDownOrigin),h=this._calculateFinishDistance(c.latlng);this.options.maxPoints>1&&this.options.maxPoints==this._markers.length+1?(this.addVertex(c.latlng),this._finishShape()):h<10&&L.Browser.touch?this._finishShape():Math.abs(d)<9*(r.devicePixelRatio||1)&&this.addVertex(c.latlng),this._enableNewMarkers()}this._mouseDownOrigin=null},_onTouch:function(a){var o,c,d=a.originalEvent;!d.touches||!d.touches[0]||this._clickHandled||this._touchHandled||this._disableMarkers||(o=d.touches[0].clientX,c=d.touches[0].clientY,this._disableNewMarkers(),this._touchHandled=!0,this._startPoint.call(this,o,c),this._endPoint.call(this,o,c,a),this._touchHandled=null),this._clickHandled=null},_onMouseOut:function(){this._tooltip&&this._tooltip._onMouseOut.call(this._tooltip)},_calculateFinishDistance:function(a){var o;if(this._markers.length>0){var c;if(this.type===L.Draw.Polyline.TYPE)c=this._markers[this._markers.length-1];else{if(this.type!==L.Draw.Polygon.TYPE)return 1/0;c=this._markers[0]}var d=this._map.latLngToContainerPoint(c.getLatLng()),h=new L.Marker(a,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset}),m=this._map.latLngToContainerPoint(h.getLatLng());o=d.distanceTo(m)}else o=1/0;return o},_updateFinishHandler:function(){var a=this._markers.length;a>1&&this._markers[a-1].on("click",this._finishShape,this),a>2&&this._markers[a-2].off("click",this._finishShape,this)},_createMarker:function(a){var o=new L.Marker(a,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset});return this._markerGroup.addLayer(o),o},_updateGuide:function(a){var o=this._markers?this._markers.length:0;o>0&&(a=a||this._map.latLngToLayerPoint(this._currentLatLng),this._clearGuides(),this._drawGuide(this._map.latLngToLayerPoint(this._markers[o-1].getLatLng()),a))},_updateTooltip:function(a){var o=this._getTooltipText();a&&this._tooltip.updatePosition(a),this._errorShown||this._tooltip.updateContent(o)},_drawGuide:function(a,o){var c,d,h,m=Math.floor(Math.sqrt(Math.pow(o.x-a.x,2)+Math.pow(o.y-a.y,2))),g=this.options.guidelineDistance,b=this.options.maxGuideLineLength,B=m>b?m-b:g;for(this._guidesContainer||(this._guidesContainer=L.DomUtil.create("div","leaflet-draw-guides",this._overlayPane));B<m;B+=this.options.guidelineDistance)c=B/m,d={x:Math.floor(a.x*(1-c)+c*o.x),y:Math.floor(a.y*(1-c)+c*o.y)},h=L.DomUtil.create("div","leaflet-draw-guide-dash",this._guidesContainer),h.style.backgroundColor=this._errorShown?this.options.drawError.color:this.options.shapeOptions.color,L.DomUtil.setPosition(h,d)},_updateGuideColor:function(a){if(this._guidesContainer)for(var o=0,c=this._guidesContainer.childNodes.length;o<c;o++)this._guidesContainer.childNodes[o].style.backgroundColor=a},_clearGuides:function(){if(this._guidesContainer)for(;this._guidesContainer.firstChild;)this._guidesContainer.removeChild(this._guidesContainer.firstChild)},_getTooltipText:function(){var a,o,c=this.options.showLength;return this._markers.length===0?a={text:L.drawLocal.draw.handlers.polyline.tooltip.start}:(o=c?this._getMeasurementString():"",a=this._markers.length===1?{text:L.drawLocal.draw.handlers.polyline.tooltip.cont,subtext:o}:{text:L.drawLocal.draw.handlers.polyline.tooltip.end,subtext:o}),a},_updateRunningMeasure:function(a,o){var c,d,h=this._markers.length;this._markers.length===1?this._measurementRunningTotal=0:(c=h-(o?2:1),d=L.GeometryUtil.isVersion07x()?a.distanceTo(this._markers[c].getLatLng())*(this.options.factor||1):this._map.distance(a,this._markers[c].getLatLng())*(this.options.factor||1),this._measurementRunningTotal+=d*(o?1:-1))},_getMeasurementString:function(){var a,o=this._currentLatLng,c=this._markers[this._markers.length-1].getLatLng();return a=L.GeometryUtil.isVersion07x()?c&&o&&o.distanceTo?this._measurementRunningTotal+o.distanceTo(c)*(this.options.factor||1):this._measurementRunningTotal||0:c&&o?this._measurementRunningTotal+this._map.distance(o,c)*(this.options.factor||1):this._measurementRunningTotal||0,L.GeometryUtil.readableDistance(a,this.options.metric,this.options.feet,this.options.nautic,this.options.precision)},_showErrorTooltip:function(){this._errorShown=!0,this._tooltip.showAsError().updateContent({text:this.options.drawError.message}),this._updateGuideColor(this.options.drawError.color),this._poly.setStyle({color:this.options.drawError.color}),this._clearHideErrorTimeout(),this._hideErrorTimeout=setTimeout(L.Util.bind(this._hideErrorTooltip,this),this.options.drawError.timeout)},_hideErrorTooltip:function(){this._errorShown=!1,this._clearHideErrorTimeout(),this._tooltip.removeError().updateContent(this._getTooltipText()),this._updateGuideColor(this.options.shapeOptions.color),this._poly.setStyle({color:this.options.shapeOptions.color})},_clearHideErrorTimeout:function(){this._hideErrorTimeout&&(clearTimeout(this._hideErrorTimeout),this._hideErrorTimeout=null)},_disableNewMarkers:function(){this._disableMarkers=!0},_enableNewMarkers:function(){setTimeout((function(){this._disableMarkers=!1}).bind(this),50)},_cleanUpShape:function(){this._markers.length>1&&this._markers[this._markers.length-1].off("click",this._finishShape,this)},_fireCreatedEvent:function(){var a=new this.Poly(this._poly.getLatLngs(),this.options.shapeOptions);L.Draw.Feature.prototype._fireCreatedEvent.call(this,a)}}),L.Draw.Polygon=L.Draw.Polyline.extend({statics:{TYPE:"polygon"},Poly:L.Polygon,options:{showArea:!1,showLength:!1,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},metric:!0,feet:!0,nautic:!1,precision:{}},initialize:function(a,o){L.Draw.Polyline.prototype.initialize.call(this,a,o),this.type=L.Draw.Polygon.TYPE},_updateFinishHandler:function(){var a=this._markers.length;a===1&&this._markers[0].on("click",this._finishShape,this),a>2&&(this._markers[a-1].on("dblclick",this._finishShape,this),a>3&&this._markers[a-2].off("dblclick",this._finishShape,this))},_getTooltipText:function(){var a,o;return this._markers.length===0?a=L.drawLocal.draw.handlers.polygon.tooltip.start:this._markers.length<3?(a=L.drawLocal.draw.handlers.polygon.tooltip.cont,o=this._getMeasurementString()):(a=L.drawLocal.draw.handlers.polygon.tooltip.end,o=this._getMeasurementString()),{text:a,subtext:o}},_getMeasurementString:function(){var a=this._area,o="";return a||this.options.showLength?(this.options.showLength&&(o=L.Draw.Polyline.prototype._getMeasurementString.call(this)),a&&(o+="<br>"+L.GeometryUtil.readableArea(a,this.options.metric,this.options.precision)),o):null},_shapeIsValid:function(){return this._markers.length>=3},_vertexChanged:function(a,o){var c;!this.options.allowIntersection&&this.options.showArea&&(c=this._poly.getLatLngs(),this._area=L.GeometryUtil.geodesicArea(c)),L.Draw.Polyline.prototype._vertexChanged.call(this,a,o)},_cleanUpShape:function(){var a=this._markers.length;a>0&&(this._markers[0].off("click",this._finishShape,this),a>2&&this._markers[a-1].off("dblclick",this._finishShape,this))}}),L.SimpleShape={},L.Draw.SimpleShape=L.Draw.Feature.extend({options:{repeatMode:!1},initialize:function(a,o){this._endLabelText=L.drawLocal.draw.handlers.simpleshape.tooltip.end,L.Draw.Feature.prototype.initialize.call(this,a,o)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._mapDraggable=this._map.dragging.enabled(),this._mapDraggable&&this._map.dragging.disable(),this._container.style.cursor="crosshair",this._tooltip.updateContent({text:this._initialLabelText}),this._map.on("mousedown",this._onMouseDown,this).on("mousemove",this._onMouseMove,this).on("touchstart",this._onMouseDown,this).on("touchmove",this._onMouseMove,this),e.addEventListener("touchstart",L.DomEvent.preventDefault,{passive:!1}))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._mapDraggable&&this._map.dragging.enable(),this._container.style.cursor="",this._map.off("mousedown",this._onMouseDown,this).off("mousemove",this._onMouseMove,this).off("touchstart",this._onMouseDown,this).off("touchmove",this._onMouseMove,this),L.DomEvent.off(e,"mouseup",this._onMouseUp,this),L.DomEvent.off(e,"touchend",this._onMouseUp,this),e.removeEventListener("touchstart",L.DomEvent.preventDefault),this._shape&&(this._map.removeLayer(this._shape),delete this._shape)),this._isDrawing=!1},_getTooltipText:function(){return{text:this._endLabelText}},_onMouseDown:function(a){this._isDrawing=!0,this._startLatLng=a.latlng,L.DomEvent.on(e,"mouseup",this._onMouseUp,this).on(e,"touchend",this._onMouseUp,this).preventDefault(a.originalEvent)},_onMouseMove:function(a){var o=a.latlng;this._tooltip.updatePosition(o),this._isDrawing&&(this._tooltip.updateContent(this._getTooltipText()),this._drawShape(o))},_onMouseUp:function(){this._shape&&this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()}}),L.Draw.Rectangle=L.Draw.SimpleShape.extend({statics:{TYPE:"rectangle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showArea:!0,metric:!0},initialize:function(a,o){this.type=L.Draw.Rectangle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.rectangle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,a,o)},disable:function(){this._enabled&&(this._isCurrentlyTwoClickDrawing=!1,L.Draw.SimpleShape.prototype.disable.call(this))},_onMouseUp:function(a){if(!this._shape&&!this._isCurrentlyTwoClickDrawing)return void(this._isCurrentlyTwoClickDrawing=!0);this._isCurrentlyTwoClickDrawing&&!n(a.target,"leaflet-pane")||L.Draw.SimpleShape.prototype._onMouseUp.call(this)},_drawShape:function(a){this._shape?this._shape.setBounds(new L.LatLngBounds(this._startLatLng,a)):(this._shape=new L.Rectangle(new L.LatLngBounds(this._startLatLng,a),this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var a=new L.Rectangle(this._shape.getBounds(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,a)},_getTooltipText:function(){var a,o,c,d=L.Draw.SimpleShape.prototype._getTooltipText.call(this),h=this._shape,m=this.options.showArea;return h&&(a=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),o=L.GeometryUtil.geodesicArea(a),c=m?L.GeometryUtil.readableArea(o,this.options.metric):""),{text:d.text,subtext:c}}}),L.Draw.Marker=L.Draw.Feature.extend({statics:{TYPE:"marker"},options:{icon:new L.Icon.Default,repeatMode:!1,zIndexOffset:2e3},initialize:function(a,o){this.type=L.Draw.Marker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.marker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,a,o)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._tooltip.updateContent({text:this._initialLabelText}),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("click",this._onClick,this).addTo(this._map),this._map.on("mousemove",this._onMouseMove,this),this._map.on("click",this._onTouch,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._map.off("click",this._onClick,this).off("click",this._onTouch,this),this._marker&&(this._marker.off("click",this._onClick,this),this._map.removeLayer(this._marker),delete this._marker),this._mouseMarker.off("click",this._onClick,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._map.off("mousemove",this._onMouseMove,this))},_onMouseMove:function(a){var o=a.latlng;this._tooltip.updatePosition(o),this._mouseMarker.setLatLng(o),this._marker?(o=this._mouseMarker.getLatLng(),this._marker.setLatLng(o)):(this._marker=this._createMarker(o),this._marker.on("click",this._onClick,this),this._map.on("click",this._onClick,this).addLayer(this._marker))},_createMarker:function(a){return new L.Marker(a,{icon:this.options.icon,zIndexOffset:this.options.zIndexOffset})},_onClick:function(){this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_onTouch:function(a){this._onMouseMove(a),this._onClick()},_fireCreatedEvent:function(){var a=new L.Marker.Touch(this._marker.getLatLng(),{icon:this.options.icon});L.Draw.Feature.prototype._fireCreatedEvent.call(this,a)}}),L.Draw.CircleMarker=L.Draw.Marker.extend({statics:{TYPE:"circlemarker"},options:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0,zIndexOffset:2e3},initialize:function(a,o){this.type=L.Draw.CircleMarker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circlemarker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,a,o)},_fireCreatedEvent:function(){var a=new L.CircleMarker(this._marker.getLatLng(),this.options);L.Draw.Feature.prototype._fireCreatedEvent.call(this,a)},_createMarker:function(a){return new L.CircleMarker(a,this.options)}}),L.Draw.Circle=L.Draw.SimpleShape.extend({statics:{TYPE:"circle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showRadius:!0,metric:!0,feet:!0,nautic:!1},initialize:function(a,o){this.type=L.Draw.Circle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,a,o)},_drawShape:function(a){if(L.GeometryUtil.isVersion07x())var o=this._startLatLng.distanceTo(a);else var o=this._map.distance(this._startLatLng,a);this._shape?this._shape.setRadius(o):(this._shape=new L.Circle(this._startLatLng,o,this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var a=new L.Circle(this._startLatLng,this._shape.getRadius(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,a)},_onMouseMove:function(a){var o,c=a.latlng,d=this.options.showRadius,h=this.options.metric;if(this._tooltip.updatePosition(c),this._isDrawing){this._drawShape(c),o=this._shape.getRadius().toFixed(1);var m="";d&&(m=L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(o,h,this.options.feet,this.options.nautic)),this._tooltip.updateContent({text:this._endLabelText,subtext:m})}}}),L.Edit=L.Edit||{},L.Edit.Marker=L.Handler.extend({initialize:function(a,o){this._marker=a,L.setOptions(this,o)},addHooks:function(){var a=this._marker;a.dragging.enable(),a.on("dragend",this._onDragEnd,a),this._toggleMarkerHighlight()},removeHooks:function(){var a=this._marker;a.dragging.disable(),a.off("dragend",this._onDragEnd,a),this._toggleMarkerHighlight()},_onDragEnd:function(a){var o=a.target;o.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:o})},_toggleMarkerHighlight:function(){var a=this._marker._icon;a&&(a.style.display="none",L.DomUtil.hasClass(a,"leaflet-edit-marker-selected")?(L.DomUtil.removeClass(a,"leaflet-edit-marker-selected"),this._offsetMarker(a,-4)):(L.DomUtil.addClass(a,"leaflet-edit-marker-selected"),this._offsetMarker(a,4)),a.style.display="")},_offsetMarker:function(a,o){var c=parseInt(a.style.marginTop,10)-o,d=parseInt(a.style.marginLeft,10)-o;a.style.marginTop=c+"px",a.style.marginLeft=d+"px"}}),L.Marker.addInitHook(function(){L.Edit.Marker&&(this.editing=new L.Edit.Marker(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.Poly=L.Handler.extend({initialize:function(a){this.latlngs=[a._latlngs],a._holes&&(this.latlngs=this.latlngs.concat(a._holes)),this._poly=a,this._poly.on("revert-edited",this._updateLatLngs,this)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._poly._latlngs)?this._poly._latlngs:this._poly._latlngs[0]:this._poly._latlngs},_eachVertexHandler:function(a){for(var o=0;o<this._verticesHandlers.length;o++)a(this._verticesHandlers[o])},addHooks:function(){this._initHandlers(),this._eachVertexHandler(function(a){a.addHooks()})},removeHooks:function(){this._eachVertexHandler(function(a){a.removeHooks()})},updateMarkers:function(){this._eachVertexHandler(function(a){a.updateMarkers()})},_initHandlers:function(){this._verticesHandlers=[];for(var a=0;a<this.latlngs.length;a++)this._verticesHandlers.push(new L.Edit.PolyVerticesEdit(this._poly,this.latlngs[a],this._poly.options.poly))},_updateLatLngs:function(a){this.latlngs=[a.layer._latlngs],a.layer._holes&&(this.latlngs=this.latlngs.concat(a.layer._holes))}}),L.Edit.PolyVerticesEdit=L.Handler.extend({options:{icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),drawError:{color:"#b00b00",timeout:1e3}},initialize:function(a,o,c){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this._poly=a,c&&c.drawError&&(c.drawError=L.Util.extend({},this.options.drawError,c.drawError)),this._latlngs=o,L.setOptions(this,c)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._latlngs)?this._latlngs:this._latlngs[0]:this._latlngs},addHooks:function(){var a=this._poly,o=a._path;a instanceof L.Polygon||(a.options.fill=!1,a.options.editing&&(a.options.editing.fill=!1)),o&&a.options.editing&&a.options.editing.className&&(a.options.original.className&&a.options.original.className.split(" ").forEach(function(c){L.DomUtil.removeClass(o,c)}),a.options.editing.className.split(" ").forEach(function(c){L.DomUtil.addClass(o,c)})),a.setStyle(a.options.editing),this._poly._map&&(this._map=this._poly._map,this._markerGroup||this._initMarkers(),this._poly._map.addLayer(this._markerGroup))},removeHooks:function(){var a=this._poly,o=a._path;o&&a.options.editing&&a.options.editing.className&&(a.options.editing.className.split(" ").forEach(function(c){L.DomUtil.removeClass(o,c)}),a.options.original.className&&a.options.original.className.split(" ").forEach(function(c){L.DomUtil.addClass(o,c)})),a.setStyle(a.options.original),a._map&&(a._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers)},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._markers=[];var a,o,c,d,h=this._defaultShape();for(a=0,c=h.length;a<c;a++)d=this._createMarker(h[a],a),d.on("click",this._onMarkerClick,this),d.on("contextmenu",this._onContextMenu,this),this._markers.push(d);var m,g;for(a=0,o=c-1;a<c;o=a++)(a!==0||L.Polygon&&this._poly instanceof L.Polygon)&&(m=this._markers[o],g=this._markers[a],this._createMiddleMarker(m,g),this._updatePrevNext(m,g))},_createMarker:function(a,o){var c=new L.Marker.Touch(a,{draggable:!0,icon:this.options.icon});return c._origLatLng=a,c._index=o,c.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._fireEdit,this).on("touchmove",this._onTouchMove,this).on("touchend",this._fireEdit,this).on("MSPointerMove",this._onTouchMove,this).on("MSPointerUp",this._fireEdit,this),this._markerGroup.addLayer(c),c},_onMarkerDragStart:function(){this._poly.fire("editstart")},_spliceLatLngs:function(){var a=this._defaultShape(),o=[].splice.apply(a,arguments);return this._poly._convertLatLngs(a,!0),this._poly.redraw(),o},_removeMarker:function(a){var o=a._index;this._markerGroup.removeLayer(a),this._markers.splice(o,1),this._spliceLatLngs(o,1),this._updateIndexes(o,-1),a.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._fireEdit,this).off("touchmove",this._onMarkerDrag,this).off("touchend",this._fireEdit,this).off("click",this._onMarkerClick,this).off("MSPointerMove",this._onTouchMove,this).off("MSPointerUp",this._fireEdit,this)},_fireEdit:function(){this._poly.edited=!0,this._poly.fire("edit"),this._poly._map.fire(L.Draw.Event.EDITVERTEX,{layers:this._markerGroup,poly:this._poly})},_onMarkerDrag:function(a){var o=a.target,c=this._poly,d=L.LatLngUtil.cloneLatLng(o._origLatLng);if(L.extend(o._origLatLng,o._latlng),c.options.poly){var h=c._map._editTooltip;if(!c.options.poly.allowIntersection&&c.intersects()){L.extend(o._origLatLng,d),o.setLatLng(d);var m=c.options.color;c.setStyle({color:this.options.drawError.color}),h&&h.updateContent({text:L.drawLocal.draw.handlers.polyline.error}),setTimeout(function(){c.setStyle({color:m}),h&&h.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext})},1e3)}}o._middleLeft&&o._middleLeft.setLatLng(this._getMiddleLatLng(o._prev,o)),o._middleRight&&o._middleRight.setLatLng(this._getMiddleLatLng(o,o._next)),this._poly._bounds._southWest=L.latLng(1/0,1/0),this._poly._bounds._northEast=L.latLng(-1/0,-1/0);var g=this._poly.getLatLngs();this._poly._convertLatLngs(g,!0),this._poly.redraw(),this._poly.fire("editdrag")},_onMarkerClick:function(a){var o=L.Polygon&&this._poly instanceof L.Polygon?4:3,c=a.target;this._defaultShape().length<o||(this._removeMarker(c),this._updatePrevNext(c._prev,c._next),c._middleLeft&&this._markerGroup.removeLayer(c._middleLeft),c._middleRight&&this._markerGroup.removeLayer(c._middleRight),c._prev&&c._next?this._createMiddleMarker(c._prev,c._next):c._prev?c._next||(c._prev._middleRight=null):c._next._middleLeft=null,this._fireEdit())},_onContextMenu:function(a){var o=a.target;this._poly,this._poly._map.fire(L.Draw.Event.MARKERCONTEXT,{marker:o,layers:this._markerGroup,poly:this._poly}),L.DomEvent.stopPropagation},_onTouchMove:function(a){var o=this._map.mouseEventToLayerPoint(a.originalEvent.touches[0]),c=this._map.layerPointToLatLng(o),d=a.target;L.extend(d._origLatLng,c),d._middleLeft&&d._middleLeft.setLatLng(this._getMiddleLatLng(d._prev,d)),d._middleRight&&d._middleRight.setLatLng(this._getMiddleLatLng(d,d._next)),this._poly.redraw(),this.updateMarkers()},_updateIndexes:function(a,o){this._markerGroup.eachLayer(function(c){c._index>a&&(c._index+=o)})},_createMiddleMarker:function(a,o){var c,d,h,m=this._getMiddleLatLng(a,o),g=this._createMarker(m);g.setOpacity(.6),a._middleRight=o._middleLeft=g,d=function(){g.off("touchmove",d,this);var b=o._index;g._index=b,g.off("click",c,this).on("click",this._onMarkerClick,this),m.lat=g.getLatLng().lat,m.lng=g.getLatLng().lng,this._spliceLatLngs(b,0,m),this._markers.splice(b,0,g),g.setOpacity(1),this._updateIndexes(b,1),o._index++,this._updatePrevNext(a,g),this._updatePrevNext(g,o),this._poly.fire("editstart")},h=function(){g.off("dragstart",d,this),g.off("dragend",h,this),g.off("touchmove",d,this),this._createMiddleMarker(a,g),this._createMiddleMarker(g,o)},c=function(){d.call(this),h.call(this),this._fireEdit()},g.on("click",c,this).on("dragstart",d,this).on("dragend",h,this).on("touchmove",d,this),this._markerGroup.addLayer(g)},_updatePrevNext:function(a,o){a&&(a._next=o),o&&(o._prev=a)},_getMiddleLatLng:function(a,o){var c=this._poly._map,d=c.project(a.getLatLng()),h=c.project(o.getLatLng());return c.unproject(d._add(h)._divideBy(2))}}),L.Polyline.addInitHook(function(){this.editing||(L.Edit.Poly&&(this.editing=new L.Edit.Poly(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()}))}),L.Edit=L.Edit||{},L.Edit.SimpleShape=L.Handler.extend({options:{moveIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move"}),resizeIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize"}),touchMoveIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move leaflet-touch-icon"}),touchResizeIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize leaflet-touch-icon"})},initialize:function(a,o){L.Browser.touch&&(this.options.moveIcon=this.options.touchMoveIcon,this.options.resizeIcon=this.options.touchResizeIcon),this._shape=a,L.Util.setOptions(this,o)},addHooks:function(){var a=this._shape;this._shape._map&&(this._map=this._shape._map,a.setStyle(a.options.editing),a._map&&(this._map=a._map,this._markerGroup||this._initMarkers(),this._map.addLayer(this._markerGroup)))},removeHooks:function(){var a=this._shape;if(a.setStyle(a.options.original),a._map){this._unbindMarker(this._moveMarker);for(var o=0,c=this._resizeMarkers.length;o<c;o++)this._unbindMarker(this._resizeMarkers[o]);this._resizeMarkers=null,this._map.removeLayer(this._markerGroup),delete this._markerGroup}this._map=null},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._createMoveMarker(),this._createResizeMarker()},_createMoveMarker:function(){},_createResizeMarker:function(){},_createMarker:function(a,o){var c=new L.Marker.Touch(a,{draggable:!0,icon:o,zIndexOffset:10});return this._bindMarker(c),this._markerGroup.addLayer(c),c},_bindMarker:function(a){a.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._onMarkerDragEnd,this).on("touchstart",this._onTouchStart,this).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onTouchEnd,this).on("MSPointerUp",this._onTouchEnd,this)},_unbindMarker:function(a){a.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._onMarkerDragEnd,this).off("touchstart",this._onTouchStart,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onTouchEnd,this).off("MSPointerUp",this._onTouchEnd,this)},_onMarkerDragStart:function(a){a.target.setOpacity(0),this._shape.fire("editstart")},_fireEdit:function(){this._shape.edited=!0,this._shape.fire("edit")},_onMarkerDrag:function(a){var o=a.target,c=o.getLatLng();o===this._moveMarker?this._move(c):this._resize(c),this._shape.redraw(),this._shape.fire("editdrag")},_onMarkerDragEnd:function(a){a.target.setOpacity(1),this._fireEdit()},_onTouchStart:function(a){if(L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,a),typeof this._getCorners=="function"){var o=this._getCorners(),c=a.target,d=c._cornerIndex;c.setOpacity(0),this._oppositeCorner=o[(d+2)%4],this._toggleCornerMarkers(0,d)}this._shape.fire("editstart")},_onTouchMove:function(a){var o=this._map.mouseEventToLayerPoint(a.originalEvent.touches[0]),c=this._map.layerPointToLatLng(o);return a.target===this._moveMarker?this._move(c):this._resize(c),this._shape.redraw(),!1},_onTouchEnd:function(a){a.target.setOpacity(1),this.updateMarkers(),this._fireEdit()},_move:function(){},_resize:function(){}}),L.Edit=L.Edit||{},L.Edit.Rectangle=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var a=this._shape.getBounds(),o=a.getCenter();this._moveMarker=this._createMarker(o,this.options.moveIcon)},_createResizeMarker:function(){var a=this._getCorners();this._resizeMarkers=[];for(var o=0,c=a.length;o<c;o++)this._resizeMarkers.push(this._createMarker(a[o],this.options.resizeIcon)),this._resizeMarkers[o]._cornerIndex=o},_onMarkerDragStart:function(a){L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,a);var o=this._getCorners(),c=a.target,d=c._cornerIndex;this._oppositeCorner=o[(d+2)%4],this._toggleCornerMarkers(0,d)},_onMarkerDragEnd:function(a){var o,c,d=a.target;d===this._moveMarker&&(o=this._shape.getBounds(),c=o.getCenter(),d.setLatLng(c)),this._toggleCornerMarkers(1),this._repositionCornerMarkers(),L.Edit.SimpleShape.prototype._onMarkerDragEnd.call(this,a)},_move:function(a){for(var o,c=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),d=this._shape.getBounds(),h=d.getCenter(),m=[],g=0,b=c.length;g<b;g++)o=[c[g].lat-h.lat,c[g].lng-h.lng],m.push([a.lat+o[0],a.lng+o[1]]);this._shape.setLatLngs(m),this._repositionCornerMarkers(),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})},_resize:function(a){var o;this._shape.setBounds(L.latLngBounds(a,this._oppositeCorner)),o=this._shape.getBounds(),this._moveMarker.setLatLng(o.getCenter()),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})},_getCorners:function(){var a=this._shape.getBounds();return[a.getNorthWest(),a.getNorthEast(),a.getSouthEast(),a.getSouthWest()]},_toggleCornerMarkers:function(a){for(var o=0,c=this._resizeMarkers.length;o<c;o++)this._resizeMarkers[o].setOpacity(a)},_repositionCornerMarkers:function(){for(var a=this._getCorners(),o=0,c=this._resizeMarkers.length;o<c;o++)this._resizeMarkers[o].setLatLng(a[o])}}),L.Rectangle.addInitHook(function(){L.Edit.Rectangle&&(this.editing=new L.Edit.Rectangle(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.CircleMarker=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var a=this._shape.getLatLng();this._moveMarker=this._createMarker(a,this.options.moveIcon)},_createResizeMarker:function(){this._resizeMarkers=[]},_move:function(a){if(this._resizeMarkers.length){var o=this._getResizeMarkerPoint(a);this._resizeMarkers[0].setLatLng(o)}this._shape.setLatLng(a),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})}}),L.CircleMarker.addInitHook(function(){L.Edit.CircleMarker&&(this.editing=new L.Edit.CircleMarker(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()})}),L.Edit=L.Edit||{},L.Edit.Circle=L.Edit.CircleMarker.extend({_createResizeMarker:function(){var a=this._shape.getLatLng(),o=this._getResizeMarkerPoint(a);this._resizeMarkers=[],this._resizeMarkers.push(this._createMarker(o,this.options.resizeIcon))},_getResizeMarkerPoint:function(a){var o=this._shape._radius*Math.cos(Math.PI/4),c=this._map.project(a);return this._map.unproject([c.x+o,c.y-o])},_resize:function(a){var o=this._moveMarker.getLatLng();L.GeometryUtil.isVersion07x()?radius=o.distanceTo(a):radius=this._map.distance(o,a),this._shape.setRadius(radius),this._map.editTooltip&&this._map._editTooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.subtext+"<br />"+L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(radius,!0,this.options.feet,this.options.nautic)}),this._shape.setRadius(radius),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})}}),L.Circle.addInitHook(function(){L.Edit.Circle&&(this.editing=new L.Edit.Circle(this),this.options.editable&&this.editing.enable())}),L.Map.mergeOptions({touchExtend:!0}),L.Map.TouchExtend=L.Handler.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane},addHooks:function(){L.DomEvent.on(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.on(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.on(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.on(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.on(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.on(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.on(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.on(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.on(this._container,"touchleave",this._onTouchLeave,this))},removeHooks:function(){L.DomEvent.off(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.off(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.off(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.off(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.off(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.off(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.off(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.off(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.off(this._container,"touchleave",this._onTouchLeave,this))},_touchEvent:function(a,o){var c={};if(a.touches!==void 0){if(!a.touches.length)return;c=a.touches[0]}else if(a.pointerType!=="touch"||(c=a,!this._filterClick(a)))return;var d=this._map.mouseEventToContainerPoint(c),h=this._map.mouseEventToLayerPoint(c),m=this._map.layerPointToLatLng(h);this._map.fire(o,{latlng:m,layerPoint:h,containerPoint:d,pageX:c.pageX,pageY:c.pageY,originalEvent:a})},_filterClick:function(a){var o=a.timeStamp||a.originalEvent.timeStamp,c=L.DomEvent._lastClick&&o-L.DomEvent._lastClick;return c&&c>100&&c<500||a.target._simulatedClick&&!a._simulated?(L.DomEvent.stop(a),!1):(L.DomEvent._lastClick=o,!0)},_onTouchStart:function(a){this._map._loaded&&this._touchEvent(a,"touchstart")},_onTouchEnd:function(a){this._map._loaded&&this._touchEvent(a,"touchend")},_onTouchCancel:function(a){if(this._map._loaded){var o="touchcancel";this._detectIE()&&(o="pointercancel"),this._touchEvent(a,o)}},_onTouchLeave:function(a){this._map._loaded&&this._touchEvent(a,"touchleave")},_onTouchMove:function(a){this._map._loaded&&this._touchEvent(a,"touchmove")},_detectIE:function(){var a=r.navigator.userAgent,o=a.indexOf("MSIE ");if(o>0)return parseInt(a.substring(o+5,a.indexOf(".",o)),10);if(a.indexOf("Trident/")>0){var c=a.indexOf("rv:");return parseInt(a.substring(c+3,a.indexOf(".",c)),10)}var d=a.indexOf("Edge/");return d>0&&parseInt(a.substring(d+5,a.indexOf(".",d)),10)}}),L.Map.addInitHook("addHandler","touchExtend",L.Map.TouchExtend),L.Marker.Touch=L.Marker.extend({_initInteraction:function(){return this.addInteractiveTarget?L.Marker.prototype._initInteraction.apply(this):this._initInteractionLegacy()},_initInteractionLegacy:function(){if(this.options.clickable){var a=this._icon,o=["dblclick","mousedown","mouseover","mouseout","contextmenu","touchstart","touchend","touchmove"];this._detectIE?o.concat(["MSPointerDown","MSPointerUp","MSPointerMove","MSPointerCancel"]):o.concat(["touchcancel"]),L.DomUtil.addClass(a,"leaflet-clickable"),L.DomEvent.on(a,"click",this._onMouseClick,this),L.DomEvent.on(a,"keypress",this._onKeyPress,this);for(var c=0;c<o.length;c++)L.DomEvent.on(a,o[c],this._fireMouseEvent,this);L.Handler.MarkerDrag&&(this.dragging=new L.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_detectIE:function(){var a=r.navigator.userAgent,o=a.indexOf("MSIE ");if(o>0)return parseInt(a.substring(o+5,a.indexOf(".",o)),10);if(a.indexOf("Trident/")>0){var c=a.indexOf("rv:");return parseInt(a.substring(c+3,a.indexOf(".",c)),10)}var d=a.indexOf("Edge/");return d>0&&parseInt(a.substring(d+5,a.indexOf(".",d)),10)}}),L.LatLngUtil={cloneLatLngs:function(a){for(var o=[],c=0,d=a.length;c<d;c++)Array.isArray(a[c])?o.push(L.LatLngUtil.cloneLatLngs(a[c])):o.push(this.cloneLatLng(a[c]));return o},cloneLatLng:function(a){return L.latLng(a.lat,a.lng)}},(function(){var a={km:2,ha:2,m:0,mi:2,ac:2,yd:0,ft:0,nm:2};L.GeometryUtil=L.extend(L.GeometryUtil||{},{geodesicArea:function(o){var c,d,h=o.length,m=0,g=Math.PI/180;if(h>2){for(var b=0;b<h;b++)c=o[b],d=o[(b+1)%h],m+=(d.lng-c.lng)*g*(2+Math.sin(c.lat*g)+Math.sin(d.lat*g));m=6378137*m*6378137/2}return Math.abs(m)},formattedNumber:function(o,c){var d=parseFloat(o).toFixed(c),h=L.drawLocal.format&&L.drawLocal.format.numeric,m=h&&h.delimiters,g=m&&m.thousands,b=m&&m.decimal;if(g||b){var B=d.split(".");d=g?B[0].replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+g):B[0],b=b||".",B.length>1&&(d=d+b+B[1])}return d},readableArea:function(o,c,g){var h,m,g=L.Util.extend({},a,g);return c?(m=["ha","m"],type=typeof c,type==="string"?m=[c]:type!=="boolean"&&(m=c),h=o>=1e6&&m.indexOf("km")!==-1?L.GeometryUtil.formattedNumber(1e-6*o,g.km)+" km":o>=1e4&&m.indexOf("ha")!==-1?L.GeometryUtil.formattedNumber(1e-4*o,g.ha)+" ha":L.GeometryUtil.formattedNumber(o,g.m)+" m"):(o/=.836127,h=o>=3097600?L.GeometryUtil.formattedNumber(o/3097600,g.mi)+" mi":o>=4840?L.GeometryUtil.formattedNumber(o/4840,g.ac)+" acres":L.GeometryUtil.formattedNumber(o,g.yd)+" yd"),h},readableDistance:function(o,c,d,h,b){var g,b=L.Util.extend({},a,b);switch(c?typeof c=="string"?c:"metric":d?"feet":h?"nauticalMile":"yards"){case"metric":g=o>1e3?L.GeometryUtil.formattedNumber(o/1e3,b.km)+" km":L.GeometryUtil.formattedNumber(o,b.m)+" m";break;case"feet":o*=3.28083,g=L.GeometryUtil.formattedNumber(o,b.ft)+" ft";break;case"nauticalMile":o*=.53996,g=L.GeometryUtil.formattedNumber(o/1e3,b.nm)+" nm";break;case"yards":default:o*=1.09361,g=o>1760?L.GeometryUtil.formattedNumber(o/1760,b.mi)+" miles":L.GeometryUtil.formattedNumber(o,b.yd)+" yd"}return g},isVersion07x:function(){var o=L.version.split(".");return parseInt(o[0],10)===0&&parseInt(o[1],10)===7}})})(),L.Util.extend(L.LineUtil,{segmentsIntersect:function(a,o,c,d){return this._checkCounterclockwise(a,c,d)!==this._checkCounterclockwise(o,c,d)&&this._checkCounterclockwise(a,o,c)!==this._checkCounterclockwise(a,o,d)},_checkCounterclockwise:function(a,o,c){return(c.y-a.y)*(o.x-a.x)>(o.y-a.y)*(c.x-a.x)}}),L.Polyline.include({intersects:function(){var a,o,c,d=this._getProjectedPoints(),h=d?d.length:0;if(this._tooFewPointsForIntersection())return!1;for(a=h-1;a>=3;a--)if(o=d[a-1],c=d[a],this._lineSegmentsIntersectsRange(o,c,a-2))return!0;return!1},newLatLngIntersects:function(a,o){return!!this._map&&this.newPointIntersects(this._map.latLngToLayerPoint(a),o)},newPointIntersects:function(a,o){var c=this._getProjectedPoints(),d=c?c.length:0,h=c?c[d-1]:null,m=d-2;return!this._tooFewPointsForIntersection(1)&&this._lineSegmentsIntersectsRange(h,a,m,o?1:0)},_tooFewPointsForIntersection:function(a){var o=this._getProjectedPoints(),c=o?o.length:0;return c+=a||0,!o||c<=3},_lineSegmentsIntersectsRange:function(a,o,c,d){var h,m,g=this._getProjectedPoints();d=d||0;for(var b=c;b>d;b--)if(h=g[b-1],m=g[b],L.LineUtil.segmentsIntersect(a,o,h,m))return!0;return!1},_getProjectedPoints:function(){if(!this._defaultShape)return this._originalPoints;for(var a=[],o=this._defaultShape(),c=0;c<o.length;c++)a.push(this._map.latLngToLayerPoint(o[c]));return a}}),L.Polygon.include({intersects:function(){var a,o,c,d,h=this._getProjectedPoints();return!this._tooFewPointsForIntersection()&&(!!L.Polyline.prototype.intersects.call(this)||(a=h.length,o=h[0],c=h[a-1],d=a-2,this._lineSegmentsIntersectsRange(c,o,d,1)))}}),L.Control.Draw=L.Control.extend({options:{position:"topleft",draw:{},edit:!1},initialize:function(a){if(L.version<"0.7")throw new Error("Leaflet.draw 0.2.3+ requires Leaflet 0.7.0+. Download latest from https://github.com/Leaflet/Leaflet/");L.Control.prototype.initialize.call(this,a);var o;this._toolbars={},L.DrawToolbar&&this.options.draw&&(o=new L.DrawToolbar(this.options.draw),this._toolbars[L.DrawToolbar.TYPE]=o,this._toolbars[L.DrawToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.EditToolbar&&this.options.edit&&(o=new L.EditToolbar(this.options.edit),this._toolbars[L.EditToolbar.TYPE]=o,this._toolbars[L.EditToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.toolbar=this},onAdd:function(a){var o,c=L.DomUtil.create("div","leaflet-draw"),d=!1;for(var h in this._toolbars)this._toolbars.hasOwnProperty(h)&&(o=this._toolbars[h].addToolbar(a))&&(d||(L.DomUtil.hasClass(o,"leaflet-draw-toolbar-top")||L.DomUtil.addClass(o.childNodes[0],"leaflet-draw-toolbar-top"),d=!0),c.appendChild(o));return c},onRemove:function(){for(var a in this._toolbars)this._toolbars.hasOwnProperty(a)&&this._toolbars[a].removeToolbar()},setDrawingOptions:function(a){for(var o in this._toolbars)this._toolbars[o]instanceof L.DrawToolbar&&this._toolbars[o].setOptions(a)},_toolbarEnabled:function(a){var o=a.target;for(var c in this._toolbars)this._toolbars[c]!==o&&this._toolbars[c].disable()}}),L.Map.mergeOptions({drawControlTooltips:!0,drawControl:!1}),L.Map.addInitHook(function(){this.options.drawControl&&(this.drawControl=new L.Control.Draw,this.addControl(this.drawControl))}),L.Toolbar=L.Class.extend({initialize:function(a){L.setOptions(this,a),this._modes={},this._actionButtons=[],this._activeMode=null;var o=L.version.split(".");parseInt(o[0],10)===1&&parseInt(o[1],10)>=2?L.Toolbar.include(L.Evented.prototype):L.Toolbar.include(L.Mixin.Events)},enabled:function(){return this._activeMode!==null},disable:function(){this.enabled()&&this._activeMode.handler.disable()},addToolbar:function(a){var o,c=L.DomUtil.create("div","leaflet-draw-section"),d=0,h=this._toolbarClass||"",m=this.getModeHandlers(a);for(this._toolbarContainer=L.DomUtil.create("div","leaflet-draw-toolbar leaflet-bar"),this._map=a,o=0;o<m.length;o++)m[o].enabled&&this._initModeHandler(m[o].handler,this._toolbarContainer,d++,h,m[o].title);if(d)return this._lastButtonIndex=--d,this._actionsContainer=L.DomUtil.create("ul","leaflet-draw-actions"),c.appendChild(this._toolbarContainer),c.appendChild(this._actionsContainer),c},removeToolbar:function(){for(var a in this._modes)this._modes.hasOwnProperty(a)&&(this._disposeButton(this._modes[a].button,this._modes[a].handler.enable,this._modes[a].handler),this._modes[a].handler.disable(),this._modes[a].handler.off("enabled",this._handlerActivated,this).off("disabled",this._handlerDeactivated,this));this._modes={};for(var o=0,c=this._actionButtons.length;o<c;o++)this._disposeButton(this._actionButtons[o].button,this._actionButtons[o].callback,this);this._actionButtons=[],this._actionsContainer=null},_initModeHandler:function(a,o,c,d,h){var m=a.type;this._modes[m]={},this._modes[m].handler=a,this._modes[m].button=this._createButton({type:m,title:h,className:d+"-"+m,container:o,callback:this._modes[m].handler.enable,context:this._modes[m].handler}),this._modes[m].buttonIndex=c,this._modes[m].handler.on("enabled",this._handlerActivated,this).on("disabled",this._handlerDeactivated,this)},_detectIOS:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!r.MSStream},_createButton:function(a){var o=L.DomUtil.create("a",a.className||"",a.container),c=L.DomUtil.create("span","sr-only",a.container);o.href="#",o.appendChild(c),a.title&&(o.title=a.title,c.innerHTML=a.title),a.text&&(o.innerHTML=a.text,c.innerHTML=a.text);var d=this._detectIOS()?"touchstart":"click";return L.DomEvent.on(o,"click",L.DomEvent.stopPropagation).on(o,"mousedown",L.DomEvent.stopPropagation).on(o,"dblclick",L.DomEvent.stopPropagation).on(o,"touchstart",L.DomEvent.stopPropagation).on(o,"click",L.DomEvent.preventDefault).on(o,d,a.callback,a.context),o},_disposeButton:function(a,o){var c=this._detectIOS()?"touchstart":"click";L.DomEvent.off(a,"click",L.DomEvent.stopPropagation).off(a,"mousedown",L.DomEvent.stopPropagation).off(a,"dblclick",L.DomEvent.stopPropagation).off(a,"touchstart",L.DomEvent.stopPropagation).off(a,"click",L.DomEvent.preventDefault).off(a,c,o)},_handlerActivated:function(a){this.disable(),this._activeMode=this._modes[a.handler],L.DomUtil.addClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._showActionsToolbar(),this.fire("enable")},_handlerDeactivated:function(){this._hideActionsToolbar(),L.DomUtil.removeClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._activeMode=null,this.fire("disable")},_createActions:function(a){var o,c,d,h,m=this._actionsContainer,g=this.getActions(a),b=g.length;for(c=0,d=this._actionButtons.length;c<d;c++)this._disposeButton(this._actionButtons[c].button,this._actionButtons[c].callback);for(this._actionButtons=[];m.firstChild;)m.removeChild(m.firstChild);for(var B=0;B<b;B++)"enabled"in g[B]&&!g[B].enabled||(o=L.DomUtil.create("li","",m),h=this._createButton({title:g[B].title,text:g[B].text,container:o,callback:g[B].callback,context:g[B].context}),this._actionButtons.push({button:h,callback:g[B].callback}))},_showActionsToolbar:function(){var a=this._activeMode.buttonIndex,o=this._lastButtonIndex,c=this._activeMode.button.offsetTop-1;this._createActions(this._activeMode.handler),this._actionsContainer.style.top=c+"px",a===0&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-top")),a===o&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-bottom")),this._actionsContainer.style.display="block",this._map.fire(L.Draw.Event.TOOLBAROPENED)},_hideActionsToolbar:function(){this._actionsContainer.style.display="none",L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-top"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-bottom"),this._map.fire(L.Draw.Event.TOOLBARCLOSED)}}),L.Draw=L.Draw||{},L.Draw.Tooltip=L.Class.extend({initialize:function(a){this._map=a,this._popupPane=a._panes.popupPane,this._visible=!1,this._container=a.options.drawControlTooltips?L.DomUtil.create("div","leaflet-draw-tooltip",this._popupPane):null,this._singleLineLabel=!1,this._map.on("mouseout",this._onMouseOut,this)},dispose:function(){this._map.off("mouseout",this._onMouseOut,this),this._container&&(this._popupPane.removeChild(this._container),this._container=null)},updateContent:function(a){return this._container?(a.subtext=a.subtext||"",a.subtext.length!==0||this._singleLineLabel?a.subtext.length>0&&this._singleLineLabel&&(L.DomUtil.removeClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!1):(L.DomUtil.addClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!0),this._container.innerHTML=(a.subtext.length>0?'<span class="leaflet-draw-tooltip-subtext">'+a.subtext+"</span><br />":"")+"<span>"+a.text+"</span>",a.text||a.subtext?(this._visible=!0,this._container.style.visibility="inherit"):(this._visible=!1,this._container.style.visibility="hidden"),this):this},updatePosition:function(a){var o=this._map.latLngToLayerPoint(a),c=this._container;return this._container&&(this._visible&&(c.style.visibility="inherit"),L.DomUtil.setPosition(c,o)),this},showAsError:function(){return this._container&&L.DomUtil.addClass(this._container,"leaflet-error-draw-tooltip"),this},removeError:function(){return this._container&&L.DomUtil.removeClass(this._container,"leaflet-error-draw-tooltip"),this},_onMouseOut:function(){this._container&&(this._container.style.visibility="hidden")}}),L.DrawToolbar=L.Toolbar.extend({statics:{TYPE:"draw"},options:{polyline:{},polygon:{},rectangle:{},circle:{},marker:{},circlemarker:{}},initialize:function(a){for(var o in this.options)this.options.hasOwnProperty(o)&&a[o]&&(a[o]=L.extend({},this.options[o],a[o]));this._toolbarClass="leaflet-draw-draw",L.Toolbar.prototype.initialize.call(this,a)},getModeHandlers:function(a){return[{enabled:this.options.polyline,handler:new L.Draw.Polyline(a,this.options.polyline),title:L.drawLocal.draw.toolbar.buttons.polyline},{enabled:this.options.polygon,handler:new L.Draw.Polygon(a,this.options.polygon),title:L.drawLocal.draw.toolbar.buttons.polygon},{enabled:this.options.rectangle,handler:new L.Draw.Rectangle(a,this.options.rectangle),title:L.drawLocal.draw.toolbar.buttons.rectangle},{enabled:this.options.circle,handler:new L.Draw.Circle(a,this.options.circle),title:L.drawLocal.draw.toolbar.buttons.circle},{enabled:this.options.marker,handler:new L.Draw.Marker(a,this.options.marker),title:L.drawLocal.draw.toolbar.buttons.marker},{enabled:this.options.circlemarker,handler:new L.Draw.CircleMarker(a,this.options.circlemarker),title:L.drawLocal.draw.toolbar.buttons.circlemarker}]},getActions:function(a){return[{enabled:a.completeShape,title:L.drawLocal.draw.toolbar.finish.title,text:L.drawLocal.draw.toolbar.finish.text,callback:a.completeShape,context:a},{enabled:a.deleteLastVertex,title:L.drawLocal.draw.toolbar.undo.title,text:L.drawLocal.draw.toolbar.undo.text,callback:a.deleteLastVertex,context:a},{title:L.drawLocal.draw.toolbar.actions.title,text:L.drawLocal.draw.toolbar.actions.text,callback:this.disable,context:this}]},setOptions:function(a){L.setOptions(this,a);for(var o in this._modes)this._modes.hasOwnProperty(o)&&a.hasOwnProperty(o)&&this._modes[o].handler.setOptions(a[o])}}),L.EditToolbar=L.Toolbar.extend({statics:{TYPE:"edit"},options:{edit:{selectedPathOptions:{dashArray:"10, 10",fill:!0,fillColor:"#fe57a1",fillOpacity:.1,maintainColor:!1}},remove:{},poly:null,featureGroup:null},initialize:function(a){a.edit&&(a.edit.selectedPathOptions===void 0&&(a.edit.selectedPathOptions=this.options.edit.selectedPathOptions),a.edit.selectedPathOptions=L.extend({},this.options.edit.selectedPathOptions,a.edit.selectedPathOptions)),a.remove&&(a.remove=L.extend({},this.options.remove,a.remove)),a.poly&&(a.poly=L.extend({},this.options.poly,a.poly)),this._toolbarClass="leaflet-draw-edit",L.Toolbar.prototype.initialize.call(this,a),this._selectedFeatureCount=0},getModeHandlers:function(a){var o=this.options.featureGroup;return[{enabled:this.options.edit,handler:new L.EditToolbar.Edit(a,{featureGroup:o,selectedPathOptions:this.options.edit.selectedPathOptions,poly:this.options.poly}),title:L.drawLocal.edit.toolbar.buttons.edit},{enabled:this.options.remove,handler:new L.EditToolbar.Delete(a,{featureGroup:o}),title:L.drawLocal.edit.toolbar.buttons.remove}]},getActions:function(a){var o=[{title:L.drawLocal.edit.toolbar.actions.save.title,text:L.drawLocal.edit.toolbar.actions.save.text,callback:this._save,context:this},{title:L.drawLocal.edit.toolbar.actions.cancel.title,text:L.drawLocal.edit.toolbar.actions.cancel.text,callback:this.disable,context:this}];return a.removeAllLayers&&o.push({title:L.drawLocal.edit.toolbar.actions.clearAll.title,text:L.drawLocal.edit.toolbar.actions.clearAll.text,callback:this._clearAllLayers,context:this}),o},addToolbar:function(a){var o=L.Toolbar.prototype.addToolbar.call(this,a);return this._checkDisabled(),this.options.featureGroup.on("layeradd layerremove",this._checkDisabled,this),o},removeToolbar:function(){this.options.featureGroup.off("layeradd layerremove",this._checkDisabled,this),L.Toolbar.prototype.removeToolbar.call(this)},disable:function(){this.enabled()&&(this._activeMode.handler.revertLayers(),L.Toolbar.prototype.disable.call(this))},_save:function(){this._activeMode.handler.save(),this._activeMode&&this._activeMode.handler.disable()},_clearAllLayers:function(){this._activeMode.handler.removeAllLayers(),this._activeMode&&this._activeMode.handler.disable()},_checkDisabled:function(){var a,o=this.options.featureGroup,c=o.getLayers().length!==0;this.options.edit&&(a=this._modes[L.EditToolbar.Edit.TYPE].button,c?L.DomUtil.removeClass(a,"leaflet-disabled"):L.DomUtil.addClass(a,"leaflet-disabled"),a.setAttribute("title",c?L.drawLocal.edit.toolbar.buttons.edit:L.drawLocal.edit.toolbar.buttons.editDisabled)),this.options.remove&&(a=this._modes[L.EditToolbar.Delete.TYPE].button,c?L.DomUtil.removeClass(a,"leaflet-disabled"):L.DomUtil.addClass(a,"leaflet-disabled"),a.setAttribute("title",c?L.drawLocal.edit.toolbar.buttons.remove:L.drawLocal.edit.toolbar.buttons.removeDisabled))}}),L.EditToolbar.Edit=L.Handler.extend({statics:{TYPE:"edit"},initialize:function(a,o){if(L.Handler.prototype.initialize.call(this,a),L.setOptions(this,o),this._featureGroup=o.featureGroup,!(this._featureGroup instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this._uneditedLayerProps={},this.type=L.EditToolbar.Edit.TYPE;var c=L.version.split(".");parseInt(c[0],10)===1&&parseInt(c[1],10)>=2?L.EditToolbar.Edit.include(L.Evented.prototype):L.EditToolbar.Edit.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.EDITSTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._featureGroup.on("layeradd",this._enableLayerEdit,this).on("layerremove",this._disableLayerEdit,this))},disable:function(){this._enabled&&(this._featureGroup.off("layeradd",this._enableLayerEdit,this).off("layerremove",this._disableLayerEdit,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.EDITSTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var a=this._map;a&&(a.getContainer().focus(),this._featureGroup.eachLayer(this._enableLayerEdit,this),this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}),a._editTooltip=this._tooltip,this._updateTooltip(),this._map.on("mousemove",this._onMouseMove,this).on("touchmove",this._onMouseMove,this).on("MSPointerMove",this._onMouseMove,this).on(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},removeHooks:function(){this._map&&(this._featureGroup.eachLayer(this._disableLayerEdit,this),this._uneditedLayerProps={},this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this).off("touchmove",this._onMouseMove,this).off("MSPointerMove",this._onMouseMove,this).off(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},revertLayers:function(){this._featureGroup.eachLayer(function(a){this._revertLayer(a)},this)},save:function(){var a=new L.LayerGroup;this._featureGroup.eachLayer(function(o){o.edited&&(a.addLayer(o),o.edited=!1)}),this._map.fire(L.Draw.Event.EDITED,{layers:a})},_backupLayer:function(a){var o=L.Util.stamp(a);this._uneditedLayerProps[o]||(a instanceof L.Polyline||a instanceof L.Polygon||a instanceof L.Rectangle?this._uneditedLayerProps[o]={latlngs:L.LatLngUtil.cloneLatLngs(a.getLatLngs())}:a instanceof L.Circle?this._uneditedLayerProps[o]={latlng:L.LatLngUtil.cloneLatLng(a.getLatLng()),radius:a.getRadius()}:(a instanceof L.Marker||a instanceof L.CircleMarker)&&(this._uneditedLayerProps[o]={latlng:L.LatLngUtil.cloneLatLng(a.getLatLng())}))},_getTooltipText:function(){return{text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}},_updateTooltip:function(){this._tooltip.updateContent(this._getTooltipText())},_revertLayer:function(a){var o=L.Util.stamp(a);a.edited=!1,this._uneditedLayerProps.hasOwnProperty(o)&&(a instanceof L.Polyline||a instanceof L.Polygon||a instanceof L.Rectangle?a.setLatLngs(this._uneditedLayerProps[o].latlngs):a instanceof L.Circle?(a.setLatLng(this._uneditedLayerProps[o].latlng),a.setRadius(this._uneditedLayerProps[o].radius)):(a instanceof L.Marker||a instanceof L.CircleMarker)&&a.setLatLng(this._uneditedLayerProps[o].latlng),a.fire("revert-edited",{layer:a}))},_enableLayerEdit:function(a){var o,c,d=a.layer||a.target||a;this._backupLayer(d),this.options.poly&&(c=L.Util.extend({},this.options.poly),d.options.poly=c),this.options.selectedPathOptions&&(o=L.Util.extend({},this.options.selectedPathOptions),o.maintainColor&&(o.color=d.options.color,o.fillColor=d.options.fillColor),d.options.original=L.extend({},d.options),d.options.editing=o),d instanceof L.Marker?(d.editing&&d.editing.enable(),d.dragging.enable(),d.on("dragend",this._onMarkerDragEnd).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onMarkerDragEnd,this).on("MSPointerUp",this._onMarkerDragEnd,this)):d.editing.enable()},_disableLayerEdit:function(a){var o=a.layer||a.target||a;o.edited=!1,o.editing&&o.editing.disable(),delete o.options.editing,delete o.options.original,this._selectedPathOptions&&(o instanceof L.Marker?this._toggleMarkerHighlight(o):(o.setStyle(o.options.previousOptions),delete o.options.previousOptions)),o instanceof L.Marker?(o.dragging.disable(),o.off("dragend",this._onMarkerDragEnd,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onMarkerDragEnd,this).off("MSPointerUp",this._onMarkerDragEnd,this)):o.editing.disable()},_onMouseMove:function(a){this._tooltip.updatePosition(a.latlng)},_onMarkerDragEnd:function(a){var o=a.target;o.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:o})},_onTouchMove:function(a){var o=a.originalEvent.changedTouches[0],c=this._map.mouseEventToLayerPoint(o),d=this._map.layerPointToLatLng(c);a.target.setLatLng(d)},_hasAvailableLayers:function(){return this._featureGroup.getLayers().length!==0}}),L.EditToolbar.Delete=L.Handler.extend({statics:{TYPE:"remove"},initialize:function(a,o){if(L.Handler.prototype.initialize.call(this,a),L.Util.setOptions(this,o),this._deletableLayers=this.options.featureGroup,!(this._deletableLayers instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this.type=L.EditToolbar.Delete.TYPE;var c=L.version.split(".");parseInt(c[0],10)===1&&parseInt(c[1],10)>=2?L.EditToolbar.Delete.include(L.Evented.prototype):L.EditToolbar.Delete.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DELETESTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._deletableLayers.on("layeradd",this._enableLayerDelete,this).on("layerremove",this._disableLayerDelete,this))},disable:function(){this._enabled&&(this._deletableLayers.off("layeradd",this._enableLayerDelete,this).off("layerremove",this._disableLayerDelete,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DELETESTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var a=this._map;a&&(a.getContainer().focus(),this._deletableLayers.eachLayer(this._enableLayerDelete,this),this._deletedLayers=new L.LayerGroup,this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.remove.tooltip.text}),this._map.on("mousemove",this._onMouseMove,this))},removeHooks:function(){this._map&&(this._deletableLayers.eachLayer(this._disableLayerDelete,this),this._deletedLayers=null,this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this))},revertLayers:function(){this._deletedLayers.eachLayer(function(a){this._deletableLayers.addLayer(a),a.fire("revert-deleted",{layer:a})},this)},save:function(){this._map.fire(L.Draw.Event.DELETED,{layers:this._deletedLayers})},removeAllLayers:function(){this._deletableLayers.eachLayer(function(a){this._removeLayer({layer:a})},this),this.save()},_enableLayerDelete:function(a){(a.layer||a.target||a).on("click",this._removeLayer,this)},_disableLayerDelete:function(a){var o=a.layer||a.target||a;o.off("click",this._removeLayer,this),this._deletedLayers.removeLayer(o)},_removeLayer:function(a){var o=a.layer||a.target||a;this._deletableLayers.removeLayer(o),this._deletedLayers.addLayer(o),o.fire("deleted")},_onMouseMove:function(a){this._tooltip.updatePosition(a.latlng)},_hasAvailableLayers:function(){return this._deletableLayers.getLayers().length!==0}})})(window,document);var hx={exports:{}},fx,K_;function GD(){if(K_)return fx;K_=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return fx=r,fx}var px,G_;function VD(){if(G_)return px;G_=1;var r=GD();function e(){}function t(){}return t.resetWarningCache=e,px=function(){function n(c,d,h,m,g,b){if(b!==r){var B=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw B.name="Invariant Violation",B}}n.isRequired=n;function a(){return n}var o={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:a,element:n,elementType:n,instanceOf:a,node:n,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:t,resetWarningCache:e};return o.PropTypes=o,o},px}var V_;function ZD(){return V_||(V_=1,hx.exports=VD()()),hx.exports}var un=ZD(),mx,Z_;function $D(){return Z_||(Z_=1,mx=function r(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,a,o;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(a=n;a--!==0;)if(!r(e[a],t[a]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(a=n;a--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[a]))return!1;for(a=n;a--!==0;){var c=o[a];if(!r(e[c],t[c]))return!1}return!0}return e!==e&&t!==t}),mx}var YD=$D();const $_=Rh(YD);function Dh(r){"@babel/helpers - typeof";return Dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dh(r)}function Y_(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function Nh(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Y_(Object(t),!0).forEach(function(n){XD(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Y_(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function XD(r,e,t){return(e=JD(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function JD(r){var e=WD(r,"string");return Dh(e)=="symbol"?e:e+""}function WD(r,e){if(Dh(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(Dh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var Oc={onEdited:"draw:edited",onDrawStart:"draw:drawstart",onDrawStop:"draw:drawstop",onDrawVertex:"draw:drawvertex",onEditStart:"draw:editstart",onEditMove:"draw:editmove",onEditResize:"draw:editresize",onEditVertex:"draw:editvertex",onEditStop:"draw:editstop",onDeleted:"draw:deleted",onDeleteStart:"draw:deletestart",onDeleteStop:"draw:deletestop"};function nv(r){var e=fd(),t=q.useRef(),n=q.useRef(r),a=function(c){var d=r.onCreated,h=e.layerContainer||e.map;h.addLayer(c.layer),d&&d(c)};return Ot.useEffect(function(){var o=e.map,c=r.onMounted;for(var d in Oc)o.on(Oc[d],function(h){var m=Object.keys(Oc).filter(function(b){return Oc[b]===h.type});if(m.length===1){var g=m[0];r[g]&&r[g](h)}});return o.on(ma.Draw.Event.CREATED,a),t.current=X_(r,e),o.addControl(t.current),c&&c(t.current),function(){o.off(ma.Draw.Event.CREATED,a);for(var h in Oc)r[h]&&o.off(Oc[h],r[h]);t.current.remove(o)}},[r.onCreated,r.onDeleted,r.onEdited]),Ot.useEffect(function(){if(!($_(r.draw,n.current.draw)&&$_(r.edit,n.current.edit)&&r.position===n.current.position)){var o=e.map;t.current.remove(o),t.current=X_(r,e),t.current.addTo(o);var c=r.onMounted;return c&&c(t.current),function(){t.current.remove(o)}}},[r.draw,r.edit,r.position,r.onCreated,r.onDeleted,r.onEdited]),null}function X_(r,e){var t=e.layerContainer,n=r.draw,a=r.edit,o=r.position,c={edit:Nh(Nh({},a),{},{featureGroup:t})};return n&&(c.draw=Nh({},n)),o&&(c.position=o),new UA.Control.Draw(c)}nv.propTypes=Nh(Nh({},Object.keys(Oc).reduce(function(r,e){return r[e]=un.PropTypes.func,r},{})),{},{onCreated:un.PropTypes.func,onMounted:un.PropTypes.func,draw:un.PropTypes.shape({polyline:un.PropTypes.oneOfType([un.PropTypes.object,un.PropTypes.bool]),polygon:un.PropTypes.oneOfType([un.PropTypes.object,un.PropTypes.bool]),rectangle:un.PropTypes.oneOfType([un.PropTypes.object,un.PropTypes.bool]),circle:un.PropTypes.oneOfType([un.PropTypes.object,un.PropTypes.bool]),marker:un.PropTypes.oneOfType([un.PropTypes.object,un.PropTypes.bool])}),edit:un.PropTypes.shape({edit:un.PropTypes.oneOfType([un.PropTypes.object,un.PropTypes.bool]),remove:un.PropTypes.oneOfType([un.PropTypes.object,un.PropTypes.bool]),poly:un.PropTypes.oneOfType([un.PropTypes.object,un.PropTypes.bool]),allowIntersection:un.PropTypes.bool}),position:un.PropTypes.oneOf(["topright","topleft","bottomright","bottomleft"]),leaflet:un.PropTypes.shape({map:un.PropTypes.instanceOf(UA.Map),layerContainer:un.PropTypes.shape({addLayer:un.PropTypes.func.isRequired,removeLayer:un.PropTypes.func.isRequired})})});const J_={lat:-17.7915,lng:-50.9197},W_="Rio Verde, GO",Do={error:r=>alert(r),success:r=>alert(r)},eR=()=>{const r=ma.GeometryUtil;if(!r||r._gpReadableAreaPatched)return;r._gpReadableAreaPatched=!0;const e={km:2,ha:2,m:0,mi:2,ac:2,yd:0,ft:0,nm:2};r.readableArea=(t,n,a)=>{const o=ma.Util.extend({},e,a);let c=["ha","m"];const d=typeof n;if(n)return d==="string"?c=[n]:d!=="boolean"&&(c=n),t>=1e6&&c.indexOf("km")!==-1?`${r.formattedNumber(t/1e6,o.km)} km2`:t>=1e4&&c.indexOf("ha")!==-1?`${r.formattedNumber(t/1e4,o.ha)} ha`:`${r.formattedNumber(t,o.m)} m2`;const h=t/.836127;return h>=3097600?`${r.formattedNumber(h/3097600,o.mi)} mi2`:h>=4840?`${r.formattedNumber(h/4840,o.ac)} acres`:`${r.formattedNumber(h,o.yd)} yd2`}},e5=r=>{if(!r)return null;if(Array.isArray(r)&&r.length>=2){const e=Number(r[0]),t=Number(r[1]);return Number.isFinite(e)&&Number.isFinite(t)?[e,t]:null}if(typeof r=="object"){const e=Number(r.lat??r.latitude),t=Number(r.lng??r.lon??r.longitude);if(Number.isFinite(e)&&Number.isFinite(t))return[e,t]}return null},zu=r=>{if(!r)return null;let e=r;if(typeof e=="string")try{e=JSON.parse(e)}catch{return null}if(e&&typeof e=="object"&&!Array.isArray(e)){const n=e,a=n.type==="Feature"?n.geometry:n,o=a==null?void 0:a.coordinates,c=a==null?void 0:a.type;if(c==="Polygon"&&Array.isArray(o))return o.map(d=>Array.isArray(d)?d.map(h=>[Number(h==null?void 0:h[1]),Number(h==null?void 0:h[0])]).filter(h=>Number.isFinite(h[0])&&Number.isFinite(h[1])):[]).filter(d=>d.length>2);if(c==="MultiPolygon"&&Array.isArray(o)&&Array.isArray(o[0]))return o[0].map(h=>Array.isArray(h)?h.map(m=>[Number(m==null?void 0:m[1]),Number(m==null?void 0:m[0])]).filter(m=>Number.isFinite(m[0])&&Number.isFinite(m[1])):[]).filter(h=>h.length>2)}if(!Array.isArray(e)||e.length===0)return null;if(Array.isArray(e[0])&&Array.isArray(e[0][0])){const n=e[0][0];if(Array.isArray(n)&&n.length===2&&!Array.isArray(n[0]))return e.map(o=>o.map(c=>e5([c[1],c[0]])).filter(Boolean)).filter(o=>o.length>2)}const t=e.map(n=>Array.isArray(n)?n.map(a=>e5(a)).filter(a=>!!a):[]).filter(n=>n.length>2);return t.length?t:null},tR=r=>!r||!r.length?null:{type:"Polygon",coordinates:r.map(t=>t.map(([n,a])=>[a,n]))},rR=()=>{const r=pd();return q.useEffect(()=>{const e=()=>r.invalidateSize(),t=r.getContainer(),n=()=>e();window.addEventListener("resize",n);let a=null;typeof ResizeObserver<"u"&&(a=new ResizeObserver(()=>e()),a.observe(t));const o=setTimeout(e,50),c=setTimeout(e,250),d=setTimeout(e,800);return()=>{clearTimeout(o),clearTimeout(c),clearTimeout(d),window.removeEventListener("resize",n),a&&a.disconnect()}},[r]),null},nR=({onClose:r})=>{const[e,t]=q.useState([]),[n,a]=q.useState([]),[o,c]=q.useState("realtime"),[d,h]=q.useState("map"),[m,g]=q.useState(null),[b,B]=q.useState(!1),[_,k]=q.useState(""),[j,T]=q.useState("#f97316"),[C,I]=q.useState(null),[F,R]=q.useState(!1),[ae,Z]=q.useState(null),[me,ee]=q.useState(""),[H,W]=q.useState({}),[K,$]=q.useState("0"),[re,le]=q.useState(""),[ge,Y]=q.useState(W_),[pe,z]=q.useState(!1),[ve,we]=q.useState(null),[V,O]=q.useState(null),[G,Q]=q.useState(""),oe=useLiveQuery(()=>{var Ne;return(Ne=db.service_orders)==null?void 0:Ne.toArray()},[]),ce=useLiveQuery(()=>{var Ne;return(Ne=db.delivery_zones)==null?void 0:Ne.toArray()},[]),Be=useLiveQuery(()=>{var Ne;return(Ne=db.zone_pricing)==null?void 0:Ne.toArray()},[]),Se=useLiveQuery(()=>{var Ne;return(Ne=db.deposits)==null?void 0:Ne.toArray()},[]),Fe=useLiveQuery(()=>{var Ne;return(Ne=db.delivery_zones)==null?void 0:Ne.toArray()},[]),He=q.useRef(null),it=q.useRef(null),Re=q.useRef([]),_t=q.useRef([]),It=q.useRef(()=>{}),he=q.useRef(null),ct=q.useMemo(()=>{const Ne=new Map;return(Be??[]).forEach(et=>{var ft;Ne.has(et.deposit_id)||Ne.set(et.deposit_id,new Map),(ft=Ne.get(et.deposit_id))==null||ft.set(et.zone_id,Number(et.price??0))}),Ne},[Be]),yt=q.useCallback(()=>{g(null),k(""),T("#f97316"),ee(""),I(null),he.current&&he.current.clearLayers()},[]);q.useEffect(()=>{eR()},[]);const qt=q.useCallback(async()=>{const Ne=_.trim();if(!Ne){alert("Informe o nome da zona");return}if(!C||C.length===0){alert("Desenhe a rea da zona no mapa antes de salvar.");return}R(!0);try{const et={id:m??void 0,name:Ne,color:j,deposit_id:null,fee:0,map_polygon:tR(C)??C},ft=await upsertDeliveryZone(et);if(ae&&me.trim()!==""){const Lt=Number(me);await upsertZonePricing({id:`${ae}:${ft.id}`,deposit_id:ae,zone_id:ft.id,price:Number.isFinite(Lt)?Lt:0})}g(ft.id),alert("Zona salva com sucesso")}catch(et){alert((et==null?void 0:et.message)||"Falha ao salvar zona")}finally{R(!1)}},[_,C,m,j,ae,me]),$e=q.useCallback(Ne=>{if(!Ne||!Ne.length||!He.current)return;const et=ma.polygon(Ne);He.current.fitBounds(et.getBounds(),{padding:[24,24]})},[]),Zt=q.useCallback(()=>{if(!He.current||!ce||ce.length===0)return;const Ne=[];if(ce.forEach(ft=>{const Lt=zu(ft.map_polygon);Lt&&Lt.forEach(Ut=>{Ut.forEach(Et=>Ne.push(Et))})}),Ne.length===0)return;const et=ma.latLngBounds(Ne);He.current.fitBounds(et,{padding:[32,32],maxZoom:17})},[ce]),Qt=async()=>{const Ne=re.trim();if(!(!Ne||!He.current)){z(!0),we(null),O(null);try{const et=ge.trim()||W_,{data:ft}=await Vs.get("https://nominatim.openstreetmap.org/search",{params:{format:"jsonv2",q:`${Ne}, ${et}`,polygon_geojson:1,addressdetails:1,limit:5,countrycodes:"br"},headers:{"Accept-Language":"pt-BR"}}),Lt=Array.isArray(ft)?ft:[];if(!Lt.length){O("Nenhum resultado encontrado. Desenhe manualmente.");return}const Ut=Lt[0],Et=Number(Ut==null?void 0:Ut.lat),xr=Number(Ut==null?void 0:Ut.lon);if(!Number.isFinite(Et)||!Number.isFinite(xr)){we("Localizao invlida.");return}!m&&!b&&(B(!0),_||k(Ne)),He.current.flyTo([Et,xr],15),O("Endereo encontrado. Desenhe a rea manualmente no mapa.")}catch{we("Falha ao buscar endereo.")}finally{z(!1)}}},kt=async Ne=>{if(confirm("Excluir esta zona?"))try{await deleteDeliveryZone(Ne),m===Ne&&(g(null),I(null)),Do.success("Zona excluda")}catch(et){Do.error((et==null?void 0:et.message)||"Erro ao excluir zona")}},Kt=async Ne=>{if(!ae){Do.error("Selecione um depsito para salvar preo.");return}const et=H[Ne]??"",ft=Number(String(et).replace(",","."));if(!Number.isFinite(ft)){Do.error("Preo invlido.");return}try{await upsertZonePricing({id:`${ae}:${Ne}`,zone_id:Ne,deposit_id:ae,price:ft}),Do.success("Preo salvo")}catch{Do.error("Erro ao salvar preo")}},Jt=async()=>{if(!ae||!Se)return;const Ne=Se.find(ft=>ft.id===ae);if(!Ne)return;const et=Number(K||0)||0;try{await upsertDeposit({...Ne,free_shipping_min_value:et}),Do.success("Frete grtis atualizado")}catch{Do.error("Erro ao salvar frete grtis")}},mr=async()=>{if(!(!m||!G.trim()))try{await upsertDeliverySector({id:crypto.randomUUID(),zone_id:m,name:G.trim()}),Q(""),Do.success("Setor adicionado")}catch{Do.error("Erro ao adicionar setor")}},Yt=async Ne=>{if(confirm("Excluir este setor?"))try{await deleteDeliverySector(Ne),Do.success("Setor excludo")}catch{Do.error("Erro ao excluir setor")}},ar=q.useMemo(()=>Se==null?void 0:Se.find(Ne=>Ne.id===ae),[Se,ae]),cr=q.useMemo(()=>(Fe??[]).filter(Ne=>Ne.zone_id===m),[Fe,m]),Ht=q.useMemo(()=>{const Ne=new Map;if(!ae)return Ne;for(const et of Be??[])et.deposit_id===ae&&Ne.set(et.zone_id,et);return Ne},[Be,ae]);q.useMemo(()=>(ce??[]).filter(Ne=>Ne.id!==m).map(Ne=>({id:Ne.id,name:Ne.name,color:Ne.color||"#f97316",polygon:zu(Ne.map_polygon)})).filter(Ne=>Ne.polygon),[ce,m]),q.useMemo(()=>{if(!m||!ce)return null;const Ne=ce.find(et=>et.id===m);return Ne?zu(Ne.map_polygon):null},[m,ce]),q.useEffect(()=>{const Ne=requestAnimationFrame(()=>It.current()),et=setTimeout(()=>It.current(),200),ft=setTimeout(()=>It.current(),800),Lt=setTimeout(()=>Zt(),1e3);return()=>{cancelAnimationFrame(Ne),clearTimeout(et),clearTimeout(ft),clearTimeout(Lt)}},[Zt]),q.useEffect(()=>{const Ne=()=>{a(getDriverLocations())};Ne();const et=setInterval(Ne,5e3);return()=>clearInterval(et)},[]),q.useEffect(()=>{if(oe!==void 0){if(oe.length>0){t(oe);return}t(getOrders())}},[oe]),q.useEffect(()=>{ae||!Se||Se.length===0||Z(Se[0].id)},[Se,ae]),q.useEffect(()=>{if(!ce)return;const Ne=m?ce.find(et=>et.id===m):null;if(!Ne){k(""),T("#f97316"),I(null),Zt();return}k(Ne.name??""),T(Ne.color??"#f97316"),I(zu(Ne.map_polygon))},[m,ce,Zt]),q.useEffect(()=>{if(!ae||!m||!Be){ee("");return}const Ne=Be.find(et=>et.zone_id===m&&et.deposit_id===ae);ee(Ne?String(Ne.price??""):"")},[ae,m,Be]),q.useEffect(()=>{if(!ae||!ce){W({});return}const Ne={};for(const et of ce){const ft=Ht.get(et.id);Ne[et.id]=ft?String(ft.price??0):""}W(Ne)},[ae,ce,Ht]),q.useEffect(()=>{if(!ar)return;const Ne=ar.free_shipping_min_value??ar.freeShippingMinValue??0;$(String(Number(Ne)||0))},[ar]),q.useEffect(()=>{if(!he.current||(he.current.clearLayers(),!C||C.length===0))return;const Ne=ma.polygon(C,{color:j,fillColor:j,fillOpacity:.25,weight:2});he.current.addLayer(Ne),He.current&&He.current.fitBounds(Ne.getBounds(),{padding:[24,24]})},[C,j]),q.useEffect(()=>{if(He.current){if(it.current&&(He.current.removeLayer(it.current),it.current=null),Re.current.forEach(Ne=>Ne.remove()),Re.current=[],_t.current.forEach(Ne=>Ne.remove()),_t.current=[],o==="heatmap"){const Ne=e.filter(et=>et.latitude&&et.longitude).map(et=>[et.latitude,et.longitude,.8]);ma.heatLayer&&(it.current=ma.heatLayer(Ne,{radius:25,blur:15,maxZoom:17}).addTo(He.current))}o==="realtime"&&(n.forEach(Ne=>{const ft=ma.divIcon({html:`
          <div style="background-color:#ef4444; width:32px; height:32px; border-radius:50%; border:2px solid white; box-shadow:0 0 10px rgba(239,68,68,0.5); display:flex; align-items:center; justify-content:center; color:white;">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="1" y="3" width="15" height="13"></rect><polygon points="16 8 20 8 23 11 23 16 16 16 16 8"></polygon><circle cx="5.5" cy="18.5" r="2.5"></circle><circle cx="18.5" cy="18.5" r="2.5"></circle></svg>
          </div>
        `,className:"driver-icon",iconSize:[32,32],iconAnchor:[16,16]}),Lt=ma.marker([Ne.coords.lat,Ne.coords.lng],{icon:ft,zIndexOffset:900}).addTo(He.current).bindPopup(`<b>${Ne.nome}</b><br>Status: ${Ne.status}<br>Atualizado: ${new Date(Ne.ultimoUpdate).toLocaleTimeString()}`);Re.current.push(Lt)}),e.filter(Ne=>(Ne.status==="PENDENTE"||Ne.status==="EM_ANDAMENTO")&&Ne.latitude).forEach(Ne=>{const Lt=`
             <div style="background-color:${Ne.status==="PENDENTE"?"#f59e0b":"#3b82f6"}; width:24px; height:24px; border-radius:50%; border:2px solid white; display:flex; align-items:center; justify-content:center; box-shadow: 0 2px 5px rgba(0,0,0,0.2);">
                <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><line x1="16.5" y1="9.4" x2="7.5" y2="4.21"></line><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line></svg>
             </div>
           `,Ut=ma.divIcon({html:Lt,className:"dot-icon",iconSize:[24,24],iconAnchor:[12,12]}),Et=ma.marker([Ne.latitude,Ne.longitude],{icon:Ut}).addTo(He.current).bindPopup(`<b>${Ne.clienteNome}</b><br>O.S #${Ne.numeroOs}<br>Status: ${Ne.status}`);_t.current.push(Et)})),requestAnimationFrame(()=>It.current())}},[o,e,n]);const Vt=Ne=>Number(Ne||0).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),Dt=q.useMemo(()=>{const Ne=e.filter(Ut=>Ut.status==="CONCLUIDA"||Ut.statusEntrega==="CONCLUIDA");let et=0,ft=0,Lt=0;return Ne.forEach(Ut=>{const Et=Number(Ut.total??0)||0,xr=Number(Ut.delivery_fee??Ut.deliveryFee??0)||0,Rt=Math.max(0,Et-xr);et+=Rt,ft+=xr,Lt+=Et}),{productRevenue:et,deliveryFees:ft,totalRevenue:Lt,count:Ne.length}},[e]);return i.jsxs("div",{className:"fixed inset-0 bg-app z-50 flex flex-col animate-in slide-in-from-bottom-4 duration-300",children:[i.jsxs("div",{className:"bg-surface border-b border-bdr px-6 py-4 flex flex-col sm:flex-row justify-between items-start sm:items-center shadow-sm shrink-0 gap-4 transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"bg-orange-500/10 p-2.5 rounded-xl border border-orange-500/20",children:i.jsx(No,{className:"w-6 h-6 text-orange-600"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-black text-txt-main tracking-tight",children:"Monitoramento Logstico"}),i.jsx("p",{className:"text-xs text-txt-muted font-bold uppercase tracking-widest",children:"Rastreamento e Zonas de Calor"})]})]}),i.jsx("div",{className:"flex items-center gap-3",children:i.jsx("button",{onClick:r,className:"p-2 hover:bg-red-500/10 text-txt-muted hover:text-red-500 rounded-full transition-colors",children:i.jsx(Pn,{className:"w-6 h-6"})})})]}),i.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col md:flex-row",children:[i.jsxs("div",{className:"w-full md:w-96 overflow-y-auto p-4 space-y-4 border-r border-bdr bg-app/20",children:[i.jsx("div",{className:"bg-surface border border-bdr rounded-xl overflow-hidden shadow-sm",children:i.jsxs("div",{className:"grid grid-cols-2",children:[i.jsx("button",{onClick:()=>h("map"),className:`py-3 text-xs font-black uppercase transition-colors ${d==="map"?"bg-emerald-500 text-white":"bg-app text-txt-muted hover:bg-surface"}`,children:"Modo Mapa/Global"}),i.jsx("button",{onClick:()=>h("pricing"),className:`py-3 text-xs font-black uppercase transition-colors ${d==="pricing"?"bg-blue-500 text-white":"bg-app text-txt-muted hover:bg-surface"}`,children:"Modo Precificao"})]})}),d==="map"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"bg-surface p-4 rounded-xl border border-bdr shadow-sm",children:[i.jsx("h4",{className:"text-xs font-black text-txt-muted uppercase mb-3",children:"Visualizao"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("button",{onClick:()=>c("realtime"),className:`flex-1 py-2 rounded-lg text-xs font-bold uppercase flex flex-col items-center gap-1 transition-all ${o==="realtime"?"bg-orange-500 text-white shadow-md":"bg-app text-txt-muted hover:bg-surface border border-bdr"}`,children:[i.jsx(dm,{className:"w-4 h-4"})," Tempo Real"]}),i.jsxs("button",{onClick:()=>c("heatmap"),className:`flex-1 py-2 rounded-lg text-xs font-bold uppercase flex flex-col items-center gap-1 transition-all ${o==="heatmap"?"bg-red-600 text-white shadow-md":"bg-app text-txt-muted hover:bg-surface border border-bdr"}`,children:[i.jsx(RE,{className:"w-4 h-4"})," Mapa de Calor"]})]})]}),i.jsxs("div",{className:"bg-surface p-4 rounded-xl border border-bdr shadow-sm space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Xl,{className:"w-4 h-4 text-blue-500"}),i.jsx("h4",{className:"text-xs font-black text-txt-muted uppercase",children:"Buscar Local"})]}),i.jsx("input",{type:"text",value:re,onChange:Ne=>le(Ne.target.value),onKeyDown:Ne=>Ne.key==="Enter"&&Qt(),placeholder:"Ex: Centro, Vila Aurora...",className:"w-full h-9 rounded-lg border border-bdr bg-app px-3 text-sm text-txt-main"}),i.jsx("button",{onClick:Qt,disabled:pe,className:"w-full h-9 rounded-lg bg-blue-500 hover:bg-blue-600 text-white text-xs font-black uppercase disabled:opacity-60",children:pe?"Buscando...":"Buscar"}),ve&&i.jsx("p",{className:"text-xs text-red-500",children:ve}),V&&i.jsx("p",{className:"text-xs text-amber-500",children:V})]}),i.jsxs("div",{className:"bg-surface p-4 rounded-xl border border-bdr shadow-sm space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between gap-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(jA,{className:"w-4 h-4 text-emerald-500"}),i.jsx("h4",{className:"text-xs font-black text-txt-muted uppercase",children:"Zonas"})]}),i.jsx("button",{onClick:yt,className:"text-[11px] font-black uppercase px-3 py-1.5 rounded-lg bg-app border border-bdr hover:bg-surface text-txt-main",children:"Nova zona"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-[11px] font-bold text-txt-muted uppercase",children:"Depsito (opcional p/ preo)"}),i.jsxs("select",{value:ae??"",onChange:Ne=>Z(Ne.target.value||null),className:"w-full h-9 rounded-lg border border-bdr bg-app px-3 text-sm text-txt-main",children:[i.jsx("option",{value:"",children:"Selecione um depsito..."}),(Se??[]).map(Ne=>i.jsx("option",{value:Ne.id,children:Ne.nome},Ne.id))]}),i.jsx("p",{className:"text-[11px] text-txt-muted",children:"Zonas so globais; preos so por depsito."})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between text-[11px] font-bold text-txt-muted uppercase",children:[i.jsx("span",{children:"Zonas cadastradas"}),i.jsx("span",{className:"text-xs text-txt-main",children:(ce==null?void 0:ce.length)??0})]}),i.jsxs("div",{className:"max-h-48 overflow-y-auto space-y-2",children:[(ce??[]).length===0&&i.jsx("div",{className:"text-xs text-txt-muted italic",children:"Nenhuma zona cadastrada."}),(ce??[]).slice().sort((Ne,et)=>Ne.name.localeCompare(et.name)).map(Ne=>{var Ut;const et=(Ut=ct.get(ae||""))==null?void 0:Ut.get(Ne.id),ft=et!==void 0?`R$ ${Number(et||0).toFixed(2)}`:"Sem preo",Lt=m===Ne.id;return i.jsxs("button",{onClick:()=>{g(Ne.id===m?null:Ne.id);const Et=zu(Ne.map_polygon);I(Et),Ne.id!==m&&$e(Et)},className:`w-full flex items-center gap-2 px-3 py-2 rounded-lg border text-left transition-colors ${Lt?"border-emerald-500 bg-emerald-500/10":"border-bdr bg-app hover:bg-surface"}`,children:[i.jsx("span",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:Ne.color||"#f97316"}}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm font-bold text-txt-main leading-tight",children:Ne.name}),i.jsx("p",{className:"text-[11px] text-txt-muted",children:ft})]})]},Ne.id)})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{className:"space-y-1.5",children:[i.jsx("label",{className:"text-[11px] font-bold text-txt-muted uppercase",children:"Nome da zona"}),i.jsx("input",{value:_,onChange:Ne=>k(Ne.target.value),className:"w-full h-9 rounded-lg border border-bdr bg-app px-3 text-sm text-txt-main",placeholder:"Ex: Centro 1"})]}),i.jsxs("div",{className:"space-y-1.5",children:[i.jsx("label",{className:"text-[11px] font-bold text-txt-muted uppercase",children:"Cor"}),i.jsx("input",{type:"color",value:j,onChange:Ne=>T(Ne.target.value),className:"w-full h-9 rounded-lg border border-bdr bg-app px-2"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-[11px] font-bold text-txt-muted uppercase",children:"Preo para o depsito selecionado"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{value:me,onChange:Ne=>ee(Ne.target.value),disabled:!ae,className:"flex-1 h-9 rounded-lg border border-bdr bg-app px-3 text-sm text-txt-main disabled:opacity-50",placeholder:"R$ 0,00"}),i.jsx("button",{onClick:()=>ee(""),className:"px-3 h-9 text-[11px] font-black uppercase rounded-lg border border-bdr bg-app hover:bg-surface",children:"Limpar"})]}),i.jsx("p",{className:"text-[11px] text-txt-muted",children:'Desenhe/edite a rea no mapa  direita. Clique em "Salvar zona" para gravar rea e preo.'})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:qt,disabled:F,className:"flex-1 h-10 rounded-lg bg-emerald-500 hover:bg-emerald-600 text-white font-black uppercase text-xs tracking-widest disabled:opacity-60",children:F?"Salvando...":"Salvar zona"}),i.jsx("button",{onClick:yt,className:"flex-1 h-10 rounded-lg border border-bdr bg-app hover:bg-surface text-txt-main font-black uppercase text-xs tracking-widest",children:"Cancelar"})]})]}),m&&i.jsxs("div",{className:"bg-surface p-4 rounded-xl border border-bdr shadow-sm space-y-3",children:[i.jsx("h4",{className:"text-xs font-black text-txt-muted uppercase",children:"Setores"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{value:G,onChange:Ne=>Q(Ne.target.value),onKeyDown:Ne=>Ne.key==="Enter"&&mr(),placeholder:"Nome do setor",className:"flex-1 h-9 rounded-lg border border-bdr bg-app px-3 text-sm text-txt-main"}),i.jsx("button",{onClick:mr,disabled:!G.trim(),className:"px-3 h-9 rounded-lg bg-blue-500 hover:bg-blue-600 text-white disabled:opacity-50",children:i.jsx(Wi,{className:"w-4 h-4"})})]}),cr.length===0?i.jsx("p",{className:"text-xs text-txt-muted italic",children:"Nenhum setor"}):i.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:cr.map(Ne=>i.jsxs("div",{className:"flex items-center justify-between px-3 py-2 rounded-lg bg-app border border-bdr",children:[i.jsx("span",{className:"text-sm text-txt-main",children:Ne.name}),i.jsx("button",{onClick:()=>Yt(Ne.id),className:"p-1 hover:bg-red-500/10 text-txt-muted hover:text-red-500 rounded transition-colors",children:i.jsx(Gs,{className:"w-3.5 h-3.5"})})]},Ne.id))})]}),ae&&i.jsxs("div",{className:"bg-surface p-4 rounded-xl border border-bdr shadow-sm space-y-3",children:[i.jsx("h4",{className:"text-xs font-black text-txt-muted uppercase",children:"Frete Grtis"}),i.jsxs("p",{className:"text-xs text-txt-muted",children:["Valor mnimo para frete grtis em ",i.jsx("b",{children:(ar==null?void 0:ar.nome)??"depsito"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"text",value:K,onChange:Ne=>$(Ne.target.value),placeholder:"R$ 0,00",className:"flex-1 h-9 rounded-lg border border-bdr bg-app px-3 text-sm text-txt-main"}),i.jsx("button",{onClick:Jt,className:"px-4 h-9 rounded-lg bg-emerald-500 hover:bg-emerald-600 text-white text-xs font-black uppercase",children:"Salvar"})]})]}),i.jsxs("div",{className:"bg-surface p-4 rounded-xl border border-bdr shadow-sm",children:[i.jsx("h4",{className:"text-xs font-black text-txt-muted uppercase mb-3",children:"Relatorio Financeiro"}),i.jsxs("div",{className:"space-y-2 text-xs",children:[i.jsxs("div",{className:"flex items-center justify-between text-txt-muted",children:[i.jsx("span",{children:"Produtos"}),i.jsx("span",{className:"font-bold text-txt-main",children:Vt(Dt.productRevenue)})]}),i.jsxs("div",{className:"flex items-center justify-between text-txt-muted",children:[i.jsx("span",{children:"Taxas de entrega"}),i.jsx("span",{className:"font-bold text-orange-500",children:Vt(Dt.deliveryFees)})]}),i.jsxs("div",{className:"flex items-center justify-between text-txt-muted",children:[i.jsx("span",{children:"Total"}),i.jsx("span",{className:"font-black text-emerald-600",children:Vt(Dt.totalRevenue)})]})]}),i.jsxs("p",{className:"text-[10px] text-txt-muted mt-3",children:["Baseado em O.S finalizadas/entregues (",Dt.count,")."]})]}),i.jsxs("div",{className:"bg-surface p-4 rounded-xl border border-bdr shadow-sm",children:[i.jsx("h4",{className:"text-xs font-black text-txt-muted uppercase mb-3",children:"Entregadores Ativos"}),i.jsx("div",{className:"space-y-2",children:n.length===0?i.jsx("p",{className:"text-xs text-txt-muted italic text-center py-4",children:"Nenhum entregador online"}):n.map(Ne=>i.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg bg-app border border-bdr",children:[i.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-bold text-txt-main leading-tight",children:Ne.nome}),i.jsxs("p",{className:"text-[10px] text-txt-muted",children:["ltimo sinal: ",new Date(Ne.ultimoUpdate).toLocaleTimeString()]})]})]},Ne.driverId))})]})]}),d==="pricing"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"bg-surface p-4 rounded-xl border border-bdr shadow-sm space-y-3",children:[i.jsx("h4",{className:"text-sm font-black text-txt-main uppercase",children:"Precificao por Zona"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-xs font-bold text-txt-muted uppercase",children:"Selecione o Depsito"}),i.jsxs("select",{value:ae??"",onChange:Ne=>Z(Ne.target.value||null),className:"w-full h-9 rounded-lg border border-bdr bg-app px-3 text-sm text-txt-main",children:[i.jsx("option",{value:"",children:"-- Selecione --"}),(Se??[]).map(Ne=>i.jsx("option",{value:Ne.id,children:Ne.nome},Ne.id))]})]}),!ae&&i.jsx("div",{className:"text-xs text-amber-500 bg-amber-500/10 p-2 rounded border border-amber-500/20",children:" Selecione um depsito para editar preos."}),ae&&ce&&ce.length>0&&i.jsx("div",{className:"space-y-2",children:ce.map(Ne=>{var et;return i.jsxs("div",{className:"flex flex-col gap-3 bg-app border border-bdr rounded-xl px-3 py-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"w-3 h-3 rounded-full border border-bdr",style:{backgroundColor:Ne.color||"#f97316"}}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"text-sm font-black text-txt-main",children:Ne.name}),i.jsxs("div",{className:"text-[11px] text-txt-muted",children:["Atual:"," ",Ht.get(Ne.id)?`R$ ${Number(((et=Ht.get(Ne.id))==null?void 0:et.price)||0).toFixed(2)}`:"Sem preo"]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("span",{className:"text-xs text-txt-muted font-bold",children:"R$"}),i.jsx("input",{type:"text",value:H[Ne.id]??"",onChange:ft=>W({...H,[Ne.id]:ft.target.value}),placeholder:"0,00",className:"w-20 h-8 rounded-lg border border-bdr bg-app px-2 text-sm text-txt-main"})]}),i.jsx("button",{onClick:()=>Kt(Ne.id),className:"flex-1 h-8 rounded-lg bg-emerald-500 hover:bg-emerald-600 text-white text-xs font-black uppercase",children:"Salvar"}),i.jsx("button",{onClick:()=>kt(Ne.id),className:"h-8 px-2 rounded-lg border border-red-500/30 bg-red-500/10 hover:bg-red-500/20 text-red-500",children:i.jsx(Gs,{className:"w-4 h-4"})})]})]},Ne.id)})})]}),ae&&i.jsxs("div",{className:"bg-surface p-4 rounded-xl border border-bdr shadow-sm space-y-3",children:[i.jsx("h4",{className:"text-xs font-black text-txt-muted uppercase",children:"Frete Grtis"}),i.jsxs("p",{className:"text-xs text-txt-muted",children:["Valor mnimo para frete grtis em ",i.jsx("b",{children:(ar==null?void 0:ar.nome)??"depsito"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"text",value:K,onChange:Ne=>$(Ne.target.value),placeholder:"R$ 0,00",className:"flex-1 h-9 rounded-lg border border-bdr bg-app px-3 text-sm text-txt-main"}),i.jsx("button",{onClick:Jt,className:"px-4 h-9 rounded-lg bg-emerald-500 hover:bg-emerald-600 text-white text-xs font-black uppercase",children:"Salvar"})]})]})]})]}),i.jsxs("div",{className:"flex-1 bg-surface border-l border-bdr relative overflow-hidden",children:[i.jsxs(Ub,{center:[J_.lat,J_.lng],zoom:12,minZoom:3,maxZoom:19,className:"w-full h-full z-0",whenCreated:Ne=>{He.current=Ne,It.current=()=>Ne.invalidateSize(),requestAnimationFrame(()=>Ne.invalidateSize())},children:[i.jsx(rR,{}),i.jsx(Fb,{attribution:" OSM contributors",url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",crossOrigin:!0}),i.jsx(j5,{name:"all-zones",style:{zIndex:300},children:(ce??[]).map(Ne=>{const et=zu(Ne.map_polygon);if(!et)return null;const ft=Ne.color||"#f97316",Lt=Ne.id===m;return i.jsx(Tb,{positions:et,pathOptions:{color:ft,fillColor:ft,fillOpacity:Lt?.25:.12,weight:Lt?3:1,dashArray:Lt?void 0:"4 6",className:"cursor-pointer"},eventHandlers:{click:()=>{g(Ne.id===m?null:Ne.id),I(et),Ne.id!==m&&$e(et)}},children:i.jsx(Qb,{sticky:!0,children:Ne.name})},Ne.id)})}),i.jsx(L5,{ref:he,children:i.jsx(nv,{position:"topright",onCreated:Ne=>{const Lt=Ne.layer.getLatLngs().map(Ut=>Ut.map(Et=>[Et.lat,Et.lng])).filter(Ut=>Ut.length>2);I(Lt),g(null),$e(Lt)},onEdited:Ne=>{const et=Ne.layers;let ft=null;et.eachLayer(Lt=>{ft=Lt.getLatLngs().map(Et=>Et.map(xr=>[xr.lat,xr.lng])).filter(Et=>Et.length>2)}),I(ft),$e(ft)},onDeleted:()=>{I(null)},draw:{polygon:{shapeOptions:{color:j,fillColor:j,fillOpacity:.3,weight:2}},rectangle:{shapeOptions:{color:j,fillColor:j,fillOpacity:.3,weight:2}},polyline:!1,circle:!1,marker:!1,circlemarker:!1},edit:{edit:{selectedPathOptions:{color:j,fillColor:j,fillOpacity:.25,weight:2}},remove:{}}})})]}),i.jsxs("div",{className:"absolute bottom-6 right-6 bg-white/90 backdrop-blur px-4 py-3 rounded-xl border border-bdr shadow-xl text-xs font-medium text-txt-muted max-w-xs text-right z-[1000] pointer-events-none",children:[i.jsxs("p",{className:"font-black text-txt-main flex items-center justify-end gap-2 mb-1",children:[i.jsx(Nb,{className:"w-3 h-3 text-emerald-500"}),"OpenStreetMap"]}),i.jsx("p",{className:"opacity-80",children:o==="realtime"?"Mostrando frota em tempo real":"Densidade de entregas histricas"})]})]})]})]})},wp={lat:-17.7915,lng:-50.9197},sh="Rio Verde, GO",_p={south:-18.347,north:-17.0898436,west:-51.7307464,east:-50.3568883},qu={error:r=>alert(r),success:r=>alert(r)},sR=()=>{const r=ma.GeometryUtil;if(!r||r._gpReadableAreaPatched)return;r._gpReadableAreaPatched=!0;const e={km:2,ha:2,m:0,mi:2,ac:2,yd:0,ft:0,nm:2};r.readableArea=(t,n,a)=>{const o=ma.Util.extend({},e,a);let c=["ha","m"];const d=typeof n;if(n)return d==="string"?c=[n]:d!=="boolean"&&(c=n),t>=1e6&&c.indexOf("km")!==-1?`${r.formattedNumber(t/1e6,o.km)} km2`:t>=1e4&&c.indexOf("ha")!==-1?`${r.formattedNumber(t/1e4,o.ha)} ha`:`${r.formattedNumber(t,o.m)} m2`;const h=t/.836127;return h>=3097600?`${r.formattedNumber(h/3097600,o.mi)} mi2`:h>=4840?`${r.formattedNumber(h/4840,o.ac)} acres`:`${r.formattedNumber(h,o.yd)} yd2`}},Ad=r=>{if(!r)return null;if(Array.isArray(r)&&r.length>=2){const e=Number(r[0]),t=Number(r[1]);return Number.isFinite(e)&&Number.isFinite(t)?[e,t]:null}if(typeof r=="object"){const e=Number(r.lat??r.latitude),t=Number(r.lng??r.lon??r.longitude);if(Number.isFinite(e)&&Number.isFinite(t))return[e,t]}return null},gx=r=>{if(!r)return null;let e=r;if(typeof e=="string")try{e=JSON.parse(e)}catch{return null}if(e&&typeof e=="object"&&!Array.isArray(e)){const a=e,o=a.type==="Feature"?a.geometry:a,c=sv(o);return c&&c.length?c:null}if(!Array.isArray(e)||e.length===0)return null;if(Ad(e[0])){const a=e.map(Ad).filter(Boolean);return a.length?[a]:null}const n=[];for(const a of e){if(!Array.isArray(a))continue;const o=a.map(Ad).filter(Boolean);o.length&&n.push(o)}return n.length?n:null},t5=r=>{if(!Array.isArray(r)||r.length===0)return[];if(Ad(r[0])){const n=r.map(Ad).filter(Boolean);return n.length?[n]:[]}const t=[];for(const n of r){if(!Array.isArray(n))continue;const a=n.map(Ad).filter(Boolean);a.length&&t.push(a)}return t},sv=r=>{if(!r||typeof r!="object")return null;const e=r.coordinates;if(!Array.isArray(e)||e.length===0)return null;if(r.type==="Polygon")return e.map(t=>Array.isArray(t)?t.map(n=>[Number(n[1]),Number(n[0])]):[]).filter(t=>t.length>0);if(r.type==="MultiPolygon"){const t=e[0];return Array.isArray(t)?t.map(n=>Array.isArray(n)?n.map(a=>[Number(a[1]),Number(a[0])]):[]).filter(n=>n.length>0):null}return null},r5=r=>{if(!r||!r.length)return[];const e=r[0]||[];return e.length?e:[]},n5=r=>{if(r.length<2)return r;const e=r[0],t=r[r.length-1];return e[0]===t[0]&&e[1]===t[1]?r:[...r,e]},s5=r=>{let e=1/0,t=-1/0,n=1/0,a=-1/0;for(const[o,c]of r)e=Math.min(e,o),t=Math.max(t,o),n=Math.min(n,c),a=Math.max(a,c);return{minLat:e,maxLat:t,minLng:n,maxLng:a}},aR=(r,e)=>r.minLat<=e.maxLat&&r.maxLat>=e.minLat&&r.minLng<=e.maxLng&&r.maxLng>=e.minLng,Bp=(r,e,t)=>{const n=(e[0]-r[0])*(t[1]-e[1])-(e[1]-r[1])*(t[0]-e[0]);return n===0?0:n>0?1:2},Np=(r,e,t)=>e[1]<=Math.max(r[1],t[1])&&e[1]>=Math.min(r[1],t[1])&&e[0]<=Math.max(r[0],t[0])&&e[0]>=Math.min(r[0],t[0]),iR=(r,e,t,n)=>{const a=Bp(r,e,t),o=Bp(r,e,n),c=Bp(t,n,r),d=Bp(t,n,e);return!!(a!==o&&c!==d||a===0&&Np(r,t,e)||o===0&&Np(r,n,e)||c===0&&Np(t,r,n)||d===0&&Np(t,e,n))},a5=(r,e)=>{let t=!1;const n=r[1],a=r[0];for(let o=0,c=e.length-1;o<e.length;c=o++){const d=e[o][1],h=e[o][0],m=e[c][1],g=e[c][0];h>a!=g>a&&n<(m-d)*(a-h)/(g-h)+d&&(t=!t)}return t},oR=(r,e)=>{const t=n5(r5(r)),n=n5(r5(e));if(t.length<3||n.length<3)return!1;const a=s5(t),o=s5(n);if(!aR(a,o))return!1;for(let c=0;c<t.length-1;c++){const d=t[c],h=t[c+1];for(let m=0;m<n.length-1;m++){const g=n[m],b=n[m+1];if(iR(d,h,g,b))return!0}}return!!(a5(t[0],n)||a5(n[0],t))},vb=new Set(["neighbourhood","suburb","quarter","city_district","borough"]),lR=new Set(["amenity","tourism","shop","building","highway","leisure","natural"]),AR=new Set(["bairro","setor","zona","distrito","regiao","vila","jardim","loteamento","condominio"]),cR=new Set(["bairro","setor","zona","distrito","regiao","rua","avenida","av","praca","praa","vila","jardim","jd","loteamento","condominio","condominio","cidade","municipio","municipio"]),EA=r=>r.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),mC=r=>{const e=(r==null?void 0:r.address)??{};return e.city??e.town??e.village??e.hamlet??e.locality??e.municipality??e.county??""},i5=r=>{var t;const e=((t=String(r||"").split(",")[0])==null?void 0:t.trim())||"";return EA(e)},uR=r=>EA(r).split(/[^a-z0-9]+/g).map(t=>t.trim()).filter(t=>t.length>2&&!cR.has(t)),dR=r=>{const e=EA(r);for(const t of AR)if(e.includes(t))return!0;return!1},hR=(r,e)=>{if(!e.length)return!0;const t=(r==null?void 0:r.address)??{},n=EA([r==null?void 0:r.name,r==null?void 0:r.display_name,t.neighbourhood,t.suburb,t.quarter,t.city_district,t.borough,t.locality].filter(Boolean).join(" "));return e.every(a=>n.includes(a))},fR=(r,e)=>e?EA(String(mC(r)||"")).includes(e):!0,pR=(r,e,t)=>{var h;if(!Array.isArray(r)||r.length===0)return null;const n=EA(e),a=((h=EA(t).split(",")[0])==null?void 0:h.trim())||"",o=r.map(m=>{const g=!!sv(m==null?void 0:m.geojson),b=(m==null?void 0:m.class)==="boundary"||(m==null?void 0:m.type)==="administrative",B=(m==null?void 0:m.class)==="place"&&vb.has(m==null?void 0:m.type),_=lR.has(m==null?void 0:m.class),k=Number((m==null?void 0:m.importance)??(m==null?void 0:m.place_rank)??0)||0,j=EA(String(mC(m)||""));let T=k;return g&&(T+=5),b&&(T+=6),B&&(T+=4),(m==null?void 0:m.class)==="place"&&(m==null?void 0:m.type)==="neighbourhood"&&(T+=2),_&&(T-=4),a&&j&&(j.includes(a)?T+=2:T-=2),n&&EA(String((m==null?void 0:m.display_name)||"")).includes(n)&&(T+=1),{item:m,score:T,hasPolygon:g,isBoundary:b,isPlace:B}}),c=o.filter(m=>m.hasPolygon&&(m.isBoundary||m.isPlace));if(c.length)return c.sort((m,g)=>g.score-m.score),c[0].item;const d=o.filter(m=>m.hasPolygon);return d.length?(d.sort((m,g)=>g.score-m.score),d[0].item):(o.sort((m,g)=>g.score-m.score),o[0].item)},mR=({enabled:r,points:e})=>{const t=pd(),n=q.useRef(null);return q.useEffect(()=>{const a=ma.heatLayer;if(!r||!a){n.current&&(t.removeLayer(n.current),n.current=null);return}if(n.current&&(t.removeLayer(n.current),n.current=null),!!e.length)return n.current=a(e,{radius:22,blur:16,maxZoom:17}).addTo(t),()=>{n.current&&(t.removeLayer(n.current),n.current=null)}},[r,e,t]),null},gR=()=>{const r=pd();return q.useEffect(()=>{const e=()=>{var h;const d=(h=r.getContainer)==null?void 0:h.call(r);!d||!d.isConnected||r._loaded&&r.invalidateSize()};r.whenReady(()=>e()),requestAnimationFrame(e);const t=setTimeout(e,200),n=setTimeout(e,800),a=()=>e();window.addEventListener("resize",a);let o=null;const c=r.getContainer();return typeof ResizeObserver<"u"&&c&&(o=new ResizeObserver(()=>e()),o.observe(c)),()=>{clearTimeout(t),clearTimeout(n),window.removeEventListener("resize",a),o&&o.disconnect()}},[r]),null},xR=({mapRef:r})=>{const e=pd();return q.useEffect(()=>{r.current=e},[e,r]),null},bR=({onClose:r})=>{var Pr;const e=useLiveQuery(()=>{var je;return(je=db.delivery_zones)==null?void 0:je.toArray()},[]),t=useLiveQuery(()=>{var je;return(je=db.delivery_zones)==null?void 0:je.toArray()},[]),n=useLiveQuery(()=>{var je;return(je=db.deposits)==null?void 0:je.toArray()},[]),a=useLiveQuery(()=>{var je;return(je=db.zone_pricing)==null?void 0:je.toArray()},[]),o=e??[],c=t??[],d=n??[],h=a??[],m=e===void 0||t===void 0||n===void 0||a===void 0,[g,b]=q.useState("map"),[B,_]=q.useState(""),[k,j]=q.useState("0"),[T,C]=q.useState(""),[I,F]=q.useState(!1),[R,ae]=q.useState({name:"",color:"#f97316"}),[Z,me]=q.useState(""),[ee,H]=q.useState({}),[W,K]=q.useState(""),[$,re]=q.useState(null),[le,ge]=q.useState(null),[Y,pe]=q.useState(!1),[z,ve]=q.useState(""),[we,V]=q.useState(sh),[O,G]=q.useState(null),[Q,oe]=q.useState(null),[ce,Be]=q.useState(!1),[Se,Fe]=q.useState(null),[He,it]=q.useState(!1),[Re,_t]=q.useState(!1),It=useLiveQuery(()=>{var je;return(je=db.service_orders)==null?void 0:je.toArray()},[]),he=q.useRef(null),ct=q.useRef(null);q.useEffect(()=>{sR()},[]),q.useEffect(()=>{!T&&o.length>0&&!I&&C(o[0].id)},[o,T,I]),q.useEffect(()=>{const je=d.find($t=>$t.id===B);if(!je)return;const Me=je.free_shipping_min_value??je.freeShippingMinValue??je.freeShippingMin??0;j(String(Number(Me)||0))},[d,B]),q.useEffect(()=>{const je=o.find($t=>$t.id===T);if(!je){I||(Fe(null),it(!1),ct.current&&ct.current.clearLayers());return}ae({id:je.id,name:je.name,color:je.color??"#f97316",depositoId:je.depositoId??null});const Me=gx(je.map_polygon);Fe(Me),it(!1),Rt(Me,!0,je.color??"#f97316")},[o,T,I]);const yt=o.find(je=>je.id===T)||null,qt=d.find(je=>je.id===B)||null,$e=q.useMemo(()=>c.filter(je=>je.zone_id===T),[c,T]),Zt=q.useMemo(()=>o.filter(je=>je.id!==T),[o,T]),Qt=q.useMemo(()=>gx(yt==null?void 0:yt.map_polygon),[yt]),kt=((Pr=R.name)==null?void 0:Pr.trim())??"",Kt=R.color||"#f97316",Jt=!I&&!!yt,mr=Jt?yt:{},Yt=Jt&&Number((yt==null?void 0:yt.fee)??0)||0,ar=Jt?Qt??(yt==null?void 0:yt.map_polygon)??null:null,cr={fee:Yt,...mr,...R,map_polygon:ar};R.id&&String(ee[R.id]??"").replace(",",".");const Ht=q.useMemo(()=>{const je=Date.now()-2592e6;return(It??[]).filter(Me=>Number((Me==null?void 0:Me.dataHoraCriacao)??0)>=je).map(Me=>[Number(Me.latitude),Number(Me.longitude),.8]).filter(Me=>Number.isFinite(Me[0])&&Number.isFinite(Me[1]))},[It]),Vt=q.useMemo(()=>{const je=new Map;if(!B)return je;for(const Me of h)Me.depositoId===B&&je.set(Me.zone_id,Me);return je},[h,B]),Dt=T&&B?Vt.get(T):null;Dt==null||Dt.price,q.useEffect(()=>{if(!B){H({});return}const je={};for(const Me of o){const $t=Vt.get(Me.id);je[Me.id]=$t?String($t.price??0):""}H(je),re(null)},[B,o,Vt]);const Ne=(yt==null?void 0:yt.name)||(I?"Nova zona":"Nenhuma zona selecionada"),et=R.color||(yt==null?void 0:yt.color)||"#f97316",ft=q.useMemo(()=>({color:et,fillColor:et,fillOpacity:.3,weight:2}),[et]),Lt=Se?He?"definida (nao salva)":"definida":"nao definida",Ut=B?Dt?`R$ ${Number(Dt.price||0).toFixed(2)}`:"Sem preco definido":"Selecione um deposito",Et=q.useMemo(()=>o.filter(je=>je.id!==T).map(je=>({id:je.id,name:je.name,color:je.color||"#f97316",polygon:gx(je.map_polygon)})).filter(je=>je.polygon),[o,T]),xr=q.useMemo(()=>{const je=Se??Qt??null;return je?Et.filter(Me=>oR(je,Me.polygon)).map(Me=>Me.name):[]},[Se,Qt,Et]),Rt=(je,Me,$t)=>{if(!ct.current||(ct.current.clearLayers(),!je||je.length===0))return;const Ir=$t||et,jr=ma.polygon(je,{color:Ir,fillColor:Ir,fillOpacity:.3});ct.current.addLayer(jr),Me&&he.current&&he.current.fitBounds(jr.getBounds(),{padding:[24,24]})},de=async()=>{const je=z.trim();if(!(!je||!he.current)){Be(!0),G(null),oe(null);try{const Me=we.trim()||sh,$t=i5(Me),Ir=i5(sh),{data:jr}=await Vs.get("https://nominatim.openstreetmap.org/search",{params:{format:"jsonv2",q:`${je}, ${Me}`,polygon_geojson:1,addressdetails:1,limit:8,dedupe:1,countrycodes:"br",...$t===Ir?{viewbox:`${_p.west},${_p.north},${_p.east},${_p.south}`,bounded:1}:{}},headers:{"Accept-Language":"pt-BR"}}),Gr=Array.isArray(jr)?jr:[],Xr=$t?Gr.filter(ut=>fR(ut,$t)):Gr,Fn=uR(je),wn=dR(je),Hn=Xr.filter(ut=>{const Gt=(ut==null?void 0:ut.class)==="boundary"||(ut==null?void 0:ut.type)==="administrative",ur=(ut==null?void 0:ut.class)==="place"&&vb.has(ut==null?void 0:ut.type);return Gt||ur}),jn=Fn.length?Hn.filter(ut=>hR(ut,Fn)):Hn,Ns=wn?jn.length?jn:Hn:Xr;if(!Ns.length){oe("Sem limites oficiais do bairro no alcance. Desenhe a area manualmente."),he.current.flyTo([wp.lat,wp.lng],12);return}const wr=pR(Ns,je,Me);if(!wr){G("Nenhum resultado dentro do alcance.");return}const xa=Number(wr==null?void 0:wr.lat),fs=Number(wr==null?void 0:wr.lon);if(!Number.isFinite(xa)||!Number.isFinite(fs)){G("Localizacao nao encontrada.");return}const Zs=(wr==null?void 0:wr.class)==="boundary"||(wr==null?void 0:wr.type)==="administrative",se=(wr==null?void 0:wr.class)==="place"&&vb.has(wr==null?void 0:wr.type),pt=Zs||se;let bt=pt?sv(wr==null?void 0:wr.geojson):null;if(!bt&&pt&&Array.isArray(wr==null?void 0:wr.boundingbox)&&wr.boundingbox.length===4){const ut=Number(wr.boundingbox[0]),Gt=Number(wr.boundingbox[1]),ur=Number(wr.boundingbox[2]),Fr=Number(wr.boundingbox[3]);[ut,Gt,ur,Fr].every(Number.isFinite)&&(bt=[[[ut,ur],[ut,Fr],[Gt,Fr],[Gt,ur],[ut,ur]]])}!T&&!I&&(F(!0),R.name||ae({...R,name:je})),bt?(Fe(bt),it(!0),Rt(bt,!0,et)):(he.current.flyTo([xa,fs],15),oe("Endereco encontrado, mas sem limite do bairro. Desenhe a area manualmente."))}catch{G("Falha ao buscar local.")}finally{Be(!1)}}},Ke=je=>{const Me=je.layer;ct.current&&(ct.current.clearLayers(),ct.current.addLayer(Me));const $t=t5(Me.getLatLngs());if(Fe($t.length?$t:null),it(!0),$t.length&&he.current){const Ir=ma.polygon($t).getBounds();he.current.fitBounds(Ir,{padding:[24,24]})}},Ye=je=>{let Me=null;je.layers.eachLayer($t=>{const Ir=t5($t.getLatLngs());Ir.length&&(Me=Ir)}),Me&&(Fe(Me),it(!0))},We=()=>{Fe(null),it(!0)};q.useEffect(()=>{ct.current&&ct.current.eachLayer(je=>{je!=null&&je.setStyle&&je.setStyle({color:et,fillColor:et,fillOpacity:.3})})},[et]),q.useEffect(()=>{he.current&&Rt(Se??Qt??null,!1)},[Se,Qt]);const tt=async()=>{const je=d.find(Ir=>Ir.id===B);if(!je)return;const Me=Number(k||0)||0,$t={...je,free_shipping_min_value:Me};await upsertDeposit($t)},Tt=async()=>{if(!kt)return qu.error("Nome da zona  obrigatrio");const je=Se||ar;if(!je)return qu.error("Desenhe a rea da zona no mapa antes de salvar");pe(!0);try{const Me=cr.id||crypto.randomUUID(),$t={id:Me,name:kt,color:Kt,depositoId:null,map_polygon:je};let Ir=null;if(B){const Gr=!cr.id?String(W||"").replace(",",".").trim():String(ee[Me]??"").replace(",",".").trim(),Xr=Number(Gr)||0;Xr>0&&(Ir={id:`${B}:${Me}`,zone_id:Me,depositoId:B,price:Xr})}await db.transaction("rw",db.delivery_zones,db.zone_pricing,db.outbox_events,async()=>{await db.delivery_zones.put($t),await db.outbox_events.put({id:crypto.randomUUID(),entity:"delivery_zones",action:"UPSERT",entity_id:$t.id,payload_json:$t,status:"PENDING",tries:0,created_at:new Date().toISOString()}),Ir&&(await db.zone_pricing.put(Ir),await db.outbox_events.put({id:crypto.randomUUID(),entity:"zone_pricing",action:"UPSERT",entity_id:Ir.id,payload_json:Ir,status:"PENDING",tries:0,created_at:new Date().toISOString()}))}),console.log(" Zona e pricing salvos no Dexie:",Me),Ir&&(console.log(" Pricing Object (deve ter apenas depositoId):",Ir),("deposit_id"in Ir||"deposito_id"in Ir)&&console.error(" CONTAMINAO: Objeto contm campos legados!",Ir)),Ir?qu.success(`Zona "${kt}" e taxa R$ ${Ir.price.toFixed(2)} salvas!`):B?qu.success(`Zona "${kt}" salva! Configure a taxa depois.`):qu.success(`Zona "${kt}" salva! Atribua taxa via 'Precificao por zona'.`),ae({name:"",color:"#f97316"}),K(""),F(!1),Fe(null),it(!1),ct.current&&ct.current.clearLayers()}catch(Me){console.error(" Erro ao salvar zona:",Me),qu.error(`Falha ao salvar: ${Me.message||"Erro desconhecido"}`)}finally{pe(!1)}},zt=async je=>{if(confirm("Excluir esta zona?")&&(await deleteDeliveryZone(je),T===je)){const Me=o.find($t=>$t.id!==je);C((Me==null?void 0:Me.id)||"")}},Wt=je=>{C(je),F(!1),Fe(null),it(!1),K(""),ct.current&&ct.current.clearLayers()},Lr=async je=>{if(!B){re("Selecione um deposito para salvar o preco.");return}const Me=ee[je]??"",$t=Number(String(Me).replace(",",".")),Ir=Number.isFinite($t)?$t:0;ge(je);try{const jr={id:`${B}:${je}`,zone_id:je,depositoId:B,price:Ir};console.log(" Salvando Pricing (deve ter apenas depositoId):",jr),("deposit_id"in jr||"deposito_id"in jr)&&console.error(" CONTAMINAO: Objeto contm campos legados!",jr),await upsertZonePricing(jr),re(null)}catch(jr){console.error(jr),re("Nao foi possivel salvar o preco.")}finally{ge(null)}},vt=async()=>{if(!T||!Z.trim())return;const je={id:crypto.randomUUID(),zone_id:T,name:Z.trim()};await upsertDeliverySector(je),me("")},Rr=async(je,Me)=>{Me&&await moveDeliverySector(je,Me)},fr=async je=>{await deleteDeliverySector(je)},pr=i.jsxs("div",{className:"bg-surface border border-bdr rounded-2xl p-4 shadow-sm space-y-4",children:[i.jsxs("div",{className:"flex flex-col gap-3",children:[i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx("h4",{className:"text-sm font-black text-txt-main uppercase",children:"Precificacao por zona"}),i.jsxs("span",{className:"text-xs text-txt-muted",children:["Deposito: ",(qt==null?void 0:qt.nome)||"Nao selecionado"]})]}),i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx("label",{className:"text-xs font-bold text-txt-muted uppercase",children:"Selecione o Depsito"}),i.jsxs("select",{value:B,onChange:je=>_(je.target.value),className:"h-9 px-3 rounded-lg border border-bdr bg-app text-txt-main text-sm font-bold",children:[i.jsx("option",{value:"",children:"-- Selecione um depsito --"}),d.map(je=>i.jsx("option",{value:je.id,children:je.nome},je.id))]})]})]}),!B&&i.jsx("div",{className:"text-xs text-amber-500 bg-amber-500/10 p-2 rounded border border-amber-500/20",children:" Selecione um deposito para editar os precos."}),$&&i.jsx("div",{className:"text-xs text-red-500",children:$}),m?i.jsx("div",{className:"text-xs text-txt-muted",children:"Carregando..."}):o.length===0?i.jsx("div",{className:"text-xs text-txt-muted italic",children:"Nenhuma zona cadastrada."}):i.jsx("div",{className:"space-y-2",children:o.map(je=>{var Me;return i.jsxs("div",{className:"flex flex-col gap-3 bg-app border border-bdr rounded-xl px-3 py-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"w-3 h-3 rounded-full border border-bdr",style:{backgroundColor:je.color||"#f97316"}}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"text-sm font-black text-txt-main",children:je.name}),i.jsxs("div",{className:"text-[11px] text-txt-muted",children:["Atual:"," ",Vt.get(je.id)?`R$ ${Number(((Me=Vt.get(je.id))==null?void 0:Me.price)||0).toFixed(2)}`:"Sem preco"]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("span",{className:"text-xs text-txt-muted font-bold",children:"R$"}),i.jsx("input",{type:"text",inputMode:"decimal",value:ee[je.id]??"",onChange:$t=>{const Ir=$t.target.value;H(jr=>({...jr,[je.id]:Ir})),$&&re(null)},disabled:!B,className:"h-9 w-24 px-2 rounded-lg border border-bdr bg-surface text-txt-main text-sm font-bold disabled:opacity-50",placeholder:"0,00"})]}),i.jsx("button",{onClick:()=>Lr(je.id),disabled:!B||le===je.id,className:"h-9 px-4 bg-orange-500 hover:bg-orange-600 text-white rounded-lg text-xs font-black uppercase tracking-widest disabled:opacity-50",children:le===je.id?"Salvando...":"Salvar"})]})]},je.id)})})]});return i.jsxs("div",{className:"fixed inset-0 bg-app z-50 flex flex-col animate-in fade-in duration-300",children:[i.jsxs("div",{className:"bg-surface border-b border-bdr px-6 py-4 flex justify-between items-center shadow-sm shrink-0",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"bg-orange-500/10 p-2 rounded-xl border border-orange-500/20",children:i.jsx(No,{className:"w-6 h-6 text-orange-600"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-black text-txt-main tracking-tight",children:"Configuracao de Entregas"}),i.jsx("p",{className:"text-xs text-txt-muted font-bold uppercase tracking-widest",children:"Zonas, setores e taxas"})]})]}),i.jsx("button",{onClick:r,className:"p-2 hover:bg-red-500/10 hover:text-red-500 text-txt-muted rounded-full transition-colors",children:i.jsx(Pn,{className:"w-6 h-6"})})]}),i.jsx("div",{className:"flex-1 overflow-y-auto bg-app p-6",children:i.jsxs("div",{className:"max-w-[1600px] w-full mx-auto space-y-6",children:[i.jsxs("div",{className:"bg-surface border border-bdr rounded-2xl p-5 flex flex-col lg:flex-row gap-6 shadow-sm",children:[i.jsxs("div",{className:"flex-1 space-y-2",children:[i.jsx("p",{className:"text-xs font-black text-txt-muted uppercase tracking-widest",children:"Regra global"}),i.jsx("h3",{className:"text-lg font-black text-txt-main",children:"Frete gratis a partir de"}),i.jsx("p",{className:"text-xs text-txt-muted",children:"Pedidos acima do valor minimo terao taxa zero automaticamente."})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-end",children:[i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx("label",{className:"text-xs font-bold text-txt-muted uppercase",children:"Deposito"}),i.jsxs("select",{value:B,onChange:je=>_(je.target.value),className:"h-9 px-3 rounded-lg border border-bdr bg-app text-txt-main text-sm font-bold",children:[i.jsx("option",{value:"",children:"Selecione..."}),d.map(je=>i.jsx("option",{value:je.id,children:je.nome},je.id))]})]}),i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx("label",{className:"text-xs font-bold text-txt-muted uppercase",children:"Valor minimo"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"number",value:k,onChange:je=>j(je.target.value),className:"h-9 w-32 px-3 rounded-lg border border-bdr bg-app text-txt-main font-bold text-sm"}),i.jsx("button",{onClick:tt,className:"h-9 px-4 bg-orange-500 hover:bg-orange-600 text-white rounded-lg text-xs font-black uppercase tracking-widest shadow-sm",children:"Salvar"})]})]})]})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsx("button",{type:"button",onClick:()=>b("map"),className:`px-4 py-2 rounded-lg text-xs font-black uppercase tracking-widest border transition-all ${g==="map"?"bg-emerald-500 text-white border-emerald-500":"bg-surface text-txt-muted border-bdr hover:text-txt-main"}`,children:"Modo mapa/global"}),i.jsx("button",{type:"button",onClick:()=>b("pricing"),className:`px-4 py-2 rounded-lg text-xs font-black uppercase tracking-widest border transition-all ${g==="pricing"?"bg-orange-500 text-white border-orange-500":"bg-surface text-txt-muted border-bdr hover:text-txt-main"}`,children:"Modo precificacao"}),i.jsxs("span",{className:"text-xs text-txt-muted",children:["Deposito atual: ",(qt==null?void 0:qt.nome)||"Nao selecionado"]})]}),g==="map"?i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[340px_1fr] gap-6",children:[i.jsxs("div",{className:"bg-surface border border-bdr rounded-2xl p-4 shadow-sm space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h4",{className:"text-sm font-black text-txt-main uppercase",children:"Zonas cadastradas"}),i.jsx("button",{onClick:()=>{ae({name:"",color:"#f97316"}),C(""),F(!0),Fe(null),it(!1),K(""),ct.current&&ct.current.clearLayers()},className:"px-3 py-1.5 bg-app border border-bdr rounded-lg text-xs font-bold text-txt-muted hover:text-txt-main",children:"Nova zona"})]}),m?i.jsx("div",{className:"text-xs text-txt-muted",children:"Carregando..."}):o.length===0?i.jsx("div",{className:"text-xs text-txt-muted italic",children:"Nenhuma zona cadastrada."}):i.jsx("div",{className:"space-y-2",children:o.map(je=>{var Me;return i.jsx("div",{className:`w-full rounded-xl border transition-all ${T===je.id?"border-orange-500 bg-orange-500/10":"border-bdr hover:bg-app"}`,children:i.jsxs("div",{className:"flex items-center justify-between gap-2 p-3",children:[i.jsxs("button",{type:"button",onClick:()=>Wt(je.id),className:"flex-1 text-left",children:[i.jsx("div",{className:"text-sm font-black text-txt-main",children:je.name}),i.jsx("div",{className:"text-xs text-txt-muted",children:B?`R$ ${Number(((Me=Vt.get(je.id))==null?void 0:Me.price)||0).toFixed(2)}`:"Selecione um deposito"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"w-4 h-4 rounded-full border border-bdr",style:{backgroundColor:je.color||"#f97316"}}),i.jsx("button",{type:"button",onClick:()=>zt(je.id),className:"p-1 rounded hover:bg-red-500/10 text-txt-muted hover:text-red-500","aria-label":`Excluir zona ${je.name}`,children:i.jsx(Gs,{className:"w-4 h-4"})})]})]})},je.id)})})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-surface border border-bdr rounded-2xl p-4 shadow-sm space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(fm,{className:"w-4 h-4 text-orange-500"}),i.jsx("h4",{className:"text-sm font-black text-txt-main uppercase",children:"Detalhes da zona"})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx("label",{className:"text-xs font-bold text-txt-muted uppercase",children:"Nome"}),i.jsx("input",{value:R.name||"",onChange:je=>ae({...R,name:je.target.value}),className:"h-9 px-3 rounded-lg border border-bdr bg-app text-txt-main font-bold text-sm",placeholder:"Zona 1"})]}),i.jsxs("div",{className:"flex items-end gap-3",children:[i.jsxs("div",{className:"flex flex-col gap-1 flex-1",children:[i.jsx("label",{className:"text-xs font-bold text-txt-muted uppercase",children:"Cor (hex)"}),i.jsx("input",{value:R.color||"",onChange:je=>ae({...R,color:je.target.value}),className:"h-9 px-3 rounded-lg border border-bdr bg-app text-txt-main font-bold text-sm",placeholder:"#f97316"})]}),i.jsx("input",{type:"color",value:R.color||"#f97316",onChange:je=>ae({...R,color:je.target.value}),className:"h-9 w-12 border border-bdr rounded-lg bg-app"})]}),I&&i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx("label",{className:"text-xs font-bold text-txt-muted uppercase",children:"Taxa de Entrega (R$)"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-xs text-txt-muted font-bold",children:"R$"}),i.jsx("input",{type:"text",inputMode:"decimal",value:W,onChange:je=>K(je.target.value),className:"flex-1 h-9 px-3 rounded-lg border border-bdr bg-app text-txt-main font-bold text-sm",placeholder:"0,00"})]}),i.jsx("div",{className:"text-[10px] text-txt-muted",children:'Taxa padro para entregas nesta zona. Pode editar depois em "Precificao".'})]}),i.jsx("button",{onClick:Tt,disabled:Y,className:"w-full py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg text-xs font-black uppercase tracking-widest disabled:opacity-50",children:Y?"Salvando...":R.id?"Salvar zona":"Criar zona"}),i.jsx("div",{className:"text-[11px] text-txt-muted",children:"Salva nome, taxa, cor e area desenhada no mapa."})]})]}),i.jsxs("div",{className:"bg-surface border border-bdr rounded-2xl p-4 shadow-sm space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h4",{className:"text-sm font-black text-txt-main uppercase",children:"Setores da zona"}),yt&&i.jsxs("span",{className:"text-xs text-txt-muted",children:["Zona: ",yt.name]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{value:Z,onChange:je=>me(je.target.value),placeholder:"Adicionar bairro",className:"flex-1 h-9 px-3 rounded-lg border border-bdr bg-app text-txt-main text-sm"}),i.jsx("button",{onClick:vt,disabled:!T,className:"h-9 px-3 bg-orange-500 hover:bg-orange-600 text-white rounded-lg text-xs font-black uppercase tracking-widest disabled:opacity-50",children:i.jsx(Wi,{className:"w-4 h-4"})})]}),i.jsx("div",{className:"space-y-2",children:$e.length===0?i.jsx("div",{className:"text-xs text-txt-muted italic",children:"Nenhum setor vinculado."}):$e.map(je=>i.jsxs("div",{className:"flex items-center justify-between gap-2 bg-app border border-bdr rounded-lg px-3 py-2",children:[i.jsx("span",{className:"text-sm font-bold text-txt-main",children:je.name}),i.jsxs("div",{className:"flex items-center gap-2",children:[Zt.length>0&&i.jsxs("select",{value:"",onChange:Me=>Rr(je.id,Me.target.value),className:"h-7 px-2 rounded border border-bdr bg-surface text-xs text-txt-muted",children:[i.jsx("option",{value:"",children:"Mover..."}),Zt.map(Me=>i.jsx("option",{value:Me.id,children:Me.name},Me.id))]}),i.jsx("button",{onClick:()=>fr(je.id),className:"p-1 rounded hover:bg-red-500/10 text-txt-muted hover:text-red-500",children:i.jsx(Gs,{className:"w-4 h-4"})})]})]},je.id))})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[1fr_320px] gap-6",children:[i.jsxs("div",{className:"bg-surface border border-bdr rounded-2xl p-4 shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Nb,{className:"w-4 h-4 text-emerald-500"}),i.jsx("h4",{className:"text-sm font-black text-txt-main uppercase",children:"Mapa (visual)"})]}),yt&&i.jsxs("div",{className:"flex items-center gap-2 text-xs text-txt-muted",children:[i.jsx("span",{className:"w-3 h-3 rounded-full border border-bdr",style:{backgroundColor:yt.color||"#f97316"}}),yt.name]})]}),i.jsxs("div",{className:"mb-3 rounded-lg border border-bdr bg-app px-3 py-2 text-xs text-txt-muted",children:[i.jsx("div",{className:"font-black text-txt-main",children:"Como usar a marcacao"}),i.jsx("div",{children:'1) Selecione uma zona ou clique "Nova zona".'}),i.jsx("div",{children:"2) Pesquise um bairro/rua para gerar a area automaticamente (quando disponivel)."}),i.jsx("div",{children:"3) Ajuste o alcance se quiser buscar outra cidade."}),i.jsx("div",{children:"4) Ajuste/desenhe no mapa (ferramentas a direita)."}),i.jsx("div",{children:'5) Clique "Salvar zona" para gravar area, taxa e cor.'}),i.jsx("div",{children:"Dica: use o lapis para editar e a lixeira para apagar."}),i.jsx("div",{children:"Dica: clique em uma zona no mapa para selecionar."}),xr.length>0&&i.jsxs("div",{className:"mt-1 text-[11px] font-semibold text-red-500",children:["Aviso: area atual invade ",xr.length>1?"zonas":"zona"," ",xr.join(", "),". Ajuste antes de salvar."]}),i.jsxs("div",{className:"mt-1 text-txt-main",children:["Zona ativa: ",Ne,"  Preco deposito: ",Ut,"  Area: ",Lt]})]}),i.jsxs("div",{className:"flex flex-col gap-2 mb-3",children:[i.jsx("label",{className:"text-xs font-bold text-txt-muted uppercase",children:"Pesquisar Bairro/Rua"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{value:z,onChange:je=>{ve(je.target.value),O&&G(null),Q&&oe(null)},onKeyDown:je=>{je.key==="Enter"&&de()},className:"flex-1 h-9 px-3 rounded-lg border border-bdr bg-app text-txt-main text-sm",placeholder:"Ex: Bairro Popular"}),i.jsx("button",{onClick:de,disabled:!z.trim()||ce,className:"h-9 px-4 bg-emerald-500 hover:bg-emerald-600 text-white rounded-lg text-xs font-black uppercase tracking-widest disabled:opacity-50",children:ce?"Buscando...":"Buscar"})]}),i.jsx("label",{className:"text-xs font-bold text-txt-muted uppercase",children:"Alcance (cidade/UF)"}),i.jsx("input",{value:we,onChange:je=>V(je.target.value),className:"h-9 px-3 rounded-lg border border-bdr bg-app text-txt-main text-sm",placeholder:sh}),i.jsxs("div",{className:"text-[11px] text-txt-muted",children:["Padrao: ",sh,". Para estender, edite o alcance."]}),O&&i.jsx("div",{className:"text-xs text-red-500",children:O}),Q&&i.jsx("div",{className:"text-xs text-amber-500",children:Q})]}),i.jsxs("div",{className:"relative",children:[i.jsxs(Ub,{center:[wp.lat,wp.lng],zoom:12,className:"w-full h-[360px] md:h-[480px] lg:h-[560px] xl:h-[640px] rounded-xl overflow-hidden border border-bdr",children:[i.jsx(Fb,{attribution:" OSM contributors",url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),i.jsx(xR,{mapRef:he}),i.jsx(gR,{}),Et.length>0&&i.jsx(j5,{name:"other-zones",style:{zIndex:300},children:Et.map(je=>i.jsx(Tb,{positions:je.polygon,pathOptions:{color:je.color,fillColor:je.color,fillOpacity:.12,weight:1,dashArray:"4 6",className:"cursor-pointer"},eventHandlers:{click:()=>Wt(je.id)},children:i.jsx(Qb,{sticky:!0,children:je.name})},je.id))}),i.jsx(L5,{ref:ct,children:i.jsx(nv,{position:"topright",onCreated:Ke,onEdited:Ye,onDeleted:We,draw:{polygon:{shapeOptions:ft},rectangle:{shapeOptions:ft},polyline:!1,circle:!1,circlemarker:!1,marker:!1},edit:{edit:{selectedPathOptions:ft},remove:{}}})}),i.jsx(mR,{enabled:Re,points:Ht})]}),i.jsx("button",{onClick:()=>_t(je=>!je),className:"absolute top-3 right-3 px-3 py-1.5 bg-white/90 border border-bdr rounded-lg text-[11px] font-black uppercase tracking-widest text-txt-main shadow-sm",children:Re?"Ocultar Mapa de Calor":"Ver Mapa de Calor"})]})]}),pr]})]})]}):i.jsx("div",{className:"max-w-[820px]",children:pr})]})})]})},vR=({onClose:r})=>{const[e,t]=q.useState([]),[n,a]=q.useState([]),[o,c]=q.useState(!0),[d,h]=q.useState(null),[m,g]=q.useState("PENDENTE");q.useEffect(()=>{let C=!0;const I=async()=>{const[R,ae]=await Promise.all([listDeliveryJobs(),getAllDriversStatus()]);C&&(t(R),a(ae),c(!1))};I();const F=setInterval(I,3e3);return()=>{C=!1,clearInterval(F)}},[]);const b=e.filter(C=>m==="PENDENTE"?C.status==="PENDENTE_ENTREGA"||C.status==="DEVOLVIDA":m==="EM_ROTA"?C.status==="EM_ROTA":m==="FINALIZADO"?C.status==="CONCLUIDA"||C.status==="CANCELADA":!0).sort((C,I)=>(C.assignedAt||0)-(I.assignedAt||0)),B=n.filter(C=>C.status==="DISPONIVEL"&&Date.now()-C.lastSeenAt<45e3),_=async(C,I)=>{confirm("Iniciar entrega com este entregador?")&&(await startRoute(C,I),h(null))},k=async C=>{confirm("Confirmar entrega realizada?")&&(await completeJob(C),h(null))},j=async(C,I)=>{confirm("Confirmar devoluo da entrega?")&&(await returnJob(C,I),h(null))},T=async C=>{confirm("Cancelar esta entrega? Esta ao no pode ser desfeita.")&&(await cancelJob(C),h(null))};return i.jsxs("div",{className:"fixed inset-0 bg-app z-50 flex flex-col animate-in slide-in-from-bottom-4 duration-300",children:[i.jsxs("div",{className:"bg-surface border-b border-bdr px-6 py-4 flex justify-between items-center shadow-sm shrink-0",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"bg-indigo-500/10 p-2.5 rounded-xl border border-indigo-500/20",children:i.jsx(No,{className:"w-6 h-6 text-indigo-600"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-black text-txt-main tracking-tight",children:"Despacho de Entregas"}),i.jsx("p",{className:"text-xs text-txt-muted font-bold uppercase tracking-widest",children:"Controle de Frota em Tempo Real"})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"text-xs font-mono text-txt-muted flex items-center gap-2 bg-app px-3 py-1 rounded-lg border border-bdr",children:[o?i.jsx(vx,{className:"w-3 h-3 text-amber-500 animate-spin"}):i.jsx(dm,{className:"w-3 h-3 text-green-500 animate-pulse"}),o?"Sincronizando...":"Ao Vivo"]}),i.jsx("button",{onClick:r,className:"p-2 hover:bg-red-500/10 text-txt-muted hover:text-red-500 rounded-full transition-colors",children:i.jsx(Pn,{className:"w-6 h-6"})})]})]}),i.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[i.jsxs("div",{className:"flex-1 flex flex-col border-r border-bdr bg-app/50",children:[i.jsx("div",{className:"p-4 flex gap-2 border-b border-bdr bg-surface",children:["PENDENTE","EM_ROTA","FINALIZADO"].map(C=>i.jsx("button",{onClick:()=>{g(C),h(null)},className:`flex-1 py-2 text-xs font-black uppercase rounded-lg border transition-all ${m===C?"bg-indigo-500 text-white border-indigo-600":"bg-app text-txt-muted border-bdr hover:bg-white"}`,children:C==="PENDENTE"?"PENDENTE":C==="EM_ROTA"?"EM ROTA":"FINALIZADO"},C))}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:[b.length===0&&i.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-txt-muted opacity-50",children:[i.jsx(No,{className:"w-12 h-12 mb-2"}),i.jsx("p",{className:"font-bold text-sm",children:"Nenhuma entrega nesta fila"})]}),b.map(C=>i.jsxs("div",{onClick:()=>h(C.id),className:`bg-surface p-4 rounded-xl border-2 transition-all cursor-pointer relative group ${d===C.id?"border-indigo-500 ring-2 ring-indigo-500/20 shadow-md":"border-bdr hover:border-indigo-300"}`,children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsxs("span",{className:"font-black text-sm text-txt-main",children:["#",C.osId.slice(0,8),"..."]}),i.jsx("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded uppercase ${C.status==="PENDENTE_ENTREGA"?"bg-amber-100 text-amber-700":C.status==="EM_ROTA"?"bg-blue-100 text-blue-700":C.status==="DEVOLVIDA"?"bg-red-100 text-red-700":C.status==="CONCLUIDA"?"bg-green-100 text-green-700":C.status==="CANCELADA"?"bg-gray-100 text-gray-700":"bg-purple-100 text-purple-700"}`,children:C.status==="PENDENTE_ENTREGA"?"PENDENTE":C.status.replace("_"," ")})]}),i.jsx("h3",{className:"font-bold text-base text-txt-main leading-tight mb-1",children:C.customerName}),i.jsxs("p",{className:"text-xs text-txt-muted flex items-center gap-1",children:[i.jsx(jA,{className:"w-3 h-3"})," ",C.address.full]}),i.jsxs("div",{className:"mt-3 flex justify-between items-end border-t border-bdr pt-2",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-[10px] text-txt-muted uppercase font-bold",children:"Itens"}),i.jsx("p",{className:"text-xs font-medium max-w-[150px] truncate",children:C.itemsSummary})]}),i.jsx("div",{className:"text-right",children:i.jsxs("p",{className:"text-lg font-black text-emerald-600",children:["R$ ",C.totalValue.toFixed(2)]})})]}),C.refusalReason&&i.jsxs("div",{className:"mt-2 bg-red-50 text-red-600 text-[10px] font-bold p-2 rounded border border-red-100",children:["Recusada: ",C.refusalReason]})]},C.id))]})]}),i.jsxs("div",{className:"w-96 bg-surface flex flex-col",children:[i.jsxs("div",{className:"p-4 border-b border-bdr bg-indigo-50/50",children:[i.jsx("h3",{className:"font-black text-sm text-indigo-900 uppercase tracking-widest mb-1",children:"Aes de Entrega"}),i.jsx("p",{className:"text-xs text-indigo-700",children:"Selecione uma entrega  esquerda para gerenciar."})]}),d&&(()=>{const C=e.find(I=>I.id===d);return C?i.jsxs("div",{className:"p-4 space-y-4",children:[i.jsxs("div",{className:"bg-app p-4 rounded-xl border border-bdr",children:[i.jsx("h4",{className:"font-bold text-txt-main mb-2",children:C.customerName}),i.jsx("p",{className:"text-xs text-txt-muted mb-2",children:C.address.full}),i.jsxs("p",{className:"text-lg font-black text-emerald-600",children:["R$ ",C.totalValue.toFixed(2)]})]}),C.status==="PENDENTE_ENTREGA"&&i.jsxs(i.Fragment,{children:[i.jsx("p",{className:"text-xs font-bold text-txt-muted uppercase",children:"Selecione um entregador:"}),i.jsxs("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:[B.map(I=>i.jsxs("button",{onClick:()=>_(d,I.driverId),className:"w-full flex items-center justify-between p-3 rounded-lg border border-bdr bg-app hover:bg-emerald-50 hover:border-emerald-200 transition-colors",children:[i.jsx("span",{className:"font-bold text-sm",children:I.driverName}),i.jsxs("span",{className:"flex items-center gap-1 text-emerald-600 text-xs font-bold",children:["Iniciar Rota ",i.jsx(Oy,{className:"w-3 h-3"})]})]},I.driverId)),B.length===0&&i.jsx("p",{className:"text-xs text-txt-muted text-center py-4",children:"Nenhum entregador disponvel"})]}),i.jsxs("button",{onClick:()=>T(d),className:"w-full py-2 bg-red-50 text-red-600 border border-red-200 rounded-lg text-xs font-bold hover:bg-red-100 transition-colors flex items-center justify-center gap-2",children:[i.jsx(n0,{className:"w-4 h-4"})," Cancelar Entrega"]})]}),C.status==="EM_ROTA"&&i.jsxs("div",{className:"space-y-3",children:[i.jsxs("p",{className:"text-xs font-bold text-txt-muted uppercase mb-2",children:["Entregador: ",C.driverName||"No atribudo"]}),i.jsxs("button",{onClick:()=>k(d),className:"w-full py-3 bg-emerald-500 text-white rounded-lg text-sm font-bold hover:bg-emerald-600 transition-colors flex items-center justify-center gap-2",children:[i.jsx(iE,{className:"w-5 h-5"})," Confirmar Entrega"]}),i.jsxs("button",{onClick:()=>{const I=prompt("Motivo da devoluo:");I&&j(d,I)},className:"w-full py-2 bg-orange-50 text-orange-600 border border-orange-200 rounded-lg text-xs font-bold hover:bg-orange-100 transition-colors flex items-center justify-center gap-2",children:[i.jsx(TS,{className:"w-4 h-4"})," Devolver (Falha na Entrega)"]}),i.jsxs("button",{onClick:()=>T(d),className:"w-full py-2 bg-red-50 text-red-600 border border-red-200 rounded-lg text-xs font-bold hover:bg-red-100 transition-colors flex items-center justify-center gap-2",children:[i.jsx(n0,{className:"w-4 h-4"})," Cancelar"]})]}),C.status==="DEVOLVIDA"&&i.jsxs("div",{className:"space-y-3",children:[C.refusalReason&&i.jsxs("div",{className:"bg-red-50 text-red-600 text-xs font-bold p-3 rounded-lg border border-red-100",children:["Motivo: ",C.refusalReason]}),i.jsx("p",{className:"text-xs font-bold text-txt-muted uppercase",children:"Reenviar para entrega:"}),i.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:B.map(I=>i.jsxs("button",{onClick:()=>_(d,I.driverId),className:"w-full flex items-center justify-between p-3 rounded-lg border border-bdr bg-app hover:bg-emerald-50 hover:border-emerald-200 transition-colors",children:[i.jsx("span",{className:"font-bold text-sm",children:I.driverName}),i.jsxs("span",{className:"flex items-center gap-1 text-emerald-600 text-xs font-bold",children:["Reenviar ",i.jsx(Oy,{className:"w-3 h-3"})]})]},I.driverId))}),i.jsxs("button",{onClick:()=>T(d),className:"w-full py-2 bg-red-50 text-red-600 border border-red-200 rounded-lg text-xs font-bold hover:bg-red-100 transition-colors flex items-center justify-center gap-2",children:[i.jsx(n0,{className:"w-4 h-4"})," Cancelar Definitivamente"]})]}),(C.status==="CONCLUIDA"||C.status==="CANCELADA")&&i.jsxs("div",{className:"text-center py-8 text-txt-muted",children:[i.jsx(Yl,{className:"w-12 h-12 mx-auto mb-2 opacity-30"}),i.jsx("p",{className:"text-sm font-bold",children:"Esta entrega j foi finalizada"})]})]}):null})(),!d&&i.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-txt-muted p-8",children:[i.jsx(No,{className:"w-16 h-16 mb-4 opacity-20"}),i.jsx("p",{className:"text-sm font-bold text-center",children:"Selecione uma entrega na lista para ver as opes"})]}),i.jsxs("div",{className:"mt-auto border-t border-bdr p-4 bg-app",children:[i.jsx("p",{className:"text-xs font-bold text-txt-muted uppercase mb-2",children:"Entregadores Online"}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.filter(C=>Date.now()-C.lastSeenAt<45e3).map(C=>i.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-bold ${C.status==="DISPONIVEL"?"bg-emerald-100 text-emerald-700":"bg-blue-100 text-blue-700"}`,children:C.driverName},C.driverId)),n.filter(C=>Date.now()-C.lastSeenAt<45e3).length===0&&i.jsx("span",{className:"text-xs text-txt-muted",children:"Nenhum online"})]})]})]})]})]})},Cp={nome:"",endereco:"",numero:"",cor:"#6366f1",ativo:!0,require_stock_audit:!1},Ep={codigo:"",nome:"",tipo:"OUTROS",movement_type:"SIMPLE",return_product_id:null,preco_venda:0,preco_custo:0,track_stock:!0,ativo:!0},o5=[{value:"GAS_CHEIO",label:"Gs Cheio",icon:""},{value:"VASILHAME_VAZIO",label:"Vasilhame Vazio",icon:""},{value:"AGUA",label:"gua",icon:""},{value:"OUTROS",label:"Outros",icon:""}],l5=[{value:"SIMPLE",label:"Simples",desc:"Venda normal sem retorno de vasilhame",icon:qS},{value:"EXCHANGE",label:"Troca",desc:"Cliente devolve vazio e leva cheio",icon:kS},{value:"FULL",label:"Completa",desc:"Vende produto + casco (cliente novo)",icon:Zl}],yR=["#6366f1","#8b5cf6","#ec4899","#ef4444","#f97316","#eab308","#22c55e","#14b8a6","#3b82f6","#64748b"],wR=({onClose:r,currentUser:e})=>{var xr,Rt;const[t,n]=q.useState("cadastro"),[a,o]=q.useState(Cp),[c,d]=q.useState(!1),[h,m]=q.useState(!1),[g,b]=q.useState(""),[B,_]=q.useState(Ep),[k,j]=q.useState(!1),[T,C]=q.useState(!1),[I,F]=q.useState(""),[R,ae]=q.useState(null),[Z,me]=q.useState({originId:"",destId:"",productId:"",quantidade:1}),[ee,H]=q.useState(!1),[W,K]=q.useState({depositId:"",counts:{}}),[$,re]=q.useState(!1),[le,ge]=q.useState(null),[Y,pe]=q.useState(""),[z,ve]=q.useState(null),[we,V]=q.useState(!1),[O,G]=q.useState(!1),[Q,oe]=q.useState(null),ce=useLiveQuery(()=>db.deposits.toArray())??[],Be=q.useMemo(()=>ce.filter(de=>de.ativo!==!1),[ce]),Se=useLiveQuery(()=>db.employees.toArray())??[],Fe=useLiveQuery(()=>db.products.filter(de=>de.ativo!==!1&&(de.track_stock??!0)!==!1&&de.type!=="SERVICE").toArray())??[],He=useLiveQuery(()=>db.products.toArray())??[],it=useLiveQuery(()=>db.service_orders.toArray())??[],Re=useLiveQuery(()=>db.stock_balance.toArray())??[],_t=(e==null?void 0:e.cargo)==="GERENTE",It=q.useMemo(()=>{if(!g)return ce;const de=g.toLowerCase();return ce.filter(Ke=>{var Ye,We;return((Ye=Ke.nome)==null?void 0:Ye.toLowerCase().includes(de))||((We=Ke.endereco)==null?void 0:We.toLowerCase().includes(de))})},[ce,g]),he=q.useMemo(()=>{if(!I)return He;const de=I.toLowerCase();return He.filter(Ke=>{var Ye,We;return((Ye=Ke.nome)==null?void 0:Ye.toLowerCase().includes(de))||((We=Ke.codigo)==null?void 0:We.toLowerCase().includes(de))})},[He,I]),ct=q.useMemo(()=>He.filter(de=>de.tipo==="VASILHAME_VAZIO"&&de.ativo!==!1),[He]),yt=q.useMemo(()=>{const de={};return Re.forEach(Ke=>{const Ye=Ke.deposit_id,We=Ke.product_id;de[Ye]||(de[Ye]={}),de[Ye][We]=Number(Ke.quantidade_atual??0)}),de},[Re]),qt=()=>{o(Cp),d(!0)},$e=de=>{o({id:de.id,nome:de.nome||"",endereco:de.endereco||"",numero:de.numero||"",cor:de.cor||"#6366f1",ativo:de.ativo??!0,require_stock_audit:de.require_stock_audit??!1}),d(!0)},Zt=()=>{o(Cp),d(!1)},Qt=async()=>{var de,Ke;if(!a.nome.trim()){alert("O nome do depsito  obrigatrio!");return}m(!0);try{const Ye={id:a.id||crypto.randomUUID(),nome:a.nome.trim(),endereco:((de=a.endereco)==null?void 0:de.trim())||void 0,cor:a.cor||"#6366f1",ativo:a.ativo,require_stock_audit:a.require_stock_audit};(Ke=a.numero)!=null&&Ke.trim()&&(Ye.endereco=Ye.endereco?`${Ye.endereco}, ${a.numero.trim()}`:a.numero.trim()),await upsertDeposit(Ye),o(Cp),d(!1)}catch(Ye){console.error("Erro ao salvar depsito:",Ye),alert("Erro ao salvar depsito. Tente novamente.")}finally{m(!1)}},kt=async de=>{const Ke=Se.filter(Tt=>Tt.depositoId===de.id),Ye=yt[de.id]||{},We=Object.values(Ye).some(Tt=>Tt>0),tt=it.filter(Tt=>Tt.depositoId===de.id&&(Tt.status==="PENDENTE"||Tt.statusEntrega==="PENDENTE_ENTREGA"||Tt.statusEntrega==="EM_ROTA"));ge({deposit:de,hasEmployees:Ke.length>0,hasStock:We,hasPendingOS:tt.length>0,employees:Ke}),pe(""),ve(null)},Kt=async()=>{var Tt;if(!le)return;const{deposit:de,hasEmployees:Ke,hasStock:Ye,hasPendingOS:We,employees:tt}=le;if(We){alert("No  possvel excluir: existem O.S. pendentes neste depsito.");return}if(Ke&&!Y){alert("Selecione um depsito para migrar os colaboradores ou cancele.");return}if(Ye&&!z){alert("Selecione o que fazer com o estoque.");return}m(!0);try{if(Ke&&Y)for(const zt of tt)await db.employees.update(zt.id,{depositoId:Y});if(Ye&&z==="migrate"&&Y){const zt=Re.filter(Wt=>Wt.deposit_id===de.id);for(const Wt of zt)Wt.quantidade_atual>0&&await applyMovement({id:crypto.randomUUID(),dataHora:new Date().toISOString(),depositoId:Y,produtoId:Wt.product_id,produtoNome:((Tt=Fe.find(Lr=>Lr.id===Wt.product_id))==null?void 0:Tt.nome)||"Produto",tipo:"ENTRADA",quantidade:Wt.quantidade_atual,origem:"TRANSFERENCIA",usuarioId:(e==null?void 0:e.id)||"system",usuarioNome:(e==null?void 0:e.nome)||"Sistema",motivo:`Migrao de estoque do depsito ${de.nome} (excludo)`});await db.stock_balance.where("deposit_id").equals(de.id).delete()}else Ye&&z==="ignore"&&await db.stock_balance.where("deposit_id").equals(de.id).delete();await deleteDeposit(de.id),ge(null)}catch(zt){console.error("Erro ao excluir depsito:",zt),alert("Erro ao excluir depsito. Tente novamente.")}finally{m(!1)}},Jt=()=>{_(Ep),j(!0)},mr=de=>{_({id:de.id,codigo:de.codigo||"",nome:de.nome||"",tipo:de.tipo||"OUTROS",movement_type:de.movement_type||"SIMPLE",return_product_id:de.return_product_id||null,preco_venda:de.preco_venda||0,preco_custo:de.preco_custo||0,track_stock:de.track_stock??!0,ativo:de.ativo??!0}),j(!0)},Yt=()=>{_(Ep),j(!1)},ar=async()=>{if(!B.nome.trim()){alert("O nome do produto  obrigatrio!");return}if(B.movement_type==="EXCHANGE"&&!B.return_product_id){alert("Para movimento tipo TROCA,  obrigatrio vincular um vasilhame vazio!");return}C(!0);try{const de={id:B.id||crypto.randomUUID(),codigo:B.codigo.trim()||null,nome:B.nome.trim(),tipo:B.tipo,movement_type:B.movement_type,return_product_id:B.movement_type==="EXCHANGE"?B.return_product_id:null,preco_venda:B.preco_venda||0,preco_custo:B.preco_custo||0,preco_padrao:B.preco_venda||0,track_stock:B.track_stock,ativo:B.ativo,descricao:null,unidade:"un",product_group:null,imagem_url:null,deposit_id:null,marcacao:B.preco_custo>0?(B.preco_venda-B.preco_custo)/B.preco_custo*100:0,tracks_empties:B.tipo==="GAS_CHEIO"||B.movement_type==="EXCHANGE",created_at:B.id?void 0:new Date().toISOString(),updated_at:new Date().toISOString()};if(await db.products.put(de),!B.id&&B.tipo==="GAS_CHEIO"&&B.movement_type==="EXCHANGE"&&!B.return_product_id){const Ke={id:crypto.randomUUID(),codigo:`${de.codigo}_VAZIO`,nome:`Vasilhame ${B.nome.trim()} (Vazio)`,tipo:"VASILHAME_VAZIO",movement_type:"SIMPLE",return_product_id:null,preco_venda:0,preco_custo:0,preco_padrao:0,track_stock:!0,ativo:!0,descricao:null,unidade:"un",product_group:null,imagem_url:null,deposit_id:null,marcacao:0,tracks_empties:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};await db.products.put(Ke),await db.products.update(de.id,{return_product_id:Ke.id})}_(Ep),j(!1),alert("Produto salvo com sucesso!")}catch(de){console.error("Erro ao salvar produto:",de),alert("Erro ao salvar produto. Tente novamente.")}finally{C(!1)}},cr=async()=>{var Ke,Ye,We,tt;if(!R)return;if(it.some(Tt=>{var zt;return(zt=Tt.itens)==null?void 0:zt.some(Wt=>Wt.produtoId===R.id)})){alert("Este produto no pode ser excludo pois est sendo usado em Ordens de Servio."),ae(null);return}C(!0);try{await db.products.delete(R.id);const Tt=await((Ke=db.stock_balance)==null?void 0:Ke.filter(Wt=>Wt.product_id===R.id).toArray())??[];for(const Wt of Tt)await((Ye=db.stock_balance)==null?void 0:Ye.delete(Wt.id));const zt=await((We=db.product_pricing)==null?void 0:We.filter(Wt=>Wt.productId===R.id).toArray())??[];for(const Wt of zt)await((tt=db.product_pricing)==null?void 0:tt.delete(Wt.id));ae(null),alert("Produto excludo com sucesso!")}catch(Tt){console.error("Erro ao excluir produto:",Tt),alert("Erro ao excluir produto.")}finally{C(!1)}},Ht=async()=>{var Tt,zt,Wt;const{originId:de,destId:Ke,productId:Ye,quantidade:We}=Z;if(!de||!Ke||!Ye||We<=0){alert("Preencha todos os campos corretamente.");return}if(de===Ke){alert("Origem e destino devem ser diferentes.");return}const tt=((Tt=yt[de])==null?void 0:Tt[Ye])??0;if(tt<We){alert(`Estoque insuficiente. Disponvel: ${tt}`);return}H(!0);try{const Lr=Fe.find(fr=>fr.id===Ye),vt=(Lr==null?void 0:Lr.nome)||"Produto",Rr=new Date().toISOString();await applyMovement({id:crypto.randomUUID(),dataHora:Rr,depositoId:de,produtoId:Ye,produtoNome:vt,tipo:"SAIDA",quantidade:We,origem:"TRANSFERENCIA",usuarioId:(e==null?void 0:e.id)||"system",usuarioNome:(e==null?void 0:e.nome)||"Sistema",motivo:`Transferncia para ${(zt=Be.find(fr=>fr.id===Ke))==null?void 0:zt.nome}`}),await applyMovement({id:crypto.randomUUID(),dataHora:Rr,depositoId:Ke,produtoId:Ye,produtoNome:vt,tipo:"ENTRADA",quantidade:We,origem:"TRANSFERENCIA",usuarioId:(e==null?void 0:e.id)||"system",usuarioNome:(e==null?void 0:e.nome)||"Sistema",motivo:`Transferncia de ${(Wt=Be.find(fr=>fr.id===de))==null?void 0:Wt.nome}`}),me({originId:"",destId:"",productId:"",quantidade:1}),alert("Transferncia realizada com sucesso!")}catch(Lr){console.error("Erro na transferncia:",Lr),alert("Erro ao realizar transferncia.")}finally{H(!1)}},Vt=(de,Ke)=>{const Ye=Ke===""?"":parseInt(Ke);K(We=>({...We,counts:{...We.counts,[de]:Ye}}))},Dt=async()=>{var Ke;if(!W.depositId){alert("Selecione um depsito.");return}const de=Object.entries(W.counts).filter(([Ye,We])=>We!==""&&We!==void 0);if(de.length===0){alert("Preencha a contagem de pelo menos um produto.");return}re(!0);try{let Ye=0,We=0;for(const[Tt,zt]of de){if(zt===""||zt===void 0)continue;const Wt=((Ke=yt[W.depositId])==null?void 0:Ke[Tt])??0,Lr=Number(zt),vt=Lr-Wt;if(vt===0)continue;const Rr=Fe.find(pr=>pr.id===Tt);Wt===0&&Lr>0?(await applyMovement({id:crypto.randomUUID(),dataHora:new Date().toISOString(),depositoId:W.depositId,produtoId:Tt,produtoNome:(Rr==null?void 0:Rr.nome)||"Produto",tipo:"CARGA_INICIAL",quantidade:Lr,origem:"TELA_CONTAGEM_MOVIMENTACAO",usuarioId:(e==null?void 0:e.id)||"system",usuarioNome:(e==null?void 0:e.nome)||"Sistema",motivo:"Carga inicial de estoque",meta:{beforeQty:0,afterQty:Lr,isInitialLoad:!0}}),Ye++):(await applyMovement({id:crypto.randomUUID(),dataHora:new Date().toISOString(),depositoId:W.depositId,produtoId:Tt,produtoNome:(Rr==null?void 0:Rr.nome)||"Produto",tipo:"AJUSTE_CONTAGEM",quantidade:Math.abs(vt),origem:"TELA_CONTAGEM_MOVIMENTACAO",usuarioId:(e==null?void 0:e.id)||"system",usuarioNome:(e==null?void 0:e.nome)||"Sistema",motivo:vt>0?"Sobra identificada na contagem":"Falta identificada na contagem",meta:{beforeQty:Wt,afterQty:Lr,diff:vt}}),We++)}K({depositId:W.depositId,counts:{}});const tt=[];Ye>0&&tt.push(`${Ye} produto(s) com carga inicial`),We>0&&tt.push(`${We} produto(s) ajustado(s)`),alert(`Registrado com sucesso!
${tt.join(`
`)}`)}catch(Ye){console.error("Erro ao salvar contagem:",Ye),alert("Erro ao salvar contagem.")}finally{re(!1)}},Ne=q.useCallback(async()=>{var de;G(!0);try{const Ke=await db.products.toArray(),Ye=await db.deposits.toArray(),We=await db.stock_balance.toArray(),tt=await((de=db.product_pricing)==null?void 0:de.toArray())??[],Tt=new Set(Ye.map(fr=>fr.id)),zt=new Set(Ke.map(fr=>fr.id)),Wt={};Ke.forEach(fr=>{const pr=(fr.nome||fr.name||"").toLowerCase().trim();Wt[pr]||(Wt[pr]=[]),Wt[pr].push(fr)});const Lr=Object.entries(Wt).filter(([fr,pr])=>pr.length>1).map(([fr,pr])=>({id:pr[0].id,nome:pr[0].nome||pr[0].name||"Sem nome",count:pr.length,allIds:pr.map(Pr=>Pr.id)})),vt=We.filter(fr=>!Tt.has(fr.deposit_id)||!zt.has(fr.product_id)),Rr=tt.filter(fr=>!Tt.has(fr.depositoId)||!zt.has(fr.productId)).map(fr=>({product_id:fr.productId,deposit_id:fr.depositoId}));oe({duplicateProducts:Lr,orphanStock:vt,orphanPricing:Rr})}catch(Ke){console.error("Erro ao analisar dados:",Ke),alert("Erro ao analisar dados rfos.")}finally{G(!1)}},[]),et=async()=>{V(!0),await Ne()},ft=async()=>{var Ke,Ye,We,tt;if(!(!(Q!=null&&Q.duplicateProducts.length)||!confirm(`Isso ir manter apenas 1 produto de cada nome duplicado e remover os outros.

Produtos afetados: ${Q.duplicateProducts.map(Tt=>`${Tt.nome} (${Tt.count}x)`).join(", ")}

Deseja continuar?`))){G(!0);try{const Tt=await db.products.toArray(),zt={};Tt.forEach(Lr=>{const vt=(Lr.nome||Lr.name||"").toLowerCase().trim();zt[vt]||(zt[vt]=[]),zt[vt].push(Lr)});let Wt=0;for(const[Lr,vt]of Object.entries(zt))if(vt.length>1){const Rr=vt.slice(1).map(fr=>fr.id);for(const fr of Rr){await db.products.delete(fr);const pr=await((Ke=db.stock_balance)==null?void 0:Ke.filter(je=>je.product_id===fr).toArray())??[];for(const je of pr)await((Ye=db.stock_balance)==null?void 0:Ye.delete(je.id));const Pr=await((We=db.product_pricing)==null?void 0:We.filter(je=>je.product_id===fr).toArray())??[];for(const je of Pr)await((tt=db.product_pricing)==null?void 0:tt.delete(je.id));Wt++}}alert(`${Wt} produto(s) duplicado(s) removido(s) com sucesso!`),await Ne()}catch(Tt){console.error("Erro ao limpar duplicados:",Tt),alert("Erro ao limpar produtos duplicados.")}finally{G(!1)}}},Lt=async()=>{var Ke,Ye;if(!(!(Q!=null&&Q.orphanStock.length)||!confirm(`Isso ir remover ${Q.orphanStock.length} registro(s) de estoque rfo.

Deseja continuar?`))){G(!0);try{const We=await((Ke=db.stock_balance)==null?void 0:Ke.toArray())??[];for(const tt of Q.orphanStock){const Tt=We.find(zt=>zt.deposit_id===tt.deposit_id&&zt.product_id===tt.product_id);Tt!=null&&Tt.id&&await((Ye=db.stock_balance)==null?void 0:Ye.delete(Tt.id))}alert("Estoque rfo removido com sucesso!"),await Ne()}catch(We){console.error("Erro ao limpar estoque rfo:",We),alert("Erro ao limpar estoque rfo.")}finally{G(!1)}}},Ut=async()=>{var Ke,Ye;if(!(!(Q!=null&&Q.orphanPricing.length)||!confirm(`Isso ir remover ${Q.orphanPricing.length} registro(s) de preo rfo.

Deseja continuar?`))){G(!0);try{const We=await((Ke=db.product_pricing)==null?void 0:Ke.toArray())??[];for(const tt of Q.orphanPricing){const Tt=We.find(zt=>zt.productId===tt.product_id&&zt.depositoId===tt.deposit_id);Tt!=null&&Tt.id&&await((Ye=db.product_pricing)==null?void 0:Ye.delete(Tt.id))}alert("Preos rfos removidos com sucesso!"),await Ne()}catch(We){console.error("Erro ao limpar preos rfos:",We),alert("Erro ao limpar preos rfos.")}finally{G(!1)}}},Et=async()=>{if(((Q==null?void 0:Q.duplicateProducts.length)||0)+((Q==null?void 0:Q.orphanStock.length)||0)+((Q==null?void 0:Q.orphanPricing.length)||0)===0){alert("Nenhum dado rfo encontrado!");return}if(confirm(`Isso ir limpar TODOS os dados rfos:

 ${(Q==null?void 0:Q.duplicateProducts.length)||0} produto(s) duplicado(s)
 ${(Q==null?void 0:Q.orphanStock.length)||0} registro(s) de estoque rfo
 ${(Q==null?void 0:Q.orphanPricing.length)||0} registro(s) de preo rfo

Deseja continuar?`)){G(!0);try{Q!=null&&Q.duplicateProducts.length&&await ft(),Q!=null&&Q.orphanStock.length&&await Lt(),Q!=null&&Q.orphanPricing.length&&await Ut(),alert("Todos os dados rfos foram limpos!")}catch(Ye){console.error("Erro ao limpar dados:",Ye)}finally{G(!1)}}};return i.jsxs("div",{className:"fixed inset-0 bg-app z-50 flex flex-col animate-in slide-in-from-bottom-4 duration-300",children:[i.jsxs("header",{className:"bg-surface border-b border-bdr px-6 py-4 flex justify-between items-center shadow-sm shrink-0",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"bg-purple-500/10 p-3 rounded-2xl border border-purple-500/20",children:i.jsx(Fc,{className:"w-6 h-6 text-purple-600"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-black text-txt-main tracking-tight",children:"Depsitos & Estoque"}),i.jsx("p",{className:"text-xs text-txt-muted font-bold uppercase tracking-widest",children:"Gesto Central"})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[_t&&i.jsx("button",{onClick:et,className:"p-2 hover:bg-orange-500/10 hover:text-orange-500 rounded-full text-txt-muted transition-colors",title:"Manuteno de Dados",children:i.jsx(hd,{className:"w-5 h-5"})}),i.jsx("button",{onClick:r,className:"p-2 hover:bg-red-500/10 hover:text-red-500 rounded-full text-txt-muted transition-colors",children:i.jsx(Pn,{className:"w-6 h-6"})})]})]}),i.jsx("nav",{className:"bg-surface border-b border-bdr px-6",children:i.jsx("div",{className:"flex gap-8 overflow-x-auto",children:[{id:"cadastro",label:"Depsitos",icon:Fc},{id:"produtos",label:"Produtos",icon:jp},{id:"estoque",label:"Estoque",icon:Zl},{id:"transferencia",label:"Transferncia",icon:r0},{id:"contagem",label:"Contagem",icon:Bb}].map(de=>i.jsxs("button",{onClick:()=>n(de.id),className:`pb-4 pt-4 text-sm font-black uppercase tracking-widest border-b-4 transition-all flex items-center gap-2 ${t===de.id?"border-purple-500 text-purple-600":"border-transparent text-txt-muted hover:text-txt-main"}`,children:[i.jsx(de.icon,{className:"w-4 h-4"}),de.label]},de.id))})}),i.jsx("main",{className:"flex-1 overflow-y-auto p-6 bg-app",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[t==="cadastro"&&i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[400px_1fr] gap-6",children:[i.jsxs("div",{className:"bg-surface rounded-2xl border border-bdr overflow-hidden",children:[i.jsxs("div",{className:"p-4 border-b border-bdr bg-app/50 flex items-center justify-between",children:[i.jsxs("h3",{className:"text-sm font-black text-txt-main uppercase tracking-wide",children:["Depsitos (",ce.length,")"]}),_t&&i.jsxs("button",{onClick:qt,className:"bg-purple-500 hover:bg-purple-600 text-white px-3 py-1.5 rounded-lg text-xs font-black flex items-center gap-1.5 transition-colors",children:[i.jsx(Wi,{className:"w-3.5 h-3.5"}),"Novo"]})]}),i.jsx("div",{className:"p-3 border-b border-bdr",children:i.jsxs("div",{className:"relative",children:[i.jsx(Xl,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-txt-muted"}),i.jsx("input",{type:"text",placeholder:"Buscar depsito...",value:g,onChange:de=>b(de.target.value),className:"w-full pl-9 pr-4 py-2 bg-app border border-bdr rounded-lg text-sm focus:ring-2 focus:ring-purple-500/20 outline-none"})]})}),i.jsx("div",{className:"divide-y divide-bdr max-h-[500px] overflow-y-auto",children:It.length===0?i.jsxs("div",{className:"p-8 text-center text-txt-muted",children:[i.jsx(Fc,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),i.jsx("p",{className:"font-bold",children:"Nenhum depsito encontrado"})]}):It.map(de=>{const Ke=Se.filter(We=>We.depositoId===de.id).length,Ye=Object.values(yt[de.id]||{}).reduce((We,tt)=>We+tt,0);return i.jsx("div",{className:`p-4 hover:bg-app/50 transition-colors ${de.ativo===!1?"opacity-50":""}`,children:i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center border-2",style:{backgroundColor:`${de.cor||"#6366f1"}20`,borderColor:de.cor||"#6366f1"},children:i.jsx(Fc,{className:"w-5 h-5",style:{color:de.cor||"#6366f1"}})}),i.jsxs("div",{children:[i.jsxs("h4",{className:"font-bold text-txt-main flex items-center gap-2",children:[de.nome,de.ativo===!1&&i.jsx("span",{className:"text-[10px] bg-red-500/10 text-red-500 px-1.5 py-0.5 rounded font-black uppercase",children:"Inativo"})]}),de.endereco&&i.jsxs("p",{className:"text-xs text-txt-muted flex items-center gap-1 mt-0.5",children:[i.jsx(jA,{className:"w-3 h-3"}),de.endereco]}),i.jsxs("div",{className:"flex gap-3 mt-1.5",children:[i.jsxs("span",{className:"text-[10px] font-bold text-txt-muted bg-app px-1.5 py-0.5 rounded",children:[Ke," colaborador",Ke!==1?"es":""]}),i.jsxs("span",{className:"text-[10px] font-bold text-txt-muted bg-app px-1.5 py-0.5 rounded",children:[Ye," itens estoque"]})]})]})]}),_t&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("button",{onClick:()=>$e(de),className:"p-2 hover:bg-blue-500/10 text-blue-500 rounded-lg transition-colors",title:"Editar",children:i.jsx(Ph,{className:"w-4 h-4"})}),i.jsx("button",{onClick:()=>kt(de),className:"p-2 hover:bg-red-500/10 text-red-500 rounded-lg transition-colors",title:"Excluir",children:i.jsx(Gs,{className:"w-4 h-4"})})]})]})},de.id)})})]}),i.jsxs("div",{className:"bg-surface rounded-2xl border border-bdr overflow-hidden",children:[i.jsx("div",{className:"p-4 border-b border-bdr bg-app/50",children:i.jsx("h3",{className:"text-sm font-black text-txt-main uppercase tracking-wide",children:c?a.id?"Editar Depsito":"Novo Depsito":"Detalhes do Depsito"})}),_t?c?i.jsxs("div",{className:"p-6 space-y-5",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-black text-txt-muted uppercase mb-2",children:"Nome do Depsito *"}),i.jsx("input",{type:"text",value:a.nome,onChange:de=>o({...a,nome:de.target.value}),placeholder:"Ex: Matriz, Filial Centro...",className:"w-full bg-app border border-bdr rounded-xl p-3 text-sm font-bold focus:ring-2 focus:ring-purple-500/20 outline-none"})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsxs("div",{className:"col-span-2",children:[i.jsx("label",{className:"block text-xs font-black text-txt-muted uppercase mb-2",children:"Endereo"}),i.jsxs("div",{className:"relative",children:[i.jsx(jA,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-txt-muted"}),i.jsx("input",{type:"text",value:a.endereco||"",onChange:de=>o({...a,endereco:de.target.value}),placeholder:"Rua, Bairro...",className:"w-full pl-10 bg-app border border-bdr rounded-xl p-3 text-sm font-bold focus:ring-2 focus:ring-purple-500/20 outline-none"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-black text-txt-muted uppercase mb-2",children:"Nmero"}),i.jsxs("div",{className:"relative",children:[i.jsx(qE,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-txt-muted"}),i.jsx("input",{type:"text",value:a.numero||"",onChange:de=>o({...a,numero:de.target.value}),placeholder:"123",className:"w-full pl-10 bg-app border border-bdr rounded-xl p-3 text-sm font-bold focus:ring-2 focus:ring-purple-500/20 outline-none"})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-black text-txt-muted uppercase mb-2",children:"Cor de Identificao"}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"flex gap-2",children:yR.map(de=>i.jsx("button",{onClick:()=>o({...a,cor:de}),className:`w-8 h-8 rounded-lg transition-transform ${a.cor===de?"scale-110 ring-2 ring-offset-2 ring-purple-500":"hover:scale-105"}`,style:{backgroundColor:de}},de))}),i.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[i.jsx(fm,{className:"w-4 h-4 text-txt-muted"}),i.jsx("input",{type:"color",value:a.cor||"#6366f1",onChange:de=>o({...a,cor:de.target.value}),className:"w-10 h-8 rounded cursor-pointer"})]})]})]}),i.jsxs("div",{className:"space-y-3 pt-2",children:[i.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 bg-app rounded-xl border border-bdr hover:border-purple-500/30 transition-colors",children:[i.jsx("input",{type:"checkbox",checked:a.ativo,onChange:de=>o({...a,ativo:de.target.checked}),className:"w-5 h-5 rounded text-purple-500 focus:ring-purple-500"}),i.jsxs("div",{children:[i.jsx("span",{className:"font-bold text-sm text-txt-main",children:"Depsito Ativo"}),i.jsx("p",{className:"text-xs text-txt-muted",children:"Desmarque para desativar temporariamente"})]})]}),i.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 bg-app rounded-xl border border-bdr hover:border-purple-500/30 transition-colors",children:[i.jsx("input",{type:"checkbox",checked:a.require_stock_audit||!1,onChange:de=>o({...a,require_stock_audit:de.target.checked}),className:"w-5 h-5 rounded text-purple-500 focus:ring-purple-500"}),i.jsxs("div",{children:[i.jsx("span",{className:"font-bold text-sm text-txt-main",children:"Exigir Contagem no Fechamento"}),i.jsx("p",{className:"text-xs text-txt-muted",children:"Operadores precisam contar estoque ao fechar caixa"})]})]})]}),i.jsxs("div",{className:"flex gap-3 pt-4 border-t border-bdr",children:[i.jsx("button",{onClick:Zt,className:"flex-1 px-4 py-3 border border-bdr rounded-xl font-bold text-txt-muted hover:bg-app transition-colors",children:"Cancelar"}),i.jsx("button",{onClick:Qt,disabled:h||!a.nome.trim(),className:"flex-1 bg-purple-500 hover:bg-purple-600 disabled:opacity-50 text-white px-4 py-3 rounded-xl font-black flex items-center justify-center gap-2 transition-colors",children:h?i.jsx(dl,{className:"w-5 h-5 animate-spin"}):i.jsxs(i.Fragment,{children:[i.jsx(qo,{className:"w-5 h-5"}),"Salvar"]})})]})]}):i.jsxs("div",{className:"p-8 text-center",children:[i.jsx(Fc,{className:"w-12 h-12 mx-auto mb-3 text-txt-muted opacity-30"}),i.jsx("p",{className:"font-bold text-txt-main",children:"Nenhum Depsito Selecionado"}),i.jsx("p",{className:"text-sm text-txt-muted mt-1",children:'Clique em "Novo" ou selecione um depsito para editar.'})]}):i.jsxs("div",{className:"p-8 text-center",children:[i.jsx(Hc,{className:"w-12 h-12 mx-auto mb-3 text-amber-500"}),i.jsx("p",{className:"font-bold text-txt-main",children:"Acesso Restrito"}),i.jsx("p",{className:"text-sm text-txt-muted mt-1",children:"Apenas gerentes podem criar ou editar depsitos."})]})]})]}),t==="produtos"&&i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[400px_1fr] gap-6",children:[i.jsxs("div",{className:"bg-surface rounded-2xl border border-bdr overflow-hidden",children:[i.jsxs("div",{className:"p-4 border-b border-bdr bg-app/50 flex items-center justify-between",children:[i.jsxs("h3",{className:"text-sm font-black text-txt-main uppercase tracking-wide",children:["Produtos (",He.length,")"]}),_t&&i.jsxs("button",{onClick:Jt,className:"bg-purple-500 hover:bg-purple-600 text-white px-3 py-1.5 rounded-lg text-xs font-black flex items-center gap-1.5 transition-colors",children:[i.jsx(Wi,{className:"w-3.5 h-3.5"}),"Novo"]})]}),i.jsx("div",{className:"p-3 border-b border-bdr",children:i.jsxs("div",{className:"relative",children:[i.jsx(Xl,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-txt-muted"}),i.jsx("input",{type:"text",placeholder:"Buscar produto...",value:I,onChange:de=>F(de.target.value),className:"w-full pl-9 pr-4 py-2 bg-app border border-bdr rounded-lg text-sm focus:ring-2 focus:ring-purple-500/20 outline-none"})]})}),i.jsx("div",{className:"max-h-[500px] overflow-y-auto",children:he.length===0?i.jsxs("div",{className:"p-8 text-center text-txt-muted",children:[i.jsx(jp,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),i.jsx("p",{className:"text-sm",children:"Nenhum produto encontrado"})]}):he.map(de=>{var Ke,Ye;return i.jsx("div",{className:`p-4 border-b border-bdr hover:bg-app/50 cursor-pointer transition-colors ${B.id===de.id?"bg-purple-500/10 border-l-4 border-l-purple-500":""} ${de.ativo?"":"opacity-50"}`,onClick:()=>mr(de),children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("span",{className:"text-xl",children:((Ke=o5.find(We=>We.value===de.tipo))==null?void 0:Ke.icon)||""}),i.jsxs("div",{children:[i.jsxs("div",{className:"font-bold text-txt-main flex items-center gap-2",children:[de.nome,!de.ativo&&i.jsx("span",{className:"text-[10px] bg-red-500/20 text-red-400 px-1.5 py-0.5 rounded font-bold",children:"INATIVO"})]}),i.jsxs("div",{className:"text-xs text-txt-muted flex items-center gap-2 mt-0.5",children:[i.jsx("span",{children:de.codigo||"Sem cdigo"}),i.jsx("span",{children:""}),i.jsx("span",{className:"flex items-center gap-1",children:((Ye=l5.find(We=>We.value===de.movement_type))==null?void 0:Ye.label)||"Simples"})]})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"font-bold text-green-500",children:["R$ ",(de.preco_venda||0).toFixed(2)]}),de.track_stock&&i.jsx("div",{className:"text-[10px] text-txt-muted",children:"Controla estoque"})]})]})},de.id)})})]}),i.jsx("div",{className:"bg-surface rounded-2xl border border-bdr overflow-hidden",children:k?i.jsxs("div",{className:"flex flex-col h-full",children:[i.jsxs("div",{className:"p-4 border-b border-bdr bg-app/50 flex items-center justify-between",children:[i.jsx("h3",{className:"text-sm font-black text-txt-main uppercase tracking-wide",children:B.id?"Editar Produto":"Novo Produto"}),i.jsx("button",{onClick:Yt,className:"text-txt-muted hover:text-red-500 transition-colors",children:i.jsx(Pn,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"p-6 space-y-5 flex-1 overflow-y-auto",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold text-txt-muted uppercase tracking-wide mb-2",children:"Nome *"}),i.jsx("input",{type:"text",value:B.nome,onChange:de=>_(Ke=>({...Ke,nome:de.target.value})),className:"w-full px-4 py-3 bg-app border border-bdr rounded-xl focus:ring-2 focus:ring-purple-500/20 outline-none",placeholder:"Ex: Gs P13"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold text-txt-muted uppercase tracking-wide mb-2",children:"Cdigo/SKU"}),i.jsx("input",{type:"text",value:B.codigo,onChange:de=>_(Ke=>({...Ke,codigo:de.target.value})),className:"w-full px-4 py-3 bg-app border border-bdr rounded-xl focus:ring-2 focus:ring-purple-500/20 outline-none",placeholder:"Ex: GAS-P13"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold text-txt-muted uppercase tracking-wide mb-2",children:"Tipo do Produto"}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:o5.map(de=>i.jsxs("button",{type:"button",onClick:()=>_(Ke=>({...Ke,tipo:de.value,movement_type:de.value==="GAS_CHEIO"?"EXCHANGE":Ke.movement_type})),className:`p-3 rounded-xl border-2 transition-all text-center ${B.tipo===de.value?"border-purple-500 bg-purple-500/10":"border-bdr hover:border-purple-500/50"}`,children:[i.jsx("span",{className:"text-2xl block mb-1",children:de.icon}),i.jsx("span",{className:"text-xs font-bold",children:de.label})]},de.value))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold text-txt-muted uppercase tracking-wide mb-2",children:"Tipo de Movimento (Regra de Estoque)"}),i.jsx("div",{className:"space-y-2",children:l5.map(de=>i.jsxs("button",{type:"button",onClick:()=>_(Ke=>({...Ke,movement_type:de.value,return_product_id:de.value==="EXCHANGE"?Ke.return_product_id:null})),className:`w-full p-4 rounded-xl border-2 transition-all text-left flex items-center gap-4 ${B.movement_type===de.value?"border-purple-500 bg-purple-500/10":"border-bdr hover:border-purple-500/50"}`,children:[i.jsx(de.icon,{className:`w-6 h-6 ${B.movement_type===de.value?"text-purple-500":"text-txt-muted"}`}),i.jsxs("div",{children:[i.jsx("div",{className:"font-bold text-sm",children:de.label}),i.jsx("div",{className:"text-xs text-txt-muted",children:de.desc})]}),B.movement_type===de.value&&i.jsx(Ac,{className:"w-5 h-5 text-purple-500 ml-auto"})]},de.value))})]}),B.movement_type==="EXCHANGE"&&i.jsxs("div",{children:[i.jsxs("label",{className:"block text-xs font-bold text-txt-muted uppercase tracking-wide mb-2",children:[i.jsx(Hc,{className:"w-3 h-3 inline mr-1 text-yellow-500"}),"Vasilhame Vazio Vinculado *"]}),i.jsxs("select",{value:B.return_product_id||"",onChange:de=>_(Ke=>({...Ke,return_product_id:de.target.value||null})),className:"w-full px-4 py-3 bg-app border border-bdr rounded-xl focus:ring-2 focus:ring-purple-500/20 outline-none",children:[i.jsx("option",{value:"",children:"-- Selecione o vasilhame vazio --"}),ct.map(de=>i.jsx("option",{value:de.id,children:de.nome},de.id))]}),ct.length===0&&i.jsx("p",{className:"text-xs text-yellow-500 mt-2",children:' Nenhum vasilhame vazio cadastrado. Crie primeiro um produto do tipo "Vasilhame Vazio".'})]}),B.movement_type!=="EXCHANGE"&&B.movement_type!=="Troca"?i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold text-txt-muted uppercase tracking-wide mb-2",children:"Preo de Venda (R$)"}),i.jsx("input",{type:"text",inputMode:"decimal",value:B.preco_venda||"",onChange:de=>{const Ke=de.target.value.replace(",",".");(Ke===""||/^\d*\.?\d*$/.test(Ke))&&_(Ye=>({...Ye,preco_venda:Ke===""?0:parseFloat(Ke)||0}))},placeholder:"0.00",className:"w-full px-4 py-3 bg-app border border-bdr rounded-xl focus:ring-2 focus:ring-purple-500/20 outline-none"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold text-txt-muted uppercase tracking-wide mb-2",children:"Preo de Custo (R$)"}),i.jsx("input",{type:"text",inputMode:"decimal",value:B.preco_custo||"",onChange:de=>{const Ke=de.target.value.replace(",",".");(Ke===""||/^\d*\.?\d*$/.test(Ke))&&_(Ye=>({...Ye,preco_custo:Ke===""?0:parseFloat(Ke)||0}))},placeholder:"0.00",className:"w-full px-4 py-3 bg-app border border-bdr rounded-xl focus:ring-2 focus:ring-purple-500/20 outline-none"})]})]}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold text-txt-muted uppercase tracking-wide mb-2",children:"Preo de Custo (R$)"}),i.jsx("input",{type:"text",inputMode:"decimal",value:B.preco_custo||"",onChange:de=>{const Ke=de.target.value.replace(",",".");(Ke===""||/^\d*\.?\d*$/.test(Ke))&&_(Ye=>({...Ye,preco_custo:Ke===""?0:parseFloat(Ke)||0}))},placeholder:"0.00",className:"w-full px-4 py-3 bg-app border border-bdr rounded-xl focus:ring-2 focus:ring-purple-500/20 outline-none"})]}),i.jsxs("div",{className:"bg-gradient-to-r from-green-500/10 to-blue-500/10 rounded-xl p-4 border border-green-500/30 space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("span",{className:"text-lg",children:""}),i.jsx("span",{className:"font-bold text-txt-main",children:"Preos por Modalidade de Venda"})]}),i.jsx("p",{className:"text-xs text-txt-muted mb-3",children:"Defina os preos para cada tipo de venda deste produto:"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"bg-green-500/10 rounded-lg p-3 border border-green-500/30",children:[i.jsx("label",{className:"block text-xs font-bold text-green-400 uppercase tracking-wide mb-2",children:" Preo TROCA (R$) *"}),i.jsx("p",{className:"text-[10px] text-txt-muted mb-2",children:"Cliente devolve casco vazio"}),i.jsx("input",{type:"text",inputMode:"decimal",value:B.preco_troca||"",onChange:de=>{const Ke=de.target.value.replace(",",".");if(Ke===""||/^\d*\.?\d*$/.test(Ke)){const Ye=Ke===""?null:parseFloat(Ke)||0;_(We=>({...We,preco_troca:Ye,preco_venda:Ye??We.preco_venda}))}},placeholder:"Ex: 130.00",className:"w-full px-3 py-2 bg-app border border-green-500/30 rounded-lg focus:ring-2 focus:ring-green-500/20 outline-none text-sm"})]}),i.jsxs("div",{className:"bg-blue-500/10 rounded-lg p-3 border border-blue-500/30",children:[i.jsx("label",{className:"block text-xs font-bold text-blue-400 uppercase tracking-wide mb-2",children:" Preo COMPLETA (R$) *"}),i.jsx("p",{className:"text-[10px] text-txt-muted mb-2",children:"Cliente leva casco (cliente novo)"}),i.jsx("input",{type:"text",inputMode:"decimal",value:B.preco_completa||"",onChange:de=>{const Ke=de.target.value.replace(",",".");(Ke===""||/^\d*\.?\d*$/.test(Ke))&&_(Ye=>({...Ye,preco_completa:Ke===""?null:parseFloat(Ke)||0}))},placeholder:"Ex: 220.00",className:"w-full px-3 py-2 bg-app border border-blue-500/30 rounded-lg focus:ring-2 focus:ring-blue-500/20 outline-none text-sm"})]})]}),i.jsx("p",{className:"text-[10px] text-amber-400 font-semibold",children:" Preo COMPLETA = Preo TROCA + Valor do Casco (vasilhame vazio)"})]})]}),B.preco_custo>0&&i.jsxs("div",{className:"bg-app rounded-xl p-4 border border-bdr",children:[i.jsx("div",{className:"text-xs text-txt-muted uppercase tracking-wide mb-1",children:"Margem de Lucro"}),i.jsxs("div",{className:"text-2xl font-black text-green-500",children:[(((B.movement_type==="EXCHANGE"||B.movement_type==="Troca"?B.preco_troca||B.preco_venda||0:B.preco_venda||0)-B.preco_custo)/B.preco_custo*100).toFixed(1),"%"]}),(B.movement_type==="EXCHANGE"||B.movement_type==="Troca")&&i.jsx("p",{className:"text-[10px] text-txt-muted mt-1",children:"Baseado no Preo de TROCA"})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:B.track_stock,onChange:de=>_(Ke=>({...Ke,track_stock:de.target.checked})),className:"w-5 h-5 rounded border-bdr text-purple-500 focus:ring-purple-500"}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium text-txt-main",children:"Controlar Estoque"}),i.jsx("p",{className:"text-xs text-txt-muted",children:"Movimentaes afetam o saldo de estoque"})]})]}),i.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:B.ativo,onChange:de=>_(Ke=>({...Ke,ativo:de.target.checked})),className:"w-5 h-5 rounded border-bdr text-purple-500 focus:ring-purple-500"}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium text-txt-main",children:"Produto Ativo"}),i.jsx("p",{className:"text-xs text-txt-muted",children:"Disponvel para vendas"})]})]})]})]}),i.jsxs("div",{className:"p-4 border-t border-bdr bg-app/50 flex justify-between items-center",children:[B.id&&_t?i.jsxs("button",{onClick:()=>ae(He.find(de=>de.id===B.id)||null),className:"px-4 py-2 text-red-500 hover:bg-red-500/10 rounded-lg font-bold text-sm flex items-center gap-2",children:[i.jsx(Gs,{className:"w-4 h-4"}),"Excluir"]}):i.jsx("div",{}),i.jsxs("button",{onClick:ar,disabled:T,className:"px-6 py-2 bg-purple-500 hover:bg-purple-600 disabled:opacity-50 text-white font-black rounded-lg flex items-center gap-2 transition-colors",children:[T?i.jsx(dl,{className:"w-4 h-4 animate-spin"}):i.jsx(qo,{className:"w-4 h-4"}),"Salvar Produto"]})]})]}):i.jsxs("div",{className:"p-12 text-center text-txt-muted",children:[i.jsx(jp,{className:"w-16 h-16 mx-auto mb-4 opacity-20"}),i.jsx("p",{className:"text-sm font-medium",children:"Selecione um produto para editar"}),i.jsx("p",{className:"text-xs mt-1",children:'ou clique em "Novo" para criar'})]})})]}),t==="estoque"&&i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Be.map(de=>{const Ke=yt[de.id]||{},Ye=Object.values(Ke).reduce((tt,Tt)=>tt+Tt,0),We=Object.keys(Ke).filter(tt=>Ke[tt]>0).length;return i.jsxs("div",{className:"bg-surface p-4 rounded-xl border border-bdr",style:{borderLeftColor:de.cor,borderLeftWidth:4},children:[i.jsx("h4",{className:"font-bold text-txt-main text-sm",children:de.nome}),i.jsxs("div",{className:"mt-2 space-y-1",children:[i.jsx("p",{className:"text-2xl font-black text-txt-main",children:Ye}),i.jsxs("p",{className:"text-xs text-txt-muted",children:[We," produto(s) em estoque"]})]})]},de.id)})}),i.jsxs("div",{className:"bg-surface rounded-2xl border border-bdr overflow-hidden",children:[i.jsx("div",{className:"p-4 border-b border-bdr bg-app/50",children:i.jsx("h3",{className:"text-sm font-black text-txt-main uppercase tracking-wide",children:"Estoque por Produto"})}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{className:"bg-app border-b border-bdr",children:i.jsxs("tr",{children:[i.jsx("th",{className:"text-left px-4 py-3 font-black text-txt-muted uppercase text-xs",children:"Produto"}),Be.map(de=>i.jsx("th",{className:"text-center px-4 py-3 font-black text-txt-muted uppercase text-xs",style:{color:de.cor},children:de.nome},de.id)),i.jsx("th",{className:"text-center px-4 py-3 font-black text-txt-muted uppercase text-xs bg-purple-500/10",children:"Total"})]})}),i.jsx("tbody",{className:"divide-y divide-bdr",children:Fe.map(de=>{const Ke=Be.reduce((Ye,We)=>{var tt;return Ye+(((tt=yt[We.id])==null?void 0:tt[de.id])??0)},0);return i.jsxs("tr",{className:"hover:bg-app/30",children:[i.jsx("td",{className:"px-4 py-3 font-bold text-txt-main",children:de.nome}),Be.map(Ye=>{var tt;const We=((tt=yt[Ye.id])==null?void 0:tt[de.id])??0;return i.jsx("td",{className:`text-center px-4 py-3 font-mono ${We===0?"text-txt-muted":We<=5?"text-red-500 font-bold":"text-txt-main"}`,children:We},Ye.id)}),i.jsx("td",{className:"text-center px-4 py-3 font-black text-purple-600 bg-purple-500/5",children:Ke})]},de.id)})})]})})]})]}),t==="transferencia"&&i.jsx("div",{className:"max-w-2xl mx-auto",children:i.jsxs("div",{className:"bg-surface rounded-2xl border border-bdr overflow-hidden",children:[i.jsxs("div",{className:"p-4 border-b border-bdr bg-app/50 flex items-center gap-3",children:[i.jsx(r0,{className:"w-5 h-5 text-purple-500"}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-black text-txt-main uppercase tracking-wide",children:"Transferncia entre Depsitos"}),i.jsx("p",{className:"text-xs text-txt-muted",children:"Move estoque de um depsito para outro"})]})]}),i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-[1fr_auto_1fr] gap-4 items-end",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-black text-txt-muted uppercase mb-2",children:"Origem (Sai)"}),i.jsxs("select",{value:Z.originId,onChange:de=>me({...Z,originId:de.target.value}),className:"w-full bg-app border border-bdr rounded-xl p-3 text-sm font-bold focus:ring-2 focus:ring-purple-500/20 outline-none",children:[i.jsx("option",{value:"",children:"Selecione..."}),Be.map(de=>i.jsx("option",{value:de.id,children:de.nome},de.id))]})]}),i.jsx("div",{className:"flex items-center justify-center pb-3",children:i.jsx(_b,{className:"w-6 h-6 text-txt-muted"})}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-black text-txt-muted uppercase mb-2",children:"Destino (Entra)"}),i.jsxs("select",{value:Z.destId,onChange:de=>me({...Z,destId:de.target.value}),className:"w-full bg-app border border-bdr rounded-xl p-3 text-sm font-bold focus:ring-2 focus:ring-purple-500/20 outline-none",children:[i.jsx("option",{value:"",children:"Selecione..."}),Be.filter(de=>de.id!==Z.originId).map(de=>i.jsx("option",{value:de.id,children:de.nome},de.id))]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-black text-txt-muted uppercase mb-2",children:"Produto"}),i.jsxs("select",{value:Z.productId,onChange:de=>me({...Z,productId:de.target.value}),className:"w-full bg-app border border-bdr rounded-xl p-3 text-sm font-bold focus:ring-2 focus:ring-purple-500/20 outline-none",children:[i.jsx("option",{value:"",children:"Selecione o produto..."}),Fe.map(de=>{var Ye;const Ke=((Ye=yt[Z.originId])==null?void 0:Ye[de.id])??0;return i.jsxs("option",{value:de.id,disabled:Ke===0,children:[de.nome," ",Z.originId?`(Disp: ${Ke})`:""]},de.id)})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-black text-txt-muted uppercase mb-2",children:"Quantidade"}),i.jsx("input",{type:"number",min:"1",max:((xr=yt[Z.originId])==null?void 0:xr[Z.productId])??999,value:Z.quantidade,onChange:de=>me({...Z,quantidade:parseInt(de.target.value)||0}),className:"w-full bg-app border border-bdr rounded-xl p-3 text-sm font-bold focus:ring-2 focus:ring-purple-500/20 outline-none"}),Z.originId&&Z.productId&&i.jsxs("p",{className:"text-xs text-txt-muted mt-1",children:["Disponvel na origem: ",i.jsx("strong",{children:((Rt=yt[Z.originId])==null?void 0:Rt[Z.productId])??0})]})]}),i.jsx("button",{onClick:Ht,disabled:ee||!Z.originId||!Z.destId||!Z.productId||Z.quantidade<=0,className:"w-full bg-purple-500 hover:bg-purple-600 disabled:opacity-50 text-white px-4 py-3 rounded-xl font-black flex items-center justify-center gap-2 transition-colors",children:ee?i.jsx(dl,{className:"w-5 h-5 animate-spin"}):i.jsxs(i.Fragment,{children:[i.jsx(r0,{className:"w-5 h-5"}),"Confirmar Transferncia"]})})]})]})}),t==="contagem"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-surface rounded-xl border border-bdr p-4 flex items-center gap-4",children:[i.jsx("label",{className:"text-sm font-black text-txt-muted uppercase",children:"Depsito:"}),i.jsxs("select",{value:W.depositId,onChange:de=>K({depositId:de.target.value,counts:{}}),className:"flex-1 max-w-xs bg-app border border-bdr rounded-lg p-2 text-sm font-bold focus:ring-2 focus:ring-purple-500/20 outline-none",children:[i.jsx("option",{value:"",children:"Selecione um depsito..."}),Be.map(de=>i.jsx("option",{value:de.id,children:de.nome},de.id))]}),W.depositId&&i.jsxs("button",{onClick:()=>K({depositId:W.depositId,counts:{}}),className:"text-sm font-bold text-txt-muted hover:text-txt-main flex items-center gap-1",children:[i.jsx(vx,{className:"w-4 h-4"}),"Limpar"]})]}),i.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-xl p-4 flex items-start gap-3",children:[i.jsx(Zl,{className:"w-5 h-5 text-blue-500 shrink-0 mt-0.5"}),i.jsxs("div",{className:"text-sm text-txt-main",children:[i.jsx("p",{className:"font-bold text-blue-600 mb-1",children:"Contagem de Estoque"}),i.jsxs("ul",{className:"text-txt-muted space-y-1 text-xs",children:[i.jsxs("li",{children:[" ",i.jsx("strong",{className:"text-purple-400",children:"Carga Inicial"}),": Quando o sistema est zerado, voc est cadastrando seu estoque pela primeira vez"]}),i.jsxs("li",{children:[" ",i.jsx("strong",{className:"text-emerald-400",children:"Ajuste"}),": Quando j existe saldo, a diferena ser registrada como sobra ou falta"]})]})]})]}),W.depositId&&i.jsxs("div",{className:"bg-surface rounded-2xl border border-bdr overflow-hidden",children:[i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{className:"bg-app border-b border-bdr",children:i.jsxs("tr",{children:[i.jsx("th",{className:"text-left px-4 py-3 font-black text-txt-muted uppercase text-xs",children:"Produto"}),i.jsx("th",{className:"text-center px-4 py-3 font-black text-txt-muted uppercase text-xs w-32",children:"Sistema"}),i.jsx("th",{className:"text-center px-4 py-3 font-black text-purple-600 uppercase text-xs w-40 bg-purple-500/5",children:"Contagem"}),i.jsx("th",{className:"text-center px-4 py-3 font-black text-txt-muted uppercase text-xs w-32",children:"Diferena"}),i.jsx("th",{className:"text-center px-4 py-3 font-black text-txt-muted uppercase text-xs w-24",children:"Status"})]})}),i.jsx("tbody",{className:"divide-y divide-bdr",children:Fe.map(de=>{var Wt;const Ke=((Wt=yt[W.depositId])==null?void 0:Wt[de.id])??0,Ye=W.counts[de.id],We=Ye===""||Ye===void 0?null:Number(Ye),tt=We!==null?We-Ke:null,Tt=We!==null,zt=Ke===0&&We!==null&&We>0;return i.jsxs("tr",{className:Tt?zt?"bg-purple-500/10":"bg-purple-500/5":"hover:bg-app/30",children:[i.jsx("td",{className:"px-4 py-3 font-bold text-txt-main",children:de.nome}),i.jsx("td",{className:"px-4 py-3 text-center font-mono text-txt-muted",children:Ke}),i.jsx("td",{className:"px-4 py-3 text-center",children:i.jsx("input",{type:"number",min:"0",value:W.counts[de.id]??"",onChange:Lr=>Vt(de.id,Lr.target.value),placeholder:"-",className:"w-24 text-center font-black text-lg bg-surface border-2 border-bdr rounded-lg py-1 focus:border-purple-500 focus:ring-4 focus:ring-purple-500/10 outline-none"})}),i.jsx("td",{className:"px-4 py-3 text-center",children:Tt&&tt!==null&&(zt?i.jsxs("span",{className:"font-black text-lg text-purple-500",children:["+",We]}):i.jsxs("span",{className:`font-black text-lg ${tt>0?"text-emerald-500":tt<0?"text-red-500":"text-txt-muted"}`,children:[tt>0?"+":"",tt]}))}),i.jsx("td",{className:"px-4 py-3 text-center",children:Tt&&tt!==null&&(zt?i.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md bg-purple-500/20 text-purple-400 text-[10px] font-black uppercase",children:[i.jsx(Zl,{className:"w-3 h-3"})," Inicial"]}):tt===0?i.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md bg-emerald-500/10 text-emerald-600 text-[10px] font-black uppercase",children:[i.jsx(Ac,{className:"w-3 h-3"})," OK"]}):tt>0?i.jsx("span",{className:"inline-flex px-2 py-1 rounded-md bg-blue-500/10 text-blue-600 text-[10px] font-black uppercase",children:"Sobra"}):i.jsx("span",{className:"inline-flex px-2 py-1 rounded-md bg-red-500/10 text-red-600 text-[10px] font-black uppercase",children:"Falta"}))})]},de.id)})})]}),i.jsxs("div",{className:"p-4 border-t border-bdr bg-app/50 flex justify-between items-center",children:[i.jsxs("div",{className:"text-sm text-txt-muted",children:["Itens contados: ",i.jsx("strong",{className:"text-txt-main",children:Object.values(W.counts).filter(de=>de!==""&&de!==void 0).length})," de ",Fe.length]}),i.jsx("button",{onClick:Dt,disabled:$||Object.values(W.counts).filter(de=>de!==""&&de!==void 0).length===0,className:"bg-purple-500 hover:bg-purple-600 disabled:opacity-50 text-white px-6 py-2.5 rounded-xl font-black flex items-center gap-2 transition-colors",children:$?i.jsx(dl,{className:"w-5 h-5 animate-spin"}):i.jsxs(i.Fragment,{children:[i.jsx(qo,{className:"w-5 h-5"}),"Registrar Contagem"]})})]})]})]})]})}),le&&i.jsx("div",{className:"fixed inset-0 bg-black/60 z-[60] flex items-center justify-center p-4 backdrop-blur-sm",children:i.jsxs("div",{className:"bg-surface w-full max-w-lg rounded-2xl shadow-2xl border border-bdr overflow-hidden animate-in zoom-in-95 duration-200",children:[i.jsxs("div",{className:"bg-red-500/10 px-6 py-4 border-b border-red-500/20 flex items-center gap-3",children:[i.jsx(Hc,{className:"w-6 h-6 text-red-500"}),i.jsx("h3",{className:"font-black text-lg text-red-600",children:"Excluir Depsito"})]}),i.jsxs("div",{className:"p-6 space-y-4",children:[i.jsxs("p",{className:"text-sm text-txt-main",children:["Voc est prestes a excluir o depsito ",i.jsx("strong",{children:le.deposit.nome}),"."]}),le.hasPendingOS&&i.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 rounded-xl p-4 flex items-start gap-3",children:[i.jsx(My,{className:"w-5 h-5 text-red-500 shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-bold text-red-600 text-sm",children:"Excluso Bloqueada"}),i.jsx("p",{className:"text-xs text-txt-muted mt-1",children:"Existem O.S. pendentes ou em rota neste depsito. Finalize ou cancele todas as O.S. antes de excluir."})]})]}),le.hasEmployees&&!le.hasPendingOS&&i.jsxs("div",{className:"bg-amber-500/10 border border-amber-500/20 rounded-xl p-4 space-y-3",children:[i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(SA,{className:"w-5 h-5 text-amber-500 shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsxs("p",{className:"font-bold text-amber-600 text-sm",children:[le.employees.length," colaborador(es) vinculado(s)"]}),i.jsx("p",{className:"text-xs text-txt-muted mt-1",children:"Selecione um depsito para migrar os colaboradores:"})]})]}),i.jsxs("select",{value:Y,onChange:de=>pe(de.target.value),className:"w-full bg-app border border-bdr rounded-lg p-2 text-sm font-bold",children:[i.jsx("option",{value:"",children:"Selecione o destino..."}),Be.filter(de=>de.id!==le.deposit.id).map(de=>i.jsx("option",{value:de.id,children:de.nome},de.id))]})]}),le.hasStock&&!le.hasPendingOS&&i.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-xl p-4 space-y-3",children:[i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(Zl,{className:"w-5 h-5 text-blue-500 shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-bold text-blue-600 text-sm",children:"Estoque existente"}),i.jsx("p",{className:"text-xs text-txt-muted mt-1",children:"O que fazer com o estoque?"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-2 rounded-lg hover:bg-app",children:[i.jsx("input",{type:"radio",name:"stockAction",checked:z==="migrate",onChange:()=>ve("migrate"),className:"w-4 h-4"}),i.jsx("span",{className:"text-sm font-bold text-txt-main",children:"Transferir para outro depsito"})]}),i.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-2 rounded-lg hover:bg-app",children:[i.jsx("input",{type:"radio",name:"stockAction",checked:z==="ignore",onChange:()=>ve("ignore"),className:"w-4 h-4"}),i.jsx("span",{className:"text-sm font-bold text-txt-main",children:"Ignorar e zerar estoque"})]})]}),z==="migrate"&&i.jsxs("select",{value:Y,onChange:de=>pe(de.target.value),className:"w-full bg-app border border-bdr rounded-lg p-2 text-sm font-bold mt-2",children:[i.jsx("option",{value:"",children:"Selecione o destino..."}),Be.filter(de=>de.id!==le.deposit.id).map(de=>i.jsx("option",{value:de.id,children:de.nome},de.id))]})]})]}),i.jsxs("div",{className:"p-6 border-t border-bdr bg-app flex justify-end gap-3",children:[i.jsx("button",{onClick:()=>ge(null),className:"px-4 py-2 font-bold text-txt-muted hover:text-txt-main rounded-lg transition-colors",children:"Cancelar"}),i.jsxs("button",{onClick:Kt,disabled:h||le.hasPendingOS,className:"px-6 py-2 bg-red-500 hover:bg-red-600 disabled:opacity-50 text-white font-black rounded-lg flex items-center gap-2 transition-colors",children:[h?i.jsx(dl,{className:"w-4 h-4 animate-spin"}):i.jsx(Gs,{className:"w-4 h-4"}),"Confirmar Excluso"]})]})]})}),we&&i.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-[60] p-4",children:i.jsxs("div",{className:"bg-surface rounded-2xl border border-bdr shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col",children:[i.jsxs("div",{className:"p-6 border-b border-bdr flex justify-between items-center",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"bg-orange-500/10 p-2 rounded-xl border border-orange-500/20",children:i.jsx(SE,{className:"w-5 h-5 text-orange-500"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-black text-txt-main",children:"Manuteno de Dados"}),i.jsx("p",{className:"text-xs text-txt-muted",children:"Limpar dados rfos e duplicados"})]})]}),i.jsx("button",{onClick:()=>V(!1),className:"p-2 hover:bg-red-500/10 hover:text-red-500 rounded-full text-txt-muted",children:i.jsx(Pn,{className:"w-5 h-5"})})]}),i.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:O?i.jsxs("div",{className:"flex flex-col items-center justify-center py-12 gap-3",children:[i.jsx(dl,{className:"w-8 h-8 animate-spin text-purple-500"}),i.jsx("p",{className:"text-txt-muted",children:"Analisando dados..."})]}):Q?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"bg-app rounded-xl border border-bdr p-4",children:[i.jsxs("div",{className:"flex justify-between items-start mb-3",children:[i.jsxs("div",{children:[i.jsxs("h4",{className:"font-bold text-txt-main flex items-center gap-2",children:[i.jsx(Zl,{className:"w-4 h-4 text-yellow-500"}),"Produtos Duplicados"]}),i.jsx("p",{className:"text-xs text-txt-muted mt-1",children:"Produtos com o mesmo nome cadastrados mais de uma vez"})]}),Q.duplicateProducts.length>0&&i.jsxs("span",{className:"bg-yellow-500/20 text-yellow-400 text-xs font-bold px-2 py-1 rounded-full",children:[Q.duplicateProducts.length," encontrado(s)"]})]}),Q.duplicateProducts.length>0?i.jsxs(i.Fragment,{children:[i.jsx("ul",{className:"text-sm text-txt-muted space-y-1 mb-3",children:Q.duplicateProducts.map((de,Ke)=>i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-yellow-500",children:""}),i.jsx("span",{className:"font-medium text-txt-main",children:de.nome}),i.jsxs("span",{className:"text-xs",children:["(",de.count,"x duplicados)"]})]},Ke))}),i.jsx("button",{onClick:ft,disabled:O,className:"text-xs bg-yellow-500/20 hover:bg-yellow-500/30 text-yellow-400 px-3 py-1.5 rounded-lg font-bold transition-colors",children:"Remover Duplicados"})]}):i.jsxs("p",{className:"text-sm text-green-400 flex items-center gap-2",children:[i.jsx(Ac,{className:"w-4 h-4"}),"Nenhum produto duplicado encontrado"]})]}),i.jsxs("div",{className:"bg-app rounded-xl border border-bdr p-4",children:[i.jsxs("div",{className:"flex justify-between items-start mb-3",children:[i.jsxs("div",{children:[i.jsxs("h4",{className:"font-bold text-txt-main flex items-center gap-2",children:[i.jsx(Fc,{className:"w-4 h-4 text-blue-500"}),"Estoque rfo"]}),i.jsx("p",{className:"text-xs text-txt-muted mt-1",children:"Registros de estoque para depsitos ou produtos que no existem mais"})]}),Q.orphanStock.length>0&&i.jsxs("span",{className:"bg-blue-500/20 text-blue-400 text-xs font-bold px-2 py-1 rounded-full",children:[Q.orphanStock.length," registro(s)"]})]}),Q.orphanStock.length>0?i.jsx("button",{onClick:Lt,disabled:O,className:"text-xs bg-blue-500/20 hover:bg-blue-500/30 text-blue-400 px-3 py-1.5 rounded-lg font-bold transition-colors",children:"Limpar Estoque rfo"}):i.jsxs("p",{className:"text-sm text-green-400 flex items-center gap-2",children:[i.jsx(Ac,{className:"w-4 h-4"}),"Nenhum estoque rfo encontrado"]})]}),i.jsxs("div",{className:"bg-app rounded-xl border border-bdr p-4",children:[i.jsxs("div",{className:"flex justify-between items-start mb-3",children:[i.jsxs("div",{children:[i.jsxs("h4",{className:"font-bold text-txt-main flex items-center gap-2",children:[i.jsx(My,{className:"w-4 h-4 text-purple-500"}),"Preos rfos"]}),i.jsx("p",{className:"text-xs text-txt-muted mt-1",children:"Tabelas de preo para produtos ou depsitos inexistentes"})]}),Q.orphanPricing.length>0&&i.jsxs("span",{className:"bg-purple-500/20 text-purple-400 text-xs font-bold px-2 py-1 rounded-full",children:[Q.orphanPricing.length," registro(s)"]})]}),Q.orphanPricing.length>0?i.jsx("button",{onClick:Ut,disabled:O,className:"text-xs bg-purple-500/20 hover:bg-purple-500/30 text-purple-400 px-3 py-1.5 rounded-lg font-bold transition-colors",children:"Limpar Preos rfos"}):i.jsxs("p",{className:"text-sm text-green-400 flex items-center gap-2",children:[i.jsx(Ac,{className:"w-4 h-4"}),"Nenhum preo rfo encontrado"]})]})]}):i.jsxs("div",{className:"text-center py-12 text-txt-muted",children:[i.jsx(Hc,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),i.jsx("p",{children:'Clique em "Analisar" para verificar dados rfos'})]})}),i.jsxs("div",{className:"p-4 border-t border-bdr flex justify-between items-center gap-3",children:[i.jsxs("button",{onClick:Ne,disabled:O,className:"px-4 py-2 bg-app hover:bg-bdr text-txt-muted font-bold rounded-lg flex items-center gap-2 transition-colors",children:[i.jsx(vx,{className:`w-4 h-4 ${O?"animate-spin":""}`}),"Analisar Novamente"]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>V(!1),className:"px-4 py-2 bg-app hover:bg-bdr text-txt-muted font-bold rounded-lg transition-colors",children:"Fechar"}),Q&&(Q.duplicateProducts.length>0||Q.orphanStock.length>0||Q.orphanPricing.length>0)&&i.jsxs("button",{onClick:Et,disabled:O,className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white font-bold rounded-lg flex items-center gap-2 transition-colors",children:[i.jsx(Gs,{className:"w-4 h-4"}),"Limpar Tudo"]})]})]})]})}),R&&i.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-[60] p-4",children:i.jsx("div",{className:"bg-surface rounded-2xl border border-bdr shadow-2xl w-full max-w-md",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[i.jsx("div",{className:"bg-red-500/10 p-3 rounded-xl border border-red-500/20",children:i.jsx(Gs,{className:"w-6 h-6 text-red-500"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-black text-txt-main",children:"Excluir Produto"}),i.jsx("p",{className:"text-sm text-txt-muted",children:"Esta ao no pode ser desfeita"})]})]}),i.jsxs("div",{className:"bg-app rounded-xl p-4 mb-6",children:[i.jsxs("p",{className:"text-sm text-txt-main",children:["Tem certeza que deseja excluir o produto ",i.jsxs("strong",{children:['"',R.nome,'"']}),"?"]}),i.jsx("p",{className:"text-xs text-txt-muted mt-2",children:"Todos os dados de estoque e preos relacionados tambm sero removidos."})]}),i.jsxs("div",{className:"flex gap-3 justify-end",children:[i.jsx("button",{onClick:()=>ae(null),className:"px-4 py-2 bg-app hover:bg-bdr text-txt-muted font-bold rounded-lg transition-colors",children:"Cancelar"}),i.jsxs("button",{onClick:cr,disabled:T,className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white font-bold rounded-lg flex items-center gap-2 transition-colors",children:[T?i.jsx(dl,{className:"w-4 h-4 animate-spin"}):i.jsx(Gs,{className:"w-4 h-4"}),"Excluir"]})]})]})})})]})},_R=r=>((r==null?void 0:r.is_delivery_fee)??(r==null?void 0:r.isDeliveryFee))===!0||String((r==null?void 0:r.product_group)??(r==null?void 0:r.codigo)??"").toLowerCase()==="delivery_fee"?!0:String((r==null?void 0:r.nome)??"").toLowerCase()==="taxa de entrega",BR=r=>_R(r)||((r==null?void 0:r.track_stock)??(r==null?void 0:r.trackStock))===!1?!0:(r==null?void 0:r.type)==="SERVICE",NR=({onClose:r})=>{const[e,t]=q.useState("monitor"),[n,a]=q.useState([]),[o,c]=q.useState({minStock:{},financialDaysNotice:3,minMarginPercent:15,enabledStock:!0,enabledFinancial:!0,enabledMargin:!0}),[d,h]=q.useState([]),[m,g]=q.useState("");q.useEffect(()=>{let T=!0;return(async()=>{const[C,I]=await Promise.all([scanSystemForAlerts(),listProducts()]);T&&(a(C),c(getAlertsConfig()),h(I))})(),()=>{T=!1}},[]);const b=()=>{(async()=>{const T=await scanSystemForAlerts();a(T)})()},B=()=>{saveAlertsConfig(o),b(),alert("Configuraes de alerta salvas e aplicadas!")},_=T=>{const C={...o,[T]:!o[T]};c(C),saveAlertsConfig(C),setTimeout(b,100)},k=(T,C)=>{const I=parseInt(C);c(F=>({...F,minStock:{...F.minStock,[T]:isNaN(I)?0:I}}))},j=d.filter(T=>T.nome.toLowerCase().includes(m.toLowerCase())&&T.tipo!=="OUTROS"&&!BR(T));return i.jsxs("div",{className:"fixed inset-0 bg-app z-50 flex flex-col animate-in slide-in-from-bottom-4 duration-300",children:[i.jsxs("div",{className:"bg-surface border-b border-bdr px-6 py-4 flex justify-between items-center shadow-sm shrink-0",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"bg-red-500/10 p-2.5 rounded-xl border border-red-500/20",children:i.jsx(Sb,{className:"w-6 h-6 text-red-600 animate-pulse"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-black text-txt-main tracking-tight",children:"Central de Alertas"}),i.jsx("p",{className:"text-xs text-txt-muted font-bold uppercase tracking-widest",children:"Monitoramento Inteligente"})]})]}),i.jsx("button",{onClick:r,className:"p-2 hover:bg-red-500/10 text-txt-muted hover:text-red-500 rounded-full transition-colors",children:i.jsx(Pn,{className:"w-6 h-6"})})]}),i.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[i.jsxs("div",{className:"w-72 bg-surface border-r border-bdr flex flex-col p-4 gap-2",children:[i.jsxs("button",{onClick:()=>t("monitor"),className:`p-4 rounded-xl flex items-center gap-3 transition-all text-left ${e==="monitor"?"bg-red-500 text-white shadow-lg shadow-red-500/20":"hover:bg-app text-txt-muted"}`,children:[i.jsx(MS,{className:"w-5 h-5"}),i.jsxs("div",{children:[i.jsx("span",{className:"block text-sm font-black uppercase",children:"Monitoramento"}),i.jsxs("span",{className:`text-[10px] font-bold ${e==="monitor"?"text-red-100":"text-txt-muted"}`,children:[n.length," alertas ativos"]})]})]}),i.jsx("div",{className:"h-px bg-bdr my-2"}),i.jsx("p",{className:"px-2 text-[10px] font-black text-txt-muted uppercase tracking-widest mb-1",children:"Configurao"}),i.jsxs("button",{onClick:()=>t("config-stock"),className:`p-3 rounded-xl flex items-center gap-3 transition-all text-left ${e==="config-stock"?"bg-app border-2 border-primary text-txt-main":"hover:bg-app border-2 border-transparent text-txt-muted"}`,children:[i.jsx(Zl,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm font-bold",children:"Estoque Mnimo"})]}),i.jsxs("button",{onClick:()=>t("config-fin"),className:`p-3 rounded-xl flex items-center gap-3 transition-all text-left ${e==="config-fin"?"bg-app border-2 border-primary text-txt-main":"hover:bg-app border-2 border-transparent text-txt-muted"}`,children:[i.jsx(hd,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm font-bold",children:"Regras Gerais"})]})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto bg-app p-8",children:[e==="monitor"&&i.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[i.jsxs("div",{className:`p-6 rounded-2xl border-2 flex items-center gap-6 shadow-sm ${n.length>0?"bg-red-50 border-red-100":"bg-emerald-50 border-emerald-100"}`,children:[i.jsx("div",{className:`p-4 rounded-full ${n.length>0?"bg-red-100 text-red-600":"bg-emerald-100 text-emerald-600"}`,children:n.length>0?i.jsx(kp,{className:"w-10 h-10"}):i.jsx(Yl,{className:"w-10 h-10"})}),i.jsxs("div",{children:[i.jsx("h3",{className:`text-2xl font-black ${n.length>0?"text-red-700":"text-emerald-700"}`,children:n.length>0?"Ateno Necessria":"Sistema Estvel"}),i.jsx("p",{className:"text-sm font-bold opacity-70 text-txt-main",children:n.length>0?`Foram detectados ${n.length} pontos de ateno que requerem sua interveno.`:"Todos os indicadores operacionais esto dentro dos conformes."})]})]}),i.jsx("div",{className:"space-y-4",children:n.map(T=>i.jsxs("div",{className:"bg-surface p-5 rounded-xl border border-bdr shadow-sm hover:shadow-md transition-shadow flex items-start gap-4 group",children:[i.jsxs("div",{className:`mt-1 p-2 rounded-lg shrink-0 ${T.severity==="CRITICAL"?"bg-red-500 text-white":"bg-amber-100 text-amber-600"}`,children:[T.type==="STOCK"&&i.jsx(Zl,{className:"w-5 h-5"}),T.type==="FINANCIAL"&&i.jsx(Uy,{className:"w-5 h-5"}),T.type==="MARGIN"&&i.jsx(wx,{className:"w-5 h-5"})]}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsx("h4",{className:"text-sm font-black text-txt-main uppercase tracking-wide",children:T.title}),i.jsx("span",{className:`text-[10px] font-black px-2 py-1 rounded border uppercase ${T.severity==="CRITICAL"?"bg-red-50 text-red-600 border-red-100":"bg-amber-50 text-amber-600 border-amber-100"}`,children:T.severity==="CRITICAL"?"Crtico":"Aviso"})]}),i.jsx("p",{className:"text-sm text-txt-muted mt-1 font-medium",children:T.message}),i.jsx("div",{className:"mt-3 flex items-center gap-2 text-xs font-bold text-primary",children:i.jsx("span",{className:"bg-app px-2 py-1 rounded border border-bdr text-txt-muted uppercase",children:T.location})})]})]},T.id))})]}),e==="config-stock"&&i.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[i.jsxs("div",{className:"bg-surface p-6 rounded-2xl border border-bdr shadow-sm flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-black text-txt-main",children:"Alertas de Estoque Mnimo"}),i.jsx("p",{className:"text-xs text-txt-muted font-bold",children:"Defina a quantidade mnima para disparar avisos"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("span",{className:"text-xs font-bold uppercase text-txt-muted",children:o.enabledStock?"Ativado":"Desativado"}),i.jsx("button",{onClick:()=>_("enabledStock"),className:`w-12 h-6 rounded-full p-1 transition-colors ${o.enabledStock?"bg-emerald-500":"bg-gray-300"}`,children:i.jsx("div",{className:`w-4 h-4 bg-white rounded-full shadow-sm transition-transform ${o.enabledStock?"translate-x-6":""}`})})]})]}),i.jsxs("div",{className:"bg-surface rounded-2xl border border-bdr overflow-hidden shadow-sm",children:[i.jsxs("div",{className:"p-4 border-b border-bdr flex gap-4",children:[i.jsx(Xl,{className:"w-5 h-5 text-txt-muted"}),i.jsx("input",{type:"text",placeholder:"Filtrar produtos...",value:m,onChange:T=>g(T.target.value),className:"flex-1 bg-transparent outline-none text-sm font-bold text-txt-main"})]}),i.jsxs("table",{className:"w-full text-left text-sm",children:[i.jsx("thead",{className:"bg-app text-[10px] font-black text-txt-muted uppercase tracking-widest",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-4",children:"Produto"}),i.jsx("th",{className:"px-6 py-4 w-40 text-center",children:"Estoque Mnimo"})]})}),i.jsx("tbody",{className:"divide-y divide-bdr",children:j.map(T=>i.jsxs("tr",{className:"hover:bg-app transition-colors",children:[i.jsx("td",{className:"px-6 py-4 font-bold text-txt-main",children:T.nome}),i.jsx("td",{className:"px-6 py-4 text-center",children:i.jsx("input",{type:"number",value:o.minStock[T.id]||0,onChange:C=>k(T.id,C.target.value),className:"w-20 text-center bg-app border border-bdr rounded-lg p-2 font-bold text-txt-main focus:ring-2 focus:ring-primary outline-none"})})]},T.id))})]})]}),i.jsx("div",{className:"flex justify-end",children:i.jsxs("button",{onClick:B,className:"bg-primary text-white px-8 py-3 rounded-xl font-black shadow-lg shadow-primary/20 flex items-center gap-2 active:scale-95 transition-transform",children:[i.jsx(qo,{className:"w-5 h-5"})," SALVAR ALTERAES"]})})]}),e==="config-fin"&&i.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[i.jsxs("div",{className:"bg-surface p-8 rounded-2xl border border-bdr shadow-sm space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-black text-txt-main flex items-center gap-2",children:[i.jsx(Uy,{className:"w-5 h-5 text-blue-500"})," Alertas Financeiros"]}),i.jsx("p",{className:"text-xs text-txt-muted font-bold mt-1",children:"Avisos sobre contas a pagar e receber"})]}),i.jsx("button",{onClick:()=>_("enabledFinancial"),className:`w-12 h-6 rounded-full p-1 transition-colors ${o.enabledFinancial?"bg-emerald-500":"bg-gray-300"}`,children:i.jsx("div",{className:`w-4 h-4 bg-white rounded-full shadow-sm transition-transform ${o.enabledFinancial?"translate-x-6":""}`})})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 opacity-100 transition-opacity",children:i.jsxs("div",{className:`space-y-2 ${!o.enabledFinancial&&"opacity-50 pointer-events-none"}`,children:[i.jsx("label",{className:"text-xs font-black text-txt-muted uppercase",children:"Antecedncia do Aviso (Dias)"}),i.jsx("input",{type:"number",value:o.financialDaysNotice,onChange:T=>c({...o,financialDaysNotice:parseInt(T.target.value)}),className:"w-full bg-app border border-bdr rounded-xl p-3 font-bold text-txt-main outline-none focus:ring-2 focus:ring-blue-500"}),i.jsx("p",{className:"text-[10px] text-txt-muted",children:"Dias antes do vencimento para comear a alertar."})]})})]}),i.jsxs("div",{className:"bg-surface p-8 rounded-2xl border border-bdr shadow-sm space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-black text-txt-main flex items-center gap-2",children:[i.jsx(wx,{className:"w-5 h-5 text-amber-500"})," Proteo de Margem"]}),i.jsx("p",{className:"text-xs text-txt-muted font-bold mt-1",children:"Alerta se o preo de venda estiver prximo do custo"})]}),i.jsx("button",{onClick:()=>_("enabledMargin"),className:`w-12 h-6 rounded-full p-1 transition-colors ${o.enabledMargin?"bg-emerald-500":"bg-gray-300"}`,children:i.jsx("div",{className:`w-4 h-4 bg-white rounded-full shadow-sm transition-transform ${o.enabledMargin?"translate-x-6":""}`})})]}),i.jsxs("div",{className:`space-y-2 ${!o.enabledMargin&&"opacity-50 pointer-events-none"}`,children:[i.jsx("label",{className:"text-xs font-black text-txt-muted uppercase",children:"Margem de Lucro Mnima (%)"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"number",value:o.minMarginPercent,onChange:T=>c({...o,minMarginPercent:parseFloat(T.target.value)}),className:"w-full bg-app border border-bdr rounded-xl p-3 font-bold text-txt-main outline-none focus:ring-2 focus:ring-amber-500"}),i.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 font-black text-txt-muted",children:"%"})]}),i.jsx("p",{className:"text-[10px] text-txt-muted",children:"Se a margem (Markup) cair abaixo deste valor, um alerta ser gerado."})]})]}),i.jsx("div",{className:"flex justify-end pt-4",children:i.jsxs("button",{onClick:B,className:"bg-primary text-white px-8 py-3 rounded-xl font-black shadow-lg shadow-primary/20 flex items-center gap-2 active:scale-95 transition-transform",children:[i.jsx(qo,{className:"w-5 h-5"})," SALVAR TODAS REGRAS"]})})]})]})]})]})},CR=({onClose:r})=>{var pe;const e=useLiveQuery(()=>listEmployees(),[]),t=useLiveQuery(()=>db.deposits.filter(z=>z.ativo!==!1).toArray(),[]),n=e??[],a=t??[],[o,c]=q.useState(""),[d,h]=q.useState("ALL"),[m,g]=q.useState("ACTIVE"),[b,B]=q.useState(!1),[_,k]=q.useState(!1),[j,T]=q.useState(null),[C,I]=q.useState(null),[F,R]=q.useState({permissoes:[]}),ae=z=>z==="ENTREGADOR"||z==="GERENTE",Z=(z,ve)=>{var we;return!z&&ae(ve)?" Acesso Global (todos os depsitos)":z?((we=a.find(V=>V.id===z))==null?void 0:we.nome)||"Depsito no encontrado":" SEM DEPSITO (ERRO)"},me=z=>{const ve=z.length;return{deliveriesToday:12+ve%5,deliveriesMonth:140+ve*10,avgTime:20+ve%15,rating:4+ve%10/10,recentOs:[{id:"20251001",time:"10:30",address:"Rua das Flores, 123",status:"DONE"},{id:"20251005",time:"11:15",address:"Av. Brasil, 500",status:"DONE"},{id:"20251009",time:"12:00",address:"Centro, Rua 1",status:"LATE"}]}},ee=async z=>{if(z.cargo==="ENTREGADOR"){T(z);try{const[ve,we]=await Promise.all([db.service_orders.where("entregadorId").equals(z.id).count(),db.stock_movements.where("usuarioId").equals(z.id).count()]),V=ve>0||we>0;I(V?me(z.id):null)}catch{I(null)}}},H=()=>{var V,O;if(!((V=F.nome)!=null&&V.trim()))return alert("O campo Nome  obrigatrio.");if(!F.cargo)return alert("O campo Cargo  obrigatrio.");if(!((O=F.username)!=null&&O.trim()))return alert("O campo Nome de Usurio  obrigatrio.");if(!ae(F.cargo)&&!F.depositoId)return alert("Selecione um depsito para este colaborador! Apenas ENTREGADOR e GERENTE tm acesso global.");const z=F.username.trim().toLowerCase();if(n.some(G=>{var Q;return G.id!==F.id&&((Q=G.username)==null?void 0:Q.trim().toLowerCase())===z}))return alert(` O nome de usurio "${F.username}" j existe! Cada nome de usurio deve ser nico.`);const we={id:F.id||generateId(),nome:F.nome.trim(),cargo:F.cargo,depositoId:F.depositoId??void 0,telefone:F.telefone||"",username:F.username.trim().toLowerCase(),password:F.password||"",ativo:F.ativo??!0,permissoes:F.permissoes||[]};console.log(" Salvando colaborador:",we),upsertEmployee(we).then(()=>{console.log(" Colaborador salvo com sucesso!")}).catch(G=>{console.error(" Erro ao salvar colaborador:",G),alert("Erro ao salvar colaborador.")}),B(!1),R({permissoes:[]})},W=async z=>{var Q;const[ve,we,V,O]=await Promise.all([db.service_orders.where("entregadorId").equals(z).count(),db.service_orders.where("usuarioId").equals(z).count(),db.stock_movements.where("usuarioId").equals(z).count(),db.cash_flow_entries.where("usuarioId").equals(z).count()]),G=ve>0||we>0||V>0||O>0;if(console.log(" Verificao de histrico:",{colaborador:(Q=n.find(oe=>oe.id===z))==null?void 0:Q.nome,orderCountAsDriver:ve,orderCountAsCreator:we,movementCount:V,cashFlowCount:O,hasHistory:G}),G){const oe=[ve>0?`${ve} entregas`:null,we>0?`${we} ordens criadas`:null,V>0?`${V} movimentaes de estoque`:null,O>0?`${O} operaes de caixa`:null].filter(Boolean).join(", ");if(!confirm(`Este colaborador possui histrico de movimentaes:

${oe}

Ele no pode ser excludo fisicamente para manter a integridade dos dados.

Deseja DESATIVAR o acesso dele?`))return;const ce=n.find(Be=>Be.id===z);ce&&(await upsertEmployee({...ce,ativo:!1}),alert("Colaborador desativado com sucesso."))}else{if(!confirm("Este colaborador no possui histrico. Deseja EXCLUIR permanentemente o registro?"))return;await deleteEmployee(z),(j==null?void 0:j.id)===z&&T(null),alert("Colaborador excludo com sucesso.")}},K=async z=>{if(!confirm("Reativar acesso deste colaborador?"))return;const ve=n.find(we=>we.id===z);ve&&await upsertEmployee({...ve,ativo:!0})},$=async()=>{const z=n.filter(V=>!(V.cargo==="GERENTE"||V.cargo==="ENTREGADOR")&&!V.depositoId);if(console.log(" Verificando usurios sem depsito:",{total:n.length,problemUsers:z.map(V=>({nome:V.nome,cargo:V.cargo,depositoId:V.depositoId}))}),z.length===0){alert(" Nenhum usurio precisa de correo!");return}if(a.length===0){alert(" Nenhum depsito disponvel! Crie depsitos primeiro.");return}const ve=a[0],we=`Encontrados ${z.length} usurio(s) sem depsito:

${z.map(V=>`- ${V.nome} (${V.cargo})`).join(`
`)}

Deseja vincular todos ao depsito "${ve.nome}"?`;if(confirm(we)){for(const V of z)console.log(" Corrigindo usurio:",V.nome,"de",V.depositoId,"para",ve.id),await upsertEmployee({...V,depositoId:ve.id});alert(` ${z.length} usurio(s) corrigido(s) com sucesso!

 Aguarde 10 segundos para sincronizao com a nuvem, depois recarregue a pgina (F5).`)}},re=z=>{R({...z,permissoes:z.permissoes||[]}),B(!0)},le=z=>{const ve=F.permissoes||[];ve.includes(z)?R({...F,permissoes:ve.filter(we=>we!==z)}):R({...F,permissoes:[...ve,z]})},ge=()=>{var z;((z=F.permissoes)==null?void 0:z.length)===zc.length?R({...F,permissoes:[]}):R({...F,permissoes:zc.map(ve=>ve.id)})},Y=n.filter(z=>{const ve=z.nome.toLowerCase().includes(o.toLowerCase()),we=d==="ALL"?!0:z.cargo===d,V=m==="ALL"?!0:m==="ACTIVE"?z.ativo:!z.ativo;return ve&&we&&V});return i.jsxs("div",{className:"fixed inset-0 bg-app z-50 flex flex-col animate-in slide-in-from-bottom-4 duration-300",children:[i.jsxs("div",{className:"bg-surface border-b border-bdr px-6 py-4 flex justify-between items-center shadow-sm shrink-0",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"bg-indigo-500/10 p-2.5 rounded-xl border border-indigo-500/20",children:i.jsx(SA,{className:"w-6 h-6 text-indigo-600"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-black text-txt-main tracking-tight",children:"Gesto de Colaboradores"}),i.jsx("p",{className:"text-xs text-txt-muted font-bold uppercase tracking-widest",children:"Equipe & Performance"})]})]}),i.jsx("button",{onClick:r,className:"p-2 hover:bg-red-500/10 text-txt-muted hover:text-red-500 rounded-full transition-colors",children:i.jsx(Pn,{className:"w-6 h-6"})})]}),i.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[i.jsxs("div",{className:"flex-1 flex flex-col bg-app overflow-hidden relative",children:[i.jsxs("div",{className:"p-6 pb-2 flex flex-col md:flex-row gap-4 justify-between items-center",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 w-full md:w-auto",children:[i.jsx("div",{className:"flex gap-2 bg-surface p-1 rounded-xl border border-bdr shadow-sm overflow-x-auto",children:["ALL","GERENTE","ENTREGADOR","ATENDENTE","CAIXA"].map(z=>i.jsx("button",{onClick:()=>h(z),className:`px-4 py-2 rounded-lg text-xs font-black uppercase transition-all whitespace-nowrap ${d===z?"bg-indigo-600 text-white shadow-md":"text-txt-muted hover:bg-app hover:text-txt-main"}`,children:z==="ALL"?"Todos":z},z))}),i.jsxs("div",{className:"flex gap-2 bg-surface p-1 rounded-xl border border-bdr shadow-sm",children:[i.jsx("button",{onClick:()=>g("ACTIVE"),className:`px-3 py-2 rounded-lg text-xs font-bold ${m==="ACTIVE"?"bg-emerald-100 text-emerald-700":"text-txt-muted"}`,children:"Ativos"}),i.jsx("button",{onClick:()=>g("INACTIVE"),className:`px-3 py-2 rounded-lg text-xs font-bold ${m==="INACTIVE"?"bg-red-100 text-red-700":"text-txt-muted"}`,children:"Inativos"}),i.jsx("button",{onClick:()=>g("ALL"),className:`px-3 py-2 rounded-lg text-xs font-bold ${m==="ALL"?"bg-gray-100 text-gray-700":"text-txt-muted"}`,children:"Todos"})]})]}),i.jsxs("div",{className:"flex gap-3 w-full md:w-auto",children:[i.jsxs("div",{className:"relative flex-1 md:w-64",children:[i.jsx(Xl,{className:"w-4 h-4 text-txt-muted absolute left-3 top-3"}),i.jsx("input",{type:"text",placeholder:"Buscar por nome...",value:o,onChange:z=>c(z.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-surface border border-bdr rounded-xl text-sm font-bold text-txt-main focus:ring-2 focus:ring-indigo-500 outline-none shadow-sm"})]}),i.jsxs("button",{onClick:$,className:"bg-amber-600 hover:bg-amber-700 text-white px-4 py-2 rounded-xl font-black text-xs flex items-center gap-2 shadow-lg shadow-amber-500/20 transition-transform active:scale-95",title:"Corrigir usurios sem depsito vinculado",children:[i.jsx(ky,{className:"w-4 h-4"})," CORRIGIR"]}),i.jsxs("button",{onClick:()=>{R({ativo:!0,cargo:"ENTREGADOR",depositoId:void 0,permissoes:[]}),B(!0)},className:"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-xl font-black text-xs flex items-center gap-2 shadow-lg shadow-indigo-500/20 transition-transform active:scale-95",children:[i.jsx(Dy,{className:"w-4 h-4"})," NOVO"]})]})]}),i.jsx("div",{className:"flex-1 overflow-y-auto p-6 pt-2",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:[Y.map(z=>{var ve;return i.jsxs("div",{onClick:()=>ee(z),className:`bg-surface border border-bdr rounded-2xl p-5 hover:shadow-lg transition-all group relative cursor-pointer ${(j==null?void 0:j.id)===z.id?"ring-2 ring-indigo-500 bg-indigo-50/10":""} ${z.ativo?"":"opacity-70"}`,children:[i.jsxs("div",{className:"flex justify-between items-start mb-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center text-sm font-black border-2 shadow-sm ${z.ativo?z.cargo==="ENTREGADOR"?"bg-orange-100 text-orange-600 border-orange-200":z.cargo==="GERENTE"?"bg-purple-100 text-purple-600 border-purple-200":"bg-blue-100 text-blue-600 border-blue-200":"bg-gray-100 border-gray-200 text-gray-400"}`,children:z.nome.substring(0,2).toUpperCase()}),i.jsxs("div",{children:[i.jsxs("h3",{className:"font-bold text-txt-main leading-tight flex items-center gap-2",children:[z.nome,!z.ativo&&i.jsx("span",{className:"bg-red-500 text-white text-[9px] px-1.5 py-0.5 rounded uppercase",children:"Inativo"})]}),i.jsx("span",{className:`text-[10px] font-black px-2 py-0.5 rounded uppercase mt-1 inline-block ${z.ativo?z.cargo==="ENTREGADOR"?"bg-orange-500 text-white":"bg-app text-txt-muted border border-bdr":"bg-gray-100 text-gray-500"}`,children:z.cargo})]})]}),i.jsx("div",{children:z.ativo?i.jsx(Yl,{className:"w-5 h-5 text-emerald-500"}):i.jsx(Ch,{className:"w-5 h-5 text-red-500"})})]}),i.jsxs("div",{className:"space-y-2 mb-4",children:[i.jsxs("div",{className:"flex items-center gap-2 text-xs text-txt-muted",children:[i.jsx(jA,{className:"w-3.5 h-3.5"}),i.jsx("span",{className:"font-medium truncate",children:Z(z.depositoId,z.cargo)})]}),z.username&&i.jsxs("div",{className:"flex items-center gap-2 text-xs text-txt-muted",children:[i.jsx(HS,{className:"w-3.5 h-3.5"}),i.jsx("span",{className:"font-mono bg-app px-1.5 rounded",children:z.username})]})]}),i.jsxs("div",{className:"flex items-center gap-1 text-[10px] font-bold text-txt-muted bg-app/50 p-2 rounded-lg",children:[i.jsx(Qy,{className:"w-3 h-3"}),i.jsxs("span",{children:[((ve=z.permissoes)==null?void 0:ve.length)||0," mdulos permitidos"]})]}),i.jsx("div",{className:"flex gap-2 border-t border-bdr pt-3 mt-3 opacity-0 group-hover:opacity-100 transition-opacity",children:z.ativo?i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:we=>{we.stopPropagation(),re(z)},className:"flex-1 py-2 rounded-lg bg-app hover:bg-indigo-50 text-indigo-600 text-xs font-bold transition-colors",children:"Editar"}),i.jsx("button",{onClick:we=>{we.stopPropagation(),W(z.id)},className:"p-2 rounded-lg bg-app hover:bg-red-50 text-red-500 transition-colors",title:"Desativar ou Excluir",children:i.jsx(Gs,{className:"w-4 h-4"})})]}):i.jsx("button",{onClick:we=>{we.stopPropagation(),K(z.id)},className:"w-full py-2 rounded-lg bg-emerald-50 text-emerald-600 text-xs font-bold hover:bg-emerald-100 transition-colors",children:"Reativar Acesso"})}),z.cargo==="ENTREGADOR"&&i.jsx("div",{className:"absolute top-5 right-5 text-indigo-500 opacity-20 group-hover:opacity-100 transition-opacity",children:i.jsx(ky,{className:"w-5 h-5"})})]},z.id)}),Y.length===0&&i.jsx("div",{className:"col-span-full py-12 text-center text-txt-muted",children:i.jsx("p",{className:"font-bold",children:"Nenhum colaborador encontrado com os filtros atuais."})})]})})]}),j&&j.cargo==="ENTREGADOR"&&C&&j.ativo&&i.jsxs("div",{className:"w-96 bg-surface border-l border-bdr flex flex-col shadow-2xl animate-in slide-in-from-right duration-300 relative z-10",children:[i.jsxs("div",{className:"p-6 bg-indigo-600 text-white shrink-0 relative overflow-hidden",children:[i.jsx("button",{onClick:()=>T(null),className:"absolute top-4 right-4 p-1 hover:bg-white/20 rounded-full transition-colors",children:i.jsx(Pn,{className:"w-5 h-5"})}),i.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[i.jsx("div",{className:"w-16 h-16 rounded-full bg-white text-indigo-600 flex items-center justify-center font-black text-xl border-4 border-indigo-400",children:j.nome.substring(0,2).toUpperCase()}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-lg leading-tight",children:j.nome}),i.jsxs("div",{className:"flex items-center gap-1 text-xs font-medium text-indigo-200 mt-1",children:[i.jsx(No,{className:"w-3 h-3"})," Motorista Oficial"]})]})]}),i.jsx(No,{className:"absolute -right-6 -bottom-6 w-32 h-32 text-black/10 rotate-12"})]}),i.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-8",children:i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"bg-app p-4 rounded-xl border border-bdr text-center",children:[i.jsx("span",{className:"text-xs font-bold text-txt-muted uppercase",children:"Hoje"}),i.jsx("p",{className:"text-3xl font-black text-indigo-600",children:C.deliveriesToday}),i.jsx("span",{className:"text-[10px] text-txt-muted",children:"entregas"})]}),i.jsxs("div",{className:"bg-app p-4 rounded-xl border border-bdr text-center",children:[i.jsx("span",{className:"text-xs font-bold text-txt-muted uppercase",children:"Ms"}),i.jsx("p",{className:"text-3xl font-black text-txt-main",children:C.deliveriesMonth}),i.jsx("span",{className:"text-[10px] text-txt-muted",children:"acumulado"})]})]})})]})]}),b&&i.jsx("div",{className:"fixed inset-0 bg-black/60 z-[60] flex items-center justify-center p-4 backdrop-blur-sm animate-in fade-in",children:i.jsxs("div",{className:"bg-surface w-full max-w-2xl rounded-2xl shadow-2xl border border-bdr overflow-hidden flex flex-col max-h-[90vh]",children:[i.jsxs("div",{className:"bg-app px-6 py-4 border-b border-bdr flex justify-between items-center shrink-0",children:[i.jsxs("h3",{className:"text-lg font-black text-txt-main flex items-center gap-2",children:[F.id?i.jsx(Ph,{className:"w-5 h-5 text-indigo-500"}):i.jsx(Dy,{className:"w-5 h-5 text-indigo-500"}),F.id?"Editar Colaborador":"Novo Colaborador"]}),i.jsx("button",{onClick:()=>B(!1),className:"hover:bg-bdr p-1 rounded-full",children:i.jsx(Pn,{className:"w-5 h-5 text-txt-muted"})})]}),i.jsx("div",{className:"p-6 space-y-6 flex-1 overflow-y-auto",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-black text-txt-muted uppercase ml-1",children:"Nome Completo *"}),i.jsx("input",{type:"text",value:F.nome||"",onChange:z=>R({...F,nome:z.target.value}),className:"w-full bg-app border border-bdr rounded-xl p-3 text-sm font-bold text-txt-main outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Ex: Joo da Silva"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-black text-txt-muted uppercase ml-1",children:"Cargo *"}),i.jsxs("select",{value:F.cargo||"ENTREGADOR",onChange:z=>R({...F,cargo:z.target.value}),className:"w-full bg-app border border-bdr rounded-xl p-3 text-sm font-bold text-txt-main outline-none focus:ring-2 focus:ring-indigo-500 cursor-pointer",children:[i.jsx("option",{value:"GERENTE",children:"Gerente"}),i.jsx("option",{value:"ENTREGADOR",children:"Entregador"}),i.jsx("option",{value:"ATENDENTE",children:"Atendente"}),i.jsx("option",{value:"CAIXA",children:"Caixa"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-black text-txt-muted uppercase ml-1",children:"Telefone"}),i.jsx("input",{type:"text",value:F.telefone||"",onChange:z=>R({...F,telefone:z.target.value}),className:"w-full bg-app border border-bdr rounded-xl p-3 text-sm font-bold text-txt-main outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"(00) 00000-0000"})]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"text-xs font-black text-txt-muted uppercase ml-1",children:["Vnculo de Depsito ",ae(F.cargo)?"":"* (OBRIGATRIO)"]}),ae(F.cargo)?i.jsx("div",{className:"w-full bg-indigo-50 border border-indigo-200 rounded-xl p-3 text-sm font-bold text-indigo-600",children:" Acesso Global (todos os depsitos). Este usurio pode operar em qualquer depsito."}):i.jsxs(i.Fragment,{children:[i.jsxs("select",{value:F.depositoId||"",onChange:z=>{const ve=z.target.value;console.log(" Depsito selecionado:",ve),R({...F,depositoId:ve})},className:`w-full bg-app border ${F.depositoId?"border-bdr":"border-red-500"} rounded-xl p-3 text-sm font-bold outline-none focus:ring-2 focus:ring-indigo-500 text-txt-main`,required:!0,children:[i.jsx("option",{value:"",children:" Selecione o depsito..."}),a.map(z=>i.jsx("option",{value:z.id,children:z.nome},z.id))]}),!F.depositoId&&i.jsxs("p",{className:"text-xs text-red-500 mt-1",children:[" Cargo ",F.cargo," DEVE ter depsito vinculado!"]})]})]}),i.jsxs("div",{className:"bg-surface border border-bdr rounded-xl p-4 space-y-4 shadow-sm",children:[i.jsxs("h4",{className:"text-xs font-black text-txt-main uppercase flex items-center gap-2",children:[i.jsx(JE,{className:"w-4 h-4 text-orange-500"})," Acesso ao Sistema"]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-[10px] font-bold text-txt-muted uppercase ml-1",children:"Login"}),i.jsx("input",{type:"text",value:F.username||"",onChange:z=>R({...F,username:z.target.value}),className:"w-full bg-app border border-bdr rounded-lg p-2 text-sm font-bold text-txt-main outline-none focus:ring-2 focus:ring-orange-500",placeholder:"usuario",autoComplete:"new-password"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-[10px] font-bold text-txt-muted uppercase ml-1",children:"Senha"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:_?"text":"password",value:F.password||"",onChange:z=>R({...F,password:z.target.value}),className:"w-full bg-app border border-bdr rounded-lg p-2 pr-8 text-sm font-bold text-txt-main outline-none focus:ring-2 focus:ring-orange-500",placeholder:"",autoComplete:"new-password"}),i.jsx("button",{type:"button",onClick:()=>k(!_),className:"absolute right-2 top-2.5 text-txt-muted hover:text-txt-main",children:_?i.jsx(TE,{className:"w-3.5 h-3.5"}):i.jsx(QE,{className:"w-3.5 h-3.5"})})]})]})]})]})]}),i.jsxs("div",{className:"flex flex-col h-full",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("label",{className:"text-xs font-black text-txt-muted uppercase ml-1 flex items-center gap-2",children:[i.jsx(Qy,{className:"w-4 h-4"})," Permisses de Acesso"]}),i.jsx("button",{type:"button",onClick:ge,className:"text-[10px] font-bold text-indigo-600 hover:underline",children:((pe=F.permissoes)==null?void 0:pe.length)===zc.length?"Desmarcar Todos":"Marcar Todos"})]}),i.jsx("div",{className:"flex-1 bg-app border border-bdr rounded-xl p-2 overflow-y-auto max-h-[400px]",children:i.jsx("div",{className:"grid grid-cols-2 gap-2",children:zc.map(z=>{var V;const ve=(V=F.permissoes)==null?void 0:V.includes(z.id),we=z.icon;return i.jsxs("div",{onClick:()=>le(z.id),className:`cursor-pointer flex items-center gap-2 p-2 rounded-lg border transition-all ${ve?"bg-white border-indigo-200 shadow-sm":"bg-transparent border-transparent hover:bg-surface hover:border-bdr opacity-60"}`,children:[i.jsx("div",{className:`transition-colors ${ve?"text-indigo-600":"text-txt-muted"}`,children:ve?i.jsx(w5,{className:"w-4 h-4"}):i.jsx(JS,{className:"w-4 h-4"})}),i.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[i.jsx("div",{className:`p-1 rounded ${z.bgColor}`,children:i.jsx(we,{className:`w-3 h-3 ${z.color}`})}),i.jsx("span",{className:`text-[10px] font-bold truncate ${ve?"text-txt-main":"text-txt-muted"}`,children:z.label})]})]},z.id)})})}),i.jsx("p",{className:"text-[10px] text-txt-muted mt-2 ml-1",children:"Defina quais mdulos aparecero no menu principal para este usurio."})]})]})}),i.jsxs("div",{className:"p-4 bg-app border-t border-bdr flex justify-end gap-3 shrink-0",children:[i.jsx("button",{onClick:()=>B(!1),className:"px-4 py-2 text-txt-muted font-bold hover:bg-surface rounded-lg transition-colors",children:"Cancelar"}),i.jsxs("button",{onClick:H,className:"px-6 py-2 bg-indigo-600 hover:bg-indigo-700 text-white font-black rounded-lg shadow-lg shadow-indigo-500/20 flex items-center gap-2",children:[i.jsx(qo,{className:"w-4 h-4"})," SALVAR DADOS"]})]})]})})]})},ER=({onLoginSuccess:r})=>{const[e,t]=q.useState(null),[n,a]=q.useState(navigator.onLine),[o,c]=q.useState(""),[d,h]=q.useState(""),[m,g]=q.useState(""),[b,B]=q.useState(!1),[_,k]=q.useState("Administrador Principal"),[j,T]=q.useState("admin"),[C,I]=q.useState(""),[F,R]=q.useState("");q.useEffect(()=>{let ee=!0;const H=()=>a(!0),W=()=>a(!1);return window.addEventListener("online",H),window.addEventListener("offline",W),td.from("employees").select("*").then(({data:K})=>{ee&&t(!K||K.length===0)}),()=>{ee=!1,window.removeEventListener("online",H),window.removeEventListener("offline",W)}},[]);const ae=async ee=>{try{const{data:H,error:W}=await td.from("employees").select("*").or(`username.eq.${ee},nome.eq.${ee}`).single();if(W||!H)return null;const K=H.depositoId??H.deposito_id??H.deposit_id??null,$={id:H.id,nome:H.nome||H.name,cpf:H.cpf,telefone:H.telefone||H.phone,cargo:H.cargo||H.role,depositoId:K,ativo:H.ativo!==!1,username:H.username,password:H.password,permissoes:H.permissoes||H.permissions||[]};return await db.employees.put($),$}catch(H){return console.error("Erro ao buscar usurio da nuvem:",H),null}},Z=async ee=>{ee.preventDefault(),g(""),B(!0);try{const H=o.trim().toLowerCase(),W=d.trim();let K;if(!n){g("Sem conexo com a internet. Conecte-se e tente novamente."),B(!1);return}const $=await ae(H);if($)K=$;else{g("Usurio no encontrado!"),B(!1);return}if(!K.ativo){g("Usurio inativo!"),B(!1);return}if(!(K.cargo==="GERENTE"||K.cargo==="ENTREGADOR")&&!K.depositoId){g(`Usurio sem depsito vinculado! Cargo ${K.cargo} deve ter depsito definido. Contate o administrador.`),B(!1);return}const le=(K.password||"").trim();if(!le||le!==W){g("Senha incorreta!"),B(!1);return}r(K),B(!1)}catch(H){console.error("Erro ao autenticar:",H),g("Erro ao conectar ao banco de dados."),B(!1)}},me=async ee=>{if(ee.preventDefault(),!_||!j||!C||!F){g("Todos os campos so obrigatrios.");return}B(!0);try{const H={id:crypto.randomUUID(),nome:F,endereco:"Endereo Principal",ativo:!0,corIdentificacao:"blue"},{error:W}=await td.from("deposits").insert(H);if(W)throw W;const K={id:crypto.randomUUID(),nome:_,cargo:"GERENTE",depositoId:H.id,ativo:!0,username:j.trim(),password:C.trim(),permissoes:zc.map(re=>re.id)},{error:$}=await td.from("employees").insert(K);if($)throw $;setTimeout(()=>r(K),500)}catch(H){console.error("Erro ao criar depsito:",H),g("Erro ao configurar sistema. Tente novamente."),B(!1)}};return e===null?null:i.jsxs("div",{className:"min-h-screen w-full bg-slate-900 flex items-center justify-center p-4 relative overflow-hidden",children:[i.jsx("div",{className:"absolute top-4 right-4 z-20",children:i.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-full text-xs font-bold ${n?"bg-green-500/20 text-green-400 border border-green-500/30":"bg-amber-500/20 text-amber-400 border border-amber-500/30"}`,children:[n?i.jsx(B5,{className:"w-3 h-3"}):i.jsx(_5,{className:"w-3 h-3"}),n?"Online":"Offline"]})}),i.jsx("div",{className:"absolute -top-24 -left-24 w-96 h-96 bg-red-600/20 rounded-full blur-[100px] animate-pulse"}),i.jsx("div",{className:"absolute bottom-0 right-0 w-[500px] h-[500px] bg-red-600/10 rounded-full blur-[120px]"}),i.jsxs("div",{className:"w-full max-w-md bg-white/10 backdrop-blur-xl border border-white/10 p-8 rounded-3xl shadow-2xl relative z-10 animate-in fade-in zoom-in-95 duration-500",children:[i.jsxs("div",{className:"text-center mb-10",children:[i.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-red-600 to-red-800 rounded-2xl shadow-lg mb-6 transform rotate-3 hover:rotate-6 transition-transform",children:i.jsx(m5,{className:"w-10 h-10 text-white"})}),i.jsxs("h1",{className:"text-3xl font-black text-white tracking-tight",children:["Gs ",i.jsx("span",{className:"text-red-500",children:"Real"})]}),i.jsx("p",{className:"text-slate-400 text-sm font-medium mt-2",children:"Sistema Integrado de Gesto"})]}),e?i.jsxs("form",{onSubmit:me,className:"space-y-5",children:[i.jsx("div",{className:"bg-blue-500/20 border border-blue-500/30 p-4 rounded-xl text-blue-200 text-xs font-medium text-center",children:"Bem-vindo! Vamos configurar seu acesso administrativo e o primeiro depsito."}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-xs font-black text-slate-400 uppercase ml-1",children:"Nome do Administrador"}),i.jsx("input",{type:"text",value:_,onChange:ee=>k(ee.target.value),className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-700 rounded-xl text-white outline-none focus:border-red-500 transition-all",placeholder:"Ex: Seu Nome"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-xs font-black text-slate-400 uppercase ml-1",children:"Nome do Depsito Principal"}),i.jsxs("div",{className:"relative",children:[i.jsx(x5,{className:"absolute left-3 top-3.5 w-4 h-4 text-slate-500"}),i.jsx("input",{type:"text",value:F,onChange:ee=>R(ee.target.value),className:"w-full pl-10 px-4 py-3 bg-slate-800/50 border border-slate-700 rounded-xl text-white outline-none focus:border-red-500 transition-all",placeholder:"Ex: Nome do Depsito"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-xs font-black text-slate-400 uppercase ml-1",children:"Usurio"}),i.jsx("input",{type:"text",value:j,onChange:ee=>T(ee.target.value),className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-700 rounded-xl text-white outline-none focus:border-red-500 transition-all",autoCapitalize:"none",autoCorrect:"off"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-xs font-black text-slate-400 uppercase ml-1",children:"Senha"}),i.jsx("input",{type:"password",value:C,onChange:ee=>I(ee.target.value),className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-700 rounded-xl text-white outline-none focus:border-red-500 transition-all",placeholder:"****"})]})]}),m&&i.jsx("p",{className:"text-red-400 text-xs font-bold text-center",children:m}),i.jsx("button",{type:"submit",disabled:b,className:"w-full py-4 bg-emerald-600 hover:bg-emerald-700 text-white font-black rounded-xl shadow-lg transition-all active:scale-95 flex items-center justify-center gap-2",children:b?i.jsx(dl,{className:"w-5 h-5 animate-spin"}):i.jsxs(i.Fragment,{children:[i.jsx(qo,{className:"w-5 h-5"})," INICIAR SISTEMA"]})})]}):i.jsxs("form",{onSubmit:Z,className:"space-y-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-xs font-black text-slate-400 uppercase ml-1",children:"Usurio"}),i.jsxs("div",{className:"relative group",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:i.jsx(Vp,{className:"h-5 w-5 text-slate-500 group-focus-within:text-red-500 transition-colors"})}),i.jsx("input",{type:"text",value:o,onChange:ee=>c(ee.target.value),className:"w-full pl-12 pr-4 py-4 bg-slate-800/50 border border-slate-700 rounded-xl text-white placeholder-slate-500 focus:ring-2 focus:ring-red-500 focus:border-transparent outline-none transition-all font-medium",placeholder:"Seu usurio de acesso",autoComplete:"username",autoCapitalize:"none",autoCorrect:"off",spellCheck:!1,autoFocus:!0})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-xs font-black text-slate-400 uppercase ml-1",children:"Senha"}),i.jsxs("div",{className:"relative group",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:i.jsx(v5,{className:"h-5 w-5 text-slate-500 group-focus-within:text-red-500 transition-colors"})}),i.jsx("input",{type:"password",value:d,onChange:ee=>h(ee.target.value),className:"w-full pl-12 pr-4 py-4 bg-slate-800/50 border border-slate-700 rounded-xl text-white placeholder-slate-500 focus:ring-2 focus:ring-red-500 focus:border-transparent outline-none transition-all font-medium tracking-wide",placeholder:"",autoComplete:"current-password"})]})]}),m&&i.jsx("div",{className:"p-3 rounded-lg bg-red-500/10 border border-red-500/20 text-red-400 text-sm font-bold text-center animate-in shake",children:m}),i.jsx("button",{type:"submit",disabled:b,className:"w-full py-4 bg-gradient-to-r from-red-600 to-red-800 hover:from-red-500 hover:to-red-700 text-white font-black rounded-xl shadow-lg shadow-red-900/25 flex items-center justify-center gap-2 transition-all active:scale-95 disabled:opacity-70 disabled:cursor-not-allowed group",children:b?i.jsx(dl,{className:"w-5 h-5 animate-spin"}):i.jsxs(i.Fragment,{children:["ACESSAR SISTEMA",i.jsx(G4,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})})]})]}),i.jsx("div",{className:"absolute bottom-4 text-slate-600 text-[10px] font-mono",children:"v2.5.0  Build 2025"})]})},SR="data:audio/mp3;base64,//uQxAAAAANIAAAAAExBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq//uQxAAAAANIAAAAAExBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq//uQxAAAAANIAAAAAExBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq//uQxAAAAANIAAAAAExBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq//uQxAAAAANIAAAAAExBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq",LR=({currentUser:r,onJobStart:e})=>{const[t,n]=q.useState(!1),[a,o]=q.useState(Date.now()),c=q.useRef(null);q.useEffect(()=>{c.current=new Audio(SR),c.current.loop=!1,c.current.volume=1},[]),q.useEffect(()=>{if(!t)return;const h=async()=>{await updateDriverHeartbeat(r,void 0,void 0,"DISPONIVEL"),o(Date.now()),(await listDeliveryJobs()).find(B=>B.assignedDriverId===r.id&&B.status==="EM_ROTA")&&(c.current&&c.current.play().catch(B=>console.log("udio bloqueado pelo navegador",B)),navigator.vibrate&&navigator.vibrate([500,200,500]),e())},m=setInterval(()=>{h()},3e3);return h(),()=>{clearInterval(m),c.current&&(c.current.pause(),c.current.currentTime=0)}},[t,r,e]);const d=()=>{t?updateDriverHeartbeat(r,void 0,void 0,"OFFLINE").finally(()=>n(!1)):(c.current&&c.current.play().then(()=>{var h;(h=c.current)==null||h.pause(),c.current.currentTime=0}).catch(h=>console.log("Erro ao desbloquear udio:",h)),n(!0))};return i.jsxs("div",{className:"h-full bg-slate-950 flex flex-col text-slate-200",children:[i.jsxs("div",{className:"px-6 py-8 flex flex-col items-center justify-center border-b border-slate-900 bg-slate-900/50",children:[i.jsx("div",{className:`w-24 h-24 rounded-full flex items-center justify-center mb-4 transition-all duration-500 ${t?"bg-emerald-500/10 shadow-[0_0_40px_rgba(16,185,129,0.2)]":"bg-slate-800"}`,children:t?i.jsxs("div",{className:"relative",children:[i.jsx(B5,{className:"w-10 h-10 text-emerald-500 animate-pulse"}),i.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-emerald-500/30 animate-ping"})]}):i.jsx(_5,{className:"w-10 h-10 text-slate-500"})}),i.jsx("h2",{className:"text-xl font-bold text-white mb-1",children:t?"Aguardando Chamados...":"Voc est Offline"}),i.jsx("p",{className:"text-xs text-slate-500 font-medium",children:t?"O operador enviar entregas para voc":"Ative para receber entregas"})]}),i.jsx("div",{className:"flex-1 flex flex-col items-center justify-center p-8 relative overflow-hidden",children:t?i.jsxs("div",{className:"relative w-64 h-64",children:[i.jsx("div",{className:"absolute inset-0 border border-emerald-500/20 rounded-full animate-[ping_3s_linear_infinite]"}),i.jsx("div",{className:"absolute inset-4 border border-emerald-500/30 rounded-full animate-[ping_3s_linear_infinite_1s]"}),i.jsx("div",{className:"absolute inset-12 border border-emerald-500/10 rounded-full"}),i.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:i.jsx(Kp,{className:"w-16 h-16 text-slate-600 opacity-50"})}),i.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-t from-emerald-500/20 to-transparent w-full h-1/2 top-1/2 origin-top animate-spin-slow opacity-30 pointer-events-none"})]}):i.jsxs("div",{className:"flex flex-col items-center text-slate-600 gap-4",children:[i.jsx(vE,{className:"w-20 h-20 opacity-20"}),i.jsx("p",{className:"font-medium text-sm",children:"Modo Pausa Ativo"})]})}),i.jsxs("div",{className:"p-6 bg-slate-900 border-t border-slate-800",children:[i.jsxs("button",{onClick:d,className:`w-full py-4 rounded-xl font-black text-lg shadow-lg flex items-center justify-center gap-3 transition-all active:scale-95 ${t?"bg-red-500/10 text-red-500 border border-red-500/50 hover:bg-red-500 hover:text-white":"bg-emerald-600 text-white hover:bg-emerald-500"}`,children:[i.jsx(BS,{className:"w-6 h-6"}),t?"FICAR OFFLINE":"INICIAR TURNO"]}),i.jsxs("p",{className:"text-center text-[10px] text-slate-600 mt-4 font-mono",children:["ltima conexo: ",new Date(a).toLocaleTimeString()]})]})]})},jR=({currentUser:r,onJobFinished:e})=>{const[t,n]=q.useState(null);if(q.useEffect(()=>{let d=!0;const h=async()=>{const b=(await listDeliveryJobsByDriver(r.id)).find(B=>B.status==="EM_ROTA");d&&(b?(n(b),await updateDriverHeartbeat(r,void 0,void 0,"OCUPADO")):e())};h();const m=setInterval(()=>{h()},5e3);return()=>{d=!1,clearInterval(m)}},[r,e]),!t)return i.jsx("div",{className:"p-10 text-center text-white",children:"Carregando dados da entrega..."});const a=()=>{confirm("Confirmar entrega realizada e recebimento do valor?")&&completeJob(t.id).then(()=>e())},o=()=>{const d=prompt("Motivo da devoluo/falha:");d&&returnJob(t.id,d).then(()=>e())},c=()=>{const d=encodeURIComponent(t.address.full+", Rio Verde - GO");window.open(`https://www.google.com/maps/search/?api=1&query=${d}`,"_blank")};return i.jsxs("div",{className:"flex flex-col h-full bg-slate-950 text-white overflow-hidden relative",children:[i.jsxs("div",{className:"h-1/3 bg-slate-800 relative w-full overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 opacity-30 bg-[url('https://upload.wikimedia.org/wikipedia/commons/e/ec/OpenStreetMap_Logo.png')] bg-cover bg-center grayscale mix-blend-overlay"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent to-slate-950"}),i.jsxs("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 px-4 py-1.5 rounded-full bg-slate-900/80 backdrop-blur border border-slate-700 text-xs font-bold uppercase tracking-widest flex items-center gap-2",children:[i.jsx(Iy,{className:"w-4 h-4 text-blue-500 animate-pulse"}),"Em Deslocamento"]})]}),i.jsxs("div",{className:"flex-1 bg-slate-900 rounded-t-[2rem] -mt-10 relative z-10 flex flex-col p-6 shadow-[0_-10px_40px_rgba(0,0,0,0.5)] border-t border-slate-800",children:[i.jsx("div",{className:"w-12 h-1.5 bg-slate-700 rounded-full mx-auto mb-6 opacity-50"}),i.jsxs("div",{className:"space-y-6 flex-1 overflow-y-auto pb-4",children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-black leading-tight mb-1",children:t.customerName}),i.jsxs("div",{className:"flex items-center gap-2 text-indigo-400 font-bold text-sm",onClick:()=>window.open(`tel:${t.customerPhone}`),children:[i.jsx(Eb,{className:"w-4 h-4"})," ",t.customerPhone||"Sem telefone"]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-xs text-slate-500 font-bold uppercase",children:"Total a Receber"}),i.jsxs("div",{className:"text-2xl font-black text-emerald-400",children:["R$ ",t.totalValue.toFixed(2)]})]})]}),i.jsxs("div",{className:"bg-slate-800 p-4 rounded-2xl border border-slate-700 flex gap-4",children:[i.jsx(jA,{className:"w-6 h-6 text-indigo-500 shrink-0 mt-1"}),i.jsx("div",{children:i.jsx("p",{className:"text-sm font-medium text-slate-200 leading-snug",children:t.address.full})})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between text-sm border-b border-slate-800 pb-2",children:[i.jsx("span",{className:"text-slate-500",children:"Pagamento"}),i.jsx("span",{className:"font-bold",children:t.paymentMethod})]}),i.jsxs("div",{className:"flex justify-between text-sm border-b border-slate-800 pb-2",children:[i.jsx("span",{className:"text-slate-500",children:"Itens"}),i.jsx("span",{className:"font-bold text-right max-w-[200px] truncate",children:t.itemsSummary})]}),t.observation&&i.jsxs("div",{className:"bg-amber-500/10 border border-amber-500/20 p-3 rounded-xl text-xs text-amber-200",children:[i.jsx("span",{className:"font-bold block mb-1",children:"Observao:"}),t.observation]})]})]}),i.jsxs("div",{className:"mt-4 space-y-3",children:[i.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[i.jsx("button",{onClick:c,className:"col-span-1 bg-slate-800 hover:bg-slate-700 text-white rounded-xl flex items-center justify-center py-4",children:i.jsx(Iy,{className:"w-6 h-6"})}),i.jsxs("button",{onClick:a,className:"col-span-3 py-4 bg-emerald-600 hover:bg-emerald-700 text-white rounded-xl font-black text-base shadow-lg shadow-emerald-500/20 flex items-center justify-center gap-2",children:[i.jsx(Yl,{className:"w-5 h-5"})," FINALIZAR"]})]}),i.jsx("button",{onClick:o,className:"w-full py-3 text-xs font-bold text-slate-500 hover:text-red-500 transition-colors",children:"Relatar Problema / Devolver"})]})]})]})},kR=({currentUser:r,onLogout:e})=>{const[t,n]=q.useState("WAITING");return q.useEffect(()=>{(async()=>{(await listDeliveryJobsByDriver(r.id)).find(d=>d.status==="EM_ROTA")&&n("ACTIVE")})()},[r]),i.jsxs("div",{className:"h-screen w-full overflow-hidden flex flex-col",children:[i.jsxs("div",{className:"bg-slate-950 p-4 flex justify-between items-center border-b border-slate-800 shrink-0 z-50",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-800 border border-slate-700 flex items-center justify-center text-xs font-bold text-slate-300",children:r.nome.substring(0,2).toUpperCase()}),i.jsx("span",{className:"font-bold text-slate-200 text-sm",children:r.nome})]}),i.jsx("button",{onClick:e,className:"p-2 text-slate-500 hover:text-red-500 transition-colors",children:i.jsx(y5,{className:"w-5 h-5"})})]}),i.jsx("div",{className:"flex-1 relative",children:t==="WAITING"?i.jsx(LR,{currentUser:r,onJobStart:()=>n("ACTIVE")}):i.jsx(jR,{currentUser:r,onJobFinished:()=>n("WAITING")})})]})},UR=r=>{typeof window>"u"||window.dispatchEvent(new CustomEvent("gp:navigate",{detail:r}))},TR=()=>{const[r,e]=q.useState({x:window.innerWidth-150,y:window.innerHeight-150}),[t,n]=q.useState(!1),[a,o]=q.useState({x:0,y:0}),[c,d]=q.useState({x:0,y:0}),[h,m]=q.useState(0),[g,b]=q.useState(!1),[B,_]=q.useState(null),[k,j]=q.useState(!1),T=[],C=T.length,I=C>0?T[h%C]:null,F=q.useMemo(()=>T.some(W=>W.type==="critical"),[T]),R=F?"critical":C>0?"worried":"happy",ae=q.useRef(null);q.useEffect(()=>{if(C<=1)return;const W=setInterval(()=>{m(K=>(K+1)%C)},5e3);return()=>clearInterval(W)},[C]),q.useEffect(()=>{h>=C&&m(0)},[h,C]),q.useEffect(()=>{const W=$=>{if(t&&(e({x:$.clientX-a.x,y:$.clientY-a.y}),B)){const re=Math.abs($.clientX-B.x),le=Math.abs($.clientY-B.y);(re>4||le>4)&&j(!0)}if(ae.current){const re=ae.current.getBoundingClientRect(),le=re.left+re.width/2,ge=re.top+re.height/2,Y=Math.atan2($.clientY-ge,$.clientX-le),pe=Math.min(3,Math.hypot($.clientX-le,$.clientY-ge)/20);d({x:Math.cos(Y)*pe,y:Math.sin(Y)*pe})}},K=()=>{n(!1),B&&(k||b($=>!$),j(!1),_(null))};return window.addEventListener("mousemove",W),window.addEventListener("mouseup",K),()=>{window.removeEventListener("mousemove",W),window.removeEventListener("mouseup",K)}},[t,a,B,k]);const Z=W=>{n(!0),o({x:W.clientX-r.x,y:W.clientY-r.y}),_({x:W.clientX,y:W.clientY}),j(!1)},me=()=>R==="critical"?"bg-red-500 shadow-[0_0_15px_rgba(239,68,68,0.9)]":R==="worried"?"bg-amber-400 shadow-[0_0_10px_rgba(251,191,36,0.8)]":"bg-cyan-400 shadow-[0_0_10px_rgba(34,211,238,0.8)]",ee=()=>R==="critical"?"bg-red-950/80 border-red-800":R==="worried"?"bg-amber-950/80 border-amber-800":"bg-slate-800 border-slate-600",H=W=>{UR(W),b(!1)};return i.jsxs("div",{ref:ae,className:`fixed z-[9999] touch-none select-none cursor-move group transition-shadow duration-300 ${t?"scale-105":""}`,style:{left:r.x,top:r.y,filter:t?"drop-shadow(0 20px 20px rgba(0,0,0,0.3))":"drop-shadow(0 10px 10px rgba(0,0,0,0.2))"},onMouseDown:Z,children:[I&&i.jsx("div",{className:"absolute -top-24 left-1/2 -translate-x-1/2",children:i.jsxs("div",{className:`relative bg-white text-gray-900 border rounded-2xl shadow-xl px-4 py-3 text-xs w-64 animate-in fade-in duration-300 ${F?"border-red-500":"border-gray-200"}`,children:[i.jsx("div",{className:`text-[10px] font-black uppercase ${I.type==="critical"?"text-red-600":"text-amber-600"}`,children:I.type==="critical"?"Critico":"Aviso"}),i.jsx("div",{className:"text-xs font-semibold text-gray-900",children:I.message}),i.jsx("div",{className:`absolute -bottom-3 left-8 w-3 h-3 rounded-full bg-white border ${F?"border-red-500":"border-gray-200"}`}),i.jsx("div",{className:`absolute -bottom-8 left-14 w-2 h-2 rounded-full bg-white border ${F?"border-red-500":"border-gray-200"}`}),i.jsx("div",{className:`absolute -bottom-16 left-20 w-1.5 h-1.5 rounded-full bg-white border ${F?"border-red-500":"border-gray-200"}`})]})}),C>0&&i.jsx("div",{className:"absolute -top-2 -right-2 bg-red-600 text-white text-[10px] font-black w-6 h-6 flex items-center justify-center rounded-full border-2 border-white z-20 animate-bounce",children:C}),i.jsx("div",{className:`relative ${t?"":"animate-float"}`,children:i.jsxs("div",{className:"relative w-20 h-24",children:[i.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-10 h-3 bg-slate-300 rounded-full border border-slate-400 z-10"}),i.jsx("div",{className:"absolute top-1 left-1/2 -translate-x-1/2 w-5 h-5 bg-slate-300 z-0 rounded-sm"}),i.jsxs("div",{className:"absolute top-5 w-full h-full bg-gradient-to-br from-slate-200 via-slate-300 to-slate-400 rounded-3xl border border-slate-400 shadow-inner flex flex-col items-center justify-center overflow-hidden",children:[i.jsx("div",{className:"absolute top-3 left-3 w-4 h-10 bg-white/40 rounded-full blur-[2px]"}),i.jsxs("div",{className:`w-14 h-9 rounded-xl mt-3 flex items-center justify-center gap-2 shadow-[inset_0_2px_4px_rgba(0,0,0,0.5)] border relative overflow-hidden transition-colors duration-500 ${ee()}`,children:[i.jsxs("div",{className:"flex gap-2 transition-transform duration-100",style:{transform:`translate(${c.x}px, ${c.y}px)`},children:[i.jsx("div",{className:`w-3 h-3 rounded-full transition-colors duration-500 ${me()} ${R==="worried"?"rounded-t-sm":""} ${R==="critical"?"animate-pulse":""}`}),i.jsx("div",{className:`w-3 h-3 rounded-full transition-colors duration-500 ${me()} ${R==="worried"?"rounded-t-sm":""} ${R==="critical"?"animate-pulse":""}`})]}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-white/5 to-transparent animate-scan"})]}),i.jsxs("div",{className:"mt-3 flex flex-col gap-1 items-center",children:[i.jsx("div",{className:`w-8 h-0.5 rounded-full transition-colors ${R==="critical"?"bg-red-400":"bg-slate-500"}`}),i.jsx("div",{className:`w-6 h-0.5 rounded-full transition-colors ${R==="critical"?"bg-red-400":"bg-slate-500"}`})]}),i.jsx("div",{className:"absolute bottom-4 w-full border-t border-slate-400/30"})]}),i.jsx("div",{className:`absolute top-12 -left-3 w-4 h-4 bg-slate-400 rounded-full shadow-sm border border-slate-500 transition-transform ${t?"-rotate-12":"animate-wiggle-left"}`}),i.jsx("div",{className:`absolute top-12 -right-3 w-4 h-4 bg-slate-400 rounded-full shadow-sm border border-slate-500 transition-transform ${t?"rotate-12":"animate-wiggle-right"}`}),i.jsxs("div",{className:"absolute -top-6 left-1/2 -translate-x-1/2 opacity-0 group-hover:opacity-100 transition-opacity bg-slate-800 text-white text-[10px] px-2 py-1 rounded-full whitespace-nowrap pointer-events-none flex items-center gap-1",children:[i.jsx(hS,{className:"w-3 h-3"})," Arraste-me"]})]})}),g&&i.jsxs("div",{className:"absolute left-full top-0 ml-4 w-72 bg-white text-gray-900 border border-gray-200 rounded-xl shadow-xl overflow-hidden animate-in fade-in duration-200",onMouseDown:W=>W.stopPropagation(),onClick:W=>W.stopPropagation(),children:[i.jsxs("div",{className:"px-4 py-3 border-b border-gray-200 text-[10px] font-black uppercase text-gray-500",children:["Alertas do sistema (",C,")"]}),i.jsx("div",{className:"max-h-64 overflow-y-auto",children:T.length===0?i.jsx("div",{className:"px-4 py-4 text-xs text-gray-500",children:"Nenhum alerta ativo."}):T.map(W=>i.jsxs("button",{type:"button",onClick:()=>H(W.link),className:"w-full text-left px-4 py-3 border-b border-gray-100 last:border-b-0 hover:bg-gray-50",children:[i.jsx("div",{className:`text-[10px] font-black uppercase ${W.type==="critical"?"text-red-600":"text-amber-600"}`,children:W.type==="critical"?"Critico":"Aviso"}),i.jsx("div",{className:"text-xs text-gray-800",children:W.message})]},W.id))})]}),i.jsx("style",{children:`

        @keyframes float {

          0%, 100% { transform: translateY(0); }

          50% { transform: translateY(-8px); }

        }

        .animate-float {

          animation: float 3s infinite ease-in-out;

        }

        @keyframes scan {

          0% { transform: translateY(-100%); }

          100% { transform: translateY(100%); }

        }

        .animate-scan {

          animation: scan 2s linear infinite;

        }

      `})]})},FR=({user:r})=>{const{openShift:e}=jm(),[t,n]=q.useState(""),[a,o]=q.useState({}),[c,d]=q.useState([]),[h,m]=q.useState({}),[g,b]=q.useState(!1),[B,_]=q.useState(null),[k,j]=q.useState(r.depositoId||""),T=useLiveQuery(()=>{var H;return(H=db.deposits)==null?void 0:H.toArray()},[])??[],C=useLiveQuery(()=>k?db.deposits.get(k):void 0,[k]),I=!!((C==null?void 0:C.require_stock_audit)??(C==null?void 0:C.requireStockAudit)),F=H=>H.deposit_id??H.depositId??H.depositoId??null,R=H=>(H.is_delivery_fee??H.isDeliveryFee)===!0||String(H.product_group??H.codigo??"").toLowerCase()==="delivery_fee"?!0:String(H.nome??"").toLowerCase()==="taxa de entrega",ae=H=>R(H)||(H.track_stock??H.trackStock)===!1?!0:H.type==="SERVICE";q.useEffect(()=>{let H=!0;return(async()=>{if(!k)return;const $=(await listProducts()).filter(le=>{if(ae(le))return!1;const ge=F(le);return ge===null||ge===k}),re=await getStockMapForDeposit(k);H&&(d($),m(re))})(),()=>{H=!1}},[k]);const Z=q.useMemo(()=>!I||!c.length?!1:c.some(H=>a[H.id]===""||a[H.id]===void 0),[I,c,a]),me=(H,W)=>{const K=parseInt(W);o($=>({...$,[H]:Number.isNaN(K)?"":Math.max(0,K)}))},ee=async()=>{if(_(null),!k){_("Erro: Usurio sem depsito vinculado.");return}const H=Number(t.replace(",","."));if(!Number.isFinite(H)||H<0){_("Informe um valor valido para o fundo de troco.");return}if(Z){_("Preencha a contagem inicial de estoque.");return}b(!0);try{await e({openingBalance:H})}catch{_("Falha ao abrir o turno.")}finally{b(!1)}};return i.jsx("div",{className:"fixed inset-0 z-[70] bg-black/70 flex items-center justify-center p-6",children:i.jsxs("div",{className:"w-full max-w-3xl bg-surface border border-bdr rounded-2xl shadow-xl overflow-hidden",children:[i.jsxs("div",{className:"px-6 py-4 border-b border-bdr flex items-center gap-3",children:[i.jsx("div",{className:"bg-primary/10 p-2 rounded-lg border border-primary/20",children:i.jsx(Bb,{className:"w-5 h-5 text-primary"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-base font-black text-txt-main",children:"Abertura de Caixa"}),i.jsx("p",{className:"text-xs text-txt-muted",children:"Turno obrigatorio para acesso ao sistema."})]})]}),i.jsxs("div",{className:"p-6 space-y-6",children:[!r.depositoId&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-bold text-txt-main",children:"Selecione o Depsito *"}),i.jsxs("select",{value:k,onChange:H=>j(H.target.value),className:"w-full px-4 py-3 border border-bdr rounded-lg bg-app text-txt-main focus:ring-2 focus:ring-primary",required:!0,children:[i.jsx("option",{value:"",children:"-- Selecione um depsito --"}),T.map(H=>i.jsx("option",{value:H.id,children:H.nome},H.id))]}),i.jsx("p",{className:"text-xs text-txt-muted",children:"Selecione o depsito onde deseja abrir turno."})]}),B&&i.jsx("div",{className:"bg-red-500/10 border border-red-500/30 rounded-xl p-4",children:i.jsxs("div",{className:"flex items-center gap-2 text-red-500 font-bold text-sm",children:[i.jsx(Hc,{className:"w-4 h-4"}),B]})}),i.jsxs("div",{className:"bg-app border border-bdr rounded-xl p-4 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-app rounded-full border border-bdr",children:i.jsx(x5,{className:"w-5 h-5 text-txt-muted"})}),i.jsxs("div",{children:[i.jsx("div",{className:"text-xs text-txt-muted uppercase font-bold",children:"Deposito"}),i.jsx("div",{className:"text-sm font-black text-txt-main",children:(C==null?void 0:C.nome)||"Selecione um depsito"})]})]}),I&&i.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-amber-500 bg-amber-500/10 border border-amber-500/20 px-2 py-1 rounded",children:[i.jsx(Hc,{className:"w-4 h-4"}),"Auditoria de estoque obrigatoria"]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 items-end",children:i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-xs font-bold text-txt-muted uppercase ml-1",children:"Fundo de Troco / Suprimento Inicial"}),i.jsxs("div",{className:"relative",children:[i.jsx("span",{className:"absolute left-3 top-2.5 text-txt-muted font-medium",children:"R$"}),i.jsx("input",{type:"number",min:"0",value:t,onChange:H=>n(H.target.value),className:"w-full pl-10 pr-4 py-2 bg-app border border-bdr rounded-lg focus:ring-2 focus:ring-primary/20 outline-none font-bold text-txt-main",placeholder:"0.00"})]})]})}),I&&c.length>0&&i.jsxs("div",{className:"bg-app border border-bdr rounded-xl overflow-hidden",children:[i.jsx("div",{className:"px-4 py-3 border-b border-bdr",children:i.jsx("h4",{className:"text-xs font-black text-txt-muted uppercase tracking-widest",children:"Contagem Inicial de Estoque"})}),i.jsxs("table",{className:"w-full text-sm text-left",children:[i.jsx("thead",{className:"bg-surface text-[10px] text-txt-muted uppercase font-black border-b border-bdr",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3",children:"Produto"}),i.jsx("th",{className:"px-4 py-3 text-center",children:"Estoque Sistema"}),i.jsx("th",{className:"px-4 py-3 text-center",children:"Contado"})]})}),i.jsx("tbody",{className:"divide-y divide-bdr",children:c.map(H=>i.jsxs("tr",{className:"hover:bg-app/60 transition-colors",children:[i.jsx("td",{className:"px-4 py-3 font-medium text-txt-main",children:H.nome}),i.jsx("td",{className:"px-4 py-3 text-center font-mono text-txt-muted",children:h[H.id]??0}),i.jsx("td",{className:"px-4 py-3 text-center",children:i.jsx("input",{type:"number",min:"0",value:a[H.id]??"",onChange:W=>me(H.id,W.target.value),className:"w-24 text-center font-black bg-surface border border-bdr rounded-lg py-1 text-txt-main focus:ring-2 focus:ring-primary/20 outline-none",placeholder:"-"})})]},H.id))})]})]}),B&&i.jsx("div",{className:"text-xs font-bold text-red-500 bg-red-500/10 border border-red-500/20 px-3 py-2 rounded",children:B})]}),i.jsx("div",{className:"px-6 py-4 border-t border-bdr bg-app flex justify-end",children:i.jsxs("button",{onClick:ee,disabled:g,className:"bg-primary hover:bg-primary/90 text-white px-6 py-2 rounded-lg font-black text-sm flex items-center gap-2 disabled:opacity-60",children:[i.jsx(qo,{className:"w-4 h-4"}),g?"Abrindo...":"Abrir Turno"]})})]})})};function QR(r){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.appendChild(t),t.styleSheet?t.styleSheet.cssText=r:t.appendChild(document.createTextNode(r))}const IR=r=>{switch(r){case"success":return DR;case"info":return PR;case"warning":return RR;case"error":return HR;default:return null}},OR=Array(12).fill(0),MR=({visible:r,className:e})=>Ot.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":r},Ot.createElement("div",{className:"sonner-spinner"},OR.map((t,n)=>Ot.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),DR=Ot.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ot.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),RR=Ot.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Ot.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),PR=Ot.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ot.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),HR=Ot.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ot.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),zR=Ot.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Ot.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Ot.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),qR=()=>{const[r,e]=Ot.useState(document.hidden);return Ot.useEffect(()=>{const t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),r};let yb=1;class KR{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const{message:n,...a}=e,o=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:yb++,c=this.toasts.find(h=>h.id===o),d=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),c?this.toasts=this.toasts.map(h=>h.id===o?(this.publish({...h,...e,id:o,title:n}),{...h,...e,id:o,dismissible:d,title:n}):h):this.addToast({title:n,...a,dismissible:d,id:o}),o},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));const a=Promise.resolve(e instanceof Function?e():e);let o=n!==void 0,c;const d=a.then(async m=>{if(c=["resolve",m],Ot.isValidElement(m))o=!1,this.create({id:n,type:"default",message:m});else if(VR(m)&&!m.ok){o=!1;const b=typeof t.error=="function"?await t.error(`HTTP error! status: ${m.status}`):t.error,B=typeof t.description=="function"?await t.description(`HTTP error! status: ${m.status}`):t.description,k=typeof b=="object"&&!Ot.isValidElement(b)?b:{message:b};this.create({id:n,type:"error",description:B,...k})}else if(m instanceof Error){o=!1;const b=typeof t.error=="function"?await t.error(m):t.error,B=typeof t.description=="function"?await t.description(m):t.description,k=typeof b=="object"&&!Ot.isValidElement(b)?b:{message:b};this.create({id:n,type:"error",description:B,...k})}else if(t.success!==void 0){o=!1;const b=typeof t.success=="function"?await t.success(m):t.success,B=typeof t.description=="function"?await t.description(m):t.description,k=typeof b=="object"&&!Ot.isValidElement(b)?b:{message:b};this.create({id:n,type:"success",description:B,...k})}}).catch(async m=>{if(c=["reject",m],t.error!==void 0){o=!1;const g=typeof t.error=="function"?await t.error(m):t.error,b=typeof t.description=="function"?await t.description(m):t.description,_=typeof g=="object"&&!Ot.isValidElement(g)?g:{message:g};this.create({id:n,type:"error",description:b,..._})}}).finally(()=>{o&&(this.dismiss(n),n=void 0),t.finally==null||t.finally.call(t)}),h=()=>new Promise((m,g)=>d.then(()=>c[0]==="reject"?g(c[1]):m(c[1])).catch(g));return typeof n!="string"&&typeof n!="number"?{unwrap:h}:Object.assign(n,{unwrap:h})},this.custom=(e,t)=>{const n=(t==null?void 0:t.id)||yb++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Xi=new KR,GR=(r,e)=>{const t=(e==null?void 0:e.id)||yb++;return Xi.addToast({title:r,...e,id:t}),t},VR=r=>r&&typeof r=="object"&&"ok"in r&&typeof r.ok=="boolean"&&"status"in r&&typeof r.status=="number",ZR=GR,$R=()=>Xi.toasts,YR=()=>Xi.getActiveToasts();Object.assign(ZR,{success:Xi.success,info:Xi.info,warning:Xi.warning,error:Xi.error,custom:Xi.custom,message:Xi.message,promise:Xi.promise,dismiss:Xi.dismiss,loading:Xi.loading},{getHistory:$R,getToasts:YR});QR("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Sp(r){return r.label!==void 0}const XR=3,JR="24px",WR="16px",A5=4e3,eP=356,tP=14,rP=45,nP=200;function ql(...r){return r.filter(Boolean).join(" ")}function sP(r){const[e,t]=r.split("-"),n=[];return e&&n.push(e),t&&n.push(t),n}const aP=r=>{var e,t,n,a,o,c,d,h,m;const{invert:g,toast:b,unstyled:B,interacting:_,setHeights:k,visibleToasts:j,heights:T,index:C,toasts:I,expanded:F,removeToast:R,defaultRichColors:ae,closeButton:Z,style:me,cancelButtonStyle:ee,actionButtonStyle:H,className:W="",descriptionClassName:K="",duration:$,position:re,gap:le,expandByDefault:ge,classNames:Y,icons:pe,closeButtonAriaLabel:z="Close toast"}=r,[ve,we]=Ot.useState(null),[V,O]=Ot.useState(null),[G,Q]=Ot.useState(!1),[oe,ce]=Ot.useState(!1),[Be,Se]=Ot.useState(!1),[Fe,He]=Ot.useState(!1),[it,Re]=Ot.useState(!1),[_t,It]=Ot.useState(0),[he,ct]=Ot.useState(0),yt=Ot.useRef(b.duration||$||A5),qt=Ot.useRef(null),$e=Ot.useRef(null),Zt=C===0,Qt=C+1<=j,kt=b.type,Kt=b.dismissible!==!1,Jt=b.className||"",mr=b.descriptionClassName||"",Yt=Ot.useMemo(()=>T.findIndex(tt=>tt.toastId===b.id)||0,[T,b.id]),ar=Ot.useMemo(()=>{var tt;return(tt=b.closeButton)!=null?tt:Z},[b.closeButton,Z]),cr=Ot.useMemo(()=>b.duration||$||A5,[b.duration,$]),Ht=Ot.useRef(0),Vt=Ot.useRef(0),Dt=Ot.useRef(0),Ne=Ot.useRef(null),[et,ft]=re.split("-"),Lt=Ot.useMemo(()=>T.reduce((tt,Tt,zt)=>zt>=Yt?tt:tt+Tt.height,0),[T,Yt]),Ut=qR(),Et=b.invert||g,xr=kt==="loading";Vt.current=Ot.useMemo(()=>Yt*le+Lt,[Yt,Lt]),Ot.useEffect(()=>{yt.current=cr},[cr]),Ot.useEffect(()=>{Q(!0)},[]),Ot.useEffect(()=>{const tt=$e.current;if(tt){const Tt=tt.getBoundingClientRect().height;return ct(Tt),k(zt=>[{toastId:b.id,height:Tt,position:b.position},...zt]),()=>k(zt=>zt.filter(Wt=>Wt.toastId!==b.id))}},[k,b.id]),Ot.useLayoutEffect(()=>{if(!G)return;const tt=$e.current,Tt=tt.style.height;tt.style.height="auto";const zt=tt.getBoundingClientRect().height;tt.style.height=Tt,ct(zt),k(Wt=>Wt.find(vt=>vt.toastId===b.id)?Wt.map(vt=>vt.toastId===b.id?{...vt,height:zt}:vt):[{toastId:b.id,height:zt,position:b.position},...Wt])},[G,b.title,b.description,k,b.id,b.jsx,b.action,b.cancel]);const Rt=Ot.useCallback(()=>{ce(!0),It(Vt.current),k(tt=>tt.filter(Tt=>Tt.toastId!==b.id)),setTimeout(()=>{R(b)},nP)},[b,R,k,Vt]);Ot.useEffect(()=>{if(b.promise&&kt==="loading"||b.duration===1/0||b.type==="loading")return;let tt;return F||_||Ut?(()=>{if(Dt.current<Ht.current){const Wt=new Date().getTime()-Ht.current;yt.current=yt.current-Wt}Dt.current=new Date().getTime()})():(()=>{yt.current!==1/0&&(Ht.current=new Date().getTime(),tt=setTimeout(()=>{b.onAutoClose==null||b.onAutoClose.call(b,b),Rt()},yt.current))})(),()=>clearTimeout(tt)},[F,_,b,kt,Ut,Rt]),Ot.useEffect(()=>{b.delete&&(Rt(),b.onDismiss==null||b.onDismiss.call(b,b))},[Rt,b.delete]);function de(){var tt;if(pe!=null&&pe.loading){var Tt;return Ot.createElement("div",{className:ql(Y==null?void 0:Y.loader,b==null||(Tt=b.classNames)==null?void 0:Tt.loader,"sonner-loader"),"data-visible":kt==="loading"},pe.loading)}return Ot.createElement(MR,{className:ql(Y==null?void 0:Y.loader,b==null||(tt=b.classNames)==null?void 0:tt.loader),visible:kt==="loading"})}const Ke=b.icon||(pe==null?void 0:pe[kt])||IR(kt);var Ye,We;return Ot.createElement("li",{tabIndex:0,ref:$e,className:ql(W,Jt,Y==null?void 0:Y.toast,b==null||(e=b.classNames)==null?void 0:e.toast,Y==null?void 0:Y.default,Y==null?void 0:Y[kt],b==null||(t=b.classNames)==null?void 0:t[kt]),"data-sonner-toast":"","data-rich-colors":(Ye=b.richColors)!=null?Ye:ae,"data-styled":!(b.jsx||b.unstyled||B),"data-mounted":G,"data-promise":!!b.promise,"data-swiped":it,"data-removed":oe,"data-visible":Qt,"data-y-position":et,"data-x-position":ft,"data-index":C,"data-front":Zt,"data-swiping":Be,"data-dismissible":Kt,"data-type":kt,"data-invert":Et,"data-swipe-out":Fe,"data-swipe-direction":V,"data-expanded":!!(F||ge&&G),"data-testid":b.testId,style:{"--index":C,"--toasts-before":C,"--z-index":I.length-C,"--offset":`${oe?_t:Vt.current}px`,"--initial-height":ge?"auto":`${he}px`,...me,...b.style},onDragEnd:()=>{Se(!1),we(null),Ne.current=null},onPointerDown:tt=>{tt.button!==2&&(xr||!Kt||(qt.current=new Date,It(Vt.current),tt.target.setPointerCapture(tt.pointerId),tt.target.tagName!=="BUTTON"&&(Se(!0),Ne.current={x:tt.clientX,y:tt.clientY})))},onPointerUp:()=>{var tt,Tt,zt;if(Fe||!Kt)return;Ne.current=null;const Wt=Number(((tt=$e.current)==null?void 0:tt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Lr=Number(((Tt=$e.current)==null?void 0:Tt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),vt=new Date().getTime()-((zt=qt.current)==null?void 0:zt.getTime()),Rr=ve==="x"?Wt:Lr,fr=Math.abs(Rr)/vt;if(Math.abs(Rr)>=rP||fr>.11){It(Vt.current),b.onDismiss==null||b.onDismiss.call(b,b),O(ve==="x"?Wt>0?"right":"left":Lr>0?"down":"up"),Rt(),He(!0);return}else{var pr,Pr;(pr=$e.current)==null||pr.style.setProperty("--swipe-amount-x","0px"),(Pr=$e.current)==null||Pr.style.setProperty("--swipe-amount-y","0px")}Re(!1),Se(!1),we(null)},onPointerMove:tt=>{var Tt,zt,Wt;if(!Ne.current||!Kt||((Tt=window.getSelection())==null?void 0:Tt.toString().length)>0)return;const vt=tt.clientY-Ne.current.y,Rr=tt.clientX-Ne.current.x;var fr;const pr=(fr=r.swipeDirections)!=null?fr:sP(re);!ve&&(Math.abs(Rr)>1||Math.abs(vt)>1)&&we(Math.abs(Rr)>Math.abs(vt)?"x":"y");let Pr={x:0,y:0};const je=Me=>1/(1.5+Math.abs(Me)/20);if(ve==="y"){if(pr.includes("top")||pr.includes("bottom"))if(pr.includes("top")&&vt<0||pr.includes("bottom")&&vt>0)Pr.y=vt;else{const Me=vt*je(vt);Pr.y=Math.abs(Me)<Math.abs(vt)?Me:vt}}else if(ve==="x"&&(pr.includes("left")||pr.includes("right")))if(pr.includes("left")&&Rr<0||pr.includes("right")&&Rr>0)Pr.x=Rr;else{const Me=Rr*je(Rr);Pr.x=Math.abs(Me)<Math.abs(Rr)?Me:Rr}(Math.abs(Pr.x)>0||Math.abs(Pr.y)>0)&&Re(!0),(zt=$e.current)==null||zt.style.setProperty("--swipe-amount-x",`${Pr.x}px`),(Wt=$e.current)==null||Wt.style.setProperty("--swipe-amount-y",`${Pr.y}px`)}},ar&&!b.jsx&&kt!=="loading"?Ot.createElement("button",{"aria-label":z,"data-disabled":xr,"data-close-button":!0,onClick:xr||!Kt?()=>{}:()=>{Rt(),b.onDismiss==null||b.onDismiss.call(b,b)},className:ql(Y==null?void 0:Y.closeButton,b==null||(n=b.classNames)==null?void 0:n.closeButton)},(We=pe==null?void 0:pe.close)!=null?We:zR):null,(kt||b.icon||b.promise)&&b.icon!==null&&((pe==null?void 0:pe[kt])!==null||b.icon)?Ot.createElement("div",{"data-icon":"",className:ql(Y==null?void 0:Y.icon,b==null||(a=b.classNames)==null?void 0:a.icon)},b.promise||b.type==="loading"&&!b.icon?b.icon||de():null,b.type!=="loading"?Ke:null):null,Ot.createElement("div",{"data-content":"",className:ql(Y==null?void 0:Y.content,b==null||(o=b.classNames)==null?void 0:o.content)},Ot.createElement("div",{"data-title":"",className:ql(Y==null?void 0:Y.title,b==null||(c=b.classNames)==null?void 0:c.title)},b.jsx?b.jsx:typeof b.title=="function"?b.title():b.title),b.description?Ot.createElement("div",{"data-description":"",className:ql(K,mr,Y==null?void 0:Y.description,b==null||(d=b.classNames)==null?void 0:d.description)},typeof b.description=="function"?b.description():b.description):null),Ot.isValidElement(b.cancel)?b.cancel:b.cancel&&Sp(b.cancel)?Ot.createElement("button",{"data-button":!0,"data-cancel":!0,style:b.cancelButtonStyle||ee,onClick:tt=>{Sp(b.cancel)&&Kt&&(b.cancel.onClick==null||b.cancel.onClick.call(b.cancel,tt),Rt())},className:ql(Y==null?void 0:Y.cancelButton,b==null||(h=b.classNames)==null?void 0:h.cancelButton)},b.cancel.label):null,Ot.isValidElement(b.action)?b.action:b.action&&Sp(b.action)?Ot.createElement("button",{"data-button":!0,"data-action":!0,style:b.actionButtonStyle||H,onClick:tt=>{Sp(b.action)&&(b.action.onClick==null||b.action.onClick.call(b.action,tt),!tt.defaultPrevented&&Rt())},className:ql(Y==null?void 0:Y.actionButton,b==null||(m=b.classNames)==null?void 0:m.actionButton)},b.action.label):null)};function c5(){if(typeof window>"u"||typeof document>"u")return"ltr";const r=document.documentElement.getAttribute("dir");return r==="auto"||!r?window.getComputedStyle(document.documentElement).direction:r}function iP(r,e){const t={};return[r,e].forEach((n,a)=>{const o=a===1,c=o?"--mobile-offset":"--offset",d=o?WR:JR;function h(m){["top","right","bottom","left"].forEach(g=>{t[`${c}-${g}`]=typeof m=="number"?`${m}px`:m})}typeof n=="number"||typeof n=="string"?h(n):typeof n=="object"?["top","right","bottom","left"].forEach(m=>{n[m]===void 0?t[`${c}-${m}`]=d:t[`${c}-${m}`]=typeof n[m]=="number"?`${n[m]}px`:n[m]}):h(d)}),t}const oP=Ot.forwardRef(function(e,t){const{id:n,invert:a,position:o="bottom-right",hotkey:c=["altKey","KeyT"],expand:d,closeButton:h,className:m,offset:g,mobileOffset:b,theme:B="light",richColors:_,duration:k,style:j,visibleToasts:T=XR,toastOptions:C,dir:I=c5(),gap:F=tP,icons:R,containerAriaLabel:ae="Notifications"}=e,[Z,me]=Ot.useState([]),ee=Ot.useMemo(()=>n?Z.filter(G=>G.toasterId===n):Z.filter(G=>!G.toasterId),[Z,n]),H=Ot.useMemo(()=>Array.from(new Set([o].concat(ee.filter(G=>G.position).map(G=>G.position)))),[ee,o]),[W,K]=Ot.useState([]),[$,re]=Ot.useState(!1),[le,ge]=Ot.useState(!1),[Y,pe]=Ot.useState(B!=="system"?B:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),z=Ot.useRef(null),ve=c.join("+").replace(/Key/g,"").replace(/Digit/g,""),we=Ot.useRef(null),V=Ot.useRef(!1),O=Ot.useCallback(G=>{me(Q=>{var oe;return(oe=Q.find(ce=>ce.id===G.id))!=null&&oe.delete||Xi.dismiss(G.id),Q.filter(({id:ce})=>ce!==G.id)})},[]);return Ot.useEffect(()=>Xi.subscribe(G=>{if(G.dismiss){requestAnimationFrame(()=>{me(Q=>Q.map(oe=>oe.id===G.id?{...oe,delete:!0}:oe))});return}setTimeout(()=>{B3.flushSync(()=>{me(Q=>{const oe=Q.findIndex(ce=>ce.id===G.id);return oe!==-1?[...Q.slice(0,oe),{...Q[oe],...G},...Q.slice(oe+1)]:[G,...Q]})})})}),[Z]),Ot.useEffect(()=>{if(B!=="system"){pe(B);return}if(B==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?pe("dark"):pe("light")),typeof window>"u")return;const G=window.matchMedia("(prefers-color-scheme: dark)");try{G.addEventListener("change",({matches:Q})=>{pe(Q?"dark":"light")})}catch{G.addListener(({matches:oe})=>{try{pe(oe?"dark":"light")}catch(ce){console.error(ce)}})}},[B]),Ot.useEffect(()=>{Z.length<=1&&re(!1)},[Z]),Ot.useEffect(()=>{const G=Q=>{var oe;if(c.every(Se=>Q[Se]||Q.code===Se)){var Be;re(!0),(Be=z.current)==null||Be.focus()}Q.code==="Escape"&&(document.activeElement===z.current||(oe=z.current)!=null&&oe.contains(document.activeElement))&&re(!1)};return document.addEventListener("keydown",G),()=>document.removeEventListener("keydown",G)},[c]),Ot.useEffect(()=>{if(z.current)return()=>{we.current&&(we.current.focus({preventScroll:!0}),we.current=null,V.current=!1)}},[z.current]),Ot.createElement("section",{ref:t,"aria-label":`${ae} ${ve}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},H.map((G,Q)=>{var oe;const[ce,Be]=G.split("-");return ee.length?Ot.createElement("ol",{key:G,dir:I==="auto"?c5():I,tabIndex:-1,ref:z,className:m,"data-sonner-toaster":!0,"data-sonner-theme":Y,"data-y-position":ce,"data-x-position":Be,style:{"--front-toast-height":`${((oe=W[0])==null?void 0:oe.height)||0}px`,"--width":`${eP}px`,"--gap":`${F}px`,...j,...iP(g,b)},onBlur:Se=>{V.current&&!Se.currentTarget.contains(Se.relatedTarget)&&(V.current=!1,we.current&&(we.current.focus({preventScroll:!0}),we.current=null))},onFocus:Se=>{Se.target instanceof HTMLElement&&Se.target.dataset.dismissible==="false"||V.current||(V.current=!0,we.current=Se.relatedTarget)},onMouseEnter:()=>re(!0),onMouseMove:()=>re(!0),onMouseLeave:()=>{le||re(!1)},onDragEnd:()=>re(!1),onPointerDown:Se=>{Se.target instanceof HTMLElement&&Se.target.dataset.dismissible==="false"||ge(!0)},onPointerUp:()=>ge(!1)},ee.filter(Se=>!Se.position&&Q===0||Se.position===G).map((Se,Fe)=>{var He,it;return Ot.createElement(aP,{key:Se.id,icons:R,index:Fe,toast:Se,defaultRichColors:_,duration:(He=C==null?void 0:C.duration)!=null?He:k,className:C==null?void 0:C.className,descriptionClassName:C==null?void 0:C.descriptionClassName,invert:a,visibleToasts:T,closeButton:(it=C==null?void 0:C.closeButton)!=null?it:h,interacting:le,position:G,style:C==null?void 0:C.style,unstyled:C==null?void 0:C.unstyled,classNames:C==null?void 0:C.classNames,cancelButtonStyle:C==null?void 0:C.cancelButtonStyle,actionButtonStyle:C==null?void 0:C.actionButtonStyle,closeButtonAriaLabel:C==null?void 0:C.closeButtonAriaLabel,removeToast:O,toasts:ee.filter(Re=>Re.position==Se.position),heights:W.filter(Re=>Re.position==Se.position),setHeights:K,expandByDefault:d,gap:F,expanded:$,swipeDirections:e.swipeDirections})})):null}))}),lP=({currentUser:r,children:e})=>{const{activeShift:t,loading:n}=jm();return r.cargo==="ENTREGADOR"||r.cargo==="GERENTE"?i.jsx(i.Fragment,{children:e}):i.jsxs(i.Fragment,{children:[e,n&&i.jsx("div",{className:"fixed inset-0 z-[70] bg-black/70 flex items-center justify-center text-white text-sm font-bold",children:"Carregando turno..."}),!n&&!t&&i.jsx(FR,{user:r})]})},AP=()=>{const[r,e]=q.useState(null),[t,n]=q.useState(null),[a,o]=q.useState(""),[c,d]=q.useState([]),[h,m]=q.useState(()=>localStorage.getItem("gp_theme")||"light"),g=null,b=.1;q.useEffect(()=>{(async()=>{console.log("Iniciando o sistema...");const F=localStorage.getItem("gp_session");if(F)try{const R=JSON.parse(F);e(R)}catch(R){console.error("Session parse error",R),localStorage.removeItem("gp_session")}})()},[]),q.useEffect(()=>{},[]),q.useEffect(()=>{const I=Bh.find(R=>R.id===h)||Bh[0],F=document.documentElement;F.style.setProperty("--app-bg",I.colors.appBg),F.style.setProperty("--surface-bg",I.colors.surfaceBg),F.style.setProperty("--text-main",I.colors.textMain),F.style.setProperty("--text-muted",I.colors.textMuted),F.style.setProperty("--border-color",I.colors.border),F.style.setProperty("--primary",I.colors.primary),F.style.setProperty("--app-pattern",I.pattern??"none"),F.style.setProperty("--bg-image","none"),F.style.setProperty("--bg-opacity",String(b)),localStorage.setItem("gp_theme",h),localStorage.removeItem("gp_bg_image"),localStorage.removeItem("gp_bg_opacity")},[h,g,b]);const B=q.useMemo(()=>r?r.cargo==="GERENTE"||r.username==="admin"?zc:zc.filter(I=>{var F;return(F=r.permissoes)==null?void 0:F.includes(I.id)}):[],[r]),_=()=>{const I=a.trim().toLowerCase();if(!I){d([]);return}const F=B.filter(R=>R.label.toLowerCase().includes(I)||R.id.toLowerCase().includes(I)).map(R=>R.id);d(F)},k=I=>{I.key==="Enter"&&(I.preventDefault(),_())},j=()=>{localStorage.removeItem("gp_session"),e(null),n(null)},T=I=>{switch(I){case"/stock":return"estoque";case"/finance":return"financeiro";case"/orders":return"nova-os";default:return null}};if(q.useEffect(()=>{const I=F=>{const R=F.detail;if(!R)return;const ae=T(R);ae&&n(ae)};return window.addEventListener("gp:navigate",I),()=>window.removeEventListener("gp:navigate",I)},[]),!r)return i.jsx(ER,{onLoginSuccess:I=>{e(I),localStorage.setItem("gp_session",JSON.stringify(I))}});if(r.cargo==="ENTREGADOR")return i.jsx(kR,{currentUser:r,onLogout:j});const C=()=>{const F=["dispatch","sales-modalities","transaction-modalities","delivery-settings"].includes(t||"")||B.some(R=>R.id===t);if(t&&!F)return null;switch(t){case"dispatch":return i.jsx(vR,{onClose:()=>n(null)});case"nova-os":return i.jsx(dI,{onClose:()=>n(null),currentUser:r});case"clientes":return i.jsx(kI,{onClose:()=>n(null),userRole:r.cargo==="GERENTE"?"ADMIN":"COLABORADOR"});case"painel":return i.jsx(hI,{onClose:()=>n(null),onNavigate:R=>n(R)});case"resumo":return i.jsx(fI,{onClose:()=>n(null)});case"financeiro":return i.jsx(_I,{onClose:()=>n(null),onNavigate:R=>n(R)});case"sales-modalities":return i.jsx(EI,{onClose:()=>n(null)});case"transaction-modalities":return i.jsx(SI,{onClose:()=>n(null)});case"fechar-caixa":return i.jsx(LI,{onClose:()=>n(null)});case"auditoria":return i.jsx(p8,{onClose:()=>n(null)});case"rel-entregas":return i.jsx(nR,{onClose:()=>n(null)});case"delivery-settings":return i.jsx(bR,{onClose:()=>n(null)});case"alertas":return i.jsx(NR,{onClose:()=>n(null)});case"colaboradores":return i.jsx(CR,{onClose:()=>n(null)});case"depositos-estoque":return i.jsx(wR,{onClose:()=>n(null),currentUser:r});case"temas":return i.jsx(m8,{onClose:()=>n(null),currentTheme:h,onThemeChange:m,backgroundImage:g,backgroundOpacity:b,onBackgroundImageChange:async R=>{console.warn("Background customizado desabilitado na v3.0")},onBackgroundOpacityChange:R=>{console.warn("Opacidade desabilitada na v3.0")}});default:return null}};return i.jsxs(wI,{currentUser:r,children:[i.jsx(lP,{currentUser:r,children:i.jsxs("div",{className:"min-h-screen text-txt-main flex flex-col transition-colors duration-300",children:[i.jsxs("header",{className:"bg-surface border-b border-bdr p-6 shadow-sm flex justify-between items-center transition-colors duration-300",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl font-black tracking-tighter flex items-center gap-2 text-red-600",children:[i.jsx(m5,{className:"w-8 h-8 text-red-600"}),"GS REAL"]}),i.jsx("p",{className:"text-txt-muted text-xs font-medium mt-1",children:"SISTEMA INTEGRADO DE GESTO"})]}),i.jsxs("div",{className:"flex items-center gap-6",children:[(r.cargo==="GERENTE"||r.cargo==="ATENDENTE")&&i.jsx("button",{onClick:()=>n("dispatch"),className:"hidden md:flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-bold text-xs uppercase tracking-wide transition-transform active:scale-95 shadow-md",children:"Despacho de Entregas"}),i.jsxs("div",{className:"text-right hidden sm:block",children:[i.jsx("p",{className:"text-sm font-bold text-txt-main",children:r.nome}),i.jsxs("p",{className:"text-[10px] text-primary font-bold uppercase tracking-widest",children:[r.cargo,"  ",r.depositoId]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-primary border-2 border-surface flex items-center justify-center font-bold text-white shadow-lg",children:r.nome.substring(0,2).toUpperCase()}),i.jsx("button",{onClick:j,className:"p-2 text-txt-muted hover:text-red-500 hover:bg-red-50 rounded-full transition-colors",title:"Sair",children:i.jsx(y5,{className:"w-5 h-5"})})]})]})]}),i.jsx("main",{className:"flex-1 p-6 md:p-12",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"mb-10 flex flex-col md:flex-row md:items-end justify-between gap-6",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-4xl font-black text-txt-main tracking-tight mb-2",children:"Painel Operacional"}),i.jsx("p",{className:"text-txt-muted font-medium",children:"Selecione uma funcionalidade para iniciar o trabalho"})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full md:w-auto md:min-w-[360px]",children:[i.jsx("div",{className:"relative flex-1",children:i.jsx("input",{type:"text",value:a,onChange:I=>o(I.target.value),onKeyDown:k,placeholder:"Buscar funo do sistema e pressionar Enter",className:"w-full bg-surface border-2 border-bdr rounded-xl px-4 py-3 text-sm font-bold text-txt-main placeholder:text-txt-muted focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none"})}),i.jsx("button",{onClick:_,className:"px-4 py-3 bg-primary text-white font-black text-xs uppercase tracking-widest rounded-xl shadow-md hover:bg-primary/90 active:scale-95 transition-all",children:"Buscar"}),c.length>0&&i.jsx("button",{onClick:()=>{d([]),o("")},className:"px-3 py-3 bg-surface border border-bdr text-txt-muted hover:text-red-500 hover:border-red-300 rounded-xl text-xs font-black uppercase tracking-widest transition-all",children:"Limpar"})]})]}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6",children:B.map(I=>i.jsx(y3,{item:I,onClick:n,highlight:c.includes(I.id)},I.id))})]})}),i.jsx("footer",{className:"bg-surface border-t border-bdr p-4 text-center text-txt-muted text-xs font-medium transition-colors duration-300",children:" 2025 Gs Real - Sistema de Gesto Inteligente"}),C(),i.jsx(TR,{})]})}),i.jsx(oP,{richColors:!0,closeButton:!0,position:"top-right"})]})},gC=document.getElementById("root");if(!gC)throw new Error("Could not find root element to mount to");const cP=I4.createRoot(gC);cP.render(i.jsx(Ot.StrictMode,{children:i.jsx(AP,{})}));export{Rn as _,dP as c,Rh as g};
